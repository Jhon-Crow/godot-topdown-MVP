[07:18:59] [INFO] ============================================================
[07:18:59] [INFO] GAME LOG STARTED
[07:18:59] [INFO] ============================================================
[07:18:59] [INFO] Timestamp: 2026-02-07T07:18:59
[07:18:59] [INFO] Log file: I:/Рабочий стол/godot old version game/99/game_log_20260207_071859.txt
[07:18:59] [INFO] Executable: I:/Рабочий стол/godot old version game/99/Godot-Top-Down-Template.exe
[07:18:59] [INFO] OS: Windows
[07:18:59] [INFO] Debug build: false
[07:18:59] [INFO] Engine version: 4.3-stable (official)
[07:18:59] [INFO] Project: Godot Top-Down Template
[07:18:59] [INFO] ------------------------------------------------------------
[07:18:59] [INFO] [GameManager] GameManager ready
[07:18:59] [INFO] [ScoreManager] ScoreManager ready
[07:18:59] [INFO] [SoundPropagation] SoundPropagation autoload initialized
[07:18:59] [INFO] [ImpactEffects] Scenes loaded: DustEffect, BloodEffect, SparksEffect, BloodDecal
[07:18:59] [INFO] [ImpactEffects] ImpactEffectsManager ready - FULL VERSION with blood effects enabled
[07:18:59] [INFO] [ImpactEffects] Starting particle shader warmup (Issue #343 fix)...
[07:18:59] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[07:18:59] [INFO] [PenultimateHit] Saturation shader loaded successfully
[07:18:59] [INFO] [PenultimateHit] Starting shader warmup (Issue #343 fix)...
[07:18:59] [INFO] [PenultimateHit] PenultimateHitEffectsManager ready - Configuration:
[07:18:59] [INFO] [PenultimateHit]   Time scale: 0.10 (10x slowdown)
[07:18:59] [INFO] [PenultimateHit]   Saturation boost: 2.0 (3.0x)
[07:18:59] [INFO] [PenultimateHit]   Contrast boost: 1.0 (2.0x)
[07:18:59] [INFO] [PenultimateHit]   Effect duration: 3.0 real seconds
[07:18:59] [INFO] [LastChance] Resetting all effects (scene change detected)
[07:18:59] [INFO] [LastChance] Last chance shader loaded successfully
[07:18:59] [INFO] [LastChance] Starting shader warmup (Issue #343 fix)...
[07:18:59] [INFO] [LastChance] LastChanceEffectsManager ready - Configuration:
[07:18:59] [INFO] [LastChance]   Freeze duration: 6.0 real seconds
[07:18:59] [INFO] [LastChance]   Sepia intensity: 0.70
[07:18:59] [INFO] [LastChance]   Brightness: 0.60
[07:18:59] [INFO] [GrenadeManager] Loaded grenade scene: res://scenes/projectiles/FlashbangGrenade.tscn
[07:18:59] [INFO] [GrenadeManager] Loaded grenade scene: res://scenes/projectiles/FragGrenade.tscn
[07:18:59] [INFO] [GrenadeManager] Loaded grenade scene: res://scenes/projectiles/DefensiveGrenade.tscn
[07:18:59] [INFO] [ExperimentalSettings] ExperimentalSettings initialized - FOV enabled: true, Complex grenade throwing: false, AI prediction: true
[07:18:59] [INFO] [CinemaEffects] CinemaEffectsManager initializing (v5.3 - overlay approach with simplified death circle)...
[07:18:59] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[07:18:59] [INFO] [CinemaEffects] Created effects layer at layer 99
[07:18:59] [INFO] [CinemaEffects] Cinema shader loaded successfully (v5.0 - no screen_texture)
[07:18:59] [INFO] [CinemaEffects] Starting cinema shader warmup (Issue #343 fix)...
[07:18:59] [INFO] [CinemaEffects] Cinema film effect initialized (v5.3) - Configuration:
[07:18:59] [INFO] [CinemaEffects]   Approach: Overlay-based (no screen_texture)
[07:18:59] [INFO] [CinemaEffects]   Grain intensity: 0.15
[07:18:59] [INFO] [CinemaEffects]   Warm tint: 0.12 intensity
[07:18:59] [INFO] [CinemaEffects]   Sunny effect: 0.08 intensity
[07:18:59] [INFO] [CinemaEffects]   Vignette: 0.25 intensity
[07:18:59] [INFO] [CinemaEffects]   Film defects: 1.5% probability
[07:18:59] [INFO] [CinemaEffects]   White specks: 0.70 intensity, 4.0% probability
[07:18:59] [INFO] [CinemaEffects]   Death effects: cigarette burn + expanding spots + end of reel circle (160px, blinks 2x)
[07:18:59] [INFO] [CinemaEffects] Enabling effect after 1 frame(s)...
[07:18:59] [INFO] [GrenadeTimerHelper] Autoload ready
[07:18:59] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[07:18:59] [INFO] [PowerFantasy] Saturation shader loaded successfully
[07:18:59] [INFO] [PowerFantasy] PowerFantasyEffectsManager ready - Configuration:
[07:18:59] [INFO] [PowerFantasy]   Kill effect duration: 300ms
[07:18:59] [INFO] [PowerFantasy]   Grenade effect duration: 2000ms (2.0s)
[07:18:59] [INFO] [ReplayManager] ReplayManager ready (C# version loaded and _Ready called)
[07:18:59] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:18:59] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[07:18:59] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[07:18:59] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[07:18:59] [ENEMY] [Enemy1] Death animation component initialized
[07:18:59] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:18:59] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[07:18:59] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[07:18:59] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[07:18:59] [ENEMY] [Enemy2] Death animation component initialized
[07:18:59] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:18:59] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[07:18:59] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[07:18:59] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[07:18:59] [ENEMY] [Enemy3] Death animation component initialized
[07:18:59] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:18:59] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[07:18:59] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[07:18:59] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[07:18:59] [ENEMY] [Enemy4] Death animation component initialized
[07:18:59] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:18:59] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[07:18:59] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[07:18:59] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[07:18:59] [ENEMY] [Enemy5] Death animation component initialized
[07:18:59] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:18:59] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[07:18:59] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[07:18:59] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[07:18:59] [ENEMY] [Enemy6] Death animation component initialized
[07:18:59] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:18:59] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[07:18:59] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[07:18:59] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[07:18:59] [ENEMY] [Enemy7] Death animation component initialized
[07:18:59] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:18:59] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[07:18:59] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[07:18:59] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[07:18:59] [ENEMY] [Enemy8] Death animation component initialized
[07:18:59] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:18:59] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[07:18:59] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[07:18:59] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[07:18:59] [ENEMY] [Enemy9] Death animation component initialized
[07:18:59] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:18:59] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[07:18:59] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[07:18:59] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[07:18:59] [ENEMY] [Enemy10] Death animation component initialized
[07:18:59] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:18:59] [INFO] [BloodyFeet:Player] Footprint scene loaded
[07:18:59] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[07:18:59] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[07:18:59] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[07:18:59] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[07:18:59] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[07:18:59] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[07:18:59] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[07:18:59] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[07:18:59] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[07:18:59] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[07:18:59] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[07:18:59] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[07:18:59] [INFO] [BloodDecal] Blood puddle created at (640, 360) (added to group)
[07:18:59] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[07:18:59] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[07:18:59] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[07:18:59] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[07:18:59] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[07:18:59] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[07:18:59] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[07:18:59] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[07:18:59] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[07:18:59] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[07:18:59] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[07:18:59] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[07:18:59] [INFO] [ScoreManager] Level started with 10 enemies
[07:18:59] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[07:18:59] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[07:18:59] [INFO] [ReplayManager] Replay data cleared
[07:18:59] [INFO] [BuildingLevel] Previous replay data cleared
[07:18:59] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[07:18:59] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[07:18:59] [INFO] [ReplayManager] Level: BuildingLevel
[07:18:59] [INFO] [ReplayManager] Player: Player (valid: True)
[07:18:59] [INFO] [ReplayManager] Enemies count: 10
[07:18:59] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[07:18:59] [INFO] [ReplayManager]   Enemy 0: Enemy1
[07:18:59] [INFO] [ReplayManager]   Enemy 1: Enemy2
[07:18:59] [INFO] [ReplayManager]   Enemy 2: Enemy3
[07:18:59] [INFO] [ReplayManager]   Enemy 3: Enemy4
[07:18:59] [INFO] [ReplayManager]   Enemy 4: Enemy5
[07:18:59] [INFO] [ReplayManager]   Enemy 5: Enemy6
[07:18:59] [INFO] [ReplayManager]   Enemy 6: Enemy7
[07:18:59] [INFO] [ReplayManager]   Enemy 7: Enemy8
[07:18:59] [INFO] [ReplayManager]   Enemy 8: Enemy9
[07:18:59] [INFO] [ReplayManager]   Enemy 9: Enemy10
[07:18:59] [INFO] [BuildingLevel] Replay recording started successfully
[07:18:59] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[07:18:59] [INFO] [CinemaEffects] Found player node: Player
[07:18:59] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[07:18:59] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[07:18:59] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 1)
[07:18:59] [ENEMY] [Enemy1] Registered as sound listener
[07:18:59] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 4, behavior: GUARD
[07:18:59] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[07:18:59] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 2)
[07:18:59] [ENEMY] [Enemy2] Registered as sound listener
[07:18:59] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 4, behavior: GUARD
[07:18:59] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[07:18:59] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 3)
[07:18:59] [ENEMY] [Enemy3] Registered as sound listener
[07:18:59] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 2, behavior: GUARD
[07:18:59] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[07:18:59] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 4)
[07:18:59] [ENEMY] [Enemy4] Registered as sound listener
[07:18:59] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 4, behavior: GUARD
[07:18:59] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[07:18:59] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 5)
[07:18:59] [ENEMY] [Enemy5] Registered as sound listener
[07:18:59] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 2, behavior: GUARD
[07:18:59] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[07:18:59] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 6)
[07:18:59] [ENEMY] [Enemy6] Registered as sound listener
[07:18:59] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 3, behavior: GUARD
[07:18:59] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[07:18:59] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 7)
[07:18:59] [ENEMY] [Enemy7] Registered as sound listener
[07:18:59] [ENEMY] [Enemy7] Spawned at (1606.114, 893.8859), hp: 4, behavior: PATROL
[07:18:59] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[07:18:59] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 8)
[07:18:59] [ENEMY] [Enemy8] Registered as sound listener
[07:18:59] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 4, behavior: GUARD
[07:18:59] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[07:18:59] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 9)
[07:18:59] [ENEMY] [Enemy9] Registered as sound listener
[07:18:59] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 3, behavior: GUARD
[07:18:59] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[07:18:59] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 10)
[07:18:59] [ENEMY] [Enemy10] Registered as sound listener
[07:18:59] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 4, behavior: PATROL
[07:18:59] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[07:18:59] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[07:18:59] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[07:18:59] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=281.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[07:18:59] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[07:18:59] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[07:18:59] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[07:18:59] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[07:18:59] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[07:18:59] [INFO] [Player] Detecting weapon pose (frame 3)...
[07:18:59] [INFO] [Player] Detected weapon: Rifle (default pose)
[07:18:59] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[07:18:59] [INFO] [PenultimateHit] Shader warmup complete in 361 ms
[07:18:59] [INFO] [LastChance] Shader warmup complete in 360 ms
[07:18:59] [INFO] [CinemaEffects] Cinema shader warmup complete in 309 ms
[07:18:59] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[07:18:59] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[07:18:59] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[07:18:59] [INFO] [LastChance] Found player: Player
[07:18:59] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[07:18:59] [INFO] [LastChance] Connected to player Damaged signal (C#)
[07:18:59] [INFO] [LastChance] Connected to player Died signal (C#)
[07:18:59] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[07:19:00] [INFO] [ImpactEffects] Particle shader warmup complete: 7 effects warmed up in 658 ms
[07:19:00] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[07:19:01] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[07:19:02] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[07:19:02] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[07:19:02] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[07:19:02] [INFO] [LastChance] Resetting all effects (scene change detected)
[07:19:02] [INFO] [CinemaEffects] Scene changed to: TestTier
[07:19:02] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[07:19:02] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:19:02] [INFO] [BloodyFeet:Player] Footprint scene loaded
[07:19:02] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[07:19:02] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[07:19:02] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[07:19:02] [INFO] [Player.Grenade] Tutorial level detected - infinite grenades enabled
[07:19:02] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[07:19:02] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[07:19:02] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[07:19:02] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[07:19:02] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[07:19:02] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[07:19:02] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 3/3, Health: 3/4
[07:19:02] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[07:19:02] [INFO] [CinemaEffects] Found player node: Player
[07:19:02] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[07:19:02] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[07:19:02] [INFO] [Player] Detecting weapon pose (frame 3)...
[07:19:02] [INFO] [Player] Detected weapon: Rifle (default pose)
[07:19:02] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[07:19:02] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[07:19:02] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[07:19:02] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[07:19:02] [INFO] [LastChance] Found player: Player
[07:19:02] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[07:19:02] [INFO] [LastChance] Connected to player Damaged signal (C#)
[07:19:02] [INFO] [LastChance] Connected to player Died signal (C#)
[07:19:02] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[07:19:02] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=False, enemies=10
[07:19:03] [INFO] [PauseMenu] Armory button pressed
[07:19:03] [INFO] [PauseMenu] Creating new armory menu instance
[07:19:03] [INFO] [PauseMenu] armory_menu_scene resource path: res://scenes/ui/ArmoryMenu.tscn
[07:19:03] [INFO] [PauseMenu] Instance created, class: CanvasLayer, name: ArmoryMenu
[07:19:03] [INFO] [PauseMenu] Script attached: res://scripts/ui/armory_menu.gd
[07:19:03] [INFO] [PauseMenu] back_pressed signal exists on instance
[07:19:03] [INFO] [PauseMenu] back_pressed signal connected
[07:19:03] [INFO] [PauseMenu] Armory menu instance added as child, is_inside_tree: true
[07:19:03] [INFO] [PauseMenu] _populate_weapon_grid method exists
[07:19:03] [INFO] [ReplayManager] Recording frame 240 (4,0s): player_valid=False, enemies=10
[07:19:04] [INFO] [ReplayManager] Recording frame 300 (5,1s): player_valid=False, enemies=10
[07:19:05] [INFO] [GameManager] Weapon selected: mini_uzi
[07:19:05] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[07:19:05] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[07:19:05] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[07:19:05] [INFO] [LastChance] Resetting all effects (scene change detected)
[07:19:05] [INFO] [CinemaEffects] Scene changed to: TestTier
[07:19:05] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[07:19:05] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:19:05] [INFO] [BloodyFeet:Player] Footprint scene loaded
[07:19:05] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[07:19:05] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[07:19:05] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[07:19:05] [INFO] [Player.Grenade] Tutorial level detected - infinite grenades enabled
[07:19:05] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[07:19:05] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[07:19:05] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[07:19:05] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[07:19:05] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[07:19:05] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[07:19:05] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 3/3, Health: 3/4
[07:19:05] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[07:19:05] [INFO] [CinemaEffects] Found player node: Player
[07:19:05] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[07:19:05] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[07:19:05] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[07:19:05] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[07:19:05] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[07:19:05] [INFO] [LastChance] Found player: Player
[07:19:05] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[07:19:05] [INFO] [LastChance] Connected to player Damaged signal (C#)
[07:19:05] [INFO] [LastChance] Connected to player Died signal (C#)
[07:19:05] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[07:19:05] [INFO] [Player] Detecting weapon pose (frame 3)...
[07:19:05] [INFO] [Player] Detected weapon: Mini UZI (SMG pose)
[07:19:05] [INFO] [Player] Applied SMG arm pose: Left=(14, 6), Right=(1, 6)
[07:19:05] [INFO] [ReplayManager] Recording frame 360 (6,1s): player_valid=False, enemies=10
[07:19:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 360), source=PLAYER (MiniUzi), range=1469, listeners=10
[07:19:06] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[07:19:06] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:19:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 360), source=PLAYER (MiniUzi), range=1469, listeners=0
[07:19:06] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:19:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 360), source=PLAYER (MiniUzi), range=1469, listeners=0
[07:19:06] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:19:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 360), source=PLAYER (MiniUzi), range=1469, listeners=0
[07:19:06] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:19:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 360), source=PLAYER (MiniUzi), range=1469, listeners=0
[07:19:06] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:19:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 360), source=PLAYER (MiniUzi), range=1469, listeners=0
[07:19:06] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:19:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 360), shooter_id=119822878949, bullet_pos=(484.9862, 356.9489)
[07:19:06] [INFO] [Bullet] Using shooter_position, distance=335.000061035156
[07:19:06] [INFO] [Bullet] Distance to wall: 335.000061035156 (22.8107701666776% of viewport)
[07:19:06] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:19:06] [INFO] [Bullet] Caliber cannot penetrate walls
[07:19:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 360), source=PLAYER (MiniUzi), range=1469, listeners=0
[07:19:06] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:19:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 360), shooter_id=119822878949, bullet_pos=(484.9836, 356.6866)
[07:19:06] [INFO] [Bullet] Using shooter_position, distance=335.000030517578
[07:19:06] [INFO] [Bullet] Distance to wall: 335.000030517578 (22.8107680886796% of viewport)
[07:19:06] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:19:06] [INFO] [Bullet] Caliber cannot penetrate walls
[07:19:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 360), source=PLAYER (MiniUzi), range=1469, listeners=0
[07:19:06] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:19:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 360), shooter_id=119822878949, bullet_pos=(484.5528, 342.6979)
[07:19:06] [INFO] [Bullet] Using shooter_position, distance=334.999908447266
[07:19:06] [INFO] [Bullet] Distance to wall: 334.999908447266 (22.8107597766875% of viewport)
[07:19:06] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:19:06] [INFO] [Bullet] Caliber cannot penetrate walls
[07:19:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 360), source=PLAYER (MiniUzi), range=1469, listeners=0
[07:19:06] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:19:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 360), shooter_id=119822878949, bullet_pos=(355.7781, 422.2924)
[07:19:06] [INFO] [Bullet] Using shooter_position, distance=214.999969482422
[07:19:06] [INFO] [Bullet] Distance to wall: 214.999969482422 (14.6397432721409% of viewport)
[07:19:06] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:19:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 360), shooter_id=119822878949, bullet_pos=(313.3039, 422.9034)
[07:19:06] [INFO] [Bullet] Using shooter_position, distance=174.999984741211
[07:19:06] [INFO] [Bullet] Distance to wall: 174.999984741211 (11.9160707576257% of viewport)
[07:19:06] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:19:06] [INFO] [Bullet] Caliber cannot penetrate walls
[07:19:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 360), shooter_id=119822878949, bullet_pos=(484.0616, 385.0555)
[07:19:06] [INFO] [Bullet] Using shooter_position, distance=334.999877929688
[07:19:06] [INFO] [Bullet] Distance to wall: 334.999877929688 (22.8107576986895% of viewport)
[07:19:06] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:19:06] [INFO] [Bullet] Caliber cannot penetrate walls
[07:19:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 360), shooter_id=119822878949, bullet_pos=(487.6036, 372.2622)
[07:19:06] [INFO] [Bullet] Using shooter_position, distance=337.826263427734
[07:19:06] [INFO] [Bullet] Distance to wall: 337.826263427734 (23.0032114845162% of viewport)
[07:19:06] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:19:06] [INFO] [Bullet] Caliber cannot penetrate walls
[07:19:06] [INFO] [ReplayManager] Recording frame 420 (7,1s): player_valid=False, enemies=10
[07:19:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 360), source=PLAYER (MiniUzi), range=1469, listeners=0
[07:19:07] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:19:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 360), source=PLAYER (MiniUzi), range=1469, listeners=0
[07:19:07] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:19:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 360), source=PLAYER (MiniUzi), range=1469, listeners=0
[07:19:07] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:19:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 360), shooter_id=119822878949, bullet_pos=(484.4868, 341.4655)
[07:19:07] [INFO] [Bullet] Using shooter_position, distance=334.999938964844
[07:19:07] [INFO] [Bullet] Distance to wall: 334.999938964844 (22.8107618546855% of viewport)
[07:19:07] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:19:07] [INFO] [Bullet] Caliber cannot penetrate walls
[07:19:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 360), shooter_id=119822878949, bullet_pos=(484.3722, 339.498)
[07:19:07] [INFO] [Bullet] Using shooter_position, distance=335.000152587891
[07:19:07] [INFO] [Bullet] Distance to wall: 335.000152587891 (22.8107764006716% of viewport)
[07:19:07] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:19:07] [INFO] [Bullet] Caliber cannot penetrate walls
[07:19:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 360), shooter_id=119822878949, bullet_pos=(484.9663, 355.2538)
[07:19:07] [INFO] [Bullet] Using shooter_position, distance=334.999908447266
[07:19:07] [INFO] [Bullet] Distance to wall: 334.999908447266 (22.8107597766875% of viewport)
[07:19:07] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:19:07] [INFO] [Bullet] Caliber cannot penetrate walls
[07:19:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 360), shooter_id=119822878949, bullet_pos=(1814.93, 176.6001)
[07:19:07] [INFO] [Bullet] Using shooter_position, distance=1675.00073242188
[07:19:07] [INFO] [Bullet] Distance to wall: 1675.00073242188 (114.05387992536% of viewport)
[07:19:07] [INFO] [Bullet] Distance-based penetration chance: 27.189224014928%
[07:19:07] [INFO] [Bullet] Caliber cannot penetrate walls
[07:19:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 360), shooter_id=119822878949, bullet_pos=(1816.259, 189.091)
[07:19:07] [INFO] [Bullet] Using shooter_position, distance=1675.00109863281
[07:19:07] [INFO] [Bullet] Distance to wall: 1675.00109863281 (114.053904861336% of viewport)
[07:19:07] [INFO] [Bullet] Distance-based penetration chance: 27.1892190277328%
[07:19:07] [INFO] [Bullet] Penetration failed (distance roll)
[07:19:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 360), source=PLAYER (MiniUzi), range=1469, listeners=0
[07:19:07] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:19:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 360), shooter_id=119822878949, bullet_pos=(1816.589, 192.3727)
[07:19:07] [INFO] [Bullet] Using shooter_position, distance=1674.99780273438
[07:19:07] [INFO] [Bullet] Distance to wall: 1674.99780273438 (114.053680437551% of viewport)
[07:19:07] [INFO] [Bullet] Distance-based penetration chance: 27.1892639124898%
[07:19:07] [INFO] [Bullet] Penetration failed (distance roll)
[07:19:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 360), source=PLAYER (MiniUzi), range=1469, listeners=0
[07:19:07] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:19:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 360), source=PLAYER (MiniUzi), range=1469, listeners=0
[07:19:07] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:19:07] [INFO] [ReplayManager] Recording frame 480 (8,1s): player_valid=False, enemies=10
[07:19:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 360), shooter_id=119822878949, bullet_pos=(484.4873, 341.4742)
[07:19:07] [INFO] [Bullet] Using shooter_position, distance=334.999938964844
[07:19:07] [INFO] [Bullet] Distance to wall: 334.999938964844 (22.8107618546855% of viewport)
[07:19:07] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:19:07] [INFO] [Bullet] Caliber cannot penetrate walls
[07:19:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 360), shooter_id=119822878949, bullet_pos=(483.3756, 327.0511)
[07:19:07] [INFO] [Bullet] Using shooter_position, distance=334.999847412109
[07:19:07] [INFO] [Bullet] Distance to wall: 334.999847412109 (22.8107556206915% of viewport)
[07:19:07] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:19:07] [INFO] [Bullet] Caliber cannot penetrate walls
[07:19:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 360), shooter_id=119822878949, bullet_pos=(484.6631, 344.9803)
[07:19:07] [INFO] [Bullet] Using shooter_position, distance=335.000030517578
[07:19:07] [INFO] [Bullet] Distance to wall: 335.000030517578 (22.8107680886796% of viewport)
[07:19:07] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:19:07] [INFO] [Bullet] Caliber cannot penetrate walls
[07:19:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 360), source=PLAYER (MiniUzi), range=1469, listeners=0
[07:19:08] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:19:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 360), source=PLAYER (MiniUzi), range=1469, listeners=0
[07:19:08] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:19:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 360), source=PLAYER (MiniUzi), range=1469, listeners=0
[07:19:08] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:19:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 360), shooter_id=119822878949, bullet_pos=(484.4873, 341.4742)
[07:19:08] [INFO] [Bullet] Using shooter_position, distance=334.999938964844
[07:19:08] [INFO] [Bullet] Distance to wall: 334.999938964844 (22.8107618546855% of viewport)
[07:19:08] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:19:08] [INFO] [Bullet] Caliber cannot penetrate walls
[07:19:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 360), shooter_id=119822878949, bullet_pos=(484.5262, 342.1898)
[07:19:08] [INFO] [Bullet] Using shooter_position, distance=334.999938964844
[07:19:08] [INFO] [Bullet] Distance to wall: 334.999938964844 (22.8107618546855% of viewport)
[07:19:08] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:19:08] [INFO] [Bullet] Caliber cannot penetrate walls
[07:19:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 360), source=PLAYER (MiniUzi), range=1469, listeners=0
[07:19:08] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:19:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 360), source=PLAYER (MiniUzi), range=1469, listeners=0
[07:19:08] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:19:08] [INFO] [ReplayManager] Recording frame 540 (9,1s): player_valid=False, enemies=10
[07:19:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 360), shooter_id=119822878949, bullet_pos=(484.4873, 341.4742)
[07:19:08] [INFO] [Bullet] Using shooter_position, distance=334.999938964844
[07:19:08] [INFO] [Bullet] Distance to wall: 334.999938964844 (22.8107618546855% of viewport)
[07:19:08] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:19:08] [INFO] [Bullet] Caliber cannot penetrate walls
[07:19:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 360), shooter_id=119822878949, bullet_pos=(484.9653, 355.1899)
[07:19:08] [INFO] [Bullet] Using shooter_position, distance=334.999877929688
[07:19:08] [INFO] [Bullet] Distance to wall: 334.999877929688 (22.8107576986895% of viewport)
[07:19:08] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:19:08] [INFO] [Bullet] Caliber cannot penetrate walls
[07:19:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 360), source=PLAYER (MiniUzi), range=1469, listeners=0
[07:19:08] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:19:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 360), source=PLAYER (MiniUzi), range=1469, listeners=0
[07:19:08] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:19:09] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 360), source=PLAYER (MiniUzi), range=1469, listeners=0
[07:19:09] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:19:09] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 360), shooter_id=119822878949, bullet_pos=(484.4873, 341.4747)
[07:19:09] [INFO] [Bullet] Using shooter_position, distance=334.999908447266
[07:19:09] [INFO] [Bullet] Distance to wall: 334.999908447266 (22.8107597766875% of viewport)
[07:19:09] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:19:09] [INFO] [Bullet] Caliber cannot penetrate walls
[07:19:09] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 360), shooter_id=119822878949, bullet_pos=(484.4853, 341.4399)
[07:19:09] [INFO] [Bullet] Using shooter_position, distance=334.999847412109
[07:19:09] [INFO] [Bullet] Distance to wall: 334.999847412109 (22.8107556206915% of viewport)
[07:19:09] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:19:09] [INFO] [Bullet] Caliber cannot penetrate walls
[07:19:09] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 360), shooter_id=119822878949, bullet_pos=(484.9775, 363.8783)
[07:19:09] [INFO] [Bullet] Using shooter_position, distance=334.999938964844
[07:19:09] [INFO] [Bullet] Distance to wall: 334.999938964844 (22.8107618546855% of viewport)
[07:19:09] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:19:09] [INFO] [Bullet] Caliber cannot penetrate walls
[07:19:09] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 309.1667), source=PLAYER (MiniUzi), range=1469, listeners=0
[07:19:09] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:19:09] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 292.6667), source=PLAYER (MiniUzi), range=1469, listeners=0
[07:19:09] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:19:09] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 360), shooter_id=119822878949, bullet_pos=(1810.032, 136.5723)
[07:19:09] [INFO] [Bullet] Using shooter_position, distance=1675.00085449219
[07:19:09] [INFO] [Bullet] Distance to wall: 1675.00085449219 (114.053888237352% of viewport)
[07:19:09] [INFO] [Bullet] Distance-based penetration chance: 27.1892223525296%
[07:19:09] [INFO] [Bullet] Penetration failed (distance roll)
[07:19:09] [INFO] [ReplayManager] Recording frame 600 (10,1s): player_valid=False, enemies=10
[07:19:10] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 309.1667), shooter_id=119822878949, bullet_pos=(1804.566, 347.1097)
[07:19:10] [INFO] [Bullet] Using shooter_position, distance=1655.00061035156
[07:19:10] [INFO] [Bullet] Distance to wall: 1655.00061035156 (112.692034836611% of viewport)
[07:19:10] [INFO] [Bullet] Distance-based penetration chance: 27.4615930326778%
[07:19:10] [INFO] [Bullet] Caliber cannot penetrate walls
[07:19:10] [INFO] [ReplayManager] Recording frame 660 (11,1s): player_valid=False, enemies=10
[07:19:10] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 292.6667), shooter_id=119822878949, bullet_pos=(1801.595, 398.7911)
[07:19:10] [INFO] [Bullet] Using shooter_position, distance=1655.00146484375
[07:19:10] [INFO] [Bullet] Distance to wall: 1655.00146484375 (112.692093020555% of viewport)
[07:19:10] [INFO] [Bullet] Distance-based penetration chance: 27.461581395889%
[07:19:10] [INFO] [Bullet] Penetration failed (distance roll)
[07:19:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(159.3333, 224.4444), source=PLAYER (MiniUzi), range=1469, listeners=0
[07:19:11] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:19:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(167.6332, 225.3984), source=PLAYER (MiniUzi), range=1469, listeners=0
[07:19:11] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:19:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(176.8326, 229.2143), source=PLAYER (MiniUzi), range=1469, listeners=0
[07:19:11] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:19:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(159.3333, 224.4444), shooter_id=119822878949, bullet_pos=(311.8555, 252.0485)
[07:19:11] [INFO] [Bullet] Using shooter_position, distance=155.000015258789
[07:19:11] [INFO] [Bullet] Distance to wall: 155.000015258789 (10.5542360588666% of viewport)
[07:19:11] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:19:11] [INFO] [Bullet] Caliber cannot penetrate walls
[07:19:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(167.6332, 225.3984), shooter_id=119822878949, bullet_pos=(300.2132, 250.845)
[07:19:11] [INFO] [Bullet] Using shooter_position, distance=134.999984741211
[07:19:11] [INFO] [Bullet] Distance to wall: 134.999984741211 (9.19239720411147% of viewport)
[07:19:11] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:19:11] [INFO] [Bullet] Caliber cannot penetrate walls
[07:19:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(176.8326, 229.2143), shooter_id=119822878949, bullet_pos=(309.7222, 252.9917)
[07:19:11] [INFO] [Bullet] Using shooter_position, distance=135
[07:19:11] [INFO] [Bullet] Distance to wall: 135 (9.19239824311048% of viewport)
[07:19:11] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:19:11] [INFO] [Bullet] Caliber cannot penetrate walls
[07:19:11] [INFO] [ReplayManager] Recording frame 720 (12,0s): player_valid=False, enemies=10
[07:19:12] [INFO] [ReplayManager] Recording frame 780 (13,0s): player_valid=False, enemies=10
[07:19:13] [INFO] [ReplayManager] Recording frame 840 (14,0s): player_valid=False, enemies=10
[07:19:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(405.8748, 370.9177), source=PLAYER (MiniUzi), range=1469, listeners=0
[07:19:14] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:19:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(405.8748, 370.9177), source=PLAYER (MiniUzi), range=1469, listeners=0
[07:19:14] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:19:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(405.8748, 370.9177), shooter_id=119822878949, bullet_pos=(497.0289, 344.1609)
[07:19:14] [INFO] [Bullet] Using shooter_position, distance=94.9999694824219
[07:19:14] [INFO] [Bullet] Distance to wall: 94.9999694824219 (6.46872261159825% of viewport)
[07:19:14] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:19:14] [INFO] [Bullet] Caliber cannot penetrate walls
[07:19:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(405.8748, 370.9177), source=PLAYER (MiniUzi), range=1469, listeners=0
[07:19:14] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:19:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(405.8748, 370.9177), shooter_id=119822878949, bullet_pos=(497.8821, 347.2606)
[07:19:14] [INFO] [Bullet] Using shooter_position, distance=95.0000228881836
[07:19:14] [INFO] [Bullet] Distance to wall: 95.0000228881836 (6.46872624809477% of viewport)
[07:19:14] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:19:14] [INFO] [Bullet] Caliber cannot penetrate walls
[07:19:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(405.8748, 370.9177), shooter_id=119822878949, bullet_pos=(497.9836, 347.6591)
[07:19:14] [INFO] [Bullet] Using shooter_position, distance=94.9999847412109
[07:19:14] [INFO] [Bullet] Distance to wall: 94.9999847412109 (6.46872365059726% of viewport)
[07:19:14] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:19:14] [INFO] [Bullet] Caliber cannot penetrate walls
[07:19:14] [INFO] [ReplayManager] Recording frame 900 (15,0s): player_valid=False, enemies=10
[07:19:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(387.5415, 370.9177), source=PLAYER (MiniUzi), range=1469, listeners=0
[07:19:15] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:19:15] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(387.5415, 370.9177), shooter_id=119822878949, bullet_pos=(498.7003, 341.4435)
[07:19:15] [INFO] [Bullet] Using shooter_position, distance=115.000045776367
[07:19:15] [INFO] [Bullet] Distance to wall: 115.000045776367 (7.83056458335039% of viewport)
[07:19:15] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:19:15] [INFO] [Bullet] Caliber cannot penetrate walls
[07:19:15] [INFO] [ReplayManager] Recording frame 960 (16,0s): player_valid=False, enemies=10
[07:19:16] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[07:19:16] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[07:19:16] [INFO] [Player.Reload.Anim] LeftArm: pos=(-3.9594626, 3.0079837), target=(2, 6), base=(14, 6)
[07:19:16] [INFO] [Player.Reload.Anim] RightArm: pos=(0.9993812, 6.5), target=(1, 8), base=(1, 6)
[07:19:16] [INFO] [Player.Reload.Anim] Phase changed to: PullBolt (duration: 0,35s)
[07:19:16] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[07:19:16] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[07:19:16] [INFO] [ReplayManager] Recording frame 1020 (17,0s): player_valid=False, enemies=10
[07:19:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(178.6778, 302.7975), source=PLAYER (MiniUzi), range=1469, listeners=0
[07:19:16] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:19:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(178.6778, 302.7975), source=PLAYER (MiniUzi), range=1469, listeners=0
[07:19:16] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:19:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(178.6778, 302.7975), shooter_id=119822878949, bullet_pos=(313.192, 291.3547)
[07:19:16] [INFO] [Bullet] Using shooter_position, distance=135.000030517578
[07:19:16] [INFO] [Bullet] Distance to wall: 135.000030517578 (9.19240032110849% of viewport)
[07:19:16] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:19:16] [INFO] [Bullet] Caliber cannot penetrate walls
[07:19:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(178.6778, 302.7975), source=PLAYER (MiniUzi), range=1469, listeners=0
[07:19:16] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:19:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(178.6778, 302.7975), shooter_id=119822878949, bullet_pos=(313.6064, 298.4073)
[07:19:16] [INFO] [Bullet] Using shooter_position, distance=134.999984741211
[07:19:16] [INFO] [Bullet] Distance to wall: 134.999984741211 (9.19239720411147% of viewport)
[07:19:16] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:19:16] [INFO] [Bullet] Caliber cannot penetrate walls
[07:19:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(178.6778, 302.7975), source=PLAYER (MiniUzi), range=1469, listeners=0
[07:19:16] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:19:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(178.6778, 302.7975), shooter_id=119822878949, bullet_pos=(313.3592, 293.5282)
[07:19:17] [INFO] [Bullet] Using shooter_position, distance=134.999984741211
[07:19:17] [INFO] [Bullet] Distance to wall: 134.999984741211 (9.19239720411147% of viewport)
[07:19:17] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:19:17] [INFO] [Bullet] Caliber cannot penetrate walls
[07:19:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(178.6778, 302.7975), source=PLAYER (MiniUzi), range=1469, listeners=0
[07:19:17] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:19:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(178.6778, 302.7975), shooter_id=119822878949, bullet_pos=(313.5371, 296.6362)
[07:19:17] [INFO] [Bullet] Using shooter_position, distance=135
[07:19:17] [INFO] [Bullet] Distance to wall: 135 (9.19239824311048% of viewport)
[07:19:17] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:19:17] [INFO] [Bullet] Caliber cannot penetrate walls
[07:19:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(178.6778, 302.7975), source=PLAYER (MiniUzi), range=1469, listeners=0
[07:19:17] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:19:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(178.6778, 302.7975), shooter_id=119822878949, bullet_pos=(492.6434, 328.3037)
[07:19:17] [INFO] [Bullet] Using shooter_position, distance=315
[07:19:17] [INFO] [Bullet] Distance to wall: 315 (21.4489292339245% of viewport)
[07:19:17] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:19:17] [INFO] [ReplayManager] Recording frame 1080 (18,0s): player_valid=False, enemies=10
[07:19:18] [INFO] [PauseMenu] Armory button pressed
[07:19:18] [INFO] [PauseMenu] Creating new armory menu instance
[07:19:18] [INFO] [PauseMenu] armory_menu_scene resource path: res://scenes/ui/ArmoryMenu.tscn
[07:19:18] [INFO] [PauseMenu] Instance created, class: CanvasLayer, name: ArmoryMenu
[07:19:18] [INFO] [PauseMenu] Script attached: res://scripts/ui/armory_menu.gd
[07:19:18] [INFO] [PauseMenu] back_pressed signal exists on instance
[07:19:18] [INFO] [PauseMenu] back_pressed signal connected
[07:19:18] [INFO] [PauseMenu] Armory menu instance added as child, is_inside_tree: true
[07:19:18] [INFO] [PauseMenu] _populate_weapon_grid method exists
[07:19:18] [INFO] [ReplayManager] Recording frame 1140 (19,0s): player_valid=False, enemies=10
[07:19:19] [INFO] [ReplayManager] Recording frame 1200 (20,0s): player_valid=False, enemies=10
[07:19:20] [INFO] [GameManager] Weapon selected: silenced_pistol
[07:19:20] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[07:19:20] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[07:19:20] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[07:19:20] [INFO] [LastChance] Resetting all effects (scene change detected)
[07:19:20] [INFO] [CinemaEffects] Scene changed to: TestTier
[07:19:20] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[07:19:20] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:19:20] [INFO] [BloodyFeet:Player] Footprint scene loaded
[07:19:20] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[07:19:20] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[07:19:20] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[07:19:20] [INFO] [Player.Grenade] Tutorial level detected - infinite grenades enabled
[07:19:20] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[07:19:20] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[07:19:20] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[07:19:20] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[07:19:20] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[07:19:20] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[07:19:20] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 3/3, Health: 2/4
[07:19:20] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[07:19:20] [INFO] [CinemaEffects] Found player node: Player
[07:19:20] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[07:19:20] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[07:19:20] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[07:19:20] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[07:19:20] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[07:19:20] [INFO] [LastChance] Found player: Player
[07:19:20] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[07:19:20] [INFO] [LastChance] Connected to player Damaged signal (C#)
[07:19:20] [INFO] [LastChance] Connected to player Died signal (C#)
[07:19:20] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[07:19:20] [INFO] [Player] Detecting weapon pose (frame 3)...
[07:19:20] [INFO] [Player] Detected weapon: Silenced Pistol (Pistol pose)
[07:19:20] [INFO] [Player] Applied Pistol arm pose: Left=(10, 6), Right=(2, 6)
[07:19:20] [INFO] [ReplayManager] Recording frame 1260 (21,0s): player_valid=False, enemies=10
[07:19:21] [INFO] [ReplayManager] Recording frame 1320 (22,0s): player_valid=False, enemies=10
[07:19:21] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 360), shooter_id=167302399776, bullet_pos=(496.2739, 325.3831)
[07:19:21] [INFO] [Bullet] Using shooter_position, distance=347.999908447266
[07:19:21] [INFO] [Bullet] Distance to wall: 347.999908447266 (23.6959536815796% of viewport)
[07:19:21] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:19:21] [INFO] [Bullet] Caliber cannot penetrate walls
[07:19:22] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 360), shooter_id=167302399776, bullet_pos=(1815.255, 174.9923)
[07:19:22] [INFO] [Bullet] Using shooter_position, distance=1675.50073242188
[07:19:22] [INFO] [Bullet] Distance to wall: 1675.50073242188 (114.087925844779% of viewport)
[07:19:22] [INFO] [Bullet] Distance-based penetration chance: 27.1824148310442%
[07:19:22] [INFO] [Bullet] Caliber cannot penetrate walls
[07:19:22] [INFO] [ReplayManager] Recording frame 1380 (23,0s): player_valid=False, enemies=10
[07:19:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 360), shooter_id=167302399776, bullet_pos=(1812.365, 150.6034)
[07:19:23] [INFO] [Bullet] Using shooter_position, distance=1675.50085449219
[07:19:23] [INFO] [Bullet] Distance to wall: 1675.50085449219 (114.087934156771% of viewport)
[07:19:23] [INFO] [Bullet] Distance-based penetration chance: 27.1824131686458%
[07:19:23] [INFO] [Bullet] Caliber cannot penetrate walls
[07:19:23] [INFO] [ReplayManager] Recording frame 1440 (24,0s): player_valid=False, enemies=10
[07:19:24] [INFO] [ReplayManager] Recording frame 1500 (25,0s): player_valid=False, enemies=10
[07:19:24] [INFO] [PauseMenu] Armory button pressed
[07:19:24] [INFO] [PauseMenu] Creating new armory menu instance
[07:19:24] [INFO] [PauseMenu] armory_menu_scene resource path: res://scenes/ui/ArmoryMenu.tscn
[07:19:24] [INFO] [PauseMenu] Instance created, class: CanvasLayer, name: ArmoryMenu
[07:19:24] [INFO] [PauseMenu] Script attached: res://scripts/ui/armory_menu.gd
[07:19:24] [INFO] [PauseMenu] back_pressed signal exists on instance
[07:19:24] [INFO] [PauseMenu] back_pressed signal connected
[07:19:24] [INFO] [PauseMenu] Armory menu instance added as child, is_inside_tree: true
[07:19:24] [INFO] [PauseMenu] _populate_weapon_grid method exists
[07:19:25] [INFO] [ReplayManager] Recording frame 1560 (26,0s): player_valid=False, enemies=10
[07:19:26] [INFO] [GameManager] Weapon selected: m16
[07:19:26] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[07:19:26] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[07:19:26] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[07:19:26] [INFO] [LastChance] Resetting all effects (scene change detected)
[07:19:26] [INFO] [CinemaEffects] Scene changed to: TestTier
[07:19:26] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[07:19:26] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:19:26] [INFO] [BloodyFeet:Player] Footprint scene loaded
[07:19:26] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[07:19:26] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[07:19:26] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[07:19:26] [INFO] [Player.Grenade] Tutorial level detected - infinite grenades enabled
[07:19:26] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[07:19:26] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[07:19:26] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[07:19:26] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[07:19:26] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[07:19:26] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[07:19:26] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 3/3, Health: 4/4
[07:19:26] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[07:19:26] [INFO] [CinemaEffects] Found player node: Player
[07:19:26] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[07:19:26] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[07:19:26] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[07:19:26] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[07:19:26] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[07:19:26] [INFO] [LastChance] Found player: Player
[07:19:26] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[07:19:26] [INFO] [LastChance] Connected to player Damaged signal (C#)
[07:19:26] [INFO] [LastChance] Connected to player Died signal (C#)
[07:19:26] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[07:19:26] [INFO] [Player] Detecting weapon pose (frame 3)...
[07:19:26] [INFO] [Player] Detected weapon: Rifle (default pose)
[07:19:26] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[07:19:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 366), source=PLAYER (AssaultRifle), range=1469, listeners=0
[07:19:26] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:19:26] [INFO] [ReplayManager] Recording frame 1620 (27,0s): player_valid=False, enemies=10
[07:19:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 366), source=PLAYER (AssaultRifle), range=1469, listeners=0
[07:19:26] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:19:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 366), shooter_id=201058159288, bullet_pos=(492.92975, 343.50525)
[07:19:26] [INFO] [Bullet] Using shooter_position, distance=343,66675
[07:19:26] [INFO] [Bullet] Distance to wall: 343,66675 (23,400902% of viewport)
[07:19:26] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:19:26] [INFO] [Bullet] Starting wall penetration at (492.92975, 343.50525)
[07:19:26] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[07:19:26] [INFO] [Bullet] Exiting penetration at (539.49634, 340.45068) after traveling 41,66667 pixels through wall
[07:19:26] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[07:19:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 366), source=PLAYER (AssaultRifle), range=1469, listeners=0
[07:19:26] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:19:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 366), shooter_id=201058159288, bullet_pos=(493.05844, 345.5615)
[07:19:26] [INFO] [Bullet] Using shooter_position, distance=343,66675
[07:19:26] [INFO] [Bullet] Distance to wall: 343,66675 (23,400902% of viewport)
[07:19:26] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:19:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 366), shooter_id=201058159288, bullet_pos=(493.1161, 346.55423)
[07:19:27] [INFO] [Bullet] Using shooter_position, distance=343,6667
[07:19:27] [INFO] [Bullet] Distance to wall: 343,6667 (23,400896% of viewport)
[07:19:27] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:19:27] [INFO] [Bullet] Starting wall penetration at (493.1161, 346.55423)
[07:19:27] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[07:19:27] [INFO] [Bullet] Exiting penetration at (539.708, 343.91367) after traveling 41,666668 pixels through wall
[07:19:27] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[07:19:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 366), source=PLAYER (AssaultRifle), range=1469, listeners=0
[07:19:27] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:19:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 366), source=PLAYER (AssaultRifle), range=1469, listeners=0
[07:19:27] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:19:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 366), shooter_id=201058159288, bullet_pos=(493.16714, 347.47574)
[07:19:27] [INFO] [Bullet] Using shooter_position, distance=343,66675
[07:19:27] [INFO] [Bullet] Distance to wall: 343,66675 (23,400902% of viewport)
[07:19:27] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:19:27] [INFO] [Bullet] Starting wall penetration at (493.16714, 347.47574)
[07:19:27] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[07:19:27] [INFO] [Bullet] Exiting penetration at (539.766, 344.96033) after traveling 41,66667 pixels through wall
[07:19:27] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[07:19:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 366), source=PLAYER (AssaultRifle), range=1469, listeners=0
[07:19:27] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:19:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 366), shooter_id=201058159288, bullet_pos=(493.1697, 347.52432)
[07:19:27] [INFO] [Bullet] Using shooter_position, distance=343,6667
[07:19:27] [INFO] [Bullet] Distance to wall: 343,6667 (23,400896% of viewport)
[07:19:27] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:19:27] [INFO] [Bullet] Starting wall penetration at (493.1697, 347.52432)
[07:19:27] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[07:19:27] [INFO] [Bullet] Exiting penetration at (539.7689, 345.0155) after traveling 41,66667 pixels through wall
[07:19:27] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[07:19:27] [INFO] [ReplayManager] Recording frame 1680 (28,0s): player_valid=False, enemies=10
[07:19:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 366), shooter_id=201058159288, bullet_pos=(493.17093, 347.54623)
[07:19:27] [INFO] [Bullet] Using shooter_position, distance=343,66675
[07:19:27] [INFO] [Bullet] Distance to wall: 343,66675 (23,400902% of viewport)
[07:19:27] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:19:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 366), source=PLAYER (AssaultRifle), range=1469, listeners=0
[07:19:27] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:19:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 366), source=PLAYER (AssaultRifle), range=1469, listeners=0
[07:19:28] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:19:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 366), shooter_id=201058159288, bullet_pos=(493.17197, 347.56662)
[07:19:28] [INFO] [Bullet] Using shooter_position, distance=343,6667
[07:19:28] [INFO] [Bullet] Distance to wall: 343,6667 (23,400896% of viewport)
[07:19:28] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:19:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 366), shooter_id=201058159288, bullet_pos=(493.172, 347.56885)
[07:19:28] [INFO] [Bullet] Using shooter_position, distance=343,6666
[07:19:28] [INFO] [Bullet] Distance to wall: 343,6666 (23,40089% of viewport)
[07:19:28] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:19:28] [INFO] [ReplayManager] Recording frame 1740 (29,0s): player_valid=False, enemies=10
[07:19:29] [INFO] [PauseMenu] Armory button pressed
[07:19:29] [INFO] [PauseMenu] Creating new armory menu instance
[07:19:29] [INFO] [PauseMenu] armory_menu_scene resource path: res://scenes/ui/ArmoryMenu.tscn
[07:19:29] [INFO] [PauseMenu] Instance created, class: CanvasLayer, name: ArmoryMenu
[07:19:29] [INFO] [PauseMenu] Script attached: res://scripts/ui/armory_menu.gd
[07:19:29] [INFO] [PauseMenu] back_pressed signal exists on instance
[07:19:29] [INFO] [PauseMenu] back_pressed signal connected
[07:19:29] [INFO] [PauseMenu] Armory menu instance added as child, is_inside_tree: true
[07:19:29] [INFO] [PauseMenu] _populate_weapon_grid method exists
[07:19:29] [INFO] [ReplayManager] Recording frame 1800 (30,0s): player_valid=False, enemies=10
[07:19:30] [INFO] [ReplayManager] Recording frame 1860 (31,0s): player_valid=False, enemies=10
[07:19:30] [INFO] [GameManager] Weapon selected: sniper
[07:19:30] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[07:19:30] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[07:19:30] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[07:19:30] [INFO] [LastChance] Resetting all effects (scene change detected)
[07:19:30] [INFO] [CinemaEffects] Scene changed to: TestTier
[07:19:30] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[07:19:30] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:19:30] [INFO] [BloodyFeet:Player] Footprint scene loaded
[07:19:30] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[07:19:30] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[07:19:30] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[07:19:30] [INFO] [Player.Grenade] Tutorial level detected - infinite grenades enabled
[07:19:30] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[07:19:30] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[07:19:30] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[07:19:30] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[07:19:30] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[07:19:30] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[07:19:30] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 3/3, Health: 2/4
[07:19:30] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[07:19:30] [INFO] [CinemaEffects] Found player node: Player
[07:19:30] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[07:19:30] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[07:19:30] [INFO] [Player] Detecting weapon pose (frame 3)...
[07:19:30] [INFO] [Player] Detected weapon: Rifle (default pose)
[07:19:30] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[07:19:30] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[07:19:30] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[07:19:30] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[07:19:30] [INFO] [LastChance] Found player: Player
[07:19:30] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[07:19:30] [INFO] [LastChance] Connected to player Damaged signal (C#)
[07:19:30] [INFO] [LastChance] Connected to player Died signal (C#)
[07:19:30] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[07:19:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 360), source=PLAYER (SniperRifle), range=3000, listeners=0
[07:19:31] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:19:31] [INFO] [ReplayManager] Recording frame 1920 (32,0s): player_valid=False, enemies=10
[07:19:32] [INFO] [ReplayManager] Recording frame 1980 (33,0s): player_valid=False, enemies=10
[07:19:33] [INFO] [ReplayManager] Recording frame 2040 (34,0s): player_valid=False, enemies=10
[07:19:34] [INFO] [ReplayManager] Recording frame 2100 (35,0s): player_valid=False, enemies=10
[07:19:35] [INFO] [ReplayManager] Recording frame 2160 (36,0s): player_valid=False, enemies=10
[07:19:36] [INFO] [ReplayManager] Recording frame 2220 (37,0s): player_valid=False, enemies=10
[07:19:37] [INFO] [ReplayManager] Recording frame 2280 (38,0s): player_valid=False, enemies=10
[07:19:37] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[07:19:37] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[07:19:37] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[07:19:37] [INFO] [LastChance] Resetting all effects (scene change detected)
[07:19:37] [INFO] [CinemaEffects] Scene changed to: TestTier
[07:19:37] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[07:19:37] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:19:37] [INFO] [BloodyFeet:Player] Footprint scene loaded
[07:19:37] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[07:19:37] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[07:19:37] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[07:19:37] [INFO] [Player.Grenade] Tutorial level detected - infinite grenades enabled
[07:19:37] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[07:19:37] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[07:19:37] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[07:19:37] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[07:19:37] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[07:19:37] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[07:19:37] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 3/3, Health: 3/4
[07:19:37] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[07:19:37] [INFO] [CinemaEffects] Found player node: Player
[07:19:37] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[07:19:37] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[07:19:37] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[07:19:37] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[07:19:37] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[07:19:37] [INFO] [LastChance] Found player: Player
[07:19:37] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[07:19:37] [INFO] [LastChance] Connected to player Damaged signal (C#)
[07:19:37] [INFO] [LastChance] Connected to player Died signal (C#)
[07:19:37] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[07:19:37] [INFO] [Player] Detecting weapon pose (frame 3)...
[07:19:37] [INFO] [Player] Detected weapon: Rifle (default pose)
[07:19:37] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[07:19:38] [INFO] [ReplayManager] Recording frame 2340 (39,0s): player_valid=False, enemies=10
[07:19:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 360), source=PLAYER (SniperRifle), range=3000, listeners=0
[07:19:38] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:19:39] [INFO] [ReplayManager] Recording frame 2400 (40,0s): player_valid=False, enemies=10
[07:19:40] [INFO] [ReplayManager] Recording frame 2460 (41,0s): player_valid=False, enemies=10
[07:19:41] [INFO] [ReplayManager] Recording frame 2520 (42,0s): player_valid=False, enemies=10
[07:19:42] [INFO] [ReplayManager] Recording frame 2580 (43,0s): player_valid=False, enemies=10
[07:19:43] [INFO] [ReplayManager] Recording frame 2640 (44,0s): player_valid=False, enemies=10
[07:19:44] [INFO] [ReplayManager] Recording frame 2700 (45,0s): player_valid=False, enemies=10
[07:19:45] [INFO] [ReplayManager] Recording frame 2760 (46,0s): player_valid=False, enemies=10
[07:19:46] [INFO] [ReplayManager] Recording frame 2820 (47,0s): player_valid=False, enemies=10
[07:19:47] [INFO] [ReplayManager] Recording frame 2880 (48,0s): player_valid=False, enemies=10
[07:19:48] [INFO] [ReplayManager] Recording frame 2940 (49,0s): player_valid=False, enemies=10
[07:19:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(159.1667, 208.3333), source=PLAYER (SniperRifle), range=3000, listeners=0
[07:19:49] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:19:49] [INFO] [ReplayManager] Recording frame 3000 (50,0s): player_valid=False, enemies=10
[07:19:50] [INFO] [ReplayManager] Recording frame 3060 (51,0s): player_valid=False, enemies=10
[07:19:51] [INFO] [ReplayManager] Recording frame 3120 (52,0s): player_valid=False, enemies=10
[07:19:52] [INFO] [ReplayManager] Recording frame 3180 (53,0s): player_valid=False, enemies=10
[07:19:53] [INFO] [ReplayManager] Recording frame 3240 (54,0s): player_valid=False, enemies=10
[07:19:54] [INFO] [ReplayManager] Recording frame 3300 (55,0s): player_valid=False, enemies=10
[07:19:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(172.3889, 89.27775), source=PLAYER (SniperRifle), range=3000, listeners=0
[07:19:54] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:19:55] [INFO] [ReplayManager] Recording frame 3360 (56,0s): player_valid=False, enemies=10
[07:19:56] [INFO] [ReplayManager] Recording frame 3420 (57,0s): player_valid=False, enemies=10
[07:19:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(190.3889, 89.27775), source=PLAYER (SniperRifle), range=3000, listeners=0
[07:19:57] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:19:57] [INFO] [ReplayManager] Recording frame 3480 (58,0s): player_valid=False, enemies=10
[07:19:58] [INFO] [ReplayManager] Recording frame 3540 (59,0s): player_valid=False, enemies=10
[07:19:59] [INFO] [ReplayManager] Recording frame 3600 (60,0s): player_valid=False, enemies=10
[07:20:00] [INFO] [ReplayManager] Recording frame 3660 (61,0s): player_valid=False, enemies=10
[07:20:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(199.5555, 89.27775), source=PLAYER (SniperRifle), range=3000, listeners=0
[07:20:01] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:20:01] [INFO] [ReplayManager] Recording frame 3720 (62,0s): player_valid=False, enemies=10
[07:20:02] [INFO] [ReplayManager] Recording frame 3780 (62,8s): player_valid=False, enemies=10
[07:20:03] [INFO] [ReplayManager] Recording frame 3840 (63,6s): player_valid=False, enemies=10
[07:20:04] [INFO] [ReplayManager] Recording frame 3900 (64,5s): player_valid=False, enemies=10
[07:20:05] [INFO] [ReplayManager] Recording frame 3960 (65,5s): player_valid=False, enemies=10
[07:20:05] [INFO] [PauseMenu] Armory button pressed
[07:20:05] [INFO] [PauseMenu] Creating new armory menu instance
[07:20:05] [INFO] [PauseMenu] armory_menu_scene resource path: res://scenes/ui/ArmoryMenu.tscn
[07:20:05] [INFO] [PauseMenu] Instance created, class: CanvasLayer, name: ArmoryMenu
[07:20:05] [INFO] [PauseMenu] Script attached: res://scripts/ui/armory_menu.gd
[07:20:05] [INFO] [PauseMenu] back_pressed signal exists on instance
[07:20:05] [INFO] [PauseMenu] back_pressed signal connected
[07:20:05] [INFO] [PauseMenu] Armory menu instance added as child, is_inside_tree: true
[07:20:05] [INFO] [PauseMenu] _populate_weapon_grid method exists
[07:20:06] [INFO] [ReplayManager] Recording frame 4020 (66,5s): player_valid=False, enemies=10
[07:20:07] [INFO] [ReplayManager] Recording frame 4080 (67,5s): player_valid=False, enemies=10
[07:20:08] [INFO] [ReplayManager] Recording frame 4140 (68,5s): player_valid=False, enemies=10
[07:20:09] [INFO] [GameManager] Weapon selected: silenced_pistol
[07:20:09] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[07:20:09] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[07:20:09] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[07:20:09] [INFO] [LastChance] Resetting all effects (scene change detected)
[07:20:09] [INFO] [CinemaEffects] Scene changed to: TestTier
[07:20:09] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[07:20:09] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:20:09] [INFO] [BloodyFeet:Player] Footprint scene loaded
[07:20:09] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[07:20:09] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[07:20:09] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[07:20:09] [INFO] [Player.Grenade] Tutorial level detected - infinite grenades enabled
[07:20:09] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[07:20:09] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[07:20:09] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[07:20:09] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[07:20:09] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[07:20:09] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[07:20:09] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 3/3, Health: 2/4
[07:20:09] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[07:20:09] [INFO] [CinemaEffects] Found player node: Player
[07:20:09] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[07:20:09] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[07:20:09] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[07:20:09] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[07:20:09] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[07:20:09] [INFO] [LastChance] Found player: Player
[07:20:09] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[07:20:09] [INFO] [LastChance] Connected to player Damaged signal (C#)
[07:20:09] [INFO] [LastChance] Connected to player Died signal (C#)
[07:20:09] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[07:20:09] [INFO] [Player] Detecting weapon pose (frame 3)...
[07:20:09] [INFO] [Player] Detected weapon: Silenced Pistol (Pistol pose)
[07:20:09] [INFO] [Player] Applied Pistol arm pose: Left=(10, 6), Right=(2, 6)
[07:20:09] [INFO] [ReplayManager] Recording frame 4200 (69,5s): player_valid=False, enemies=10
[07:20:10] [INFO] [ReplayManager] Recording frame 4260 (70,5s): player_valid=False, enemies=10
[07:20:10] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 360), shooter_id=291135031071, bullet_pos=(1802.486, 83.25888)
[07:20:10] [INFO] [Bullet] Using shooter_position, distance=1675.49853515625
[07:20:10] [INFO] [Bullet] Distance to wall: 1675.49853515625 (114.087776228922% of viewport)
[07:20:10] [INFO] [Bullet] Distance-based penetration chance: 27.1824447542156%
[07:20:10] [INFO] [Bullet] Penetration failed (distance roll)
[07:20:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 360), shooter_id=291135031071, bullet_pos=(1816.362, 185.2365)
[07:20:11] [INFO] [Bullet] Using shooter_position, distance=1675.50134277344
[07:20:11] [INFO] [Bullet] Distance to wall: 1675.50134277344 (114.087967404739% of viewport)
[07:20:11] [INFO] [Bullet] Distance-based penetration chance: 27.1824065190522%
[07:20:11] [INFO] [Bullet] Penetration failed (distance roll)
[07:20:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 360), shooter_id=291135031071, bullet_pos=(1807.901, 117.7857)
[07:20:11] [INFO] [Bullet] Using shooter_position, distance=1675.5009765625
[07:20:11] [INFO] [Bullet] Distance to wall: 1675.5009765625 (114.087942468763% of viewport)
[07:20:11] [INFO] [Bullet] Distance-based penetration chance: 27.1824115062474%
[07:20:11] [INFO] [Bullet] Penetration failed (distance roll)
[07:20:11] [INFO] [ReplayManager] Recording frame 4320 (71,5s): player_valid=False, enemies=10
[07:20:12] [INFO] [ReplayManager] Recording frame 4380 (72,5s): player_valid=False, enemies=10
[07:20:13] [INFO] [ReplayManager] Recording frame 4440 (73,5s): player_valid=False, enemies=10
[07:20:14] [INFO] [ReplayManager] Recording frame 4500 (74,5s): player_valid=False, enemies=10
[07:20:15] [INFO] [ReplayManager] Recording frame 4560 (75,5s): player_valid=False, enemies=10
[07:20:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(680.0389, 150.8102), shooter_id=291135031071, bullet_pos=(1035.838, 839.8721)
[07:20:16] [INFO] [Bullet] Using shooter_position, distance=775.49951171875
[07:20:16] [INFO] [Bullet] Distance to wall: 775.49951171875 (52.8051877707887% of viewport)
[07:20:16] [INFO] [Bullet] Distance-based penetration chance: 85.0606142674132%
[07:20:16] [INFO] [Bullet] Penetration failed (distance roll)
[07:20:16] [INFO] [ReplayManager] Recording frame 4620 (76,5s): player_valid=False, enemies=10
[07:20:17] [INFO] [ReplayManager] Recording frame 4680 (77,5s): player_valid=False, enemies=10
[07:20:18] [INFO] [ReplayManager] Recording frame 4740 (78,5s): player_valid=False, enemies=10
[07:20:19] [INFO] [ReplayManager] Recording frame 4800 (79,5s): player_valid=False, enemies=10
[07:20:20] [INFO] [ReplayManager] Recording frame 4860 (80,5s): player_valid=False, enemies=10
[07:20:21] [INFO] [ReplayManager] Recording frame 4920 (81,5s): player_valid=False, enemies=10
[07:20:22] [INFO] [ReplayManager] Recording frame 4980 (82,5s): player_valid=False, enemies=10
[07:20:23] [INFO] [ReplayManager] Recording frame 5040 (83,5s): player_valid=False, enemies=10
[07:20:24] [INFO] [ReplayManager] Recording frame 5100 (84,5s): player_valid=False, enemies=10
[07:20:25] [INFO] [ReplayManager] Recording frame 5160 (85,5s): player_valid=False, enemies=10
[07:20:26] [INFO] [ReplayManager] Recording frame 5220 (86,5s): player_valid=False, enemies=10
[07:20:27] [INFO] [ReplayManager] Recording frame 5280 (87,5s): player_valid=False, enemies=10
[07:20:28] [INFO] [ReplayManager] Recording frame 5340 (88,5s): player_valid=False, enemies=10
[07:20:29] [INFO] [ReplayManager] Recording frame 5400 (89,5s): player_valid=False, enemies=10
[07:20:30] [INFO] [ReplayManager] Recording frame 5460 (90,5s): player_valid=False, enemies=10
[07:20:31] [INFO] [ReplayManager] Recording frame 5520 (91,5s): player_valid=False, enemies=10
[07:20:32] [INFO] [ReplayManager] Recording frame 5580 (92,5s): player_valid=False, enemies=10
[07:20:33] [INFO] [ReplayManager] Recording frame 5640 (93,5s): player_valid=False, enemies=10
[07:20:34] [INFO] [ReplayManager] Recording frame 5700 (94,5s): player_valid=False, enemies=10
[07:20:35] [INFO] [ReplayManager] Recording frame 5760 (95,5s): player_valid=False, enemies=10
[07:20:36] [INFO] [ReplayManager] Recording frame 5820 (96,5s): player_valid=False, enemies=10
[07:20:37] [INFO] [ReplayManager] Recording frame 5880 (97,5s): player_valid=False, enemies=10
[07:20:38] [INFO] [ReplayManager] Recording frame 5940 (98,5s): player_valid=False, enemies=10
[07:20:38] [INFO] [PauseMenu] Armory button pressed
[07:20:38] [INFO] [PauseMenu] Creating new armory menu instance
[07:20:38] [INFO] [PauseMenu] armory_menu_scene resource path: res://scenes/ui/ArmoryMenu.tscn
[07:20:38] [INFO] [PauseMenu] Instance created, class: CanvasLayer, name: ArmoryMenu
[07:20:38] [INFO] [PauseMenu] Script attached: res://scripts/ui/armory_menu.gd
[07:20:38] [INFO] [PauseMenu] back_pressed signal exists on instance
[07:20:38] [INFO] [PauseMenu] back_pressed signal connected
[07:20:38] [INFO] [PauseMenu] Armory menu instance added as child, is_inside_tree: true
[07:20:38] [INFO] [PauseMenu] _populate_weapon_grid method exists
[07:20:39] [INFO] [ReplayManager] Recording frame 6000 (99,5s): player_valid=False, enemies=10
[07:20:40] [INFO] [ReplayManager] Recording frame 6060 (100,5s): player_valid=False, enemies=10
[07:20:41] [INFO] [GameManager] Weapon selected: mini_uzi
[07:20:41] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[07:20:41] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[07:20:41] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[07:20:41] [INFO] [LastChance] Resetting all effects (scene change detected)
[07:20:41] [INFO] [CinemaEffects] Scene changed to: TestTier
[07:20:41] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[07:20:41] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:20:41] [INFO] [BloodyFeet:Player] Footprint scene loaded
[07:20:41] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[07:20:41] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[07:20:41] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[07:20:41] [INFO] [Player.Grenade] Tutorial level detected - infinite grenades enabled
[07:20:41] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[07:20:41] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[07:20:41] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[07:20:41] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[07:20:41] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[07:20:41] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[07:20:41] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 3/3, Health: 4/4
[07:20:41] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[07:20:41] [INFO] [CinemaEffects] Found player node: Player
[07:20:41] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[07:20:41] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[07:20:41] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[07:20:41] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[07:20:41] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[07:20:41] [INFO] [LastChance] Found player: Player
[07:20:41] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[07:20:41] [INFO] [LastChance] Connected to player Damaged signal (C#)
[07:20:41] [INFO] [LastChance] Connected to player Died signal (C#)
[07:20:41] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[07:20:41] [INFO] [Player] Detecting weapon pose (frame 3)...
[07:20:41] [INFO] [Player] Detected weapon: Mini UZI (SMG pose)
[07:20:41] [INFO] [Player] Applied SMG arm pose: Left=(14, 6), Right=(1, 6)
[07:20:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 360), source=PLAYER (MiniUzi), range=1469, listeners=0
[07:20:41] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:20:41] [INFO] [ReplayManager] Recording frame 6120 (101,5s): player_valid=False, enemies=10
[07:20:41] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 360), shooter_id=388241558593, bullet_pos=(484.654, 375.2185)
[07:20:41] [INFO] [Bullet] Using shooter_position, distance=334.999877929688
[07:20:41] [INFO] [Bullet] Distance to wall: 334.999877929688 (22.8107576986895% of viewport)
[07:20:41] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:20:41] [INFO] [Bullet] Caliber cannot penetrate walls
[07:20:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 360), source=PLAYER (MiniUzi), range=1469, listeners=0
[07:20:42] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:20:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 360), shooter_id=388241558593, bullet_pos=(484.6942, 374.3127)
[07:20:42] [INFO] [Bullet] Using shooter_position, distance=335.000122070313
[07:20:42] [INFO] [Bullet] Distance to wall: 335.000122070313 (22.8107743226736% of viewport)
[07:20:42] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:20:42] [INFO] [Bullet] Caliber cannot penetrate walls
[07:20:42] [INFO] [ReplayManager] Recording frame 6180 (102,5s): player_valid=False, enemies=10
[07:20:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 360), source=PLAYER (MiniUzi), range=1469, listeners=0
[07:20:43] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:20:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 360), source=PLAYER (MiniUzi), range=1469, listeners=0
[07:20:43] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:20:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 360), shooter_id=388241558593, bullet_pos=(484.6949, 374.2933)
[07:20:43] [INFO] [Bullet] Using shooter_position, distance=334.999908447266
[07:20:43] [INFO] [Bullet] Distance to wall: 334.999908447266 (22.8107597766875% of viewport)
[07:20:43] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:20:43] [INFO] [Bullet] Caliber cannot penetrate walls
[07:20:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 360), shooter_id=388241558593, bullet_pos=(484.9842, 356.7576)
[07:20:43] [INFO] [Bullet] Using shooter_position, distance=334.999908447266
[07:20:43] [INFO] [Bullet] Distance to wall: 334.999908447266 (22.8107597766875% of viewport)
[07:20:43] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:20:43] [INFO] [Bullet] Caliber cannot penetrate walls
[07:20:43] [INFO] [ReplayManager] Recording frame 6240 (103,5s): player_valid=False, enemies=10
[07:20:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 360), source=PLAYER (MiniUzi), range=1469, listeners=0
[07:20:44] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:20:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 360), source=PLAYER (MiniUzi), range=1469, listeners=0
[07:20:44] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:20:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 360), shooter_id=388241558593, bullet_pos=(484.6949, 374.2938)
[07:20:44] [INFO] [Bullet] Using shooter_position, distance=334.999938964844
[07:20:44] [INFO] [Bullet] Distance to wall: 334.999938964844 (22.8107618546855% of viewport)
[07:20:44] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:20:44] [INFO] [Bullet] Caliber cannot penetrate walls
[07:20:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 360), shooter_id=388241558593, bullet_pos=(484.679, 374.6609)
[07:20:44] [INFO] [Bullet] Using shooter_position, distance=334.999938964844
[07:20:44] [INFO] [Bullet] Distance to wall: 334.999938964844 (22.8107618546855% of viewport)
[07:20:44] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:20:44] [INFO] [Bullet] Caliber cannot penetrate walls
[07:20:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 360), source=PLAYER (MiniUzi), range=1469, listeners=0
[07:20:44] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:20:44] [INFO] [ReplayManager] Recording frame 6300 (104,5s): player_valid=False, enemies=10
[07:20:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 360), shooter_id=388241558593, bullet_pos=(484.6949, 374.2938)
[07:20:44] [INFO] [Bullet] Using shooter_position, distance=334.999938964844
[07:20:44] [INFO] [Bullet] Distance to wall: 334.999938964844 (22.8107618546855% of viewport)
[07:20:44] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:20:44] [INFO] [Bullet] Caliber cannot penetrate walls
[07:20:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 360), source=PLAYER (MiniUzi), range=1469, listeners=0
[07:20:45] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:20:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 360), source=PLAYER (MiniUzi), range=1469, listeners=0
[07:20:45] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:20:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 360), shooter_id=388241558593, bullet_pos=(484.6949, 374.2933)
[07:20:45] [INFO] [Bullet] Using shooter_position, distance=334.999908447266
[07:20:45] [INFO] [Bullet] Distance to wall: 334.999908447266 (22.8107597766875% of viewport)
[07:20:45] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:20:45] [INFO] [Bullet] Caliber cannot penetrate walls
[07:20:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 360), shooter_id=388241558593, bullet_pos=(484.359, 380.7126)
[07:20:45] [INFO] [Bullet] Using shooter_position, distance=334.999938964844
[07:20:45] [INFO] [Bullet] Distance to wall: 334.999938964844 (22.8107618546855% of viewport)
[07:20:45] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:20:45] [INFO] [Bullet] Caliber cannot penetrate walls
[07:20:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 360), source=PLAYER (MiniUzi), range=1469, listeners=0
[07:20:45] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:20:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 360), source=PLAYER (MiniUzi), range=1469, listeners=0
[07:20:45] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:20:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 360), shooter_id=388241558593, bullet_pos=(484.6949, 374.2933)
[07:20:45] [INFO] [Bullet] Using shooter_position, distance=334.999908447266
[07:20:45] [INFO] [Bullet] Distance to wall: 334.999908447266 (22.8107597766875% of viewport)
[07:20:45] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:20:45] [INFO] [Bullet] Caliber cannot penetrate walls
[07:20:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 360), source=PLAYER (MiniUzi), range=1469, listeners=0
[07:20:45] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:20:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 360), shooter_id=388241558593, bullet_pos=(484.7111, 373.912)
[07:20:45] [INFO] [Bullet] Using shooter_position, distance=335.000091552734
[07:20:45] [INFO] [Bullet] Distance to wall: 335.000091552734 (22.8107722446756% of viewport)
[07:20:45] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:20:45] [INFO] [Bullet] Caliber cannot penetrate walls
[07:20:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 360), source=PLAYER (MiniUzi), range=1469, listeners=0
[07:20:45] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:20:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 360), source=PLAYER (MiniUzi), range=1469, listeners=0
[07:20:45] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:20:45] [INFO] [ReplayManager] Recording frame 6360 (105,5s): player_valid=False, enemies=10
[07:20:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 360), shooter_id=388241558593, bullet_pos=(484.6949, 374.2939)
[07:20:45] [INFO] [Bullet] Using shooter_position, distance=334.999938964844
[07:20:45] [INFO] [Bullet] Distance to wall: 334.999938964844 (22.8107618546855% of viewport)
[07:20:45] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:20:45] [INFO] [Bullet] Caliber cannot penetrate walls
[07:20:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 360), shooter_id=388241558593, bullet_pos=(483.5094, 391.5663)
[07:20:46] [INFO] [Bullet] Using shooter_position, distance=334.999938964844
[07:20:46] [INFO] [Bullet] Distance to wall: 334.999938964844 (22.8107618546855% of viewport)
[07:20:46] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:20:46] [INFO] [Bullet] Caliber cannot penetrate walls
[07:20:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 360), source=PLAYER (MiniUzi), range=1469, listeners=0
[07:20:46] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:20:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 360), shooter_id=388241558593, bullet_pos=(483.5314, 391.3352)
[07:20:46] [INFO] [Bullet] Using shooter_position, distance=335.000152587891
[07:20:46] [INFO] [Bullet] Distance to wall: 335.000152587891 (22.8107764006716% of viewport)
[07:20:46] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:20:46] [INFO] [Bullet] Caliber cannot penetrate walls
[07:20:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 360), source=PLAYER (MiniUzi), range=1469, listeners=0
[07:20:46] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:20:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 360), source=PLAYER (MiniUzi), range=1469, listeners=0
[07:20:46] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:20:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 360), shooter_id=388241558593, bullet_pos=(484.6959, 374.2713)
[07:20:46] [INFO] [Bullet] Using shooter_position, distance=335
[07:20:46] [INFO] [Bullet] Distance to wall: 335 (22.8107660106816% of viewport)
[07:20:46] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:20:46] [INFO] [Bullet] Caliber cannot penetrate walls
[07:20:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 360), source=PLAYER (MiniUzi), range=1469, listeners=0
[07:20:46] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:20:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 360), source=PLAYER (MiniUzi), range=1469, listeners=0
[07:20:46] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:20:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 360), source=PLAYER (MiniUzi), range=1469, listeners=0
[07:20:46] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:20:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 360), shooter_id=388241558593, bullet_pos=(484.6949, 374.2933)
[07:20:46] [INFO] [Bullet] Using shooter_position, distance=334.999908447266
[07:20:46] [INFO] [Bullet] Distance to wall: 334.999908447266 (22.8107597766875% of viewport)
[07:20:46] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:20:46] [INFO] [Bullet] Caliber cannot penetrate walls
[07:20:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 360), shooter_id=388241558593, bullet_pos=(483.488, 391.7906)
[07:20:46] [INFO] [Bullet] Using shooter_position, distance=334.999877929688
[07:20:46] [INFO] [Bullet] Distance to wall: 334.999877929688 (22.8107576986895% of viewport)
[07:20:46] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:20:46] [INFO] [Bullet] Caliber cannot penetrate walls
[07:20:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 360), shooter_id=388241558593, bullet_pos=(484.6632, 375.0156)
[07:20:46] [INFO] [Bullet] Using shooter_position, distance=334.999908447266
[07:20:46] [INFO] [Bullet] Distance to wall: 334.999908447266 (22.8107597766875% of viewport)
[07:20:46] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:20:46] [INFO] [Bullet] Caliber cannot penetrate walls
[07:20:46] [INFO] [ReplayManager] Recording frame 6420 (106,5s): player_valid=False, enemies=10
[07:20:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 360), source=PLAYER (MiniUzi), range=1469, listeners=0
[07:20:46] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:20:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 360), source=PLAYER (MiniUzi), range=1469, listeners=0
[07:20:47] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:20:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 360), source=PLAYER (MiniUzi), range=1469, listeners=0
[07:20:47] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:20:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 360), source=PLAYER (MiniUzi), range=1469, listeners=0
[07:20:47] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:20:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 360), shooter_id=388241558593, bullet_pos=(1411.131, 65.76955)
[07:20:47] [INFO] [Bullet] Using shooter_position, distance=1294.99951171875
[07:20:47] [INFO] [Bullet] Distance to wall: 1294.99951171875 (88.1788980470546% of viewport)
[07:20:47] [INFO] [Bullet] Distance-based penetration chance: 43.7912856117697%
[07:20:47] [INFO] [Bullet] Caliber cannot penetrate walls
[07:20:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 360), shooter_id=388241558593, bullet_pos=(1452.285, 66.27177)
[07:20:47] [INFO] [Bullet] Using shooter_position, distance=1334.99914550781
[07:20:47] [INFO] [Bullet] Distance to wall: 1334.99914550781 (90.9025466645926% of viewport)
[07:20:47] [INFO] [Bullet] Distance-based penetration chance: 40.6136955579752%
[07:20:47] [INFO] [Bullet] Penetration failed (distance roll)
[07:20:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 360), shooter_id=388241558593, bullet_pos=(484.6949, 374.2938)
[07:20:47] [INFO] [Bullet] Using shooter_position, distance=334.999938964844
[07:20:47] [INFO] [Bullet] Distance to wall: 334.999938964844 (22.8107618546855% of viewport)
[07:20:47] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:20:47] [INFO] [Bullet] Caliber cannot penetrate walls
[07:20:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 360), shooter_id=388241558593, bullet_pos=(484.9652, 364.8346)
[07:20:47] [INFO] [Bullet] Using shooter_position, distance=335.000091552734
[07:20:47] [INFO] [Bullet] Distance to wall: 335.000091552734 (22.8107722446756% of viewport)
[07:20:47] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:20:47] [INFO] [Bullet] Caliber cannot penetrate walls
[07:20:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 360), shooter_id=388241558593, bullet_pos=(484.4653, 341.0816)
[07:20:47] [INFO] [Bullet] Using shooter_position, distance=334.999938964844
[07:20:47] [INFO] [Bullet] Distance to wall: 334.999938964844 (22.8107618546855% of viewport)
[07:20:47] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:20:47] [INFO] [Bullet] Caliber cannot penetrate walls
[07:20:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 360), shooter_id=388241558593, bullet_pos=(484.2067, 383.0399)
[07:20:47] [INFO] [Bullet] Using shooter_position, distance=334.999908447266
[07:20:47] [INFO] [Bullet] Distance to wall: 334.999908447266 (22.8107597766875% of viewport)
[07:20:47] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:20:47] [INFO] [Bullet] Caliber cannot penetrate walls
[07:20:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 360), source=PLAYER (MiniUzi), range=1469, listeners=0
[07:20:47] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:20:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 360), source=PLAYER (MiniUzi), range=1469, listeners=0
[07:20:47] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:20:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 360), source=PLAYER (MiniUzi), range=1469, listeners=0
[07:20:47] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:20:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 360), shooter_id=388241558593, bullet_pos=(484.6949, 374.2933)
[07:20:47] [INFO] [Bullet] Using shooter_position, distance=334.999908447266
[07:20:47] [INFO] [Bullet] Distance to wall: 334.999908447266 (22.8107597766875% of viewport)
[07:20:47] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:20:47] [INFO] [Bullet] Caliber cannot penetrate walls
[07:20:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 360), shooter_id=388241558593, bullet_pos=(397.3756, 298.1103)
[07:20:47] [INFO] [Bullet] Using shooter_position, distance=255.000015258789
[07:20:47] [INFO] [Bullet] Distance to wall: 255.000015258789 (17.3634199426521% of viewport)
[07:20:47] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:20:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 360), shooter_id=388241558593, bullet_pos=(484.789, 371.8857)
[07:20:47] [INFO] [Bullet] Using shooter_position, distance=334.999908447266
[07:20:47] [INFO] [Bullet] Distance to wall: 334.999908447266 (22.8107597766875% of viewport)
[07:20:47] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:20:47] [INFO] [Bullet] Caliber cannot penetrate walls
[07:20:47] [INFO] [ReplayManager] Recording frame 6480 (107,5s): player_valid=False, enemies=10
[07:20:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 360), source=PLAYER (MiniUzi), range=1469, listeners=0
[07:20:47] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:20:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 360), source=PLAYER (MiniUzi), range=1469, listeners=0
[07:20:47] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:20:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 360), source=PLAYER (MiniUzi), range=1469, listeners=0
[07:20:48] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:20:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 360), shooter_id=388241558593, bullet_pos=(484.6949, 374.2938)
[07:20:48] [INFO] [Bullet] Using shooter_position, distance=334.999938964844
[07:20:48] [INFO] [Bullet] Distance to wall: 334.999938964844 (22.8107618546855% of viewport)
[07:20:48] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:20:48] [INFO] [Bullet] Caliber cannot penetrate walls
[07:20:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 360), shooter_id=388241558593, bullet_pos=(484.7209, 373.6692)
[07:20:48] [INFO] [Bullet] Using shooter_position, distance=334.999908447266
[07:20:48] [INFO] [Bullet] Distance to wall: 334.999908447266 (22.8107597766875% of viewport)
[07:20:48] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:20:48] [INFO] [Bullet] Caliber cannot penetrate walls
[07:20:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 360), shooter_id=388241558593, bullet_pos=(484.9135, 367.6185)
[07:20:48] [INFO] [Bullet] Using shooter_position, distance=335.000183105469
[07:20:48] [INFO] [Bullet] Distance to wall: 335.000183105469 (22.8107784786696% of viewport)
[07:20:48] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:20:48] [INFO] [Bullet] Caliber cannot penetrate walls
[07:20:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 360), source=PLAYER (MiniUzi), range=1469, listeners=0
[07:20:48] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:20:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 360), source=PLAYER (MiniUzi), range=1469, listeners=0
[07:20:48] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:20:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 360), shooter_id=388241558593, bullet_pos=(484.6949, 374.2933)
[07:20:48] [INFO] [Bullet] Using shooter_position, distance=334.999908447266
[07:20:48] [INFO] [Bullet] Distance to wall: 334.999908447266 (22.8107597766875% of viewport)
[07:20:48] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:20:48] [INFO] [Bullet] Caliber cannot penetrate walls
[07:20:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 360), shooter_id=388241558593, bullet_pos=(484.9907, 357.4835)
[07:20:48] [INFO] [Bullet] Using shooter_position, distance=335.000183105469
[07:20:48] [INFO] [Bullet] Distance to wall: 335.000183105469 (22.8107784786696% of viewport)
[07:20:48] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:20:48] [INFO] [Bullet] Caliber cannot penetrate walls
[07:20:48] [INFO] [ReplayManager] Recording frame 6540 (108,5s): player_valid=False, enemies=10
[07:20:49] [INFO] [ReplayManager] Recording frame 6600 (109,5s): player_valid=False, enemies=10
[07:20:50] [INFO] [ReplayManager] Recording frame 6660 (110,5s): player_valid=False, enemies=10
[07:20:51] [INFO] [ReplayManager] Recording frame 6720 (111,5s): player_valid=False, enemies=10
[07:20:52] [INFO] [ReplayManager] Recording frame 6780 (112,5s): player_valid=False, enemies=10
[07:20:53] [INFO] [ReplayManager] Recording frame 6840 (113,5s): player_valid=False, enemies=10
[07:20:54] [INFO] [ReplayManager] Recording frame 6900 (114,5s): player_valid=False, enemies=10
[07:20:55] [INFO] [ReplayManager] Recording frame 6960 (115,5s): player_valid=False, enemies=10
[07:20:56] [INFO] [ReplayManager] Recording frame 7020 (116,5s): player_valid=False, enemies=10
[07:20:57] [INFO] [ReplayManager] Recording frame 7080 (117,5s): player_valid=False, enemies=10
[07:20:58] [INFO] [ReplayManager] Recording frame 7140 (118,5s): player_valid=False, enemies=10
[07:20:59] [INFO] [ReplayManager] Recording frame 7200 (119,5s): player_valid=False, enemies=10
[07:21:00] [INFO] [ReplayManager] Recording frame 7260 (120,5s): player_valid=False, enemies=10
[07:21:01] [INFO] [ReplayManager] Recording frame 7320 (121,5s): player_valid=False, enemies=10
[07:21:02] [INFO] [ReplayManager] Recording frame 7380 (122,5s): player_valid=False, enemies=10
[07:21:03] [INFO] [ReplayManager] Recording frame 7440 (123,5s): player_valid=False, enemies=10
[07:21:04] [INFO] [ReplayManager] Recording frame 7500 (124,5s): player_valid=False, enemies=10
[07:21:05] [INFO] [ReplayManager] Recording frame 7560 (125,5s): player_valid=False, enemies=10
[07:21:06] [INFO] [ReplayManager] Recording frame 7620 (126,5s): player_valid=False, enemies=10
[07:21:07] [INFO] [ReplayManager] Recording frame 7680 (127,5s): player_valid=False, enemies=10
[07:21:08] [INFO] [ReplayManager] Recording frame 7740 (128,5s): player_valid=False, enemies=10
[07:21:09] [INFO] [ReplayManager] Recording frame 7800 (129,5s): player_valid=False, enemies=10
[07:21:10] [INFO] [ReplayManager] Recording frame 7860 (130,5s): player_valid=False, enemies=10
[07:21:11] [INFO] [ReplayManager] Recording frame 7920 (131,5s): player_valid=False, enemies=10
[07:21:12] [INFO] [ReplayManager] Recording frame 7980 (132,5s): player_valid=False, enemies=10
[07:21:13] [INFO] [ReplayManager] Recording frame 8040 (133,5s): player_valid=False, enemies=10
[07:21:14] [INFO] [ReplayManager] Recording frame 8100 (134,5s): player_valid=False, enemies=10
[07:21:15] [INFO] [ReplayManager] Recording frame 8160 (135,5s): player_valid=False, enemies=10
[07:21:16] [INFO] [PauseMenu] Armory button pressed
[07:21:16] [INFO] [PauseMenu] Creating new armory menu instance
[07:21:16] [INFO] [PauseMenu] armory_menu_scene resource path: res://scenes/ui/ArmoryMenu.tscn
[07:21:16] [INFO] [PauseMenu] Instance created, class: CanvasLayer, name: ArmoryMenu
[07:21:16] [INFO] [PauseMenu] Script attached: res://scripts/ui/armory_menu.gd
[07:21:16] [INFO] [PauseMenu] back_pressed signal exists on instance
[07:21:16] [INFO] [PauseMenu] back_pressed signal connected
[07:21:16] [INFO] [PauseMenu] Armory menu instance added as child, is_inside_tree: true
[07:21:16] [INFO] [PauseMenu] _populate_weapon_grid method exists
[07:21:16] [INFO] [ReplayManager] Recording frame 8220 (136,5s): player_valid=False, enemies=10
[07:21:17] [INFO] [GameManager] Weapon selected: m16
[07:21:17] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[07:21:17] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[07:21:17] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[07:21:17] [INFO] [LastChance] Resetting all effects (scene change detected)
[07:21:17] [INFO] [CinemaEffects] Scene changed to: TestTier
[07:21:17] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[07:21:17] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:21:17] [INFO] [BloodyFeet:Player] Footprint scene loaded
[07:21:17] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[07:21:17] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[07:21:17] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[07:21:17] [INFO] [Player.Grenade] Tutorial level detected - infinite grenades enabled
[07:21:17] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[07:21:17] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[07:21:17] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[07:21:17] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[07:21:17] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[07:21:17] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[07:21:17] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 3/3, Health: 3/4
[07:21:17] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[07:21:17] [INFO] [CinemaEffects] Found player node: Player
[07:21:17] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[07:21:17] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[07:21:17] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[07:21:17] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[07:21:17] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[07:21:17] [INFO] [LastChance] Found player: Player
[07:21:17] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[07:21:17] [INFO] [LastChance] Connected to player Damaged signal (C#)
[07:21:17] [INFO] [LastChance] Connected to player Died signal (C#)
[07:21:17] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[07:21:17] [INFO] [Player] Detecting weapon pose (frame 3)...
[07:21:17] [INFO] [Player] Detected weapon: Rifle (default pose)
[07:21:17] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[07:21:17] [INFO] [ReplayManager] Recording frame 8280 (137,5s): player_valid=False, enemies=10
[07:21:18] [INFO] [ReplayManager] Recording frame 8340 (138,5s): player_valid=False, enemies=10
[07:21:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 117.4007), source=PLAYER (AssaultRifle), range=1469, listeners=0
[07:21:19] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:21:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 117.40067), shooter_id=431174454061, bullet_pos=(447.64313, 66.28749)
[07:21:19] [INFO] [Bullet] Using shooter_position, distance=301,99997
[07:21:19] [INFO] [Bullet] Distance to wall: 301,99997 (20,563734% of viewport)
[07:21:19] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:21:19] [INFO] [Bullet] Starting wall penetration at (447.64313, 66.28749)
[07:21:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 129.4562), source=PLAYER (AssaultRifle), range=1469, listeners=0
[07:21:19] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:21:19] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[07:21:19] [INFO] [Bullet] Exiting penetration at (493.63654, 58.389206) after traveling 41,666668 pixels through wall
[07:21:19] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[07:21:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 129.45622), shooter_id=431174454061, bullet_pos=(401.8862, 63.67767)
[07:21:19] [INFO] [Bullet] Using shooter_position, distance=260,3334
[07:21:19] [INFO] [Bullet] Distance to wall: 260,3334 (17,726582% of viewport)
[07:21:19] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:21:19] [INFO] [ReplayManager] Recording frame 8400 (139,5s): player_valid=False, enemies=10
[07:21:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 130.4562), source=PLAYER (AssaultRifle), range=1469, listeners=0
[07:21:20] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:21:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 130.45622), shooter_id=431174454061, bullet_pos=(359.28806, 67.103096)
[07:21:20] [INFO] [Bullet] Using shooter_position, distance=218,66666
[07:21:20] [INFO] [Bullet] Distance to wall: 218,66666 (14,889415% of viewport)
[07:21:20] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:21:20] [INFO] [Bullet] Starting wall penetration at (359.28806, 67.103096)
[07:21:20] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[07:21:20] [INFO] [Bullet] Exiting penetration at (403.9532, 53.58261) after traveling 41,666668 pixels through wall
[07:21:20] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[07:21:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 130.4562), source=PLAYER (AssaultRifle), range=1469, listeners=0
[07:21:20] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:21:20] [INFO] [ReplayManager] Recording frame 8460 (140,5s): player_valid=False, enemies=10
[07:21:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 130.45622), shooter_id=431174454061, bullet_pos=(402.56808, 67.34671)
[07:21:20] [INFO] [Bullet] Using shooter_position, distance=260,33334
[07:21:20] [INFO] [Bullet] Distance to wall: 260,33334 (17,726576% of viewport)
[07:21:20] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:21:20] [INFO] [Bullet] Starting wall penetration at (402.56808, 67.34671)
[07:21:20] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[07:21:20] [INFO] [Bullet] Exiting penetration at (447.84277, 56.033867) after traveling 41,66667 pixels through wall
[07:21:20] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[07:21:21] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 99.45622), source=PLAYER (AssaultRifle), range=1469, listeners=0
[07:21:21] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:21:21] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 99.45622), shooter_id=431174454061, bullet_pos=(366.2702, 67.17149)
[07:21:21] [INFO] [Bullet] Using shooter_position, distance=218,66666
[07:21:21] [INFO] [Bullet] Distance to wall: 218,66666 (14,889415% of viewport)
[07:21:21] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:21:21] [INFO] [Bullet] Starting wall penetration at (366.2702, 67.17149)
[07:21:21] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[07:21:21] [INFO] [Bullet] Exiting penetration at (412.4254, 60.28146) after traveling 41,666668 pixels through wall
[07:21:21] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[07:21:21] [INFO] [ReplayManager] Recording frame 8520 (141,5s): player_valid=False, enemies=10
[07:21:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 86.00046), source=PLAYER (AssaultRifle), range=1469, listeners=0
[07:21:22] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:21:22] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 86.00046), shooter_id=431174454061, bullet_pos=(409.70276, 67.89164)
[07:21:22] [INFO] [Bullet] Using shooter_position, distance=260,33334
[07:21:22] [INFO] [Bullet] Distance to wall: 260,33334 (17,726576% of viewport)
[07:21:22] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:21:22] [INFO] [Bullet] Starting wall penetration at (409.70276, 67.89164)
[07:21:22] [INFO] [Bullet] Raycast forward hit penetrating body at distance 9,279741
[07:21:22] [INFO] [ReplayManager] Recording frame 8580 (142,5s): player_valid=False, enemies=10
[07:21:22] [INFO] [Bullet] Max penetration distance exceeded: 83,33335 >= 48
[07:21:22] [INFO] [Bullet] Body exited signal received for penetrating body
[07:21:22] [INFO] [Bullet] Exiting penetration at (497.8221, 61.74716) after traveling 83,33335 pixels through wall
[07:21:22] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[07:21:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 86.00046), source=PLAYER (AssaultRifle), range=1469, listeners=0
[07:21:23] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:21:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 86.00046), shooter_id=431174454061, bullet_pos=(409.70462, 67.91857)
[07:21:23] [INFO] [Bullet] Using shooter_position, distance=260,33334
[07:21:23] [INFO] [Bullet] Distance to wall: 260,33334 (17,726576% of viewport)
[07:21:23] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:21:23] [INFO] [Bullet] Starting wall penetration at (409.70462, 67.91857)
[07:21:23] [INFO] [Bullet] Raycast forward hit penetrating body at distance 9,750843
[07:21:23] [INFO] [Bullet] Max penetration distance exceeded: 83,333336 >= 48
[07:21:23] [INFO] [Bullet] Body exited signal received for penetrating body
[07:21:23] [INFO] [Bullet] Exiting penetration at (497.82462, 61.783234) after traveling 83,333336 pixels through wall
[07:21:23] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[07:21:23] [INFO] [ReplayManager] Recording frame 8640 (143,5s): player_valid=False, enemies=10
[07:21:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 86.00046), source=PLAYER (AssaultRifle), range=1469, listeners=0
[07:21:24] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:21:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 86.00046), source=PLAYER (AssaultRifle), range=1469, listeners=0
[07:21:24] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:21:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 86.00046), shooter_id=431174454061, bullet_pos=(534.8829, 67.37414)
[07:21:24] [INFO] [Bullet] Using shooter_position, distance=385,3333
[07:21:24] [INFO] [Bullet] Distance to wall: 385,3333 (26,238054% of viewport)
[07:21:24] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:21:24] [INFO] [Bullet] Starting wall penetration at (534.8829, 67.37414)
[07:21:24] [INFO] [Bullet] Raycast forward hit penetrating body at distance 23,136055
[07:21:24] [INFO] [Bullet] Max penetration distance exceeded: 83,333336 >= 48
[07:21:24] [INFO] [Bullet] Body exited signal received for penetrating body
[07:21:24] [INFO] [Bullet] Exiting penetration at (623.113, 63.104263) after traveling 83,333336 pixels through wall
[07:21:24] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[07:21:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 86.00046), shooter_id=431174454061, bullet_pos=(534.8829, 67.37386)
[07:21:24] [INFO] [Bullet] Using shooter_position, distance=385,33334
[07:21:24] [INFO] [Bullet] Distance to wall: 385,33334 (26,238056% of viewport)
[07:21:24] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:21:24] [INFO] [Bullet] Starting wall penetration at (534.8829, 67.37386)
[07:21:24] [INFO] [Bullet] Raycast forward hit penetrating body at distance 23,129395
[07:21:24] [INFO] [Bullet] Max penetration distance exceeded: 83,33334 >= 48
[07:21:24] [INFO] [Bullet] Body exited signal received for penetrating body
[07:21:24] [INFO] [Bullet] Exiting penetration at (623.113, 63.103928) after traveling 83,33334 pixels through wall
[07:21:24] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[07:21:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 86.00046), source=PLAYER (AssaultRifle), range=1469, listeners=0
[07:21:24] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:21:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 86.00046), source=PLAYER (AssaultRifle), range=1469, listeners=0
[07:21:24] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:21:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 86.00046), shooter_id=431174454061, bullet_pos=(534.8829, 67.37414)
[07:21:24] [INFO] [Bullet] Using shooter_position, distance=385,3333
[07:21:24] [INFO] [Bullet] Distance to wall: 385,3333 (26,238054% of viewport)
[07:21:24] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:21:24] [INFO] [Bullet] Starting wall penetration at (534.8829, 67.37414)
[07:21:24] [INFO] [Bullet] Raycast forward hit penetrating body at distance 23,136055
[07:21:24] [INFO] [Bullet] Max penetration distance exceeded: 83,333336 >= 48
[07:21:24] [INFO] [Bullet] Body exited signal received for penetrating body
[07:21:24] [INFO] [Bullet] Exiting penetration at (623.113, 63.104263) after traveling 83,333336 pixels through wall
[07:21:24] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[07:21:24] [INFO] [ReplayManager] Recording frame 8700 (144,5s): player_valid=False, enemies=10
[07:21:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 86.00046), source=PLAYER (AssaultRifle), range=1469, listeners=0
[07:21:24] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:21:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 86.00046), shooter_id=431174454061, bullet_pos=(534.8829, 67.37386)
[07:21:24] [INFO] [Bullet] Using shooter_position, distance=385,33334
[07:21:24] [INFO] [Bullet] Distance to wall: 385,33334 (26,238056% of viewport)
[07:21:24] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:21:24] [INFO] [Bullet] Starting wall penetration at (534.8829, 67.37386)
[07:21:24] [INFO] [Bullet] Raycast forward hit penetrating body at distance 23,129395
[07:21:24] [INFO] [Bullet] Max penetration distance exceeded: 83,33334 >= 48
[07:21:24] [INFO] [Bullet] Body exited signal received for penetrating body
[07:21:24] [INFO] [Bullet] Exiting penetration at (623.113, 63.103928) after traveling 83,33334 pixels through wall
[07:21:24] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[07:21:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 86.00046), shooter_id=431174454061, bullet_pos=(534.8829, 67.37399)
[07:21:25] [INFO] [Bullet] Using shooter_position, distance=385,3333
[07:21:25] [INFO] [Bullet] Distance to wall: 385,3333 (26,238054% of viewport)
[07:21:25] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:21:25] [INFO] [Bullet] Starting wall penetration at (534.8829, 67.37399)
[07:21:25] [INFO] [Bullet] Raycast forward hit penetrating body at distance 23,132511
[07:21:25] [INFO] [Bullet] Max penetration distance exceeded: 83,33334 >= 48
[07:21:25] [INFO] [Bullet] Body exited signal received for penetrating body
[07:21:25] [INFO] [Bullet] Exiting penetration at (623.113, 63.104084) after traveling 83,33334 pixels through wall
[07:21:25] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[07:21:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 86.00046), source=PLAYER (AssaultRifle), range=1469, listeners=0
[07:21:25] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:21:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 86.00046), source=PLAYER (AssaultRifle), range=1469, listeners=0
[07:21:25] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:21:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 86.00046), shooter_id=431174454061, bullet_pos=(493.1098, 66.44481)
[07:21:25] [INFO] [Bullet] Using shooter_position, distance=343,66663
[07:21:25] [INFO] [Bullet] Distance to wall: 343,66663 (23,400894% of viewport)
[07:21:25] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:21:25] [INFO] [Bullet] Starting wall penetration at (493.1098, 66.44481)
[07:21:25] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[07:21:25] [INFO] [Bullet] Exiting penetration at (539.70087, 63.78934) after traveling 41,666668 pixels through wall
[07:21:25] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[07:21:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 86.00046), source=PLAYER (AssaultRifle), range=1469, listeners=0
[07:21:25] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:21:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 86.00046), shooter_id=431174454061, bullet_pos=(493.1098, 66.444565)
[07:21:25] [INFO] [Bullet] Using shooter_position, distance=343,66666
[07:21:25] [INFO] [Bullet] Distance to wall: 343,66666 (23,400896% of viewport)
[07:21:25] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:21:25] [INFO] [Bullet] Starting wall penetration at (493.1098, 66.444565)
[07:21:25] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[07:21:25] [INFO] [Bullet] Exiting penetration at (539.70087, 63.789066) after traveling 41,666668 pixels through wall
[07:21:25] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[07:21:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 86.00046), source=PLAYER (AssaultRifle), range=1469, listeners=0
[07:21:25] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:21:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 86.00046), shooter_id=431174454061, bullet_pos=(493.1098, 66.44468)
[07:21:25] [INFO] [Bullet] Using shooter_position, distance=343,66666
[07:21:25] [INFO] [Bullet] Distance to wall: 343,66666 (23,400896% of viewport)
[07:21:25] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:21:25] [INFO] [Bullet] Starting wall penetration at (493.1098, 66.44468)
[07:21:25] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[07:21:25] [INFO] [Bullet] Exiting penetration at (539.70087, 63.789192) after traveling 41,666668 pixels through wall
[07:21:25] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[07:21:25] [INFO] [ReplayManager] Recording frame 8760 (145,5s): player_valid=False, enemies=10
[07:21:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 86.00046), source=PLAYER (AssaultRifle), range=1469, listeners=0
[07:21:25] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:21:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 86.00046), shooter_id=431174454061, bullet_pos=(493.1098, 66.44475)
[07:21:25] [INFO] [Bullet] Using shooter_position, distance=343,66666
[07:21:25] [INFO] [Bullet] Distance to wall: 343,66666 (23,400896% of viewport)
[07:21:25] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:21:25] [INFO] [Bullet] Starting wall penetration at (493.1098, 66.44475)
[07:21:25] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[07:21:25] [INFO] [Bullet] Exiting penetration at (539.70087, 63.78927) after traveling 41,666668 pixels through wall
[07:21:25] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[07:21:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 86.00046), source=PLAYER (AssaultRifle), range=1469, listeners=0
[07:21:26] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:21:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 86.00046), shooter_id=431174454061, bullet_pos=(493.1098, 66.44481)
[07:21:26] [INFO] [Bullet] Using shooter_position, distance=343,66663
[07:21:26] [INFO] [Bullet] Distance to wall: 343,66663 (23,400894% of viewport)
[07:21:26] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:21:26] [INFO] [Bullet] Starting wall penetration at (493.1098, 66.44481)
[07:21:26] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[07:21:26] [INFO] [Bullet] Exiting penetration at (539.70087, 63.78934) after traveling 41,666668 pixels through wall
[07:21:26] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[07:21:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 86.00046), source=PLAYER (AssaultRifle), range=1469, listeners=0
[07:21:26] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:21:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 86.00046), shooter_id=431174454061, bullet_pos=(493.1098, 66.444565)
[07:21:26] [INFO] [Bullet] Using shooter_position, distance=343,66666
[07:21:26] [INFO] [Bullet] Distance to wall: 343,66666 (23,400896% of viewport)
[07:21:26] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:21:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 86.00046), source=PLAYER (AssaultRifle), range=1469, listeners=0
[07:21:26] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:21:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 86.00046), shooter_id=431174454061, bullet_pos=(493.1098, 66.44468)
[07:21:26] [INFO] [Bullet] Using shooter_position, distance=343,66666
[07:21:26] [INFO] [Bullet] Distance to wall: 343,66666 (23,400896% of viewport)
[07:21:26] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:21:26] [INFO] [Bullet] Starting wall penetration at (493.1098, 66.44468)
[07:21:26] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[07:21:26] [INFO] [Bullet] Exiting penetration at (539.70087, 63.789192) after traveling 41,666668 pixels through wall
[07:21:26] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[07:21:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 86.00046), source=PLAYER (AssaultRifle), range=1469, listeners=0
[07:21:26] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:21:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 86.00046), shooter_id=431174454061, bullet_pos=(493.1098, 66.44475)
[07:21:26] [INFO] [Bullet] Using shooter_position, distance=343,66666
[07:21:26] [INFO] [Bullet] Distance to wall: 343,66666 (23,400896% of viewport)
[07:21:26] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:21:26] [INFO] [Bullet] Starting wall penetration at (493.1098, 66.44475)
[07:21:26] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[07:21:26] [INFO] [Bullet] Exiting penetration at (539.70087, 63.78927) after traveling 41,666668 pixels through wall
[07:21:26] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[07:21:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 86.00046), source=PLAYER (AssaultRifle), range=1469, listeners=0
[07:21:26] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:21:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 86.00046), shooter_id=431174454061, bullet_pos=(493.1098, 66.44481)
[07:21:26] [INFO] [Bullet] Using shooter_position, distance=343,66663
[07:21:26] [INFO] [Bullet] Distance to wall: 343,66663 (23,400894% of viewport)
[07:21:26] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:21:26] [INFO] [Bullet] Starting wall penetration at (493.1098, 66.44481)
[07:21:26] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[07:21:26] [INFO] [Bullet] Exiting penetration at (539.70087, 63.78934) after traveling 41,666668 pixels through wall
[07:21:26] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[07:21:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 86.00046), source=PLAYER (AssaultRifle), range=1469, listeners=0
[07:21:26] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:21:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 86.00046), shooter_id=431174454061, bullet_pos=(493.1098, 66.444565)
[07:21:26] [INFO] [Bullet] Using shooter_position, distance=343,66666
[07:21:26] [INFO] [Bullet] Distance to wall: 343,66666 (23,400896% of viewport)
[07:21:26] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:21:26] [INFO] [Bullet] Starting wall penetration at (493.1098, 66.444565)
[07:21:26] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[07:21:26] [INFO] [Bullet] Exiting penetration at (539.70087, 63.789066) after traveling 41,666668 pixels through wall
[07:21:26] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[07:21:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 86.00046), source=PLAYER (AssaultRifle), range=1469, listeners=0
[07:21:26] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:21:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 86.00046), shooter_id=431174454061, bullet_pos=(493.1098, 66.44468)
[07:21:26] [INFO] [Bullet] Using shooter_position, distance=343,66666
[07:21:26] [INFO] [Bullet] Distance to wall: 343,66666 (23,400896% of viewport)
[07:21:26] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:21:26] [INFO] [Bullet] Starting wall penetration at (493.1098, 66.44468)
[07:21:26] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[07:21:26] [INFO] [Bullet] Exiting penetration at (539.70087, 63.789192) after traveling 41,666668 pixels through wall
[07:21:26] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[07:21:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 86.00046), source=PLAYER (AssaultRifle), range=1469, listeners=0
[07:21:26] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:21:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 86.00046), shooter_id=431174454061, bullet_pos=(493.1098, 66.44475)
[07:21:26] [INFO] [Bullet] Using shooter_position, distance=343,66666
[07:21:26] [INFO] [Bullet] Distance to wall: 343,66666 (23,400896% of viewport)
[07:21:26] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:21:26] [INFO] [Bullet] Starting wall penetration at (493.1098, 66.44475)
[07:21:26] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[07:21:26] [INFO] [Bullet] Exiting penetration at (539.70087, 63.78927) after traveling 41,666668 pixels through wall
[07:21:26] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[07:21:26] [INFO] [ReplayManager] Recording frame 8820 (146,5s): player_valid=False, enemies=10
[07:21:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 86.00046), shooter_id=431174454061, bullet_pos=(493.1098, 66.44481)
[07:21:26] [INFO] [Bullet] Using shooter_position, distance=343,66663
[07:21:26] [INFO] [Bullet] Distance to wall: 343,66663 (23,400894% of viewport)
[07:21:26] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:21:26] [INFO] [Bullet] Starting wall penetration at (493.1098, 66.44481)
[07:21:26] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[07:21:26] [INFO] [Bullet] Exiting penetration at (539.70087, 63.78934) after traveling 41,666668 pixels through wall
[07:21:26] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[07:21:27] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[07:21:27] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[07:21:27] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[07:21:27] [INFO] [LastChance] Resetting all effects (scene change detected)
[07:21:27] [INFO] [CinemaEffects] Scene changed to: TestTier
[07:21:27] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[07:21:27] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:21:27] [INFO] [BloodyFeet:Player] Footprint scene loaded
[07:21:27] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[07:21:27] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[07:21:27] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[07:21:27] [INFO] [Player.Grenade] Tutorial level detected - infinite grenades enabled
[07:21:27] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[07:21:27] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[07:21:27] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[07:21:27] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[07:21:27] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[07:21:27] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[07:21:27] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 3/3, Health: 3/4
[07:21:27] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[07:21:27] [INFO] [CinemaEffects] Found player node: Player
[07:21:27] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[07:21:27] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[07:21:27] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[07:21:27] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[07:21:27] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[07:21:27] [INFO] [LastChance] Found player: Player
[07:21:27] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[07:21:27] [INFO] [LastChance] Connected to player Damaged signal (C#)
[07:21:27] [INFO] [LastChance] Connected to player Died signal (C#)
[07:21:27] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[07:21:27] [INFO] [Player] Detecting weapon pose (frame 3)...
[07:21:27] [INFO] [Player] Detected weapon: Rifle (default pose)
[07:21:27] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[07:21:27] [INFO] [ReplayManager] Recording frame 8880 (147,5s): player_valid=False, enemies=10
[07:21:28] [INFO] [ReplayManager] Recording frame 8940 (148,5s): player_valid=False, enemies=10
[07:21:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 86.00043), source=PLAYER (AssaultRifle), range=1469, listeners=0
[07:21:28] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:21:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 86.00043), source=PLAYER (AssaultRifle), range=1469, listeners=0
[07:21:29] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:21:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 86.00043), source=PLAYER (AssaultRifle), range=1469, listeners=0
[07:21:29] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:21:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 86.00043), source=PLAYER (AssaultRifle), range=1469, listeners=0
[07:21:29] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:21:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 86.00043), shooter_id=478150658818, bullet_pos=(660.0137, 67.94371)
[07:21:29] [INFO] [Bullet] Using shooter_position, distance=510,33322
[07:21:29] [INFO] [Bullet] Distance to wall: 510,33322 (34,749527% of viewport)
[07:21:29] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:21:29] [INFO] [Bullet] Starting wall penetration at (660.0137, 67.94371)
[07:21:29] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[07:21:29] [INFO] [Bullet] Exiting penetration at (706.6511, 66.29254) after traveling 41,666668 pixels through wall
[07:21:29] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[07:21:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 86.00043), source=PLAYER (AssaultRifle), range=1469, listeners=0
[07:21:29] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:21:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 86.00043), shooter_id=478150658818, bullet_pos=(493.10022, 66.27626)
[07:21:29] [INFO] [Bullet] Using shooter_position, distance=343,6667
[07:21:29] [INFO] [Bullet] Distance to wall: 343,6667 (23,400896% of viewport)
[07:21:29] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:21:29] [INFO] [Bullet] Starting wall penetration at (493.10022, 66.27626)
[07:21:29] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[07:21:29] [INFO] [Bullet] Exiting penetration at (539.68994, 63.597908) after traveling 41,666668 pixels through wall
[07:21:29] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[07:21:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 86.00043), shooter_id=478150658818, bullet_pos=(409.70123, 67.8703)
[07:21:29] [INFO] [Bullet] Using shooter_position, distance=260,3333
[07:21:29] [INFO] [Bullet] Distance to wall: 260,3333 (17,726574% of viewport)
[07:21:29] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:21:29] [INFO] [Bullet] Starting wall penetration at (409.70123, 67.8703)
[07:21:29] [INFO] [Bullet] Raycast forward hit penetrating body at distance 8,907522
[07:21:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 86.00043), source=PLAYER (AssaultRifle), range=1469, listeners=0
[07:21:29] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:21:29] [INFO] [Bullet] Max penetration distance exceeded: 83,33334 >= 48
[07:21:29] [INFO] [Bullet] Body exited signal received for penetrating body
[07:21:29] [INFO] [Bullet] Exiting penetration at (497.82007, 61.718586) after traveling 83,33334 pixels through wall
[07:21:29] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[07:21:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 86.00043), shooter_id=478150658818, bullet_pos=(1826.9641, 75.094604)
[07:21:29] [INFO] [Bullet] Using shooter_position, distance=1676,9996
[07:21:29] [INFO] [Bullet] Distance to wall: 1676,9996 (114,189995% of viewport)
[07:21:29] [INFO] [Bullet] Distance-based penetration chance: 27,162003%
[07:21:29] [INFO] [Bullet] Penetration failed (distance roll)
[07:21:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 86.00043), shooter_id=478150658818, bullet_pos=(409.54465, 65.751396)
[07:21:29] [INFO] [Bullet] Using shooter_position, distance=260,33334
[07:21:29] [INFO] [Bullet] Distance to wall: 260,33334 (17,726576% of viewport)
[07:21:29] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:21:29] [INFO] [Bullet] Starting wall penetration at (409.54465, 65.751396)
[07:21:29] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[07:21:29] [INFO] [Bullet] Exiting penetration at (456.06995, 62.12161) after traveling 41,66667 pixels through wall
[07:21:29] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[07:21:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 86.00043), source=PLAYER (AssaultRifle), range=1469, listeners=0
[07:21:29] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:21:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 86.00043), shooter_id=478150658818, bullet_pos=(1660.2255, 67.90574)
[07:21:29] [INFO] [Bullet] Using shooter_position, distance=1510,3339
[07:21:29] [INFO] [Bullet] Distance to wall: 1510,3339 (102,841415% of viewport)
[07:21:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 86.00043), shooter_id=478150658818, bullet_pos=(409.49008, 65.0632)
[07:21:29] [INFO] [Bullet] Using shooter_position, distance=260,33337
[07:21:29] [INFO] [Bullet] Distance to wall: 260,33337 (17,72658% of viewport)
[07:21:29] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:21:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 86.00043), source=PLAYER (AssaultRifle), range=1469, listeners=0
[07:21:29] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:21:29] [INFO] [LastChance] Threat detected: Bullet
[07:21:29] [INFO] [LastChance] Not in hard mode - effect disabled
[07:21:29] [INFO] [LastChance] Cannot trigger effect - conditions not met
[07:21:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 86.00043), shooter_id=478150658818, bullet_pos=(409.49374, 65.109535)
[07:21:29] [INFO] [Bullet] Using shooter_position, distance=260,3333
[07:21:29] [INFO] [Bullet] Distance to wall: 260,3333 (17,726574% of viewport)
[07:21:29] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:21:29] [INFO] [Bullet] Starting wall penetration at (409.49374, 65.109535)
[07:21:29] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[07:21:29] [INFO] [Bullet] Exiting penetration at (456.00992, 61.364685) after traveling 41,666668 pixels through wall
[07:21:29] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[07:21:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 86.00043), source=PLAYER (AssaultRifle), range=1469, listeners=0
[07:21:29] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:21:29] [INFO] [ReplayManager] Recording frame 9000 (149,5s): player_valid=False, enemies=10
[07:21:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 86.00043), shooter_id=478150658818, bullet_pos=(409.49786, 65.160065)
[07:21:29] [INFO] [Bullet] Using shooter_position, distance=260,33337
[07:21:29] [INFO] [Bullet] Distance to wall: 260,33337 (17,72658% of viewport)
[07:21:29] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:21:29] [INFO] [Bullet] Starting wall penetration at (409.49786, 65.160065)
[07:21:29] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[07:21:29] [INFO] [Bullet] Exiting penetration at (456.01477, 61.42428) after traveling 41,666668 pixels through wall
[07:21:29] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[07:21:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 86.00043), source=PLAYER (AssaultRifle), range=1469, listeners=0
[07:21:29] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:21:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 86.00043), shooter_id=478150658818, bullet_pos=(409.50232, 65.21655)
[07:21:30] [INFO] [Bullet] Using shooter_position, distance=260,33328
[07:21:30] [INFO] [Bullet] Distance to wall: 260,33328 (17,726572% of viewport)
[07:21:30] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:21:30] [INFO] [Bullet] Starting wall penetration at (409.50232, 65.21655)
[07:21:30] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[07:21:30] [INFO] [Bullet] Exiting penetration at (456.02002, 61.49089) after traveling 41,666668 pixels through wall
[07:21:30] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[07:21:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 86.00043), source=PLAYER (AssaultRifle), range=1469, listeners=0
[07:21:30] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:21:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 86.00043), shooter_id=478150658818, bullet_pos=(409.50763, 65.281715)
[07:21:30] [INFO] [Bullet] Using shooter_position, distance=260,3334
[07:21:30] [INFO] [Bullet] Distance to wall: 260,3334 (17,726582% of viewport)
[07:21:30] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:21:30] [INFO] [Bullet] Starting wall penetration at (409.50763, 65.281715)
[07:21:30] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[07:21:30] [INFO] [Bullet] Exiting penetration at (456.02628, 61.567734) after traveling 41,66667 pixels through wall
[07:21:30] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[07:21:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 86.00043), source=PLAYER (AssaultRifle), range=1469, listeners=0
[07:21:30] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:21:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 86.00043), source=PLAYER (AssaultRifle), range=1469, listeners=0
[07:21:30] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:21:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 86.00043), shooter_id=478150658818, bullet_pos=(534.82214, 66.157646)
[07:21:30] [INFO] [Bullet] Using shooter_position, distance=385,33337
[07:21:30] [INFO] [Bullet] Distance to wall: 385,33337 (26,23806% of viewport)
[07:21:30] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:21:30] [INFO] [Bullet] Starting wall penetration at (534.82214, 66.157646)
[07:21:30] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[07:21:30] [INFO] [Bullet] Exiting penetration at (581.4269, 63.754543) after traveling 41,66667 pixels through wall
[07:21:30] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[07:21:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 86.00043), source=PLAYER (AssaultRifle), range=1469, listeners=0
[07:21:30] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:21:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 86.00043), shooter_id=478150658818, bullet_pos=(618.2817, 67.00595)
[07:21:30] [INFO] [Bullet] Using shooter_position, distance=468,66675
[07:21:30] [INFO] [Bullet] Distance to wall: 468,66675 (31,91238% of viewport)
[07:21:30] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:21:30] [INFO] [Bullet] Starting wall penetration at (618.2817, 67.00595)
[07:21:30] [INFO] [Bullet] Raycast forward hit penetrating body at distance 27,501661
[07:21:30] [INFO] [Bullet] Max penetration distance exceeded: 83,333336 >= 48
[07:21:30] [INFO] [Bullet] Body exited signal received for penetrating body
[07:21:30] [INFO] [Bullet] Exiting penetration at (706.5425, 63.42591) after traveling 83,333336 pixels through wall
[07:21:30] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[07:21:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 86.00043), source=PLAYER (AssaultRifle), range=1469, listeners=0
[07:21:30] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:21:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 86.00043), shooter_id=478150658818, bullet_pos=(618.2769, 66.8895)
[07:21:30] [INFO] [Bullet] Using shooter_position, distance=468,66672
[07:21:30] [INFO] [Bullet] Distance to wall: 468,66672 (31,91238% of viewport)
[07:21:30] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:21:30] [INFO] [Bullet] Starting wall penetration at (618.2769, 66.8895)
[07:21:30] [INFO] [Bullet] Raycast forward hit penetrating body at distance 24,194012
[07:21:30] [INFO] [Bullet] Max penetration distance exceeded: 83,333336 >= 48
[07:21:30] [INFO] [Bullet] Body exited signal received for penetrating body
[07:21:30] [INFO] [Bullet] Exiting penetration at (706.5368, 63.287514) after traveling 83,333336 pixels through wall
[07:21:30] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[07:21:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 86.00043), source=PLAYER (AssaultRifle), range=1469, listeners=0
[07:21:30] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:21:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 86.00043), shooter_id=478150658818, bullet_pos=(493.1536, 67.22873)
[07:21:30] [INFO] [Bullet] Using shooter_position, distance=343,66666
[07:21:30] [INFO] [Bullet] Distance to wall: 343,66666 (23,400896% of viewport)
[07:21:30] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:21:30] [INFO] [Bullet] Starting wall penetration at (493.1536, 67.22873)
[07:21:30] [INFO] [Bullet] Raycast forward hit penetrating body at distance 12,443932
[07:21:30] [INFO] [Bullet] Max penetration distance exceeded: 83,333336 >= 48
[07:21:30] [INFO] [Bullet] Body exited signal received for penetrating body
[07:21:30] [INFO] [Bullet] Exiting penetration at (581.3551, 62.4038) after traveling 83,333336 pixels through wall
[07:21:30] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[07:21:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 86.00043), shooter_id=478150658818, bullet_pos=(409.677, 67.52671)
[07:21:30] [INFO] [Bullet] Using shooter_position, distance=260,3333
[07:21:30] [INFO] [Bullet] Distance to wall: 260,3333 (17,726574% of viewport)
[07:21:30] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:21:30] [INFO] [Bullet] Starting wall penetration at (409.677, 67.52671)
[07:21:30] [INFO] [Bullet] Raycast forward hit penetrating body at distance 3,0321188
[07:21:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 86.00043), source=PLAYER (AssaultRifle), range=1469, listeners=0
[07:21:30] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:21:30] [INFO] [Bullet] Max penetration distance exceeded: 83,333336 >= 48
[07:21:30] [INFO] [Bullet] Body exited signal received for penetrating body
[07:21:30] [INFO] [Bullet] Exiting penetration at (497.78763, 61.258423) after traveling 83,333336 pixels through wall
[07:21:30] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[07:21:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 86.00043), shooter_id=478150658818, bullet_pos=(409.6795, 67.5617)
[07:21:30] [INFO] [Bullet] Using shooter_position, distance=260,3333
[07:21:30] [INFO] [Bullet] Distance to wall: 260,3333 (17,726574% of viewport)
[07:21:30] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:21:30] [INFO] [Bullet] Starting wall penetration at (409.6795, 67.5617)
[07:21:30] [INFO] [Bullet] Raycast forward hit penetrating body at distance 3,6204205
[07:21:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 86.00043), source=PLAYER (AssaultRifle), range=1469, listeners=0
[07:21:30] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:21:30] [INFO] [Bullet] Max penetration distance exceeded: 83,333336 >= 48
[07:21:30] [INFO] [Bullet] Body exited signal received for penetrating body
[07:21:30] [INFO] [Bullet] Exiting penetration at (497.79102, 61.305283) after traveling 83,333336 pixels through wall
[07:21:30] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[07:21:30] [INFO] [ReplayManager] Recording frame 9060 (150,5s): player_valid=False, enemies=10
[07:21:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 86.00043), source=PLAYER (AssaultRifle), range=1469, listeners=0
[07:21:31] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:21:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 86.00043), shooter_id=478150658818, bullet_pos=(576.578, 67.020935)
[07:21:31] [INFO] [Bullet] Using shooter_position, distance=427,00003
[07:21:31] [INFO] [Bullet] Distance to wall: 427,00003 (29,075218% of viewport)
[07:21:31] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:21:31] [INFO] [Bullet] Starting wall penetration at (576.578, 67.020935)
[07:21:31] [INFO] [Bullet] Raycast forward hit penetrating body at distance 21,29821
[07:21:31] [INFO] [Bullet] Max penetration distance exceeded: 83,33334 >= 48
[07:21:31] [INFO] [Bullet] Body exited signal received for penetrating body
[07:21:31] [INFO] [Bullet] Exiting penetration at (664.82404, 63.094654) after traveling 83,33334 pixels through wall
[07:21:31] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[07:21:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 86.00043), source=PLAYER (AssaultRifle), range=1469, listeners=0
[07:21:31] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:21:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 86.00043), shooter_id=478150658818, bullet_pos=(618.2556, 66.37427)
[07:21:31] [INFO] [Bullet] Using shooter_position, distance=468,66675
[07:21:31] [INFO] [Bullet] Distance to wall: 468,66675 (31,91238% of viewport)
[07:21:31] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:21:31] [INFO] [Bullet] Starting wall penetration at (618.2556, 66.37427)
[07:21:31] [INFO] [Bullet] Raycast forward hit penetrating body at distance 10,030161
[07:21:31] [INFO] [Bullet] Max penetration distance exceeded: 83,333336 >= 48
[07:21:31] [INFO] [Bullet] Body exited signal received for penetrating body
[07:21:31] [INFO] [Bullet] Exiting penetration at (706.5115, 62.67517) after traveling 83,333336 pixels through wall
[07:21:31] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[07:21:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 86.00043), source=PLAYER (AssaultRifle), range=1469, listeners=0
[07:21:31] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:21:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 86.00043), shooter_id=478150658818, bullet_pos=(493.13748, 66.93593)
[07:21:31] [INFO] [Bullet] Using shooter_position, distance=343,66666
[07:21:31] [INFO] [Bullet] Distance to wall: 343,66666 (23,400896% of viewport)
[07:21:31] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:21:31] [INFO] [Bullet] Starting wall penetration at (493.13748, 66.93593)
[07:21:31] [INFO] [Bullet] Raycast forward hit penetrating body at distance 6,2579274
[07:21:31] [INFO] [Bullet] Max penetration distance exceeded: 83,333336 >= 48
[07:21:31] [INFO] [Bullet] Body exited signal received for penetrating body
[07:21:31] [INFO] [Bullet] Exiting penetration at (581.33484, 62.035744) after traveling 83,333336 pixels through wall
[07:21:31] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[07:21:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 86.00043), shooter_id=478150658818, bullet_pos=(409.53168, 65.58575)
[07:21:31] [INFO] [Bullet] Using shooter_position, distance=260,33334
[07:21:31] [INFO] [Bullet] Distance to wall: 260,33334 (17,726576% of viewport)
[07:21:31] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:21:31] [INFO] [Bullet] Starting wall penetration at (409.53168, 65.58575)
[07:21:31] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[07:21:31] [INFO] [Bullet] Exiting penetration at (456.05463, 61.926266) after traveling 41,666668 pixels through wall
[07:21:31] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[07:21:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 86.00043), source=PLAYER (AssaultRifle), range=1469, listeners=0
[07:21:31] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:21:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 86.00043), shooter_id=478150658818, bullet_pos=(409.6154, 66.67973)
[07:21:31] [INFO] [Bullet] Using shooter_position, distance=260,3333
[07:21:31] [INFO] [Bullet] Distance to wall: 260,3333 (17,726574% of viewport)
[07:21:31] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:21:31] [INFO] [Bullet] Starting wall penetration at (409.6154, 66.67973)
[07:21:31] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[07:21:31] [INFO] [Bullet] Exiting penetration at (456.15335, 63.216354) after traveling 41,66667 pixels through wall
[07:21:31] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[07:21:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 86.00043), source=PLAYER (AssaultRifle), range=1469, listeners=0
[07:21:31] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:21:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 86.00043), source=PLAYER (AssaultRifle), range=1469, listeners=0
[07:21:31] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:21:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 86.00043), shooter_id=478150658818, bullet_pos=(618.25775, 66.42653)
[07:21:31] [INFO] [Bullet] Using shooter_position, distance=468,6667
[07:21:31] [INFO] [Bullet] Distance to wall: 468,6667 (31,912378% of viewport)
[07:21:31] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:21:31] [INFO] [Bullet] Starting wall penetration at (618.25775, 66.42653)
[07:21:31] [INFO] [Bullet] Raycast forward hit penetrating body at distance 11,432827
[07:21:31] [INFO] [Bullet] Max penetration distance exceeded: 83,333336 >= 48
[07:21:31] [INFO] [Bullet] Body exited signal received for penetrating body
[07:21:31] [INFO] [Bullet] Exiting penetration at (706.51404, 62.73728) after traveling 83,333336 pixels through wall
[07:21:31] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[07:21:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 86.00043), source=PLAYER (AssaultRifle), range=1469, listeners=0
[07:21:31] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:21:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 86.00043), shooter_id=478150658818, bullet_pos=(618.2546, 66.35074)
[07:21:31] [INFO] [Bullet] Using shooter_position, distance=468,6667
[07:21:31] [INFO] [Bullet] Distance to wall: 468,6667 (31,912378% of viewport)
[07:21:31] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:21:31] [INFO] [Bullet] Starting wall penetration at (618.2546, 66.35074)
[07:21:31] [INFO] [Bullet] Raycast forward hit penetrating body at distance 9,400906
[07:21:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 86.00043), shooter_id=478150658818, bullet_pos=(367.7768, 66.29292)
[07:21:31] [INFO] [Bullet] Using shooter_position, distance=218,66669
[07:21:31] [INFO] [Bullet] Distance to wall: 218,66669 (14,889418% of viewport)
[07:21:31] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:21:31] [INFO] [Bullet] Starting wall penetration at (367.7768, 66.29292)
[07:21:31] [INFO] [Bullet] Max penetration distance exceeded: 83,33334 >= 48
[07:21:31] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[07:21:31] [INFO] [Bullet] Exiting penetration at (414.25354, 62.08705) after traveling 41,666668 pixels through wall
[07:21:31] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[07:21:31] [INFO] [Bullet] Body exited signal received for penetrating body
[07:21:31] [INFO] [Bullet] Exiting penetration at (706.5102, 62.647198) after traveling 83,33334 pixels through wall
[07:21:31] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[07:21:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 86.00043), source=PLAYER (AssaultRifle), range=1469, listeners=0
[07:21:31] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:21:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 86.00043), shooter_id=478150658818, bullet_pos=(325.9295, 66.56309)
[07:21:31] [INFO] [Bullet] Using shooter_position, distance=177
[07:21:31] [INFO] [Bullet] Distance to wall: 177 (12,052256% of viewport)
[07:21:31] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:21:31] [INFO] [Bullet] Starting wall penetration at (325.9295, 66.56309)
[07:21:31] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[07:21:31] [INFO] [Bullet] Exiting penetration at (372.31393, 61.438362) after traveling 41,666664 pixels through wall
[07:21:31] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[07:21:31] [INFO] [ReplayManager] Recording frame 9120 (151,5s): player_valid=False, enemies=10
[07:21:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 86.00043), source=PLAYER (AssaultRifle), range=1469, listeners=0
[07:21:31] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:21:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 86.00043), shooter_id=478150658818, bullet_pos=(325.93567, 66.6189)
[07:21:32] [INFO] [Bullet] Using shooter_position, distance=177,00002
[07:21:32] [INFO] [Bullet] Distance to wall: 177,00002 (12,052257% of viewport)
[07:21:32] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:21:32] [INFO] [Bullet] Starting wall penetration at (325.93567, 66.6189)
[07:21:32] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[07:21:32] [INFO] [Bullet] Exiting penetration at (372.32172, 61.508892) after traveling 41,666668 pixels through wall
[07:21:32] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[07:21:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 86.00043), source=PLAYER (AssaultRifle), range=1469, listeners=0
[07:21:32] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:21:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 86.00043), shooter_id=478150658818, bullet_pos=(325.99136, 67.13142)
[07:21:32] [INFO] [Bullet] Using shooter_position, distance=177
[07:21:32] [INFO] [Bullet] Distance to wall: 177 (12,052256% of viewport)
[07:21:32] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:21:32] [INFO] [Bullet] Starting wall penetration at (325.99136, 67.13142)
[07:21:32] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[07:21:32] [INFO] [Bullet] Exiting penetration at (372.3921, 62.156536) after traveling 41,666668 pixels through wall
[07:21:32] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[07:21:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 86.00043), source=PLAYER (AssaultRifle), range=1469, listeners=0
[07:21:32] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:21:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 86.00043), shooter_id=478150658818, bullet_pos=(325.99136, 67.13142)
[07:21:32] [INFO] [Bullet] Using shooter_position, distance=177
[07:21:32] [INFO] [Bullet] Distance to wall: 177 (12,052256% of viewport)
[07:21:32] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:21:32] [INFO] [Bullet] Starting wall penetration at (325.99136, 67.13142)
[07:21:32] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[07:21:32] [INFO] [Bullet] Exiting penetration at (372.3921, 62.156536) after traveling 41,666668 pixels through wall
[07:21:32] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[07:21:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 86.00043), source=PLAYER (AssaultRifle), range=1469, listeners=0
[07:21:32] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:21:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 86.00043), shooter_id=478150658818, bullet_pos=(325.99136, 67.13142)
[07:21:32] [INFO] [Bullet] Using shooter_position, distance=177
[07:21:32] [INFO] [Bullet] Distance to wall: 177 (12,052256% of viewport)
[07:21:32] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:21:32] [INFO] [Bullet] Starting wall penetration at (325.99136, 67.13142)
[07:21:32] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[07:21:32] [INFO] [Bullet] Exiting penetration at (372.3921, 62.156536) after traveling 41,666668 pixels through wall
[07:21:32] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[07:21:32] [INFO] [ReplayManager] Recording frame 9180 (152,5s): player_valid=False, enemies=10
[07:21:33] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[07:21:33] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[07:21:33] [INFO] [ReplayManager] Recording frame 9240 (153,5s): player_valid=False, enemies=10
[07:21:34] [INFO] [Player.Reload.Anim] Phase changed to: PullBolt (duration: 0,35s)
[07:21:34] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[07:21:34] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[07:21:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 86.00043), source=PLAYER (AssaultRifle), range=1469, listeners=0
[07:21:34] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:21:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 86.00043), shooter_id=478150658818, bullet_pos=(326.03265, 67.52059)
[07:21:34] [INFO] [Bullet] Using shooter_position, distance=177
[07:21:34] [INFO] [Bullet] Distance to wall: 177 (12,052256% of viewport)
[07:21:34] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:21:34] [INFO] [Bullet] Starting wall penetration at (326.03265, 67.52059)
[07:21:34] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[07:21:34] [INFO] [Bullet] Exiting penetration at (372.44427, 62.64832) after traveling 41,666668 pixels through wall
[07:21:34] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[07:21:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 86.00043), source=PLAYER (AssaultRifle), range=1469, listeners=0
[07:21:34] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:21:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 86.00043), shooter_id=478150658818, bullet_pos=(326.03265, 67.52063)
[07:21:34] [INFO] [Bullet] Using shooter_position, distance=177
[07:21:34] [INFO] [Bullet] Distance to wall: 177 (12,052256% of viewport)
[07:21:34] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:21:34] [INFO] [Bullet] Starting wall penetration at (326.03265, 67.52063)
[07:21:34] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[07:21:34] [INFO] [Bullet] Exiting penetration at (372.44427, 62.64837) after traveling 41,666668 pixels through wall
[07:21:34] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[07:21:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 86.00043), source=PLAYER (AssaultRifle), range=1469, listeners=0
[07:21:34] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:21:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 86.00043), shooter_id=478150658818, bullet_pos=(326.03268, 67.52067)
[07:21:34] [INFO] [Bullet] Using shooter_position, distance=177,00002
[07:21:34] [INFO] [Bullet] Distance to wall: 177,00002 (12,052257% of viewport)
[07:21:34] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:21:34] [INFO] [Bullet] Starting wall penetration at (326.03268, 67.52067)
[07:21:34] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[07:21:34] [INFO] [Bullet] Exiting penetration at (372.44434, 62.648415) after traveling 41,666668 pixels through wall
[07:21:34] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[07:21:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 86.00043), source=PLAYER (AssaultRifle), range=1469, listeners=0
[07:21:34] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:21:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 86.00043), shooter_id=478150658818, bullet_pos=(367.66187, 65.06176)
[07:21:34] [INFO] [Bullet] Using shooter_position, distance=218,66669
[07:21:34] [INFO] [Bullet] Distance to wall: 218,66669 (14,889418% of viewport)
[07:21:34] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:21:34] [INFO] [Bullet] Starting wall penetration at (367.66187, 65.06176)
[07:21:34] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[07:21:34] [INFO] [Bullet] Exiting penetration at (414.11407, 60.59314) after traveling 41,66667 pixels through wall
[07:21:34] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[07:21:34] [INFO] [ReplayManager] Recording frame 9300 (154,5s): player_valid=False, enemies=10
[07:21:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 86.00043), source=PLAYER (AssaultRifle), range=1469, listeners=0
[07:21:34] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:21:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 86.00043), shooter_id=478150658818, bullet_pos=(367.83942, 66.99745)
[07:21:34] [INFO] [Bullet] Using shooter_position, distance=218,6667
[07:21:34] [INFO] [Bullet] Distance to wall: 218,6667 (14,889418% of viewport)
[07:21:34] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:21:34] [INFO] [Bullet] Starting wall penetration at (367.83942, 66.99745)
[07:21:34] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[07:21:34] [INFO] [Bullet] Exiting penetration at (414.32953, 62.94194) after traveling 41,66667 pixels through wall
[07:21:34] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[07:21:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(176.7254, 127.7829), source=PLAYER (AssaultRifle), range=1469, listeners=0
[07:21:35] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:21:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(176.72539, 127.78286), shooter_id=478150658818, bullet_pos=(429.85764, 66.97545)
[07:21:35] [INFO] [Bullet] Using shooter_position, distance=260,3334
[07:21:35] [INFO] [Bullet] Distance to wall: 260,3334 (17,726582% of viewport)
[07:21:35] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:21:35] [INFO] [Bullet] Starting wall penetration at (429.85764, 66.97545)
[07:21:35] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[07:21:35] [INFO] [Bullet] Exiting penetration at (475.23346, 56.07527) after traveling 41,66667 pixels through wall
[07:21:35] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[07:21:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(205.2246, 151.9269), source=PLAYER (AssaultRifle), range=1469, listeners=0
[07:21:35] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:21:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(205.22461, 151.92686), shooter_id=478150658818, bullet_pos=(492.97955, 60.269073)
[07:21:35] [INFO] [Bullet] Using shooter_position, distance=302,0001
[07:21:35] [INFO] [Bullet] Distance to wall: 302,0001 (20,563742% of viewport)
[07:21:35] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:21:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(239.5916, 161.9047), source=PLAYER (AssaultRifle), range=1469, listeners=0
[07:21:35] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:21:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(239.59164, 161.90472), shooter_id=478150658818, bullet_pos=(521.9053, 54.652596)
[07:21:35] [INFO] [Bullet] Using shooter_position, distance=302
[07:21:35] [INFO] [Bullet] Distance to wall: 302 (20,563736% of viewport)
[07:21:35] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:21:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(278.0115, 162.0983), source=PLAYER (AssaultRifle), range=1469, listeners=0
[07:21:35] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:21:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(278.01147, 162.0983), shooter_id=478150658818, bullet_pos=(516.28455, 57.22039)
[07:21:35] [INFO] [Bullet] Using shooter_position, distance=260,3333
[07:21:35] [INFO] [Bullet] Distance to wall: 260,3333 (17,726574% of viewport)
[07:21:35] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:21:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(315.4115, 162.0983), source=PLAYER (AssaultRifle), range=1469, listeners=0
[07:21:35] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:21:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(315.41147, 162.0983), shooter_id=478150658818, bullet_pos=(511.08716, 64.49638)
[07:21:35] [INFO] [Bullet] Using shooter_position, distance=218,66666
[07:21:35] [INFO] [Bullet] Distance to wall: 218,66666 (14,889415% of viewport)
[07:21:35] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:21:35] [INFO] [ReplayManager] Recording frame 9360 (155,4s): player_valid=False, enemies=10
[07:21:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(384.6327, 141.6564), source=PLAYER (AssaultRifle), range=1469, listeners=0
[07:21:36] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:21:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(384.63272, 141.6564), shooter_id=478150658818, bullet_pos=(553.88525, 66.144806)
[07:21:36] [INFO] [Bullet] Using shooter_position, distance=185,33327
[07:21:36] [INFO] [Bullet] Distance to wall: 185,33327 (12,619683% of viewport)
[07:21:36] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:21:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(384.6327, 125.4431), source=PLAYER (AssaultRifle), range=1469, listeners=0
[07:21:36] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:21:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(384.63272, 125.443085), shooter_id=478150658818, bullet_pos=(558.3145, 60.76626)
[07:21:36] [INFO] [Bullet] Using shooter_position, distance=185,33337
[07:21:36] [INFO] [Bullet] Distance to wall: 185,33337 (12,619691% of viewport)
[07:21:36] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:21:36] [INFO] [Bullet] Starting wall penetration at (558.3145, 60.76626)
[07:21:36] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[07:21:36] [INFO] [Bullet] Exiting penetration at (594.2379, 47.38886) after traveling 33,333332 pixels through wall
[07:21:36] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[07:21:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(384.6327, 99.48754), source=PLAYER (AssaultRifle), range=1469, listeners=0
[07:21:36] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:21:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(384.63272, 99.48754), shooter_id=478150658818, bullet_pos=(532.8044, 65.5883)
[07:21:36] [INFO] [Bullet] Using shooter_position, distance=152
[07:21:36] [INFO] [Bullet] Distance to wall: 152 (10,34996% of viewport)
[07:21:36] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:21:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(384.632, 86.28815), source=PLAYER (AssaultRifle), range=1469, listeners=0
[07:21:36] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:21:36] [INFO] [ReplayManager] Recording frame 9420 (156,2s): player_valid=False, enemies=10
[07:21:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(384.63205, 86.28815), shooter_id=478150658818, bullet_pos=(535.08167, 64.63351)
[07:21:36] [INFO] [Bullet] Using shooter_position, distance=152,00003
[07:21:36] [INFO] [Bullet] Distance to wall: 152,00003 (10,349962% of viewport)
[07:21:36] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:21:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(410.51, 194.4594), source=PLAYER (AssaultRifle), range=1469, listeners=0
[07:21:37] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:21:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(410.51004, 194.4594), shooter_id=478150658818, bullet_pos=(618.99664, 52.90615)
[07:21:37] [INFO] [Bullet] Using shooter_position, distance=251,99997
[07:21:37] [INFO] [Bullet] Distance to wall: 251,99997 (17,159142% of viewport)
[07:21:37] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:21:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(422.6284, 197.1662), source=PLAYER (AssaultRifle), range=1469, listeners=0
[07:21:37] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:21:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(384.63205, 86.28815), shooter_id=478150658818, bullet_pos=(1814.9467, 46.11168)
[07:21:37] [INFO] [Bullet] Using shooter_position, distance=1430,8787
[07:21:37] [INFO] [Bullet] Distance to wall: 1430,8787 (97,43117% of viewport)
[07:21:37] [INFO] [Bullet] Distance-based penetration chance: 32,996983%
[07:21:37] [INFO] [Bullet] Penetration failed (distance roll)
[07:21:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(422.62842, 197.16621), shooter_id=478150658818, bullet_pos=(627.32104, 50.18007)
[07:21:37] [INFO] [Bullet] Using shooter_position, distance=252
[07:21:37] [INFO] [Bullet] Distance to wall: 252 (17,159145% of viewport)
[07:21:37] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:21:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(430.5893, 186.8681), source=PLAYER (AssaultRifle), range=1469, listeners=0
[07:21:37] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:21:37] [INFO] [ReplayManager] Recording frame 9480 (157,0s): player_valid=False, enemies=10
[07:21:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(430.58926, 186.86806), shooter_id=478150658818, bullet_pos=(610.8496, 63.08881)
[07:21:37] [INFO] [Bullet] Using shooter_position, distance=218,66663
[07:21:37] [INFO] [Bullet] Distance to wall: 218,66663 (14,889413% of viewport)
[07:21:37] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:21:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(434.2451, 163.7874), source=PLAYER (AssaultRifle), range=1469, listeners=0
[07:21:37] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:21:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(434.2451, 163.78743), shooter_id=478150658818, bullet_pos=(624.66174, 56.285896)
[07:21:38] [INFO] [Bullet] Using shooter_position, distance=218,66661
[07:21:38] [INFO] [Bullet] Distance to wall: 218,66661 (14,889412% of viewport)
[07:21:38] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:21:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(428.6598, 140.4271), source=PLAYER (AssaultRifle), range=1469, listeners=0
[07:21:38] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:21:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(428.6598, 140.42711), shooter_id=478150658818, bullet_pos=(598.9795, 67.35408)
[07:21:38] [INFO] [Bullet] Using shooter_position, distance=185,3334
[07:21:38] [INFO] [Bullet] Distance to wall: 185,3334 (12,619692% of viewport)
[07:21:38] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:21:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(412.3547, 125.5226), source=PLAYER (AssaultRifle), range=1469, listeners=0
[07:21:38] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:21:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(412.35474, 125.5226), shooter_id=478150658818, bullet_pos=(620.23315, 57.68712)
[07:21:38] [INFO] [Bullet] Using shooter_position, distance=218,66661
[07:21:38] [INFO] [Bullet] Distance to wall: 218,66661 (14,889412% of viewport)
[07:21:38] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:21:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(385.33, 119.0739), source=PLAYER (AssaultRifle), range=1469, listeners=0
[07:21:38] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:21:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(385.32996, 119.0739), shooter_id=478150658818, bullet_pos=(596.8892, 63.77675)
[07:21:38] [INFO] [Bullet] Using shooter_position, distance=218,66664
[07:21:38] [INFO] [Bullet] Distance to wall: 218,66664 (14,889415% of viewport)
[07:21:38] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:21:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(350.4988, 118.7829), source=PLAYER (AssaultRifle), range=1469, listeners=0
[07:21:38] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:21:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(350.49884, 118.78294), shooter_id=478150658818, bullet_pos=(596.19867, 62.78656)
[07:21:38] [INFO] [Bullet] Using shooter_position, distance=252
[07:21:38] [INFO] [Bullet] Distance to wall: 252 (17,159145% of viewport)
[07:21:38] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:21:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(315.2989, 118.7829), source=PLAYER (AssaultRifle), range=1469, listeners=0
[07:21:38] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:21:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(315.2989, 118.78294), shooter_id=478150658818, bullet_pos=(594.87866, 61.771473)
[07:21:38] [INFO] [Bullet] Using shooter_position, distance=285,3334
[07:21:38] [INFO] [Bullet] Distance to wall: 285,3334 (19,428877% of viewport)
[07:21:38] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:21:38] [INFO] [ReplayManager] Recording frame 9540 (157,8s): player_valid=False, enemies=10
[07:21:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(223.5829, 173.5469), source=PLAYER (AssaultRifle), range=1469, listeners=0
[07:21:39] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:21:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(385.32996, 119.0739), shooter_id=478150658818, bullet_pos=(1815.8822, 166.72736)
[07:21:39] [INFO] [Bullet] Using shooter_position, distance=1431,3457
[07:21:39] [INFO] [Bullet] Distance to wall: 1431,3457 (97,46297% of viewport)
[07:21:39] [INFO] [Bullet] Distance-based penetration chance: 32,959877%
[07:21:39] [INFO] [Bullet] Penetration failed (distance roll)
[07:21:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(198.6928, 198.4371), source=PLAYER (AssaultRifle), range=1469, listeners=0
[07:21:39] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:21:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(223.58292, 173.54694), shooter_id=478150658818, bullet_pos=(593.0375, 64.07026)
[07:21:39] [INFO] [Bullet] Using shooter_position, distance=385,33337
[07:21:39] [INFO] [Bullet] Distance to wall: 385,33337 (26,23806% of viewport)
[07:21:39] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:21:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(350.49884, 118.78294), shooter_id=478150658818, bullet_pos=(1817.1146, 139.64223)
[07:21:39] [INFO] [Bullet] Using shooter_position, distance=1466,764
[07:21:39] [INFO] [Bullet] Distance to wall: 1466,764 (99,874664% of viewport)
[07:21:39] [INFO] [Bullet] Distance-based penetration chance: 30,146229%
[07:21:39] [INFO] [Bullet] Penetration failed (distance roll)
[07:21:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(173.8026, 223.3272), source=PLAYER (AssaultRifle), range=1469, listeners=0
[07:21:39] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:21:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(198.69278, 198.43707), shooter_id=478150658818, bullet_pos=(593.1149, 58.034576)
[07:21:39] [INFO] [Bullet] Using shooter_position, distance=418,66656
[07:21:39] [INFO] [Bullet] Distance to wall: 418,66656 (28,507778% of viewport)
[07:21:39] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:21:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(148.9125, 248.2173), source=PLAYER (AssaultRifle), range=1469, listeners=0
[07:21:39] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:21:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(315.2989, 118.78294), shooter_id=478150658818, bullet_pos=(1799.8932, 272.69147)
[07:21:39] [INFO] [Bullet] Using shooter_position, distance=1492,5508
[07:21:39] [INFO] [Bullet] Distance to wall: 1492,5508 (101,63053% of viewport)
[07:21:39] [INFO] [Bullet] Distance-based penetration chance: 29,673895%
[07:21:39] [INFO] [Bullet] Penetration failed (distance roll)
[07:21:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(173.80264, 223.32721), shooter_id=478150658818, bullet_pos=(523.90045, 62.351017)
[07:21:39] [INFO] [Bullet] Using shooter_position, distance=385,33337
[07:21:39] [INFO] [Bullet] Distance to wall: 385,33337 (26,23806% of viewport)
[07:21:39] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:21:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(125.2049, 273.5973), source=PLAYER (AssaultRifle), range=1469, listeners=0
[07:21:39] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:21:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(148.9125, 248.21735), shooter_id=478150658818, bullet_pos=(520.67633, 55.672718)
[07:21:39] [INFO] [Bullet] Using shooter_position, distance=418,66666
[07:21:39] [INFO] [Bullet] Distance to wall: 418,66666 (28,507784% of viewport)
[07:21:39] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:21:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(111.7243, 302.6371), source=PLAYER (AssaultRifle), range=1469, listeners=0
[07:21:39] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:21:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(125.20493, 273.59732), shooter_id=478150658818, bullet_pos=(484.97757, 59.481857)
[07:21:39] [INFO] [Bullet] Using shooter_position, distance=418,66666
[07:21:39] [INFO] [Bullet] Distance to wall: 418,66666 (28,507784% of viewport)
[07:21:39] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:21:39] [INFO] [Bullet] Starting wall penetration at (484.97757, 59.481857)
[07:21:39] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[07:21:39] [INFO] [Bullet] Exiting penetration at (517.9186, 39.877335) after traveling 33,333336 pixels through wall
[07:21:39] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[07:21:39] [INFO] [ReplayManager] Recording frame 9600 (158,6s): player_valid=False, enemies=10
[07:21:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(111.72432, 302.63715), shooter_id=478150658818, bullet_pos=(488.7621, 53.345093)
[07:21:39] [INFO] [Bullet] Using shooter_position, distance=452,00003
[07:21:39] [INFO] [Bullet] Distance to wall: 452,00003 (30,777514% of viewport)
[07:21:39] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:21:39] [INFO] [Bullet] Starting wall penetration at (488.7621, 53.345093)
[07:21:39] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[07:21:39] [INFO] [Bullet] Exiting penetration at (520.73804, 32.203068) after traveling 33,333336 pixels through wall
[07:21:39] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[07:21:40] [INFO] [ReplayManager] Recording frame 9660 (159,4s): player_valid=False, enemies=10
[07:21:41] [INFO] [ReplayManager] Recording frame 9720 (160,2s): player_valid=False, enemies=10
[07:21:42] [INFO] [ReplayManager] Recording frame 9780 (161,0s): player_valid=False, enemies=10
[07:21:43] [INFO] [ReplayManager] Recording frame 9840 (161,8s): player_valid=False, enemies=10
[07:21:44] [INFO] [ReplayManager] Recording frame 9900 (162,6s): player_valid=False, enemies=10
[07:21:45] [INFO] [ReplayManager] Recording frame 9960 (163,4s): player_valid=False, enemies=10
[07:21:46] [INFO] [ReplayManager] Recording frame 10020 (164,2s): player_valid=False, enemies=10
[07:21:47] [INFO] [ReplayManager] Recording frame 10080 (165,0s): player_valid=False, enemies=10
[07:21:48] [INFO] [ReplayManager] Recording frame 10140 (165,8s): player_valid=False, enemies=10
[07:21:49] [INFO] [ReplayManager] Recording frame 10200 (166,6s): player_valid=False, enemies=10
[07:21:50] [INFO] [ReplayManager] Recording frame 10260 (167,4s): player_valid=False, enemies=10
[07:21:51] [INFO] [ReplayManager] Recording frame 10320 (168,2s): player_valid=False, enemies=10
[07:21:52] [INFO] [ReplayManager] Recording frame 10380 (169,0s): player_valid=False, enemies=10
[07:21:53] [INFO] [PauseMenu] Armory button pressed
[07:21:53] [INFO] [PauseMenu] Creating new armory menu instance
[07:21:53] [INFO] [PauseMenu] armory_menu_scene resource path: res://scenes/ui/ArmoryMenu.tscn
[07:21:53] [INFO] [PauseMenu] Instance created, class: CanvasLayer, name: ArmoryMenu
[07:21:53] [INFO] [PauseMenu] Script attached: res://scripts/ui/armory_menu.gd
[07:21:53] [INFO] [PauseMenu] back_pressed signal exists on instance
[07:21:53] [INFO] [PauseMenu] back_pressed signal connected
[07:21:53] [INFO] [PauseMenu] Armory menu instance added as child, is_inside_tree: true
[07:21:53] [INFO] [PauseMenu] _populate_weapon_grid method exists
[07:21:53] [INFO] [ReplayManager] Recording frame 10440 (169,8s): player_valid=False, enemies=10
[07:21:54] [INFO] [ReplayManager] Recording frame 10500 (170,6s): player_valid=False, enemies=10
[07:21:55] [INFO] [ReplayManager] Recording frame 10560 (171,4s): player_valid=False, enemies=10
[07:21:56] [INFO] [ReplayManager] Recording frame 10620 (172,2s): player_valid=False, enemies=10
[07:21:57] [INFO] [GrenadeManager] Grenade type changed from Flashbang to Frag Grenade
[07:21:57] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[07:21:57] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[07:21:57] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[07:21:57] [INFO] [LastChance] Resetting all effects (scene change detected)
[07:21:57] [INFO] [CinemaEffects] Scene changed to: TestTier
[07:21:57] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[07:21:57] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:21:57] [INFO] [BloodyFeet:Player] Footprint scene loaded
[07:21:57] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[07:21:57] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[07:21:57] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[07:21:57] [INFO] [Player.Grenade] Tutorial level detected - infinite grenades enabled
[07:21:57] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[07:21:57] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[07:21:57] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[07:21:57] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[07:21:57] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[07:21:57] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[07:21:57] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 3/3, Health: 3/4
[07:21:57] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[07:21:57] [INFO] [CinemaEffects] Found player node: Player
[07:21:57] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[07:21:57] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[07:21:57] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[07:21:57] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[07:21:57] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[07:21:57] [INFO] [LastChance] Found player: Player
[07:21:57] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[07:21:57] [INFO] [LastChance] Connected to player Damaged signal (C#)
[07:21:57] [INFO] [LastChance] Connected to player Died signal (C#)
[07:21:57] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[07:21:57] [INFO] [Player] Detecting weapon pose (frame 3)...
[07:21:57] [INFO] [Player] Detected weapon: Rifle (default pose)
[07:21:57] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[07:21:57] [INFO] [ReplayManager] Recording frame 10680 (173,1s): player_valid=False, enemies=10
[07:21:58] [INFO] [ReplayManager] Recording frame 10740 (174,1s): player_valid=False, enemies=10
[07:21:59] [INFO] [ReplayManager] Recording frame 10800 (175,1s): player_valid=False, enemies=10
[07:22:00] [INFO] [ReplayManager] Recording frame 10860 (176,1s): player_valid=False, enemies=10
[07:22:01] [INFO] [ReplayManager] Recording frame 10920 (177,1s): player_valid=False, enemies=10
[07:22:02] [INFO] [ReplayManager] Recording frame 10980 (178,1s): player_valid=False, enemies=10
[07:22:03] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[07:22:03] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[07:22:03] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[07:22:03] [INFO] [LastChance] Resetting all effects (scene change detected)
[07:22:03] [INFO] [CinemaEffects] Scene changed to: TestTier
[07:22:03] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[07:22:03] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:22:03] [INFO] [BloodyFeet:Player] Footprint scene loaded
[07:22:03] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[07:22:03] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[07:22:03] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[07:22:03] [INFO] [Player.Grenade] Tutorial level detected - infinite grenades enabled
[07:22:03] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[07:22:03] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[07:22:03] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[07:22:03] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[07:22:03] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[07:22:03] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[07:22:03] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 3/3, Health: 10/10
[07:22:03] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[07:22:03] [INFO] [CinemaEffects] Found player node: Player
[07:22:03] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[07:22:03] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[07:22:03] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[07:22:03] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[07:22:03] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[07:22:03] [INFO] [LastChance] Found player: Player
[07:22:03] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[07:22:03] [INFO] [LastChance] Connected to player Damaged signal (C#)
[07:22:03] [INFO] [LastChance] Connected to player Died signal (C#)
[07:22:03] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[07:22:03] [INFO] [Player] Detecting weapon pose (frame 3)...
[07:22:03] [INFO] [Player] Detected weapon: Rifle (default pose)
[07:22:03] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[07:22:03] [INFO] [ReplayManager] Recording frame 11040 (179,1s): player_valid=False, enemies=10
[07:22:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(327.2651, 93.78726), source=PLAYER (AssaultRifle), range=1469, listeners=0
[07:22:04] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:22:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(365.7651, 93.78726), source=PLAYER (AssaultRifle), range=1469, listeners=0
[07:22:04] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:22:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(399.8651, 93.78726), source=PLAYER (AssaultRifle), range=1469, listeners=0
[07:22:04] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:22:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(435.0651, 93.78726), source=PLAYER (AssaultRifle), range=1469, listeners=0
[07:22:04] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:22:04] [INFO] [ReplayManager] Recording frame 11100 (180,0s): player_valid=False, enemies=10
[07:22:04] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[07:22:04] [INFO] [PowerFantasy] Starting power fantasy effect:
[07:22:04] [INFO] [PowerFantasy]   - Time scale: 0.10
[07:22:04] [INFO] [PowerFantasy]   - Duration: 300ms
[07:22:05] [INFO] [PowerFantasy] Effect duration expired after 300.00 ms
[07:22:05] [INFO] [PowerFantasy] Ending power fantasy effect
[07:22:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(470.2648, 93.78726), source=PLAYER (AssaultRifle), range=1469, listeners=0
[07:22:05] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:22:05] [INFO] [ReplayManager] Recording frame 11160 (180,8s): player_valid=False, enemies=10
[07:22:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(693.4793, 307.9366), source=PLAYER (AssaultRifle), range=1469, listeners=0
[07:22:06] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:22:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(695.5327, 321.0375), source=PLAYER (AssaultRifle), range=1469, listeners=0
[07:22:06] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:22:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(693.4793, 307.93655), shooter_id=617367997182, bullet_pos=(1135.1608, 52.285217)
[07:22:06] [INFO] [Bullet] Using shooter_position, distance=510,33334
[07:22:06] [INFO] [Bullet] Distance to wall: 510,33334 (34,74954% of viewport)
[07:22:06] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:22:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(693.7676, 322.5358), source=PLAYER (AssaultRifle), range=1469, listeners=0
[07:22:06] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:22:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(695.5327, 321.03754), shooter_id=617367997182, bullet_pos=(1017.9857, 41.12149)
[07:22:06] [INFO] [Bullet] Using shooter_position, distance=426,99994
[07:22:06] [INFO] [Bullet] Distance to wall: 426,99994 (29,07521% of viewport)
[07:22:06] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:22:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(693.7676, 322.53583), shooter_id=617367997182, bullet_pos=(1019.29486, 46.200897)
[07:22:06] [INFO] [Bullet] Using shooter_position, distance=427
[07:22:06] [INFO] [Bullet] Distance to wall: 427 (29,075218% of viewport)
[07:22:06] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:22:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(693.4793, 307.93655), shooter_id=617367997182, bullet_pos=(1803.3478, 302.02463)
[07:22:06] [INFO] [Bullet] Using shooter_position, distance=1109,8842
[07:22:06] [INFO] [Bullet] Distance to wall: 1109,8842 (75,57405% of viewport)
[07:22:06] [INFO] [ReplayManager] Recording frame 11220 (181,8s): player_valid=False, enemies=10
[07:22:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(513.2433, 290.8286), source=PLAYER (AssaultRifle), range=1469, listeners=0
[07:22:07] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:22:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(497.8446, 261.1515), source=PLAYER (AssaultRifle), range=1469, listeners=0
[07:22:07] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:22:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(495.4082, 224.0474), source=PLAYER (AssaultRifle), range=1469, listeners=0
[07:22:07] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:22:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(495.4082, 185.5474), source=PLAYER (AssaultRifle), range=1469, listeners=0
[07:22:07] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:22:07] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[07:22:07] [INFO] [PowerFantasy] Starting power fantasy effect:
[07:22:07] [INFO] [PowerFantasy]   - Time scale: 0.10
[07:22:07] [INFO] [PowerFantasy]   - Duration: 300ms
[07:22:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(495.4082, 147.0474), source=PLAYER (AssaultRifle), range=1469, listeners=0
[07:22:07] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:22:07] [INFO] [ReplayManager] Recording frame 11280 (182,6s): player_valid=False, enemies=10
[07:22:08] [INFO] [PowerFantasy] Effect duration expired after 300.00 ms
[07:22:08] [INFO] [PowerFantasy] Ending power fantasy effect
[07:22:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(492.3286, 110.923), source=PLAYER (AssaultRifle), range=1469, listeners=0
[07:22:08] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:22:08] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[07:22:08] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[07:22:08] [INFO] [Player.Grenade] G pressed - starting grab animation
[07:22:08] [INFO] [ReplayManager] Recording frame 11340 (183,5s): player_valid=False, enemies=10
[07:22:09] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[07:22:09] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (627.308, 290.53802)
[07:22:09] [INFO] [GrenadeBase] CCD enabled (mode: CAST_RAY) to prevent wall tunneling
[07:22:09] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[07:22:09] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[07:22:09] [INFO] [GrenadeTimer] Initialized for Frag grenade, effect radius: 225
[07:22:09] [INFO] [Player.Grenade] Added GrenadeTimer component (type: Frag)
[07:22:09] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[07:22:09] [INFO] [GrenadeTimer] Timer activated! 4 seconds until explosion
[07:22:09] [INFO] [Player.Grenade] Timer started, grenade created at (396.23187, 80.11326)
[07:22:09] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[07:22:09] [INFO] [Player.Grenade] Step 1 complete! Drag: (87.51526, 16.697601)
[07:22:09] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[07:22:09] [INFO] [Player.Grenade.Simple] RMB pressed after pin pull - starting trajectory aiming
[07:22:09] [INFO] [ReplayManager] Recording frame 11400 (184,5s): player_valid=False, enemies=10
[07:22:10] [INFO] [Player.Grenade.Simple] Throwing! Target: (789.64545, 161.63266), Distance: 397,6, Speed: 471,9, Friction: 280,0
[07:22:10] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 0,20381519
[07:22:10] [INFO] [GrenadeTimer] Grenade marked as thrown - impact detection enabled
[07:22:10] [INFO] [Player.Grenade.Simple] C# set velocity directly: dir=(0.9793015, 0.20240702), speed=471,9, spawn=(453.98996, 92.257675)
[07:22:10] [INFO] [GrenadeBase] Simple mode throw! Dir: (0.979302, 0.202407), Speed: 471.9 (clamped from 471.9, max: 1186.5)
[07:22:10] [INFO] [FragGrenade] Grenade thrown (simple mode) - impact detection enabled
[07:22:10] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[07:22:10] [INFO] [Player.Grenade.Simple] Grenade thrown!
[07:22:10] [INFO] [Player.Grenade] State reset to IDLE
[07:22:10] [INFO] [Player.Grenade] State reset to IDLE
[07:22:10] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[07:22:10] [INFO] [Player.Grenade] Player rotation restored to 0
[07:22:10] [INFO] [ReplayManager] Recording frame 11460 (185,5s): player_valid=False, enemies=10
[07:22:11] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[07:22:11] [INFO] [GrenadeTimer] Frag grenade landed - EXPLODING!
[07:22:11] [INFO] [GrenadeTimer] EXPLODED at (683.7101, 139.73744)!
[07:22:11] [INFO] [GrenadeTimer] Applying frag explosion damage (radius: 225, damage: 99)
[07:22:11] [INFO] [GrenadeTimer] Spawned 4 shrapnel pieces
[07:22:11] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(683.7101, 139.7374), source=NEUTRAL (FragGrenade), range=2938, listeners=0
[07:22:11] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:22:11] [INFO] [GrenadeTimer] Spawned PointLight2D frag explosion flash at (683.7101, 139.73744) (shadow-based wall occlusion)
[07:22:11] [INFO] [GrenadeTimer] Scattered 13 casings
[07:22:11] [INFO] [ReplayManager] Recording frame 11520 (186,5s): player_valid=False, enemies=10
[07:22:12] [INFO] [ReplayManager] Recording frame 11580 (187,5s): player_valid=False, enemies=10
[07:22:13] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[07:22:13] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[07:22:13] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[07:22:13] [INFO] [LastChance] Resetting all effects (scene change detected)
[07:22:13] [INFO] [CinemaEffects] Scene changed to: TestTier
[07:22:13] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[07:22:13] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:22:13] [INFO] [BloodyFeet:Player] Footprint scene loaded
[07:22:13] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[07:22:13] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[07:22:13] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[07:22:13] [INFO] [Player.Grenade] Tutorial level detected - infinite grenades enabled
[07:22:13] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[07:22:13] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[07:22:13] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[07:22:13] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[07:22:13] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[07:22:13] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[07:22:13] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 3/3, Health: 10/10
[07:22:13] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[07:22:13] [INFO] [CinemaEffects] Found player node: Player
[07:22:13] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[07:22:13] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[07:22:13] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[07:22:13] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[07:22:13] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[07:22:13] [INFO] [LastChance] Found player: Player
[07:22:13] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[07:22:13] [INFO] [LastChance] Connected to player Damaged signal (C#)
[07:22:13] [INFO] [LastChance] Connected to player Died signal (C#)
[07:22:13] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[07:22:13] [INFO] [Player] Detecting weapon pose (frame 3)...
[07:22:13] [INFO] [Player] Detected weapon: Rifle (default pose)
[07:22:13] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[07:22:13] [INFO] [ReplayManager] Recording frame 11640 (188,5s): player_valid=False, enemies=10
[07:22:14] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[07:22:14] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[07:22:14] [INFO] [Player.Grenade] G pressed - starting grab animation
[07:22:14] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[07:22:14] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (661.69214, 190.35251)
[07:22:14] [INFO] [GrenadeBase] CCD enabled (mode: CAST_RAY) to prevent wall tunneling
[07:22:14] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[07:22:14] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[07:22:14] [INFO] [GrenadeTimer] Initialized for Frag grenade, effect radius: 225
[07:22:14] [INFO] [Player.Grenade] Added GrenadeTimer component (type: Frag)
[07:22:14] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[07:22:14] [INFO] [GrenadeTimer] Timer activated! 4 seconds until explosion
[07:22:14] [INFO] [Player.Grenade] Timer started, grenade created at (150, 360)
[07:22:14] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[07:22:14] [INFO] [Player.Grenade] Step 1 complete! Drag: (505.8578, 44.081635)
[07:22:14] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[07:22:14] [INFO] [Player.Grenade.Simple] RMB pressed after pin pull - starting trajectory aiming
[07:22:14] [INFO] [ReplayManager] Recording frame 11700 (189,5s): player_valid=False, enemies=10
[07:22:15] [INFO] [ReplayManager] Recording frame 11760 (190,5s): player_valid=False, enemies=10
[07:22:16] [INFO] [Player.Grenade.Simple] Throwing! Target: (1032.15, 278.51578), Distance: 668,7, Speed: 611,9, Friction: 280,0
[07:22:16] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 0,23486827
[07:22:16] [INFO] [GrenadeTimer] Grenade marked as thrown - impact detection enabled
[07:22:16] [INFO] [Player.Grenade.Simple] C# set velocity directly: dir=(0.97254497, 0.23271486), speed=611,9, spawn=(471.5505, 144.37305)
[07:22:16] [INFO] [GrenadeBase] Simple mode throw! Dir: (0.972545, 0.232715), Speed: 611.9 (clamped from 611.9, max: 1186.5)
[07:22:16] [INFO] [FragGrenade] Grenade thrown (simple mode) - impact detection enabled
[07:22:16] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[07:22:16] [INFO] [Player.Grenade.Simple] Grenade thrown!
[07:22:16] [INFO] [Player.Grenade] State reset to IDLE
[07:22:16] [INFO] [Player.Grenade] State reset to IDLE
[07:22:16] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[07:22:16] [INFO] [Player.Grenade] Player rotation restored to 0
[07:22:16] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[07:22:16] [INFO] [ReplayManager] Recording frame 11820 (191,5s): player_valid=False, enemies=10
[07:22:17] [INFO] [GrenadeTimer] Frag grenade landed - EXPLODING!
[07:22:17] [INFO] [GrenadeTimer] EXPLODED at (854.4441, 235.99353)!
[07:22:17] [INFO] [GrenadeTimer] Applying frag explosion damage (radius: 225, damage: 99)
[07:22:17] [INFO] [GrenadeTimer] Spawned 4 shrapnel pieces
[07:22:17] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(854.4441, 235.9935), source=NEUTRAL (FragGrenade), range=2938, listeners=0
[07:22:17] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:22:17] [INFO] [GrenadeTimer] Spawned PointLight2D frag explosion flash at (854.4441, 235.99353) (shadow-based wall occlusion)
[07:22:17] [INFO] [ReplayManager] Recording frame 11880 (192,5s): player_valid=False, enemies=10
[07:22:18] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[07:22:18] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[07:22:18] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[07:22:18] [INFO] [LastChance] Resetting all effects (scene change detected)
[07:22:18] [INFO] [CinemaEffects] Scene changed to: TestTier
[07:22:18] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[07:22:18] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:22:18] [INFO] [BloodyFeet:Player] Footprint scene loaded
[07:22:18] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[07:22:18] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[07:22:18] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[07:22:18] [INFO] [Player.Grenade] Tutorial level detected - infinite grenades enabled
[07:22:18] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[07:22:18] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[07:22:18] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[07:22:18] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[07:22:18] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[07:22:18] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[07:22:18] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 3/3, Health: 10/10
[07:22:18] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[07:22:18] [INFO] [CinemaEffects] Found player node: Player
[07:22:18] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[07:22:18] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[07:22:18] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[07:22:18] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[07:22:18] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[07:22:18] [INFO] [LastChance] Found player: Player
[07:22:18] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[07:22:18] [INFO] [LastChance] Connected to player Damaged signal (C#)
[07:22:18] [INFO] [LastChance] Connected to player Died signal (C#)
[07:22:18] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[07:22:18] [INFO] [Player] Detecting weapon pose (frame 3)...
[07:22:18] [INFO] [Player] Detected weapon: Rifle (default pose)
[07:22:18] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[07:22:18] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[07:22:18] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[07:22:18] [INFO] [Player.Grenade] G pressed - starting grab animation
[07:22:18] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[07:22:18] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (778.48224, 249.12802)
[07:22:18] [INFO] [GrenadeBase] CCD enabled (mode: CAST_RAY) to prevent wall tunneling
[07:22:18] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[07:22:18] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[07:22:18] [INFO] [GrenadeTimer] Initialized for Frag grenade, effect radius: 225
[07:22:18] [INFO] [Player.Grenade] Added GrenadeTimer component (type: Frag)
[07:22:18] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[07:22:18] [INFO] [GrenadeTimer] Timer activated! 4 seconds until explosion
[07:22:18] [INFO] [Player.Grenade] Timer started, grenade created at (150, 360)
[07:22:18] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[07:22:18] [INFO] [Player.Grenade] Step 1 complete! Drag: (106.10913, 26.716125)
[07:22:18] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[07:22:18] [INFO] [Player.Grenade.Simple] RMB pressed after pin pull - starting trajectory aiming
[07:22:18] [INFO] [ReplayManager] Recording frame 11940 (193,5s): player_valid=False, enemies=10
[07:22:19] [INFO] [ReplayManager] Recording frame 12000 (194,5s): player_valid=False, enemies=10
[07:22:20] [INFO] [Player.Grenade.Simple] Throwing! Target: (752.2136, 168.9796), Distance: 496,7, Speed: 527,4, Friction: 280,0
[07:22:20] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 0,18314491
[07:22:20] [INFO] [GrenadeTimer] Grenade marked as thrown - impact detection enabled
[07:22:20] [INFO] [Player.Grenade.Simple] C# set velocity directly: dir=(0.9832758, 0.18212278), speed=527,4, spawn=(331.21573, 91.00218)
[07:22:20] [INFO] [GrenadeBase] Simple mode throw! Dir: (0.983276, 0.182123), Speed: 527.4 (clamped from 527.4, max: 1186.5)
[07:22:20] [INFO] [FragGrenade] Grenade thrown (simple mode) - impact detection enabled
[07:22:20] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[07:22:20] [INFO] [Player.Grenade.Simple] Grenade thrown!
[07:22:20] [INFO] [Player.Grenade] State reset to IDLE
[07:22:20] [INFO] [Player.Grenade] State reset to IDLE
[07:22:20] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[07:22:20] [INFO] [Player.Grenade] Player rotation restored to 0
[07:22:20] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[07:22:20] [INFO] [ReplayManager] Recording frame 12060 (195,5s): player_valid=False, enemies=10
[07:22:21] [INFO] [GrenadeTimer] Frag grenade landed - EXPLODING!
[07:22:21] [INFO] [GrenadeTimer] EXPLODED at (619.4018, 144.38016)!
[07:22:21] [INFO] [GrenadeTimer] Applying frag explosion damage (radius: 225, damage: 99)
[07:22:21] [INFO] [GrenadeTimer] Spawned 4 shrapnel pieces
[07:22:21] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(619.4018, 144.3802), source=NEUTRAL (FragGrenade), range=2938, listeners=0
[07:22:21] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:22:21] [INFO] [GrenadeTimer] Spawned PointLight2D frag explosion flash at (619.4018, 144.38016) (shadow-based wall occlusion)
[07:22:21] [INFO] [ReplayManager] Recording frame 12120 (196,5s): player_valid=False, enemies=10
[07:22:22] [INFO] [ReplayManager] Recording frame 12180 (197,5s): player_valid=False, enemies=10
[07:22:23] [INFO] [ReplayManager] Recording frame 12240 (198,5s): player_valid=False, enemies=10
[07:22:23] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[07:22:23] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:22:23] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[07:22:23] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[07:22:23] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[07:22:23] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[07:22:23] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[07:22:23] [INFO] [LastChance] Resetting all effects (scene change detected)
[07:22:23] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[07:22:23] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[07:22:23] [ENEMY] [Enemy1] Death animation component initialized
[07:22:23] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:22:23] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[07:22:23] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[07:22:23] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[07:22:23] [ENEMY] [Enemy2] Death animation component initialized
[07:22:23] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:22:23] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[07:22:23] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[07:22:23] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[07:22:23] [ENEMY] [Enemy3] Death animation component initialized
[07:22:23] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:22:23] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[07:22:23] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[07:22:23] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[07:22:23] [ENEMY] [Enemy4] Death animation component initialized
[07:22:23] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:22:23] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[07:22:23] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[07:22:23] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[07:22:23] [ENEMY] [Enemy5] Death animation component initialized
[07:22:23] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:22:23] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[07:22:23] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[07:22:23] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[07:22:23] [ENEMY] [Enemy6] Death animation component initialized
[07:22:23] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:22:23] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[07:22:23] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[07:22:23] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[07:22:23] [INFO] [EnemyGrenade] Initialized: 1 grenades
[07:22:23] [ENEMY] [Enemy7] Death animation component initialized
[07:22:23] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:22:23] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[07:22:23] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[07:22:23] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[07:22:23] [ENEMY] [Enemy8] Death animation component initialized
[07:22:23] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:22:23] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[07:22:23] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[07:22:23] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[07:22:23] [ENEMY] [Enemy9] Death animation component initialized
[07:22:23] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:22:23] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[07:22:23] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[07:22:23] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[07:22:23] [ENEMY] [Enemy10] Death animation component initialized
[07:22:23] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:22:23] [INFO] [BloodyFeet:Player] Footprint scene loaded
[07:22:23] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[07:22:23] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[07:22:23] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[07:22:23] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[07:22:23] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[07:22:23] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[07:22:23] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[07:22:23] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[07:22:23] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[07:22:23] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[07:22:23] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 10/10
[07:22:23] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[07:22:23] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[07:22:23] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[07:22:23] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[07:22:23] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[07:22:23] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[07:22:23] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[07:22:23] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[07:22:23] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[07:22:23] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[07:22:23] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[07:22:23] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[07:22:23] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[07:22:23] [INFO] [ScoreManager] Level started with 10 enemies
[07:22:23] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[07:22:23] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[07:22:23] [INFO] [ReplayManager] Replay data cleared
[07:22:23] [INFO] [BuildingLevel] Previous replay data cleared
[07:22:23] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[07:22:23] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[07:22:23] [INFO] [ReplayManager] Level: BuildingLevel
[07:22:23] [INFO] [ReplayManager] Player: Player (valid: True)
[07:22:23] [INFO] [ReplayManager] Enemies count: 10
[07:22:23] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[07:22:23] [INFO] [ReplayManager]   Enemy 0: Enemy1
[07:22:23] [INFO] [ReplayManager]   Enemy 1: Enemy2
[07:22:23] [INFO] [ReplayManager]   Enemy 2: Enemy3
[07:22:23] [INFO] [ReplayManager]   Enemy 3: Enemy4
[07:22:23] [INFO] [ReplayManager]   Enemy 4: Enemy5
[07:22:23] [INFO] [ReplayManager]   Enemy 5: Enemy6
[07:22:23] [INFO] [ReplayManager]   Enemy 6: Enemy7
[07:22:23] [INFO] [ReplayManager]   Enemy 7: Enemy8
[07:22:23] [INFO] [ReplayManager]   Enemy 8: Enemy9
[07:22:23] [INFO] [ReplayManager]   Enemy 9: Enemy10
[07:22:23] [INFO] [BuildingLevel] Replay recording started successfully
[07:22:23] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[07:22:23] [INFO] [CinemaEffects] Found player node: Player
[07:22:23] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[07:22:23] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 1)
[07:22:23] [ENEMY] [Enemy1] Registered as sound listener
[07:22:23] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 2, behavior: GUARD
[07:22:23] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[07:22:23] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 2)
[07:22:23] [ENEMY] [Enemy2] Registered as sound listener
[07:22:23] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 2, behavior: GUARD
[07:22:23] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[07:22:23] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 3)
[07:22:23] [ENEMY] [Enemy3] Registered as sound listener
[07:22:23] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 3, behavior: GUARD
[07:22:23] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[07:22:23] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 4)
[07:22:23] [ENEMY] [Enemy4] Registered as sound listener
[07:22:23] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 2, behavior: GUARD
[07:22:23] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[07:22:23] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 5)
[07:22:23] [ENEMY] [Enemy5] Registered as sound listener
[07:22:23] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 4, behavior: GUARD
[07:22:23] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[07:22:23] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 6)
[07:22:23] [ENEMY] [Enemy6] Registered as sound listener
[07:22:23] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 4, behavior: GUARD
[07:22:23] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[07:22:23] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 7)
[07:22:23] [ENEMY] [Enemy7] Registered as sound listener
[07:22:23] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 4, behavior: PATROL
[07:22:23] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[07:22:23] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 8)
[07:22:23] [ENEMY] [Enemy8] Registered as sound listener
[07:22:23] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 4, behavior: GUARD
[07:22:23] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[07:22:23] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 9)
[07:22:23] [ENEMY] [Enemy9] Registered as sound listener
[07:22:23] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 4, behavior: GUARD
[07:22:23] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[07:22:23] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 10)
[07:22:23] [ENEMY] [Enemy10] Registered as sound listener
[07:22:23] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 4, behavior: PATROL
[07:22:23] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[07:22:23] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[07:22:23] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[07:22:23] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=45.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[07:22:23] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[07:22:23] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[07:22:23] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[07:22:23] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[07:22:23] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=213.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[07:22:23] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[07:22:24] [INFO] [Player] Detecting weapon pose (frame 3)...
[07:22:24] [INFO] [Player] Detected weapon: Rifle (default pose)
[07:22:24] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[07:22:24] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[07:22:24] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[07:22:24] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[07:22:24] [INFO] [LastChance] Found player: Player
[07:22:24] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[07:22:24] [INFO] [LastChance] Connected to player Damaged signal (C#)
[07:22:24] [INFO] [LastChance] Connected to player Died signal (C#)
[07:22:24] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[07:22:24] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[07:22:24] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:22:24] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[07:22:24] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[07:22:24] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[07:22:24] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[07:22:24] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[07:22:24] [INFO] [LastChance] Resetting all effects (scene change detected)
[07:22:24] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[07:22:24] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[07:22:24] [ENEMY] [Enemy1] Death animation component initialized
[07:22:24] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:22:24] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[07:22:24] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[07:22:24] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[07:22:24] [ENEMY] [Enemy2] Death animation component initialized
[07:22:24] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:22:24] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[07:22:24] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[07:22:24] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[07:22:24] [ENEMY] [Enemy3] Death animation component initialized
[07:22:24] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:22:24] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[07:22:24] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[07:22:24] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[07:22:24] [ENEMY] [Enemy4] Death animation component initialized
[07:22:24] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:22:24] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[07:22:24] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[07:22:24] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[07:22:24] [INFO] [EnemyGrenade] Initialized: 1 grenades
[07:22:24] [ENEMY] [Enemy5] Death animation component initialized
[07:22:24] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:22:24] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[07:22:24] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[07:22:24] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[07:22:24] [ENEMY] [Enemy6] Death animation component initialized
[07:22:24] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:22:24] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[07:22:24] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[07:22:24] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[07:22:24] [ENEMY] [Enemy7] Death animation component initialized
[07:22:24] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:22:24] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[07:22:24] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[07:22:24] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[07:22:24] [ENEMY] [Enemy8] Death animation component initialized
[07:22:24] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:22:24] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[07:22:24] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[07:22:24] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[07:22:24] [ENEMY] [Enemy9] Death animation component initialized
[07:22:24] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:22:24] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[07:22:24] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[07:22:24] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[07:22:24] [ENEMY] [Enemy10] Death animation component initialized
[07:22:24] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:22:24] [INFO] [BloodyFeet:Player] Footprint scene loaded
[07:22:24] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[07:22:24] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[07:22:24] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[07:22:24] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[07:22:24] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[07:22:24] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[07:22:24] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[07:22:24] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[07:22:24] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[07:22:24] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[07:22:24] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 10/10
[07:22:24] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[07:22:24] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[07:22:24] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[07:22:24] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[07:22:24] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[07:22:24] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[07:22:24] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[07:22:24] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[07:22:24] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[07:22:24] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[07:22:24] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[07:22:24] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[07:22:24] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[07:22:24] [INFO] [ScoreManager] Level started with 10 enemies
[07:22:24] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[07:22:24] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[07:22:24] [INFO] [ReplayManager] Replay data cleared
[07:22:24] [INFO] [BuildingLevel] Previous replay data cleared
[07:22:24] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[07:22:24] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[07:22:24] [INFO] [ReplayManager] Level: BuildingLevel
[07:22:24] [INFO] [ReplayManager] Player: Player (valid: True)
[07:22:24] [INFO] [ReplayManager] Enemies count: 10
[07:22:24] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[07:22:24] [INFO] [ReplayManager]   Enemy 0: Enemy1
[07:22:24] [INFO] [ReplayManager]   Enemy 1: Enemy2
[07:22:24] [INFO] [ReplayManager]   Enemy 2: Enemy3
[07:22:24] [INFO] [ReplayManager]   Enemy 3: Enemy4
[07:22:24] [INFO] [ReplayManager]   Enemy 4: Enemy5
[07:22:24] [INFO] [ReplayManager]   Enemy 5: Enemy6
[07:22:24] [INFO] [ReplayManager]   Enemy 6: Enemy7
[07:22:24] [INFO] [ReplayManager]   Enemy 7: Enemy8
[07:22:24] [INFO] [ReplayManager]   Enemy 8: Enemy9
[07:22:24] [INFO] [ReplayManager]   Enemy 9: Enemy10
[07:22:24] [INFO] [BuildingLevel] Replay recording started successfully
[07:22:24] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[07:22:24] [INFO] [CinemaEffects] Found player node: Player
[07:22:24] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[07:22:24] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[07:22:24] [ENEMY] [Enemy1] Registered as sound listener
[07:22:24] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 3, behavior: GUARD
[07:22:24] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[07:22:24] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[07:22:24] [ENEMY] [Enemy2] Registered as sound listener
[07:22:24] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 3, behavior: GUARD
[07:22:24] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[07:22:24] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[07:22:24] [ENEMY] [Enemy3] Registered as sound listener
[07:22:24] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 4, behavior: GUARD
[07:22:24] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[07:22:24] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[07:22:24] [ENEMY] [Enemy4] Registered as sound listener
[07:22:24] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 2, behavior: GUARD
[07:22:24] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[07:22:24] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[07:22:24] [ENEMY] [Enemy5] Registered as sound listener
[07:22:24] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 2, behavior: GUARD
[07:22:24] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[07:22:24] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[07:22:24] [ENEMY] [Enemy6] Registered as sound listener
[07:22:24] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 3, behavior: GUARD
[07:22:24] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[07:22:24] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[07:22:24] [ENEMY] [Enemy7] Registered as sound listener
[07:22:24] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 2, behavior: PATROL
[07:22:24] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[07:22:24] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[07:22:24] [ENEMY] [Enemy8] Registered as sound listener
[07:22:24] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 3, behavior: GUARD
[07:22:24] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[07:22:24] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[07:22:24] [ENEMY] [Enemy9] Registered as sound listener
[07:22:24] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 4, behavior: GUARD
[07:22:24] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[07:22:24] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[07:22:24] [ENEMY] [Enemy10] Registered as sound listener
[07:22:24] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 2, behavior: PATROL
[07:22:24] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[07:22:24] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[07:22:24] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=33.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[07:22:24] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=45.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[07:22:24] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[07:22:24] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[07:22:24] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[07:22:24] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[07:22:24] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=213.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[07:22:24] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[07:22:24] [INFO] [Player] Detecting weapon pose (frame 3)...
[07:22:24] [INFO] [Player] Detected weapon: Rifle (default pose)
[07:22:24] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[07:22:24] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[07:22:24] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[07:22:24] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[07:22:24] [INFO] [LastChance] Found player: Player
[07:22:24] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[07:22:24] [INFO] [LastChance] Connected to player Damaged signal (C#)
[07:22:24] [INFO] [LastChance] Connected to player Died signal (C#)
[07:22:24] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[07:22:24] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[07:22:24] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[07:22:24] [INFO] [Player.Grenade] G pressed - starting grab animation
[07:22:25] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[07:22:25] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (605.6818, 1222.616)
[07:22:25] [INFO] [GrenadeBase] CCD enabled (mode: CAST_RAY) to prevent wall tunneling
[07:22:25] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[07:22:25] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[07:22:25] [INFO] [GrenadeTimer] Initialized for Frag grenade, effect radius: 225
[07:22:25] [INFO] [Player.Grenade] Added GrenadeTimer component (type: Frag)
[07:22:25] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[07:22:25] [INFO] [GrenadeTimer] Timer activated! 4 seconds until explosion
[07:22:25] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1250)
[07:22:25] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[07:22:25] [INFO] [Player.Grenade] Step 1 complete! Drag: (41.648132, -9.350586)
[07:22:25] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[07:22:25] [INFO] [Player.Grenade.Simple] RMB pressed after pin pull - starting trajectory aiming
[07:22:25] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[07:22:26] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[07:22:26] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[07:22:26] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,1116), corner_timer=0.30
[07:22:26] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,1116), corner_timer=0.30
[07:22:26] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(449,1012), corner_timer=-0.02
[07:22:26] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[07:22:26] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(449,1012), corner_timer=-0.02
[07:22:26] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[07:22:26] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(448,1007), corner_timer=0.30
[07:22:26] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(448,1007), corner_timer=0.30
[07:22:26] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[07:22:26] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(387,928), corner_timer=-0.02
[07:22:26] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[07:22:26] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(384,923), corner_timer=0.30
[07:22:27] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=164.4°, current=-168.8°, player=(368,842), corner_timer=0.00
[07:22:27] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[07:22:27] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=166.2°, current=-9.2°, player=(368,831), corner_timer=0.00
[07:22:27] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(368,825), corner_timer=-0.02
[07:22:27] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[07:22:27] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.6°, player=(368,820), corner_timer=0.30
[07:22:27] [ENEMY] [Enemy4] Memory: high confidence (0.89) - transitioning to PURSUING
[07:22:27] [ENEMY] [Enemy4] State: IDLE -> PURSUING
[07:22:27] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=-168.2°, current=168.8°, player=(368,809), corner_timer=0.00
[07:22:27] [ENEMY] [Enemy4] PURSUING corner check: angle -100.7°
[07:22:27] [INFO] [Player.Grenade.Simple] Throwing! Target: (690.104, 752.7495), Distance: 336,8, Speed: 434,3, Friction: 280,0
[07:22:27] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,010131195
[07:22:27] [INFO] [GrenadeTimer] Grenade marked as thrown - impact detection enabled
[07:22:27] [INFO] [Player.Grenade.Simple] C# set velocity directly: dir=(0.9999487, -0.010131022), speed=434,3, spawn=(399.74738, 755.6913)
[07:22:27] [INFO] [GrenadeBase] Simple mode throw! Dir: (0.999949, -0.010131), Speed: 434.3 (clamped from 434.3, max: 1186.5)
[07:22:27] [INFO] [FragGrenade] Grenade thrown (simple mode) - impact detection enabled
[07:22:27] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[07:22:27] [INFO] [Player.Grenade.Simple] Grenade thrown!
[07:22:27] [INFO] [Player.Grenade] State reset to IDLE
[07:22:27] [INFO] [Player.Grenade] State reset to IDLE
[07:22:27] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[07:22:27] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(325,749), corner_timer=-0.02
[07:22:27] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[07:22:27] [INFO] [Player.Grenade] Player rotation restored to 0
[07:22:27] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.8°, current=6.3°, player=(322,748), corner_timer=0.30
[07:22:27] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=10
[07:22:27] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[07:22:27] [ENEMY] [Enemy4] PURSUING corner check: angle -94.0°
[07:22:27] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[07:22:27] [ENEMY] [Enemy2] Memory: high confidence (0.84) - transitioning to PURSUING
[07:22:27] [ENEMY] [Enemy2] State: IDLE -> PURSUING
[07:22:27] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=117.3°, current=45.0°, player=(288,765), corner_timer=0.00
[07:22:27] [ENEMY] [Enemy2] PURSUING corner check: angle 180.0°
[07:22:27] [INFO] [GrenadeBase] Collision detected with Enemy3 (type: CharacterBody2D)
[07:22:27] [INFO] [FragGrenade] Impact detected! Body: Enemy3 (type: CharacterBody2D), triggering explosion
[07:22:27] [INFO] [FragGrenade] Impact detected - exploding immediately!
[07:22:27] [INFO] [GrenadeBase] EXPLODED at (519.1091, 753.452)!
[07:22:27] [INFO] [PowerFantasy] Grenade exploded - triggering last chance time-freeze effect for 2000ms
[07:22:27] [INFO] [LastChance] Grenade explosion triggering last chance effect for 2.00 seconds
[07:22:27] [INFO] [LastChance] Starting last chance effect:
[07:22:27] [INFO] [LastChance]   - Time will be frozen (except player)
[07:22:27] [INFO] [LastChance]   - Duration: 2.00 real seconds
[07:22:27] [INFO] [LastChance]   - Trigger: grenade explosion
[07:22:27] [INFO] [LastChance]   - Sepia intensity: 0.70
[07:22:27] [INFO] [LastChance]   - Brightness: 0.60
[07:22:27] [INFO] [LastChance] Set player Player and all 25 children to PROCESS_MODE_ALWAYS
[07:22:27] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[07:22:27] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[07:22:27] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[07:22:27] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[07:22:27] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[07:22:27] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[07:22:27] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[07:22:27] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[07:22:27] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[07:22:27] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[07:22:27] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[07:22:27] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[07:22:27] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[07:22:27] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[07:22:27] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[07:22:27] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[07:22:27] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[07:22:27] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[07:22:27] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[07:22:27] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[07:22:27] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[07:22:27] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[07:22:27] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[07:22:27] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[07:22:27] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[07:22:27] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[07:22:27] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[07:22:27] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[07:22:27] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[07:22:27] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[07:22:27] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[07:22:27] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[07:22:27] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[07:22:27] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[07:22:27] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[07:22:27] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[07:22:27] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[07:22:27] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[07:22:27] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[07:22:27] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[07:22:27] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[07:22:27] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[07:22:27] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[07:22:27] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[07:22:27] [INFO] [LastChance] Skipping player node: Player
[07:22:27] [INFO] [LastChance] Froze existing grenade: FragGrenade
[07:22:27] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[07:22:27] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[07:22:27] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[07:22:27] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(519.1091, 753.452), source=NEUTRAL (FragGrenade), range=2937, listeners=20
[07:22:27] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[07:22:27] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=0, self=0, below_threshold=6
[07:22:27] [ENEMY] [Enemy3] Hit taken, damage: 1, health: 4/4 -> 3/4
[07:22:27] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[07:22:27] [INFO] [ImpactEffects] spawn_blood_effect called at (551.7028, 758.9836), dir=(0.985903, 0.16732), lethal=false
[07:22:27] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[07:22:27] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[07:22:27] [INFO] [ImpactEffects] Blood effect spawned at (551.7028, 758.9836) (scale=1)
[07:22:27] [ENEMY] [Enemy3] Hit taken, damage: 1, health: 3/4 -> 2/4
[07:22:27] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[07:22:27] [INFO] [ImpactEffects] spawn_blood_effect called at (551.7028, 758.9836), dir=(0.985903, 0.16732), lethal=false
[07:22:27] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[07:22:27] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[07:22:27] [INFO] [ImpactEffects] Blood effect spawned at (551.7028, 758.9836) (scale=1)
[07:22:27] [ENEMY] [Enemy3] Hit taken, damage: 1, health: 2/4 -> 1/4
[07:22:27] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[07:22:27] [INFO] [ImpactEffects] spawn_blood_effect called at (551.7028, 758.9836), dir=(0.985903, 0.16732), lethal=false
[07:22:27] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[07:22:27] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[07:22:27] [INFO] [ImpactEffects] Blood effect spawned at (551.7028, 758.9836) (scale=1)
[07:22:27] [ENEMY] [Enemy3] Hit taken, damage: 1, health: 1/4 -> 0/4
[07:22:27] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[07:22:27] [INFO] [ImpactEffects] spawn_blood_effect called at (551.7028, 758.9836), dir=(0.985903, 0.16732), lethal=true
[07:22:27] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[07:22:27] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[07:22:27] [INFO] [ImpactEffects] Blood effect spawned at (551.7028, 758.9836) (scale=1.5)
[07:22:27] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[07:22:27] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[07:22:27] [INFO] [PowerFantasy] Enemy killed - skipping 300ms effect (LastChance time-freeze already active)
[07:22:27] [ENEMY] [Enemy1] [AllyDeath] Witnessed at (551.7028, 758.9836), entering SEARCHING
[07:22:27] [ENEMY] [Enemy1] SEARCHING started: center=(551.7028, 758.9836), radius=100, waypoints=5
[07:22:27] [ENEMY] [Enemy3] [AllyDeath] Notified 3 enemies
[07:22:27] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[07:22:27] [INFO] [DeathAnim] Started - Angle: 9.6 deg, Index: 12
[07:22:27] [ENEMY] [Enemy3] Death animation started with hit direction: (0.985903, 0.16732)
[07:22:27] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 33.1
[07:22:27] [ENEMY] [Enemy4] Hit taken, damage: 1, health: 2/2 -> 1/2
[07:22:27] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[07:22:27] [INFO] [ImpactEffects] spawn_blood_effect called at (638.6459, 900.9921), dir=(0.629515, 0.776988), lethal=false
[07:22:27] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[07:22:27] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[07:22:27] [INFO] [ImpactEffects] Blood effect spawned at (638.6459, 900.9921) (scale=1)
[07:22:27] [ENEMY] [Enemy4] Hit taken, damage: 1, health: 1/2 -> 0/2
[07:22:27] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[07:22:27] [INFO] [ImpactEffects] spawn_blood_effect called at (638.6459, 900.9921), dir=(0.629515, 0.776988), lethal=true
[07:22:27] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[07:22:27] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[07:22:27] [INFO] [ImpactEffects] Blood effect spawned at (638.6459, 900.9921) (scale=1.5)
[07:22:27] [ENEMY] [Enemy4] Enemy died (ricochet: false, penetration: false)
[07:22:27] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[07:22:27] [INFO] [PowerFantasy] Enemy killed - skipping 300ms effect (LastChance time-freeze already active)
[07:22:27] [ENEMY] [Enemy4] [AllyDeath] Notified 1 enemies
[07:22:27] [INFO] [SoundPropagation] Unregistered listener: Enemy4 (remaining: 8)
[07:22:27] [INFO] [DeathAnim] Started - Angle: 51.0 deg, Index: 15
[07:22:27] [ENEMY] [Enemy4] Death animation started with hit direction: (0.629515, 0.776988)
[07:22:27] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 189.9
[07:22:27] [INFO] [LastChance] Freezing newly created shrapnel: Shrapnel
[07:22:27] [INFO] [LastChance] Registered frozen shrapnel: Shrapnel
[07:22:27] [INFO] [FragGrenade] Spawned shrapnel #1 at angle 15.1 degrees
[07:22:27] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@2241
[07:22:27] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@2241
[07:22:27] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 98.0 degrees
[07:22:27] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@2242
[07:22:27] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@2242
[07:22:27] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 178.1 degrees
[07:22:27] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@2243
[07:22:27] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@2243
[07:22:27] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 261.7 degrees
[07:22:27] [INFO] [ImpactEffects] Spawning explosion visual effect at (519.1091, 753.452) (radius=225) - using shadow-based wall occlusion
[07:22:27] [INFO] [LastChance] Freezing newly created explosion effect: @PointLight2D@2244
[07:22:27] [INFO] [LastChance] Registered frozen explosion effect: @PointLight2D@2244
[07:22:27] [INFO] [GrenadeTimer] Impact detected with Enemy3 - EXPLODING!
[07:22:27] [INFO] [GrenadeTimer] EXPLODED at (519.1091, 753.452)!
[07:22:27] [INFO] [GrenadeTimer] Applying frag explosion damage (radius: 225, damage: 99)
[07:22:27] [INFO] [GrenadeTimer] Damaged enemy at distance 33,1
[07:22:27] [INFO] [GrenadeTimer] Damaged enemy at distance 189,9
[07:22:27] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@2245
[07:22:27] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@2245
[07:22:27] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@2246
[07:22:27] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@2246
[07:22:27] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@2247
[07:22:27] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@2247
[07:22:27] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@2248
[07:22:27] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@2248
[07:22:27] [INFO] [GrenadeTimer] Spawned 4 shrapnel pieces
[07:22:27] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(519.1091, 753.452), source=NEUTRAL (FragGrenade), range=2938, listeners=8
[07:22:27] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=6
[07:22:27] [INFO] [LastChance] Freezing newly created explosion visual effect (Node2D): ExplosionFlash
[07:22:27] [INFO] [LastChance] Registered frozen explosion visual: ExplosionFlash
[07:22:27] [INFO] [LastChance] Freezing newly created explosion effect: PointLight2D
[07:22:27] [INFO] [LastChance] Registered frozen explosion effect: PointLight2D
[07:22:27] [INFO] [GrenadeTimer] Spawned PointLight2D frag explosion flash at (519.1091, 753.452) (shadow-based wall occlusion)
[07:22:27] [INFO] [BloodDecal] Blood puddle created at (594.2833, 769.3542) (added to group)
[07:22:27] [INFO] [BloodDecal] Blood puddle created at (606.4899, 810.5416) (added to group)
[07:22:27] [INFO] [BloodDecal] Blood puddle created at (620.855, 757.1241) (added to group)
[07:22:27] [INFO] [BloodDecal] Blood puddle created at (607.6362, 807.5093) (added to group)
[07:22:27] [INFO] [BloodDecal] Blood puddle created at (667.3029, 990.9524) (added to group)
[07:22:27] [INFO] [BloodDecal] Blood puddle created at (661.8738, 975.0208) (added to group)
[07:22:27] [INFO] [BloodDecal] Blood puddle created at (672.8101, 948.5333) (added to group)
[07:22:27] [INFO] [BloodDecal] Blood puddle created at (645.9107, 783.0633) (added to group)
[07:22:27] [INFO] [BloodDecal] Blood puddle created at (621.0983, 765.1404) (added to group)
[07:22:27] [INFO] [BloodDecal] Blood puddle created at (616.6155, 760.9586) (added to group)
[07:22:27] [INFO] [BloodDecal] Blood puddle created at (594.2466, 797.7188) (added to group)
[07:22:27] [INFO] [BloodDecal] Blood puddle created at (604.0051, 780.5488) (added to group)
[07:22:27] [INFO] [BloodDecal] Blood puddle created at (711.9767, 967.2403) (added to group)
[07:22:27] [INFO] [BloodDecal] Blood puddle created at (648.763, 959.6805) (added to group)
[07:22:27] [INFO] [BloodDecal] Blood puddle created at (625.126, 833.0269) (added to group)
[07:22:27] [INFO] [BloodDecal] Blood puddle created at (701.7457, 956.5496) (added to group)
[07:22:27] [INFO] [BloodDecal] Blood puddle created at (605.5195, 783.6006) (added to group)
[07:22:28] [INFO] [BloodDecal] Blood puddle created at (594.4866, 806.6255) (added to group)
[07:22:28] [INFO] [BloodDecal] Blood puddle created at (599.8118, 767.6061) (added to group)
[07:22:28] [INFO] [BloodDecal] Blood puddle created at (607.2515, 796.8279) (added to group)
[07:22:28] [INFO] [BloodDecal] Blood puddle created at (718.0696, 986.3461) (added to group)
[07:22:28] [INFO] [BloodDecal] Blood puddle created at (659.7012, 800.8845) (added to group)
[07:22:28] [INFO] [BloodDecal] Blood puddle created at (623.2662, 820.6783) (added to group)
[07:22:28] [INFO] [BloodDecal] Blood puddle created at (640.1611, 847.4835) (added to group)
[07:22:28] [INFO] [BloodDecal] Blood puddle created at (667.3727, 772.29) (added to group)
[07:22:28] [INFO] [BloodDecal] Blood puddle created at (663.3381, 763.2242) (added to group)
[07:22:28] [INFO] [BloodDecal] Blood puddle created at (722.0129, 971.3696) (added to group)
[07:22:28] [INFO] [BloodDecal] Blood puddle created at (644.8124, 808.8767) (added to group)
[07:22:28] [INFO] [BloodDecal] Blood puddle created at (697.074, 967.3376) (added to group)
[07:22:28] [INFO] [BloodDecal] Blood puddle created at (645.2479, 840.413) (added to group)
[07:22:28] [INFO] [BloodDecal] Blood puddle created at (666.8985, 769.507) (added to group)
[07:22:28] [INFO] [BloodDecal] Blood puddle created at (666.644, 838.1052) (added to group)
[07:22:28] [INFO] [BloodDecal] Blood puddle created at (658.507, 826.0524) (added to group)
[07:22:28] [INFO] [BloodDecal] Blood puddle created at (655.8295, 848.9445) (added to group)
[07:22:28] [INFO] [BloodDecal] Blood puddle created at (659.8837, 868.2303) (added to group)
[07:22:28] [INFO] [BloodDecal] Blood puddle created at (729.6687, 798.1354) (added to group)
[07:22:28] [INFO] [BloodDecal] Blood puddle created at (644.9097, 822.1126) (added to group)
[07:22:28] [INFO] [BloodDecal] Blood puddle created at (715.6019, 799.5867) (added to group)
[07:22:28] [INFO] [BloodDecal] Blood puddle created at (639.0148, 884.6049) (added to group)
[07:22:28] [INFO] [BloodDecal] Blood puddle created at (636.0439, 881.0201) (added to group)
[07:22:28] [INFO] [BloodDecal] Blood puddle created at (645.6607, 906.1205) (added to group)
[07:22:28] [INFO] [BloodDecal] Blood puddle created at (640.3815, 898.0748) (added to group)
[07:22:28] [INFO] [BloodDecal] Blood puddle created at (731.8668, 944.5076) (added to group)
[07:22:28] [INFO] [BloodDecal] Blood puddle created at (645.2749, 901.0419) (added to group)
[07:22:28] [INFO] [BloodDecal] Blood puddle created at (719.9726, 809.8883) (added to group)
[07:22:28] [INFO] [BloodDecal] Blood puddle created at (668.7043, 894.854) (added to group)
[07:22:28] [INFO] [BloodDecal] Blood puddle created at (648.7852, 909.4354) (added to group)
[07:22:28] [INFO] [BloodDecal] Blood puddle created at (656.545, 926.0955) (added to group)
[07:22:28] [INFO] [BloodDecal] Blood puddle created at (669.2142, 930.0311) (added to group)
[07:22:28] [INFO] [BloodDecal] Blood puddle created at (698.0132, 917.8622) (added to group)
[07:22:28] [INFO] [BloodDecal] Blood puddle created at (766.7019, 801.0178) (added to group)
[07:22:28] [INFO] [BloodDecal] Blood puddle created at (667.3564, 911.7714) (added to group)
[07:22:28] [INFO] [ReplayManager] Recording frame 240 (4,0s): player_valid=True, enemies=10
[07:22:29] [INFO] [ReplayManager] Recording frame 300 (5,0s): player_valid=True, enemies=10
[07:22:29] [INFO] [LastChance] Effect duration expired after 2.00 real seconds
[07:22:29] [INFO] [LastChance] Ending last chance effect
[07:22:29] [ENEMY] [Enemy1] Memory reset: confusion=2.0s, had_target=true
[07:22:29] [ENEMY] [Enemy1] Search mode: SEARCHING -> SEARCHING at (354.5223, 725.5197)
[07:22:29] [ENEMY] [Enemy1] SEARCHING started: center=(354.5223, 725.5197), radius=100, waypoints=5
[07:22:29] [ENEMY] [Enemy2] Memory reset: confusion=2.0s, had_target=true
[07:22:29] [ENEMY] [Enemy2] Search mode: PURSUING -> SEARCHING at (368.3291, 836.9958)
[07:22:29] [ENEMY] [Enemy2] SEARCHING started: center=(368.3291, 836.9958), radius=100, waypoints=5
[07:22:29] [ENEMY] [Enemy3] Memory reset: confusion=2.0s, had_target=true
[07:22:29] [ENEMY] [Enemy3] Search mode: PURSUING -> SEARCHING at (368.3291, 836.9958)
[07:22:29] [ENEMY] [Enemy3] SEARCHING started: center=(368.3291, 836.9958), radius=100, waypoints=5
[07:22:29] [ENEMY] [Enemy4] Memory reset: confusion=2.0s, had_target=true
[07:22:29] [ENEMY] [Enemy4] Search mode: PURSUING -> SEARCHING at (368.3291, 836.9958)
[07:22:29] [ENEMY] [Enemy4] SEARCHING started: center=(368.3291, 836.9958), radius=100, waypoints=5
[07:22:29] [ENEMY] [Enemy5] Memory reset: confusion=2.0s, had_target=false
[07:22:29] [ENEMY] [Enemy6] Memory reset: confusion=2.0s, had_target=false
[07:22:29] [ENEMY] [Enemy7] Memory reset: confusion=2.0s, had_target=false
[07:22:29] [ENEMY] [Enemy8] Memory reset: confusion=2.0s, had_target=false
[07:22:29] [ENEMY] [Enemy9] Memory reset: confusion=2.0s, had_target=false
[07:22:29] [ENEMY] [Enemy10] Memory reset: confusion=2.0s, had_target=false
[07:22:29] [INFO] [LastChance] Reset memory for 10 enemies (player teleport effect)
[07:22:29] [INFO] [LastChance] All process modes restored
[07:22:29] [INFO] [LastChance] Unfroze shrapnel: Shrapnel
[07:22:29] [INFO] [LastChance] Unfroze shrapnel: @Area2D@2241
[07:22:29] [INFO] [LastChance] Unfroze shrapnel: @Area2D@2242
[07:22:29] [INFO] [LastChance] Unfroze shrapnel: @Area2D@2243
[07:22:29] [INFO] [LastChance] Unfroze shrapnel: @Area2D@2245
[07:22:29] [INFO] [LastChance] Unfroze shrapnel: @Area2D@2246
[07:22:29] [INFO] [LastChance] Unfroze shrapnel: @Area2D@2247
[07:22:29] [INFO] [LastChance] Unfroze shrapnel: @Area2D@2248
[07:22:29] [INFO] [LastChance] Unfroze explosion effect: @PointLight2D@2244
[07:22:29] [INFO] [LastChance] Unfroze explosion effect: PointLight2D
[07:22:29] [INFO] [LastChance] Unfroze explosion visual: ExplosionFlash
[07:22:29] [INFO] [LastChance] Starting visual effects fade-out over 400ms
[07:22:29] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=SEARCHING, target=91.4°, current=33.8°, player=(284,990), corner_timer=0.00
[07:22:29] [ENEMY] [Enemy1] SEARCHING corner check: angle -50.9°
[07:22:29] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.8°, player=(284,990), corner_timer=-0.02
[07:22:29] [ENEMY] [Enemy10] PATROL corner check: angle 0.9°
[07:22:29] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=0.9°, current=4.6°, player=(284,990), corner_timer=0.30
[07:22:30] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:22:30] [INFO] [LastChance] Visual effects fade-out complete
[07:22:30] [INFO] [LastChance] Restored original colors to 5 player sprites
[07:22:30] [INFO] [LastChance] Called player RefreshHealthVisual (C#)
[07:22:30] [ENEMY] [Enemy2] SEARCHING corner check: angle -50.2°
[07:22:30] [ENEMY] [Enemy1] SEARCHING corner check: angle 153.2°
[07:22:30] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=-130.1°, player=(284,990), corner_timer=-0.02
[07:22:30] [ENEMY] [Enemy7] PATROL corner check: angle 90.0°
[07:22:30] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=-133.0°, player=(284,990), corner_timer=0.30
[07:22:30] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:22:30] [ENEMY] [Enemy2] SEARCHING corner check: angle 0.1°
[07:22:30] [ENEMY] [Enemy1] SEARCHING corner check: angle 153.2°
[07:22:30] [INFO] [ReplayManager] Recording frame 360 (6,0s): player_valid=True, enemies=10
[07:22:30] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=179.1°, current=172.4°, player=(284,990), corner_timer=-0.02
[07:22:30] [ENEMY] [Enemy7] PATROL corner check: angle 89.8°
[07:22:30] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.8°, current=175.3°, player=(284,990), corner_timer=0.30
[07:22:30] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:22:30] [ENEMY] [Enemy1] SEARCHING corner check: angle -49.3°
[07:22:30] [ENEMY] [Enemy2] SEARCHING corner check: angle 56.9°
[07:22:30] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=178.4°, current=120.7°, player=(284,990), corner_timer=-0.02
[07:22:30] [ENEMY] [Enemy7] PATROL corner check: angle 89.7°
[07:22:30] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.7°, current=123.6°, player=(284,990), corner_timer=0.30
[07:22:31] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:22:31] [ENEMY] [Enemy1] SEARCHING corner check: angle 0.2°
[07:22:31] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.9°, current=89.7°, player=(284,990), corner_timer=-0.02
[07:22:31] [ENEMY] [Enemy7] PATROL corner check: angle 89.6°
[07:22:31] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.6°, current=92.5°, player=(284,990), corner_timer=0.30
[07:22:31] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:22:31] [ENEMY] [Enemy1] SEARCHING corner check: angle 90.0°
[07:22:31] [INFO] [ReplayManager] Recording frame 420 (7,0s): player_valid=True, enemies=10
[07:22:31] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.7°, current=89.6°, player=(284,990), corner_timer=-0.02
[07:22:31] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[07:22:31] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.4°, player=(284,990), corner_timer=0.30
[07:22:31] [ENEMY] [Enemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=SEARCHING, target=110.4°, current=144.9°, player=(284,990), corner_timer=0.12
[07:22:31] [ENEMY] [Enemy1] SEARCHING: Player spotted! Transitioning to COMBAT
[07:22:31] [ENEMY] [Enemy1] State: SEARCHING -> COMBAT
[07:22:31] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=SEARCHING, target=95.4°, current=97.9°, player=(284,990), corner_timer=0.18
[07:22:31] [ENEMY] [Enemy2] SEARCHING: Player spotted! Transitioning to COMBAT
[07:22:31] [ENEMY] [Enemy2] State: SEARCHING -> COMBAT
[07:22:31] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[07:22:31] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:22:31] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=56.9°, current=27.2°, player=(284,990), corner_timer=0.18
[07:22:31] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.5°, current=89.5°, player=(284,990), corner_timer=-0.02
[07:22:31] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[07:22:31] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.4°, player=(284,990), corner_timer=0.30
[07:22:32] [ENEMY] [Enemy2] ROT_CHANGE: P3:corner -> P1:visible, state=RETREATING, target=90.9°, current=41.2°, player=(284,990), corner_timer=0.18
[07:22:32] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:22:32] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.4°, current=89.5°, player=(284,990), corner_timer=-0.02
[07:22:32] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[07:22:32] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.3°, player=(284,990), corner_timer=0.30
[07:22:32] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:22:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(374.6174, 764.2883), source=ENEMY (Enemy1), range=1469, listeners=8
[07:22:32] [ENEMY] [Enemy2] Heard gunshot at (374.6174, 764.2883), source_type=1, intensity=0.42, distance=77
[07:22:32] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[07:22:32] [INFO] [LastChance] Threat detected: Bullet
[07:22:32] [INFO] [LastChance] Not in hard mode - effect disabled
[07:22:32] [INFO] [LastChance] Cannot trigger effect - conditions not met
[07:22:32] [INFO] [ReplayManager] Recording frame 480 (8,0s): player_valid=True, enemies=10
[07:22:32] [INFO] [Player] Spawning blood effect at (284.14572, 990.0331), dir=(1, 0), lethal=False (C#)
[07:22:32] [INFO] [ImpactEffects] spawn_blood_effect called at (284.1457, 990.0331), dir=(1, 0), lethal=false
[07:22:32] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[07:22:32] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[07:22:32] [INFO] [ImpactEffects] Blood effect spawned at (284.1457, 990.0331) (scale=1)
[07:22:32] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 9.0
[07:22:32] [INFO] [LastChance] Player health updated (C# Damaged): 9.0
[07:22:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(374.6174, 764.2883), source=ENEMY (Enemy1), range=1469, listeners=8
[07:22:32] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[07:22:32] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.5°, player=(284,990), corner_timer=-0.02
[07:22:32] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[07:22:32] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(284,990), corner_timer=0.30
[07:22:32] [INFO] [LastChance] Threat detected: Bullet
[07:22:32] [INFO] [LastChance] Not in hard mode - effect disabled
[07:22:32] [INFO] [LastChance] Cannot trigger effect - conditions not met
[07:22:32] [INFO] [ScoreManager] Combo ended at 2. Max combo: 2
[07:22:32] [INFO] [Player] Spawning blood effect at (284.14572, 990.0331), dir=(1, 0), lethal=False (C#)
[07:22:32] [INFO] [ImpactEffects] spawn_blood_effect called at (284.1457, 990.0331), dir=(1, 0), lethal=false
[07:22:32] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[07:22:32] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[07:22:32] [INFO] [ImpactEffects] Blood effect spawned at (284.1457, 990.0331) (scale=1)
[07:22:32] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 8.0
[07:22:32] [INFO] [LastChance] Player health updated (C# Damaged): 8.0
[07:22:32] [ENEMY] [Enemy1] State: COMBAT -> RETREATING
[07:22:32] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[07:22:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(374.6174, 764.2883), source=ENEMY (Enemy1), range=1469, listeners=8
[07:22:32] [ENEMY] [Enemy2] Heard gunshot at (374.6174, 764.2883), source_type=1, intensity=0.44, distance=75
[07:22:32] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[07:22:32] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[07:22:32] [INFO] [BloodDecal] Blood puddle created at (360.0567, 994.8279) (added to group)
[07:22:32] [INFO] [BloodDecal] Blood puddle created at (354.9453, 1032.287) (added to group)
[07:22:33] [INFO] [BloodDecal] Blood puddle created at (398.7021, 1080.376) (added to group)
[07:22:33] [INFO] [BloodDecal] Blood puddle created at (381.403, 988.873) (added to group)
[07:22:33] [INFO] [BloodDecal] Blood puddle created at (382.9341, 973.8131) (added to group)
[07:22:33] [INFO] [BloodDecal] Blood puddle created at (441.176, 994.1688) (added to group)
[07:22:33] [INFO] [BloodDecal] Blood puddle created at (390.4772, 1010.971) (added to group)
[07:22:33] [INFO] [BloodDecal] Blood puddle created at (416.0616, 1087.225) (added to group)
[07:22:33] [INFO] [BloodDecal] Blood puddle created at (345.092, 1045.292) (added to group)
[07:22:33] [INFO] [BloodDecal] Blood puddle created at (390.6399, 1067.479) (added to group)
[07:22:33] [INFO] [BloodDecal] Blood puddle created at (426.9468, 1031.571) (added to group)
[07:22:33] [INFO] [BloodDecal] Blood puddle created at (413.9528, 1093.345) (added to group)
[07:22:33] [INFO] [BloodDecal] Blood puddle created at (411.7944, 1058.552) (added to group)
[07:22:33] [INFO] [BloodDecal] Blood puddle created at (383.342, 1025.805) (added to group)
[07:22:33] [INFO] [BloodDecal] Blood puddle created at (367.8244, 1024.44) (added to group)
[07:22:33] [INFO] [BloodDecal] Blood puddle created at (462.3461, 1002.822) (added to group)
[07:22:33] [INFO] [BloodDecal] Blood puddle created at (404.2744, 1125.866) (added to group)
[07:22:33] [INFO] [BloodDecal] Blood puddle created at (451.1382, 1162.672) (added to group)
[07:22:33] [INFO] [BloodDecal] Blood puddle created at (462.3051, 1064.432) (added to group)
[07:22:33] [INFO] [BloodDecal] Blood puddle created at (491.3965, 1184.586) (added to group)
[07:22:33] [INFO] [ReplayManager] Recording frame 540 (9,0s): player_valid=True, enemies=10
[07:22:33] [INFO] [PauseMenu] Armory button pressed
[07:22:33] [INFO] [PauseMenu] Creating new armory menu instance
[07:22:33] [INFO] [PauseMenu] armory_menu_scene resource path: res://scenes/ui/ArmoryMenu.tscn
[07:22:33] [INFO] [PauseMenu] Instance created, class: CanvasLayer, name: ArmoryMenu
[07:22:33] [INFO] [PauseMenu] Script attached: res://scripts/ui/armory_menu.gd
[07:22:33] [INFO] [PauseMenu] back_pressed signal exists on instance
[07:22:33] [INFO] [PauseMenu] back_pressed signal connected
[07:22:33] [INFO] [PauseMenu] Armory menu instance added as child, is_inside_tree: true
[07:22:33] [INFO] [PauseMenu] _populate_weapon_grid method exists
[07:22:34] [INFO] [ReplayManager] Recording frame 600 (10,0s): player_valid=True, enemies=10
[07:22:34] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:22:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(523.3765, 829.93835)
[07:22:34] [INFO] [Bullet] WARNING: Unable to determine shooter position
[07:22:34] [INFO] [Bullet] Using shooter_position, distance=981,1833
[07:22:34] [INFO] [Bullet] Distance to wall: 981,1833 (66,81058% of viewport)
[07:22:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(373.5764, 736.0679), source=ENEMY (Enemy1), range=1469, listeners=8
[07:22:34] [ENEMY] [Enemy2] Heard gunshot at (373.5764, 736.0679), source_type=1, intensity=0.42, distance=77
[07:22:34] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[07:22:34] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[07:22:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(525.2367, 802.1509)
[07:22:35] [INFO] [Bullet] WARNING: Unable to determine shooter position
[07:22:35] [INFO] [Bullet] Using shooter_position, distance=958,8116
[07:22:35] [INFO] [Bullet] Distance to wall: 958,8116 (65,28725% of viewport)
[07:22:35] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(284,990), corner_timer=-0.02
[07:22:35] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[07:22:35] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(284,990), corner_timer=0.30
[07:22:35] [INFO] [ReplayManager] Recording frame 660 (11,0s): player_valid=True, enemies=10
[07:22:36] [INFO] [ReplayManager] Recording frame 720 (12,0s): player_valid=True, enemies=10
[07:22:37] [INFO] [ReplayManager] Recording frame 780 (13,0s): player_valid=True, enemies=10
[07:22:37] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[07:22:37] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:22:37] [INFO] [BloodyFeet:ShotgunEnemy1] Footprint scene loaded
[07:22:37] [INFO] [BloodyFeet:ShotgunEnemy1] Found EnemyModel for facing direction
[07:22:37] [INFO] [BloodyFeet:ShotgunEnemy1] BloodyFeetComponent ready on ShotgunEnemy1
[07:22:37] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[07:22:37] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[07:22:37] [INFO] [LastChance] Resetting all effects (scene change detected)
[07:22:37] [INFO] [CinemaEffects] Scene changed to: CastleLevel
[07:22:37] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[07:22:37] [ENEMY] [ShotgunEnemy1] Death animation component initialized
[07:22:37] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:22:37] [INFO] [BloodyFeet:ShotgunEnemy2] Footprint scene loaded
[07:22:37] [INFO] [BloodyFeet:ShotgunEnemy2] Found EnemyModel for facing direction
[07:22:37] [INFO] [BloodyFeet:ShotgunEnemy2] BloodyFeetComponent ready on ShotgunEnemy2
[07:22:37] [ENEMY] [ShotgunEnemy2] Death animation component initialized
[07:22:37] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:22:37] [INFO] [BloodyFeet:UziEnemy1] Footprint scene loaded
[07:22:37] [INFO] [BloodyFeet:UziEnemy1] Found EnemyModel for facing direction
[07:22:37] [INFO] [BloodyFeet:UziEnemy1] BloodyFeetComponent ready on UziEnemy1
[07:22:37] [ENEMY] [UziEnemy1] Death animation component initialized
[07:22:37] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:22:37] [INFO] [BloodyFeet:UziEnemy2] Footprint scene loaded
[07:22:37] [INFO] [BloodyFeet:UziEnemy2] Found EnemyModel for facing direction
[07:22:37] [INFO] [BloodyFeet:UziEnemy2] BloodyFeetComponent ready on UziEnemy2
[07:22:37] [INFO] [EnemyGrenade] Initialized: 1 grenades
[07:22:37] [ENEMY] [UziEnemy2] Death animation component initialized
[07:22:37] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:22:37] [INFO] [BloodyFeet:UziEnemy3] Footprint scene loaded
[07:22:37] [INFO] [BloodyFeet:UziEnemy3] Found EnemyModel for facing direction
[07:22:37] [INFO] [BloodyFeet:UziEnemy3] BloodyFeetComponent ready on UziEnemy3
[07:22:37] [ENEMY] [UziEnemy3] Death animation component initialized
[07:22:37] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:22:37] [INFO] [BloodyFeet:UziEnemyRight1] Footprint scene loaded
[07:22:37] [INFO] [BloodyFeet:UziEnemyRight1] Found EnemyModel for facing direction
[07:22:37] [INFO] [BloodyFeet:UziEnemyRight1] BloodyFeetComponent ready on UziEnemyRight1
[07:22:37] [ENEMY] [UziEnemyRight1] Death animation component initialized
[07:22:37] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:22:37] [INFO] [BloodyFeet:ShotgunEnemyRight1] Footprint scene loaded
[07:22:37] [INFO] [BloodyFeet:ShotgunEnemyRight1] Found EnemyModel for facing direction
[07:22:37] [INFO] [BloodyFeet:ShotgunEnemyRight1] BloodyFeetComponent ready on ShotgunEnemyRight1
[07:22:37] [ENEMY] [ShotgunEnemyRight1] Death animation component initialized
[07:22:37] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:22:37] [INFO] [BloodyFeet:UziEnemyCenter1] Footprint scene loaded
[07:22:37] [INFO] [BloodyFeet:UziEnemyCenter1] Found EnemyModel for facing direction
[07:22:37] [INFO] [BloodyFeet:UziEnemyCenter1] BloodyFeetComponent ready on UziEnemyCenter1
[07:22:37] [ENEMY] [UziEnemyCenter1] Death animation component initialized
[07:22:37] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:22:37] [INFO] [BloodyFeet:UziEnemyCenter2] Footprint scene loaded
[07:22:37] [INFO] [BloodyFeet:UziEnemyCenter2] Found EnemyModel for facing direction
[07:22:37] [INFO] [BloodyFeet:UziEnemyCenter2] BloodyFeetComponent ready on UziEnemyCenter2
[07:22:37] [ENEMY] [UziEnemyCenter2] Death animation component initialized
[07:22:37] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:22:37] [INFO] [BloodyFeet:PatrolEnemy1] Footprint scene loaded
[07:22:37] [INFO] [BloodyFeet:PatrolEnemy1] Found EnemyModel for facing direction
[07:22:37] [INFO] [BloodyFeet:PatrolEnemy1] BloodyFeetComponent ready on PatrolEnemy1
[07:22:37] [ENEMY] [PatrolEnemy1] Death animation component initialized
[07:22:37] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:22:37] [INFO] [BloodyFeet:PatrolEnemy2] Footprint scene loaded
[07:22:37] [INFO] [BloodyFeet:PatrolEnemy2] Found EnemyModel for facing direction
[07:22:37] [INFO] [BloodyFeet:PatrolEnemy2] BloodyFeetComponent ready on PatrolEnemy2
[07:22:37] [ENEMY] [PatrolEnemy2] Death animation component initialized
[07:22:37] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:22:37] [INFO] [BloodyFeet:LowerEnemy1] Footprint scene loaded
[07:22:37] [INFO] [BloodyFeet:LowerEnemy1] Found EnemyModel for facing direction
[07:22:37] [INFO] [BloodyFeet:LowerEnemy1] BloodyFeetComponent ready on LowerEnemy1
[07:22:37] [ENEMY] [LowerEnemy1] Death animation component initialized
[07:22:37] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:22:37] [INFO] [BloodyFeet:LowerEnemy2] Footprint scene loaded
[07:22:37] [INFO] [BloodyFeet:LowerEnemy2] Found EnemyModel for facing direction
[07:22:37] [INFO] [BloodyFeet:LowerEnemy2] BloodyFeetComponent ready on LowerEnemy2
[07:22:37] [ENEMY] [LowerEnemy2] Death animation component initialized
[07:22:37] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:22:37] [INFO] [BloodyFeet:Player] Footprint scene loaded
[07:22:37] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[07:22:37] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[07:22:37] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[07:22:37] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[07:22:37] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[07:22:37] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[07:22:37] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[07:22:37] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[07:22:37] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[07:22:37] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[07:22:37] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 10/10
[07:22:37] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[07:22:37] [INFO] [CastleLevel] Found Environment/Enemies node with 13 children
[07:22:37] [INFO] [CastleLevel] Child 'ShotgunEnemy1': script=true, has_died_signal=true
[07:22:37] [INFO] [CastleLevel] Child 'ShotgunEnemy2': script=true, has_died_signal=true
[07:22:37] [INFO] [CastleLevel] Child 'UziEnemy1': script=true, has_died_signal=true
[07:22:37] [INFO] [CastleLevel] Child 'UziEnemy2': script=true, has_died_signal=true
[07:22:37] [INFO] [CastleLevel] Child 'UziEnemy3': script=true, has_died_signal=true
[07:22:37] [INFO] [CastleLevel] Child 'UziEnemyRight1': script=true, has_died_signal=true
[07:22:37] [INFO] [CastleLevel] Child 'ShotgunEnemyRight1': script=true, has_died_signal=true
[07:22:37] [INFO] [CastleLevel] Child 'UziEnemyCenter1': script=true, has_died_signal=true
[07:22:37] [INFO] [CastleLevel] Child 'UziEnemyCenter2': script=true, has_died_signal=true
[07:22:37] [INFO] [CastleLevel] Child 'PatrolEnemy1': script=true, has_died_signal=true
[07:22:37] [INFO] [CastleLevel] Child 'PatrolEnemy2': script=true, has_died_signal=true
[07:22:37] [INFO] [CastleLevel] Child 'LowerEnemy1': script=true, has_died_signal=true
[07:22:37] [INFO] [CastleLevel] Child 'LowerEnemy2': script=true, has_died_signal=true
[07:22:37] [INFO] [CastleLevel] Enemy tracking complete: 13 enemies registered
[07:22:37] [INFO] [ScoreManager] Level started with 13 enemies
[07:22:37] [INFO] [BloodyFeet:ShotgunEnemy1] Blood detector created and attached to ShotgunEnemy1
[07:22:37] [INFO] [CinemaEffects] Found player node: Player
[07:22:37] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[07:22:37] [INFO] [SoundPropagation] Registered listener: ShotgunEnemy1 (total: 9)
[07:22:37] [ENEMY] [ShotgunEnemy1] Registered as sound listener
[07:22:37] [ENEMY] [ShotgunEnemy1] Spawned at (1000, 500), hp: 4, behavior: GUARD
[07:22:37] [INFO] [BloodyFeet:ShotgunEnemy2] Blood detector created and attached to ShotgunEnemy2
[07:22:37] [INFO] [SoundPropagation] Registered listener: ShotgunEnemy2 (total: 10)
[07:22:37] [ENEMY] [ShotgunEnemy2] Registered as sound listener
[07:22:37] [ENEMY] [ShotgunEnemy2] Spawned at (1400, 500), hp: 4, behavior: GUARD
[07:22:37] [INFO] [BloodyFeet:UziEnemy1] Blood detector created and attached to UziEnemy1
[07:22:37] [INFO] [SoundPropagation] Registered listener: UziEnemy1 (total: 11)
[07:22:37] [ENEMY] [UziEnemy1] Registered as sound listener
[07:22:37] [ENEMY] [UziEnemy1] Spawned at (2500, 550), hp: 2, behavior: GUARD
[07:22:37] [INFO] [BloodyFeet:UziEnemy2] Blood detector created and attached to UziEnemy2
[07:22:37] [INFO] [SoundPropagation] Registered listener: UziEnemy2 (total: 12)
[07:22:37] [ENEMY] [UziEnemy2] Registered as sound listener
[07:22:37] [ENEMY] [UziEnemy2] Spawned at (3500, 550), hp: 4, behavior: GUARD
[07:22:37] [INFO] [BloodyFeet:UziEnemy3] Blood detector created and attached to UziEnemy3
[07:22:37] [INFO] [SoundPropagation] Registered listener: UziEnemy3 (total: 13)
[07:22:37] [ENEMY] [UziEnemy3] Registered as sound listener
[07:22:37] [ENEMY] [UziEnemy3] Spawned at (3000, 300), hp: 4, behavior: GUARD
[07:22:37] [INFO] [BloodyFeet:UziEnemyRight1] Blood detector created and attached to UziEnemyRight1
[07:22:37] [INFO] [SoundPropagation] Registered listener: UziEnemyRight1 (total: 14)
[07:22:37] [ENEMY] [UziEnemyRight1] Registered as sound listener
[07:22:37] [ENEMY] [UziEnemyRight1] Spawned at (4800, 500), hp: 4, behavior: GUARD
[07:22:37] [INFO] [BloodyFeet:ShotgunEnemyRight1] Blood detector created and attached to ShotgunEnemyRight1
[07:22:37] [INFO] [SoundPropagation] Registered listener: ShotgunEnemyRight1 (total: 15)
[07:22:37] [ENEMY] [ShotgunEnemyRight1] Registered as sound listener
[07:22:37] [ENEMY] [ShotgunEnemyRight1] Spawned at (5000, 500), hp: 3, behavior: GUARD
[07:22:37] [INFO] [BloodyFeet:UziEnemyCenter1] Blood detector created and attached to UziEnemyCenter1
[07:22:37] [INFO] [SoundPropagation] Registered listener: UziEnemyCenter1 (total: 16)
[07:22:37] [ENEMY] [UziEnemyCenter1] Registered as sound listener
[07:22:37] [ENEMY] [UziEnemyCenter1] Spawned at (2200, 1050), hp: 4, behavior: GUARD
[07:22:37] [INFO] [BloodyFeet:UziEnemyCenter2] Blood detector created and attached to UziEnemyCenter2
[07:22:37] [INFO] [SoundPropagation] Registered listener: UziEnemyCenter2 (total: 17)
[07:22:37] [ENEMY] [UziEnemyCenter2] Registered as sound listener
[07:22:37] [ENEMY] [UziEnemyCenter2] Spawned at (3800, 1050), hp: 3, behavior: GUARD
[07:22:37] [INFO] [BloodyFeet:PatrolEnemy1] Blood detector created and attached to PatrolEnemy1
[07:22:37] [INFO] [SoundPropagation] Registered listener: PatrolEnemy1 (total: 18)
[07:22:37] [ENEMY] [PatrolEnemy1] Registered as sound listener
[07:22:37] [ENEMY] [PatrolEnemy1] Spawned at (1100, 1050), hp: 3, behavior: PATROL
[07:22:37] [INFO] [BloodyFeet:PatrolEnemy2] Blood detector created and attached to PatrolEnemy2
[07:22:37] [INFO] [SoundPropagation] Registered listener: PatrolEnemy2 (total: 19)
[07:22:37] [ENEMY] [PatrolEnemy2] Registered as sound listener
[07:22:37] [ENEMY] [PatrolEnemy2] Spawned at (4900, 1050), hp: 3, behavior: PATROL
[07:22:37] [INFO] [BloodyFeet:LowerEnemy1] Blood detector created and attached to LowerEnemy1
[07:22:37] [INFO] [SoundPropagation] Registered listener: LowerEnemy1 (total: 20)
[07:22:37] [ENEMY] [LowerEnemy1] Registered as sound listener
[07:22:37] [ENEMY] [LowerEnemy1] Spawned at (2150, 1250), hp: 4, behavior: GUARD
[07:22:37] [INFO] [BloodyFeet:LowerEnemy2] Blood detector created and attached to LowerEnemy2
[07:22:37] [INFO] [SoundPropagation] Registered listener: LowerEnemy2 (total: 21)
[07:22:37] [ENEMY] [LowerEnemy2] Registered as sound listener
[07:22:37] [ENEMY] [LowerEnemy2] Spawned at (3850, 1250), hp: 4, behavior: GUARD
[07:22:37] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[07:22:37] [ENEMY] [ShotgunEnemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=157.5°, current=0.0°, player=(3000,2100), corner_timer=0.00
[07:22:37] [ENEMY] [ShotgunEnemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=337.5°, current=0.0°, player=(3000,2100), corner_timer=0.00
[07:22:37] [ENEMY] [UziEnemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=123.7°, current=0.0°, player=(3000,2100), corner_timer=0.00
[07:22:37] [ENEMY] [UziEnemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(3000,2100), corner_timer=0.00
[07:22:37] [ENEMY] [UziEnemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(3000,2100), corner_timer=0.00
[07:22:37] [ENEMY] [UziEnemyRight1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=337.5°, current=0.0°, player=(3000,2100), corner_timer=0.00
[07:22:37] [ENEMY] [ShotgunEnemyRight1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(3000,2100), corner_timer=0.00
[07:22:37] [ENEMY] [UziEnemyCenter1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(3000,2100), corner_timer=0.00
[07:22:37] [ENEMY] [UziEnemyCenter2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(3000,2100), corner_timer=0.00
[07:22:37] [ENEMY] [LowerEnemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=78.8°, current=0.0°, player=(3000,2100), corner_timer=0.00
[07:22:37] [ENEMY] [LowerEnemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=281.3°, current=0.0°, player=(3000,2100), corner_timer=0.00
[07:22:37] [ENEMY] [UziEnemyCenter1] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=52.7°, current=2.9°, player=(3000,2100), corner_timer=0.00
[07:22:37] [ENEMY] [UziEnemyCenter1] State: IDLE -> COMBAT
[07:22:37] [INFO] [Player] Detecting weapon pose (frame 3)...
[07:22:37] [INFO] [Player] Detected weapon: Rifle (default pose)
[07:22:37] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[07:22:37] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[07:22:37] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[07:22:37] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[07:22:37] [INFO] [LastChance] Found player: Player
[07:22:37] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[07:22:37] [INFO] [LastChance] Connected to player Damaged signal (C#)
[07:22:37] [INFO] [LastChance] Connected to player Died signal (C#)
[07:22:37] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[07:22:38] [ENEMY] [LowerEnemy1] Memory: high confidence (0.90) - transitioning to PURSUING
[07:22:38] [ENEMY] [LowerEnemy1] State: IDLE -> PURSUING
[07:22:38] [ENEMY] [UziEnemy1] Memory: high confidence (0.90) - transitioning to PURSUING
[07:22:38] [ENEMY] [UziEnemy1] State: IDLE -> PURSUING
[07:22:38] [ENEMY] [LowerEnemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=45.0°, current=78.7°, player=(3000,2100), corner_timer=0.00
[07:22:38] [ENEMY] [UziEnemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=72.1°, current=88.8°, player=(3000,2100), corner_timer=0.00
[07:22:38] [ENEMY] [LowerEnemy1] PURSUING corner check: angle -0.0°
[07:22:38] [ENEMY] [UziEnemy1] PURSUING corner check: angle -27.0°
[07:22:38] [INFO] [ReplayManager] Recording frame 840 (14,1s): player_valid=False, enemies=10
[07:22:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2352.669, 1248.802), source=ENEMY (UziEnemyCenter1), range=1200, listeners=21
[07:22:38] [INFO] [SoundPropagation] Cleaned up 8 invalid listeners
[07:22:38] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=9, self=1, below_threshold=2
[07:22:38] [ENEMY] [UziEnemy1] PURSUING corner check: angle -27.0°
[07:22:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2366.226, 1265.274), source=ENEMY (UziEnemyCenter1), range=1200, listeners=13
[07:22:38] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=10, self=1, below_threshold=1
[07:22:38] [ENEMY] [LowerEnemy1] PURSUING corner check: angle -0.0°
[07:22:38] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[07:22:38] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[07:22:38] [INFO] [Player.Grenade] G pressed - starting grab animation
[07:22:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2372.955, 1284.998), source=ENEMY (UziEnemyCenter1), range=1200, listeners=13
[07:22:38] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=10, self=1, below_threshold=1
[07:22:38] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[07:22:38] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (2931.19, 1921.7557)
[07:22:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2384.174, 1296.234), source=ENEMY (UziEnemyCenter1), range=1200, listeners=13
[07:22:38] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=10, self=1, below_threshold=1
[07:22:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2403.952, 1303.952), source=ENEMY (UziEnemyCenter1), range=1200, listeners=13
[07:22:38] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=10, self=1, below_threshold=1
[07:22:38] [INFO] [GrenadeBase] CCD enabled (mode: CAST_RAY) to prevent wall tunneling
[07:22:38] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[07:22:38] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[07:22:38] [INFO] [GrenadeTimer] Initialized for Frag grenade, effect radius: 225
[07:22:38] [INFO] [Player.Grenade] Added GrenadeTimer component (type: Frag)
[07:22:38] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[07:22:38] [INFO] [GrenadeTimer] Timer activated! 4 seconds until explosion
[07:22:38] [INFO] [Player.Grenade] Timer started, grenade created at (3000, 1950.1667)
[07:22:38] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[07:22:38] [INFO] [Player.Grenade] Step 1 complete! Drag: (47.43213, -24.509277)
[07:22:39] [ENEMY] [LowerEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=30.6°, current=62.8°, player=(3000,1944), corner_timer=0.12
[07:22:39] [ENEMY] [LowerEnemy1] State: PURSUING -> COMBAT
[07:22:39] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[07:22:39] [INFO] [Player.Grenade.Simple] RMB pressed after pin pull - starting trajectory aiming
[07:22:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2423.411, 1312.695), source=ENEMY (UziEnemyCenter1), range=1200, listeners=13
[07:22:39] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=10, self=1, below_threshold=1
[07:22:39] [ENEMY] [LowerEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=28.9°, current=4.8°, player=(3000,1917), corner_timer=0.12
[07:22:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2441.701, 1323.042), source=ENEMY (UziEnemyCenter1), range=1200, listeners=13
[07:22:39] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=10, self=1, below_threshold=1
[07:22:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2456.492, 1338.414), source=ENEMY (UziEnemyCenter1), range=1200, listeners=13
[07:22:39] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=10, self=1, below_threshold=1
[07:22:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2468.032, 1355.866), source=ENEMY (UziEnemyCenter1), range=1200, listeners=13
[07:22:39] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=10, self=1, below_threshold=1
[07:22:39] [INFO] [Player.Grenade.Simple] Throwing! Target: (3290.6055, 1722.1022), Distance: 301,9, Speed: 411,2, Friction: 280,0
[07:22:39] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,43365234
[07:22:39] [INFO] [GrenadeTimer] Grenade marked as thrown - impact detection enabled
[07:22:39] [INFO] [Player.Grenade.Simple] C# set velocity directly: dir=(0.90743715, -0.42018786), speed=411,2, spawn=(3054.4463, 1831.4554)
[07:22:39] [INFO] [GrenadeBase] Simple mode throw! Dir: (0.907437, -0.420188), Speed: 411.2 (clamped from 411.2, max: 1186.5)
[07:22:39] [INFO] [FragGrenade] Grenade thrown (simple mode) - impact detection enabled
[07:22:39] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[07:22:39] [INFO] [Player.Grenade.Simple] Grenade thrown!
[07:22:39] [INFO] [Player.Grenade] State reset to IDLE
[07:22:39] [INFO] [Player.Grenade] State reset to IDLE
[07:22:39] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[07:22:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2481.791, 1371.711), source=ENEMY (UziEnemyCenter1), range=1200, listeners=13
[07:22:39] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=10, self=1, below_threshold=1
[07:22:39] [INFO] [Player.Grenade] Player rotation restored to 0
[07:22:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2497.66, 1385.968), source=ENEMY (UziEnemyCenter1), range=1200, listeners=13
[07:22:39] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=10, self=1, below_threshold=1
[07:22:39] [ENEMY] [PatrolEnemy1] PATROL corner check: angle -90.0°
[07:22:39] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -90.0°
[07:22:39] [ENEMY] [PatrolEnemy1] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-90.0°, current=0.0°, player=(3000,1807), corner_timer=0.30
[07:22:39] [ENEMY] [PatrolEnemy2] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-90.0°, current=0.0°, player=(3000,1807), corner_timer=0.30
[07:22:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2511.603, 1398.491), source=ENEMY (UziEnemyCenter1), range=1200, listeners=13
[07:22:39] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=10, self=1, below_threshold=1
[07:22:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2528.194, 1411.901), source=ENEMY (UziEnemyCenter1), range=1200, listeners=13
[07:22:39] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=10, self=1, below_threshold=1
[07:22:39] [ENEMY] [LowerEnemy1] State: COMBAT -> PURSUING
[07:22:39] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[07:22:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2545.165, 1424.827), source=ENEMY (UziEnemyCenter1), range=1200, listeners=13
[07:22:39] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=10, self=1, below_threshold=1
[07:22:39] [INFO] [ReplayManager] Recording frame 900 (15,1s): player_valid=False, enemies=10
[07:22:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2562.532, 1437.214), source=ENEMY (UziEnemyCenter1), range=1200, listeners=13
[07:22:39] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=10, self=1, below_threshold=1
[07:22:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2580.312, 1449.002), source=ENEMY (UziEnemyCenter1), range=1200, listeners=13
[07:22:39] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=10, self=1, below_threshold=1
[07:22:39] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=0.0°, current=-54.4°, player=(3000,1702), corner_timer=-0.02
[07:22:39] [ENEMY] [PatrolEnemy1] PATROL corner check: angle -90.0°
[07:22:39] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=0.0°, current=-54.4°, player=(3000,1702), corner_timer=-0.02
[07:22:39] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -90.0°
[07:22:39] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=-51.6°, player=(3000,1697), corner_timer=0.30
[07:22:39] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=-51.6°, player=(3000,1697), corner_timer=0.30
[07:22:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2598.519, 1460.117), source=ENEMY (UziEnemyCenter1), range=1200, listeners=13
[07:22:39] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=10, self=1, below_threshold=1
[07:22:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2617.165, 1470.479), source=ENEMY (UziEnemyCenter1), range=1200, listeners=13
[07:22:39] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=10, self=1, below_threshold=1
[07:22:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2576.759, 1459.646), shooter_id=924776924839, bullet_pos=(3234.01, 1971.963)
[07:22:39] [INFO] [Bullet] Using shooter_position, distance=833.335144042969
[07:22:39] [INFO] [Bullet] Distance to wall: 833.335144042969 (56.7433223260948% of viewport)
[07:22:39] [INFO] [Bullet] Distance-based penetration chance: 80.4661239528893%
[07:22:39] [INFO] [Bullet] Caliber cannot penetrate walls
[07:22:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2595.161, 1471.078), shooter_id=924776924839, bullet_pos=(3234.036, 1938.596)
[07:22:39] [INFO] [Bullet] Using shooter_position, distance=791.665466308594
[07:22:39] [INFO] [Bullet] Distance to wall: 791.665466308594 (53.9059573453804% of viewport)
[07:22:39] [INFO] [Bullet] Distance-based penetration chance: 83.7763830970562%
[07:22:39] [INFO] [Bullet] Caliber cannot penetrate walls
[07:22:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2636.259, 1479.991), source=ENEMY (UziEnemyCenter1), range=1200, listeners=13
[07:22:39] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=10, self=1, below_threshold=1
[07:22:39] [INFO] [LastChance] Threat detected: @Area2D@2804
[07:22:39] [INFO] [LastChance] Not in hard mode - effect disabled
[07:22:39] [INFO] [LastChance] Cannot trigger effect - conditions not met
[07:22:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2614.033, 1481.792), shooter_id=924776924839, bullet_pos=(3268.007, 1927.949)
[07:22:39] [INFO] [Bullet] Using shooter_position, distance=791.667663574219
[07:22:39] [INFO] [Bullet] Distance to wall: 791.667663574219 (53.9061069612372% of viewport)
[07:22:39] [INFO] [Bullet] Distance-based penetration chance: 83.7762085452232%
[07:22:39] [INFO] [Bullet] Caliber cannot penetrate walls
[07:22:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2650.845, 1486.566), source=ENEMY (UziEnemyCenter1), range=1200, listeners=13
[07:22:39] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=10, self=1, below_threshold=1
[07:22:40] [INFO] [GrenadeTimer] Frag grenade landed - EXPLODING!
[07:22:40] [INFO] [GrenadeTimer] EXPLODED at (3215.2263, 1757.0061)!
[07:22:40] [INFO] [GrenadeTimer] Applying frag explosion damage (radius: 225, damage: 99)
[07:22:40] [INFO] [GrenadeTimer] Spawned 4 shrapnel pieces
[07:22:40] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(3215.226, 1757.006), source=NEUTRAL (FragGrenade), range=2938, listeners=13
[07:22:40] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=13
[07:22:40] [INFO] [GrenadeTimer] Spawned PointLight2D frag explosion flash at (3215.2263, 1757.0061) (shadow-based wall occlusion)
[07:22:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2650.845, 1486.566), source=ENEMY (UziEnemyCenter1), range=1200, listeners=13
[07:22:40] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=10, self=1, below_threshold=1
[07:22:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2633.393, 1491.697), shooter_id=924776924839, bullet_pos=(3338.271, 1936.208)
[07:22:40] [INFO] [Bullet] Using shooter_position, distance=833.332824707031
[07:22:40] [INFO] [Bullet] Distance to wall: 833.332824707031 (56.743164398246% of viewport)
[07:22:40] [INFO] [Bullet] Distance-based penetration chance: 80.4663082020463%
[07:22:40] [INFO] [Bullet] Caliber cannot penetrate walls
[07:22:40] [INFO] [LastChance] Threat detected: @Area2D@2815
[07:22:40] [INFO] [LastChance] Not in hard mode - effect disabled
[07:22:40] [INFO] [LastChance] Cannot trigger effect - conditions not met
[07:22:40] [ENEMY] [LowerEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=8.4°, current=8.8°, player=(3000,1598), corner_timer=0.12
[07:22:40] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=0.0°, current=-90.0°, player=(3000,1592), corner_timer=-0.02
[07:22:40] [ENEMY] [PatrolEnemy1] PATROL corner check: angle -90.0°
[07:22:40] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=0.0°, current=-90.0°, player=(3000,1592), corner_timer=-0.02
[07:22:40] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -90.0°
[07:22:40] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=-87.1°, player=(3000,1587), corner_timer=0.30
[07:22:40] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=-87.1°, player=(3000,1587), corner_timer=0.30
[07:22:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2650.845, 1486.566), source=ENEMY (UziEnemyCenter1), range=1200, listeners=13
[07:22:40] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=10, self=1, below_threshold=1
[07:22:40] [ENEMY] [LowerEnemy1] State: PURSUING -> COMBAT
[07:22:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2650.845, 1486.566), source=ENEMY (UziEnemyCenter1), range=1200, listeners=13
[07:22:40] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=10, self=1, below_threshold=1
[07:22:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2650.845, 1486.566), source=ENEMY (UziEnemyCenter1), range=1200, listeners=13
[07:22:40] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=10, self=1, below_threshold=1
[07:22:40] [ENEMY] [UziEnemyCenter2] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=149.5°, current=-168.8°, player=(3000,1521), corner_timer=0.00
[07:22:40] [ENEMY] [UziEnemyCenter2] State: IDLE -> COMBAT
[07:22:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2650.845, 1486.566), source=ENEMY (UziEnemyCenter1), range=1200, listeners=13
[07:22:40] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=10, self=1, below_threshold=1
[07:22:40] [ENEMY] [UziEnemyCenter2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=150.0°, current=-24.7°, player=(3000,1510), corner_timer=0.00
[07:22:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2650.845, 1486.566), source=ENEMY (UziEnemyCenter1), range=1200, listeners=13
[07:22:40] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=10, self=1, below_threshold=1
[07:22:40] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=0.0°, current=-90.0°, player=(3008,1486), corner_timer=-0.02
[07:22:40] [ENEMY] [PatrolEnemy1] PATROL corner check: angle -90.0°
[07:22:40] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=0.0°, current=-90.0°, player=(3008,1486), corner_timer=-0.02
[07:22:40] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -90.0°
[07:22:40] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=-87.1°, player=(3011,1481), corner_timer=0.30
[07:22:40] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=-87.1°, player=(3011,1481), corner_timer=0.30
[07:22:40] [ENEMY] [UziEnemy1] Warning: No valid flank position (both sides behind walls)
[07:22:40] [ENEMY] [UziEnemy1] FLANKING started: target=(3114.807, 1304.753), side=right, pos=(2570.06, 698.8902)
[07:22:40] [ENEMY] [UziEnemy1] State: PURSUING -> FLANKING
[07:22:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2650.845, 1486.566), source=ENEMY (UziEnemyCenter1), range=1200, listeners=13
[07:22:40] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=9, self=1, below_threshold=2
[07:22:40] [ENEMY] [LowerEnemy2] Memory: high confidence (0.88) - transitioning to PURSUING
[07:22:40] [ENEMY] [LowerEnemy2] State: IDLE -> PURSUING
[07:22:40] [INFO] [LastChance] Threat detected: @Area2D@2847
[07:22:40] [INFO] [LastChance] Not in hard mode - effect disabled
[07:22:40] [INFO] [LastChance] Cannot trigger effect - conditions not met
[07:22:40] [ENEMY] [UziEnemy2] Memory: high confidence (0.88) - transitioning to PURSUING
[07:22:40] [ENEMY] [UziEnemy2] State: IDLE -> PURSUING
[07:22:40] [ENEMY] [LowerEnemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=165.0°, current=-78.7°, player=(3016,1473), corner_timer=0.00
[07:22:40] [ENEMY] [UziEnemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=117.6°, current=11.3°, player=(3020,1469), corner_timer=0.00
[07:22:40] [ENEMY] [LowerEnemy2] PURSUING corner check: angle 77.4°
[07:22:40] [ENEMY] [UziEnemy2] PURSUING corner check: angle 27.0°
[07:22:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2714.129, 1511.886), shooter_id=924776924839, bullet_pos=(3638.779, 1763.738)
[07:22:40] [INFO] [Bullet] Using shooter_position, distance=958.334899902344
[07:22:40] [INFO] [Bullet] Distance to wall: 958.334899902344 (65.2547855568427% of viewport)
[07:22:40] [INFO] [Bullet] Distance-based penetration chance: 70.5360835170169%
[07:22:40] [INFO] [Bullet] Caliber cannot penetrate walls
[07:22:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2650.845, 1486.566), source=ENEMY (UziEnemyCenter1), range=1200, listeners=13
[07:22:40] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=9, self=1, below_threshold=2
[07:22:40] [ENEMY] [UziEnemyCenter2] State: COMBAT -> RETREATING
[07:22:40] [INFO] [LastChance] Threat detected: @Area2D@2851
[07:22:40] [INFO] [LastChance] Not in hard mode - effect disabled
[07:22:40] [INFO] [LastChance] Cannot trigger effect - conditions not met
[07:22:40] [ENEMY] [UziEnemyCenter2] ROT_CHANGE: P2:combat_state -> P4:velocity, state=RETREATING, target=151.9°, current=11.8°, player=(3031,1457), corner_timer=0.00
[07:22:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2650.845, 1486.566), source=ENEMY (UziEnemyCenter1), range=1200, listeners=13
[07:22:40] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=8, self=1, below_threshold=3
[07:22:40] [INFO] [LastChance] Threat detected: @Area2D@2856
[07:22:40] [INFO] [LastChance] Not in hard mode - effect disabled
[07:22:40] [INFO] [LastChance] Cannot trigger effect - conditions not met
[07:22:40] [INFO] [ReplayManager] Recording frame 960 (16,1s): player_valid=False, enemies=10
[07:22:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2715.527, 1508.076), shooter_id=924776924839, bullet_pos=(3775.871, 1730.076)
[07:22:40] [INFO] [Bullet] Using shooter_position, distance=1083.33459472656
[07:22:40] [INFO] [Bullet] Distance to wall: 1083.33459472656 (73.7662446315945% of viewport)
[07:22:40] [ENEMY] [UziEnemy1] FLANKING corner check: angle -2.9°
[07:22:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2717.679, 1499.982), shooter_id=924776924839, bullet_pos=(3506.592, 1565.964)
[07:22:40] [INFO] [Bullet] Using shooter_position, distance=791.667358398438
[07:22:40] [INFO] [Bullet] Distance to wall: 791.667358398438 (53.9060861812571% of viewport)
[07:22:40] [INFO] [Bullet] Distance-based penetration chance: 83.7762327885333%
[07:22:40] [INFO] [Bullet] Caliber cannot penetrate walls
[07:22:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2650.845, 1486.566), source=ENEMY (UziEnemyCenter1), range=1200, listeners=13
[07:22:40] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=8, self=1, below_threshold=3
[07:22:40] [INFO] [LastChance] Threat detected: @Area2D@2860
[07:22:40] [INFO] [LastChance] Not in hard mode - effect disabled
[07:22:40] [INFO] [LastChance] Cannot trigger effect - conditions not met
[07:22:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2650.845, 1486.566), source=ENEMY (UziEnemyCenter1), range=1200, listeners=13
[07:22:40] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=7, self=1, below_threshold=4
[07:22:40] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=0.0°, current=-90.0°, player=(3077,1404), corner_timer=-0.02
[07:22:40] [ENEMY] [PatrolEnemy1] PATROL corner check: angle -90.0°
[07:22:40] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=0.0°, current=-90.0°, player=(3077,1404), corner_timer=-0.02
[07:22:40] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -90.0°
[07:22:40] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=-87.1°, player=(3079,1400), corner_timer=0.30
[07:22:40] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=-87.1°, player=(3079,1400), corner_timer=0.30
[07:22:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2650.845, 1486.566), source=ENEMY (UziEnemyCenter1), range=1200, listeners=13
[07:22:40] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=7, self=1, below_threshold=4
[07:22:40] [ENEMY] [LowerEnemy2] PURSUING corner check: angle -102.6°
[07:22:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2718.333, 1496.087), shooter_id=924776924839, bullet_pos=(3801.313, 1523.683)
[07:22:40] [INFO] [Bullet] Using shooter_position, distance=1083.33154296875
[07:22:40] [INFO] [Bullet] Distance to wall: 1083.33154296875 (73.7660368317934% of viewport)
[07:22:40] [INFO] [Bullet] Distance-based penetration chance: 60.6062903629077%
[07:22:40] [INFO] [Bullet] Caliber cannot penetrate walls
[07:22:40] [ENEMY] [UziEnemy2] PURSUING corner check: angle 27.0°
[07:22:40] [ENEMY] [LowerEnemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=172.3°, current=148.8°, player=(3085,1364), corner_timer=0.25
[07:22:40] [ENEMY] [LowerEnemy2] State: PURSUING -> COMBAT
[07:22:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2548.931, 1455.033), source=ENEMY (LowerEnemy1), range=1469, listeners=13
[07:22:40] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=1, below_threshold=6
[07:22:40] [ENEMY] [UziEnemy1] FLANKING corner check: angle -6.4°
[07:22:40] [ENEMY] [UziEnemy3] Memory: medium confidence (0.75) - transitioning to PURSUING
[07:22:40] [ENEMY] [UziEnemy3] State: IDLE -> PURSUING
[07:22:41] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2718.854, 1482.749), shooter_id=924776924839, bullet_pos=(3334.759, 1376.512)
[07:22:41] [INFO] [Bullet] Using shooter_position, distance=624.999877929688
[07:22:41] [INFO] [Bullet] Distance to wall: 624.999877929688 (42.5573909616676% of viewport)
[07:22:41] [INFO] [Bullet] Distance-based penetration chance: 97.0163772113878%
[07:22:41] [INFO] [Bullet] Caliber cannot penetrate walls
[07:22:41] [ENEMY] [UziEnemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=85.5°, current=-56.3°, player=(3085,1331), corner_timer=0.00
[07:22:41] [ENEMY] [UziEnemy3] PURSUING_MEMORY corner check: angle -130.5°
[07:22:41] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2718.939, 1485.022), shooter_id=924776924839, bullet_pos=(3626.966, 1359.443)
[07:22:41] [INFO] [Bullet] Using shooter_position, distance=916.6689453125
[07:22:41] [INFO] [Bullet] Distance to wall: 916.6689453125 (62.4176740918856% of viewport)
[07:22:41] [INFO] [Bullet] Distance-based penetration chance: 73.8460468928001%
[07:22:41] [INFO] [Bullet] Caliber cannot penetrate walls
[07:22:41] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2718.671, 1480.185), shooter_id=924776924839, bullet_pos=(3330.13, 1350.794)
[07:22:41] [INFO] [Bullet] Using shooter_position, distance=624.999145507813
[07:22:41] [INFO] [Bullet] Distance to wall: 624.999145507813 (42.5573410897153% of viewport)
[07:22:41] [INFO] [Bullet] Distance-based penetration chance: 97.0164353953321%
[07:22:41] [INFO] [Bullet] Caliber cannot penetrate walls
[07:22:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2585.21, 1446.257), source=ENEMY (LowerEnemy1), range=1469, listeners=13
[07:22:41] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=1, below_threshold=6
[07:22:41] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2718.958, 1487.313), shooter_id=924776924839, bullet_pos=(3920.788, 1362.134)
[07:22:41] [INFO] [Bullet] Using shooter_position, distance=1208.33068847656
[07:22:41] [INFO] [Bullet] Distance to wall: 1208.33068847656 (82.277458502581% of viewport)
[07:22:41] [INFO] [Bullet] Distance-based penetration chance: 50.6762984136555%
[07:22:41] [INFO] [Bullet] Penetration failed (distance roll)
[07:22:41] [ENEMY] [UziEnemyCenter1] State: COMBAT -> RETREATING
[07:22:41] [ENEMY] [LowerEnemy1] State: COMBAT -> RETREATING
[07:22:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2620.79, 1434.971), source=ENEMY (LowerEnemy1), range=1469, listeners=13
[07:22:41] [ENEMY] [UziEnemyCenter1] Heard gunshot at (2620.79, 1434.971), source_type=1, intensity=0.79, distance=56
[07:22:41] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=1, below_threshold=6
[07:22:41] [ENEMY] [LowerEnemy2] State: COMBAT -> RETREATING
[07:22:41] [ENEMY] [UziEnemyCenter1] State: COMBAT -> RETREATING
[07:22:41] [ENEMY] [UziEnemy1] FLANKING corner check: angle -10.9°
[07:22:41] [ENEMY] [UziEnemy3] PURSUING_MEMORY corner check: angle -159.1°
[07:22:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2641.365, 1398.672), source=ENEMY (LowerEnemy1), range=1469, listeners=13
[07:22:41] [ENEMY] [UziEnemyCenter1] Heard gunshot at (2641.365, 1398.672), source_type=1, intensity=1.00, distance=36
[07:22:41] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=1, below_threshold=6
[07:22:41] [ENEMY] [UziEnemyCenter1] State: COMBAT -> RETREATING
[07:22:41] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[07:22:41] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:22:41] [INFO] [BloodyFeet:ShotgunEnemy1] Footprint scene loaded
[07:22:41] [INFO] [BloodyFeet:ShotgunEnemy1] Found EnemyModel for facing direction
[07:22:41] [INFO] [BloodyFeet:ShotgunEnemy1] BloodyFeetComponent ready on ShotgunEnemy1
[07:22:41] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[07:22:41] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[07:22:41] [INFO] [LastChance] Resetting all effects (scene change detected)
[07:22:41] [INFO] [CinemaEffects] Scene changed to: CastleLevel
[07:22:41] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[07:22:41] [ENEMY] [ShotgunEnemy1] Death animation component initialized
[07:22:41] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:22:41] [INFO] [BloodyFeet:ShotgunEnemy2] Footprint scene loaded
[07:22:41] [INFO] [BloodyFeet:ShotgunEnemy2] Found EnemyModel for facing direction
[07:22:41] [INFO] [BloodyFeet:ShotgunEnemy2] BloodyFeetComponent ready on ShotgunEnemy2
[07:22:41] [ENEMY] [ShotgunEnemy2] Death animation component initialized
[07:22:41] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:22:41] [INFO] [BloodyFeet:UziEnemy1] Footprint scene loaded
[07:22:41] [INFO] [BloodyFeet:UziEnemy1] Found EnemyModel for facing direction
[07:22:41] [INFO] [BloodyFeet:UziEnemy1] BloodyFeetComponent ready on UziEnemy1
[07:22:41] [ENEMY] [UziEnemy1] Death animation component initialized
[07:22:41] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:22:41] [INFO] [BloodyFeet:UziEnemy2] Footprint scene loaded
[07:22:41] [INFO] [BloodyFeet:UziEnemy2] Found EnemyModel for facing direction
[07:22:41] [INFO] [BloodyFeet:UziEnemy2] BloodyFeetComponent ready on UziEnemy2
[07:22:41] [ENEMY] [UziEnemy2] Death animation component initialized
[07:22:41] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:22:41] [INFO] [BloodyFeet:UziEnemy3] Footprint scene loaded
[07:22:41] [INFO] [BloodyFeet:UziEnemy3] Found EnemyModel for facing direction
[07:22:41] [INFO] [BloodyFeet:UziEnemy3] BloodyFeetComponent ready on UziEnemy3
[07:22:41] [ENEMY] [UziEnemy3] Death animation component initialized
[07:22:41] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:22:41] [INFO] [BloodyFeet:UziEnemyRight1] Footprint scene loaded
[07:22:41] [INFO] [BloodyFeet:UziEnemyRight1] Found EnemyModel for facing direction
[07:22:41] [INFO] [BloodyFeet:UziEnemyRight1] BloodyFeetComponent ready on UziEnemyRight1
[07:22:41] [ENEMY] [UziEnemyRight1] Death animation component initialized
[07:22:41] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:22:41] [INFO] [BloodyFeet:ShotgunEnemyRight1] Footprint scene loaded
[07:22:41] [INFO] [BloodyFeet:ShotgunEnemyRight1] Found EnemyModel for facing direction
[07:22:41] [INFO] [BloodyFeet:ShotgunEnemyRight1] BloodyFeetComponent ready on ShotgunEnemyRight1
[07:22:41] [ENEMY] [ShotgunEnemyRight1] Death animation component initialized
[07:22:41] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:22:41] [INFO] [BloodyFeet:UziEnemyCenter1] Footprint scene loaded
[07:22:41] [INFO] [BloodyFeet:UziEnemyCenter1] Found EnemyModel for facing direction
[07:22:41] [INFO] [BloodyFeet:UziEnemyCenter1] BloodyFeetComponent ready on UziEnemyCenter1
[07:22:41] [ENEMY] [UziEnemyCenter1] Death animation component initialized
[07:22:41] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:22:41] [INFO] [BloodyFeet:UziEnemyCenter2] Footprint scene loaded
[07:22:41] [INFO] [BloodyFeet:UziEnemyCenter2] Found EnemyModel for facing direction
[07:22:41] [INFO] [BloodyFeet:UziEnemyCenter2] BloodyFeetComponent ready on UziEnemyCenter2
[07:22:41] [ENEMY] [UziEnemyCenter2] Death animation component initialized
[07:22:41] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:22:41] [INFO] [BloodyFeet:PatrolEnemy1] Footprint scene loaded
[07:22:41] [INFO] [BloodyFeet:PatrolEnemy1] Found EnemyModel for facing direction
[07:22:41] [INFO] [BloodyFeet:PatrolEnemy1] BloodyFeetComponent ready on PatrolEnemy1
[07:22:41] [ENEMY] [PatrolEnemy1] Death animation component initialized
[07:22:41] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:22:41] [INFO] [BloodyFeet:PatrolEnemy2] Footprint scene loaded
[07:22:41] [INFO] [BloodyFeet:PatrolEnemy2] Found EnemyModel for facing direction
[07:22:41] [INFO] [BloodyFeet:PatrolEnemy2] BloodyFeetComponent ready on PatrolEnemy2
[07:22:41] [ENEMY] [PatrolEnemy2] Death animation component initialized
[07:22:41] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:22:41] [INFO] [BloodyFeet:LowerEnemy1] Footprint scene loaded
[07:22:41] [INFO] [BloodyFeet:LowerEnemy1] Found EnemyModel for facing direction
[07:22:41] [INFO] [BloodyFeet:LowerEnemy1] BloodyFeetComponent ready on LowerEnemy1
[07:22:41] [ENEMY] [LowerEnemy1] Death animation component initialized
[07:22:41] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:22:41] [INFO] [BloodyFeet:LowerEnemy2] Footprint scene loaded
[07:22:41] [INFO] [BloodyFeet:LowerEnemy2] Found EnemyModel for facing direction
[07:22:41] [INFO] [BloodyFeet:LowerEnemy2] BloodyFeetComponent ready on LowerEnemy2
[07:22:41] [ENEMY] [LowerEnemy2] Death animation component initialized
[07:22:41] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:22:41] [INFO] [BloodyFeet:Player] Footprint scene loaded
[07:22:41] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[07:22:41] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[07:22:41] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[07:22:41] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[07:22:41] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[07:22:41] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[07:22:41] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[07:22:41] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[07:22:41] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[07:22:41] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[07:22:41] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 10/10
[07:22:41] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[07:22:41] [INFO] [CastleLevel] Found Environment/Enemies node with 13 children
[07:22:41] [INFO] [CastleLevel] Child 'ShotgunEnemy1': script=true, has_died_signal=true
[07:22:41] [INFO] [CastleLevel] Child 'ShotgunEnemy2': script=true, has_died_signal=true
[07:22:41] [INFO] [CastleLevel] Child 'UziEnemy1': script=true, has_died_signal=true
[07:22:41] [INFO] [CastleLevel] Child 'UziEnemy2': script=true, has_died_signal=true
[07:22:41] [INFO] [CastleLevel] Child 'UziEnemy3': script=true, has_died_signal=true
[07:22:41] [INFO] [CastleLevel] Child 'UziEnemyRight1': script=true, has_died_signal=true
[07:22:41] [INFO] [CastleLevel] Child 'ShotgunEnemyRight1': script=true, has_died_signal=true
[07:22:41] [INFO] [CastleLevel] Child 'UziEnemyCenter1': script=true, has_died_signal=true
[07:22:41] [INFO] [CastleLevel] Child 'UziEnemyCenter2': script=true, has_died_signal=true
[07:22:41] [INFO] [CastleLevel] Child 'PatrolEnemy1': script=true, has_died_signal=true
[07:22:41] [INFO] [CastleLevel] Child 'PatrolEnemy2': script=true, has_died_signal=true
[07:22:41] [INFO] [CastleLevel] Child 'LowerEnemy1': script=true, has_died_signal=true
[07:22:41] [INFO] [CastleLevel] Child 'LowerEnemy2': script=true, has_died_signal=true
[07:22:41] [INFO] [CastleLevel] Enemy tracking complete: 13 enemies registered
[07:22:41] [INFO] [ScoreManager] Level started with 13 enemies
[07:22:41] [INFO] [BloodyFeet:ShotgunEnemy1] Blood detector created and attached to ShotgunEnemy1
[07:22:41] [INFO] [CinemaEffects] Found player node: Player
[07:22:41] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[07:22:41] [INFO] [SoundPropagation] Registered listener: ShotgunEnemy1 (total: 14)
[07:22:41] [ENEMY] [ShotgunEnemy1] Registered as sound listener
[07:22:41] [ENEMY] [ShotgunEnemy1] Spawned at (1000, 500), hp: 2, behavior: GUARD
[07:22:41] [INFO] [BloodyFeet:ShotgunEnemy2] Blood detector created and attached to ShotgunEnemy2
[07:22:41] [INFO] [SoundPropagation] Registered listener: ShotgunEnemy2 (total: 15)
[07:22:41] [ENEMY] [ShotgunEnemy2] Registered as sound listener
[07:22:41] [ENEMY] [ShotgunEnemy2] Spawned at (1400, 500), hp: 4, behavior: GUARD
[07:22:41] [INFO] [BloodyFeet:UziEnemy1] Blood detector created and attached to UziEnemy1
[07:22:41] [INFO] [SoundPropagation] Registered listener: UziEnemy1 (total: 16)
[07:22:41] [ENEMY] [UziEnemy1] Registered as sound listener
[07:22:41] [ENEMY] [UziEnemy1] Spawned at (2500, 550), hp: 2, behavior: GUARD
[07:22:41] [INFO] [BloodyFeet:UziEnemy2] Blood detector created and attached to UziEnemy2
[07:22:41] [INFO] [SoundPropagation] Registered listener: UziEnemy2 (total: 17)
[07:22:41] [ENEMY] [UziEnemy2] Registered as sound listener
[07:22:41] [ENEMY] [UziEnemy2] Spawned at (3500, 550), hp: 4, behavior: GUARD
[07:22:41] [INFO] [BloodyFeet:UziEnemy3] Blood detector created and attached to UziEnemy3
[07:22:41] [INFO] [SoundPropagation] Registered listener: UziEnemy3 (total: 18)
[07:22:41] [ENEMY] [UziEnemy3] Registered as sound listener
[07:22:41] [ENEMY] [UziEnemy3] Spawned at (3000, 300), hp: 4, behavior: GUARD
[07:22:41] [INFO] [BloodyFeet:UziEnemyRight1] Blood detector created and attached to UziEnemyRight1
[07:22:41] [INFO] [SoundPropagation] Registered listener: UziEnemyRight1 (total: 19)
[07:22:41] [ENEMY] [UziEnemyRight1] Registered as sound listener
[07:22:41] [ENEMY] [UziEnemyRight1] Spawned at (4800, 500), hp: 3, behavior: GUARD
[07:22:41] [INFO] [BloodyFeet:ShotgunEnemyRight1] Blood detector created and attached to ShotgunEnemyRight1
[07:22:41] [INFO] [SoundPropagation] Registered listener: ShotgunEnemyRight1 (total: 20)
[07:22:41] [ENEMY] [ShotgunEnemyRight1] Registered as sound listener
[07:22:41] [ENEMY] [ShotgunEnemyRight1] Spawned at (5000, 500), hp: 4, behavior: GUARD
[07:22:41] [INFO] [BloodyFeet:UziEnemyCenter1] Blood detector created and attached to UziEnemyCenter1
[07:22:41] [INFO] [SoundPropagation] Registered listener: UziEnemyCenter1 (total: 21)
[07:22:41] [ENEMY] [UziEnemyCenter1] Registered as sound listener
[07:22:41] [ENEMY] [UziEnemyCenter1] Spawned at (2200, 1050), hp: 4, behavior: GUARD
[07:22:41] [INFO] [BloodyFeet:UziEnemyCenter2] Blood detector created and attached to UziEnemyCenter2
[07:22:41] [INFO] [SoundPropagation] Registered listener: UziEnemyCenter2 (total: 22)
[07:22:41] [ENEMY] [UziEnemyCenter2] Registered as sound listener
[07:22:41] [ENEMY] [UziEnemyCenter2] Spawned at (3800, 1050), hp: 3, behavior: GUARD
[07:22:41] [INFO] [BloodyFeet:PatrolEnemy1] Blood detector created and attached to PatrolEnemy1
[07:22:41] [INFO] [SoundPropagation] Registered listener: PatrolEnemy1 (total: 23)
[07:22:41] [ENEMY] [PatrolEnemy1] Registered as sound listener
[07:22:41] [ENEMY] [PatrolEnemy1] Spawned at (1100, 1050), hp: 4, behavior: PATROL
[07:22:41] [INFO] [BloodyFeet:PatrolEnemy2] Blood detector created and attached to PatrolEnemy2
[07:22:41] [INFO] [SoundPropagation] Registered listener: PatrolEnemy2 (total: 24)
[07:22:41] [ENEMY] [PatrolEnemy2] Registered as sound listener
[07:22:41] [ENEMY] [PatrolEnemy2] Spawned at (4900, 1050), hp: 2, behavior: PATROL
[07:22:41] [INFO] [BloodyFeet:LowerEnemy1] Blood detector created and attached to LowerEnemy1
[07:22:41] [INFO] [SoundPropagation] Registered listener: LowerEnemy1 (total: 25)
[07:22:41] [ENEMY] [LowerEnemy1] Registered as sound listener
[07:22:41] [ENEMY] [LowerEnemy1] Spawned at (2150, 1250), hp: 3, behavior: GUARD
[07:22:41] [INFO] [BloodyFeet:LowerEnemy2] Blood detector created and attached to LowerEnemy2
[07:22:41] [INFO] [SoundPropagation] Registered listener: LowerEnemy2 (total: 26)
[07:22:41] [ENEMY] [LowerEnemy2] Registered as sound listener
[07:22:41] [ENEMY] [LowerEnemy2] Spawned at (3850, 1250), hp: 2, behavior: GUARD
[07:22:41] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[07:22:41] [ENEMY] [ShotgunEnemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=157.5°, current=0.0°, player=(3000,2100), corner_timer=0.00
[07:22:41] [ENEMY] [ShotgunEnemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(3000,2100), corner_timer=0.00
[07:22:41] [ENEMY] [UziEnemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(3000,2100), corner_timer=0.00
[07:22:41] [ENEMY] [UziEnemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=123.7°, current=0.0°, player=(3000,2100), corner_timer=0.00
[07:22:41] [ENEMY] [UziEnemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(3000,2100), corner_timer=0.00
[07:22:41] [ENEMY] [UziEnemyRight1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=337.5°, current=0.0°, player=(3000,2100), corner_timer=0.00
[07:22:41] [ENEMY] [ShotgunEnemyRight1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(3000,2100), corner_timer=0.00
[07:22:41] [ENEMY] [UziEnemyCenter1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(3000,2100), corner_timer=0.00
[07:22:41] [ENEMY] [UziEnemyCenter2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(3000,2100), corner_timer=0.00
[07:22:41] [ENEMY] [LowerEnemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=236.3°, current=0.0°, player=(3000,2100), corner_timer=0.00
[07:22:41] [ENEMY] [LowerEnemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=78.8°, current=0.0°, player=(3000,2100), corner_timer=0.00
[07:22:41] [INFO] [Player] Detecting weapon pose (frame 3)...
[07:22:41] [INFO] [Player] Detected weapon: Rifle (default pose)
[07:22:41] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[07:22:41] [INFO] [ReplayManager] Recording frame 1020 (17,1s): player_valid=False, enemies=10
[07:22:41] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[07:22:41] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[07:22:41] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[07:22:41] [INFO] [LastChance] Found player: Player
[07:22:41] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[07:22:41] [INFO] [LastChance] Connected to player Damaged signal (C#)
[07:22:41] [INFO] [LastChance] Connected to player Died signal (C#)
[07:22:41] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[07:22:41] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[07:22:41] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[07:22:41] [INFO] [Player.Grenade] G pressed - starting grab animation
[07:22:42] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[07:22:42] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (3335.3652, 1925.0093)
[07:22:42] [INFO] [GrenadeBase] CCD enabled (mode: CAST_RAY) to prevent wall tunneling
[07:22:42] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[07:22:42] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[07:22:42] [INFO] [GrenadeTimer] Initialized for Frag grenade, effect radius: 225
[07:22:42] [INFO] [Player.Grenade] Added GrenadeTimer component (type: Frag)
[07:22:42] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[07:22:42] [INFO] [GrenadeTimer] Timer activated! 4 seconds until explosion
[07:22:42] [INFO] [Player.Grenade] Timer started, grenade created at (3000, 2100)
[07:22:42] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[07:22:42] [INFO] [Player.Grenade] Step 1 complete! Drag: (30.730713, 0)
[07:22:42] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[07:22:42] [INFO] [Player.Grenade.Simple] RMB pressed after pin pull - starting trajectory aiming
[07:22:42] [INFO] [Player.Grenade.Simple] Throwing! Target: (3497.7036, 1874.8483), Distance: 559,7, Speed: 559,8, Friction: 280,0
[07:22:42] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,40915635
[07:22:42] [INFO] [GrenadeTimer] Grenade marked as thrown - impact detection enabled
[07:22:42] [INFO] [Player.Grenade.Simple] C# set velocity directly: dir=(0.91745675, -0.39783543), speed=559,8, spawn=(3055.0474, 2066.7966)
[07:22:42] [INFO] [GrenadeBase] Simple mode throw! Dir: (0.917457, -0.397835), Speed: 559.8 (clamped from 559.8, max: 1186.5)
[07:22:42] [INFO] [FragGrenade] Grenade thrown (simple mode) - impact detection enabled
[07:22:42] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[07:22:42] [INFO] [Player.Grenade.Simple] Grenade thrown!
[07:22:42] [INFO] [Player.Grenade] State reset to IDLE
[07:22:42] [INFO] [Player.Grenade] State reset to IDLE
[07:22:42] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[07:22:42] [INFO] [ReplayManager] Recording frame 1080 (18,1s): player_valid=False, enemies=10
[07:22:42] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[07:22:42] [INFO] [Player.Grenade] Player rotation restored to 0
[07:22:42] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[07:22:43] [INFO] [GrenadeBase] Collision detected with CoverBottom2 (type: StaticBody2D)
[07:22:43] [INFO] [FragGrenade] Impact detected! Body: CoverBottom2 (type: StaticBody2D), triggering explosion
[07:22:43] [INFO] [FragGrenade] Impact detected - exploding immediately!
[07:22:43] [INFO] [GrenadeBase] EXPLODED at (3255.521, 1982.56)!
[07:22:43] [INFO] [PowerFantasy] Grenade exploded - triggering last chance time-freeze effect for 2000ms
[07:22:43] [INFO] [LastChance] Grenade explosion triggering last chance effect for 2.00 seconds
[07:22:43] [INFO] [LastChance] Starting last chance effect:
[07:22:43] [INFO] [LastChance]   - Time will be frozen (except player)
[07:22:43] [INFO] [LastChance]   - Duration: 2.00 real seconds
[07:22:43] [INFO] [LastChance]   - Trigger: grenade explosion
[07:22:43] [INFO] [LastChance]   - Sepia intensity: 0.70
[07:22:43] [INFO] [LastChance]   - Brightness: 0.60
[07:22:43] [INFO] [LastChance] Set player Player and all 25 children to PROCESS_MODE_ALWAYS
[07:22:43] [INFO] [LastChance] Set StaticBody2D 'CenterTower' to PROCESS_MODE_ALWAYS for collision
[07:22:43] [INFO] [LastChance] Set StaticBody2D 'InnerTower' to PROCESS_MODE_ALWAYS for collision
[07:22:43] [INFO] [LastChance] Set StaticBody2D 'LeftWingTopWall' to PROCESS_MODE_ALWAYS for collision
[07:22:43] [INFO] [LastChance] Set StaticBody2D 'LeftWingBottomWall' to PROCESS_MODE_ALWAYS for collision
[07:22:43] [INFO] [LastChance] Set StaticBody2D 'LeftWingEndWall' to PROCESS_MODE_ALWAYS for collision
[07:22:43] [INFO] [LastChance] Set StaticBody2D 'RightWingTopWall' to PROCESS_MODE_ALWAYS for collision
[07:22:43] [INFO] [LastChance] Set StaticBody2D 'RightWingBottomWall' to PROCESS_MODE_ALWAYS for collision
[07:22:43] [INFO] [LastChance] Set StaticBody2D 'RightWingEndWall' to PROCESS_MODE_ALWAYS for collision
[07:22:43] [INFO] [LastChance] Set StaticBody2D 'CenterSouthWallLeft' to PROCESS_MODE_ALWAYS for collision
[07:22:43] [INFO] [LastChance] Set StaticBody2D 'CenterSouthWallRight' to PROCESS_MODE_ALWAYS for collision
[07:22:43] [INFO] [LastChance] Set StaticBody2D 'CoverLowerLeft1' to PROCESS_MODE_ALWAYS for collision
[07:22:43] [INFO] [LastChance] Set StaticBody2D 'CoverLowerLeft2' to PROCESS_MODE_ALWAYS for collision
[07:22:43] [INFO] [LastChance] Set StaticBody2D 'CoverLowerLeft3' to PROCESS_MODE_ALWAYS for collision
[07:22:43] [INFO] [LastChance] Set StaticBody2D 'CoverLowerRight1' to PROCESS_MODE_ALWAYS for collision
[07:22:43] [INFO] [LastChance] Set StaticBody2D 'CoverLowerRight2' to PROCESS_MODE_ALWAYS for collision
[07:22:43] [INFO] [LastChance] Set StaticBody2D 'CoverLowerRight3' to PROCESS_MODE_ALWAYS for collision
[07:22:43] [INFO] [LastChance] Set StaticBody2D 'CoverCenterLeft1' to PROCESS_MODE_ALWAYS for collision
[07:22:43] [INFO] [LastChance] Set StaticBody2D 'CoverCenterLeft2' to PROCESS_MODE_ALWAYS for collision
[07:22:43] [INFO] [LastChance] Set StaticBody2D 'CoverCenterLeft3' to PROCESS_MODE_ALWAYS for collision
[07:22:43] [INFO] [LastChance] Set StaticBody2D 'CoverCenterRight1' to PROCESS_MODE_ALWAYS for collision
[07:22:43] [INFO] [LastChance] Set StaticBody2D 'CoverCenterRight2' to PROCESS_MODE_ALWAYS for collision
[07:22:43] [INFO] [LastChance] Set StaticBody2D 'CoverCenterRight3' to PROCESS_MODE_ALWAYS for collision
[07:22:43] [INFO] [LastChance] Set StaticBody2D 'CoverMiddleLeft1' to PROCESS_MODE_ALWAYS for collision
[07:22:43] [INFO] [LastChance] Set StaticBody2D 'CoverMiddleLeft2' to PROCESS_MODE_ALWAYS for collision
[07:22:43] [INFO] [LastChance] Set StaticBody2D 'CoverMiddleRight1' to PROCESS_MODE_ALWAYS for collision
[07:22:43] [INFO] [LastChance] Set StaticBody2D 'CoverMiddleRight2' to PROCESS_MODE_ALWAYS for collision
[07:22:43] [INFO] [LastChance] Set StaticBody2D 'CoverLowerMidLeft1' to PROCESS_MODE_ALWAYS for collision
[07:22:43] [INFO] [LastChance] Set StaticBody2D 'CoverLowerMidRight1' to PROCESS_MODE_ALWAYS for collision
[07:22:43] [INFO] [LastChance] Set StaticBody2D 'CoverBottom1' to PROCESS_MODE_ALWAYS for collision
[07:22:43] [INFO] [LastChance] Set StaticBody2D 'CoverBottom2' to PROCESS_MODE_ALWAYS for collision
[07:22:43] [INFO] [LastChance] Skipping player node: Player
[07:22:43] [INFO] [LastChance] Froze existing grenade: FragGrenade
[07:22:43] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[07:22:43] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[07:22:43] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[07:22:43] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(3255.521, 1982.56), source=NEUTRAL (FragGrenade), range=2937, listeners=26
[07:22:43] [INFO] [SoundPropagation] Cleaned up 13 invalid listeners
[07:22:43] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=13
[07:22:43] [INFO] [LastChance] Freezing newly created shrapnel: Shrapnel
[07:22:43] [INFO] [LastChance] Registered frozen shrapnel: Shrapnel
[07:22:43] [INFO] [FragGrenade] Spawned shrapnel #1 at angle 3.2 degrees
[07:22:43] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@3255
[07:22:43] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@3255
[07:22:43] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 88.8 degrees
[07:22:43] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@3256
[07:22:43] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@3256
[07:22:43] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 165.2 degrees
[07:22:43] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@3257
[07:22:43] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@3257
[07:22:43] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 256.6 degrees
[07:22:43] [INFO] [ImpactEffects] Spawning explosion visual effect at (3255.521, 1982.56) (radius=225) - using shadow-based wall occlusion
[07:22:43] [INFO] [LastChance] Freezing newly created explosion effect: @PointLight2D@3258
[07:22:43] [INFO] [LastChance] Registered frozen explosion effect: @PointLight2D@3258
[07:22:43] [INFO] [GrenadeTimer] Impact detected with CoverBottom2 - EXPLODING!
[07:22:43] [INFO] [GrenadeTimer] EXPLODED at (3255.5212, 1982.5596)!
[07:22:43] [INFO] [GrenadeTimer] Applying frag explosion damage (radius: 225, damage: 99)
[07:22:43] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@3259
[07:22:43] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@3259
[07:22:43] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@3260
[07:22:43] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@3260
[07:22:43] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@3261
[07:22:43] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@3261
[07:22:43] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@3262
[07:22:43] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@3262
[07:22:43] [INFO] [GrenadeTimer] Spawned 4 shrapnel pieces
[07:22:43] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(3255.521, 1982.56), source=NEUTRAL (FragGrenade), range=2938, listeners=13
[07:22:43] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=13
[07:22:43] [INFO] [LastChance] Freezing newly created explosion visual effect (Node2D): ExplosionFlash
[07:22:43] [INFO] [LastChance] Registered frozen explosion visual: ExplosionFlash
[07:22:43] [INFO] [LastChance] Freezing newly created explosion effect: PointLight2D
[07:22:43] [INFO] [LastChance] Registered frozen explosion effect: PointLight2D
[07:22:43] [INFO] [GrenadeTimer] Spawned PointLight2D frag explosion flash at (3255.5212, 1982.5596) (shadow-based wall occlusion)
[07:22:43] [INFO] [ReplayManager] Recording frame 1140 (19,1s): player_valid=False, enemies=10
[07:22:43] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[07:22:43] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:22:43] [INFO] [BloodyFeet:ShotgunEnemy1] Footprint scene loaded
[07:22:43] [INFO] [BloodyFeet:ShotgunEnemy1] Found EnemyModel for facing direction
[07:22:43] [INFO] [BloodyFeet:ShotgunEnemy1] BloodyFeetComponent ready on ShotgunEnemy1
[07:22:43] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[07:22:43] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[07:22:43] [INFO] [LastChance] Resetting all effects (scene change detected)
[07:22:43] [INFO] [LastChance] All process modes restored
[07:22:43] [INFO] [LastChance] Restored original colors to 5 player sprites
[07:22:43] [INFO] [CinemaEffects] Scene changed to: CastleLevel
[07:22:43] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[07:22:43] [ENEMY] [ShotgunEnemy1] Death animation component initialized
[07:22:43] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:22:43] [INFO] [BloodyFeet:ShotgunEnemy2] Footprint scene loaded
[07:22:43] [INFO] [BloodyFeet:ShotgunEnemy2] Found EnemyModel for facing direction
[07:22:43] [INFO] [BloodyFeet:ShotgunEnemy2] BloodyFeetComponent ready on ShotgunEnemy2
[07:22:43] [ENEMY] [ShotgunEnemy2] Death animation component initialized
[07:22:43] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:22:43] [INFO] [BloodyFeet:UziEnemy1] Footprint scene loaded
[07:22:43] [INFO] [BloodyFeet:UziEnemy1] Found EnemyModel for facing direction
[07:22:43] [INFO] [BloodyFeet:UziEnemy1] BloodyFeetComponent ready on UziEnemy1
[07:22:43] [ENEMY] [UziEnemy1] Death animation component initialized
[07:22:43] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:22:43] [INFO] [BloodyFeet:UziEnemy2] Footprint scene loaded
[07:22:43] [INFO] [BloodyFeet:UziEnemy2] Found EnemyModel for facing direction
[07:22:43] [INFO] [BloodyFeet:UziEnemy2] BloodyFeetComponent ready on UziEnemy2
[07:22:43] [ENEMY] [UziEnemy2] Death animation component initialized
[07:22:43] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:22:43] [INFO] [BloodyFeet:UziEnemy3] Footprint scene loaded
[07:22:43] [INFO] [BloodyFeet:UziEnemy3] Found EnemyModel for facing direction
[07:22:43] [INFO] [BloodyFeet:UziEnemy3] BloodyFeetComponent ready on UziEnemy3
[07:22:43] [ENEMY] [UziEnemy3] Death animation component initialized
[07:22:43] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:22:43] [INFO] [BloodyFeet:UziEnemyRight1] Footprint scene loaded
[07:22:43] [INFO] [BloodyFeet:UziEnemyRight1] Found EnemyModel for facing direction
[07:22:43] [INFO] [BloodyFeet:UziEnemyRight1] BloodyFeetComponent ready on UziEnemyRight1
[07:22:43] [ENEMY] [UziEnemyRight1] Death animation component initialized
[07:22:43] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:22:43] [INFO] [BloodyFeet:ShotgunEnemyRight1] Footprint scene loaded
[07:22:43] [INFO] [BloodyFeet:ShotgunEnemyRight1] Found EnemyModel for facing direction
[07:22:43] [INFO] [BloodyFeet:ShotgunEnemyRight1] BloodyFeetComponent ready on ShotgunEnemyRight1
[07:22:43] [ENEMY] [ShotgunEnemyRight1] Death animation component initialized
[07:22:43] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:22:43] [INFO] [BloodyFeet:UziEnemyCenter1] Footprint scene loaded
[07:22:43] [INFO] [BloodyFeet:UziEnemyCenter1] Found EnemyModel for facing direction
[07:22:43] [INFO] [BloodyFeet:UziEnemyCenter1] BloodyFeetComponent ready on UziEnemyCenter1
[07:22:43] [ENEMY] [UziEnemyCenter1] Death animation component initialized
[07:22:43] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:22:43] [INFO] [BloodyFeet:UziEnemyCenter2] Footprint scene loaded
[07:22:43] [INFO] [BloodyFeet:UziEnemyCenter2] Found EnemyModel for facing direction
[07:22:43] [INFO] [BloodyFeet:UziEnemyCenter2] BloodyFeetComponent ready on UziEnemyCenter2
[07:22:43] [ENEMY] [UziEnemyCenter2] Death animation component initialized
[07:22:43] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:22:43] [INFO] [BloodyFeet:PatrolEnemy1] Footprint scene loaded
[07:22:43] [INFO] [BloodyFeet:PatrolEnemy1] Found EnemyModel for facing direction
[07:22:43] [INFO] [BloodyFeet:PatrolEnemy1] BloodyFeetComponent ready on PatrolEnemy1
[07:22:43] [ENEMY] [PatrolEnemy1] Death animation component initialized
[07:22:43] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:22:43] [INFO] [BloodyFeet:PatrolEnemy2] Footprint scene loaded
[07:22:43] [INFO] [BloodyFeet:PatrolEnemy2] Found EnemyModel for facing direction
[07:22:43] [INFO] [BloodyFeet:PatrolEnemy2] BloodyFeetComponent ready on PatrolEnemy2
[07:22:43] [ENEMY] [PatrolEnemy2] Death animation component initialized
[07:22:43] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:22:43] [INFO] [BloodyFeet:LowerEnemy1] Footprint scene loaded
[07:22:43] [INFO] [BloodyFeet:LowerEnemy1] Found EnemyModel for facing direction
[07:22:43] [INFO] [BloodyFeet:LowerEnemy1] BloodyFeetComponent ready on LowerEnemy1
[07:22:43] [ENEMY] [LowerEnemy1] Death animation component initialized
[07:22:43] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:22:43] [INFO] [BloodyFeet:LowerEnemy2] Footprint scene loaded
[07:22:43] [INFO] [BloodyFeet:LowerEnemy2] Found EnemyModel for facing direction
[07:22:43] [INFO] [BloodyFeet:LowerEnemy2] BloodyFeetComponent ready on LowerEnemy2
[07:22:43] [ENEMY] [LowerEnemy2] Death animation component initialized
[07:22:43] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:22:43] [INFO] [BloodyFeet:Player] Footprint scene loaded
[07:22:43] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[07:22:43] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[07:22:43] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[07:22:43] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[07:22:43] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[07:22:43] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[07:22:43] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[07:22:43] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[07:22:43] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[07:22:43] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[07:22:43] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 10/10
[07:22:43] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[07:22:43] [INFO] [CastleLevel] Found Environment/Enemies node with 13 children
[07:22:43] [INFO] [CastleLevel] Child 'ShotgunEnemy1': script=true, has_died_signal=true
[07:22:43] [INFO] [CastleLevel] Child 'ShotgunEnemy2': script=true, has_died_signal=true
[07:22:43] [INFO] [CastleLevel] Child 'UziEnemy1': script=true, has_died_signal=true
[07:22:43] [INFO] [CastleLevel] Child 'UziEnemy2': script=true, has_died_signal=true
[07:22:43] [INFO] [CastleLevel] Child 'UziEnemy3': script=true, has_died_signal=true
[07:22:43] [INFO] [CastleLevel] Child 'UziEnemyRight1': script=true, has_died_signal=true
[07:22:43] [INFO] [CastleLevel] Child 'ShotgunEnemyRight1': script=true, has_died_signal=true
[07:22:43] [INFO] [CastleLevel] Child 'UziEnemyCenter1': script=true, has_died_signal=true
[07:22:43] [INFO] [CastleLevel] Child 'UziEnemyCenter2': script=true, has_died_signal=true
[07:22:43] [INFO] [CastleLevel] Child 'PatrolEnemy1': script=true, has_died_signal=true
[07:22:43] [INFO] [CastleLevel] Child 'PatrolEnemy2': script=true, has_died_signal=true
[07:22:43] [INFO] [CastleLevel] Child 'LowerEnemy1': script=true, has_died_signal=true
[07:22:43] [INFO] [CastleLevel] Child 'LowerEnemy2': script=true, has_died_signal=true
[07:22:43] [INFO] [CastleLevel] Enemy tracking complete: 13 enemies registered
[07:22:43] [INFO] [ScoreManager] Level started with 13 enemies
[07:22:43] [INFO] [BloodyFeet:ShotgunEnemy1] Blood detector created and attached to ShotgunEnemy1
[07:22:43] [INFO] [CinemaEffects] Found player node: Player
[07:22:43] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[07:22:43] [INFO] [SoundPropagation] Registered listener: ShotgunEnemy1 (total: 14)
[07:22:43] [ENEMY] [ShotgunEnemy1] Registered as sound listener
[07:22:43] [ENEMY] [ShotgunEnemy1] Spawned at (1000, 500), hp: 2, behavior: GUARD
[07:22:43] [INFO] [BloodyFeet:ShotgunEnemy2] Blood detector created and attached to ShotgunEnemy2
[07:22:43] [INFO] [SoundPropagation] Registered listener: ShotgunEnemy2 (total: 15)
[07:22:43] [ENEMY] [ShotgunEnemy2] Registered as sound listener
[07:22:43] [ENEMY] [ShotgunEnemy2] Spawned at (1400, 500), hp: 4, behavior: GUARD
[07:22:43] [INFO] [BloodyFeet:UziEnemy1] Blood detector created and attached to UziEnemy1
[07:22:43] [INFO] [SoundPropagation] Registered listener: UziEnemy1 (total: 16)
[07:22:43] [ENEMY] [UziEnemy1] Registered as sound listener
[07:22:43] [ENEMY] [UziEnemy1] Spawned at (2500, 550), hp: 3, behavior: GUARD
[07:22:43] [INFO] [BloodyFeet:UziEnemy2] Blood detector created and attached to UziEnemy2
[07:22:43] [INFO] [SoundPropagation] Registered listener: UziEnemy2 (total: 17)
[07:22:43] [ENEMY] [UziEnemy2] Registered as sound listener
[07:22:43] [ENEMY] [UziEnemy2] Spawned at (3500, 550), hp: 2, behavior: GUARD
[07:22:43] [INFO] [BloodyFeet:UziEnemy3] Blood detector created and attached to UziEnemy3
[07:22:43] [INFO] [SoundPropagation] Registered listener: UziEnemy3 (total: 18)
[07:22:43] [ENEMY] [UziEnemy3] Registered as sound listener
[07:22:43] [ENEMY] [UziEnemy3] Spawned at (3000, 300), hp: 2, behavior: GUARD
[07:22:43] [INFO] [BloodyFeet:UziEnemyRight1] Blood detector created and attached to UziEnemyRight1
[07:22:43] [INFO] [SoundPropagation] Registered listener: UziEnemyRight1 (total: 19)
[07:22:43] [ENEMY] [UziEnemyRight1] Registered as sound listener
[07:22:43] [ENEMY] [UziEnemyRight1] Spawned at (4800, 500), hp: 3, behavior: GUARD
[07:22:43] [INFO] [BloodyFeet:ShotgunEnemyRight1] Blood detector created and attached to ShotgunEnemyRight1
[07:22:43] [INFO] [SoundPropagation] Registered listener: ShotgunEnemyRight1 (total: 20)
[07:22:43] [ENEMY] [ShotgunEnemyRight1] Registered as sound listener
[07:22:43] [ENEMY] [ShotgunEnemyRight1] Spawned at (5000, 500), hp: 2, behavior: GUARD
[07:22:43] [INFO] [BloodyFeet:UziEnemyCenter1] Blood detector created and attached to UziEnemyCenter1
[07:22:43] [INFO] [SoundPropagation] Registered listener: UziEnemyCenter1 (total: 21)
[07:22:43] [ENEMY] [UziEnemyCenter1] Registered as sound listener
[07:22:43] [ENEMY] [UziEnemyCenter1] Spawned at (2200, 1050), hp: 3, behavior: GUARD
[07:22:43] [INFO] [BloodyFeet:UziEnemyCenter2] Blood detector created and attached to UziEnemyCenter2
[07:22:43] [INFO] [SoundPropagation] Registered listener: UziEnemyCenter2 (total: 22)
[07:22:43] [ENEMY] [UziEnemyCenter2] Registered as sound listener
[07:22:43] [ENEMY] [UziEnemyCenter2] Spawned at (3800, 1050), hp: 3, behavior: GUARD
[07:22:43] [INFO] [BloodyFeet:PatrolEnemy1] Blood detector created and attached to PatrolEnemy1
[07:22:43] [INFO] [SoundPropagation] Registered listener: PatrolEnemy1 (total: 23)
[07:22:43] [ENEMY] [PatrolEnemy1] Registered as sound listener
[07:22:43] [ENEMY] [PatrolEnemy1] Spawned at (1100, 1050), hp: 4, behavior: PATROL
[07:22:43] [INFO] [BloodyFeet:PatrolEnemy2] Blood detector created and attached to PatrolEnemy2
[07:22:43] [INFO] [SoundPropagation] Registered listener: PatrolEnemy2 (total: 24)
[07:22:43] [ENEMY] [PatrolEnemy2] Registered as sound listener
[07:22:43] [ENEMY] [PatrolEnemy2] Spawned at (4900, 1050), hp: 2, behavior: PATROL
[07:22:43] [INFO] [BloodyFeet:LowerEnemy1] Blood detector created and attached to LowerEnemy1
[07:22:43] [INFO] [SoundPropagation] Registered listener: LowerEnemy1 (total: 25)
[07:22:43] [ENEMY] [LowerEnemy1] Registered as sound listener
[07:22:43] [ENEMY] [LowerEnemy1] Spawned at (2150, 1250), hp: 4, behavior: GUARD
[07:22:43] [INFO] [BloodyFeet:LowerEnemy2] Blood detector created and attached to LowerEnemy2
[07:22:43] [INFO] [SoundPropagation] Registered listener: LowerEnemy2 (total: 26)
[07:22:43] [ENEMY] [LowerEnemy2] Registered as sound listener
[07:22:43] [ENEMY] [LowerEnemy2] Spawned at (3850, 1250), hp: 4, behavior: GUARD
[07:22:43] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[07:22:43] [ENEMY] [ShotgunEnemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(3000,2100), corner_timer=0.00
[07:22:43] [ENEMY] [ShotgunEnemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=337.5°, current=0.0°, player=(3000,2100), corner_timer=0.00
[07:22:43] [ENEMY] [UziEnemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(3000,2100), corner_timer=0.00
[07:22:43] [ENEMY] [UziEnemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(3000,2100), corner_timer=0.00
[07:22:43] [ENEMY] [UziEnemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=337.5°, current=0.0°, player=(3000,2100), corner_timer=0.00
[07:22:43] [ENEMY] [UziEnemyRight1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=337.5°, current=0.0°, player=(3000,2100), corner_timer=0.00
[07:22:43] [ENEMY] [ShotgunEnemyRight1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=22.5°, current=0.0°, player=(3000,2100), corner_timer=0.00
[07:22:43] [ENEMY] [UziEnemyCenter1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(3000,2100), corner_timer=0.00
[07:22:43] [ENEMY] [UziEnemyCenter2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(3000,2100), corner_timer=0.00
[07:22:43] [ENEMY] [LowerEnemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=112.5°, current=0.0°, player=(3000,2100), corner_timer=0.00
[07:22:43] [ENEMY] [LowerEnemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=281.3°, current=0.0°, player=(3000,2100), corner_timer=0.00
[07:22:43] [ENEMY] [UziEnemyCenter1] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=52.7°, current=2.9°, player=(3000,2100), corner_timer=0.00
[07:22:43] [ENEMY] [UziEnemyCenter1] State: IDLE -> COMBAT
[07:22:43] [INFO] [Player] Detecting weapon pose (frame 3)...
[07:22:43] [INFO] [Player] Detected weapon: Rifle (default pose)
[07:22:43] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[07:22:43] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[07:22:43] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[07:22:43] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[07:22:43] [INFO] [LastChance] Found player: Player
[07:22:43] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[07:22:43] [INFO] [LastChance] Connected to player Damaged signal (C#)
[07:22:43] [INFO] [LastChance] Connected to player Died signal (C#)
[07:22:43] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[07:22:44] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[07:22:44] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[07:22:44] [INFO] [Player.Grenade] G pressed - starting grab animation
[07:22:44] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[07:22:44] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (3098.8726, 1740)
[07:22:44] [INFO] [GrenadeBase] CCD enabled (mode: CAST_RAY) to prevent wall tunneling
[07:22:44] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[07:22:44] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[07:22:44] [INFO] [GrenadeTimer] Initialized for Frag grenade, effect radius: 225
[07:22:44] [INFO] [Player.Grenade] Added GrenadeTimer component (type: Frag)
[07:22:44] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[07:22:44] [INFO] [GrenadeTimer] Timer activated! 4 seconds until explosion
[07:22:44] [INFO] [Player.Grenade] Timer started, grenade created at (3000, 2100)
[07:22:44] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[07:22:44] [INFO] [Player.Grenade] Step 1 complete! Drag: (141.62842, 36.73474)
[07:22:44] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[07:22:44] [INFO] [Player.Grenade.Simple] RMB pressed after pin pull - starting trajectory aiming
[07:22:44] [ENEMY] [LowerEnemy1] Memory: high confidence (0.90) - transitioning to PURSUING
[07:22:44] [ENEMY] [LowerEnemy1] State: IDLE -> PURSUING
[07:22:44] [ENEMY] [UziEnemy1] Memory: high confidence (0.90) - transitioning to PURSUING
[07:22:44] [ENEMY] [UziEnemy1] State: IDLE -> PURSUING
[07:22:44] [ENEMY] [LowerEnemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=45.0°, current=85.9°, player=(3000,2100), corner_timer=0.00
[07:22:44] [ENEMY] [UziEnemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=72.1°, current=88.8°, player=(3000,2100), corner_timer=0.00
[07:22:44] [ENEMY] [LowerEnemy1] PURSUING corner check: angle -0.4°
[07:22:44] [ENEMY] [UziEnemy1] PURSUING corner check: angle -27.0°
[07:22:44] [INFO] [ReplayManager] Recording frame 1200 (20,1s): player_valid=False, enemies=10
[07:22:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2352.086, 1249.256), source=ENEMY (UziEnemyCenter1), range=1200, listeners=26
[07:22:44] [INFO] [SoundPropagation] Cleaned up 13 invalid listeners
[07:22:44] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=9, self=1, below_threshold=2
[07:22:44] [ENEMY] [UziEnemy1] PURSUING corner check: angle -27.0°
[07:22:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2365.288, 1266.013), source=ENEMY (UziEnemyCenter1), range=1200, listeners=13
[07:22:44] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=10, self=1, below_threshold=1
[07:22:44] [ENEMY] [LowerEnemy1] PURSUING corner check: angle -0.6°
[07:22:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2371.472, 1285.902), source=ENEMY (UziEnemyCenter1), range=1200, listeners=13
[07:22:44] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=10, self=1, below_threshold=1
[07:22:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2370.523, 1301.934), source=ENEMY (UziEnemyCenter1), range=1200, listeners=13
[07:22:44] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=10, self=1, below_threshold=1
[07:22:44] [ENEMY] [LowerEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=35.0°, current=83.7°, player=(3000,2010), corner_timer=0.20
[07:22:44] [ENEMY] [LowerEnemy1] State: PURSUING -> COMBAT
[07:22:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2367.692, 1301.934), source=ENEMY (UziEnemyCenter1), range=1200, listeners=13
[07:22:44] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=10, self=1, below_threshold=1
[07:22:44] [ENEMY] [LowerEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=34.0°, current=25.7°, player=(3000,1994), corner_timer=0.20
[07:22:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2365.216, 1301.934), source=ENEMY (UziEnemyCenter1), range=1200, listeners=13
[07:22:44] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=10, self=1, below_threshold=1
[07:22:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2363.109, 1301.934), source=ENEMY (UziEnemyCenter1), range=1200, listeners=13
[07:22:45] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=10, self=1, below_threshold=1
[07:22:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2361.39, 1301.934), source=ENEMY (UziEnemyCenter1), range=1200, listeners=13
[07:22:45] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=10, self=1, below_threshold=1
[07:22:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2360.108, 1301.934), source=ENEMY (UziEnemyCenter1), range=1200, listeners=13
[07:22:45] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=10, self=1, below_threshold=1
[07:22:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2359.322, 1301.934), source=ENEMY (UziEnemyCenter1), range=1200, listeners=13
[07:22:45] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=10, self=1, below_threshold=1
[07:22:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2380.498, 1299.342), source=ENEMY (UziEnemyCenter1), range=1200, listeners=13
[07:22:45] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=10, self=1, below_threshold=1
[07:22:45] [ENEMY] [PatrolEnemy1] PATROL corner check: angle -90.0°
[07:22:45] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -90.0°
[07:22:45] [ENEMY] [PatrolEnemy1] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-90.0°, current=0.0°, player=(3047,1865), corner_timer=0.30
[07:22:45] [ENEMY] [PatrolEnemy2] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-90.0°, current=0.0°, player=(3047,1865), corner_timer=0.30
[07:22:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2400.802, 1305.886), source=ENEMY (UziEnemyCenter1), range=1200, listeners=13
[07:22:45] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=10, self=1, below_threshold=1
[07:22:45] [ENEMY] [LowerEnemy1] State: COMBAT -> PURSUING
[07:22:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2421.208, 1312.109), source=ENEMY (UziEnemyCenter1), range=1200, listeners=13
[07:22:45] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=10, self=1, below_threshold=1
[07:22:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2439.745, 1321.798), source=ENEMY (UziEnemyCenter1), range=1200, listeners=13
[07:22:45] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=10, self=1, below_threshold=1
[07:22:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2456.607, 1334.866), source=ENEMY (UziEnemyCenter1), range=1200, listeners=13
[07:22:45] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=10, self=1, below_threshold=1
[07:22:45] [INFO] [ReplayManager] Recording frame 1260 (21,1s): player_valid=False, enemies=10
[07:22:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2469.102, 1351.785), source=ENEMY (UziEnemyCenter1), range=1200, listeners=13
[07:22:45] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=10, self=1, below_threshold=1
[07:22:45] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=0.0°, current=-54.4°, player=(3121,1791), corner_timer=-0.02
[07:22:45] [ENEMY] [PatrolEnemy1] PATROL corner check: angle -90.0°
[07:22:45] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=0.0°, current=-54.4°, player=(3121,1791), corner_timer=-0.02
[07:22:45] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -90.0°
[07:22:45] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=-51.6°, player=(3125,1787), corner_timer=0.30
[07:22:45] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=-51.6°, player=(3125,1787), corner_timer=0.30
[07:22:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2480.676, 1369.704), source=ENEMY (UziEnemyCenter1), range=1200, listeners=13
[07:22:45] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=10, self=1, below_threshold=1
[07:22:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2494.386, 1385.578), source=ENEMY (UziEnemyCenter1), range=1200, listeners=13
[07:22:45] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=10, self=1, below_threshold=1
[07:22:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2508.102, 1395.421), source=ENEMY (UziEnemyCenter1), range=1200, listeners=13
[07:22:45] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=10, self=1, below_threshold=1
[07:22:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2487.958, 1369.894), shooter_id=1159876054615, bullet_pos=(3239.479, 1964.553)
[07:22:45] [INFO] [Bullet] Using shooter_position, distance=958.333068847656
[07:22:45] [INFO] [Bullet] Distance to wall: 958.333068847656 (65.254660876962% of viewport)
[07:22:45] [INFO] [Bullet] Distance-based penetration chance: 70.5362289768777%
[07:22:45] [INFO] [Bullet] Penetration failed (distance roll)
[07:22:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2522.172, 1403.039), source=ENEMY (UziEnemyCenter1), range=1200, listeners=13
[07:22:45] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=10, self=1, below_threshold=1
[07:22:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2506.103, 1381.642), shooter_id=1159876054615, bullet_pos=(3240.052, 1930.821)
[07:22:45] [INFO] [Bullet] Using shooter_position, distance=916.666870117188
[07:22:45] [INFO] [Bullet] Distance to wall: 916.666870117188 (62.4175327880209% of viewport)
[07:22:45] [INFO] [Bullet] Distance-based penetration chance: 73.846211747309%
[07:22:45] [INFO] [Bullet] Caliber cannot penetrate walls
[07:22:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2522.172, 1403.039), source=ENEMY (UziEnemyCenter1), range=1200, listeners=13
[07:22:45] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=10, self=1, below_threshold=1
[07:22:45] [INFO] [Player.Grenade.Simple] Throwing! Target: (2561.0344, 1400.472), Distance: 754,8, Speed: 650,2, Friction: 280,0
[07:22:45] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -2,6853216
[07:22:45] [INFO] [GrenadeTimer] Grenade marked as thrown - impact detection enabled
[07:22:45] [INFO] [Player.Grenade.Simple] C# set velocity directly: dir=(-0.8977018, -0.44060364), speed=650,2, spawn=(3145.171, 1687.1738)
[07:22:45] [INFO] [GrenadeBase] Simple mode throw! Dir: (-0.897702, -0.440604), Speed: 650.2 (clamped from 650.2, max: 1186.5)
[07:22:45] [INFO] [FragGrenade] Grenade thrown (simple mode) - impact detection enabled
[07:22:45] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[07:22:45] [INFO] [Player.Grenade.Simple] Grenade thrown!
[07:22:45] [INFO] [Player.Grenade] State reset to IDLE
[07:22:45] [INFO] [Player.Grenade] State reset to IDLE
[07:22:45] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[07:22:45] [ENEMY] [UziEnemyCenter1] GRENADE DANGER: Entering EVADING_GRENADE state from COMBAT
[07:22:45] [ENEMY] [UziEnemyCenter1] EVADING_GRENADE started: escaping to (2728.872, 1598.695)
[07:22:45] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=0.0°, current=-90.0°, player=(3199,1713), corner_timer=-0.02
[07:22:45] [ENEMY] [PatrolEnemy1] PATROL corner check: angle -90.0°
[07:22:45] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=0.0°, current=-90.0°, player=(3199,1713), corner_timer=-0.02
[07:22:45] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -90.0°
[07:22:45] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=-87.1°, player=(3202,1709), corner_timer=0.30
[07:22:45] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=-87.1°, player=(3202,1709), corner_timer=0.30
[07:22:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2520.244, 1396.788), shooter_id=1159876054615, bullet_pos=(3307.444, 1943.338)
[07:22:46] [INFO] [Bullet] Using shooter_position, distance=958.332275390625
[07:22:46] [INFO] [Bullet] Distance to wall: 958.332275390625 (65.2546068490137% of viewport)
[07:22:46] [INFO] [Bullet] Distance-based penetration chance: 70.536292009484%
[07:22:46] [INFO] [Bullet] Caliber cannot penetrate walls
[07:22:46] [INFO] [Player.Grenade] Player rotation restored to 0
[07:22:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2533.522, 1412.695), shooter_id=1159876054615, bullet_pos=(3341.285, 1928.37)
[07:22:46] [INFO] [Bullet] Using shooter_position, distance=958.332580566406
[07:22:46] [INFO] [Bullet] Distance to wall: 958.332580566406 (65.2546276289938% of viewport)
[07:22:46] [INFO] [Bullet] Distance-based penetration chance: 70.5362677661739%
[07:22:46] [INFO] [Bullet] Penetration failed (distance roll)
[07:22:46] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[07:22:46] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=0.0°, current=-90.0°, player=(3276,1635), corner_timer=-0.02
[07:22:46] [ENEMY] [PatrolEnemy1] PATROL corner check: angle -90.0°
[07:22:46] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=0.0°, current=-90.0°, player=(3276,1635), corner_timer=-0.02
[07:22:46] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -90.0°
[07:22:46] [ENEMY] [LowerEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=8.2°, current=8.5°, player=(3276,1635), corner_timer=0.20
[07:22:46] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=-87.1°, player=(3280,1631), corner_timer=0.30
[07:22:46] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=-87.1°, player=(3280,1631), corner_timer=0.30
[07:22:46] [ENEMY] [UziEnemy1] Warning: No valid flank position (both sides behind walls)
[07:22:46] [ENEMY] [UziEnemy1] FLANKING started: target=(3360.935, 1443.194), side=right, pos=(2570.059, 698.892)
[07:22:46] [ENEMY] [UziEnemy1] State: PURSUING -> FLANKING
[07:22:46] [ENEMY] [LowerEnemy1] State: PURSUING -> COMBAT
[07:22:46] [ENEMY] [UziEnemy1] FLANKING corner check: angle -108.3°
[07:22:46] [INFO] [ReplayManager] Recording frame 1320 (22,1s): player_valid=False, enemies=10
[07:22:46] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=0.0°, current=-90.0°, player=(3354,1558), corner_timer=-0.02
[07:22:46] [ENEMY] [PatrolEnemy1] PATROL corner check: angle -90.0°
[07:22:46] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=0.0°, current=-90.0°, player=(3354,1558), corner_timer=-0.02
[07:22:46] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -90.0°
[07:22:46] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=-87.1°, player=(3358,1554), corner_timer=0.30
[07:22:46] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=-87.1°, player=(3358,1554), corner_timer=0.30
[07:22:46] [ENEMY] [UziEnemyCenter1] EVADING_GRENADE: Escaped to safe distance
[07:22:46] [ENEMY] [UziEnemyCenter1] State: EVADING_GRENADE -> COMBAT
[07:22:46] [ENEMY] [UziEnemyCenter1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-18.0°, current=-92.4°, player=(3368,1541), corner_timer=0.00
[07:22:46] [ENEMY] [UziEnemyCenter1] GRENADE DANGER: Entering EVADING_GRENADE state from COMBAT
[07:22:46] [ENEMY] [UziEnemyCenter1] EVADING_GRENADE started: escaping to (2836.183, 1777.21)
[07:22:46] [ENEMY] [UziEnemyCenter1] ROT_CHANGE: P2:combat_state -> P4:velocity, state=EVADING_GRENADE, target=-17.7°, current=-89.5°, player=(3370,1537), corner_timer=0.00
[07:22:46] [ENEMY] [UziEnemyCenter1] ROT_CHANGE: P4:velocity -> P1:visible, state=EVADING_GRENADE, target=-21.1°, current=-57.1°, player=(3375,1528), corner_timer=0.00
[07:22:46] [ENEMY] [UziEnemyCenter1] EVADING_GRENADE: Escaped to safe distance
[07:22:46] [ENEMY] [UziEnemyCenter1] State: EVADING_GRENADE -> COMBAT
[07:22:46] [ENEMY] [UziEnemyCenter1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-22.3°, current=-82.3°, player=(3379,1519), corner_timer=0.00
[07:22:46] [ENEMY] [LowerEnemy1] GRENADE DANGER: Entering EVADING_GRENADE state from COMBAT
[07:22:46] [ENEMY] [LowerEnemy1] EVADING_GRENADE started: escaping to (2354.94, 1471.914)
[07:22:46] [ENEMY] [UziEnemy1] FLANKING corner check: angle -103.5°
[07:22:46] [ENEMY] [UziEnemyCenter1] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-23.3°, current=-72.0°, player=(3385,1505), corner_timer=0.00
[07:22:46] [ENEMY] [UziEnemyCenter1] GRENADE DANGER: Entering EVADING_GRENADE state from COMBAT
[07:22:46] [ENEMY] [UziEnemyCenter1] EVADING_GRENADE started: escaping to (2879.178, 1779.05)
[07:22:46] [ENEMY] [LowerEnemy1] EVADING_GRENADE: Escaped to safe distance
[07:22:46] [ENEMY] [LowerEnemy1] State: EVADING_GRENADE -> COMBAT
[07:22:46] [ENEMY] [UziEnemyCenter1] EVADING_GRENADE: Escaped to safe distance
[07:22:46] [ENEMY] [UziEnemyCenter1] State: EVADING_GRENADE -> COMBAT
[07:22:46] [ENEMY] [LowerEnemy1] GRENADE DANGER: Entering EVADING_GRENADE state from COMBAT
[07:22:46] [ENEMY] [LowerEnemy1] EVADING_GRENADE started: escaping to (2370.353, 1464.944)
[07:22:47] [ENEMY] [LowerEnemy1] EVADING_GRENADE: Escaped to safe distance
[07:22:47] [ENEMY] [LowerEnemy1] State: EVADING_GRENADE -> COMBAT
[07:22:47] [ENEMY] [LowerEnemy1] GRENADE DANGER: Entering EVADING_GRENADE state from COMBAT
[07:22:47] [ENEMY] [LowerEnemy1] EVADING_GRENADE started: escaping to (2382.91, 1464.024)
[07:22:47] [ENEMY] [LowerEnemy1] EVADING_GRENADE: Escaped to safe distance
[07:22:47] [ENEMY] [LowerEnemy1] State: EVADING_GRENADE -> COMBAT
[07:22:47] [ENEMY] [UziEnemy1] FLANKING corner check: angle -93.1°
[07:22:47] [ENEMY] [LowerEnemy1] GRENADE DANGER: Entering EVADING_GRENADE state from COMBAT
[07:22:47] [ENEMY] [LowerEnemy1] EVADING_GRENADE started: escaping to (2392.591, 1462.828)
[07:22:47] [INFO] [SoundPropagation] Sound emitted: type=GRENADE_LANDING, pos=(2746.991, 1491.742), source=NEUTRAL (FragGrenade), range=112, listeners=13
[07:22:47] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=13, self=0, below_threshold=0
[07:22:47] [INFO] [GrenadeBase] Grenade landed at (2746.991, 1491.742)
[07:22:47] [INFO] [FragGrenade] Impact detected - exploding immediately!
[07:22:47] [INFO] [GrenadeBase] EXPLODED at (2746.991, 1491.742)!
[07:22:47] [INFO] [PowerFantasy] Grenade exploded - triggering last chance time-freeze effect for 2000ms
[07:22:47] [INFO] [LastChance] Grenade explosion triggering last chance effect for 2.00 seconds
[07:22:47] [INFO] [LastChance] Starting last chance effect:
[07:22:47] [INFO] [LastChance]   - Time will be frozen (except player)
[07:22:47] [INFO] [LastChance]   - Duration: 2.00 real seconds
[07:22:47] [INFO] [LastChance]   - Trigger: grenade explosion
[07:22:47] [INFO] [LastChance]   - Sepia intensity: 0.70
[07:22:47] [INFO] [LastChance]   - Brightness: 0.60
[07:22:47] [INFO] [LastChance] Set player Player and all 25 children to PROCESS_MODE_ALWAYS
[07:22:47] [INFO] [LastChance] Set StaticBody2D 'CenterTower' to PROCESS_MODE_ALWAYS for collision
[07:22:47] [INFO] [LastChance] Set StaticBody2D 'InnerTower' to PROCESS_MODE_ALWAYS for collision
[07:22:47] [INFO] [LastChance] Set StaticBody2D 'LeftWingTopWall' to PROCESS_MODE_ALWAYS for collision
[07:22:47] [INFO] [LastChance] Set StaticBody2D 'LeftWingBottomWall' to PROCESS_MODE_ALWAYS for collision
[07:22:47] [INFO] [LastChance] Set StaticBody2D 'LeftWingEndWall' to PROCESS_MODE_ALWAYS for collision
[07:22:47] [INFO] [LastChance] Set StaticBody2D 'RightWingTopWall' to PROCESS_MODE_ALWAYS for collision
[07:22:47] [INFO] [LastChance] Set StaticBody2D 'RightWingBottomWall' to PROCESS_MODE_ALWAYS for collision
[07:22:47] [INFO] [LastChance] Set StaticBody2D 'RightWingEndWall' to PROCESS_MODE_ALWAYS for collision
[07:22:47] [INFO] [LastChance] Set StaticBody2D 'CenterSouthWallLeft' to PROCESS_MODE_ALWAYS for collision
[07:22:47] [INFO] [LastChance] Set StaticBody2D 'CenterSouthWallRight' to PROCESS_MODE_ALWAYS for collision
[07:22:47] [INFO] [LastChance] Set StaticBody2D 'CoverLowerLeft1' to PROCESS_MODE_ALWAYS for collision
[07:22:47] [INFO] [LastChance] Set StaticBody2D 'CoverLowerLeft2' to PROCESS_MODE_ALWAYS for collision
[07:22:47] [INFO] [LastChance] Set StaticBody2D 'CoverLowerLeft3' to PROCESS_MODE_ALWAYS for collision
[07:22:47] [INFO] [LastChance] Set StaticBody2D 'CoverLowerRight1' to PROCESS_MODE_ALWAYS for collision
[07:22:47] [INFO] [LastChance] Set StaticBody2D 'CoverLowerRight2' to PROCESS_MODE_ALWAYS for collision
[07:22:47] [INFO] [LastChance] Set StaticBody2D 'CoverLowerRight3' to PROCESS_MODE_ALWAYS for collision
[07:22:47] [INFO] [LastChance] Set StaticBody2D 'CoverCenterLeft1' to PROCESS_MODE_ALWAYS for collision
[07:22:47] [INFO] [LastChance] Set StaticBody2D 'CoverCenterLeft2' to PROCESS_MODE_ALWAYS for collision
[07:22:47] [INFO] [LastChance] Set StaticBody2D 'CoverCenterLeft3' to PROCESS_MODE_ALWAYS for collision
[07:22:47] [INFO] [LastChance] Set StaticBody2D 'CoverCenterRight1' to PROCESS_MODE_ALWAYS for collision
[07:22:47] [INFO] [LastChance] Set StaticBody2D 'CoverCenterRight2' to PROCESS_MODE_ALWAYS for collision
[07:22:47] [INFO] [LastChance] Set StaticBody2D 'CoverCenterRight3' to PROCESS_MODE_ALWAYS for collision
[07:22:47] [INFO] [LastChance] Set StaticBody2D 'CoverMiddleLeft1' to PROCESS_MODE_ALWAYS for collision
[07:22:47] [INFO] [LastChance] Set StaticBody2D 'CoverMiddleLeft2' to PROCESS_MODE_ALWAYS for collision
[07:22:47] [INFO] [LastChance] Set StaticBody2D 'CoverMiddleRight1' to PROCESS_MODE_ALWAYS for collision
[07:22:47] [INFO] [LastChance] Set StaticBody2D 'CoverMiddleRight2' to PROCESS_MODE_ALWAYS for collision
[07:22:47] [INFO] [LastChance] Set StaticBody2D 'CoverLowerMidLeft1' to PROCESS_MODE_ALWAYS for collision
[07:22:47] [INFO] [LastChance] Set StaticBody2D 'CoverLowerMidRight1' to PROCESS_MODE_ALWAYS for collision
[07:22:47] [INFO] [LastChance] Set StaticBody2D 'CoverBottom1' to PROCESS_MODE_ALWAYS for collision
[07:22:47] [INFO] [LastChance] Set StaticBody2D 'CoverBottom2' to PROCESS_MODE_ALWAYS for collision
[07:22:47] [INFO] [LastChance] Skipping player node: Player
[07:22:47] [INFO] [LastChance] Froze existing grenade: FragGrenade
[07:22:47] [INFO] [LastChance] Froze existing bullet casing: Casing
[07:22:47] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3593
[07:22:47] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3596
[07:22:47] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3599
[07:22:47] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3602
[07:22:47] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3605
[07:22:47] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3608
[07:22:47] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3610
[07:22:47] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3613
[07:22:47] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3616
[07:22:47] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3619
[07:22:47] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3630
[07:22:47] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3636
[07:22:47] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3639
[07:22:47] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3642
[07:22:47] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3646
[07:22:47] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3649
[07:22:47] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3653
[07:22:47] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3659
[07:22:47] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3666
[07:22:47] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3671
[07:22:47] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[07:22:47] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[07:22:47] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[07:22:47] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(2746.991, 1491.742), source=NEUTRAL (FragGrenade), range=2937, listeners=13
[07:22:47] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=11
[07:22:47] [INFO] [GrenadeBase] Scattered 1 casings (lethal zone) + 3 casings (proximity) from explosion
[07:22:47] [INFO] [LastChance] Freezing newly created shrapnel: Shrapnel
[07:22:47] [INFO] [LastChance] Registered frozen shrapnel: Shrapnel
[07:22:47] [INFO] [FragGrenade] Spawned shrapnel #1 at angle -3.7 degrees
[07:22:47] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@3690
[07:22:47] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@3690
[07:22:47] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 93.4 degrees
[07:22:47] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@3691
[07:22:47] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@3691
[07:22:47] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 171.2 degrees
[07:22:47] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@3692
[07:22:47] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@3692
[07:22:47] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 286.0 degrees
[07:22:47] [INFO] [ImpactEffects] Spawning explosion visual effect at (2746.991, 1491.742) (radius=225) - using shadow-based wall occlusion
[07:22:47] [INFO] [LastChance] Freezing newly created explosion effect: @PointLight2D@3693
[07:22:47] [INFO] [LastChance] Registered frozen explosion effect: @PointLight2D@3693
[07:22:47] [INFO] [ReplayManager] Recording frame 1380 (23,1s): player_valid=False, enemies=10
[07:22:47] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[07:22:47] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:22:47] [INFO] [BloodyFeet:ShotgunEnemy1] Footprint scene loaded
[07:22:47] [INFO] [BloodyFeet:ShotgunEnemy1] Found EnemyModel for facing direction
[07:22:47] [INFO] [BloodyFeet:ShotgunEnemy1] BloodyFeetComponent ready on ShotgunEnemy1
[07:22:47] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[07:22:47] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[07:22:47] [INFO] [LastChance] Resetting all effects (scene change detected)
[07:22:47] [INFO] [LastChance] All process modes restored
[07:22:47] [INFO] [LastChance] Restored original colors to 5 player sprites
[07:22:47] [INFO] [CinemaEffects] Scene changed to: CastleLevel
[07:22:47] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[07:22:47] [INFO] [EnemyGrenade] Initialized: 1 grenades
[07:22:47] [ENEMY] [ShotgunEnemy1] Death animation component initialized
[07:22:47] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:22:47] [INFO] [BloodyFeet:ShotgunEnemy2] Footprint scene loaded
[07:22:47] [INFO] [BloodyFeet:ShotgunEnemy2] Found EnemyModel for facing direction
[07:22:47] [INFO] [BloodyFeet:ShotgunEnemy2] BloodyFeetComponent ready on ShotgunEnemy2
[07:22:47] [ENEMY] [ShotgunEnemy2] Death animation component initialized
[07:22:47] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:22:47] [INFO] [BloodyFeet:UziEnemy1] Footprint scene loaded
[07:22:47] [INFO] [BloodyFeet:UziEnemy1] Found EnemyModel for facing direction
[07:22:47] [INFO] [BloodyFeet:UziEnemy1] BloodyFeetComponent ready on UziEnemy1
[07:22:47] [ENEMY] [UziEnemy1] Death animation component initialized
[07:22:47] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:22:47] [INFO] [BloodyFeet:UziEnemy2] Footprint scene loaded
[07:22:47] [INFO] [BloodyFeet:UziEnemy2] Found EnemyModel for facing direction
[07:22:47] [INFO] [BloodyFeet:UziEnemy2] BloodyFeetComponent ready on UziEnemy2
[07:22:47] [ENEMY] [UziEnemy2] Death animation component initialized
[07:22:47] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:22:47] [INFO] [BloodyFeet:UziEnemy3] Footprint scene loaded
[07:22:47] [INFO] [BloodyFeet:UziEnemy3] Found EnemyModel for facing direction
[07:22:47] [INFO] [BloodyFeet:UziEnemy3] BloodyFeetComponent ready on UziEnemy3
[07:22:47] [ENEMY] [UziEnemy3] Death animation component initialized
[07:22:47] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:22:47] [INFO] [BloodyFeet:UziEnemyRight1] Footprint scene loaded
[07:22:47] [INFO] [BloodyFeet:UziEnemyRight1] Found EnemyModel for facing direction
[07:22:47] [INFO] [BloodyFeet:UziEnemyRight1] BloodyFeetComponent ready on UziEnemyRight1
[07:22:47] [ENEMY] [UziEnemyRight1] Death animation component initialized
[07:22:47] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:22:47] [INFO] [BloodyFeet:ShotgunEnemyRight1] Footprint scene loaded
[07:22:47] [INFO] [BloodyFeet:ShotgunEnemyRight1] Found EnemyModel for facing direction
[07:22:47] [INFO] [BloodyFeet:ShotgunEnemyRight1] BloodyFeetComponent ready on ShotgunEnemyRight1
[07:22:48] [ENEMY] [ShotgunEnemyRight1] Death animation component initialized
[07:22:48] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:22:48] [INFO] [BloodyFeet:UziEnemyCenter1] Footprint scene loaded
[07:22:48] [INFO] [BloodyFeet:UziEnemyCenter1] Found EnemyModel for facing direction
[07:22:48] [INFO] [BloodyFeet:UziEnemyCenter1] BloodyFeetComponent ready on UziEnemyCenter1
[07:22:48] [ENEMY] [UziEnemyCenter1] Death animation component initialized
[07:22:48] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:22:48] [INFO] [BloodyFeet:UziEnemyCenter2] Footprint scene loaded
[07:22:48] [INFO] [BloodyFeet:UziEnemyCenter2] Found EnemyModel for facing direction
[07:22:48] [INFO] [BloodyFeet:UziEnemyCenter2] BloodyFeetComponent ready on UziEnemyCenter2
[07:22:48] [ENEMY] [UziEnemyCenter2] Death animation component initialized
[07:22:48] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:22:48] [INFO] [BloodyFeet:PatrolEnemy1] Footprint scene loaded
[07:22:48] [INFO] [BloodyFeet:PatrolEnemy1] Found EnemyModel for facing direction
[07:22:48] [INFO] [BloodyFeet:PatrolEnemy1] BloodyFeetComponent ready on PatrolEnemy1
[07:22:48] [ENEMY] [PatrolEnemy1] Death animation component initialized
[07:22:48] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:22:48] [INFO] [BloodyFeet:PatrolEnemy2] Footprint scene loaded
[07:22:48] [INFO] [BloodyFeet:PatrolEnemy2] Found EnemyModel for facing direction
[07:22:48] [INFO] [BloodyFeet:PatrolEnemy2] BloodyFeetComponent ready on PatrolEnemy2
[07:22:48] [ENEMY] [PatrolEnemy2] Death animation component initialized
[07:22:48] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:22:48] [INFO] [BloodyFeet:LowerEnemy1] Footprint scene loaded
[07:22:48] [INFO] [BloodyFeet:LowerEnemy1] Found EnemyModel for facing direction
[07:22:48] [INFO] [BloodyFeet:LowerEnemy1] BloodyFeetComponent ready on LowerEnemy1
[07:22:48] [ENEMY] [LowerEnemy1] Death animation component initialized
[07:22:48] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:22:48] [INFO] [BloodyFeet:LowerEnemy2] Footprint scene loaded
[07:22:48] [INFO] [BloodyFeet:LowerEnemy2] Found EnemyModel for facing direction
[07:22:48] [INFO] [BloodyFeet:LowerEnemy2] BloodyFeetComponent ready on LowerEnemy2
[07:22:48] [ENEMY] [LowerEnemy2] Death animation component initialized
[07:22:48] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:22:48] [INFO] [BloodyFeet:Player] Footprint scene loaded
[07:22:48] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[07:22:48] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[07:22:48] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[07:22:48] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[07:22:48] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[07:22:48] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[07:22:48] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[07:22:48] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[07:22:48] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[07:22:48] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[07:22:48] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 10/10
[07:22:48] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[07:22:48] [INFO] [CastleLevel] Found Environment/Enemies node with 13 children
[07:22:48] [INFO] [CastleLevel] Child 'ShotgunEnemy1': script=true, has_died_signal=true
[07:22:48] [INFO] [CastleLevel] Child 'ShotgunEnemy2': script=true, has_died_signal=true
[07:22:48] [INFO] [CastleLevel] Child 'UziEnemy1': script=true, has_died_signal=true
[07:22:48] [INFO] [CastleLevel] Child 'UziEnemy2': script=true, has_died_signal=true
[07:22:48] [INFO] [CastleLevel] Child 'UziEnemy3': script=true, has_died_signal=true
[07:22:48] [INFO] [CastleLevel] Child 'UziEnemyRight1': script=true, has_died_signal=true
[07:22:48] [INFO] [CastleLevel] Child 'ShotgunEnemyRight1': script=true, has_died_signal=true
[07:22:48] [INFO] [CastleLevel] Child 'UziEnemyCenter1': script=true, has_died_signal=true
[07:22:48] [INFO] [CastleLevel] Child 'UziEnemyCenter2': script=true, has_died_signal=true
[07:22:48] [INFO] [CastleLevel] Child 'PatrolEnemy1': script=true, has_died_signal=true
[07:22:48] [INFO] [CastleLevel] Child 'PatrolEnemy2': script=true, has_died_signal=true
[07:22:48] [INFO] [CastleLevel] Child 'LowerEnemy1': script=true, has_died_signal=true
[07:22:48] [INFO] [CastleLevel] Child 'LowerEnemy2': script=true, has_died_signal=true
[07:22:48] [INFO] [CastleLevel] Enemy tracking complete: 13 enemies registered
[07:22:48] [INFO] [ScoreManager] Level started with 13 enemies
[07:22:48] [INFO] [BloodyFeet:ShotgunEnemy1] Blood detector created and attached to ShotgunEnemy1
[07:22:48] [INFO] [CinemaEffects] Found player node: Player
[07:22:48] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[07:22:48] [INFO] [SoundPropagation] Registered listener: ShotgunEnemy1 (total: 14)
[07:22:48] [ENEMY] [ShotgunEnemy1] Registered as sound listener
[07:22:48] [ENEMY] [ShotgunEnemy1] Spawned at (1000, 500), hp: 3, behavior: GUARD
[07:22:48] [INFO] [BloodyFeet:ShotgunEnemy2] Blood detector created and attached to ShotgunEnemy2
[07:22:48] [INFO] [SoundPropagation] Registered listener: ShotgunEnemy2 (total: 15)
[07:22:48] [ENEMY] [ShotgunEnemy2] Registered as sound listener
[07:22:48] [ENEMY] [ShotgunEnemy2] Spawned at (1400, 500), hp: 2, behavior: GUARD
[07:22:48] [INFO] [BloodyFeet:UziEnemy1] Blood detector created and attached to UziEnemy1
[07:22:48] [INFO] [SoundPropagation] Registered listener: UziEnemy1 (total: 16)
[07:22:48] [ENEMY] [UziEnemy1] Registered as sound listener
[07:22:48] [ENEMY] [UziEnemy1] Spawned at (2500, 550), hp: 2, behavior: GUARD
[07:22:48] [INFO] [BloodyFeet:UziEnemy2] Blood detector created and attached to UziEnemy2
[07:22:48] [INFO] [SoundPropagation] Registered listener: UziEnemy2 (total: 17)
[07:22:48] [ENEMY] [UziEnemy2] Registered as sound listener
[07:22:48] [ENEMY] [UziEnemy2] Spawned at (3500, 550), hp: 4, behavior: GUARD
[07:22:48] [INFO] [BloodyFeet:UziEnemy3] Blood detector created and attached to UziEnemy3
[07:22:48] [INFO] [SoundPropagation] Registered listener: UziEnemy3 (total: 18)
[07:22:48] [ENEMY] [UziEnemy3] Registered as sound listener
[07:22:48] [ENEMY] [UziEnemy3] Spawned at (3000, 300), hp: 2, behavior: GUARD
[07:22:48] [INFO] [BloodyFeet:UziEnemyRight1] Blood detector created and attached to UziEnemyRight1
[07:22:48] [INFO] [SoundPropagation] Registered listener: UziEnemyRight1 (total: 19)
[07:22:48] [ENEMY] [UziEnemyRight1] Registered as sound listener
[07:22:48] [ENEMY] [UziEnemyRight1] Spawned at (4800, 500), hp: 3, behavior: GUARD
[07:22:48] [INFO] [BloodyFeet:ShotgunEnemyRight1] Blood detector created and attached to ShotgunEnemyRight1
[07:22:48] [INFO] [SoundPropagation] Registered listener: ShotgunEnemyRight1 (total: 20)
[07:22:48] [ENEMY] [ShotgunEnemyRight1] Registered as sound listener
[07:22:48] [ENEMY] [ShotgunEnemyRight1] Spawned at (5000, 500), hp: 2, behavior: GUARD
[07:22:48] [INFO] [BloodyFeet:UziEnemyCenter1] Blood detector created and attached to UziEnemyCenter1
[07:22:48] [INFO] [SoundPropagation] Registered listener: UziEnemyCenter1 (total: 21)
[07:22:48] [ENEMY] [UziEnemyCenter1] Registered as sound listener
[07:22:48] [ENEMY] [UziEnemyCenter1] Spawned at (2200, 1050), hp: 4, behavior: GUARD
[07:22:48] [INFO] [BloodyFeet:UziEnemyCenter2] Blood detector created and attached to UziEnemyCenter2
[07:22:48] [INFO] [SoundPropagation] Registered listener: UziEnemyCenter2 (total: 22)
[07:22:48] [ENEMY] [UziEnemyCenter2] Registered as sound listener
[07:22:48] [ENEMY] [UziEnemyCenter2] Spawned at (3800, 1050), hp: 4, behavior: GUARD
[07:22:48] [INFO] [BloodyFeet:PatrolEnemy1] Blood detector created and attached to PatrolEnemy1
[07:22:48] [INFO] [SoundPropagation] Registered listener: PatrolEnemy1 (total: 23)
[07:22:48] [ENEMY] [PatrolEnemy1] Registered as sound listener
[07:22:48] [ENEMY] [PatrolEnemy1] Spawned at (1100, 1050), hp: 2, behavior: PATROL
[07:22:48] [INFO] [BloodyFeet:PatrolEnemy2] Blood detector created and attached to PatrolEnemy2
[07:22:48] [INFO] [SoundPropagation] Registered listener: PatrolEnemy2 (total: 24)
[07:22:48] [ENEMY] [PatrolEnemy2] Registered as sound listener
[07:22:48] [ENEMY] [PatrolEnemy2] Spawned at (4900, 1050), hp: 3, behavior: PATROL
[07:22:48] [INFO] [BloodyFeet:LowerEnemy1] Blood detector created and attached to LowerEnemy1
[07:22:48] [INFO] [SoundPropagation] Registered listener: LowerEnemy1 (total: 25)
[07:22:48] [ENEMY] [LowerEnemy1] Registered as sound listener
[07:22:48] [ENEMY] [LowerEnemy1] Spawned at (2150, 1250), hp: 4, behavior: GUARD
[07:22:48] [INFO] [BloodyFeet:LowerEnemy2] Blood detector created and attached to LowerEnemy2
[07:22:48] [INFO] [SoundPropagation] Registered listener: LowerEnemy2 (total: 26)
[07:22:48] [ENEMY] [LowerEnemy2] Registered as sound listener
[07:22:48] [ENEMY] [LowerEnemy2] Spawned at (3850, 1250), hp: 2, behavior: GUARD
[07:22:48] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[07:22:48] [ENEMY] [ShotgunEnemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(3000,2100), corner_timer=0.00
[07:22:48] [ENEMY] [ShotgunEnemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(3000,2100), corner_timer=0.00
[07:22:48] [ENEMY] [UziEnemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=337.5°, current=0.0°, player=(3000,2100), corner_timer=0.00
[07:22:48] [ENEMY] [UziEnemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=337.5°, current=0.0°, player=(3000,2100), corner_timer=0.00
[07:22:48] [ENEMY] [UziEnemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(3000,2100), corner_timer=0.00
[07:22:48] [ENEMY] [UziEnemyRight1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=337.5°, current=0.0°, player=(3000,2100), corner_timer=0.00
[07:22:48] [ENEMY] [ShotgunEnemyRight1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=337.5°, current=0.0°, player=(3000,2100), corner_timer=0.00
[07:22:48] [ENEMY] [UziEnemyCenter1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=281.3°, current=0.0°, player=(3000,2100), corner_timer=0.00
[07:22:48] [ENEMY] [UziEnemyCenter2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(3000,2100), corner_timer=0.00
[07:22:48] [ENEMY] [LowerEnemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(3000,2100), corner_timer=0.00
[07:22:48] [ENEMY] [LowerEnemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=315.0°, current=0.0°, player=(3000,2100), corner_timer=0.00
[07:22:48] [INFO] [Player] Detecting weapon pose (frame 3)...
[07:22:48] [INFO] [Player] Detected weapon: Rifle (default pose)
[07:22:48] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[07:22:48] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[07:22:48] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[07:22:48] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[07:22:48] [INFO] [LastChance] Found player: Player
[07:22:48] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[07:22:48] [INFO] [LastChance] Connected to player Damaged signal (C#)
[07:22:48] [INFO] [LastChance] Connected to player Died signal (C#)
[07:22:48] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[07:22:48] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[07:22:48] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[07:22:48] [INFO] [Player.Grenade] G pressed - starting grab animation
[07:22:48] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[07:22:48] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (2412.1086, 1763.3766)
[07:22:48] [INFO] [GrenadeBase] CCD enabled (mode: CAST_RAY) to prevent wall tunneling
[07:22:48] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[07:22:48] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[07:22:48] [INFO] [GrenadeTimer] Initialized for Frag grenade, effect radius: 225
[07:22:48] [INFO] [Player.Grenade] Added GrenadeTimer component (type: Frag)
[07:22:48] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[07:22:48] [INFO] [GrenadeTimer] Timer activated! 4 seconds until explosion
[07:22:48] [INFO] [Player.Grenade] Timer started, grenade created at (3000, 2100)
[07:22:48] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[07:22:48] [INFO] [Player.Grenade] Step 1 complete! Drag: (80.16699, 20.03711)
[07:22:48] [ENEMY] [UziEnemyCenter2] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=127.3°, current=77.3°, player=(3000,2100), corner_timer=0.00
[07:22:48] [ENEMY] [UziEnemyCenter2] State: IDLE -> COMBAT
[07:22:48] [ENEMY] [UziEnemyCenter2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=127.3°, current=-149.6°, player=(3000,2100), corner_timer=0.00
[07:22:48] [ENEMY] [LowerEnemy2] Memory: high confidence (0.90) - transitioning to PURSUING
[07:22:48] [ENEMY] [LowerEnemy2] State: IDLE -> PURSUING
[07:22:48] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[07:22:48] [INFO] [Player.Grenade.Simple] RMB pressed after pin pull - starting trajectory aiming
[07:22:48] [ENEMY] [UziEnemy2] Memory: high confidence (0.90) - transitioning to PURSUING
[07:22:48] [ENEMY] [UziEnemy2] State: IDLE -> PURSUING
[07:22:48] [ENEMY] [LowerEnemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=135.0°, current=-45.0°, player=(3000,2100), corner_timer=0.00
[07:22:48] [ENEMY] [UziEnemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=107.9°, current=-22.5°, player=(3000,2100), corner_timer=0.00
[07:22:48] [ENEMY] [LowerEnemy2] PURSUING corner check: angle 0.0°
[07:22:48] [ENEMY] [UziEnemy2] PURSUING corner check: angle 27.0°
[07:22:48] [INFO] [ReplayManager] Recording frame 1440 (24,1s): player_valid=False, enemies=10
[07:22:48] [ENEMY] [UziEnemyCenter2] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=127.3°, current=176.0°, player=(3000,2100), corner_timer=0.00
[07:22:48] [INFO] [Player.Grenade.Simple] Throwing! Target: (3029.3945, 2007.8293), Distance: 42,6, Speed: 154,5, Friction: 280,0
[07:22:48] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -1,2620786
[07:22:48] [INFO] [GrenadeTimer] Grenade marked as thrown - impact detection enabled
[07:22:48] [INFO] [Player.Grenade.Simple] C# set velocity directly: dir=(0.3038372, -0.952724), speed=154,5, spawn=(3018.2302, 2042.8365)
[07:22:48] [INFO] [GrenadeBase] Simple mode throw! Dir: (0.303837, -0.952724), Speed: 154.5 (clamped from 154.5, max: 1186.5)
[07:22:48] [INFO] [FragGrenade] Grenade thrown (simple mode) - impact detection enabled
[07:22:48] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[07:22:48] [INFO] [Player.Grenade.Simple] Grenade thrown!
[07:22:48] [INFO] [Player.Grenade] State reset to IDLE
[07:22:48] [INFO] [Player.Grenade] State reset to IDLE
[07:22:48] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[07:22:48] [INFO] [Player.Grenade] Player rotation restored to 0
[07:22:48] [ENEMY] [UziEnemy2] PURSUING corner check: angle 27.0°
[07:22:48] [ENEMY] [LowerEnemy2] PURSUING corner check: angle 0.2°
[07:22:48] [INFO] [GrenadeTimer] Frag grenade landed - EXPLODING!
[07:22:48] [INFO] [GrenadeTimer] EXPLODED at (3023.9724, 2024.8304)!
[07:22:48] [INFO] [GrenadeTimer] Applying frag explosion damage (radius: 225, damage: 99)
[07:22:48] [INFO] [Player] Spawning blood effect at (3000, 2100), dir=(-0.3038346, 0.95272475), lethal=False (C#)
[07:22:48] [INFO] [ImpactEffects] spawn_blood_effect called at (3000, 2100), dir=(-0.303835, 0.952725), lethal=false
[07:22:48] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[07:22:48] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[07:22:48] [INFO] [ImpactEffects] Blood effect spawned at (3000, 2100) (scale=1)
[07:22:48] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 9.0
[07:22:48] [INFO] [LastChance] Player health updated (C# Damaged): 9.0
[07:22:48] [INFO] [Player] Spawning blood effect at (3000, 2100), dir=(-0.3038346, 0.95272475), lethal=False (C#)
[07:22:48] [INFO] [ImpactEffects] spawn_blood_effect called at (3000, 2100), dir=(-0.303835, 0.952725), lethal=false
[07:22:48] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[07:22:48] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[07:22:48] [INFO] [ImpactEffects] Blood effect spawned at (3000, 2100) (scale=1)
[07:22:48] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 8.0
[07:22:48] [INFO] [LastChance] Player health updated (C# Damaged): 8.0
[07:22:48] [INFO] [Player] Spawning blood effect at (3000, 2100), dir=(-0.3038346, 0.95272475), lethal=False (C#)
[07:22:48] [INFO] [ImpactEffects] spawn_blood_effect called at (3000, 2100), dir=(-0.303835, 0.952725), lethal=false
[07:22:48] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[07:22:48] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[07:22:48] [INFO] [ImpactEffects] Blood effect spawned at (3000, 2100) (scale=1)
[07:22:48] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 7.0
[07:22:48] [INFO] [LastChance] Player health updated (C# Damaged): 7.0
[07:22:48] [INFO] [Player] Spawning blood effect at (3000, 2100), dir=(-0.3038346, 0.95272475), lethal=False (C#)
[07:22:48] [INFO] [ImpactEffects] spawn_blood_effect called at (3000, 2100), dir=(-0.303835, 0.952725), lethal=false
[07:22:48] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[07:22:48] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[07:22:48] [INFO] [ImpactEffects] Blood effect spawned at (3000, 2100) (scale=1)
[07:22:48] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 6.0
[07:22:48] [INFO] [LastChance] Player health updated (C# Damaged): 6.0
[07:22:48] [INFO] [Player] Spawning blood effect at (3000, 2100), dir=(-0.3038346, 0.95272475), lethal=False (C#)
[07:22:48] [INFO] [ImpactEffects] spawn_blood_effect called at (3000, 2100), dir=(-0.303835, 0.952725), lethal=false
[07:22:48] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[07:22:48] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[07:22:48] [INFO] [ImpactEffects] Blood effect spawned at (3000, 2100) (scale=1)
[07:22:48] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 5.0
[07:22:48] [INFO] [LastChance] Player health updated (C# Damaged): 5.0
[07:22:48] [INFO] [Player] Spawning blood effect at (3000, 2100), dir=(-0.3038346, 0.95272475), lethal=False (C#)
[07:22:48] [INFO] [ImpactEffects] spawn_blood_effect called at (3000, 2100), dir=(-0.303835, 0.952725), lethal=false
[07:22:48] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[07:22:48] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[07:22:48] [INFO] [ImpactEffects] Blood effect spawned at (3000, 2100) (scale=1)
[07:22:48] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 4.0
[07:22:48] [INFO] [LastChance] Player health updated (C# Damaged): 4.0
[07:22:48] [INFO] [Player] Spawning blood effect at (3000, 2100), dir=(-0.3038346, 0.95272475), lethal=False (C#)
[07:22:48] [INFO] [ImpactEffects] spawn_blood_effect called at (3000, 2100), dir=(-0.303835, 0.952725), lethal=false
[07:22:48] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[07:22:48] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[07:22:48] [INFO] [ImpactEffects] Blood effect spawned at (3000, 2100) (scale=1)
[07:22:48] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[07:22:48] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[07:22:48] [INFO] [Player] Spawning blood effect at (3000, 2100), dir=(-0.3038346, 0.95272475), lethal=False (C#)
[07:22:48] [INFO] [ImpactEffects] spawn_blood_effect called at (3000, 2100), dir=(-0.303835, 0.952725), lethal=false
[07:22:48] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[07:22:48] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[07:22:48] [INFO] [ImpactEffects] Blood effect spawned at (3000, 2100) (scale=1)
[07:22:48] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[07:22:48] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[07:22:48] [INFO] [Player] Spawning blood effect at (3000, 2100), dir=(-0.3038346, 0.95272475), lethal=False (C#)
[07:22:48] [INFO] [ImpactEffects] spawn_blood_effect called at (3000, 2100), dir=(-0.303835, 0.952725), lethal=false
[07:22:48] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[07:22:48] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[07:22:48] [INFO] [ImpactEffects] Blood effect spawned at (3000, 2100) (scale=1)
[07:22:48] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[07:22:48] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[07:22:48] [INFO] [PenultimateHit] Starting penultimate hit effect:
[07:22:48] [INFO] [PenultimateHit]   - Time scale: 0.10
[07:22:48] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[07:22:48] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[07:22:48] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[07:22:48] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[07:22:48] [INFO] [PenultimateHit] Applying saturation to 13 enemies
[07:22:48] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[07:22:48] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[07:22:48] [INFO] [Player] Spawning blood effect at (3000, 2100), dir=(-0.3038346, 0.95272475), lethal=True (C#)
[07:22:48] [INFO] [ImpactEffects] spawn_blood_effect called at (3000, 2100), dir=(-0.303835, 0.952725), lethal=true
[07:22:48] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[07:22:48] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[07:22:48] [INFO] [ImpactEffects] Blood effect spawned at (3000, 2100) (scale=1.5)
[07:22:48] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[07:22:48] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[07:22:48] [INFO] [CinemaEffects] Player died - triggering death effects
[07:22:48] [INFO] [CinemaEffects] Death effects triggered - starting cigarette burn, expanding spots, and end of reel (top-right)
[07:22:48] [INFO] [PenultimateHit] Player died - ending penultimate effect
[07:22:48] [INFO] [PenultimateHit] Ending penultimate hit effect
[07:22:48] [INFO] [PenultimateHit] Starting visual effects fade-out over 400ms
[07:22:48] [INFO] [LastChance] Player died
[07:22:48] [INFO] [GrenadeTimer] Damaged player at distance 78,9
[07:22:48] [INFO] [GrenadeTimer] Spawned 4 shrapnel pieces
[07:22:48] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(3023.972, 2024.83), source=NEUTRAL (FragGrenade), range=2938, listeners=26
[07:22:48] [INFO] [SoundPropagation] Cleaned up 13 invalid listeners
[07:22:48] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=13
[07:22:48] [INFO] [GrenadeTimer] Spawned PointLight2D frag explosion flash at (3023.9724, 2024.8304) (shadow-based wall occlusion)
[07:22:48] [ENEMY] [LowerEnemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=140.3°, current=114.0°, player=(3000,2100), corner_timer=0.27
[07:22:48] [ENEMY] [LowerEnemy2] State: PURSUING -> COMBAT
[07:22:48] [ENEMY] [UziEnemy3] Memory: medium confidence (0.76) - transitioning to PURSUING
[07:22:48] [ENEMY] [UziEnemy3] State: IDLE -> PURSUING
[07:22:49] [ENEMY] [UziEnemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=90.0°, current=11.3°, player=(3000,2100), corner_timer=0.00
[07:22:49] [ENEMY] [UziEnemy3] PURSUING_MEMORY corner check: angle -81.4°
[07:22:49] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[07:22:49] [INFO] [BloodDecal] Blood puddle created at (2964.732, 2167.778) (added to group)
[07:22:49] [INFO] [BloodDecal] Blood puddle created at (2957.965, 2177.163) (added to group)
[07:22:49] [INFO] [BloodDecal] Blood puddle created at (2944.027, 2176.692) (added to group)
[07:22:49] [INFO] [BloodDecal] Blood puddle created at (2957.219, 2185.262) (added to group)
[07:22:49] [INFO] [BloodDecal] Blood puddle created at (2942.781, 2181.562) (added to group)
[07:22:49] [INFO] [BloodDecal] Blood puddle created at (2975.965, 2200.315) (added to group)
[07:22:49] [INFO] [BloodDecal] Blood puddle created at (2967.811, 2169.56) (added to group)
[07:22:49] [INFO] [BloodDecal] Blood puddle created at (3005.748, 2188.339) (added to group)
[07:22:49] [INFO] [BloodDecal] Blood puddle created at (2990.598, 2157.71) (added to group)
[07:22:49] [INFO] [BloodDecal] Blood puddle created at (2996.028, 2170.846) (added to group)
[07:22:49] [INFO] [BloodDecal] Blood puddle created at (3004.998, 2174.435) (added to group)
[07:22:49] [INFO] [BloodDecal] Blood puddle created at (2989.499, 2212.328) (added to group)
[07:22:49] [INFO] [BloodDecal] Blood puddle created at (2955.492, 2174.096) (added to group)
[07:22:49] [INFO] [BloodDecal] Blood puddle created at (2987.103, 2209.34) (added to group)
[07:22:49] [INFO] [BloodDecal] Blood puddle created at (2947.947, 2192.915) (added to group)
[07:22:49] [INFO] [BloodDecal] Blood puddle created at (2999.985, 2176.109) (added to group)
[07:22:49] [INFO] [BloodDecal] Blood puddle created at (2973.281, 2157.213) (added to group)
[07:22:49] [INFO] [BloodDecal] Blood puddle created at (2973.848, 2158.773) (added to group)
[07:22:49] [INFO] [BloodDecal] Blood puddle created at (2986.518, 2168.485) (added to group)
[07:22:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3648.086, 1249.388), source=ENEMY (UziEnemyCenter2), range=1200, listeners=13
[07:22:49] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=10, self=1, below_threshold=1
[07:22:49] [INFO] [BloodDecal] Blood puddle created at (2931.017, 2192.942) (added to group)
[07:22:49] [INFO] [BloodDecal] Blood puddle created at (2959.772, 2214.642) (added to group)
[07:22:49] [INFO] [BloodDecal] Blood puddle created at (2953.663, 2179.743) (added to group)
[07:22:49] [INFO] [BloodDecal] Blood puddle created at (2952.419, 2182.947) (added to group)
[07:22:49] [INFO] [BloodDecal] Blood puddle created at (3001.054, 2205.902) (added to group)
[07:22:49] [INFO] [BloodDecal] Blood puddle created at (3006.908, 2235.638) (added to group)
[07:22:49] [INFO] [BloodDecal] Blood puddle created at (2960.417, 2212.328) (added to group)
[07:22:49] [INFO] [BloodDecal] Blood puddle created at (2960.594, 2186.88) (added to group)
[07:22:49] [INFO] [BloodDecal] Blood puddle created at (2990.092, 2215.634) (added to group)
[07:22:49] [INFO] [BloodDecal] Blood puddle created at (2981.05, 2182.347) (added to group)
[07:22:49] [INFO] [BloodDecal] Blood puddle created at (2951.391, 2175.791) (added to group)
[07:22:49] [INFO] [BloodDecal] Blood puddle created at (2997.992, 2219.185) (added to group)
[07:22:49] [INFO] [BloodDecal] Blood puddle created at (2960.532, 2209.005) (added to group)
[07:22:49] [INFO] [BloodDecal] Blood puddle created at (2997.435, 2233.573) (added to group)
[07:22:49] [INFO] [BloodDecal] Blood puddle created at (3014.575, 2221.492) (added to group)
[07:22:49] [INFO] [BloodDecal] Blood puddle created at (2993.909, 2190.845) (added to group)
[07:22:49] [INFO] [BloodDecal] Blood puddle created at (2943.322, 2240.125) (added to group)
[07:22:49] [INFO] [BloodDecal] Blood puddle created at (2961.498, 2175.495) (added to group)
[07:22:49] [INFO] [BloodDecal] Blood puddle created at (2975.832, 2243.523) (added to group)
[07:22:49] [INFO] [BloodDecal] Blood puddle created at (2972.259, 2212.916) (added to group)
[07:22:49] [INFO] [BloodDecal] Blood puddle created at (2962.886, 2230.337) (added to group)
[07:22:49] [INFO] [BloodDecal] Blood puddle created at (3006.793, 2188.833) (added to group)
[07:22:49] [INFO] [BloodDecal] Blood puddle created at (2992.461, 2252.528) (added to group)
[07:22:49] [INFO] [BloodDecal] Blood puddle created at (3011.312, 2223.692) (added to group)
[07:22:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3635.122, 1266.329), source=ENEMY (UziEnemyCenter2), range=1200, listeners=13
[07:22:49] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=10, self=1, below_threshold=1
[07:22:49] [INFO] [BloodDecal] Blood puddle created at (2974.054, 2190.191) (added to group)
[07:22:49] [INFO] [BloodDecal] Blood puddle created at (2974.39, 2187.158) (added to group)
[07:22:49] [INFO] [BloodDecal] Blood puddle created at (2934.03, 2217.587) (added to group)
[07:22:49] [INFO] [BloodDecal] Blood puddle created at (2950.394, 2206.228) (added to group)
[07:22:49] [INFO] [BloodDecal] Blood puddle created at (2970.6, 2251.8) (added to group)
[07:22:49] [INFO] [BloodDecal] Blood puddle created at (2935.57, 2211.908) (added to group)
[07:22:49] [INFO] [BloodDecal] Blood puddle created at (2963.742, 2257.865) (added to group)
[07:22:49] [INFO] [BloodDecal] Blood puddle created at (2909.354, 2226.149) (added to group)
[07:22:49] [ENEMY] [UziEnemy3] PURSUING_MEMORY corner check: angle -113.7°
[07:22:49] [INFO] [PenultimateHit] Visual effects fade-out complete
[07:22:49] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[07:22:49] [INFO] [PenultimateHit] Called player RefreshHealthVisual (C#)
[07:22:49] [INFO] [BloodDecal] Blood puddle created at (2937.401, 2254.574) (added to group)
[07:22:49] [INFO] [BloodDecal] Blood puddle created at (2945.344, 2195.801) (added to group)
[07:22:49] [INFO] [BloodDecal] Blood puddle created at (2933.679, 2218.746) (added to group)
[07:22:49] [INFO] [BloodDecal] Blood puddle created at (2978.574, 2233.868) (added to group)
[07:22:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(3622.055, 1283.193), source=ENEMY (UziEnemyCenter2), range=1200, listeners=13
[07:22:49] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=10, self=1, below_threshold=1
[07:22:49] [INFO] [BloodDecal] Blood puddle created at (2970.073, 2291.871) (added to group)
[07:22:49] [INFO] [BloodDecal] Blood puddle created at (2941.685, 2222.955) (added to group)
[07:22:49] [INFO] [BloodDecal] Blood puddle created at (2907.984, 2250.741) (added to group)
[07:22:49] [INFO] [BloodDecal] Blood puddle created at (2915.138, 2232.762) (added to group)
[07:22:49] [INFO] [BloodDecal] Blood puddle created at (2956.209, 2234.527) (added to group)
[07:22:49] [INFO] [BloodDecal] Blood puddle created at (3003.517, 2282.282) (added to group)
[07:22:49] [INFO] [BloodDecal] Blood puddle created at (2916.312, 2236.668) (added to group)
[07:22:49] [INFO] [BloodDecal] Blood puddle created at (2948.418, 2290.942) (added to group)
[07:22:49] [INFO] [BloodDecal] Blood puddle created at (3011.937, 2292.195) (added to group)
[07:22:49] [ENEMY] [UziEnemy2] State: PURSUING -> RETREATING
[07:22:49] [INFO] [BloodDecal] Blood puddle created at (2922.511, 2253.628) (added to group)
[07:22:49] [INFO] [BloodDecal] Blood puddle created at (2974.798, 2287.78) (added to group)
[07:22:49] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[07:22:49] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:22:49] [INFO] [BloodyFeet:ShotgunEnemy1] Footprint scene loaded
[07:22:49] [INFO] [BloodyFeet:ShotgunEnemy1] Found EnemyModel for facing direction
[07:22:49] [INFO] [BloodyFeet:ShotgunEnemy1] BloodyFeetComponent ready on ShotgunEnemy1
[07:22:49] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[07:22:49] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[07:22:49] [INFO] [LastChance] Resetting all effects (scene change detected)
[07:22:49] [INFO] [CinemaEffects] Scene changed to: CastleLevel
[07:22:49] [INFO] [CinemaEffects] Death effects reset
[07:22:49] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[07:22:49] [ENEMY] [ShotgunEnemy1] Death animation component initialized
[07:22:49] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:22:49] [INFO] [BloodyFeet:ShotgunEnemy2] Footprint scene loaded
[07:22:49] [INFO] [BloodyFeet:ShotgunEnemy2] Found EnemyModel for facing direction
[07:22:49] [INFO] [BloodyFeet:ShotgunEnemy2] BloodyFeetComponent ready on ShotgunEnemy2
[07:22:49] [ENEMY] [ShotgunEnemy2] Death animation component initialized
[07:22:49] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:22:49] [INFO] [BloodyFeet:UziEnemy1] Footprint scene loaded
[07:22:49] [INFO] [BloodyFeet:UziEnemy1] Found EnemyModel for facing direction
[07:22:49] [INFO] [BloodyFeet:UziEnemy1] BloodyFeetComponent ready on UziEnemy1
[07:22:49] [ENEMY] [UziEnemy1] Death animation component initialized
[07:22:49] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:22:49] [INFO] [BloodyFeet:UziEnemy2] Footprint scene loaded
[07:22:49] [INFO] [BloodyFeet:UziEnemy2] Found EnemyModel for facing direction
[07:22:49] [INFO] [BloodyFeet:UziEnemy2] BloodyFeetComponent ready on UziEnemy2
[07:22:49] [ENEMY] [UziEnemy2] Death animation component initialized
[07:22:49] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:22:49] [INFO] [BloodyFeet:UziEnemy3] Footprint scene loaded
[07:22:49] [INFO] [BloodyFeet:UziEnemy3] Found EnemyModel for facing direction
[07:22:49] [INFO] [BloodyFeet:UziEnemy3] BloodyFeetComponent ready on UziEnemy3
[07:22:49] [ENEMY] [UziEnemy3] Death animation component initialized
[07:22:49] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:22:49] [INFO] [BloodyFeet:UziEnemyRight1] Footprint scene loaded
[07:22:49] [INFO] [BloodyFeet:UziEnemyRight1] Found EnemyModel for facing direction
[07:22:49] [INFO] [BloodyFeet:UziEnemyRight1] BloodyFeetComponent ready on UziEnemyRight1
[07:22:49] [ENEMY] [UziEnemyRight1] Death animation component initialized
[07:22:49] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:22:49] [INFO] [BloodyFeet:ShotgunEnemyRight1] Footprint scene loaded
[07:22:49] [INFO] [BloodyFeet:ShotgunEnemyRight1] Found EnemyModel for facing direction
[07:22:49] [INFO] [BloodyFeet:ShotgunEnemyRight1] BloodyFeetComponent ready on ShotgunEnemyRight1
[07:22:49] [ENEMY] [ShotgunEnemyRight1] Death animation component initialized
[07:22:49] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:22:49] [INFO] [BloodyFeet:UziEnemyCenter1] Footprint scene loaded
[07:22:49] [INFO] [BloodyFeet:UziEnemyCenter1] Found EnemyModel for facing direction
[07:22:49] [INFO] [BloodyFeet:UziEnemyCenter1] BloodyFeetComponent ready on UziEnemyCenter1
[07:22:49] [ENEMY] [UziEnemyCenter1] Death animation component initialized
[07:22:49] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:22:49] [INFO] [BloodyFeet:UziEnemyCenter2] Footprint scene loaded
[07:22:49] [INFO] [BloodyFeet:UziEnemyCenter2] Found EnemyModel for facing direction
[07:22:49] [INFO] [BloodyFeet:UziEnemyCenter2] BloodyFeetComponent ready on UziEnemyCenter2
[07:22:49] [ENEMY] [UziEnemyCenter2] Death animation component initialized
[07:22:49] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:22:49] [INFO] [BloodyFeet:PatrolEnemy1] Footprint scene loaded
[07:22:49] [INFO] [BloodyFeet:PatrolEnemy1] Found EnemyModel for facing direction
[07:22:49] [INFO] [BloodyFeet:PatrolEnemy1] BloodyFeetComponent ready on PatrolEnemy1
[07:22:49] [ENEMY] [PatrolEnemy1] Death animation component initialized
[07:22:49] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:22:49] [INFO] [BloodyFeet:PatrolEnemy2] Footprint scene loaded
[07:22:49] [INFO] [BloodyFeet:PatrolEnemy2] Found EnemyModel for facing direction
[07:22:49] [INFO] [BloodyFeet:PatrolEnemy2] BloodyFeetComponent ready on PatrolEnemy2
[07:22:49] [ENEMY] [PatrolEnemy2] Death animation component initialized
[07:22:49] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:22:49] [INFO] [BloodyFeet:LowerEnemy1] Footprint scene loaded
[07:22:49] [INFO] [BloodyFeet:LowerEnemy1] Found EnemyModel for facing direction
[07:22:49] [INFO] [BloodyFeet:LowerEnemy1] BloodyFeetComponent ready on LowerEnemy1
[07:22:49] [ENEMY] [LowerEnemy1] Death animation component initialized
[07:22:49] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:22:49] [INFO] [BloodyFeet:LowerEnemy2] Footprint scene loaded
[07:22:49] [INFO] [BloodyFeet:LowerEnemy2] Found EnemyModel for facing direction
[07:22:49] [INFO] [BloodyFeet:LowerEnemy2] BloodyFeetComponent ready on LowerEnemy2
[07:22:49] [ENEMY] [LowerEnemy2] Death animation component initialized
[07:22:49] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:22:49] [INFO] [BloodyFeet:Player] Footprint scene loaded
[07:22:49] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[07:22:49] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[07:22:49] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[07:22:49] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[07:22:49] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[07:22:49] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[07:22:49] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[07:22:49] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[07:22:49] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[07:22:49] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[07:22:49] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 10/10
[07:22:49] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[07:22:49] [INFO] [CastleLevel] Found Environment/Enemies node with 13 children
[07:22:49] [INFO] [CastleLevel] Child 'ShotgunEnemy1': script=true, has_died_signal=true
[07:22:49] [INFO] [CastleLevel] Child 'ShotgunEnemy2': script=true, has_died_signal=true
[07:22:49] [INFO] [CastleLevel] Child 'UziEnemy1': script=true, has_died_signal=true
[07:22:49] [INFO] [CastleLevel] Child 'UziEnemy2': script=true, has_died_signal=true
[07:22:49] [INFO] [CastleLevel] Child 'UziEnemy3': script=true, has_died_signal=true
[07:22:49] [INFO] [CastleLevel] Child 'UziEnemyRight1': script=true, has_died_signal=true
[07:22:49] [INFO] [CastleLevel] Child 'ShotgunEnemyRight1': script=true, has_died_signal=true
[07:22:49] [INFO] [CastleLevel] Child 'UziEnemyCenter1': script=true, has_died_signal=true
[07:22:49] [INFO] [CastleLevel] Child 'UziEnemyCenter2': script=true, has_died_signal=true
[07:22:49] [INFO] [CastleLevel] Child 'PatrolEnemy1': script=true, has_died_signal=true
[07:22:49] [INFO] [CastleLevel] Child 'PatrolEnemy2': script=true, has_died_signal=true
[07:22:49] [INFO] [CastleLevel] Child 'LowerEnemy1': script=true, has_died_signal=true
[07:22:49] [INFO] [CastleLevel] Child 'LowerEnemy2': script=true, has_died_signal=true
[07:22:49] [INFO] [CastleLevel] Enemy tracking complete: 13 enemies registered
[07:22:49] [INFO] [ScoreManager] Level started with 13 enemies
[07:22:49] [INFO] [BloodDecal] Blood puddle created at (2935.057, 2250.081) (added to group)
[07:22:49] [INFO] [BloodDecal] Blood puddle created at (2966.388, 2326.14) (added to group)
[07:22:49] [INFO] [BloodDecal] Blood puddle created at (2987.158, 2263.51) (added to group)
[07:22:49] [INFO] [BloodDecal] Blood puddle created at (2922.407, 2304.708) (added to group)
[07:22:49] [INFO] [BloodDecal] Blood puddle created at (2942.407, 2220.49) (added to group)
[07:22:49] [INFO] [BloodDecal] Blood puddle created at (2936.017, 2254.427) (added to group)
[07:22:49] [INFO] [BloodDecal] Blood puddle created at (2923.027, 2329.169) (added to group)
[07:22:49] [INFO] [BloodyFeet:ShotgunEnemy1] Blood detector created and attached to ShotgunEnemy1
[07:22:49] [INFO] [CinemaEffects] Found player node: Player
[07:22:49] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[07:22:49] [INFO] [SoundPropagation] Registered listener: ShotgunEnemy1 (total: 14)
[07:22:49] [ENEMY] [ShotgunEnemy1] Registered as sound listener
[07:22:49] [ENEMY] [ShotgunEnemy1] Spawned at (1000, 500), hp: 3, behavior: GUARD
[07:22:49] [INFO] [BloodyFeet:ShotgunEnemy2] Blood detector created and attached to ShotgunEnemy2
[07:22:49] [INFO] [SoundPropagation] Registered listener: ShotgunEnemy2 (total: 15)
[07:22:49] [ENEMY] [ShotgunEnemy2] Registered as sound listener
[07:22:49] [ENEMY] [ShotgunEnemy2] Spawned at (1400, 500), hp: 3, behavior: GUARD
[07:22:49] [INFO] [BloodyFeet:UziEnemy1] Blood detector created and attached to UziEnemy1
[07:22:49] [INFO] [SoundPropagation] Registered listener: UziEnemy1 (total: 16)
[07:22:49] [ENEMY] [UziEnemy1] Registered as sound listener
[07:22:49] [ENEMY] [UziEnemy1] Spawned at (2500, 550), hp: 4, behavior: GUARD
[07:22:49] [INFO] [BloodyFeet:UziEnemy2] Blood detector created and attached to UziEnemy2
[07:22:49] [INFO] [SoundPropagation] Registered listener: UziEnemy2 (total: 17)
[07:22:49] [ENEMY] [UziEnemy2] Registered as sound listener
[07:22:49] [ENEMY] [UziEnemy2] Spawned at (3500, 550), hp: 3, behavior: GUARD
[07:22:49] [INFO] [BloodyFeet:UziEnemy3] Blood detector created and attached to UziEnemy3
[07:22:49] [INFO] [SoundPropagation] Registered listener: UziEnemy3 (total: 18)
[07:22:49] [ENEMY] [UziEnemy3] Registered as sound listener
[07:22:49] [ENEMY] [UziEnemy3] Spawned at (3000, 300), hp: 4, behavior: GUARD
[07:22:49] [INFO] [BloodyFeet:UziEnemyRight1] Blood detector created and attached to UziEnemyRight1
[07:22:49] [INFO] [SoundPropagation] Registered listener: UziEnemyRight1 (total: 19)
[07:22:49] [ENEMY] [UziEnemyRight1] Registered as sound listener
[07:22:49] [ENEMY] [UziEnemyRight1] Spawned at (4800, 500), hp: 4, behavior: GUARD
[07:22:49] [INFO] [BloodyFeet:ShotgunEnemyRight1] Blood detector created and attached to ShotgunEnemyRight1
[07:22:49] [INFO] [SoundPropagation] Registered listener: ShotgunEnemyRight1 (total: 20)
[07:22:49] [ENEMY] [ShotgunEnemyRight1] Registered as sound listener
[07:22:49] [ENEMY] [ShotgunEnemyRight1] Spawned at (5000, 500), hp: 2, behavior: GUARD
[07:22:49] [INFO] [BloodyFeet:UziEnemyCenter1] Blood detector created and attached to UziEnemyCenter1
[07:22:49] [INFO] [SoundPropagation] Registered listener: UziEnemyCenter1 (total: 21)
[07:22:49] [ENEMY] [UziEnemyCenter1] Registered as sound listener
[07:22:49] [ENEMY] [UziEnemyCenter1] Spawned at (2200, 1050), hp: 4, behavior: GUARD
[07:22:49] [INFO] [BloodyFeet:UziEnemyCenter2] Blood detector created and attached to UziEnemyCenter2
[07:22:49] [INFO] [SoundPropagation] Registered listener: UziEnemyCenter2 (total: 22)
[07:22:49] [ENEMY] [UziEnemyCenter2] Registered as sound listener
[07:22:49] [ENEMY] [UziEnemyCenter2] Spawned at (3800, 1050), hp: 3, behavior: GUARD
[07:22:49] [INFO] [BloodyFeet:PatrolEnemy1] Blood detector created and attached to PatrolEnemy1
[07:22:49] [INFO] [SoundPropagation] Registered listener: PatrolEnemy1 (total: 23)
[07:22:49] [ENEMY] [PatrolEnemy1] Registered as sound listener
[07:22:49] [ENEMY] [PatrolEnemy1] Spawned at (1100, 1050), hp: 2, behavior: PATROL
[07:22:49] [INFO] [BloodyFeet:PatrolEnemy2] Blood detector created and attached to PatrolEnemy2
[07:22:49] [INFO] [SoundPropagation] Registered listener: PatrolEnemy2 (total: 24)
[07:22:49] [ENEMY] [PatrolEnemy2] Registered as sound listener
[07:22:49] [ENEMY] [PatrolEnemy2] Spawned at (4900, 1050), hp: 2, behavior: PATROL
[07:22:49] [INFO] [BloodyFeet:LowerEnemy1] Blood detector created and attached to LowerEnemy1
[07:22:49] [INFO] [SoundPropagation] Registered listener: LowerEnemy1 (total: 25)
[07:22:49] [ENEMY] [LowerEnemy1] Registered as sound listener
[07:22:49] [ENEMY] [LowerEnemy1] Spawned at (2150, 1250), hp: 2, behavior: GUARD
[07:22:49] [INFO] [BloodyFeet:LowerEnemy2] Blood detector created and attached to LowerEnemy2
[07:22:49] [INFO] [SoundPropagation] Registered listener: LowerEnemy2 (total: 26)
[07:22:49] [ENEMY] [LowerEnemy2] Registered as sound listener
[07:22:49] [ENEMY] [LowerEnemy2] Spawned at (3850, 1250), hp: 4, behavior: GUARD
[07:22:49] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[07:22:49] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[07:22:49] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[07:22:49] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:22:49] [INFO] [BloodyFeet:ShotgunEnemy1] Footprint scene loaded
[07:22:49] [INFO] [BloodyFeet:ShotgunEnemy1] Found EnemyModel for facing direction
[07:22:49] [INFO] [BloodyFeet:ShotgunEnemy1] BloodyFeetComponent ready on ShotgunEnemy1
[07:22:49] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[07:22:49] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[07:22:49] [INFO] [LastChance] Resetting all effects (scene change detected)
[07:22:49] [INFO] [CinemaEffects] Scene changed to: CastleLevel
[07:22:49] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[07:22:49] [ENEMY] [ShotgunEnemy1] Death animation component initialized
[07:22:49] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:22:49] [INFO] [BloodyFeet:ShotgunEnemy2] Footprint scene loaded
[07:22:49] [INFO] [BloodyFeet:ShotgunEnemy2] Found EnemyModel for facing direction
[07:22:49] [INFO] [BloodyFeet:ShotgunEnemy2] BloodyFeetComponent ready on ShotgunEnemy2
[07:22:49] [ENEMY] [ShotgunEnemy2] Death animation component initialized
[07:22:49] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:22:49] [INFO] [BloodyFeet:UziEnemy1] Footprint scene loaded
[07:22:49] [INFO] [BloodyFeet:UziEnemy1] Found EnemyModel for facing direction
[07:22:49] [INFO] [BloodyFeet:UziEnemy1] BloodyFeetComponent ready on UziEnemy1
[07:22:49] [ENEMY] [UziEnemy1] Death animation component initialized
[07:22:49] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:22:49] [INFO] [BloodyFeet:UziEnemy2] Footprint scene loaded
[07:22:49] [INFO] [BloodyFeet:UziEnemy2] Found EnemyModel for facing direction
[07:22:49] [INFO] [BloodyFeet:UziEnemy2] BloodyFeetComponent ready on UziEnemy2
[07:22:49] [ENEMY] [UziEnemy2] Death animation component initialized
[07:22:49] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:22:49] [INFO] [BloodyFeet:UziEnemy3] Footprint scene loaded
[07:22:49] [INFO] [BloodyFeet:UziEnemy3] Found EnemyModel for facing direction
[07:22:49] [INFO] [BloodyFeet:UziEnemy3] BloodyFeetComponent ready on UziEnemy3
[07:22:49] [ENEMY] [UziEnemy3] Death animation component initialized
[07:22:49] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:22:49] [INFO] [BloodyFeet:UziEnemyRight1] Footprint scene loaded
[07:22:49] [INFO] [BloodyFeet:UziEnemyRight1] Found EnemyModel for facing direction
[07:22:49] [INFO] [BloodyFeet:UziEnemyRight1] BloodyFeetComponent ready on UziEnemyRight1
[07:22:49] [ENEMY] [UziEnemyRight1] Death animation component initialized
[07:22:49] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:22:49] [INFO] [BloodyFeet:ShotgunEnemyRight1] Footprint scene loaded
[07:22:49] [INFO] [BloodyFeet:ShotgunEnemyRight1] Found EnemyModel for facing direction
[07:22:49] [INFO] [BloodyFeet:ShotgunEnemyRight1] BloodyFeetComponent ready on ShotgunEnemyRight1
[07:22:49] [INFO] [EnemyGrenade] Initialized: 1 grenades
[07:22:49] [ENEMY] [ShotgunEnemyRight1] Death animation component initialized
[07:22:49] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:22:49] [INFO] [BloodyFeet:UziEnemyCenter1] Footprint scene loaded
[07:22:49] [INFO] [BloodyFeet:UziEnemyCenter1] Found EnemyModel for facing direction
[07:22:49] [INFO] [BloodyFeet:UziEnemyCenter1] BloodyFeetComponent ready on UziEnemyCenter1
[07:22:49] [ENEMY] [UziEnemyCenter1] Death animation component initialized
[07:22:49] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:22:49] [INFO] [BloodyFeet:UziEnemyCenter2] Footprint scene loaded
[07:22:49] [INFO] [BloodyFeet:UziEnemyCenter2] Found EnemyModel for facing direction
[07:22:49] [INFO] [BloodyFeet:UziEnemyCenter2] BloodyFeetComponent ready on UziEnemyCenter2
[07:22:49] [ENEMY] [UziEnemyCenter2] Death animation component initialized
[07:22:49] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:22:49] [INFO] [BloodyFeet:PatrolEnemy1] Footprint scene loaded
[07:22:49] [INFO] [BloodyFeet:PatrolEnemy1] Found EnemyModel for facing direction
[07:22:49] [INFO] [BloodyFeet:PatrolEnemy1] BloodyFeetComponent ready on PatrolEnemy1
[07:22:49] [INFO] [EnemyGrenade] Initialized: 1 grenades
[07:22:49] [ENEMY] [PatrolEnemy1] Death animation component initialized
[07:22:49] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:22:49] [INFO] [BloodyFeet:PatrolEnemy2] Footprint scene loaded
[07:22:49] [INFO] [BloodyFeet:PatrolEnemy2] Found EnemyModel for facing direction
[07:22:49] [INFO] [BloodyFeet:PatrolEnemy2] BloodyFeetComponent ready on PatrolEnemy2
[07:22:49] [ENEMY] [PatrolEnemy2] Death animation component initialized
[07:22:49] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:22:49] [INFO] [BloodyFeet:LowerEnemy1] Footprint scene loaded
[07:22:49] [INFO] [BloodyFeet:LowerEnemy1] Found EnemyModel for facing direction
[07:22:49] [INFO] [BloodyFeet:LowerEnemy1] BloodyFeetComponent ready on LowerEnemy1
[07:22:49] [ENEMY] [LowerEnemy1] Death animation component initialized
[07:22:49] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:22:49] [INFO] [BloodyFeet:LowerEnemy2] Footprint scene loaded
[07:22:49] [INFO] [BloodyFeet:LowerEnemy2] Found EnemyModel for facing direction
[07:22:49] [INFO] [BloodyFeet:LowerEnemy2] BloodyFeetComponent ready on LowerEnemy2
[07:22:49] [ENEMY] [LowerEnemy2] Death animation component initialized
[07:22:49] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:22:49] [INFO] [BloodyFeet:Player] Footprint scene loaded
[07:22:49] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[07:22:49] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[07:22:49] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[07:22:49] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[07:22:49] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[07:22:49] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[07:22:49] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[07:22:49] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[07:22:49] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[07:22:49] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[07:22:49] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 10/10
[07:22:49] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[07:22:49] [INFO] [CastleLevel] Found Environment/Enemies node with 13 children
[07:22:49] [INFO] [CastleLevel] Child 'ShotgunEnemy1': script=true, has_died_signal=true
[07:22:49] [INFO] [CastleLevel] Child 'ShotgunEnemy2': script=true, has_died_signal=true
[07:22:49] [INFO] [CastleLevel] Child 'UziEnemy1': script=true, has_died_signal=true
[07:22:49] [INFO] [CastleLevel] Child 'UziEnemy2': script=true, has_died_signal=true
[07:22:49] [INFO] [CastleLevel] Child 'UziEnemy3': script=true, has_died_signal=true
[07:22:49] [INFO] [CastleLevel] Child 'UziEnemyRight1': script=true, has_died_signal=true
[07:22:49] [INFO] [CastleLevel] Child 'ShotgunEnemyRight1': script=true, has_died_signal=true
[07:22:49] [INFO] [CastleLevel] Child 'UziEnemyCenter1': script=true, has_died_signal=true
[07:22:49] [INFO] [CastleLevel] Child 'UziEnemyCenter2': script=true, has_died_signal=true
[07:22:49] [INFO] [CastleLevel] Child 'PatrolEnemy1': script=true, has_died_signal=true
[07:22:49] [INFO] [CastleLevel] Child 'PatrolEnemy2': script=true, has_died_signal=true
[07:22:49] [INFO] [CastleLevel] Child 'LowerEnemy1': script=true, has_died_signal=true
[07:22:49] [INFO] [CastleLevel] Child 'LowerEnemy2': script=true, has_died_signal=true
[07:22:49] [INFO] [CastleLevel] Enemy tracking complete: 13 enemies registered
[07:22:49] [INFO] [ScoreManager] Level started with 13 enemies
[07:22:49] [INFO] [BloodDecal] Blood puddle created at (2919.022, 2382.118) (added to group)
[07:22:49] [INFO] [BloodDecal] Blood puddle created at (3011.264, 2329.578) (added to group)
[07:22:49] [INFO] [BloodDecal] Blood puddle created at (2990.877, 2284.104) (added to group)
[07:22:49] [INFO] [BloodDecal] Blood puddle created at (2990.145, 2281.538) (added to group)
[07:22:49] [INFO] [BloodDecal] Blood puddle created at (2981.724, 2293.187) (added to group)
[07:22:49] [INFO] [BloodDecal] Blood puddle created at (2913.387, 2306.52) (added to group)
[07:22:49] [INFO] [BloodDecal] Blood puddle created at (2983.833, 2370.866) (added to group)
[07:22:49] [INFO] [BloodDecal] Blood puddle created at (2986.244, 2363.81) (added to group)
[07:22:49] [INFO] [BloodDecal] Blood puddle created at (2881.817, 2291.631) (added to group)
[07:22:49] [INFO] [BloodDecal] Blood puddle created at (3016.1, 2308.737) (added to group)
[07:22:49] [INFO] [BloodDecal] Blood puddle created at (2958.395, 2354.287) (added to group)
[07:22:49] [INFO] [BloodDecal] Blood puddle created at (2951.093, 2329.705) (added to group)
[07:22:49] [INFO] [BloodDecal] Blood puddle created at (2921.732, 2293.744) (added to group)
[07:22:49] [INFO] [BloodDecal] Blood puddle created at (2872.203, 2308.098) (added to group)
[07:22:49] [INFO] [BloodDecal] Blood puddle created at (2877.621, 2300.558) (added to group)
[07:22:49] [INFO] [BloodDecal] Blood puddle created at (2995.207, 2338.109) (added to group)
[07:22:49] [INFO] [BloodDecal] Blood puddle created at (2975.915, 2279.162) (added to group)
[07:22:49] [INFO] [BloodDecal] Blood puddle created at (2962.378, 2242.372) (added to group)
[07:22:49] [INFO] [BloodDecal] Blood puddle created at (2936.753, 2243.143) (added to group)
[07:22:49] [INFO] [BloodDecal] Blood puddle created at (2952.893, 2294.867) (added to group)
[07:22:49] [INFO] [BloodDecal] Blood puddle created at (2906.975, 2318.284) (added to group)
[07:22:49] [INFO] [BloodDecal] Blood puddle created at (2887.053, 2347.081) (added to group)
[07:22:49] [INFO] [BloodDecal] Blood puddle created at (3028.016, 2394.302) (added to group)
[07:22:49] [INFO] [BloodDecal] Blood puddle created at (2987.875, 2287.238) (added to group)
[07:22:49] [INFO] [BloodDecal] Blood puddle created at (2904.827, 2311.284) (added to group)
[07:22:49] [INFO] [BloodyFeet:ShotgunEnemy1] Blood detector created and attached to ShotgunEnemy1
[07:22:49] [INFO] [CinemaEffects] Found player node: Player
[07:22:49] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[07:22:49] [INFO] [SoundPropagation] Registered listener: ShotgunEnemy1 (total: 27)
[07:22:49] [ENEMY] [ShotgunEnemy1] Registered as sound listener
[07:22:49] [ENEMY] [ShotgunEnemy1] Spawned at (1000, 500), hp: 2, behavior: GUARD
[07:22:49] [INFO] [BloodyFeet:ShotgunEnemy2] Blood detector created and attached to ShotgunEnemy2
[07:22:49] [INFO] [SoundPropagation] Registered listener: ShotgunEnemy2 (total: 28)
[07:22:49] [ENEMY] [ShotgunEnemy2] Registered as sound listener
[07:22:49] [ENEMY] [ShotgunEnemy2] Spawned at (1400, 500), hp: 2, behavior: GUARD
[07:22:49] [INFO] [BloodyFeet:UziEnemy1] Blood detector created and attached to UziEnemy1
[07:22:49] [INFO] [SoundPropagation] Registered listener: UziEnemy1 (total: 29)
[07:22:49] [ENEMY] [UziEnemy1] Registered as sound listener
[07:22:49] [ENEMY] [UziEnemy1] Spawned at (2500, 550), hp: 2, behavior: GUARD
[07:22:49] [INFO] [BloodyFeet:UziEnemy2] Blood detector created and attached to UziEnemy2
[07:22:49] [INFO] [SoundPropagation] Registered listener: UziEnemy2 (total: 30)
[07:22:49] [ENEMY] [UziEnemy2] Registered as sound listener
[07:22:49] [ENEMY] [UziEnemy2] Spawned at (3500, 550), hp: 4, behavior: GUARD
[07:22:49] [INFO] [BloodyFeet:UziEnemy3] Blood detector created and attached to UziEnemy3
[07:22:49] [INFO] [SoundPropagation] Registered listener: UziEnemy3 (total: 31)
[07:22:49] [ENEMY] [UziEnemy3] Registered as sound listener
[07:22:49] [ENEMY] [UziEnemy3] Spawned at (3000, 300), hp: 2, behavior: GUARD
[07:22:49] [INFO] [BloodyFeet:UziEnemyRight1] Blood detector created and attached to UziEnemyRight1
[07:22:49] [INFO] [SoundPropagation] Registered listener: UziEnemyRight1 (total: 32)
[07:22:49] [ENEMY] [UziEnemyRight1] Registered as sound listener
[07:22:49] [ENEMY] [UziEnemyRight1] Spawned at (4800, 500), hp: 4, behavior: GUARD
[07:22:49] [INFO] [BloodyFeet:ShotgunEnemyRight1] Blood detector created and attached to ShotgunEnemyRight1
[07:22:49] [INFO] [SoundPropagation] Registered listener: ShotgunEnemyRight1 (total: 33)
[07:22:49] [ENEMY] [ShotgunEnemyRight1] Registered as sound listener
[07:22:49] [ENEMY] [ShotgunEnemyRight1] Spawned at (5000, 500), hp: 2, behavior: GUARD
[07:22:49] [INFO] [BloodyFeet:UziEnemyCenter1] Blood detector created and attached to UziEnemyCenter1
[07:22:49] [INFO] [SoundPropagation] Registered listener: UziEnemyCenter1 (total: 34)
[07:22:49] [ENEMY] [UziEnemyCenter1] Registered as sound listener
[07:22:49] [ENEMY] [UziEnemyCenter1] Spawned at (2200, 1050), hp: 4, behavior: GUARD
[07:22:49] [INFO] [BloodyFeet:UziEnemyCenter2] Blood detector created and attached to UziEnemyCenter2
[07:22:49] [INFO] [SoundPropagation] Registered listener: UziEnemyCenter2 (total: 35)
[07:22:49] [ENEMY] [UziEnemyCenter2] Registered as sound listener
[07:22:49] [ENEMY] [UziEnemyCenter2] Spawned at (3800, 1050), hp: 2, behavior: GUARD
[07:22:49] [INFO] [BloodyFeet:PatrolEnemy1] Blood detector created and attached to PatrolEnemy1
[07:22:49] [INFO] [SoundPropagation] Registered listener: PatrolEnemy1 (total: 36)
[07:22:49] [ENEMY] [PatrolEnemy1] Registered as sound listener
[07:22:49] [ENEMY] [PatrolEnemy1] Spawned at (1100, 1050), hp: 3, behavior: PATROL
[07:22:49] [INFO] [BloodyFeet:PatrolEnemy2] Blood detector created and attached to PatrolEnemy2
[07:22:49] [INFO] [SoundPropagation] Registered listener: PatrolEnemy2 (total: 37)
[07:22:49] [ENEMY] [PatrolEnemy2] Registered as sound listener
[07:22:49] [ENEMY] [PatrolEnemy2] Spawned at (4900, 1050), hp: 3, behavior: PATROL
[07:22:49] [INFO] [BloodyFeet:LowerEnemy1] Blood detector created and attached to LowerEnemy1
[07:22:49] [INFO] [SoundPropagation] Registered listener: LowerEnemy1 (total: 38)
[07:22:49] [ENEMY] [LowerEnemy1] Registered as sound listener
[07:22:49] [ENEMY] [LowerEnemy1] Spawned at (2150, 1250), hp: 3, behavior: GUARD
[07:22:49] [INFO] [BloodyFeet:LowerEnemy2] Blood detector created and attached to LowerEnemy2
[07:22:49] [INFO] [SoundPropagation] Registered listener: LowerEnemy2 (total: 39)
[07:22:49] [ENEMY] [LowerEnemy2] Registered as sound listener
[07:22:49] [ENEMY] [LowerEnemy2] Spawned at (3850, 1250), hp: 3, behavior: GUARD
[07:22:49] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[07:22:49] [ENEMY] [ShotgunEnemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=337.5°, current=0.0°, player=(3000,2100), corner_timer=0.00
[07:22:49] [ENEMY] [ShotgunEnemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(3000,2100), corner_timer=0.00
[07:22:49] [ENEMY] [UziEnemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=213.8°, current=0.0°, player=(3000,2100), corner_timer=0.00
[07:22:49] [ENEMY] [UziEnemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(3000,2100), corner_timer=0.00
[07:22:49] [ENEMY] [UziEnemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(3000,2100), corner_timer=0.00
[07:22:49] [ENEMY] [UziEnemyRight1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(3000,2100), corner_timer=0.00
[07:22:49] [ENEMY] [ShotgunEnemyRight1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=337.5°, current=0.0°, player=(3000,2100), corner_timer=0.00
[07:22:49] [ENEMY] [UziEnemyCenter1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(3000,2100), corner_timer=0.00
[07:22:49] [ENEMY] [UziEnemyCenter2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=281.3°, current=0.0°, player=(3000,2100), corner_timer=0.00
[07:22:49] [ENEMY] [LowerEnemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=112.5°, current=0.0°, player=(3000,2100), corner_timer=0.00
[07:22:49] [ENEMY] [LowerEnemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=281.3°, current=0.0°, player=(3000,2100), corner_timer=0.00
[07:22:49] [ENEMY] [UziEnemyCenter1] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=52.7°, current=2.9°, player=(3000,2100), corner_timer=0.00
[07:22:49] [ENEMY] [UziEnemyCenter1] State: IDLE -> COMBAT
[07:22:49] [INFO] [Player] Detecting weapon pose (frame 3)...
[07:22:49] [INFO] [Player] Detected weapon: Rifle (default pose)
[07:22:49] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[07:22:49] [INFO] [ReplayManager] Recording frame 1500 (25,1s): player_valid=False, enemies=10
[07:22:49] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[07:22:49] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[07:22:49] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[07:22:49] [INFO] [LastChance] Found player: Player
[07:22:49] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[07:22:49] [INFO] [LastChance] Connected to player Damaged signal (C#)
[07:22:49] [INFO] [LastChance] Connected to player Died signal (C#)
[07:22:49] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[07:22:49] [INFO] [BloodDecal] Blood puddle created at (2951.16, 2354.52) (added to group)
[07:22:49] [INFO] [BloodDecal] Blood puddle created at (2960.388, 2375.063) (added to group)
[07:22:49] [INFO] [BloodDecal] Blood puddle created at (2921.421, 2402.777) (added to group)
[07:22:49] [INFO] [BloodDecal] Blood puddle created at (2889.948, 2326.574) (added to group)
[07:22:49] [INFO] [BloodDecal] Blood puddle created at (2934.837, 2345.616) (added to group)
[07:22:49] [INFO] [BloodDecal] Blood puddle created at (2882.181, 2327.561) (added to group)
[07:22:49] [INFO] [BloodDecal] Blood puddle created at (3005.664, 2372.466) (added to group)
[07:22:49] [INFO] [BloodDecal] Blood puddle created at (3015.36, 2389.096) (added to group)
[07:22:49] [INFO] [BloodDecal] Blood puddle created at (2910.273, 2382.621) (added to group)
[07:22:49] [INFO] [BloodDecal] Blood puddle created at (2972.259, 2349.153) (added to group)
[07:22:49] [INFO] [BloodDecal] Blood puddle created at (2956.146, 2303.434) (added to group)
[07:22:49] [INFO] [BloodDecal] Blood puddle created at (2876.161, 2412.819) (added to group)
[07:22:49] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[07:22:49] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[07:22:49] [INFO] [Player.Grenade] G pressed - starting grab animation
[07:22:49] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[07:22:49] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (2895.783, 1989.128)
[07:22:49] [INFO] [GrenadeBase] CCD enabled (mode: CAST_RAY) to prevent wall tunneling
[07:22:49] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[07:22:49] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[07:22:49] [INFO] [GrenadeTimer] Initialized for Frag grenade, effect radius: 225
[07:22:49] [INFO] [Player.Grenade] Added GrenadeTimer component (type: Frag)
[07:22:49] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[07:22:49] [INFO] [GrenadeTimer] Timer activated! 4 seconds until explosion
[07:22:49] [INFO] [Player.Grenade] Timer started, grenade created at (3000, 2100)
[07:22:49] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[07:22:49] [INFO] [Player.Grenade] Step 1 complete! Drag: (60.793213, 14.026001)
[07:22:49] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[07:22:49] [INFO] [Player.Grenade.Simple] RMB pressed after pin pull - starting trajectory aiming
[07:22:50] [ENEMY] [LowerEnemy1] Memory: high confidence (0.90) - transitioning to PURSUING
[07:22:50] [ENEMY] [LowerEnemy1] State: IDLE -> PURSUING
[07:22:50] [ENEMY] [UziEnemy1] Memory: high confidence (0.90) - transitioning to PURSUING
[07:22:50] [ENEMY] [UziEnemy1] State: IDLE -> PURSUING
[07:22:50] [ENEMY] [LowerEnemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=45.0°, current=85.9°, player=(3000,2100), corner_timer=0.00
[07:22:50] [ENEMY] [UziEnemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=72.1°, current=-88.8°, player=(3000,2100), corner_timer=0.00
[07:22:50] [ENEMY] [LowerEnemy1] PURSUING corner check: angle -0.4°
[07:22:50] [ENEMY] [UziEnemy1] PURSUING corner check: angle -27.0°
[07:22:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2351.892, 1249.404), source=ENEMY (UziEnemyCenter1), range=1200, listeners=39
[07:22:50] [INFO] [SoundPropagation] Cleaned up 26 invalid listeners
[07:22:50] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=9, self=1, below_threshold=2
[07:22:50] [ENEMY] [UziEnemy1] PURSUING corner check: angle -27.0°
[07:22:50] [ENEMY] [LowerEnemy1] PURSUING corner check: angle -0.6°
[07:22:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2368.01, 1287.483), source=ENEMY (UziEnemyCenter1), range=1200, listeners=13
[07:22:50] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=10, self=1, below_threshold=1
[07:22:50] [INFO] [ReplayManager] Recording frame 1560 (26,1s): player_valid=False, enemies=10
[07:22:50] [ENEMY] [UziEnemyCenter1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=54.2°, current=54.2°, player=(2938,2100), corner_timer=0.00
[07:22:50] [ENEMY] [UziEnemyCenter1] State: COMBAT -> PURSUING
[07:22:50] [INFO] [Player.Grenade.Simple] Throwing! Target: (3297.3142, 2067.2727), Distance: 378,6, Speed: 460,4, Friction: 280,0
[07:22:50] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,084806316
[07:22:50] [INFO] [GrenadeTimer] Grenade marked as thrown - impact detection enabled
[07:22:50] [INFO] [Player.Grenade.Simple] C# set velocity directly: dir=(0.9964061, -0.0847047), speed=460,4, spawn=(2972.118, 2094.9177)
[07:22:50] [INFO] [GrenadeBase] Simple mode throw! Dir: (0.996406, -0.084705), Speed: 460.4 (clamped from 460.4, max: 1186.5)
[07:22:50] [INFO] [FragGrenade] Grenade thrown (simple mode) - impact detection enabled
[07:22:50] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[07:22:50] [INFO] [Player.Grenade.Simple] Grenade thrown!
[07:22:50] [INFO] [Player.Grenade] State reset to IDLE
[07:22:50] [INFO] [Player.Grenade] State reset to IDLE
[07:22:50] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[07:22:50] [INFO] [Player.Grenade] Player rotation restored to 0
[07:22:50] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[07:22:51] [ENEMY] [PatrolEnemy1] PATROL corner check: angle -90.0°
[07:22:51] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -90.0°
[07:22:51] [ENEMY] [PatrolEnemy1] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-90.0°, current=0.0°, player=(2875,2100), corner_timer=0.30
[07:22:51] [ENEMY] [PatrolEnemy2] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-90.0°, current=0.0°, player=(2875,2100), corner_timer=0.30
[07:22:51] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=0.0°, current=-54.4°, player=(2875,2100), corner_timer=-0.02
[07:22:51] [ENEMY] [PatrolEnemy1] PATROL corner check: angle -90.0°
[07:22:51] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=0.0°, current=-54.4°, player=(2875,2100), corner_timer=-0.02
[07:22:51] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -90.0°
[07:22:51] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=-51.6°, player=(2875,2100), corner_timer=0.30
[07:22:51] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=-51.6°, player=(2875,2100), corner_timer=0.30
[07:22:51] [INFO] [SoundPropagation] Sound emitted: type=GRENADE_LANDING, pos=(3194.965, 2075.973), source=NEUTRAL (FragGrenade), range=112, listeners=13
[07:22:51] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=13, self=0, below_threshold=0
[07:22:51] [INFO] [GrenadeBase] Grenade landed at (3194.965, 2075.973)
[07:22:51] [INFO] [FragGrenade] Impact detected - exploding immediately!
[07:22:51] [INFO] [GrenadeBase] EXPLODED at (3194.965, 2075.973)!
[07:22:51] [INFO] [PowerFantasy] Grenade exploded - triggering last chance time-freeze effect for 2000ms
[07:22:51] [INFO] [LastChance] Grenade explosion triggering last chance effect for 2.00 seconds
[07:22:51] [INFO] [LastChance] Starting last chance effect:
[07:22:51] [INFO] [LastChance]   - Time will be frozen (except player)
[07:22:51] [INFO] [LastChance]   - Duration: 2.00 real seconds
[07:22:51] [INFO] [LastChance]   - Trigger: grenade explosion
[07:22:51] [INFO] [LastChance]   - Sepia intensity: 0.70
[07:22:51] [INFO] [LastChance]   - Brightness: 0.60
[07:22:51] [INFO] [LastChance] Set player Player and all 25 children to PROCESS_MODE_ALWAYS
[07:22:51] [INFO] [LastChance] Set StaticBody2D 'CenterTower' to PROCESS_MODE_ALWAYS for collision
[07:22:51] [INFO] [LastChance] Set StaticBody2D 'InnerTower' to PROCESS_MODE_ALWAYS for collision
[07:22:51] [INFO] [LastChance] Set StaticBody2D 'LeftWingTopWall' to PROCESS_MODE_ALWAYS for collision
[07:22:51] [INFO] [LastChance] Set StaticBody2D 'LeftWingBottomWall' to PROCESS_MODE_ALWAYS for collision
[07:22:51] [INFO] [LastChance] Set StaticBody2D 'LeftWingEndWall' to PROCESS_MODE_ALWAYS for collision
[07:22:51] [INFO] [LastChance] Set StaticBody2D 'RightWingTopWall' to PROCESS_MODE_ALWAYS for collision
[07:22:51] [INFO] [LastChance] Set StaticBody2D 'RightWingBottomWall' to PROCESS_MODE_ALWAYS for collision
[07:22:51] [INFO] [LastChance] Set StaticBody2D 'RightWingEndWall' to PROCESS_MODE_ALWAYS for collision
[07:22:51] [INFO] [LastChance] Set StaticBody2D 'CenterSouthWallLeft' to PROCESS_MODE_ALWAYS for collision
[07:22:51] [INFO] [LastChance] Set StaticBody2D 'CenterSouthWallRight' to PROCESS_MODE_ALWAYS for collision
[07:22:51] [INFO] [LastChance] Set StaticBody2D 'CoverLowerLeft1' to PROCESS_MODE_ALWAYS for collision
[07:22:51] [INFO] [LastChance] Set StaticBody2D 'CoverLowerLeft2' to PROCESS_MODE_ALWAYS for collision
[07:22:51] [INFO] [LastChance] Set StaticBody2D 'CoverLowerLeft3' to PROCESS_MODE_ALWAYS for collision
[07:22:51] [INFO] [LastChance] Set StaticBody2D 'CoverLowerRight1' to PROCESS_MODE_ALWAYS for collision
[07:22:51] [INFO] [LastChance] Set StaticBody2D 'CoverLowerRight2' to PROCESS_MODE_ALWAYS for collision
[07:22:51] [INFO] [LastChance] Set StaticBody2D 'CoverLowerRight3' to PROCESS_MODE_ALWAYS for collision
[07:22:51] [INFO] [LastChance] Set StaticBody2D 'CoverCenterLeft1' to PROCESS_MODE_ALWAYS for collision
[07:22:51] [INFO] [LastChance] Set StaticBody2D 'CoverCenterLeft2' to PROCESS_MODE_ALWAYS for collision
[07:22:51] [INFO] [LastChance] Set StaticBody2D 'CoverCenterLeft3' to PROCESS_MODE_ALWAYS for collision
[07:22:51] [INFO] [LastChance] Set StaticBody2D 'CoverCenterRight1' to PROCESS_MODE_ALWAYS for collision
[07:22:51] [INFO] [LastChance] Set StaticBody2D 'CoverCenterRight2' to PROCESS_MODE_ALWAYS for collision
[07:22:51] [INFO] [LastChance] Set StaticBody2D 'CoverCenterRight3' to PROCESS_MODE_ALWAYS for collision
[07:22:51] [INFO] [LastChance] Set StaticBody2D 'CoverMiddleLeft1' to PROCESS_MODE_ALWAYS for collision
[07:22:51] [INFO] [LastChance] Set StaticBody2D 'CoverMiddleLeft2' to PROCESS_MODE_ALWAYS for collision
[07:22:51] [INFO] [LastChance] Set StaticBody2D 'CoverMiddleRight1' to PROCESS_MODE_ALWAYS for collision
[07:22:51] [INFO] [LastChance] Set StaticBody2D 'CoverMiddleRight2' to PROCESS_MODE_ALWAYS for collision
[07:22:51] [INFO] [LastChance] Set StaticBody2D 'CoverLowerMidLeft1' to PROCESS_MODE_ALWAYS for collision
[07:22:51] [INFO] [LastChance] Set StaticBody2D 'CoverLowerMidRight1' to PROCESS_MODE_ALWAYS for collision
[07:22:51] [INFO] [LastChance] Set StaticBody2D 'CoverBottom1' to PROCESS_MODE_ALWAYS for collision
[07:22:51] [INFO] [LastChance] Set StaticBody2D 'CoverBottom2' to PROCESS_MODE_ALWAYS for collision
[07:22:51] [INFO] [LastChance] Skipping player node: Player
[07:22:51] [INFO] [LastChance] Froze existing grenade: FragGrenade
[07:22:51] [INFO] [LastChance] Froze existing bullet casing: Casing
[07:22:51] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@4806
[07:22:51] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[07:22:51] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[07:22:51] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[07:22:51] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(3194.965, 2075.973), source=NEUTRAL (FragGrenade), range=2937, listeners=13
[07:22:51] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=13
[07:22:51] [INFO] [LastChance] Freezing newly created shrapnel: Shrapnel
[07:22:51] [INFO] [LastChance] Registered frozen shrapnel: Shrapnel
[07:22:51] [INFO] [FragGrenade] Spawned shrapnel #1 at angle 11.7 degrees
[07:22:51] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@4807
[07:22:51] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@4807
[07:22:51] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 95.1 degrees
[07:22:51] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@4808
[07:22:51] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@4808
[07:22:51] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 162.6 degrees
[07:22:51] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@4809
[07:22:51] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@4809
[07:22:51] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 263.8 degrees
[07:22:51] [INFO] [ImpactEffects] Spawning explosion visual effect at (3194.965, 2075.973) (radius=225) - using shadow-based wall occlusion
[07:22:51] [INFO] [LastChance] Freezing newly created explosion effect: @PointLight2D@4810
[07:22:51] [INFO] [LastChance] Registered frozen explosion effect: @PointLight2D@4810
[07:22:51] [INFO] [ReplayManager] Recording frame 1620 (27,1s): player_valid=False, enemies=10
[07:22:52] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[07:22:52] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:22:52] [INFO] [BloodyFeet:ShotgunEnemy1] Footprint scene loaded
[07:22:52] [INFO] [BloodyFeet:ShotgunEnemy1] Found EnemyModel for facing direction
[07:22:52] [INFO] [BloodyFeet:ShotgunEnemy1] BloodyFeetComponent ready on ShotgunEnemy1
[07:22:52] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[07:22:52] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[07:22:52] [INFO] [LastChance] Resetting all effects (scene change detected)
[07:22:52] [INFO] [LastChance] All process modes restored
[07:22:52] [INFO] [LastChance] Restored original colors to 5 player sprites
[07:22:52] [INFO] [CinemaEffects] Scene changed to: CastleLevel
[07:22:52] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[07:22:52] [ENEMY] [ShotgunEnemy1] Death animation component initialized
[07:22:52] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:22:52] [INFO] [BloodyFeet:ShotgunEnemy2] Footprint scene loaded
[07:22:52] [INFO] [BloodyFeet:ShotgunEnemy2] Found EnemyModel for facing direction
[07:22:52] [INFO] [BloodyFeet:ShotgunEnemy2] BloodyFeetComponent ready on ShotgunEnemy2
[07:22:52] [ENEMY] [ShotgunEnemy2] Death animation component initialized
[07:22:52] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:22:52] [INFO] [BloodyFeet:UziEnemy1] Footprint scene loaded
[07:22:52] [INFO] [BloodyFeet:UziEnemy1] Found EnemyModel for facing direction
[07:22:52] [INFO] [BloodyFeet:UziEnemy1] BloodyFeetComponent ready on UziEnemy1
[07:22:52] [INFO] [EnemyGrenade] Initialized: 1 grenades
[07:22:52] [ENEMY] [UziEnemy1] Death animation component initialized
[07:22:52] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:22:52] [INFO] [BloodyFeet:UziEnemy2] Footprint scene loaded
[07:22:52] [INFO] [BloodyFeet:UziEnemy2] Found EnemyModel for facing direction
[07:22:52] [INFO] [BloodyFeet:UziEnemy2] BloodyFeetComponent ready on UziEnemy2
[07:22:52] [ENEMY] [UziEnemy2] Death animation component initialized
[07:22:52] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:22:52] [INFO] [BloodyFeet:UziEnemy3] Footprint scene loaded
[07:22:52] [INFO] [BloodyFeet:UziEnemy3] Found EnemyModel for facing direction
[07:22:52] [INFO] [BloodyFeet:UziEnemy3] BloodyFeetComponent ready on UziEnemy3
[07:22:52] [ENEMY] [UziEnemy3] Death animation component initialized
[07:22:52] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:22:52] [INFO] [BloodyFeet:UziEnemyRight1] Footprint scene loaded
[07:22:52] [INFO] [BloodyFeet:UziEnemyRight1] Found EnemyModel for facing direction
[07:22:52] [INFO] [BloodyFeet:UziEnemyRight1] BloodyFeetComponent ready on UziEnemyRight1
[07:22:52] [ENEMY] [UziEnemyRight1] Death animation component initialized
[07:22:52] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:22:52] [INFO] [BloodyFeet:ShotgunEnemyRight1] Footprint scene loaded
[07:22:52] [INFO] [BloodyFeet:ShotgunEnemyRight1] Found EnemyModel for facing direction
[07:22:52] [INFO] [BloodyFeet:ShotgunEnemyRight1] BloodyFeetComponent ready on ShotgunEnemyRight1
[07:22:52] [ENEMY] [ShotgunEnemyRight1] Death animation component initialized
[07:22:52] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:22:52] [INFO] [BloodyFeet:UziEnemyCenter1] Footprint scene loaded
[07:22:52] [INFO] [BloodyFeet:UziEnemyCenter1] Found EnemyModel for facing direction
[07:22:52] [INFO] [BloodyFeet:UziEnemyCenter1] BloodyFeetComponent ready on UziEnemyCenter1
[07:22:52] [ENEMY] [UziEnemyCenter1] Death animation component initialized
[07:22:52] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:22:52] [INFO] [BloodyFeet:UziEnemyCenter2] Footprint scene loaded
[07:22:52] [INFO] [BloodyFeet:UziEnemyCenter2] Found EnemyModel for facing direction
[07:22:52] [INFO] [BloodyFeet:UziEnemyCenter2] BloodyFeetComponent ready on UziEnemyCenter2
[07:22:52] [ENEMY] [UziEnemyCenter2] Death animation component initialized
[07:22:52] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:22:52] [INFO] [BloodyFeet:PatrolEnemy1] Footprint scene loaded
[07:22:52] [INFO] [BloodyFeet:PatrolEnemy1] Found EnemyModel for facing direction
[07:22:52] [INFO] [BloodyFeet:PatrolEnemy1] BloodyFeetComponent ready on PatrolEnemy1
[07:22:52] [ENEMY] [PatrolEnemy1] Death animation component initialized
[07:22:52] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:22:52] [INFO] [BloodyFeet:PatrolEnemy2] Footprint scene loaded
[07:22:52] [INFO] [BloodyFeet:PatrolEnemy2] Found EnemyModel for facing direction
[07:22:52] [INFO] [BloodyFeet:PatrolEnemy2] BloodyFeetComponent ready on PatrolEnemy2
[07:22:52] [ENEMY] [PatrolEnemy2] Death animation component initialized
[07:22:52] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:22:52] [INFO] [BloodyFeet:LowerEnemy1] Footprint scene loaded
[07:22:52] [INFO] [BloodyFeet:LowerEnemy1] Found EnemyModel for facing direction
[07:22:52] [INFO] [BloodyFeet:LowerEnemy1] BloodyFeetComponent ready on LowerEnemy1
[07:22:52] [ENEMY] [LowerEnemy1] Death animation component initialized
[07:22:52] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:22:52] [INFO] [BloodyFeet:LowerEnemy2] Footprint scene loaded
[07:22:52] [INFO] [BloodyFeet:LowerEnemy2] Found EnemyModel for facing direction
[07:22:52] [INFO] [BloodyFeet:LowerEnemy2] BloodyFeetComponent ready on LowerEnemy2
[07:22:52] [ENEMY] [LowerEnemy2] Death animation component initialized
[07:22:52] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:22:52] [INFO] [BloodyFeet:Player] Footprint scene loaded
[07:22:52] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[07:22:52] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[07:22:52] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[07:22:52] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[07:22:52] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[07:22:52] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[07:22:52] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[07:22:52] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[07:22:52] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[07:22:52] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[07:22:52] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 10/10
[07:22:52] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[07:22:52] [INFO] [CastleLevel] Found Environment/Enemies node with 13 children
[07:22:52] [INFO] [CastleLevel] Child 'ShotgunEnemy1': script=true, has_died_signal=true
[07:22:52] [INFO] [CastleLevel] Child 'ShotgunEnemy2': script=true, has_died_signal=true
[07:22:52] [INFO] [CastleLevel] Child 'UziEnemy1': script=true, has_died_signal=true
[07:22:52] [INFO] [CastleLevel] Child 'UziEnemy2': script=true, has_died_signal=true
[07:22:52] [INFO] [CastleLevel] Child 'UziEnemy3': script=true, has_died_signal=true
[07:22:52] [INFO] [CastleLevel] Child 'UziEnemyRight1': script=true, has_died_signal=true
[07:22:52] [INFO] [CastleLevel] Child 'ShotgunEnemyRight1': script=true, has_died_signal=true
[07:22:52] [INFO] [CastleLevel] Child 'UziEnemyCenter1': script=true, has_died_signal=true
[07:22:52] [INFO] [CastleLevel] Child 'UziEnemyCenter2': script=true, has_died_signal=true
[07:22:52] [INFO] [CastleLevel] Child 'PatrolEnemy1': script=true, has_died_signal=true
[07:22:52] [INFO] [CastleLevel] Child 'PatrolEnemy2': script=true, has_died_signal=true
[07:22:52] [INFO] [CastleLevel] Child 'LowerEnemy1': script=true, has_died_signal=true
[07:22:52] [INFO] [CastleLevel] Child 'LowerEnemy2': script=true, has_died_signal=true
[07:22:52] [INFO] [CastleLevel] Enemy tracking complete: 13 enemies registered
[07:22:52] [INFO] [ScoreManager] Level started with 13 enemies
[07:22:52] [INFO] [BloodyFeet:ShotgunEnemy1] Blood detector created and attached to ShotgunEnemy1
[07:22:52] [INFO] [CinemaEffects] Found player node: Player
[07:22:52] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[07:22:52] [INFO] [SoundPropagation] Registered listener: ShotgunEnemy1 (total: 14)
[07:22:52] [ENEMY] [ShotgunEnemy1] Registered as sound listener
[07:22:52] [ENEMY] [ShotgunEnemy1] Spawned at (1000, 500), hp: 2, behavior: GUARD
[07:22:52] [INFO] [BloodyFeet:ShotgunEnemy2] Blood detector created and attached to ShotgunEnemy2
[07:22:52] [INFO] [SoundPropagation] Registered listener: ShotgunEnemy2 (total: 15)
[07:22:52] [ENEMY] [ShotgunEnemy2] Registered as sound listener
[07:22:52] [ENEMY] [ShotgunEnemy2] Spawned at (1400, 500), hp: 4, behavior: GUARD
[07:22:52] [INFO] [BloodyFeet:UziEnemy1] Blood detector created and attached to UziEnemy1
[07:22:52] [INFO] [SoundPropagation] Registered listener: UziEnemy1 (total: 16)
[07:22:52] [ENEMY] [UziEnemy1] Registered as sound listener
[07:22:52] [ENEMY] [UziEnemy1] Spawned at (2500, 550), hp: 2, behavior: GUARD
[07:22:52] [INFO] [BloodyFeet:UziEnemy2] Blood detector created and attached to UziEnemy2
[07:22:52] [INFO] [SoundPropagation] Registered listener: UziEnemy2 (total: 17)
[07:22:52] [ENEMY] [UziEnemy2] Registered as sound listener
[07:22:52] [ENEMY] [UziEnemy2] Spawned at (3500, 550), hp: 3, behavior: GUARD
[07:22:52] [INFO] [BloodyFeet:UziEnemy3] Blood detector created and attached to UziEnemy3
[07:22:52] [INFO] [SoundPropagation] Registered listener: UziEnemy3 (total: 18)
[07:22:52] [ENEMY] [UziEnemy3] Registered as sound listener
[07:22:52] [ENEMY] [UziEnemy3] Spawned at (3000, 300), hp: 2, behavior: GUARD
[07:22:52] [INFO] [BloodyFeet:UziEnemyRight1] Blood detector created and attached to UziEnemyRight1
[07:22:52] [INFO] [SoundPropagation] Registered listener: UziEnemyRight1 (total: 19)
[07:22:52] [ENEMY] [UziEnemyRight1] Registered as sound listener
[07:22:52] [ENEMY] [UziEnemyRight1] Spawned at (4800, 500), hp: 3, behavior: GUARD
[07:22:52] [INFO] [BloodyFeet:ShotgunEnemyRight1] Blood detector created and attached to ShotgunEnemyRight1
[07:22:52] [INFO] [SoundPropagation] Registered listener: ShotgunEnemyRight1 (total: 20)
[07:22:52] [ENEMY] [ShotgunEnemyRight1] Registered as sound listener
[07:22:52] [ENEMY] [ShotgunEnemyRight1] Spawned at (5000, 500), hp: 3, behavior: GUARD
[07:22:52] [INFO] [BloodyFeet:UziEnemyCenter1] Blood detector created and attached to UziEnemyCenter1
[07:22:52] [INFO] [SoundPropagation] Registered listener: UziEnemyCenter1 (total: 21)
[07:22:52] [ENEMY] [UziEnemyCenter1] Registered as sound listener
[07:22:52] [ENEMY] [UziEnemyCenter1] Spawned at (2200, 1050), hp: 3, behavior: GUARD
[07:22:52] [INFO] [BloodyFeet:UziEnemyCenter2] Blood detector created and attached to UziEnemyCenter2
[07:22:52] [INFO] [SoundPropagation] Registered listener: UziEnemyCenter2 (total: 22)
[07:22:52] [ENEMY] [UziEnemyCenter2] Registered as sound listener
[07:22:52] [ENEMY] [UziEnemyCenter2] Spawned at (3800, 1050), hp: 3, behavior: GUARD
[07:22:52] [INFO] [BloodyFeet:PatrolEnemy1] Blood detector created and attached to PatrolEnemy1
[07:22:52] [INFO] [SoundPropagation] Registered listener: PatrolEnemy1 (total: 23)
[07:22:52] [ENEMY] [PatrolEnemy1] Registered as sound listener
[07:22:52] [ENEMY] [PatrolEnemy1] Spawned at (1100, 1050), hp: 4, behavior: PATROL
[07:22:52] [INFO] [BloodyFeet:PatrolEnemy2] Blood detector created and attached to PatrolEnemy2
[07:22:52] [INFO] [SoundPropagation] Registered listener: PatrolEnemy2 (total: 24)
[07:22:52] [ENEMY] [PatrolEnemy2] Registered as sound listener
[07:22:52] [ENEMY] [PatrolEnemy2] Spawned at (4900, 1050), hp: 2, behavior: PATROL
[07:22:52] [INFO] [BloodyFeet:LowerEnemy1] Blood detector created and attached to LowerEnemy1
[07:22:52] [INFO] [SoundPropagation] Registered listener: LowerEnemy1 (total: 25)
[07:22:52] [ENEMY] [LowerEnemy1] Registered as sound listener
[07:22:52] [ENEMY] [LowerEnemy1] Spawned at (2150, 1250), hp: 4, behavior: GUARD
[07:22:52] [INFO] [BloodyFeet:LowerEnemy2] Blood detector created and attached to LowerEnemy2
[07:22:52] [INFO] [SoundPropagation] Registered listener: LowerEnemy2 (total: 26)
[07:22:52] [ENEMY] [LowerEnemy2] Registered as sound listener
[07:22:52] [ENEMY] [LowerEnemy2] Spawned at (3850, 1250), hp: 3, behavior: GUARD
[07:22:52] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[07:22:52] [ENEMY] [ShotgunEnemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(3000,2100), corner_timer=0.00
[07:22:52] [ENEMY] [ShotgunEnemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(3000,2100), corner_timer=0.00
[07:22:52] [ENEMY] [UziEnemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(3000,2100), corner_timer=0.00
[07:22:52] [ENEMY] [UziEnemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=123.7°, current=0.0°, player=(3000,2100), corner_timer=0.00
[07:22:52] [ENEMY] [UziEnemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=213.8°, current=0.0°, player=(3000,2100), corner_timer=0.00
[07:22:52] [ENEMY] [UziEnemyRight1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=337.5°, current=0.0°, player=(3000,2100), corner_timer=0.00
[07:22:52] [ENEMY] [ShotgunEnemyRight1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=22.5°, current=0.0°, player=(3000,2100), corner_timer=0.00
[07:22:52] [ENEMY] [UziEnemyCenter1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(3000,2100), corner_timer=0.00
[07:22:52] [ENEMY] [UziEnemyCenter2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(3000,2100), corner_timer=0.00
[07:22:52] [ENEMY] [LowerEnemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=78.8°, current=0.0°, player=(3000,2100), corner_timer=0.00
[07:22:52] [ENEMY] [LowerEnemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=112.5°, current=0.0°, player=(3000,2100), corner_timer=0.00
[07:22:52] [INFO] [Player] Detecting weapon pose (frame 3)...
[07:22:52] [INFO] [Player] Detected weapon: Rifle (default pose)
[07:22:52] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[07:22:52] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[07:22:52] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[07:22:52] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[07:22:52] [INFO] [LastChance] Found player: Player
[07:22:52] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[07:22:52] [INFO] [LastChance] Connected to player Damaged signal (C#)
[07:22:52] [INFO] [LastChance] Connected to player Died signal (C#)
[07:22:52] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[07:22:52] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[07:22:52] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[07:22:52] [INFO] [Player.Grenade] G pressed - starting grab animation
[07:22:52] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[07:22:52] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (3230.4802, 2045.8998)
[07:22:52] [INFO] [GrenadeBase] CCD enabled (mode: CAST_RAY) to prevent wall tunneling
[07:22:52] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[07:22:52] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[07:22:52] [INFO] [GrenadeTimer] Initialized for Frag grenade, effect radius: 225
[07:22:52] [INFO] [Player.Grenade] Added GrenadeTimer component (type: Frag)
[07:22:52] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[07:22:52] [INFO] [GrenadeTimer] Timer activated! 4 seconds until explosion
[07:22:52] [INFO] [Player.Grenade] Timer started, grenade created at (3000, 2100)
[07:22:52] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[07:22:52] [INFO] [Player.Grenade] Step 1 complete! Drag: (60.125244, 38.070435)
[07:22:52] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[07:22:52] [INFO] [Player.Grenade.Simple] RMB pressed after pin pull - starting trajectory aiming
[07:22:52] [INFO] [ReplayManager] Recording frame 1680 (28,1s): player_valid=False, enemies=10
[07:22:52] [INFO] [Player.Grenade.Simple] Throwing! Target: (3556.4927, 2091.3174), Distance: 576,0, Speed: 567,9, Friction: 280,0
[07:22:52] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,0156011265
[07:22:52] [INFO] [GrenadeTimer] Grenade marked as thrown - impact detection enabled
[07:22:52] [INFO] [Player.Grenade.Simple] C# set velocity directly: dir=(0.9998784, -0.015600495), speed=567,9, spawn=(3059.9927, 2099.064)
[07:22:52] [INFO] [GrenadeBase] Simple mode throw! Dir: (0.999878, -0.0156), Speed: 567.9 (clamped from 567.9, max: 1186.5)
[07:22:52] [INFO] [FragGrenade] Grenade thrown (simple mode) - impact detection enabled
[07:22:52] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[07:22:52] [INFO] [Player.Grenade.Simple] Grenade thrown!
[07:22:52] [INFO] [Player.Grenade] State reset to IDLE
[07:22:52] [INFO] [Player.Grenade] State reset to IDLE
[07:22:52] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[07:22:52] [INFO] [Player.Grenade] Player rotation restored to 0
[07:22:52] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[07:22:53] [INFO] [ReplayManager] Recording frame 1740 (29,1s): player_valid=False, enemies=10
[07:22:53] [ENEMY] [PatrolEnemy1] PATROL corner check: angle -90.0°
[07:22:53] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -90.0°
[07:22:53] [ENEMY] [PatrolEnemy1] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-90.0°, current=0.0°, player=(2864,2100), corner_timer=0.30
[07:22:53] [ENEMY] [PatrolEnemy2] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-90.0°, current=0.0°, player=(2864,2100), corner_timer=0.30
[07:22:53] [INFO] [SoundPropagation] Sound emitted: type=GRENADE_LANDING, pos=(3400.246, 2093.755), source=NEUTRAL (FragGrenade), range=112, listeners=26
[07:22:53] [INFO] [SoundPropagation] Cleaned up 13 invalid listeners
[07:22:53] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=13, self=0, below_threshold=0
[07:22:53] [INFO] [GrenadeBase] Grenade landed at (3400.246, 2093.755)
[07:22:53] [INFO] [FragGrenade] Impact detected - exploding immediately!
[07:22:53] [INFO] [GrenadeBase] EXPLODED at (3400.246, 2093.755)!
[07:22:53] [INFO] [PowerFantasy] Grenade exploded - triggering last chance time-freeze effect for 2000ms
[07:22:53] [INFO] [LastChance] Grenade explosion triggering last chance effect for 2.00 seconds
[07:22:53] [INFO] [LastChance] Starting last chance effect:
[07:22:53] [INFO] [LastChance]   - Time will be frozen (except player)
[07:22:53] [INFO] [LastChance]   - Duration: 2.00 real seconds
[07:22:53] [INFO] [LastChance]   - Trigger: grenade explosion
[07:22:53] [INFO] [LastChance]   - Sepia intensity: 0.70
[07:22:53] [INFO] [LastChance]   - Brightness: 0.60
[07:22:53] [INFO] [LastChance] Set player Player and all 25 children to PROCESS_MODE_ALWAYS
[07:22:53] [INFO] [LastChance] Set StaticBody2D 'CenterTower' to PROCESS_MODE_ALWAYS for collision
[07:22:53] [INFO] [LastChance] Set StaticBody2D 'InnerTower' to PROCESS_MODE_ALWAYS for collision
[07:22:53] [INFO] [LastChance] Set StaticBody2D 'LeftWingTopWall' to PROCESS_MODE_ALWAYS for collision
[07:22:53] [INFO] [LastChance] Set StaticBody2D 'LeftWingBottomWall' to PROCESS_MODE_ALWAYS for collision
[07:22:53] [INFO] [LastChance] Set StaticBody2D 'LeftWingEndWall' to PROCESS_MODE_ALWAYS for collision
[07:22:53] [INFO] [LastChance] Set StaticBody2D 'RightWingTopWall' to PROCESS_MODE_ALWAYS for collision
[07:22:53] [INFO] [LastChance] Set StaticBody2D 'RightWingBottomWall' to PROCESS_MODE_ALWAYS for collision
[07:22:53] [INFO] [LastChance] Set StaticBody2D 'RightWingEndWall' to PROCESS_MODE_ALWAYS for collision
[07:22:53] [INFO] [LastChance] Set StaticBody2D 'CenterSouthWallLeft' to PROCESS_MODE_ALWAYS for collision
[07:22:53] [INFO] [LastChance] Set StaticBody2D 'CenterSouthWallRight' to PROCESS_MODE_ALWAYS for collision
[07:22:53] [INFO] [LastChance] Set StaticBody2D 'CoverLowerLeft1' to PROCESS_MODE_ALWAYS for collision
[07:22:53] [INFO] [LastChance] Set StaticBody2D 'CoverLowerLeft2' to PROCESS_MODE_ALWAYS for collision
[07:22:53] [INFO] [LastChance] Set StaticBody2D 'CoverLowerLeft3' to PROCESS_MODE_ALWAYS for collision
[07:22:53] [INFO] [LastChance] Set StaticBody2D 'CoverLowerRight1' to PROCESS_MODE_ALWAYS for collision
[07:22:53] [INFO] [LastChance] Set StaticBody2D 'CoverLowerRight2' to PROCESS_MODE_ALWAYS for collision
[07:22:53] [INFO] [LastChance] Set StaticBody2D 'CoverLowerRight3' to PROCESS_MODE_ALWAYS for collision
[07:22:53] [INFO] [LastChance] Set StaticBody2D 'CoverCenterLeft1' to PROCESS_MODE_ALWAYS for collision
[07:22:53] [INFO] [LastChance] Set StaticBody2D 'CoverCenterLeft2' to PROCESS_MODE_ALWAYS for collision
[07:22:53] [INFO] [LastChance] Set StaticBody2D 'CoverCenterLeft3' to PROCESS_MODE_ALWAYS for collision
[07:22:53] [INFO] [LastChance] Set StaticBody2D 'CoverCenterRight1' to PROCESS_MODE_ALWAYS for collision
[07:22:53] [INFO] [LastChance] Set StaticBody2D 'CoverCenterRight2' to PROCESS_MODE_ALWAYS for collision
[07:22:53] [INFO] [LastChance] Set StaticBody2D 'CoverCenterRight3' to PROCESS_MODE_ALWAYS for collision
[07:22:53] [INFO] [LastChance] Set StaticBody2D 'CoverMiddleLeft1' to PROCESS_MODE_ALWAYS for collision
[07:22:53] [INFO] [LastChance] Set StaticBody2D 'CoverMiddleLeft2' to PROCESS_MODE_ALWAYS for collision
[07:22:53] [INFO] [LastChance] Set StaticBody2D 'CoverMiddleRight1' to PROCESS_MODE_ALWAYS for collision
[07:22:53] [INFO] [LastChance] Set StaticBody2D 'CoverMiddleRight2' to PROCESS_MODE_ALWAYS for collision
[07:22:53] [INFO] [LastChance] Set StaticBody2D 'CoverLowerMidLeft1' to PROCESS_MODE_ALWAYS for collision
[07:22:53] [INFO] [LastChance] Set StaticBody2D 'CoverLowerMidRight1' to PROCESS_MODE_ALWAYS for collision
[07:22:53] [INFO] [LastChance] Set StaticBody2D 'CoverBottom1' to PROCESS_MODE_ALWAYS for collision
[07:22:53] [INFO] [LastChance] Set StaticBody2D 'CoverBottom2' to PROCESS_MODE_ALWAYS for collision
[07:22:53] [INFO] [LastChance] Skipping player node: Player
[07:22:53] [INFO] [LastChance] Froze existing grenade: FragGrenade
[07:22:53] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[07:22:53] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[07:22:53] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[07:22:53] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(3400.246, 2093.755), source=NEUTRAL (FragGrenade), range=2937, listeners=13
[07:22:53] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=13
[07:22:53] [INFO] [LastChance] Freezing newly created shrapnel: Shrapnel
[07:22:53] [INFO] [LastChance] Registered frozen shrapnel: Shrapnel
[07:22:53] [INFO] [FragGrenade] Spawned shrapnel #1 at angle 5.5 degrees
[07:22:53] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@5139
[07:22:53] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@5139
[07:22:53] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 93.7 degrees
[07:22:53] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@5140
[07:22:53] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@5140
[07:22:53] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 190.4 degrees
[07:22:53] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@5141
[07:22:53] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@5141
[07:22:53] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 277.2 degrees
[07:22:53] [INFO] [ImpactEffects] Spawning explosion visual effect at (3400.246, 2093.755) (radius=225) - using shadow-based wall occlusion
[07:22:53] [INFO] [LastChance] Freezing newly created explosion effect: @PointLight2D@5142
[07:22:53] [INFO] [LastChance] Registered frozen explosion effect: @PointLight2D@5142
[07:22:54] [INFO] [ReplayManager] Recording frame 1800 (30,1s): player_valid=False, enemies=10
[07:22:55] [INFO] [LastChance] Freezing newly fired player bullet: Bullet
[07:22:55] [INFO] [LastChance] Registered frozen player bullet: Bullet
[07:22:55] [INFO] [LastChance] Freezing newly created explosion effect: PointLight2D
[07:22:55] [INFO] [LastChance] Registered frozen explosion effect: PointLight2D
[07:22:55] [INFO] [LastChance] Freezing newly created bullet casing: Casing
[07:22:55] [INFO] [LastChance] Registered frozen bullet casing: Casing
[07:22:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2864.445, 2106), source=PLAYER (AssaultRifle), range=1469, listeners=13
[07:22:55] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=9, self=0, below_threshold=4
[07:22:55] [INFO] [ReplayManager] Recording frame 1860 (31,1s): player_valid=False, enemies=10
[07:22:55] [INFO] [LastChance] Effect duration expired after 2.01 real seconds
[07:22:55] [INFO] [LastChance] Ending last chance effect
[07:22:55] [ENEMY] [ShotgunEnemy1] Memory reset: confusion=2.0s, had_target=false
[07:22:55] [ENEMY] [ShotgunEnemy2] Memory reset: confusion=2.0s, had_target=false
[07:22:55] [ENEMY] [UziEnemy1] Memory reset: confusion=2.0s, had_target=false
[07:22:55] [ENEMY] [UziEnemy2] Memory reset: confusion=2.0s, had_target=false
[07:22:55] [ENEMY] [UziEnemy3] Memory reset: confusion=2.0s, had_target=false
[07:22:55] [ENEMY] [UziEnemyRight1] Memory reset: confusion=2.0s, had_target=false
[07:22:55] [ENEMY] [ShotgunEnemyRight1] Memory reset: confusion=2.0s, had_target=false
[07:22:55] [ENEMY] [UziEnemyCenter1] Memory reset: confusion=2.0s, had_target=false
[07:22:55] [ENEMY] [UziEnemyCenter2] Memory reset: confusion=2.0s, had_target=false
[07:22:55] [ENEMY] [PatrolEnemy1] Memory reset: confusion=2.0s, had_target=false
[07:22:55] [ENEMY] [PatrolEnemy2] Memory reset: confusion=2.0s, had_target=false
[07:22:55] [ENEMY] [LowerEnemy1] Memory reset: confusion=2.0s, had_target=false
[07:22:55] [ENEMY] [LowerEnemy2] Memory reset: confusion=2.0s, had_target=false
[07:22:55] [INFO] [LastChance] Reset memory for 13 enemies (player teleport effect)
[07:22:55] [INFO] [LastChance] All process modes restored
[07:22:55] [INFO] [LastChance] Unfroze player bullet: Bullet
[07:22:55] [INFO] [LastChance] Unfroze bullet casing: Casing
[07:22:55] [INFO] [LastChance] Unfroze shrapnel: Shrapnel
[07:22:55] [INFO] [LastChance] Unfroze shrapnel: @Area2D@5139
[07:22:55] [INFO] [LastChance] Unfroze shrapnel: @Area2D@5140
[07:22:55] [INFO] [LastChance] Unfroze shrapnel: @Area2D@5141
[07:22:55] [INFO] [LastChance] Unfroze explosion effect: @PointLight2D@5142
[07:22:55] [INFO] [LastChance] Unfroze explosion effect: PointLight2D
[07:22:55] [INFO] [LastChance] Starting visual effects fade-out over 400ms
[07:22:56] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[07:22:56] [INFO] [LastChance] Visual effects fade-out complete
[07:22:56] [INFO] [LastChance] Restored original colors to 5 player sprites
[07:22:56] [INFO] [LastChance] Called player RefreshHealthVisual (C#)
[07:22:56] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:22:56] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[07:22:56] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[07:22:56] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[07:22:56] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[07:22:56] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[07:22:56] [INFO] [LastChance] Resetting all effects (scene change detected)
[07:22:56] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[07:22:56] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[07:22:56] [ENEMY] [Enemy1] Death animation component initialized
[07:22:56] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:22:56] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[07:22:56] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[07:22:56] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[07:22:56] [ENEMY] [Enemy2] Death animation component initialized
[07:22:56] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:22:56] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[07:22:56] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[07:22:56] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[07:22:56] [ENEMY] [Enemy3] Death animation component initialized
[07:22:56] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:22:56] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[07:22:56] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[07:22:56] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[07:22:56] [ENEMY] [Enemy4] Death animation component initialized
[07:22:56] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:22:56] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[07:22:56] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[07:22:56] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[07:22:56] [ENEMY] [Enemy5] Death animation component initialized
[07:22:56] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:22:56] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[07:22:56] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[07:22:56] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[07:22:56] [ENEMY] [Enemy6] Death animation component initialized
[07:22:56] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:22:56] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[07:22:56] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[07:22:56] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[07:22:56] [ENEMY] [Enemy7] Death animation component initialized
[07:22:56] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:22:56] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[07:22:56] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[07:22:56] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[07:22:56] [ENEMY] [Enemy8] Death animation component initialized
[07:22:56] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:22:56] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[07:22:56] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[07:22:56] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[07:22:56] [ENEMY] [Enemy9] Death animation component initialized
[07:22:56] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:22:56] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[07:22:56] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[07:22:56] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[07:22:56] [ENEMY] [Enemy10] Death animation component initialized
[07:22:56] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:22:56] [INFO] [BloodyFeet:Player] Footprint scene loaded
[07:22:56] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[07:22:56] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[07:22:56] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[07:22:56] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[07:22:56] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[07:22:56] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[07:22:56] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[07:22:56] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[07:22:56] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[07:22:56] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[07:22:56] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 10/10
[07:22:56] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[07:22:56] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[07:22:56] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[07:22:56] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[07:22:56] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[07:22:56] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[07:22:56] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[07:22:56] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[07:22:56] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[07:22:56] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[07:22:56] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[07:22:56] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[07:22:56] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[07:22:56] [INFO] [ScoreManager] Level started with 10 enemies
[07:22:56] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[07:22:56] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[07:22:56] [INFO] [ReplayManager] Replay data cleared
[07:22:56] [INFO] [BuildingLevel] Previous replay data cleared
[07:22:56] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[07:22:56] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[07:22:56] [INFO] [ReplayManager] Level: BuildingLevel
[07:22:56] [INFO] [ReplayManager] Player: Player (valid: True)
[07:22:56] [INFO] [ReplayManager] Enemies count: 10
[07:22:56] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[07:22:56] [INFO] [ReplayManager]   Enemy 0: Enemy1
[07:22:56] [INFO] [ReplayManager]   Enemy 1: Enemy2
[07:22:56] [INFO] [ReplayManager]   Enemy 2: Enemy3
[07:22:56] [INFO] [ReplayManager]   Enemy 3: Enemy4
[07:22:56] [INFO] [ReplayManager]   Enemy 4: Enemy5
[07:22:56] [INFO] [ReplayManager]   Enemy 5: Enemy6
[07:22:56] [INFO] [ReplayManager]   Enemy 6: Enemy7
[07:22:56] [INFO] [ReplayManager]   Enemy 7: Enemy8
[07:22:56] [INFO] [ReplayManager]   Enemy 8: Enemy9
[07:22:56] [INFO] [ReplayManager]   Enemy 9: Enemy10
[07:22:56] [INFO] [BuildingLevel] Replay recording started successfully
[07:22:56] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[07:22:56] [INFO] [CinemaEffects] Found player node: Player
[07:22:56] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[07:22:56] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 14)
[07:22:56] [ENEMY] [Enemy1] Registered as sound listener
[07:22:56] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 2, behavior: GUARD
[07:22:56] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[07:22:56] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 15)
[07:22:56] [ENEMY] [Enemy2] Registered as sound listener
[07:22:56] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 2, behavior: GUARD
[07:22:56] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[07:22:56] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 16)
[07:22:56] [ENEMY] [Enemy3] Registered as sound listener
[07:22:56] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 2, behavior: GUARD
[07:22:56] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[07:22:56] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 17)
[07:22:56] [ENEMY] [Enemy4] Registered as sound listener
[07:22:56] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 4, behavior: GUARD
[07:22:56] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[07:22:56] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 18)
[07:22:56] [ENEMY] [Enemy5] Registered as sound listener
[07:22:56] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 4, behavior: GUARD
[07:22:56] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[07:22:56] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 19)
[07:22:56] [ENEMY] [Enemy6] Registered as sound listener
[07:22:56] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 3, behavior: GUARD
[07:22:56] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[07:22:56] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 20)
[07:22:56] [ENEMY] [Enemy7] Registered as sound listener
[07:22:56] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 2, behavior: PATROL
[07:22:56] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[07:22:56] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 21)
[07:22:56] [ENEMY] [Enemy8] Registered as sound listener
[07:22:56] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 2, behavior: GUARD
[07:22:56] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[07:22:56] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 22)
[07:22:56] [ENEMY] [Enemy9] Registered as sound listener
[07:22:56] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 2, behavior: GUARD
[07:22:56] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[07:22:56] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 23)
[07:22:56] [ENEMY] [Enemy10] Registered as sound listener
[07:22:56] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 3, behavior: PATROL
[07:22:56] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[07:22:56] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[07:22:56] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[07:22:56] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[07:22:56] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=281.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[07:22:56] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[07:22:56] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[07:22:56] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[07:22:56] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[07:22:56] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[07:22:56] [INFO] [Player] Detecting weapon pose (frame 3)...
[07:22:56] [INFO] [Player] Detected weapon: Rifle (default pose)
[07:22:56] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[07:22:56] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[07:22:56] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[07:22:56] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[07:22:56] [INFO] [LastChance] Found player: Player
[07:22:56] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[07:22:56] [INFO] [LastChance] Connected to player Damaged signal (C#)
[07:22:56] [INFO] [LastChance] Connected to player Died signal (C#)
[07:22:56] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[07:22:57] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[07:22:57] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[07:22:57] [INFO] [Player.Grenade] G pressed - starting grab animation
[07:22:57] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[07:22:57] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (590.6779, 1128.0319)
[07:22:57] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[07:22:57] [INFO] [GrenadeBase] CCD enabled (mode: CAST_RAY) to prevent wall tunneling
[07:22:57] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[07:22:57] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[07:22:57] [INFO] [GrenadeTimer] Initialized for Frag grenade, effect radius: 225
[07:22:57] [INFO] [Player.Grenade] Added GrenadeTimer component (type: Frag)
[07:22:57] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[07:22:57] [INFO] [GrenadeTimer] Timer activated! 4 seconds until explosion
[07:22:57] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1149.6666)
[07:22:57] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[07:22:57] [INFO] [Player.Grenade] Step 1 complete! Drag: (75.84973, -14.549316)
[07:22:57] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[07:22:57] [INFO] [Player.Grenade.Simple] RMB pressed after pin pull - starting trajectory aiming
[07:22:58] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[07:22:58] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[07:22:58] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,984), corner_timer=0.30
[07:22:58] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,984), corner_timer=0.30
[07:22:58] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(450,880), corner_timer=-0.02
[07:22:58] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[07:22:58] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(450,880), corner_timer=-0.02
[07:22:58] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[07:22:58] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(450,874), corner_timer=0.30
[07:22:58] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(450,874), corner_timer=0.30
[07:22:58] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[07:22:58] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(434,779), corner_timer=-0.02
[07:22:58] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[07:22:58] [INFO] [Player.Grenade.Simple] Throwing! Target: (686.76215, 709.37604), Distance: 236,1, Speed: 363,6, Friction: 280,0
[07:22:58] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,2549105
[07:22:58] [INFO] [GrenadeTimer] Grenade marked as thrown - impact detection enabled
[07:22:58] [INFO] [Player.Grenade.Simple] C# set velocity directly: dir=(0.9676859, -0.2521588), speed=363,6, spawn=(489.7823, 760.7049)
[07:22:58] [INFO] [GrenadeBase] Simple mode throw! Dir: (0.967686, -0.252159), Speed: 363.6 (clamped from 363.6, max: 1186.5)
[07:22:58] [INFO] [FragGrenade] Grenade thrown (simple mode) - impact detection enabled
[07:22:58] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[07:22:58] [INFO] [Player.Grenade.Simple] Grenade thrown!
[07:22:58] [INFO] [Player.Grenade] State reset to IDLE
[07:22:58] [INFO] [Player.Grenade] State reset to IDLE
[07:22:58] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[07:22:58] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(431,775), corner_timer=0.30
[07:22:58] [INFO] [Player.Grenade] Player rotation restored to 0
[07:22:59] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[07:22:59] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(365,769), corner_timer=-0.02
[07:22:59] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[07:22:59] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.6°, player=(363,772), corner_timer=0.30
[07:22:59] [INFO] [GrenadeTimer] Frag grenade landed - EXPLODING!
[07:22:59] [INFO] [GrenadeTimer] EXPLODED at (622.9479, 726.0048)!
[07:22:59] [INFO] [GrenadeTimer] Applying frag explosion damage (radius: 225, damage: 99)
[07:22:59] [ENEMY] [Enemy3] Hit taken, damage: 1, health: 2/2 -> 1/2
[07:22:59] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[07:22:59] [INFO] [ImpactEffects] spawn_blood_effect called at (700, 750), dir=(0.954774, 0.297331), lethal=false
[07:22:59] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[07:22:59] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[07:22:59] [INFO] [ImpactEffects] Blood effect spawned at (700, 750) (scale=1)
[07:22:59] [ENEMY] [Enemy3] Hit taken, damage: 1, health: 1/2 -> 0/2
[07:22:59] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[07:22:59] [INFO] [ImpactEffects] spawn_blood_effect called at (700, 750), dir=(0.954774, 0.297331), lethal=true
[07:22:59] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[07:22:59] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[07:22:59] [INFO] [ImpactEffects] Blood effect spawned at (700, 750) (scale=1.5)
[07:22:59] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[07:22:59] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[07:22:59] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[07:22:59] [INFO] [PowerFantasy] Starting power fantasy effect:
[07:22:59] [INFO] [PowerFantasy]   - Time scale: 0.10
[07:22:59] [INFO] [PowerFantasy]   - Duration: 300ms
[07:22:59] [ENEMY] [Enemy3] [AllyDeath] Notified 2 enemies
[07:22:59] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 22)
[07:22:59] [INFO] [DeathAnim] Started - Angle: 17.3 deg, Index: 13
[07:22:59] [ENEMY] [Enemy3] Death animation started with hit direction: (0.954774, 0.297331)
[07:22:59] [INFO] [GrenadeTimer] Damaged enemy at distance 80,7
[07:22:59] [INFO] [GrenadeTimer] Spawned 4 shrapnel pieces
[07:22:59] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(622.9479, 726.0048), source=NEUTRAL (FragGrenade), range=2938, listeners=22
[07:22:59] [INFO] [SoundPropagation] Cleaned up 13 invalid listeners
[07:22:59] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=0, below_threshold=6
[07:22:59] [INFO] [GrenadeTimer] Spawned PointLight2D frag explosion flash at (622.9479, 726.0048) (shadow-based wall occlusion)
[07:22:59] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(350,861), corner_timer=-0.02
[07:22:59] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[07:22:59] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.8°, current=3.7°, player=(350,862), corner_timer=0.30
[07:22:59] [INFO] [ReplayManager] Recording frame 180 (2,9s): player_valid=True, enemies=10
[07:22:59] [INFO] [PowerFantasy] Effect duration expired after 316.00 ms
[07:22:59] [INFO] [PowerFantasy] Ending power fantasy effect
[07:22:59] [ENEMY] [Enemy4] Hit taken, damage: 1, health: 4/4 -> 3/4
[07:22:59] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[07:22:59] [INFO] [ImpactEffects] spawn_blood_effect called at (800, 900), dir=(0.995035, 0.099525), lethal=false
[07:22:59] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[07:22:59] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[07:22:59] [INFO] [ImpactEffects] Blood effect spawned at (800, 900) (scale=1)
[07:22:59] [INFO] [BloodDecal] Blood puddle created at (772.7614, 793.6752) (added to group)
[07:22:59] [INFO] [BloodDecal] Blood puddle created at (763.1128, 796.6086) (added to group)
[07:22:59] [INFO] [BloodDecal] Blood puddle created at (756.2849, 775.1996) (added to group)
[07:23:00] [INFO] [BloodDecal] Blood puddle created at (803.8501, 784.3029) (added to group)
[07:23:00] [ENEMY] [Enemy4] Hit taken, damage: 1, health: 3/4 -> 2/4
[07:23:00] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[07:23:00] [INFO] [ImpactEffects] spawn_blood_effect called at (800, 900), dir=(0.998767, 0.049637), lethal=false
[07:23:00] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[07:23:00] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[07:23:00] [INFO] [ImpactEffects] Blood effect spawned at (800, 900) (scale=1)
[07:23:00] [INFO] [BloodDecal] Blood puddle created at (755.5736, 787.0934) (added to group)
[07:23:00] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.8°, player=(350,964), corner_timer=-0.01
[07:23:00] [ENEMY] [Enemy10] PATROL corner check: angle 1.0°
[07:23:00] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.0°, current=4.6°, player=(350,970), corner_timer=0.30
[07:23:00] [INFO] [BloodDecal] Blood puddle created at (781.1063, 800.3055) (added to group)
[07:23:00] [INFO] [BloodDecal] Blood puddle created at (774.9312, 809.8668) (added to group)
[07:23:00] [INFO] [BloodDecal] Blood puddle created at (811.9548, 836.9017) (added to group)
[07:23:00] [INFO] [BloodDecal] Blood puddle created at (799.2701, 819.2752) (added to group)
[07:23:00] [INFO] [BloodDecal] Blood puddle created at (848.0499, 912.4112) (added to group)
[07:23:00] [INFO] [BloodDecal] Blood puddle created at (866.6422, 901.619) (added to group)
[07:23:00] [INFO] [BloodDecal] Blood puddle created at (888.2838, 953.8773) (added to group)
[07:23:00] [INFO] [BloodDecal] Blood puddle created at (880.8179, 959.9291) (added to group)
[07:23:00] [ENEMY] [Enemy3] Ragdoll activated
[07:23:00] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[07:23:00] [INFO] [BloodDecal] Blood puddle created at (827.8546, 817.7422) (added to group)
[07:23:00] [INFO] [BloodDecal] Blood puddle created at (882.9201, 923.0802) (added to group)
[07:23:00] [INFO] [BloodDecal] Blood puddle created at (879.3199, 880.8987) (added to group)
[07:23:00] [INFO] [BloodDecal] Blood puddle created at (829.254, 858.9707) (added to group)
[07:23:00] [INFO] [BloodDecal] Blood puddle created at (849.7068, 804.5834) (added to group)
[07:23:00] [INFO] [BloodDecal] Blood puddle created at (842.3349, 920.3716) (added to group)
[07:23:00] [INFO] [BloodDecal] Blood puddle created at (885.5667, 884.0526) (added to group)
[07:23:00] [INFO] [BloodDecal] Blood puddle created at (826.8936, 854.6101) (added to group)
[07:23:00] [INFO] [BloodDecal] Blood puddle created at (866.3421, 844.6664) (added to group)
[07:23:00] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:23:00] [INFO] [BloodDecal] Blood puddle created at (869.4808, 859.3387) (added to group)
[07:23:00] [INFO] [BloodDecal] Blood puddle created at (900.2534, 936.1901) (added to group)
[07:23:00] [INFO] [BloodDecal] Blood puddle created at (864.5529, 880.0831) (added to group)
[07:23:00] [INFO] [ReplayManager] Recording frame 240 (3,7s): player_valid=True, enemies=10
[07:23:00] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=-130.1°, player=(350,1103), corner_timer=-0.02
[07:23:00] [ENEMY] [Enemy7] PATROL corner check: angle 90.0°
[07:23:00] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=-133.0°, player=(350,1104), corner_timer=0.30
[07:23:00] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[07:23:00] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:23:00] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[07:23:00] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[07:23:00] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[07:23:00] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[07:23:00] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[07:23:00] [INFO] [LastChance] Resetting all effects (scene change detected)
[07:23:00] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[07:23:00] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[07:23:00] [ENEMY] [Enemy1] Death animation component initialized
[07:23:00] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:23:00] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[07:23:00] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[07:23:00] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[07:23:00] [ENEMY] [Enemy2] Death animation component initialized
[07:23:00] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:23:00] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[07:23:00] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[07:23:00] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[07:23:00] [ENEMY] [Enemy3] Death animation component initialized
[07:23:00] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:23:00] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[07:23:00] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[07:23:00] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[07:23:00] [ENEMY] [Enemy4] Death animation component initialized
[07:23:00] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:23:00] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[07:23:00] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[07:23:00] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[07:23:00] [ENEMY] [Enemy5] Death animation component initialized
[07:23:00] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:23:00] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[07:23:00] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[07:23:00] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[07:23:00] [ENEMY] [Enemy6] Death animation component initialized
[07:23:00] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:23:00] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[07:23:00] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[07:23:00] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[07:23:00] [ENEMY] [Enemy7] Death animation component initialized
[07:23:00] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:23:00] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[07:23:00] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[07:23:00] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[07:23:00] [ENEMY] [Enemy8] Death animation component initialized
[07:23:00] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:23:00] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[07:23:00] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[07:23:00] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[07:23:00] [ENEMY] [Enemy9] Death animation component initialized
[07:23:00] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:23:00] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[07:23:00] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[07:23:00] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[07:23:00] [ENEMY] [Enemy10] Death animation component initialized
[07:23:00] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:23:00] [INFO] [BloodyFeet:Player] Footprint scene loaded
[07:23:00] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[07:23:00] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[07:23:00] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[07:23:00] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[07:23:00] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[07:23:00] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[07:23:00] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[07:23:00] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[07:23:00] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[07:23:00] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[07:23:00] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 10/10
[07:23:00] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[07:23:00] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[07:23:00] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[07:23:00] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[07:23:00] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[07:23:00] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[07:23:00] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[07:23:00] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[07:23:00] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[07:23:00] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[07:23:00] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[07:23:00] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[07:23:00] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[07:23:00] [INFO] [ScoreManager] Level started with 10 enemies
[07:23:00] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[07:23:00] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[07:23:00] [INFO] [ReplayManager] Replay data cleared
[07:23:00] [INFO] [BuildingLevel] Previous replay data cleared
[07:23:00] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[07:23:00] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[07:23:00] [INFO] [ReplayManager] Level: BuildingLevel
[07:23:00] [INFO] [ReplayManager] Player: Player (valid: True)
[07:23:00] [INFO] [ReplayManager] Enemies count: 10
[07:23:00] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[07:23:00] [INFO] [ReplayManager]   Enemy 0: Enemy1
[07:23:00] [INFO] [ReplayManager]   Enemy 1: Enemy2
[07:23:00] [INFO] [ReplayManager]   Enemy 2: Enemy3
[07:23:00] [INFO] [ReplayManager]   Enemy 3: Enemy4
[07:23:00] [INFO] [ReplayManager]   Enemy 4: Enemy5
[07:23:00] [INFO] [ReplayManager]   Enemy 5: Enemy6
[07:23:00] [INFO] [ReplayManager]   Enemy 6: Enemy7
[07:23:00] [INFO] [ReplayManager]   Enemy 7: Enemy8
[07:23:00] [INFO] [ReplayManager]   Enemy 8: Enemy9
[07:23:00] [INFO] [ReplayManager]   Enemy 9: Enemy10
[07:23:00] [INFO] [BuildingLevel] Replay recording started successfully
[07:23:00] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[07:23:00] [INFO] [CinemaEffects] Found player node: Player
[07:23:00] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[07:23:00] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[07:23:00] [ENEMY] [Enemy1] Registered as sound listener
[07:23:00] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 4, behavior: GUARD
[07:23:00] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[07:23:00] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[07:23:00] [ENEMY] [Enemy2] Registered as sound listener
[07:23:00] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 3, behavior: GUARD
[07:23:00] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[07:23:00] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[07:23:00] [ENEMY] [Enemy3] Registered as sound listener
[07:23:00] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 4, behavior: GUARD
[07:23:00] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[07:23:00] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[07:23:00] [ENEMY] [Enemy4] Registered as sound listener
[07:23:00] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 3, behavior: GUARD
[07:23:00] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[07:23:00] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[07:23:00] [ENEMY] [Enemy5] Registered as sound listener
[07:23:00] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 3, behavior: GUARD
[07:23:00] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[07:23:00] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[07:23:00] [ENEMY] [Enemy6] Registered as sound listener
[07:23:00] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 3, behavior: GUARD
[07:23:00] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[07:23:00] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[07:23:00] [ENEMY] [Enemy7] Registered as sound listener
[07:23:00] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 3, behavior: PATROL
[07:23:00] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[07:23:00] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[07:23:00] [ENEMY] [Enemy8] Registered as sound listener
[07:23:00] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 4, behavior: GUARD
[07:23:00] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[07:23:00] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[07:23:00] [ENEMY] [Enemy9] Registered as sound listener
[07:23:00] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 3, behavior: GUARD
[07:23:00] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[07:23:00] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[07:23:00] [ENEMY] [Enemy10] Registered as sound listener
[07:23:00] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 4, behavior: PATROL
[07:23:00] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[07:23:00] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[07:23:00] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[07:23:00] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[07:23:00] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[07:23:00] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[07:23:00] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[07:23:00] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[07:23:00] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[07:23:00] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=337.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[07:23:00] [INFO] [Player] Detecting weapon pose (frame 3)...
[07:23:00] [INFO] [Player] Detected weapon: Rifle (default pose)
[07:23:00] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[07:23:00] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[07:23:00] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[07:23:00] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[07:23:00] [INFO] [LastChance] Found player: Player
[07:23:00] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[07:23:00] [INFO] [LastChance] Connected to player Damaged signal (C#)
[07:23:00] [INFO] [LastChance] Connected to player Died signal (C#)
[07:23:00] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[07:23:01] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[07:23:01] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[07:23:01] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[07:23:01] [INFO] [Player.Grenade] G pressed - starting grab animation
[07:23:01] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[07:23:01] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (765.3478, 1109.1581)
[07:23:01] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[07:23:01] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[07:23:01] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[07:23:01] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[07:23:01] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[07:23:01] [INFO] [Player.Grenade] G pressed - starting grab animation
[07:23:02] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[07:23:02] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (920.3506, 893.199)
[07:23:02] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[07:23:02] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[07:23:02] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[07:23:02] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,825), corner_timer=0.30
[07:23:02] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,825), corner_timer=0.30
[07:23:02] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[07:23:02] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[07:23:02] [INFO] [Player.Grenade] G pressed - starting grab animation
[07:23:02] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(450,728), corner_timer=-0.02
[07:23:02] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[07:23:02] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(450,728), corner_timer=-0.02
[07:23:02] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[07:23:02] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(450,728), corner_timer=0.30
[07:23:02] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(450,728), corner_timer=0.30
[07:23:02] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[07:23:02] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1260.6199, 711.8917)
[07:23:02] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[07:23:02] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(450,728), corner_timer=-0.02
[07:23:02] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[07:23:02] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(450,728), corner_timer=0.30
[07:23:03] [INFO] [Player.Grenade] Step 1 failed: drag not far enough right (19,37915 < 30)
[07:23:03] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(450,728), corner_timer=-0.02
[07:23:03] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[07:23:03] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.6°, player=(450,728), corner_timer=0.30
[07:23:03] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[07:23:03] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (511.73242, 666.07117)
[07:23:03] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(450,728), corner_timer=-0.02
[07:23:03] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[07:23:03] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.8°, current=6.3°, player=(450,728), corner_timer=0.30
[07:23:03] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=10
[07:23:03] [INFO] [GrenadeBase] CCD enabled (mode: CAST_RAY) to prevent wall tunneling
[07:23:03] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[07:23:03] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[07:23:03] [INFO] [GrenadeTimer] Initialized for Frag grenade, effect radius: 225
[07:23:03] [INFO] [Player.Grenade] Added GrenadeTimer component (type: Frag)
[07:23:03] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[07:23:03] [INFO] [GrenadeTimer] Timer activated! 4 seconds until explosion
[07:23:03] [INFO] [Player.Grenade] Timer started, grenade created at (450, 728.0005)
[07:23:03] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[07:23:03] [INFO] [Player.Grenade] Step 1 complete! Drag: (768.2672, 80.09589)
[07:23:03] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.8°, player=(450,728), corner_timer=-0.02
[07:23:03] [ENEMY] [Enemy10] PATROL corner check: angle 0.9°
[07:23:03] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=0.9°, current=4.6°, player=(450,728), corner_timer=0.30
[07:23:04] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[07:23:04] [INFO] [Player.Grenade.Simple] RMB pressed after pin pull - starting trajectory aiming
[07:23:04] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:23:04] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=-130.1°, player=(450,728), corner_timer=-0.02
[07:23:04] [ENEMY] [Enemy7] PATROL corner check: angle 90.0°
[07:23:04] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=-133.0°, player=(450,728), corner_timer=0.30
[07:23:04] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:23:04] [INFO] [Player.Grenade.Simple] Throwing! Target: (807.0142, 719.9866), Distance: 344,6, Speed: 439,3, Friction: 280,0
[07:23:04] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,02244328
[07:23:04] [INFO] [GrenadeTimer] Grenade marked as thrown - impact detection enabled
[07:23:04] [INFO] [Player.Grenade.Simple] C# set velocity directly: dir=(0.9997482, -0.022441396), speed=439,3, spawn=(509.9849, 726.654)
[07:23:04] [INFO] [GrenadeBase] Simple mode throw! Dir: (0.999748, -0.022441), Speed: 439.3 (clamped from 439.3, max: 1186.5)
[07:23:04] [INFO] [FragGrenade] Grenade thrown (simple mode) - impact detection enabled
[07:23:04] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[07:23:04] [INFO] [Player.Grenade.Simple] Grenade thrown!
[07:23:04] [INFO] [Player.Grenade] State reset to IDLE
[07:23:04] [INFO] [Player.Grenade] State reset to IDLE
[07:23:04] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[07:23:04] [INFO] [ReplayManager] Recording frame 240 (4,0s): player_valid=True, enemies=10
[07:23:04] [INFO] [Player.Grenade] Player rotation restored to 0
[07:23:04] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=179.1°, current=172.4°, player=(450,728), corner_timer=-0.02
[07:23:04] [ENEMY] [Enemy7] PATROL corner check: angle 89.8°
[07:23:04] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.8°, current=175.3°, player=(450,728), corner_timer=0.30
[07:23:04] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:23:04] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[07:23:05] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=178.4°, current=120.7°, player=(419,764), corner_timer=-0.02
[07:23:05] [ENEMY] [Enemy7] PATROL corner check: angle 89.7°
[07:23:05] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.7°, current=123.6°, player=(415,768), corner_timer=0.30
[07:23:05] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:23:05] [INFO] [GrenadeBase] Collision detected with Enemy3 (type: CharacterBody2D)
[07:23:05] [INFO] [FragGrenade] Impact detected! Body: Enemy3 (type: CharacterBody2D), triggering explosion
[07:23:05] [INFO] [FragGrenade] Impact detected - exploding immediately!
[07:23:05] [INFO] [GrenadeBase] EXPLODED at (685.0748, 721.2593)!
[07:23:05] [INFO] [PowerFantasy] Grenade exploded - triggering last chance time-freeze effect for 2000ms
[07:23:05] [INFO] [LastChance] Grenade explosion triggering last chance effect for 2.00 seconds
[07:23:05] [INFO] [LastChance] Starting last chance effect:
[07:23:05] [INFO] [LastChance]   - Time will be frozen (except player)
[07:23:05] [INFO] [LastChance]   - Duration: 2.00 real seconds
[07:23:05] [INFO] [LastChance]   - Trigger: grenade explosion
[07:23:05] [INFO] [LastChance]   - Sepia intensity: 0.70
[07:23:05] [INFO] [LastChance]   - Brightness: 0.60
[07:23:05] [INFO] [LastChance] Set player Player and all 25 children to PROCESS_MODE_ALWAYS
[07:23:05] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[07:23:05] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[07:23:05] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[07:23:05] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[07:23:05] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[07:23:05] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[07:23:05] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[07:23:05] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[07:23:05] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[07:23:05] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[07:23:05] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[07:23:05] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[07:23:05] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[07:23:05] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[07:23:05] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[07:23:05] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[07:23:05] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[07:23:05] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[07:23:05] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[07:23:05] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[07:23:05] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[07:23:05] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[07:23:05] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[07:23:05] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[07:23:05] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[07:23:05] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[07:23:05] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[07:23:05] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[07:23:05] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[07:23:05] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[07:23:05] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[07:23:05] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[07:23:05] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[07:23:05] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[07:23:05] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[07:23:05] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[07:23:05] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[07:23:05] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[07:23:05] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[07:23:05] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[07:23:05] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[07:23:05] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[07:23:05] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[07:23:05] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[07:23:05] [INFO] [LastChance] Skipping player node: Player
[07:23:05] [INFO] [LastChance] Froze existing grenade: FragGrenade
[07:23:05] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[07:23:05] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[07:23:05] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[07:23:05] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(685.0748, 721.2593), source=NEUTRAL (FragGrenade), range=2937, listeners=19
[07:23:05] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[07:23:05] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=0, below_threshold=7
[07:23:05] [ENEMY] [Enemy3] Hit taken, damage: 1, health: 4/4 -> 3/4
[07:23:05] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[07:23:05] [INFO] [ImpactEffects] spawn_blood_effect called at (700, 750), dir=(0.460868, 0.887469), lethal=false
[07:23:05] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[07:23:05] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[07:23:05] [INFO] [ImpactEffects] Wall found for blood splatter at (731.1584, 810) (dist=67 px)
[07:23:05] [INFO] [BloodDecal] Blood puddle created at (731.1584, 809) (added to group)
[07:23:05] [INFO] [ImpactEffects] Blood effect spawned at (700, 750) (scale=1)
[07:23:05] [ENEMY] [Enemy3] Hit taken, damage: 1, health: 3/4 -> 2/4
[07:23:05] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[07:23:05] [INFO] [ImpactEffects] spawn_blood_effect called at (700, 750), dir=(0.460868, 0.887469), lethal=false
[07:23:05] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[07:23:05] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[07:23:05] [INFO] [ImpactEffects] Wall found for blood splatter at (731.1584, 810) (dist=67 px)
[07:23:05] [INFO] [BloodDecal] Blood puddle created at (731.1584, 809) (added to group)
[07:23:05] [INFO] [ImpactEffects] Blood effect spawned at (700, 750) (scale=1)
[07:23:05] [ENEMY] [Enemy3] Hit taken, damage: 1, health: 2/4 -> 1/4
[07:23:05] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[07:23:05] [INFO] [ImpactEffects] spawn_blood_effect called at (700, 750), dir=(0.460868, 0.887469), lethal=false
[07:23:05] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[07:23:05] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[07:23:05] [INFO] [ImpactEffects] Wall found for blood splatter at (731.1584, 810) (dist=67 px)
[07:23:05] [INFO] [BloodDecal] Blood puddle created at (731.1584, 809) (added to group)
[07:23:05] [INFO] [ImpactEffects] Blood effect spawned at (700, 750) (scale=1)
[07:23:05] [ENEMY] [Enemy3] Hit taken, damage: 1, health: 1/4 -> 0/4
[07:23:05] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[07:23:05] [INFO] [ImpactEffects] spawn_blood_effect called at (700, 750), dir=(0.460868, 0.887469), lethal=true
[07:23:05] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[07:23:05] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[07:23:05] [INFO] [ImpactEffects] Wall found for blood splatter at (731.1584, 810) (dist=67 px)
[07:23:05] [INFO] [BloodDecal] Blood puddle created at (731.1584, 809) (added to group)
[07:23:05] [INFO] [ImpactEffects] Blood effect spawned at (700, 750) (scale=1.5)
[07:23:05] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[07:23:05] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[07:23:05] [INFO] [PowerFantasy] Enemy killed - skipping 300ms effect (LastChance time-freeze already active)
[07:23:05] [ENEMY] [Enemy3] [AllyDeath] Notified 2 enemies
[07:23:05] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[07:23:05] [INFO] [DeathAnim] Started - Angle: 62.6 deg, Index: 16
[07:23:05] [ENEMY] [Enemy3] Death animation started with hit direction: (0.460868, 0.887469)
[07:23:05] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 32.4
[07:23:05] [INFO] [LastChance] Freezing newly created shrapnel: Shrapnel
[07:23:05] [INFO] [LastChance] Registered frozen shrapnel: Shrapnel
[07:23:05] [INFO] [FragGrenade] Spawned shrapnel #1 at angle -17.5 degrees
[07:23:05] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@5707
[07:23:05] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@5707
[07:23:05] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 91.4 degrees
[07:23:05] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@5708
[07:23:05] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@5708
[07:23:05] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 173.3 degrees
[07:23:05] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@5709
[07:23:05] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@5709
[07:23:05] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 270.1 degrees
[07:23:05] [INFO] [ImpactEffects] Spawning explosion visual effect at (685.0748, 721.2593) (radius=225) - using shadow-based wall occlusion
[07:23:05] [INFO] [LastChance] Freezing newly created explosion effect: @PointLight2D@5710
[07:23:05] [INFO] [LastChance] Registered frozen explosion effect: @PointLight2D@5710
[07:23:05] [INFO] [GrenadeTimer] Impact detected with Enemy3 - EXPLODING!
[07:23:05] [INFO] [GrenadeTimer] EXPLODED at (685.07477, 721.2593)!
[07:23:05] [INFO] [GrenadeTimer] Applying frag explosion damage (radius: 225, damage: 99)
[07:23:05] [INFO] [GrenadeTimer] Damaged enemy at distance 32,4
[07:23:05] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@5711
[07:23:05] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@5711
[07:23:05] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@5712
[07:23:05] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@5712
[07:23:05] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@5713
[07:23:05] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@5713
[07:23:05] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@5714
[07:23:05] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@5714
[07:23:05] [INFO] [GrenadeTimer] Spawned 4 shrapnel pieces
[07:23:05] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(685.0748, 721.2593), source=NEUTRAL (FragGrenade), range=2938, listeners=9
[07:23:05] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=7
[07:23:05] [INFO] [LastChance] Freezing newly created explosion visual effect (Node2D): ExplosionFlash
[07:23:05] [INFO] [LastChance] Registered frozen explosion visual: ExplosionFlash
[07:23:05] [INFO] [LastChance] Freezing newly created explosion effect: PointLight2D
[07:23:05] [INFO] [LastChance] Registered frozen explosion effect: PointLight2D
[07:23:05] [INFO] [GrenadeTimer] Spawned PointLight2D frag explosion flash at (685.07477, 721.2593) (shadow-based wall occlusion)
[07:23:05] [INFO] [BloodDecal] Blood puddle created at (702.8564, 805.1282) (added to group)
[07:23:05] [INFO] [BloodDecal] Blood puddle created at (702.4108, 809.2462) (added to group)
[07:23:05] [INFO] [ReplayManager] Recording frame 300 (5,0s): player_valid=True, enemies=10
[07:23:06] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[07:23:06] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:23:06] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[07:23:06] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[07:23:06] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[07:23:06] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[07:23:06] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[07:23:06] [INFO] [LastChance] Resetting all effects (scene change detected)
[07:23:06] [INFO] [LastChance] All process modes restored
[07:23:06] [INFO] [LastChance] Restored original colors to 5 player sprites
[07:23:06] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[07:23:06] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[07:23:06] [ENEMY] [Enemy1] Death animation component initialized
[07:23:06] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:23:06] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[07:23:06] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[07:23:06] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[07:23:06] [ENEMY] [Enemy2] Death animation component initialized
[07:23:06] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:23:06] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[07:23:06] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[07:23:06] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[07:23:06] [ENEMY] [Enemy3] Death animation component initialized
[07:23:06] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:23:06] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[07:23:06] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[07:23:06] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[07:23:06] [ENEMY] [Enemy4] Death animation component initialized
[07:23:06] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:23:06] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[07:23:06] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[07:23:06] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[07:23:06] [ENEMY] [Enemy5] Death animation component initialized
[07:23:06] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:23:06] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[07:23:06] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[07:23:06] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[07:23:06] [INFO] [EnemyGrenade] Initialized: 1 grenades
[07:23:06] [ENEMY] [Enemy6] Death animation component initialized
[07:23:06] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:23:06] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[07:23:06] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[07:23:06] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[07:23:06] [ENEMY] [Enemy7] Death animation component initialized
[07:23:06] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:23:06] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[07:23:06] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[07:23:06] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[07:23:06] [ENEMY] [Enemy8] Death animation component initialized
[07:23:06] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:23:06] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[07:23:06] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[07:23:06] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[07:23:06] [ENEMY] [Enemy9] Death animation component initialized
[07:23:06] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:23:06] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[07:23:06] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[07:23:06] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[07:23:06] [ENEMY] [Enemy10] Death animation component initialized
[07:23:06] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:23:06] [INFO] [BloodyFeet:Player] Footprint scene loaded
[07:23:06] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[07:23:06] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[07:23:06] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[07:23:06] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[07:23:06] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[07:23:06] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[07:23:06] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[07:23:06] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[07:23:06] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[07:23:06] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[07:23:06] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 10/10
[07:23:06] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[07:23:06] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[07:23:06] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[07:23:06] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[07:23:06] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[07:23:06] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[07:23:06] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[07:23:06] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[07:23:06] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[07:23:06] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[07:23:06] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[07:23:06] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[07:23:06] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[07:23:06] [INFO] [ScoreManager] Level started with 10 enemies
[07:23:06] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[07:23:06] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[07:23:06] [INFO] [ReplayManager] Replay data cleared
[07:23:06] [INFO] [BuildingLevel] Previous replay data cleared
[07:23:06] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[07:23:06] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[07:23:06] [INFO] [ReplayManager] Level: BuildingLevel
[07:23:06] [INFO] [ReplayManager] Player: Player (valid: True)
[07:23:06] [INFO] [ReplayManager] Enemies count: 10
[07:23:06] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[07:23:06] [INFO] [ReplayManager]   Enemy 0: Enemy1
[07:23:06] [INFO] [ReplayManager]   Enemy 1: Enemy2
[07:23:06] [INFO] [ReplayManager]   Enemy 2: Enemy3
[07:23:06] [INFO] [ReplayManager]   Enemy 3: Enemy4
[07:23:06] [INFO] [ReplayManager]   Enemy 4: Enemy5
[07:23:06] [INFO] [ReplayManager]   Enemy 5: Enemy6
[07:23:06] [INFO] [ReplayManager]   Enemy 6: Enemy7
[07:23:06] [INFO] [ReplayManager]   Enemy 7: Enemy8
[07:23:06] [INFO] [ReplayManager]   Enemy 8: Enemy9
[07:23:06] [INFO] [ReplayManager]   Enemy 9: Enemy10
[07:23:06] [INFO] [BuildingLevel] Replay recording started successfully
[07:23:06] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[07:23:06] [INFO] [CinemaEffects] Found player node: Player
[07:23:06] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[07:23:06] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[07:23:06] [ENEMY] [Enemy1] Registered as sound listener
[07:23:06] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 3, behavior: GUARD
[07:23:06] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[07:23:06] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[07:23:06] [ENEMY] [Enemy2] Registered as sound listener
[07:23:06] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 3, behavior: GUARD
[07:23:06] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[07:23:06] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[07:23:06] [ENEMY] [Enemy3] Registered as sound listener
[07:23:06] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 2, behavior: GUARD
[07:23:06] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[07:23:06] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[07:23:06] [ENEMY] [Enemy4] Registered as sound listener
[07:23:06] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 4, behavior: GUARD
[07:23:06] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[07:23:06] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[07:23:06] [ENEMY] [Enemy5] Registered as sound listener
[07:23:06] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 3, behavior: GUARD
[07:23:06] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[07:23:06] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[07:23:06] [ENEMY] [Enemy6] Registered as sound listener
[07:23:06] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 3, behavior: GUARD
[07:23:06] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[07:23:06] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[07:23:06] [ENEMY] [Enemy7] Registered as sound listener
[07:23:06] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 4, behavior: PATROL
[07:23:06] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[07:23:06] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[07:23:06] [ENEMY] [Enemy8] Registered as sound listener
[07:23:06] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 2, behavior: GUARD
[07:23:06] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[07:23:06] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[07:23:06] [ENEMY] [Enemy9] Registered as sound listener
[07:23:06] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 4, behavior: GUARD
[07:23:06] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[07:23:06] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[07:23:06] [ENEMY] [Enemy10] Registered as sound listener
[07:23:06] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 3, behavior: PATROL
[07:23:06] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[07:23:06] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[07:23:06] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[07:23:06] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[07:23:06] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[07:23:06] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[07:23:06] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[07:23:06] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[07:23:06] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[07:23:06] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[07:23:06] [INFO] [Player] Detecting weapon pose (frame 3)...
[07:23:06] [INFO] [Player] Detected weapon: Rifle (default pose)
[07:23:06] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[07:23:06] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[07:23:06] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[07:23:06] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[07:23:06] [INFO] [LastChance] Found player: Player
[07:23:06] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[07:23:06] [INFO] [LastChance] Connected to player Damaged signal (C#)
[07:23:06] [INFO] [LastChance] Connected to player Died signal (C#)
[07:23:06] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[07:23:07] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[07:23:08] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[07:23:09] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=10
[07:23:09] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[07:23:09] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[07:23:09] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[07:23:09] [INFO] [LastChance] Resetting all effects (scene change detected)
[07:23:09] [INFO] [CinemaEffects] Scene changed to: TestTier
[07:23:09] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[07:23:09] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:23:09] [INFO] [BloodyFeet:Player] Footprint scene loaded
[07:23:09] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[07:23:09] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[07:23:09] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[07:23:09] [INFO] [Player.Grenade] Tutorial level detected - infinite grenades enabled
[07:23:09] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[07:23:09] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[07:23:09] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[07:23:09] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[07:23:09] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[07:23:09] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[07:23:09] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 3/3, Health: 10/10
[07:23:09] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[07:23:09] [INFO] [CinemaEffects] Found player node: Player
[07:23:09] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[07:23:09] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[07:23:09] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[07:23:09] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[07:23:09] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[07:23:09] [INFO] [LastChance] Found player: Player
[07:23:09] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[07:23:09] [INFO] [LastChance] Connected to player Damaged signal (C#)
[07:23:09] [INFO] [LastChance] Connected to player Died signal (C#)
[07:23:09] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[07:23:09] [INFO] [Player] Detecting weapon pose (frame 3)...
[07:23:09] [INFO] [Player] Detected weapon: Rifle (default pose)
[07:23:09] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[07:23:10] [INFO] [ReplayManager] Recording frame 240 (4,0s): player_valid=False, enemies=10
[07:23:10] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[07:23:10] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[07:23:10] [INFO] [Player.Grenade] G pressed - starting grab animation
[07:23:10] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[07:23:10] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (494.92078, 362.67163)
[07:23:10] [INFO] [GrenadeBase] CCD enabled (mode: CAST_RAY) to prevent wall tunneling
[07:23:10] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[07:23:10] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[07:23:10] [INFO] [GrenadeTimer] Initialized for Frag grenade, effect radius: 225
[07:23:10] [INFO] [Player.Grenade] Added GrenadeTimer component (type: Frag)
[07:23:10] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[07:23:10] [INFO] [GrenadeTimer] Timer activated! 4 seconds until explosion
[07:23:10] [INFO] [Player.Grenade] Timer started, grenade created at (150, 360)
[07:23:10] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[07:23:10] [INFO] [Player.Grenade] Step 1 complete! Drag: (35.313843, 3.339508)
[07:23:10] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[07:23:10] [INFO] [Player.Grenade.Simple] RMB pressed after pin pull - starting trajectory aiming
[07:23:11] [INFO] [ReplayManager] Recording frame 300 (5,0s): player_valid=False, enemies=10
[07:23:11] [INFO] [Player.Grenade.Simple] Throwing! Target: (793.5849, 160.29684), Distance: 615,3, Speed: 587,0, Friction: 280,0
[07:23:11] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 0,02482117
[07:23:11] [INFO] [GrenadeTimer] Grenade marked as thrown - impact detection enabled
[07:23:11] [INFO] [Player.Grenade.Simple] C# set velocity directly: dir=(0.9996919, 0.02481862), speed=587,0, spawn=(263.3448, 147.13297)
[07:23:11] [INFO] [GrenadeBase] Simple mode throw! Dir: (0.999692, 0.024819), Speed: 587.0 (clamped from 587.0, max: 1186.5)
[07:23:11] [INFO] [FragGrenade] Grenade thrown (simple mode) - impact detection enabled
[07:23:11] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[07:23:11] [INFO] [Player.Grenade.Simple] Grenade thrown!
[07:23:11] [INFO] [Player.Grenade] State reset to IDLE
[07:23:11] [INFO] [Player.Grenade] State reset to IDLE
[07:23:11] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[07:23:11] [INFO] [Player.Grenade] Player rotation restored to 0
[07:23:11] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[07:23:12] [INFO] [ReplayManager] Recording frame 360 (6,0s): player_valid=False, enemies=10
[07:23:12] [INFO] [SoundPropagation] Sound emitted: type=GRENADE_LANDING, pos=(626.0778, 156.1383), source=NEUTRAL (FragGrenade), range=112, listeners=19
[07:23:12] [INFO] [SoundPropagation] Cleaned up 19 invalid listeners
[07:23:12] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:23:12] [INFO] [GrenadeBase] Grenade landed at (626.0778, 156.1383)
[07:23:12] [INFO] [FragGrenade] Impact detected - exploding immediately!
[07:23:12] [INFO] [GrenadeBase] EXPLODED at (626.0778, 156.1383)!
[07:23:12] [INFO] [PowerFantasy] Grenade exploded - triggering last chance time-freeze effect for 2000ms
[07:23:12] [INFO] [LastChance] Grenade explosion triggering last chance effect for 2.00 seconds
[07:23:12] [INFO] [LastChance] Starting last chance effect:
[07:23:12] [INFO] [LastChance]   - Time will be frozen (except player)
[07:23:12] [INFO] [LastChance]   - Duration: 2.00 real seconds
[07:23:12] [INFO] [LastChance]   - Trigger: grenade explosion
[07:23:12] [INFO] [LastChance]   - Sepia intensity: 0.70
[07:23:12] [INFO] [LastChance]   - Brightness: 0.60
[07:23:12] [INFO] [LastChance] Set player Player and all 25 children to PROCESS_MODE_ALWAYS
[07:23:12] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[07:23:12] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[07:23:12] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[07:23:12] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[07:23:12] [INFO] [LastChance] Set StaticBody2D 'Obstacle1' to PROCESS_MODE_ALWAYS for collision
[07:23:12] [INFO] [LastChance] Set StaticBody2D 'Obstacle2' to PROCESS_MODE_ALWAYS for collision
[07:23:12] [INFO] [LastChance] Set StaticBody2D 'Obstacle3' to PROCESS_MODE_ALWAYS for collision
[07:23:12] [INFO] [LastChance] Set StaticBody2D 'GrenadeWall1' to PROCESS_MODE_ALWAYS for collision
[07:23:12] [INFO] [LastChance] Set StaticBody2D 'GrenadeWall2' to PROCESS_MODE_ALWAYS for collision
[07:23:12] [INFO] [LastChance] Set StaticBody2D 'GrenadeWall3' to PROCESS_MODE_ALWAYS for collision
[07:23:12] [INFO] [LastChance] Set StaticBody2D 'Cover1' to PROCESS_MODE_ALWAYS for collision
[07:23:12] [INFO] [LastChance] Set StaticBody2D 'Cover2' to PROCESS_MODE_ALWAYS for collision
[07:23:12] [INFO] [LastChance] Skipping player node: Player
[07:23:12] [INFO] [LastChance] Froze existing grenade: FragGrenade
[07:23:12] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[07:23:12] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[07:23:12] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[07:23:12] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(626.0778, 156.1383), source=NEUTRAL (FragGrenade), range=2937, listeners=0
[07:23:12] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:23:12] [INFO] [LastChance] Freezing newly created shrapnel: Shrapnel
[07:23:12] [INFO] [LastChance] Registered frozen shrapnel: Shrapnel
[07:23:12] [INFO] [FragGrenade] Spawned shrapnel #1 at angle -15.0 degrees
[07:23:12] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@5978
[07:23:12] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@5978
[07:23:12] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 107.9 degrees
[07:23:12] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@5979
[07:23:12] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@5979
[07:23:12] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 171.0 degrees
[07:23:12] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@5980
[07:23:12] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@5980
[07:23:12] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 252.5 degrees
[07:23:12] [INFO] [ImpactEffects] Spawning explosion visual effect at (626.0778, 156.1383) (radius=225) - using shadow-based wall occlusion
[07:23:12] [INFO] [LastChance] Freezing newly created explosion effect: @PointLight2D@5981
[07:23:12] [INFO] [LastChance] Registered frozen explosion effect: @PointLight2D@5981
[07:23:13] [INFO] [ReplayManager] Recording frame 420 (7,0s): player_valid=False, enemies=10
[07:23:13] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[07:23:13] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[07:23:13] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[07:23:13] [INFO] [LastChance] Resetting all effects (scene change detected)
[07:23:13] [INFO] [LastChance] All process modes restored
[07:23:13] [INFO] [LastChance] Restored original colors to 5 player sprites
[07:23:13] [INFO] [CinemaEffects] Scene changed to: TestTier
[07:23:13] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[07:23:13] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:23:13] [INFO] [BloodyFeet:Player] Footprint scene loaded
[07:23:13] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[07:23:13] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[07:23:13] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[07:23:13] [INFO] [Player.Grenade] Tutorial level detected - infinite grenades enabled
[07:23:13] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[07:23:13] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[07:23:13] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[07:23:13] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[07:23:13] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[07:23:13] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[07:23:13] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 3/3, Health: 10/10
[07:23:13] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[07:23:13] [INFO] [CinemaEffects] Found player node: Player
[07:23:13] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[07:23:13] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[07:23:13] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[07:23:13] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[07:23:13] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[07:23:13] [INFO] [LastChance] Found player: Player
[07:23:13] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[07:23:13] [INFO] [LastChance] Connected to player Damaged signal (C#)
[07:23:13] [INFO] [LastChance] Connected to player Died signal (C#)
[07:23:13] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[07:23:13] [INFO] [Player] Detecting weapon pose (frame 3)...
[07:23:13] [INFO] [Player] Detected weapon: Rifle (default pose)
[07:23:13] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[07:23:14] [INFO] [ReplayManager] Recording frame 480 (8,0s): player_valid=False, enemies=10
[07:23:15] [INFO] [ReplayManager] Recording frame 540 (9,0s): player_valid=False, enemies=10
[07:23:16] [INFO] [ReplayManager] Recording frame 600 (10,0s): player_valid=False, enemies=10
[07:23:17] [INFO] [ReplayManager] Recording frame 660 (11,0s): player_valid=False, enemies=10
[07:23:18] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[07:23:18] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[07:23:18] [INFO] [Player.Grenade] G pressed - starting grab animation
[07:23:18] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[07:23:18] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (644.58746, 323.26532)
[07:23:18] [INFO] [GrenadeBase] CCD enabled (mode: CAST_RAY) to prevent wall tunneling
[07:23:18] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[07:23:18] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[07:23:18] [INFO] [GrenadeTimer] Initialized for Frag grenade, effect radius: 225
[07:23:18] [INFO] [Player.Grenade] Added GrenadeTimer component (type: Frag)
[07:23:18] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[07:23:18] [INFO] [GrenadeTimer] Timer activated! 4 seconds until explosion
[07:23:18] [INFO] [Player.Grenade] Timer started, grenade created at (150, 226.66666)
[07:23:18] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[07:23:18] [INFO] [Player.Grenade] Step 1 complete! Drag: (108.25159, -2.6716309)
[07:23:18] [INFO] [ReplayManager] Recording frame 720 (12,0s): player_valid=False, enemies=10
[07:23:18] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[07:23:18] [INFO] [Player.Grenade.Simple] RMB pressed after pin pull - starting trajectory aiming
[07:23:19] [INFO] [Player.Grenade.Simple] Throwing! Target: (822.3795, 287.86642), Distance: 593,5, Speed: 576,5, Friction: 280,0
[07:23:19] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 0,371997
[07:23:19] [INFO] [GrenadeTimer] Grenade marked as thrown - impact detection enabled
[07:23:19] [INFO] [Player.Grenade.Simple] C# set velocity directly: dir=(0.93160325, 0.36347654), speed=576,5, spawn=(345.722, 101.89259)
[07:23:19] [INFO] [GrenadeBase] Simple mode throw! Dir: (0.931603, 0.363477), Speed: 576.5 (clamped from 576.5, max: 1186.5)
[07:23:19] [INFO] [FragGrenade] Grenade thrown (simple mode) - impact detection enabled
[07:23:19] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[07:23:19] [INFO] [Player.Grenade.Simple] Grenade thrown!
[07:23:19] [INFO] [Player.Grenade] State reset to IDLE
[07:23:19] [INFO] [Player.Grenade] State reset to IDLE
[07:23:19] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[07:23:19] [INFO] [ReplayManager] Recording frame 780 (13,0s): player_valid=False, enemies=10
[07:23:19] [INFO] [Player.Grenade] Player rotation restored to 0
[07:23:19] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[07:23:20] [INFO] [ReplayManager] Recording frame 840 (14,0s): player_valid=False, enemies=10
[07:23:20] [INFO] [SoundPropagation] Sound emitted: type=GRENADE_LANDING, pos=(672.1934, 229.2693), source=NEUTRAL (FragGrenade), range=112, listeners=0
[07:23:20] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:23:20] [INFO] [GrenadeBase] Grenade landed at (672.1934, 229.2693)
[07:23:20] [INFO] [FragGrenade] Impact detected - exploding immediately!
[07:23:20] [INFO] [GrenadeBase] EXPLODED at (672.1934, 229.2693)!
[07:23:20] [INFO] [PowerFantasy] Grenade exploded - triggering last chance time-freeze effect for 2000ms
[07:23:20] [INFO] [LastChance] Grenade explosion triggering last chance effect for 2.00 seconds
[07:23:20] [INFO] [LastChance] Starting last chance effect:
[07:23:20] [INFO] [LastChance]   - Time will be frozen (except player)
[07:23:20] [INFO] [LastChance]   - Duration: 2.00 real seconds
[07:23:20] [INFO] [LastChance]   - Trigger: grenade explosion
[07:23:20] [INFO] [LastChance]   - Sepia intensity: 0.70
[07:23:20] [INFO] [LastChance]   - Brightness: 0.60
[07:23:20] [INFO] [LastChance] Set player Player and all 25 children to PROCESS_MODE_ALWAYS
[07:23:20] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[07:23:20] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[07:23:20] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[07:23:20] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[07:23:20] [INFO] [LastChance] Set StaticBody2D 'Obstacle1' to PROCESS_MODE_ALWAYS for collision
[07:23:20] [INFO] [LastChance] Set StaticBody2D 'Obstacle2' to PROCESS_MODE_ALWAYS for collision
[07:23:20] [INFO] [LastChance] Set StaticBody2D 'Obstacle3' to PROCESS_MODE_ALWAYS for collision
[07:23:20] [INFO] [LastChance] Set StaticBody2D 'GrenadeWall1' to PROCESS_MODE_ALWAYS for collision
[07:23:20] [INFO] [LastChance] Set StaticBody2D 'GrenadeWall2' to PROCESS_MODE_ALWAYS for collision
[07:23:20] [INFO] [LastChance] Set StaticBody2D 'GrenadeWall3' to PROCESS_MODE_ALWAYS for collision
[07:23:20] [INFO] [LastChance] Set StaticBody2D 'Cover1' to PROCESS_MODE_ALWAYS for collision
[07:23:20] [INFO] [LastChance] Set StaticBody2D 'Cover2' to PROCESS_MODE_ALWAYS for collision
[07:23:20] [INFO] [LastChance] Skipping player node: Player
[07:23:20] [INFO] [LastChance] Froze existing grenade: FragGrenade
[07:23:20] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[07:23:20] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[07:23:20] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[07:23:20] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(672.1934, 229.2693), source=NEUTRAL (FragGrenade), range=2937, listeners=0
[07:23:20] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:23:20] [INFO] [LastChance] Freezing newly created shrapnel: Shrapnel
[07:23:20] [INFO] [LastChance] Registered frozen shrapnel: Shrapnel
[07:23:20] [INFO] [FragGrenade] Spawned shrapnel #1 at angle -8.0 degrees
[07:23:20] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@5987
[07:23:20] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@5987
[07:23:20] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 73.6 degrees
[07:23:20] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@5988
[07:23:20] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@5988
[07:23:20] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 169.9 degrees
[07:23:20] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@5989
[07:23:20] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@5989
[07:23:20] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 276.1 degrees
[07:23:20] [INFO] [ImpactEffects] Spawning explosion visual effect at (672.1934, 229.2693) (radius=225) - using shadow-based wall occlusion
[07:23:20] [INFO] [LastChance] Freezing newly created explosion effect: @PointLight2D@5990
[07:23:20] [INFO] [LastChance] Registered frozen explosion effect: @PointLight2D@5990
[07:23:21] [INFO] [ReplayManager] Recording frame 900 (15,0s): player_valid=False, enemies=10
[07:23:21] [INFO] [LastChance] Freezing newly fired player bullet: Bullet
[07:23:21] [INFO] [LastChance] Registered frozen player bullet: Bullet
[07:23:21] [INFO] [LastChance] Freezing newly created explosion effect: PointLight2D
[07:23:21] [INFO] [LastChance] Registered frozen explosion effect: PointLight2D
[07:23:21] [INFO] [LastChance] Freezing newly created bullet casing: Casing
[07:23:21] [INFO] [LastChance] Registered frozen bullet casing: Casing
[07:23:21] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(229.011, 417.9974), source=PLAYER (AssaultRifle), range=1469, listeners=0
[07:23:21] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:23:22] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@5991
[07:23:22] [INFO] [LastChance] Registered frozen player bullet: @Area2D@5991
[07:23:22] [INFO] [LastChance] Freezing newly created explosion effect: PointLight2D
[07:23:22] [INFO] [LastChance] Registered frozen explosion effect: PointLight2D
[07:23:22] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@5993
[07:23:22] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@5993
[07:23:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(243.3898, 421.1872), source=PLAYER (AssaultRifle), range=1469, listeners=0
[07:23:22] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:23:22] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@5994
[07:23:22] [INFO] [LastChance] Registered frozen player bullet: @Area2D@5994
[07:23:22] [INFO] [LastChance] Freezing newly created explosion effect: PointLight2D
[07:23:22] [INFO] [LastChance] Registered frozen explosion effect: PointLight2D
[07:23:22] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@5996
[07:23:22] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@5996
[07:23:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(245.6401, 421.6864), source=PLAYER (AssaultRifle), range=1469, listeners=0
[07:23:22] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:23:22] [INFO] [ReplayManager] Recording frame 960 (16,0s): player_valid=False, enemies=10
[07:23:22] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@5997
[07:23:22] [INFO] [LastChance] Registered frozen player bullet: @Area2D@5997
[07:23:22] [INFO] [LastChance] Freezing newly created explosion effect: PointLight2D
[07:23:22] [INFO] [LastChance] Registered frozen explosion effect: PointLight2D
[07:23:22] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@5999
[07:23:22] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@5999
[07:23:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(245.6401, 421.6864), source=PLAYER (AssaultRifle), range=1469, listeners=0
[07:23:22] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:23:22] [INFO] [LastChance] Effect duration expired after 2.00 real seconds
[07:23:22] [INFO] [LastChance] Ending last chance effect
[07:23:22] [INFO] [LastChance] All process modes restored
[07:23:22] [INFO] [LastChance] Unfroze player bullet: Bullet
[07:23:22] [INFO] [LastChance] Unfroze player bullet: @Area2D@5991
[07:23:22] [INFO] [LastChance] Unfroze player bullet: @Area2D@5994
[07:23:22] [INFO] [LastChance] Unfroze player bullet: @Area2D@5997
[07:23:22] [INFO] [LastChance] Unfroze bullet casing: Casing
[07:23:22] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@5993
[07:23:22] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@5996
[07:23:22] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@5999
[07:23:22] [INFO] [LastChance] Unfroze shrapnel: Shrapnel
[07:23:22] [INFO] [LastChance] Unfroze shrapnel: @Area2D@5987
[07:23:22] [INFO] [LastChance] Unfroze shrapnel: @Area2D@5988
[07:23:22] [INFO] [LastChance] Unfroze shrapnel: @Area2D@5989
[07:23:22] [INFO] [LastChance] Unfroze explosion effect: @PointLight2D@5990
[07:23:22] [INFO] [LastChance] Unfroze explosion effect: PointLight2D
[07:23:22] [INFO] [LastChance] Unfroze explosion effect: PointLight2D
[07:23:22] [INFO] [LastChance] Unfroze explosion effect: PointLight2D
[07:23:22] [INFO] [LastChance] Unfroze explosion effect: PointLight2D
[07:23:22] [INFO] [LastChance] Starting visual effects fade-out over 400ms
[07:23:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(245.6401, 421.6864), source=PLAYER (AssaultRifle), range=1469, listeners=0
[07:23:22] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:23:22] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[07:23:22] [INFO] [PowerFantasy] Starting power fantasy effect:
[07:23:22] [INFO] [PowerFantasy]   - Time scale: 0.10
[07:23:22] [INFO] [PowerFantasy]   - Duration: 300ms
[07:23:22] [INFO] [LastChance] Visual effects fade-out complete
[07:23:22] [INFO] [LastChance] Restored original colors to 5 player sprites
[07:23:22] [INFO] [LastChance] Called player RefreshHealthVisual (C#)
[07:23:22] [INFO] [PowerFantasy] Effect duration expired after 316.00 ms
[07:23:22] [INFO] [PowerFantasy] Ending power fantasy effect
[07:23:23] [INFO] [ReplayManager] Recording frame 1020 (16,7s): player_valid=False, enemies=10
[07:23:24] [INFO] [ReplayManager] Recording frame 1080 (17,7s): player_valid=False, enemies=10
[07:23:24] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[07:23:24] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[07:23:24] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[07:23:24] [INFO] [LastChance] Resetting all effects (scene change detected)
[07:23:24] [INFO] [CinemaEffects] Scene changed to: TestTier
[07:23:24] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[07:23:24] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:23:24] [INFO] [BloodyFeet:Player] Footprint scene loaded
[07:23:24] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[07:23:24] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[07:23:24] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[07:23:24] [INFO] [Player.Grenade] Tutorial level detected - infinite grenades enabled
[07:23:24] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[07:23:24] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[07:23:24] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[07:23:24] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[07:23:24] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[07:23:24] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[07:23:24] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 3/3, Health: 10/10
[07:23:24] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[07:23:24] [INFO] [CinemaEffects] Found player node: Player
[07:23:24] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[07:23:24] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[07:23:24] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[07:23:24] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[07:23:24] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[07:23:24] [INFO] [LastChance] Found player: Player
[07:23:24] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[07:23:24] [INFO] [LastChance] Connected to player Damaged signal (C#)
[07:23:24] [INFO] [LastChance] Connected to player Died signal (C#)
[07:23:24] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[07:23:24] [INFO] [Player] Detecting weapon pose (frame 3)...
[07:23:24] [INFO] [Player] Detected weapon: Rifle (default pose)
[07:23:24] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[07:23:25] [INFO] [ReplayManager] Recording frame 1140 (18,7s): player_valid=False, enemies=10
[07:23:26] [INFO] [ReplayManager] Recording frame 1200 (19,7s): player_valid=False, enemies=10
[07:23:27] [INFO] [ReplayManager] Recording frame 1260 (20,7s): player_valid=False, enemies=10
[07:23:28] [INFO] [ReplayManager] Recording frame 1320 (21,7s): player_valid=False, enemies=10
[07:23:29] [INFO] [ReplayManager] Recording frame 1380 (22,7s): player_valid=False, enemies=10
[07:23:30] [INFO] [ReplayManager] Recording frame 1440 (23,7s): player_valid=False, enemies=10
[07:23:31] [INFO] [ReplayManager] Recording frame 1500 (24,7s): player_valid=False, enemies=10
[07:23:32] [INFO] [ReplayManager] Recording frame 1560 (25,7s): player_valid=False, enemies=10
[07:23:33] [INFO] [ReplayManager] Recording frame 1620 (26,7s): player_valid=False, enemies=10
[07:23:34] [INFO] [ReplayManager] Recording frame 1680 (27,7s): player_valid=False, enemies=10
[07:23:35] [INFO] [ReplayManager] Recording frame 1740 (28,7s): player_valid=False, enemies=10
[07:23:36] [INFO] [ReplayManager] Recording frame 1800 (29,7s): player_valid=False, enemies=10
[07:23:37] [INFO] [ReplayManager] Recording frame 1860 (30,7s): player_valid=False, enemies=10
[07:23:38] [INFO] [ReplayManager] Recording frame 1920 (31,7s): player_valid=False, enemies=10
[07:23:39] [INFO] [ReplayManager] Recording frame 1980 (32,7s): player_valid=False, enemies=10
[07:23:40] [INFO] [ReplayManager] Recording frame 2040 (33,7s): player_valid=False, enemies=10
[07:23:41] [INFO] [ReplayManager] Recording frame 2100 (34,7s): player_valid=False, enemies=10
[07:23:42] [INFO] [ReplayManager] Recording frame 2160 (35,7s): player_valid=False, enemies=10
[07:23:43] [INFO] [ReplayManager] Recording frame 2220 (36,7s): player_valid=False, enemies=10
[07:23:44] [INFO] [ReplayManager] Recording frame 2280 (37,7s): player_valid=False, enemies=10
[07:23:45] [INFO] [ReplayManager] Recording frame 2340 (38,7s): player_valid=False, enemies=10
[07:23:46] [INFO] [ReplayManager] Recording frame 2400 (39,7s): player_valid=False, enemies=10
[07:23:47] [INFO] [ReplayManager] Recording frame 2460 (40,7s): player_valid=False, enemies=10
[07:23:48] [INFO] [ReplayManager] Recording frame 2520 (41,7s): player_valid=False, enemies=10
[07:23:49] [INFO] [ReplayManager] Recording frame 2580 (42,7s): player_valid=False, enemies=10
[07:23:50] [INFO] [ReplayManager] Recording frame 2640 (43,7s): player_valid=False, enemies=10
[07:23:51] [INFO] [ReplayManager] Recording frame 2700 (44,7s): player_valid=False, enemies=10
[07:23:52] [INFO] [ReplayManager] Recording frame 2760 (45,7s): player_valid=False, enemies=10
[07:23:53] [INFO] [ReplayManager] Recording frame 2820 (46,7s): player_valid=False, enemies=10
[07:23:54] [INFO] [ReplayManager] Recording frame 2880 (47,7s): player_valid=False, enemies=10
[07:23:55] [INFO] [ReplayManager] Recording frame 2940 (48,7s): player_valid=False, enemies=10
[07:23:56] [INFO] [ReplayManager] Recording frame 3000 (49,7s): player_valid=False, enemies=10
[07:23:57] [INFO] [ReplayManager] Recording frame 3060 (50,7s): player_valid=False, enemies=10
[07:23:58] [INFO] [ReplayManager] Recording frame 3120 (51,7s): player_valid=False, enemies=10
[07:23:59] [INFO] [ReplayManager] Recording frame 3180 (52,7s): player_valid=False, enemies=10
[07:24:00] [INFO] [ReplayManager] Recording frame 3240 (53,7s): player_valid=False, enemies=10
[07:24:01] [INFO] [ReplayManager] Recording frame 3300 (54,7s): player_valid=False, enemies=10
[07:24:02] [INFO] [ReplayManager] Recording frame 3360 (55,7s): player_valid=False, enemies=10
[07:24:03] [INFO] [ReplayManager] Recording frame 3420 (56,7s): player_valid=False, enemies=10
[07:24:03] [INFO] [PauseMenu] Armory button pressed
[07:24:03] [INFO] [PauseMenu] Creating new armory menu instance
[07:24:03] [INFO] [PauseMenu] armory_menu_scene resource path: res://scenes/ui/ArmoryMenu.tscn
[07:24:03] [INFO] [PauseMenu] Instance created, class: CanvasLayer, name: ArmoryMenu
[07:24:03] [INFO] [PauseMenu] Script attached: res://scripts/ui/armory_menu.gd
[07:24:03] [INFO] [PauseMenu] back_pressed signal exists on instance
[07:24:03] [INFO] [PauseMenu] back_pressed signal connected
[07:24:03] [INFO] [PauseMenu] Armory menu instance added as child, is_inside_tree: true
[07:24:03] [INFO] [PauseMenu] _populate_weapon_grid method exists
[07:24:04] [INFO] [ReplayManager] Recording frame 3480 (57,7s): player_valid=False, enemies=10
[07:24:05] [INFO] [GameManager] Weapon selected: sniper
[07:24:05] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[07:24:05] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[07:24:05] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[07:24:05] [INFO] [LastChance] Resetting all effects (scene change detected)
[07:24:05] [INFO] [CinemaEffects] Scene changed to: TestTier
[07:24:05] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[07:24:05] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:24:05] [INFO] [BloodyFeet:Player] Footprint scene loaded
[07:24:05] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[07:24:05] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[07:24:05] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[07:24:05] [INFO] [Player.Grenade] Tutorial level detected - infinite grenades enabled
[07:24:05] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[07:24:05] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[07:24:05] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[07:24:05] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[07:24:05] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[07:24:05] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[07:24:05] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 3/3, Health: 10/10
[07:24:05] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[07:24:05] [INFO] [CinemaEffects] Found player node: Player
[07:24:05] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[07:24:05] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[07:24:05] [INFO] [Player] Detecting weapon pose (frame 3)...
[07:24:05] [INFO] [Player] Detected weapon: Rifle (default pose)
[07:24:05] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[07:24:05] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[07:24:05] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[07:24:05] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[07:24:05] [INFO] [LastChance] Found player: Player
[07:24:05] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[07:24:05] [INFO] [LastChance] Connected to player Damaged signal (C#)
[07:24:05] [INFO] [LastChance] Connected to player Died signal (C#)
[07:24:05] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[07:24:05] [INFO] [ReplayManager] Recording frame 3540 (58,7s): player_valid=False, enemies=10
[07:24:06] [INFO] [ReplayManager] Recording frame 3600 (59,7s): player_valid=False, enemies=10
[07:24:07] [INFO] [ReplayManager] Recording frame 3660 (60,7s): player_valid=False, enemies=10
[07:24:07] [INFO] [PauseMenu] Armory button pressed
[07:24:07] [INFO] [PauseMenu] Creating new armory menu instance
[07:24:07] [INFO] [PauseMenu] armory_menu_scene resource path: res://scenes/ui/ArmoryMenu.tscn
[07:24:07] [INFO] [PauseMenu] Instance created, class: CanvasLayer, name: ArmoryMenu
[07:24:07] [INFO] [PauseMenu] Script attached: res://scripts/ui/armory_menu.gd
[07:24:07] [INFO] [PauseMenu] back_pressed signal exists on instance
[07:24:07] [INFO] [PauseMenu] back_pressed signal connected
[07:24:07] [INFO] [PauseMenu] Armory menu instance added as child, is_inside_tree: true
[07:24:07] [INFO] [PauseMenu] _populate_weapon_grid method exists
[07:24:08] [INFO] [ReplayManager] Recording frame 3720 (61,7s): player_valid=False, enemies=10
[07:24:09] [INFO] [ReplayManager] Recording frame 3780 (62,7s): player_valid=False, enemies=10
[07:24:10] [INFO] [ReplayManager] Recording frame 3840 (63,7s): player_valid=False, enemies=10
[07:24:11] [INFO] [ReplayManager] Recording frame 3900 (64,7s): player_valid=False, enemies=10
[07:24:12] [INFO] [ReplayManager] Recording frame 3960 (65,7s): player_valid=False, enemies=10
[07:24:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(585.759, 140.2333), source=PLAYER (SniperRifle), range=3000, listeners=0
[07:24:12] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:24:13] [INFO] [ReplayManager] Recording frame 4020 (66,7s): player_valid=False, enemies=10
[07:24:14] [INFO] [ReplayManager] Recording frame 4080 (67,7s): player_valid=False, enemies=10
[07:24:14] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[07:24:14] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[07:24:14] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[07:24:14] [INFO] [LastChance] Resetting all effects (scene change detected)
[07:24:14] [INFO] [CinemaEffects] Scene changed to: TestTier
[07:24:14] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[07:24:14] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:24:14] [INFO] [BloodyFeet:Player] Footprint scene loaded
[07:24:14] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[07:24:14] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[07:24:14] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[07:24:14] [INFO] [Player.Grenade] Tutorial level detected - infinite grenades enabled
[07:24:14] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[07:24:14] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[07:24:14] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[07:24:14] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[07:24:14] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[07:24:14] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[07:24:14] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 3/3, Health: 10/10
[07:24:14] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[07:24:14] [INFO] [CinemaEffects] Found player node: Player
[07:24:14] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[07:24:14] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[07:24:14] [INFO] [Player] Detecting weapon pose (frame 3)...
[07:24:14] [INFO] [Player] Detected weapon: Rifle (default pose)
[07:24:14] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[07:24:14] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[07:24:14] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[07:24:14] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[07:24:14] [INFO] [LastChance] Found player: Player
[07:24:14] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[07:24:14] [INFO] [LastChance] Connected to player Damaged signal (C#)
[07:24:14] [INFO] [LastChance] Connected to player Died signal (C#)
[07:24:14] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[07:24:15] [INFO] [ReplayManager] Recording frame 4140 (68,7s): player_valid=False, enemies=10
[07:24:16] [INFO] [ReplayManager] Recording frame 4200 (69,7s): player_valid=False, enemies=10
[07:24:17] [INFO] [ReplayManager] Recording frame 4260 (70,7s): player_valid=False, enemies=10
[07:24:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(604.4218, 133.9084), source=PLAYER (SniperRifle), range=1469, listeners=0
[07:24:17] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:24:18] [INFO] [ReplayManager] Recording frame 4320 (71,6s): player_valid=False, enemies=10
[07:24:19] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[07:24:19] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[07:24:19] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[07:24:19] [INFO] [LastChance] Resetting all effects (scene change detected)
[07:24:19] [INFO] [CinemaEffects] Scene changed to: TestTier
[07:24:19] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[07:24:19] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:24:19] [INFO] [BloodyFeet:Player] Footprint scene loaded
[07:24:19] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[07:24:19] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[07:24:19] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[07:24:19] [INFO] [Player.Grenade] Tutorial level detected - infinite grenades enabled
[07:24:19] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[07:24:19] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[07:24:19] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[07:24:19] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[07:24:19] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[07:24:19] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[07:24:19] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 3/3, Health: 10/10
[07:24:19] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[07:24:19] [INFO] [CinemaEffects] Found player node: Player
[07:24:19] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[07:24:19] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[07:24:19] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[07:24:19] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[07:24:19] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[07:24:19] [INFO] [LastChance] Found player: Player
[07:24:19] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[07:24:19] [INFO] [LastChance] Connected to player Damaged signal (C#)
[07:24:19] [INFO] [LastChance] Connected to player Died signal (C#)
[07:24:19] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[07:24:19] [INFO] [ReplayManager] Recording frame 4380 (72,4s): player_valid=False, enemies=10
[07:24:19] [INFO] [Player] Detecting weapon pose (frame 3)...
[07:24:19] [INFO] [Player] Detected weapon: Rifle (default pose)
[07:24:19] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[07:24:20] [INFO] [ReplayManager] Recording frame 4440 (73,4s): player_valid=False, enemies=10
[07:24:20] [INFO] [PauseMenu] Armory button pressed
[07:24:20] [INFO] [PauseMenu] Creating new armory menu instance
[07:24:20] [INFO] [PauseMenu] armory_menu_scene resource path: res://scenes/ui/ArmoryMenu.tscn
[07:24:20] [INFO] [PauseMenu] Instance created, class: CanvasLayer, name: ArmoryMenu
[07:24:20] [INFO] [PauseMenu] Script attached: res://scripts/ui/armory_menu.gd
[07:24:20] [INFO] [PauseMenu] back_pressed signal exists on instance
[07:24:20] [INFO] [PauseMenu] back_pressed signal connected
[07:24:20] [INFO] [PauseMenu] Armory menu instance added as child, is_inside_tree: true
[07:24:20] [INFO] [PauseMenu] _populate_weapon_grid method exists
[07:24:21] [INFO] [ReplayManager] Recording frame 4500 (74,4s): player_valid=False, enemies=10
[07:24:22] [INFO] [ReplayManager] Recording frame 4560 (75,4s): player_valid=False, enemies=10
[07:24:22] [INFO] [GameManager] Weapon selected: shotgun
[07:24:22] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[07:24:22] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[07:24:22] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[07:24:22] [INFO] [LastChance] Resetting all effects (scene change detected)
[07:24:22] [INFO] [CinemaEffects] Scene changed to: TestTier
[07:24:22] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[07:24:22] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:24:22] [INFO] [BloodyFeet:Player] Footprint scene loaded
[07:24:22] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[07:24:22] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[07:24:22] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[07:24:22] [INFO] [Player.Grenade] Tutorial level detected - infinite grenades enabled
[07:24:22] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[07:24:22] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[07:24:22] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[07:24:22] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[07:24:22] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[07:24:22] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[07:24:22] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 3/3, Health: 10/10
[07:24:22] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[07:24:22] [INFO] [CinemaEffects] Found player node: Player
[07:24:22] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[07:24:22] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[07:24:22] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[07:24:22] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[07:24:22] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[07:24:22] [INFO] [LastChance] Found player: Player
[07:24:22] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[07:24:22] [INFO] [LastChance] Connected to player Damaged signal (C#)
[07:24:22] [INFO] [LastChance] Connected to player Died signal (C#)
[07:24:22] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[07:24:22] [INFO] [Player] Detecting weapon pose (frame 3)...
[07:24:22] [INFO] [Player] Detected weapon: Shotgun (Shotgun pose)
[07:24:22] [INFO] [Player] Applied Shotgun arm pose: Left=(21, 6), Right=(-1, 6)
[07:24:23] [INFO] [ReplayManager] Recording frame 4620 (76,4s): player_valid=False, enemies=10
[07:24:24] [INFO] [ReplayManager] Recording frame 4680 (77,4s): player_valid=False, enemies=10
[07:24:25] [INFO] [ReplayManager] Recording frame 4740 (78,4s): player_valid=False, enemies=10
[07:24:26] [INFO] [ReplayManager] Recording frame 4800 (79,4s): player_valid=False, enemies=10
[07:24:27] [INFO] [ReplayManager] Recording frame 4860 (80,4s): player_valid=False, enemies=10
[07:24:28] [INFO] [PauseMenu] Armory button pressed
[07:24:28] [INFO] [PauseMenu] Creating new armory menu instance
[07:24:28] [INFO] [PauseMenu] armory_menu_scene resource path: res://scenes/ui/ArmoryMenu.tscn
[07:24:28] [INFO] [PauseMenu] Instance created, class: CanvasLayer, name: ArmoryMenu
[07:24:28] [INFO] [PauseMenu] Script attached: res://scripts/ui/armory_menu.gd
[07:24:28] [INFO] [PauseMenu] back_pressed signal exists on instance
[07:24:28] [INFO] [PauseMenu] back_pressed signal connected
[07:24:28] [INFO] [PauseMenu] Armory menu instance added as child, is_inside_tree: true
[07:24:28] [INFO] [PauseMenu] _populate_weapon_grid method exists
[07:24:28] [INFO] [ReplayManager] Recording frame 4920 (81,4s): player_valid=False, enemies=10
[07:24:29] [INFO] [ReplayManager] Recording frame 4980 (82,4s): player_valid=False, enemies=10
[07:24:29] [INFO] [GameManager] Weapon selected: sniper
[07:24:29] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[07:24:29] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[07:24:29] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[07:24:29] [INFO] [LastChance] Resetting all effects (scene change detected)
[07:24:29] [INFO] [CinemaEffects] Scene changed to: TestTier
[07:24:29] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[07:24:29] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:24:29] [INFO] [BloodyFeet:Player] Footprint scene loaded
[07:24:29] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[07:24:29] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[07:24:29] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[07:24:29] [INFO] [Player.Grenade] Tutorial level detected - infinite grenades enabled
[07:24:29] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[07:24:29] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[07:24:29] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[07:24:29] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[07:24:29] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[07:24:29] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[07:24:29] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 3/3, Health: 10/10
[07:24:29] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[07:24:29] [INFO] [CinemaEffects] Found player node: Player
[07:24:29] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[07:24:29] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[07:24:29] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[07:24:29] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[07:24:29] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[07:24:29] [INFO] [LastChance] Found player: Player
[07:24:29] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[07:24:29] [INFO] [LastChance] Connected to player Damaged signal (C#)
[07:24:29] [INFO] [LastChance] Connected to player Died signal (C#)
[07:24:29] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[07:24:29] [INFO] [Player] Detecting weapon pose (frame 3)...
[07:24:29] [INFO] [Player] Detected weapon: Rifle (default pose)
[07:24:29] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[07:24:30] [INFO] [ReplayManager] Recording frame 5040 (83,4s): player_valid=False, enemies=10
[07:24:31] [INFO] [ReplayManager] Recording frame 5100 (84,4s): player_valid=False, enemies=10
[07:24:32] [INFO] [ReplayManager] Recording frame 5160 (85,4s): player_valid=False, enemies=10
[07:24:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(565.9218, 133.9084), source=PLAYER (SniperRifle), range=1469, listeners=0
[07:24:32] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:24:33] [INFO] [ReplayManager] Recording frame 5220 (86,3s): player_valid=False, enemies=10
[07:24:34] [INFO] [ReplayManager] Recording frame 5280 (87,1s): player_valid=False, enemies=10
[07:24:35] [INFO] [ReplayManager] Recording frame 5340 (87,9s): player_valid=False, enemies=10
[07:24:36] [INFO] [ReplayManager] Recording frame 5400 (88,8s): player_valid=False, enemies=10
[07:24:37] [INFO] [ReplayManager] Recording frame 5460 (89,8s): player_valid=False, enemies=10
[07:24:38] [INFO] [ReplayManager] Recording frame 5520 (90,8s): player_valid=False, enemies=10
[07:24:39] [INFO] [ReplayManager] Recording frame 5580 (91,8s): player_valid=False, enemies=10
[07:24:39] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[07:24:39] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[07:24:39] [INFO] [Player.Grenade] G pressed - starting grab animation
[07:24:40] [INFO] [ReplayManager] Recording frame 5640 (92,8s): player_valid=False, enemies=10
[07:24:40] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[07:24:40] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (682.08734, 144.26717)
[07:24:40] [INFO] [GrenadeBase] CCD enabled (mode: CAST_RAY) to prevent wall tunneling
[07:24:40] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[07:24:40] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[07:24:40] [INFO] [GrenadeTimer] Initialized for Frag grenade, effect radius: 225
[07:24:40] [INFO] [Player.Grenade] Added GrenadeTimer component (type: Frag)
[07:24:40] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[07:24:40] [INFO] [GrenadeTimer] Timer activated! 4 seconds until explosion
[07:24:40] [INFO] [Player.Grenade] Timer started, grenade created at (575.0884, 133.90842)
[07:24:40] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[07:24:40] [INFO] [Player.Grenade] Step 1 complete! Drag: (475.65765, 46.085342)
[07:24:40] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[07:24:40] [INFO] [Player.Grenade.Simple] RMB pressed after pin pull - starting trajectory aiming
[07:24:41] [INFO] [ReplayManager] Recording frame 5700 (93,8s): player_valid=False, enemies=10
[07:24:42] [INFO] [ReplayManager] Recording frame 5760 (94,8s): player_valid=False, enemies=10
[07:24:43] [INFO] [Player.Grenade.Simple] Throwing! Target: (1245.2606, 234.43414), Distance: 711,2, Speed: 631,1, Friction: 280,0
[07:24:43] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,093034744
[07:24:43] [INFO] [GrenadeTimer] Grenade marked as thrown - impact detection enabled
[07:24:43] [INFO] [Player.Grenade.Simple] C# set velocity directly: dir=(0.9956754, -0.09290059), speed=631,1, spawn=(634.8289, 291.38992)
[07:24:43] [INFO] [GrenadeBase] Simple mode throw! Dir: (0.995675, -0.092901), Speed: 631.1 (clamped from 631.1, max: 1186.5)
[07:24:43] [INFO] [FragGrenade] Grenade thrown (simple mode) - impact detection enabled
[07:24:43] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[07:24:43] [INFO] [Player.Grenade.Simple] Grenade thrown!
[07:24:43] [INFO] [Player.Grenade] State reset to IDLE
[07:24:43] [INFO] [Player.Grenade] State reset to IDLE
[07:24:43] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[07:24:43] [INFO] [ReplayManager] Recording frame 5820 (95,8s): player_valid=False, enemies=10
[07:24:43] [INFO] [Player.Grenade] Player rotation restored to 0
[07:24:43] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[07:24:44] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[07:24:44] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[07:24:44] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[07:24:44] [INFO] [LastChance] Resetting all effects (scene change detected)
[07:24:44] [INFO] [CinemaEffects] Scene changed to: TestTier
[07:24:44] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[07:24:44] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:24:44] [INFO] [BloodyFeet:Player] Footprint scene loaded
[07:24:44] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[07:24:44] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[07:24:44] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[07:24:44] [INFO] [Player.Grenade] Tutorial level detected - infinite grenades enabled
[07:24:44] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[07:24:44] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[07:24:44] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[07:24:44] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[07:24:44] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[07:24:44] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[07:24:44] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 3/3, Health: 10/10
[07:24:44] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[07:24:44] [INFO] [CinemaEffects] Found player node: Player
[07:24:44] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[07:24:44] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[07:24:44] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[07:24:44] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[07:24:44] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[07:24:44] [INFO] [LastChance] Found player: Player
[07:24:44] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[07:24:44] [INFO] [LastChance] Connected to player Damaged signal (C#)
[07:24:44] [INFO] [LastChance] Connected to player Died signal (C#)
[07:24:44] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[07:24:44] [INFO] [Player] Detecting weapon pose (frame 3)...
[07:24:44] [INFO] [Player] Detected weapon: Rifle (default pose)
[07:24:44] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[07:24:44] [INFO] [ReplayManager] Recording frame 5880 (96,8s): player_valid=False, enemies=10
[07:24:45] [INFO] [ReplayManager] Recording frame 5940 (97,8s): player_valid=False, enemies=10
[07:24:46] [INFO] [ReplayManager] Recording frame 6000 (98,8s): player_valid=False, enemies=10
[07:24:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(536.0873, 103.3692), source=PLAYER (SniperRifle), range=1469, listeners=0
[07:24:46] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:24:47] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[07:24:47] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[07:24:47] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[07:24:47] [INFO] [LastChance] Resetting all effects (scene change detected)
[07:24:47] [INFO] [CinemaEffects] Scene changed to: TestTier
[07:24:47] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[07:24:47] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:24:47] [INFO] [BloodyFeet:Player] Footprint scene loaded
[07:24:47] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[07:24:47] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[07:24:47] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[07:24:47] [INFO] [Player.Grenade] Tutorial level detected - infinite grenades enabled
[07:24:47] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[07:24:47] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[07:24:47] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[07:24:47] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[07:24:47] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[07:24:47] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[07:24:47] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 3/3, Health: 10/10
[07:24:47] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[07:24:47] [INFO] [CinemaEffects] Found player node: Player
[07:24:47] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[07:24:47] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[07:24:47] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[07:24:47] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[07:24:47] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[07:24:47] [INFO] [LastChance] Found player: Player
[07:24:47] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[07:24:47] [INFO] [LastChance] Connected to player Damaged signal (C#)
[07:24:47] [INFO] [LastChance] Connected to player Died signal (C#)
[07:24:47] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[07:24:47] [INFO] [Player] Detecting weapon pose (frame 3)...
[07:24:47] [INFO] [Player] Detected weapon: Rifle (default pose)
[07:24:47] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[07:24:47] [INFO] [ReplayManager] Recording frame 6060 (99,7s): player_valid=False, enemies=10
[07:24:48] [INFO] [ReplayManager] Recording frame 6120 (100,7s): player_valid=False, enemies=10
[07:24:49] [INFO] [ReplayManager] Recording frame 6180 (101,7s): player_valid=False, enemies=10
[07:24:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(643.6205, 182.1795), source=PLAYER (SniperRifle), range=1469, listeners=0
[07:24:50] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:24:50] [INFO] [ReplayManager] Recording frame 6240 (102,7s): player_valid=False, enemies=10
[07:24:51] [INFO] [ReplayManager] Recording frame 6300 (103,5s): player_valid=False, enemies=10
[07:24:52] [INFO] [ReplayManager] Recording frame 6360 (104,3s): player_valid=False, enemies=10
[07:24:53] [INFO] [ReplayManager] Recording frame 6420 (105,1s): player_valid=False, enemies=10
[07:24:54] [INFO] [ReplayManager] Recording frame 6480 (106,1s): player_valid=False, enemies=10
[07:24:55] [INFO] [ReplayManager] Recording frame 6540 (107,1s): player_valid=False, enemies=10
[07:24:56] [INFO] [ReplayManager] Recording frame 6600 (108,1s): player_valid=False, enemies=10
[07:24:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(619.765, 170.6595), source=PLAYER (SniperRifle), range=1469, listeners=0
[07:24:56] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:24:57] [INFO] [ReplayManager] Recording frame 6660 (108,9s): player_valid=False, enemies=10
[07:24:58] [INFO] [ReplayManager] Recording frame 6720 (109,7s): player_valid=False, enemies=10
[07:24:59] [INFO] [ReplayManager] Recording frame 6780 (110,5s): player_valid=False, enemies=10
[07:25:00] [INFO] [ReplayManager] Recording frame 6840 (111,5s): player_valid=False, enemies=10
[07:25:01] [INFO] [ReplayManager] Recording frame 6900 (112,5s): player_valid=False, enemies=10
[07:25:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(632.9872, 170.6595), source=PLAYER (SniperRifle), range=1469, listeners=0
[07:25:01] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:25:01] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[07:25:01] [INFO] [PowerFantasy] Starting power fantasy effect:
[07:25:01] [INFO] [PowerFantasy]   - Time scale: 0.10
[07:25:01] [INFO] [PowerFantasy]   - Duration: 300ms
[07:25:01] [INFO] [PowerFantasy] Effect duration expired after 317.00 ms
[07:25:01] [INFO] [PowerFantasy] Ending power fantasy effect
[07:25:02] [INFO] [ReplayManager] Recording frame 6960 (113,5s): player_valid=False, enemies=10
[07:25:03] [INFO] [ReplayManager] Recording frame 7020 (114,5s): player_valid=False, enemies=10
[07:25:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(642.1538, 170.6595), source=PLAYER (SniperRifle), range=1469, listeners=0
[07:25:03] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:25:04] [INFO] [ReplayManager] Recording frame 7080 (115,5s): player_valid=False, enemies=10
[07:25:05] [INFO] [ReplayManager] Recording frame 7140 (116,5s): player_valid=False, enemies=10
[07:25:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(651.3204, 170.6595), source=PLAYER (SniperRifle), range=1469, listeners=0
[07:25:06] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:25:06] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[07:25:06] [INFO] [PowerFantasy] Starting power fantasy effect:
[07:25:06] [INFO] [PowerFantasy]   - Time scale: 0.10
[07:25:06] [INFO] [PowerFantasy]   - Duration: 300ms
[07:25:06] [INFO] [ReplayManager] Recording frame 7200 (117,3s): player_valid=False, enemies=10
[07:25:06] [INFO] [PowerFantasy] Effect duration expired after 301.00 ms
[07:25:06] [INFO] [PowerFantasy] Ending power fantasy effect
[07:25:07] [INFO] [ReplayManager] Recording frame 7260 (118,2s): player_valid=False, enemies=10
[07:25:07] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[07:25:07] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[07:25:07] [INFO] [Player.Grenade] G pressed - starting grab animation
[07:25:07] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[07:25:07] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1169.0654, 167.64378)
[07:25:07] [INFO] [GrenadeBase] CCD enabled (mode: CAST_RAY) to prevent wall tunneling
[07:25:07] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[07:25:07] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[07:25:07] [INFO] [GrenadeTimer] Initialized for Frag grenade, effect radius: 225
[07:25:07] [INFO] [Player.Grenade] Added GrenadeTimer component (type: Frag)
[07:25:07] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[07:25:07] [INFO] [GrenadeTimer] Timer activated! 4 seconds until explosion
[07:25:07] [INFO] [Player.Grenade] Timer started, grenade created at (651.32043, 170.65948)
[07:25:07] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[07:25:07] [INFO] [Player.Grenade] Step 1 complete! Drag: (122.25464, 45.417435)
[07:25:07] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[07:25:07] [INFO] [Player.Grenade.Simple] RMB pressed after pin pull - starting trajectory aiming
[07:25:08] [INFO] [ReplayManager] Recording frame 7320 (119,2s): player_valid=False, enemies=10
[07:25:08] [INFO] [Player.Grenade.Simple] Throwing! Target: (1291.3201, 327.27274), Distance: 694,7, Speed: 623,7, Friction: 280,0
[07:25:08] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 0,2399921
[07:25:08] [INFO] [GrenadeTimer] Grenade marked as thrown - impact detection enabled
[07:25:08] [INFO] [Player.Grenade.Simple] C# set velocity directly: dir=(0.9713398, 0.23769495), speed=623,7, spawn=(709.6008, 184.92119)
[07:25:08] [INFO] [GrenadeBase] Simple mode throw! Dir: (0.97134, 0.237695), Speed: 623.7 (clamped from 623.7, max: 1186.5)
[07:25:08] [INFO] [FragGrenade] Grenade thrown (simple mode) - impact detection enabled
[07:25:08] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[07:25:08] [INFO] [Player.Grenade.Simple] Grenade thrown!
[07:25:08] [INFO] [Player.Grenade] State reset to IDLE
[07:25:08] [INFO] [Player.Grenade] State reset to IDLE
[07:25:08] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[07:25:08] [INFO] [Player.Grenade] Player rotation restored to 0
[07:25:08] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[07:25:09] [INFO] [ReplayManager] Recording frame 7380 (120,2s): player_valid=False, enemies=10
[07:25:09] [INFO] [SoundPropagation] Sound emitted: type=GRENADE_LANDING, pos=(1107.053, 282.1811), source=NEUTRAL (FragGrenade), range=112, listeners=0
[07:25:09] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:25:09] [INFO] [GrenadeBase] Grenade landed at (1107.053, 282.1811)
[07:25:09] [INFO] [FragGrenade] Impact detected - exploding immediately!
[07:25:09] [INFO] [GrenadeBase] EXPLODED at (1107.053, 282.1811)!
[07:25:09] [INFO] [PowerFantasy] Grenade exploded - triggering last chance time-freeze effect for 2000ms
[07:25:09] [INFO] [LastChance] Grenade explosion triggering last chance effect for 2.00 seconds
[07:25:09] [INFO] [LastChance] Starting last chance effect:
[07:25:09] [INFO] [LastChance]   - Time will be frozen (except player)
[07:25:09] [INFO] [LastChance]   - Duration: 2.00 real seconds
[07:25:09] [INFO] [LastChance]   - Trigger: grenade explosion
[07:25:09] [INFO] [LastChance]   - Sepia intensity: 0.70
[07:25:09] [INFO] [LastChance]   - Brightness: 0.60
[07:25:09] [INFO] [LastChance] Set player Player and all 25 children to PROCESS_MODE_ALWAYS
[07:25:09] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[07:25:09] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[07:25:09] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[07:25:09] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[07:25:09] [INFO] [LastChance] Set StaticBody2D 'Obstacle1' to PROCESS_MODE_ALWAYS for collision
[07:25:09] [INFO] [LastChance] Set StaticBody2D 'Obstacle2' to PROCESS_MODE_ALWAYS for collision
[07:25:09] [INFO] [LastChance] Set StaticBody2D 'Obstacle3' to PROCESS_MODE_ALWAYS for collision
[07:25:09] [INFO] [LastChance] Set StaticBody2D 'GrenadeWall1' to PROCESS_MODE_ALWAYS for collision
[07:25:09] [INFO] [LastChance] Set StaticBody2D 'GrenadeWall2' to PROCESS_MODE_ALWAYS for collision
[07:25:09] [INFO] [LastChance] Set StaticBody2D 'GrenadeWall3' to PROCESS_MODE_ALWAYS for collision
[07:25:09] [INFO] [LastChance] Set StaticBody2D 'Cover1' to PROCESS_MODE_ALWAYS for collision
[07:25:09] [INFO] [LastChance] Set StaticBody2D 'Cover2' to PROCESS_MODE_ALWAYS for collision
[07:25:09] [INFO] [LastChance] Skipping player node: Player
[07:25:09] [INFO] [LastChance] Froze existing bullet casing: Casing
[07:25:09] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@6347
[07:25:09] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@6348
[07:25:09] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@6350
[07:25:09] [INFO] [LastChance] Froze existing grenade: FragGrenade
[07:25:09] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[07:25:09] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[07:25:09] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[07:25:09] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1107.053, 282.1811), source=NEUTRAL (FragGrenade), range=2937, listeners=0
[07:25:09] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:25:09] [INFO] [LastChance] Freezing newly created shrapnel: Shrapnel
[07:25:09] [INFO] [LastChance] Registered frozen shrapnel: Shrapnel
[07:25:09] [INFO] [FragGrenade] Spawned shrapnel #1 at angle -19.6 degrees
[07:25:09] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@6352
[07:25:09] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@6352
[07:25:09] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 108.6 degrees
[07:25:09] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@6353
[07:25:09] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@6353
[07:25:09] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 180.7 degrees
[07:25:09] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@6354
[07:25:09] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@6354
[07:25:09] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 285.2 degrees
[07:25:09] [INFO] [ImpactEffects] Spawning explosion visual effect at (1107.053, 282.1811) (radius=225) - using shadow-based wall occlusion
[07:25:09] [INFO] [LastChance] Freezing newly created explosion effect: @PointLight2D@6355
[07:25:09] [INFO] [LastChance] Registered frozen explosion effect: @PointLight2D@6355
[07:25:10] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[07:25:10] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[07:25:10] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[07:25:10] [INFO] [LastChance] Resetting all effects (scene change detected)
[07:25:10] [INFO] [LastChance] All process modes restored
[07:25:10] [INFO] [LastChance] Restored original colors to 5 player sprites
[07:25:10] [INFO] [CinemaEffects] Scene changed to: TestTier
[07:25:10] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[07:25:10] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:25:10] [INFO] [BloodyFeet:Player] Footprint scene loaded
[07:25:10] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[07:25:10] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[07:25:10] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[07:25:10] [INFO] [Player.Grenade] Tutorial level detected - infinite grenades enabled
[07:25:10] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[07:25:10] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[07:25:10] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[07:25:10] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[07:25:10] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[07:25:10] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[07:25:10] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 3/3, Health: 10/10
[07:25:10] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[07:25:10] [INFO] [CinemaEffects] Found player node: Player
[07:25:10] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[07:25:10] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[07:25:10] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[07:25:10] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[07:25:10] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[07:25:10] [INFO] [LastChance] Found player: Player
[07:25:10] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[07:25:10] [INFO] [LastChance] Connected to player Damaged signal (C#)
[07:25:10] [INFO] [LastChance] Connected to player Died signal (C#)
[07:25:10] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[07:25:10] [INFO] [Player] Detecting weapon pose (frame 3)...
[07:25:10] [INFO] [Player] Detected weapon: Rifle (default pose)
[07:25:10] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[07:25:10] [INFO] [ReplayManager] Recording frame 7440 (121,2s): player_valid=False, enemies=10
[07:25:11] [INFO] [ReplayManager] Recording frame 7500 (122,2s): player_valid=False, enemies=10
[07:25:12] [INFO] [ReplayManager] Recording frame 7560 (123,2s): player_valid=False, enemies=10
[07:25:13] [INFO] [ReplayManager] Recording frame 7620 (124,2s): player_valid=False, enemies=10
[07:25:14] [INFO] [ReplayManager] Recording frame 7680 (125,2s): player_valid=False, enemies=10
[07:25:15] [INFO] [ReplayManager] Recording frame 7740 (126,2s): player_valid=False, enemies=10
[07:25:16] [INFO] [ReplayManager] Recording frame 7800 (127,2s): player_valid=False, enemies=10
[07:25:17] [INFO] [ReplayManager] Recording frame 7860 (128,2s): player_valid=False, enemies=10
[07:25:18] [INFO] [ReplayManager] Recording frame 7920 (129,2s): player_valid=False, enemies=10
[07:25:18] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[07:25:18] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[07:25:18] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[07:25:18] [INFO] [LastChance] Resetting all effects (scene change detected)
[07:25:18] [INFO] [CinemaEffects] Scene changed to: TestTier
[07:25:18] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[07:25:18] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:25:18] [INFO] [BloodyFeet:Player] Footprint scene loaded
[07:25:18] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[07:25:18] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[07:25:18] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[07:25:18] [INFO] [Player.Grenade] Tutorial level detected - infinite grenades enabled
[07:25:18] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[07:25:18] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[07:25:18] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[07:25:18] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[07:25:18] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[07:25:18] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[07:25:18] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 3/3, Health: 3/4
[07:25:18] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[07:25:18] [INFO] [CinemaEffects] Found player node: Player
[07:25:18] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[07:25:18] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[07:25:18] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[07:25:18] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[07:25:18] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[07:25:18] [INFO] [LastChance] Found player: Player
[07:25:18] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[07:25:18] [INFO] [LastChance] Connected to player Damaged signal (C#)
[07:25:18] [INFO] [LastChance] Connected to player Died signal (C#)
[07:25:18] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[07:25:18] [INFO] [Player] Detecting weapon pose (frame 3)...
[07:25:18] [INFO] [Player] Detected weapon: Rifle (default pose)
[07:25:18] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[07:25:19] [INFO] [ReplayManager] Recording frame 7980 (130,2s): player_valid=False, enemies=10
[07:25:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(201.2445, 170.8928), source=PLAYER (SniperRifle), range=1469, listeners=0
[07:25:19] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:25:20] [INFO] [ReplayManager] Recording frame 8040 (131,2s): player_valid=False, enemies=10
[07:25:21] [INFO] [ReplayManager] Recording frame 8100 (132,2s): player_valid=False, enemies=10
[07:25:22] [INFO] [ReplayManager] Recording frame 8160 (133,2s): player_valid=False, enemies=10
[07:25:23] [INFO] [ReplayManager] Recording frame 8220 (134,2s): player_valid=False, enemies=10
[07:25:24] [INFO] [ReplayManager] Recording frame 8280 (135,2s): player_valid=False, enemies=10
[07:25:25] [INFO] [ReplayManager] Recording frame 8340 (136,2s): player_valid=False, enemies=10
[07:25:26] [INFO] [ReplayManager] Recording frame 8400 (137,2s): player_valid=False, enemies=10
[07:25:27] [INFO] [ReplayManager] Recording frame 8460 (138,2s): player_valid=False, enemies=10
[07:25:28] [INFO] [ReplayManager] Recording frame 8520 (139,2s): player_valid=False, enemies=10
[07:25:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(389.9198, 128.7992), source=PLAYER (SniperRifle), range=1469, listeners=0
[07:25:28] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:25:29] [INFO] [ReplayManager] Recording frame 8580 (140,2s): player_valid=False, enemies=10
[07:25:30] [INFO] [ReplayManager] Recording frame 8640 (141,0s): player_valid=False, enemies=10
[07:25:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(398.3821, 128.7992), source=PLAYER (SniperRifle), range=1469, listeners=0
[07:25:31] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:25:31] [INFO] [ReplayManager] Recording frame 8700 (141,8s): player_valid=False, enemies=10
[07:25:32] [INFO] [ReplayManager] Recording frame 8760 (142,6s): player_valid=False, enemies=10
[07:25:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(409.9022, 128.7992), source=PLAYER (SniperRifle), range=1469, listeners=0
[07:25:32] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:25:33] [INFO] [ReplayManager] Recording frame 8820 (143,4s): player_valid=False, enemies=10
[07:25:34] [INFO] [ReplayManager] Recording frame 8880 (144,2s): player_valid=False, enemies=10
[07:25:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(429.6997, 115.0146), source=PLAYER (SniperRifle), range=1469, listeners=0
[07:25:35] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:25:35] [INFO] [ReplayManager] Recording frame 8940 (145,0s): player_valid=False, enemies=10
[07:25:36] [INFO] [ReplayManager] Recording frame 9000 (145,8s): player_valid=False, enemies=10
[07:25:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(451.5674, 106.4981), source=PLAYER (SniperRifle), range=1469, listeners=0
[07:25:37] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:25:37] [INFO] [ReplayManager] Recording frame 9060 (146,6s): player_valid=False, enemies=10
[07:25:38] [INFO] [ReplayManager] Recording frame 9120 (147,4s): player_valid=False, enemies=10
[07:25:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(464.9223, 96.29173), source=PLAYER (SniperRifle), range=1469, listeners=0
[07:25:38] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:25:39] [INFO] [ReplayManager] Recording frame 9180 (148,2s): player_valid=False, enemies=10
[07:25:40] [INFO] [ReplayManager] Recording frame 9240 (149,0s): player_valid=False, enemies=10
[07:25:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(483.538, 89.91292), source=PLAYER (SniperRifle), range=1469, listeners=0
[07:25:40] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:25:41] [INFO] [ReplayManager] Recording frame 9300 (150,0s): player_valid=False, enemies=10
[07:25:42] [INFO] [ReplayManager] Recording frame 9360 (151,0s): player_valid=False, enemies=10
[07:25:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(507.3574, 181.8407), source=PLAYER (SniperRifle), range=1469, listeners=0
[07:25:42] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:25:43] [INFO] [ReplayManager] Recording frame 9420 (152,0s): player_valid=False, enemies=10
[07:25:44] [INFO] [ReplayManager] Recording frame 9480 (152,8s): player_valid=False, enemies=10
[07:25:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(527.0521, 177.0349), source=PLAYER (SniperRifle), range=1469, listeners=0
[07:25:44] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:25:45] [INFO] [ReplayManager] Recording frame 9540 (153,6s): player_valid=False, enemies=10
[07:25:46] [INFO] [ReplayManager] Recording frame 9600 (154,4s): player_valid=False, enemies=10
[07:25:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(550.7983, 172.7831), source=PLAYER (SniperRifle), range=1469, listeners=0
[07:25:46] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:25:47] [INFO] [ReplayManager] Recording frame 9660 (155,2s): player_valid=False, enemies=10
[07:25:48] [INFO] [ReplayManager] Recording frame 9720 (156,0s): player_valid=False, enemies=10
[07:25:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(569.8206, 172.7831), source=PLAYER (SniperRifle), range=1469, listeners=0
[07:25:48] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:25:49] [INFO] [ReplayManager] Recording frame 9780 (156,8s): player_valid=False, enemies=10
[07:25:50] [INFO] [ReplayManager] Recording frame 9840 (157,6s): player_valid=False, enemies=10
[07:25:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(583.1027, 161.0363), source=PLAYER (SniperRifle), range=1469, listeners=0
[07:25:50] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:25:51] [INFO] [ReplayManager] Recording frame 9900 (158,4s): player_valid=False, enemies=10
[07:25:52] [INFO] [ReplayManager] Recording frame 9960 (159,2s): player_valid=False, enemies=10
[07:25:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(594.0981, 154.4108), source=PLAYER (SniperRifle), range=1469, listeners=0
[07:25:52] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:25:53] [INFO] [ReplayManager] Recording frame 10020 (160,0s): player_valid=False, enemies=10
[07:25:54] [INFO] [ReplayManager] Recording frame 10080 (160,8s): player_valid=False, enemies=10
[07:25:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(605.0936, 147.7854), source=PLAYER (SniperRifle), range=1469, listeners=0
[07:25:54] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:25:55] [INFO] [ReplayManager] Recording frame 10140 (161,6s): player_valid=False, enemies=10
[07:25:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(613.5559, 147.7854), source=PLAYER (SniperRifle), range=1469, listeners=0
[07:25:56] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:25:56] [INFO] [ReplayManager] Recording frame 10200 (162,4s): player_valid=False, enemies=10
[07:25:57] [INFO] [ReplayManager] Recording frame 10260 (163,2s): player_valid=False, enemies=10
[07:25:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(632.5782, 147.7854), source=PLAYER (SniperRifle), range=1469, listeners=0
[07:25:57] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:25:58] [INFO] [ReplayManager] Recording frame 10320 (164,0s): player_valid=False, enemies=10
[07:25:58] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[07:25:58] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[07:25:58] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[07:25:58] [INFO] [LastChance] Resetting all effects (scene change detected)
[07:25:58] [INFO] [CinemaEffects] Scene changed to: TestTier
[07:25:58] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[07:25:58] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:25:58] [INFO] [BloodyFeet:Player] Footprint scene loaded
[07:25:58] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[07:25:58] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[07:25:58] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[07:25:58] [INFO] [Player.Grenade] Tutorial level detected - infinite grenades enabled
[07:25:58] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[07:25:58] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[07:25:58] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[07:25:58] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[07:25:58] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[07:25:58] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[07:25:58] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 3/3, Health: 3/4
[07:25:58] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[07:25:58] [INFO] [CinemaEffects] Found player node: Player
[07:25:58] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[07:25:58] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[07:25:58] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[07:25:58] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[07:25:58] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[07:25:58] [INFO] [LastChance] Found player: Player
[07:25:58] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[07:25:58] [INFO] [LastChance] Connected to player Damaged signal (C#)
[07:25:58] [INFO] [LastChance] Connected to player Died signal (C#)
[07:25:58] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[07:25:58] [INFO] [Player] Detecting weapon pose (frame 3)...
[07:25:58] [INFO] [Player] Detected weapon: Rifle (default pose)
[07:25:58] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[07:25:59] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[07:25:59] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[07:25:59] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[07:25:59] [INFO] [LastChance] Resetting all effects (scene change detected)
[07:25:59] [INFO] [CinemaEffects] Scene changed to: TestTier
[07:25:59] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[07:25:59] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:25:59] [INFO] [BloodyFeet:Player] Footprint scene loaded
[07:25:59] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[07:25:59] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[07:25:59] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[07:25:59] [INFO] [Player.Grenade] Tutorial level detected - infinite grenades enabled
[07:25:59] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[07:25:59] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[07:25:59] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[07:25:59] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[07:25:59] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[07:25:59] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[07:25:59] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 3/3, Health: 3/4
[07:25:59] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[07:25:59] [INFO] [CinemaEffects] Found player node: Player
[07:25:59] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[07:25:59] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[07:25:59] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[07:25:59] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[07:25:59] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[07:25:59] [INFO] [LastChance] Found player: Player
[07:25:59] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[07:25:59] [INFO] [LastChance] Connected to player Damaged signal (C#)
[07:25:59] [INFO] [LastChance] Connected to player Died signal (C#)
[07:25:59] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[07:25:59] [INFO] [ReplayManager] Recording frame 10380 (164,9s): player_valid=False, enemies=10
[07:25:59] [INFO] [Player] Detecting weapon pose (frame 3)...
[07:25:59] [INFO] [Player] Detected weapon: Rifle (default pose)
[07:25:59] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[07:25:59] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[07:25:59] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[07:25:59] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[07:25:59] [INFO] [LastChance] Resetting all effects (scene change detected)
[07:25:59] [INFO] [CinemaEffects] Scene changed to: TestTier
[07:25:59] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[07:25:59] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:25:59] [INFO] [BloodyFeet:Player] Footprint scene loaded
[07:25:59] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[07:25:59] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[07:25:59] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[07:25:59] [INFO] [Player.Grenade] Tutorial level detected - infinite grenades enabled
[07:25:59] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[07:25:59] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[07:25:59] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[07:25:59] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[07:25:59] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[07:25:59] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[07:25:59] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 3/3, Health: 4/4
[07:25:59] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[07:25:59] [INFO] [CinemaEffects] Found player node: Player
[07:25:59] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[07:25:59] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[07:25:59] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[07:25:59] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[07:25:59] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[07:25:59] [INFO] [LastChance] Found player: Player
[07:25:59] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[07:25:59] [INFO] [LastChance] Connected to player Damaged signal (C#)
[07:25:59] [INFO] [LastChance] Connected to player Died signal (C#)
[07:25:59] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[07:25:59] [INFO] [Player] Detecting weapon pose (frame 3)...
[07:25:59] [INFO] [Player] Detected weapon: Rifle (default pose)
[07:25:59] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[07:26:00] [INFO] [ReplayManager] Recording frame 10440 (165,9s): player_valid=False, enemies=10
[07:26:01] [INFO] [ReplayManager] Recording frame 10500 (166,9s): player_valid=False, enemies=10
[07:26:02] [INFO] [ReplayManager] Recording frame 10560 (167,9s): player_valid=False, enemies=10
[07:26:02] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[07:26:02] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:26:02] [INFO] [BloodyFeet:GuardEnemy1] Footprint scene loaded
[07:26:02] [INFO] [BloodyFeet:GuardEnemy1] Found EnemyModel for facing direction
[07:26:02] [INFO] [BloodyFeet:GuardEnemy1] BloodyFeetComponent ready on GuardEnemy1
[07:26:02] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[07:26:02] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[07:26:02] [INFO] [LastChance] Resetting all effects (scene change detected)
[07:26:02] [INFO] [CinemaEffects] Scene changed to: TestTier
[07:26:02] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[07:26:02] [ENEMY] [GuardEnemy1] Death animation component initialized
[07:26:02] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:26:02] [INFO] [BloodyFeet:GuardEnemy2] Footprint scene loaded
[07:26:02] [INFO] [BloodyFeet:GuardEnemy2] Found EnemyModel for facing direction
[07:26:02] [INFO] [BloodyFeet:GuardEnemy2] BloodyFeetComponent ready on GuardEnemy2
[07:26:02] [ENEMY] [GuardEnemy2] Death animation component initialized
[07:26:02] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:26:02] [INFO] [BloodyFeet:GuardEnemy3] Footprint scene loaded
[07:26:02] [INFO] [BloodyFeet:GuardEnemy3] Found EnemyModel for facing direction
[07:26:02] [INFO] [BloodyFeet:GuardEnemy3] BloodyFeetComponent ready on GuardEnemy3
[07:26:02] [ENEMY] [GuardEnemy3] Death animation component initialized
[07:26:02] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:26:02] [INFO] [BloodyFeet:GuardEnemy4] Footprint scene loaded
[07:26:02] [INFO] [BloodyFeet:GuardEnemy4] Found EnemyModel for facing direction
[07:26:02] [INFO] [BloodyFeet:GuardEnemy4] BloodyFeetComponent ready on GuardEnemy4
[07:26:02] [INFO] [EnemyGrenade] Initialized: 1 grenades
[07:26:02] [ENEMY] [GuardEnemy4] Death animation component initialized
[07:26:02] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:26:02] [INFO] [BloodyFeet:GuardEnemy5] Footprint scene loaded
[07:26:02] [INFO] [BloodyFeet:GuardEnemy5] Found EnemyModel for facing direction
[07:26:02] [INFO] [BloodyFeet:GuardEnemy5] BloodyFeetComponent ready on GuardEnemy5
[07:26:02] [ENEMY] [GuardEnemy5] Death animation component initialized
[07:26:02] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:26:02] [INFO] [BloodyFeet:GuardEnemy6] Footprint scene loaded
[07:26:02] [INFO] [BloodyFeet:GuardEnemy6] Found EnemyModel for facing direction
[07:26:02] [INFO] [BloodyFeet:GuardEnemy6] BloodyFeetComponent ready on GuardEnemy6
[07:26:02] [ENEMY] [GuardEnemy6] Death animation component initialized
[07:26:02] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:26:02] [INFO] [BloodyFeet:PatrolEnemy1] Footprint scene loaded
[07:26:02] [INFO] [BloodyFeet:PatrolEnemy1] Found EnemyModel for facing direction
[07:26:02] [INFO] [BloodyFeet:PatrolEnemy1] BloodyFeetComponent ready on PatrolEnemy1
[07:26:02] [ENEMY] [PatrolEnemy1] Death animation component initialized
[07:26:02] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:26:02] [INFO] [BloodyFeet:PatrolEnemy2] Footprint scene loaded
[07:26:02] [INFO] [BloodyFeet:PatrolEnemy2] Found EnemyModel for facing direction
[07:26:02] [INFO] [BloodyFeet:PatrolEnemy2] BloodyFeetComponent ready on PatrolEnemy2
[07:26:02] [ENEMY] [PatrolEnemy2] Death animation component initialized
[07:26:02] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:26:02] [INFO] [BloodyFeet:PatrolEnemy3] Footprint scene loaded
[07:26:02] [INFO] [BloodyFeet:PatrolEnemy3] Found EnemyModel for facing direction
[07:26:02] [INFO] [BloodyFeet:PatrolEnemy3] BloodyFeetComponent ready on PatrolEnemy3
[07:26:02] [ENEMY] [PatrolEnemy3] Death animation component initialized
[07:26:02] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:26:02] [INFO] [BloodyFeet:PatrolEnemy4] Footprint scene loaded
[07:26:02] [INFO] [BloodyFeet:PatrolEnemy4] Found EnemyModel for facing direction
[07:26:02] [INFO] [BloodyFeet:PatrolEnemy4] BloodyFeetComponent ready on PatrolEnemy4
[07:26:02] [ENEMY] [PatrolEnemy4] Death animation component initialized
[07:26:02] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:26:02] [INFO] [BloodyFeet:Player] Footprint scene loaded
[07:26:02] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[07:26:02] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[07:26:02] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[07:26:02] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[07:26:02] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[07:26:02] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[07:26:02] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[07:26:02] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[07:26:02] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[07:26:02] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[07:26:02] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[07:26:02] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[07:26:02] [INFO] [BloodyFeet:GuardEnemy1] Blood detector created and attached to GuardEnemy1
[07:26:02] [INFO] [CinemaEffects] Found player node: Player
[07:26:02] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[07:26:02] [INFO] [SoundPropagation] Registered listener: GuardEnemy1 (total: 1)
[07:26:02] [ENEMY] [GuardEnemy1] Registered as sound listener
[07:26:02] [ENEMY] [GuardEnemy1] Spawned at (2800, 600), hp: 2, behavior: GUARD
[07:26:02] [INFO] [BloodyFeet:GuardEnemy2] Blood detector created and attached to GuardEnemy2
[07:26:02] [INFO] [SoundPropagation] Registered listener: GuardEnemy2 (total: 2)
[07:26:02] [ENEMY] [GuardEnemy2] Registered as sound listener
[07:26:02] [ENEMY] [GuardEnemy2] Spawned at (2800, 1000), hp: 4, behavior: GUARD
[07:26:02] [INFO] [BloodyFeet:GuardEnemy3] Blood detector created and attached to GuardEnemy3
[07:26:02] [INFO] [SoundPropagation] Registered listener: GuardEnemy3 (total: 3)
[07:26:02] [ENEMY] [GuardEnemy3] Registered as sound listener
[07:26:02] [ENEMY] [GuardEnemy3] Spawned at (3400, 600), hp: 2, behavior: GUARD
[07:26:02] [INFO] [BloodyFeet:GuardEnemy4] Blood detector created and attached to GuardEnemy4
[07:26:02] [INFO] [SoundPropagation] Registered listener: GuardEnemy4 (total: 4)
[07:26:02] [ENEMY] [GuardEnemy4] Registered as sound listener
[07:26:02] [ENEMY] [GuardEnemy4] Spawned at (3400, 1000), hp: 2, behavior: GUARD
[07:26:02] [INFO] [BloodyFeet:GuardEnemy5] Blood detector created and attached to GuardEnemy5
[07:26:02] [INFO] [SoundPropagation] Registered listener: GuardEnemy5 (total: 5)
[07:26:02] [ENEMY] [GuardEnemy5] Registered as sound listener
[07:26:02] [ENEMY] [GuardEnemy5] Spawned at (3000, 2100), hp: 3, behavior: GUARD
[07:26:02] [INFO] [BloodyFeet:GuardEnemy6] Blood detector created and attached to GuardEnemy6
[07:26:02] [INFO] [SoundPropagation] Registered listener: GuardEnemy6 (total: 6)
[07:26:02] [ENEMY] [GuardEnemy6] Registered as sound listener
[07:26:02] [ENEMY] [GuardEnemy6] Spawned at (3000, 2400), hp: 4, behavior: GUARD
[07:26:02] [INFO] [BloodyFeet:PatrolEnemy1] Blood detector created and attached to PatrolEnemy1
[07:26:02] [INFO] [SoundPropagation] Registered listener: PatrolEnemy1 (total: 7)
[07:26:02] [ENEMY] [PatrolEnemy1] Registered as sound listener
[07:26:02] [ENEMY] [PatrolEnemy1] Spawned at (2400, 800), hp: 4, behavior: PATROL
[07:26:02] [INFO] [BloodyFeet:PatrolEnemy2] Blood detector created and attached to PatrolEnemy2
[07:26:02] [INFO] [SoundPropagation] Registered listener: PatrolEnemy2 (total: 8)
[07:26:02] [ENEMY] [PatrolEnemy2] Registered as sound listener
[07:26:02] [ENEMY] [PatrolEnemy2] Spawned at (2400, 2300), hp: 4, behavior: PATROL
[07:26:02] [INFO] [BloodyFeet:PatrolEnemy3] Blood detector created and attached to PatrolEnemy3
[07:26:02] [INFO] [SoundPropagation] Registered listener: PatrolEnemy3 (total: 9)
[07:26:02] [ENEMY] [PatrolEnemy3] Registered as sound listener
[07:26:02] [ENEMY] [PatrolEnemy3] Spawned at (2800, 1544), hp: 4, behavior: PATROL
[07:26:02] [INFO] [BloodyFeet:PatrolEnemy4] Blood detector created and attached to PatrolEnemy4
[07:26:02] [INFO] [SoundPropagation] Registered listener: PatrolEnemy4 (total: 10)
[07:26:02] [ENEMY] [PatrolEnemy4] Registered as sound listener
[07:26:02] [ENEMY] [PatrolEnemy4] Spawned at (3600, 1544), hp: 4, behavior: PATROL
[07:26:02] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[07:26:02] [ENEMY] [GuardEnemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=236.3°, current=0.0°, player=(264,1544), corner_timer=0.00
[07:26:02] [ENEMY] [GuardEnemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=281.3°, current=0.0°, player=(264,1544), corner_timer=0.00
[07:26:02] [ENEMY] [GuardEnemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=236.3°, current=0.0°, player=(264,1544), corner_timer=0.00
[07:26:02] [ENEMY] [GuardEnemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(264,1544), corner_timer=0.00
[07:26:02] [ENEMY] [GuardEnemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=236.3°, current=0.0°, player=(264,1544), corner_timer=0.00
[07:26:02] [ENEMY] [GuardEnemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=281.3°, current=0.0°, player=(264,1544), corner_timer=0.00
[07:26:02] [INFO] [Player] Detecting weapon pose (frame 3)...
[07:26:02] [INFO] [Player] Detected weapon: Rifle (default pose)
[07:26:02] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[07:26:02] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[07:26:02] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[07:26:02] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[07:26:02] [INFO] [LastChance] Found player: Player
[07:26:02] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[07:26:02] [INFO] [LastChance] Connected to player Damaged signal (C#)
[07:26:02] [INFO] [LastChance] Connected to player Died signal (C#)
[07:26:02] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[07:26:03] [INFO] [ReplayManager] Recording frame 10620 (168,9s): player_valid=False, enemies=10
[07:26:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(264, 1550), source=PLAYER (AssaultRifle), range=1469, listeners=10
[07:26:04] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=10, self=0, below_threshold=0
[07:26:04] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(264, 1550), shooter_id=2161341630848, bullet_pos=(482.27536, 1536.9243)
[07:26:04] [INFO] [Bullet] Using shooter_position, distance=218,66666
[07:26:04] [INFO] [Bullet] Distance to wall: 218,66666 (14,889415% of viewport)
[07:26:04] [INFO] [Bullet] Within ricochet range - trying ricochet first
[07:26:04] [INFO] [Bullet] Starting wall penetration at (482.27536, 1536.9243)
[07:26:04] [INFO] [Bullet] Raycast backward hit penetrating body at distance 12,881571
[07:26:04] [INFO] [Bullet] Body exited signal received for penetrating body
[07:26:04] [INFO] [Bullet] Exiting penetration at (528.8585, 1534.1338) after traveling 41,666676 pixels through wall
[07:26:04] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[07:26:04] [INFO] [ReplayManager] Recording frame 10680 (169,9s): player_valid=False, enemies=10
[07:26:04] [ENEMY] [PatrolEnemy1] PATROL corner check: angle -0.0°
[07:26:04] [ENEMY] [PatrolEnemy2] PATROL corner check: angle 180.0°
[07:26:04] [ENEMY] [PatrolEnemy3] PATROL corner check: angle -98.6°
[07:26:04] [ENEMY] [PatrolEnemy4] PATROL corner check: angle -0.0°
[07:26:04] [ENEMY] [PatrolEnemy1] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(264,1544), corner_timer=0.30
[07:26:04] [ENEMY] [PatrolEnemy2] ROT_CHANGE: none -> P3:corner, state=IDLE, target=180.0°, current=-90.0°, player=(264,1544), corner_timer=0.30
[07:26:04] [ENEMY] [PatrolEnemy3] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-98.6°, current=-8.6°, player=(264,1544), corner_timer=0.30
[07:26:04] [ENEMY] [PatrolEnemy4] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(264,1544), corner_timer=0.30
[07:26:05] [INFO] [ReplayManager] Recording frame 10740 (170,9s): player_valid=False, enemies=10
[07:26:05] [INFO] [PauseMenu] Armory button pressed
[07:26:05] [INFO] [PauseMenu] Creating new armory menu instance
[07:26:05] [INFO] [PauseMenu] armory_menu_scene resource path: res://scenes/ui/ArmoryMenu.tscn
[07:26:05] [INFO] [PauseMenu] Instance created, class: CanvasLayer, name: ArmoryMenu
[07:26:05] [INFO] [PauseMenu] Script attached: res://scripts/ui/armory_menu.gd
[07:26:05] [INFO] [PauseMenu] back_pressed signal exists on instance
[07:26:05] [INFO] [PauseMenu] back_pressed signal connected
[07:26:05] [INFO] [PauseMenu] Armory menu instance added as child, is_inside_tree: true
[07:26:05] [INFO] [PauseMenu] _populate_weapon_grid method exists
[07:26:06] [INFO] [ReplayManager] Recording frame 10800 (171,9s): player_valid=False, enemies=10
[07:26:07] [INFO] [ReplayManager] Recording frame 10860 (172,9s): player_valid=False, enemies=10
[07:26:08] [INFO] [ReplayManager] Recording frame 10920 (173,9s): player_valid=False, enemies=10
[07:26:08] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=90.0°, current=35.6°, player=(264,1544), corner_timer=-0.02
[07:26:08] [ENEMY] [PatrolEnemy1] PATROL corner check: angle -0.0°
[07:26:08] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=-90.0°, current=-144.4°, player=(264,1544), corner_timer=-0.02
[07:26:08] [ENEMY] [PatrolEnemy2] PATROL corner check: angle 180.0°
[07:26:08] [ENEMY] [PatrolEnemy3] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=-4.5°, current=-58.9°, player=(264,1544), corner_timer=-0.02
[07:26:08] [ENEMY] [PatrolEnemy3] PATROL corner check: angle -94.2°
[07:26:08] [ENEMY] [PatrolEnemy4] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=90.0°, current=35.6°, player=(264,1544), corner_timer=-0.02
[07:26:08] [ENEMY] [PatrolEnemy4] PATROL corner check: angle -0.0°
[07:26:08] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-0.0°, current=38.4°, player=(264,1544), corner_timer=0.30
[07:26:08] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=180.0°, current=-141.6°, player=(264,1544), corner_timer=0.30
[07:26:08] [ENEMY] [PatrolEnemy3] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-94.2°, current=-55.8°, player=(264,1544), corner_timer=0.30
[07:26:08] [ENEMY] [PatrolEnemy4] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-0.0°, current=38.4°, player=(264,1544), corner_timer=0.30
[07:26:09] [INFO] [ReplayManager] Recording frame 10980 (174,9s): player_valid=False, enemies=10
[07:26:10] [INFO] [ReplayManager] Recording frame 11040 (175,9s): player_valid=False, enemies=10
[07:26:10] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[07:26:10] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[07:26:10] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[07:26:10] [INFO] [LastChance] Resetting all effects (scene change detected)
[07:26:10] [INFO] [CinemaEffects] Scene changed to: TestTier
[07:26:10] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[07:26:10] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:26:10] [INFO] [BloodyFeet:Player] Footprint scene loaded
[07:26:10] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[07:26:10] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[07:26:10] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[07:26:10] [INFO] [Player.Grenade] Tutorial level detected - infinite grenades enabled
[07:26:10] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[07:26:10] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[07:26:10] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[07:26:10] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[07:26:10] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[07:26:10] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[07:26:10] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 3/3, Health: 2/4
[07:26:10] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[07:26:10] [INFO] [CinemaEffects] Found player node: Player
[07:26:10] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[07:26:10] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[07:26:10] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[07:26:10] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[07:26:10] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[07:26:10] [INFO] [LastChance] Found player: Player
[07:26:10] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[07:26:10] [INFO] [LastChance] Connected to player Damaged signal (C#)
[07:26:10] [INFO] [LastChance] Connected to player Died signal (C#)
[07:26:10] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[07:26:10] [INFO] [Player] Detecting weapon pose (frame 3)...
[07:26:10] [INFO] [Player] Detected weapon: Rifle (default pose)
[07:26:10] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[07:26:11] [INFO] [ReplayManager] Recording frame 11100 (176,9s): player_valid=False, enemies=10
[07:26:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 360), source=PLAYER (SniperRifle), range=1469, listeners=10
[07:26:11] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[07:26:11] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[07:26:12] [INFO] [ReplayManager] Recording frame 11160 (177,9s): player_valid=False, enemies=10
[07:26:13] [INFO] [ReplayManager] Recording frame 11220 (178,7s): player_valid=False, enemies=10
[07:26:14] [INFO] [ReplayManager] Recording frame 11280 (179,5s): player_valid=False, enemies=10
[07:26:15] [INFO] [PauseMenu] Armory button pressed
[07:26:15] [INFO] [PauseMenu] Creating new armory menu instance
[07:26:15] [INFO] [PauseMenu] armory_menu_scene resource path: res://scenes/ui/ArmoryMenu.tscn
[07:26:15] [INFO] [PauseMenu] Instance created, class: CanvasLayer, name: ArmoryMenu
[07:26:15] [INFO] [PauseMenu] Script attached: res://scripts/ui/armory_menu.gd
[07:26:15] [INFO] [PauseMenu] back_pressed signal exists on instance
[07:26:15] [INFO] [PauseMenu] back_pressed signal connected
[07:26:15] [INFO] [PauseMenu] Armory menu instance added as child, is_inside_tree: true
[07:26:15] [INFO] [PauseMenu] _populate_weapon_grid method exists
[07:26:15] [INFO] [ReplayManager] Recording frame 11340 (180,3s): player_valid=False, enemies=10
[07:26:16] [INFO] [ReplayManager] Recording frame 11400 (181,1s): player_valid=False, enemies=10
[07:26:17] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[07:26:17] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:26:17] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[07:26:17] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[07:26:17] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[07:26:17] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[07:26:17] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[07:26:17] [INFO] [LastChance] Resetting all effects (scene change detected)
[07:26:17] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[07:26:17] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[07:26:17] [ENEMY] [Enemy1] Death animation component initialized
[07:26:17] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:26:17] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[07:26:17] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[07:26:17] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[07:26:17] [INFO] [EnemyGrenade] Initialized: 1 grenades
[07:26:17] [ENEMY] [Enemy2] Death animation component initialized
[07:26:17] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:26:17] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[07:26:17] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[07:26:17] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[07:26:17] [ENEMY] [Enemy3] Death animation component initialized
[07:26:17] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:26:17] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[07:26:17] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[07:26:17] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[07:26:17] [ENEMY] [Enemy4] Death animation component initialized
[07:26:17] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:26:17] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[07:26:17] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[07:26:17] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[07:26:17] [ENEMY] [Enemy5] Death animation component initialized
[07:26:17] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:26:17] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[07:26:17] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[07:26:17] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[07:26:17] [INFO] [EnemyGrenade] Initialized: 1 grenades
[07:26:17] [ENEMY] [Enemy6] Death animation component initialized
[07:26:17] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:26:17] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[07:26:17] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[07:26:17] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[07:26:17] [ENEMY] [Enemy7] Death animation component initialized
[07:26:17] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:26:17] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[07:26:17] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[07:26:17] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[07:26:17] [ENEMY] [Enemy8] Death animation component initialized
[07:26:17] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:26:17] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[07:26:17] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[07:26:17] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[07:26:17] [INFO] [EnemyGrenade] Initialized: 1 grenades
[07:26:17] [ENEMY] [Enemy9] Death animation component initialized
[07:26:17] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:26:17] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[07:26:17] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[07:26:17] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[07:26:17] [ENEMY] [Enemy10] Death animation component initialized
[07:26:17] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:26:17] [INFO] [BloodyFeet:Player] Footprint scene loaded
[07:26:17] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[07:26:17] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[07:26:17] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[07:26:17] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[07:26:17] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[07:26:17] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[07:26:17] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[07:26:17] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[07:26:17] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[07:26:17] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[07:26:17] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[07:26:17] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[07:26:17] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[07:26:17] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[07:26:17] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[07:26:17] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[07:26:17] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[07:26:17] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[07:26:17] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[07:26:17] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[07:26:17] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[07:26:17] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[07:26:17] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[07:26:17] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[07:26:17] [INFO] [ScoreManager] Level started with 10 enemies
[07:26:17] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[07:26:17] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[07:26:17] [INFO] [ReplayManager] Replay data cleared
[07:26:17] [INFO] [BuildingLevel] Previous replay data cleared
[07:26:17] [INFO] [ReplayManager] Detected player weapon: Sniper Rifle (ASVK)
[07:26:17] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[07:26:17] [INFO] [ReplayManager] Level: BuildingLevel
[07:26:17] [INFO] [ReplayManager] Player: Player (valid: True)
[07:26:17] [INFO] [ReplayManager] Enemies count: 10
[07:26:17] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/asvk_topdown.png
[07:26:17] [INFO] [ReplayManager]   Enemy 0: Enemy1
[07:26:17] [INFO] [ReplayManager]   Enemy 1: Enemy2
[07:26:17] [INFO] [ReplayManager]   Enemy 2: Enemy3
[07:26:17] [INFO] [ReplayManager]   Enemy 3: Enemy4
[07:26:17] [INFO] [ReplayManager]   Enemy 4: Enemy5
[07:26:17] [INFO] [ReplayManager]   Enemy 5: Enemy6
[07:26:17] [INFO] [ReplayManager]   Enemy 6: Enemy7
[07:26:17] [INFO] [ReplayManager]   Enemy 7: Enemy8
[07:26:17] [INFO] [ReplayManager]   Enemy 8: Enemy9
[07:26:17] [INFO] [ReplayManager]   Enemy 9: Enemy10
[07:26:17] [INFO] [BuildingLevel] Replay recording started successfully
[07:26:17] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[07:26:17] [INFO] [CinemaEffects] Found player node: Player
[07:26:17] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[07:26:17] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 1)
[07:26:17] [ENEMY] [Enemy1] Registered as sound listener
[07:26:17] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 4, behavior: GUARD
[07:26:17] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[07:26:17] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 2)
[07:26:17] [ENEMY] [Enemy2] Registered as sound listener
[07:26:17] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 2, behavior: GUARD
[07:26:17] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[07:26:17] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 3)
[07:26:17] [ENEMY] [Enemy3] Registered as sound listener
[07:26:17] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 2, behavior: GUARD
[07:26:17] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[07:26:17] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 4)
[07:26:17] [ENEMY] [Enemy4] Registered as sound listener
[07:26:17] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 3, behavior: GUARD
[07:26:17] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[07:26:17] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 5)
[07:26:17] [ENEMY] [Enemy5] Registered as sound listener
[07:26:17] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 2, behavior: GUARD
[07:26:17] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[07:26:17] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 6)
[07:26:17] [ENEMY] [Enemy6] Registered as sound listener
[07:26:17] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 4, behavior: GUARD
[07:26:17] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[07:26:17] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 7)
[07:26:17] [ENEMY] [Enemy7] Registered as sound listener
[07:26:17] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 4, behavior: PATROL
[07:26:17] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[07:26:17] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 8)
[07:26:17] [ENEMY] [Enemy8] Registered as sound listener
[07:26:17] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 2, behavior: GUARD
[07:26:17] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[07:26:17] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 9)
[07:26:17] [ENEMY] [Enemy9] Registered as sound listener
[07:26:17] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 4, behavior: GUARD
[07:26:17] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[07:26:17] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 10)
[07:26:17] [ENEMY] [Enemy10] Registered as sound listener
[07:26:17] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 2, behavior: PATROL
[07:26:17] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[07:26:17] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[07:26:17] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[07:26:17] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[07:26:17] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=281.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[07:26:17] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[07:26:17] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[07:26:17] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=337.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[07:26:17] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[07:26:17] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=180.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[07:26:17] [INFO] [Player] Detecting weapon pose (frame 3)...
[07:26:17] [INFO] [Player] Detected weapon: Rifle (default pose)
[07:26:17] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[07:26:17] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[07:26:17] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[07:26:17] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[07:26:17] [INFO] [LastChance] Found player: Player
[07:26:17] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[07:26:17] [INFO] [LastChance] Connected to player Damaged signal (C#)
[07:26:17] [INFO] [LastChance] Connected to player Died signal (C#)
[07:26:17] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[07:26:18] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[07:26:18] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[07:26:18] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:26:18] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[07:26:18] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[07:26:18] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[07:26:18] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[07:26:18] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[07:26:18] [INFO] [LastChance] Resetting all effects (scene change detected)
[07:26:18] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[07:26:18] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[07:26:18] [ENEMY] [Enemy1] Death animation component initialized
[07:26:18] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:26:18] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[07:26:18] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[07:26:18] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[07:26:18] [ENEMY] [Enemy2] Death animation component initialized
[07:26:18] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:26:18] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[07:26:18] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[07:26:18] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[07:26:18] [ENEMY] [Enemy3] Death animation component initialized
[07:26:18] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:26:18] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[07:26:18] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[07:26:18] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[07:26:18] [INFO] [EnemyGrenade] Initialized: 1 grenades
[07:26:18] [ENEMY] [Enemy4] Death animation component initialized
[07:26:18] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:26:18] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[07:26:18] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[07:26:18] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[07:26:18] [ENEMY] [Enemy5] Death animation component initialized
[07:26:18] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:26:18] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[07:26:18] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[07:26:18] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[07:26:18] [ENEMY] [Enemy6] Death animation component initialized
[07:26:18] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:26:18] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[07:26:18] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[07:26:18] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[07:26:18] [ENEMY] [Enemy7] Death animation component initialized
[07:26:18] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:26:18] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[07:26:18] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[07:26:18] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[07:26:18] [ENEMY] [Enemy8] Death animation component initialized
[07:26:18] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:26:18] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[07:26:18] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[07:26:18] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[07:26:18] [ENEMY] [Enemy9] Death animation component initialized
[07:26:18] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:26:18] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[07:26:18] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[07:26:18] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[07:26:18] [ENEMY] [Enemy10] Death animation component initialized
[07:26:18] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:26:18] [INFO] [BloodyFeet:Player] Footprint scene loaded
[07:26:18] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[07:26:18] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[07:26:18] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[07:26:18] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[07:26:18] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[07:26:18] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[07:26:18] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[07:26:18] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[07:26:18] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[07:26:18] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[07:26:18] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[07:26:18] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[07:26:18] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[07:26:18] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[07:26:18] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[07:26:18] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[07:26:18] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[07:26:18] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[07:26:18] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[07:26:18] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[07:26:18] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[07:26:18] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[07:26:18] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[07:26:18] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[07:26:18] [INFO] [ScoreManager] Level started with 10 enemies
[07:26:18] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[07:26:18] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[07:26:18] [INFO] [ReplayManager] Replay data cleared
[07:26:18] [INFO] [BuildingLevel] Previous replay data cleared
[07:26:18] [INFO] [ReplayManager] Detected player weapon: Sniper Rifle (ASVK)
[07:26:18] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[07:26:18] [INFO] [ReplayManager] Level: BuildingLevel
[07:26:18] [INFO] [ReplayManager] Player: Player (valid: True)
[07:26:18] [INFO] [ReplayManager] Enemies count: 10
[07:26:18] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/asvk_topdown.png
[07:26:18] [INFO] [ReplayManager]   Enemy 0: Enemy1
[07:26:18] [INFO] [ReplayManager]   Enemy 1: Enemy2
[07:26:18] [INFO] [ReplayManager]   Enemy 2: Enemy3
[07:26:18] [INFO] [ReplayManager]   Enemy 3: Enemy4
[07:26:18] [INFO] [ReplayManager]   Enemy 4: Enemy5
[07:26:18] [INFO] [ReplayManager]   Enemy 5: Enemy6
[07:26:18] [INFO] [ReplayManager]   Enemy 6: Enemy7
[07:26:18] [INFO] [ReplayManager]   Enemy 7: Enemy8
[07:26:18] [INFO] [ReplayManager]   Enemy 8: Enemy9
[07:26:18] [INFO] [ReplayManager]   Enemy 9: Enemy10
[07:26:18] [INFO] [BuildingLevel] Replay recording started successfully
[07:26:18] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[07:26:18] [INFO] [CinemaEffects] Found player node: Player
[07:26:18] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[07:26:18] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[07:26:18] [ENEMY] [Enemy1] Registered as sound listener
[07:26:18] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 2, behavior: GUARD
[07:26:18] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[07:26:18] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[07:26:18] [ENEMY] [Enemy2] Registered as sound listener
[07:26:18] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 2, behavior: GUARD
[07:26:18] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[07:26:18] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[07:26:18] [ENEMY] [Enemy3] Registered as sound listener
[07:26:18] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 4, behavior: GUARD
[07:26:18] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[07:26:18] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[07:26:18] [ENEMY] [Enemy4] Registered as sound listener
[07:26:18] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 3, behavior: GUARD
[07:26:18] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[07:26:18] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[07:26:18] [ENEMY] [Enemy5] Registered as sound listener
[07:26:18] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 3, behavior: GUARD
[07:26:18] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[07:26:18] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[07:26:18] [ENEMY] [Enemy6] Registered as sound listener
[07:26:18] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 2, behavior: GUARD
[07:26:18] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[07:26:18] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[07:26:18] [ENEMY] [Enemy7] Registered as sound listener
[07:26:18] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 4, behavior: PATROL
[07:26:18] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[07:26:18] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[07:26:18] [ENEMY] [Enemy8] Registered as sound listener
[07:26:18] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 3, behavior: GUARD
[07:26:18] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[07:26:18] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[07:26:18] [ENEMY] [Enemy9] Registered as sound listener
[07:26:18] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 4, behavior: GUARD
[07:26:18] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[07:26:18] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[07:26:18] [ENEMY] [Enemy10] Registered as sound listener
[07:26:18] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 3, behavior: PATROL
[07:26:18] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[07:26:18] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[07:26:18] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[07:26:18] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[07:26:18] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[07:26:18] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[07:26:18] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[07:26:18] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[07:26:18] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=123.7°, current=0.0°, player=(450,1250), corner_timer=0.00
[07:26:18] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[07:26:18] [INFO] [Player] Detecting weapon pose (frame 3)...
[07:26:18] [INFO] [Player] Detected weapon: Rifle (default pose)
[07:26:18] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[07:26:18] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[07:26:18] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[07:26:18] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[07:26:18] [INFO] [LastChance] Found player: Player
[07:26:18] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[07:26:18] [INFO] [LastChance] Connected to player Damaged signal (C#)
[07:26:18] [INFO] [LastChance] Connected to player Died signal (C#)
[07:26:18] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[07:26:19] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[07:26:20] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[07:26:20] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[07:26:20] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,902), corner_timer=0.30
[07:26:20] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,902), corner_timer=0.30
[07:26:20] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(443,800), corner_timer=-0.02
[07:26:20] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[07:26:20] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(443,800), corner_timer=-0.02
[07:26:20] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[07:26:20] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(441,796), corner_timer=0.30
[07:26:20] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(441,796), corner_timer=0.30
[07:26:20] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[07:26:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(406.2071, 765.3907), source=PLAYER (SniperRifle), range=1469, listeners=20
[07:26:20] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[07:26:20] [ENEMY] [Enemy1] Heard gunshot at (406.2071, 765.3907), source_type=0, intensity=0.01, distance=429
[07:26:20] [ENEMY] [Enemy2] Heard gunshot at (406.2071, 765.3907), source_type=0, intensity=0.05, distance=215
[07:26:20] [ENEMY] [Enemy3] Heard gunshot at (406.2071, 765.3907), source_type=0, intensity=0.03, distance=294
[07:26:20] [ENEMY] [Enemy4] Heard gunshot at (406.2071, 765.3907), source_type=0, intensity=0.01, distance=416
[07:26:20] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[07:26:20] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=75.7°, current=-157.5°, player=(406,765), corner_timer=0.00
[07:26:20] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=88.3°, current=168.8°, player=(406,765), corner_timer=0.00
[07:26:20] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=177.0°, current=11.3°, player=(406,765), corner_timer=0.00
[07:26:20] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=-161.1°, current=-67.5°, player=(406,765), corner_timer=0.00
[07:26:20] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=177.3°, current=-168.9°, player=(401,764), corner_timer=0.00
[07:26:20] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(367,763), corner_timer=-0.02
[07:26:20] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[07:26:20] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(362,764), corner_timer=0.30
[07:26:20] [ENEMY] [Enemy3] Hit taken, damage: 10, health: 4/4 -> -6/4
[07:26:20] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[07:26:20] [INFO] [ImpactEffects] spawn_blood_effect called at (625.4144, 753.413), dir=(1, 0), lethal=true
[07:26:20] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[07:26:20] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[07:26:20] [INFO] [ImpactEffects] Blood effect spawned at (625.4144, 753.413) (scale=1.5)
[07:26:20] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[07:26:20] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[07:26:20] [ENEMY] [Enemy3] [AllyDeath] Notified 3 enemies
[07:26:20] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[07:26:20] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[07:26:20] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[07:26:21] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(289,823), corner_timer=-0.00
[07:26:21] [ENEMY] [Enemy10] PATROL corner check: angle 3.6°
[07:26:21] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.6°, current=9.1°, player=(286,827), corner_timer=0.30
[07:26:21] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[07:26:21] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[07:26:21] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[07:26:21] [INFO] [BloodDecal] Blood puddle created at (677.676, 765.7274) (added to group)
[07:26:21] [INFO] [BloodDecal] Blood puddle created at (713.7902, 764.4147) (added to group)
[07:26:21] [INFO] [BloodDecal] Blood puddle created at (723.8544, 737.8163) (added to group)
[07:26:21] [INFO] [BloodDecal] Blood puddle created at (676.374, 757.2112) (added to group)
[07:26:21] [INFO] [BloodDecal] Blood puddle created at (742.7444, 747.2984) (added to group)
[07:26:21] [INFO] [BloodDecal] Blood puddle created at (750.1957, 734.0322) (added to group)
[07:26:21] [INFO] [BloodDecal] Blood puddle created at (740.2882, 739.6078) (added to group)
[07:26:21] [INFO] [BloodDecal] Blood puddle created at (728.568, 809.0716) (added to group)
[07:26:21] [ENEMY] [Enemy3] Ragdoll activated
[07:26:21] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[07:26:21] [INFO] [BloodDecal] Blood puddle created at (717.452, 806.9307) (added to group)
[07:26:21] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.6°, player=(241,872), corner_timer=-0.01
[07:26:21] [ENEMY] [Enemy10] PATROL corner check: angle 1.9°
[07:26:21] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.9°, current=5.8°, player=(241,872), corner_timer=0.30
[07:26:21] [INFO] [ReplayManager] Recording frame 180 (2,9s): player_valid=True, enemies=10
[07:26:21] [INFO] [BloodDecal] Blood puddle created at (769.6796, 806.2614) (added to group)
[07:26:21] [INFO] [BloodDecal] Blood puddle created at (820.5532, 777.1614) (added to group)
[07:26:21] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.9°, player=(240,873), corner_timer=-0.01
[07:26:21] [ENEMY] [Enemy10] PATROL corner check: angle 1.0°
[07:26:21] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.0°, current=4.2°, player=(240,873), corner_timer=0.30
[07:26:21] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[07:26:21] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:26:21] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[07:26:21] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[07:26:21] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[07:26:21] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[07:26:21] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[07:26:21] [INFO] [LastChance] Resetting all effects (scene change detected)
[07:26:21] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[07:26:21] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[07:26:21] [ENEMY] [Enemy1] Death animation component initialized
[07:26:21] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:26:21] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[07:26:21] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[07:26:21] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[07:26:21] [ENEMY] [Enemy2] Death animation component initialized
[07:26:21] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:26:21] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[07:26:21] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[07:26:21] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[07:26:21] [INFO] [EnemyGrenade] Initialized: 1 grenades
[07:26:21] [ENEMY] [Enemy3] Death animation component initialized
[07:26:21] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:26:21] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[07:26:21] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[07:26:21] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[07:26:21] [ENEMY] [Enemy4] Death animation component initialized
[07:26:21] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:26:21] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[07:26:21] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[07:26:21] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[07:26:21] [ENEMY] [Enemy5] Death animation component initialized
[07:26:21] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:26:21] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[07:26:21] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[07:26:21] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[07:26:21] [ENEMY] [Enemy6] Death animation component initialized
[07:26:21] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:26:21] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[07:26:21] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[07:26:21] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[07:26:21] [ENEMY] [Enemy7] Death animation component initialized
[07:26:21] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:26:21] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[07:26:21] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[07:26:21] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[07:26:21] [ENEMY] [Enemy8] Death animation component initialized
[07:26:21] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:26:21] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[07:26:21] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[07:26:21] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[07:26:21] [ENEMY] [Enemy9] Death animation component initialized
[07:26:21] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:26:21] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[07:26:21] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[07:26:21] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[07:26:22] [ENEMY] [Enemy10] Death animation component initialized
[07:26:22] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:26:22] [INFO] [BloodyFeet:Player] Footprint scene loaded
[07:26:22] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[07:26:22] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[07:26:22] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[07:26:22] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[07:26:22] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[07:26:22] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[07:26:22] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[07:26:22] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[07:26:22] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[07:26:22] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[07:26:22] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[07:26:22] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[07:26:22] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[07:26:22] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[07:26:22] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[07:26:22] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[07:26:22] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[07:26:22] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[07:26:22] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[07:26:22] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[07:26:22] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[07:26:22] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[07:26:22] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[07:26:22] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[07:26:22] [INFO] [ScoreManager] Level started with 10 enemies
[07:26:22] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[07:26:22] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[07:26:22] [INFO] [ReplayManager] Replay data cleared
[07:26:22] [INFO] [BuildingLevel] Previous replay data cleared
[07:26:22] [INFO] [ReplayManager] Detected player weapon: Sniper Rifle (ASVK)
[07:26:22] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[07:26:22] [INFO] [ReplayManager] Level: BuildingLevel
[07:26:22] [INFO] [ReplayManager] Player: Player (valid: True)
[07:26:22] [INFO] [ReplayManager] Enemies count: 10
[07:26:22] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/asvk_topdown.png
[07:26:22] [INFO] [ReplayManager]   Enemy 0: Enemy1
[07:26:22] [INFO] [ReplayManager]   Enemy 1: Enemy2
[07:26:22] [INFO] [ReplayManager]   Enemy 2: Enemy3
[07:26:22] [INFO] [ReplayManager]   Enemy 3: Enemy4
[07:26:22] [INFO] [ReplayManager]   Enemy 4: Enemy5
[07:26:22] [INFO] [ReplayManager]   Enemy 5: Enemy6
[07:26:22] [INFO] [ReplayManager]   Enemy 6: Enemy7
[07:26:22] [INFO] [ReplayManager]   Enemy 7: Enemy8
[07:26:22] [INFO] [ReplayManager]   Enemy 8: Enemy9
[07:26:22] [INFO] [ReplayManager]   Enemy 9: Enemy10
[07:26:22] [INFO] [BuildingLevel] Replay recording started successfully
[07:26:22] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[07:26:22] [INFO] [CinemaEffects] Found player node: Player
[07:26:22] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[07:26:22] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[07:26:22] [ENEMY] [Enemy1] Registered as sound listener
[07:26:22] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 2, behavior: GUARD
[07:26:22] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[07:26:22] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[07:26:22] [ENEMY] [Enemy2] Registered as sound listener
[07:26:22] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 3, behavior: GUARD
[07:26:22] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[07:26:22] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[07:26:22] [ENEMY] [Enemy3] Registered as sound listener
[07:26:22] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 2, behavior: GUARD
[07:26:22] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[07:26:22] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[07:26:22] [ENEMY] [Enemy4] Registered as sound listener
[07:26:22] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 2, behavior: GUARD
[07:26:22] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[07:26:22] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[07:26:22] [ENEMY] [Enemy5] Registered as sound listener
[07:26:22] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 3, behavior: GUARD
[07:26:22] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[07:26:22] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[07:26:22] [ENEMY] [Enemy6] Registered as sound listener
[07:26:22] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 2, behavior: GUARD
[07:26:22] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[07:26:22] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[07:26:22] [ENEMY] [Enemy7] Registered as sound listener
[07:26:22] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 4, behavior: PATROL
[07:26:22] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[07:26:22] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[07:26:22] [ENEMY] [Enemy8] Registered as sound listener
[07:26:22] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 3, behavior: GUARD
[07:26:22] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[07:26:22] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[07:26:22] [ENEMY] [Enemy9] Registered as sound listener
[07:26:22] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 2, behavior: GUARD
[07:26:22] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[07:26:22] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[07:26:22] [ENEMY] [Enemy10] Registered as sound listener
[07:26:22] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 2, behavior: PATROL
[07:26:22] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[07:26:22] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[07:26:22] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=33.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[07:26:22] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[07:26:22] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=281.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[07:26:22] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[07:26:22] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[07:26:22] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=225.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[07:26:22] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=123.7°, current=0.0°, player=(450,1250), corner_timer=0.00
[07:26:22] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[07:26:22] [INFO] [Player] Detecting weapon pose (frame 3)...
[07:26:22] [INFO] [Player] Detected weapon: Rifle (default pose)
[07:26:22] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[07:26:22] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[07:26:22] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[07:26:22] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[07:26:22] [INFO] [LastChance] Found player: Player
[07:26:22] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[07:26:22] [INFO] [LastChance] Connected to player Damaged signal (C#)
[07:26:22] [INFO] [LastChance] Connected to player Died signal (C#)
[07:26:22] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[07:26:22] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[07:26:23] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[07:26:23] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[07:26:23] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,1250), corner_timer=0.30
[07:26:23] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,1250), corner_timer=0.30
[07:26:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 1250), source=PLAYER (SniperRifle), range=1469, listeners=19
[07:26:23] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[07:26:23] [ENEMY] [Enemy4] Heard gunshot at (450, 1250), source_type=0, intensity=0.01, distance=495
[07:26:23] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=6
[07:26:23] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=135.0°, current=168.8°, player=(450,1250), corner_timer=0.00
[07:26:23] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(450,1250), corner_timer=-0.02
[07:26:23] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[07:26:23] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(450,1250), corner_timer=-0.02
[07:26:23] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[07:26:23] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(450,1250), corner_timer=0.30
[07:26:23] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(450,1250), corner_timer=0.30
[07:26:23] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[07:26:24] [ENEMY] [Enemy3] Memory: medium confidence (0.61) - transitioning to PURSUING
[07:26:24] [ENEMY] [Enemy3] State: IDLE -> PURSUING
[07:26:24] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=116.6°, current=-78.7°, player=(450,1250), corner_timer=0.00
[07:26:24] [ENEMY] [Enemy3] PURSUING corner check: angle -129.3°
[07:26:24] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(450,1250), corner_timer=-0.02
[07:26:24] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[07:26:24] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(450,1250), corner_timer=0.30
[07:26:24] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[07:26:24] [ENEMY] [Enemy3] PURSUING corner check: angle -161.0°
[07:26:24] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(450,1250), corner_timer=-0.02
[07:26:24] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[07:26:24] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.6°, player=(450,1250), corner_timer=0.30
[07:26:24] [ENEMY] [Enemy3] PURSUING corner check: angle 19.0°
[07:26:24] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(450,1250), corner_timer=-0.02
[07:26:24] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[07:26:24] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.8°, current=6.3°, player=(450,1250), corner_timer=0.30
[07:26:24] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=10
[07:26:25] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.8°, player=(450,1250), corner_timer=-0.02
[07:26:25] [ENEMY] [Enemy10] PATROL corner check: angle 0.9°
[07:26:25] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=0.9°, current=4.6°, player=(450,1250), corner_timer=0.30
[07:26:25] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:26:25] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=-130.1°, player=(450,1193), corner_timer=-0.02
[07:26:25] [ENEMY] [Enemy7] PATROL corner check: angle 90.0°
[07:26:25] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=-133.0°, player=(450,1188), corner_timer=0.30
[07:26:25] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:26:25] [ENEMY] [Enemy4] PURSUING corner check: angle -90.4°
[07:26:25] [INFO] [ReplayManager] Recording frame 240 (4,0s): player_valid=True, enemies=10
[07:26:26] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=179.1°, current=172.4°, player=(450,1083), corner_timer=-0.02
[07:26:26] [ENEMY] [Enemy7] PATROL corner check: angle 89.8°
[07:26:26] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.8°, current=175.3°, player=(450,1078), corner_timer=0.30
[07:26:26] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:26:26] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=178.4°, current=120.7°, player=(411,1005), corner_timer=-0.02
[07:26:26] [ENEMY] [Enemy7] PATROL corner check: angle 89.7°
[07:26:26] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.7°, current=123.6°, player=(407,1004), corner_timer=0.30
[07:26:26] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:26:26] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.9°, current=89.7°, player=(310,1001), corner_timer=-0.02
[07:26:26] [ENEMY] [Enemy7] PATROL corner check: angle 89.6°
[07:26:26] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.6°, current=92.5°, player=(306,1001), corner_timer=0.30
[07:26:26] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:26:26] [INFO] [ReplayManager] Recording frame 300 (5,0s): player_valid=True, enemies=10
[07:26:27] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.7°, current=89.6°, player=(281,1001), corner_timer=-0.02
[07:26:27] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[07:26:27] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.4°, player=(281,1001), corner_timer=0.30
[07:26:27] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:26:27] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.5°, current=89.5°, player=(281,1001), corner_timer=-0.02
[07:26:27] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[07:26:27] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.4°, player=(281,1001), corner_timer=0.30
[07:26:27] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:26:27] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.4°, current=89.5°, player=(281,1001), corner_timer=-0.02
[07:26:27] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[07:26:27] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.3°, player=(281,1001), corner_timer=0.30
[07:26:27] [ENEMY] [Enemy4] FLANKING started: target=(397.0408, 1164.72), side=right, pos=(560.8355, 975.9334)
[07:26:27] [ENEMY] [Enemy4] State: PURSUING -> FLANKING
[07:26:27] [ENEMY] [Enemy4] FLANKING corner check: angle -50.9°
[07:26:27] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:26:27] [INFO] [ReplayManager] Recording frame 360 (6,0s): player_valid=True, enemies=10
[07:26:28] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.5°, player=(283,1001), corner_timer=-0.02
[07:26:28] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[07:26:28] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(285,1001), corner_timer=0.30
[07:26:28] [ENEMY] [Enemy4] FLANKING corner check: angle -34.6°
[07:26:28] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:26:28] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(295,1001), corner_timer=-0.02
[07:26:28] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[07:26:28] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(295,1001), corner_timer=0.30
[07:26:28] [ENEMY] [Enemy4] FLANKING corner check: angle -42.9°
[07:26:28] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:26:28] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=135.7°, current=97.3°, player=(295,1001), corner_timer=0.15
[07:26:28] [ENEMY] [Enemy4] State: FLANKING -> COMBAT
[07:26:28] [ENEMY] [Enemy4] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=134.6°, current=57.1°, player=(295,1001), corner_timer=0.15
[07:26:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(295.0133, 1001.265), source=PLAYER (SniperRifle), range=1469, listeners=10
[07:26:28] [ENEMY] [Enemy2] Heard gunshot at (295.0133, 1001.265), source_type=0, intensity=0.01, distance=463
[07:26:28] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=3
[07:26:28] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=103.1°, current=-101.3°, player=(295,1001), corner_timer=0.00
[07:26:28] [ENEMY] [Enemy1] Memory: medium confidence (0.63) - transitioning to PURSUING
[07:26:28] [ENEMY] [Enemy1] State: IDLE -> PURSUING
[07:26:28] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=90.4°, current=33.8°, player=(295,1001), corner_timer=0.00
[07:26:28] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(295,1001), corner_timer=-0.02
[07:26:28] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[07:26:28] [ENEMY] [Enemy1] PURSUING corner check: angle -50.9°
[07:26:28] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(295,1001), corner_timer=0.30
[07:26:28] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=130.7°, current=81.5°, player=(295,1001), corner_timer=0.15
[07:26:28] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:26:28] [ENEMY] [Enemy3] Hit taken, damage: 10, health: 2/2 -> -8/2
[07:26:28] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[07:26:28] [INFO] [ImpactEffects] spawn_blood_effect called at (559.6516, 975.9338), dir=(1, 0), lethal=true
[07:26:28] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[07:26:28] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[07:26:28] [INFO] [ImpactEffects] Blood effect spawned at (559.6516, 975.9338) (scale=1.5)
[07:26:28] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[07:26:28] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[07:26:28] [ENEMY] [Enemy3] [AllyDeath] Notified 2 enemies
[07:26:28] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[07:26:28] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[07:26:28] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[07:26:28] [INFO] [ReplayManager] Recording frame 420 (7,0s): player_valid=True, enemies=10
[07:26:29] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(295,1001), corner_timer=-0.00
[07:26:29] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[07:26:29] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=91.7°, player=(295,1001), corner_timer=0.30
[07:26:29] [ENEMY] [Enemy1] PURSUING corner check: angle -51.3°
[07:26:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(452.9889, 817.7315), source=ENEMY (Enemy4), range=1469, listeners=9
[07:26:29] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=3
[07:26:29] [INFO] [LastChance] Threat detected: Bullet
[07:26:29] [INFO] [LastChance] Not in hard mode - effect disabled
[07:26:29] [INFO] [LastChance] Cannot trigger effect - conditions not met
[07:26:29] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[07:26:29] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:26:29] [INFO] [Player] Spawning blood effect at (295.0133, 1001.2652), dir=(1, 0), lethal=False (C#)
[07:26:29] [INFO] [ImpactEffects] spawn_blood_effect called at (295.0133, 1001.265), dir=(1, 0), lethal=false
[07:26:29] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[07:26:29] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[07:26:29] [INFO] [ImpactEffects] Blood effect spawned at (295.0133, 1001.265) (scale=1)
[07:26:29] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[07:26:29] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[07:26:29] [INFO] [PenultimateHit] Starting penultimate hit effect:
[07:26:29] [INFO] [PenultimateHit]   - Time scale: 0.10
[07:26:29] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[07:26:29] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[07:26:29] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[07:26:29] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[07:26:29] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[07:26:29] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[07:26:29] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[07:26:29] [INFO] [BloodDecal] Blood puddle created at (637.3677, 974.6195) (added to group)
[07:26:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(452.9889, 817.7315), source=ENEMY (Enemy4), range=1469, listeners=9
[07:26:29] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=3
[07:26:29] [INFO] [BloodDecal] Blood puddle created at (630.6734, 961.1279) (added to group)
[07:26:29] [INFO] [LastChance] Threat detected: Bullet
[07:26:29] [INFO] [LastChance] Not in hard mode - effect disabled
[07:26:29] [INFO] [LastChance] Cannot trigger effect - conditions not met
[07:26:29] [INFO] [BloodDecal] Blood puddle created at (615.4881, 986.0481) (added to group)
[07:26:29] [INFO] [BloodDecal] Blood puddle created at (609.9147, 972.0639) (added to group)
[07:26:29] [INFO] [ReplayManager] Recording frame 480 (7,3s): player_valid=True, enemies=10
[07:26:30] [INFO] [Player] Spawning blood effect at (295.0133, 1001.2652), dir=(1, 0), lethal=True (C#)
[07:26:30] [INFO] [ImpactEffects] spawn_blood_effect called at (295.0133, 1001.265), dir=(1, 0), lethal=true
[07:26:30] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[07:26:30] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[07:26:30] [INFO] [ImpactEffects] Blood effect spawned at (295.0133, 1001.265) (scale=1.5)
[07:26:30] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[07:26:30] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[07:26:30] [INFO] [CinemaEffects] Player died - triggering death effects
[07:26:30] [INFO] [CinemaEffects] Death effects triggered - starting cigarette burn, expanding spots, and end of reel (top-right)
[07:26:30] [INFO] [PenultimateHit] Player died - ending penultimate effect
[07:26:30] [INFO] [PenultimateHit] Ending penultimate hit effect
[07:26:30] [INFO] [PenultimateHit] Starting visual effects fade-out over 400ms
[07:26:30] [INFO] [LastChance] Player died
[07:26:30] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[07:26:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(452.9889, 817.7315), source=ENEMY (Enemy4), range=1469, listeners=9
[07:26:30] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=3
[07:26:30] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=174.9°, current=89.4°, player=(295,1001), corner_timer=-0.01
[07:26:30] [ENEMY] [Enemy7] PATROL corner check: angle 88.7°
[07:26:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(498.1341, 874.0544)
[07:26:30] [INFO] [Bullet] WARNING: Unable to determine shooter position
[07:26:30] [INFO] [Bullet] Using shooter_position, distance=1006,0361
[07:26:30] [INFO] [Bullet] Distance to wall: 1006,0361 (68,502846% of viewport)
[07:26:30] [INFO] [Bullet] Distance-based penetration chance: 66,74667%
[07:26:30] [INFO] [Bullet] Penetration failed (distance roll)
[07:26:30] [ENEMY] [Enemy1] PURSUING corner check: angle 153.8°
[07:26:30] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=88.7°, current=92.3°, player=(295,1001), corner_timer=0.30
[07:26:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(475.9335, 810.3854), source=ENEMY (Enemy4), range=1469, listeners=9
[07:26:30] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=3
[07:26:30] [ENEMY] [Enemy3] Ragdoll activated
[07:26:30] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[07:26:30] [INFO] [BloodDecal] Blood puddle created at (390.8366, 997.104) (added to group)
[07:26:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(518.1612, 865.07947)
[07:26:30] [INFO] [Bullet] WARNING: Unable to determine shooter position
[07:26:30] [INFO] [Bullet] Using shooter_position, distance=1008,39154
[07:26:30] [INFO] [Bullet] Distance to wall: 1008,39154 (68,66323% of viewport)
[07:26:30] [INFO] [Bullet] Distance-based penetration chance: 66,55956%
[07:26:30] [INFO] [Bullet] Starting wall penetration at (518.1612, 865.07947)
[07:26:30] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:26:30] [INFO] [Bullet] Raycast backward hit penetrating body at distance 40,82788
[07:26:30] [INFO] [Bullet] Body exited signal received for penetrating body
[07:26:30] [INFO] [Bullet] Exiting penetration at (564.8279, 865.07947) after traveling 41,666668 pixels through wall
[07:26:30] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[07:26:30] [INFO] [BloodDecal] Blood puddle created at (383.3264, 1050.753) (added to group)
[07:26:30] [INFO] [BloodDecal] Blood puddle created at (704.1295, 978.4854) (added to group)
[07:26:30] [INFO] [BloodDecal] Blood puddle created at (384.5595, 1043.305) (added to group)
[07:26:30] [INFO] [BloodDecal] Blood puddle created at (350.287, 998.1827) (added to group)
[07:26:30] [INFO] [BloodDecal] Blood puddle created at (353.5309, 1009.102) (added to group)
[07:26:30] [INFO] [BloodDecal] Blood puddle created at (379.9969, 1055.63) (added to group)
[07:26:30] [INFO] [BloodDecal] Blood puddle created at (381.562, 1011.737) (added to group)
[07:26:30] [INFO] [BloodDecal] Blood puddle created at (368.085, 1043.286) (added to group)
[07:26:30] [INFO] [BloodDecal] Blood puddle created at (389.4373, 1043.876) (added to group)
[07:26:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(475.933, 812.653), source=ENEMY (Enemy4), range=1469, listeners=9
[07:26:30] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=3
[07:26:30] [INFO] [BloodDecal] Blood puddle created at (381.9328, 1050.546) (added to group)
[07:26:30] [INFO] [BloodDecal] Blood puddle created at (371.7763, 1068.777) (added to group)
[07:26:30] [INFO] [BloodDecal] Blood puddle created at (371.3499, 1066.322) (added to group)
[07:26:30] [INFO] [BloodDecal] Blood puddle created at (442.4153, 1003.837) (added to group)
[07:26:30] [INFO] [BloodDecal] Blood puddle created at (420.3994, 1071.726) (added to group)
[07:26:30] [INFO] [BloodDecal] Blood puddle created at (391.1958, 1048.298) (added to group)
[07:26:30] [INFO] [PenultimateHit] Visual effects fade-out complete
[07:26:30] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[07:26:30] [INFO] [PenultimateHit] Called player RefreshHealthVisual (C#)
[07:26:30] [INFO] [BloodDecal] Blood puddle created at (457.5753, 1060.554) (added to group)
[07:26:30] [INFO] [BloodDecal] Blood puddle created at (414.1918, 1057.245) (added to group)
[07:26:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(517.8291, 867.1063)
[07:26:30] [INFO] [Bullet] WARNING: Unable to determine shooter position
[07:26:30] [INFO] [Bullet] Using shooter_position, distance=1009,9606
[07:26:30] [INFO] [Bullet] Distance to wall: 1009,9606 (68,77007% of viewport)
[07:26:30] [INFO] [Bullet] Distance-based penetration chance: 66,43491%
[07:26:30] [INFO] [Bullet] Starting wall penetration at (517.8291, 867.1063)
[07:26:30] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=175.6°, current=88.7°, player=(295,1001), corner_timer=-0.02
[07:26:30] [ENEMY] [Enemy7] PATROL corner check: angle 88.9°
[07:26:30] [INFO] [Bullet] Raycast backward hit penetrating body at distance 40,49579
[07:26:30] [INFO] [BloodDecal] Blood puddle created at (396.1268, 1078.458) (added to group)
[07:26:30] [INFO] [Bullet] Body exited signal received for penetrating body
[07:26:30] [INFO] [Bullet] Exiting penetration at (564.4958, 867.1063) after traveling 41,666668 pixels through wall
[07:26:30] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[07:26:30] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=88.9°, current=91.6°, player=(295,1001), corner_timer=0.30
[07:26:30] [INFO] [BloodDecal] Blood puddle created at (376.7816, 1019.059) (added to group)
[07:26:30] [INFO] [BloodDecal] Blood puddle created at (426.4833, 1108.406) (added to group)
[07:26:30] [INFO] [BloodDecal] Blood puddle created at (427.8502, 1104.745) (added to group)
[07:26:30] [INFO] [BloodDecal] Blood puddle created at (432.132, 1059.332) (added to group)
[07:26:30] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[07:26:30] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:26:30] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[07:26:30] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[07:26:30] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[07:26:30] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[07:26:30] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[07:26:30] [INFO] [LastChance] Resetting all effects (scene change detected)
[07:26:30] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[07:26:30] [INFO] [CinemaEffects] Death effects reset
[07:26:30] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[07:26:30] [ENEMY] [Enemy1] Death animation component initialized
[07:26:30] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:26:30] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[07:26:30] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[07:26:30] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[07:26:30] [ENEMY] [Enemy2] Death animation component initialized
[07:26:30] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:26:30] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[07:26:30] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[07:26:30] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[07:26:30] [ENEMY] [Enemy3] Death animation component initialized
[07:26:30] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:26:30] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[07:26:30] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[07:26:30] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[07:26:30] [ENEMY] [Enemy4] Death animation component initialized
[07:26:30] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:26:30] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[07:26:30] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[07:26:30] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[07:26:30] [ENEMY] [Enemy5] Death animation component initialized
[07:26:30] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:26:30] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[07:26:30] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[07:26:30] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[07:26:30] [ENEMY] [Enemy6] Death animation component initialized
[07:26:30] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:26:30] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[07:26:30] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[07:26:30] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[07:26:30] [ENEMY] [Enemy7] Death animation component initialized
[07:26:30] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:26:30] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[07:26:30] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[07:26:30] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[07:26:30] [ENEMY] [Enemy8] Death animation component initialized
[07:26:30] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:26:30] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[07:26:30] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[07:26:30] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[07:26:30] [ENEMY] [Enemy9] Death animation component initialized
[07:26:30] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:26:30] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[07:26:30] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[07:26:30] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[07:26:30] [INFO] [EnemyGrenade] Initialized: 1 grenades
[07:26:30] [ENEMY] [Enemy10] Death animation component initialized
[07:26:30] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:26:30] [INFO] [BloodyFeet:Player] Footprint scene loaded
[07:26:30] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[07:26:30] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[07:26:30] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[07:26:30] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[07:26:30] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[07:26:30] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[07:26:30] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[07:26:30] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[07:26:30] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[07:26:30] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[07:26:30] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[07:26:30] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[07:26:30] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[07:26:30] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[07:26:30] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[07:26:30] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[07:26:30] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[07:26:30] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[07:26:30] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[07:26:30] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[07:26:30] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[07:26:30] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[07:26:30] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[07:26:30] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[07:26:30] [INFO] [ScoreManager] Level started with 10 enemies
[07:26:30] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[07:26:30] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[07:26:30] [INFO] [ReplayManager] Replay data cleared
[07:26:30] [INFO] [BuildingLevel] Previous replay data cleared
[07:26:30] [INFO] [ReplayManager] Detected player weapon: Sniper Rifle (ASVK)
[07:26:30] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[07:26:30] [INFO] [ReplayManager] Level: BuildingLevel
[07:26:30] [INFO] [ReplayManager] Player: Player (valid: True)
[07:26:30] [INFO] [ReplayManager] Enemies count: 10
[07:26:30] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/asvk_topdown.png
[07:26:30] [INFO] [ReplayManager]   Enemy 0: Enemy1
[07:26:30] [INFO] [ReplayManager]   Enemy 1: Enemy2
[07:26:30] [INFO] [ReplayManager]   Enemy 2: Enemy3
[07:26:30] [INFO] [ReplayManager]   Enemy 3: Enemy4
[07:26:30] [INFO] [ReplayManager]   Enemy 4: Enemy5
[07:26:30] [INFO] [ReplayManager]   Enemy 5: Enemy6
[07:26:30] [INFO] [ReplayManager]   Enemy 6: Enemy7
[07:26:30] [INFO] [ReplayManager]   Enemy 7: Enemy8
[07:26:30] [INFO] [ReplayManager]   Enemy 8: Enemy9
[07:26:30] [INFO] [ReplayManager]   Enemy 9: Enemy10
[07:26:30] [INFO] [BuildingLevel] Replay recording started successfully
[07:26:30] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[07:26:30] [INFO] [CinemaEffects] Found player node: Player
[07:26:30] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[07:26:30] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[07:26:30] [ENEMY] [Enemy1] Registered as sound listener
[07:26:30] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 3, behavior: GUARD
[07:26:30] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[07:26:30] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[07:26:30] [ENEMY] [Enemy2] Registered as sound listener
[07:26:30] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 4, behavior: GUARD
[07:26:30] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[07:26:30] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[07:26:30] [ENEMY] [Enemy3] Registered as sound listener
[07:26:30] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 2, behavior: GUARD
[07:26:30] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[07:26:30] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[07:26:30] [ENEMY] [Enemy4] Registered as sound listener
[07:26:30] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 2, behavior: GUARD
[07:26:30] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[07:26:30] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[07:26:30] [ENEMY] [Enemy5] Registered as sound listener
[07:26:30] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 3, behavior: GUARD
[07:26:30] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[07:26:30] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[07:26:30] [ENEMY] [Enemy6] Registered as sound listener
[07:26:30] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 2, behavior: GUARD
[07:26:30] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[07:26:30] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[07:26:30] [ENEMY] [Enemy7] Registered as sound listener
[07:26:30] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 3, behavior: PATROL
[07:26:30] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[07:26:30] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[07:26:30] [ENEMY] [Enemy8] Registered as sound listener
[07:26:30] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 3, behavior: GUARD
[07:26:30] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[07:26:30] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[07:26:30] [ENEMY] [Enemy9] Registered as sound listener
[07:26:30] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 2, behavior: GUARD
[07:26:30] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[07:26:30] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[07:26:30] [ENEMY] [Enemy10] Registered as sound listener
[07:26:30] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 4, behavior: PATROL
[07:26:30] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[07:26:30] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[07:26:30] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[07:26:30] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[07:26:30] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[07:26:30] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[07:26:30] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[07:26:30] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[07:26:30] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=157.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[07:26:30] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[07:26:30] [INFO] [Player] Detecting weapon pose (frame 3)...
[07:26:30] [INFO] [Player] Detected weapon: Rifle (default pose)
[07:26:30] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[07:26:30] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[07:26:30] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[07:26:30] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[07:26:30] [INFO] [LastChance] Found player: Player
[07:26:30] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[07:26:30] [INFO] [LastChance] Connected to player Damaged signal (C#)
[07:26:30] [INFO] [LastChance] Connected to player Died signal (C#)
[07:26:30] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[07:26:30] [INFO] [BloodDecal] Blood puddle created at (480.3694, 1078.609) (added to group)
[07:26:30] [INFO] [BloodDecal] Blood puddle created at (467.7574, 1076.682) (added to group)
[07:26:30] [INFO] [BloodDecal] Blood puddle created at (394.4332, 1083.933) (added to group)
[07:26:30] [INFO] [BloodDecal] Blood puddle created at (417.1664, 1027.308) (added to group)
[07:26:30] [INFO] [BloodDecal] Blood puddle created at (384.2469, 1033.121) (added to group)
[07:26:30] [INFO] [BloodDecal] Blood puddle created at (483.2231, 1088.804) (added to group)
[07:26:30] [INFO] [BloodDecal] Blood puddle created at (490.1399, 998.7507) (added to group)
[07:26:30] [INFO] [BloodDecal] Blood puddle created at (503.7221, 1130.207) (added to group)
[07:26:31] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[07:26:32] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[07:26:32] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[07:26:32] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(444,1250), corner_timer=0.30
[07:26:32] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(444,1250), corner_timer=0.30
[07:26:32] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(444,1250), corner_timer=-0.02
[07:26:32] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[07:26:32] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(444,1250), corner_timer=-0.02
[07:26:32] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[07:26:32] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(444,1250), corner_timer=0.30
[07:26:32] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(444,1250), corner_timer=0.30
[07:26:32] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[07:26:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(444.1111, 1250), source=PLAYER (SniperRifle), range=1469, listeners=19
[07:26:32] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[07:26:32] [ENEMY] [Enemy4] Heard gunshot at (444.1111, 1250), source_type=0, intensity=0.01, distance=499
[07:26:32] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=0, below_threshold=5
[07:26:32] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=135.5°, current=-67.5°, player=(444,1250), corner_timer=0.00
[07:26:32] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(444,1250), corner_timer=-0.02
[07:26:32] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[07:26:32] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(444,1250), corner_timer=0.30
[07:26:33] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(444,1250), corner_timer=-0.02
[07:26:33] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[07:26:33] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.6°, player=(444,1250), corner_timer=0.30
[07:26:33] [ENEMY] [Enemy4] Hit taken, damage: 10, health: 2/2 -> -8/2
[07:26:33] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[07:26:33] [INFO] [ImpactEffects] spawn_blood_effect called at (682.553, 969.6545), dir=(1, 0), lethal=true
[07:26:33] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[07:26:33] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[07:26:33] [INFO] [ImpactEffects] Blood effect spawned at (682.553, 969.6545) (scale=1.5)
[07:26:33] [ENEMY] [Enemy4] Enemy died (ricochet: false, penetration: false)
[07:26:33] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[07:26:33] [ENEMY] [Enemy4] [AllyDeath] Notified 1 enemies
[07:26:33] [INFO] [SoundPropagation] Unregistered listener: Enemy4 (remaining: 9)
[07:26:33] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[07:26:33] [ENEMY] [Enemy4] Death animation started with hit direction: (1, 0)
[07:26:33] [ENEMY] [Enemy3] Memory: medium confidence (0.58) - transitioning to PURSUING
[07:26:33] [ENEMY] [Enemy3] State: IDLE -> PURSUING
[07:26:33] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=117.1°, current=-33.8°, player=(444,1250), corner_timer=0.00
[07:26:33] [ENEMY] [Enemy3] PURSUING corner check: angle -129.3°
[07:26:33] [INFO] [BloodDecal] Blood puddle created at (756.4973, 974.2471) (added to group)
[07:26:33] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(444,1250), corner_timer=-0.00
[07:26:33] [ENEMY] [Enemy10] PATROL corner check: angle 1.9°
[07:26:33] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.9°, current=5.7°, player=(444,1250), corner_timer=0.30
[07:26:33] [INFO] [ReplayManager] Recording frame 180 (2,9s): player_valid=True, enemies=10
[07:26:33] [ENEMY] [Enemy3] PURSUING corner check: angle -161.4°
[07:26:33] [INFO] [BloodDecal] Blood puddle created at (780.4112, 950.7088) (added to group)
[07:26:33] [INFO] [BloodDecal] Blood puddle created at (770.5479, 963.9824) (added to group)
[07:26:33] [INFO] [BloodDecal] Blood puddle created at (805.4556, 953.5331) (added to group)
[07:26:33] [INFO] [BloodDecal] Blood puddle created at (749.9349, 995.5899) (added to group)
[07:26:33] [INFO] [BloodDecal] Blood puddle created at (785.347, 976.3617) (added to group)
[07:26:33] [INFO] [BloodDecal] Blood puddle created at (776.3701, 970.6508) (added to group)
[07:26:33] [INFO] [BloodDecal] Blood puddle created at (794.5674, 970.156) (added to group)
[07:26:33] [ENEMY] [Enemy4] Ragdoll activated
[07:26:33] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[07:26:33] [INFO] [BloodDecal] Blood puddle created at (816.1377, 999.0208) (added to group)
[07:26:33] [INFO] [BloodDecal] Blood puddle created at (837.7654, 969.7286) (added to group)
[07:26:33] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.8°, player=(444,1250), corner_timer=-0.01
[07:26:33] [ENEMY] [Enemy10] PATROL corner check: angle 1.0°
[07:26:33] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.0°, current=4.1°, player=(444,1250), corner_timer=0.30
[07:26:34] [ENEMY] [Enemy3] PURSUING corner check: angle 18.6°
[07:26:34] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:26:34] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=-129.0°, player=(452,1250), corner_timer=-0.01
[07:26:34] [ENEMY] [Enemy7] PATROL corner check: angle 90.0°
[07:26:34] [INFO] [ReplayManager] Recording frame 240 (3,7s): player_valid=True, enemies=10
[07:26:34] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=-131.3°, player=(452,1250), corner_timer=0.30
[07:26:34] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:26:35] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=179.0°, current=175.9°, player=(452,1250), corner_timer=-0.01
[07:26:35] [ENEMY] [Enemy7] PATROL corner check: angle 89.8°
[07:26:35] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.8°, current=178.1°, player=(452,1250), corner_timer=0.30
[07:26:35] [ENEMY] [Enemy4] Death animation completed
[07:26:35] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:26:35] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=178.0°, current=125.2°, player=(452,1250), corner_timer=-0.01
[07:26:35] [ENEMY] [Enemy7] PATROL corner check: angle 89.6°
[07:26:35] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.6°, current=127.5°, player=(452,1250), corner_timer=0.30
[07:26:35] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:26:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(452.5734, 1250), source=PLAYER (SniperRifle), range=1469, listeners=9
[07:26:35] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=5
[07:26:35] [INFO] [ReplayManager] Recording frame 300 (4,5s): player_valid=True, enemies=10
[07:26:35] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.5°, current=89.6°, player=(452,1250), corner_timer=-0.01
[07:26:35] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[07:26:35] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=91.9°, player=(452,1250), corner_timer=0.30
[07:26:35] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:26:36] [ENEMY] [Enemy3] State: PURSUING -> RETREATING
[07:26:36] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.1°, current=89.5°, player=(452,1250), corner_timer=-0.01
[07:26:36] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[07:26:36] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=18.6°, current=137.1°, player=(452,1250), corner_timer=0.10
[07:26:36] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[07:26:36] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(452,1250), corner_timer=0.30
[07:26:36] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[07:26:36] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:26:36] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(452,1250), corner_timer=-0.02
[07:26:36] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[07:26:36] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(452,1250), corner_timer=0.30
[07:26:36] [INFO] [ReplayManager] Recording frame 360 (5,4s): player_valid=True, enemies=10
[07:26:36] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:26:36] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(452,1250), corner_timer=-0.02
[07:26:36] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[07:26:36] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(452,1250), corner_timer=0.30
[07:26:36] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:26:37] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(462,1250), corner_timer=-0.02
[07:26:37] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[07:26:37] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(463,1250), corner_timer=0.30
[07:26:37] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:26:37] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(465,1250), corner_timer=-0.02
[07:26:37] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[07:26:37] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(465,1250), corner_timer=0.30
[07:26:37] [INFO] [ReplayManager] Recording frame 420 (6,4s): player_valid=True, enemies=10
[07:26:37] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:26:37] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(465,1250), corner_timer=-0.02
[07:26:37] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[07:26:37] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(465,1250), corner_timer=0.30
[07:26:37] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:26:38] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(465,1250), corner_timer=-0.02
[07:26:38] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[07:26:38] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(465,1250), corner_timer=0.30
[07:26:38] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:26:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(465.7956, 1250), source=PLAYER (SniperRifle), range=1469, listeners=9
[07:26:38] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=5
[07:26:38] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(465,1250), corner_timer=-0.02
[07:26:38] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[07:26:38] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(465,1250), corner_timer=0.30
[07:26:38] [INFO] [ReplayManager] Recording frame 480 (7,4s): player_valid=True, enemies=10
[07:26:38] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:26:38] [INFO] [ScoreManager] Combo ended at 1. Max combo: 1
[07:26:38] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(465,1250), corner_timer=-0.02
[07:26:38] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[07:26:38] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(465,1250), corner_timer=0.30
[07:26:38] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:26:39] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(465,1250), corner_timer=-0.02
[07:26:39] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[07:26:39] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(465,1250), corner_timer=0.30
[07:26:39] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:26:39] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(465,1250), corner_timer=-0.02
[07:26:39] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[07:26:39] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(465,1250), corner_timer=0.30
[07:26:39] [INFO] [ReplayManager] Recording frame 540 (8,4s): player_valid=True, enemies=10
[07:26:39] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:26:39] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(465,1250), corner_timer=-0.02
[07:26:39] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[07:26:39] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(465,1250), corner_timer=0.30
[07:26:39] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:26:40] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(484,1250), corner_timer=-0.02
[07:26:40] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[07:26:40] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(487,1250), corner_timer=0.30
[07:26:40] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:26:40] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(502,1250), corner_timer=-0.02
[07:26:40] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[07:26:40] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(502,1250), corner_timer=0.30
[07:26:40] [INFO] [ReplayManager] Recording frame 600 (9,4s): player_valid=True, enemies=10
[07:26:40] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:26:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(502.4623, 1250), source=PLAYER (SniperRifle), range=1469, listeners=9
[07:26:40] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=5
[07:26:40] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(502,1250), corner_timer=-0.02
[07:26:40] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[07:26:40] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(502,1250), corner_timer=0.30
[07:26:40] [ENEMY] [Enemy3] Hit taken, damage: 10, health: 2/2 -> -8/2
[07:26:40] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[07:26:40] [INFO] [ImpactEffects] spawn_blood_effect called at (552.4371, 975.9335), dir=(1, 0), lethal=true
[07:26:40] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[07:26:40] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[07:26:40] [INFO] [ImpactEffects] Blood effect spawned at (552.4371, 975.9335) (scale=1.5)
[07:26:40] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[07:26:40] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[07:26:40] [ENEMY] [Enemy3] [AllyDeath] Notified 1 enemies
[07:26:40] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 8)
[07:26:40] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[07:26:40] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[07:26:41] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:26:41] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.1°, current=89.4°, player=(502,1250), corner_timer=-0.00
[07:26:41] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[07:26:41] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=91.7°, player=(502,1250), corner_timer=0.30
[07:26:41] [INFO] [BloodDecal] Blood puddle created at (633.8693, 996.9346) (added to group)
[07:26:41] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:26:41] [INFO] [BloodDecal] Blood puddle created at (658.6506, 996.7391) (added to group)
[07:26:41] [INFO] [BloodDecal] Blood puddle created at (627.114, 969.715) (added to group)
[07:26:41] [ENEMY] [Enemy3] Ragdoll activated
[07:26:41] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[07:26:41] [INFO] [BloodDecal] Blood puddle created at (714.4048, 975.0897) (added to group)
[07:26:41] [INFO] [ReplayManager] Recording frame 660 (10,3s): player_valid=True, enemies=10
[07:26:41] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.9°, current=89.4°, player=(502,1250), corner_timer=-0.01
[07:26:41] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[07:26:41] [INFO] [BloodDecal] Blood puddle created at (688.3232, 975.8738) (added to group)
[07:26:41] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=91.7°, player=(502,1250), corner_timer=0.30
[07:26:41] [INFO] [BloodDecal] Blood puddle created at (696.1898, 998.1936) (added to group)
[07:26:41] [INFO] [BloodDecal] Blood puddle created at (726.2751, 968.7949) (added to group)
[07:26:41] [INFO] [BloodDecal] Blood puddle created at (742.2536, 973.8295) (added to group)
[07:26:41] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:26:42] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.8°, current=89.3°, player=(502,1250), corner_timer=-0.01
[07:26:42] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[07:26:42] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=91.6°, player=(502,1250), corner_timer=0.30
[07:26:42] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:26:42] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.7°, current=89.3°, player=(505,1250), corner_timer=-0.01
[07:26:42] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[07:26:42] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=91.6°, player=(506,1250), corner_timer=0.30
[07:26:42] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:26:42] [INFO] [ReplayManager] Recording frame 720 (11,1s): player_valid=True, enemies=10
[07:26:42] [ENEMY] [Enemy3] Death animation completed
[07:26:42] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.6°, current=89.3°, player=(506,1250), corner_timer=-0.01
[07:26:42] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[07:26:42] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=91.6°, player=(506,1250), corner_timer=0.30
[07:26:42] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:26:43] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.6°, current=89.3°, player=(506,1263), corner_timer=-0.01
[07:26:43] [ENEMY] [Enemy7] PATROL corner check: angle 89.2°
[07:26:43] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.2°, current=91.5°, player=(506,1265), corner_timer=0.30
[07:26:43] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:26:43] [INFO] [ReplayManager] Recording frame 780 (11,9s): player_valid=True, enemies=10
[07:26:43] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.6°, current=89.2°, player=(560,1284), corner_timer=-0.01
[07:26:43] [ENEMY] [Enemy7] PATROL corner check: angle 89.2°
[07:26:43] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.2°, current=91.5°, player=(565,1284), corner_timer=0.30
[07:26:43] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:26:44] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.6°, current=89.2°, player=(652,1242), corner_timer=-0.02
[07:26:44] [ENEMY] [Enemy7] PATROL corner check: angle 89.2°
[07:26:44] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.2°, current=92.1°, player=(656,1238), corner_timer=0.30
[07:26:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(672.2327, 1225.084), source=PLAYER (SniperRifle), range=1469, listeners=8
[07:26:44] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=0, below_threshold=7
[07:26:44] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:26:44] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.8°, current=89.2°, player=(702,1197), corner_timer=-0.02
[07:26:44] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[07:26:44] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=92.1°, player=(702,1195), corner_timer=0.30
[07:26:44] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:26:44] [INFO] [ReplayManager] Recording frame 840 (12,8s): player_valid=True, enemies=10
[07:26:44] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.0°, current=89.3°, player=(644,1195), corner_timer=-0.02
[07:26:44] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[07:26:44] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=92.2°, player=(640,1198), corner_timer=0.30
[07:26:44] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:26:45] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.1°, current=89.3°, player=(579,1275), corner_timer=-0.02
[07:26:45] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[07:26:45] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.2°, player=(579,1280), corner_timer=0.30
[07:26:45] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:26:45] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:26:45] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:26:45] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:26:45] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:26:45] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:26:45] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:26:45] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:26:45] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:26:45] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:26:45] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:26:45] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:26:45] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:26:45] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:26:45] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:26:45] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:26:45] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:26:45] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.1°, current=89.4°, player=(578,1355), corner_timer=-0.02
[07:26:45] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[07:26:45] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.2°, player=(578,1356), corner_timer=0.30
[07:26:45] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:26:45] [INFO] [ReplayManager] Recording frame 900 (13,8s): player_valid=True, enemies=10
[07:26:45] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(578,1359), corner_timer=-0.02
[07:26:45] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[07:26:45] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(578,1359), corner_timer=0.30
[07:26:45] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:26:46] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(578,1359), corner_timer=-0.02
[07:26:46] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[07:26:46] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(578,1359), corner_timer=0.30
[07:26:46] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:26:46] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(578,1359), corner_timer=-0.02
[07:26:46] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[07:26:46] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(578,1359), corner_timer=0.30
[07:26:46] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:26:46] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:26:46] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:26:46] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:26:46] [INFO] [ScoreManager] Combo ended at 1. Max combo: 1
[07:26:46] [INFO] [ReplayManager] Recording frame 960 (14,8s): player_valid=True, enemies=10
[07:26:46] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(584,1359), corner_timer=-0.02
[07:26:46] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[07:26:46] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(584,1359), corner_timer=0.30
[07:26:46] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:26:46] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:26:46] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:26:46] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:26:46] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:26:46] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:26:47] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:26:47] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:26:47] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(602,1359), corner_timer=-0.02
[07:26:47] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[07:26:47] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:26:47] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(606,1359), corner_timer=0.30
[07:26:47] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:26:47] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:26:47] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:26:47] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:26:47] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:26:47] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:26:47] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:26:47] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:26:47] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:26:47] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:26:47] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:26:47] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:26:47] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:26:47] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:26:47] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:26:47] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:26:47] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:26:47] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:26:47] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:26:47] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:26:47] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(704,1363), corner_timer=-0.02
[07:26:47] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[07:26:47] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:26:47] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(709,1365), corner_timer=0.30
[07:26:47] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:26:47] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:26:47] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:26:47] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:26:47] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:26:47] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:26:47] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:26:47] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:26:47] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:26:47] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:26:47] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:26:47] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:26:47] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:26:47] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:26:47] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:26:47] [INFO] [ReplayManager] Recording frame 1020 (15,8s): player_valid=True, enemies=10
[07:26:47] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:26:47] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:26:47] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:26:47] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:26:47] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:26:47] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(785,1433), corner_timer=-0.02
[07:26:47] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[07:26:47] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:26:47] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(789,1437), corner_timer=0.30
[07:26:47] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:26:48] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(847,1487), corner_timer=-0.02
[07:26:48] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[07:26:48] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(848,1487), corner_timer=0.30
[07:26:48] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:26:48] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(850,1489), corner_timer=-0.02
[07:26:48] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[07:26:48] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(850,1489), corner_timer=0.30
[07:26:48] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:26:48] [INFO] [ReplayManager] Recording frame 1080 (16,8s): player_valid=True, enemies=10
[07:26:48] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(850,1489), corner_timer=-0.02
[07:26:48] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[07:26:48] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(850,1489), corner_timer=0.30
[07:26:48] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:26:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(850.6807, 1489.622), source=PLAYER (SniperRifle), range=1469, listeners=8
[07:26:48] [ENEMY] [Enemy10] Heard gunshot at (850.6807, 1489.622), source_type=0, intensity=0.02, distance=328
[07:26:48] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=6
[07:26:48] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P2:combat_state, state=COMBAT, target=-160.0°, current=0.6°, player=(850,1489), corner_timer=0.25
[07:26:49] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(850,1489), corner_timer=-0.02
[07:26:49] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[07:26:49] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(850,1489), corner_timer=0.30
[07:26:49] [ENEMY] [Enemy10] Hit taken, damage: 10, health: 4/4 -> -6/4
[07:26:49] [ENEMY] [Enemy10] ImpactEffectsManager found, calling spawn_blood_effect
[07:26:49] [INFO] [ImpactEffects] spawn_blood_effect called at (1075.429, 1573.571), dir=(1, 0), lethal=true
[07:26:49] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[07:26:49] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[07:26:49] [INFO] [ImpactEffects] Blood effect spawned at (1075.429, 1573.571) (scale=1.5)
[07:26:49] [ENEMY] [Enemy10] Enemy died (ricochet: false, penetration: false)
[07:26:49] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[07:26:49] [INFO] [SoundPropagation] Unregistered listener: Enemy10 (remaining: 7)
[07:26:49] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[07:26:49] [ENEMY] [Enemy10] Death animation started with hit direction: (1, 0)
[07:26:49] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(850,1489), corner_timer=-0.01
[07:26:49] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[07:26:49] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=91.7°, player=(850,1489), corner_timer=0.30
[07:26:49] [INFO] [BloodDecal] Blood puddle created at (1156.078, 1586.217) (added to group)
[07:26:49] [INFO] [BloodDecal] Blood puddle created at (1144.396, 1589.183) (added to group)
[07:26:49] [INFO] [BloodDecal] Blood puddle created at (1140.743, 1575.025) (added to group)
[07:26:49] [INFO] [ReplayManager] Recording frame 1140 (17,7s): player_valid=True, enemies=10
[07:26:49] [INFO] [BloodDecal] Blood puddle created at (1124.496, 1576.515) (added to group)
[07:26:49] [INFO] [BloodDecal] Blood puddle created at (1130.286, 1626.275) (added to group)
[07:26:49] [INFO] [BloodDecal] Blood puddle created at (1191.452, 1568.818) (added to group)
[07:26:49] [INFO] [BloodDecal] Blood puddle created at (1133.017, 1599.948) (added to group)
[07:26:49] [INFO] [BloodDecal] Blood puddle created at (1185.971, 1601.57) (added to group)
[07:26:49] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.9°, current=89.4°, player=(850,1489), corner_timer=-0.01
[07:26:49] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[07:26:49] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=91.7°, player=(850,1489), corner_timer=0.30
[07:26:49] [INFO] [BloodDecal] Blood puddle created at (1228.013, 1613.5) (added to group)
[07:26:49] [ENEMY] [Enemy10] Ragdoll activated
[07:26:49] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[07:26:49] [INFO] [BloodDecal] Blood puddle created at (1190.709, 1596.19) (added to group)
[07:26:50] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.8°, current=89.3°, player=(850,1489), corner_timer=-0.01
[07:26:50] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[07:26:50] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=91.6°, player=(850,1489), corner_timer=0.30
[07:26:50] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.7°, current=89.3°, player=(851,1489), corner_timer=-0.01
[07:26:50] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[07:26:50] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=91.6°, player=(851,1489), corner_timer=0.30
[07:26:50] [INFO] [ReplayManager] Recording frame 1200 (18,5s): player_valid=True, enemies=10
[07:26:50] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.7°, current=89.3°, player=(834,1476), corner_timer=-0.01
[07:26:50] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[07:26:51] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=91.6°, player=(832,1473), corner_timer=0.30
[07:26:51] [ENEMY] [Enemy10] Death animation completed
[07:26:51] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.6°, current=89.3°, player=(761,1404), corner_timer=-0.01
[07:26:51] [ENEMY] [Enemy7] PATROL corner check: angle 89.2°
[07:26:51] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.2°, current=91.5°, player=(758,1401), corner_timer=0.30
[07:26:51] [INFO] [ReplayManager] Recording frame 1260 (19,3s): player_valid=True, enemies=10
[07:26:51] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.6°, current=89.2°, player=(687,1329), corner_timer=-0.01
[07:26:51] [ENEMY] [Enemy7] PATROL corner check: angle 89.2°
[07:26:51] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.2°, current=91.5°, player=(684,1326), corner_timer=0.30
[07:26:52] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.6°, current=89.2°, player=(612,1254), corner_timer=-0.01
[07:26:52] [ENEMY] [Enemy7] PATROL corner check: angle 89.2°
[07:26:52] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.2°, current=91.5°, player=(609,1251), corner_timer=0.30
[07:26:52] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.8°, current=89.2°, player=(537,1179), corner_timer=-0.01
[07:26:52] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[07:26:52] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=92.1°, player=(533,1175), corner_timer=0.30
[07:26:52] [INFO] [ReplayManager] Recording frame 1320 (20,2s): player_valid=True, enemies=10
[07:26:52] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[07:26:52] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.9°, current=89.3°, player=(459,1101), corner_timer=-0.02
[07:26:52] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[07:26:52] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=92.2°, player=(455,1097), corner_timer=0.30
[07:26:53] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.0°, current=89.3°, player=(386,1021), corner_timer=-0.02
[07:26:53] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[07:26:53] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.2°, player=(384,1017), corner_timer=0.30
[07:26:53] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.1°, current=89.4°, player=(378,915), corner_timer=-0.02
[07:26:53] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[07:26:53] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.2°, player=(378,909), corner_timer=0.30
[07:26:53] [INFO] [ReplayManager] Recording frame 1380 (21,2s): player_valid=True, enemies=10
[07:26:53] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(417,821), corner_timer=-0.02
[07:26:53] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[07:26:53] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.2°, player=(421,817), corner_timer=0.30
[07:26:54] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(495,743), corner_timer=-0.02
[07:26:54] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[07:26:54] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(499,739), corner_timer=0.30
[07:26:54] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=60.8°, current=33.8°, player=(511,728), corner_timer=0.00
[07:26:54] [ENEMY] [Enemy1] State: IDLE -> COMBAT
[07:26:54] [INFO] [BloodyFeet:Player] Blood ran out - no more footprints
[07:26:54] [ENEMY] [Enemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=51.7°, current=69.4°, player=(548,692), corner_timer=0.00
[07:26:54] [ENEMY] [Enemy2] Memory: high confidence (0.89) - transitioning to PURSUING
[07:26:54] [ENEMY] [Enemy2] State: IDLE -> PURSUING
[07:26:54] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=39.9°, current=-67.5°, player=(559,683), corner_timer=0.00
[07:26:54] [ENEMY] [Enemy2] PURSUING corner check: angle 151.0°
[07:26:54] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=37.8°, current=-0.8°, player=(563,679), corner_timer=0.30
[07:26:54] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(563,679), corner_timer=-0.02
[07:26:54] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[07:26:54] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(565,678), corner_timer=0.30
[07:26:54] [INFO] [ReplayManager] Recording frame 1440 (22,2s): player_valid=True, enemies=10
[07:26:54] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[07:26:54] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[07:26:54] [INFO] [ScoreManager] Combo ended at 1. Max combo: 1
[07:26:54] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(571,672), corner_timer=-0.02
[07:26:54] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[07:26:54] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(571,672), corner_timer=0.30
[07:26:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(571.5765, 672.3371), source=PLAYER (SniperRifle), range=1469, listeners=7
[07:26:54] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=3
[07:26:55] [ENEMY] [Enemy2] Hit taken, damage: 10, health: 4/4 -> -6/4
[07:26:55] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[07:26:55] [INFO] [ImpactEffects] spawn_blood_effect called at (446.5839, 633.9399), dir=(1, 0), lethal=true
[07:26:55] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[07:26:55] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[07:26:55] [INFO] [ImpactEffects] Blood effect spawned at (446.5839, 633.9399) (scale=1.5)
[07:26:55] [ENEMY] [Enemy2] Enemy died (ricochet: false, penetration: false)
[07:26:55] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[07:26:55] [ENEMY] [Enemy2] [AllyDeath] Notified 1 enemies
[07:26:55] [INFO] [SoundPropagation] Unregistered listener: Enemy2 (remaining: 6)
[07:26:55] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[07:26:55] [ENEMY] [Enemy2] Death animation started with hit direction: (1, 0)
[07:26:55] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.1°, current=89.4°, player=(571,672), corner_timer=-0.01
[07:26:55] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[07:26:55] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=91.7°, player=(571,672), corner_timer=0.30
[07:26:55] [INFO] [BloodDecal] Blood puddle created at (523.1863, 635.6741) (added to group)
[07:26:55] [INFO] [BloodDecal] Blood puddle created at (527.5376, 660.1934) (added to group)
[07:26:55] [INFO] [BloodDecal] Blood puddle created at (518.0577, 693.7767) (added to group)
[07:26:55] [INFO] [BloodDecal] Blood puddle created at (521.5856, 691.977) (added to group)
[07:26:55] [INFO] [BloodDecal] Blood puddle created at (522.916, 665.9153) (added to group)
[07:26:55] [INFO] [BloodDecal] Blood puddle created at (529.709, 674.9293) (added to group)
[07:26:55] [INFO] [BloodDecal] Blood puddle created at (566.3182, 628.2228) (added to group)
[07:26:55] [INFO] [BloodDecal] Blood puddle created at (555.0177, 685.6829) (added to group)
[07:26:55] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[07:26:55] [INFO] [BloodDecal] Blood puddle created at (591.271, 694.6313) (added to group)
[07:26:55] [ENEMY] [Enemy2] Ragdoll activated
[07:26:55] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[07:26:55] [INFO] [BloodDecal] Blood puddle created at (608.5511, 671.6143) (added to group)
[07:26:55] [INFO] [ReplayManager] Recording frame 1500 (23,1s): player_valid=True, enemies=10
[07:26:55] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.9°, current=89.4°, player=(571,672), corner_timer=-0.01
[07:26:55] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[07:26:55] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=91.7°, player=(571,672), corner_timer=0.30
[07:26:55] [INFO] [BloodDecal] Blood puddle created at (619.1948, 680.1633) (added to group)
[07:26:55] [INFO] [BloodDecal] Blood puddle created at (576.5791, 714.25) (added to group)
[07:26:55] [ENEMY] [Enemy1] State: PURSUING -> RETREATING
[07:26:55] [ENEMY] [Enemy1] State: RETREATING -> IN_COVER
[07:26:55] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[07:26:55] [INFO] [BloodDecal] Blood puddle created at (594.74, 686.3802) (added to group)
[07:26:55] [INFO] [BloodDecal] Blood puddle created at (625.3684, 753.78) (added to group)
[07:26:55] [INFO] [BloodDecal] Blood puddle created at (658.422, 794.0878) (added to group)
[07:26:55] [INFO] [BloodDecal] Blood puddle created at (599.1877, 758.4583) (added to group)
[07:26:55] [INFO] [BloodDecal] Blood puddle created at (635.9011, 711.7814) (added to group)
[07:26:55] [INFO] [BloodDecal] Blood puddle created at (587.7595, 700.5282) (added to group)
[07:26:56] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.8°, current=89.3°, player=(571,672), corner_timer=-0.01
[07:26:56] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[07:26:56] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=91.6°, player=(571,672), corner_timer=0.30
[07:26:56] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.7°, current=89.3°, player=(571,672), corner_timer=-0.01
[07:26:56] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[07:26:56] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=91.6°, player=(571,672), corner_timer=0.30
[07:26:56] [INFO] [ReplayManager] Recording frame 1560 (23,9s): player_valid=True, enemies=10
[07:26:56] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.6°, current=89.3°, player=(580,671), corner_timer=-0.01
[07:26:56] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[07:26:56] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=91.6°, player=(580,670), corner_timer=0.30
[07:26:56] [ENEMY] [Enemy2] Death animation completed
[07:26:57] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.6°, current=89.3°, player=(558,665), corner_timer=-0.01
[07:26:57] [ENEMY] [Enemy7] PATROL corner check: angle 89.2°
[07:26:57] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.2°, current=91.5°, player=(555,665), corner_timer=0.30
[07:26:57] [INFO] [ReplayManager] Recording frame 1620 (24,7s): player_valid=True, enemies=10
[07:26:57] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.6°, current=89.2°, player=(484,610), corner_timer=-0.01
[07:26:57] [ENEMY] [Enemy7] PATROL corner check: angle 89.2°
[07:26:57] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.2°, current=91.5°, player=(481,608), corner_timer=0.30
[07:26:58] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.6°, current=89.2°, player=(438,526), corner_timer=-0.01
[07:26:58] [ENEMY] [Enemy7] PATROL corner check: angle 89.2°
[07:26:58] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.2°, current=92.1°, player=(438,521), corner_timer=0.30
[07:26:58] [ENEMY] [Enemy1] State: SUPPRESSED -> SEEKING_COVER
[07:26:58] [ENEMY] [Enemy1] ROT_CHANGE: P2:combat_state -> P4:velocity, state=SEEKING_COVER, target=-135.8°, current=-135.8°, player=(438,493), corner_timer=0.00
[07:26:58] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.8°, current=89.2°, player=(438,416), corner_timer=-0.02
[07:26:58] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[07:26:58] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=92.1°, player=(438,411), corner_timer=0.30
[07:26:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(438.8536, 406.5849), source=PLAYER (SniperRifle), range=1469, listeners=6
[07:26:58] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=2
[07:26:58] [INFO] [ReplayManager] Recording frame 1680 (25,6s): player_valid=True, enemies=10
[07:26:58] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.0°, current=89.3°, player=(438,368), corner_timer=-0.02
[07:26:58] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[07:26:58] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=92.2°, player=(438,369), corner_timer=0.30
[07:26:58] [ENEMY] [Enemy1] State: SEEKING_COVER -> IN_COVER
[07:26:58] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[07:26:59] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.1°, current=89.3°, player=(438,444), corner_timer=-0.02
[07:26:59] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[07:26:59] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.2°, player=(438,450), corner_timer=0.30
[07:26:59] [INFO] [BloodyFeet:Player] Blood ran out - no more footprints
[07:26:59] [ENEMY] [Enemy1] State: SUPPRESSED -> SEEKING_COVER
[07:26:59] [ENEMY] [Enemy1] State: SEEKING_COVER -> IN_COVER
[07:26:59] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[07:26:59] [ENEMY] [Enemy1] State: SUPPRESSED -> SEEKING_COVER
[07:26:59] [ENEMY] [Enemy1] State: SEEKING_COVER -> IN_COVER
[07:26:59] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[07:26:59] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.1°, current=89.4°, player=(438,507), corner_timer=-0.02
[07:26:59] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[07:26:59] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.2°, player=(438,507), corner_timer=0.30
[07:26:59] [INFO] [ReplayManager] Recording frame 1740 (26,6s): player_valid=True, enemies=10
[07:26:59] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(438,470), corner_timer=-0.02
[07:26:59] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[07:26:59] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(438,469), corner_timer=0.30
[07:27:00] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(438,468), corner_timer=-0.02
[07:27:00] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[07:27:00] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(438,468), corner_timer=0.30
[07:27:00] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(439,467), corner_timer=-0.02
[07:27:00] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[07:27:00] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(439,467), corner_timer=0.30
[07:27:00] [INFO] [ScoreManager] Combo ended at 1. Max combo: 1
[07:27:00] [INFO] [ReplayManager] Recording frame 1800 (27,6s): player_valid=True, enemies=10
[07:27:00] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(450,466), corner_timer=-0.02
[07:27:00] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[07:27:00] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(450,466), corner_timer=0.30
[07:27:01] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(450,440), corner_timer=-0.02
[07:27:01] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[07:27:01] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(450,436), corner_timer=0.30
[07:27:01] [ENEMY] [Enemy1] State: SUPPRESSED -> SEEKING_COVER
[07:27:01] [ENEMY] [Enemy1] State: SEEKING_COVER -> IN_COVER
[07:27:01] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[07:27:01] [ENEMY] [Enemy1] State: SUPPRESSED -> SEEKING_COVER
[07:27:01] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(397,359), corner_timer=-0.02
[07:27:01] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[07:27:01] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(393,356), corner_timer=0.30
[07:27:01] [ENEMY] [Enemy1] ROT_CHANGE: P4:velocity -> P1:visible, state=SEEKING_COVER, target=-28.1°, current=3.3°, player=(382,344), corner_timer=0.00
[07:27:01] [ENEMY] [Enemy1] ROT_CHANGE: P1:visible -> P4:velocity, state=SEEKING_COVER, target=48.4°, current=45.5°, player=(378,340), corner_timer=0.00
[07:27:01] [INFO] [ReplayManager] Recording frame 1860 (28,6s): player_valid=True, enemies=10
[07:27:01] [ENEMY] [Enemy1] ROT_CHANGE: P4:velocity -> P1:visible, state=SEEKING_COVER, target=-47.4°, current=-13.2°, player=(334,296), corner_timer=0.00
[07:27:01] [ENEMY] [Enemy1] ROT_CHANGE: P1:visible -> P4:velocity, state=SEEKING_COVER, target=42.7°, current=25.5°, player=(333,295), corner_timer=0.00
[07:27:01] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(333,295), corner_timer=-0.02
[07:27:01] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[07:27:01] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(331,293), corner_timer=0.30
[07:27:01] [ENEMY] [Enemy1] State: SEEKING_COVER -> IN_COVER
[07:27:01] [ENEMY] [Enemy1] State: IN_COVER -> PURSUING
[07:27:01] [ENEMY] [Enemy1] ROT_CHANGE: P4:velocity -> P2:combat_state, state=PURSUING, target=-56.0°, current=69.9°, player=(326,290), corner_timer=0.00
[07:27:02] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(326,290), corner_timer=-0.02
[07:27:02] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[07:27:02] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(326,290), corner_timer=0.30
[07:27:02] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(326,290), corner_timer=-0.02
[07:27:02] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[07:27:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(326.7101, 290.0662), source=PLAYER (SniperRifle), range=1469, listeners=6
[07:27:02] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=2
[07:27:02] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(326,290), corner_timer=0.30
[07:27:02] [INFO] [ReplayManager] Recording frame 1920 (29,6s): player_valid=True, enemies=10
[07:27:02] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(326,290), corner_timer=-0.02
[07:27:02] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[07:27:02] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(326,290), corner_timer=0.30
[07:27:02] [ENEMY] [Enemy1] Hit taken, damage: 10, health: 3/3 -> -7/3
[07:27:02] [ENEMY] [Enemy1] ImpactEffectsManager found, calling spawn_blood_effect
[07:27:02] [INFO] [ImpactEffects] spawn_blood_effect called at (116.693, 601.1255), dir=(1, 0), lethal=true
[07:27:02] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[07:27:02] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[07:27:02] [INFO] [ImpactEffects] Blood effect spawned at (116.693, 601.1255) (scale=1.5)
[07:27:02] [ENEMY] [Enemy1] Enemy died (ricochet: false, penetration: false)
[07:27:02] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[07:27:02] [INFO] [SoundPropagation] Unregistered listener: Enemy1 (remaining: 5)
[07:27:02] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[07:27:02] [ENEMY] [Enemy1] Death animation started with hit direction: (1, 0)
[07:27:03] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.1°, current=89.4°, player=(326,290), corner_timer=-0.01
[07:27:03] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[07:27:03] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=91.7°, player=(326,290), corner_timer=0.30
[07:27:03] [INFO] [BloodDecal] Blood puddle created at (203.8485, 635.6517) (added to group)
[07:27:03] [INFO] [BloodDecal] Blood puddle created at (181.5817, 630.5781) (added to group)
[07:27:03] [INFO] [BloodDecal] Blood puddle created at (179.3468, 599.3142) (added to group)
[07:27:03] [INFO] [BloodDecal] Blood puddle created at (186.934, 602.9741) (added to group)
[07:27:03] [INFO] [BloodDecal] Blood puddle created at (200.6257, 612.8912) (added to group)
[07:27:03] [INFO] [BloodDecal] Blood puddle created at (167.5216, 602.0508) (added to group)
[07:27:03] [INFO] [BloodDecal] Blood puddle created at (172.8311, 627.9833) (added to group)
[07:27:03] [INFO] [BloodDecal] Blood puddle created at (234.1299, 638.9955) (added to group)
[07:27:03] [INFO] [BloodDecal] Blood puddle created at (198.1867, 662.2762) (added to group)
[07:27:03] [INFO] [BloodDecal] Blood puddle created at (205.7485, 629.9579) (added to group)
[07:27:03] [INFO] [BloodDecal] Blood puddle created at (223.7741, 619.72) (added to group)
[07:27:03] [INFO] [BloodDecal] Blood puddle created at (233.2893, 663.2205) (added to group)
[07:27:03] [ENEMY] [Enemy1] Ragdoll activated
[07:27:03] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[07:27:03] [INFO] [BloodDecal] Blood puddle created at (193.8507, 638.6559) (added to group)
[07:27:03] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.9°, current=89.4°, player=(326,290), corner_timer=-0.01
[07:27:03] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[07:27:03] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=91.7°, player=(326,290), corner_timer=0.30
[07:27:03] [INFO] [BloodDecal] Blood puddle created at (215.8376, 636.0167) (added to group)
[07:27:03] [INFO] [BloodDecal] Blood puddle created at (242.4327, 611.5202) (added to group)
[07:27:03] [INFO] [BloodDecal] Blood puddle created at (215.5213, 629.6151) (added to group)
[07:27:03] [INFO] [ReplayManager] Recording frame 1980 (30,5s): player_valid=True, enemies=10
[07:27:03] [INFO] [BloodDecal] Blood puddle created at (302.3925, 678.0734) (added to group)
[07:27:03] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.8°, current=89.3°, player=(326,290), corner_timer=-0.01
[07:27:03] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[07:27:03] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=91.6°, player=(326,290), corner_timer=0.30
[07:27:04] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.7°, current=89.3°, player=(335,290), corner_timer=-0.01
[07:27:04] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[07:27:04] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=91.6°, player=(335,290), corner_timer=0.30
[07:27:04] [INFO] [ReplayManager] Recording frame 2040 (31,3s): player_valid=True, enemies=10
[07:27:04] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.6°, current=89.3°, player=(357,290), corner_timer=-0.01
[07:27:04] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[07:27:04] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=91.6°, player=(360,289), corner_timer=0.30
[07:27:04] [ENEMY] [Enemy1] Death animation completed
[07:27:05] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.6°, current=89.3°, player=(431,236), corner_timer=-0.01
[07:27:05] [ENEMY] [Enemy7] PATROL corner check: angle 89.2°
[07:27:05] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.2°, current=91.5°, player=(434,233), corner_timer=0.30
[07:27:05] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.6°, current=89.2°, player=(506,163), corner_timer=-0.01
[07:27:05] [ENEMY] [Enemy7] PATROL corner check: angle 89.2°
[07:27:05] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.2°, current=91.5°, player=(509,160), corner_timer=0.30
[07:27:05] [INFO] [ReplayManager] Recording frame 2100 (32,1s): player_valid=True, enemies=10
[07:27:05] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.6°, current=89.2°, player=(605,148), corner_timer=-0.01
[07:27:05] [ENEMY] [Enemy7] PATROL corner check: angle 89.2°
[07:27:05] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.2°, current=92.1°, player=(611,148), corner_timer=0.30
[07:27:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(710.4975, 148.2171), source=PLAYER (SniperRifle), range=1469, listeners=5
[07:27:06] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=3
[07:27:06] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.8°, current=89.2°, player=(715,148), corner_timer=-0.02
[07:27:06] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[07:27:06] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=92.1°, player=(721,148), corner_timer=0.30
[07:27:06] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.0°, current=89.3°, player=(825,149), corner_timer=-0.02
[07:27:06] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[07:27:06] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=92.2°, player=(830,150), corner_timer=0.30
[07:27:06] [INFO] [ReplayManager] Recording frame 2160 (33,0s): player_valid=True, enemies=10
[07:27:06] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.1°, current=89.3°, player=(909,211), corner_timer=-0.02
[07:27:06] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[07:27:06] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.2°, player=(913,215), corner_timer=0.30
[07:27:07] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.1°, current=89.4°, player=(959,288), corner_timer=-0.02
[07:27:07] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[07:27:07] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.2°, player=(959,292), corner_timer=0.30
[07:27:07] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1005,366), corner_timer=-0.02
[07:27:07] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[07:27:07] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1009,370), corner_timer=0.30
[07:27:07] [INFO] [ReplayManager] Recording frame 2220 (34,0s): player_valid=True, enemies=10
[07:27:07] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1083,444), corner_timer=-0.02
[07:27:07] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[07:27:07] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1086,448), corner_timer=0.30
[07:27:08] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1160,522), corner_timer=-0.02
[07:27:08] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[07:27:08] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1164,526), corner_timer=0.30
[07:27:08] [INFO] [ScoreManager] Combo ended at 1. Max combo: 1
[07:27:08] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1251,548), corner_timer=-0.02
[07:27:08] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[07:27:08] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1254,547), corner_timer=0.30
[07:27:08] [INFO] [ReplayManager] Recording frame 2280 (35,0s): player_valid=True, enemies=10
[07:27:08] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1282,472), corner_timer=-0.02
[07:27:08] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[07:27:08] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1282,467), corner_timer=0.30
[07:27:09] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1282,363), corner_timer=-0.02
[07:27:09] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[07:27:09] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1282,358), corner_timer=0.30
[07:27:09] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1282.04, 331.4317), source=PLAYER (SniperRifle), range=1469, listeners=5
[07:27:09] [ENEMY] [Enemy5] Heard gunshot at (1282.04, 331.4317), source_type=0, intensity=0.01, distance=418
[07:27:09] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=4
[07:27:09] [ENEMY] [Enemy5] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=-177.5°, current=56.2°, player=(1282,331), corner_timer=0.00
[07:27:09] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1282,321), corner_timer=-0.02
[07:27:09] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[07:27:09] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1282,321), corner_timer=0.30
[07:27:09] [INFO] [ReplayManager] Recording frame 2340 (36,0s): player_valid=True, enemies=10
[07:27:09] [ENEMY] [Enemy5] Hit taken, damage: 10, health: 3/3 -> -7/3
[07:27:09] [ENEMY] [Enemy5] ImpactEffectsManager found, calling spawn_blood_effect
[07:27:09] [INFO] [ImpactEffects] spawn_blood_effect called at (1589.84, 348.0661), dir=(1, 0), lethal=true
[07:27:09] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[07:27:09] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[07:27:09] [INFO] [ImpactEffects] Blood effect spawned at (1589.84, 348.0661) (scale=1.5)
[07:27:09] [ENEMY] [Enemy5] Enemy died (ricochet: false, penetration: false)
[07:27:09] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[07:27:09] [ENEMY] [Enemy6] [AllyDeath] Witnessed at (1589.84, 348.0661), entering SEARCHING
[07:27:09] [ENEMY] [Enemy6] SEARCHING started: center=(1589.84, 348.0661), radius=100, waypoints=5
[07:27:09] [ENEMY] [Enemy5] [AllyDeath] Notified 1 enemies
[07:27:09] [INFO] [SoundPropagation] Unregistered listener: Enemy5 (remaining: 4)
[07:27:09] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[07:27:09] [ENEMY] [Enemy5] Death animation started with hit direction: (1, 0)
[07:27:09] [ENEMY] [Enemy6] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=SEARCHING, target=-169.1°, current=146.3°, player=(1282,321), corner_timer=0.00
[07:27:09] [ENEMY] [Enemy6] SEARCHING corner check: angle 105.8°
[07:27:09] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.1°, current=89.4°, player=(1282,321), corner_timer=-0.00
[07:27:09] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[07:27:09] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=91.7°, player=(1282,321), corner_timer=0.30
[07:27:09] [INFO] [BloodDecal] Blood puddle created at (1648.979, 376.8076) (added to group)
[07:27:10] [INFO] [BloodDecal] Blood puddle created at (1648.31, 353.3936) (added to group)
[07:27:10] [INFO] [BloodDecal] Blood puddle created at (1668.831, 348.9608) (added to group)
[07:27:10] [INFO] [BloodDecal] Blood puddle created at (1669.723, 389.6366) (added to group)
[07:27:10] [INFO] [BloodDecal] Blood puddle created at (1672.034, 351.0547) (added to group)
[07:27:10] [ENEMY] [Enemy6] SEARCHING corner check: angle 105.8°
[07:27:10] [ENEMY] [Enemy7] Memory: medium confidence (0.51) - transitioning to PURSUING
[07:27:10] [ENEMY] [Enemy7] State: IDLE -> PURSUING
[07:27:10] [INFO] [BloodDecal] Blood puddle created at (1670.595, 387.2347) (added to group)
[07:27:10] [INFO] [BloodDecal] Blood puddle created at (1699.246, 394.0649) (added to group)
[07:27:10] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=-119.7°, current=89.4°, player=(1282,321), corner_timer=0.13
[07:27:10] [INFO] [BloodDecal] Blood puddle created at (1670.198, 380.0461) (added to group)
[07:27:10] [INFO] [BloodDecal] Blood puddle created at (1713.642, 351.105) (added to group)
[07:27:10] [INFO] [BloodDecal] Blood puddle created at (1700.388, 354.6108) (added to group)
[07:27:10] [INFO] [BloodDecal] Blood puddle created at (1699.326, 425.6982) (added to group)
[07:27:10] [ENEMY] [Enemy6] Hit taken, damage: 10, health: 2/2 -> -8/2
[07:27:10] [ENEMY] [Enemy6] ImpactEffectsManager found, calling spawn_blood_effect
[07:27:10] [INFO] [ImpactEffects] spawn_blood_effect called at (1826.518, 415.0516), dir=(1, 0), lethal=true
[07:27:10] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[07:27:10] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[07:27:10] [INFO] [ImpactEffects] Blood effect spawned at (1826.518, 415.0516) (scale=1.5)
[07:27:10] [ENEMY] [Enemy6] Enemy died (ricochet: false, penetration: false)
[07:27:10] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[07:27:10] [INFO] [SoundPropagation] Unregistered listener: Enemy6 (remaining: 3)
[07:27:10] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[07:27:10] [ENEMY] [Enemy6] Death animation started with hit direction: (1, 0)
[07:27:10] [INFO] [BloodDecal] Blood puddle created at (1717.342, 411.5247) (added to group)
[07:27:10] [ENEMY] [Enemy5] Ragdoll activated
[07:27:10] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[07:27:10] [INFO] [BloodDecal] Blood puddle created at (1684.658, 415.9866) (added to group)
[07:27:10] [ENEMY] [Enemy7] PURSUING corner check: angle -167.6°
[07:27:10] [INFO] [BloodDecal] Blood puddle created at (1758.053, 378.3112) (added to group)
[07:27:10] [INFO] [BloodDecal] Blood puddle created at (1694.286, 373.8044) (added to group)
[07:27:10] [INFO] [BloodDecal] Blood puddle created at (1719.89, 461.8743) (added to group)
[07:27:10] [INFO] [BloodDecal] Blood puddle created at (1734.959, 495.4908) (added to group)
[07:27:10] [INFO] [BloodDecal] Blood puddle created at (1747.878, 491.2705) (added to group)
[07:27:10] [INFO] [BloodDecal] Blood puddle created at (1774.264, 383.1995) (added to group)
[07:27:10] [INFO] [BloodDecal] Blood puddle created at (1890.018, 415.0858) (added to group)
[07:27:10] [INFO] [BloodDecal] Blood puddle created at (1891.177, 458.1651) (added to group)
[07:27:10] [INFO] [BloodDecal] Blood puddle created at (1706.03, 435.207) (added to group)
[07:27:10] [INFO] [BloodDecal] Blood puddle created at (1894.003, 403.5336) (added to group)
[07:27:10] [INFO] [BloodDecal] Blood puddle created at (1890.301, 459.1879) (added to group)
[07:27:10] [INFO] [ReplayManager] Recording frame 2400 (36,9s): player_valid=True, enemies=10
[07:27:10] [INFO] [BloodDecal] Blood puddle created at (1899.921, 452.5552) (added to group)
[07:27:10] [INFO] [BloodDecal] Blood puddle created at (1939.845, 477.1671) (added to group)
[07:27:10] [INFO] [BloodDecal] Blood puddle created at (1907.665, 446.6133) (added to group)
[07:27:10] [INFO] [BloodDecal] Blood puddle created at (1906.302, 431.1384) (added to group)
[07:27:10] [INFO] [BloodDecal] Blood puddle created at (1972.624, 498.0308) (added to group)
[07:27:10] [ENEMY] [Enemy6] Ragdoll activated
[07:27:10] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[07:27:10] [INFO] [BloodDecal] Blood puddle created at (1948.796, 408.1932) (added to group)
[07:27:10] [INFO] [BloodDecal] Blood puddle created at (1962.897, 538.2548) (added to group)
[07:27:10] [INFO] [BloodDecal] Blood puddle created at (1958.874, 513.6606) (added to group)
[07:27:10] [INFO] [BloodDecal] Blood puddle created at (1957.963, 473.9944) (added to group)
[07:27:10] [INFO] [BloodDecal] Blood puddle created at (1959.201, 560.0737) (added to group)
[07:27:11] [INFO] [BloodDecal] Blood puddle created at (1954.551, 454.2116) (added to group)
[07:27:11] [INFO] [BloodDecal] Blood puddle created at (1981.085, 460.0575) (added to group)
[07:27:11] [INFO] [BloodDecal] Blood puddle created at (2022.691, 530.0867) (added to group)
[07:27:11] [INFO] [BloodDecal] Blood puddle created at (1941.536, 551.9658) (added to group)
[07:27:11] [INFO] [BloodDecal] Blood puddle created at (2002.703, 458.593) (added to group)
[07:27:11] [INFO] [BloodDecal] Blood puddle created at (1991.251, 557.0042) (added to group)
[07:27:11] [ENEMY] [Enemy5] Death animation completed
[07:27:11] [INFO] [ReplayManager] Recording frame 2460 (37,7s): player_valid=True, enemies=10
[07:27:12] [ENEMY] [Enemy6] Death animation completed
[07:27:12] [ENEMY] [Enemy7] FLANKING started: target=(1260.287, 793.9144), side=right, pos=(1574.683, 841.7694)
[07:27:12] [ENEMY] [Enemy7] State: PURSUING -> FLANKING
[07:27:12] [INFO] [ReplayManager] Recording frame 2520 (38,5s): player_valid=True, enemies=10
[07:27:12] [ENEMY] [Enemy7] FLANKING corner check: angle 101.5°
[07:27:13] [ENEMY] [Enemy7] FLANKING corner check: angle 80.4°
[07:27:13] [ENEMY] [Enemy7] FLANKING corner check: angle 66.5°
[07:27:13] [INFO] [ReplayManager] Recording frame 2580 (39,3s): player_valid=True, enemies=10
[07:27:13] [ENEMY] [Enemy7] FLANKING corner check: angle 62.6°
[07:27:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1360.47, 627.8398), source=PLAYER (SniperRifle), range=1469, listeners=3
[07:27:13] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=2
[07:27:14] [ENEMY] [Enemy7] FLANKING corner check: angle 62.8°
[07:27:14] [ENEMY] [Enemy7] FLANKING corner check: angle 63.0°
[07:27:14] [ENEMY] [Enemy7] Hit taken, damage: 10, health: 3/3 -> -7/3
[07:27:14] [ENEMY] [Enemy7] ImpactEffectsManager found, calling spawn_blood_effect
[07:27:14] [INFO] [ImpactEffects] spawn_blood_effect called at (1775.872, 826.1566), dir=(1, 0), lethal=true
[07:27:14] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[07:27:14] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[07:27:14] [INFO] [ImpactEffects] Blood effect spawned at (1775.872, 826.1566) (scale=1.5)
[07:27:14] [ENEMY] [Enemy7] Enemy died (ricochet: false, penetration: false)
[07:27:14] [INFO] [ScoreManager] Kill registered. Combo: 3 (points: 3000)
[07:27:14] [INFO] [SoundPropagation] Unregistered listener: Enemy7 (remaining: 2)
[07:27:14] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[07:27:14] [ENEMY] [Enemy7] Death animation started with hit direction: (1, 0)
[07:27:14] [INFO] [ReplayManager] Recording frame 2640 (40,3s): player_valid=True, enemies=10
[07:27:14] [INFO] [BloodDecal] Blood puddle created at (1858.504, 832.3452) (added to group)
[07:27:14] [INFO] [BloodDecal] Blood puddle created at (1847.765, 853.6306) (added to group)
[07:27:14] [INFO] [BloodDecal] Blood puddle created at (1849.555, 888.4357) (added to group)
[07:27:14] [INFO] [BloodDecal] Blood puddle created at (1872.167, 841.3985) (added to group)
[07:27:15] [INFO] [BloodDecal] Blood puddle created at (1864.108, 892.9171) (added to group)
[07:27:15] [INFO] [BloodDecal] Blood puddle created at (1848.347, 894.3425) (added to group)
[07:27:15] [INFO] [BloodDecal] Blood puddle created at (1870.654, 902.309) (added to group)
[07:27:15] [INFO] [BloodDecal] Blood puddle created at (1893.533, 888.5411) (added to group)
[07:27:15] [INFO] [BloodDecal] Blood puddle created at (1889.618, 890.7773) (added to group)
[07:27:15] [INFO] [BloodDecal] Blood puddle created at (1890.371, 856.0662) (added to group)
[07:27:15] [INFO] [BloodDecal] Blood puddle created at (1871.713, 884.4138) (added to group)
[07:27:15] [ENEMY] [Enemy7] Ragdoll activated
[07:27:15] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[07:27:15] [INFO] [BloodDecal] Blood puddle created at (1928.411, 864.0131) (added to group)
[07:27:15] [INFO] [BloodDecal] Blood puddle created at (1925.781, 905.203) (added to group)
[07:27:15] [INFO] [BloodDecal] Blood puddle created at (1904.255, 950.8804) (added to group)
[07:27:15] [INFO] [BloodDecal] Blood puddle created at (1875.455, 920.2881) (added to group)
[07:27:15] [INFO] [BloodDecal] Blood puddle created at (1911.027, 927.0266) (added to group)
[07:27:15] [INFO] [BloodDecal] Blood puddle created at (1957.657, 848.1213) (added to group)
[07:27:15] [INFO] [BloodDecal] Blood puddle created at (1916.095, 850.653) (added to group)
[07:27:15] [INFO] [BloodDecal] Blood puddle created at (2007.672, 919.7087) (added to group)
[07:27:15] [INFO] [BloodDecal] Blood puddle created at (1953.835, 899.4675) (added to group)
[07:27:15] [INFO] [ReplayManager] Recording frame 2700 (41,1s): player_valid=True, enemies=10
[07:27:16] [ENEMY] [Enemy7] Death animation completed
[07:27:16] [INFO] [ReplayManager] Recording frame 2760 (41,9s): player_valid=True, enemies=10
[07:27:17] [INFO] [ReplayManager] Recording frame 2820 (42,7s): player_valid=True, enemies=10
[07:27:18] [INFO] [ReplayManager] Recording frame 2880 (43,7s): player_valid=True, enemies=10
[07:27:19] [INFO] [ReplayManager] Recording frame 2940 (44,7s): player_valid=True, enemies=10
[07:27:20] [INFO] [ScoreManager] Combo ended at 3. Max combo: 3
[07:27:20] [INFO] [ReplayManager] Recording frame 3000 (45,7s): player_valid=True, enemies=10
[07:27:21] [INFO] [ReplayManager] Recording frame 3060 (46,7s): player_valid=True, enemies=10
[07:27:22] [INFO] [ReplayManager] Recording frame 3120 (47,7s): player_valid=True, enemies=10
[07:27:23] [INFO] [ReplayManager] Recording frame 3180 (48,7s): player_valid=True, enemies=10
[07:27:24] [INFO] [ReplayManager] Recording frame 3240 (49,7s): player_valid=True, enemies=10
[07:27:25] [INFO] [ReplayManager] Recording frame 3300 (50,7s): player_valid=True, enemies=10
[07:27:26] [INFO] [ReplayManager] Recording frame 3360 (51,7s): player_valid=True, enemies=10
[07:27:27] [INFO] [ReplayManager] Recording frame 3420 (52,7s): player_valid=True, enemies=10
[07:27:28] [INFO] [ReplayManager] Recording frame 3480 (53,7s): player_valid=True, enemies=10
[07:27:29] [INFO] [ReplayManager] Recording frame 3540 (54,7s): player_valid=True, enemies=10
[07:27:30] [INFO] [ReplayManager] Recording frame 3600 (55,7s): player_valid=True, enemies=10
[07:27:31] [INFO] [ReplayManager] Recording frame 3660 (56,7s): player_valid=True, enemies=10
[07:27:32] [INFO] [ReplayManager] Recording frame 3720 (57,7s): player_valid=True, enemies=10
[07:27:33] [INFO] [ReplayManager] Recording frame 3780 (58,7s): player_valid=True, enemies=10
[07:27:34] [INFO] [ReplayManager] Recording frame 3840 (59,7s): player_valid=True, enemies=10
[07:27:35] [INFO] [ReplayManager] Recording frame 3900 (60,7s): player_valid=True, enemies=10
[07:27:36] [INFO] [ReplayManager] Recording frame 3960 (61,7s): player_valid=True, enemies=10
[07:27:37] [INFO] [ReplayManager] Recording frame 4020 (62,7s): player_valid=True, enemies=10
[07:27:38] [INFO] [ReplayManager] Recording frame 4080 (63,7s): player_valid=True, enemies=10
[07:27:39] [INFO] [ReplayManager] Recording frame 4140 (64,7s): player_valid=True, enemies=10
[07:27:40] [INFO] [ReplayManager] Recording frame 4200 (65,7s): player_valid=True, enemies=10
[07:27:41] [INFO] [ReplayManager] Recording frame 4260 (66,7s): player_valid=True, enemies=10
[07:27:42] [INFO] [ReplayManager] Recording frame 4320 (67,7s): player_valid=True, enemies=10
[07:27:43] [INFO] [ReplayManager] Recording frame 4380 (68,7s): player_valid=True, enemies=10
[07:27:44] [INFO] [ReplayManager] Recording frame 4440 (69,7s): player_valid=True, enemies=10
[07:27:45] [INFO] [ReplayManager] Recording frame 4500 (70,7s): player_valid=True, enemies=10
[07:27:46] [INFO] [ReplayManager] Recording frame 4560 (71,7s): player_valid=True, enemies=10
[07:27:47] [INFO] [ReplayManager] Recording frame 4620 (72,7s): player_valid=True, enemies=10
[07:27:48] [INFO] [ReplayManager] Recording frame 4680 (73,7s): player_valid=True, enemies=10
[07:27:49] [INFO] [ReplayManager] Recording frame 4740 (74,7s): player_valid=True, enemies=10
[07:27:50] [INFO] [ReplayManager] Recording frame 4800 (75,7s): player_valid=True, enemies=10
[07:27:51] [INFO] [ReplayManager] Recording frame 4860 (76,7s): player_valid=True, enemies=10
[07:27:52] [INFO] [ReplayManager] Recording frame 4920 (77,7s): player_valid=True, enemies=10
[07:27:53] [INFO] [ReplayManager] Recording frame 4980 (78,7s): player_valid=True, enemies=10
[07:27:54] [INFO] [ReplayManager] Recording frame 5040 (79,7s): player_valid=True, enemies=10
[07:27:55] [INFO] [ReplayManager] Recording frame 5100 (80,7s): player_valid=True, enemies=10
[07:27:56] [INFO] [ReplayManager] Recording frame 5160 (81,7s): player_valid=True, enemies=10
[07:27:57] [INFO] [ReplayManager] Recording frame 5220 (82,7s): player_valid=True, enemies=10
[07:27:58] [INFO] [ReplayManager] Recording frame 5280 (83,7s): player_valid=True, enemies=10
[07:27:59] [INFO] [ReplayManager] Recording frame 5340 (84,7s): player_valid=True, enemies=10
[07:28:00] [INFO] [ReplayManager] Recording frame 5400 (85,7s): player_valid=True, enemies=10
[07:28:01] [INFO] [ReplayManager] Recording frame 5460 (86,7s): player_valid=True, enemies=10
[07:28:02] [INFO] [ReplayManager] Recording frame 5520 (87,7s): player_valid=True, enemies=10
[07:28:03] [INFO] [ReplayManager] Recording frame 5580 (88,7s): player_valid=True, enemies=10
[07:28:04] [INFO] [ReplayManager] Recording frame 5640 (89,7s): player_valid=True, enemies=10
[07:28:05] [INFO] [ReplayManager] Recording frame 5700 (90,7s): player_valid=True, enemies=10
[07:28:06] [INFO] [ReplayManager] Recording frame 5760 (91,7s): player_valid=True, enemies=10
[07:28:07] [INFO] [ReplayManager] Recording frame 5820 (92,7s): player_valid=True, enemies=10
[07:28:08] [INFO] [ReplayManager] Recording frame 5880 (93,7s): player_valid=True, enemies=10
[07:28:09] [INFO] [ReplayManager] Recording frame 5940 (94,7s): player_valid=True, enemies=10
[07:28:10] [INFO] [ReplayManager] Recording frame 6000 (95,7s): player_valid=True, enemies=10
[07:28:11] [INFO] [ReplayManager] Recording frame 6060 (96,7s): player_valid=True, enemies=10
[07:28:12] [INFO] [ReplayManager] Recording frame 6120 (97,7s): player_valid=True, enemies=10
[07:28:13] [INFO] [ReplayManager] Recording frame 6180 (98,7s): player_valid=True, enemies=10
[07:28:14] [INFO] [ReplayManager] Recording frame 6240 (99,7s): player_valid=True, enemies=10
[07:28:15] [INFO] [ReplayManager] Recording frame 6300 (100,7s): player_valid=True, enemies=10
[07:28:16] [INFO] [ReplayManager] Recording frame 6360 (101,7s): player_valid=True, enemies=10
[07:28:17] [INFO] [ReplayManager] Recording frame 6420 (102,7s): player_valid=True, enemies=10
[07:28:18] [INFO] [ReplayManager] Recording frame 6480 (103,7s): player_valid=True, enemies=10
[07:28:19] [INFO] [ReplayManager] Recording frame 6540 (104,7s): player_valid=True, enemies=10
[07:28:20] [INFO] [ReplayManager] Recording frame 6600 (105,7s): player_valid=True, enemies=10
[07:28:21] [INFO] [ReplayManager] Recording frame 6660 (106,7s): player_valid=True, enemies=10
[07:28:22] [INFO] [ReplayManager] Recording frame 6720 (107,7s): player_valid=True, enemies=10
[07:28:23] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[07:28:23] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:28:23] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[07:28:23] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[07:28:23] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[07:28:23] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[07:28:23] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[07:28:23] [INFO] [LastChance] Resetting all effects (scene change detected)
[07:28:23] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[07:28:23] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[07:28:23] [INFO] [EnemyGrenade] Initialized: 1 grenades
[07:28:23] [ENEMY] [Enemy1] Death animation component initialized
[07:28:23] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:28:23] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[07:28:23] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[07:28:23] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[07:28:23] [ENEMY] [Enemy2] Death animation component initialized
[07:28:23] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:28:23] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[07:28:23] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[07:28:23] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[07:28:23] [ENEMY] [Enemy3] Death animation component initialized
[07:28:23] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:28:23] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[07:28:23] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[07:28:23] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[07:28:23] [ENEMY] [Enemy4] Death animation component initialized
[07:28:23] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:28:23] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[07:28:23] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[07:28:23] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[07:28:23] [INFO] [EnemyGrenade] Initialized: 1 grenades
[07:28:23] [ENEMY] [Enemy5] Death animation component initialized
[07:28:23] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:28:23] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[07:28:23] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[07:28:23] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[07:28:23] [ENEMY] [Enemy6] Death animation component initialized
[07:28:23] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:28:23] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[07:28:23] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[07:28:23] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[07:28:23] [ENEMY] [Enemy7] Death animation component initialized
[07:28:23] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:28:23] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[07:28:23] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[07:28:23] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[07:28:23] [INFO] [EnemyGrenade] Initialized: 1 grenades
[07:28:23] [ENEMY] [Enemy8] Death animation component initialized
[07:28:23] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:28:23] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[07:28:23] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[07:28:23] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[07:28:23] [ENEMY] [Enemy9] Death animation component initialized
[07:28:23] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:28:23] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[07:28:23] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[07:28:23] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[07:28:23] [INFO] [EnemyGrenade] Initialized: 1 grenades
[07:28:23] [ENEMY] [Enemy10] Death animation component initialized
[07:28:23] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:28:23] [INFO] [BloodyFeet:Player] Footprint scene loaded
[07:28:23] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[07:28:23] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[07:28:23] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[07:28:23] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[07:28:23] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[07:28:23] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[07:28:23] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[07:28:23] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[07:28:23] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[07:28:23] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[07:28:23] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 10/10
[07:28:23] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[07:28:23] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[07:28:23] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[07:28:23] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[07:28:23] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[07:28:23] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[07:28:23] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[07:28:23] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[07:28:23] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[07:28:23] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[07:28:23] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[07:28:23] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[07:28:23] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[07:28:23] [INFO] [ScoreManager] Level started with 10 enemies
[07:28:23] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[07:28:23] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[07:28:23] [INFO] [ReplayManager] Replay data cleared
[07:28:23] [INFO] [BuildingLevel] Previous replay data cleared
[07:28:23] [INFO] [ReplayManager] Detected player weapon: Sniper Rifle (ASVK)
[07:28:23] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[07:28:23] [INFO] [ReplayManager] Level: BuildingLevel
[07:28:23] [INFO] [ReplayManager] Player: Player (valid: True)
[07:28:23] [INFO] [ReplayManager] Enemies count: 10
[07:28:23] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/asvk_topdown.png
[07:28:23] [INFO] [ReplayManager]   Enemy 0: Enemy1
[07:28:23] [INFO] [ReplayManager]   Enemy 1: Enemy2
[07:28:23] [INFO] [ReplayManager]   Enemy 2: Enemy3
[07:28:23] [INFO] [ReplayManager]   Enemy 3: Enemy4
[07:28:23] [INFO] [ReplayManager]   Enemy 4: Enemy5
[07:28:23] [INFO] [ReplayManager]   Enemy 5: Enemy6
[07:28:23] [INFO] [ReplayManager]   Enemy 6: Enemy7
[07:28:23] [INFO] [ReplayManager]   Enemy 7: Enemy8
[07:28:23] [INFO] [ReplayManager]   Enemy 8: Enemy9
[07:28:23] [INFO] [ReplayManager]   Enemy 9: Enemy10
[07:28:23] [INFO] [BuildingLevel] Replay recording started successfully
[07:28:23] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[07:28:23] [INFO] [CinemaEffects] Found player node: Player
[07:28:23] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[07:28:23] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 3)
[07:28:23] [ENEMY] [Enemy1] Registered as sound listener
[07:28:23] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 2, behavior: GUARD
[07:28:23] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[07:28:23] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 4)
[07:28:23] [ENEMY] [Enemy2] Registered as sound listener
[07:28:23] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 2, behavior: GUARD
[07:28:23] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[07:28:23] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 5)
[07:28:23] [ENEMY] [Enemy3] Registered as sound listener
[07:28:23] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 2, behavior: GUARD
[07:28:23] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[07:28:23] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 6)
[07:28:23] [ENEMY] [Enemy4] Registered as sound listener
[07:28:23] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 4, behavior: GUARD
[07:28:23] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[07:28:23] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 7)
[07:28:23] [ENEMY] [Enemy5] Registered as sound listener
[07:28:23] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 2, behavior: GUARD
[07:28:23] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[07:28:23] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 8)
[07:28:23] [ENEMY] [Enemy6] Registered as sound listener
[07:28:23] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 4, behavior: GUARD
[07:28:23] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[07:28:23] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 9)
[07:28:23] [ENEMY] [Enemy7] Registered as sound listener
[07:28:23] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 3, behavior: PATROL
[07:28:23] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[07:28:23] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 10)
[07:28:23] [ENEMY] [Enemy8] Registered as sound listener
[07:28:23] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 2, behavior: GUARD
[07:28:23] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[07:28:23] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 11)
[07:28:23] [ENEMY] [Enemy9] Registered as sound listener
[07:28:23] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 4, behavior: GUARD
[07:28:23] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[07:28:23] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 12)
[07:28:23] [ENEMY] [Enemy10] Registered as sound listener
[07:28:23] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 4, behavior: PATROL
[07:28:23] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[07:28:23] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[07:28:23] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[07:28:23] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=45.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[07:28:23] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[07:28:23] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[07:28:23] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=180.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[07:28:23] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[07:28:23] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[07:28:23] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[07:28:23] [INFO] [Player] Detecting weapon pose (frame 3)...
[07:28:23] [INFO] [Player] Detected weapon: Rifle (default pose)
[07:28:23] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[07:28:23] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[07:28:23] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[07:28:23] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[07:28:23] [INFO] [LastChance] Found player: Player
[07:28:23] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[07:28:23] [INFO] [LastChance] Connected to player Damaged signal (C#)
[07:28:23] [INFO] [LastChance] Connected to player Died signal (C#)
[07:28:23] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[07:28:24] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[07:28:25] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[07:28:26] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=10
[07:28:27] [INFO] [ReplayManager] Recording frame 240 (4,0s): player_valid=True, enemies=10
[07:28:28] [INFO] [ReplayManager] Recording frame 300 (5,0s): player_valid=True, enemies=10
[07:28:29] [INFO] [ReplayManager] Recording frame 360 (6,0s): player_valid=True, enemies=10
[07:28:30] [INFO] [ReplayManager] Recording frame 420 (7,0s): player_valid=True, enemies=10
[07:28:31] [INFO] [ReplayManager] Recording frame 480 (8,0s): player_valid=True, enemies=10
[07:28:32] [INFO] [ReplayManager] Recording frame 540 (9,0s): player_valid=True, enemies=10
[07:28:33] [INFO] [ReplayManager] Recording frame 600 (10,0s): player_valid=True, enemies=10
[07:28:34] [INFO] [ReplayManager] Recording frame 660 (11,0s): player_valid=True, enemies=10
[07:28:35] [INFO] [ReplayManager] Recording frame 720 (12,0s): player_valid=True, enemies=10
[07:28:36] [INFO] [ReplayManager] Recording frame 780 (13,0s): player_valid=True, enemies=10
[07:28:37] [INFO] [ReplayManager] Recording frame 840 (14,0s): player_valid=True, enemies=10
[07:28:38] [INFO] [ReplayManager] Recording frame 900 (15,0s): player_valid=True, enemies=10
[07:28:39] [INFO] [ReplayManager] Recording frame 960 (16,0s): player_valid=True, enemies=10
[07:28:40] [INFO] [ReplayManager] Recording frame 1020 (17,0s): player_valid=True, enemies=10
[07:28:41] [INFO] [ReplayManager] Recording frame 1080 (18,0s): player_valid=True, enemies=10
[07:28:42] [INFO] [ReplayManager] Recording frame 1140 (19,0s): player_valid=True, enemies=10
[07:28:43] [INFO] [ReplayManager] Recording frame 1200 (20,0s): player_valid=True, enemies=10
[07:28:44] [INFO] [ReplayManager] Recording frame 1260 (21,0s): player_valid=True, enemies=10
[07:28:45] [INFO] [ReplayManager] Recording frame 1320 (22,0s): player_valid=True, enemies=10
[07:28:46] [INFO] [ReplayManager] Recording frame 1380 (23,0s): player_valid=True, enemies=10
[07:28:47] [INFO] [ReplayManager] Recording frame 1440 (24,0s): player_valid=True, enemies=10
[07:28:48] [INFO] [ReplayManager] Recording frame 1500 (25,0s): player_valid=True, enemies=10
[07:28:48] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[07:28:48] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[07:28:48] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,1023), corner_timer=0.30
[07:28:48] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,1023), corner_timer=0.30
[07:28:48] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(450,956), corner_timer=-0.02
[07:28:48] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[07:28:48] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(450,956), corner_timer=-0.02
[07:28:48] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[07:28:48] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(450,955), corner_timer=0.30
[07:28:48] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(450,955), corner_timer=0.30
[07:28:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 954.9444), source=PLAYER (SniperRifle), range=1469, listeners=12
[07:28:49] [INFO] [SoundPropagation] Cleaned up 2 invalid listeners
[07:28:49] [ENEMY] [Enemy2] Heard gunshot at (450, 954.9444), source_type=0, intensity=0.02, distance=408
[07:28:49] [ENEMY] [Enemy3] Heard gunshot at (450, 954.9444), source_type=0, intensity=0.02, distance=323
[07:28:49] [ENEMY] [Enemy4] Heard gunshot at (450, 954.9444), source_type=0, intensity=0.02, distance=354
[07:28:49] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=4
[07:28:49] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=83.0°, current=45.0°, player=(450,954), corner_timer=0.00
[07:28:49] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=140.7°, current=11.3°, player=(450,954), corner_timer=0.00
[07:28:49] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=171.1°, current=-101.3°, player=(450,954), corner_timer=0.00
[07:28:49] [ENEMY] [Enemy1] Memory: medium confidence (0.62) - transitioning to PURSUING
[07:28:49] [ENEMY] [Enemy1] State: IDLE -> PURSUING
[07:28:49] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=76.1°, current=-157.5°, player=(450,954), corner_timer=0.00
[07:28:49] [ENEMY] [Enemy1] PURSUING corner check: angle -50.9°
[07:28:49] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(450,954), corner_timer=-0.02
[07:28:49] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[07:28:49] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(450,954), corner_timer=0.30
[07:28:49] [ENEMY] [Enemy4] Hit taken, damage: 10, health: 4/4 -> -6/4
[07:28:49] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[07:28:49] [INFO] [ImpactEffects] spawn_blood_effect called at (702.2299, 914.0651), dir=(1, 0), lethal=true
[07:28:49] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[07:28:49] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[07:28:49] [INFO] [ImpactEffects] Blood effect spawned at (702.2299, 914.0651) (scale=1.5)
[07:28:49] [ENEMY] [Enemy4] Enemy died (ricochet: false, penetration: false)
[07:28:49] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[07:28:49] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[07:28:49] [INFO] [PowerFantasy] Starting power fantasy effect:
[07:28:49] [INFO] [PowerFantasy]   - Time scale: 0.10
[07:28:49] [INFO] [PowerFantasy]   - Duration: 300ms
[07:28:49] [ENEMY] [Enemy4] [AllyDeath] Notified 2 enemies
[07:28:49] [INFO] [SoundPropagation] Unregistered listener: Enemy4 (remaining: 9)
[07:28:49] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[07:28:49] [ENEMY] [Enemy4] Death animation started with hit direction: (1, 0)
[07:28:49] [INFO] [ReplayManager] Recording frame 1560 (26,0s): player_valid=True, enemies=10
[07:28:49] [ENEMY] [Enemy1] PURSUING corner check: angle -51.6°
[07:28:49] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[07:28:49] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[07:28:49] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(450,954), corner_timer=-0.01
[07:28:49] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[07:28:49] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.1°, player=(450,954), corner_timer=0.30
[07:28:49] [INFO] [PowerFantasy] Effect duration expired after 301.00 ms
[07:28:49] [INFO] [PowerFantasy] Ending power fantasy effect
[07:28:49] [INFO] [BloodDecal] Blood puddle created at (766.8969, 939.5258) (added to group)
[07:28:49] [INFO] [BloodDecal] Blood puddle created at (786.2626, 942.9613) (added to group)
[07:28:49] [INFO] [BloodDecal] Blood puddle created at (781.5723, 895.9769) (added to group)
[07:28:49] [INFO] [BloodDecal] Blood puddle created at (794.3391, 959.4128) (added to group)
[07:28:49] [ENEMY] [Enemy1] PURSUING corner check: angle 153.6°
[07:28:49] [INFO] [BloodDecal] Blood puddle created at (809.319, 909.3704) (added to group)
[07:28:49] [INFO] [BloodDecal] Blood puddle created at (803.125, 947.563) (added to group)
[07:28:49] [INFO] [BloodDecal] Blood puddle created at (853.4095, 970.5966) (added to group)
[07:28:49] [ENEMY] [Enemy4] Ragdoll activated
[07:28:49] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[07:28:49] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(450,973), corner_timer=-0.01
[07:28:49] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[07:28:49] [INFO] [BloodDecal] Blood puddle created at (847.7457, 958.3357) (added to group)
[07:28:49] [INFO] [BloodDecal] Blood puddle created at (837.3518, 961.7985) (added to group)
[07:28:49] [INFO] [BloodDecal] Blood puddle created at (796.783, 938.6356) (added to group)
[07:28:49] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.8°, current=6.3°, player=(450,976), corner_timer=0.30
[07:28:49] [INFO] [BloodDecal] Blood puddle created at (819.8839, 985.7318) (added to group)
[07:28:50] [INFO] [BloodDecal] Blood puddle created at (795.256, 985.5663) (added to group)
[07:28:50] [INFO] [BloodDecal] Blood puddle created at (793.7718, 994.4296) (added to group)
[07:28:50] [INFO] [BloodDecal] Blood puddle created at (904.2718, 953.8704) (added to group)
[07:28:50] [INFO] [BloodDecal] Blood puddle created at (811.8885, 971.4193) (added to group)
[07:28:50] [INFO] [BloodDecal] Blood puddle created at (810.5559, 965.9352) (added to group)
[07:28:50] [INFO] [BloodDecal] Blood puddle created at (811.9451, 982.7139) (added to group)
[07:28:50] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.8°, player=(450,1075), corner_timer=-0.02
[07:28:50] [ENEMY] [Enemy10] PATROL corner check: angle 1.0°
[07:28:50] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.0°, current=4.6°, player=(450,1079), corner_timer=0.30
[07:28:50] [INFO] [ReplayManager] Recording frame 1620 (27,0s): player_valid=True, enemies=10
[07:28:50] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:28:50] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=-130.1°, player=(450,1112), corner_timer=-0.02
[07:28:50] [ENEMY] [Enemy7] PATROL corner check: angle 90.0°
[07:28:50] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=-133.0°, player=(450,1112), corner_timer=0.30
[07:28:50] [ENEMY] [Enemy4] Death animation completed
[07:28:50] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:28:51] [ENEMY] [Enemy2] Warning: No valid flank position (both sides behind walls)
[07:28:51] [ENEMY] [Enemy2] FLANKING started: target=(598.8361, 978.9041), side=right, pos=(355.3802, 663.9334)
[07:28:51] [ENEMY] [Enemy2] State: PURSUING -> FLANKING
[07:28:51] [ENEMY] [Enemy2] FLANKING corner check: angle -138.7°
[07:28:51] [ENEMY] [Enemy3] PURSUING corner check: angle -139.8°
[07:28:51] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=179.1°, current=172.4°, player=(450,1112), corner_timer=-0.02
[07:28:51] [ENEMY] [Enemy7] PATROL corner check: angle 89.8°
[07:28:51] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.8°, current=175.3°, player=(450,1112), corner_timer=0.30
[07:28:51] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:28:51] [INFO] [ReplayManager] Recording frame 1680 (28,0s): player_valid=True, enemies=10
[07:28:51] [ENEMY] [Enemy2] FLANKING corner check: angle -91.6°
[07:28:51] [ENEMY] [Enemy3] PURSUING corner check: angle 46.6°
[07:28:51] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=178.4°, current=120.7°, player=(469,1112), corner_timer=-0.02
[07:28:51] [ENEMY] [Enemy7] PATROL corner check: angle 89.7°
[07:28:51] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.7°, current=123.6°, player=(471,1112), corner_timer=0.30
[07:28:51] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=93.8°, current=96.8°, player=(473,1112), corner_timer=0.17
[07:28:51] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:28:51] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=FLANKING, target=95.6°, current=104.0°, player=(473,1112), corner_timer=0.12
[07:28:51] [ENEMY] [Enemy1] PURSUING corner check: angle 174.8°
[07:28:51] [ENEMY] [Enemy2] FLANKING corner check: angle 22.4°
[07:28:51] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.9°, current=89.7°, player=(473,1112), corner_timer=-0.02
[07:28:51] [ENEMY] [Enemy7] PATROL corner check: angle 89.6°
[07:28:51] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.6°, current=92.5°, player=(473,1112), corner_timer=0.30
[07:28:51] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:28:52] [ENEMY] [Enemy2] FLANKING corner check: angle 83.7°
[07:28:52] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.7°, current=89.6°, player=(488,1112), corner_timer=-0.02
[07:28:52] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[07:28:52] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.4°, player=(491,1112), corner_timer=0.30
[07:28:52] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:28:52] [INFO] [ReplayManager] Recording frame 1740 (29,0s): player_valid=True, enemies=10
[07:28:52] [ENEMY] [Enemy2] FLANKING corner check: angle -55.9°
[07:28:52] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.5°, current=89.5°, player=(590,1112), corner_timer=-0.02
[07:28:52] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[07:28:52] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.4°, player=(595,1112), corner_timer=0.30
[07:28:52] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:28:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(659.8547, 1093.025), source=PLAYER (SniperRifle), range=1469, listeners=9
[07:28:52] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=5
[07:28:52] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.4°, current=89.5°, player=(659,1093), corner_timer=-0.02
[07:28:52] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[07:28:52] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.3°, player=(660,1092), corner_timer=0.30
[07:28:52] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:28:53] [ENEMY] [Enemy3] Hit taken, damage: 10, health: 2/2 -> -8/2
[07:28:53] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[07:28:53] [INFO] [ImpactEffects] spawn_blood_effect called at (548.0684, 902.4788), dir=(1, 0), lethal=true
[07:28:53] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[07:28:53] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[07:28:53] [INFO] [ImpactEffects] Blood effect spawned at (548.0684, 902.4788) (scale=1.5)
[07:28:53] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[07:28:53] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[07:28:53] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[07:28:53] [INFO] [PowerFantasy] Starting power fantasy effect:
[07:28:53] [INFO] [PowerFantasy]   - Time scale: 0.10
[07:28:53] [INFO] [PowerFantasy]   - Duration: 300ms
[07:28:53] [ENEMY] [Enemy1] [AllyDeath] Witnessed at (548.0684, 902.4788), entering SEARCHING
[07:28:53] [ENEMY] [Enemy1] SEARCHING started: center=(548.0684, 902.4788), radius=100, waypoints=5
[07:28:53] [ENEMY] [Enemy3] [AllyDeath] Notified 2 enemies
[07:28:53] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 8)
[07:28:53] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[07:28:53] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[07:28:53] [ENEMY] [Enemy2] State: FLANKING -> RETREATING
[07:28:53] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P4:velocity, state=RETREATING, target=-150.8°, current=-108.2°, player=(662,1091), corner_timer=-0.02
[07:28:53] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[07:28:53] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[07:28:53] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.5°, player=(662,1091), corner_timer=-0.01
[07:28:53] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[07:28:53] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=91.7°, player=(662,1091), corner_timer=0.30
[07:28:53] [ENEMY] [Enemy1] SEARCHING corner check: angle -13.0°
[07:28:53] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:28:53] [INFO] [PowerFantasy] Effect duration expired after 301.00 ms
[07:28:53] [INFO] [PowerFantasy] Ending power fantasy effect
[07:28:53] [INFO] [BloodDecal] Blood puddle created at (610.4915, 935.2445) (added to group)
[07:28:53] [INFO] [BloodDecal] Blood puddle created at (606.855, 914.4302) (added to group)
[07:28:53] [INFO] [ReplayManager] Recording frame 1800 (29,9s): player_valid=True, enemies=10
[07:28:53] [INFO] [BloodDecal] Blood puddle created at (623.764, 961.9837) (added to group)
[07:28:53] [INFO] [BloodDecal] Blood puddle created at (619.7327, 978.1357) (added to group)
[07:28:53] [INFO] [EnemyGrenade] Unsafe throw distance (189 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:28:53] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.1°, current=89.4°, player=(662,1091), corner_timer=-0.01
[07:28:53] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[07:28:53] [INFO] [EnemyGrenade] Unsafe throw distance (187 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:28:53] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(662,1091), corner_timer=0.30
[07:28:53] [INFO] [EnemyGrenade] Unsafe throw distance (184 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:28:53] [INFO] [EnemyGrenade] Unsafe throw distance (182 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:28:53] [ENEMY] [Enemy3] Ragdoll activated
[07:28:53] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[07:28:53] [INFO] [BloodDecal] Blood puddle created at (651.0306, 977.9199) (added to group)
[07:28:53] [INFO] [EnemyGrenade] Unsafe throw distance (179 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:28:53] [INFO] [EnemyGrenade] Unsafe throw distance (177 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:28:53] [ENEMY] [Enemy1] SEARCHING corner check: angle -13.0°
[07:28:53] [INFO] [BloodDecal] Blood puddle created at (709.0929, 986.1118) (added to group)
[07:28:53] [INFO] [EnemyGrenade] Unsafe throw distance (174 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:28:53] [INFO] [BloodDecal] Blood puddle created at (684.2911, 903.7499) (added to group)
[07:28:53] [INFO] [EnemyGrenade] Unsafe throw distance (172 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:28:53] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:28:53] [INFO] [EnemyGrenade] Unsafe throw distance (169 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:28:53] [INFO] [EnemyGrenade] Unsafe throw distance (167 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:28:53] [INFO] [EnemyGrenade] Unsafe throw distance (164 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:28:53] [INFO] [EnemyGrenade] Unsafe throw distance (162 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:28:53] [INFO] [BloodDecal] Blood puddle created at (753.901, 954.8005) (added to group)
[07:28:53] [INFO] [EnemyGrenade] Unsafe throw distance (159 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:28:53] [INFO] [EnemyGrenade] Unsafe throw distance (157 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:28:53] [INFO] [EnemyGrenade] Unsafe throw distance (155 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:28:53] [INFO] [EnemyGrenade] Unsafe throw distance (152 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:28:53] [INFO] [EnemyGrenade] Unsafe throw distance (150 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:28:53] [INFO] [BloodDecal] Blood puddle created at (694.2187, 977.4695) (added to group)
[07:28:53] [INFO] [EnemyGrenade] Unsafe throw distance (147 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:28:53] [INFO] [EnemyGrenade] Unsafe throw distance (145 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:28:53] [INFO] [EnemyGrenade] Unsafe throw distance (143 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:28:53] [INFO] [EnemyGrenade] Unsafe throw distance (140 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:28:53] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(662,1091), corner_timer=-0.02
[07:28:53] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[07:28:53] [INFO] [EnemyGrenade] Unsafe throw distance (138 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:28:53] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(662,1091), corner_timer=0.30
[07:28:53] [INFO] [EnemyGrenade] Unsafe throw distance (136 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:28:53] [INFO] [EnemyGrenade] Unsafe throw distance (133 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:28:53] [INFO] [EnemyGrenade] Unsafe throw distance (131 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:28:53] [INFO] [EnemyGrenade] Unsafe throw distance (129 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:28:53] [INFO] [EnemyGrenade] Unsafe throw distance (127 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:28:53] [INFO] [EnemyGrenade] Unsafe throw distance (124 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:28:53] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:28:54] [INFO] [EnemyGrenade] Unsafe throw distance (122 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:28:54] [INFO] [EnemyGrenade] Unsafe throw distance (120 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:28:54] [INFO] [EnemyGrenade] Unsafe throw distance (117 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:28:54] [INFO] [EnemyGrenade] Unsafe throw distance (116 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:28:54] [INFO] [EnemyGrenade] Unsafe throw distance (115 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:28:54] [INFO] [EnemyGrenade] Unsafe throw distance (114 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:28:54] [INFO] [EnemyGrenade] Unsafe throw distance (113 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:28:54] [INFO] [EnemyGrenade] Unsafe throw distance (112 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:28:54] [INFO] [EnemyGrenade] Unsafe throw distance (111 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:28:54] [INFO] [EnemyGrenade] Unsafe throw distance (110 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:28:54] [INFO] [EnemyGrenade] Unsafe throw distance (109 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:28:54] [INFO] [EnemyGrenade] Unsafe throw distance (108 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:28:54] [INFO] [EnemyGrenade] Unsafe throw distance (106 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:28:54] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(662,1091), corner_timer=-0.02
[07:28:54] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[07:28:54] [INFO] [EnemyGrenade] Unsafe throw distance (105 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:28:54] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(662,1091), corner_timer=0.30
[07:28:54] [INFO] [EnemyGrenade] Unsafe throw distance (104 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:28:54] [INFO] [EnemyGrenade] Unsafe throw distance (103 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:28:54] [INFO] [EnemyGrenade] Unsafe throw distance (102 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:28:54] [INFO] [EnemyGrenade] Unsafe throw distance (101 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:28:54] [INFO] [EnemyGrenade] Unsafe throw distance (100 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:28:54] [INFO] [EnemyGrenade] Unsafe throw distance (99 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:28:54] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:28:54] [INFO] [EnemyGrenade] Unsafe throw distance (98 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:28:54] [INFO] [EnemyGrenade] Unsafe throw distance (97 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:28:54] [INFO] [EnemyGrenade] Unsafe throw distance (96 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:28:54] [INFO] [EnemyGrenade] Unsafe throw distance (95 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:28:54] [ENEMY] [Enemy3] Death animation completed
[07:28:54] [INFO] [ReplayManager] Recording frame 1860 (30,9s): player_valid=True, enemies=10
[07:28:54] [INFO] [EnemyGrenade] Unsafe throw distance (94 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:28:54] [INFO] [EnemyGrenade] Unsafe throw distance (93 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:28:54] [INFO] [EnemyGrenade] Unsafe throw distance (92 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:28:54] [INFO] [EnemyGrenade] Unsafe throw distance (91 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:28:54] [INFO] [EnemyGrenade] Unsafe throw distance (90 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:28:54] [INFO] [EnemyGrenade] Unsafe throw distance (89 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:28:54] [INFO] [EnemyGrenade] Unsafe throw distance (88 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:28:54] [INFO] [EnemyGrenade] Unsafe throw distance (87 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:28:54] [INFO] [EnemyGrenade] Unsafe throw distance (86 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:28:54] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(662,1091), corner_timer=-0.02
[07:28:54] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[07:28:54] [INFO] [EnemyGrenade] Unsafe throw distance (85 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:28:54] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(662,1091), corner_timer=0.30
[07:28:54] [INFO] [EnemyGrenade] Unsafe throw distance (84 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:28:54] [INFO] [EnemyGrenade] Unsafe throw distance (83 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:28:54] [INFO] [EnemyGrenade] Unsafe throw distance (82 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:28:54] [INFO] [EnemyGrenade] Unsafe throw distance (81 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:28:54] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:28:54] [INFO] [EnemyGrenade] Unsafe throw distance (156 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:28:54] [INFO] [EnemyGrenade] Unsafe throw distance (156 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:28:54] [INFO] [EnemyGrenade] Unsafe throw distance (156 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:28:54] [INFO] [EnemyGrenade] Unsafe throw distance (156 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:28:54] [INFO] [EnemyGrenade] Unsafe throw distance (156 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:28:54] [INFO] [EnemyGrenade] Unsafe throw distance (156 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:28:54] [INFO] [EnemyGrenade] Unsafe throw distance (156 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:28:54] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(662,1091), corner_timer=-0.02
[07:28:54] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[07:28:54] [INFO] [EnemyGrenade] Unsafe throw distance (156 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:28:54] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(662,1091), corner_timer=0.30
[07:28:54] [INFO] [EnemyGrenade] Unsafe throw distance (156 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:28:54] [INFO] [EnemyGrenade] Unsafe throw distance (156 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:28:54] [INFO] [EnemyGrenade] Unsafe throw distance (156 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:28:54] [INFO] [EnemyGrenade] Unsafe throw distance (156 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:28:54] [INFO] [EnemyGrenade] Unsafe throw distance (156 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:28:54] [INFO] [EnemyGrenade] Unsafe throw distance (156 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:28:54] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:28:55] [INFO] [EnemyGrenade] Unsafe throw distance (156 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:28:55] [INFO] [EnemyGrenade] Unsafe throw distance (156 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:28:55] [INFO] [EnemyGrenade] Unsafe throw distance (156 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:28:55] [INFO] [EnemyGrenade] Unsafe throw distance (156 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:28:55] [ENEMY] [Enemy1] SEARCHING corner check: angle -0.0°
[07:28:55] [INFO] [EnemyGrenade] Unsafe throw distance (160 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:28:55] [INFO] [EnemyGrenade] Unsafe throw distance (165 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:28:55] [INFO] [EnemyGrenade] Unsafe throw distance (169 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:28:55] [INFO] [EnemyGrenade] Unsafe throw distance (174 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:28:55] [INFO] [EnemyGrenade] Unsafe throw distance (178 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:28:55] [INFO] [EnemyGrenade] Unsafe throw distance (183 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:28:55] [INFO] [EnemyGrenade] Unsafe throw distance (188 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:28:55] [INFO] [EnemyGrenade] Unsafe throw distance (193 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:28:55] [INFO] [EnemyGrenade] Unsafe throw distance (197 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:28:55] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(662,1091), corner_timer=-0.02
[07:28:55] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[07:28:55] [INFO] [EnemyGrenade] Unsafe throw distance (202 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:28:55] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(662,1091), corner_timer=0.30
[07:28:55] [INFO] [EnemyGrenade] Unsafe throw distance (207 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:28:55] [INFO] [EnemyGrenade] Unsafe throw distance (212 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:28:55] [INFO] [EnemyGrenade] Unsafe throw distance (216 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:28:55] [INFO] [EnemyGrenade] Unsafe throw distance (221 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:28:55] [INFO] [EnemyGrenade] Unsafe throw distance (226 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:28:55] [INFO] [EnemyGrenade] Unsafe throw distance (231 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:28:55] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:28:55] [INFO] [EnemyGrenade] Unsafe throw distance (236 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:28:55] [INFO] [EnemyGrenade] Unsafe throw distance (241 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:28:55] [INFO] [EnemyGrenade] Unsafe throw distance (246 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:28:55] [INFO] [EnemyGrenade] Unsafe throw distance (251 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:28:55] [INFO] [ReplayManager] Recording frame 1920 (31,9s): player_valid=True, enemies=10
[07:28:55] [INFO] [EnemyGrenade] Unsafe throw distance (255 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:28:55] [INFO] [EnemyGrenade] Unsafe throw distance (260 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:28:55] [INFO] [EnemyGrenade] Unsafe throw distance (265 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:28:55] [INFO] [EnemyGrenade] Unsafe throw distance (270 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:28:55] [INFO] [EnemyGrenade] Throw path blocked to (473.5, 1112.5)
[07:28:55] [INFO] [EnemyGrenade] Throw path blocked to (473.5, 1112.5)
[07:28:55] [INFO] [EnemyGrenade] Throw path blocked to (473.5, 1112.5)
[07:28:55] [INFO] [EnemyGrenade] Throw path blocked to (473.5, 1112.5)
[07:28:55] [INFO] [EnemyGrenade] Throw path blocked to (473.5, 1112.5)
[07:28:55] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(667,1091), corner_timer=-0.02
[07:28:55] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[07:28:55] [INFO] [EnemyGrenade] Throw path blocked to (473.5, 1112.5)
[07:28:55] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(669,1091), corner_timer=0.30
[07:28:55] [INFO] [EnemyGrenade] Throw path blocked to (473.5, 1112.5)
[07:28:55] [INFO] [EnemyGrenade] Throw path blocked to (473.5, 1112.5)
[07:28:55] [INFO] [EnemyGrenade] Throw path blocked to (473.5, 1112.5)
[07:28:55] [INFO] [EnemyGrenade] Throw path blocked to (473.5, 1112.5)
[07:28:55] [ENEMY] [Enemy2] State: SUPPRESSED -> IN_COVER
[07:28:55] [INFO] [EnemyGrenade] Throw path blocked to (473.5, 1112.5)
[07:28:55] [ENEMY] [Enemy2] State: IN_COVER -> PURSUING
[07:28:55] [INFO] [EnemyGrenade] Throw path blocked to (473.5, 1112.5)
[07:28:55] [ENEMY] [Enemy2] ROT_CHANGE: P4:velocity -> P2:combat_state, state=PURSUING, target=89.9°, current=-112.8°, player=(671,1091), corner_timer=-0.02
[07:28:55] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:28:55] [INFO] [EnemyGrenade] Throw path blocked to (473.5, 1112.5)
[07:28:55] [INFO] [EnemyGrenade] Throw path blocked to (473.5, 1112.5)
[07:28:55] [INFO] [EnemyGrenade] Throw path blocked to (473.5, 1112.5)
[07:28:55] [INFO] [EnemyGrenade] Throw path blocked to (473.5, 1112.5)
[07:28:55] [INFO] [EnemyGrenade] Throw path blocked to (473.5, 1112.5)
[07:28:55] [INFO] [EnemyGrenade] Throw path blocked to (473.5, 1112.5)
[07:28:55] [INFO] [EnemyGrenade] Throw path blocked to (473.5, 1112.5)
[07:28:55] [INFO] [EnemyGrenade] Throw path blocked to (473.5, 1112.5)
[07:28:55] [INFO] [EnemyGrenade] Throw path blocked to (473.5, 1112.5)
[07:28:55] [INFO] [EnemyGrenade] Throw path blocked to (473.5, 1112.5)
[07:28:55] [INFO] [EnemyGrenade] Throw path blocked to (473.5, 1112.5)
[07:28:55] [INFO] [EnemyGrenade] Throw path blocked to (473.5, 1112.5)
[07:28:55] [INFO] [EnemyGrenade] Throw path blocked to (473.5, 1112.5)
[07:28:55] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(676,1091), corner_timer=-0.02
[07:28:55] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[07:28:55] [INFO] [EnemyGrenade] Throw path blocked to (473.5, 1112.5)
[07:28:55] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(678,1091), corner_timer=0.30
[07:28:55] [INFO] [EnemyGrenade] Throw path blocked to (473.5, 1112.5)
[07:28:55] [INFO] [EnemyGrenade] Throw path blocked to (473.5, 1112.5)
[07:28:55] [INFO] [EnemyGrenade] Throw path blocked to (473.5, 1112.5)
[07:28:55] [INFO] [EnemyGrenade] Throw path blocked to (473.5, 1112.5)
[07:28:55] [INFO] [EnemyGrenade] Throw path blocked to (473.5, 1112.5)
[07:28:55] [INFO] [EnemyGrenade] Throw path blocked to (473.5, 1112.5)
[07:28:55] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:28:56] [INFO] [EnemyGrenade] Throw path blocked to (473.5, 1112.5)
[07:28:56] [INFO] [EnemyGrenade] Throw path blocked to (473.5, 1112.5)
[07:28:56] [INFO] [EnemyGrenade] Throw path blocked to (473.5, 1112.5)
[07:28:56] [INFO] [EnemyGrenade] Throw path blocked to (473.5, 1112.5)
[07:28:56] [INFO] [EnemyGrenade] Throw path blocked to (473.5, 1112.5)
[07:28:56] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(760,1091), corner_timer=-0.02
[07:28:56] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[07:28:56] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(764,1091), corner_timer=0.30
[07:28:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(770.7204, 1091.227), source=PLAYER (SniperRifle), range=1469, listeners=8
[07:28:56] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=6
[07:28:56] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:28:56] [INFO] [ReplayManager] Recording frame 1980 (32,9s): player_valid=True, enemies=10
[07:28:56] [ENEMY] [Enemy2] Hit taken, damage: 10, health: 2/2 -> -8/2
[07:28:56] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[07:28:56] [INFO] [ImpactEffects] spawn_blood_effect called at (671.4896, 922.6473), dir=(1, 0), lethal=true
[07:28:56] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[07:28:56] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[07:28:56] [INFO] [ImpactEffects] Blood effect spawned at (671.4896, 922.6473) (scale=1.5)
[07:28:56] [ENEMY] [Enemy2] Enemy died (ricochet: false, penetration: false)
[07:28:56] [INFO] [ScoreManager] Kill registered. Combo: 3 (points: 3000)
[07:28:56] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[07:28:56] [INFO] [PowerFantasy] Starting power fantasy effect:
[07:28:56] [INFO] [PowerFantasy]   - Time scale: 0.10
[07:28:56] [INFO] [PowerFantasy]   - Duration: 300ms
[07:28:56] [ENEMY] [Enemy2] [AllyDeath] Notified 1 enemies
[07:28:56] [INFO] [SoundPropagation] Unregistered listener: Enemy2 (remaining: 7)
[07:28:56] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[07:28:56] [ENEMY] [Enemy2] Death animation started with hit direction: (1, 0)
[07:28:56] [ENEMY] [Enemy1] SEARCHING corner check: angle -27.8°
[07:28:56] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(785,1091), corner_timer=-0.01
[07:28:56] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[07:28:56] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=91.7°, player=(785,1091), corner_timer=0.30
[07:28:56] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:28:56] [INFO] [PowerFantasy] Effect duration expired after 302.00 ms
[07:28:56] [INFO] [PowerFantasy] Ending power fantasy effect
[07:28:56] [INFO] [BloodDecal] Blood puddle created at (740.5735, 942.6674) (added to group)
[07:28:56] [INFO] [BloodDecal] Blood puddle created at (742.391, 949.9501) (added to group)
[07:28:56] [INFO] [BloodDecal] Blood puddle created at (760.3437, 902.6669) (added to group)
[07:28:56] [INFO] [BloodDecal] Blood puddle created at (720.7649, 967.9547) (added to group)
[07:28:56] [ENEMY] [Enemy1] Hit taken, damage: 10, health: 2/2 -> -8/2
[07:28:56] [ENEMY] [Enemy1] ImpactEffectsManager found, calling spawn_blood_effect
[07:28:56] [INFO] [ImpactEffects] spawn_blood_effect called at (584.5052, 754.4507), dir=(1, 0), lethal=true
[07:28:56] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[07:28:56] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[07:28:56] [INFO] [ImpactEffects] Blood effect spawned at (584.5052, 754.4507) (scale=1.5)
[07:28:56] [ENEMY] [Enemy1] Enemy died (ricochet: false, penetration: false)
[07:28:56] [INFO] [ScoreManager] Kill registered. Combo: 4 (points: 5000)
[07:28:56] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[07:28:56] [INFO] [PowerFantasy] Starting power fantasy effect:
[07:28:56] [INFO] [PowerFantasy]   - Time scale: 0.10
[07:28:56] [INFO] [PowerFantasy]   - Duration: 300ms
[07:28:56] [INFO] [SoundPropagation] Unregistered listener: Enemy1 (remaining: 6)
[07:28:56] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[07:28:56] [ENEMY] [Enemy1] Death animation started with hit direction: (1, 0)
[07:28:56] [INFO] [BloodDecal] Blood puddle created at (767.5622, 981.4487) (added to group)
[07:28:56] [INFO] [BloodDecal] Blood puddle created at (783.488, 957.9598) (added to group)
[07:28:57] [INFO] [PowerFantasy] Effect duration expired after 301.00 ms
[07:28:57] [INFO] [PowerFantasy] Ending power fantasy effect
[07:28:57] [INFO] [BloodDecal] Blood puddle created at (740.9285, 929.8163) (added to group)
[07:28:57] [INFO] [BloodDecal] Blood puddle created at (765.1646, 971.4391) (added to group)
[07:28:57] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.2°, current=89.4°, player=(785,1091), corner_timer=-0.01
[07:28:57] [ENEMY] [Enemy7] PATROL corner check: angle 89.1°
[07:28:57] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.1°, current=92.3°, player=(785,1091), corner_timer=0.30
[07:28:57] [INFO] [BloodDecal] Blood puddle created at (795.9701, 939.5917) (added to group)
[07:28:57] [ENEMY] [Enemy2] Ragdoll activated
[07:28:57] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[07:28:57] [INFO] [BloodDecal] Blood puddle created at (826.9722, 934.2706) (added to group)
[07:28:57] [INFO] [BloodDecal] Blood puddle created at (778.0125, 977.7559) (added to group)
[07:28:57] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:28:57] [INFO] [BloodDecal] Blood puddle created at (788.9117, 943.6658) (added to group)
[07:28:57] [INFO] [BloodDecal] Blood puddle created at (810.8546, 981.5287) (added to group)
[07:28:57] [INFO] [BloodDecal] Blood puddle created at (642.2311, 775.6816) (added to group)
[07:28:57] [INFO] [BloodDecal] Blood puddle created at (854.4235, 979.0876) (added to group)
[07:28:57] [INFO] [BloodDecal] Blood puddle created at (679.1071, 799.9205) (added to group)
[07:28:57] [INFO] [ReplayManager] Recording frame 2040 (33,6s): player_valid=True, enemies=10
[07:28:57] [INFO] [BloodDecal] Blood puddle created at (660.259, 743.0303) (added to group)
[07:28:57] [INFO] [BloodDecal] Blood puddle created at (706.9373, 795.2549) (added to group)
[07:28:57] [INFO] [BloodDecal] Blood puddle created at (682.6797, 784.6553) (added to group)
[07:28:57] [INFO] [BloodDecal] Blood puddle created at (668.1243, 744.5351) (added to group)
[07:28:57] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.6°, current=89.1°, player=(785,1091), corner_timer=-0.02
[07:28:57] [ENEMY] [Enemy7] PATROL corner check: angle 89.2°
[07:28:57] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.2°, current=92.0°, player=(785,1091), corner_timer=0.30
[07:28:57] [ENEMY] [Enemy1] Ragdoll activated
[07:28:57] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[07:28:57] [INFO] [BloodDecal] Blood puddle created at (673.4232, 788.7996) (added to group)
[07:28:57] [INFO] [BloodDecal] Blood puddle created at (741.1788, 733.9578) (added to group)
[07:28:57] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:28:57] [INFO] [BloodDecal] Blood puddle created at (668.4933, 843.9011) (added to group)
[07:28:57] [INFO] [BloodDecal] Blood puddle created at (736.5478, 756.077) (added to group)
[07:28:57] [INFO] [BloodDecal] Blood puddle created at (763.0908, 755.4828) (added to group)
[07:28:57] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.8°, current=89.2°, player=(786,1091), corner_timer=-0.02
[07:28:57] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[07:28:57] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=92.1°, player=(784,1091), corner_timer=0.30
[07:28:57] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:28:58] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.0°, current=89.3°, player=(706,1073), corner_timer=-0.02
[07:28:58] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[07:28:58] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=92.2°, player=(702,1070), corner_timer=0.30
[07:28:58] [ENEMY] [Enemy2] Death animation completed
[07:28:58] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:28:58] [INFO] [ReplayManager] Recording frame 2100 (34,6s): player_valid=True, enemies=10
[07:28:58] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.1°, current=89.3°, player=(612,1040), corner_timer=-0.02
[07:28:58] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[07:28:58] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.2°, player=(606,1040), corner_timer=0.30
[07:28:58] [ENEMY] [Enemy1] Death animation completed
[07:28:58] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:28:58] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.1°, current=89.4°, player=(503,1039), corner_timer=-0.02
[07:28:58] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[07:28:58] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.2°, player=(498,1039), corner_timer=0.30
[07:28:58] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:28:59] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(419,980), corner_timer=-0.02
[07:28:59] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[07:28:59] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(416,976), corner_timer=0.30
[07:28:59] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:28:59] [INFO] [ReplayManager] Recording frame 2160 (35,6s): player_valid=True, enemies=10
[07:28:59] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(393,881), corner_timer=-0.02
[07:28:59] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[07:28:59] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(393,875), corner_timer=0.30
[07:28:59] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:28:59] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(432,792), corner_timer=-0.02
[07:28:59] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[07:28:59] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(436,789), corner_timer=0.30
[07:28:59] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:29:00] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(534,776), corner_timer=-0.02
[07:29:00] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[07:29:00] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(538,773), corner_timer=0.30
[07:29:00] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:29:00] [INFO] [ReplayManager] Recording frame 2220 (36,6s): player_valid=True, enemies=10
[07:29:00] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(611,702), corner_timer=-0.02
[07:29:00] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[07:29:00] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(613,698), corner_timer=0.30
[07:29:00] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:29:00] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(621,597), corner_timer=-0.02
[07:29:00] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[07:29:00] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(621,591), corner_timer=0.30
[07:29:00] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:29:01] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(627,489), corner_timer=-0.02
[07:29:01] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[07:29:01] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(630,485), corner_timer=0.30
[07:29:01] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:29:01] [INFO] [ReplayManager] Recording frame 2280 (37,6s): player_valid=True, enemies=10
[07:29:01] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(699,409), corner_timer=-0.02
[07:29:01] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[07:29:01] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(703,405), corner_timer=0.30
[07:29:01] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:29:01] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(777,331), corner_timer=-0.02
[07:29:01] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[07:29:01] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(781,327), corner_timer=0.30
[07:29:01] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:29:02] [INFO] [ScoreManager] Combo ended at 4. Max combo: 4
[07:29:02] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(855,253), corner_timer=-0.02
[07:29:02] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[07:29:02] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(859,250), corner_timer=0.30
[07:29:02] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:29:02] [INFO] [ReplayManager] Recording frame 2340 (38,6s): player_valid=True, enemies=10
[07:29:02] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(933,176), corner_timer=-0.02
[07:29:02] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[07:29:02] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(937,172), corner_timer=0.30
[07:29:02] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:29:02] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1011,100), corner_timer=-0.02
[07:29:02] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[07:29:02] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1016,97), corner_timer=0.30
[07:29:02] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:29:03] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1116,87), corner_timer=-0.02
[07:29:03] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[07:29:03] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1121,87), corner_timer=0.30
[07:29:03] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:29:03] [INFO] [ReplayManager] Recording frame 2400 (39,6s): player_valid=True, enemies=10
[07:29:03] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1226,86), corner_timer=-0.02
[07:29:03] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[07:29:03] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1231,85), corner_timer=0.30
[07:29:03] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:29:03] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1322,80), corner_timer=-0.02
[07:29:03] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[07:29:03] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1325,80), corner_timer=0.30
[07:29:03] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:29:04] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1343,80), corner_timer=-0.02
[07:29:04] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[07:29:04] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1343,80), corner_timer=0.30
[07:29:04] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:29:04] [INFO] [ReplayManager] Recording frame 2460 (40,6s): player_valid=True, enemies=10
[07:29:04] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1343,80), corner_timer=-0.02
[07:29:04] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[07:29:04] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1343,80), corner_timer=0.30
[07:29:04] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:29:04] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1338,80), corner_timer=-0.02
[07:29:04] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[07:29:04] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1336,80), corner_timer=0.30
[07:29:04] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:29:05] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1283,122), corner_timer=-0.02
[07:29:05] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[07:29:05] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1282,124), corner_timer=0.30
[07:29:05] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:29:05] [INFO] [ReplayManager] Recording frame 2520 (41,6s): player_valid=True, enemies=10
[07:29:05] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1272,108), corner_timer=-0.02
[07:29:05] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[07:29:05] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1272,106), corner_timer=0.30
[07:29:05] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:29:05] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1271,101), corner_timer=-0.02
[07:29:05] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[07:29:05] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1271,101), corner_timer=0.30
[07:29:05] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:29:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1271.68, 101.2515), source=PLAYER (SniperRifle), range=1469, listeners=6
[07:29:06] [ENEMY] [Enemy5] Heard gunshot at (1271.68, 101.2515), source_type=0, intensity=0.01, distance=495
[07:29:06] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=2
[07:29:06] [ENEMY] [Enemy5] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=-149.9°, current=-101.3°, player=(1271,101), corner_timer=0.00
[07:29:06] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1271,101), corner_timer=-0.02
[07:29:06] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[07:29:06] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1271,101), corner_timer=0.30
[07:29:06] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:29:06] [INFO] [ReplayManager] Recording frame 2580 (42,6s): player_valid=True, enemies=10
[07:29:06] [ENEMY] [Enemy5] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-157.5°, current=152.8°, player=(1271,101), corner_timer=0.00
[07:29:06] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1271,101), corner_timer=-0.02
[07:29:06] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[07:29:06] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1271,101), corner_timer=0.30
[07:29:06] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:29:06] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:29:06] [ENEMY] [Enemy5] State: COMBAT -> RETREATING
[07:29:06] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:29:06] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:29:06] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1271,113), corner_timer=-0.02
[07:29:06] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[07:29:06] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:29:06] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1271,116), corner_timer=0.30
[07:29:06] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:29:06] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:29:06] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:29:06] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:29:06] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:29:06] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:29:06] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:29:07] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:29:07] [INFO] [EnemyGrenade] Unsafe throw distance (199 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:29:07] [INFO] [EnemyGrenade] Unsafe throw distance (197 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:29:07] [INFO] [EnemyGrenade] Unsafe throw distance (195 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:29:07] [INFO] [EnemyGrenade] Unsafe throw distance (192 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:29:07] [INFO] [EnemyGrenade] Unsafe throw distance (190 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:29:07] [INFO] [EnemyGrenade] Unsafe throw distance (188 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:29:07] [ENEMY] [Enemy5] State: RETREATING -> IN_COVER
[07:29:07] [ENEMY] [Enemy5] ROT_CHANGE: P1:visible -> P4:velocity, state=IN_COVER, target=180.0°, current=-169.8°, player=(1271,190), corner_timer=0.00
[07:29:07] [INFO] [EnemyGrenade] Unsafe throw distance (186 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:29:07] [ENEMY] [Enemy5] State: IN_COVER -> SUPPRESSED
[07:29:07] [INFO] [EnemyGrenade] Unsafe throw distance (185 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:29:07] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1271,212), corner_timer=-0.02
[07:29:07] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[07:29:07] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1271,218), corner_timer=0.30
[07:29:07] [ENEMY] [Enemy6] Hit taken, damage: 10, health: 4/4 -> -6/4
[07:29:07] [ENEMY] [Enemy6] ImpactEffectsManager found, calling spawn_blood_effect
[07:29:07] [INFO] [ImpactEffects] spawn_blood_effect called at (1950, 450), dir=(1, 0), lethal=true
[07:29:07] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[07:29:07] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[07:29:07] [INFO] [ImpactEffects] Blood effect spawned at (1950, 450) (scale=1.5)
[07:29:07] [ENEMY] [Enemy6] Enemy died (ricochet: false, penetration: false)
[07:29:07] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[07:29:07] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[07:29:07] [INFO] [PowerFantasy] Starting power fantasy effect:
[07:29:07] [INFO] [PowerFantasy]   - Time scale: 0.10
[07:29:07] [INFO] [PowerFantasy]   - Duration: 300ms
[07:29:07] [ENEMY] [Enemy6] [AllyDeath] Notified 1 enemies
[07:29:07] [INFO] [SoundPropagation] Unregistered listener: Enemy6 (remaining: 5)
[07:29:07] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[07:29:07] [ENEMY] [Enemy6] Death animation started with hit direction: (1, 0)
[07:29:07] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:29:07] [INFO] [EnemyGrenade] Unsafe throw distance (182 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:29:07] [INFO] [EnemyGrenade] Unsafe throw distance (182 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:29:07] [INFO] [EnemyGrenade] Unsafe throw distance (182 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:29:07] [INFO] [EnemyGrenade] Unsafe throw distance (181 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:29:07] [INFO] [EnemyGrenade] Unsafe throw distance (180 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:29:07] [INFO] [EnemyGrenade] Unsafe throw distance (180 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:29:07] [INFO] [ReplayManager] Recording frame 2640 (43,5s): player_valid=True, enemies=10
[07:29:07] [INFO] [EnemyGrenade] Unsafe throw distance (179 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:29:07] [INFO] [EnemyGrenade] Unsafe throw distance (178 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:29:07] [INFO] [EnemyGrenade] Unsafe throw distance (177 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:29:07] [INFO] [EnemyGrenade] Unsafe throw distance (176 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:29:07] [INFO] [EnemyGrenade] Unsafe throw distance (175 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:29:07] [INFO] [EnemyGrenade] Unsafe throw distance (173 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:29:07] [INFO] [EnemyGrenade] Unsafe throw distance (172 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:29:07] [INFO] [EnemyGrenade] Unsafe throw distance (171 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:29:07] [INFO] [EnemyGrenade] Unsafe throw distance (169 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:29:07] [INFO] [EnemyGrenade] Unsafe throw distance (168 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:29:07] [INFO] [EnemyGrenade] Unsafe throw distance (167 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:29:07] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.0°, current=89.4°, player=(1308,302), corner_timer=-0.01
[07:29:07] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[07:29:07] [INFO] [PowerFantasy] Effect duration expired after 301.00 ms
[07:29:07] [INFO] [PowerFantasy] Ending power fantasy effect
[07:29:07] [INFO] [EnemyGrenade] Unsafe throw distance (165 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:29:07] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=91.7°, player=(1311,304), corner_timer=0.30
[07:29:07] [INFO] [BloodDecal] Blood puddle created at (2028.036, 485.3833) (added to group)
[07:29:07] [INFO] [EnemyGrenade] Unsafe throw distance (164 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:29:07] [INFO] [BloodDecal] Blood puddle created at (2037.732, 476.5647) (added to group)
[07:29:07] [INFO] [EnemyGrenade] Unsafe throw distance (162 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:29:07] [INFO] [EnemyGrenade] Unsafe throw distance (161 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:29:07] [INFO] [EnemyGrenade] Unsafe throw distance (160 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:29:07] [INFO] [EnemyGrenade] Unsafe throw distance (159 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:29:07] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:29:07] [INFO] [EnemyGrenade] Unsafe throw distance (158 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:29:07] [INFO] [EnemyGrenade] Unsafe throw distance (157 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:29:07] [INFO] [BloodDecal] Blood puddle created at (2044.452, 516.1018) (added to group)
[07:29:07] [INFO] [BloodDecal] Blood puddle created at (2015.638, 503.1792) (added to group)
[07:29:07] [INFO] [EnemyGrenade] Unsafe throw distance (156 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:29:07] [INFO] [BloodDecal] Blood puddle created at (2022.28, 522.6824) (added to group)
[07:29:07] [INFO] [EnemyGrenade] Unsafe throw distance (155 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:29:07] [INFO] [BloodDecal] Blood puddle created at (2037.59, 457.9329) (added to group)
[07:29:07] [INFO] [BloodDecal] Blood puddle created at (2093.373, 472.9001) (added to group)
[07:29:07] [INFO] [EnemyGrenade] Unsafe throw distance (155 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:29:07] [INFO] [EnemyGrenade] Unsafe throw distance (154 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:29:07] [INFO] [EnemyGrenade] Unsafe throw distance (154 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:29:07] [ENEMY] [Enemy6] Ragdoll activated
[07:29:07] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[07:29:07] [INFO] [BloodDecal] Blood puddle created at (2072.56, 509.0782) (added to group)
[07:29:07] [INFO] [BloodDecal] Blood puddle created at (2083.088, 458.1845) (added to group)
[07:29:07] [INFO] [BloodDecal] Blood puddle created at (2084.236, 532.5496) (added to group)
[07:29:07] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.1°, current=89.4°, player=(1341,328), corner_timer=-0.02
[07:29:07] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[07:29:07] [INFO] [BloodDecal] Blood puddle created at (2067.528, 587.3992) (added to group)
[07:29:07] [INFO] [BloodDecal] Blood puddle created at (2072.804, 517.4293) (added to group)
[07:29:07] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.2°, player=(1341,328), corner_timer=0.30
[07:29:07] [INFO] [BloodDecal] Blood puddle created at (2128.131, 539.0927) (added to group)
[07:29:07] [INFO] [BloodDecal] Blood puddle created at (2078.473, 487.8087) (added to group)
[07:29:07] [INFO] [BloodDecal] Blood puddle created at (2056.553, 550.1845) (added to group)
[07:29:07] [INFO] [BloodDecal] Blood puddle created at (2116.128, 535.2876) (added to group)
[07:29:07] [INFO] [BloodDecal] Blood puddle created at (2050.176, 587.897) (added to group)
[07:29:07] [INFO] [BloodDecal] Blood puddle created at (2087.627, 592.4539) (added to group)
[07:29:07] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:29:08] [INFO] [EnemyGrenade] Unsafe throw distance (152 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:29:08] [INFO] [BloodDecal] Blood puddle created at (2086.782, 622.6105) (added to group)
[07:29:08] [INFO] [EnemyGrenade] Unsafe throw distance (151 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:29:08] [INFO] [BloodDecal] Blood puddle created at (2144.195, 654.6481) (added to group)
[07:29:08] [INFO] [EnemyGrenade] Unsafe throw distance (151 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:29:08] [INFO] [EnemyGrenade] Unsafe throw distance (150 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:29:08] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.1°, current=89.4°, player=(1347,328), corner_timer=-0.02
[07:29:08] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[07:29:08] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.2°, player=(1347,328), corner_timer=0.30
[07:29:08] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:29:08] [INFO] [ReplayManager] Recording frame 2700 (44,5s): player_valid=True, enemies=10
[07:29:08] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1347,293), corner_timer=-0.02
[07:29:08] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[07:29:08] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1347,288), corner_timer=0.30
[07:29:08] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:29:08] [ENEMY] [Enemy6] Death animation completed
[07:29:08] [ENEMY] [Enemy5] ROT_CHANGE: P4:velocity -> P1:visible, state=SUPPRESSED, target=-170.4°, current=-172.6°, player=(1347,202), corner_timer=0.00
[07:29:08] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1347,196), corner_timer=-0.02
[07:29:08] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[07:29:08] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1347,193), corner_timer=0.30
[07:29:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1638.051, 251.9335), source=ENEMY (Enemy5), range=1469, listeners=5
[07:29:08] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=4
[07:29:08] [ENEMY] [Enemy5] Hit taken, damage: 1, health: 2/2 -> 1/2
[07:29:08] [ENEMY] [Enemy5] ImpactEffectsManager found, calling spawn_blood_effect
[07:29:08] [INFO] [ImpactEffects] spawn_blood_effect called at (1638.051, 251.9335), dir=(1, 0), lethal=false
[07:29:08] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[07:29:08] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[07:29:08] [INFO] [ImpactEffects] Blood effect spawned at (1638.051, 251.9335) (scale=1)
[07:29:09] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:29:09] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1638.051, 251.9335), source=ENEMY (Enemy5), range=1469, listeners=5
[07:29:09] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=4
[07:29:09] [ENEMY] [Enemy5] State: SUPPRESSED -> SEEKING_COVER
[07:29:09] [ENEMY] [Enemy5] Hit taken, damage: 1, health: 1/2 -> 0/2
[07:29:09] [ENEMY] [Enemy5] ImpactEffectsManager found, calling spawn_blood_effect
[07:29:09] [INFO] [ImpactEffects] spawn_blood_effect called at (1638.051, 251.9335), dir=(1, 0), lethal=true
[07:29:09] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[07:29:09] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[07:29:09] [INFO] [ImpactEffects] Blood effect spawned at (1638.051, 251.9335) (scale=1.5)
[07:29:09] [ENEMY] [Enemy5] Enemy died (ricochet: false, penetration: false)
[07:29:09] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[07:29:09] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[07:29:09] [INFO] [PowerFantasy] Starting power fantasy effect:
[07:29:09] [INFO] [PowerFantasy]   - Time scale: 0.10
[07:29:09] [INFO] [PowerFantasy]   - Duration: 300ms
[07:29:09] [INFO] [SoundPropagation] Unregistered listener: Enemy5 (remaining: 4)
[07:29:09] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[07:29:09] [ENEMY] [Enemy5] Death animation started with hit direction: (1, 0)
[07:29:09] [INFO] [ReplayManager] Recording frame 2760 (45,2s): player_valid=True, enemies=10
[07:29:09] [INFO] [PowerFantasy] Effect duration expired after 317.00 ms
[07:29:09] [INFO] [PowerFantasy] Ending power fantasy effect
[07:29:09] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.3°, current=89.4°, player=(1327,186), corner_timer=-0.01
[07:29:09] [ENEMY] [Enemy7] PATROL corner check: angle 89.2°
[07:29:09] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.2°, current=92.3°, player=(1327,186), corner_timer=0.30
[07:29:09] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1327.108, 186.5846), source=PLAYER (SniperRifle), range=1469, listeners=4
[07:29:09] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=0, below_threshold=3
[07:29:09] [INFO] [BloodDecal] Blood puddle created at (1702.903, 283.6244) (added to group)
[07:29:09] [INFO] [BloodDecal] Blood puddle created at (1710.143, 305.6678) (added to group)
[07:29:09] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:29:09] [INFO] [BloodDecal] Blood puddle created at (1731.631, 266.3788) (added to group)
[07:29:09] [INFO] [BloodDecal] Blood puddle created at (1713.865, 303.848) (added to group)
[07:29:09] [INFO] [BloodDecal] Blood puddle created at (1719.247, 248.2304) (added to group)
[07:29:09] [INFO] [BloodDecal] Blood puddle created at (1725.632, 225.7197) (added to group)
[07:29:09] [INFO] [BloodDecal] Blood puddle created at (1741.476, 294.7324) (added to group)
[07:29:09] [INFO] [BloodDecal] Blood puddle created at (1700.377, 267.0762) (added to group)
[07:29:09] [INFO] [GrenadeBase] CCD enabled (mode: CAST_RAY) to prevent wall tunneling
[07:29:09] [INFO] [GrenadeBase] Grenade created at (1598.564, 245.5502) (frozen)
[07:29:09] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[07:29:09] [INFO] [GrenadeTimer] Initialized for Frag grenade, effect radius: 225
[07:29:09] [INFO] [GrenadeTimerHelper] Attached GrenadeTimer to FragGrenade (type: Frag)
[07:29:09] [INFO] [EnemyGrenade] Attached C# GrenadeTimer to grenade (type: Frag)
[07:29:09] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[07:29:09] [INFO] [GrenadeTimer] Timer activated! 4 seconds until explosion
[07:29:09] [INFO] [GrenadeBase] LEGACY throw_grenade() called! Direction: (-0.987185, -0.159583), Speed: 602.3 (unfrozen)
[07:29:09] [INFO] [GrenadeBase] NOTE: Using DRAG-BASED system. If velocity-based is expected, ensure grenade has throw_grenade_velocity_based() method.
[07:29:09] [INFO] [FragGrenade] Grenade thrown (legacy) - impact detection enabled
[07:29:09] [INFO] [GrenadeTimer] Grenade marked as thrown - impact detection enabled
[07:29:09] [INFO] [EnemyGrenade] Enemy grenade thrown! Target: (1344.463, 184.9431), Distance: 301
[07:29:09] [INFO] [BloodDecal] Blood puddle created at (1689.894, 284.7649) (added to group)
[07:29:09] [INFO] [BloodDecal] Blood puddle created at (1727.136, 258.7216) (added to group)
[07:29:09] [INFO] [BloodDecal] Blood puddle created at (1759.77, 289.4876) (added to group)
[07:29:09] [INFO] [BloodDecal] Blood puddle created at (1686.131, 303.5516) (added to group)
[07:29:09] [INFO] [BloodDecal] Blood puddle created at (1705.166, 283.0802) (added to group)
[07:29:09] [INFO] [BloodDecal] Blood puddle created at (1713.541, 300.7198) (added to group)
[07:29:09] [INFO] [BloodDecal] Blood puddle created at (1718.354, 252.9186) (added to group)
[07:29:09] [INFO] [BloodDecal] Blood puddle created at (1809.776, 308.7971) (added to group)
[07:29:09] [INFO] [BloodDecal] Blood puddle created at (1739.08, 284.2302) (added to group)
[07:29:09] [INFO] [BloodDecal] Blood puddle created at (1732.698, 245.9881) (added to group)
[07:29:09] [ENEMY] [Enemy5] Ragdoll activated
[07:29:09] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[07:29:09] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.7°, current=89.2°, player=(1327,186), corner_timer=-0.02
[07:29:09] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[07:29:09] [INFO] [BloodDecal] Blood puddle created at (1738.645, 305.8088) (added to group)
[07:29:09] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=92.0°, player=(1327,186), corner_timer=0.30
[07:29:09] [INFO] [BloodDecal] Blood puddle created at (1816.954, 264.6068) (added to group)
[07:29:09] [INFO] [BloodDecal] Blood puddle created at (1791.195, 409.3723) (added to group)
[07:29:09] [INFO] [BloodDecal] Blood puddle created at (1829.392, 383.785) (added to group)
[07:29:09] [INFO] [BloodDecal] Blood puddle created at (1806.091, 410.762) (added to group)
[07:29:09] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:29:09] [INFO] [BloodDecal] Blood puddle created at (1837.796, 281.5817) (added to group)
[07:29:09] [INFO] [BloodDecal] Blood puddle created at (1780.714, 331.4904) (added to group)
[07:29:09] [INFO] [BloodDecal] Blood puddle created at (1790.08, 374.7207) (added to group)
[07:29:09] [INFO] [BloodDecal] Blood puddle created at (1765.384, 303.3677) (added to group)
[07:29:09] [INFO] [BloodDecal] Blood puddle created at (1727.394, 304.0704) (added to group)
[07:29:09] [INFO] [BloodDecal] Blood puddle created at (1756.832, 355.5482) (added to group)
[07:29:10] [INFO] [BloodDecal] Blood puddle created at (1770.995, 389.4594) (added to group)
[07:29:10] [INFO] [GrenadeBase] Collision detected with Room3_WallLeft (type: StaticBody2D)
[07:29:10] [INFO] [FragGrenade] Impact detected! Body: Room3_WallLeft (type: StaticBody2D), triggering explosion
[07:29:10] [INFO] [FragGrenade] Impact detected - exploding immediately!
[07:29:10] [INFO] [GrenadeBase] EXPLODED at (1397.275, 212.3499)!
[07:29:10] [INFO] [PowerFantasy] Grenade exploded - triggering last chance time-freeze effect for 2000ms
[07:29:10] [INFO] [LastChance] Grenade explosion triggering last chance effect for 2.00 seconds
[07:29:10] [INFO] [LastChance] Starting last chance effect:
[07:29:10] [INFO] [LastChance]   - Time will be frozen (except player)
[07:29:10] [INFO] [LastChance]   - Duration: 2.00 real seconds
[07:29:10] [INFO] [LastChance]   - Trigger: grenade explosion
[07:29:10] [INFO] [LastChance]   - Sepia intensity: 0.70
[07:29:10] [INFO] [LastChance]   - Brightness: 0.60
[07:29:10] [INFO] [LastChance] Set player Player and all 25 children to PROCESS_MODE_ALWAYS
[07:29:10] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[07:29:10] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[07:29:10] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[07:29:10] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[07:29:10] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[07:29:10] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[07:29:10] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[07:29:10] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[07:29:10] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[07:29:10] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[07:29:10] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[07:29:10] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[07:29:10] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[07:29:10] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[07:29:10] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[07:29:10] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[07:29:10] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[07:29:10] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[07:29:10] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[07:29:10] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[07:29:10] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[07:29:10] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[07:29:10] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[07:29:10] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[07:29:10] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[07:29:10] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[07:29:10] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[07:29:10] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[07:29:10] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[07:29:10] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[07:29:10] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[07:29:10] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[07:29:10] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[07:29:10] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[07:29:10] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[07:29:10] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[07:29:10] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[07:29:10] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[07:29:10] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[07:29:10] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[07:29:10] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[07:29:10] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[07:29:10] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[07:29:10] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[07:29:10] [INFO] [LastChance] Skipping player node: Player
[07:29:10] [INFO] [LastChance] Froze existing bullet casing: Casing
[07:29:10] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@8523
[07:29:10] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@8532
[07:29:10] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@8575
[07:29:10] [INFO] [LastChance] Froze existing grenade: FragGrenade
[07:29:10] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[07:29:10] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[07:29:10] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[07:29:10] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1397.275, 212.3499), source=NEUTRAL (FragGrenade), range=2937, listeners=4
[07:29:10] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=4
[07:29:10] [INFO] [LastChance] Freezing newly created shrapnel: Shrapnel
[07:29:10] [INFO] [LastChance] Registered frozen shrapnel: Shrapnel
[07:29:10] [INFO] [FragGrenade] Spawned shrapnel #1 at angle 3.7 degrees
[07:29:10] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@8653
[07:29:10] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@8653
[07:29:10] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 76.4 degrees
[07:29:10] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@8654
[07:29:10] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@8654
[07:29:10] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 169.0 degrees
[07:29:10] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@8655
[07:29:10] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@8655
[07:29:10] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 271.9 degrees
[07:29:10] [INFO] [ImpactEffects] Spawning explosion visual effect at (1397.275, 212.3499) (radius=225) - using shadow-based wall occlusion
[07:29:10] [INFO] [LastChance] Freezing newly created explosion effect: @PointLight2D@8656
[07:29:10] [INFO] [LastChance] Registered frozen explosion effect: @PointLight2D@8656
[07:29:10] [INFO] [GrenadeTimer] Impact detected with Room3_WallLeft - EXPLODING!
[07:29:10] [INFO] [GrenadeTimer] EXPLODED at (1397.2748, 212.34987)!
[07:29:10] [INFO] [GrenadeTimer] Applying frag explosion damage (radius: 225, damage: 99)
[07:29:10] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@8657
[07:29:10] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@8657
[07:29:10] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@8658
[07:29:10] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@8658
[07:29:10] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@8659
[07:29:10] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@8659
[07:29:10] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@8660
[07:29:10] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@8660
[07:29:10] [INFO] [GrenadeTimer] Spawned 4 shrapnel pieces
[07:29:10] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1397.275, 212.3499), source=NEUTRAL (FragGrenade), range=2938, listeners=4
[07:29:10] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=4
[07:29:10] [INFO] [LastChance] Freezing newly created explosion visual effect (Node2D): ExplosionFlash
[07:29:10] [INFO] [LastChance] Registered frozen explosion visual: ExplosionFlash
[07:29:10] [INFO] [LastChance] Freezing newly created explosion effect: PointLight2D
[07:29:10] [INFO] [LastChance] Registered frozen explosion effect: PointLight2D
[07:29:10] [INFO] [GrenadeTimer] Spawned PointLight2D frag explosion flash at (1397.2748, 212.34987) (shadow-based wall occlusion)
[07:29:10] [INFO] [ReplayManager] Recording frame 2820 (46,2s): player_valid=True, enemies=10
[07:29:11] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@8661
[07:29:11] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@8661
[07:29:11] [INFO] [ReplayManager] Recording frame 2880 (47,2s): player_valid=True, enemies=10
[07:29:12] [INFO] [LastChance] Effect duration expired after 2.00 real seconds
[07:29:12] [INFO] [LastChance] Ending last chance effect
[07:29:12] [ENEMY] [Enemy7] Memory reset: confusion=2.0s, had_target=false
[07:29:12] [ENEMY] [Enemy8] Memory reset: confusion=2.0s, had_target=false
[07:29:12] [ENEMY] [Enemy9] Memory reset: confusion=2.0s, had_target=false
[07:29:12] [ENEMY] [Enemy10] Memory reset: confusion=2.0s, had_target=false
[07:29:12] [INFO] [LastChance] Reset memory for 4 enemies (player teleport effect)
[07:29:12] [INFO] [LastChance] All process modes restored
[07:29:12] [INFO] [LastChance] Unfroze bullet casing: Casing
[07:29:12] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@8523
[07:29:12] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@8532
[07:29:12] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@8575
[07:29:12] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@8661
[07:29:12] [INFO] [LastChance] Unfroze shrapnel: Shrapnel
[07:29:12] [INFO] [LastChance] Unfroze shrapnel: @Area2D@8653
[07:29:12] [INFO] [LastChance] Unfroze shrapnel: @Area2D@8654
[07:29:12] [INFO] [LastChance] Unfroze shrapnel: @Area2D@8655
[07:29:12] [INFO] [LastChance] Unfroze shrapnel: @Area2D@8657
[07:29:12] [INFO] [LastChance] Unfroze shrapnel: @Area2D@8658
[07:29:12] [INFO] [LastChance] Unfroze shrapnel: @Area2D@8659
[07:29:12] [INFO] [LastChance] Unfroze shrapnel: @Area2D@8660
[07:29:12] [INFO] [LastChance] Unfroze explosion effect: @PointLight2D@8656
[07:29:12] [INFO] [LastChance] Unfroze explosion effect: PointLight2D
[07:29:12] [INFO] [LastChance] Unfroze explosion visual: ExplosionFlash
[07:29:12] [INFO] [LastChance] Starting visual effects fade-out over 400ms
[07:29:12] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.8°, current=89.3°, player=(1423,361), corner_timer=-0.02
[07:29:12] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[07:29:12] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=92.1°, player=(1423,367), corner_timer=0.30
[07:29:12] [INFO] [Player] Spawning blood effect at (1423.229, 383.99042), dir=(0.0982789, 0.9951589), lethal=False (C#)
[07:29:12] [INFO] [ImpactEffects] spawn_blood_effect called at (1423.229, 383.9904), dir=(0.098279, 0.995159), lethal=false
[07:29:12] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[07:29:12] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[07:29:12] [INFO] [ImpactEffects] Blood effect spawned at (1423.229, 383.9904) (scale=1)
[07:29:12] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 9.0
[07:29:12] [INFO] [LastChance] Player health updated (C# Damaged): 9.0
[07:29:12] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:29:12] [INFO] [ReplayManager] Recording frame 2940 (48,2s): player_valid=True, enemies=10
[07:29:12] [INFO] [BloodDecal] Blood puddle created at (1416.641, 469.8017) (added to group)
[07:29:12] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.0°, current=89.3°, player=(1462,455), corner_timer=-0.02
[07:29:12] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[07:29:12] [INFO] [LastChance] Visual effects fade-out complete
[07:29:12] [INFO] [LastChance] Restored original colors to 5 player sprites
[07:29:12] [INFO] [LastChance] Called player RefreshHealthVisual (C#)
[07:29:12] [INFO] [BloodDecal] Blood puddle created at (1417.884, 455.9153) (added to group)
[07:29:12] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.2°, player=(1466,459), corner_timer=0.30
[07:29:12] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:29:12] [INFO] [BloodDecal] Blood puddle created at (1431.287, 551.2159) (added to group)
[07:29:12] [INFO] [BloodDecal] Blood puddle created at (1409.711, 564.5857) (added to group)
[07:29:12] [INFO] [BloodDecal] Blood puddle created at (1434.664, 535.8716) (added to group)
[07:29:12] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.1°, current=89.4°, player=(1540,533), corner_timer=-0.02
[07:29:12] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[07:29:12] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.2°, player=(1544,537), corner_timer=0.30
[07:29:12] [INFO] [BloodDecal] Blood puddle created at (1460.512, 593.6487) (added to group)
[07:29:12] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:29:13] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.1°, current=89.4°, player=(1627,583), corner_timer=-0.02
[07:29:13] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[07:29:13] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.2°, player=(1632,583), corner_timer=0.30
[07:29:13] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:29:13] [INFO] [ReplayManager] Recording frame 3000 (49,2s): player_valid=True, enemies=10
[07:29:13] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1737,583), corner_timer=-0.02
[07:29:13] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[07:29:13] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1742,583), corner_timer=0.30
[07:29:13] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:29:13] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1838,605), corner_timer=-0.02
[07:29:13] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[07:29:13] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1842,608), corner_timer=0.30
[07:29:13] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:29:14] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1884,682), corner_timer=-0.02
[07:29:14] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[07:29:14] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1885,684), corner_timer=0.30
[07:29:14] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:29:14] [INFO] [ScoreManager] Combo ended at 2. Max combo: 4
[07:29:14] [INFO] [ReplayManager] Recording frame 3060 (50,2s): player_valid=True, enemies=10
[07:29:14] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1887,685), corner_timer=-0.02
[07:29:14] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[07:29:14] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1887,683), corner_timer=0.30
[07:29:14] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:29:14] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1887,663), corner_timer=-0.02
[07:29:14] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[07:29:14] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1887,663), corner_timer=0.30
[07:29:14] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:29:15] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1887,640), corner_timer=-0.02
[07:29:15] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[07:29:15] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1887,639), corner_timer=0.30
[07:29:15] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:29:15] [INFO] [ReplayManager] Recording frame 3120 (51,2s): player_valid=True, enemies=10
[07:29:15] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1904,639), corner_timer=-0.02
[07:29:15] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[07:29:15] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1905,639), corner_timer=0.30
[07:29:15] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:29:15] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1905,639), corner_timer=-0.02
[07:29:15] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[07:29:15] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1905,639), corner_timer=0.30
[07:29:15] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:29:16] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1886,639), corner_timer=-0.02
[07:29:16] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[07:29:16] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1884,639), corner_timer=0.30
[07:29:16] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:29:16] [INFO] [ReplayManager] Recording frame 3180 (52,2s): player_valid=True, enemies=10
[07:29:16] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1882,639), corner_timer=-0.02
[07:29:16] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[07:29:16] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1882,639), corner_timer=0.30
[07:29:16] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:29:16] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1882,639), corner_timer=-0.02
[07:29:16] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[07:29:16] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1882,639), corner_timer=0.30
[07:29:16] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:29:17] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1882,639), corner_timer=-0.02
[07:29:17] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[07:29:17] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1882,639), corner_timer=0.30
[07:29:17] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:29:17] [INFO] [ReplayManager] Recording frame 3240 (53,2s): player_valid=True, enemies=10
[07:29:17] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1882,639), corner_timer=-0.02
[07:29:17] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[07:29:17] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1882,639), corner_timer=0.30
[07:29:17] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:29:17] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1882,639), corner_timer=-0.02
[07:29:17] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[07:29:17] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1882,639), corner_timer=0.30
[07:29:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1882.466, 639.5169), source=PLAYER (SniperRifle), range=1469, listeners=4
[07:29:17] [ENEMY] [Enemy7] Heard gunshot at (1882.466, 639.5169), source_type=0, intensity=0.02, distance=375
[07:29:17] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=3
[07:29:17] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P2:combat_state, state=COMBAT, target=-43.7°, current=89.4°, player=(1882,639), corner_timer=0.22
[07:29:17] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:29:18] [ENEMY] [Enemy7] Hit taken, damage: 10, health: 3/3 -> -7/3
[07:29:18] [ENEMY] [Enemy7] ImpactEffectsManager found, calling spawn_blood_effect
[07:29:18] [INFO] [ImpactEffects] spawn_blood_effect called at (1699.357, 845.2691), dir=(1, 0), lethal=true
[07:29:18] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[07:29:18] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[07:29:18] [INFO] [ImpactEffects] Blood effect spawned at (1699.357, 845.2691) (scale=1.5)
[07:29:18] [ENEMY] [Enemy7] Enemy died (ricochet: false, penetration: false)
[07:29:18] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[07:29:18] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[07:29:18] [INFO] [PowerFantasy] Starting power fantasy effect:
[07:29:18] [INFO] [PowerFantasy]   - Time scale: 0.10
[07:29:18] [INFO] [PowerFantasy]   - Duration: 300ms
[07:29:18] [INFO] [SoundPropagation] Unregistered listener: Enemy7 (remaining: 3)
[07:29:18] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[07:29:18] [ENEMY] [Enemy7] Death animation started with hit direction: (1, 0)
[07:29:18] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:29:18] [INFO] [ReplayManager] Recording frame 3300 (54,2s): player_valid=True, enemies=10
[07:29:18] [INFO] [PowerFantasy] Effect duration expired after 316.00 ms
[07:29:18] [INFO] [PowerFantasy] Ending power fantasy effect
[07:29:18] [INFO] [BloodDecal] Blood puddle created at (1749.847, 859.7667) (added to group)
[07:29:18] [INFO] [BloodDecal] Blood puddle created at (1767.971, 870.9196) (added to group)
[07:29:18] [INFO] [BloodDecal] Blood puddle created at (1768.912, 883.6993) (added to group)
[07:29:18] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:29:18] [INFO] [BloodDecal] Blood puddle created at (1794.551, 903.7746) (added to group)
[07:29:18] [INFO] [BloodDecal] Blood puddle created at (1794.731, 890.4998) (added to group)
[07:29:18] [INFO] [BloodDecal] Blood puddle created at (1800.548, 926.4428) (added to group)
[07:29:18] [INFO] [BloodDecal] Blood puddle created at (1769.746, 841.5743) (added to group)
[07:29:18] [INFO] [BloodDecal] Blood puddle created at (1803.001, 858.9628) (added to group)
[07:29:18] [INFO] [BloodDecal] Blood puddle created at (1790.27, 882.2619) (added to group)
[07:29:18] [INFO] [BloodDecal] Blood puddle created at (1761.666, 920.0297) (added to group)
[07:29:18] [ENEMY] [Enemy7] Ragdoll activated
[07:29:18] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[07:29:18] [INFO] [BloodDecal] Blood puddle created at (1777.538, 911.8397) (added to group)
[07:29:18] [INFO] [BloodDecal] Blood puddle created at (1789.047, 894.6962) (added to group)
[07:29:18] [INFO] [BloodDecal] Blood puddle created at (1780.581, 877.3611) (added to group)
[07:29:18] [INFO] [BloodDecal] Blood puddle created at (1814.496, 894.7056) (added to group)
[07:29:18] [INFO] [BloodDecal] Blood puddle created at (1794.587, 892.9998) (added to group)
[07:29:18] [INFO] [BloodDecal] Blood puddle created at (1859.225, 992.5159) (added to group)
[07:29:18] [INFO] [BloodDecal] Blood puddle created at (1799.218, 872.5183) (added to group)
[07:29:19] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:29:19] [INFO] [BloodDecal] Blood puddle created at (1884.079, 1037.384) (added to group)
[07:29:19] [INFO] [BloodDecal] Blood puddle created at (1799.914, 924.458) (added to group)
[07:29:19] [INFO] [BloodDecal] Blood puddle created at (1878.528, 958.8195) (added to group)
[07:29:19] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:29:19] [INFO] [ReplayManager] Recording frame 3360 (55,2s): player_valid=True, enemies=10
[07:29:19] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:29:19] [ENEMY] [Enemy7] Death animation completed
[07:29:20] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:29:20] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:29:20] [INFO] [ReplayManager] Recording frame 3420 (56,2s): player_valid=True, enemies=10
[07:29:20] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:29:20] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P1:visible, state=IDLE, target=-39.4°, current=0.6°, player=(1897,994), corner_timer=0.00
[07:29:20] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[07:29:21] [ENEMY] [Enemy10] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-38.7°, current=-134.9°, player=(1897,1005), corner_timer=0.00
[07:29:21] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[07:29:21] [INFO] [ReplayManager] Recording frame 3480 (57,2s): player_valid=True, enemies=10
[07:29:21] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[07:29:22] [INFO] [ReplayManager] Recording frame 3540 (58,2s): player_valid=True, enemies=10
[07:29:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1964.735, 1158.04), source=PLAYER (SniperRifle), range=1469, listeners=3
[07:29:22] [ENEMY] [Enemy8] Heard gunshot at (1964.735, 1158.04), source_type=0, intensity=0.03, distance=299
[07:29:22] [ENEMY] [Enemy9] Heard gunshot at (1964.735, 1158.04), source_type=0, intensity=0.01, distance=415
[07:29:22] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=1
[07:29:22] [ENEMY] [Enemy8] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=-77.5°, current=157.5°, player=(1964,1158), corner_timer=0.00
[07:29:22] [ENEMY] [Enemy9] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=-109.0°, current=11.3°, player=(1964,1158), corner_timer=0.00
[07:29:22] [ENEMY] [Enemy8] Hit taken, damage: 10, health: 2/2 -> -8/2
[07:29:22] [ENEMY] [Enemy8] ImpactEffectsManager found, calling spawn_blood_effect
[07:29:22] [INFO] [ImpactEffects] spawn_blood_effect called at (1912.7, 1392.724), dir=(1, 0), lethal=true
[07:29:22] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[07:29:22] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[07:29:22] [INFO] [ImpactEffects] Blood effect spawned at (1912.7, 1392.724) (scale=1.5)
[07:29:22] [ENEMY] [Enemy8] Enemy died (ricochet: false, penetration: false)
[07:29:22] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[07:29:22] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[07:29:22] [INFO] [PowerFantasy] Starting power fantasy effect:
[07:29:22] [INFO] [PowerFantasy]   - Time scale: 0.10
[07:29:22] [INFO] [PowerFantasy]   - Duration: 300ms
[07:29:22] [ENEMY] [Enemy8] [AllyDeath] Notified 1 enemies
[07:29:22] [INFO] [SoundPropagation] Unregistered listener: Enemy8 (remaining: 2)
[07:29:22] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[07:29:22] [ENEMY] [Enemy8] Death animation started with hit direction: (1, 0)
[07:29:22] [ENEMY] [Enemy9] State: COMBAT -> PURSUING
[07:29:23] [INFO] [PowerFantasy] Effect duration expired after 301.00 ms
[07:29:23] [INFO] [PowerFantasy] Ending power fantasy effect
[07:29:23] [INFO] [BloodDecal] Blood puddle created at (1953.157, 1429.328) (added to group)
[07:29:23] [ENEMY] [Enemy10] PURSUING corner check: angle 49.3°
[07:29:23] [INFO] [BloodDecal] Blood puddle created at (1995.228, 1392.573) (added to group)
[07:29:23] [INFO] [BloodDecal] Blood puddle created at (1998.889, 1410.844) (added to group)
[07:29:23] [INFO] [BloodDecal] Blood puddle created at (2003.585, 1429.328) (added to group)
[07:29:23] [INFO] [BloodDecal] Blood puddle created at (1962.609, 1396.876) (added to group)
[07:29:23] [INFO] [BloodDecal] Blood puddle created at (1991.99, 1389.442) (added to group)
[07:29:23] [INFO] [BloodDecal] Blood puddle created at (2011.213, 1401.581) (added to group)
[07:29:23] [INFO] [BloodDecal] Blood puddle created at (2016.297, 1387.357) (added to group)
[07:29:23] [INFO] [BloodDecal] Blood puddle created at (1998.125, 1439.306) (added to group)
[07:29:23] [INFO] [BloodDecal] Blood puddle created at (1996.029, 1428.461) (added to group)
[07:29:23] [INFO] [BloodDecal] Blood puddle created at (2004.459, 1411.741) (added to group)
[07:29:23] [ENEMY] [Enemy8] Ragdoll activated
[07:29:23] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[07:29:23] [INFO] [BloodDecal] Blood puddle created at (2053.508, 1460.155) (added to group)
[07:29:23] [INFO] [BloodDecal] Blood puddle created at (2010.859, 1425) (added to group)
[07:29:23] [INFO] [BloodyFeet:Enemy9] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[07:29:23] [INFO] [ReplayManager] Recording frame 3600 (59,1s): player_valid=True, enemies=10
[07:29:23] [INFO] [BloodDecal] Blood puddle created at (2104.109, 1405.596) (added to group)
[07:29:23] [INFO] [BloodDecal] Blood puddle created at (2095.377, 1421.17) (added to group)
[07:29:24] [ENEMY] [Enemy8] Death animation completed
[07:29:24] [INFO] [ReplayManager] Recording frame 3660 (60,1s): player_valid=True, enemies=10
[07:29:24] [INFO] [GrenadeBase] CCD enabled (mode: CAST_RAY) to prevent wall tunneling
[07:29:24] [INFO] [GrenadeBase] Grenade created at (1405.223, 1415.687) (frozen)
[07:29:24] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[07:29:24] [INFO] [GrenadeTimer] Initialized for Frag grenade, effect radius: 225
[07:29:24] [INFO] [GrenadeTimerHelper] Attached GrenadeTimer to FragGrenade (type: Frag)
[07:29:24] [INFO] [EnemyGrenade] Attached C# GrenadeTimer to grenade (type: Frag)
[07:29:24] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[07:29:24] [INFO] [GrenadeTimer] Timer activated! 4 seconds until explosion
[07:29:24] [INFO] [GrenadeBase] LEGACY throw_grenade() called! Direction: (0.703936, -0.710263), Speed: 1186.5 (unfrozen)
[07:29:24] [INFO] [GrenadeBase] NOTE: Using DRAG-BASED system. If velocity-based is expected, ensure grenade has throw_grenade_velocity_based() method.
[07:29:24] [INFO] [FragGrenade] Grenade thrown (legacy) - impact detection enabled
[07:29:24] [INFO] [GrenadeTimer] Grenade marked as thrown - impact detection enabled
[07:29:24] [INFO] [EnemyGrenade] Enemy grenade thrown! Target: (1833.517, 1054.671), Distance: 600
[07:29:24] [ENEMY] [Enemy9] PURSUING corner check: angle -147.7°
[07:29:24] [INFO] [GrenadeBase] Collision detected with MainHall_CornerTR (type: StaticBody2D)
[07:29:24] [INFO] [FragGrenade] Impact detected! Body: MainHall_CornerTR (type: StaticBody2D), triggering explosion
[07:29:24] [INFO] [FragGrenade] Impact detected - exploding immediately!
[07:29:24] [INFO] [GrenadeBase] EXPLODED at (1433.096, 1388.001)!
[07:29:24] [INFO] [PowerFantasy] Grenade exploded - triggering last chance time-freeze effect for 2000ms
[07:29:24] [INFO] [LastChance] Grenade explosion triggering last chance effect for 2.00 seconds
[07:29:24] [INFO] [LastChance] Starting last chance effect:
[07:29:24] [INFO] [LastChance]   - Time will be frozen (except player)
[07:29:24] [INFO] [LastChance]   - Duration: 2.00 real seconds
[07:29:24] [INFO] [LastChance]   - Trigger: grenade explosion
[07:29:24] [INFO] [LastChance]   - Sepia intensity: 0.70
[07:29:24] [INFO] [LastChance]   - Brightness: 0.60
[07:29:24] [INFO] [LastChance] Set player Player and all 25 children to PROCESS_MODE_ALWAYS
[07:29:24] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[07:29:24] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[07:29:24] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[07:29:24] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[07:29:24] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[07:29:24] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[07:29:24] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[07:29:24] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[07:29:24] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[07:29:24] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[07:29:24] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[07:29:24] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[07:29:24] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[07:29:24] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[07:29:24] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[07:29:24] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[07:29:24] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[07:29:24] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[07:29:24] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[07:29:24] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[07:29:24] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[07:29:24] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[07:29:24] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[07:29:24] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[07:29:24] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[07:29:24] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[07:29:24] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[07:29:24] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[07:29:24] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[07:29:24] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[07:29:24] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[07:29:24] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[07:29:24] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[07:29:24] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[07:29:24] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[07:29:24] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[07:29:24] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[07:29:24] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[07:29:24] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[07:29:24] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[07:29:24] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[07:29:24] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[07:29:24] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[07:29:24] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[07:29:24] [INFO] [LastChance] Skipping player node: Player
[07:29:24] [INFO] [LastChance] Froze existing bullet casing: Casing
[07:29:24] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@8523
[07:29:24] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@8532
[07:29:24] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@8575
[07:29:24] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@8661
[07:29:24] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@8724
[07:29:24] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@8751
[07:29:24] [INFO] [LastChance] Froze existing grenade: FragGrenade
[07:29:24] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[07:29:24] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[07:29:24] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[07:29:24] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1433.096, 1388.001), source=NEUTRAL (FragGrenade), range=2937, listeners=2
[07:29:24] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=1
[07:29:24] [ENEMY] [Enemy10] Hit taken, damage: 1, health: 4/4 -> 3/4
[07:29:24] [ENEMY] [Enemy10] ImpactEffectsManager found, calling spawn_blood_effect
[07:29:24] [INFO] [ImpactEffects] spawn_blood_effect called at (1377.066, 1444.098), dir=(-0.706687, 0.707526), lethal=false
[07:29:24] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[07:29:24] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[07:29:24] [INFO] [ImpactEffects] Blood effect spawned at (1377.066, 1444.098) (scale=1)
[07:29:24] [ENEMY] [Enemy10] Hit taken, damage: 1, health: 3/4 -> 2/4
[07:29:24] [ENEMY] [Enemy10] ImpactEffectsManager found, calling spawn_blood_effect
[07:29:24] [INFO] [ImpactEffects] spawn_blood_effect called at (1377.066, 1444.098), dir=(-0.706687, 0.707526), lethal=false
[07:29:24] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[07:29:24] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[07:29:24] [INFO] [ImpactEffects] Blood effect spawned at (1377.066, 1444.098) (scale=1)
[07:29:24] [ENEMY] [Enemy10] Hit taken, damage: 1, health: 2/4 -> 1/4
[07:29:24] [ENEMY] [Enemy10] ImpactEffectsManager found, calling spawn_blood_effect
[07:29:24] [INFO] [ImpactEffects] spawn_blood_effect called at (1377.066, 1444.098), dir=(-0.706687, 0.707526), lethal=false
[07:29:24] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[07:29:24] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[07:29:24] [INFO] [ImpactEffects] Blood effect spawned at (1377.066, 1444.098) (scale=1)
[07:29:24] [ENEMY] [Enemy10] Hit taken, damage: 1, health: 1/4 -> 0/4
[07:29:24] [ENEMY] [Enemy10] ImpactEffectsManager found, calling spawn_blood_effect
[07:29:24] [INFO] [ImpactEffects] spawn_blood_effect called at (1377.066, 1444.098), dir=(-0.706687, 0.707526), lethal=true
[07:29:24] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[07:29:24] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[07:29:24] [INFO] [ImpactEffects] Blood effect spawned at (1377.066, 1444.098) (scale=1.5)
[07:29:24] [ENEMY] [Enemy10] Enemy died (ricochet: false, penetration: false)
[07:29:24] [INFO] [ScoreManager] Kill registered. Combo: 3 (points: 3000)
[07:29:24] [INFO] [PowerFantasy] Enemy killed - skipping 300ms effect (LastChance time-freeze already active)
[07:29:24] [INFO] [SoundPropagation] Unregistered listener: Enemy10 (remaining: 1)
[07:29:24] [INFO] [DeathAnim] Started - Angle: 135.0 deg, Index: 20
[07:29:24] [ENEMY] [Enemy10] Death animation started with hit direction: (-0.706687, 0.707526)
[07:29:24] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 79.3
[07:29:24] [INFO] [LastChance] Freezing newly created shrapnel: Shrapnel
[07:29:24] [INFO] [LastChance] Registered frozen shrapnel: Shrapnel
[07:29:24] [INFO] [FragGrenade] Spawned shrapnel #1 at angle 14.2 degrees
[07:29:24] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@8760
[07:29:24] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@8760
[07:29:24] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 106.3 degrees
[07:29:24] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@8761
[07:29:24] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@8761
[07:29:24] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 178.0 degrees
[07:29:24] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@8762
[07:29:24] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@8762
[07:29:24] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 256.2 degrees
[07:29:24] [INFO] [ImpactEffects] Spawning explosion visual effect at (1433.096, 1388.001) (radius=225) - using shadow-based wall occlusion
[07:29:24] [INFO] [LastChance] Freezing newly created explosion effect: @PointLight2D@8763
[07:29:24] [INFO] [LastChance] Registered frozen explosion effect: @PointLight2D@8763
[07:29:24] [INFO] [GrenadeTimer] Impact detected with MainHall_CornerTR - EXPLODING!
[07:29:24] [INFO] [GrenadeTimer] EXPLODED at (1433.0963, 1388.0006)!
[07:29:24] [INFO] [GrenadeTimer] Applying frag explosion damage (radius: 225, damage: 99)
[07:29:24] [INFO] [GrenadeTimer] Damaged enemy at distance 79,3
[07:29:24] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@8764
[07:29:24] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@8764
[07:29:24] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@8765
[07:29:24] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@8765
[07:29:24] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@8766
[07:29:24] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@8766
[07:29:24] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@8767
[07:29:24] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@8767
[07:29:24] [INFO] [GrenadeTimer] Spawned 4 shrapnel pieces
[07:29:24] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1433.096, 1388.001), source=NEUTRAL (FragGrenade), range=2938, listeners=1
[07:29:24] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=1
[07:29:24] [INFO] [LastChance] Freezing newly created explosion visual effect (Node2D): ExplosionFlash
[07:29:24] [INFO] [LastChance] Registered frozen explosion visual: ExplosionFlash
[07:29:24] [INFO] [LastChance] Freezing newly created explosion effect: PointLight2D
[07:29:24] [INFO] [LastChance] Registered frozen explosion effect: PointLight2D
[07:29:24] [INFO] [GrenadeTimer] Spawned PointLight2D frag explosion flash at (1433.0963, 1388.0006) (shadow-based wall occlusion)
[07:29:24] [INFO] [BloodDecal] Blood puddle created at (1351.075, 1491.109) (added to group)
[07:29:24] [INFO] [BloodDecal] Blood puddle created at (1357.27, 1506.543) (added to group)
[07:29:24] [INFO] [BloodDecal] Blood puddle created at (1351.238, 1506.469) (added to group)
[07:29:24] [INFO] [BloodDecal] Blood puddle created at (1351.796, 1495.645) (added to group)
[07:29:24] [INFO] [BloodDecal] Blood puddle created at (1342.083, 1495.965) (added to group)
[07:29:24] [INFO] [BloodDecal] Blood puddle created at (1311.052, 1527.752) (added to group)
[07:29:24] [INFO] [BloodDecal] Blood puddle created at (1330.727, 1543.733) (added to group)
[07:29:24] [INFO] [BloodDecal] Blood puddle created at (1344.771, 1508.582) (added to group)
[07:29:24] [INFO] [BloodDecal] Blood puddle created at (1339.337, 1491.953) (added to group)
[07:29:24] [INFO] [BloodDecal] Blood puddle created at (1308.727, 1523.868) (added to group)
[07:29:24] [INFO] [BloodDecal] Blood puddle created at (1286.096, 1529.707) (added to group)
[07:29:24] [INFO] [BloodDecal] Blood puddle created at (1338.738, 1513.467) (added to group)
[07:29:24] [INFO] [BloodDecal] Blood puddle created at (1346.931, 1551.847) (added to group)
[07:29:24] [INFO] [BloodDecal] Blood puddle created at (1324.439, 1533.441) (added to group)
[07:29:24] [INFO] [BloodDecal] Blood puddle created at (1336.921, 1568.083) (added to group)
[07:29:24] [INFO] [BloodDecal] Blood puddle created at (1323.053, 1538.863) (added to group)
[07:29:24] [INFO] [BloodDecal] Blood puddle created at (1294.927, 1519.823) (added to group)
[07:29:24] [INFO] [BloodDecal] Blood puddle created at (1260.684, 1551.127) (added to group)
[07:29:24] [INFO] [BloodDecal] Blood puddle created at (1306.378, 1594.399) (added to group)
[07:29:24] [INFO] [BloodDecal] Blood puddle created at (1292.438, 1547.802) (added to group)
[07:29:24] [INFO] [BloodDecal] Blood puddle created at (1335.382, 1544.429) (added to group)
[07:29:24] [INFO] [BloodDecal] Blood puddle created at (1318.086, 1608.923) (added to group)
[07:29:24] [INFO] [BloodDecal] Blood puddle created at (1281.263, 1547.91) (added to group)
[07:29:24] [INFO] [BloodDecal] Blood puddle created at (1253.156, 1551.606) (added to group)
[07:29:24] [INFO] [BloodDecal] Blood puddle created at (1323.641, 1592.918) (added to group)
[07:29:24] [INFO] [BloodDecal] Blood puddle created at (1294.072, 1605.868) (added to group)
[07:29:24] [INFO] [BloodDecal] Blood puddle created at (1338.148, 1547.012) (added to group)
[07:29:24] [INFO] [BloodDecal] Blood puddle created at (1311.31, 1580.858) (added to group)
[07:29:24] [INFO] [BloodDecal] Blood puddle created at (1238.15, 1540.619) (added to group)
[07:29:24] [INFO] [BloodDecal] Blood puddle created at (1304.512, 1652.749) (added to group)
[07:29:24] [INFO] [BloodDecal] Blood puddle created at (1211.58, 1556.455) (added to group)
[07:29:24] [INFO] [BloodDecal] Blood puddle created at (1257.219, 1591.183) (added to group)
[07:29:25] [INFO] [BloodDecal] Blood puddle created at (1232.557, 1600.032) (added to group)
[07:29:25] [INFO] [BloodDecal] Blood puddle created at (1227.038, 1584.928) (added to group)
[07:29:25] [INFO] [BloodDecal] Blood puddle created at (1331.312, 1651.917) (added to group)
[07:29:25] [INFO] [BloodDecal] Blood puddle created at (1269.964, 1665.12) (added to group)
[07:29:25] [INFO] [BloodDecal] Blood puddle created at (1258.717, 1562.006) (added to group)
[07:29:25] [INFO] [BloodDecal] Blood puddle created at (1273.98, 1637.472) (added to group)
[07:29:25] [INFO] [BloodDecal] Blood puddle created at (1312.616, 1601.735) (added to group)
[07:29:25] [INFO] [BloodDecal] Blood puddle created at (1240.666, 1591.958) (added to group)
[07:29:25] [INFO] [BloodDecal] Blood puddle created at (1189.765, 1592.037) (added to group)
[07:29:25] [INFO] [BloodDecal] Blood puddle created at (1300.054, 1654.242) (added to group)
[07:29:25] [INFO] [BloodDecal] Blood puddle created at (1293.103, 1590.565) (added to group)
[07:29:25] [INFO] [BloodDecal] Blood puddle created at (1233.314, 1624.558) (added to group)
[07:29:25] [INFO] [BloodDecal] Blood puddle created at (1270.711, 1601.314) (added to group)
[07:29:25] [INFO] [BloodDecal] Blood puddle created at (1316.472, 1734.916) (added to group)
[07:29:25] [INFO] [BloodDecal] Blood puddle created at (1309.877, 1728.616) (added to group)
[07:29:25] [INFO] [BloodDecal] Blood puddle created at (1302.623, 1634.532) (added to group)
[07:29:25] [INFO] [BloodDecal] Blood puddle created at (1276.252, 1703.093) (added to group)
[07:29:25] [INFO] [ReplayManager] Recording frame 3720 (61,1s): player_valid=True, enemies=10
[07:29:25] [INFO] [BloodyFeet:Player] Blood ran out - no more footprints
[07:29:26] [INFO] [ReplayManager] Recording frame 3780 (62,1s): player_valid=True, enemies=10
[07:29:26] [INFO] [LastChance] Effect duration expired after 2.00 real seconds
[07:29:26] [INFO] [LastChance] Ending last chance effect
[07:29:26] [ENEMY] [Enemy9] Memory reset: confusion=2.0s, had_target=true
[07:29:26] [ENEMY] [Enemy9] Search mode: PURSUING -> SEARCHING at (1964.735, 1158.04)
[07:29:26] [ENEMY] [Enemy9] SEARCHING started: center=(1964.735, 1158.04), radius=100, waypoints=5
[07:29:26] [INFO] [LastChance] Reset memory for 1 enemies (player teleport effect)
[07:29:26] [INFO] [LastChance] All process modes restored
[07:29:26] [INFO] [LastChance] Unfroze bullet casing: Casing
[07:29:26] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@8523
[07:29:26] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@8532
[07:29:26] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@8575
[07:29:26] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@8661
[07:29:26] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@8724
[07:29:26] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@8751
[07:29:26] [INFO] [LastChance] Unfroze shrapnel: Shrapnel
[07:29:26] [INFO] [LastChance] Unfroze shrapnel: @Area2D@8760
[07:29:26] [INFO] [LastChance] Unfroze shrapnel: @Area2D@8761
[07:29:26] [INFO] [LastChance] Unfroze shrapnel: @Area2D@8762
[07:29:26] [INFO] [LastChance] Unfroze shrapnel: @Area2D@8764
[07:29:26] [INFO] [LastChance] Unfroze shrapnel: @Area2D@8765
[07:29:26] [INFO] [LastChance] Unfroze shrapnel: @Area2D@8766
[07:29:26] [INFO] [LastChance] Unfroze shrapnel: @Area2D@8767
[07:29:26] [INFO] [LastChance] Unfroze explosion effect: @PointLight2D@8763
[07:29:26] [INFO] [LastChance] Unfroze explosion effect: PointLight2D
[07:29:26] [INFO] [LastChance] Unfroze explosion visual: ExplosionFlash
[07:29:26] [INFO] [LastChance] Starting visual effects fade-out over 400ms
[07:29:26] [ENEMY] [Enemy9] SEARCHING corner check: angle -166.2°
[07:29:26] [INFO] [LastChance] Visual effects fade-out complete
[07:29:26] [INFO] [LastChance] Restored original colors to 5 player sprites
[07:29:26] [INFO] [LastChance] Called player RefreshHealthVisual (C#)
[07:29:27] [ENEMY] [Enemy9] SEARCHING corner check: angle -166.2°
[07:29:27] [INFO] [ReplayManager] Recording frame 3840 (63,1s): player_valid=True, enemies=10
[07:29:27] [ENEMY] [Enemy9] SEARCHING corner check: angle 92.7°
[07:29:27] [ENEMY] [Enemy9] SEARCHING corner check: angle -87.5°
[07:29:27] [INFO] [BloodyFeet:Enemy9] Blood ran out - no more footprints
[07:29:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2115.294, 1475.66), source=PLAYER (SniperRifle), range=1469, listeners=1
[07:29:28] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=0
[07:29:28] [INFO] [ReplayManager] Recording frame 3900 (64,1s): player_valid=True, enemies=10
[07:29:29] [ENEMY] [Enemy9] SEARCHING corner check: angle -116.1°
[07:29:29] [INFO] [ReplayManager] Recording frame 3960 (65,1s): player_valid=True, enemies=10
[07:29:29] [INFO] [ScoreManager] Combo ended at 3. Max combo: 4
[07:29:30] [INFO] [ReplayManager] Recording frame 4020 (66,1s): player_valid=True, enemies=10
[07:29:30] [ENEMY] [Enemy9] SEARCHING corner check: angle 39.0°
[07:29:31] [INFO] [ReplayManager] Recording frame 4080 (67,1s): player_valid=True, enemies=10
[07:29:31] [ENEMY] [Enemy9] SEARCHING corner check: angle -90.0°
[07:29:32] [ENEMY] [Enemy9] SEARCHING corner check: angle -2.3°
[07:29:32] [INFO] [ReplayManager] Recording frame 4140 (68,1s): player_valid=True, enemies=10
[07:29:32] [ENEMY] [Enemy9] SEARCHING corner check: angle 90.1°
[07:29:33] [INFO] [ReplayManager] Recording frame 4200 (69,1s): player_valid=True, enemies=10
[07:29:33] [ENEMY] [Enemy9] ROT_CHANGE: P2:combat_state -> P1:visible, state=SEARCHING, target=-172.6°, current=-150.9°, player=(1461,1176), corner_timer=0.22
[07:29:33] [ENEMY] [Enemy9] SEARCHING: Player spotted! Transitioning to COMBAT
[07:29:33] [ENEMY] [Enemy9] State: SEARCHING -> COMBAT
[07:29:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1449.495, 1188.586), source=PLAYER (SniperRifle), range=1469, listeners=1
[07:29:33] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=0
[07:29:34] [ENEMY] [Enemy9] Hit taken, damage: 10, health: 4/4 -> -6/4
[07:29:34] [ENEMY] [Enemy9] ImpactEffectsManager found, calling spawn_blood_effect
[07:29:34] [INFO] [ImpactEffects] spawn_blood_effect called at (1781.876, 1236.066), dir=(1, 0), lethal=true
[07:29:34] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[07:29:34] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[07:29:34] [INFO] [ImpactEffects] Blood effect spawned at (1781.876, 1236.066) (scale=1.5)
[07:29:34] [ENEMY] [Enemy9] Enemy died (ricochet: false, penetration: false)
[07:29:34] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[07:29:34] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[07:29:34] [INFO] [PowerFantasy] Starting power fantasy effect:
[07:29:34] [INFO] [PowerFantasy]   - Time scale: 0.10
[07:29:34] [INFO] [PowerFantasy]   - Duration: 300ms
[07:29:34] [INFO] [SoundPropagation] Unregistered listener: Enemy9 (remaining: 0)
[07:29:34] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[07:29:34] [ENEMY] [Enemy9] Death animation started with hit direction: (1, 0)
[07:29:34] [INFO] [BloodDecal] Blood puddle created at (1856.213, 1262.339) (added to group)
[07:29:34] [INFO] [BloodDecal] Blood puddle created at (1832.016, 1255.992) (added to group)
[07:29:34] [INFO] [PowerFantasy] Effect duration expired after 317.00 ms
[07:29:34] [INFO] [PowerFantasy] Ending power fantasy effect
[07:29:34] [INFO] [ReplayManager] Recording frame 4260 (70,0s): player_valid=True, enemies=10
[07:29:34] [INFO] [BloodDecal] Blood puddle created at (1871.243, 1218.642) (added to group)
[07:29:34] [INFO] [BloodDecal] Blood puddle created at (1848.268, 1240.761) (added to group)
[07:29:34] [INFO] [BloodDecal] Blood puddle created at (1825.303, 1278.811) (added to group)
[07:29:34] [INFO] [BloodDecal] Blood puddle created at (1848.36, 1244.316) (added to group)
[07:29:34] [INFO] [BloodDecal] Blood puddle created at (1888.615, 1314.481) (added to group)
[07:29:34] [ENEMY] [Enemy9] Ragdoll activated
[07:29:34] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[07:29:34] [INFO] [BloodDecal] Blood puddle created at (1900.548, 1300.279) (added to group)
[07:29:34] [INFO] [BloodDecal] Blood puddle created at (1953.58, 1269.439) (added to group)
[07:29:34] [INFO] [BloodDecal] Blood puddle created at (1933.885, 1269.911) (added to group)
[07:29:34] [INFO] [BloodDecal] Blood puddle created at (1871.827, 1263.289) (added to group)
[07:29:34] [INFO] [BloodDecal] Blood puddle created at (1934.645, 1248.099) (added to group)
[07:29:34] [INFO] [BloodDecal] Blood puddle created at (1886.335, 1336.2) (added to group)
[07:29:34] [INFO] [BloodDecal] Blood puddle created at (1971.51, 1294.599) (added to group)
[07:29:34] [INFO] [BloodDecal] Blood puddle created at (1926.096, 1368.348) (added to group)
[07:29:34] [INFO] [BloodDecal] Blood puddle created at (1925.714, 1276.213) (added to group)
[07:29:34] [INFO] [BloodDecal] Blood puddle created at (1882.413, 1346.345) (added to group)
[07:29:34] [INFO] [BloodDecal] Blood puddle created at (1961.941, 1292.716) (added to group)
[07:29:34] [INFO] [BloodDecal] Blood puddle created at (1907.11, 1403.656) (added to group)
[07:29:34] [INFO] [BloodDecal] Blood puddle created at (1895.325, 1401.12) (added to group)
[07:29:35] [INFO] [ReplayManager] Recording frame 4320 (71,0s): player_valid=True, enemies=10
[07:29:35] [ENEMY] [Enemy9] Death animation completed
[07:29:36] [INFO] [ReplayManager] Recording frame 4380 (72,0s): player_valid=True, enemies=10
[07:29:37] [INFO] [ReplayManager] Recording frame 4440 (73,0s): player_valid=True, enemies=10
[07:29:37] [INFO] [BuildingLevel] Player controls disabled (level completed)
[07:29:37] [INFO] [ReplayManager] === REPLAY RECORDING STOPPED ===
[07:29:37] [INFO] [ReplayManager] Total frames recorded: 4458
[07:29:37] [INFO] [ReplayManager] Total duration: 73,32s
[07:29:37] [INFO] [ReplayManager] Impact events recorded: 0
[07:29:37] [INFO] [ReplayManager] has_replay() will return: True
[07:29:37] [INFO] [BuildingLevel] Replay recording stopped
[07:29:37] [INFO] [BuildingLevel] Replay status: has_replay=true, duration=73.32s
[07:29:37] [INFO] [ScoreManager] Combo ended at 1. Max combo: 4
[07:29:37] [INFO] [ScoreManager] Level completed! Final score: 23517, Rank: C
[07:29:49] [INFO] [BuildingLevel] Watch Replay button created (replay data available)
[07:29:51] [INFO] [BuildingLevel] Watch Replay triggered
[07:29:51] [INFO] [ReplayManager] Added weapon sprite to ghost player: res://assets/sprites/weapons/asvk_topdown.png
[07:29:51] [INFO] [ReplayManager] Ghost player Camera2D activated for replay
[07:29:51] [INFO] [ReplayManager] Hidden CanvasLayer (score screen) for replay visibility
[07:29:51] [INFO] [ReplayManager] Ghost filter overlay created
[07:29:51] [INFO] [ReplayManager] Started replay playback. Frames: 4458, Duration: 73,32s, Mode: Ghost
[07:29:52] [INFO] [ReplayManager] Replay mode changed to: Memory
[07:29:52] [INFO] [ReplayManager] Memory mode: CinemaEffects enabled
[07:29:54] [INFO] [ReplayManager] Playback speed set to 2,00x
[07:29:58] [INFO] [ReplayManager] Playback speed set to 4,00x
[07:29:58] [INFO] [ReplayManager] Playback speed set to 2,00x
[07:29:59] [INFO] [ReplayManager] Playback speed set to 2,00x
[07:29:59] [INFO] [ReplayManager] Playback speed set to 2,00x
[07:30:00] [INFO] [ReplayManager] Playback speed set to 2,00x
[07:30:00] [INFO] [ReplayManager] Playback speed set to 2,00x
[07:30:01] [INFO] [ReplayManager] Playback speed set to 2,00x
[07:30:04] [INFO] [ReplayManager] Replay mode changed to: Ghost
[07:30:04] [INFO] [ReplayManager] Ghost filter overlay created
[07:30:04] [INFO] [ReplayManager] Replay mode changed to: Memory
[07:30:04] [INFO] [ReplayManager] Memory mode: CinemaEffects enabled
[07:30:31] [INFO] [ReplayManager] Exit replay pressed — returning to results screen
[07:30:31] [INFO] [ReplayManager] Score screen CanvasLayer re-shown
[07:30:31] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[07:30:32] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[07:30:32] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:30:32] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[07:30:32] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[07:30:32] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[07:30:32] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[07:30:32] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[07:30:32] [INFO] [LastChance] Resetting all effects (scene change detected)
[07:30:32] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[07:30:32] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[07:30:32] [ENEMY] [Enemy1] Death animation component initialized
[07:30:32] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:30:32] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[07:30:32] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[07:30:32] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[07:30:32] [ENEMY] [Enemy2] Death animation component initialized
[07:30:32] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:30:32] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[07:30:32] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[07:30:32] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[07:30:32] [ENEMY] [Enemy3] Death animation component initialized
[07:30:32] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:30:32] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[07:30:32] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[07:30:32] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[07:30:32] [ENEMY] [Enemy4] Death animation component initialized
[07:30:32] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:30:32] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[07:30:32] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[07:30:32] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[07:30:32] [ENEMY] [Enemy5] Death animation component initialized
[07:30:32] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:30:32] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[07:30:32] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[07:30:32] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[07:30:32] [ENEMY] [Enemy6] Death animation component initialized
[07:30:32] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:30:32] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[07:30:32] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[07:30:32] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[07:30:32] [ENEMY] [Enemy7] Death animation component initialized
[07:30:32] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:30:32] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[07:30:32] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[07:30:32] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[07:30:32] [ENEMY] [Enemy8] Death animation component initialized
[07:30:32] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:30:32] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[07:30:32] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[07:30:32] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[07:30:32] [ENEMY] [Enemy9] Death animation component initialized
[07:30:32] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:30:32] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[07:30:32] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[07:30:32] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[07:30:32] [ENEMY] [Enemy10] Death animation component initialized
[07:30:32] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:30:32] [INFO] [BloodyFeet:Player] Footprint scene loaded
[07:30:32] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[07:30:32] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[07:30:32] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[07:30:32] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[07:30:32] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[07:30:32] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[07:30:32] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[07:30:32] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[07:30:32] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[07:30:32] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[07:30:32] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 10/10
[07:30:32] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[07:30:32] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[07:30:32] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[07:30:32] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[07:30:32] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[07:30:32] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[07:30:32] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[07:30:32] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[07:30:32] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[07:30:32] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[07:30:32] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[07:30:32] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[07:30:32] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[07:30:32] [INFO] [ScoreManager] Level started with 10 enemies
[07:30:32] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[07:30:32] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[07:30:32] [INFO] [ReplayManager] Replay data cleared
[07:30:32] [INFO] [BuildingLevel] Previous replay data cleared
[07:30:32] [INFO] [ReplayManager] Detected player weapon: Sniper Rifle (ASVK)
[07:30:32] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[07:30:32] [INFO] [ReplayManager] Level: BuildingLevel
[07:30:32] [INFO] [ReplayManager] Player: Player (valid: True)
[07:30:32] [INFO] [ReplayManager] Enemies count: 10
[07:30:32] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/asvk_topdown.png
[07:30:32] [INFO] [ReplayManager]   Enemy 0: Enemy1
[07:30:32] [INFO] [ReplayManager]   Enemy 1: Enemy2
[07:30:32] [INFO] [ReplayManager]   Enemy 2: Enemy3
[07:30:32] [INFO] [ReplayManager]   Enemy 3: Enemy4
[07:30:32] [INFO] [ReplayManager]   Enemy 4: Enemy5
[07:30:32] [INFO] [ReplayManager]   Enemy 5: Enemy6
[07:30:32] [INFO] [ReplayManager]   Enemy 6: Enemy7
[07:30:32] [INFO] [ReplayManager]   Enemy 7: Enemy8
[07:30:32] [INFO] [ReplayManager]   Enemy 8: Enemy9
[07:30:32] [INFO] [ReplayManager]   Enemy 9: Enemy10
[07:30:32] [INFO] [BuildingLevel] Replay recording started successfully
[07:30:32] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[07:30:32] [INFO] [CinemaEffects] Found player node: Player
[07:30:32] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[07:30:32] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 1)
[07:30:32] [ENEMY] [Enemy1] Registered as sound listener
[07:30:32] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 4, behavior: GUARD
[07:30:32] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[07:30:32] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 2)
[07:30:32] [ENEMY] [Enemy2] Registered as sound listener
[07:30:32] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 4, behavior: GUARD
[07:30:32] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[07:30:32] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 3)
[07:30:32] [ENEMY] [Enemy3] Registered as sound listener
[07:30:32] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 4, behavior: GUARD
[07:30:32] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[07:30:32] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 4)
[07:30:32] [ENEMY] [Enemy4] Registered as sound listener
[07:30:32] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 3, behavior: GUARD
[07:30:32] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[07:30:32] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 5)
[07:30:32] [ENEMY] [Enemy5] Registered as sound listener
[07:30:32] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 4, behavior: GUARD
[07:30:32] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[07:30:32] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 6)
[07:30:32] [ENEMY] [Enemy6] Registered as sound listener
[07:30:32] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 3, behavior: GUARD
[07:30:32] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[07:30:32] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 7)
[07:30:32] [ENEMY] [Enemy7] Registered as sound listener
[07:30:32] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 4, behavior: PATROL
[07:30:32] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[07:30:32] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 8)
[07:30:32] [ENEMY] [Enemy8] Registered as sound listener
[07:30:32] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 3, behavior: GUARD
[07:30:32] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[07:30:32] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 9)
[07:30:32] [ENEMY] [Enemy9] Registered as sound listener
[07:30:32] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 3, behavior: GUARD
[07:30:32] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[07:30:32] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 10)
[07:30:32] [ENEMY] [Enemy10] Registered as sound listener
[07:30:32] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 3, behavior: PATROL
[07:30:32] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[07:30:32] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[07:30:32] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[07:30:32] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[07:30:32] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[07:30:32] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[07:30:32] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[07:30:32] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=225.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[07:30:32] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[07:30:32] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[07:30:32] [INFO] [Player] Detecting weapon pose (frame 3)...
[07:30:32] [INFO] [Player] Detected weapon: Rifle (default pose)
[07:30:32] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[07:30:32] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[07:30:32] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[07:30:32] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[07:30:32] [INFO] [LastChance] Found player: Player
[07:30:32] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[07:30:32] [INFO] [LastChance] Connected to player Damaged signal (C#)
[07:30:32] [INFO] [LastChance] Connected to player Died signal (C#)
[07:30:32] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[07:30:33] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[07:30:34] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[07:30:35] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=10
[07:30:36] [INFO] [ReplayManager] Recording frame 240 (4,0s): player_valid=True, enemies=10
[07:30:37] [INFO] [ReplayManager] Recording frame 300 (5,0s): player_valid=True, enemies=10
[07:30:38] [INFO] [ReplayManager] Recording frame 360 (6,0s): player_valid=True, enemies=10
[07:30:39] [INFO] [ReplayManager] Recording frame 420 (7,0s): player_valid=True, enemies=10
[07:30:40] [INFO] [ReplayManager] Recording frame 480 (8,0s): player_valid=True, enemies=10
[07:30:41] [INFO] [ReplayManager] Recording frame 540 (9,0s): player_valid=True, enemies=10
[07:30:42] [INFO] [ReplayManager] Recording frame 600 (10,0s): player_valid=True, enemies=10
[07:30:43] [INFO] [ReplayManager] Recording frame 660 (11,0s): player_valid=True, enemies=10
[07:30:44] [INFO] [ReplayManager] Recording frame 720 (12,0s): player_valid=True, enemies=10
[07:30:45] [INFO] [ReplayManager] Recording frame 780 (13,0s): player_valid=True, enemies=10
[07:30:46] [INFO] [ReplayManager] Recording frame 840 (14,0s): player_valid=True, enemies=10
[07:30:47] [INFO] [ReplayManager] Recording frame 900 (15,0s): player_valid=True, enemies=10
[07:30:48] [INFO] [ReplayManager] Recording frame 960 (16,0s): player_valid=True, enemies=10
[07:30:49] [INFO] [ReplayManager] Recording frame 1020 (17,0s): player_valid=True, enemies=10
[07:30:50] [INFO] [ReplayManager] Recording frame 1080 (18,0s): player_valid=True, enemies=10
[07:30:51] [INFO] [ReplayManager] Recording frame 1140 (19,0s): player_valid=True, enemies=10
[07:30:52] [INFO] [ReplayManager] Recording frame 1200 (20,0s): player_valid=True, enemies=10
[07:30:53] [INFO] [ReplayManager] Recording frame 1260 (21,0s): player_valid=True, enemies=10
[07:30:54] [INFO] [ReplayManager] Recording frame 1320 (22,0s): player_valid=True, enemies=10
[07:30:55] [INFO] [PauseMenu] Armory button pressed
[07:30:55] [INFO] [PauseMenu] Creating new armory menu instance
[07:30:55] [INFO] [PauseMenu] armory_menu_scene resource path: res://scenes/ui/ArmoryMenu.tscn
[07:30:55] [INFO] [PauseMenu] Instance created, class: CanvasLayer, name: ArmoryMenu
[07:30:55] [INFO] [PauseMenu] Script attached: res://scripts/ui/armory_menu.gd
[07:30:55] [INFO] [PauseMenu] back_pressed signal exists on instance
[07:30:55] [INFO] [PauseMenu] back_pressed signal connected
[07:30:55] [INFO] [PauseMenu] Armory menu instance added as child, is_inside_tree: true
[07:30:55] [INFO] [PauseMenu] _populate_weapon_grid method exists
[07:30:55] [INFO] [ReplayManager] Recording frame 1380 (23,0s): player_valid=True, enemies=10
[07:30:56] [INFO] [ReplayManager] Recording frame 1440 (24,0s): player_valid=True, enemies=10
[07:30:56] [INFO] [GrenadeManager] Grenade type changed from Frag Grenade to F-1 Grenade
[07:30:56] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[07:30:56] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:30:56] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[07:30:56] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[07:30:56] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[07:30:56] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[07:30:56] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[07:30:56] [INFO] [LastChance] Resetting all effects (scene change detected)
[07:30:56] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[07:30:56] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[07:30:56] [INFO] [EnemyGrenade] Initialized: 1 grenades
[07:30:56] [ENEMY] [Enemy1] Death animation component initialized
[07:30:56] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:30:56] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[07:30:56] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[07:30:56] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[07:30:56] [ENEMY] [Enemy2] Death animation component initialized
[07:30:56] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:30:56] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[07:30:56] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[07:30:56] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[07:30:56] [ENEMY] [Enemy3] Death animation component initialized
[07:30:56] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:30:56] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[07:30:56] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[07:30:56] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[07:30:56] [ENEMY] [Enemy4] Death animation component initialized
[07:30:56] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:30:56] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[07:30:56] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[07:30:56] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[07:30:56] [ENEMY] [Enemy5] Death animation component initialized
[07:30:56] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:30:56] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[07:30:56] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[07:30:56] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[07:30:56] [ENEMY] [Enemy6] Death animation component initialized
[07:30:56] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:30:56] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[07:30:56] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[07:30:56] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[07:30:56] [ENEMY] [Enemy7] Death animation component initialized
[07:30:56] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:30:56] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[07:30:56] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[07:30:56] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[07:30:56] [ENEMY] [Enemy8] Death animation component initialized
[07:30:56] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:30:56] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[07:30:56] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[07:30:56] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[07:30:56] [ENEMY] [Enemy9] Death animation component initialized
[07:30:56] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:30:56] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[07:30:56] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[07:30:56] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[07:30:56] [ENEMY] [Enemy10] Death animation component initialized
[07:30:56] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:30:56] [INFO] [BloodyFeet:Player] Footprint scene loaded
[07:30:56] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[07:30:56] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[07:30:56] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: F-1 Grenade
[07:30:56] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[07:30:56] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[07:30:56] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[07:30:56] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[07:30:56] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[07:30:56] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[07:30:56] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[07:30:56] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 10/10
[07:30:56] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[07:30:56] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[07:30:56] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[07:30:56] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[07:30:56] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[07:30:56] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[07:30:56] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[07:30:56] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[07:30:56] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[07:30:56] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[07:30:56] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[07:30:56] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[07:30:56] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[07:30:56] [INFO] [ScoreManager] Level started with 10 enemies
[07:30:56] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[07:30:56] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[07:30:56] [INFO] [ReplayManager] Replay data cleared
[07:30:56] [INFO] [BuildingLevel] Previous replay data cleared
[07:30:56] [INFO] [ReplayManager] Detected player weapon: Sniper Rifle (ASVK)
[07:30:56] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[07:30:56] [INFO] [ReplayManager] Level: BuildingLevel
[07:30:56] [INFO] [ReplayManager] Player: Player (valid: True)
[07:30:56] [INFO] [ReplayManager] Enemies count: 10
[07:30:56] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/asvk_topdown.png
[07:30:56] [INFO] [ReplayManager]   Enemy 0: Enemy1
[07:30:56] [INFO] [ReplayManager]   Enemy 1: Enemy2
[07:30:56] [INFO] [ReplayManager]   Enemy 2: Enemy3
[07:30:56] [INFO] [ReplayManager]   Enemy 3: Enemy4
[07:30:56] [INFO] [ReplayManager]   Enemy 4: Enemy5
[07:30:56] [INFO] [ReplayManager]   Enemy 5: Enemy6
[07:30:56] [INFO] [ReplayManager]   Enemy 6: Enemy7
[07:30:56] [INFO] [ReplayManager]   Enemy 7: Enemy8
[07:30:56] [INFO] [ReplayManager]   Enemy 8: Enemy9
[07:30:56] [INFO] [ReplayManager]   Enemy 9: Enemy10
[07:30:56] [INFO] [BuildingLevel] Replay recording started successfully
[07:30:56] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[07:30:56] [INFO] [CinemaEffects] Found player node: Player
[07:30:56] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[07:30:56] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[07:30:56] [ENEMY] [Enemy1] Registered as sound listener
[07:30:56] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 3, behavior: GUARD
[07:30:56] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[07:30:56] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[07:30:56] [ENEMY] [Enemy2] Registered as sound listener
[07:30:56] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 2, behavior: GUARD
[07:30:56] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[07:30:56] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[07:30:56] [ENEMY] [Enemy3] Registered as sound listener
[07:30:56] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 4, behavior: GUARD
[07:30:56] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[07:30:56] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[07:30:56] [ENEMY] [Enemy4] Registered as sound listener
[07:30:56] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 3, behavior: GUARD
[07:30:56] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[07:30:56] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[07:30:56] [ENEMY] [Enemy5] Registered as sound listener
[07:30:56] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 2, behavior: GUARD
[07:30:56] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[07:30:56] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[07:30:56] [ENEMY] [Enemy6] Registered as sound listener
[07:30:56] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 3, behavior: GUARD
[07:30:56] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[07:30:56] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[07:30:56] [ENEMY] [Enemy7] Registered as sound listener
[07:30:56] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 2, behavior: PATROL
[07:30:56] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[07:30:56] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[07:30:56] [ENEMY] [Enemy8] Registered as sound listener
[07:30:56] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 2, behavior: GUARD
[07:30:56] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[07:30:56] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[07:30:56] [ENEMY] [Enemy9] Registered as sound listener
[07:30:56] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 4, behavior: GUARD
[07:30:56] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[07:30:56] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[07:30:56] [ENEMY] [Enemy10] Registered as sound listener
[07:30:56] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 3, behavior: PATROL
[07:30:56] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[07:30:56] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[07:30:56] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[07:30:56] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[07:30:56] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[07:30:56] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[07:30:56] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[07:30:56] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[07:30:56] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=123.7°, current=0.0°, player=(450,1250), corner_timer=0.00
[07:30:56] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[07:30:56] [INFO] [Player] Detecting weapon pose (frame 3)...
[07:30:56] [INFO] [Player] Detected weapon: Rifle (default pose)
[07:30:56] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[07:30:56] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[07:30:56] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[07:30:56] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[07:30:56] [INFO] [LastChance] Found player: Player
[07:30:56] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[07:30:56] [INFO] [LastChance] Connected to player Damaged signal (C#)
[07:30:56] [INFO] [LastChance] Connected to player Died signal (C#)
[07:30:56] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[07:30:57] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[07:30:57] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[07:30:57] [INFO] [Player.Grenade] G pressed - starting grab animation
[07:30:57] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[07:30:57] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (612.2022, 1425.2866)
[07:30:57] [INFO] [GrenadeBase] CCD enabled (mode: CAST_RAY) to prevent wall tunneling
[07:30:57] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[07:30:57] [INFO] [DefensiveGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[07:30:57] [INFO] [GrenadeTimer] Initialized for Flashbang grenade, effect radius: 700
[07:30:57] [INFO] [Player.Grenade] Added GrenadeTimer component (type: Flashbang)
[07:30:57] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[07:30:57] [INFO] [GrenadeTimer] Timer activated! 4 seconds until explosion
[07:30:57] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1182.6666)
[07:30:57] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[07:30:57] [INFO] [Player.Grenade] Step 1 complete! Drag: (352.53668, 27.713013)
[07:30:57] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[07:30:57] [INFO] [Player.Grenade.Simple] RMB pressed after pin pull - starting trajectory aiming
[07:30:57] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[07:30:58] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[07:30:58] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[07:30:58] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,921), corner_timer=0.30
[07:30:58] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,921), corner_timer=0.30
[07:30:58] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(450,921), corner_timer=-0.02
[07:30:58] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[07:30:58] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(450,921), corner_timer=-0.02
[07:30:58] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[07:30:58] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(450,921), corner_timer=0.30
[07:30:58] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(450,921), corner_timer=0.30
[07:30:58] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[07:30:59] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(426,918), corner_timer=-0.02
[07:30:59] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[07:30:59] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(423,917), corner_timer=0.30
[07:30:59] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(351,850), corner_timer=-0.02
[07:30:59] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[07:30:59] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=164.6°, current=-168.8°, player=(348,847), corner_timer=0.00
[07:30:59] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[07:30:59] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.6°, player=(348,847), corner_timer=0.30
[07:30:59] [ENEMY] [Enemy4] Memory: high confidence (0.90) - transitioning to PURSUING
[07:30:59] [ENEMY] [Enemy4] State: IDLE -> PURSUING
[07:30:59] [ENEMY] [Enemy2] Memory: high confidence (0.90) - transitioning to PURSUING
[07:30:59] [ENEMY] [Enemy2] State: IDLE -> PURSUING
[07:30:59] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=165.8°, current=-9.3°, player=(341,840), corner_timer=0.00
[07:30:59] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=-172.6°, current=168.8°, player=(341,840), corner_timer=0.00
[07:30:59] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=102.0°, current=-101.3°, player=(338,837), corner_timer=0.00
[07:30:59] [ENEMY] [Enemy2] PURSUING corner check: angle 180.0°
[07:30:59] [ENEMY] [Enemy4] PURSUING corner check: angle -100.7°
[07:30:59] [INFO] [Player.Grenade.Simple] Throwing! Target: (760.9182, 628.8772), Distance: 488,1, Speed: 541,1, Friction: 300,0
[07:30:59] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,4038457
[07:30:59] [INFO] [GrenadeTimer] Grenade marked as thrown - impact detection enabled
[07:30:59] [INFO] [Player.Grenade.Simple] C# set velocity directly: dir=(0.9195566, -0.3929576), speed=541,1, spawn=(374.02393, 794.2102)
[07:30:59] [INFO] [GrenadeBase] Simple mode throw! Dir: (0.919557, -0.392958), Speed: 541.1 (clamped from 541.1, max: 1000.0)
[07:30:59] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[07:30:59] [INFO] [Player.Grenade.Simple] Grenade thrown!
[07:30:59] [INFO] [Player.Grenade] State reset to IDLE
[07:30:59] [INFO] [Player.Grenade] State reset to IDLE
[07:30:59] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[07:30:59] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(318,817), corner_timer=-0.02
[07:30:59] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[07:30:59] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.8°, current=6.3°, player=(318,818), corner_timer=0.30
[07:30:59] [ENEMY] [Enemy2] GRENADE DANGER: Entering EVADING_GRENADE state from PURSUING
[07:30:59] [ENEMY] [Enemy2] EVADING_GRENADE started: escaping to (-27.51642, 668.2756)
[07:30:59] [INFO] [Player.Grenade] Player rotation restored to 0
[07:30:59] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P3:corner, state=EVADING_GRENADE, target=180.0°, current=54.9°, player=(318,819), corner_timer=0.03
[07:30:59] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=10
[07:30:59] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[07:30:59] [ENEMY] [Enemy4] PURSUING corner check: angle -94.0°
[07:31:00] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[07:31:00] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.8°, player=(346,868), corner_timer=-0.02
[07:31:00] [ENEMY] [Enemy10] PATROL corner check: angle 0.9°
[07:31:00] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=0.9°, current=4.6°, player=(350,872), corner_timer=0.30
[07:31:00] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:31:00] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=-130.1°, player=(471,993), corner_timer=-0.02
[07:31:00] [ENEMY] [Enemy7] PATROL corner check: angle 90.0°
[07:31:00] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=-133.0°, player=(475,997), corner_timer=0.30
[07:31:00] [INFO] [GrenadeTimer] Flashbang grenade landed at (640.0875, 680.512)
[07:31:00] [INFO] [SoundPropagation] Sound emitted: type=GRENADE_LANDING, pos=(640.0875, 680.512), source=NEUTRAL (DefensiveGrenade), range=112, listeners=20
[07:31:00] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[07:31:00] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=10, self=0, below_threshold=0
[07:31:00] [INFO] [GrenadeTimer] Emitted grenade landing sound at (640.0875, 680.512)
[07:31:00] [INFO] [SoundPropagation] Sound emitted: type=GRENADE_LANDING, pos=(640.8163, 680.2006), source=NEUTRAL (DefensiveGrenade), range=112, listeners=10
[07:31:00] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=10, self=0, below_threshold=0
[07:31:00] [INFO] [GrenadeBase] Grenade landed at (640.8163, 680.2006)
[07:31:00] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:31:00] [INFO] [ReplayManager] Recording frame 240 (4,0s): player_valid=True, enemies=10
[07:31:00] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=179.1°, current=172.4°, player=(483,1025), corner_timer=-0.02
[07:31:00] [ENEMY] [Enemy7] PATROL corner check: angle 89.8°
[07:31:00] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.8°, current=175.3°, player=(483,1025), corner_timer=0.30
[07:31:01] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:31:01] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=178.4°, current=120.7°, player=(483,1025), corner_timer=-0.02
[07:31:01] [ENEMY] [Enemy7] PATROL corner check: angle 89.7°
[07:31:01] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.7°, current=123.6°, player=(483,1025), corner_timer=0.30
[07:31:01] [INFO] [GrenadeBase] EXPLODED at (642.2061, 679.6067)!
[07:31:01] [INFO] [PowerFantasy] Grenade exploded - triggering last chance time-freeze effect for 2000ms
[07:31:01] [INFO] [LastChance] Grenade explosion triggering last chance effect for 2.00 seconds
[07:31:01] [INFO] [LastChance] Starting last chance effect:
[07:31:01] [INFO] [LastChance]   - Time will be frozen (except player)
[07:31:01] [INFO] [LastChance]   - Duration: 2.00 real seconds
[07:31:01] [INFO] [LastChance]   - Trigger: grenade explosion
[07:31:01] [INFO] [LastChance]   - Sepia intensity: 0.70
[07:31:01] [INFO] [LastChance]   - Brightness: 0.60
[07:31:01] [INFO] [LastChance] Set player Player and all 25 children to PROCESS_MODE_ALWAYS
[07:31:01] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[07:31:01] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[07:31:01] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[07:31:01] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[07:31:01] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[07:31:01] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[07:31:01] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[07:31:01] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[07:31:01] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[07:31:01] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[07:31:01] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[07:31:01] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[07:31:01] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[07:31:01] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[07:31:01] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[07:31:01] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[07:31:01] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[07:31:01] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[07:31:01] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[07:31:01] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[07:31:01] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[07:31:01] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[07:31:01] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[07:31:01] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[07:31:01] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[07:31:01] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[07:31:01] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[07:31:01] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[07:31:01] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[07:31:01] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[07:31:01] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[07:31:01] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[07:31:01] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[07:31:01] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[07:31:01] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[07:31:01] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[07:31:01] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[07:31:01] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[07:31:01] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[07:31:01] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[07:31:01] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[07:31:01] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[07:31:01] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[07:31:01] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[07:31:01] [INFO] [LastChance] Skipping player node: Player
[07:31:01] [INFO] [LastChance] Froze existing grenade: DefensiveGrenade
[07:31:01] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[07:31:01] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[07:31:01] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[07:31:01] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(642.2061, 679.6067), source=NEUTRAL (DefensiveGrenade), range=2937, listeners=10
[07:31:01] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=0, below_threshold=7
[07:31:01] [ENEMY] [Enemy2] Hit taken, damage: 1, health: 2/2 -> 1/2
[07:31:01] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[07:31:01] [INFO] [ImpactEffects] spawn_blood_effect called at (88.06705, 667.1329), dir=(-0.999747, -0.022505), lethal=false
[07:31:01] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[07:31:01] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[07:31:01] [INFO] [ImpactEffects] Wall found for blood splatter at (64, 666.5911) (dist=24 px)
[07:31:01] [INFO] [BloodDecal] Blood puddle created at (65, 666.5911) (added to group)
[07:31:01] [INFO] [ImpactEffects] Blood effect spawned at (88.06705, 667.1329) (scale=1)
[07:31:01] [ENEMY] [Enemy2] Hit taken, damage: 1, health: 1/2 -> 0/2
[07:31:01] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[07:31:01] [INFO] [ImpactEffects] spawn_blood_effect called at (88.06705, 667.1329), dir=(-0.999747, -0.022505), lethal=true
[07:31:01] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[07:31:01] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[07:31:01] [INFO] [ImpactEffects] Wall found for blood splatter at (64, 666.5911) (dist=24 px)
[07:31:01] [INFO] [BloodDecal] Blood puddle created at (65, 666.5911) (added to group)
[07:31:01] [INFO] [ImpactEffects] Blood effect spawned at (88.06705, 667.1329) (scale=1.5)
[07:31:01] [ENEMY] [Enemy2] Enemy died (ricochet: false, penetration: false)
[07:31:01] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[07:31:01] [INFO] [PowerFantasy] Enemy killed - skipping 300ms effect (LastChance time-freeze already active)
[07:31:01] [ENEMY] [Enemy2] [AllyDeath] Notified 2 enemies
[07:31:01] [INFO] [SoundPropagation] Unregistered listener: Enemy2 (remaining: 9)
[07:31:01] [INFO] [DeathAnim] Started - Angle: -178.7 deg, Index: 0
[07:31:01] [ENEMY] [Enemy2] Death animation started with hit direction: (-0.999747, -0.022505)
[07:31:01] [INFO] [DefensiveGrenade] Applied 99 HE damage to enemy at distance 554.3
[07:31:01] [ENEMY] [Enemy3] Hit taken, damage: 1, health: 4/4 -> 3/4
[07:31:01] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[07:31:01] [INFO] [ImpactEffects] spawn_blood_effect called at (553.5377, 778.8911), dir=(-0.666107, 0.745857), lethal=false
[07:31:01] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[07:31:01] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[07:31:01] [INFO] [ImpactEffects] Wall found for blood splatter at (524, 811.9651) (dist=44 px)
[07:31:01] [INFO] [BloodDecal] Blood puddle created at (525, 811.9651) (added to group)
[07:31:01] [INFO] [ImpactEffects] Blood effect spawned at (553.5377, 778.8911) (scale=1)
[07:31:01] [ENEMY] [Enemy3] Hit taken, damage: 1, health: 3/4 -> 2/4
[07:31:01] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[07:31:01] [INFO] [ImpactEffects] spawn_blood_effect called at (553.5377, 778.8911), dir=(-0.666107, 0.745857), lethal=false
[07:31:01] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[07:31:01] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[07:31:01] [INFO] [ImpactEffects] Wall found for blood splatter at (524, 811.9651) (dist=44 px)
[07:31:01] [INFO] [BloodDecal] Blood puddle created at (525, 811.9651) (added to group)
[07:31:01] [INFO] [ImpactEffects] Blood effect spawned at (553.5377, 778.8911) (scale=1)
[07:31:01] [ENEMY] [Enemy3] Hit taken, damage: 1, health: 2/4 -> 1/4
[07:31:01] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[07:31:01] [INFO] [ImpactEffects] spawn_blood_effect called at (553.5377, 778.8911), dir=(-0.666107, 0.745857), lethal=false
[07:31:01] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[07:31:01] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[07:31:01] [INFO] [ImpactEffects] Wall found for blood splatter at (524, 811.9651) (dist=44 px)
[07:31:01] [INFO] [BloodDecal] Blood puddle created at (525, 811.9651) (added to group)
[07:31:01] [INFO] [ImpactEffects] Blood effect spawned at (553.5377, 778.8911) (scale=1)
[07:31:01] [ENEMY] [Enemy3] Hit taken, damage: 1, health: 1/4 -> 0/4
[07:31:01] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[07:31:01] [INFO] [ImpactEffects] spawn_blood_effect called at (553.5377, 778.8911), dir=(-0.666107, 0.745857), lethal=true
[07:31:01] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[07:31:01] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[07:31:01] [INFO] [ImpactEffects] Wall found for blood splatter at (524, 811.9651) (dist=44 px)
[07:31:01] [INFO] [BloodDecal] Blood puddle created at (525, 811.9651) (added to group)
[07:31:01] [INFO] [ImpactEffects] Blood effect spawned at (553.5377, 778.8911) (scale=1.5)
[07:31:01] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[07:31:01] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[07:31:01] [INFO] [PowerFantasy] Enemy killed - skipping 300ms effect (LastChance time-freeze already active)
[07:31:01] [ENEMY] [Enemy3] [AllyDeath] Notified 2 enemies
[07:31:01] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 8)
[07:31:01] [INFO] [DeathAnim] Started - Angle: 131.8 deg, Index: 20
[07:31:01] [ENEMY] [Enemy3] Death animation started with hit direction: (-0.666107, 0.745857)
[07:31:01] [INFO] [DefensiveGrenade] Applied 99 HE damage to enemy at distance 133.1
[07:31:01] [ENEMY] [Enemy4] Hit taken, damage: 1, health: 3/3 -> 2/3
[07:31:01] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[07:31:01] [INFO] [ImpactEffects] spawn_blood_effect called at (565.3544, 899.5032), dir=(-0.329922, 0.944008), lethal=false
[07:31:01] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[07:31:01] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[07:31:01] [INFO] [ImpactEffects] Blood effect spawned at (565.3544, 899.5032) (scale=1)
[07:31:01] [ENEMY] [Enemy4] Hit taken, damage: 1, health: 2/3 -> 1/3
[07:31:01] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[07:31:01] [INFO] [ImpactEffects] spawn_blood_effect called at (565.3544, 899.5032), dir=(-0.329922, 0.944008), lethal=false
[07:31:01] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[07:31:01] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[07:31:01] [INFO] [ImpactEffects] Blood effect spawned at (565.3544, 899.5032) (scale=1)
[07:31:01] [ENEMY] [Enemy4] Hit taken, damage: 1, health: 1/3 -> 0/3
[07:31:01] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[07:31:01] [INFO] [ImpactEffects] spawn_blood_effect called at (565.3544, 899.5032), dir=(-0.329922, 0.944008), lethal=true
[07:31:01] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[07:31:01] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[07:31:01] [INFO] [ImpactEffects] Blood effect spawned at (565.3544, 899.5032) (scale=1.5)
[07:31:01] [ENEMY] [Enemy4] Enemy died (ricochet: false, penetration: false)
[07:31:01] [INFO] [ScoreManager] Kill registered. Combo: 3 (points: 3000)
[07:31:01] [INFO] [PowerFantasy] Enemy killed - skipping 300ms effect (LastChance time-freeze already active)
[07:31:01] [INFO] [SoundPropagation] Unregistered listener: Enemy4 (remaining: 7)
[07:31:01] [INFO] [DeathAnim] Started - Angle: 109.3 deg, Index: 19
[07:31:01] [ENEMY] [Enemy4] Death animation started with hit direction: (-0.329922, 0.944008)
[07:31:01] [INFO] [DefensiveGrenade] Applied 99 HE damage to enemy at distance 232.9
[07:31:01] [INFO] [LastChance] Freezing newly created shrapnel: Shrapnel
[07:31:01] [INFO] [LastChance] Registered frozen shrapnel: Shrapnel
[07:31:01] [INFO] [DefensiveGrenade] Spawned shrapnel #1 at angle 6.9 degrees
[07:31:01] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@65991
[07:31:01] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@65991
[07:31:01] [INFO] [DefensiveGrenade] Spawned shrapnel #2 at angle -5.8 degrees
[07:31:01] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@65992
[07:31:01] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@65992
[07:31:01] [INFO] [DefensiveGrenade] Spawned shrapnel #3 at angle 7.5 degrees
[07:31:01] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@65993
[07:31:01] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@65993
[07:31:01] [INFO] [DefensiveGrenade] Spawned shrapnel #4 at angle 28.2 degrees
[07:31:01] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@65994
[07:31:01] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@65994
[07:31:01] [INFO] [DefensiveGrenade] Spawned shrapnel #5 at angle 43.4 degrees
[07:31:01] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@65995
[07:31:01] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@65995
[07:31:01] [INFO] [DefensiveGrenade] Spawned shrapnel #6 at angle 43.9 degrees
[07:31:01] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@65996
[07:31:01] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@65996
[07:31:01] [INFO] [DefensiveGrenade] Spawned shrapnel #7 at angle 40.9 degrees
[07:31:01] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@65997
[07:31:01] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@65997
[07:31:01] [INFO] [DefensiveGrenade] Spawned shrapnel #8 at angle 66.2 degrees
[07:31:01] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@65998
[07:31:01] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@65998
[07:31:01] [INFO] [DefensiveGrenade] Spawned shrapnel #9 at angle 58.7 degrees
[07:31:01] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@65999
[07:31:01] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@65999
[07:31:01] [INFO] [DefensiveGrenade] Spawned shrapnel #10 at angle 91.8 degrees
[07:31:01] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@66000
[07:31:01] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@66000
[07:31:01] [INFO] [DefensiveGrenade] Spawned shrapnel #11 at angle 95.4 degrees
[07:31:01] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@66001
[07:31:01] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@66001
[07:31:01] [INFO] [DefensiveGrenade] Spawned shrapnel #12 at angle 105.5 degrees
[07:31:01] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@66002
[07:31:01] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@66002
[07:31:01] [INFO] [DefensiveGrenade] Spawned shrapnel #13 at angle 114.5 degrees
[07:31:01] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@66003
[07:31:01] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@66003
[07:31:01] [INFO] [DefensiveGrenade] Spawned shrapnel #14 at angle 109.3 degrees
[07:31:01] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@66004
[07:31:01] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@66004
[07:31:01] [INFO] [DefensiveGrenade] Spawned shrapnel #15 at angle 132.9 degrees
[07:31:01] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@66005
[07:31:01] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@66005
[07:31:01] [INFO] [DefensiveGrenade] Spawned shrapnel #16 at angle 132.7 degrees
[07:31:01] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@66006
[07:31:01] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@66006
[07:31:01] [INFO] [DefensiveGrenade] Spawned shrapnel #17 at angle 156.2 degrees
[07:31:01] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@66007
[07:31:01] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@66007
[07:31:01] [INFO] [DefensiveGrenade] Spawned shrapnel #18 at angle 163.6 degrees
[07:31:01] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@66008
[07:31:01] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@66008
[07:31:01] [INFO] [DefensiveGrenade] Spawned shrapnel #19 at angle 162.2 degrees
[07:31:01] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@66009
[07:31:01] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@66009
[07:31:01] [INFO] [DefensiveGrenade] Spawned shrapnel #20 at angle 185.1 degrees
[07:31:01] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@66010
[07:31:01] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@66010
[07:31:01] [INFO] [DefensiveGrenade] Spawned shrapnel #21 at angle 175.6 degrees
[07:31:01] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@66011
[07:31:01] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@66011
[07:31:01] [INFO] [DefensiveGrenade] Spawned shrapnel #22 at angle 192.0 degrees
[07:31:01] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@66012
[07:31:01] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@66012
[07:31:01] [INFO] [DefensiveGrenade] Spawned shrapnel #23 at angle 191.1 degrees
[07:31:01] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@66013
[07:31:01] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@66013
[07:31:01] [INFO] [DefensiveGrenade] Spawned shrapnel #24 at angle 207.4 degrees
[07:31:01] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@66014
[07:31:01] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@66014
[07:31:01] [INFO] [DefensiveGrenade] Spawned shrapnel #25 at angle 205.5 degrees
[07:31:01] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@66015
[07:31:01] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@66015
[07:31:01] [INFO] [DefensiveGrenade] Spawned shrapnel #26 at angle 227.8 degrees
[07:31:01] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@66016
[07:31:01] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@66016
[07:31:01] [INFO] [DefensiveGrenade] Spawned shrapnel #27 at angle 237.4 degrees
[07:31:01] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@66017
[07:31:01] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@66017
[07:31:01] [INFO] [DefensiveGrenade] Spawned shrapnel #28 at angle 241.5 degrees
[07:31:01] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@66018
[07:31:01] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@66018
[07:31:01] [INFO] [DefensiveGrenade] Spawned shrapnel #29 at angle 255.3 degrees
[07:31:01] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@66019
[07:31:01] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@66019
[07:31:01] [INFO] [DefensiveGrenade] Spawned shrapnel #30 at angle 249.5 degrees
[07:31:01] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@66020
[07:31:01] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@66020
[07:31:01] [INFO] [DefensiveGrenade] Spawned shrapnel #31 at angle 260.2 degrees
[07:31:01] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@66021
[07:31:01] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@66021
[07:31:01] [INFO] [DefensiveGrenade] Spawned shrapnel #32 at angle 275.5 degrees
[07:31:01] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@66022
[07:31:01] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@66022
[07:31:01] [INFO] [DefensiveGrenade] Spawned shrapnel #33 at angle 275.6 degrees
[07:31:01] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@66023
[07:31:01] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@66023
[07:31:01] [INFO] [DefensiveGrenade] Spawned shrapnel #34 at angle 299.4 degrees
[07:31:01] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@66024
[07:31:01] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@66024
[07:31:01] [INFO] [DefensiveGrenade] Spawned shrapnel #35 at angle 312.0 degrees
[07:31:01] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@66025
[07:31:01] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@66025
[07:31:01] [INFO] [DefensiveGrenade] Spawned shrapnel #36 at angle 301.2 degrees
[07:31:01] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@66026
[07:31:01] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@66026
[07:31:01] [INFO] [DefensiveGrenade] Spawned shrapnel #37 at angle 321.7 degrees
[07:31:01] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@66027
[07:31:01] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@66027
[07:31:01] [INFO] [DefensiveGrenade] Spawned shrapnel #38 at angle 323.7 degrees
[07:31:01] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@66028
[07:31:01] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@66028
[07:31:01] [INFO] [DefensiveGrenade] Spawned shrapnel #39 at angle 331.1 degrees
[07:31:01] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@66029
[07:31:01] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@66029
[07:31:01] [INFO] [DefensiveGrenade] Spawned shrapnel #40 at angle 359.0 degrees
[07:31:01] [INFO] [ImpactEffects] Spawning explosion visual effect at (642.2061, 679.6067) (radius=700) - using shadow-based wall occlusion
[07:31:01] [INFO] [LastChance] Freezing newly created explosion effect: @PointLight2D@66030
[07:31:01] [INFO] [LastChance] Registered frozen explosion effect: @PointLight2D@66030
[07:31:01] [INFO] [BloodDecal] Blood puddle created at (530.8962, 982.1046) (added to group)
[07:31:01] [INFO] [BloodDecal] Blood puddle created at (533.4745, 856.8268) (added to group)
[07:31:01] [INFO] [BloodDecal] Blood puddle created at (561.5569, 979.1414) (added to group)
[07:31:01] [INFO] [BloodDecal] Blood puddle created at (565.3904, 964.9993) (added to group)
[07:31:01] [INFO] [BloodDecal] Blood puddle created at (541.6829, 987.9337) (added to group)
[07:31:01] [INFO] [BloodDecal] Blood puddle created at (532.2585, 859.5255) (added to group)
[07:31:01] [INFO] [BloodDecal] Blood puddle created at (566.5781, 976.2426) (added to group)
[07:31:01] [INFO] [BloodDecal] Blood puddle created at (554.2948, 965.9474) (added to group)
[07:31:01] [INFO] [BloodDecal] Blood puddle created at (557.0385, 975.3427) (added to group)
[07:31:01] [INFO] [BloodDecal] Blood puddle created at (525.0679, 899.4883) (added to group)
[07:31:01] [INFO] [BloodDecal] Blood puddle created at (525.9988, 931.7161) (added to group)
[07:31:01] [INFO] [ReplayManager] Recording frame 300 (5,0s): player_valid=True, enemies=10
[07:31:02] [INFO] [ReplayManager] Recording frame 360 (6,0s): player_valid=True, enemies=10
[07:31:03] [INFO] [LastChance] Effect duration expired after 2.00 real seconds
[07:31:03] [INFO] [LastChance] Ending last chance effect
[07:31:03] [ENEMY] [Enemy1] Memory reset: confusion=2.0s, had_target=false
[07:31:03] [ENEMY] [Enemy5] Memory reset: confusion=2.0s, had_target=false
[07:31:03] [ENEMY] [Enemy6] Memory reset: confusion=2.0s, had_target=false
[07:31:03] [ENEMY] [Enemy7] Memory reset: confusion=2.0s, had_target=false
[07:31:03] [ENEMY] [Enemy8] Memory reset: confusion=2.0s, had_target=false
[07:31:03] [ENEMY] [Enemy9] Memory reset: confusion=2.0s, had_target=false
[07:31:03] [ENEMY] [Enemy10] Memory reset: confusion=2.0s, had_target=false
[07:31:03] [INFO] [LastChance] Reset memory for 7 enemies (player teleport effect)
[07:31:03] [INFO] [LastChance] All process modes restored
[07:31:03] [INFO] [LastChance] Unfroze shrapnel: Shrapnel
[07:31:03] [INFO] [LastChance] Unfroze shrapnel: @Area2D@65991
[07:31:03] [INFO] [LastChance] Unfroze shrapnel: @Area2D@65992
[07:31:03] [INFO] [LastChance] Unfroze shrapnel: @Area2D@65993
[07:31:03] [INFO] [LastChance] Unfroze shrapnel: @Area2D@65994
[07:31:03] [INFO] [LastChance] Unfroze shrapnel: @Area2D@65995
[07:31:03] [INFO] [LastChance] Unfroze shrapnel: @Area2D@65996
[07:31:03] [INFO] [LastChance] Unfroze shrapnel: @Area2D@65997
[07:31:03] [INFO] [LastChance] Unfroze shrapnel: @Area2D@65998
[07:31:03] [INFO] [LastChance] Unfroze shrapnel: @Area2D@65999
[07:31:03] [INFO] [LastChance] Unfroze shrapnel: @Area2D@66000
[07:31:03] [INFO] [LastChance] Unfroze shrapnel: @Area2D@66001
[07:31:03] [INFO] [LastChance] Unfroze shrapnel: @Area2D@66002
[07:31:03] [INFO] [LastChance] Unfroze shrapnel: @Area2D@66003
[07:31:03] [INFO] [LastChance] Unfroze shrapnel: @Area2D@66004
[07:31:03] [INFO] [LastChance] Unfroze shrapnel: @Area2D@66005
[07:31:03] [INFO] [LastChance] Unfroze shrapnel: @Area2D@66006
[07:31:03] [INFO] [LastChance] Unfroze shrapnel: @Area2D@66007
[07:31:03] [INFO] [LastChance] Unfroze shrapnel: @Area2D@66008
[07:31:03] [INFO] [LastChance] Unfroze shrapnel: @Area2D@66009
[07:31:03] [INFO] [LastChance] Unfroze shrapnel: @Area2D@66010
[07:31:03] [INFO] [LastChance] Unfroze shrapnel: @Area2D@66011
[07:31:03] [INFO] [LastChance] Unfroze shrapnel: @Area2D@66012
[07:31:03] [INFO] [LastChance] Unfroze shrapnel: @Area2D@66013
[07:31:03] [INFO] [LastChance] Unfroze shrapnel: @Area2D@66014
[07:31:03] [INFO] [LastChance] Unfroze shrapnel: @Area2D@66015
[07:31:03] [INFO] [LastChance] Unfroze shrapnel: @Area2D@66016
[07:31:03] [INFO] [LastChance] Unfroze shrapnel: @Area2D@66017
[07:31:03] [INFO] [LastChance] Unfroze shrapnel: @Area2D@66018
[07:31:03] [INFO] [LastChance] Unfroze shrapnel: @Area2D@66019
[07:31:03] [INFO] [LastChance] Unfroze shrapnel: @Area2D@66020
[07:31:03] [INFO] [LastChance] Unfroze shrapnel: @Area2D@66021
[07:31:03] [INFO] [LastChance] Unfroze shrapnel: @Area2D@66022
[07:31:03] [INFO] [LastChance] Unfroze shrapnel: @Area2D@66023
[07:31:03] [INFO] [LastChance] Unfroze shrapnel: @Area2D@66024
[07:31:03] [INFO] [LastChance] Unfroze shrapnel: @Area2D@66025
[07:31:03] [INFO] [LastChance] Unfroze shrapnel: @Area2D@66026
[07:31:03] [INFO] [LastChance] Unfroze shrapnel: @Area2D@66027
[07:31:03] [INFO] [LastChance] Unfroze shrapnel: @Area2D@66028
[07:31:03] [INFO] [LastChance] Unfroze shrapnel: @Area2D@66029
[07:31:03] [INFO] [LastChance] Unfroze explosion effect: @PointLight2D@66030
[07:31:03] [INFO] [LastChance] Starting visual effects fade-out over 400ms
[07:31:03] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:31:03] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.9°, current=89.7°, player=(409,910), corner_timer=-0.02
[07:31:03] [ENEMY] [Enemy7] PATROL corner check: angle 89.6°
[07:31:03] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.6°, current=92.5°, player=(413,914), corner_timer=0.30
[07:31:03] [INFO] [Player] Spawning blood effect at (432.4687, 933.70044), dir=(-0.15944478, 0.98720694), lethal=False (C#)
[07:31:03] [INFO] [ImpactEffects] spawn_blood_effect called at (432.4687, 933.7004), dir=(-0.159445, 0.987207), lethal=false
[07:31:03] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[07:31:03] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[07:31:03] [INFO] [ImpactEffects] Blood effect spawned at (432.4687, 933.7004) (scale=1)
[07:31:03] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 9.0
[07:31:03] [INFO] [LastChance] Player health updated (C# Damaged): 9.0
[07:31:03] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:31:03] [INFO] [LastChance] Visual effects fade-out complete
[07:31:03] [INFO] [LastChance] Restored original colors to 5 player sprites
[07:31:03] [INFO] [LastChance] Called player RefreshHealthVisual (C#)
[07:31:04] [INFO] [ReplayManager] Recording frame 420 (7,0s): player_valid=True, enemies=10
[07:31:04] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.7°, current=89.6°, player=(483,985), corner_timer=-0.02
[07:31:04] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[07:31:04] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.4°, player=(483,987), corner_timer=0.30
[07:31:04] [INFO] [BloodDecal] Blood puddle created at (425.8712, 1028.545) (added to group)
[07:31:04] [INFO] [BloodDecal] Blood puddle created at (439.8038, 1012.995) (added to group)
[07:31:04] [ENEMY] [Enemy6] Hit taken, damage: 1, health: 3/3 -> 2/3
[07:31:04] [ENEMY] [Enemy6] ImpactEffectsManager found, calling spawn_blood_effect
[07:31:04] [INFO] [ImpactEffects] spawn_blood_effect called at (1950, 450), dir=(-0.942758, -0.333479), lethal=false
[07:31:04] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[07:31:04] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[07:31:04] [INFO] [ImpactEffects] Blood effect spawned at (1950, 450) (scale=1)
[07:31:04] [INFO] [BloodDecal] Blood puddle created at (402.9827, 1079.559) (added to group)
[07:31:04] [INFO] [BloodDecal] Blood puddle created at (427.7486, 1067.586) (added to group)
[07:31:04] [INFO] [BloodDecal] Blood puddle created at (392.2419, 1063.203) (added to group)
[07:31:04] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:31:04] [INFO] [BloodDecal] Blood puddle created at (363.6451, 1076.611) (added to group)
[07:31:04] [INFO] [BloodDecal] Blood puddle created at (430.0843, 1121.937) (added to group)
[07:31:04] [INFO] [BloodDecal] Blood puddle created at (452.2895, 1055.684) (added to group)
[07:31:04] [ENEMY] [Enemy5] Hit taken, damage: 1, health: 2/2 -> 1/2
[07:31:04] [ENEMY] [Enemy5] ImpactEffectsManager found, calling spawn_blood_effect
[07:31:04] [INFO] [ImpactEffects] spawn_blood_effect called at (1700, 350), dir=(-0.88889, -0.458121), lethal=false
[07:31:04] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[07:31:04] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[07:31:04] [INFO] [ImpactEffects] Wall found for blood splatter at (1649.552, 324) (dist=56 px)
[07:31:04] [INFO] [BloodDecal] Blood puddle created at (1649.552, 325) (added to group)
[07:31:04] [INFO] [ImpactEffects] Blood effect spawned at (1700, 350) (scale=1)
[07:31:04] [INFO] [BloodDecal] Blood puddle created at (441.212, 1128.414) (added to group)
[07:31:04] [INFO] [BloodDecal] Blood puddle created at (1887.467, 405.0512) (added to group)
[07:31:04] [INFO] [BloodDecal] Blood puddle created at (1893.007, 447.2749) (added to group)
[07:31:04] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.5°, current=89.5°, player=(483,998), corner_timer=-0.02
[07:31:04] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[07:31:04] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.4°, player=(483,998), corner_timer=0.30
[07:31:04] [INFO] [BloodDecal] Blood puddle created at (466.8189, 1182.572) (added to group)
[07:31:04] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:31:04] [INFO] [BloodDecal] Blood puddle created at (1844.966, 420.4411) (added to group)
[07:31:04] [INFO] [BloodDecal] Blood puddle created at (1642.543, 348.2099) (added to group)
[07:31:04] [INFO] [BloodDecal] Blood puddle created at (1805.368, 399.6951) (added to group)
[07:31:04] [INFO] [BloodDecal] Blood puddle created at (1769.312, 474.894) (added to group)
[07:31:04] [INFO] [BloodDecal] Blood puddle created at (1878.485, 475.5307) (added to group)
[07:31:04] [INFO] [BloodDecal] Blood puddle created at (1656.183, 341.8807) (added to group)
[07:31:04] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.4°, current=89.5°, player=(483,998), corner_timer=-0.02
[07:31:04] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[07:31:04] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.3°, player=(483,998), corner_timer=0.30
[07:31:04] [INFO] [BloodDecal] Blood puddle created at (1779.3, 461.9744) (added to group)
[07:31:04] [INFO] [BloodDecal] Blood puddle created at (1869.339, 475.0718) (added to group)
[07:31:04] [INFO] [BloodDecal] Blood puddle created at (1813.472, 453.7855) (added to group)
[07:31:04] [INFO] [BloodDecal] Blood puddle created at (1752.392, 538.642) (added to group)
[07:31:04] [INFO] [BloodDecal] Blood puddle created at (1603.914, 377.5335) (added to group)
[07:31:04] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:31:04] [INFO] [BloodDecal] Blood puddle created at (1554.309, 422.2866) (added to group)
[07:31:04] [INFO] [ReplayManager] Recording frame 480 (8,0s): player_valid=True, enemies=10
[07:31:04] [INFO] [BloodDecal] Blood puddle created at (1508.801, 327.2162) (added to group)
[07:31:04] [INFO] [BloodDecal] Blood puddle created at (1497.579, 354.8136) (added to group)
[07:31:04] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.5°, player=(483,998), corner_timer=-0.02
[07:31:04] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[07:31:04] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(483,998), corner_timer=0.30
[07:31:05] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:31:05] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:31:05] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:31:05] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:31:05] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:31:05] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:31:05] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:31:05] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(483,986), corner_timer=-0.02
[07:31:05] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[07:31:05] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:31:05] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(483,983), corner_timer=0.30
[07:31:05] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:31:05] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:31:05] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:31:05] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:31:05] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:31:05] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:31:05] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:31:05] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:31:05] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:31:05] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:31:05] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:31:05] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:31:05] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:31:05] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:31:05] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:31:05] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:31:05] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:31:05] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:31:05] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:31:05] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:31:05] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(483,887), corner_timer=-0.02
[07:31:05] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[07:31:05] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:31:05] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(483,882), corner_timer=0.30
[07:31:05] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:31:05] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:31:05] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:31:05] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:31:05] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:31:05] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:31:05] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:31:05] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:31:05] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:31:05] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:31:05] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:31:05] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:31:05] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:31:05] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:31:05] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:31:05] [INFO] [ReplayManager] Recording frame 540 (9,0s): player_valid=True, enemies=10
[07:31:05] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:31:05] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:31:05] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:31:05] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:31:05] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:31:05] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(483,783), corner_timer=-0.02
[07:31:05] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[07:31:05] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:31:05] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(483,779), corner_timer=0.30
[07:31:06] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:31:06] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:31:06] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:31:06] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:31:06] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:31:06] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:31:06] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:31:06] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:31:06] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:31:06] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[07:31:06] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(483,758), corner_timer=-0.02
[07:31:06] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[07:31:06] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(483,758), corner_timer=0.30
[07:31:06] [INFO] [ScoreManager] Combo ended at 3. Max combo: 3
[07:31:06] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:31:06] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(483,758), corner_timer=-0.02
[07:31:06] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[07:31:06] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(483,758), corner_timer=0.30
[07:31:06] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:31:06] [INFO] [ReplayManager] Recording frame 600 (10,0s): player_valid=True, enemies=10
[07:31:06] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(483,758), corner_timer=-0.02
[07:31:06] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[07:31:06] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(483,758), corner_timer=0.30
[07:31:07] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:31:07] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(483,758), corner_timer=-0.02
[07:31:07] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[07:31:07] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(483,758), corner_timer=0.30
[07:31:07] [INFO] [ReplayManager] Recording frame 660 (11,0s): player_valid=True, enemies=10
[07:31:08] [INFO] [ReplayManager] Recording frame 720 (12,0s): player_valid=True, enemies=10
[07:31:09] [INFO] [ReplayManager] Recording frame 780 (13,0s): player_valid=True, enemies=10
[07:31:10] [INFO] [ReplayManager] Recording frame 840 (14,0s): player_valid=True, enemies=10
[07:31:11] [INFO] [ReplayManager] Recording frame 900 (15,0s): player_valid=True, enemies=10
[07:31:12] [INFO] [ReplayManager] Recording frame 960 (16,0s): player_valid=True, enemies=10
[07:31:13] [INFO] [ReplayManager] Recording frame 1020 (17,0s): player_valid=True, enemies=10
[07:31:14] [INFO] [ReplayManager] Recording frame 1080 (18,0s): player_valid=True, enemies=10
[07:31:15] [INFO] [ReplayManager] Recording frame 1140 (19,0s): player_valid=True, enemies=10
[07:31:16] [INFO] [ReplayManager] Recording frame 1200 (20,0s): player_valid=True, enemies=10
[07:31:17] [INFO] [ReplayManager] Recording frame 1260 (21,0s): player_valid=True, enemies=10
[07:31:18] [INFO] [ReplayManager] Recording frame 1320 (22,0s): player_valid=True, enemies=10
[07:31:19] [INFO] [ReplayManager] Recording frame 1380 (23,0s): player_valid=True, enemies=10
[07:31:20] [INFO] [ReplayManager] Recording frame 1440 (24,0s): player_valid=True, enemies=10
[07:31:21] [INFO] [ReplayManager] Recording frame 1500 (25,0s): player_valid=True, enemies=10
[07:31:22] [INFO] [ReplayManager] Recording frame 1560 (26,0s): player_valid=True, enemies=10
[07:31:23] [INFO] [ReplayManager] Recording frame 1620 (27,0s): player_valid=True, enemies=10
[07:31:24] [INFO] [ReplayManager] Recording frame 1680 (28,0s): player_valid=True, enemies=10
[07:31:25] [INFO] [ReplayManager] Recording frame 1740 (29,0s): player_valid=True, enemies=10
[07:31:26] [INFO] [ReplayManager] Recording frame 1800 (30,0s): player_valid=True, enemies=10
[07:31:27] [INFO] [ReplayManager] Recording frame 1860 (31,0s): player_valid=True, enemies=10
[07:31:28] [INFO] [ReplayManager] Recording frame 1920 (32,0s): player_valid=True, enemies=10
[07:31:29] [INFO] [ReplayManager] Recording frame 1980 (33,0s): player_valid=True, enemies=10
[07:31:30] [INFO] [ReplayManager] Recording frame 2040 (34,0s): player_valid=True, enemies=10
[07:31:31] [INFO] [ReplayManager] Recording frame 2100 (35,0s): player_valid=True, enemies=10
[07:31:32] [INFO] [ReplayManager] Recording frame 2160 (36,0s): player_valid=True, enemies=10
[07:31:33] [INFO] [ReplayManager] Recording frame 2220 (37,0s): player_valid=True, enemies=10
[07:31:34] [INFO] [ReplayManager] Recording frame 2280 (38,0s): player_valid=True, enemies=10
[07:31:35] [INFO] [ReplayManager] Recording frame 2340 (39,0s): player_valid=True, enemies=10
[07:31:36] [INFO] [ReplayManager] Recording frame 2400 (40,0s): player_valid=True, enemies=10
[07:31:37] [INFO] [ReplayManager] Recording frame 2460 (41,0s): player_valid=True, enemies=10
[07:31:38] [INFO] [ReplayManager] Recording frame 2520 (42,0s): player_valid=True, enemies=10
[07:31:39] [INFO] [ReplayManager] Recording frame 2580 (43,0s): player_valid=True, enemies=10
[07:31:40] [INFO] [ReplayManager] Recording frame 2640 (44,0s): player_valid=True, enemies=10
[07:31:41] [INFO] [ReplayManager] Recording frame 2700 (45,0s): player_valid=True, enemies=10
[07:31:42] [INFO] [ReplayManager] Recording frame 2760 (46,0s): player_valid=True, enemies=10
[07:31:43] [INFO] [ReplayManager] Recording frame 2820 (47,0s): player_valid=True, enemies=10
[07:31:44] [INFO] [ReplayManager] Recording frame 2880 (48,0s): player_valid=True, enemies=10
[07:31:45] [INFO] [ReplayManager] Recording frame 2940 (49,0s): player_valid=True, enemies=10
[07:31:46] [INFO] [ReplayManager] Recording frame 3000 (50,0s): player_valid=True, enemies=10
[07:31:47] [INFO] [ReplayManager] Recording frame 3060 (51,0s): player_valid=True, enemies=10
[07:31:48] [INFO] [ReplayManager] Recording frame 3120 (52,0s): player_valid=True, enemies=10
[07:31:49] [INFO] [ReplayManager] Recording frame 3180 (53,0s): player_valid=True, enemies=10
[07:31:50] [INFO] [PauseMenu] Armory button pressed
[07:31:50] [INFO] [PauseMenu] Creating new armory menu instance
[07:31:50] [INFO] [PauseMenu] armory_menu_scene resource path: res://scenes/ui/ArmoryMenu.tscn
[07:31:50] [INFO] [PauseMenu] Instance created, class: CanvasLayer, name: ArmoryMenu
[07:31:50] [INFO] [PauseMenu] Script attached: res://scripts/ui/armory_menu.gd
[07:31:50] [INFO] [PauseMenu] back_pressed signal exists on instance
[07:31:50] [INFO] [PauseMenu] back_pressed signal connected
[07:31:50] [INFO] [PauseMenu] Armory menu instance added as child, is_inside_tree: true
[07:31:50] [INFO] [PauseMenu] _populate_weapon_grid method exists
[07:31:50] [INFO] [ReplayManager] Recording frame 3240 (54,0s): player_valid=True, enemies=10
[07:31:51] [INFO] [ReplayManager] Recording frame 3300 (55,0s): player_valid=True, enemies=10
[07:31:52] [INFO] [GrenadeManager] Grenade type changed from F-1 Grenade to Frag Grenade
[07:31:52] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[07:31:52] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:31:52] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[07:31:52] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[07:31:52] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[07:31:52] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[07:31:52] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[07:31:52] [INFO] [LastChance] Resetting all effects (scene change detected)
[07:31:52] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[07:31:52] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[07:31:52] [ENEMY] [Enemy1] Death animation component initialized
[07:31:52] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:31:52] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[07:31:52] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[07:31:52] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[07:31:52] [ENEMY] [Enemy2] Death animation component initialized
[07:31:52] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:31:52] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[07:31:52] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[07:31:52] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[07:31:52] [ENEMY] [Enemy3] Death animation component initialized
[07:31:52] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:31:52] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[07:31:52] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[07:31:52] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[07:31:52] [ENEMY] [Enemy4] Death animation component initialized
[07:31:52] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:31:52] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[07:31:52] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[07:31:52] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[07:31:52] [ENEMY] [Enemy5] Death animation component initialized
[07:31:52] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:31:52] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[07:31:52] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[07:31:52] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[07:31:52] [ENEMY] [Enemy6] Death animation component initialized
[07:31:52] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:31:52] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[07:31:52] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[07:31:52] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[07:31:52] [ENEMY] [Enemy7] Death animation component initialized
[07:31:52] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:31:52] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[07:31:52] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[07:31:52] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[07:31:52] [INFO] [EnemyGrenade] Initialized: 1 grenades
[07:31:52] [ENEMY] [Enemy8] Death animation component initialized
[07:31:52] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:31:52] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[07:31:52] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[07:31:52] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[07:31:52] [ENEMY] [Enemy9] Death animation component initialized
[07:31:52] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:31:52] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[07:31:52] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[07:31:52] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[07:31:52] [ENEMY] [Enemy10] Death animation component initialized
[07:31:52] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[07:31:52] [INFO] [BloodyFeet:Player] Footprint scene loaded
[07:31:52] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[07:31:52] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[07:31:52] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[07:31:52] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[07:31:52] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[07:31:52] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[07:31:52] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[07:31:52] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[07:31:52] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[07:31:52] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[07:31:52] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 10/10
[07:31:52] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[07:31:52] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[07:31:52] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[07:31:52] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[07:31:52] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[07:31:52] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[07:31:52] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[07:31:52] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[07:31:52] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[07:31:52] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[07:31:52] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[07:31:52] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[07:31:52] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[07:31:52] [INFO] [ScoreManager] Level started with 10 enemies
[07:31:52] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[07:31:52] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[07:31:52] [INFO] [ReplayManager] Replay data cleared
[07:31:52] [INFO] [BuildingLevel] Previous replay data cleared
[07:31:52] [INFO] [ReplayManager] Detected player weapon: Sniper Rifle (ASVK)
[07:31:52] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[07:31:52] [INFO] [ReplayManager] Level: BuildingLevel
[07:31:52] [INFO] [ReplayManager] Player: Player (valid: True)
[07:31:52] [INFO] [ReplayManager] Enemies count: 10
[07:31:52] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/asvk_topdown.png
[07:31:52] [INFO] [ReplayManager]   Enemy 0: Enemy1
[07:31:52] [INFO] [ReplayManager]   Enemy 1: Enemy2
[07:31:52] [INFO] [ReplayManager]   Enemy 2: Enemy3
[07:31:52] [INFO] [ReplayManager]   Enemy 3: Enemy4
[07:31:52] [INFO] [ReplayManager]   Enemy 4: Enemy5
[07:31:52] [INFO] [ReplayManager]   Enemy 5: Enemy6
[07:31:52] [INFO] [ReplayManager]   Enemy 6: Enemy7
[07:31:52] [INFO] [ReplayManager]   Enemy 7: Enemy8
[07:31:52] [INFO] [ReplayManager]   Enemy 8: Enemy9
[07:31:52] [INFO] [ReplayManager]   Enemy 9: Enemy10
[07:31:52] [INFO] [BuildingLevel] Replay recording started successfully
[07:31:52] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[07:31:52] [INFO] [CinemaEffects] Found player node: Player
[07:31:52] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[07:31:52] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 8)
[07:31:52] [ENEMY] [Enemy1] Registered as sound listener
[07:31:52] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 2, behavior: GUARD
[07:31:52] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[07:31:52] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 9)
[07:31:52] [ENEMY] [Enemy2] Registered as sound listener
[07:31:52] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 2, behavior: GUARD
[07:31:52] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[07:31:52] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 10)
[07:31:52] [ENEMY] [Enemy3] Registered as sound listener
[07:31:52] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 4, behavior: GUARD
[07:31:52] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[07:31:52] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 11)
[07:31:52] [ENEMY] [Enemy4] Registered as sound listener
[07:31:52] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 2, behavior: GUARD
[07:31:52] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[07:31:52] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 12)
[07:31:52] [ENEMY] [Enemy5] Registered as sound listener
[07:31:52] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 3, behavior: GUARD
[07:31:52] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[07:31:52] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 13)
[07:31:52] [ENEMY] [Enemy6] Registered as sound listener
[07:31:52] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 2, behavior: GUARD
[07:31:52] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[07:31:52] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 14)
[07:31:52] [ENEMY] [Enemy7] Registered as sound listener
[07:31:52] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 2, behavior: PATROL
[07:31:52] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[07:31:52] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 15)
[07:31:52] [ENEMY] [Enemy8] Registered as sound listener
[07:31:52] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 2, behavior: GUARD
[07:31:52] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[07:31:52] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 16)
[07:31:52] [ENEMY] [Enemy9] Registered as sound listener
[07:31:52] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 3, behavior: GUARD
[07:31:52] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[07:31:52] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 17)
[07:31:52] [ENEMY] [Enemy10] Registered as sound listener
[07:31:52] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 2, behavior: PATROL
[07:31:52] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[07:31:52] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[07:31:52] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=33.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[07:31:52] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[07:31:52] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[07:31:52] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[07:31:52] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[07:31:52] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[07:31:52] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=78.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[07:31:52] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[07:31:52] [INFO] [Player] Detecting weapon pose (frame 3)...
[07:31:52] [INFO] [Player] Detected weapon: Rifle (default pose)
[07:31:52] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[07:31:52] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[07:31:52] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[07:31:52] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[07:31:52] [INFO] [LastChance] Found player: Player
[07:31:52] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[07:31:52] [INFO] [LastChance] Connected to player Damaged signal (C#)
[07:31:52] [INFO] [LastChance] Connected to player Died signal (C#)
[07:31:52] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[07:31:52] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[07:31:52] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[07:31:52] [INFO] [Player.Grenade] G pressed - starting grab animation
[07:31:52] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[07:31:52] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (638.7928, 1418.0452)
[07:31:52] [INFO] [GrenadeBase] CCD enabled (mode: CAST_RAY) to prevent wall tunneling
[07:31:52] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[07:31:52] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[07:31:52] [INFO] [GrenadeTimer] Initialized for Frag grenade, effect radius: 225
[07:31:52] [INFO] [Player.Grenade] Added GrenadeTimer component (type: Frag)
[07:31:52] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[07:31:52] [INFO] [GrenadeTimer] Timer activated! 4 seconds until explosion
[07:31:52] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1238)
[07:31:52] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[07:31:52] [INFO] [Player.Grenade] Step 1 complete! Drag: (41.22174, -4.4699707)
[07:31:52] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[07:31:52] [INFO] [Player.Grenade.Simple] RMB pressed after pin pull - starting trajectory aiming
[07:31:53] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[07:31:53] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[07:31:53] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[07:31:53] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,924), corner_timer=0.30
[07:31:53] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,924), corner_timer=0.30
[07:31:54] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(449,820), corner_timer=-0.02
[07:31:54] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[07:31:54] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(449,820), corner_timer=-0.02
[07:31:54] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[07:31:54] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(448,814), corner_timer=0.30
[07:31:54] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(448,814), corner_timer=0.30
[07:31:54] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[07:31:54] [INFO] [Player.Grenade.Simple] Throwing! Target: (800.99854, 742.67163), Distance: 382,6, Speed: 462,9, Friction: 280,0
[07:31:54] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,055642974
[07:31:54] [INFO] [GrenadeTimer] Grenade marked as thrown - impact detection enabled
[07:31:54] [INFO] [Player.Grenade.Simple] C# set velocity directly: dir=(0.99845237, -0.055614267), speed=462,9, spawn=(471.68985, 761.0143)
[07:31:54] [INFO] [GrenadeBase] Simple mode throw! Dir: (0.998452, -0.055614), Speed: 462.9 (clamped from 462.9, max: 1186.5)
[07:31:54] [INFO] [FragGrenade] Grenade thrown (simple mode) - impact detection enabled
[07:31:54] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[07:31:54] [INFO] [Player.Grenade.Simple] Grenade thrown!
[07:31:54] [INFO] [Player.Grenade] State reset to IDLE
[07:31:54] [INFO] [Player.Grenade] State reset to IDLE
[07:31:54] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[07:31:54] [INFO] [Player.Grenade] Player rotation restored to 0
[07:31:54] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(386,756), corner_timer=-0.02
[07:31:54] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[07:31:54] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(382,756), corner_timer=0.30
[07:31:54] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[07:31:54] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(342,806), corner_timer=-0.02
[07:31:54] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[07:31:54] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.6°, player=(342,811), corner_timer=0.30
[07:31:54] [INFO] [GrenadeBase] Collision detected with Enemy3 (type: CharacterBody2D)
[07:31:54] [INFO] [FragGrenade] Impact detected! Body: Enemy3 (type: CharacterBody2D), triggering explosion
[07:31:54] [INFO] [FragGrenade] Impact detected - exploding immediately!
[07:31:54] [INFO] [GrenadeBase] EXPLODED at (667.6422, 749.8182)!
[07:31:54] [INFO] [PowerFantasy] Grenade exploded - triggering last chance time-freeze effect for 2000ms
[07:31:54] [INFO] [LastChance] Grenade explosion triggering last chance effect for 2.00 seconds
[07:31:54] [INFO] [LastChance] Starting last chance effect:
[07:31:54] [INFO] [LastChance]   - Time will be frozen (except player)
[07:31:54] [INFO] [LastChance]   - Duration: 2.00 real seconds
[07:31:54] [INFO] [LastChance]   - Trigger: grenade explosion
[07:31:54] [INFO] [LastChance]   - Sepia intensity: 0.70
[07:31:54] [INFO] [LastChance]   - Brightness: 0.60
[07:31:54] [INFO] [LastChance] Set player Player and all 25 children to PROCESS_MODE_ALWAYS
[07:31:54] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[07:31:54] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[07:31:54] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[07:31:54] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[07:31:54] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[07:31:54] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[07:31:54] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[07:31:54] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[07:31:54] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[07:31:54] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[07:31:54] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[07:31:54] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[07:31:54] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[07:31:54] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[07:31:54] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[07:31:54] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[07:31:54] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[07:31:54] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[07:31:54] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[07:31:54] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[07:31:54] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[07:31:54] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[07:31:54] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[07:31:54] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[07:31:54] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[07:31:54] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[07:31:54] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[07:31:54] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[07:31:54] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[07:31:54] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[07:31:54] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[07:31:54] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[07:31:54] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[07:31:54] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[07:31:54] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[07:31:54] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[07:31:54] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[07:31:54] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[07:31:54] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[07:31:54] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[07:31:54] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[07:31:54] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[07:31:54] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[07:31:54] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[07:31:54] [INFO] [LastChance] Skipping player node: Player
[07:31:54] [INFO] [LastChance] Froze existing grenade: FragGrenade
[07:31:54] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[07:31:54] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[07:31:54] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[07:31:54] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(667.6422, 749.8182), source=NEUTRAL (FragGrenade), range=2937, listeners=17
[07:31:54] [INFO] [SoundPropagation] Cleaned up 7 invalid listeners
[07:31:54] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=0, below_threshold=7
[07:31:54] [ENEMY] [Enemy3] Hit taken, damage: 1, health: 4/4 -> 3/4
[07:31:54] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[07:31:54] [INFO] [ImpactEffects] spawn_blood_effect called at (700, 750), dir=(0.999984, 0.005617), lethal=false
[07:31:54] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[07:31:54] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[07:31:54] [INFO] [ImpactEffects] Blood effect spawned at (700, 750) (scale=1)
[07:31:54] [ENEMY] [Enemy3] Hit taken, damage: 1, health: 3/4 -> 2/4
[07:31:54] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[07:31:54] [INFO] [ImpactEffects] spawn_blood_effect called at (700, 750), dir=(0.999984, 0.005617), lethal=false
[07:31:54] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[07:31:54] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[07:31:54] [INFO] [ImpactEffects] Blood effect spawned at (700, 750) (scale=1)
[07:31:54] [ENEMY] [Enemy3] Hit taken, damage: 1, health: 2/4 -> 1/4
[07:31:54] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[07:31:54] [INFO] [ImpactEffects] spawn_blood_effect called at (700, 750), dir=(0.999984, 0.005617), lethal=false
[07:31:54] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[07:31:54] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[07:31:54] [INFO] [ImpactEffects] Blood effect spawned at (700, 750) (scale=1)
[07:31:54] [ENEMY] [Enemy3] Hit taken, damage: 1, health: 1/4 -> 0/4
[07:31:54] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[07:31:54] [INFO] [ImpactEffects] spawn_blood_effect called at (700, 750), dir=(0.999984, 0.005617), lethal=true
[07:31:54] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[07:31:54] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[07:31:54] [INFO] [ImpactEffects] Blood effect spawned at (700, 750) (scale=1.5)
[07:31:54] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[07:31:54] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[07:31:54] [INFO] [PowerFantasy] Enemy killed - skipping 300ms effect (LastChance time-freeze already active)
[07:31:54] [ENEMY] [Enemy3] [AllyDeath] Notified 2 enemies
[07:31:54] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[07:31:54] [INFO] [DeathAnim] Started - Angle: 0.3 deg, Index: 12
[07:31:54] [ENEMY] [Enemy3] Death animation started with hit direction: (0.999984, 0.005617)
[07:31:54] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 32.4
[07:31:54] [INFO] [LastChance] Freezing newly created shrapnel: Shrapnel
[07:31:54] [INFO] [LastChance] Registered frozen shrapnel: Shrapnel
[07:31:54] [INFO] [FragGrenade] Spawned shrapnel #1 at angle 12.6 degrees
[07:31:54] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@66596
[07:31:54] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@66596
[07:31:54] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 100.9 degrees
[07:31:54] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@66597
[07:31:54] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@66597
[07:31:54] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 185.6 degrees
[07:31:54] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@66598
[07:31:54] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@66598
[07:31:54] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 265.4 degrees
[07:31:54] [INFO] [ImpactEffects] Spawning explosion visual effect at (667.6422, 749.8182) (radius=225) - using shadow-based wall occlusion
[07:31:54] [INFO] [LastChance] Freezing newly created explosion effect: @PointLight2D@66599
[07:31:54] [INFO] [LastChance] Registered frozen explosion effect: @PointLight2D@66599
[07:31:54] [INFO] [GrenadeTimer] Impact detected with Enemy3 - EXPLODING!
[07:31:54] [INFO] [GrenadeTimer] EXPLODED at (667.6422, 749.81824)!
[07:31:54] [INFO] [GrenadeTimer] Applying frag explosion damage (radius: 225, damage: 99)
[07:31:54] [INFO] [GrenadeTimer] Damaged enemy at distance 32,4
[07:31:54] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@66600
[07:31:54] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@66600
[07:31:54] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@66601
[07:31:54] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@66601
[07:31:54] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@66602
[07:31:54] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@66602
[07:31:54] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@66603
[07:31:54] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@66603
[07:31:54] [INFO] [GrenadeTimer] Spawned 4 shrapnel pieces
[07:31:54] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(667.6422, 749.8182), source=NEUTRAL (FragGrenade), range=2938, listeners=9
[07:31:54] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=7
[07:31:54] [INFO] [LastChance] Freezing newly created explosion visual effect (Node2D): ExplosionFlash
[07:31:54] [INFO] [LastChance] Registered frozen explosion visual: ExplosionFlash
[07:31:54] [INFO] [LastChance] Freezing newly created explosion effect: PointLight2D
[07:31:54] [INFO] [LastChance] Registered frozen explosion effect: PointLight2D
[07:31:54] [INFO] [GrenadeTimer] Spawned PointLight2D frag explosion flash at (667.6422, 749.81824) (shadow-based wall occlusion)
[07:31:55] [INFO] [BloodDecal] Blood puddle created at (743.7518, 747.3137) (added to group)
[07:31:55] [INFO] [BloodDecal] Blood puddle created at (774.1818, 791.7373) (added to group)
[07:31:55] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=10
[07:31:55] [INFO] [BloodDecal] Blood puddle created at (784.8334, 771.092) (added to group)
[07:31:55] [INFO] [BloodDecal] Blood puddle created at (793.4413, 776.289) (added to group)
[07:31:55] [INFO] [BloodDecal] Blood puddle created at (774.3153, 760.037) (added to group)
[07:31:55] [INFO] [BloodDecal] Blood puddle created at (811.1667, 772.1) (added to group)
[07:31:55] [INFO] [BloodDecal] Blood puddle created at (750.0545, 752.0284) (added to group)
[07:31:55] [INFO] [BloodDecal] Blood puddle created at (789.4016, 767.7371) (added to group)
[07:31:55] [INFO] [BloodDecal] Blood puddle created at (769.147, 799.9036) (added to group)
[07:31:55] [INFO] [BloodDecal] Blood puddle created at (797.4204, 797.98) (added to group)
[07:31:55] [INFO] [BloodDecal] Blood puddle created at (770.5776, 763.5156) (added to group)
[07:31:55] [INFO] [BloodDecal] Blood puddle created at (791.8503, 817.5496) (added to group)
[07:31:55] [INFO] [BloodDecal] Blood puddle created at (831.3859, 808.9088) (added to group)
[07:31:55] [INFO] [BloodDecal] Blood puddle created at (762.265, 789.3714) (added to group)
[07:31:55] [INFO] [BloodDecal] Blood puddle created at (764.5918, 766.7693) (added to group)
[07:31:55] [INFO] [BloodDecal] Blood puddle created at (770.0758, 792.2894) (added to group)
[07:31:55] [INFO] [BloodDecal] Blood puddle created at (762.9095, 806.9512) (added to group)
[07:31:55] [INFO] [BloodDecal] Blood puddle created at (776.2228, 761.7288) (added to group)
[07:31:55] [INFO] [BloodDecal] Blood puddle created at (800.1237, 811.1503) (added to group)
[07:31:55] [INFO] [BloodDecal] Blood puddle created at (809.6357, 750.1615) (added to group)
[07:31:55] [INFO] [BloodDecal] Blood puddle created at (816.3011, 844.931) (added to group)
[07:31:55] [INFO] [BloodDecal] Blood puddle created at (789.307, 764.4341) (added to group)
[07:31:55] [INFO] [BloodDecal] Blood puddle created at (833.5833, 815.8237) (added to group)
[07:31:55] [INFO] [BloodDecal] Blood puddle created at (868.4154, 776.8601) (added to group)
[07:31:55] [INFO] [BloodDecal] Blood puddle created at (848.1224, 803.045) (added to group)
[07:31:55] [INFO] [BloodDecal] Blood puddle created at (832.4611, 795.1378) (added to group)
[07:31:55] [INFO] [BloodDecal] Blood puddle created at (803.0085, 765.5653) (added to group)
[07:31:55] [INFO] [BloodDecal] Blood puddle created at (850.9933, 786.2732) (added to group)
[07:31:55] [INFO] [BloodDecal] Blood puddle created at (867.7061, 805.0829) (added to group)
[07:31:55] [INFO] [BloodDecal] Blood puddle created at (891.9475, 818.9363) (added to group)
[07:31:55] [INFO] [BloodDecal] Blood puddle created at (887.0356, 758.7936) (added to group)
[07:31:55] [INFO] [BloodDecal] Blood puddle created at (816.264, 775.9954) (added to group)
[07:31:55] [INFO] [BloodDecal] Blood puddle created at (876.6469, 867.2708) (added to group)
[07:31:55] [INFO] [BloodDecal] Blood puddle created at (859.293, 848.0066) (added to group)
[07:31:55] [INFO] [BloodDecal] Blood puddle created at (857.6846, 807.9835) (added to group)
[07:31:55] [INFO] [BloodDecal] Blood puddle created at (853.0919, 856.165) (added to group)
[07:31:55] [INFO] [BloodDecal] Blood puddle created at (869.9737, 891.5503) (added to group)
[07:31:55] [INFO] [BloodDecal] Blood puddle created at (852.0577, 870.0964) (added to group)
[07:31:55] [INFO] [BloodDecal] Blood puddle created at (805.8684, 797.9766) (added to group)
[07:31:55] [INFO] [BloodDecal] Blood puddle created at (898.2412, 832.6181) (added to group)
[07:31:55] [INFO] [BloodDecal] Blood puddle created at (860.4358, 777.6681) (added to group)
[07:31:55] [INFO] [BloodDecal] Blood puddle created at (897.8328, 945.4819) (added to group)
[07:31:55] [INFO] [BloodDecal] Blood puddle created at (804.532, 825.9976) (added to group)
[07:31:55] [INFO] [BloodDecal] Blood puddle created at (911.2943, 779.8599) (added to group)
[07:31:55] [INFO] [BloodDecal] Blood puddle created at (868.6785, 797.4424) (added to group)
[07:31:56] [INFO] [ReplayManager] Recording frame 240 (4,0s): player_valid=True, enemies=10
[07:31:56] [INFO] [LastChance] Effect duration expired after 2.00 real seconds
[07:31:56] [INFO] [LastChance] Ending last chance effect
[07:31:56] [ENEMY] [Enemy1] Memory reset: confusion=2.0s, had_target=false
[07:31:56] [ENEMY] [Enemy2] Memory reset: confusion=2.0s, had_target=false
[07:31:56] [ENEMY] [Enemy4] Memory reset: confusion=2.0s, had_target=false
[07:31:56] [ENEMY] [Enemy5] Memory reset: confusion=2.0s, had_target=false
[07:31:56] [ENEMY] [Enemy6] Memory reset: confusion=2.0s, had_target=false
[07:31:56] [ENEMY] [Enemy7] Memory reset: confusion=2.0s, had_target=false
[07:31:56] [ENEMY] [Enemy8] Memory reset: confusion=2.0s, had_target=false
[07:31:56] [ENEMY] [Enemy9] Memory reset: confusion=2.0s, had_target=false
[07:31:56] [ENEMY] [Enemy10] Memory reset: confusion=2.0s, had_target=false
[07:31:56] [INFO] [LastChance] Reset memory for 9 enemies (player teleport effect)
[07:31:56] [INFO] [LastChance] All process modes restored
[07:31:56] [INFO] [LastChance] Unfroze shrapnel: Shrapnel
[07:31:56] [INFO] [LastChance] Unfroze shrapnel: @Area2D@66596
[07:31:56] [INFO] [LastChance] Unfroze shrapnel: @Area2D@66597
[07:31:56] [INFO] [LastChance] Unfroze shrapnel: @Area2D@66598
[07:31:56] [INFO] [LastChance] Unfroze shrapnel: @Area2D@66600
[07:31:56] [INFO] [LastChance] Unfroze shrapnel: @Area2D@66601
[07:31:56] [INFO] [LastChance] Unfroze shrapnel: @Area2D@66602
[07:31:56] [INFO] [LastChance] Unfroze shrapnel: @Area2D@66603
[07:31:56] [INFO] [LastChance] Unfroze explosion effect: @PointLight2D@66599
[07:31:56] [INFO] [LastChance] Unfroze explosion effect: PointLight2D
[07:31:56] [INFO] [LastChance] Unfroze explosion visual: ExplosionFlash
[07:31:56] [INFO] [LastChance] Starting visual effects fade-out over 400ms
[07:31:57] [ENEMY] [Enemy4] Hit taken, damage: 1, health: 2/2 -> 1/2
[07:31:57] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[07:31:57] [INFO] [ImpactEffects] spawn_blood_effect called at (800, 900), dir=(0.911138, 0.412102), lethal=false
[07:31:57] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[07:31:57] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[07:31:57] [INFO] [ImpactEffects] Blood effect spawned at (800, 900) (scale=1)
[07:31:57] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(508,1039), corner_timer=-0.02
[07:31:57] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[07:31:57] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.8°, current=6.3°, player=(508,1039), corner_timer=0.30
[07:31:57] [INFO] [ReplayManager] Recording frame 300 (5,0s): player_valid=True, enemies=10
[07:31:57] [INFO] [LastChance] Visual effects fade-out complete
[07:31:57] [INFO] [LastChance] Restored original colors to 5 player sprites
[07:31:57] [INFO] [LastChance] Called player RefreshHealthVisual (C#)
[07:31:57] [INFO] [BloodDecal] Blood puddle created at (850.6637, 942.9011) (added to group)
[07:31:57] [INFO] [BloodDecal] Blood puddle created at (851.0105, 929.9669) (added to group)
[07:31:57] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.8°, player=(508,1039), corner_timer=-0.02
[07:31:57] [ENEMY] [Enemy10] PATROL corner check: angle 0.9°
[07:31:57] [INFO] [BloodDecal] Blood puddle created at (861.6688, 989.8811) (added to group)
[07:31:57] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=0.9°, current=4.6°, player=(508,1039), corner_timer=0.30
[07:31:57] [INFO] [BloodDecal] Blood puddle created at (883.3752, 955.0131) (added to group)
[07:31:57] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:31:57] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=-130.1°, player=(508,1039), corner_timer=-0.02
[07:31:57] [ENEMY] [Enemy7] PATROL corner check: angle 90.0°
[07:31:57] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=-133.0°, player=(508,1039), corner_timer=0.30
[07:31:58] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:31:58] [INFO] [ReplayManager] Recording frame 360 (6,0s): player_valid=True, enemies=10
[07:31:58] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=179.1°, current=172.4°, player=(508,1039), corner_timer=-0.02
[07:31:58] [ENEMY] [Enemy7] PATROL corner check: angle 89.8°
[07:31:58] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.8°, current=175.3°, player=(508,1039), corner_timer=0.30
[07:31:58] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:31:58] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=178.4°, current=120.7°, player=(454,1021), corner_timer=-0.02
[07:31:58] [ENEMY] [Enemy7] PATROL corner check: angle 89.7°
[07:31:58] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.7°, current=123.6°, player=(450,1017), corner_timer=0.30
[07:31:58] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[07:31:59] [INFO] [ReplayManager] Recording frame 420 (7,0s): player_valid=True, enemies=10
[07:31:59] [INFO] [ScoreManager] Combo ended at 1. Max combo: 1
[07:32:00] [INFO] [ReplayManager] Recording frame 480 (8,0s): player_valid=True, enemies=10
[07:32:01] [INFO] [ReplayManager] Recording frame 540 (9,0s): player_valid=True, enemies=10
[07:32:02] [INFO] [ReplayManager] Recording frame 600 (10,0s): player_valid=True, enemies=10
[07:32:03] [INFO] [ReplayManager] Recording frame 660 (11,0s): player_valid=True, enemies=10
[07:32:04] [INFO] [ReplayManager] Recording frame 720 (12,0s): player_valid=True, enemies=10
[07:32:05] [INFO] [ReplayManager] Recording frame 780 (13,0s): player_valid=True, enemies=10
[07:32:06] [INFO] [ReplayManager] Recording frame 840 (14,0s): player_valid=True, enemies=10
[07:32:07] [INFO] [ReplayManager] Recording frame 900 (15,0s): player_valid=True, enemies=10
[07:32:08] [INFO] [ReplayManager] Recording frame 960 (16,0s): player_valid=True, enemies=10
[07:32:09] [INFO] [ReplayManager] Recording frame 1020 (17,0s): player_valid=True, enemies=10
[07:32:10] [INFO] [ReplayManager] Recording frame 1080 (18,0s): player_valid=True, enemies=10
[07:32:11] [INFO] [ReplayManager] Recording frame 1140 (19,0s): player_valid=True, enemies=10
[07:32:12] [INFO] [ReplayManager] Recording frame 1200 (20,0s): player_valid=True, enemies=10
[07:32:13] [INFO] [ReplayManager] Recording frame 1260 (21,0s): player_valid=True, enemies=10
[07:32:14] [INFO] [ReplayManager] Recording frame 1320 (22,0s): player_valid=True, enemies=10
[07:32:15] [INFO] [ReplayManager] Recording frame 1380 (23,0s): player_valid=True, enemies=10
[07:32:16] [INFO] [ReplayManager] Recording frame 1440 (24,0s): player_valid=True, enemies=10
[07:32:17] [INFO] [ReplayManager] Recording frame 1500 (25,0s): player_valid=True, enemies=10
[07:32:18] [INFO] [ReplayManager] Recording frame 1560 (26,0s): player_valid=True, enemies=10
[07:32:19] [INFO] [ReplayManager] Recording frame 1620 (27,0s): player_valid=True, enemies=10
[07:32:20] [INFO] [ReplayManager] Recording frame 1680 (28,0s): player_valid=True, enemies=10
[07:32:21] [INFO] [ReplayManager] Recording frame 1740 (29,0s): player_valid=True, enemies=10
[07:32:22] [INFO] [ReplayManager] Recording frame 1800 (30,0s): player_valid=True, enemies=10
[07:32:23] [INFO] [ReplayManager] Recording frame 1860 (31,0s): player_valid=True, enemies=10
[07:32:24] [INFO] [ReplayManager] Recording frame 1920 (32,0s): player_valid=True, enemies=10
[07:32:25] [INFO] [ReplayManager] Recording frame 1980 (33,0s): player_valid=True, enemies=10
[07:32:26] [INFO] [ReplayManager] Recording frame 2040 (34,0s): player_valid=True, enemies=10
[07:32:27] [INFO] [ReplayManager] Recording frame 2100 (35,0s): player_valid=True, enemies=10
[07:32:28] [INFO] [ReplayManager] Recording frame 2160 (36,0s): player_valid=True, enemies=10
[07:32:29] [INFO] [ReplayManager] Recording frame 2220 (37,0s): player_valid=True, enemies=10
[07:32:30] [INFO] [ReplayManager] Recording frame 2280 (38,0s): player_valid=True, enemies=10
[07:32:31] [INFO] [ReplayManager] Recording frame 2340 (39,0s): player_valid=True, enemies=10
[07:32:32] [INFO] [ReplayManager] Recording frame 2400 (40,0s): player_valid=True, enemies=10
[07:32:33] [INFO] [ReplayManager] Recording frame 2460 (41,0s): player_valid=True, enemies=10
[07:32:34] [INFO] [ReplayManager] Recording frame 2520 (42,0s): player_valid=True, enemies=10
[07:32:35] [INFO] [ReplayManager] Recording frame 2580 (43,0s): player_valid=True, enemies=10
[07:32:36] [INFO] [ReplayManager] Recording frame 2640 (44,0s): player_valid=True, enemies=10
[07:32:37] [INFO] [ReplayManager] Recording frame 2700 (45,0s): player_valid=True, enemies=10
[07:32:38] [INFO] [ReplayManager] Recording frame 2760 (46,0s): player_valid=True, enemies=10
[07:32:39] [INFO] [ReplayManager] Recording frame 2820 (47,0s): player_valid=True, enemies=10
[07:32:40] [INFO] [ReplayManager] Recording frame 2880 (48,0s): player_valid=True, enemies=10
[07:32:41] [INFO] [ReplayManager] Recording frame 2940 (49,0s): player_valid=True, enemies=10
[07:32:42] [INFO] [ReplayManager] Recording frame 3000 (50,0s): player_valid=True, enemies=10
[07:32:43] [INFO] [ReplayManager] Recording frame 3060 (51,0s): player_valid=True, enemies=10
[07:32:44] [INFO] [ReplayManager] Recording frame 3120 (52,0s): player_valid=True, enemies=10
[07:32:45] [INFO] [ReplayManager] Recording frame 3180 (53,0s): player_valid=True, enemies=10
[07:32:46] [INFO] [ReplayManager] Recording frame 3240 (54,0s): player_valid=True, enemies=10
[07:32:47] [INFO] [ReplayManager] Recording frame 3300 (55,0s): player_valid=True, enemies=10
[07:32:48] [INFO] [ReplayManager] Recording frame 3360 (56,0s): player_valid=True, enemies=10
[07:32:49] [INFO] [ReplayManager] Recording frame 3420 (57,0s): player_valid=True, enemies=10
[07:32:50] [INFO] [ReplayManager] Recording frame 3480 (58,0s): player_valid=True, enemies=10
[07:32:50] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[07:32:50] [INFO] ------------------------------------------------------------
[07:32:50] [INFO] GAME LOG ENDED: 2026-02-07T07:32:50
[07:32:50] [INFO] ============================================================
