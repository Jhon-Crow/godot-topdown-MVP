[15:16:07] [INFO] ============================================================
[15:16:07] [INFO] GAME LOG STARTED
[15:16:07] [INFO] ============================================================
[15:16:07] [INFO] Timestamp: 2026-02-07T15:16:07
[15:16:07] [INFO] Log file: I:/Загрузки/godot exe/полигон/game_log_20260207_151607.txt
[15:16:07] [INFO] Executable: I:/Загрузки/godot exe/полигон/Godot-Top-Down-Template.exe
[15:16:07] [INFO] OS: Windows
[15:16:07] [INFO] Debug build: false
[15:16:07] [INFO] Engine version: 4.3-stable (official)
[15:16:07] [INFO] Project: Godot Top-Down Template
[15:16:07] [INFO] ------------------------------------------------------------
[15:16:07] [INFO] [GameManager] GameManager ready
[15:16:07] [INFO] [ScoreManager] ScoreManager ready
[15:16:07] [INFO] [SoundPropagation] SoundPropagation autoload initialized
[15:16:07] [INFO] [ImpactEffects] Scenes loaded: DustEffect, BloodEffect, SparksEffect, BloodDecal
[15:16:07] [INFO] [ImpactEffects] ImpactEffectsManager ready - FULL VERSION with blood effects enabled
[15:16:07] [INFO] [ImpactEffects] Starting particle shader warmup (Issue #343 fix)...
[15:16:07] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[15:16:07] [INFO] [PenultimateHit] Saturation shader loaded successfully
[15:16:07] [INFO] [PenultimateHit] Starting shader warmup (Issue #343 fix)...
[15:16:07] [INFO] [PenultimateHit] PenultimateHitEffectsManager ready - Configuration:
[15:16:07] [INFO] [PenultimateHit]   Time scale: 0.10 (10x slowdown)
[15:16:07] [INFO] [PenultimateHit]   Saturation boost: 2.0 (3.0x)
[15:16:07] [INFO] [PenultimateHit]   Contrast boost: 1.0 (2.0x)
[15:16:07] [INFO] [PenultimateHit]   Effect duration: 3.0 real seconds
[15:16:07] [INFO] [LastChance] Resetting all effects (scene change detected)
[15:16:07] [INFO] [LastChance] Last chance shader loaded successfully
[15:16:07] [INFO] [LastChance] Starting shader warmup (Issue #343 fix)...
[15:16:07] [INFO] [LastChance] LastChanceEffectsManager ready - Configuration:
[15:16:07] [INFO] [LastChance]   Freeze duration: 6.0 real seconds
[15:16:07] [INFO] [LastChance]   Sepia intensity: 0.70
[15:16:07] [INFO] [LastChance]   Brightness: 0.60
[15:16:07] [INFO] [GrenadeManager] Loaded grenade scene: res://scenes/projectiles/FlashbangGrenade.tscn
[15:16:07] [INFO] [GrenadeManager] Loaded grenade scene: res://scenes/projectiles/FragGrenade.tscn
[15:16:08] [INFO] [GrenadeManager] Loaded grenade scene: res://scenes/projectiles/DefensiveGrenade.tscn
[15:16:08] [INFO] [ExperimentalSettings] ExperimentalSettings initialized - FOV enabled: true, Complex grenade throwing: false, AI prediction: true
[15:16:08] [INFO] [CinemaEffects] CinemaEffectsManager initializing (v5.3 - overlay approach with simplified death circle)...
[15:16:08] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[15:16:08] [INFO] [CinemaEffects] Created effects layer at layer 99
[15:16:08] [INFO] [CinemaEffects] Cinema shader loaded successfully (v5.0 - no screen_texture)
[15:16:08] [INFO] [CinemaEffects] Starting cinema shader warmup (Issue #343 fix)...
[15:16:08] [INFO] [CinemaEffects] Cinema film effect initialized (v5.3) - Configuration:
[15:16:08] [INFO] [CinemaEffects]   Approach: Overlay-based (no screen_texture)
[15:16:08] [INFO] [CinemaEffects]   Grain intensity: 0.15
[15:16:08] [INFO] [CinemaEffects]   Warm tint: 0.12 intensity
[15:16:08] [INFO] [CinemaEffects]   Sunny effect: 0.08 intensity
[15:16:08] [INFO] [CinemaEffects]   Vignette: 0.25 intensity
[15:16:08] [INFO] [CinemaEffects]   Film defects: 1.5% probability
[15:16:08] [INFO] [CinemaEffects]   White specks: 0.70 intensity, 4.0% probability
[15:16:08] [INFO] [CinemaEffects]   Death effects: cigarette burn + expanding spots + end of reel circle (160px, blinks 2x)
[15:16:08] [INFO] [CinemaEffects] Enabling effect after 1 frame(s)...
[15:16:08] [INFO] [GrenadeTimerHelper] Autoload ready
[15:16:08] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[15:16:08] [INFO] [PowerFantasy] Saturation shader loaded successfully
[15:16:08] [INFO] [PowerFantasy] PowerFantasyEffectsManager ready - Configuration:
[15:16:08] [INFO] [PowerFantasy]   Kill effect duration: 300ms
[15:16:08] [INFO] [PowerFantasy]   Grenade effect duration: 2000ms (2.0s)
[15:16:08] [INFO] [ReplayManager] ReplayManager ready (C# version loaded and _Ready called)
[15:16:08] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[15:16:08] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[15:16:08] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[15:16:08] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[15:16:08] [ENEMY] [Enemy1] Death animation component initialized
[15:16:08] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[15:16:08] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[15:16:08] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[15:16:08] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[15:16:08] [ENEMY] [Enemy2] Death animation component initialized
[15:16:08] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[15:16:08] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[15:16:08] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[15:16:08] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[15:16:08] [ENEMY] [Enemy3] Death animation component initialized
[15:16:08] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[15:16:08] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[15:16:08] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[15:16:08] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[15:16:08] [INFO] [EnemyGrenade] Initialized: 1 grenades
[15:16:08] [ENEMY] [Enemy4] Death animation component initialized
[15:16:08] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[15:16:08] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[15:16:08] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[15:16:08] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[15:16:08] [ENEMY] [Enemy5] Death animation component initialized
[15:16:08] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[15:16:08] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[15:16:08] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[15:16:08] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[15:16:08] [ENEMY] [Enemy6] Death animation component initialized
[15:16:08] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[15:16:08] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[15:16:08] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[15:16:08] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[15:16:08] [INFO] [EnemyGrenade] Initialized: 1 grenades
[15:16:08] [ENEMY] [Enemy7] Death animation component initialized
[15:16:08] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[15:16:08] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[15:16:08] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[15:16:08] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[15:16:08] [ENEMY] [Enemy8] Death animation component initialized
[15:16:08] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[15:16:08] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[15:16:08] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[15:16:08] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[15:16:08] [ENEMY] [Enemy9] Death animation component initialized
[15:16:08] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[15:16:08] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[15:16:08] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[15:16:08] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[15:16:08] [ENEMY] [Enemy10] Death animation component initialized
[15:16:08] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[15:16:08] [INFO] [BloodyFeet:Player] Footprint scene loaded
[15:16:08] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[15:16:08] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[15:16:08] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[15:16:08] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[15:16:08] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[15:16:08] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[15:16:08] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[15:16:08] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[15:16:08] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[15:16:08] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[15:16:08] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 10/10
[15:16:08] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[15:16:08] [INFO] [BloodDecal] Blood puddle created at (640, 360) (added to group)
[15:16:08] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[15:16:08] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[15:16:08] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[15:16:08] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[15:16:08] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[15:16:08] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[15:16:08] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[15:16:08] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[15:16:08] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[15:16:08] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[15:16:08] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[15:16:08] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[15:16:08] [INFO] [BuildingLevel] Setting up weapon: m16
[15:16:08] [INFO] [ScoreManager] Level started with 10 enemies
[15:16:08] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[15:16:08] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[15:16:08] [INFO] [ReplayManager] Replay data cleared
[15:16:08] [INFO] [BuildingLevel] Previous replay data cleared
[15:16:08] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[15:16:08] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[15:16:08] [INFO] [ReplayManager] Level: BuildingLevel
[15:16:08] [INFO] [ReplayManager] Player: Player (valid: True)
[15:16:08] [INFO] [ReplayManager] Enemies count: 10
[15:16:08] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[15:16:08] [INFO] [ReplayManager]   Enemy 0: Enemy1
[15:16:08] [INFO] [ReplayManager]   Enemy 1: Enemy2
[15:16:08] [INFO] [ReplayManager]   Enemy 2: Enemy3
[15:16:08] [INFO] [ReplayManager]   Enemy 3: Enemy4
[15:16:08] [INFO] [ReplayManager]   Enemy 4: Enemy5
[15:16:08] [INFO] [ReplayManager]   Enemy 5: Enemy6
[15:16:08] [INFO] [ReplayManager]   Enemy 6: Enemy7
[15:16:08] [INFO] [ReplayManager]   Enemy 7: Enemy8
[15:16:08] [INFO] [ReplayManager]   Enemy 8: Enemy9
[15:16:08] [INFO] [ReplayManager]   Enemy 9: Enemy10
[15:16:08] [INFO] [BuildingLevel] Replay recording started successfully
[15:16:08] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[15:16:08] [INFO] [CinemaEffects] Found player node: Player
[15:16:08] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[15:16:08] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[15:16:08] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 1)
[15:16:08] [ENEMY] [Enemy1] Registered as sound listener
[15:16:08] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 2, behavior: GUARD
[15:16:08] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[15:16:08] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 2)
[15:16:08] [ENEMY] [Enemy2] Registered as sound listener
[15:16:08] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 4, behavior: GUARD
[15:16:08] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[15:16:08] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 3)
[15:16:08] [ENEMY] [Enemy3] Registered as sound listener
[15:16:08] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 2, behavior: GUARD
[15:16:08] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[15:16:08] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 4)
[15:16:08] [ENEMY] [Enemy4] Registered as sound listener
[15:16:08] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 4, behavior: GUARD
[15:16:08] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[15:16:08] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 5)
[15:16:08] [ENEMY] [Enemy5] Registered as sound listener
[15:16:08] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 3, behavior: GUARD
[15:16:08] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[15:16:08] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 6)
[15:16:08] [ENEMY] [Enemy6] Registered as sound listener
[15:16:08] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 3, behavior: GUARD
[15:16:08] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[15:16:08] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 7)
[15:16:08] [ENEMY] [Enemy7] Registered as sound listener
[15:16:08] [ENEMY] [Enemy7] Spawned at (1606.114, 893.8859), hp: 2, behavior: PATROL
[15:16:08] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[15:16:08] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 8)
[15:16:08] [ENEMY] [Enemy8] Registered as sound listener
[15:16:08] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 3, behavior: GUARD
[15:16:08] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[15:16:08] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 9)
[15:16:08] [ENEMY] [Enemy9] Registered as sound listener
[15:16:08] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 3, behavior: GUARD
[15:16:08] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[15:16:08] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 10)
[15:16:08] [ENEMY] [Enemy10] Registered as sound listener
[15:16:08] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 4, behavior: PATROL
[15:16:08] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[15:16:08] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[15:16:08] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[15:16:08] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=236.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[15:16:08] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[15:16:08] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[15:16:08] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[15:16:08] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=123.7°, current=0.0°, player=(450,1250), corner_timer=0.00
[15:16:08] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[15:16:08] [INFO] [Player] Detecting weapon pose (frame 3)...
[15:16:08] [INFO] [Player] Detected weapon: Rifle (default pose)
[15:16:08] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[15:16:08] [INFO] [PenultimateHit] Shader warmup complete in 384 ms
[15:16:08] [INFO] [LastChance] Shader warmup complete in 383 ms
[15:16:08] [INFO] [CinemaEffects] Cinema shader warmup complete in 330 ms
[15:16:08] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[15:16:08] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[15:16:08] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[15:16:08] [INFO] [LastChance] Found player: Player
[15:16:08] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[15:16:08] [INFO] [LastChance] Connected to player Damaged signal (C#)
[15:16:08] [INFO] [LastChance] Connected to player Died signal (C#)
[15:16:08] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[15:16:08] [INFO] [ImpactEffects] Particle shader warmup complete: 7 effects warmed up in 677 ms
[15:16:09] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[15:16:10] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[15:16:11] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=10
[15:16:11] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[15:16:11] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[15:16:11] [INFO] [BloodyFeet:GuardEnemy1] Footprint scene loaded
[15:16:11] [INFO] [BloodyFeet:GuardEnemy1] Found EnemyModel for facing direction
[15:16:11] [INFO] [BloodyFeet:GuardEnemy1] BloodyFeetComponent ready on GuardEnemy1
[15:16:11] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[15:16:11] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[15:16:11] [INFO] [LastChance] Resetting all effects (scene change detected)
[15:16:11] [INFO] [CinemaEffects] Scene changed to: TestTier
[15:16:11] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[15:16:11] [ENEMY] [GuardEnemy1] Death animation component initialized
[15:16:11] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[15:16:11] [INFO] [BloodyFeet:GuardEnemy2] Footprint scene loaded
[15:16:11] [INFO] [BloodyFeet:GuardEnemy2] Found EnemyModel for facing direction
[15:16:11] [INFO] [BloodyFeet:GuardEnemy2] BloodyFeetComponent ready on GuardEnemy2
[15:16:11] [ENEMY] [GuardEnemy2] Death animation component initialized
[15:16:11] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[15:16:11] [INFO] [BloodyFeet:GuardEnemy3] Footprint scene loaded
[15:16:11] [INFO] [BloodyFeet:GuardEnemy3] Found EnemyModel for facing direction
[15:16:11] [INFO] [BloodyFeet:GuardEnemy3] BloodyFeetComponent ready on GuardEnemy3
[15:16:11] [ENEMY] [GuardEnemy3] Death animation component initialized
[15:16:11] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[15:16:11] [INFO] [BloodyFeet:GuardEnemy4] Footprint scene loaded
[15:16:11] [INFO] [BloodyFeet:GuardEnemy4] Found EnemyModel for facing direction
[15:16:11] [INFO] [BloodyFeet:GuardEnemy4] BloodyFeetComponent ready on GuardEnemy4
[15:16:11] [ENEMY] [GuardEnemy4] Death animation component initialized
[15:16:11] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[15:16:11] [INFO] [BloodyFeet:GuardEnemy5] Footprint scene loaded
[15:16:11] [INFO] [BloodyFeet:GuardEnemy5] Found EnemyModel for facing direction
[15:16:11] [INFO] [BloodyFeet:GuardEnemy5] BloodyFeetComponent ready on GuardEnemy5
[15:16:11] [ENEMY] [GuardEnemy5] Death animation component initialized
[15:16:11] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[15:16:11] [INFO] [BloodyFeet:GuardEnemy6] Footprint scene loaded
[15:16:11] [INFO] [BloodyFeet:GuardEnemy6] Found EnemyModel for facing direction
[15:16:11] [INFO] [BloodyFeet:GuardEnemy6] BloodyFeetComponent ready on GuardEnemy6
[15:16:11] [ENEMY] [GuardEnemy6] Death animation component initialized
[15:16:11] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[15:16:11] [INFO] [BloodyFeet:PatrolEnemy1] Footprint scene loaded
[15:16:11] [INFO] [BloodyFeet:PatrolEnemy1] Found EnemyModel for facing direction
[15:16:11] [INFO] [BloodyFeet:PatrolEnemy1] BloodyFeetComponent ready on PatrolEnemy1
[15:16:11] [ENEMY] [PatrolEnemy1] Death animation component initialized
[15:16:11] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[15:16:11] [INFO] [BloodyFeet:PatrolEnemy2] Footprint scene loaded
[15:16:11] [INFO] [BloodyFeet:PatrolEnemy2] Found EnemyModel for facing direction
[15:16:11] [INFO] [BloodyFeet:PatrolEnemy2] BloodyFeetComponent ready on PatrolEnemy2
[15:16:11] [ENEMY] [PatrolEnemy2] Death animation component initialized
[15:16:11] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[15:16:11] [INFO] [BloodyFeet:PatrolEnemy3] Footprint scene loaded
[15:16:11] [INFO] [BloodyFeet:PatrolEnemy3] Found EnemyModel for facing direction
[15:16:11] [INFO] [BloodyFeet:PatrolEnemy3] BloodyFeetComponent ready on PatrolEnemy3
[15:16:11] [ENEMY] [PatrolEnemy3] Death animation component initialized
[15:16:11] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[15:16:11] [INFO] [BloodyFeet:PatrolEnemy4] Footprint scene loaded
[15:16:11] [INFO] [BloodyFeet:PatrolEnemy4] Found EnemyModel for facing direction
[15:16:11] [INFO] [BloodyFeet:PatrolEnemy4] BloodyFeetComponent ready on PatrolEnemy4
[15:16:11] [ENEMY] [PatrolEnemy4] Death animation component initialized
[15:16:11] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[15:16:11] [INFO] [BloodyFeet:Player] Footprint scene loaded
[15:16:11] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[15:16:11] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[15:16:11] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[15:16:11] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[15:16:11] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[15:16:11] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[15:16:11] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[15:16:11] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[15:16:11] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[15:16:11] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[15:16:11] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 10/10
[15:16:11] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[15:16:11] [INFO] [BloodyFeet:GuardEnemy1] Blood detector created and attached to GuardEnemy1
[15:16:11] [INFO] [CinemaEffects] Found player node: Player
[15:16:11] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[15:16:11] [INFO] [SoundPropagation] Registered listener: GuardEnemy1 (total: 11)
[15:16:11] [ENEMY] [GuardEnemy1] Registered as sound listener
[15:16:11] [ENEMY] [GuardEnemy1] Spawned at (2800, 600), hp: 3, behavior: GUARD
[15:16:11] [INFO] [BloodyFeet:GuardEnemy2] Blood detector created and attached to GuardEnemy2
[15:16:11] [INFO] [SoundPropagation] Registered listener: GuardEnemy2 (total: 12)
[15:16:11] [ENEMY] [GuardEnemy2] Registered as sound listener
[15:16:11] [ENEMY] [GuardEnemy2] Spawned at (2800, 1000), hp: 4, behavior: GUARD
[15:16:11] [INFO] [BloodyFeet:GuardEnemy3] Blood detector created and attached to GuardEnemy3
[15:16:11] [INFO] [SoundPropagation] Registered listener: GuardEnemy3 (total: 13)
[15:16:11] [ENEMY] [GuardEnemy3] Registered as sound listener
[15:16:11] [ENEMY] [GuardEnemy3] Spawned at (3400, 600), hp: 4, behavior: GUARD
[15:16:11] [INFO] [BloodyFeet:GuardEnemy4] Blood detector created and attached to GuardEnemy4
[15:16:11] [INFO] [SoundPropagation] Registered listener: GuardEnemy4 (total: 14)
[15:16:11] [ENEMY] [GuardEnemy4] Registered as sound listener
[15:16:11] [ENEMY] [GuardEnemy4] Spawned at (3400, 1000), hp: 3, behavior: GUARD
[15:16:11] [INFO] [BloodyFeet:GuardEnemy5] Blood detector created and attached to GuardEnemy5
[15:16:11] [INFO] [SoundPropagation] Registered listener: GuardEnemy5 (total: 15)
[15:16:11] [ENEMY] [GuardEnemy5] Registered as sound listener
[15:16:11] [ENEMY] [GuardEnemy5] Spawned at (3000, 2100), hp: 2, behavior: GUARD
[15:16:11] [INFO] [BloodyFeet:GuardEnemy6] Blood detector created and attached to GuardEnemy6
[15:16:11] [INFO] [SoundPropagation] Registered listener: GuardEnemy6 (total: 16)
[15:16:11] [ENEMY] [GuardEnemy6] Registered as sound listener
[15:16:11] [ENEMY] [GuardEnemy6] Spawned at (3000, 2400), hp: 4, behavior: GUARD
[15:16:11] [INFO] [BloodyFeet:PatrolEnemy1] Blood detector created and attached to PatrolEnemy1
[15:16:11] [INFO] [SoundPropagation] Registered listener: PatrolEnemy1 (total: 17)
[15:16:11] [ENEMY] [PatrolEnemy1] Registered as sound listener
[15:16:11] [ENEMY] [PatrolEnemy1] Spawned at (2400, 800), hp: 4, behavior: PATROL
[15:16:11] [INFO] [BloodyFeet:PatrolEnemy2] Blood detector created and attached to PatrolEnemy2
[15:16:11] [INFO] [SoundPropagation] Registered listener: PatrolEnemy2 (total: 18)
[15:16:11] [ENEMY] [PatrolEnemy2] Registered as sound listener
[15:16:11] [ENEMY] [PatrolEnemy2] Spawned at (2400, 2300), hp: 2, behavior: PATROL
[15:16:11] [INFO] [BloodyFeet:PatrolEnemy3] Blood detector created and attached to PatrolEnemy3
[15:16:11] [INFO] [SoundPropagation] Registered listener: PatrolEnemy3 (total: 19)
[15:16:11] [ENEMY] [PatrolEnemy3] Registered as sound listener
[15:16:11] [ENEMY] [PatrolEnemy3] Spawned at (2800, 1544), hp: 3, behavior: PATROL
[15:16:11] [INFO] [BloodyFeet:PatrolEnemy4] Blood detector created and attached to PatrolEnemy4
[15:16:11] [INFO] [SoundPropagation] Registered listener: PatrolEnemy4 (total: 20)
[15:16:11] [ENEMY] [PatrolEnemy4] Registered as sound listener
[15:16:11] [ENEMY] [PatrolEnemy4] Spawned at (3600, 1544), hp: 4, behavior: PATROL
[15:16:11] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[15:16:11] [ENEMY] [GuardEnemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(264,1544), corner_timer=0.00
[15:16:11] [ENEMY] [GuardEnemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(264,1544), corner_timer=0.00
[15:16:11] [ENEMY] [GuardEnemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(264,1544), corner_timer=0.00
[15:16:11] [ENEMY] [GuardEnemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(264,1544), corner_timer=0.00
[15:16:11] [ENEMY] [GuardEnemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(264,1544), corner_timer=0.00
[15:16:11] [ENEMY] [GuardEnemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(264,1544), corner_timer=0.00
[15:16:11] [INFO] [Player] Detecting weapon pose (frame 3)...
[15:16:11] [INFO] [Player] Detected weapon: Rifle (default pose)
[15:16:11] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[15:16:11] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[15:16:11] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[15:16:11] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[15:16:11] [INFO] [LastChance] Found player: Player
[15:16:11] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[15:16:11] [INFO] [LastChance] Connected to player Damaged signal (C#)
[15:16:11] [INFO] [LastChance] Connected to player Died signal (C#)
[15:16:11] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[15:16:12] [INFO] [ReplayManager] Recording frame 240 (4,1s): player_valid=False, enemies=10
[15:16:13] [ENEMY] [GuardEnemy3] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=165.5°, current=146.3°, player=(264,1410), corner_timer=0.00
[15:16:13] [ENEMY] [GuardEnemy3] State: IDLE -> COMBAT
[15:16:13] [ENEMY] [GuardEnemy3] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=165.7°, current=-42.4°, player=(264,1399), corner_timer=0.00
[15:16:13] [ENEMY] [GuardEnemy4] Memory: high confidence (0.89) - transitioning to PURSUING
[15:16:13] [ENEMY] [GuardEnemy4] State: IDLE -> PURSUING
[15:16:13] [ENEMY] [PatrolEnemy1] PATROL corner check: angle -0.0°
[15:16:13] [ENEMY] [PatrolEnemy2] PATROL corner check: angle 180.0°
[15:16:13] [ENEMY] [PatrolEnemy3] PATROL corner check: angle -98.6°
[15:16:13] [ENEMY] [PatrolEnemy4] Memory: high confidence (0.80) - transitioning to PURSUING
[15:16:13] [ENEMY] [PatrolEnemy4] State: IDLE -> PURSUING
[15:16:13] [ENEMY] [GuardEnemy2] Memory: high confidence (0.80) - transitioning to PURSUING
[15:16:13] [ENEMY] [GuardEnemy2] State: IDLE -> PURSUING
[15:16:13] [ENEMY] [GuardEnemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=172.9°, current=-168.8°, player=(264,1388), corner_timer=0.00
[15:16:13] [ENEMY] [GuardEnemy4] PURSUING_MEMORY corner check: angle 82.6°
[15:16:13] [ENEMY] [PatrolEnemy1] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(264,1388), corner_timer=0.30
[15:16:13] [ENEMY] [PatrolEnemy2] ROT_CHANGE: none -> P3:corner, state=IDLE, target=180.0°, current=-90.0°, player=(264,1388), corner_timer=0.30
[15:16:13] [ENEMY] [PatrolEnemy3] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-98.6°, current=-8.6°, player=(264,1388), corner_timer=0.30
[15:16:13] [ENEMY] [PatrolEnemy4] ROT_CHANGE: none -> P2:combat_state, state=PURSUING, target=-177.3°, current=0.0°, player=(264,1388), corner_timer=0.00
[15:16:13] [ENEMY] [PatrolEnemy4] PURSUING_MEMORY corner check: angle 92.4°
[15:16:13] [ENEMY] [GuardEnemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=171.4°, current=-33.8°, player=(264,1383), corner_timer=0.00
[15:16:13] [ENEMY] [GuardEnemy2] PURSUING_MEMORY corner check: angle 80.9°
[15:16:13] [ENEMY] [GuardEnemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=172.0°, current=145.8°, player=(264,1355), corner_timer=0.23
[15:16:13] [ENEMY] [GuardEnemy2] Warning: No valid flank position (both sides behind walls)
[15:16:13] [ENEMY] [GuardEnemy2] FLANKING started: target=(339.012, 1170.266), side=left, pos=(2773.667, 1004.207)
[15:16:13] [ENEMY] [GuardEnemy2] State: PURSUING -> FLANKING
[15:16:13] [ENEMY] [GuardEnemy2] State: FLANKING -> COMBAT
[15:16:13] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=90.0°, current=35.6°, player=(291,1295), corner_timer=-0.02
[15:16:13] [ENEMY] [PatrolEnemy1] PATROL corner check: angle -0.0°
[15:16:13] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=-90.0°, current=-144.4°, player=(291,1295), corner_timer=-0.02
[15:16:13] [ENEMY] [PatrolEnemy2] PATROL corner check: angle 180.0°
[15:16:13] [ENEMY] [PatrolEnemy3] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=-4.5°, current=-58.9°, player=(291,1295), corner_timer=-0.02
[15:16:13] [ENEMY] [PatrolEnemy3] PATROL corner check: angle -94.2°
[15:16:13] [INFO] [ReplayManager] Recording frame 300 (5,1s): player_valid=False, enemies=10
[15:16:13] [ENEMY] [GuardEnemy4] PURSUING_MEMORY corner check: angle 82.6°
[15:16:13] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-0.0°, current=38.4°, player=(295,1291), corner_timer=0.30
[15:16:13] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=180.0°, current=-141.6°, player=(295,1291), corner_timer=0.30
[15:16:13] [ENEMY] [PatrolEnemy3] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-94.2°, current=-55.8°, player=(295,1291), corner_timer=0.30
[15:16:13] [ENEMY] [PatrolEnemy4] PURSUING_MEMORY corner check: angle 92.4°
[15:16:13] [ENEMY] [GuardEnemy3] State: COMBAT -> PURSUING
[15:16:13] [ENEMY] [PatrolEnemy1] Memory: high confidence (0.90) - transitioning to PURSUING
[15:16:13] [ENEMY] [PatrolEnemy1] State: IDLE -> PURSUING
[15:16:13] [ENEMY] [PatrolEnemy3] Memory: high confidence (0.90) - transitioning to PURSUING
[15:16:13] [ENEMY] [PatrolEnemy3] State: IDLE -> PURSUING
[15:16:13] [ENEMY] [GuardEnemy1] Memory: high confidence (0.90) - transitioning to PURSUING
[15:16:13] [ENEMY] [GuardEnemy1] State: IDLE -> PURSUING
[15:16:13] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=170.5°, current=6.9°, player=(343,1260), corner_timer=0.13
[15:16:13] [ENEMY] [PatrolEnemy3] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=-176.0°, current=-62.9°, player=(343,1260), corner_timer=0.13
[15:16:13] [ENEMY] [GuardEnemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=165.0°, current=146.3°, player=(348,1259), corner_timer=0.00
[15:16:13] [ENEMY] [GuardEnemy1] PURSUING_MEMORY corner check: angle 75.0°
[15:16:13] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=-90.0°, current=180.0°, player=(386,1257), corner_timer=-0.02
[15:16:13] [ENEMY] [PatrolEnemy2] PATROL corner check: angle 180.0°
[15:16:13] [ENEMY] [GuardEnemy4] PURSUING_MEMORY corner check: angle 85.3°
[15:16:13] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=180.0°, current=-177.1°, player=(391,1257), corner_timer=0.30
[15:16:13] [ENEMY] [PatrolEnemy3] PURSUING_MEMORY corner check: angle -86.1°
[15:16:13] [ENEMY] [PatrolEnemy4] PURSUING_MEMORY corner check: angle 95.1°
[15:16:13] [ENEMY] [PatrolEnemy1] PURSUING corner check: angle 105.2°
[15:16:13] [ENEMY] [GuardEnemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=175.2°, current=126.8°, player=(413,1257), corner_timer=0.25
[15:16:13] [ENEMY] [GuardEnemy4] Warning: No valid flank position (both sides behind walls)
[15:16:13] [ENEMY] [GuardEnemy4] FLANKING started: target=(498.7645, 1076.569), side=left, pos=(3166.912, 1026.68)
[15:16:13] [ENEMY] [GuardEnemy4] State: PURSUING -> FLANKING
[15:16:13] [ENEMY] [GuardEnemy1] PURSUING_MEMORY corner check: angle 75.0°
[15:16:13] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[15:16:13] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[15:16:13] [INFO] [BloodyFeet:GuardEnemy1] Footprint scene loaded
[15:16:13] [INFO] [BloodyFeet:GuardEnemy1] Found EnemyModel for facing direction
[15:16:13] [INFO] [BloodyFeet:GuardEnemy1] BloodyFeetComponent ready on GuardEnemy1
[15:16:13] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[15:16:13] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[15:16:13] [INFO] [LastChance] Resetting all effects (scene change detected)
[15:16:13] [INFO] [CinemaEffects] Scene changed to: TestTier
[15:16:13] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[15:16:14] [ENEMY] [GuardEnemy1] Death animation component initialized
[15:16:14] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[15:16:14] [INFO] [BloodyFeet:GuardEnemy2] Footprint scene loaded
[15:16:14] [INFO] [BloodyFeet:GuardEnemy2] Found EnemyModel for facing direction
[15:16:14] [INFO] [BloodyFeet:GuardEnemy2] BloodyFeetComponent ready on GuardEnemy2
[15:16:14] [ENEMY] [GuardEnemy2] Death animation component initialized
[15:16:14] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[15:16:14] [INFO] [BloodyFeet:GuardEnemy3] Footprint scene loaded
[15:16:14] [INFO] [BloodyFeet:GuardEnemy3] Found EnemyModel for facing direction
[15:16:14] [INFO] [BloodyFeet:GuardEnemy3] BloodyFeetComponent ready on GuardEnemy3
[15:16:14] [ENEMY] [GuardEnemy3] Death animation component initialized
[15:16:14] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[15:16:14] [INFO] [BloodyFeet:GuardEnemy4] Footprint scene loaded
[15:16:14] [INFO] [BloodyFeet:GuardEnemy4] Found EnemyModel for facing direction
[15:16:14] [INFO] [BloodyFeet:GuardEnemy4] BloodyFeetComponent ready on GuardEnemy4
[15:16:14] [ENEMY] [GuardEnemy4] Death animation component initialized
[15:16:14] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[15:16:14] [INFO] [BloodyFeet:GuardEnemy5] Footprint scene loaded
[15:16:14] [INFO] [BloodyFeet:GuardEnemy5] Found EnemyModel for facing direction
[15:16:14] [INFO] [BloodyFeet:GuardEnemy5] BloodyFeetComponent ready on GuardEnemy5
[15:16:14] [ENEMY] [GuardEnemy5] Death animation component initialized
[15:16:14] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[15:16:14] [INFO] [BloodyFeet:GuardEnemy6] Footprint scene loaded
[15:16:14] [INFO] [BloodyFeet:GuardEnemy6] Found EnemyModel for facing direction
[15:16:14] [INFO] [BloodyFeet:GuardEnemy6] BloodyFeetComponent ready on GuardEnemy6
[15:16:14] [ENEMY] [GuardEnemy6] Death animation component initialized
[15:16:14] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[15:16:14] [INFO] [BloodyFeet:PatrolEnemy1] Footprint scene loaded
[15:16:14] [INFO] [BloodyFeet:PatrolEnemy1] Found EnemyModel for facing direction
[15:16:14] [INFO] [BloodyFeet:PatrolEnemy1] BloodyFeetComponent ready on PatrolEnemy1
[15:16:14] [ENEMY] [PatrolEnemy1] Death animation component initialized
[15:16:14] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[15:16:14] [INFO] [BloodyFeet:PatrolEnemy2] Footprint scene loaded
[15:16:14] [INFO] [BloodyFeet:PatrolEnemy2] Found EnemyModel for facing direction
[15:16:14] [INFO] [BloodyFeet:PatrolEnemy2] BloodyFeetComponent ready on PatrolEnemy2
[15:16:14] [ENEMY] [PatrolEnemy2] Death animation component initialized
[15:16:14] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[15:16:14] [INFO] [BloodyFeet:PatrolEnemy3] Footprint scene loaded
[15:16:14] [INFO] [BloodyFeet:PatrolEnemy3] Found EnemyModel for facing direction
[15:16:14] [INFO] [BloodyFeet:PatrolEnemy3] BloodyFeetComponent ready on PatrolEnemy3
[15:16:14] [ENEMY] [PatrolEnemy3] Death animation component initialized
[15:16:14] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[15:16:14] [INFO] [BloodyFeet:PatrolEnemy4] Footprint scene loaded
[15:16:14] [INFO] [BloodyFeet:PatrolEnemy4] Found EnemyModel for facing direction
[15:16:14] [INFO] [BloodyFeet:PatrolEnemy4] BloodyFeetComponent ready on PatrolEnemy4
[15:16:14] [ENEMY] [PatrolEnemy4] Death animation component initialized
[15:16:14] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[15:16:14] [INFO] [BloodyFeet:Player] Footprint scene loaded
[15:16:14] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[15:16:14] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[15:16:14] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[15:16:14] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[15:16:14] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[15:16:14] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[15:16:14] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[15:16:14] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[15:16:14] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[15:16:14] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[15:16:14] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 10/10
[15:16:14] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[15:16:14] [INFO] [BloodyFeet:GuardEnemy1] Blood detector created and attached to GuardEnemy1
[15:16:14] [INFO] [CinemaEffects] Found player node: Player
[15:16:14] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[15:16:14] [INFO] [SoundPropagation] Registered listener: GuardEnemy1 (total: 21)
[15:16:14] [ENEMY] [GuardEnemy1] Registered as sound listener
[15:16:14] [ENEMY] [GuardEnemy1] Spawned at (2800, 600), hp: 4, behavior: GUARD
[15:16:14] [INFO] [BloodyFeet:GuardEnemy2] Blood detector created and attached to GuardEnemy2
[15:16:14] [INFO] [SoundPropagation] Registered listener: GuardEnemy2 (total: 22)
[15:16:14] [ENEMY] [GuardEnemy2] Registered as sound listener
[15:16:14] [ENEMY] [GuardEnemy2] Spawned at (2800, 1000), hp: 2, behavior: GUARD
[15:16:14] [INFO] [BloodyFeet:GuardEnemy3] Blood detector created and attached to GuardEnemy3
[15:16:14] [INFO] [SoundPropagation] Registered listener: GuardEnemy3 (total: 23)
[15:16:14] [ENEMY] [GuardEnemy3] Registered as sound listener
[15:16:14] [ENEMY] [GuardEnemy3] Spawned at (3400, 600), hp: 4, behavior: GUARD
[15:16:14] [INFO] [BloodyFeet:GuardEnemy4] Blood detector created and attached to GuardEnemy4
[15:16:14] [INFO] [SoundPropagation] Registered listener: GuardEnemy4 (total: 24)
[15:16:14] [ENEMY] [GuardEnemy4] Registered as sound listener
[15:16:14] [ENEMY] [GuardEnemy4] Spawned at (3400, 1000), hp: 2, behavior: GUARD
[15:16:14] [INFO] [BloodyFeet:GuardEnemy5] Blood detector created and attached to GuardEnemy5
[15:16:14] [INFO] [SoundPropagation] Registered listener: GuardEnemy5 (total: 25)
[15:16:14] [ENEMY] [GuardEnemy5] Registered as sound listener
[15:16:14] [ENEMY] [GuardEnemy5] Spawned at (3000, 2100), hp: 3, behavior: GUARD
[15:16:14] [INFO] [BloodyFeet:GuardEnemy6] Blood detector created and attached to GuardEnemy6
[15:16:14] [INFO] [SoundPropagation] Registered listener: GuardEnemy6 (total: 26)
[15:16:14] [ENEMY] [GuardEnemy6] Registered as sound listener
[15:16:14] [ENEMY] [GuardEnemy6] Spawned at (3000, 2400), hp: 4, behavior: GUARD
[15:16:14] [INFO] [BloodyFeet:PatrolEnemy1] Blood detector created and attached to PatrolEnemy1
[15:16:14] [INFO] [SoundPropagation] Registered listener: PatrolEnemy1 (total: 27)
[15:16:14] [ENEMY] [PatrolEnemy1] Registered as sound listener
[15:16:14] [ENEMY] [PatrolEnemy1] Spawned at (2400, 800), hp: 4, behavior: PATROL
[15:16:14] [INFO] [BloodyFeet:PatrolEnemy2] Blood detector created and attached to PatrolEnemy2
[15:16:14] [INFO] [SoundPropagation] Registered listener: PatrolEnemy2 (total: 28)
[15:16:14] [ENEMY] [PatrolEnemy2] Registered as sound listener
[15:16:14] [ENEMY] [PatrolEnemy2] Spawned at (2400, 2300), hp: 3, behavior: PATROL
[15:16:14] [INFO] [BloodyFeet:PatrolEnemy3] Blood detector created and attached to PatrolEnemy3
[15:16:14] [INFO] [SoundPropagation] Registered listener: PatrolEnemy3 (total: 29)
[15:16:14] [ENEMY] [PatrolEnemy3] Registered as sound listener
[15:16:14] [ENEMY] [PatrolEnemy3] Spawned at (2800, 1544), hp: 4, behavior: PATROL
[15:16:14] [INFO] [BloodyFeet:PatrolEnemy4] Blood detector created and attached to PatrolEnemy4
[15:16:14] [INFO] [SoundPropagation] Registered listener: PatrolEnemy4 (total: 30)
[15:16:14] [ENEMY] [PatrolEnemy4] Registered as sound listener
[15:16:14] [ENEMY] [PatrolEnemy4] Spawned at (3600, 1544), hp: 4, behavior: PATROL
[15:16:14] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[15:16:14] [ENEMY] [GuardEnemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(264,1544), corner_timer=0.00
[15:16:14] [ENEMY] [GuardEnemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(264,1544), corner_timer=0.00
[15:16:14] [ENEMY] [GuardEnemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(264,1544), corner_timer=0.00
[15:16:14] [ENEMY] [GuardEnemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=281.3°, current=0.0°, player=(264,1544), corner_timer=0.00
[15:16:14] [ENEMY] [GuardEnemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(264,1544), corner_timer=0.00
[15:16:14] [ENEMY] [GuardEnemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(264,1544), corner_timer=0.00
[15:16:14] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[15:16:14] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[15:16:14] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[15:16:14] [INFO] [LastChance] Found player: Player
[15:16:14] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[15:16:14] [INFO] [LastChance] Connected to player Damaged signal (C#)
[15:16:14] [INFO] [LastChance] Connected to player Died signal (C#)
[15:16:14] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[15:16:14] [INFO] [Player] Detecting weapon pose (frame 3)...
[15:16:14] [INFO] [Player] Detected weapon: Rifle (default pose)
[15:16:14] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[15:16:14] [INFO] [ReplayManager] Recording frame 360 (6,1s): player_valid=False, enemies=10
[15:16:15] [INFO] [ReplayManager] Recording frame 420 (7,1s): player_valid=False, enemies=10
[15:16:15] [ENEMY] [GuardEnemy3] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=165.5°, current=-168.8°, player=(264,1409), corner_timer=0.00
[15:16:15] [ENEMY] [GuardEnemy3] State: IDLE -> COMBAT
[15:16:15] [ENEMY] [GuardEnemy3] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=165.6°, current=-8.9°, player=(264,1403), corner_timer=0.00
[15:16:16] [INFO] [PauseMenu] Armory button pressed
[15:16:16] [INFO] [PauseMenu] Creating new armory menu instance
[15:16:16] [INFO] [PauseMenu] armory_menu_scene resource path: res://scenes/ui/ArmoryMenu.tscn
[15:16:16] [INFO] [PauseMenu] Instance created, class: CanvasLayer, name: ArmoryMenu
[15:16:16] [INFO] [PauseMenu] Script attached: res://scripts/ui/armory_menu.gd
[15:16:16] [INFO] [PauseMenu] back_pressed signal exists on instance
[15:16:16] [INFO] [PauseMenu] back_pressed signal connected
[15:16:16] [INFO] [PauseMenu] Armory menu instance added as child, is_inside_tree: true
[15:16:16] [INFO] [PauseMenu] _populate_weapon_grid method exists
[15:16:16] [INFO] [ReplayManager] Recording frame 480 (8,1s): player_valid=False, enemies=10
[15:16:17] [INFO] [ReplayManager] Recording frame 540 (9,1s): player_valid=False, enemies=10
[15:16:18] [INFO] [GameManager] Weapon selected: sniper
[15:16:18] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[15:16:18] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[15:16:18] [INFO] [BloodyFeet:GuardEnemy1] Footprint scene loaded
[15:16:18] [INFO] [BloodyFeet:GuardEnemy1] Found EnemyModel for facing direction
[15:16:18] [INFO] [BloodyFeet:GuardEnemy1] BloodyFeetComponent ready on GuardEnemy1
[15:16:18] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[15:16:18] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[15:16:18] [INFO] [LastChance] Resetting all effects (scene change detected)
[15:16:18] [INFO] [CinemaEffects] Scene changed to: TestTier
[15:16:18] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[15:16:18] [ENEMY] [GuardEnemy1] Death animation component initialized
[15:16:18] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[15:16:18] [INFO] [BloodyFeet:GuardEnemy2] Footprint scene loaded
[15:16:18] [INFO] [BloodyFeet:GuardEnemy2] Found EnemyModel for facing direction
[15:16:18] [INFO] [BloodyFeet:GuardEnemy2] BloodyFeetComponent ready on GuardEnemy2
[15:16:18] [ENEMY] [GuardEnemy2] Death animation component initialized
[15:16:18] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[15:16:18] [INFO] [BloodyFeet:GuardEnemy3] Footprint scene loaded
[15:16:18] [INFO] [BloodyFeet:GuardEnemy3] Found EnemyModel for facing direction
[15:16:18] [INFO] [BloodyFeet:GuardEnemy3] BloodyFeetComponent ready on GuardEnemy3
[15:16:18] [ENEMY] [GuardEnemy3] Death animation component initialized
[15:16:18] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[15:16:18] [INFO] [BloodyFeet:GuardEnemy4] Footprint scene loaded
[15:16:18] [INFO] [BloodyFeet:GuardEnemy4] Found EnemyModel for facing direction
[15:16:18] [INFO] [BloodyFeet:GuardEnemy4] BloodyFeetComponent ready on GuardEnemy4
[15:16:18] [INFO] [EnemyGrenade] Initialized: 1 grenades
[15:16:18] [ENEMY] [GuardEnemy4] Death animation component initialized
[15:16:18] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[15:16:18] [INFO] [BloodyFeet:GuardEnemy5] Footprint scene loaded
[15:16:18] [INFO] [BloodyFeet:GuardEnemy5] Found EnemyModel for facing direction
[15:16:18] [INFO] [BloodyFeet:GuardEnemy5] BloodyFeetComponent ready on GuardEnemy5
[15:16:18] [ENEMY] [GuardEnemy5] Death animation component initialized
[15:16:18] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[15:16:18] [INFO] [BloodyFeet:GuardEnemy6] Footprint scene loaded
[15:16:18] [INFO] [BloodyFeet:GuardEnemy6] Found EnemyModel for facing direction
[15:16:18] [INFO] [BloodyFeet:GuardEnemy6] BloodyFeetComponent ready on GuardEnemy6
[15:16:18] [ENEMY] [GuardEnemy6] Death animation component initialized
[15:16:18] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[15:16:18] [INFO] [BloodyFeet:PatrolEnemy1] Footprint scene loaded
[15:16:18] [INFO] [BloodyFeet:PatrolEnemy1] Found EnemyModel for facing direction
[15:16:18] [INFO] [BloodyFeet:PatrolEnemy1] BloodyFeetComponent ready on PatrolEnemy1
[15:16:18] [ENEMY] [PatrolEnemy1] Death animation component initialized
[15:16:18] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[15:16:18] [INFO] [BloodyFeet:PatrolEnemy2] Footprint scene loaded
[15:16:18] [INFO] [BloodyFeet:PatrolEnemy2] Found EnemyModel for facing direction
[15:16:18] [INFO] [BloodyFeet:PatrolEnemy2] BloodyFeetComponent ready on PatrolEnemy2
[15:16:18] [ENEMY] [PatrolEnemy2] Death animation component initialized
[15:16:18] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[15:16:18] [INFO] [BloodyFeet:PatrolEnemy3] Footprint scene loaded
[15:16:18] [INFO] [BloodyFeet:PatrolEnemy3] Found EnemyModel for facing direction
[15:16:18] [INFO] [BloodyFeet:PatrolEnemy3] BloodyFeetComponent ready on PatrolEnemy3
[15:16:18] [ENEMY] [PatrolEnemy3] Death animation component initialized
[15:16:18] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[15:16:18] [INFO] [BloodyFeet:PatrolEnemy4] Footprint scene loaded
[15:16:18] [INFO] [BloodyFeet:PatrolEnemy4] Found EnemyModel for facing direction
[15:16:18] [INFO] [BloodyFeet:PatrolEnemy4] BloodyFeetComponent ready on PatrolEnemy4
[15:16:18] [INFO] [EnemyGrenade] Initialized: 1 grenades
[15:16:18] [ENEMY] [PatrolEnemy4] Death animation component initialized
[15:16:18] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[15:16:18] [INFO] [BloodyFeet:Player] Footprint scene loaded
[15:16:18] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[15:16:18] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[15:16:18] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[15:16:18] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[15:16:18] [INFO] [Player.Weapon] GameManager weapon selection: sniper (SniperRifle)
[15:16:18] [INFO] [Player.Weapon] Removed default AssaultRifle
[15:16:18] [INFO] [Player.Weapon] Equipped SniperRifle (ammo: 5/5)
[15:16:18] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[15:16:18] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[15:16:18] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[15:16:18] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[15:16:18] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[15:16:18] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[15:16:18] [INFO] [Player] Ready! Ammo: 5/5, Grenades: 1/3, Health: 10/10
[15:16:18] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[15:16:18] [INFO] [BloodyFeet:GuardEnemy1] Blood detector created and attached to GuardEnemy1
[15:16:18] [INFO] [CinemaEffects] Found player node: Player
[15:16:18] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[15:16:18] [INFO] [SoundPropagation] Registered listener: GuardEnemy1 (total: 31)
[15:16:18] [ENEMY] [GuardEnemy1] Registered as sound listener
[15:16:18] [ENEMY] [GuardEnemy1] Spawned at (2800, 600), hp: 3, behavior: GUARD
[15:16:18] [INFO] [BloodyFeet:GuardEnemy2] Blood detector created and attached to GuardEnemy2
[15:16:18] [INFO] [SoundPropagation] Registered listener: GuardEnemy2 (total: 32)
[15:16:18] [ENEMY] [GuardEnemy2] Registered as sound listener
[15:16:18] [ENEMY] [GuardEnemy2] Spawned at (2800, 1000), hp: 4, behavior: GUARD
[15:16:18] [INFO] [BloodyFeet:GuardEnemy3] Blood detector created and attached to GuardEnemy3
[15:16:18] [INFO] [SoundPropagation] Registered listener: GuardEnemy3 (total: 33)
[15:16:18] [ENEMY] [GuardEnemy3] Registered as sound listener
[15:16:18] [ENEMY] [GuardEnemy3] Spawned at (3400, 600), hp: 3, behavior: GUARD
[15:16:18] [INFO] [BloodyFeet:GuardEnemy4] Blood detector created and attached to GuardEnemy4
[15:16:18] [INFO] [SoundPropagation] Registered listener: GuardEnemy4 (total: 34)
[15:16:18] [ENEMY] [GuardEnemy4] Registered as sound listener
[15:16:18] [ENEMY] [GuardEnemy4] Spawned at (3400, 1000), hp: 3, behavior: GUARD
[15:16:18] [INFO] [BloodyFeet:GuardEnemy5] Blood detector created and attached to GuardEnemy5
[15:16:18] [INFO] [SoundPropagation] Registered listener: GuardEnemy5 (total: 35)
[15:16:18] [ENEMY] [GuardEnemy5] Registered as sound listener
[15:16:18] [ENEMY] [GuardEnemy5] Spawned at (3000, 2100), hp: 3, behavior: GUARD
[15:16:18] [INFO] [BloodyFeet:GuardEnemy6] Blood detector created and attached to GuardEnemy6
[15:16:18] [INFO] [SoundPropagation] Registered listener: GuardEnemy6 (total: 36)
[15:16:18] [ENEMY] [GuardEnemy6] Registered as sound listener
[15:16:18] [ENEMY] [GuardEnemy6] Spawned at (3000, 2400), hp: 3, behavior: GUARD
[15:16:18] [INFO] [BloodyFeet:PatrolEnemy1] Blood detector created and attached to PatrolEnemy1
[15:16:18] [INFO] [SoundPropagation] Registered listener: PatrolEnemy1 (total: 37)
[15:16:18] [ENEMY] [PatrolEnemy1] Registered as sound listener
[15:16:18] [ENEMY] [PatrolEnemy1] Spawned at (2400, 800), hp: 2, behavior: PATROL
[15:16:18] [INFO] [BloodyFeet:PatrolEnemy2] Blood detector created and attached to PatrolEnemy2
[15:16:18] [INFO] [SoundPropagation] Registered listener: PatrolEnemy2 (total: 38)
[15:16:18] [ENEMY] [PatrolEnemy2] Registered as sound listener
[15:16:18] [ENEMY] [PatrolEnemy2] Spawned at (2400, 2300), hp: 2, behavior: PATROL
[15:16:18] [INFO] [BloodyFeet:PatrolEnemy3] Blood detector created and attached to PatrolEnemy3
[15:16:18] [INFO] [SoundPropagation] Registered listener: PatrolEnemy3 (total: 39)
[15:16:18] [ENEMY] [PatrolEnemy3] Registered as sound listener
[15:16:18] [ENEMY] [PatrolEnemy3] Spawned at (2800, 1544), hp: 3, behavior: PATROL
[15:16:18] [INFO] [BloodyFeet:PatrolEnemy4] Blood detector created and attached to PatrolEnemy4
[15:16:18] [INFO] [SoundPropagation] Registered listener: PatrolEnemy4 (total: 40)
[15:16:18] [ENEMY] [PatrolEnemy4] Registered as sound listener
[15:16:18] [ENEMY] [PatrolEnemy4] Spawned at (3600, 1544), hp: 4, behavior: PATROL
[15:16:18] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[15:16:18] [ENEMY] [GuardEnemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(264,1544), corner_timer=0.00
[15:16:18] [ENEMY] [GuardEnemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(264,1544), corner_timer=0.00
[15:16:18] [ENEMY] [GuardEnemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=236.3°, current=0.0°, player=(264,1544), corner_timer=0.00
[15:16:18] [ENEMY] [GuardEnemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=236.3°, current=0.0°, player=(264,1544), corner_timer=0.00
[15:16:18] [ENEMY] [GuardEnemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(264,1544), corner_timer=0.00
[15:16:18] [ENEMY] [GuardEnemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(264,1544), corner_timer=0.00
[15:16:18] [INFO] [Player] Detecting weapon pose (frame 3)...
[15:16:18] [INFO] [Player] Detected weapon: ASVK Sniper Rifle (Sniper pose)
[15:16:18] [INFO] [Player] Applied Sniper arm pose: Left=(28, 6), Right=(-3, 6)
[15:16:18] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[15:16:18] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[15:16:18] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[15:16:18] [INFO] [LastChance] Found player: Player
[15:16:18] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[15:16:18] [INFO] [LastChance] Connected to player Damaged signal (C#)
[15:16:18] [INFO] [LastChance] Connected to player Died signal (C#)
[15:16:18] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[15:16:18] [INFO] [ReplayManager] Recording frame 600 (10,1s): player_valid=False, enemies=10
[15:16:19] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[15:16:19] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[15:16:19] [INFO] [BloodyFeet:GuardEnemy1] Footprint scene loaded
[15:16:19] [INFO] [BloodyFeet:GuardEnemy1] Found EnemyModel for facing direction
[15:16:19] [INFO] [BloodyFeet:GuardEnemy1] BloodyFeetComponent ready on GuardEnemy1
[15:16:19] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[15:16:19] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[15:16:19] [INFO] [LastChance] Resetting all effects (scene change detected)
[15:16:19] [INFO] [CinemaEffects] Scene changed to: TestTier
[15:16:19] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[15:16:19] [ENEMY] [GuardEnemy1] Death animation component initialized
[15:16:19] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[15:16:19] [INFO] [BloodyFeet:GuardEnemy2] Footprint scene loaded
[15:16:19] [INFO] [BloodyFeet:GuardEnemy2] Found EnemyModel for facing direction
[15:16:19] [INFO] [BloodyFeet:GuardEnemy2] BloodyFeetComponent ready on GuardEnemy2
[15:16:19] [ENEMY] [GuardEnemy2] Death animation component initialized
[15:16:19] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[15:16:19] [INFO] [BloodyFeet:GuardEnemy3] Footprint scene loaded
[15:16:19] [INFO] [BloodyFeet:GuardEnemy3] Found EnemyModel for facing direction
[15:16:19] [INFO] [BloodyFeet:GuardEnemy3] BloodyFeetComponent ready on GuardEnemy3
[15:16:19] [ENEMY] [GuardEnemy3] Death animation component initialized
[15:16:19] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[15:16:19] [INFO] [BloodyFeet:GuardEnemy4] Footprint scene loaded
[15:16:19] [INFO] [BloodyFeet:GuardEnemy4] Found EnemyModel for facing direction
[15:16:19] [INFO] [BloodyFeet:GuardEnemy4] BloodyFeetComponent ready on GuardEnemy4
[15:16:19] [INFO] [EnemyGrenade] Initialized: 1 grenades
[15:16:19] [ENEMY] [GuardEnemy4] Death animation component initialized
[15:16:19] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[15:16:19] [INFO] [BloodyFeet:GuardEnemy5] Footprint scene loaded
[15:16:19] [INFO] [BloodyFeet:GuardEnemy5] Found EnemyModel for facing direction
[15:16:19] [INFO] [BloodyFeet:GuardEnemy5] BloodyFeetComponent ready on GuardEnemy5
[15:16:19] [ENEMY] [GuardEnemy5] Death animation component initialized
[15:16:19] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[15:16:19] [INFO] [BloodyFeet:GuardEnemy6] Footprint scene loaded
[15:16:19] [INFO] [BloodyFeet:GuardEnemy6] Found EnemyModel for facing direction
[15:16:19] [INFO] [BloodyFeet:GuardEnemy6] BloodyFeetComponent ready on GuardEnemy6
[15:16:19] [ENEMY] [GuardEnemy6] Death animation component initialized
[15:16:19] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[15:16:19] [INFO] [BloodyFeet:PatrolEnemy1] Footprint scene loaded
[15:16:19] [INFO] [BloodyFeet:PatrolEnemy1] Found EnemyModel for facing direction
[15:16:19] [INFO] [BloodyFeet:PatrolEnemy1] BloodyFeetComponent ready on PatrolEnemy1
[15:16:19] [ENEMY] [PatrolEnemy1] Death animation component initialized
[15:16:19] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[15:16:19] [INFO] [BloodyFeet:PatrolEnemy2] Footprint scene loaded
[15:16:19] [INFO] [BloodyFeet:PatrolEnemy2] Found EnemyModel for facing direction
[15:16:19] [INFO] [BloodyFeet:PatrolEnemy2] BloodyFeetComponent ready on PatrolEnemy2
[15:16:19] [ENEMY] [PatrolEnemy2] Death animation component initialized
[15:16:19] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[15:16:19] [INFO] [BloodyFeet:PatrolEnemy3] Footprint scene loaded
[15:16:19] [INFO] [BloodyFeet:PatrolEnemy3] Found EnemyModel for facing direction
[15:16:19] [INFO] [BloodyFeet:PatrolEnemy3] BloodyFeetComponent ready on PatrolEnemy3
[15:16:19] [ENEMY] [PatrolEnemy3] Death animation component initialized
[15:16:19] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[15:16:19] [INFO] [BloodyFeet:PatrolEnemy4] Footprint scene loaded
[15:16:19] [INFO] [BloodyFeet:PatrolEnemy4] Found EnemyModel for facing direction
[15:16:19] [INFO] [BloodyFeet:PatrolEnemy4] BloodyFeetComponent ready on PatrolEnemy4
[15:16:19] [ENEMY] [PatrolEnemy4] Death animation component initialized
[15:16:19] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[15:16:19] [INFO] [BloodyFeet:Player] Footprint scene loaded
[15:16:19] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[15:16:19] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[15:16:19] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[15:16:19] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[15:16:19] [INFO] [Player.Weapon] GameManager weapon selection: sniper (SniperRifle)
[15:16:19] [INFO] [Player.Weapon] Removed default AssaultRifle
[15:16:19] [INFO] [Player.Weapon] Equipped SniperRifle (ammo: 5/5)
[15:16:19] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[15:16:19] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[15:16:19] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[15:16:19] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[15:16:19] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[15:16:19] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[15:16:19] [INFO] [Player] Ready! Ammo: 5/5, Grenades: 1/3, Health: 10/10
[15:16:19] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[15:16:19] [INFO] [BloodyFeet:GuardEnemy1] Blood detector created and attached to GuardEnemy1
[15:16:19] [INFO] [CinemaEffects] Found player node: Player
[15:16:19] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[15:16:19] [INFO] [SoundPropagation] Registered listener: GuardEnemy1 (total: 41)
[15:16:19] [ENEMY] [GuardEnemy1] Registered as sound listener
[15:16:19] [ENEMY] [GuardEnemy1] Spawned at (2800, 600), hp: 3, behavior: GUARD
[15:16:19] [INFO] [BloodyFeet:GuardEnemy2] Blood detector created and attached to GuardEnemy2
[15:16:19] [INFO] [SoundPropagation] Registered listener: GuardEnemy2 (total: 42)
[15:16:19] [ENEMY] [GuardEnemy2] Registered as sound listener
[15:16:19] [ENEMY] [GuardEnemy2] Spawned at (2800, 1000), hp: 4, behavior: GUARD
[15:16:19] [INFO] [BloodyFeet:GuardEnemy3] Blood detector created and attached to GuardEnemy3
[15:16:19] [INFO] [SoundPropagation] Registered listener: GuardEnemy3 (total: 43)
[15:16:19] [ENEMY] [GuardEnemy3] Registered as sound listener
[15:16:19] [ENEMY] [GuardEnemy3] Spawned at (3400, 600), hp: 2, behavior: GUARD
[15:16:19] [INFO] [BloodyFeet:GuardEnemy4] Blood detector created and attached to GuardEnemy4
[15:16:19] [INFO] [SoundPropagation] Registered listener: GuardEnemy4 (total: 44)
[15:16:19] [ENEMY] [GuardEnemy4] Registered as sound listener
[15:16:19] [ENEMY] [GuardEnemy4] Spawned at (3400, 1000), hp: 3, behavior: GUARD
[15:16:19] [INFO] [BloodyFeet:GuardEnemy5] Blood detector created and attached to GuardEnemy5
[15:16:19] [INFO] [SoundPropagation] Registered listener: GuardEnemy5 (total: 45)
[15:16:19] [ENEMY] [GuardEnemy5] Registered as sound listener
[15:16:19] [ENEMY] [GuardEnemy5] Spawned at (3000, 2100), hp: 3, behavior: GUARD
[15:16:19] [INFO] [BloodyFeet:GuardEnemy6] Blood detector created and attached to GuardEnemy6
[15:16:19] [INFO] [SoundPropagation] Registered listener: GuardEnemy6 (total: 46)
[15:16:19] [ENEMY] [GuardEnemy6] Registered as sound listener
[15:16:19] [ENEMY] [GuardEnemy6] Spawned at (3000, 2400), hp: 2, behavior: GUARD
[15:16:19] [INFO] [BloodyFeet:PatrolEnemy1] Blood detector created and attached to PatrolEnemy1
[15:16:19] [INFO] [SoundPropagation] Registered listener: PatrolEnemy1 (total: 47)
[15:16:19] [ENEMY] [PatrolEnemy1] Registered as sound listener
[15:16:19] [ENEMY] [PatrolEnemy1] Spawned at (2400, 800), hp: 2, behavior: PATROL
[15:16:19] [INFO] [BloodyFeet:PatrolEnemy2] Blood detector created and attached to PatrolEnemy2
[15:16:19] [INFO] [SoundPropagation] Registered listener: PatrolEnemy2 (total: 48)
[15:16:19] [ENEMY] [PatrolEnemy2] Registered as sound listener
[15:16:19] [ENEMY] [PatrolEnemy2] Spawned at (2400, 2300), hp: 2, behavior: PATROL
[15:16:19] [INFO] [BloodyFeet:PatrolEnemy3] Blood detector created and attached to PatrolEnemy3
[15:16:19] [INFO] [SoundPropagation] Registered listener: PatrolEnemy3 (total: 49)
[15:16:19] [ENEMY] [PatrolEnemy3] Registered as sound listener
[15:16:19] [ENEMY] [PatrolEnemy3] Spawned at (2800, 1544), hp: 3, behavior: PATROL
[15:16:19] [INFO] [BloodyFeet:PatrolEnemy4] Blood detector created and attached to PatrolEnemy4
[15:16:19] [INFO] [SoundPropagation] Registered listener: PatrolEnemy4 (total: 50)
[15:16:19] [ENEMY] [PatrolEnemy4] Registered as sound listener
[15:16:19] [ENEMY] [PatrolEnemy4] Spawned at (3600, 1544), hp: 3, behavior: PATROL
[15:16:19] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[15:16:19] [ENEMY] [GuardEnemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=236.3°, current=0.0°, player=(264,1543), corner_timer=0.00
[15:16:19] [ENEMY] [GuardEnemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(264,1543), corner_timer=0.00
[15:16:19] [ENEMY] [GuardEnemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=236.3°, current=0.0°, player=(264,1543), corner_timer=0.00
[15:16:19] [ENEMY] [GuardEnemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=315.0°, current=0.0°, player=(264,1543), corner_timer=0.00
[15:16:19] [ENEMY] [GuardEnemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(264,1543), corner_timer=0.00
[15:16:19] [ENEMY] [GuardEnemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(264,1543), corner_timer=0.00
[15:16:19] [INFO] [Player] Detecting weapon pose (frame 3)...
[15:16:19] [INFO] [Player] Detected weapon: ASVK Sniper Rifle (Sniper pose)
[15:16:19] [INFO] [Player] Applied Sniper arm pose: Left=(28, 6), Right=(-3, 6)
[15:16:19] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[15:16:19] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[15:16:19] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[15:16:19] [INFO] [LastChance] Found player: Player
[15:16:19] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[15:16:19] [INFO] [LastChance] Connected to player Damaged signal (C#)
[15:16:19] [INFO] [LastChance] Connected to player Died signal (C#)
[15:16:19] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[15:16:19] [INFO] [ReplayManager] Recording frame 660 (11,1s): player_valid=False, enemies=10
[15:16:20] [INFO] [ReplayManager] Recording frame 720 (12,1s): player_valid=False, enemies=10
[15:16:20] [ENEMY] [PatrolEnemy1] PATROL corner check: angle -0.0°
[15:16:20] [ENEMY] [PatrolEnemy2] PATROL corner check: angle 180.0°
[15:16:20] [ENEMY] [PatrolEnemy3] PATROL corner check: angle -98.6°
[15:16:20] [ENEMY] [PatrolEnemy4] PATROL corner check: angle -0.0°
[15:16:20] [ENEMY] [PatrolEnemy1] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(264,1276), corner_timer=0.30
[15:16:20] [ENEMY] [PatrolEnemy2] ROT_CHANGE: none -> P3:corner, state=IDLE, target=180.0°, current=-90.0°, player=(264,1276), corner_timer=0.30
[15:16:20] [ENEMY] [PatrolEnemy3] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-98.6°, current=-8.6°, player=(264,1276), corner_timer=0.30
[15:16:20] [ENEMY] [PatrolEnemy4] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(264,1276), corner_timer=0.30
[15:16:21] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=90.0°, current=35.6°, player=(264,1276), corner_timer=-0.02
[15:16:21] [ENEMY] [PatrolEnemy1] PATROL corner check: angle -0.0°
[15:16:21] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=-90.0°, current=-144.4°, player=(264,1276), corner_timer=-0.02
[15:16:21] [ENEMY] [PatrolEnemy2] PATROL corner check: angle 180.0°
[15:16:21] [ENEMY] [PatrolEnemy3] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=-4.5°, current=-58.9°, player=(264,1276), corner_timer=-0.02
[15:16:21] [ENEMY] [PatrolEnemy3] PATROL corner check: angle -94.2°
[15:16:21] [ENEMY] [PatrolEnemy4] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=90.0°, current=35.6°, player=(264,1276), corner_timer=-0.02
[15:16:21] [ENEMY] [PatrolEnemy4] PATROL corner check: angle -0.0°
[15:16:21] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-0.0°, current=38.4°, player=(264,1276), corner_timer=0.30
[15:16:21] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=180.0°, current=-141.6°, player=(264,1276), corner_timer=0.30
[15:16:21] [ENEMY] [PatrolEnemy3] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-94.2°, current=-55.8°, player=(264,1276), corner_timer=0.30
[15:16:21] [ENEMY] [PatrolEnemy4] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-0.0°, current=38.4°, player=(264,1276), corner_timer=0.30
[15:16:21] [INFO] [ReplayManager] Recording frame 780 (13,1s): player_valid=False, enemies=10
[15:16:21] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=90.0°, current=0.0°, player=(264,1276), corner_timer=-0.02
[15:16:21] [ENEMY] [PatrolEnemy1] PATROL corner check: angle -0.0°
[15:16:21] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=-90.0°, current=180.0°, player=(264,1276), corner_timer=-0.02
[15:16:21] [ENEMY] [PatrolEnemy2] PATROL corner check: angle 180.0°
[15:16:21] [ENEMY] [PatrolEnemy3] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=20.2°, current=-85.8°, player=(264,1276), corner_timer=-0.02
[15:16:21] [ENEMY] [PatrolEnemy3] PATROL corner check: angle -69.8°
[15:16:21] [ENEMY] [PatrolEnemy4] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=90.0°, current=0.0°, player=(264,1276), corner_timer=-0.02
[15:16:21] [ENEMY] [PatrolEnemy4] PATROL corner check: angle -0.0°
[15:16:21] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-0.0°, current=2.9°, player=(264,1276), corner_timer=0.30
[15:16:21] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=180.0°, current=-177.1°, player=(264,1276), corner_timer=0.30
[15:16:21] [ENEMY] [PatrolEnemy3] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-69.8°, current=-82.9°, player=(264,1276), corner_timer=0.30
[15:16:21] [ENEMY] [PatrolEnemy4] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-0.0°, current=2.9°, player=(264,1276), corner_timer=0.30
[15:16:21] [ENEMY] [PatrolEnemy3] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=20.2°, current=-69.8°, player=(264,1276), corner_timer=-0.02
[15:16:21] [ENEMY] [PatrolEnemy3] PATROL corner check: angle -69.8°
[15:16:21] [ENEMY] [PatrolEnemy3] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-69.8°, current=-66.9°, player=(264,1276), corner_timer=0.30
[15:16:22] [ENEMY] [PatrolEnemy3] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.9°, current=-69.2°, player=(264,1276), corner_timer=-0.02
[15:16:22] [ENEMY] [PatrolEnemy3] PATROL corner check: angle -84.5°
[15:16:22] [ENEMY] [PatrolEnemy3] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-84.5°, current=-65.7°, player=(264,1276), corner_timer=0.30
[15:16:22] [INFO] [ReplayManager] Recording frame 840 (14,1s): player_valid=False, enemies=10
[15:16:22] [ENEMY] [PatrolEnemy3] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=22.0°, current=-83.3°, player=(264,1276), corner_timer=-0.02
[15:16:22] [ENEMY] [PatrolEnemy3] PATROL corner check: angle -66.7°
[15:16:22] [ENEMY] [PatrolEnemy3] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-66.7°, current=-79.1°, player=(264,1276), corner_timer=0.30
[15:16:23] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P1:visible, state=IDLE, target=172.5°, current=-151.3°, player=(264,1276), corner_timer=0.07
[15:16:23] [ENEMY] [PatrolEnemy1] State: IDLE -> COMBAT
[15:16:23] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=172.4°, current=76.7°, player=(264,1276), corner_timer=0.07
[15:16:23] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=89.7°, current=14.1°, player=(264,1276), corner_timer=-0.02
[15:16:23] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -0.3°
[15:16:23] [ENEMY] [PatrolEnemy4] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=-90.0°, current=165.7°, player=(264,1276), corner_timer=-0.02
[15:16:23] [ENEMY] [PatrolEnemy4] PATROL corner check: angle 180.0°
[15:16:23] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-0.3°, current=16.9°, player=(264,1276), corner_timer=0.30
[15:16:23] [ENEMY] [PatrolEnemy4] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=180.0°, current=168.5°, player=(264,1276), corner_timer=0.30
[15:16:23] [ENEMY] [GuardEnemy1] Memory: high confidence (0.89) - transitioning to PURSUING
[15:16:23] [ENEMY] [GuardEnemy1] State: IDLE -> PURSUING
[15:16:23] [ENEMY] [GuardEnemy2] Memory: high confidence (0.89) - transitioning to PURSUING
[15:16:23] [ENEMY] [GuardEnemy2] State: IDLE -> PURSUING
[15:16:23] [ENEMY] [GuardEnemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=165.1°, current=-123.8°, player=(264,1276), corner_timer=0.00
[15:16:23] [ENEMY] [GuardEnemy1] PURSUING_MEMORY corner check: angle 75.1°
[15:16:23] [ENEMY] [GuardEnemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=173.8°, current=56.2°, player=(264,1276), corner_timer=0.00
[15:16:23] [ENEMY] [GuardEnemy2] PURSUING_MEMORY corner check: angle 83.8°
[15:16:23] [INFO] [ReplayManager] Recording frame 900 (15,1s): player_valid=False, enemies=10
[15:16:23] [ENEMY] [GuardEnemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=173.8°, current=-138.6°, player=(264,1276), corner_timer=0.23
[15:16:23] [ENEMY] [GuardEnemy2] Warning: No valid flank position (both sides behind walls)
[15:16:23] [ENEMY] [GuardEnemy2] FLANKING started: target=(344.6415, 1093.423), side=left, pos=(2773.49, 1002.89)
[15:16:23] [ENEMY] [GuardEnemy2] State: PURSUING -> FLANKING
[15:16:23] [ENEMY] [GuardEnemy2] State: FLANKING -> COMBAT
[15:16:23] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=172.5°, current=122.6°, player=(264,1276), corner_timer=0.07
[15:16:23] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=89.7°, current=-0.3°, player=(264,1276), corner_timer=-0.02
[15:16:23] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -0.3°
[15:16:23] [ENEMY] [PatrolEnemy4] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=-90.0°, current=180.0°, player=(264,1276), corner_timer=-0.02
[15:16:23] [ENEMY] [PatrolEnemy4] PATROL corner check: angle 180.0°
[15:16:23] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-0.3°, current=2.6°, player=(264,1276), corner_timer=0.30
[15:16:23] [ENEMY] [PatrolEnemy4] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=180.0°, current=-177.1°, player=(264,1276), corner_timer=0.30
[15:16:23] [ENEMY] [GuardEnemy1] PURSUING_MEMORY corner check: angle 75.1°
[15:16:23] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=89.7°, current=-0.3°, player=(264,1276), corner_timer=-0.02
[15:16:23] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -0.3°
[15:16:23] [ENEMY] [PatrolEnemy4] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=-90.0°, current=180.0°, player=(264,1276), corner_timer=-0.02
[15:16:23] [ENEMY] [PatrolEnemy4] PATROL corner check: angle 180.0°
[15:16:23] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-0.3°, current=2.6°, player=(264,1276), corner_timer=0.30
[15:16:23] [ENEMY] [PatrolEnemy4] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=180.0°, current=-177.1°, player=(264,1276), corner_timer=0.30
[15:16:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2156.387, 1028.242), source=ENEMY (PatrolEnemy1), range=1469, listeners=50
[15:16:24] [INFO] [SoundPropagation] Cleaned up 40 invalid listeners
[15:16:24] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=1, below_threshold=6
[15:16:24] [ENEMY] [GuardEnemy1] PURSUING_MEMORY corner check: angle 75.1°
[15:16:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2119.37, 1033.097), source=ENEMY (PatrolEnemy1), range=1469, listeners=10
[15:16:24] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=1, below_threshold=6
[15:16:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(264, 1276.444), source=PLAYER (SniperRifle), range=3000, listeners=10
[15:16:24] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=7
[15:16:24] [ENEMY] [PatrolEnemy4] ROT_CHANGE: P3:corner -> P1:visible, state=IDLE, target=-175.9°, current=180.0°, player=(264,1276), corner_timer=0.07
[15:16:24] [ENEMY] [PatrolEnemy4] State: IDLE -> COMBAT
[15:16:24] [ENEMY] [PatrolEnemy1] State: COMBAT -> RETREATING
[15:16:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2082.354, 1037.952), source=ENEMY (PatrolEnemy1), range=1469, listeners=10
[15:16:24] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=1, below_threshold=6
[15:16:24] [ENEMY] [PatrolEnemy4] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-175.9°, current=98.2°, player=(264,1276), corner_timer=0.07
[15:16:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2567.518, 1030.086), source=ENEMY (GuardEnemy2), range=1469, listeners=10
[15:16:24] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=1, below_threshold=7
[15:16:24] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=89.7°, current=-0.3°, player=(264,1276), corner_timer=-0.02
[15:16:24] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -0.3°
[15:16:24] [ENEMY] [PatrolEnemy3] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=179.9°, current=5.0°, player=(264,1276), corner_timer=-0.02
[15:16:24] [ENEMY] [PatrolEnemy3] PATROL corner check: angle 89.9°
[15:16:24] [ENEMY] [PatrolEnemy1] State: RETREATING -> IN_COVER
[15:16:24] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-0.3°, current=2.6°, player=(264,1276), corner_timer=0.30
[15:16:24] [ENEMY] [PatrolEnemy3] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.9°, current=7.9°, player=(264,1276), corner_timer=0.30
[15:16:24] [ENEMY] [PatrolEnemy1] State: IN_COVER -> SUPPRESSED
[15:16:24] [ENEMY] [GuardEnemy1] PURSUING_MEMORY corner check: angle 97.7°
[15:16:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2565.294, 1032.741), source=ENEMY (GuardEnemy2), range=1469, listeners=10
[15:16:24] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=1, below_threshold=7
[15:16:24] [ENEMY] [GuardEnemy4] Memory: high confidence (0.88) - transitioning to PURSUING
[15:16:24] [ENEMY] [GuardEnemy4] State: IDLE -> PURSUING
[15:16:24] [ENEMY] [PatrolEnemy3] Memory: high confidence (0.88) - transitioning to PURSUING
[15:16:24] [ENEMY] [PatrolEnemy3] State: IDLE -> PURSUING
[15:16:24] [ENEMY] [GuardEnemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=175.0°, current=-45.0°, player=(264,1276), corner_timer=0.00
[15:16:24] [ENEMY] [GuardEnemy4] PURSUING_MEMORY corner check: angle 85.0°
[15:16:24] [ENEMY] [PatrolEnemy3] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=-174.8°, current=24.9°, player=(264,1276), corner_timer=0.22
[15:16:24] [INFO] [ReplayManager] Recording frame 960 (16,1s): player_valid=False, enemies=10
[15:16:24] [ENEMY] [GuardEnemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=175.0°, current=127.1°, player=(264,1276), corner_timer=0.30
[15:16:24] [ENEMY] [GuardEnemy4] Warning: No valid flank position (both sides behind walls)
[15:16:24] [ENEMY] [GuardEnemy4] FLANKING started: target=(348.4043, 1095.127), side=left, pos=(3394.687, 1000.468)
[15:16:24] [ENEMY] [GuardEnemy4] State: PURSUING -> FLANKING
[15:16:24] [ENEMY] [PatrolEnemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-175.9°, current=135.4°, player=(264,1276), corner_timer=0.07
[15:16:24] [ENEMY] [GuardEnemy2] Hit taken, damage: 1, health: 4/4 -> 3/4
[15:16:24] [ENEMY] [GuardEnemy2] ImpactEffectsManager found, calling spawn_blood_effect
[15:16:24] [INFO] [ImpactEffects] spawn_blood_effect called at (2547.591, 1040.418), dir=(1, 0), lethal=false
[15:16:24] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[15:16:24] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[15:16:24] [INFO] [ImpactEffects] Blood effect spawned at (2547.591, 1040.418) (scale=1)
[15:16:24] [ENEMY] [GuardEnemy2] State: COMBAT -> RETREATING
[15:16:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2529.109, 1042.945), source=ENEMY (GuardEnemy2), range=1469, listeners=10
[15:16:24] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=1, below_threshold=7
[15:16:24] [ENEMY] [GuardEnemy2] Hit taken, damage: 1, health: 3/4 -> 2/4
[15:16:24] [ENEMY] [GuardEnemy2] ImpactEffectsManager found, calling spawn_blood_effect
[15:16:24] [INFO] [ImpactEffects] spawn_blood_effect called at (2523.874, 1043.963), dir=(1, 0), lethal=false
[15:16:24] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[15:16:24] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[15:16:24] [INFO] [ImpactEffects] Blood effect spawned at (2523.874, 1043.963) (scale=1)
[15:16:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2518.567, 1043.437), source=ENEMY (GuardEnemy2), range=1469, listeners=10
[15:16:24] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=1, below_threshold=7
[15:16:24] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=89.7°, current=-0.3°, player=(264,1276), corner_timer=-0.02
[15:16:24] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -0.3°
[15:16:24] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-0.3°, current=2.6°, player=(264,1276), corner_timer=0.30
[15:16:24] [ENEMY] [PatrolEnemy3] PURSUING_MEMORY corner check: angle 95.0°
[15:16:24] [ENEMY] [GuardEnemy2] Hit taken, damage: 1, health: 2/4 -> 1/4
[15:16:24] [ENEMY] [GuardEnemy2] ImpactEffectsManager found, calling spawn_blood_effect
[15:16:24] [INFO] [ImpactEffects] spawn_blood_effect called at (2513.277, 1042.752), dir=(1, 0), lethal=false
[15:16:24] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[15:16:24] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[15:16:24] [INFO] [ImpactEffects] Blood effect spawned at (2513.277, 1042.752) (scale=1)
[15:16:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2507.988, 1042.069), source=ENEMY (GuardEnemy2), range=1469, listeners=10
[15:16:24] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=1, below_threshold=7
[15:16:24] [INFO] [LastChance] Threat detected: Bullet
[15:16:24] [INFO] [LastChance] Not in hard mode - effect disabled
[15:16:24] [INFO] [LastChance] Cannot trigger effect - conditions not met
[15:16:24] [ENEMY] [GuardEnemy1] PURSUING_MEMORY corner check: angle 73.8°
[15:16:24] [ENEMY] [GuardEnemy2] Hit taken, damage: 1, health: 1/4 -> 0/4
[15:16:24] [ENEMY] [GuardEnemy2] ImpactEffectsManager found, calling spawn_blood_effect
[15:16:24] [INFO] [ImpactEffects] spawn_blood_effect called at (2500.072, 1040.911), dir=(1, 0), lethal=true
[15:16:24] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[15:16:24] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[15:16:24] [INFO] [ImpactEffects] Blood effect spawned at (2500.072, 1040.911) (scale=1.5)
[15:16:24] [ENEMY] [GuardEnemy2] Enemy died (ricochet: false, penetration: false)
[15:16:24] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[15:16:24] [INFO] [PowerFantasy] Starting power fantasy effect:
[15:16:24] [INFO] [PowerFantasy]   - Time scale: 0.10
[15:16:24] [INFO] [PowerFantasy]   - Duration: 300ms
[15:16:24] [ENEMY] [GuardEnemy2] [AllyDeath] Notified 2 enemies
[15:16:24] [INFO] [SoundPropagation] Unregistered listener: GuardEnemy2 (remaining: 9)
[15:16:24] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[15:16:24] [ENEMY] [GuardEnemy2] Death animation started with hit direction: (1, 0)
[15:16:24] [ENEMY] [GuardEnemy4] FLANKING corner check: angle 88.2°
[15:16:24] [INFO] [BloodDecal] Blood puddle created at (2623.393, 1022.522) (added to group)
[15:16:24] [INFO] [Player] Spawning blood effect at (264, 1276.4445), dir=(1, 0), lethal=False (C#)
[15:16:24] [INFO] [ImpactEffects] spawn_blood_effect called at (264, 1276.444), dir=(1, 0), lethal=false
[15:16:24] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[15:16:24] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[15:16:24] [INFO] [ImpactEffects] Blood effect spawned at (264, 1276.444) (scale=1)
[15:16:24] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 9.0
[15:16:24] [INFO] [LastChance] Player health updated (C# Damaged): 9.0
[15:16:25] [INFO] [PowerFantasy] Effect duration expired after 303.00 ms
[15:16:25] [INFO] [PowerFantasy] Ending power fantasy effect
[15:16:25] [INFO] [LastChance] Threat detected: @Area2D@1420
[15:16:25] [INFO] [LastChance] Not in hard mode - effect disabled
[15:16:25] [INFO] [LastChance] Cannot trigger effect - conditions not met
[15:16:25] [ENEMY] [GuardEnemy4] State: FLANKING -> COMBAT
[15:16:25] [INFO] [BloodDecal] Blood puddle created at (2629.84, 1077.734) (added to group)
[15:16:25] [INFO] [BloodDecal] Blood puddle created at (2603.002, 1073.552) (added to group)
[15:16:25] [INFO] [BloodDecal] Blood puddle created at (2576.164, 1051.871) (added to group)
[15:16:25] [INFO] [BloodDecal] Blood puddle created at (2646.936, 1062.034) (added to group)
[15:16:25] [INFO] [BloodDecal] Blood puddle created at (2599.471, 1096.052) (added to group)
[15:16:25] [INFO] [Player] Spawning blood effect at (264, 1276.4445), dir=(1, 0), lethal=False (C#)
[15:16:25] [INFO] [ImpactEffects] spawn_blood_effect called at (264, 1276.444), dir=(1, 0), lethal=false
[15:16:25] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[15:16:25] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[15:16:25] [INFO] [ImpactEffects] Blood effect spawned at (264, 1276.444) (scale=1)
[15:16:25] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 8.0
[15:16:25] [INFO] [LastChance] Player health updated (C# Damaged): 8.0
[15:16:25] [INFO] [BloodDecal] Blood puddle created at (2570.12, 1083.819) (added to group)
[15:16:25] [INFO] [BloodDecal] Blood puddle created at (2614.044, 1037.122) (added to group)
[15:16:25] [ENEMY] [GuardEnemy3] Memory: high confidence (0.90) - transitioning to PURSUING
[15:16:25] [ENEMY] [GuardEnemy3] State: IDLE -> PURSUING
[15:16:25] [INFO] [BloodDecal] Blood puddle created at (2631.613, 1077.112) (added to group)
[15:16:25] [INFO] [BloodDecal] Blood puddle created at (2564.356, 1059.332) (added to group)
[15:16:25] [ENEMY] [GuardEnemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=167.8°, current=-123.8°, player=(264,1276), corner_timer=0.00
[15:16:25] [ENEMY] [GuardEnemy3] PURSUING_MEMORY corner check: angle 81.5°
[15:16:25] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=89.7°, current=-0.3°, player=(264,1276), corner_timer=-0.01
[15:16:25] [ENEMY] [PatrolEnemy2] PATROL corner check: angle 179.7°
[15:16:25] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=179.7°, current=2.6°, player=(264,1276), corner_timer=0.30
[15:16:25] [ENEMY] [PatrolEnemy3] PURSUING_MEMORY corner check: angle 94.8°
[15:16:25] [INFO] [BloodDecal] Blood puddle created at (2544.642, 1054.113) (added to group)
[15:16:25] [INFO] [BloodDecal] Blood puddle created at (2682.656, 1068.439) (added to group)
[15:16:25] [INFO] [BloodDecal] Blood puddle created at (2655.912, 1097.085) (added to group)
[15:16:25] [INFO] [BloodDecal] Blood puddle created at (2605.419, 1050.39) (added to group)
[15:16:25] [INFO] [BloodDecal] Blood puddle created at (2614.772, 1020.737) (added to group)
[15:16:25] [INFO] [BloodDecal] Blood puddle created at (2543.463, 1074.569) (added to group)
[15:16:25] [INFO] [BloodDecal] Blood puddle created at (343.1618, 1297.484) (added to group)
[15:16:25] [INFO] [BloodDecal] Blood puddle created at (2588.685, 1090.751) (added to group)
[15:16:25] [INFO] [BloodDecal] Blood puddle created at (2557.252, 1066.095) (added to group)
[15:16:25] [ENEMY] [GuardEnemy1] PURSUING corner check: angle 71.6°
[15:16:25] [INFO] [BloodDecal] Blood puddle created at (2619.826, 1072.171) (added to group)
[15:16:25] [INFO] [BloodDecal] Blood puddle created at (351.2927, 1276.977) (added to group)
[15:16:25] [INFO] [BloodDecal] Blood puddle created at (338.7893, 1300.742) (added to group)
[15:16:25] [INFO] [BloodDecal] Blood puddle created at (2641.459, 1162.845) (added to group)
[15:16:25] [INFO] [BloodDecal] Blood puddle created at (2587.432, 1049.286) (added to group)
[15:16:25] [INFO] [BloodDecal] Blood puddle created at (323.9912, 1316.086) (added to group)
[15:16:25] [INFO] [BloodDecal] Blood puddle created at (2632.162, 1085.776) (added to group)
[15:16:25] [INFO] [BloodDecal] Blood puddle created at (2617.25, 1035.628) (added to group)
[15:16:25] [INFO] [BloodDecal] Blood puddle created at (314.4571, 1289.389) (added to group)
[15:16:25] [INFO] [BloodDecal] Blood puddle created at (2703.538, 1164.965) (added to group)
[15:16:25] [INFO] [BloodDecal] Blood puddle created at (2604.343, 1118.24) (added to group)
[15:16:25] [INFO] [BloodDecal] Blood puddle created at (2727.485, 1094.067) (added to group)
[15:16:25] [INFO] [BloodDecal] Blood puddle created at (2645.744, 1057.884) (added to group)
[15:16:25] [INFO] [BloodDecal] Blood puddle created at (341.6269, 1336.663) (added to group)
[15:16:25] [INFO] [LastChance] Threat detected: @Area2D@1426
[15:16:25] [INFO] [LastChance] Not in hard mode - effect disabled
[15:16:25] [INFO] [LastChance] Cannot trigger effect - conditions not met
[15:16:25] [INFO] [BloodDecal] Blood puddle created at (2585.944, 1091.295) (added to group)
[15:16:25] [INFO] [BloodDecal] Blood puddle created at (2571.44, 1075.331) (added to group)
[15:16:25] [INFO] [ReplayManager] Recording frame 1020 (16,8s): player_valid=False, enemies=10
[15:16:25] [INFO] [BloodDecal] Blood puddle created at (2713.369, 1125.023) (added to group)
[15:16:25] [INFO] [Player] Spawning blood effect at (264, 1276.4445), dir=(1, 0), lethal=False (C#)
[15:16:25] [INFO] [ImpactEffects] spawn_blood_effect called at (264, 1276.444), dir=(1, 0), lethal=false
[15:16:25] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[15:16:25] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[15:16:25] [INFO] [ImpactEffects] Blood effect spawned at (264, 1276.444) (scale=1)
[15:16:25] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 7.0
[15:16:25] [INFO] [LastChance] Player health updated (C# Damaged): 7.0
[15:16:25] [INFO] [BloodDecal] Blood puddle created at (2658.025, 1095.486) (added to group)
[15:16:25] [INFO] [BloodDecal] Blood puddle created at (2616.096, 1115.591) (added to group)
[15:16:25] [ENEMY] [GuardEnemy2] Ragdoll activated
[15:16:25] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[15:16:25] [INFO] [BloodDecal] Blood puddle created at (2652.766, 1108.87) (added to group)
[15:16:25] [INFO] [BloodDecal] Blood puddle created at (2615.765, 1122.256) (added to group)
[15:16:25] [INFO] [BloodDecal] Blood puddle created at (362.9424, 1333.902) (added to group)
[15:16:25] [INFO] [BloodDecal] Blood puddle created at (2676.03, 1084.1) (added to group)
[15:16:25] [INFO] [BloodDecal] Blood puddle created at (344.5023, 1292.169) (added to group)
[15:16:25] [INFO] [BloodDecal] Blood puddle created at (2621.552, 1171.255) (added to group)
[15:16:25] [INFO] [BloodDecal] Blood puddle created at (2589.344, 1084.151) (added to group)
[15:16:25] [INFO] [LastChance] Threat detected: @Area2D@1429
[15:16:25] [INFO] [LastChance] Not in hard mode - effect disabled
[15:16:25] [INFO] [LastChance] Cannot trigger effect - conditions not met
[15:16:25] [ENEMY] [GuardEnemy3] PURSUING_MEMORY corner check: angle 78.1°
[15:16:25] [INFO] [BloodDecal] Blood puddle created at (2681.859, 1138.554) (added to group)
[15:16:25] [INFO] [BloodDecal] Blood puddle created at (2650.011, 1064.191) (added to group)
[15:16:25] [INFO] [BloodDecal] Blood puddle created at (2616.931, 1132.991) (added to group)
[15:16:25] [INFO] [BloodDecal] Blood puddle created at (349.152, 1310.146) (added to group)
[15:16:25] [INFO] [BloodDecal] Blood puddle created at (2680.867, 1141.752) (added to group)
[15:16:25] [INFO] [BloodDecal] Blood puddle created at (2578.596, 1145.722) (added to group)
[15:16:25] [INFO] [BloodDecal] Blood puddle created at (413.7535, 1406.684) (added to group)
[15:16:25] [INFO] [BloodDecal] Blood puddle created at (416.7097, 1364.947) (added to group)
[15:16:25] [INFO] [BloodDecal] Blood puddle created at (388.5284, 1321.787) (added to group)
[15:16:25] [INFO] [Player] Spawning blood effect at (264, 1276.4445), dir=(1, 0), lethal=False (C#)
[15:16:25] [INFO] [ImpactEffects] spawn_blood_effect called at (264, 1276.444), dir=(1, 0), lethal=false
[15:16:25] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[15:16:25] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[15:16:25] [INFO] [ImpactEffects] Blood effect spawned at (264, 1276.444) (scale=1)
[15:16:25] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 6.0
[15:16:25] [INFO] [LastChance] Player health updated (C# Damaged): 6.0
[15:16:25] [ENEMY] [PatrolEnemy3] PURSUING_MEMORY corner check: angle 94.7°
[15:16:25] [INFO] [BloodDecal] Blood puddle created at (393.8549, 1316.381) (added to group)
[15:16:25] [INFO] [BloodDecal] Blood puddle created at (377.2017, 1345.661) (added to group)
[15:16:25] [INFO] [BloodDecal] Blood puddle created at (2660.999, 1176.947) (added to group)
[15:16:25] [INFO] [BloodDecal] Blood puddle created at (2690.103, 1185.293) (added to group)
[15:16:25] [INFO] [BloodDecal] Blood puddle created at (2588.532, 1085.714) (added to group)
[15:16:25] [ENEMY] [GuardEnemy1] PURSUING corner check: angle 71.6°
[15:16:25] [INFO] [BloodDecal] Blood puddle created at (2664.08, 1061.578) (added to group)
[15:16:25] [INFO] [BloodDecal] Blood puddle created at (355.146, 1321.644) (added to group)
[15:16:25] [INFO] [BloodDecal] Blood puddle created at (2650.563, 1118.395) (added to group)
[15:16:25] [INFO] [BloodDecal] Blood puddle created at (2721.218, 1257.735) (added to group)
[15:16:25] [INFO] [BloodDecal] Blood puddle created at (394.2451, 1323.199) (added to group)
[15:16:25] [INFO] [BloodDecal] Blood puddle created at (316.4953, 1289.74) (added to group)
[15:16:25] [INFO] [BloodDecal] Blood puddle created at (325.1873, 1279.559) (added to group)
[15:16:25] [INFO] [BloodDecal] Blood puddle created at (2678.924, 1202.805) (added to group)
[15:16:25] [INFO] [BloodDecal] Blood puddle created at (2650.987, 1101.953) (added to group)
[15:16:25] [INFO] [BloodDecal] Blood puddle created at (426.4248, 1384.139) (added to group)
[15:16:25] [INFO] [BloodDecal] Blood puddle created at (339.6084, 1277.396) (added to group)
[15:16:25] [INFO] [BloodDecal] Blood puddle created at (339.9095, 1308.268) (added to group)
[15:16:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2080.043, 1019.429), source=ENEMY (PatrolEnemy1), range=1469, listeners=9
[15:16:25] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=1, below_threshold=5
[15:16:25] [INFO] [BloodDecal] Blood puddle created at (432.7354, 1413.645) (added to group)
[15:16:25] [INFO] [BloodDecal] Blood puddle created at (400.2012, 1437.109) (added to group)
[15:16:25] [INFO] [BloodDecal] Blood puddle created at (380.9168, 1414.8) (added to group)
[15:16:25] [INFO] [BloodDecal] Blood puddle created at (318.7404, 1305.829) (added to group)
[15:16:25] [INFO] [BloodDecal] Blood puddle created at (378.9932, 1289.68) (added to group)
[15:16:25] [ENEMY] [PatrolEnemy1] Hit taken, damage: 1, health: 2/2 -> 1/2
[15:16:25] [ENEMY] [PatrolEnemy1] ImpactEffectsManager found, calling spawn_blood_effect
[15:16:25] [INFO] [ImpactEffects] spawn_blood_effect called at (2080.043, 1019.429), dir=(1, 0), lethal=false
[15:16:25] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[15:16:25] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[15:16:25] [INFO] [ImpactEffects] Blood effect spawned at (2080.043, 1019.429) (scale=1)
[15:16:25] [ENEMY] [PatrolEnemy4] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-176.3°, current=-176.3°, player=(264,1294), corner_timer=0.07
[15:16:25] [ENEMY] [PatrolEnemy4] State: COMBAT -> PURSUING
[15:16:25] [INFO] [BloodDecal] Blood puddle created at (322.426, 1271.83) (added to group)
[15:16:25] [ENEMY] [GuardEnemy3] PURSUING_MEMORY corner check: angle 78.1°
[15:16:25] [ENEMY] [GuardEnemy4] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=174.4°, current=174.4°, player=(264,1298), corner_timer=0.24
[15:16:25] [ENEMY] [GuardEnemy4] State: COMBAT -> PURSUING
[15:16:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2080.043, 1019.429), source=ENEMY (PatrolEnemy1), range=1469, listeners=9
[15:16:25] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=1, below_threshold=5
[15:16:25] [INFO] [BloodDecal] Blood puddle created at (391.0676, 1365.255) (added to group)
[15:16:25] [INFO] [BloodDecal] Blood puddle created at (367.0298, 1290.388) (added to group)
[15:16:25] [ENEMY] [PatrolEnemy1] Hit taken, damage: 1, health: 1/2 -> 0/2
[15:16:25] [ENEMY] [PatrolEnemy1] ImpactEffectsManager found, calling spawn_blood_effect
[15:16:25] [INFO] [ImpactEffects] spawn_blood_effect called at (2080.043, 1019.429), dir=(1, 0), lethal=true
[15:16:25] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[15:16:25] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[15:16:25] [INFO] [ImpactEffects] Blood effect spawned at (2080.043, 1019.429) (scale=1.5)
[15:16:25] [ENEMY] [PatrolEnemy1] Enemy died (ricochet: false, penetration: false)
[15:16:25] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[15:16:25] [INFO] [PowerFantasy] Starting power fantasy effect:
[15:16:25] [INFO] [PowerFantasy]   - Time scale: 0.10
[15:16:25] [INFO] [PowerFantasy]   - Duration: 300ms
[15:16:25] [ENEMY] [PatrolEnemy1] [AllyDeath] Notified 1 enemies
[15:16:25] [INFO] [SoundPropagation] Unregistered listener: PatrolEnemy1 (remaining: 8)
[15:16:25] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[15:16:25] [ENEMY] [PatrolEnemy1] Death animation started with hit direction: (1, 0)
[15:16:25] [ENEMY] [PatrolEnemy3] PURSUING_MEMORY corner check: angle -108.7°
[15:16:25] [INFO] [BloodDecal] Blood puddle created at (321.0182, 1300.972) (added to group)
[15:16:25] [ENEMY] [GuardEnemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=167.4°, current=164.7°, player=(264,1316), corner_timer=0.25
[15:16:25] [ENEMY] [GuardEnemy3] Warning: No valid flank position (both sides behind walls)
[15:16:25] [ENEMY] [GuardEnemy3] FLANKING started: target=(323.7817, 1125.588), side=left, pos=(3174.725, 665.3973)
[15:16:25] [ENEMY] [GuardEnemy3] State: PURSUING -> FLANKING
[15:16:25] [INFO] [BloodDecal] Blood puddle created at (330.5564, 1331.938) (added to group)
[15:16:26] [ENEMY] [GuardEnemy3] State: FLANKING -> COMBAT
[15:16:26] [INFO] [PowerFantasy] Effect duration expired after 302.00 ms
[15:16:26] [INFO] [PowerFantasy] Ending power fantasy effect
[15:16:26] [INFO] [BloodDecal] Blood puddle created at (349.422, 1338.504) (added to group)
[15:16:26] [INFO] [BloodDecal] Blood puddle created at (364.2058, 1351.996) (added to group)
[15:16:26] [INFO] [BloodDecal] Blood puddle created at (419.5883, 1430.204) (added to group)
[15:16:26] [INFO] [BloodDecal] Blood puddle created at (389.7552, 1333.984) (added to group)
[15:16:26] [INFO] [BloodDecal] Blood puddle created at (2147.979, 1062.043) (added to group)
[15:16:26] [INFO] [BloodDecal] Blood puddle created at (2171.595, 994.9381) (added to group)
[15:16:26] [INFO] [BloodDecal] Blood puddle created at (2173.754, 1011.321) (added to group)
[15:16:26] [INFO] [BloodDecal] Blood puddle created at (2147.412, 1039.073) (added to group)
[15:16:26] [INFO] [BloodDecal] Blood puddle created at (439.9463, 1335.944) (added to group)
[15:16:26] [INFO] [BloodDecal] Blood puddle created at (351.8724, 1395.024) (added to group)
[15:16:26] [INFO] [ReplayManager] Recording frame 1080 (17,5s): player_valid=False, enemies=10
[15:16:26] [INFO] [BloodDecal] Blood puddle created at (2163.714, 1019.69) (added to group)
[15:16:26] [INFO] [BloodDecal] Blood puddle created at (472.892, 1326.538) (added to group)
[15:16:26] [INFO] [BloodDecal] Blood puddle created at (2134.482, 1046.81) (added to group)
[15:16:26] [ENEMY] [GuardEnemy5] Memory: medium confidence (0.78) - transitioning to PURSUING
[15:16:26] [ENEMY] [GuardEnemy5] State: IDLE -> PURSUING
[15:16:26] [INFO] [BloodDecal] Blood puddle created at (373.0775, 1352.517) (added to group)
[15:16:26] [INFO] [BloodDecal] Blood puddle created at (2175.374, 1017.533) (added to group)
[15:16:26] [ENEMY] [GuardEnemy5] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=-165.3°, current=-168.8°, player=(306,1395), corner_timer=0.00
[15:16:26] [ENEMY] [GuardEnemy5] PURSUING_MEMORY corner check: angle 106.4°
[15:16:26] [INFO] [BloodDecal] Blood puddle created at (469.0084, 1400.948) (added to group)
[15:16:26] [ENEMY] [PatrolEnemy3] PURSUING_MEMORY corner check: angle 71.4°
[15:16:26] [ENEMY] [GuardEnemy3] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=165.5°, current=165.5°, player=(314,1403), corner_timer=0.23
[15:16:26] [INFO] [BloodDecal] Blood puddle created at (2156.078, 1019.447) (added to group)
[15:16:26] [INFO] [BloodDecal] Blood puddle created at (2200.118, 1116.364) (added to group)
[15:16:26] [INFO] [BloodDecal] Blood puddle created at (2184.293, 1117.418) (added to group)
[15:16:26] [INFO] [BloodDecal] Blood puddle created at (2173.398, 1032.19) (added to group)
[15:16:26] [INFO] [BloodDecal] Blood puddle created at (2180.091, 1109.246) (added to group)
[15:16:26] [INFO] [BloodDecal] Blood puddle created at (2186.37, 1108.81) (added to group)
[15:16:26] [INFO] [BloodDecal] Blood puddle created at (2228.934, 1031.091) (added to group)
[15:16:26] [INFO] [BloodDecal] Blood puddle created at (2233.8, 1029.605) (added to group)
[15:16:26] [INFO] [BloodDecal] Blood puddle created at (2212.183, 1091.369) (added to group)
[15:16:26] [ENEMY] [PatrolEnemy1] Ragdoll activated
[15:16:26] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[15:16:26] [INFO] [BloodDecal] Blood puddle created at (2171.969, 1030.175) (added to group)
[15:16:26] [INFO] [BloodDecal] Blood puddle created at (2163.961, 1061.147) (added to group)
[15:16:26] [ENEMY] [GuardEnemy3] State: COMBAT -> PURSUING
[15:16:26] [INFO] [BloodDecal] Blood puddle created at (2234.265, 1094.243) (added to group)
[15:16:26] [INFO] [BloodDecal] Blood puddle created at (2172.764, 1038.656) (added to group)
[15:16:26] [INFO] [BloodDecal] Blood puddle created at (2238.031, 1183.434) (added to group)
[15:16:26] [INFO] [BloodDecal] Blood puddle created at (2222.077, 1068.188) (added to group)
[15:16:26] [INFO] [BloodDecal] Blood puddle created at (2181.45, 1056.931) (added to group)
[15:16:26] [ENEMY] [GuardEnemy2] Death animation completed
[15:16:26] [INFO] [BloodDecal] Blood puddle created at (2210.043, 1126.947) (added to group)
[15:16:26] [INFO] [BloodDecal] Blood puddle created at (2241.157, 1024.306) (added to group)
[15:16:26] [INFO] [BloodDecal] Blood puddle created at (2227.763, 1082.607) (added to group)
[15:16:26] [INFO] [BloodDecal] Blood puddle created at (2263.182, 1119.026) (added to group)
[15:16:26] [INFO] [BloodDecal] Blood puddle created at (2189.757, 1059.413) (added to group)
[15:16:26] [INFO] [BloodDecal] Blood puddle created at (2247.928, 1175.386) (added to group)
[15:16:26] [INFO] [BloodDecal] Blood puddle created at (2202.444, 1050.432) (added to group)
[15:16:26] [ENEMY] [GuardEnemy5] PURSUING_MEMORY corner check: angle 106.4°
[15:16:26] [ENEMY] [PatrolEnemy3] PURSUING_MEMORY corner check: angle 94.9°
[15:16:26] [ENEMY] [GuardEnemy6] Memory: medium confidence (0.65) - transitioning to PURSUING
[15:16:26] [ENEMY] [GuardEnemy6] State: IDLE -> PURSUING
[15:16:26] [ENEMY] [PatrolEnemy2] Memory: medium confidence (0.65) - transitioning to PURSUING
[15:16:26] [ENEMY] [PatrolEnemy2] State: IDLE -> PURSUING
[15:16:26] [ENEMY] [GuardEnemy6] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=-160.9°, current=101.3°, player=(424,1509), corner_timer=0.00
[15:16:26] [ENEMY] [GuardEnemy6] PURSUING_MEMORY corner check: angle 112.0°
[15:16:26] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=-153.4°, current=179.7°, player=(424,1509), corner_timer=0.28
[15:16:27] [ENEMY] [GuardEnemy5] PURSUING corner check: angle 90.6°
[15:16:27] [ENEMY] [PatrolEnemy3] PURSUING_MEMORY corner check: angle 98.0°
[15:16:27] [ENEMY] [PatrolEnemy2] PURSUING corner check: angle 123.1°
[15:16:27] [ENEMY] [GuardEnemy6] PURSUING_MEMORY corner check: angle 112.0°
[15:16:27] [INFO] [ReplayManager] Recording frame 1140 (18,5s): player_valid=False, enemies=10
[15:16:27] [ENEMY] [GuardEnemy5] PURSUING corner check: angle 90.6°
[15:16:27] [ENEMY] [PatrolEnemy3] PURSUING_MEMORY corner check: angle 97.5°
[15:16:27] [ENEMY] [GuardEnemy1] Warning: No valid flank position (both sides behind walls)
[15:16:27] [ENEMY] [GuardEnemy1] FLANKING started: target=(632.0012, 1633.875), side=right, pos=(2122.731, 744.779)
[15:16:27] [ENEMY] [GuardEnemy1] State: PURSUING -> FLANKING
[15:16:27] [ENEMY] [PatrolEnemy4] Warning: No valid flank position (both sides behind walls)
[15:16:27] [ENEMY] [PatrolEnemy4] FLANKING started: target=(565.702, 1344.893), side=left, pos=(3165.362, 1483.757)
[15:16:27] [ENEMY] [PatrolEnemy4] State: PURSUING -> FLANKING
[15:16:27] [ENEMY] [GuardEnemy4] Warning: No valid flank position (both sides behind walls)
[15:16:27] [ENEMY] [GuardEnemy4] FLANKING started: target=(533.3878, 1330.396), side=left, pos=(3018.731, 1027.436)
[15:16:27] [ENEMY] [GuardEnemy4] State: PURSUING -> FLANKING
[15:16:27] [ENEMY] [PatrolEnemy2] PURSUING corner check: angle 123.1°
[15:16:27] [ENEMY] [GuardEnemy6] PURSUING_MEMORY corner check: angle 112.0°
[15:16:27] [ENEMY] [PatrolEnemy1] Death animation completed
[15:16:27] [ENEMY] [PatrolEnemy4] FLANKING corner check: angle -86.9°
[15:16:27] [ENEMY] [GuardEnemy1] FLANKING corner check: angle 82.6°
[15:16:27] [ENEMY] [GuardEnemy5] PURSUING corner check: angle 90.6°
[15:16:27] [ENEMY] [PatrolEnemy3] PURSUING_MEMORY corner check: angle 97.0°
[15:16:27] [ENEMY] [GuardEnemy4] FLANKING corner check: angle 83.1°
[15:16:27] [ENEMY] [PatrolEnemy2] PURSUING corner check: angle 123.1°
[15:16:27] [ENEMY] [GuardEnemy6] PURSUING_MEMORY corner check: angle 112.0°
[15:16:28] [ENEMY] [PatrolEnemy4] FLANKING corner check: angle -109.4°
[15:16:28] [ENEMY] [GuardEnemy1] FLANKING corner check: angle 83.6°
[15:16:28] [ENEMY] [PatrolEnemy3] PURSUING_MEMORY corner check: angle 93.8°
[15:16:28] [ENEMY] [GuardEnemy3] Warning: No valid flank position (both sides behind walls)
[15:16:28] [ENEMY] [GuardEnemy3] FLANKING started: target=(510.4773, 1323.968), side=left, pos=(3010.166, 706.2557)
[15:16:28] [ENEMY] [GuardEnemy3] State: PURSUING -> FLANKING
[15:16:28] [ENEMY] [GuardEnemy4] FLANKING corner check: angle 83.1°
[15:16:28] [ENEMY] [GuardEnemy6] PURSUING_MEMORY corner check: angle 112.0°
[15:16:28] [ENEMY] [PatrolEnemy4] FLANKING corner check: angle 94.1°
[15:16:28] [INFO] [ReplayManager] Recording frame 1200 (19,5s): player_valid=False, enemies=10
[15:16:28] [ENEMY] [GuardEnemy1] FLANKING corner check: angle 84.8°
[15:16:28] [ENEMY] [GuardEnemy3] FLANKING corner check: angle 76.1°
[15:16:28] [ENEMY] [PatrolEnemy3] PURSUING_MEMORY corner check: angle 93.6°
[15:16:28] [ENEMY] [GuardEnemy4] FLANKING corner check: angle 83.1°
[15:16:28] [INFO] [BloodyFeet:GuardEnemy4] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[15:16:28] [ENEMY] [GuardEnemy6] PURSUING_MEMORY corner check: angle 112.0°
[15:16:28] [ENEMY] [PatrolEnemy4] FLANKING corner check: angle 96.8°
[15:16:28] [ENEMY] [GuardEnemy1] FLANKING corner check: angle 85.9°
[15:16:28] [ENEMY] [GuardEnemy3] FLANKING corner check: angle 76.1°
[15:16:28] [ENEMY] [PatrolEnemy3] PURSUING_MEMORY corner check: angle 93.5°
[15:16:28] [ENEMY] [GuardEnemy4] FLANKING corner check: angle 83.1°
[15:16:28] [ENEMY] [GuardEnemy6] PURSUING_MEMORY corner check: angle 112.0°
[15:16:29] [ENEMY] [PatrolEnemy4] FLANKING corner check: angle 96.3°
[15:16:29] [ENEMY] [GuardEnemy1] FLANKING corner check: angle 86.1°
[15:16:29] [ENEMY] [GuardEnemy3] FLANKING corner check: angle 76.1°
[15:16:29] [ENEMY] [PatrolEnemy3] PURSUING_MEMORY corner check: angle 93.3°
[15:16:29] [ENEMY] [GuardEnemy4] FLANKING corner check: angle 83.1°
[15:16:29] [ENEMY] [GuardEnemy6] PURSUING_MEMORY corner check: angle 112.1°
[15:16:29] [ENEMY] [PatrolEnemy4] FLANKING corner check: angle 95.9°
[15:16:29] [INFO] [ReplayManager] Recording frame 1260 (20,5s): player_valid=False, enemies=10
[15:16:29] [ENEMY] [GuardEnemy1] FLANKING corner check: angle 88.1°
[15:16:29] [ENEMY] [GuardEnemy3] FLANKING corner check: angle 76.1°
[15:16:29] [ENEMY] [PatrolEnemy3] PURSUING_MEMORY corner check: angle -109.8°
[15:16:29] [INFO] [GrenadeBase] CCD enabled (mode: CAST_RAY) to prevent wall tunneling
[15:16:29] [INFO] [GrenadeBase] Grenade created at (2385.972, 1103.605) (frozen)
[15:16:29] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[15:16:29] [INFO] [GrenadeTimer] Initialized for Frag grenade, effect radius: 225
[15:16:29] [INFO] [GrenadeTimerHelper] Attached GrenadeTimer to FragGrenade (type: Frag)
[15:16:29] [INFO] [EnemyGrenade] Attached C# GrenadeTimer to grenade (type: Frag)
[15:16:29] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[15:16:29] [INFO] [GrenadeTimer] Timer activated! 4 seconds until explosion
[15:16:29] [INFO] [GrenadeBase] LEGACY throw_grenade() called! Direction: (-0.994731, 0.102518), Speed: 944.1 (unfrozen)
[15:16:29] [INFO] [GrenadeBase] NOTE: Using DRAG-BASED system. If velocity-based is expected, ensure grenade has throw_grenade_velocity_based() method.
[15:16:29] [INFO] [FragGrenade] Grenade thrown (legacy) - impact detection enabled
[15:16:29] [INFO] [GrenadeTimer] Grenade marked as thrown - impact detection enabled
[15:16:29] [INFO] [EnemyGrenade] Enemy grenade thrown! Target: (1955.358, 1139.098), Distance: 472
[15:16:29] [ENEMY] [GuardEnemy5] Warning: No valid flank position (both sides behind walls)
[15:16:29] [ENEMY] [GuardEnemy5] FLANKING started: target=(607.4004, 1375.991), side=left, pos=(2518.538, 2037.781)
[15:16:29] [ENEMY] [GuardEnemy5] State: PURSUING -> FLANKING
[15:16:29] [ENEMY] [PatrolEnemy2] Warning: No valid flank position (both sides behind walls)
[15:16:29] [ENEMY] [PatrolEnemy2] FLANKING started: target=(482.4633, 1718.881), side=right, pos=(2121.2, 2320.474)
[15:16:29] [ENEMY] [PatrolEnemy2] State: PURSUING -> FLANKING
[15:16:29] [ENEMY] [GuardEnemy4] FLANKING corner check: angle 83.1°
[15:16:29] [ENEMY] [GuardEnemy6] PURSUING corner check: angle 72.9°
[15:16:29] [ENEMY] [GuardEnemy5] FLANKING corner check: angle -93.5°
[15:16:29] [ENEMY] [PatrolEnemy4] FLANKING corner check: angle 95.4°
[15:16:29] [ENEMY] [GuardEnemy1] FLANKING corner check: angle 60.1°
[15:16:29] [ENEMY] [GuardEnemy3] FLANKING corner check: angle 76.2°
[15:16:29] [ENEMY] [PatrolEnemy2] FLANKING corner check: angle -70.6°
[15:16:29] [ENEMY] [PatrolEnemy3] PURSUING_MEMORY corner check: angle -109.5°
[15:16:29] [ENEMY] [GuardEnemy4] FLANKING corner check: angle -96.9°
[15:16:29] [ENEMY] [GuardEnemy6] PURSUING corner check: angle 72.9°
[15:16:30] [ENEMY] [GuardEnemy5] FLANKING corner check: angle 110.4°
[15:16:30] [ENEMY] [PatrolEnemy4] FLANKING corner check: angle 92.9°
[15:16:30] [ENEMY] [GuardEnemy1] FLANKING corner check: angle 60.1°
[15:16:30] [ENEMY] [GuardEnemy3] FLANKING corner check: angle -103.8°
[15:16:30] [ENEMY] [PatrolEnemy2] FLANKING corner check: angle -71.7°
[15:16:30] [ENEMY] [PatrolEnemy3] PURSUING_MEMORY corner check: angle -111.7°
[15:16:30] [ENEMY] [GuardEnemy4] FLANKING corner check: angle 83.9°
[15:16:30] [ENEMY] [GuardEnemy6] PURSUING corner check: angle -107.1°
[15:16:30] [ENEMY] [GuardEnemy5] FLANKING corner check: angle 110.4°
[15:16:30] [ENEMY] [PatrolEnemy4] FLANKING corner check: angle 92.8°
[15:16:30] [INFO] [ReplayManager] Recording frame 1320 (21,5s): player_valid=False, enemies=10
[15:16:30] [ENEMY] [GuardEnemy1] FLANKING corner check: angle 60.0°
[15:16:30] [ENEMY] [GuardEnemy3] FLANKING corner check: angle 76.2°
[15:16:30] [INFO] [GrenadeBase] Collision detected with CoverTall3 (type: StaticBody2D)
[15:16:30] [INFO] [FragGrenade] Impact detected! Body: CoverTall3 (type: StaticBody2D), triggering explosion
[15:16:30] [INFO] [FragGrenade] Impact detected - exploding immediately!
[15:16:30] [INFO] [GrenadeBase] EXPLODED at (1725.913, 1172.212)!
[15:16:30] [INFO] [PowerFantasy] Grenade exploded - triggering last chance time-freeze effect for 2000ms
[15:16:30] [INFO] [LastChance] Grenade explosion triggering last chance effect for 2.00 seconds
[15:16:30] [INFO] [LastChance] Starting last chance effect:
[15:16:30] [INFO] [LastChance]   - Time will be frozen (except player)
[15:16:30] [INFO] [LastChance]   - Duration: 2.00 real seconds
[15:16:30] [INFO] [LastChance]   - Trigger: grenade explosion
[15:16:30] [INFO] [LastChance]   - Sepia intensity: 0.70
[15:16:30] [INFO] [LastChance]   - Brightness: 0.60
[15:16:30] [INFO] [LastChance] Set player Player and all 25 children to PROCESS_MODE_ALWAYS
[15:16:30] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[15:16:30] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[15:16:30] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[15:16:30] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[15:16:30] [INFO] [LastChance] Set StaticBody2D 'Building1' to PROCESS_MODE_ALWAYS for collision
[15:16:30] [INFO] [LastChance] Set StaticBody2D 'Building2' to PROCESS_MODE_ALWAYS for collision
[15:16:30] [INFO] [LastChance] Set StaticBody2D 'Building3' to PROCESS_MODE_ALWAYS for collision
[15:16:30] [INFO] [LastChance] Set StaticBody2D 'Building4' to PROCESS_MODE_ALWAYS for collision
[15:16:30] [INFO] [LastChance] Set StaticBody2D 'Building5' to PROCESS_MODE_ALWAYS for collision
[15:16:30] [INFO] [LastChance] Set StaticBody2D 'Building6' to PROCESS_MODE_ALWAYS for collision
[15:16:30] [INFO] [LastChance] Set StaticBody2D 'Building7' to PROCESS_MODE_ALWAYS for collision
[15:16:30] [INFO] [LastChance] Set StaticBody2D 'Building8' to PROCESS_MODE_ALWAYS for collision
[15:16:30] [INFO] [LastChance] Set StaticBody2D 'MediumObstacle1' to PROCESS_MODE_ALWAYS for collision
[15:16:30] [INFO] [LastChance] Set StaticBody2D 'MediumObstacle2' to PROCESS_MODE_ALWAYS for collision
[15:16:30] [INFO] [LastChance] Set StaticBody2D 'MediumObstacle3' to PROCESS_MODE_ALWAYS for collision
[15:16:30] [INFO] [LastChance] Set StaticBody2D 'MediumObstacle4' to PROCESS_MODE_ALWAYS for collision
[15:16:30] [INFO] [LastChance] Set StaticBody2D 'CoverWide1' to PROCESS_MODE_ALWAYS for collision
[15:16:30] [INFO] [LastChance] Set StaticBody2D 'CoverWide2' to PROCESS_MODE_ALWAYS for collision
[15:16:30] [INFO] [LastChance] Set StaticBody2D 'CoverWide3' to PROCESS_MODE_ALWAYS for collision
[15:16:30] [INFO] [LastChance] Set StaticBody2D 'CoverWide4' to PROCESS_MODE_ALWAYS for collision
[15:16:30] [INFO] [LastChance] Set StaticBody2D 'CoverWide5' to PROCESS_MODE_ALWAYS for collision
[15:16:30] [INFO] [LastChance] Set StaticBody2D 'CoverWide6' to PROCESS_MODE_ALWAYS for collision
[15:16:30] [INFO] [LastChance] Set StaticBody2D 'CoverWide7' to PROCESS_MODE_ALWAYS for collision
[15:16:30] [INFO] [LastChance] Set StaticBody2D 'CoverWide8' to PROCESS_MODE_ALWAYS for collision
[15:16:30] [INFO] [LastChance] Set StaticBody2D 'CoverWide9' to PROCESS_MODE_ALWAYS for collision
[15:16:30] [INFO] [LastChance] Set StaticBody2D 'CoverWide10' to PROCESS_MODE_ALWAYS for collision
[15:16:30] [INFO] [LastChance] Set StaticBody2D 'CoverWide11' to PROCESS_MODE_ALWAYS for collision
[15:16:30] [INFO] [LastChance] Set StaticBody2D 'CoverWide12' to PROCESS_MODE_ALWAYS for collision
[15:16:30] [INFO] [LastChance] Set StaticBody2D 'CoverTall1' to PROCESS_MODE_ALWAYS for collision
[15:16:30] [INFO] [LastChance] Set StaticBody2D 'CoverTall2' to PROCESS_MODE_ALWAYS for collision
[15:16:30] [INFO] [LastChance] Set StaticBody2D 'CoverTall3' to PROCESS_MODE_ALWAYS for collision
[15:16:30] [INFO] [LastChance] Set StaticBody2D 'CoverTall4' to PROCESS_MODE_ALWAYS for collision
[15:16:30] [INFO] [LastChance] Set StaticBody2D 'CoverTall5' to PROCESS_MODE_ALWAYS for collision
[15:16:30] [INFO] [LastChance] Set StaticBody2D 'CoverTall6' to PROCESS_MODE_ALWAYS for collision
[15:16:30] [INFO] [LastChance] Set StaticBody2D 'CoverTall7' to PROCESS_MODE_ALWAYS for collision
[15:16:30] [INFO] [LastChance] Set StaticBody2D 'CoverTall8' to PROCESS_MODE_ALWAYS for collision
[15:16:30] [INFO] [LastChance] Set StaticBody2D 'Barricade1' to PROCESS_MODE_ALWAYS for collision
[15:16:30] [INFO] [LastChance] Set StaticBody2D 'Barricade2' to PROCESS_MODE_ALWAYS for collision
[15:16:30] [INFO] [LastChance] Set StaticBody2D 'Barricade3' to PROCESS_MODE_ALWAYS for collision
[15:16:30] [INFO] [LastChance] Set StaticBody2D 'Barricade4' to PROCESS_MODE_ALWAYS for collision
[15:16:30] [INFO] [LastChance] Set StaticBody2D 'Barricade5' to PROCESS_MODE_ALWAYS for collision
[15:16:30] [INFO] [LastChance] Set StaticBody2D 'Barricade6' to PROCESS_MODE_ALWAYS for collision
[15:16:30] [INFO] [LastChance] Set StaticBody2D 'Pillar1' to PROCESS_MODE_ALWAYS for collision
[15:16:30] [INFO] [LastChance] Set StaticBody2D 'Pillar2' to PROCESS_MODE_ALWAYS for collision
[15:16:30] [INFO] [LastChance] Set StaticBody2D 'Pillar3' to PROCESS_MODE_ALWAYS for collision
[15:16:30] [INFO] [LastChance] Set StaticBody2D 'Pillar4' to PROCESS_MODE_ALWAYS for collision
[15:16:30] [INFO] [LastChance] Set StaticBody2D 'Pillar5' to PROCESS_MODE_ALWAYS for collision
[15:16:30] [INFO] [LastChance] Set StaticBody2D 'Pillar6' to PROCESS_MODE_ALWAYS for collision
[15:16:30] [INFO] [LastChance] Set StaticBody2D 'Pillar7' to PROCESS_MODE_ALWAYS for collision
[15:16:30] [INFO] [LastChance] Set StaticBody2D 'CrateSquare1' to PROCESS_MODE_ALWAYS for collision
[15:16:30] [INFO] [LastChance] Set StaticBody2D 'CrateSquare2' to PROCESS_MODE_ALWAYS for collision
[15:16:30] [INFO] [LastChance] Set StaticBody2D 'CrateSquare3' to PROCESS_MODE_ALWAYS for collision
[15:16:30] [INFO] [LastChance] Set StaticBody2D 'CrateSquare4' to PROCESS_MODE_ALWAYS for collision
[15:16:30] [INFO] [LastChance] Set StaticBody2D 'CrateSquare5' to PROCESS_MODE_ALWAYS for collision
[15:16:30] [INFO] [LastChance] Set StaticBody2D 'CrateSquare6' to PROCESS_MODE_ALWAYS for collision
[15:16:30] [INFO] [LastChance] Set StaticBody2D 'SpawnCover' to PROCESS_MODE_ALWAYS for collision
[15:16:30] [INFO] [LastChance] Skipping player node: Player
[15:16:30] [INFO] [LastChance] Froze existing bullet casing: Casing
[15:16:30] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1422
[15:16:30] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1428
[15:16:30] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1431
[15:16:30] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1607
[15:16:30] [INFO] [LastChance] Froze existing grenade: FragGrenade
[15:16:30] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[15:16:30] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[15:16:30] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[15:16:30] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1725.913, 1172.212), source=NEUTRAL (FragGrenade), range=2937, listeners=8
[15:16:30] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=6
[15:16:30] [ENEMY] [GuardEnemy1] Hit taken, damage: 1, health: 3/3 -> 2/3
[15:16:30] [ENEMY] [GuardEnemy1] ImpactEffectsManager found, calling spawn_blood_effect
[15:16:30] [INFO] [ImpactEffects] spawn_blood_effect called at (1665.05, 1043.582), dir=(-0.427701, -0.90392), lethal=false
[15:16:30] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[15:16:30] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[15:16:30] [INFO] [ImpactEffects] Blood effect spawned at (1665.05, 1043.582) (scale=1)
[15:16:30] [ENEMY] [GuardEnemy1] Hit taken, damage: 1, health: 2/3 -> 1/3
[15:16:30] [ENEMY] [GuardEnemy1] ImpactEffectsManager found, calling spawn_blood_effect
[15:16:30] [INFO] [ImpactEffects] spawn_blood_effect called at (1665.05, 1043.582), dir=(-0.427701, -0.90392), lethal=false
[15:16:30] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[15:16:30] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[15:16:30] [INFO] [ImpactEffects] Blood effect spawned at (1665.05, 1043.582) (scale=1)
[15:16:30] [ENEMY] [GuardEnemy1] Hit taken, damage: 1, health: 1/3 -> 0/3
[15:16:30] [ENEMY] [GuardEnemy1] ImpactEffectsManager found, calling spawn_blood_effect
[15:16:30] [INFO] [ImpactEffects] spawn_blood_effect called at (1665.05, 1043.582), dir=(-0.427701, -0.90392), lethal=true
[15:16:30] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[15:16:30] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[15:16:30] [INFO] [ImpactEffects] Blood effect spawned at (1665.05, 1043.582) (scale=1.5)
[15:16:30] [ENEMY] [GuardEnemy1] Enemy died (ricochet: false, penetration: false)
[15:16:30] [INFO] [PowerFantasy] Enemy killed - skipping 300ms effect (LastChance time-freeze already active)
[15:16:30] [ENEMY] [GuardEnemy1] [AllyDeath] Notified 1 enemies
[15:16:30] [INFO] [SoundPropagation] Unregistered listener: GuardEnemy1 (remaining: 7)
[15:16:30] [INFO] [DeathAnim] Started - Angle: -115.3 deg, Index: 4
[15:16:30] [ENEMY] [GuardEnemy1] Death animation started with hit direction: (-0.427701, -0.90392)
[15:16:30] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 142.3
[15:16:30] [INFO] [LastChance] Freezing newly created shrapnel: Shrapnel
[15:16:30] [INFO] [LastChance] Registered frozen shrapnel: Shrapnel
[15:16:30] [INFO] [FragGrenade] Spawned shrapnel #1 at angle 8.8 degrees
[15:16:30] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@1621
[15:16:30] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@1621
[15:16:30] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 82.6 degrees
[15:16:30] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@1622
[15:16:30] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@1622
[15:16:30] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 177.4 degrees
[15:16:30] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@1623
[15:16:30] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@1623
[15:16:30] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 261.6 degrees
[15:16:30] [INFO] [ImpactEffects] Spawning explosion visual effect at (1725.913, 1172.212) (radius=225) - using shadow-based wall occlusion
[15:16:30] [INFO] [LastChance] Freezing newly created explosion effect: @PointLight2D@1624
[15:16:30] [INFO] [LastChance] Registered frozen explosion effect: @PointLight2D@1624
[15:16:30] [INFO] [GrenadeTimer] Impact detected with CoverTall3 - EXPLODING!
[15:16:30] [INFO] [GrenadeTimer] EXPLODED at (1725.9131, 1172.2118)!
[15:16:30] [INFO] [GrenadeTimer] Applying frag explosion damage (radius: 225, damage: 99)
[15:16:30] [INFO] [GrenadeTimer] Damaged enemy at distance 142,3
[15:16:30] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@1625
[15:16:30] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@1625
[15:16:30] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@1626
[15:16:30] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@1626
[15:16:30] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@1627
[15:16:30] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@1627
[15:16:30] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@1628
[15:16:30] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@1628
[15:16:30] [INFO] [GrenadeTimer] Spawned 4 shrapnel pieces
[15:16:30] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1725.913, 1172.212), source=NEUTRAL (FragGrenade), range=2938, listeners=7
[15:16:30] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=6
[15:16:30] [INFO] [LastChance] Freezing newly created explosion visual effect (Node2D): ExplosionFlash
[15:16:30] [INFO] [LastChance] Registered frozen explosion visual: ExplosionFlash
[15:16:30] [INFO] [LastChance] Freezing newly created explosion effect: PointLight2D
[15:16:30] [INFO] [LastChance] Registered frozen explosion effect: PointLight2D
[15:16:30] [INFO] [GrenadeTimer] Spawned PointLight2D frag explosion flash at (1725.9131, 1172.2118) (shadow-based wall occlusion)
[15:16:30] [INFO] [BloodDecal] Blood puddle created at (1623.931, 1027.155) (added to group)
[15:16:30] [INFO] [BloodDecal] Blood puddle created at (1615.021, 990.4971) (added to group)
[15:16:30] [INFO] [BloodDecal] Blood puddle created at (1656.692, 983.0526) (added to group)
[15:16:30] [INFO] [BloodDecal] Blood puddle created at (1628.18, 1023.262) (added to group)
[15:16:30] [INFO] [BloodDecal] Blood puddle created at (1647.585, 1014.264) (added to group)
[15:16:30] [INFO] [BloodDecal] Blood puddle created at (1627.17, 981.2001) (added to group)
[15:16:30] [INFO] [BloodDecal] Blood puddle created at (1643.456, 1012.993) (added to group)
[15:16:30] [INFO] [BloodDecal] Blood puddle created at (1643.715, 987.4374) (added to group)
[15:16:30] [INFO] [BloodDecal] Blood puddle created at (1626.699, 1023.305) (added to group)
[15:16:30] [INFO] [BloodDecal] Blood puddle created at (1631.504, 966.2708) (added to group)
[15:16:30] [INFO] [BloodDecal] Blood puddle created at (1629.708, 1032.619) (added to group)
[15:16:30] [INFO] [BloodDecal] Blood puddle created at (1634.314, 965.0801) (added to group)
[15:16:30] [INFO] [BloodDecal] Blood puddle created at (1599.102, 987.3576) (added to group)
[15:16:30] [INFO] [BloodDecal] Blood puddle created at (1603.662, 978.1815) (added to group)
[15:16:30] [INFO] [BloodDecal] Blood puddle created at (1603.244, 995.119) (added to group)
[15:16:30] [INFO] [BloodDecal] Blood puddle created at (1631.866, 950.5259) (added to group)
[15:16:30] [INFO] [BloodDecal] Blood puddle created at (1591.156, 994.7352) (added to group)
[15:16:30] [INFO] [BloodDecal] Blood puddle created at (1651.503, 973.1777) (added to group)
[15:16:30] [INFO] [BloodDecal] Blood puddle created at (1642.665, 965.4413) (added to group)
[15:16:30] [INFO] [BloodDecal] Blood puddle created at (1616.401, 1034.922) (added to group)
[15:16:30] [INFO] [BloodDecal] Blood puddle created at (1589.05, 994.5047) (added to group)
[15:16:30] [INFO] [BloodDecal] Blood puddle created at (1646.945, 986.881) (added to group)
[15:16:30] [INFO] [BloodDecal] Blood puddle created at (1588.433, 1010.235) (added to group)
[15:16:30] [INFO] [BloodDecal] Blood puddle created at (1588.541, 979.0393) (added to group)
[15:16:30] [INFO] [BloodDecal] Blood puddle created at (1597.588, 1029.363) (added to group)
[15:16:30] [INFO] [BloodDecal] Blood puddle created at (1595.949, 1021.793) (added to group)
[15:16:30] [INFO] [BloodDecal] Blood puddle created at (1555.177, 1003.729) (added to group)
[15:16:30] [INFO] [BloodDecal] Blood puddle created at (1630.047, 950.9236) (added to group)
[15:16:30] [INFO] [BloodDecal] Blood puddle created at (1649.347, 1009.244) (added to group)
[15:16:31] [INFO] [BloodDecal] Blood puddle created at (1549.293, 990.0253) (added to group)
[15:16:31] [INFO] [BloodDecal] Blood puddle created at (1608.207, 1019.872) (added to group)
[15:16:31] [INFO] [BloodDecal] Blood puddle created at (1629.885, 936.8327) (added to group)
[15:16:31] [INFO] [BloodDecal] Blood puddle created at (1660.222, 1002.162) (added to group)
[15:16:31] [INFO] [BloodDecal] Blood puddle created at (1658.726, 990.4063) (added to group)
[15:16:31] [INFO] [BloodDecal] Blood puddle created at (1650.962, 979.9053) (added to group)
[15:16:31] [INFO] [BloodDecal] Blood puddle created at (1587.934, 1064.508) (added to group)
[15:16:31] [INFO] [BloodDecal] Blood puddle created at (1553.238, 973.5164) (added to group)
[15:16:31] [INFO] [BloodDecal] Blood puddle created at (1635.821, 1033.767) (added to group)
[15:16:31] [INFO] [BloodDecal] Blood puddle created at (1664.756, 988.6227) (added to group)
[15:16:31] [INFO] [ReplayManager] Recording frame 1380 (22,5s): player_valid=False, enemies=10
[15:16:31] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[15:16:31] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[15:16:31] [INFO] [BloodyFeet:GuardEnemy1] Footprint scene loaded
[15:16:31] [INFO] [BloodyFeet:GuardEnemy1] Found EnemyModel for facing direction
[15:16:31] [INFO] [BloodyFeet:GuardEnemy1] BloodyFeetComponent ready on GuardEnemy1
[15:16:31] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[15:16:31] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[15:16:31] [INFO] [LastChance] Resetting all effects (scene change detected)
[15:16:31] [INFO] [LastChance] All process modes restored
[15:16:31] [INFO] [LastChance] Restored original colors to 5 player sprites
[15:16:31] [INFO] [CinemaEffects] Scene changed to: TestTier
[15:16:31] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[15:16:31] [ENEMY] [GuardEnemy1] Death animation component initialized
[15:16:31] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[15:16:31] [INFO] [BloodyFeet:GuardEnemy2] Footprint scene loaded
[15:16:31] [INFO] [BloodyFeet:GuardEnemy2] Found EnemyModel for facing direction
[15:16:31] [INFO] [BloodyFeet:GuardEnemy2] BloodyFeetComponent ready on GuardEnemy2
[15:16:31] [ENEMY] [GuardEnemy2] Death animation component initialized
[15:16:31] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[15:16:31] [INFO] [BloodyFeet:GuardEnemy3] Footprint scene loaded
[15:16:31] [INFO] [BloodyFeet:GuardEnemy3] Found EnemyModel for facing direction
[15:16:31] [INFO] [BloodyFeet:GuardEnemy3] BloodyFeetComponent ready on GuardEnemy3
[15:16:31] [INFO] [EnemyGrenade] Initialized: 1 grenades
[15:16:31] [ENEMY] [GuardEnemy3] Death animation component initialized
[15:16:31] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[15:16:31] [INFO] [BloodyFeet:GuardEnemy4] Footprint scene loaded
[15:16:31] [INFO] [BloodyFeet:GuardEnemy4] Found EnemyModel for facing direction
[15:16:31] [INFO] [BloodyFeet:GuardEnemy4] BloodyFeetComponent ready on GuardEnemy4
[15:16:31] [INFO] [EnemyGrenade] Initialized: 1 grenades
[15:16:31] [ENEMY] [GuardEnemy4] Death animation component initialized
[15:16:31] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[15:16:31] [INFO] [BloodyFeet:GuardEnemy5] Footprint scene loaded
[15:16:31] [INFO] [BloodyFeet:GuardEnemy5] Found EnemyModel for facing direction
[15:16:31] [INFO] [BloodyFeet:GuardEnemy5] BloodyFeetComponent ready on GuardEnemy5
[15:16:31] [INFO] [EnemyGrenade] Initialized: 1 grenades
[15:16:31] [ENEMY] [GuardEnemy5] Death animation component initialized
[15:16:31] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[15:16:31] [INFO] [BloodyFeet:GuardEnemy6] Footprint scene loaded
[15:16:31] [INFO] [BloodyFeet:GuardEnemy6] Found EnemyModel for facing direction
[15:16:31] [INFO] [BloodyFeet:GuardEnemy6] BloodyFeetComponent ready on GuardEnemy6
[15:16:31] [ENEMY] [GuardEnemy6] Death animation component initialized
[15:16:31] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[15:16:31] [INFO] [BloodyFeet:PatrolEnemy1] Footprint scene loaded
[15:16:31] [INFO] [BloodyFeet:PatrolEnemy1] Found EnemyModel for facing direction
[15:16:31] [INFO] [BloodyFeet:PatrolEnemy1] BloodyFeetComponent ready on PatrolEnemy1
[15:16:31] [ENEMY] [PatrolEnemy1] Death animation component initialized
[15:16:31] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[15:16:31] [INFO] [BloodyFeet:PatrolEnemy2] Footprint scene loaded
[15:16:31] [INFO] [BloodyFeet:PatrolEnemy2] Found EnemyModel for facing direction
[15:16:31] [INFO] [BloodyFeet:PatrolEnemy2] BloodyFeetComponent ready on PatrolEnemy2
[15:16:31] [ENEMY] [PatrolEnemy2] Death animation component initialized
[15:16:31] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[15:16:31] [INFO] [BloodyFeet:PatrolEnemy3] Footprint scene loaded
[15:16:31] [INFO] [BloodyFeet:PatrolEnemy3] Found EnemyModel for facing direction
[15:16:31] [INFO] [BloodyFeet:PatrolEnemy3] BloodyFeetComponent ready on PatrolEnemy3
[15:16:31] [ENEMY] [PatrolEnemy3] Death animation component initialized
[15:16:31] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[15:16:31] [INFO] [BloodyFeet:PatrolEnemy4] Footprint scene loaded
[15:16:31] [INFO] [BloodyFeet:PatrolEnemy4] Found EnemyModel for facing direction
[15:16:31] [INFO] [BloodyFeet:PatrolEnemy4] BloodyFeetComponent ready on PatrolEnemy4
[15:16:31] [ENEMY] [PatrolEnemy4] Death animation component initialized
[15:16:31] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[15:16:31] [INFO] [BloodyFeet:Player] Footprint scene loaded
[15:16:31] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[15:16:31] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[15:16:31] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[15:16:31] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[15:16:31] [INFO] [Player.Weapon] GameManager weapon selection: sniper (SniperRifle)
[15:16:31] [INFO] [Player.Weapon] Removed default AssaultRifle
[15:16:31] [INFO] [Player.Weapon] Equipped SniperRifle (ammo: 5/5)
[15:16:31] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[15:16:31] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[15:16:31] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[15:16:31] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[15:16:31] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[15:16:31] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[15:16:31] [INFO] [Player] Ready! Ammo: 5/5, Grenades: 1/3, Health: 10/10
[15:16:31] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[15:16:31] [INFO] [BloodyFeet:GuardEnemy1] Blood detector created and attached to GuardEnemy1
[15:16:31] [INFO] [CinemaEffects] Found player node: Player
[15:16:31] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[15:16:31] [INFO] [SoundPropagation] Registered listener: GuardEnemy1 (total: 8)
[15:16:31] [ENEMY] [GuardEnemy1] Registered as sound listener
[15:16:31] [ENEMY] [GuardEnemy1] Spawned at (2800, 600), hp: 4, behavior: GUARD
[15:16:31] [INFO] [BloodyFeet:GuardEnemy2] Blood detector created and attached to GuardEnemy2
[15:16:31] [INFO] [SoundPropagation] Registered listener: GuardEnemy2 (total: 9)
[15:16:31] [ENEMY] [GuardEnemy2] Registered as sound listener
[15:16:31] [ENEMY] [GuardEnemy2] Spawned at (2800, 1000), hp: 2, behavior: GUARD
[15:16:31] [INFO] [BloodyFeet:GuardEnemy3] Blood detector created and attached to GuardEnemy3
[15:16:31] [INFO] [SoundPropagation] Registered listener: GuardEnemy3 (total: 10)
[15:16:31] [ENEMY] [GuardEnemy3] Registered as sound listener
[15:16:31] [ENEMY] [GuardEnemy3] Spawned at (3400, 600), hp: 3, behavior: GUARD
[15:16:31] [INFO] [BloodyFeet:GuardEnemy4] Blood detector created and attached to GuardEnemy4
[15:16:31] [INFO] [SoundPropagation] Registered listener: GuardEnemy4 (total: 11)
[15:16:31] [ENEMY] [GuardEnemy4] Registered as sound listener
[15:16:31] [ENEMY] [GuardEnemy4] Spawned at (3400, 1000), hp: 3, behavior: GUARD
[15:16:31] [INFO] [BloodyFeet:GuardEnemy5] Blood detector created and attached to GuardEnemy5
[15:16:31] [INFO] [SoundPropagation] Registered listener: GuardEnemy5 (total: 12)
[15:16:31] [ENEMY] [GuardEnemy5] Registered as sound listener
[15:16:31] [ENEMY] [GuardEnemy5] Spawned at (3000, 2100), hp: 4, behavior: GUARD
[15:16:31] [INFO] [BloodyFeet:GuardEnemy6] Blood detector created and attached to GuardEnemy6
[15:16:31] [INFO] [SoundPropagation] Registered listener: GuardEnemy6 (total: 13)
[15:16:31] [ENEMY] [GuardEnemy6] Registered as sound listener
[15:16:31] [ENEMY] [GuardEnemy6] Spawned at (3000, 2400), hp: 4, behavior: GUARD
[15:16:31] [INFO] [BloodyFeet:PatrolEnemy1] Blood detector created and attached to PatrolEnemy1
[15:16:31] [INFO] [SoundPropagation] Registered listener: PatrolEnemy1 (total: 14)
[15:16:31] [ENEMY] [PatrolEnemy1] Registered as sound listener
[15:16:31] [ENEMY] [PatrolEnemy1] Spawned at (2400, 800), hp: 3, behavior: PATROL
[15:16:31] [INFO] [BloodyFeet:PatrolEnemy2] Blood detector created and attached to PatrolEnemy2
[15:16:31] [INFO] [SoundPropagation] Registered listener: PatrolEnemy2 (total: 15)
[15:16:31] [ENEMY] [PatrolEnemy2] Registered as sound listener
[15:16:31] [ENEMY] [PatrolEnemy2] Spawned at (2400, 2300), hp: 2, behavior: PATROL
[15:16:31] [INFO] [BloodyFeet:PatrolEnemy3] Blood detector created and attached to PatrolEnemy3
[15:16:31] [INFO] [SoundPropagation] Registered listener: PatrolEnemy3 (total: 16)
[15:16:31] [ENEMY] [PatrolEnemy3] Registered as sound listener
[15:16:31] [ENEMY] [PatrolEnemy3] Spawned at (2800, 1544), hp: 3, behavior: PATROL
[15:16:31] [INFO] [BloodyFeet:PatrolEnemy4] Blood detector created and attached to PatrolEnemy4
[15:16:31] [INFO] [SoundPropagation] Registered listener: PatrolEnemy4 (total: 17)
[15:16:31] [ENEMY] [PatrolEnemy4] Registered as sound listener
[15:16:31] [ENEMY] [PatrolEnemy4] Spawned at (3600, 1544), hp: 3, behavior: PATROL
[15:16:31] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[15:16:31] [ENEMY] [GuardEnemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(264,1544), corner_timer=0.00
[15:16:31] [ENEMY] [GuardEnemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(264,1544), corner_timer=0.00
[15:16:31] [ENEMY] [GuardEnemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(264,1544), corner_timer=0.00
[15:16:31] [ENEMY] [GuardEnemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=236.3°, current=0.0°, player=(264,1544), corner_timer=0.00
[15:16:31] [ENEMY] [GuardEnemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=281.3°, current=0.0°, player=(264,1544), corner_timer=0.00
[15:16:31] [ENEMY] [GuardEnemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=281.3°, current=0.0°, player=(264,1544), corner_timer=0.00
[15:16:31] [INFO] [Player] Detecting weapon pose (frame 3)...
[15:16:31] [INFO] [Player] Detected weapon: ASVK Sniper Rifle (Sniper pose)
[15:16:31] [INFO] [Player] Applied Sniper arm pose: Left=(28, 6), Right=(-3, 6)
[15:16:31] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[15:16:31] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[15:16:31] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[15:16:31] [INFO] [LastChance] Found player: Player
[15:16:31] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[15:16:31] [INFO] [LastChance] Connected to player Damaged signal (C#)
[15:16:31] [INFO] [LastChance] Connected to player Died signal (C#)
[15:16:31] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[15:16:32] [INFO] [ReplayManager] Recording frame 1440 (23,5s): player_valid=False, enemies=10
[15:16:33] [ENEMY] [PatrolEnemy1] PATROL corner check: angle -0.0°
[15:16:33] [ENEMY] [PatrolEnemy2] PATROL corner check: angle 180.0°
[15:16:33] [ENEMY] [PatrolEnemy3] PATROL corner check: angle -98.6°
[15:16:33] [ENEMY] [PatrolEnemy4] PATROL corner check: angle -0.0°
[15:16:33] [ENEMY] [PatrolEnemy1] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(427,1544), corner_timer=0.30
[15:16:33] [ENEMY] [PatrolEnemy2] ROT_CHANGE: none -> P3:corner, state=IDLE, target=180.0°, current=-90.0°, player=(427,1544), corner_timer=0.30
[15:16:33] [ENEMY] [PatrolEnemy3] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-98.6°, current=-8.6°, player=(427,1544), corner_timer=0.30
[15:16:33] [ENEMY] [PatrolEnemy4] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(427,1544), corner_timer=0.30
[15:16:33] [INFO] [Player] Invincibility mode: ON
[15:16:33] [INFO] [GameManager] Invincibility mode toggled: ON
[15:16:33] [INFO] [ReplayManager] Recording frame 1500 (24,5s): player_valid=False, enemies=10
[15:16:33] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=90.0°, current=35.6°, player=(427,1544), corner_timer=-0.02
[15:16:33] [ENEMY] [PatrolEnemy1] PATROL corner check: angle -0.0°
[15:16:33] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=-90.0°, current=-144.4°, player=(427,1544), corner_timer=-0.02
[15:16:33] [ENEMY] [PatrolEnemy2] PATROL corner check: angle 180.0°
[15:16:33] [ENEMY] [PatrolEnemy3] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=-4.5°, current=-58.9°, player=(427,1544), corner_timer=-0.02
[15:16:33] [ENEMY] [PatrolEnemy3] PATROL corner check: angle -94.2°
[15:16:33] [ENEMY] [PatrolEnemy4] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=90.0°, current=35.6°, player=(427,1544), corner_timer=-0.02
[15:16:33] [ENEMY] [PatrolEnemy4] PATROL corner check: angle -0.0°
[15:16:33] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-0.0°, current=38.4°, player=(427,1544), corner_timer=0.30
[15:16:33] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=180.0°, current=-141.6°, player=(427,1544), corner_timer=0.30
[15:16:33] [ENEMY] [PatrolEnemy3] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-94.2°, current=-55.8°, player=(427,1544), corner_timer=0.30
[15:16:33] [ENEMY] [PatrolEnemy4] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-0.0°, current=38.4°, player=(427,1544), corner_timer=0.30
[15:16:33] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=90.0°, current=0.0°, player=(427,1487), corner_timer=-0.02
[15:16:33] [ENEMY] [PatrolEnemy1] PATROL corner check: angle -0.0°
[15:16:33] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=-90.0°, current=180.0°, player=(427,1487), corner_timer=-0.02
[15:16:33] [ENEMY] [PatrolEnemy2] PATROL corner check: angle 180.0°
[15:16:33] [ENEMY] [PatrolEnemy3] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=20.2°, current=-85.8°, player=(427,1487), corner_timer=-0.02
[15:16:33] [ENEMY] [PatrolEnemy3] PATROL corner check: angle -69.8°
[15:16:33] [ENEMY] [PatrolEnemy4] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=90.0°, current=0.0°, player=(427,1487), corner_timer=-0.02
[15:16:33] [ENEMY] [PatrolEnemy4] PATROL corner check: angle -0.0°
[15:16:33] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-0.0°, current=2.9°, player=(427,1482), corner_timer=0.30
[15:16:33] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=180.0°, current=-177.1°, player=(427,1482), corner_timer=0.30
[15:16:33] [ENEMY] [PatrolEnemy3] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-69.8°, current=-82.9°, player=(427,1482), corner_timer=0.30
[15:16:33] [ENEMY] [PatrolEnemy4] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-0.0°, current=2.9°, player=(427,1482), corner_timer=0.30
[15:16:34] [ENEMY] [PatrolEnemy3] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=20.2°, current=-69.8°, player=(427,1377), corner_timer=-0.02
[15:16:34] [ENEMY] [PatrolEnemy3] PATROL corner check: angle -69.8°
[15:16:34] [ENEMY] [PatrolEnemy3] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-69.8°, current=-66.9°, player=(427,1372), corner_timer=0.30
[15:16:34] [ENEMY] [GuardEnemy3] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=165.5°, current=-168.8°, player=(427,1366), corner_timer=0.00
[15:16:34] [ENEMY] [GuardEnemy3] State: IDLE -> COMBAT
[15:16:34] [ENEMY] [GuardEnemy4] Memory: high confidence (0.90) - transitioning to PURSUING
[15:16:34] [ENEMY] [GuardEnemy4] State: IDLE -> PURSUING
[15:16:34] [ENEMY] [GuardEnemy1] Memory: high confidence (0.90) - transitioning to PURSUING
[15:16:34] [ENEMY] [GuardEnemy1] State: IDLE -> PURSUING
[15:16:34] [ENEMY] [GuardEnemy2] Memory: high confidence (0.81) - transitioning to PURSUING
[15:16:34] [ENEMY] [GuardEnemy2] State: IDLE -> PURSUING
[15:16:34] [ENEMY] [GuardEnemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=173.1°, current=-123.8°, player=(427,1361), corner_timer=0.00
[15:16:34] [ENEMY] [GuardEnemy4] PURSUING_MEMORY corner check: angle 83.0°
[15:16:34] [ENEMY] [GuardEnemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=162.3°, current=11.3°, player=(427,1355), corner_timer=0.00
[15:16:34] [ENEMY] [GuardEnemy1] PURSUING_MEMORY corner check: angle 72.1°
[15:16:34] [ENEMY] [GuardEnemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=171.5°, current=-33.8°, player=(427,1355), corner_timer=0.00
[15:16:34] [ENEMY] [GuardEnemy2] PURSUING_MEMORY corner check: angle 81.2°
[15:16:34] [ENEMY] [GuardEnemy3] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=165.7°, current=-8.9°, player=(427,1355), corner_timer=0.00
[15:16:34] [ENEMY] [GuardEnemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=172.0°, current=143.2°, player=(427,1333), corner_timer=0.25
[15:16:34] [ENEMY] [GuardEnemy2] Warning: No valid flank position (both sides behind walls)
[15:16:34] [ENEMY] [GuardEnemy2] FLANKING started: target=(501.9865, 1148.234), side=left, pos=(2778.917, 1003.258)
[15:16:34] [ENEMY] [GuardEnemy2] State: PURSUING -> FLANKING
[15:16:34] [ENEMY] [GuardEnemy2] State: FLANKING -> COMBAT
[15:16:34] [INFO] [ReplayManager] Recording frame 1560 (25,5s): player_valid=False, enemies=10
[15:16:34] [ENEMY] [PatrolEnemy3] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.9°, current=-69.2°, player=(443,1274), corner_timer=-0.02
[15:16:34] [ENEMY] [PatrolEnemy3] PATROL corner check: angle -84.5°
[15:16:34] [ENEMY] [PatrolEnemy3] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-84.5°, current=-65.7°, player=(447,1270), corner_timer=0.30
[15:16:34] [ENEMY] [GuardEnemy4] PURSUING_MEMORY corner check: angle 83.0°
[15:16:34] [ENEMY] [GuardEnemy1] PURSUING_MEMORY corner check: angle 72.1°
[15:16:34] [ENEMY] [GuardEnemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=174.4°, current=174.4°, player=(469,1230), corner_timer=0.20
[15:16:34] [ENEMY] [GuardEnemy3] State: COMBAT -> PURSUING
[15:16:34] [ENEMY] [PatrolEnemy1] Memory: high confidence (0.89) - transitioning to PURSUING
[15:16:34] [ENEMY] [PatrolEnemy1] State: IDLE -> PURSUING
[15:16:34] [ENEMY] [PatrolEnemy3] Memory: high confidence (0.80) - transitioning to PURSUING
[15:16:34] [ENEMY] [PatrolEnemy3] State: IDLE -> PURSUING
[15:16:34] [ENEMY] [PatrolEnemy4] Memory: medium confidence (0.72) - transitioning to PURSUING
[15:16:34] [ENEMY] [PatrolEnemy4] State: IDLE -> PURSUING
[15:16:34] [ENEMY] [GuardEnemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=175.0°, current=175.0°, player=(471,1209), corner_timer=0.20
[15:16:34] [ENEMY] [GuardEnemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=176.1°, current=134.9°, player=(471,1209), corner_timer=0.13
[15:16:34] [ENEMY] [GuardEnemy4] Warning: No valid flank position (both sides behind walls)
[15:16:34] [ENEMY] [GuardEnemy4] FLANKING started: target=(559.3525, 1029.412), side=left, pos=(3235.886, 1019.999)
[15:16:34] [ENEMY] [GuardEnemy4] State: PURSUING -> FLANKING
[15:16:34] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=173.8°, current=0.0°, player=(471,1209), corner_timer=0.08
[15:16:34] [ENEMY] [PatrolEnemy3] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=-174.0°, current=-84.5°, player=(471,1209), corner_timer=0.10
[15:16:34] [ENEMY] [PatrolEnemy4] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=-170.3°, current=0.0°, player=(471,1209), corner_timer=0.08
[15:16:34] [ENEMY] [GuardEnemy4] State: FLANKING -> COMBAT
[15:16:34] [ENEMY] [PatrolEnemy1] PURSUING_MEMORY corner check: angle 83.1°
[15:16:34] [ENEMY] [PatrolEnemy4] PURSUING_MEMORY corner check: angle 99.2°
[15:16:34] [ENEMY] [PatrolEnemy3] PURSUING_MEMORY corner check: angle -107.6°
[15:16:34] [ENEMY] [GuardEnemy1] PURSUING_MEMORY corner check: angle 74.9°
[15:16:34] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=176.4°, current=128.9°, player=(471,1125), corner_timer=0.15
[15:16:34] [ENEMY] [PatrolEnemy1] FLANKING started: target=(581.9672, 1291.862), side=right, pos=(2316.008, 1010.405)
[15:16:34] [ENEMY] [PatrolEnemy1] State: PURSUING -> FLANKING
[15:16:34] [ENEMY] [PatrolEnemy1] State: FLANKING -> COMBAT
[15:16:35] [ENEMY] [PatrolEnemy4] PURSUING_MEMORY corner check: angle 99.2°
[15:16:35] [ENEMY] [PatrolEnemy3] PURSUING_MEMORY corner check: angle 73.2°
[15:16:35] [ENEMY] [GuardEnemy1] PURSUING_MEMORY corner check: angle 74.8°
[15:16:35] [ENEMY] [GuardEnemy5] Memory: high confidence (0.81) - transitioning to PURSUING
[15:16:35] [ENEMY] [GuardEnemy5] State: IDLE -> PURSUING
[15:16:35] [ENEMY] [GuardEnemy5] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=-158.4°, current=-78.7°, player=(471,1096), corner_timer=0.00
[15:16:35] [ENEMY] [GuardEnemy5] PURSUING_MEMORY corner check: angle 111.6°
[15:16:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2569.447, 1026.919), source=ENEMY (GuardEnemy2), range=1469, listeners=17
[15:16:35] [INFO] [SoundPropagation] Cleaned up 7 invalid listeners
[15:16:35] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=1, below_threshold=6
[15:16:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2568.806, 1028.096), source=ENEMY (GuardEnemy2), range=1469, listeners=10
[15:16:35] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=1, below_threshold=6
[15:16:35] [INFO] [ReplayManager] Recording frame 1620 (26,5s): player_valid=False, enemies=10
[15:16:35] [ENEMY] [GuardEnemy2] State: COMBAT -> RETREATING
[15:16:35] [ENEMY] [PatrolEnemy4] PURSUING_MEMORY corner check: angle 101.8°
[15:16:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2568.112, 1029.218), source=ENEMY (GuardEnemy2), range=1469, listeners=10
[15:16:35] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=1, below_threshold=6
[15:16:35] [ENEMY] [PatrolEnemy3] PURSUING_MEMORY corner check: angle -73.5°
[15:16:35] [ENEMY] [GuardEnemy2] Hit taken, damage: 1, health: 2/2 -> 1/2
[15:16:35] [ENEMY] [GuardEnemy2] ImpactEffectsManager found, calling spawn_blood_effect
[15:16:35] [INFO] [ImpactEffects] spawn_blood_effect called at (2572.43, 1019.166), dir=(1, 0), lethal=false
[15:16:35] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[15:16:35] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[15:16:35] [INFO] [ImpactEffects] Blood effect spawned at (2572.43, 1019.166) (scale=1)
[15:16:35] [ENEMY] [GuardEnemy1] PURSUING_MEMORY corner check: angle 78.5°
[15:16:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2969.404, 1029.147), source=ENEMY (GuardEnemy4), range=1469, listeners=10
[15:16:35] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=1, below_threshold=6
[15:16:35] [ENEMY] [PatrolEnemy1] State: COMBAT -> RETREATING
[15:16:35] [ENEMY] [GuardEnemy2] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=81.2°, current=177.7°, player=(471,1096), corner_timer=0.20
[15:16:35] [ENEMY] [GuardEnemy5] PURSUING_MEMORY corner check: angle 111.6°
[15:16:35] [ENEMY] [GuardEnemy2] State: RETREATING -> IN_COVER
[15:16:35] [ENEMY] [GuardEnemy2] State: IN_COVER -> SUPPRESSED
[15:16:35] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=89.7°, current=14.1°, player=(471,1096), corner_timer=-0.02
[15:16:35] [ENEMY] [PatrolEnemy2] PATROL corner check: angle -0.3°
[15:16:35] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-0.3°, current=16.9°, player=(471,1096), corner_timer=0.30
[15:16:35] [ENEMY] [GuardEnemy6] Memory: medium confidence (0.68) - transitioning to PURSUING
[15:16:35] [ENEMY] [GuardEnemy6] State: IDLE -> PURSUING
[15:16:35] [ENEMY] [PatrolEnemy2] Memory: medium confidence (0.68) - transitioning to PURSUING
[15:16:35] [ENEMY] [PatrolEnemy2] State: IDLE -> PURSUING
[15:16:35] [ENEMY] [GuardEnemy6] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=-152.7°, current=-78.7°, player=(471,1096), corner_timer=0.00
[15:16:35] [ENEMY] [GuardEnemy6] PURSUING_MEMORY corner check: angle 117.3°
[15:16:35] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=-151.6°, current=8.3°, player=(471,1096), corner_timer=0.27
[15:16:35] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[15:16:35] [ENEMY] [GuardEnemy4] State: COMBAT -> RETREATING
[15:16:35] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[15:16:35] [ENEMY] [GuardEnemy4] State: RETREATING -> SUPPRESSED
[15:16:35] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[15:16:35] [INFO] [BloodDecal] Blood puddle created at (2619.118, 1019.589) (added to group)
[15:16:35] [ENEMY] [PatrolEnemy4] PURSUING_MEMORY corner check: angle 101.8°
[15:16:35] [ENEMY] [PatrolEnemy3] PURSUING_MEMORY corner check: angle 98.8°
[15:16:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2889.434, 1031.313), source=ENEMY (GuardEnemy4), range=1469, listeners=10
[15:16:35] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=1, below_threshold=7
[15:16:35] [INFO] [BloodDecal] Blood puddle created at (2637.736, 1036.224) (added to group)
[15:16:35] [ENEMY] [PatrolEnemy1] Hit taken, damage: 1, health: 3/3 -> 2/3
[15:16:35] [ENEMY] [PatrolEnemy1] ImpactEffectsManager found, calling spawn_blood_effect
[15:16:35] [INFO] [ImpactEffects] spawn_blood_effect called at (2099.724, 1082.906), dir=(1, 0), lethal=false
[15:16:35] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[15:16:35] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[15:16:35] [INFO] [ImpactEffects] Blood effect spawned at (2099.724, 1082.906) (scale=1)
[15:16:35] [ENEMY] [GuardEnemy4] Hit taken, damage: 1, health: 3/3 -> 2/3
[15:16:35] [ENEMY] [GuardEnemy4] ImpactEffectsManager found, calling spawn_blood_effect
[15:16:35] [INFO] [ImpactEffects] spawn_blood_effect called at (2889.434, 1031.313), dir=(1, 0), lethal=false
[15:16:35] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[15:16:35] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[15:16:35] [INFO] [ImpactEffects] Blood effect spawned at (2889.434, 1031.313) (scale=1)
[15:16:35] [INFO] [BloodDecal] Blood puddle created at (2623.256, 1029.813) (added to group)
[15:16:35] [ENEMY] [GuardEnemy1] PURSUING corner check: angle 77.0°
[15:16:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2889.434, 1031.313), source=ENEMY (GuardEnemy4), range=1469, listeners=10
[15:16:35] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=1, below_threshold=7
[15:16:35] [ENEMY] [GuardEnemy5] PURSUING_MEMORY corner check: angle 111.6°
[15:16:35] [INFO] [BloodDecal] Blood puddle created at (2672.505, 1055.086) (added to group)
[15:16:35] [ENEMY] [GuardEnemy4] Hit taken, damage: 1, health: 2/3 -> 1/3
[15:16:35] [ENEMY] [GuardEnemy4] ImpactEffectsManager found, calling spawn_blood_effect
[15:16:35] [INFO] [ImpactEffects] spawn_blood_effect called at (2889.434, 1031.313), dir=(1, 0), lethal=false
[15:16:35] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[15:16:35] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[15:16:35] [INFO] [ImpactEffects] Blood effect spawned at (2889.434, 1031.313) (scale=1)
[15:16:35] [ENEMY] [PatrolEnemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-171.3°, current=-171.3°, player=(471,1096), corner_timer=0.20
[15:16:35] [ENEMY] [PatrolEnemy3] State: PURSUING -> COMBAT
[15:16:35] [INFO] [BloodDecal] Blood puddle created at (2698.557, 1069.414) (added to group)
[15:16:35] [INFO] [BloodDecal] Blood puddle created at (2675.463, 1085.803) (added to group)
[15:16:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2889.434, 1031.313), source=ENEMY (GuardEnemy4), range=1469, listeners=10
[15:16:35] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=1, below_threshold=7
[15:16:35] [ENEMY] [GuardEnemy4] State: SUPPRESSED -> SEEKING_COVER
[15:16:35] [INFO] [BloodDecal] Blood puddle created at (2653.277, 1040.288) (added to group)
[15:16:35] [ENEMY] [GuardEnemy4] Hit taken, damage: 1, health: 1/3 -> 0/3
[15:16:35] [ENEMY] [GuardEnemy4] ImpactEffectsManager found, calling spawn_blood_effect
[15:16:35] [INFO] [ImpactEffects] spawn_blood_effect called at (2889.434, 1031.313), dir=(1, 0), lethal=true
[15:16:35] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[15:16:35] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[15:16:35] [INFO] [ImpactEffects] Blood effect spawned at (2889.434, 1031.313) (scale=1.5)
[15:16:35] [ENEMY] [GuardEnemy4] Enemy died (ricochet: false, penetration: false)
[15:16:35] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[15:16:35] [INFO] [PowerFantasy] Starting power fantasy effect:
[15:16:35] [INFO] [PowerFantasy]   - Time scale: 0.10
[15:16:35] [INFO] [PowerFantasy]   - Duration: 300ms
[15:16:35] [ENEMY] [GuardEnemy4] [AllyDeath] Notified 2 enemies
[15:16:35] [INFO] [SoundPropagation] Unregistered listener: GuardEnemy4 (remaining: 9)
[15:16:35] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[15:16:35] [ENEMY] [GuardEnemy4] Death animation started with hit direction: (1, 0)
[15:16:35] [ENEMY] [PatrolEnemy2] PURSUING_MEMORY corner check: angle 118.4°
[15:16:36] [INFO] [LastChance] Threat detected: Bullet
[15:16:36] [INFO] [LastChance] Not in hard mode - effect disabled
[15:16:36] [INFO] [LastChance] Cannot trigger effect - conditions not met
[15:16:36] [ENEMY] [GuardEnemy6] PURSUING_MEMORY corner check: angle 117.3°
[15:16:36] [INFO] [BloodDecal] Blood puddle created at (2712.008, 1023.773) (added to group)
[15:16:36] [INFO] [PowerFantasy] Effect duration expired after 304.00 ms
[15:16:36] [INFO] [PowerFantasy] Ending power fantasy effect
[15:16:36] [INFO] [BloodDecal] Blood puddle created at (2730.968, 1166.653) (added to group)
[15:16:36] [INFO] [BloodDecal] Blood puddle created at (2732.337, 1013.411) (added to group)
[15:16:36] [INFO] [Player] Hit blocked by invincibility mode (C#)
[15:16:36] [INFO] [Player] Spawning blood effect at (471.4018, 1096.8136), dir=(1, 0), lethal=False (C#)
[15:16:36] [INFO] [ImpactEffects] spawn_blood_effect called at (471.4018, 1096.814), dir=(1, 0), lethal=false
[15:16:36] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[15:16:36] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[15:16:36] [INFO] [ImpactEffects] Blood effect spawned at (471.4018, 1096.814) (scale=1)
[15:16:36] [INFO] [BloodDecal] Blood puddle created at (2177.97, 1118.785) (added to group)
[15:16:36] [ENEMY] [PatrolEnemy4] PURSUING_MEMORY corner check: angle 101.8°
[15:16:36] [INFO] [BloodDecal] Blood puddle created at (2980.169, 1031.201) (added to group)
[15:16:36] [INFO] [LastChance] Threat detected: @Area2D@1920
[15:16:36] [INFO] [LastChance] Not in hard mode - effect disabled
[15:16:36] [INFO] [LastChance] Cannot trigger effect - conditions not met
[15:16:36] [INFO] [BloodDecal] Blood puddle created at (2950.289, 1057.649) (added to group)
[15:16:36] [INFO] [BloodDecal] Blood puddle created at (2166.124, 1084.971) (added to group)
[15:16:36] [INFO] [ReplayManager] Recording frame 1680 (27,3s): player_valid=False, enemies=10
[15:16:36] [INFO] [BloodDecal] Blood puddle created at (2961.677, 1056.824) (added to group)
[15:16:36] [INFO] [Player] Hit blocked by invincibility mode (C#)
[15:16:36] [INFO] [Player] Spawning blood effect at (471.4018, 1096.8136), dir=(1, 0), lethal=False (C#)
[15:16:36] [INFO] [ImpactEffects] spawn_blood_effect called at (471.4018, 1096.814), dir=(1, 0), lethal=false
[15:16:36] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[15:16:36] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[15:16:36] [INFO] [ImpactEffects] Blood effect spawned at (471.4018, 1096.814) (scale=1)
[15:16:36] [ENEMY] [GuardEnemy3] Warning: No valid flank position (both sides behind walls)
[15:16:36] [ENEMY] [GuardEnemy3] FLANKING started: target=(543.173, 910.135), side=left, pos=(3247.857, 658.5546)
[15:16:36] [ENEMY] [GuardEnemy3] State: PURSUING -> FLANKING
[15:16:36] [INFO] [BloodDecal] Blood puddle created at (2201.76, 1143.408) (added to group)
[15:16:36] [ENEMY] [GuardEnemy1] PURSUING corner check: angle 77.0°
[15:16:36] [ENEMY] [GuardEnemy3] FLANKING corner check: angle 84.7°
[15:16:36] [INFO] [BloodDecal] Blood puddle created at (2205.211, 1080.555) (added to group)
[15:16:36] [INFO] [BloodDecal] Blood puddle created at (2945.032, 1068.209) (added to group)
[15:16:36] [ENEMY] [GuardEnemy5] PURSUING_MEMORY corner check: angle 111.6°
[15:16:36] [INFO] [BloodDecal] Blood puddle created at (2957.309, 1075.099) (added to group)
[15:16:36] [INFO] [BloodDecal] Blood puddle created at (2174.665, 1118.139) (added to group)
[15:16:36] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=83.1°, current=-177.3°, player=(471,1096), corner_timer=0.15
[15:16:36] [INFO] [BloodDecal] Blood puddle created at (2967.819, 1027.54) (added to group)
[15:16:36] [INFO] [BloodDecal] Blood puddle created at (2956.728, 1083.109) (added to group)
[15:16:36] [INFO] [BloodDecal] Blood puddle created at (2972.933, 1041.076) (added to group)
[15:16:36] [INFO] [GrenadeBase] CCD enabled (mode: CAST_RAY) to prevent wall tunneling
[15:16:36] [INFO] [GrenadeBase] Grenade created at (2849.494, 1033.491) (frozen)
[15:16:36] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[15:16:36] [INFO] [GrenadeTimer] Initialized for Frag grenade, effect radius: 225
[15:16:36] [INFO] [GrenadeTimerHelper] Attached GrenadeTimer to FragGrenade (type: Frag)
[15:16:36] [INFO] [EnemyGrenade] Attached C# GrenadeTimer to grenade (type: Frag)
[15:16:36] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[15:16:36] [INFO] [GrenadeTimer] Timer activated! 4 seconds until explosion
[15:16:36] [INFO] [GrenadeBase] LEGACY throw_grenade() called! Direction: (-0.998516, 0.054455), Speed: 1186.5 (unfrozen)
[15:16:36] [INFO] [GrenadeBase] NOTE: Using DRAG-BASED system. If velocity-based is expected, ensure grenade has throw_grenade_velocity_based() method.
[15:16:36] [INFO] [FragGrenade] Grenade thrown (legacy) - impact detection enabled
[15:16:36] [INFO] [GrenadeTimer] Grenade marked as thrown - impact detection enabled
[15:16:36] [INFO] [EnemyGrenade] Enemy grenade thrown! Target: (2289.654, 1047.56), Distance: 600
[15:16:36] [INFO] [BloodDecal] Blood puddle created at (529.3893, 1092.312) (added to group)
[15:16:36] [INFO] [BloodDecal] Blood puddle created at (533.0565, 1136.711) (added to group)
[15:16:36] [ENEMY] [PatrolEnemy2] PURSUING_MEMORY corner check: angle 118.4°
[15:16:36] [INFO] [BloodDecal] Blood puddle created at (2991.672, 1079.427) (added to group)
[15:16:36] [INFO] [BloodDecal] Blood puddle created at (2943.279, 1068.545) (added to group)
[15:16:36] [INFO] [BloodDecal] Blood puddle created at (2978.481, 1062.784) (added to group)
[15:16:36] [INFO] [BloodDecal] Blood puddle created at (562.6688, 1133.883) (added to group)
[15:16:36] [ENEMY] [GuardEnemy6] PURSUING_MEMORY corner check: angle 117.3°
[15:16:36] [ENEMY] [PatrolEnemy1] State: RETREATING -> IN_COVER
[15:16:36] [INFO] [BloodDecal] Blood puddle created at (3044.921, 1131.988) (added to group)
[15:16:36] [INFO] [BloodDecal] Blood puddle created at (2967.926, 1023.927) (added to group)
[15:16:36] [ENEMY] [PatrolEnemy1] State: IN_COVER -> SUPPRESSED
[15:16:36] [INFO] [BloodDecal] Blood puddle created at (2974.526, 1130.3) (added to group)
[15:16:36] [INFO] [BloodDecal] Blood puddle created at (2987.783, 1109.958) (added to group)
[15:16:36] [INFO] [BloodDecal] Blood puddle created at (520.4894, 1140.519) (added to group)
[15:16:36] [INFO] [BloodDecal] Blood puddle created at (2986.671, 1071.069) (added to group)
[15:16:36] [INFO] [BloodDecal] Blood puddle created at (3048.239, 1056.865) (added to group)
[15:16:36] [INFO] [BloodDecal] Blood puddle created at (3009.341, 1105.156) (added to group)
[15:16:36] [INFO] [BloodDecal] Blood puddle created at (2996.367, 1013.059) (added to group)
[15:16:36] [INFO] [BloodDecal] Blood puddle created at (2205.19, 1173.927) (added to group)
[15:16:36] [INFO] [BloodDecal] Blood puddle created at (2243.339, 1122.431) (added to group)
[15:16:36] [INFO] [BloodDecal] Blood puddle created at (522.8229, 1119.797) (added to group)
[15:16:36] [ENEMY] [PatrolEnemy3] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-171.8°, current=-171.8°, player=(471,1096), corner_timer=0.20
[15:16:36] [ENEMY] [PatrolEnemy3] State: COMBAT -> PURSUING
[15:16:36] [INFO] [BloodDecal] Blood puddle created at (3008.623, 1097.367) (added to group)
[15:16:36] [ENEMY] [PatrolEnemy4] PURSUING_MEMORY corner check: angle 101.8°
[15:16:36] [INFO] [BloodDecal] Blood puddle created at (3029.193, 1085.484) (added to group)
[15:16:36] [INFO] [BloodDecal] Blood puddle created at (3055.652, 1090.384) (added to group)
[15:16:36] [INFO] [BloodDecal] Blood puddle created at (2985.729, 1068.876) (added to group)
[15:16:36] [INFO] [BloodDecal] Blood puddle created at (602.803, 1172.409) (added to group)
[15:16:36] [ENEMY] [GuardEnemy4] Ragdoll activated
[15:16:36] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[15:16:36] [INFO] [BloodDecal] Blood puddle created at (2290.903, 1100.765) (added to group)
[15:16:36] [INFO] [BloodDecal] Blood puddle created at (3034.956, 1083.319) (added to group)
[15:16:36] [INFO] [BloodDecal] Blood puddle created at (3025.333, 1112.957) (added to group)
[15:16:36] [INFO] [BloodDecal] Blood puddle created at (3035.939, 1136.844) (added to group)
[15:16:36] [INFO] [BloodDecal] Blood puddle created at (3011.39, 1117.112) (added to group)
[15:16:36] [INFO] [BloodDecal] Blood puddle created at (2978.114, 1118.181) (added to group)
[15:16:36] [INFO] [BloodDecal] Blood puddle created at (3033.552, 1015.782) (added to group)
[15:16:36] [INFO] [BloodDecal] Blood puddle created at (3097.394, 1063.294) (added to group)
[15:16:36] [ENEMY] [GuardEnemy3] FLANKING corner check: angle 84.7°
[15:16:36] [INFO] [BloodDecal] Blood puddle created at (2229.341, 1152.545) (added to group)
[15:16:36] [INFO] [BloodDecal] Blood puddle created at (2223.025, 1192.398) (added to group)
[15:16:36] [INFO] [BloodDecal] Blood puddle created at (2995.39, 1094.788) (added to group)
[15:16:36] [INFO] [BloodDecal] Blood puddle created at (2977.094, 1079.46) (added to group)
[15:16:36] [INFO] [BloodDecal] Blood puddle created at (633.4191, 1113.166) (added to group)
[15:16:36] [ENEMY] [GuardEnemy5] PURSUING_MEMORY corner check: angle 111.6°
[15:16:36] [INFO] [BloodDecal] Blood puddle created at (3025.798, 1144.982) (added to group)
[15:16:36] [INFO] [BloodDecal] Blood puddle created at (3065.366, 1161.755) (added to group)
[15:16:36] [INFO] [BloodDecal] Blood puddle created at (2994.618, 1137.624) (added to group)
[15:16:36] [INFO] [BloodDecal] Blood puddle created at (3019.404, 1106.754) (added to group)
[15:16:36] [INFO] [BloodDecal] Blood puddle created at (2999.675, 1063.263) (added to group)
[15:16:36] [INFO] [BloodDecal] Blood puddle created at (3087.14, 1188.044) (added to group)
[15:16:36] [INFO] [BloodDecal] Blood puddle created at (3105.171, 1113.446) (added to group)
[15:16:36] [INFO] [BloodDecal] Blood puddle created at (2994.855, 1176.645) (added to group)
[15:16:36] [INFO] [BloodDecal] Blood puddle created at (573.0245, 1157.116) (added to group)
[15:16:36] [ENEMY] [GuardEnemy6] PURSUING_MEMORY corner check: angle 117.3°
[15:16:36] [ENEMY] [PatrolEnemy2] PURSUING corner check: angle 136.6°
[15:16:36] [INFO] [BloodDecal] Blood puddle created at (596.0179, 1177.863) (added to group)
[15:16:36] [INFO] [BloodDecal] Blood puddle created at (603.4499, 1194.542) (added to group)
[15:16:36] [INFO] [BloodDecal] Blood puddle created at (671.4445, 1144.75) (added to group)
[15:16:36] [INFO] [BloodDecal] Blood puddle created at (681.1245, 1294.773) (added to group)
[15:16:36] [INFO] [BloodDecal] Blood puddle created at (576.4407, 1152.904) (added to group)
[15:16:37] [INFO] [BloodDecal] Blood puddle created at (582.196, 1124.699) (added to group)
[15:16:37] [INFO] [BloodDecal] Blood puddle created at (629.2881, 1250.749) (added to group)
[15:16:37] [ENEMY] [PatrolEnemy4] PURSUING_MEMORY corner check: angle 101.8°
[15:16:37] [INFO] [BloodDecal] Blood puddle created at (617.3953, 1117.785) (added to group)
[15:16:37] [INFO] [BloodDecal] Blood puddle created at (595.5448, 1242.878) (added to group)
[15:16:37] [INFO] [BloodDecal] Blood puddle created at (627.3732, 1134.164) (added to group)
[15:16:37] [ENEMY] [GuardEnemy3] FLANKING corner check: angle 84.7°
[15:16:37] [INFO] [BloodDecal] Blood puddle created at (598.3264, 1162.123) (added to group)
[15:16:37] [ENEMY] [GuardEnemy5] PURSUING_MEMORY corner check: angle 111.6°
[15:16:37] [ENEMY] [GuardEnemy6] PURSUING_MEMORY corner check: angle 117.3°
[15:16:37] [ENEMY] [PatrolEnemy2] PURSUING corner check: angle 136.6°
[15:16:37] [ENEMY] [PatrolEnemy4] PURSUING_MEMORY corner check: angle 109.5°
[15:16:37] [INFO] [ReplayManager] Recording frame 1740 (28,3s): player_valid=False, enemies=10
[15:16:37] [ENEMY] [GuardEnemy3] FLANKING corner check: angle 84.7°
[15:16:37] [ENEMY] [GuardEnemy5] PURSUING_MEMORY corner check: angle 111.6°
[15:16:37] [ENEMY] [GuardEnemy6] PURSUING_MEMORY corner check: angle 117.3°
[15:16:37] [ENEMY] [PatrolEnemy4] PURSUING_MEMORY corner check: angle -71.9°
[15:16:37] [ENEMY] [GuardEnemy4] Death animation completed
[15:16:37] [ENEMY] [GuardEnemy3] FLANKING corner check: angle 84.7°
[15:16:37] [ENEMY] [GuardEnemy5] PURSUING_MEMORY corner check: angle 88.2°
[15:16:37] [INFO] [GrenadeBase] CCD enabled (mode: CAST_RAY) to prevent wall tunneling
[15:16:37] [INFO] [GrenadeBase] Grenade created at (2763.163, 710.4111) (frozen)
[15:16:37] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[15:16:37] [INFO] [GrenadeTimer] Initialized for Frag grenade, effect radius: 225
[15:16:37] [INFO] [GrenadeTimerHelper] Attached GrenadeTimer to @RigidBody2D@2053 (type: Frag)
[15:16:37] [INFO] [EnemyGrenade] Attached C# GrenadeTimer to grenade (type: Frag)
[15:16:37] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[15:16:37] [INFO] [GrenadeTimer] Timer activated! 4 seconds until explosion
[15:16:37] [INFO] [GrenadeBase] LEGACY throw_grenade() called! Direction: (-0.965266, 0.261269), Speed: 934.2 (unfrozen)
[15:16:37] [INFO] [GrenadeBase] NOTE: Using DRAG-BASED system. If velocity-based is expected, ensure grenade has throw_grenade_velocity_based() method.
[15:16:37] [INFO] [FragGrenade] Grenade thrown (legacy) - impact detection enabled
[15:16:37] [INFO] [GrenadeTimer] Grenade marked as thrown - impact detection enabled
[15:16:37] [INFO] [EnemyGrenade] Enemy grenade thrown! Target: (2342.647, 785.9777), Distance: 467
[15:16:37] [ENEMY] [GuardEnemy6] PURSUING corner check: angle 134.9°
[15:16:38] [ENEMY] [PatrolEnemy4] PURSUING_MEMORY corner check: angle -73.1°
[15:16:38] [ENEMY] [GuardEnemy1] Warning: No valid flank position (both sides behind walls)
[15:16:38] [ENEMY] [GuardEnemy1] FLANKING started: target=(603.2153, 1247.23), side=right, pos=(2119.232, 769.6743)
[15:16:38] [ENEMY] [GuardEnemy1] State: PURSUING -> FLANKING
[15:16:38] [ENEMY] [GuardEnemy3] FLANKING corner check: angle 84.7°
[15:16:38] [ENEMY] [GuardEnemy5] PURSUING_MEMORY corner check: angle -91.6°
[15:16:38] [ENEMY] [PatrolEnemy3] Warning: No valid flank position (both sides behind walls)
[15:16:38] [ENEMY] [PatrolEnemy3] FLANKING started: target=(545.9135, 1282.415), side=right, pos=(2889.971, 1442.169)
[15:16:38] [ENEMY] [PatrolEnemy3] State: PURSUING -> FLANKING
[15:16:38] [ENEMY] [GuardEnemy6] PURSUING corner check: angle 134.3°
[15:16:38] [ENEMY] [GuardEnemy1] FLANKING corner check: angle 96.0°
[15:16:38] [ENEMY] [PatrolEnemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=-171.8°, current=165.0°, player=(471,1096), corner_timer=0.08
[15:16:38] [ENEMY] [PatrolEnemy3] State: FLANKING -> COMBAT
[15:16:38] [ENEMY] [PatrolEnemy4] PURSUING_MEMORY corner check: angle -74.3°
[15:16:38] [INFO] [ReplayManager] Recording frame 1800 (29,3s): player_valid=False, enemies=10
[15:16:38] [ENEMY] [GuardEnemy2] State: SUPPRESSED -> IN_COVER
[15:16:38] [ENEMY] [GuardEnemy3] FLANKING corner check: angle 84.7°
[15:16:38] [ENEMY] [GuardEnemy2] State: IN_COVER -> PURSUING
[15:16:38] [ENEMY] [GuardEnemy5] PURSUING_MEMORY corner check: angle 112.2°
[15:16:38] [ENEMY] [GuardEnemy2] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=177.2°, current=81.2°, player=(471,1096), corner_timer=0.20
[15:16:38] [ENEMY] [PatrolEnemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-171.3°, current=-171.3°, player=(471,1096), corner_timer=0.07
[15:16:38] [ENEMY] [PatrolEnemy4] State: PURSUING -> COMBAT
[15:16:38] [ENEMY] [PatrolEnemy1] State: SUPPRESSED -> IN_COVER
[15:16:38] [ENEMY] [GuardEnemy1] FLANKING corner check: angle 96.7°
[15:16:38] [ENEMY] [PatrolEnemy1] State: IN_COVER -> PURSUING
[15:16:38] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=-176.6°, current=83.1°, player=(471,1096), corner_timer=0.15
[15:16:38] [ENEMY] [GuardEnemy3] FLANKING corner check: angle 84.7°
[15:16:38] [ENEMY] [GuardEnemy5] PURSUING_MEMORY corner check: angle -67.8°
[15:16:38] [INFO] [GrenadeBase] CCD enabled (mode: CAST_RAY) to prevent wall tunneling
[15:16:38] [INFO] [GrenadeBase] Grenade created at (2027.873, 1731.129) (frozen)
[15:16:38] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[15:16:38] [INFO] [GrenadeTimer] Initialized for Frag grenade, effect radius: 225
[15:16:38] [INFO] [GrenadeTimerHelper] Attached GrenadeTimer to @RigidBody2D@2054 (type: Frag)
[15:16:38] [INFO] [EnemyGrenade] Attached C# GrenadeTimer to grenade (type: Frag)
[15:16:38] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[15:16:38] [INFO] [GrenadeTimer] Timer activated! 4 seconds until explosion
[15:16:38] [INFO] [GrenadeBase] LEGACY throw_grenade() called! Direction: (-0.879374, -0.476132), Speed: 935.1 (unfrozen)
[15:16:38] [INFO] [GrenadeBase] NOTE: Using DRAG-BASED system. If velocity-based is expected, ensure grenade has throw_grenade_velocity_based() method.
[15:16:38] [INFO] [FragGrenade] Grenade thrown (legacy) - impact detection enabled
[15:16:38] [INFO] [GrenadeTimer] Grenade marked as thrown - impact detection enabled
[15:16:38] [INFO] [EnemyGrenade] Enemy grenade thrown! Target: (1631.69, 1569.817), Distance: 468
[15:16:38] [INFO] [SoundPropagation] Sound emitted: type=GRENADE_LANDING, pos=(1453.666, 1109.614), source=NEUTRAL (FragGrenade), range=112, listeners=9
[15:16:38] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=9, self=0, below_threshold=0
[15:16:38] [INFO] [GrenadeBase] Grenade landed at (1453.666, 1109.614)
[15:16:38] [INFO] [FragGrenade] Impact detected - exploding immediately!
[15:16:38] [INFO] [GrenadeBase] EXPLODED at (1453.666, 1109.614)!
[15:16:38] [INFO] [PowerFantasy] Grenade exploded - triggering last chance time-freeze effect for 2000ms
[15:16:38] [INFO] [LastChance] Grenade explosion triggering last chance effect for 2.00 seconds
[15:16:38] [INFO] [LastChance] Starting last chance effect:
[15:16:38] [INFO] [LastChance]   - Time will be frozen (except player)
[15:16:38] [INFO] [LastChance]   - Duration: 2.00 real seconds
[15:16:38] [INFO] [LastChance]   - Trigger: grenade explosion
[15:16:38] [INFO] [LastChance]   - Sepia intensity: 0.70
[15:16:38] [INFO] [LastChance]   - Brightness: 0.60
[15:16:38] [INFO] [LastChance] Set player Player and all 25 children to PROCESS_MODE_ALWAYS
[15:16:38] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[15:16:38] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[15:16:38] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[15:16:38] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[15:16:38] [INFO] [LastChance] Set StaticBody2D 'Building1' to PROCESS_MODE_ALWAYS for collision
[15:16:38] [INFO] [LastChance] Set StaticBody2D 'Building2' to PROCESS_MODE_ALWAYS for collision
[15:16:38] [INFO] [LastChance] Set StaticBody2D 'Building3' to PROCESS_MODE_ALWAYS for collision
[15:16:38] [INFO] [LastChance] Set StaticBody2D 'Building4' to PROCESS_MODE_ALWAYS for collision
[15:16:38] [INFO] [LastChance] Set StaticBody2D 'Building5' to PROCESS_MODE_ALWAYS for collision
[15:16:38] [INFO] [LastChance] Set StaticBody2D 'Building6' to PROCESS_MODE_ALWAYS for collision
[15:16:38] [INFO] [LastChance] Set StaticBody2D 'Building7' to PROCESS_MODE_ALWAYS for collision
[15:16:38] [INFO] [LastChance] Set StaticBody2D 'Building8' to PROCESS_MODE_ALWAYS for collision
[15:16:38] [INFO] [LastChance] Set StaticBody2D 'MediumObstacle1' to PROCESS_MODE_ALWAYS for collision
[15:16:38] [INFO] [LastChance] Set StaticBody2D 'MediumObstacle2' to PROCESS_MODE_ALWAYS for collision
[15:16:38] [INFO] [LastChance] Set StaticBody2D 'MediumObstacle3' to PROCESS_MODE_ALWAYS for collision
[15:16:38] [INFO] [LastChance] Set StaticBody2D 'MediumObstacle4' to PROCESS_MODE_ALWAYS for collision
[15:16:38] [INFO] [LastChance] Set StaticBody2D 'CoverWide1' to PROCESS_MODE_ALWAYS for collision
[15:16:38] [INFO] [LastChance] Set StaticBody2D 'CoverWide2' to PROCESS_MODE_ALWAYS for collision
[15:16:38] [INFO] [LastChance] Set StaticBody2D 'CoverWide3' to PROCESS_MODE_ALWAYS for collision
[15:16:38] [INFO] [LastChance] Set StaticBody2D 'CoverWide4' to PROCESS_MODE_ALWAYS for collision
[15:16:38] [INFO] [LastChance] Set StaticBody2D 'CoverWide5' to PROCESS_MODE_ALWAYS for collision
[15:16:38] [INFO] [LastChance] Set StaticBody2D 'CoverWide6' to PROCESS_MODE_ALWAYS for collision
[15:16:38] [INFO] [LastChance] Set StaticBody2D 'CoverWide7' to PROCESS_MODE_ALWAYS for collision
[15:16:38] [INFO] [LastChance] Set StaticBody2D 'CoverWide8' to PROCESS_MODE_ALWAYS for collision
[15:16:38] [INFO] [LastChance] Set StaticBody2D 'CoverWide9' to PROCESS_MODE_ALWAYS for collision
[15:16:38] [INFO] [LastChance] Set StaticBody2D 'CoverWide10' to PROCESS_MODE_ALWAYS for collision
[15:16:38] [INFO] [LastChance] Set StaticBody2D 'CoverWide11' to PROCESS_MODE_ALWAYS for collision
[15:16:38] [INFO] [LastChance] Set StaticBody2D 'CoverWide12' to PROCESS_MODE_ALWAYS for collision
[15:16:38] [INFO] [LastChance] Set StaticBody2D 'CoverTall1' to PROCESS_MODE_ALWAYS for collision
[15:16:38] [INFO] [LastChance] Set StaticBody2D 'CoverTall2' to PROCESS_MODE_ALWAYS for collision
[15:16:38] [INFO] [LastChance] Set StaticBody2D 'CoverTall3' to PROCESS_MODE_ALWAYS for collision
[15:16:38] [INFO] [LastChance] Set StaticBody2D 'CoverTall4' to PROCESS_MODE_ALWAYS for collision
[15:16:38] [INFO] [LastChance] Set StaticBody2D 'CoverTall5' to PROCESS_MODE_ALWAYS for collision
[15:16:38] [INFO] [LastChance] Set StaticBody2D 'CoverTall6' to PROCESS_MODE_ALWAYS for collision
[15:16:38] [INFO] [LastChance] Set StaticBody2D 'CoverTall7' to PROCESS_MODE_ALWAYS for collision
[15:16:38] [INFO] [LastChance] Set StaticBody2D 'CoverTall8' to PROCESS_MODE_ALWAYS for collision
[15:16:38] [INFO] [LastChance] Set StaticBody2D 'Barricade1' to PROCESS_MODE_ALWAYS for collision
[15:16:38] [INFO] [LastChance] Set StaticBody2D 'Barricade2' to PROCESS_MODE_ALWAYS for collision
[15:16:38] [INFO] [LastChance] Set StaticBody2D 'Barricade3' to PROCESS_MODE_ALWAYS for collision
[15:16:38] [INFO] [LastChance] Set StaticBody2D 'Barricade4' to PROCESS_MODE_ALWAYS for collision
[15:16:38] [INFO] [LastChance] Set StaticBody2D 'Barricade5' to PROCESS_MODE_ALWAYS for collision
[15:16:38] [INFO] [LastChance] Set StaticBody2D 'Barricade6' to PROCESS_MODE_ALWAYS for collision
[15:16:38] [INFO] [LastChance] Set StaticBody2D 'Pillar1' to PROCESS_MODE_ALWAYS for collision
[15:16:38] [INFO] [LastChance] Set StaticBody2D 'Pillar2' to PROCESS_MODE_ALWAYS for collision
[15:16:38] [INFO] [LastChance] Set StaticBody2D 'Pillar3' to PROCESS_MODE_ALWAYS for collision
[15:16:38] [INFO] [LastChance] Set StaticBody2D 'Pillar4' to PROCESS_MODE_ALWAYS for collision
[15:16:38] [INFO] [LastChance] Set StaticBody2D 'Pillar5' to PROCESS_MODE_ALWAYS for collision
[15:16:38] [INFO] [LastChance] Set StaticBody2D 'Pillar6' to PROCESS_MODE_ALWAYS for collision
[15:16:38] [INFO] [LastChance] Set StaticBody2D 'Pillar7' to PROCESS_MODE_ALWAYS for collision
[15:16:38] [INFO] [LastChance] Set StaticBody2D 'CrateSquare1' to PROCESS_MODE_ALWAYS for collision
[15:16:38] [INFO] [LastChance] Set StaticBody2D 'CrateSquare2' to PROCESS_MODE_ALWAYS for collision
[15:16:38] [INFO] [LastChance] Set StaticBody2D 'CrateSquare3' to PROCESS_MODE_ALWAYS for collision
[15:16:38] [INFO] [LastChance] Set StaticBody2D 'CrateSquare4' to PROCESS_MODE_ALWAYS for collision
[15:16:38] [INFO] [LastChance] Set StaticBody2D 'CrateSquare5' to PROCESS_MODE_ALWAYS for collision
[15:16:38] [INFO] [LastChance] Set StaticBody2D 'CrateSquare6' to PROCESS_MODE_ALWAYS for collision
[15:16:38] [INFO] [LastChance] Set StaticBody2D 'SpawnCover' to PROCESS_MODE_ALWAYS for collision
[15:16:38] [INFO] [LastChance] Skipping player node: Player
[15:16:38] [INFO] [LastChance] Froze existing bullet casing: Casing
[15:16:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1922
[15:16:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1931
[15:16:38] [INFO] [LastChance] Froze existing grenade: FragGrenade
[15:16:38] [INFO] [LastChance] Froze existing grenade: @RigidBody2D@2053
[15:16:38] [INFO] [LastChance] Froze existing grenade: @RigidBody2D@2054
[15:16:38] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[15:16:38] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[15:16:38] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[15:16:38] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1453.666, 1109.614), source=NEUTRAL (FragGrenade), range=2937, listeners=9
[15:16:38] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=9
[15:16:38] [INFO] [LastChance] Freezing newly created shrapnel: Shrapnel
[15:16:38] [INFO] [LastChance] Registered frozen shrapnel: Shrapnel
[15:16:38] [INFO] [FragGrenade] Spawned shrapnel #1 at angle -1.0 degrees
[15:16:38] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@2055
[15:16:38] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@2055
[15:16:38] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 71.6 degrees
[15:16:38] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@2056
[15:16:38] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@2056
[15:16:38] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 185.4 degrees
[15:16:38] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@2057
[15:16:38] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@2057
[15:16:38] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 264.9 degrees
[15:16:38] [INFO] [ImpactEffects] Spawning explosion visual effect at (1453.666, 1109.614) (radius=225) - using shadow-based wall occlusion
[15:16:38] [INFO] [LastChance] Freezing newly created explosion effect: @PointLight2D@2058
[15:16:38] [INFO] [LastChance] Registered frozen explosion effect: @PointLight2D@2058
[15:16:39] [INFO] [ReplayManager] Recording frame 1860 (30,3s): player_valid=False, enemies=10
[15:16:39] [INFO] [LastChance] Freezing newly fired player bullet: SniperBullet
[15:16:39] [INFO] [LastChance] Registered frozen player bullet: SniperBullet
[15:16:39] [INFO] [LastChance] Freezing newly created explosion effect: PointLight2D
[15:16:39] [INFO] [LastChance] Registered frozen explosion effect: PointLight2D
[15:16:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(471.4018, 1096.814), source=PLAYER (SniperRifle), range=3000, listeners=9
[15:16:39] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=9
[15:16:40] [INFO] [ReplayManager] Recording frame 1920 (31,3s): player_valid=False, enemies=10
[15:16:40] [INFO] [LastChance] Effect duration expired after 2.01 real seconds
[15:16:40] [INFO] [LastChance] Ending last chance effect
[15:16:40] [ENEMY] [GuardEnemy1] Memory reset: confusion=2.0s, had_target=true
[15:16:40] [ENEMY] [GuardEnemy1] Search mode: FLANKING -> SEARCHING at (471.4018, 1096.814)
[15:16:40] [ENEMY] [GuardEnemy1] SEARCHING started: center=(471.4018, 1096.814), radius=100, waypoints=5
[15:16:40] [ENEMY] [GuardEnemy2] Memory reset: confusion=2.0s, had_target=true
[15:16:40] [ENEMY] [GuardEnemy2] Search mode: PURSUING -> SEARCHING at (471.4018, 1096.814)
[15:16:40] [ENEMY] [GuardEnemy2] SEARCHING started: center=(471.4018, 1096.814), radius=100, waypoints=5
[15:16:40] [ENEMY] [GuardEnemy3] Memory reset: confusion=2.0s, had_target=true
[15:16:40] [ENEMY] [GuardEnemy3] Search mode: FLANKING -> SEARCHING at (471.4018, 1096.814)
[15:16:40] [ENEMY] [GuardEnemy3] SEARCHING started: center=(471.4018, 1096.814), radius=100, waypoints=5
[15:16:40] [ENEMY] [GuardEnemy5] Memory reset: confusion=2.0s, had_target=true
[15:16:40] [ENEMY] [GuardEnemy5] Search mode: PURSUING -> SEARCHING at (471.4018, 1096.814)
[15:16:40] [ENEMY] [GuardEnemy5] SEARCHING started: center=(471.4018, 1096.814), radius=100, waypoints=5
[15:16:40] [ENEMY] [GuardEnemy6] Memory reset: confusion=2.0s, had_target=true
[15:16:40] [ENEMY] [GuardEnemy6] Search mode: PURSUING -> SEARCHING at (471.4018, 1096.814)
[15:16:40] [ENEMY] [GuardEnemy6] SEARCHING started: center=(471.4018, 1096.814), radius=100, waypoints=5
[15:16:40] [ENEMY] [PatrolEnemy1] Memory reset: confusion=2.0s, had_target=true
[15:16:40] [ENEMY] [PatrolEnemy1] Search mode: PURSUING -> SEARCHING at (471.4018, 1096.814)
[15:16:40] [ENEMY] [PatrolEnemy1] SEARCHING started: center=(471.4018, 1096.814), radius=100, waypoints=5
[15:16:40] [ENEMY] [PatrolEnemy2] Memory reset: confusion=2.0s, had_target=true
[15:16:40] [ENEMY] [PatrolEnemy2] Search mode: PURSUING -> SEARCHING at (471.4018, 1096.814)
[15:16:40] [ENEMY] [PatrolEnemy2] SEARCHING started: center=(471.4018, 1096.814), radius=100, waypoints=5
[15:16:40] [ENEMY] [PatrolEnemy3] Memory reset: confusion=2.0s, had_target=true
[15:16:40] [ENEMY] [PatrolEnemy3] Search mode: COMBAT -> SEARCHING at (471.4018, 1096.814)
[15:16:40] [ENEMY] [PatrolEnemy3] SEARCHING started: center=(471.4018, 1096.814), radius=100, waypoints=5
[15:16:40] [ENEMY] [PatrolEnemy4] Memory reset: confusion=2.0s, had_target=true
[15:16:40] [ENEMY] [PatrolEnemy4] Search mode: COMBAT -> SEARCHING at (471.4018, 1096.814)
[15:16:40] [ENEMY] [PatrolEnemy4] SEARCHING started: center=(471.4018, 1096.814), radius=100, waypoints=5
[15:16:40] [INFO] [LastChance] Reset memory for 9 enemies (player teleport effect)
[15:16:40] [INFO] [LastChance] All process modes restored
[15:16:40] [INFO] [LastChance] Unfroze player bullet: SniperBullet
[15:16:40] [INFO] [LastChance] Unfroze grenade: @RigidBody2D@2053
[15:16:40] [INFO] [LastChance] Unfroze grenade: @RigidBody2D@2054
[15:16:40] [INFO] [LastChance] Unfroze bullet casing: Casing
[15:16:40] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@1922
[15:16:40] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@1931
[15:16:40] [INFO] [LastChance] Unfroze shrapnel: Shrapnel
[15:16:40] [INFO] [LastChance] Unfroze shrapnel: @Area2D@2055
[15:16:40] [INFO] [LastChance] Unfroze shrapnel: @Area2D@2056
[15:16:40] [INFO] [LastChance] Unfroze shrapnel: @Area2D@2057
[15:16:40] [INFO] [LastChance] Unfroze explosion effect: @PointLight2D@2058
[15:16:40] [INFO] [LastChance] Starting visual effects fade-out over 400ms
[15:16:40] [ENEMY] [PatrolEnemy3] ROT_CHANGE: P1:visible -> P2:combat_state, state=SEARCHING, target=-171.0°, current=-170.8°, player=(471,1096), corner_timer=0.08
[15:16:40] [ENEMY] [PatrolEnemy4] ROT_CHANGE: P1:visible -> P2:combat_state, state=SEARCHING, target=-171.7°, current=-171.7°, player=(471,1096), corner_timer=0.07
[15:16:40] [ENEMY] [GuardEnemy6] SEARCHING corner check: angle 115.8°
[15:16:41] [ENEMY] [GuardEnemy1] SEARCHING corner check: angle 80.4°
[15:16:41] [ENEMY] [PatrolEnemy4] SEARCHING corner check: angle -81.7°
[15:16:41] [ENEMY] [PatrolEnemy3] SEARCHING corner check: angle -81.0°
[15:16:41] [ENEMY] [PatrolEnemy2] SEARCHING corner check: angle 115.7°
[15:16:41] [ENEMY] [PatrolEnemy1] SEARCHING corner check: angle -86.6°
[15:16:41] [ENEMY] [GuardEnemy2] SEARCHING corner check: angle 87.3°
[15:16:41] [ENEMY] [GuardEnemy3] SEARCHING corner check: angle 79.6°
[15:16:41] [ENEMY] [GuardEnemy5] SEARCHING corner check: angle -67.5°
[15:16:41] [ENEMY] [GuardEnemy1] GRENADE DANGER: Entering EVADING_GRENADE state from SEARCHING
[15:16:41] [ENEMY] [GuardEnemy1] EVADING_GRENADE started: escaping to (2150.704, 809.0647)
[15:16:41] [ENEMY] [GuardEnemy1] ROT_CHANGE: P2:combat_state -> P3:corner, state=EVADING_GRENADE, target=80.4°, current=170.8°, player=(471,1096), corner_timer=0.12
[15:16:41] [ENEMY] [GuardEnemy1] EVADING_GRENADE: Escaped to safe distance
[15:16:41] [ENEMY] [GuardEnemy1] SEARCHING started: center=(2113.642, 827.3195), radius=100, waypoints=5
[15:16:41] [ENEMY] [GuardEnemy1] State: EVADING_GRENADE -> SEARCHING
[15:16:41] [ENEMY] [GuardEnemy1] ROT_CHANGE: P3:corner -> P2:combat_state, state=SEARCHING, target=170.6°, current=-167.0°, player=(471,1096), corner_timer=0.12
[15:16:41] [ENEMY] [GuardEnemy6] SEARCHING corner check: angle 115.8°
[15:16:41] [INFO] [LastChance] Visual effects fade-out complete
[15:16:41] [INFO] [LastChance] Restored original colors to 5 player sprites
[15:16:41] [INFO] [LastChance] Called player RefreshHealthVisual (C#)
[15:16:41] [ENEMY] [PatrolEnemy4] SEARCHING corner check: angle -81.9°
[15:16:41] [ENEMY] [PatrolEnemy3] SEARCHING corner check: angle 99.0°
[15:16:41] [ENEMY] [PatrolEnemy2] SEARCHING corner check: angle 116.5°
[15:16:41] [INFO] [ReplayManager] Recording frame 1980 (32,3s): player_valid=False, enemies=10
[15:16:41] [ENEMY] [PatrolEnemy1] SEARCHING corner check: angle 93.4°
[15:16:41] [ENEMY] [GuardEnemy2] SEARCHING corner check: angle 87.4°
[15:16:41] [ENEMY] [GuardEnemy3] SEARCHING corner check: angle 79.6°
[15:16:41] [ENEMY] [GuardEnemy5] SEARCHING corner check: angle 112.5°
[15:16:41] [ENEMY] [GuardEnemy6] SEARCHING corner check: angle 115.8°
[15:16:41] [ENEMY] [PatrolEnemy4] SEARCHING corner check: angle 98.1°
[15:16:41] [ENEMY] [PatrolEnemy3] SEARCHING corner check: angle 99.0°
[15:16:41] [ENEMY] [PatrolEnemy2] SEARCHING corner check: angle 116.5°
[15:16:41] [INFO] [SoundPropagation] Sound emitted: type=GRENADE_LANDING, pos=(1902.676, 943.3195), source=NEUTRAL (@RigidBody2D@2053), range=112, listeners=9
[15:16:41] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=9, self=0, below_threshold=0
[15:16:41] [INFO] [GrenadeBase] Grenade landed at (1902.676, 943.3195)
[15:16:41] [INFO] [FragGrenade] Impact detected - exploding immediately!
[15:16:41] [INFO] [GrenadeBase] EXPLODED at (1902.676, 943.3195)!
[15:16:41] [INFO] [PowerFantasy] Grenade exploded - triggering last chance time-freeze effect for 2000ms
[15:16:41] [INFO] [LastChance] Grenade explosion triggering last chance effect for 2.00 seconds
[15:16:41] [INFO] [LastChance] Starting last chance effect:
[15:16:41] [INFO] [LastChance]   - Time will be frozen (except player)
[15:16:41] [INFO] [LastChance]   - Duration: 2.00 real seconds
[15:16:41] [INFO] [LastChance]   - Trigger: grenade explosion
[15:16:41] [INFO] [LastChance]   - Sepia intensity: 0.70
[15:16:41] [INFO] [LastChance]   - Brightness: 0.60
[15:16:41] [INFO] [LastChance] Set player Player and all 25 children to PROCESS_MODE_ALWAYS
[15:16:41] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[15:16:41] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[15:16:41] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[15:16:41] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[15:16:41] [INFO] [LastChance] Set StaticBody2D 'Building1' to PROCESS_MODE_ALWAYS for collision
[15:16:41] [INFO] [LastChance] Set StaticBody2D 'Building2' to PROCESS_MODE_ALWAYS for collision
[15:16:41] [INFO] [LastChance] Set StaticBody2D 'Building3' to PROCESS_MODE_ALWAYS for collision
[15:16:41] [INFO] [LastChance] Set StaticBody2D 'Building4' to PROCESS_MODE_ALWAYS for collision
[15:16:41] [INFO] [LastChance] Set StaticBody2D 'Building5' to PROCESS_MODE_ALWAYS for collision
[15:16:41] [INFO] [LastChance] Set StaticBody2D 'Building6' to PROCESS_MODE_ALWAYS for collision
[15:16:41] [INFO] [LastChance] Set StaticBody2D 'Building7' to PROCESS_MODE_ALWAYS for collision
[15:16:41] [INFO] [LastChance] Set StaticBody2D 'Building8' to PROCESS_MODE_ALWAYS for collision
[15:16:41] [INFO] [LastChance] Set StaticBody2D 'MediumObstacle1' to PROCESS_MODE_ALWAYS for collision
[15:16:41] [INFO] [LastChance] Set StaticBody2D 'MediumObstacle2' to PROCESS_MODE_ALWAYS for collision
[15:16:41] [INFO] [LastChance] Set StaticBody2D 'MediumObstacle3' to PROCESS_MODE_ALWAYS for collision
[15:16:41] [INFO] [LastChance] Set StaticBody2D 'MediumObstacle4' to PROCESS_MODE_ALWAYS for collision
[15:16:41] [INFO] [LastChance] Set StaticBody2D 'CoverWide1' to PROCESS_MODE_ALWAYS for collision
[15:16:41] [INFO] [LastChance] Set StaticBody2D 'CoverWide2' to PROCESS_MODE_ALWAYS for collision
[15:16:41] [INFO] [LastChance] Set StaticBody2D 'CoverWide3' to PROCESS_MODE_ALWAYS for collision
[15:16:41] [INFO] [LastChance] Set StaticBody2D 'CoverWide4' to PROCESS_MODE_ALWAYS for collision
[15:16:41] [INFO] [LastChance] Set StaticBody2D 'CoverWide5' to PROCESS_MODE_ALWAYS for collision
[15:16:41] [INFO] [LastChance] Set StaticBody2D 'CoverWide6' to PROCESS_MODE_ALWAYS for collision
[15:16:41] [INFO] [LastChance] Set StaticBody2D 'CoverWide7' to PROCESS_MODE_ALWAYS for collision
[15:16:41] [INFO] [LastChance] Set StaticBody2D 'CoverWide8' to PROCESS_MODE_ALWAYS for collision
[15:16:41] [INFO] [LastChance] Set StaticBody2D 'CoverWide9' to PROCESS_MODE_ALWAYS for collision
[15:16:41] [INFO] [LastChance] Set StaticBody2D 'CoverWide10' to PROCESS_MODE_ALWAYS for collision
[15:16:41] [INFO] [LastChance] Set StaticBody2D 'CoverWide11' to PROCESS_MODE_ALWAYS for collision
[15:16:41] [INFO] [LastChance] Set StaticBody2D 'CoverWide12' to PROCESS_MODE_ALWAYS for collision
[15:16:41] [INFO] [LastChance] Set StaticBody2D 'CoverTall1' to PROCESS_MODE_ALWAYS for collision
[15:16:41] [INFO] [LastChance] Set StaticBody2D 'CoverTall2' to PROCESS_MODE_ALWAYS for collision
[15:16:41] [INFO] [LastChance] Set StaticBody2D 'CoverTall3' to PROCESS_MODE_ALWAYS for collision
[15:16:41] [INFO] [LastChance] Set StaticBody2D 'CoverTall4' to PROCESS_MODE_ALWAYS for collision
[15:16:41] [INFO] [LastChance] Set StaticBody2D 'CoverTall5' to PROCESS_MODE_ALWAYS for collision
[15:16:41] [INFO] [LastChance] Set StaticBody2D 'CoverTall6' to PROCESS_MODE_ALWAYS for collision
[15:16:41] [INFO] [LastChance] Set StaticBody2D 'CoverTall7' to PROCESS_MODE_ALWAYS for collision
[15:16:41] [INFO] [LastChance] Set StaticBody2D 'CoverTall8' to PROCESS_MODE_ALWAYS for collision
[15:16:41] [INFO] [LastChance] Set StaticBody2D 'Barricade1' to PROCESS_MODE_ALWAYS for collision
[15:16:41] [INFO] [LastChance] Set StaticBody2D 'Barricade2' to PROCESS_MODE_ALWAYS for collision
[15:16:41] [INFO] [LastChance] Set StaticBody2D 'Barricade3' to PROCESS_MODE_ALWAYS for collision
[15:16:41] [INFO] [LastChance] Set StaticBody2D 'Barricade4' to PROCESS_MODE_ALWAYS for collision
[15:16:41] [INFO] [LastChance] Set StaticBody2D 'Barricade5' to PROCESS_MODE_ALWAYS for collision
[15:16:41] [INFO] [LastChance] Set StaticBody2D 'Barricade6' to PROCESS_MODE_ALWAYS for collision
[15:16:41] [INFO] [LastChance] Set StaticBody2D 'Pillar1' to PROCESS_MODE_ALWAYS for collision
[15:16:41] [INFO] [LastChance] Set StaticBody2D 'Pillar2' to PROCESS_MODE_ALWAYS for collision
[15:16:41] [INFO] [LastChance] Set StaticBody2D 'Pillar3' to PROCESS_MODE_ALWAYS for collision
[15:16:41] [INFO] [LastChance] Set StaticBody2D 'Pillar4' to PROCESS_MODE_ALWAYS for collision
[15:16:41] [INFO] [LastChance] Set StaticBody2D 'Pillar5' to PROCESS_MODE_ALWAYS for collision
[15:16:41] [INFO] [LastChance] Set StaticBody2D 'Pillar6' to PROCESS_MODE_ALWAYS for collision
[15:16:41] [INFO] [LastChance] Set StaticBody2D 'Pillar7' to PROCESS_MODE_ALWAYS for collision
[15:16:41] [INFO] [LastChance] Set StaticBody2D 'CrateSquare1' to PROCESS_MODE_ALWAYS for collision
[15:16:41] [INFO] [LastChance] Set StaticBody2D 'CrateSquare2' to PROCESS_MODE_ALWAYS for collision
[15:16:41] [INFO] [LastChance] Set StaticBody2D 'CrateSquare3' to PROCESS_MODE_ALWAYS for collision
[15:16:41] [INFO] [LastChance] Set StaticBody2D 'CrateSquare4' to PROCESS_MODE_ALWAYS for collision
[15:16:41] [INFO] [LastChance] Set StaticBody2D 'CrateSquare5' to PROCESS_MODE_ALWAYS for collision
[15:16:41] [INFO] [LastChance] Set StaticBody2D 'CrateSquare6' to PROCESS_MODE_ALWAYS for collision
[15:16:41] [INFO] [LastChance] Set StaticBody2D 'SpawnCover' to PROCESS_MODE_ALWAYS for collision
[15:16:41] [INFO] [LastChance] Skipping player node: Player
[15:16:41] [INFO] [LastChance] Froze existing bullet casing: Casing
[15:16:41] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1922
[15:16:41] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1931
[15:16:41] [INFO] [LastChance] Froze existing grenade: @RigidBody2D@2053
[15:16:41] [INFO] [LastChance] Froze existing grenade: @RigidBody2D@2054
[15:16:41] [INFO] [LastChance] Froze existing shrapnel: Shrapnel
[15:16:41] [INFO] [LastChance] Froze existing shrapnel: @Area2D@2055
[15:16:41] [INFO] [LastChance] Froze existing shrapnel: @Area2D@2056
[15:16:41] [INFO] [LastChance] Froze existing shrapnel: @Area2D@2057
[15:16:41] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[15:16:41] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[15:16:41] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[15:16:41] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1902.676, 943.3195), source=NEUTRAL (@RigidBody2D@2053), range=2937, listeners=9
[15:16:41] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=0, below_threshold=6
[15:16:41] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@2061
[15:16:41] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@2061
[15:16:41] [INFO] [FragGrenade] Spawned shrapnel #1 at angle 12.9 degrees
[15:16:41] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@2062
[15:16:41] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@2062
[15:16:41] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 78.6 degrees
[15:16:41] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@2063
[15:16:41] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@2063
[15:16:41] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 166.0 degrees
[15:16:41] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@2064
[15:16:41] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@2064
[15:16:41] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 275.9 degrees
[15:16:41] [INFO] [ImpactEffects] Spawning explosion visual effect at (1902.676, 943.3195) (radius=225) - using shadow-based wall occlusion
[15:16:41] [INFO] [LastChance] Freezing newly created explosion effect: @PointLight2D@2065
[15:16:41] [INFO] [LastChance] Registered frozen explosion effect: @PointLight2D@2065
[15:16:42] [INFO] [ReplayManager] Recording frame 2040 (33,3s): player_valid=False, enemies=10
[15:16:43] [INFO] [ReplayManager] Recording frame 2100 (34,3s): player_valid=False, enemies=10
[15:16:43] [INFO] [LastChance] Effect duration expired after 2.02 real seconds
[15:16:43] [INFO] [LastChance] Ending last chance effect
[15:16:43] [ENEMY] [GuardEnemy1] Memory reset: confusion=2.0s, had_target=true
[15:16:43] [ENEMY] [GuardEnemy1] Search mode: SEARCHING -> SEARCHING at (471.4018, 1096.814)
[15:16:43] [ENEMY] [GuardEnemy1] SEARCHING started: center=(471.4018, 1096.814), radius=100, waypoints=5
[15:16:43] [ENEMY] [GuardEnemy2] Memory reset: confusion=2.0s, had_target=true
[15:16:43] [ENEMY] [GuardEnemy2] Search mode: SEARCHING -> SEARCHING at (471.4018, 1096.814)
[15:16:43] [ENEMY] [GuardEnemy2] SEARCHING started: center=(471.4018, 1096.814), radius=100, waypoints=5
[15:16:43] [ENEMY] [GuardEnemy3] Memory reset: confusion=2.0s, had_target=true
[15:16:43] [ENEMY] [GuardEnemy3] Search mode: SEARCHING -> SEARCHING at (471.4018, 1096.814)
[15:16:43] [ENEMY] [GuardEnemy3] SEARCHING started: center=(471.4018, 1096.814), radius=100, waypoints=5
[15:16:43] [ENEMY] [GuardEnemy5] Memory reset: confusion=2.0s, had_target=true
[15:16:43] [ENEMY] [GuardEnemy5] Search mode: SEARCHING -> SEARCHING at (471.4018, 1096.814)
[15:16:43] [ENEMY] [GuardEnemy5] SEARCHING started: center=(471.4018, 1096.814), radius=100, waypoints=5
[15:16:43] [ENEMY] [GuardEnemy6] Memory reset: confusion=2.0s, had_target=true
[15:16:43] [ENEMY] [GuardEnemy6] Search mode: SEARCHING -> SEARCHING at (471.4018, 1096.814)
[15:16:43] [ENEMY] [GuardEnemy6] SEARCHING started: center=(471.4018, 1096.814), radius=100, waypoints=5
[15:16:43] [ENEMY] [PatrolEnemy1] Memory reset: confusion=2.0s, had_target=true
[15:16:43] [ENEMY] [PatrolEnemy1] Search mode: SEARCHING -> SEARCHING at (471.4018, 1096.814)
[15:16:43] [ENEMY] [PatrolEnemy1] SEARCHING started: center=(471.4018, 1096.814), radius=100, waypoints=5
[15:16:43] [ENEMY] [PatrolEnemy2] Memory reset: confusion=2.0s, had_target=true
[15:16:43] [ENEMY] [PatrolEnemy2] Search mode: SEARCHING -> SEARCHING at (471.4018, 1096.814)
[15:16:43] [ENEMY] [PatrolEnemy2] SEARCHING started: center=(471.4018, 1096.814), radius=100, waypoints=5
[15:16:43] [ENEMY] [PatrolEnemy3] Memory reset: confusion=2.0s, had_target=true
[15:16:43] [ENEMY] [PatrolEnemy3] Search mode: SEARCHING -> SEARCHING at (471.4018, 1096.814)
[15:16:43] [ENEMY] [PatrolEnemy3] SEARCHING started: center=(471.4018, 1096.814), radius=100, waypoints=5
[15:16:43] [ENEMY] [PatrolEnemy4] Memory reset: confusion=2.0s, had_target=true
[15:16:43] [ENEMY] [PatrolEnemy4] Search mode: SEARCHING -> SEARCHING at (471.4018, 1096.814)
[15:16:43] [ENEMY] [PatrolEnemy4] SEARCHING started: center=(471.4018, 1096.814), radius=100, waypoints=5
[15:16:43] [INFO] [LastChance] Reset memory for 9 enemies (player teleport effect)
[15:16:43] [INFO] [LastChance] All process modes restored
[15:16:43] [INFO] [LastChance] Unfroze grenade: @RigidBody2D@2054
[15:16:43] [INFO] [LastChance] Unfroze bullet casing: Casing
[15:16:43] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@1922
[15:16:43] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@1931
[15:16:43] [INFO] [LastChance] Unfroze shrapnel: Shrapnel
[15:16:43] [INFO] [LastChance] Unfroze shrapnel: @Area2D@2055
[15:16:43] [INFO] [LastChance] Unfroze shrapnel: @Area2D@2056
[15:16:43] [INFO] [LastChance] Unfroze shrapnel: @Area2D@2057
[15:16:43] [INFO] [LastChance] Unfroze shrapnel: @Area2D@2061
[15:16:43] [INFO] [LastChance] Unfroze shrapnel: @Area2D@2062
[15:16:43] [INFO] [LastChance] Unfroze shrapnel: @Area2D@2063
[15:16:43] [INFO] [LastChance] Unfroze shrapnel: @Area2D@2064
[15:16:43] [INFO] [LastChance] Unfroze explosion effect: @PointLight2D@2065
[15:16:43] [INFO] [LastChance] Starting visual effects fade-out over 400ms
[15:16:43] [ENEMY] [PatrolEnemy1] SEARCHING corner check: angle 93.4°
[15:16:43] [ENEMY] [GuardEnemy2] SEARCHING corner check: angle 87.5°
[15:16:43] [ENEMY] [GuardEnemy3] SEARCHING corner check: angle 79.6°
[15:16:43] [ENEMY] [GuardEnemy5] SEARCHING corner check: angle 112.5°
[15:16:43] [ENEMY] [GuardEnemy1] SEARCHING corner check: angle 79.2°
[15:16:43] [ENEMY] [GuardEnemy6] SEARCHING corner check: angle 115.8°
[15:16:44] [ENEMY] [PatrolEnemy4] SEARCHING corner check: angle -81.9°
[15:16:44] [ENEMY] [PatrolEnemy3] SEARCHING corner check: angle 99.0°
[15:16:44] [ENEMY] [PatrolEnemy2] SEARCHING corner check: angle 116.5°
[15:16:44] [ENEMY] [PatrolEnemy1] SEARCHING corner check: angle 93.3°
[15:16:44] [INFO] [LastChance] Visual effects fade-out complete
[15:16:44] [INFO] [LastChance] Restored original colors to 5 player sprites
[15:16:44] [INFO] [LastChance] Called player RefreshHealthVisual (C#)
[15:16:44] [ENEMY] [GuardEnemy2] SEARCHING corner check: angle 87.7°
[15:16:44] [ENEMY] [GuardEnemy3] SEARCHING corner check: angle 79.7°
[15:16:44] [ENEMY] [GuardEnemy5] SEARCHING corner check: angle 112.5°
[15:16:44] [ENEMY] [GuardEnemy1] SEARCHING corner check: angle 79.2°
[15:16:44] [ENEMY] [GuardEnemy6] SEARCHING corner check: angle 116.5°
[15:16:44] [ENEMY] [PatrolEnemy4] SEARCHING corner check: angle 98.1°
[15:16:44] [ENEMY] [PatrolEnemy3] SEARCHING corner check: angle 99.0°
[15:16:44] [ENEMY] [PatrolEnemy2] SEARCHING corner check: angle 116.5°
[15:16:44] [INFO] [ReplayManager] Recording frame 2160 (35,3s): player_valid=False, enemies=10
[15:16:44] [ENEMY] [PatrolEnemy1] SEARCHING corner check: angle 93.0°
[15:16:44] [ENEMY] [GuardEnemy2] SEARCHING corner check: angle 87.8°
[15:16:44] [ENEMY] [GuardEnemy3] SEARCHING corner check: angle 80.3°
[15:16:44] [ENEMY] [GuardEnemy5] SEARCHING corner check: angle 112.5°
[15:16:44] [ENEMY] [GuardEnemy1] SEARCHING corner check: angle 79.8°
[15:16:44] [ENEMY] [GuardEnemy6] SEARCHING corner check: angle 116.5°
[15:16:44] [ENEMY] [PatrolEnemy4] SEARCHING corner check: angle 98.1°
[15:16:44] [ENEMY] [PatrolEnemy3] SEARCHING corner check: angle 99.0°
[15:16:44] [ENEMY] [PatrolEnemy2] SEARCHING corner check: angle 116.5°
[15:16:44] [INFO] [GrenadeTimer] Frag grenade landed - EXPLODING!
[15:16:44] [INFO] [GrenadeTimer] EXPLODED at (1242.6555, 1305.9763)!
[15:16:44] [INFO] [GrenadeTimer] Applying frag explosion damage (radius: 225, damage: 99)
[15:16:44] [INFO] [GrenadeTimer] Spawned 4 shrapnel pieces
[15:16:44] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1242.656, 1305.976), source=NEUTRAL (@RigidBody2D@2054), range=2938, listeners=9
[15:16:44] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=7
[15:16:44] [INFO] [GrenadeTimer] Spawned PointLight2D frag explosion flash at (1242.6555, 1305.9763) (shadow-based wall occlusion)
[15:16:44] [ENEMY] [PatrolEnemy1] SEARCHING corner check: angle 92.8°
[15:16:44] [ENEMY] [GuardEnemy2] SEARCHING corner check: angle 87.9°
[15:16:44] [ENEMY] [GuardEnemy3] SEARCHING corner check: angle 80.8°
[15:16:44] [ENEMY] [GuardEnemy5] SEARCHING corner check: angle 112.5°
[15:16:44] [ENEMY] [GuardEnemy1] SEARCHING corner check: angle 80.4°
[15:16:44] [ENEMY] [GuardEnemy6] SEARCHING corner check: angle 116.5°
[15:16:45] [ENEMY] [PatrolEnemy4] SEARCHING corner check: angle 98.1°
[15:16:45] [ENEMY] [PatrolEnemy3] SEARCHING corner check: angle 99.0°
[15:16:45] [ENEMY] [PatrolEnemy2] SEARCHING corner check: angle 116.0°
[15:16:45] [ENEMY] [PatrolEnemy1] SEARCHING corner check: angle 92.6°
[15:16:45] [ENEMY] [GuardEnemy2] SEARCHING corner check: angle 88.0°
[15:16:45] [ENEMY] [GuardEnemy3] SEARCHING corner check: angle 81.4°
[15:16:45] [ENEMY] [GuardEnemy5] SEARCHING corner check: angle -67.9°
[15:16:45] [ENEMY] [GuardEnemy1] SEARCHING corner check: angle 80.9°
[15:16:45] [ENEMY] [GuardEnemy6] SEARCHING corner check: angle 116.5°
[15:16:45] [ENEMY] [PatrolEnemy4] SEARCHING corner check: angle 98.1°
[15:16:45] [ENEMY] [PatrolEnemy3] SEARCHING corner check: angle 99.3°
[15:16:45] [ENEMY] [PatrolEnemy2] SEARCHING corner check: angle 114.0°
[15:16:45] [INFO] [ReplayManager] Recording frame 2220 (36,3s): player_valid=False, enemies=10
[15:16:45] [ENEMY] [PatrolEnemy1] SEARCHING corner check: angle 92.4°
[15:16:45] [ENEMY] [GuardEnemy2] SEARCHING corner check: angle 88.1°
[15:16:45] [ENEMY] [GuardEnemy3] SEARCHING corner check: angle 81.9°
[15:16:45] [ENEMY] [GuardEnemy5] SEARCHING corner check: angle 112.1°
[15:16:45] [ENEMY] [GuardEnemy1] SEARCHING corner check: angle 81.5°
[15:16:45] [ENEMY] [GuardEnemy6] SEARCHING corner check: angle 116.5°
[15:16:45] [ENEMY] [PatrolEnemy4] SEARCHING corner check: angle 98.1°
[15:16:45] [ENEMY] [PatrolEnemy3] SEARCHING corner check: angle 99.3°
[15:16:45] [ENEMY] [PatrolEnemy2] SEARCHING corner check: angle -67.8°
[15:16:45] [ENEMY] [GuardEnemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=SEARCHING, target=178.2°, current=178.2°, player=(480,1096), corner_timer=0.07
[15:16:45] [ENEMY] [GuardEnemy2] SEARCHING: Player spotted! Transitioning to COMBAT
[15:16:45] [ENEMY] [GuardEnemy2] State: SEARCHING -> COMBAT
[15:16:45] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=SEARCHING, target=-177.8°, current=-177.8°, player=(480,1096), corner_timer=0.02
[15:16:45] [ENEMY] [PatrolEnemy1] SEARCHING: Player spotted! Transitioning to COMBAT
[15:16:45] [ENEMY] [PatrolEnemy1] State: SEARCHING -> COMBAT
[15:16:45] [ENEMY] [PatrolEnemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=SEARCHING, target=-170.6°, current=-170.6°, player=(480,1096), corner_timer=0.28
[15:16:45] [ENEMY] [PatrolEnemy3] SEARCHING: Player spotted! Transitioning to COMBAT
[15:16:45] [ENEMY] [PatrolEnemy3] State: SEARCHING -> COMBAT
[15:16:45] [ENEMY] [GuardEnemy2] State: COMBAT -> RETREATING
[15:16:45] [ENEMY] [PatrolEnemy1] State: COMBAT -> RETREATING
[15:16:45] [ENEMY] [GuardEnemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=SEARCHING, target=172.3°, current=172.3°, player=(480,1096), corner_timer=0.03
[15:16:45] [ENEMY] [GuardEnemy3] SEARCHING: Player spotted! Transitioning to COMBAT
[15:16:45] [ENEMY] [GuardEnemy3] State: SEARCHING -> COMBAT
[15:16:45] [ENEMY] [GuardEnemy3] State: COMBAT -> RETREATING
[15:16:45] [ENEMY] [GuardEnemy3] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=81.9°, current=172.6°, player=(480,1096), corner_timer=0.03
[15:16:45] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=92.4°, current=-177.3°, player=(480,1096), corner_timer=0.02
[15:16:45] [ENEMY] [GuardEnemy5] SEARCHING corner check: angle -67.9°
[15:16:45] [ENEMY] [GuardEnemy2] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=88.1°, current=177.7°, player=(480,1096), corner_timer=0.07
[15:16:45] [ENEMY] [GuardEnemy1] SEARCHING corner check: angle 82.0°
[15:16:45] [ENEMY] [GuardEnemy3] State: RETREATING -> IN_COVER
[15:16:45] [ENEMY] [PatrolEnemy1] State: RETREATING -> IN_COVER
[15:16:45] [ENEMY] [GuardEnemy3] State: IN_COVER -> SUPPRESSED
[15:16:45] [ENEMY] [PatrolEnemy1] State: IN_COVER -> SUPPRESSED
[15:16:45] [ENEMY] [GuardEnemy2] State: RETREATING -> IN_COVER
[15:16:45] [ENEMY] [GuardEnemy6] SEARCHING corner check: angle 116.5°
[15:16:45] [ENEMY] [GuardEnemy2] State: IN_COVER -> SUPPRESSED
[15:16:46] [ENEMY] [PatrolEnemy4] SEARCHING corner check: angle 97.9°
[15:16:46] [ENEMY] [PatrolEnemy1] State: SUPPRESSED -> IN_COVER
[15:16:46] [ENEMY] [PatrolEnemy1] State: IN_COVER -> PURSUING
[15:16:46] [ENEMY] [PatrolEnemy2] SEARCHING corner check: angle 112.1°
[15:16:46] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=-176.5°, current=140.4°, player=(480,1096), corner_timer=0.02
[15:16:46] [ENEMY] [GuardEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=SEARCHING, target=172.3°, current=172.3°, player=(480,1096), corner_timer=0.08
[15:16:46] [ENEMY] [GuardEnemy1] SEARCHING: Player spotted! Transitioning to COMBAT
[15:16:46] [ENEMY] [GuardEnemy1] State: SEARCHING -> COMBAT
[15:16:46] [ENEMY] [GuardEnemy1] State: COMBAT -> RETREATING
[15:16:46] [ENEMY] [GuardEnemy1] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=82.0°, current=172.6°, player=(480,1096), corner_timer=0.08
[15:16:46] [ENEMY] [GuardEnemy5] SEARCHING corner check: angle 112.1°
[15:16:46] [ENEMY] [GuardEnemy1] State: RETREATING -> IN_COVER
[15:16:46] [ENEMY] [GuardEnemy1] State: IN_COVER -> SUPPRESSED
[15:16:46] [ENEMY] [GuardEnemy6] SEARCHING corner check: angle 114.4°
[15:16:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(480.5685, 1096.814), source=PLAYER (SniperRifle), range=3000, listeners=9
[15:16:46] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=9
[15:16:46] [ENEMY] [PatrolEnemy4] SEARCHING corner check: angle 97.4°
[15:16:46] [ENEMY] [PatrolEnemy2] SEARCHING corner check: angle -67.9°
[15:16:46] [INFO] [ReplayManager] Recording frame 2280 (37,3s): player_valid=False, enemies=10
[15:16:46] [ENEMY] [GuardEnemy2] State: SUPPRESSED -> IN_COVER
[15:16:46] [ENEMY] [GuardEnemy2] State: IN_COVER -> PURSUING
[15:16:46] [ENEMY] [GuardEnemy2] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=177.2°, current=88.1°, player=(480,1096), corner_timer=0.07
[15:16:46] [ENEMY] [GuardEnemy5] SEARCHING corner check: angle 112.1°
[15:16:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1580.483, 1260.202), source=ENEMY (PatrolEnemy3), range=1469, listeners=9
[15:16:46] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=1, below_threshold=5
[15:16:46] [ENEMY] [GuardEnemy6] SEARCHING corner check: angle -67.5°
[15:16:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1543.555, 1254.716), source=ENEMY (PatrolEnemy3), range=1469, listeners=9
[15:16:46] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=1, below_threshold=5
[15:16:46] [ENEMY] [PatrolEnemy4] SEARCHING corner check: angle 96.9°
[15:16:46] [ENEMY] [PatrolEnemy2] SEARCHING corner check: angle -67.9°
[15:16:46] [ENEMY] [PatrolEnemy3] State: COMBAT -> RETREATING
[15:16:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1506.627, 1249.23), source=ENEMY (PatrolEnemy3), range=1469, listeners=9
[15:16:46] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=1, below_threshold=5
[15:16:46] [ENEMY] [PatrolEnemy3] Hit taken, damage: 1, health: 3/3 -> 2/3
[15:16:46] [ENEMY] [PatrolEnemy3] ImpactEffectsManager found, calling spawn_blood_effect
[15:16:46] [INFO] [ImpactEffects] spawn_blood_effect called at (1517.364, 1246.041), dir=(1, 0), lethal=false
[15:16:46] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[15:16:46] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[15:16:46] [INFO] [ImpactEffects] Blood effect spawned at (1517.364, 1246.041) (scale=1)
[15:16:46] [ENEMY] [GuardEnemy5] SEARCHING corner check: angle 112.1°
[15:16:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1531.679, 1241.789), source=ENEMY (PatrolEnemy3), range=1469, listeners=9
[15:16:46] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=1, below_threshold=5
[15:16:46] [INFO] [LastChance] Threat detected: Bullet
[15:16:46] [INFO] [LastChance] Not in hard mode - effect disabled
[15:16:46] [INFO] [LastChance] Cannot trigger effect - conditions not met
[15:16:46] [ENEMY] [PatrolEnemy3] Hit taken, damage: 1, health: 2/3 -> 1/3
[15:16:46] [ENEMY] [PatrolEnemy3] ImpactEffectsManager found, calling spawn_blood_effect
[15:16:46] [INFO] [ImpactEffects] spawn_blood_effect called at (1542.416, 1238.6), dir=(1, 0), lethal=false
[15:16:46] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[15:16:46] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[15:16:46] [INFO] [ImpactEffects] Blood effect spawned at (1542.416, 1238.6) (scale=1)
[15:16:46] [ENEMY] [GuardEnemy6] SEARCHING corner check: angle 112.1°
[15:16:46] [INFO] [Player] Hit blocked by invincibility mode (C#)
[15:16:46] [INFO] [Player] Spawning blood effect at (480.56845, 1096.8136), dir=(1, 0), lethal=False (C#)
[15:16:46] [INFO] [ImpactEffects] spawn_blood_effect called at (480.5685, 1096.814), dir=(1, 0), lethal=false
[15:16:46] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[15:16:46] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[15:16:46] [INFO] [ImpactEffects] Blood effect spawned at (480.5685, 1096.814) (scale=1)
[15:16:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1556.731, 1234.348), source=ENEMY (PatrolEnemy3), range=1469, listeners=9
[15:16:47] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=1, below_threshold=5
[15:16:47] [INFO] [LastChance] Threat detected: @Area2D@2102
[15:16:47] [INFO] [LastChance] Not in hard mode - effect disabled
[15:16:47] [INFO] [LastChance] Cannot trigger effect - conditions not met
[15:16:47] [ENEMY] [PatrolEnemy4] SEARCHING corner check: angle 96.5°
[15:16:47] [ENEMY] [PatrolEnemy3] Hit taken, damage: 1, health: 1/3 -> 0/3
[15:16:47] [ENEMY] [PatrolEnemy3] ImpactEffectsManager found, calling spawn_blood_effect
[15:16:47] [INFO] [ImpactEffects] spawn_blood_effect called at (1567.468, 1231.159), dir=(1, 0), lethal=true
[15:16:47] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[15:16:47] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[15:16:47] [INFO] [ImpactEffects] Blood effect spawned at (1567.468, 1231.159) (scale=1.5)
[15:16:47] [ENEMY] [PatrolEnemy3] Enemy died (ricochet: false, penetration: false)
[15:16:47] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[15:16:47] [INFO] [PowerFantasy] Starting power fantasy effect:
[15:16:47] [INFO] [PowerFantasy]   - Time scale: 0.10
[15:16:47] [INFO] [PowerFantasy]   - Duration: 300ms
[15:16:47] [ENEMY] [PatrolEnemy1] [AllyDeath] Witnessed at (1567.468, 1231.159), entering SEARCHING
[15:16:47] [ENEMY] [PatrolEnemy1] SEARCHING started: center=(1567.468, 1231.159), radius=100, waypoints=5
[15:16:47] [ENEMY] [PatrolEnemy3] [AllyDeath] Notified 2 enemies
[15:16:47] [INFO] [SoundPropagation] Unregistered listener: PatrolEnemy3 (remaining: 8)
[15:16:47] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[15:16:47] [ENEMY] [PatrolEnemy3] Death animation started with hit direction: (1, 0)
[15:16:47] [ENEMY] [PatrolEnemy2] SEARCHING corner check: angle 112.1°
[15:16:47] [INFO] [Player] Hit blocked by invincibility mode (C#)
[15:16:47] [INFO] [Player] Spawning blood effect at (480.56845, 1096.8136), dir=(1, 0), lethal=False (C#)
[15:16:47] [INFO] [ImpactEffects] spawn_blood_effect called at (480.5685, 1096.814), dir=(1, 0), lethal=false
[15:16:47] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[15:16:47] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[15:16:47] [INFO] [ImpactEffects] Blood effect spawned at (480.5685, 1096.814) (scale=1)
[15:16:47] [ENEMY] [PatrolEnemy1] SEARCHING corner check: angle 72.2°
[15:16:47] [INFO] [PowerFantasy] Effect duration expired after 302.00 ms
[15:16:47] [INFO] [PowerFantasy] Ending power fantasy effect
[15:16:47] [INFO] [ReplayManager] Recording frame 2340 (38,0s): player_valid=False, enemies=10
[15:16:47] [INFO] [BloodDecal] Blood puddle created at (1588.827, 1266.115) (added to group)
[15:16:47] [ENEMY] [GuardEnemy5] SEARCHING corner check: angle 112.1°
[15:16:47] [INFO] [BloodDecal] Blood puddle created at (1640.094, 1291.954) (added to group)
[15:16:47] [INFO] [BloodDecal] Blood puddle created at (1606.81, 1259.697) (added to group)
[15:16:47] [ENEMY] [GuardEnemy6] SEARCHING corner check: angle -67.9°
[15:16:47] [INFO] [BloodDecal] Blood puddle created at (1625.021, 1256.677) (added to group)
[15:16:47] [INFO] [BloodDecal] Blood puddle created at (586.6311, 1122.512) (added to group)
[15:16:47] [INFO] [BloodDecal] Blood puddle created at (587.8594, 1170.098) (added to group)
[15:16:47] [INFO] [BloodDecal] Blood puddle created at (1606.627, 1238.634) (added to group)
[15:16:47] [INFO] [BloodDecal] Blood puddle created at (1604.462, 1281.904) (added to group)
[15:16:47] [INFO] [BloodDecal] Blood puddle created at (605.1766, 1120.753) (added to group)
[15:16:47] [INFO] [BloodDecal] Blood puddle created at (1636.095, 1258.295) (added to group)
[15:16:47] [INFO] [BloodDecal] Blood puddle created at (541.0627, 1129.622) (added to group)
[15:16:47] [INFO] [BloodDecal] Blood puddle created at (582.6465, 1175.253) (added to group)
[15:16:47] [INFO] [BloodDecal] Blood puddle created at (1629.41, 1227.356) (added to group)
[15:16:47] [ENEMY] [PatrolEnemy4] SEARCHING corner check: angle 96.2°
[15:16:47] [INFO] [BloodDecal] Blood puddle created at (1630.567, 1255.643) (added to group)
[15:16:47] [INFO] [BloodDecal] Blood puddle created at (564.0782, 1114.112) (added to group)
[15:16:47] [INFO] [BloodDecal] Blood puddle created at (1658.724, 1289.955) (added to group)
[15:16:47] [INFO] [BloodDecal] Blood puddle created at (1660.393, 1281.12) (added to group)
[15:16:47] [INFO] [BloodDecal] Blood puddle created at (1609.702, 1280.3) (added to group)
[15:16:47] [INFO] [BloodDecal] Blood puddle created at (1657.762, 1342.772) (added to group)
[15:16:47] [INFO] [BloodDecal] Blood puddle created at (1609.241, 1315.276) (added to group)
[15:16:47] [INFO] [BloodDecal] Blood puddle created at (1632.33, 1250.428) (added to group)
[15:16:47] [INFO] [BloodDecal] Blood puddle created at (562.9453, 1085.045) (added to group)
[15:16:47] [ENEMY] [PatrolEnemy1] SEARCHING corner check: angle 79.5°
[15:16:47] [ENEMY] [PatrolEnemy2] SEARCHING corner check: angle 112.1°
[15:16:47] [INFO] [BloodDecal] Blood puddle created at (1635.705, 1284.82) (added to group)
[15:16:47] [INFO] [BloodDecal] Blood puddle created at (1619.478, 1270.524) (added to group)
[15:16:47] [INFO] [BloodDecal] Blood puddle created at (1654.712, 1297.962) (added to group)
[15:16:47] [INFO] [BloodDecal] Blood puddle created at (532.2458, 1111.607) (added to group)
[15:16:47] [INFO] [BloodDecal] Blood puddle created at (1723.687, 1292.623) (added to group)
[15:16:47] [INFO] [BloodDecal] Blood puddle created at (1650.393, 1271.218) (added to group)
[15:16:47] [INFO] [BloodDecal] Blood puddle created at (632.9896, 1118.226) (added to group)
[15:16:47] [INFO] [BloodDecal] Blood puddle created at (1650.564, 1403.175) (added to group)
[15:16:47] [INFO] [BloodDecal] Blood puddle created at (587.4042, 1136.682) (added to group)
[15:16:47] [INFO] [BloodDecal] Blood puddle created at (1677.447, 1220.416) (added to group)
[15:16:47] [INFO] [BloodDecal] Blood puddle created at (569.8032, 1132.48) (added to group)
[15:16:47] [INFO] [BloodDecal] Blood puddle created at (1645.987, 1264.139) (added to group)
[15:16:47] [INFO] [BloodDecal] Blood puddle created at (613.6168, 1181.525) (added to group)
[15:16:47] [ENEMY] [GuardEnemy5] SEARCHING corner check: angle 111.2°
[15:16:47] [INFO] [BloodDecal] Blood puddle created at (1699.36, 1359.505) (added to group)
[15:16:47] [INFO] [BloodDecal] Blood puddle created at (1623.116, 1346.499) (added to group)
[15:16:47] [INFO] [BloodDecal] Blood puddle created at (1664.344, 1357.073) (added to group)
[15:16:47] [INFO] [BloodDecal] Blood puddle created at (1716.188, 1379.333) (added to group)
[15:16:47] [INFO] [BloodDecal] Blood puddle created at (1687.666, 1347.965) (added to group)
[15:16:47] [INFO] [BloodDecal] Blood puddle created at (1707.078, 1332.407) (added to group)
[15:16:47] [ENEMY] [PatrolEnemy3] Ragdoll activated
[15:16:47] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[15:16:47] [INFO] [BloodDecal] Blood puddle created at (1681.187, 1441.624) (added to group)
[15:16:47] [INFO] [BloodDecal] Blood puddle created at (641.8102, 1218.993) (added to group)
[15:16:47] [INFO] [BloodDecal] Blood puddle created at (1684.5, 1252.607) (added to group)
[15:16:47] [INFO] [BloodDecal] Blood puddle created at (1736.089, 1337.604) (added to group)
[15:16:47] [INFO] [BloodDecal] Blood puddle created at (1744.857, 1292.373) (added to group)
[15:16:47] [INFO] [BloodDecal] Blood puddle created at (1710.99, 1322.472) (added to group)
[15:16:47] [INFO] [BloodDecal] Blood puddle created at (1663.589, 1318.945) (added to group)
[15:16:47] [ENEMY] [GuardEnemy6] SEARCHING corner check: angle -67.9°
[15:16:47] [INFO] [BloodDecal] Blood puddle created at (651.5812, 1234.292) (added to group)
[15:16:47] [INFO] [BloodDecal] Blood puddle created at (619.574, 1265.141) (added to group)
[15:16:47] [INFO] [BloodDecal] Blood puddle created at (611.423, 1106.9) (added to group)
[15:16:47] [INFO] [BloodDecal] Blood puddle created at (1650.188, 1349.599) (added to group)
[15:16:47] [INFO] [BloodDecal] Blood puddle created at (1671.853, 1296.051) (added to group)
[15:16:47] [INFO] [BloodDecal] Blood puddle created at (575.2516, 1161.795) (added to group)
[15:16:47] [INFO] [BloodDecal] Blood puddle created at (586.8522, 1174.006) (added to group)
[15:16:47] [ENEMY] [PatrolEnemy4] SEARCHING corner check: angle -84.0°
[15:16:47] [INFO] [BloodDecal] Blood puddle created at (1730.712, 1385.272) (added to group)
[15:16:48] [ENEMY] [PatrolEnemy1] SEARCHING corner check: angle 84.2°
[15:16:48] [ENEMY] [PatrolEnemy2] SEARCHING corner check: angle 112.1°
[15:16:48] [ENEMY] [GuardEnemy5] ROT_CHANGE: P2:combat_state -> P1:visible, state=SEARCHING, target=-162.2°, current=-162.1°, player=(480,1096), corner_timer=0.08
[15:16:48] [ENEMY] [GuardEnemy5] SEARCHING: Player spotted! Transitioning to COMBAT
[15:16:48] [ENEMY] [GuardEnemy5] State: SEARCHING -> COMBAT
[15:16:48] [INFO] [BloodDecal] Blood puddle created at (659.0498, 1145.697) (added to group)
[15:16:48] [INFO] [BloodDecal] Blood puddle created at (615.8058, 1235.151) (added to group)
[15:16:48] [ENEMY] [GuardEnemy2] Warning: No valid flank position (both sides behind walls)
[15:16:48] [ENEMY] [GuardEnemy2] FLANKING started: target=(588.9253, 1264.917), side=right, pos=(2591.823, 993.3652)
[15:16:48] [ENEMY] [GuardEnemy2] State: PURSUING -> FLANKING
[15:16:48] [ENEMY] [GuardEnemy6] SEARCHING corner check: angle 112.1°
[15:16:48] [ENEMY] [PatrolEnemy4] SEARCHING corner check: angle 96.0°
[15:16:48] [ENEMY] [GuardEnemy2] FLANKING corner check: angle 76.7°
[15:16:48] [ENEMY] [PatrolEnemy1] SEARCHING corner check: angle 86.8°
[15:16:48] [ENEMY] [PatrolEnemy2] SEARCHING corner check: angle 112.1°
[15:16:48] [INFO] [ReplayManager] Recording frame 2400 (39,0s): player_valid=False, enemies=10
[15:16:48] [ENEMY] [GuardEnemy6] SEARCHING corner check: angle 112.1°
[15:16:48] [ENEMY] [GuardEnemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=177.8°, current=177.8°, player=(480,1096), corner_timer=0.02
[15:16:48] [ENEMY] [GuardEnemy2] State: FLANKING -> COMBAT
[15:16:48] [ENEMY] [PatrolEnemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=SEARCHING, target=-162.2°, current=-162.1°, player=(480,1096), corner_timer=0.02
[15:16:48] [ENEMY] [PatrolEnemy2] SEARCHING: Player spotted! Transitioning to COMBAT
[15:16:48] [ENEMY] [PatrolEnemy2] State: SEARCHING -> COMBAT
[15:16:48] [ENEMY] [PatrolEnemy4] SEARCHING corner check: angle 96.0°
[15:16:48] [ENEMY] [PatrolEnemy1] SEARCHING corner check: angle 88.2°
[15:16:48] [ENEMY] [PatrolEnemy3] Death animation completed
[15:16:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(715.5994, 1163.934), source=ENEMY (GuardEnemy5), range=1469, listeners=8
[15:16:48] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=4
[15:16:48] [INFO] [LastChance] Threat detected: Bullet
[15:16:48] [INFO] [LastChance] Not in hard mode - effect disabled
[15:16:48] [INFO] [LastChance] Cannot trigger effect - conditions not met
[15:16:48] [INFO] [Player] Hit blocked by invincibility mode (C#)
[15:16:48] [INFO] [Player] Spawning blood effect at (480.56845, 1096.8136), dir=(1, 0), lethal=False (C#)
[15:16:48] [INFO] [ImpactEffects] spawn_blood_effect called at (480.5685, 1096.814), dir=(1, 0), lethal=false
[15:16:48] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[15:16:48] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[15:16:48] [INFO] [ImpactEffects] Blood effect spawned at (480.5685, 1096.814) (scale=1)
[15:16:48] [ENEMY] [GuardEnemy6] SEARCHING corner check: angle 112.1°
[15:16:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(715.5994, 1163.934), source=ENEMY (GuardEnemy5), range=1469, listeners=8
[15:16:48] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=4
[15:16:48] [INFO] [LastChance] Threat detected: Bullet
[15:16:48] [INFO] [LastChance] Not in hard mode - effect disabled
[15:16:48] [INFO] [LastChance] Cannot trigger effect - conditions not met
[15:16:48] [ENEMY] [PatrolEnemy4] SEARCHING corner check: angle 95.7°
[15:16:49] [ENEMY] [PatrolEnemy1] SEARCHING corner check: angle 89.0°
[15:16:49] [INFO] [Player] Hit blocked by invincibility mode (C#)
[15:16:49] [INFO] [Player] Spawning blood effect at (480.56845, 1096.8136), dir=(1, 0), lethal=False (C#)
[15:16:49] [INFO] [ImpactEffects] spawn_blood_effect called at (480.5685, 1096.814), dir=(1, 0), lethal=false
[15:16:49] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[15:16:49] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[15:16:49] [INFO] [ImpactEffects] Blood effect spawned at (480.5685, 1096.814) (scale=1)
[15:16:49] [ENEMY] [GuardEnemy5] State: COMBAT -> RETREATING
[15:16:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(715.5994, 1163.934), source=ENEMY (GuardEnemy5), range=1469, listeners=8
[15:16:49] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=4
[15:16:49] [ENEMY] [GuardEnemy5] Hit taken, damage: 1, health: 4/4 -> 3/4
[15:16:49] [ENEMY] [GuardEnemy5] ImpactEffectsManager found, calling spawn_blood_effect
[15:16:49] [INFO] [ImpactEffects] spawn_blood_effect called at (725.386, 1158.479), dir=(1, 0), lethal=false
[15:16:49] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[15:16:49] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[15:16:49] [INFO] [ImpactEffects] Blood effect spawned at (725.386, 1158.479) (scale=1)
[15:16:49] [ENEMY] [PatrolEnemy2] Hit taken, damage: 1, health: 2/2 -> 1/2
[15:16:49] [ENEMY] [PatrolEnemy2] ImpactEffectsManager found, calling spawn_blood_effect
[15:16:49] [INFO] [ImpactEffects] spawn_blood_effect called at (741.8569, 1163.933), dir=(1, 0), lethal=false
[15:16:49] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[15:16:49] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[15:16:49] [INFO] [ImpactEffects] Blood effect spawned at (741.8569, 1163.933) (scale=1)
[15:16:49] [INFO] [BloodDecal] Blood puddle created at (557.2414, 1087.674) (added to group)
[15:16:49] [INFO] [BloodDecal] Blood puddle created at (555.7774, 1102.647) (added to group)
[15:16:49] [ENEMY] [GuardEnemy6] SEARCHING corner check: angle 112.1°
[15:16:49] [INFO] [BloodDecal] Blood puddle created at (574.7734, 1114.108) (added to group)
[15:16:49] [INFO] [BloodDecal] Blood puddle created at (578.9338, 1127.674) (added to group)
[15:16:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(754.7349, 1142.12), source=ENEMY (GuardEnemy5), range=1469, listeners=8
[15:16:49] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=4
[15:16:49] [INFO] [BloodDecal] Blood puddle created at (595.4436, 1132.941) (added to group)
[15:16:49] [INFO] [BloodDecal] Blood puddle created at (553.968, 1117.366) (added to group)
[15:16:49] [ENEMY] [GuardEnemy1] State: SUPPRESSED -> IN_COVER
[15:16:49] [ENEMY] [GuardEnemy3] State: SUPPRESSED -> IN_COVER
[15:16:49] [ENEMY] [PatrolEnemy2] State: COMBAT -> RETREATING
[15:16:49] [INFO] [BloodDecal] Blood puddle created at (569.209, 1071.779) (added to group)
[15:16:49] [ENEMY] [GuardEnemy1] State: IN_COVER -> PURSUING
[15:16:49] [ENEMY] [GuardEnemy3] State: IN_COVER -> PURSUING
[15:16:49] [ENEMY] [PatrolEnemy4] SEARCHING corner check: angle 95.3°
[15:16:49] [ENEMY] [GuardEnemy1] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=171.4°, current=82.0°, player=(485,1096), corner_timer=0.08
[15:16:49] [ENEMY] [GuardEnemy3] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=171.5°, current=81.9°, player=(485,1096), corner_timer=0.03
[15:16:49] [INFO] [BloodDecal] Blood puddle created at (550.138, 1136.565) (added to group)
[15:16:49] [INFO] [BloodDecal] Blood puddle created at (547.1099, 1097.71) (added to group)
[15:16:49] [ENEMY] [PatrolEnemy1] SEARCHING corner check: angle 89.5°
[15:16:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(754.8076, 1162.93), source=ENEMY (GuardEnemy5), range=1469, listeners=8
[15:16:49] [ENEMY] [PatrolEnemy2] Heard gunshot at (754.8076, 1162.93), source_type=1, intensity=1.00, distance=30
[15:16:49] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=4
[15:16:49] [ENEMY] [PatrolEnemy2] State: COMBAT -> RETREATING
[15:16:49] [INFO] [BloodDecal] Blood puddle created at (564.0063, 1116.123) (added to group)
[15:16:49] [INFO] [BloodDecal] Blood puddle created at (770.6467, 1155.426) (added to group)
[15:16:49] [INFO] [BloodDecal] Blood puddle created at (772.1484, 1162.176) (added to group)
[15:16:49] [INFO] [BloodDecal] Blood puddle created at (797.5736, 1174.314) (added to group)
[15:16:49] [INFO] [BloodDecal] Blood puddle created at (793.5055, 1172.719) (added to group)
[15:16:49] [ENEMY] [PatrolEnemy2] Hit taken, damage: 1, health: 1/2 -> 0/2
[15:16:49] [ENEMY] [PatrolEnemy2] ImpactEffectsManager found, calling spawn_blood_effect
[15:16:49] [INFO] [ImpactEffects] spawn_blood_effect called at (729.4238, 1156.101), dir=(1, 0), lethal=true
[15:16:49] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[15:16:49] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[15:16:49] [INFO] [ImpactEffects] Blood effect spawned at (729.4238, 1156.101) (scale=1.5)
[15:16:49] [ENEMY] [PatrolEnemy2] Enemy died (ricochet: false, penetration: false)
[15:16:49] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[15:16:49] [INFO] [PowerFantasy] Starting power fantasy effect:
[15:16:49] [INFO] [PowerFantasy]   - Time scale: 0.10
[15:16:49] [INFO] [PowerFantasy]   - Duration: 300ms
[15:16:49] [ENEMY] [GuardEnemy6] [AllyDeath] Witnessed at (729.4238, 1156.101), entering SEARCHING
[15:16:49] [ENEMY] [GuardEnemy6] SEARCHING started: center=(729.4238, 1156.101), radius=100, waypoints=5
[15:16:49] [ENEMY] [PatrolEnemy2] [AllyDeath] Notified 2 enemies
[15:16:49] [INFO] [SoundPropagation] Unregistered listener: PatrolEnemy2 (remaining: 7)
[15:16:49] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[15:16:49] [ENEMY] [PatrolEnemy2] Death animation started with hit direction: (1, 0)
[15:16:49] [INFO] [BloodyFeet:GuardEnemy5] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[15:16:49] [INFO] [BloodDecal] Blood puddle created at (830.0963, 1172.087) (added to group)
[15:16:49] [INFO] [ReplayManager] Recording frame 2460 (40,0s): player_valid=False, enemies=10
[15:16:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2570.178, 1025.344), source=ENEMY (GuardEnemy2), range=1469, listeners=7
[15:16:49] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=2
[15:16:49] [INFO] [BloodyFeet:GuardEnemy6] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[15:16:49] [INFO] [PowerFantasy] Effect duration expired after 303.00 ms
[15:16:49] [INFO] [PowerFantasy] Ending power fantasy effect
[15:16:49] [INFO] [BloodDecal] Blood puddle created at (644.0398, 1187.863) (added to group)
[15:16:49] [INFO] [BloodDecal] Blood puddle created at (827.107, 1138.532) (added to group)
[15:16:49] [INFO] [BloodDecal] Blood puddle created at (786.9449, 1188.122) (added to group)
[15:16:49] [INFO] [BloodDecal] Blood puddle created at (796.9411, 1210.58) (added to group)
[15:16:49] [INFO] [BloodDecal] Blood puddle created at (632.9817, 1151.246) (added to group)
[15:16:49] [INFO] [BloodDecal] Blood puddle created at (865.7784, 1230.902) (added to group)
[15:16:49] [INFO] [BloodDecal] Blood puddle created at (582.9139, 1163.29) (added to group)
[15:16:49] [INFO] [BloodDecal] Blood puddle created at (591.5235, 1142.3) (added to group)
[15:16:49] [INFO] [BloodDecal] Blood puddle created at (601.3329, 1104.365) (added to group)
[15:16:49] [ENEMY] [GuardEnemy6] ROT_CHANGE: P2:combat_state -> P1:visible, state=SEARCHING, target=-161.4°, current=-160.2°, player=(489,1096), corner_timer=0.05
[15:16:49] [ENEMY] [GuardEnemy6] SEARCHING: Player spotted! Transitioning to COMBAT
[15:16:49] [ENEMY] [GuardEnemy6] State: SEARCHING -> COMBAT
[15:16:49] [INFO] [BloodDecal] Blood puddle created at (857.3315, 1228.975) (added to group)
[15:16:49] [INFO] [BloodDecal] Blood puddle created at (823.1367, 1165.917) (added to group)
[15:16:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(763.1095, 1157.089), source=ENEMY (GuardEnemy5), range=1469, listeners=7
[15:16:49] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=4
[15:16:49] [INFO] [BloodDecal] Blood puddle created at (850.0267, 1160.744) (added to group)
[15:16:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2569.603, 1026.607), source=ENEMY (GuardEnemy2), range=1469, listeners=7
[15:16:49] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=2
[15:16:49] [ENEMY] [GuardEnemy5] Hit taken, damage: 1, health: 3/4 -> 2/4
[15:16:49] [ENEMY] [GuardEnemy5] ImpactEffectsManager found, calling spawn_blood_effect
[15:16:49] [INFO] [ImpactEffects] spawn_blood_effect called at (755.6501, 1157.42), dir=(1, 0), lethal=false
[15:16:49] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[15:16:49] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[15:16:49] [INFO] [ImpactEffects] Blood effect spawned at (755.6501, 1157.42) (scale=1)
[15:16:49] [INFO] [BloodDecal] Blood puddle created at (569.102, 1198.676) (added to group)
[15:16:49] [INFO] [BloodDecal] Blood puddle created at (644.7866, 1118.703) (added to group)
[15:16:49] [INFO] [BloodDecal] Blood puddle created at (885.1168, 1258.248) (added to group)
[15:16:49] [INFO] [BloodDecal] Blood puddle created at (798.6171, 1180.584) (added to group)
[15:16:49] [ENEMY] [GuardEnemy6] State: COMBAT -> RETREATING
[15:16:49] [ENEMY] [GuardEnemy2] State: COMBAT -> RETREATING
[15:16:49] [ENEMY] [PatrolEnemy4] SEARCHING corner check: angle 94.9°
[15:16:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2568.97, 1027.808), source=ENEMY (GuardEnemy2), range=1469, listeners=7
[15:16:49] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=2
[15:16:49] [INFO] [BloodDecal] Blood puddle created at (662.6326, 1121.271) (added to group)
[15:16:49] [INFO] [BloodDecal] Blood puddle created at (921.8917, 1226.175) (added to group)
[15:16:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(751.9203, 1157.581), source=ENEMY (GuardEnemy5), range=1469, listeners=7
[15:16:49] [ENEMY] [GuardEnemy6] Heard gunshot at (751.9203, 1157.581), source_type=1, intensity=0.77, distance=57
[15:16:49] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=4
[15:16:49] [ENEMY] [GuardEnemy6] State: COMBAT -> RETREATING
[15:16:49] [ENEMY] [PatrolEnemy1] SEARCHING corner check: angle 89.7°
[15:16:49] [INFO] [BloodDecal] Blood puddle created at (589.2734, 1152.787) (added to group)
[15:16:49] [INFO] [BloodDecal] Blood puddle created at (794.73, 1150.048) (added to group)
[15:16:49] [ENEMY] [GuardEnemy2] Hit taken, damage: 1, health: 1/2 -> 0/2
[15:16:49] [ENEMY] [GuardEnemy2] ImpactEffectsManager found, calling spawn_blood_effect
[15:16:49] [INFO] [ImpactEffects] spawn_blood_effect called at (2572.69, 1017.485), dir=(1, 0), lethal=true
[15:16:49] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[15:16:49] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[15:16:49] [INFO] [ImpactEffects] Blood effect spawned at (2572.69, 1017.485) (scale=1.5)
[15:16:49] [ENEMY] [GuardEnemy2] Enemy died (ricochet: false, penetration: false)
[15:16:49] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[15:16:49] [INFO] [PowerFantasy] Starting power fantasy effect:
[15:16:49] [INFO] [PowerFantasy]   - Time scale: 0.10
[15:16:49] [INFO] [PowerFantasy]   - Duration: 300ms
[15:16:49] [ENEMY] [GuardEnemy2] [AllyDeath] Notified 2 enemies
[15:16:49] [INFO] [SoundPropagation] Unregistered listener: GuardEnemy2 (remaining: 6)
[15:16:49] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[15:16:49] [ENEMY] [GuardEnemy2] Death animation started with hit direction: (1, 0)
[15:16:49] [ENEMY] [GuardEnemy5] Hit taken, damage: 1, health: 2/4 -> 1/4
[15:16:49] [ENEMY] [GuardEnemy5] ImpactEffectsManager found, calling spawn_blood_effect
[15:16:49] [INFO] [ImpactEffects] spawn_blood_effect called at (763.1016, 1156.934), dir=(1, 0), lethal=false
[15:16:49] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[15:16:49] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[15:16:49] [INFO] [ImpactEffects] Blood effect spawned at (763.1016, 1156.934) (scale=1)
[15:16:50] [INFO] [BloodDecal] Blood puddle created at (671.6192, 1177.234) (added to group)
[15:16:50] [INFO] [BloodDecal] Blood puddle created at (800.947, 1172.54) (added to group)
[15:16:50] [INFO] [BloodDecal] Blood puddle created at (840.0072, 1222.562) (added to group)
[15:16:50] [INFO] [BloodDecal] Blood puddle created at (857.533, 1234.638) (added to group)
[15:16:50] [ENEMY] [GuardEnemy6] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=112.1°, current=-159.9°, player=(489,1096), corner_timer=0.05
[15:16:50] [INFO] [PowerFantasy] Effect duration expired after 302.00 ms
[15:16:50] [INFO] [PowerFantasy] Ending power fantasy effect
[15:16:50] [INFO] [BloodDecal] Blood puddle created at (850.9119, 1238.668) (added to group)
[15:16:50] [INFO] [BloodDecal] Blood puddle created at (811.8247, 1173.785) (added to group)
[15:16:50] [INFO] [BloodDecal] Blood puddle created at (814.1246, 1201.963) (added to group)
[15:16:50] [INFO] [BloodDecal] Blood puddle created at (949.769, 1359.604) (added to group)
[15:16:50] [INFO] [BloodDecal] Blood puddle created at (853.9387, 1187.094) (added to group)
[15:16:50] [INFO] [BloodDecal] Blood puddle created at (852.7918, 1171.864) (added to group)
[15:16:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(763.8491, 1156.945), source=ENEMY (GuardEnemy5), range=1469, listeners=6
[15:16:50] [ENEMY] [GuardEnemy6] Heard gunshot at (763.8491, 1156.945), source_type=1, intensity=0.66, distance=62
[15:16:50] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=4
[15:16:50] [ENEMY] [GuardEnemy6] ROT_CHANGE: P3:corner -> P2:combat_state, state=COMBAT, target=-159.3°, current=-171.9°, player=(489,1096), corner_timer=0.05
[15:16:50] [ENEMY] [GuardEnemy6] State: COMBAT -> RETREATING
[15:16:50] [INFO] [BloodDecal] Blood puddle created at (844.5706, 1231.305) (added to group)
[15:16:50] [INFO] [BloodDecal] Blood puddle created at (818.6686, 1181.145) (added to group)
[15:16:50] [ENEMY] [GuardEnemy6] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=112.1°, current=-169.1°, player=(489,1096), corner_timer=0.05
[15:16:50] [INFO] [BloodDecal] Blood puddle created at (823.0673, 1178.325) (added to group)
[15:16:50] [ENEMY] [GuardEnemy5] Hit taken, damage: 1, health: 1/4 -> 0/4
[15:16:50] [ENEMY] [GuardEnemy5] ImpactEffectsManager found, calling spawn_blood_effect
[15:16:50] [INFO] [ImpactEffects] spawn_blood_effect called at (756.394, 1157.362), dir=(1, 0), lethal=true
[15:16:50] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[15:16:50] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[15:16:50] [INFO] [ImpactEffects] Blood effect spawned at (756.394, 1157.362) (scale=1.5)
[15:16:50] [ENEMY] [GuardEnemy5] Enemy died (ricochet: false, penetration: false)
[15:16:50] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[15:16:50] [INFO] [PowerFantasy] Starting power fantasy effect:
[15:16:50] [INFO] [PowerFantasy]   - Time scale: 0.10
[15:16:50] [INFO] [PowerFantasy]   - Duration: 300ms
[15:16:50] [ENEMY] [GuardEnemy5] [AllyDeath] Notified 1 enemies
[15:16:50] [INFO] [SoundPropagation] Unregistered listener: GuardEnemy5 (remaining: 5)
[15:16:50] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[15:16:50] [ENEMY] [GuardEnemy5] Death animation started with hit direction: (1, 0)
[15:16:50] [INFO] [ReplayManager] Recording frame 2520 (40,4s): player_valid=False, enemies=10
[15:16:50] [INFO] [BloodDecal] Blood puddle created at (804.4902, 1198.984) (added to group)
[15:16:50] [INFO] [BloodDecal] Blood puddle created at (832.3298, 1157.222) (added to group)
[15:16:50] [INFO] [BloodDecal] Blood puddle created at (836.7093, 1138.978) (added to group)
[15:16:50] [ENEMY] [PatrolEnemy2] Ragdoll activated
[15:16:50] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[15:16:50] [INFO] [PowerFantasy] Effect duration expired after 302.00 ms
[15:16:50] [INFO] [PowerFantasy] Ending power fantasy effect
[15:16:50] [ENEMY] [GuardEnemy6] ROT_CHANGE: P3:corner -> P1:visible, state=RETREATING, target=-162.0°, current=179.0°, player=(489,1096), corner_timer=0.05
[15:16:50] [INFO] [BloodDecal] Blood puddle created at (835.488, 1186.099) (added to group)
[15:16:50] [INFO] [BloodDecal] Blood puddle created at (811.1813, 1212.224) (added to group)
[15:16:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(489.7351, 1096.814), source=PLAYER (SniperRifle), range=3000, listeners=5
[15:16:50] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=4
[15:16:50] [INFO] [BloodDecal] Blood puddle created at (826.8615, 1200.246) (added to group)
[15:16:50] [INFO] [BloodDecal] Blood puddle created at (834.256, 1184.388) (added to group)
[15:16:50] [INFO] [BloodDecal] Blood puddle created at (857.6661, 1165.293) (added to group)
[15:16:50] [INFO] [BloodDecal] Blood puddle created at (845.7775, 1209.064) (added to group)
[15:16:50] [INFO] [BloodDecal] Blood puddle created at (2653.487, 1053.715) (added to group)
[15:16:50] [ENEMY] [PatrolEnemy4] SEARCHING corner check: angle 94.5°
[15:16:50] [INFO] [BloodDecal] Blood puddle created at (2634.758, 1005.528) (added to group)
[15:16:50] [INFO] [BloodDecal] Blood puddle created at (2646.131, 1058.913) (added to group)
[15:16:50] [INFO] [BloodDecal] Blood puddle created at (2621.753, 1015.825) (added to group)
[15:16:50] [INFO] [BloodDecal] Blood puddle created at (844.1653, 1230.469) (added to group)
[15:16:50] [INFO] [BloodDecal] Blood puddle created at (848.1597, 1185.983) (added to group)
[15:16:50] [ENEMY] [PatrolEnemy1] SEARCHING corner check: angle 89.8°
[15:16:50] [INFO] [BloodDecal] Blood puddle created at (2657.598, 1078.402) (added to group)
[15:16:50] [INFO] [BloodDecal] Blood puddle created at (858.1591, 1206.07) (added to group)
[15:16:50] [INFO] [BloodDecal] Blood puddle created at (877.3777, 1262.789) (added to group)
[15:16:50] [INFO] [BloodDecal] Blood puddle created at (923.4967, 1196.853) (added to group)
[15:16:50] [INFO] [BloodDecal] Blood puddle created at (2659.498, 1021.314) (added to group)
[15:16:50] [INFO] [BloodDecal] Blood puddle created at (2661.612, 1026.468) (added to group)
[15:16:50] [INFO] [BloodDecal] Blood puddle created at (2655.028, 1014.115) (added to group)
[15:16:50] [INFO] [BloodDecal] Blood puddle created at (835.3093, 1185.722) (added to group)
[15:16:50] [INFO] [BloodDecal] Blood puddle created at (931.7278, 1279.541) (added to group)
[15:16:50] [INFO] [BloodDecal] Blood puddle created at (883.976, 1223.743) (added to group)
[15:16:50] [ENEMY] [GuardEnemy6] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=112.1°, current=-161.4°, player=(489,1096), corner_timer=0.05
[15:16:50] [INFO] [BloodDecal] Blood puddle created at (918.3484, 1181.976) (added to group)
[15:16:50] [INFO] [BloodDecal] Blood puddle created at (850.1963, 1264.213) (added to group)
[15:16:50] [INFO] [BloodDecal] Blood puddle created at (2697.388, 1051.223) (added to group)
[15:16:50] [INFO] [BloodDecal] Blood puddle created at (808.8593, 1194.258) (added to group)
[15:16:50] [INFO] [BloodDecal] Blood puddle created at (839.8957, 1202.1) (added to group)
[15:16:50] [INFO] [BloodDecal] Blood puddle created at (829.9149, 1197.15) (added to group)
[15:16:50] [INFO] [BloodDecal] Blood puddle created at (841.0839, 1188.946) (added to group)
[15:16:50] [INFO] [BloodDecal] Blood puddle created at (832.5799, 1200.091) (added to group)
[15:16:50] [INFO] [BloodDecal] Blood puddle created at (815.7293, 1144.943) (added to group)
[15:16:50] [INFO] [BloodDecal] Blood puddle created at (2638.661, 1073.691) (added to group)
[15:16:50] [INFO] [BloodDecal] Blood puddle created at (2693.264, 1062.407) (added to group)
[15:16:50] [INFO] [BloodDecal] Blood puddle created at (2668.193, 1100.279) (added to group)
[15:16:50] [INFO] [BloodDecal] Blood puddle created at (846.7557, 1200.868) (added to group)
[15:16:50] [INFO] [BloodDecal] Blood puddle created at (827.9477, 1203.732) (added to group)
[15:16:50] [INFO] [BloodDecal] Blood puddle created at (899.024, 1296.406) (added to group)
[15:16:50] [ENEMY] [GuardEnemy2] Ragdoll activated
[15:16:50] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[15:16:50] [INFO] [BloodDecal] Blood puddle created at (840.3288, 1147.396) (added to group)
[15:16:51] [INFO] [LastChance] Threat detected: Bullet
[15:16:51] [INFO] [LastChance] Not in hard mode - effect disabled
[15:16:51] [INFO] [LastChance] Cannot trigger effect - conditions not met
[15:16:51] [INFO] [BloodDecal] Blood puddle created at (927.5741, 1262.299) (added to group)
[15:16:51] [INFO] [BloodDecal] Blood puddle created at (879.5571, 1197.097) (added to group)
[15:16:51] [INFO] [BloodDecal] Blood puddle created at (826.1477, 1161.276) (added to group)
[15:16:51] [ENEMY] [GuardEnemy6] ROT_CHANGE: P3:corner -> P1:visible, state=RETREATING, target=-161.7°, current=179.7°, player=(489,1096), corner_timer=0.05
[15:16:51] [INFO] [BloodDecal] Blood puddle created at (862.5407, 1200.15) (added to group)
[15:16:51] [INFO] [BloodDecal] Blood puddle created at (928.1008, 1177.615) (added to group)
[15:16:51] [INFO] [BloodDecal] Blood puddle created at (813.9088, 1210.296) (added to group)
[15:16:51] [INFO] [BloodDecal] Blood puddle created at (862.7164, 1245.505) (added to group)
[15:16:51] [INFO] [Player] Hit blocked by invincibility mode (C#)
[15:16:51] [INFO] [Player] Spawning blood effect at (489.7351, 1096.8136), dir=(1, 0), lethal=False (C#)
[15:16:51] [INFO] [ImpactEffects] spawn_blood_effect called at (489.7351, 1096.814), dir=(1, 0), lethal=false
[15:16:51] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[15:16:51] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[15:16:51] [INFO] [ImpactEffects] Blood effect spawned at (489.7351, 1096.814) (scale=1)
[15:16:51] [INFO] [BloodDecal] Blood puddle created at (838.6374, 1260.81) (added to group)
[15:16:51] [INFO] [BloodDecal] Blood puddle created at (861.971, 1204.564) (added to group)
[15:16:51] [INFO] [BloodDecal] Blood puddle created at (2674.413, 1102.131) (added to group)
[15:16:51] [INFO] [BloodDecal] Blood puddle created at (959.4767, 1207.013) (added to group)
[15:16:51] [ENEMY] [PatrolEnemy4] SEARCHING corner check: angle 94.1°
[15:16:51] [INFO] [BloodDecal] Blood puddle created at (2780.057, 1103.673) (added to group)
[15:16:51] [INFO] [BloodDecal] Blood puddle created at (875.8133, 1256.657) (added to group)
[15:16:51] [INFO] [BloodDecal] Blood puddle created at (826.83, 1225.293) (added to group)
[15:16:51] [INFO] [BloodDecal] Blood puddle created at (831.9031, 1207.996) (added to group)
[15:16:51] [INFO] [BloodDecal] Blood puddle created at (895.9114, 1209.972) (added to group)
[15:16:51] [INFO] [LastChance] Threat detected: @Area2D@2252
[15:16:51] [INFO] [LastChance] Not in hard mode - effect disabled
[15:16:51] [INFO] [LastChance] Cannot trigger effect - conditions not met
[15:16:51] [ENEMY] [GuardEnemy1] State: PURSUING -> RETREATING
[15:16:51] [ENEMY] [GuardEnemy3] State: PURSUING -> RETREATING
[15:16:51] [ENEMY] [GuardEnemy1] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=82.0°, current=171.4°, player=(489,1096), corner_timer=0.08
[15:16:51] [ENEMY] [GuardEnemy1] State: RETREATING -> IN_COVER
[15:16:51] [ENEMY] [GuardEnemy3] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=81.9°, current=171.5°, player=(489,1096), corner_timer=0.03
[15:16:51] [ENEMY] [GuardEnemy3] State: RETREATING -> IN_COVER
[15:16:51] [ENEMY] [PatrolEnemy1] SEARCHING corner check: angle 89.9°
[15:16:51] [ENEMY] [GuardEnemy5] Ragdoll activated
[15:16:51] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[15:16:51] [INFO] [BloodDecal] Blood puddle created at (2764.404, 1068.182) (added to group)
[15:16:51] [INFO] [BloodDecal] Blood puddle created at (894.7308, 1226.727) (added to group)
[15:16:51] [ENEMY] [GuardEnemy1] State: IN_COVER -> SUPPRESSED
[15:16:51] [ENEMY] [GuardEnemy3] State: IN_COVER -> SUPPRESSED
[15:16:51] [INFO] [BloodDecal] Blood puddle created at (2682.385, 1149.065) (added to group)
[15:16:51] [INFO] [BloodDecal] Blood puddle created at (865.7134, 1216.949) (added to group)
[15:16:51] [INFO] [Player] Hit blocked by invincibility mode (C#)
[15:16:51] [INFO] [Player] Spawning blood effect at (489.7351, 1096.8136), dir=(1, 0), lethal=False (C#)
[15:16:51] [INFO] [ImpactEffects] spawn_blood_effect called at (489.7351, 1096.814), dir=(1, 0), lethal=false
[15:16:51] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[15:16:51] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[15:16:51] [INFO] [ImpactEffects] Blood effect spawned at (489.7351, 1096.814) (scale=1)
[15:16:51] [INFO] [BloodDecal] Blood puddle created at (906.7914, 1139.335) (added to group)
[15:16:51] [ENEMY] [GuardEnemy6] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=112.1°, current=-161.6°, player=(489,1096), corner_timer=0.05
[15:16:51] [INFO] [BloodDecal] Blood puddle created at (2714.31, 1061.986) (added to group)
[15:16:51] [INFO] [BloodDecal] Blood puddle created at (2759.303, 1209.19) (added to group)
[15:16:51] [INFO] [BloodDecal] Blood puddle created at (957.6102, 1261.992) (added to group)
[15:16:51] [INFO] [BloodDecal] Blood puddle created at (2796.475, 1154.752) (added to group)
[15:16:51] [INFO] [BloodDecal] Blood puddle created at (2684.196, 1101.405) (added to group)
[15:16:51] [INFO] [BloodDecal] Blood puddle created at (926.6685, 1239.003) (added to group)
[15:16:51] [ENEMY] [GuardEnemy6] ROT_CHANGE: P3:corner -> P1:visible, state=RETREATING, target=-161.6°, current=-178.5°, player=(489,1096), corner_timer=0.05
[15:16:51] [INFO] [BloodDecal] Blood puddle created at (880.3976, 1316.492) (added to group)
[15:16:51] [INFO] [BloodDecal] Blood puddle created at (547.6229, 1116.446) (added to group)
[15:16:51] [INFO] [BloodDecal] Blood puddle created at (547.0449, 1142.295) (added to group)
[15:16:51] [INFO] [BloodDecal] Blood puddle created at (595.7282, 1085.736) (added to group)
[15:16:51] [INFO] [ReplayManager] Recording frame 2580 (41,2s): player_valid=False, enemies=10
[15:16:51] [ENEMY] [PatrolEnemy4] SEARCHING corner check: angle 93.8°
[15:16:51] [ENEMY] [PatrolEnemy1] SEARCHING corner check: angle 90.0°
[15:16:51] [INFO] [BloodDecal] Blood puddle created at (557.6863, 1131.6) (added to group)
[15:16:51] [ENEMY] [GuardEnemy6] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=112.1°, current=-161.5°, player=(489,1096), corner_timer=0.05
[15:16:51] [INFO] [BloodDecal] Blood puddle created at (581.8859, 1093.675) (added to group)
[15:16:51] [INFO] [BloodDecal] Blood puddle created at (587.658, 1107.672) (added to group)
[15:16:51] [INFO] [BloodDecal] Blood puddle created at (601.7454, 1168.079) (added to group)
[15:16:51] [INFO] [BloodDecal] Blood puddle created at (597.0449, 1158.783) (added to group)
[15:16:51] [INFO] [BloodDecal] Blood puddle created at (655.359, 1181.76) (added to group)
[15:16:51] [ENEMY] [PatrolEnemy1] SEARCHING: Stuck at wp 0, skipping
[15:16:51] [ENEMY] [GuardEnemy6] ROT_CHANGE: P3:corner -> P1:visible, state=RETREATING, target=-161.6°, current=-178.4°, player=(489,1096), corner_timer=0.05
[15:16:51] [INFO] [BloodDecal] Blood puddle created at (609.2379, 1185.621) (added to group)
[15:16:51] [INFO] [BloodDecal] Blood puddle created at (638.3594, 1171.379) (added to group)
[15:16:51] [INFO] [BloodDecal] Blood puddle created at (673.2692, 1177.486) (added to group)
[15:16:51] [INFO] [BloodDecal] Blood puddle created at (613.6735, 1108.586) (added to group)
[15:16:51] [INFO] [BloodDecal] Blood puddle created at (622.8712, 1217.519) (added to group)
[15:16:51] [INFO] [BloodDecal] Blood puddle created at (563.6553, 1143.47) (added to group)
[15:16:51] [INFO] [BloodDecal] Blood puddle created at (576.7061, 1193.342) (added to group)
[15:16:51] [ENEMY] [PatrolEnemy2] Death animation completed
[15:16:51] [INFO] [BloodDecal] Blood puddle created at (590.3233, 1209.304) (added to group)
[15:16:51] [ENEMY] [PatrolEnemy4] SEARCHING corner check: angle 93.5°
[15:16:51] [ENEMY] [GuardEnemy6] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=112.1°, current=-161.5°, player=(489,1096), corner_timer=0.05
[15:16:51] [ENEMY] [PatrolEnemy1] SEARCHING corner check: angle 106.3°
[15:16:51] [INFO] [BloodDecal] Blood puddle created at (658.5264, 1157.604) (added to group)
[15:16:51] [ENEMY] [GuardEnemy6] ROT_CHANGE: P3:corner -> P1:visible, state=RETREATING, target=-161.5°, current=-178.3°, player=(489,1096), corner_timer=0.05
[15:16:51] [ENEMY] [GuardEnemy2] Death animation completed
[15:16:52] [ENEMY] [GuardEnemy6] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=112.1°, current=-161.5°, player=(489,1096), corner_timer=0.05
[15:16:52] [ENEMY] [PatrolEnemy4] SEARCHING corner check: angle 93.2°
[15:16:52] [ENEMY] [GuardEnemy5] Death animation completed
[15:16:52] [ENEMY] [PatrolEnemy1] SEARCHING corner check: angle 99.2°
[15:16:52] [ENEMY] [GuardEnemy6] ROT_CHANGE: P3:corner -> P1:visible, state=RETREATING, target=-161.5°, current=-178.3°, player=(489,1096), corner_timer=0.05
[15:16:52] [ENEMY] [GuardEnemy6] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=112.1°, current=-161.5°, player=(489,1096), corner_timer=0.05
[15:16:52] [INFO] [ReplayManager] Recording frame 2640 (42,2s): player_valid=False, enemies=10
[15:16:52] [ENEMY] [PatrolEnemy4] SEARCHING corner check: angle 93.0°
[15:16:52] [ENEMY] [PatrolEnemy1] SEARCHING corner check: angle 95.1°
[15:16:52] [ENEMY] [GuardEnemy6] ROT_CHANGE: P3:corner -> P1:visible, state=RETREATING, target=-161.5°, current=-178.2°, player=(489,1096), corner_timer=0.05
[15:16:52] [ENEMY] [GuardEnemy6] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=112.1°, current=-161.5°, player=(489,1096), corner_timer=0.05
[15:16:52] [ENEMY] [PatrolEnemy4] SEARCHING corner check: angle 92.8°
[15:16:52] [ENEMY] [GuardEnemy6] ROT_CHANGE: P3:corner -> P1:visible, state=RETREATING, target=-161.5°, current=-178.2°, player=(489,1096), corner_timer=0.05
[15:16:52] [ENEMY] [PatrolEnemy1] SEARCHING corner check: angle 92.8°
[15:16:52] [ENEMY] [GuardEnemy6] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=112.1°, current=-161.5°, player=(489,1096), corner_timer=0.05
[15:16:53] [ENEMY] [GuardEnemy6] ROT_CHANGE: P3:corner -> P1:visible, state=RETREATING, target=-161.5°, current=-178.2°, player=(490,1096), corner_timer=0.05
[15:16:53] [ENEMY] [PatrolEnemy4] SEARCHING corner check: angle 92.5°
[15:16:53] [ENEMY] [PatrolEnemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=SEARCHING, target=-177.4°, current=-177.4°, player=(491,1096), corner_timer=0.30
[15:16:53] [ENEMY] [PatrolEnemy4] SEARCHING: Player spotted! Transitioning to COMBAT
[15:16:53] [ENEMY] [PatrolEnemy4] State: SEARCHING -> COMBAT
[15:16:53] [ENEMY] [PatrolEnemy1] SEARCHING corner check: angle 91.5°
[15:16:53] [ENEMY] [GuardEnemy6] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=112.1°, current=-160.8°, player=(502,1096), corner_timer=0.05
[15:16:53] [ENEMY] [GuardEnemy6] ROT_CHANGE: P3:corner -> P1:visible, state=RETREATING, target=-160.8°, current=-177.2°, player=(502,1096), corner_timer=0.05
[15:16:53] [INFO] [ReplayManager] Recording frame 2700 (43,2s): player_valid=False, enemies=10
[15:16:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(502.9573, 1096.814), source=PLAYER (SniperRifle), range=3000, listeners=5
[15:16:53] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=4
[15:16:53] [ENEMY] [GuardEnemy1] State: SUPPRESSED -> IN_COVER
[15:16:53] [ENEMY] [GuardEnemy3] State: SUPPRESSED -> IN_COVER
[15:16:53] [ENEMY] [GuardEnemy1] State: IN_COVER -> PURSUING
[15:16:53] [ENEMY] [GuardEnemy3] State: IN_COVER -> PURSUING
[15:16:53] [ENEMY] [PatrolEnemy1] SEARCHING corner check: angle 90.8°
[15:16:53] [ENEMY] [GuardEnemy1] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=171.3°, current=82.0°, player=(502,1096), corner_timer=0.08
[15:16:53] [ENEMY] [GuardEnemy3] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=171.4°, current=81.9°, player=(502,1096), corner_timer=0.03
[15:16:53] [ENEMY] [GuardEnemy6] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=112.1°, current=-160.8°, player=(502,1096), corner_timer=0.05
[15:16:53] [ENEMY] [GuardEnemy6] ROT_CHANGE: P3:corner -> P1:visible, state=RETREATING, target=-160.8°, current=-177.3°, player=(502,1096), corner_timer=0.05
[15:16:53] [ENEMY] [GuardEnemy1] State: PURSUING -> RETREATING
[15:16:53] [ENEMY] [GuardEnemy3] State: PURSUING -> RETREATING
[15:16:53] [ENEMY] [PatrolEnemy1] SEARCHING corner check: angle 90.5°
[15:16:53] [ENEMY] [GuardEnemy1] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=82.0°, current=139.3°, player=(502,1096), corner_timer=0.08
[15:16:53] [ENEMY] [GuardEnemy1] State: RETREATING -> IN_COVER
[15:16:53] [ENEMY] [GuardEnemy3] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=81.9°, current=139.2°, player=(502,1096), corner_timer=0.03
[15:16:53] [ENEMY] [GuardEnemy3] State: RETREATING -> IN_COVER
[15:16:53] [ENEMY] [GuardEnemy1] State: IN_COVER -> SUPPRESSED
[15:16:53] [ENEMY] [GuardEnemy3] State: IN_COVER -> SUPPRESSED
[15:16:53] [ENEMY] [GuardEnemy6] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=112.1°, current=-160.8°, player=(502,1096), corner_timer=0.05
[15:16:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1738.145, 1142.575), source=ENEMY (PatrolEnemy4), range=1469, listeners=5
[15:16:53] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=1, below_threshold=1
[15:16:54] [ENEMY] [GuardEnemy6] ROT_CHANGE: P3:corner -> P1:visible, state=RETREATING, target=-160.8°, current=-177.3°, player=(502,1096), corner_timer=0.05
[15:16:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1737.533, 1141.254), source=ENEMY (PatrolEnemy4), range=1469, listeners=5
[15:16:54] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=1, below_threshold=1
[15:16:54] [ENEMY] [PatrolEnemy4] State: COMBAT -> RETREATING
[15:16:54] [ENEMY] [PatrolEnemy1] SEARCHING corner check: angle 90.2°
[15:16:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1736.859, 1139.997), source=ENEMY (PatrolEnemy4), range=1469, listeners=5
[15:16:54] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=1, below_threshold=1
[15:16:54] [ENEMY] [GuardEnemy6] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=112.1°, current=-160.8°, player=(502,1096), corner_timer=0.05
[15:16:54] [ENEMY] [PatrolEnemy1] Hit taken, damage: 1, health: 2/3 -> 1/3
[15:16:54] [ENEMY] [PatrolEnemy1] ImpactEffectsManager found, calling spawn_blood_effect
[15:16:54] [INFO] [ImpactEffects] spawn_blood_effect called at (1740.066, 1156.846), dir=(1, 0), lethal=false
[15:16:54] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[15:16:54] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[15:16:54] [INFO] [ImpactEffects] Blood effect spawned at (1740.066, 1156.846) (scale=1)
[15:16:54] [ENEMY] [PatrolEnemy4] Hit taken, damage: 1, health: 3/3 -> 2/3
[15:16:54] [ENEMY] [PatrolEnemy4] ImpactEffectsManager found, calling spawn_blood_effect
[15:16:54] [INFO] [ImpactEffects] spawn_blood_effect called at (1740.7, 1150.363), dir=(1, 0), lethal=false
[15:16:54] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[15:16:54] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[15:16:54] [INFO] [ImpactEffects] Blood effect spawned at (1740.7, 1150.363) (scale=1)
[15:16:54] [ENEMY] [PatrolEnemy4] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=92.5°, current=-177.4°, player=(502,1096), corner_timer=0.30
[15:16:54] [ENEMY] [GuardEnemy6] ROT_CHANGE: P3:corner -> P1:visible, state=RETREATING, target=-160.8°, current=-177.2°, player=(502,1096), corner_timer=0.05
[15:16:54] [ENEMY] [PatrolEnemy4] State: RETREATING -> IN_COVER
[15:16:54] [ENEMY] [PatrolEnemy4] State: IN_COVER -> SUPPRESSED
[15:16:54] [INFO] [LastChance] Threat detected: Bullet
[15:16:54] [INFO] [LastChance] Not in hard mode - effect disabled
[15:16:54] [INFO] [LastChance] Cannot trigger effect - conditions not met
[15:16:54] [INFO] [Player] Hit blocked by invincibility mode (C#)
[15:16:54] [INFO] [Player] Spawning blood effect at (502.95734, 1096.8136), dir=(1, 0), lethal=False (C#)
[15:16:54] [INFO] [ImpactEffects] spawn_blood_effect called at (502.9573, 1096.814), dir=(1, 0), lethal=false
[15:16:54] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[15:16:54] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[15:16:54] [INFO] [ImpactEffects] Blood effect spawned at (502.9573, 1096.814) (scale=1)
[15:16:54] [INFO] [ReplayManager] Recording frame 2760 (44,2s): player_valid=False, enemies=10
[15:16:54] [INFO] [LastChance] Threat detected: @Area2D@2413
[15:16:54] [INFO] [LastChance] Not in hard mode - effect disabled
[15:16:54] [INFO] [LastChance] Cannot trigger effect - conditions not met
[15:16:54] [ENEMY] [GuardEnemy6] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=112.1°, current=-160.8°, player=(502,1096), corner_timer=0.05
[15:16:54] [ENEMY] [PatrolEnemy1] SEARCHING corner check: angle 90.1°
[15:16:54] [INFO] [BloodDecal] Blood puddle created at (1819.267, 1152.104) (added to group)
[15:16:54] [INFO] [BloodDecal] Blood puddle created at (1805.915, 1195.04) (added to group)
[15:16:54] [INFO] [BloodDecal] Blood puddle created at (1787.001, 1196.086) (added to group)
[15:16:54] [INFO] [Player] Hit blocked by invincibility mode (C#)
[15:16:54] [INFO] [Player] Spawning blood effect at (502.95734, 1096.8136), dir=(1, 0), lethal=False (C#)
[15:16:54] [INFO] [ImpactEffects] spawn_blood_effect called at (502.9573, 1096.814), dir=(1, 0), lethal=false
[15:16:54] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[15:16:54] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[15:16:54] [INFO] [ImpactEffects] Blood effect spawned at (502.9573, 1096.814) (scale=1)
[15:16:54] [INFO] [BloodDecal] Blood puddle created at (1828.767, 1133.197) (added to group)
[15:16:54] [INFO] [BloodDecal] Blood puddle created at (1851.839, 1206.868) (added to group)
[15:16:54] [INFO] [BloodDecal] Blood puddle created at (1856.072, 1192.157) (added to group)
[15:16:54] [ENEMY] [GuardEnemy6] ROT_CHANGE: P3:corner -> P1:visible, state=RETREATING, target=-160.8°, current=-177.2°, player=(502,1096), corner_timer=0.05
[15:16:54] [INFO] [BloodDecal] Blood puddle created at (1838.787, 1220.179) (added to group)
[15:16:54] [INFO] [BloodDecal] Blood puddle created at (1855.688, 1159.585) (added to group)
[15:16:54] [INFO] [BloodDecal] Blood puddle created at (558.4877, 1141.036) (added to group)
[15:16:54] [INFO] [BloodDecal] Blood puddle created at (1911.958, 1238.829) (added to group)
[15:16:54] [INFO] [BloodDecal] Blood puddle created at (1893.782, 1176.154) (added to group)
[15:16:54] [INFO] [BloodDecal] Blood puddle created at (1902.045, 1168.633) (added to group)
[15:16:54] [INFO] [BloodDecal] Blood puddle created at (1845.762, 1198.4) (added to group)
[15:16:54] [INFO] [BloodDecal] Blood puddle created at (1924.22, 1214.306) (added to group)
[15:16:54] [INFO] [BloodDecal] Blood puddle created at (562.1589, 1101.063) (added to group)
[15:16:54] [INFO] [BloodDecal] Blood puddle created at (1913.594, 1189.417) (added to group)
[15:16:54] [INFO] [BloodDecal] Blood puddle created at (620.4817, 1169.596) (added to group)
[15:16:54] [INFO] [BloodDecal] Blood puddle created at (568.0953, 1102.612) (added to group)
[15:16:54] [ENEMY] [GuardEnemy6] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=112.1°, current=-160.8°, player=(502,1096), corner_timer=0.05
[15:16:54] [INFO] [BloodDecal] Blood puddle created at (592.4781, 1093.504) (added to group)
[15:16:54] [INFO] [BloodDecal] Blood puddle created at (577.3498, 1145.168) (added to group)
[15:16:54] [ENEMY] [PatrolEnemy1] SEARCHING corner check: angle 90.1°
[15:16:54] [INFO] [BloodDecal] Blood puddle created at (1911.631, 1321.555) (added to group)
[15:16:54] [INFO] [BloodDecal] Blood puddle created at (609.3854, 1112.916) (added to group)
[15:16:54] [INFO] [BloodDecal] Blood puddle created at (558.525, 1098.308) (added to group)
[15:16:54] [INFO] [BloodDecal] Blood puddle created at (1918.103, 1213.25) (added to group)
[15:16:54] [INFO] [BloodDecal] Blood puddle created at (588.9766, 1130.5) (added to group)
[15:16:54] [INFO] [BloodDecal] Blood puddle created at (617.9504, 1201.282) (added to group)
[15:16:54] [INFO] [BloodDecal] Blood puddle created at (626.7959, 1165.267) (added to group)
[15:16:54] [INFO] [BloodDecal] Blood puddle created at (1961.136, 1269.486) (added to group)
[15:16:54] [INFO] [BloodDecal] Blood puddle created at (612.4, 1115.798) (added to group)
[15:16:54] [ENEMY] [GuardEnemy6] ROT_CHANGE: P3:corner -> P1:visible, state=RETREATING, target=-160.8°, current=-177.2°, player=(502,1096), corner_timer=0.05
[15:16:54] [INFO] [BloodDecal] Blood puddle created at (1849.154, 1247.644) (added to group)
[15:16:54] [INFO] [BloodDecal] Blood puddle created at (1944.996, 1353.054) (added to group)
[15:16:54] [INFO] [BloodDecal] Blood puddle created at (1903.558, 1218.014) (added to group)
[15:16:54] [INFO] [BloodDecal] Blood puddle created at (635.7556, 1079.665) (added to group)
[15:16:54] [INFO] [BloodDecal] Blood puddle created at (571.6335, 1154.717) (added to group)
[15:16:54] [INFO] [BloodDecal] Blood puddle created at (629.9881, 1204.465) (added to group)
[15:16:54] [INFO] [BloodDecal] Blood puddle created at (584.0843, 1139.688) (added to group)
[15:16:55] [INFO] [BloodDecal] Blood puddle created at (616.5665, 1130.421) (added to group)
[15:16:55] [ENEMY] [GuardEnemy6] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=112.1°, current=-160.8°, player=(502,1096), corner_timer=0.05
[15:16:55] [INFO] [BloodDecal] Blood puddle created at (627.6509, 1212.961) (added to group)
[15:16:55] [ENEMY] [PatrolEnemy1] SEARCHING corner check: angle 90.0°
[15:16:55] [ENEMY] [GuardEnemy6] ROT_CHANGE: P3:corner -> P1:visible, state=RETREATING, target=-160.8°, current=-177.2°, player=(502,1096), corner_timer=0.05
[15:16:55] [INFO] [BloodDecal] Blood puddle created at (646.9234, 1221.681) (added to group)
[15:16:55] [ENEMY] [GuardEnemy6] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=112.1°, current=-160.8°, player=(502,1096), corner_timer=0.05
[15:16:55] [INFO] [ReplayManager] Recording frame 2820 (45,2s): player_valid=False, enemies=10
[15:16:55] [ENEMY] [PatrolEnemy1] SEARCHING corner check: angle 90.0°
[15:16:55] [ENEMY] [GuardEnemy6] ROT_CHANGE: P3:corner -> P1:visible, state=RETREATING, target=-160.8°, current=-177.2°, player=(502,1096), corner_timer=0.05
[15:16:55] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[15:16:55] [ENEMY] [GuardEnemy6] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=112.1°, current=-160.6°, player=(506,1096), corner_timer=0.05
[15:16:55] [ENEMY] [PatrolEnemy1] SEARCHING: Stuck at wp 1, skipping
[15:16:55] [ENEMY] [GuardEnemy6] ROT_CHANGE: P3:corner -> P1:visible, state=RETREATING, target=-160.2°, current=-176.5°, player=(512,1096), corner_timer=0.05
[15:16:55] [ENEMY] [PatrolEnemy1] SEARCHING corner check: angle 90.0°
[15:16:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(512.124, 1096.814), source=PLAYER (SniperRifle), range=3000, listeners=5
[15:16:55] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=4
[15:16:55] [ENEMY] [GuardEnemy6] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=112.1°, current=-160.2°, player=(512,1096), corner_timer=0.05
[15:16:56] [ENEMY] [GuardEnemy6] ROT_CHANGE: P3:corner -> P1:visible, state=RETREATING, target=-160.1°, current=-113.2°, player=(512,1096), corner_timer=0.05
[15:16:56] [ENEMY] [GuardEnemy6] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=112.1°, current=72.8°, player=(512,1096), corner_timer=0.05
[15:16:56] [ENEMY] [GuardEnemy6] State: RETREATING -> IN_COVER
[15:16:56] [ENEMY] [GuardEnemy6] State: IN_COVER -> SUPPRESSED
[15:16:56] [ENEMY] [PatrolEnemy1] SEARCHING corner check: angle 90.0°
[15:16:56] [INFO] [ReplayManager] Recording frame 2880 (46,2s): player_valid=False, enemies=10
[15:16:56] [ENEMY] [PatrolEnemy1] SEARCHING corner check: angle 90.0°
[15:16:56] [ENEMY] [PatrolEnemy4] State: SUPPRESSED -> IN_COVER
[15:16:56] [ENEMY] [PatrolEnemy4] State: IN_COVER -> PURSUING
[15:16:56] [ENEMY] [PatrolEnemy4] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=-176.3°, current=92.5°, player=(512,1096), corner_timer=0.30
[15:16:56] [ENEMY] [PatrolEnemy1] SEARCHING corner check: angle 90.0°
[15:16:56] [ENEMY] [GuardEnemy6] State: SUPPRESSED -> IN_COVER
[15:16:56] [ENEMY] [GuardEnemy6] State: IN_COVER -> PURSUING
[15:16:56] [ENEMY] [GuardEnemy6] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=-155.5°, current=112.1°, player=(512,1096), corner_timer=0.05
[15:16:57] [ENEMY] [PatrolEnemy1] SEARCHING corner check: angle 90.0°
[15:16:57] [INFO] [ReplayManager] Recording frame 2940 (47,2s): player_valid=False, enemies=10
[15:16:57] [ENEMY] [PatrolEnemy1] SEARCHING corner check: angle 90.0°
[15:16:57] [ENEMY] [PatrolEnemy1] SEARCHING: Stuck at wp 2, skipping
[15:16:57] [ENEMY] [PatrolEnemy1] SEARCHING corner check: angle 35.4°
[15:16:58] [ENEMY] [PatrolEnemy1] SEARCHING corner check: angle 56.4°
[15:16:58] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=SEARCHING, target=-172.6°, current=-172.2°, player=(518,1096), corner_timer=0.23
[15:16:58] [ENEMY] [PatrolEnemy1] SEARCHING: Player spotted! Transitioning to COMBAT
[15:16:58] [ENEMY] [PatrolEnemy1] State: SEARCHING -> COMBAT
[15:16:58] [ENEMY] [PatrolEnemy4] FLANKING started: target=(629.0017, 930.4361), side=left, pos=(1742.556, 1176.149)
[15:16:58] [ENEMY] [PatrolEnemy4] State: PURSUING -> FLANKING
[15:16:58] [INFO] [ReplayManager] Recording frame 3000 (48,2s): player_valid=False, enemies=10
[15:16:58] [ENEMY] [GuardEnemy6] FLANKING started: target=(681.7021, 981.897), side=left, pos=(798.718, 1227.289)
[15:16:58] [ENEMY] [GuardEnemy6] State: PURSUING -> FLANKING
[15:16:58] [ENEMY] [GuardEnemy6] FLANKING corner check: angle 154.7°
[15:16:58] [ENEMY] [PatrolEnemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=-177.4°, current=-177.4°, player=(518,1096), corner_timer=0.02
[15:16:58] [ENEMY] [PatrolEnemy4] State: FLANKING -> COMBAT
[15:16:58] [ENEMY] [GuardEnemy1] State: SUPPRESSED -> IN_COVER
[15:16:58] [ENEMY] [GuardEnemy3] State: SUPPRESSED -> IN_COVER
[15:16:58] [ENEMY] [GuardEnemy1] State: IN_COVER -> PURSUING
[15:16:58] [ENEMY] [GuardEnemy3] State: IN_COVER -> PURSUING
[15:16:58] [ENEMY] [GuardEnemy1] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=171.2°, current=82.0°, player=(518,1096), corner_timer=0.08
[15:16:58] [ENEMY] [GuardEnemy3] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=171.3°, current=81.9°, player=(518,1096), corner_timer=0.03
[15:16:58] [ENEMY] [GuardEnemy6] FLANKING corner check: angle 173.2°
[15:16:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1738.57, 1256.381), source=ENEMY (PatrolEnemy1), range=1469, listeners=5
[15:16:59] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=3
[15:16:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1738.609, 1256.278), source=ENEMY (PatrolEnemy1), range=1469, listeners=5
[15:16:59] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=3
[15:16:59] [ENEMY] [GuardEnemy6] FLANKING corner check: angle 138.4°
[15:16:59] [ENEMY] [GuardEnemy6] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=163.5°, current=-147.3°, player=(518,1096), corner_timer=0.28
[15:16:59] [ENEMY] [GuardEnemy6] State: FLANKING -> COMBAT
[15:16:59] [ENEMY] [PatrolEnemy1] State: COMBAT -> RETREATING
[15:16:59] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=56.4°, current=-172.7°, player=(518,1096), corner_timer=0.23
[15:16:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1739.959, 1250.95), source=ENEMY (PatrolEnemy1), range=1469, listeners=5
[15:16:59] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=3
[15:16:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1737.635, 1141.458), source=ENEMY (PatrolEnemy4), range=1469, listeners=5
[15:16:59] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=1, below_threshold=1
[15:16:59] [INFO] [ReplayManager] Recording frame 3060 (49,2s): player_valid=False, enemies=10
[15:16:59] [ENEMY] [PatrolEnemy1] State: RETREATING -> IN_COVER
[15:16:59] [ENEMY] [PatrolEnemy1] State: IN_COVER -> SUPPRESSED
[15:16:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1736.964, 1140.181), source=ENEMY (PatrolEnemy4), range=1469, listeners=5
[15:16:59] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=1, below_threshold=1
[15:16:59] [INFO] [LastChance] Threat detected: Bullet
[15:16:59] [INFO] [LastChance] Not in hard mode - effect disabled
[15:16:59] [INFO] [LastChance] Cannot trigger effect - conditions not met
[15:16:59] [INFO] [Player] Hit blocked by invincibility mode (C#)
[15:16:59] [INFO] [Player] Spawning blood effect at (518.0129, 1096.8136), dir=(1, 0), lethal=False (C#)
[15:16:59] [INFO] [ImpactEffects] spawn_blood_effect called at (518.0129, 1096.814), dir=(1, 0), lethal=false
[15:16:59] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[15:16:59] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[15:16:59] [INFO] [ImpactEffects] Blood effect spawned at (518.0129, 1096.814) (scale=1)
[15:16:59] [ENEMY] [PatrolEnemy4] State: COMBAT -> RETREATING
[15:16:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1736.238, 1138.977), source=ENEMY (PatrolEnemy4), range=1469, listeners=5
[15:16:59] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=1, below_threshold=1
[15:16:59] [INFO] [LastChance] Threat detected: @Area2D@2465
[15:16:59] [INFO] [LastChance] Not in hard mode - effect disabled
[15:16:59] [INFO] [LastChance] Cannot trigger effect - conditions not met
[15:16:59] [ENEMY] [PatrolEnemy4] Hit taken, damage: 1, health: 2/3 -> 1/3
[15:16:59] [ENEMY] [PatrolEnemy4] ImpactEffectsManager found, calling spawn_blood_effect
[15:16:59] [INFO] [ImpactEffects] spawn_blood_effect called at (1740.355, 1149.188), dir=(1, 0), lethal=false
[15:16:59] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[15:16:59] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[15:16:59] [INFO] [ImpactEffects] Blood effect spawned at (1740.355, 1149.188) (scale=1)
[15:16:59] [INFO] [Player] Hit blocked by invincibility mode (C#)
[15:16:59] [INFO] [Player] Spawning blood effect at (518.0129, 1096.8136), dir=(1, 0), lethal=False (C#)
[15:16:59] [INFO] [ImpactEffects] spawn_blood_effect called at (518.0129, 1096.814), dir=(1, 0), lethal=false
[15:16:59] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[15:16:59] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[15:16:59] [INFO] [ImpactEffects] Blood effect spawned at (518.0129, 1096.814) (scale=1)
[15:16:59] [ENEMY] [GuardEnemy6] State: COMBAT -> RETREATING
[15:16:59] [ENEMY] [PatrolEnemy4] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=92.5°, current=-177.2°, player=(518,1096), corner_timer=0.02
[15:16:59] [ENEMY] [PatrolEnemy4] State: RETREATING -> IN_COVER
[15:16:59] [ENEMY] [PatrolEnemy4] State: IN_COVER -> SUPPRESSED
[15:16:59] [INFO] [LastChance] Threat detected: @Area2D@2480
[15:16:59] [INFO] [LastChance] Not in hard mode - effect disabled
[15:16:59] [INFO] [LastChance] Cannot trigger effect - conditions not met
[15:16:59] [INFO] [Player] Hit blocked by invincibility mode (C#)
[15:16:59] [INFO] [Player] Spawning blood effect at (518.0129, 1096.8136), dir=(1, 0), lethal=False (C#)
[15:16:59] [INFO] [ImpactEffects] spawn_blood_effect called at (518.0129, 1096.814), dir=(1, 0), lethal=false
[15:16:59] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[15:16:59] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[15:16:59] [INFO] [ImpactEffects] Blood effect spawned at (518.0129, 1096.814) (scale=1)
[15:16:59] [INFO] [BloodDecal] Blood puddle created at (609.6907, 1129.271) (added to group)
[15:16:59] [INFO] [BloodDecal] Blood puddle created at (1780.021, 1180.831) (added to group)
[15:16:59] [INFO] [BloodDecal] Blood puddle created at (1795.71, 1138.156) (added to group)
[15:16:59] [INFO] [LastChance] Threat detected: @Area2D@2493
[15:16:59] [INFO] [LastChance] Not in hard mode - effect disabled
[15:16:59] [INFO] [LastChance] Cannot trigger effect - conditions not met
[15:16:59] [INFO] [BloodDecal] Blood puddle created at (604.6383, 1172.57) (added to group)
[15:16:59] [INFO] [BloodDecal] Blood puddle created at (564.072, 1132.186) (added to group)
[15:16:59] [INFO] [BloodDecal] Blood puddle created at (617.3994, 1172.241) (added to group)
[15:16:59] [INFO] [BloodDecal] Blood puddle created at (577.2307, 1136.539) (added to group)
[15:16:59] [INFO] [Player] Hit blocked by invincibility mode (C#)
[15:16:59] [INFO] [Player] Spawning blood effect at (518.0129, 1096.8136), dir=(1, 0), lethal=False (C#)
[15:16:59] [INFO] [ImpactEffects] spawn_blood_effect called at (518.0129, 1096.814), dir=(1, 0), lethal=false
[15:16:59] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[15:16:59] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[15:16:59] [INFO] [ImpactEffects] Blood effect spawned at (518.0129, 1096.814) (scale=1)
[15:16:59] [INFO] [BloodDecal] Blood puddle created at (1790.664, 1154.7) (added to group)
[15:16:59] [INFO] [BloodDecal] Blood puddle created at (575.5107, 1092.15) (added to group)
[15:16:59] [INFO] [BloodDecal] Blood puddle created at (598.4825, 1143.41) (added to group)
[15:17:00] [INFO] [BloodDecal] Blood puddle created at (1801.998, 1166.203) (added to group)
[15:17:00] [INFO] [BloodDecal] Blood puddle created at (603.2273, 1154.016) (added to group)
[15:17:00] [INFO] [BloodDecal] Blood puddle created at (684.6394, 1161.641) (added to group)
[15:17:00] [INFO] [BloodDecal] Blood puddle created at (612.7091, 1112.163) (added to group)
[15:17:00] [INFO] [BloodDecal] Blood puddle created at (1844.437, 1235.78) (added to group)
[15:17:00] [INFO] [BloodDecal] Blood puddle created at (582.6141, 1137.591) (added to group)
[15:17:00] [INFO] [BloodDecal] Blood puddle created at (592.8284, 1136.351) (added to group)
[15:17:00] [INFO] [BloodDecal] Blood puddle created at (604.2062, 1136.71) (added to group)
[15:17:00] [INFO] [BloodDecal] Blood puddle created at (559.6703, 1119.859) (added to group)
[15:17:00] [INFO] [BloodDecal] Blood puddle created at (679.801, 1164.439) (added to group)
[15:17:00] [INFO] [BloodDecal] Blood puddle created at (603.4928, 1075.411) (added to group)
[15:17:00] [INFO] [BloodDecal] Blood puddle created at (692.5975, 1107.195) (added to group)
[15:17:00] [INFO] [BloodDecal] Blood puddle created at (1921.286, 1184.913) (added to group)
[15:17:00] [INFO] [BloodDecal] Blood puddle created at (1823.853, 1173.089) (added to group)
[15:17:00] [INFO] [BloodDecal] Blood puddle created at (573.0591, 1120.235) (added to group)
[15:17:00] [INFO] [BloodDecal] Blood puddle created at (570.7464, 1133.38) (added to group)
[15:17:00] [ENEMY] [GuardEnemy1] Warning: No valid flank position (both sides behind walls)
[15:17:00] [ENEMY] [GuardEnemy1] FLANKING started: target=(590.3956, 910.3713), side=left, pos=(2104.385, 851.7341)
[15:17:00] [ENEMY] [GuardEnemy1] State: PURSUING -> FLANKING
[15:17:00] [ENEMY] [GuardEnemy3] FLANKING started: target=(642.9713, 1252.972), side=right, pos=(2104.068, 855.0507)
[15:17:00] [ENEMY] [GuardEnemy3] State: PURSUING -> FLANKING
[15:17:00] [INFO] [BloodDecal] Blood puddle created at (602.5281, 1096.757) (added to group)
[15:17:00] [INFO] [BloodDecal] Blood puddle created at (740.7483, 1144.929) (added to group)
[15:17:00] [ENEMY] [GuardEnemy3] FLANKING corner check: angle 75.0°
[15:17:00] [INFO] [BloodDecal] Blood puddle created at (678.6683, 1265.721) (added to group)
[15:17:00] [INFO] [BloodDecal] Blood puddle created at (671.9041, 1130.699) (added to group)
[15:17:00] [INFO] [BloodDecal] Blood puddle created at (594.3408, 1117.461) (added to group)
[15:17:00] [ENEMY] [GuardEnemy1] FLANKING corner check: angle 86.3°
[15:17:00] [INFO] [BloodDecal] Blood puddle created at (629.5527, 1109.291) (added to group)
[15:17:00] [INFO] [BloodDecal] Blood puddle created at (609.7628, 1120.361) (added to group)
[15:17:00] [INFO] [BloodDecal] Blood puddle created at (605.0445, 1093.075) (added to group)
[15:17:00] [INFO] [BloodDecal] Blood puddle created at (646.2169, 1125.253) (added to group)
[15:17:00] [INFO] [BloodDecal] Blood puddle created at (1865.297, 1256.468) (added to group)
[15:17:00] [INFO] [BloodDecal] Blood puddle created at (1965.706, 1271.621) (added to group)
[15:17:00] [INFO] [BloodDecal] Blood puddle created at (647.0839, 1223.97) (added to group)
[15:17:00] [INFO] [BloodDecal] Blood puddle created at (646.494, 1074.262) (added to group)
[15:17:00] [INFO] [BloodDecal] Blood puddle created at (582.0563, 1130.066) (added to group)
[15:17:00] [INFO] [ReplayManager] Recording frame 3120 (50,2s): player_valid=False, enemies=10
[15:17:00] [ENEMY] [GuardEnemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=172.1°, current=172.1°, player=(518,1096), corner_timer=0.15
[15:17:00] [ENEMY] [GuardEnemy3] State: FLANKING -> COMBAT
[15:17:00] [INFO] [BloodDecal] Blood puddle created at (678.0456, 1180.758) (added to group)
[15:17:00] [INFO] [BloodDecal] Blood puddle created at (615.2485, 1155.135) (added to group)
[15:17:00] [ENEMY] [GuardEnemy1] FLANKING corner check: angle 86.7°
[15:17:00] [INFO] [BloodDecal] Blood puddle created at (733.3274, 1157.073) (added to group)
[15:17:00] [INFO] [BloodDecal] Blood puddle created at (721.1736, 1113.656) (added to group)
[15:17:00] [ENEMY] [GuardEnemy1] FLANKING corner check: angle 86.7°
[15:17:01] [ENEMY] [GuardEnemy1] FLANKING corner check: angle 86.6°
[15:17:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1986.707, 904.0652), source=ENEMY (GuardEnemy3), range=1469, listeners=5
[15:17:01] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=1, below_threshold=1
[15:17:01] [INFO] [ReplayManager] Recording frame 3180 (51,2s): player_valid=False, enemies=10
[15:17:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1950.684, 904.0653), source=ENEMY (GuardEnemy3), range=1469, listeners=5
[15:17:01] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=1, below_threshold=1
[15:17:01] [ENEMY] [GuardEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=172.1°, current=172.1°, player=(504,1099), corner_timer=0.10
[15:17:01] [ENEMY] [GuardEnemy1] State: FLANKING -> COMBAT
[15:17:01] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1920.8281, 921.0966), shooter_id=614398431087, bullet_pos=(1466.8593, 984.19354)
[15:17:01] [INFO] [Bullet] Using shooter_position, distance=458,3328
[15:17:01] [INFO] [Bullet] Distance to wall: 458,3328 (31,208723% of viewport)
[15:17:01] [INFO] [Bullet] Within ricochet range - trying ricochet first
[15:17:01] [ENEMY] [GuardEnemy3] State: COMBAT -> RETREATING
[15:17:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1914.679, 904.0652), source=ENEMY (GuardEnemy3), range=1469, listeners=5
[15:17:01] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=1, below_threshold=1
[15:17:01] [ENEMY] [GuardEnemy3] Hit taken, damage: 1, health: 3/3 -> 2/3
[15:17:01] [ENEMY] [GuardEnemy3] ImpactEffectsManager found, calling spawn_blood_effect
[15:17:01] [INFO] [ImpactEffects] spawn_blood_effect called at (1924.815, 908.7881), dir=(1, 0), lethal=false
[15:17:01] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[15:17:01] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[15:17:01] [INFO] [ImpactEffects] Blood effect spawned at (1924.815, 908.7881) (scale=1)
[15:17:01] [INFO] [BloodDecal] Blood puddle created at (1998.517, 904.987) (added to group)
[15:17:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1920.54, 914.7859), source=ENEMY (GuardEnemy3), range=1469, listeners=5
[15:17:01] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=1, below_threshold=1
[15:17:01] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1920.8281, 921.0966), shooter_id=614398431087, bullet_pos=(563.2295, 782.6477)
[15:17:01] [INFO] [Bullet] Using shooter_position, distance=1364,6399
[15:17:01] [INFO] [Bullet] Distance to wall: 1364,6399 (92,92084% of viewport)
[15:17:01] [INFO] [LastChance] Threat detected: @Area2D@2572
[15:17:01] [INFO] [LastChance] Not in hard mode - effect disabled
[15:17:01] [INFO] [LastChance] Cannot trigger effect - conditions not met
[15:17:01] [ENEMY] [GuardEnemy3] Hit taken, damage: 1, health: 2/3 -> 1/3
[15:17:01] [ENEMY] [GuardEnemy3] ImpactEffectsManager found, calling spawn_blood_effect
[15:17:01] [INFO] [ImpactEffects] spawn_blood_effect called at (1931.738, 914.9919), dir=(1, 0), lethal=false
[15:17:01] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[15:17:01] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[15:17:01] [INFO] [ImpactEffects] Blood effect spawned at (1931.738, 914.9919) (scale=1)
[15:17:01] [INFO] [BloodDecal] Blood puddle created at (2000.293, 945.3391) (added to group)
[15:17:02] [INFO] [Player] Hit blocked by invincibility mode (C#)
[15:17:02] [INFO] [Player] Spawning blood effect at (518.0129, 1096.8136), dir=(1, 0), lethal=False (C#)
[15:17:02] [INFO] [ImpactEffects] spawn_blood_effect called at (518.0129, 1096.814), dir=(1, 0), lethal=false
[15:17:02] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[15:17:02] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[15:17:02] [INFO] [ImpactEffects] Blood effect spawned at (518.0129, 1096.814) (scale=1)
[15:17:02] [INFO] [BloodDecal] Blood puddle created at (2016.119, 983.5042) (added to group)
[15:17:02] [INFO] [BloodDecal] Blood puddle created at (2002.904, 934.8161) (added to group)
[15:17:02] [INFO] [BloodDecal] Blood puddle created at (2063.021, 945.088) (added to group)
[15:17:02] [INFO] [BloodDecal] Blood puddle created at (2003.791, 998.3611) (added to group)
[15:17:02] [INFO] [BloodDecal] Blood puddle created at (1994.359, 928.5657) (added to group)
[15:17:02] [INFO] [BloodDecal] Blood puddle created at (2079.893, 980.906) (added to group)
[15:17:02] [INFO] [BloodyFeet:GuardEnemy3] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[15:17:02] [ENEMY] [PatrolEnemy1] State: SUPPRESSED -> IN_COVER
[15:17:02] [ENEMY] [PatrolEnemy4] State: SUPPRESSED -> IN_COVER
[15:17:02] [ENEMY] [PatrolEnemy1] State: IN_COVER -> PURSUING
[15:17:02] [ENEMY] [PatrolEnemy4] State: IN_COVER -> PURSUING
[15:17:02] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=-173.5°, current=56.4°, player=(518,1096), corner_timer=0.23
[15:17:02] [ENEMY] [PatrolEnemy4] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=-176.4°, current=92.5°, player=(518,1096), corner_timer=0.02
[15:17:02] [INFO] [BloodDecal] Blood puddle created at (2122.379, 935.2712) (added to group)
[15:17:02] [INFO] [BloodDecal] Blood puddle created at (1993.022, 915.4377) (added to group)
[15:17:02] [INFO] [BloodDecal] Blood puddle created at (578.1599, 1099.852) (added to group)
[15:17:02] [INFO] [BloodDecal] Blood puddle created at (605.6087, 1121.208) (added to group)
[15:17:02] [INFO] [BloodDecal] Blood puddle created at (2048.315, 1048.208) (added to group)
[15:17:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2028.24, 904.0649), source=ENEMY (GuardEnemy1), range=1469, listeners=5
[15:17:02] [ENEMY] [GuardEnemy3] Heard gunshot at (2028.24, 904.0649), source_type=1, intensity=1.00, distance=22
[15:17:02] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=1, below_threshold=1
[15:17:02] [ENEMY] [GuardEnemy3] State: COMBAT -> RETREATING
[15:17:02] [INFO] [BloodyFeet:GuardEnemy1] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[15:17:02] [INFO] [BloodDecal] Blood puddle created at (593.5724, 1099.498) (added to group)
[15:17:02] [INFO] [BloodDecal] Blood puddle created at (2071.297, 945.6064) (added to group)
[15:17:02] [INFO] [BloodDecal] Blood puddle created at (2049.066, 1011.027) (added to group)
[15:17:02] [INFO] [BloodDecal] Blood puddle created at (635.1241, 1149.929) (added to group)
[15:17:02] [INFO] [ReplayManager] Recording frame 3240 (52,2s): player_valid=False, enemies=10
[15:17:02] [INFO] [BloodDecal] Blood puddle created at (2038.868, 959.1309) (added to group)
[15:17:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1992.327, 904.0651), source=ENEMY (GuardEnemy1), range=1469, listeners=5
[15:17:02] [ENEMY] [GuardEnemy3] Heard gunshot at (1992.327, 904.0651), source_type=1, intensity=1.00, distance=46
[15:17:02] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=1, below_threshold=1
[15:17:02] [ENEMY] [GuardEnemy3] State: COMBAT -> RETREATING
[15:17:02] [INFO] [BloodDecal] Blood puddle created at (2077.022, 966.9415) (added to group)
[15:17:02] [INFO] [BloodDecal] Blood puddle created at (650.6908, 1163.498) (added to group)
[15:17:02] [INFO] [BloodDecal] Blood puddle created at (2032.346, 967.5227) (added to group)
[15:17:02] [INFO] [BloodDecal] Blood puddle created at (637.6928, 1162.874) (added to group)
[15:17:02] [INFO] [BloodDecal] Blood puddle created at (2044.348, 1027.097) (added to group)
[15:17:02] [INFO] [BloodDecal] Blood puddle created at (635.5663, 1192.422) (added to group)
[15:17:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1962.175, 920.36), shooter_id=613693785590, bullet_pos=(1466.198, 983.661)
[15:17:02] [INFO] [Bullet] Using shooter_position, distance=500,00024
[15:17:02] [INFO] [Bullet] Distance to wall: 500,00024 (34,045937% of viewport)
[15:17:02] [INFO] [Bullet] Within ricochet range - trying ricochet first
[15:17:02] [ENEMY] [GuardEnemy1] State: COMBAT -> RETREATING
[15:17:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1956.382, 904.0651), source=ENEMY (GuardEnemy1), range=1469, listeners=5
[15:17:02] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=1, below_threshold=1
[15:17:02] [INFO] [BloodDecal] Blood puddle created at (2116.772, 937.4467) (added to group)
[15:17:02] [ENEMY] [GuardEnemy3] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=75.0°, current=173.4°, player=(518,1096), corner_timer=0.15
[15:17:02] [ENEMY] [GuardEnemy1] Hit taken, damage: 1, health: 4/4 -> 3/4
[15:17:02] [ENEMY] [GuardEnemy1] ImpactEffectsManager found, calling spawn_blood_effect
[15:17:02] [INFO] [ImpactEffects] spawn_blood_effect called at (1965.951, 909.8944), dir=(1, 0), lethal=false
[15:17:02] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[15:17:02] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[15:17:02] [INFO] [ImpactEffects] Blood effect spawned at (1965.951, 909.8944) (scale=1)
[15:17:02] [INFO] [BloodDecal] Blood puddle created at (2077.92, 990.6664) (added to group)
[15:17:02] [INFO] [BloodDecal] Blood puddle created at (657.14, 1142.925) (added to group)
[15:17:02] [INFO] [BloodDecal] Blood puddle created at (2043.235, 1073.008) (added to group)
[15:17:02] [INFO] [BloodDecal] Blood puddle created at (672.7573, 1276.729) (added to group)
[15:17:02] [INFO] [BloodDecal] Blood puddle created at (646.0073, 1152.292) (added to group)
[15:17:02] [ENEMY] [GuardEnemy3] ROT_CHANGE: P3:corner -> P1:visible, state=RETREATING, target=173.3°, current=-171.1°, player=(518,1096), corner_timer=0.15
[15:17:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2094.864, 910.3859), source=ENEMY (GuardEnemy3), range=1469, listeners=5
[15:17:02] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=1, below_threshold=1
[15:17:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2094.398, 899.7318), source=ENEMY (GuardEnemy3), range=1469, listeners=5
[15:17:02] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=1, below_threshold=1
[15:17:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1961.426, 904.0662), source=ENEMY (GuardEnemy1), range=1469, listeners=5
[15:17:02] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=1, below_threshold=1
[15:17:02] [ENEMY] [GuardEnemy3] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=75.0°, current=-135.3°, player=(518,1096), corner_timer=0.15
[15:17:02] [ENEMY] [GuardEnemy3] Hit taken, damage: 1, health: 1/3 -> 0/3
[15:17:02] [ENEMY] [GuardEnemy3] ImpactEffectsManager found, calling spawn_blood_effect
[15:17:02] [INFO] [ImpactEffects] spawn_blood_effect called at (2100.445, 893.2055), dir=(1, 0), lethal=true
[15:17:02] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[15:17:02] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[15:17:02] [INFO] [ImpactEffects] Blood effect spawned at (2100.445, 893.2055) (scale=1.5)
[15:17:02] [ENEMY] [GuardEnemy3] Enemy died (ricochet: false, penetration: false)
[15:17:02] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[15:17:02] [INFO] [PowerFantasy] Starting power fantasy effect:
[15:17:02] [INFO] [PowerFantasy]   - Time scale: 0.10
[15:17:02] [INFO] [PowerFantasy]   - Duration: 300ms
[15:17:02] [ENEMY] [GuardEnemy3] [AllyDeath] Notified 3 enemies
[15:17:02] [INFO] [SoundPropagation] Unregistered listener: GuardEnemy3 (remaining: 4)
[15:17:02] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[15:17:02] [ENEMY] [GuardEnemy3] Death animation started with hit direction: (1, 0)
[15:17:02] [ENEMY] [GuardEnemy1] Hit taken, damage: 1, health: 3/4 -> 2/4
[15:17:02] [ENEMY] [GuardEnemy1] ImpactEffectsManager found, calling spawn_blood_effect
[15:17:02] [INFO] [ImpactEffects] spawn_blood_effect called at (1955.709, 908.8782), dir=(1, 0), lethal=false
[15:17:02] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[15:17:02] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[15:17:02] [INFO] [ImpactEffects] Blood effect spawned at (1955.709, 908.8782) (scale=1)
[15:17:03] [INFO] [BloodDecal] Blood puddle created at (2032.277, 895.3345) (added to group)
[15:17:03] [INFO] [PowerFantasy] Effect duration expired after 302.00 ms
[15:17:03] [INFO] [PowerFantasy] Ending power fantasy effect
[15:17:03] [INFO] [BloodDecal] Blood puddle created at (2031.458, 915.5649) (added to group)
[15:17:03] [INFO] [BloodDecal] Blood puddle created at (2042.272, 930.4375) (added to group)
[15:17:03] [INFO] [LastChance] Threat detected: @Area2D@2601
[15:17:03] [INFO] [LastChance] Not in hard mode - effect disabled
[15:17:03] [INFO] [LastChance] Cannot trigger effect - conditions not met
[15:17:03] [INFO] [Player] Hit blocked by invincibility mode (C#)
[15:17:03] [INFO] [Player] Spawning blood effect at (518.0129, 1096.8136), dir=(1, 0), lethal=False (C#)
[15:17:03] [INFO] [ImpactEffects] spawn_blood_effect called at (518.0129, 1096.814), dir=(1, 0), lethal=false
[15:17:03] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[15:17:03] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[15:17:03] [INFO] [ImpactEffects] Blood effect spawned at (518.0129, 1096.814) (scale=1)
[15:17:03] [INFO] [BloodDecal] Blood puddle created at (2078.002, 947.6324) (added to group)
[15:17:03] [INFO] [BloodDecal] Blood puddle created at (2109.326, 928.6724) (added to group)
[15:17:03] [INFO] [BloodDecal] Blood puddle created at (2049.286, 918.1207) (added to group)
[15:17:03] [INFO] [BloodDecal] Blood puddle created at (2061.888, 947.186) (added to group)
[15:17:03] [INFO] [BloodDecal] Blood puddle created at (2144.922, 890.8105) (added to group)
[15:17:03] [INFO] [BloodDecal] Blood puddle created at (2140.83, 893.0226) (added to group)
[15:17:03] [INFO] [BloodDecal] Blood puddle created at (2154.948, 900.8335) (added to group)
[15:17:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1920.422, 909.4458), source=ENEMY (GuardEnemy1), range=1469, listeners=4
[15:17:03] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=1, below_threshold=1
[15:17:03] [INFO] [BloodDecal] Blood puddle created at (2133.95, 1018.062) (added to group)
[15:17:03] [INFO] [BloodDecal] Blood puddle created at (2157.782, 921.1287) (added to group)
[15:17:03] [INFO] [ReplayManager] Recording frame 3300 (52,9s): player_valid=False, enemies=10
[15:17:03] [INFO] [BloodDecal] Blood puddle created at (2030.797, 956.9299) (added to group)
[15:17:03] [INFO] [BloodDecal] Blood puddle created at (2134.072, 975.1741) (added to group)
[15:17:03] [ENEMY] [GuardEnemy1] Hit taken, damage: 1, health: 2/4 -> 1/4
[15:17:03] [ENEMY] [GuardEnemy1] ImpactEffectsManager found, calling spawn_blood_effect
[15:17:03] [INFO] [ImpactEffects] spawn_blood_effect called at (1931.586, 910.3401), dir=(1, 0), lethal=false
[15:17:03] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[15:17:03] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[15:17:03] [INFO] [ImpactEffects] Blood effect spawned at (1931.586, 910.3401) (scale=1)
[15:17:03] [INFO] [BloodDecal] Blood puddle created at (2213.382, 919.8292) (added to group)
[15:17:03] [INFO] [BloodDecal] Blood puddle created at (2059.015, 939.1135) (added to group)
[15:17:03] [INFO] [BloodDecal] Blood puddle created at (2080.82, 918.8267) (added to group)
[15:17:03] [INFO] [BloodDecal] Blood puddle created at (2183.371, 1038.916) (added to group)
[15:17:03] [INFO] [BloodDecal] Blood puddle created at (2239.19, 939.6282) (added to group)
[15:17:03] [INFO] [BloodDecal] Blood puddle created at (569.2128, 1096.435) (added to group)
[15:17:03] [INFO] [BloodDecal] Blood puddle created at (2223.087, 936.9913) (added to group)
[15:17:03] [INFO] [BloodDecal] Blood puddle created at (2194.524, 954.4834) (added to group)
[15:17:03] [INFO] [BloodDecal] Blood puddle created at (2018.942, 935.1736) (added to group)
[15:17:03] [INFO] [BloodDecal] Blood puddle created at (613.4213, 1121.739) (added to group)
[15:17:03] [INFO] [BloodDecal] Blood puddle created at (2258.823, 944.7913) (added to group)
[15:17:03] [INFO] [BloodDecal] Blood puddle created at (597.7116, 1134.503) (added to group)
[15:17:03] [INFO] [BloodDecal] Blood puddle created at (2225.646, 896.8676) (added to group)
[15:17:03] [INFO] [BloodDecal] Blood puddle created at (2193.91, 928.7426) (added to group)
[15:17:03] [ENEMY] [GuardEnemy3] Ragdoll activated
[15:17:03] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[15:17:03] [INFO] [BloodDecal] Blood puddle created at (2199.517, 948.7143) (added to group)
[15:17:03] [INFO] [BloodDecal] Blood puddle created at (2178.246, 980.3396) (added to group)
[15:17:03] [INFO] [BloodDecal] Blood puddle created at (624.1021, 1095.19) (added to group)
[15:17:03] [INFO] [BloodDecal] Blood puddle created at (2240.065, 986.452) (added to group)
[15:17:03] [INFO] [BloodDecal] Blood puddle created at (2250.296, 979.7639) (added to group)
[15:17:03] [INFO] [BloodDecal] Blood puddle created at (2106.126, 962.0494) (added to group)
[15:17:03] [INFO] [BloodDecal] Blood puddle created at (2052.821, 1022.831) (added to group)
[15:17:03] [INFO] [BloodDecal] Blood puddle created at (2099.723, 1064.226) (added to group)
[15:17:03] [INFO] [BloodDecal] Blood puddle created at (1989.995, 899.4935) (added to group)
[15:17:03] [INFO] [BloodDecal] Blood puddle created at (2292.549, 887.4787) (added to group)
[15:17:03] [INFO] [BloodDecal] Blood puddle created at (660.4635, 1110.914) (added to group)
[15:17:03] [INFO] [BloodDecal] Blood puddle created at (2246.205, 915.0787) (added to group)
[15:17:03] [INFO] [BloodDecal] Blood puddle created at (609.999, 1197.952) (added to group)
[15:17:03] [INFO] [BloodDecal] Blood puddle created at (2150.08, 927.4474) (added to group)
[15:17:03] [INFO] [BloodDecal] Blood puddle created at (2161.075, 974.1607) (added to group)
[15:17:03] [INFO] [BloodDecal] Blood puddle created at (2021.291, 946.992) (added to group)
[15:17:03] [INFO] [BloodDecal] Blood puddle created at (2307.173, 1032.478) (added to group)
[15:17:03] [INFO] [BloodDecal] Blood puddle created at (2246.095, 1030.514) (added to group)
[15:17:03] [INFO] [BloodDecal] Blood puddle created at (2035.171, 905.0103) (added to group)
[15:17:03] [INFO] [BloodDecal] Blood puddle created at (2261.292, 1023.611) (added to group)
[15:17:03] [INFO] [BloodDecal] Blood puddle created at (2126.386, 999.4072) (added to group)
[15:17:03] [INFO] [BloodDecal] Blood puddle created at (2045.399, 974.153) (added to group)
[15:17:03] [INFO] [BloodDecal] Blood puddle created at (2029.531, 907.3745) (added to group)
[15:17:03] [INFO] [BloodDecal] Blood puddle created at (715.9348, 1184.192) (added to group)
[15:17:03] [INFO] [BloodDecal] Blood puddle created at (2031.406, 979.436) (added to group)
[15:17:03] [INFO] [BloodDecal] Blood puddle created at (1997.755, 918.4951) (added to group)
[15:17:03] [INFO] [BloodDecal] Blood puddle created at (2048.582, 917.0259) (added to group)
[15:17:03] [INFO] [BloodDecal] Blood puddle created at (648.5941, 1148.873) (added to group)
[15:17:03] [INFO] [BloodDecal] Blood puddle created at (637.2574, 1218.852) (added to group)
[15:17:03] [INFO] [BloodDecal] Blood puddle created at (2008.681, 967.3958) (added to group)
[15:17:03] [INFO] [BloodDecal] Blood puddle created at (2041.489, 1022.528) (added to group)
[15:17:03] [ENEMY] [PatrolEnemy1] Warning: No valid flank position (both sides behind walls)
[15:17:03] [ENEMY] [PatrolEnemy1] FLANKING started: target=(623.4987, 935.8118), side=left, pos=(1740.108, 1235.128)
[15:17:03] [ENEMY] [PatrolEnemy1] State: PURSUING -> FLANKING
[15:17:03] [ENEMY] [PatrolEnemy4] FLANKING started: target=(615.5557, 930.2501), side=left, pos=(1742.768, 1174.93)
[15:17:03] [ENEMY] [PatrolEnemy4] State: PURSUING -> FLANKING
[15:17:04] [ENEMY] [PatrolEnemy4] FLANKING corner check: angle -69.1°
[15:17:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2017.027, 904.298), source=ENEMY (GuardEnemy1), range=1469, listeners=4
[15:17:04] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=1, below_threshold=1
[15:17:04] [ENEMY] [GuardEnemy1] Hit taken, damage: 1, health: 1/4 -> 0/4
[15:17:04] [ENEMY] [GuardEnemy1] ImpactEffectsManager found, calling spawn_blood_effect
[15:17:04] [INFO] [ImpactEffects] spawn_blood_effect called at (2011.539, 909.3602), dir=(1, 0), lethal=true
[15:17:04] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[15:17:04] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[15:17:04] [INFO] [ImpactEffects] Blood effect spawned at (2011.539, 909.3602) (scale=1.5)
[15:17:04] [ENEMY] [GuardEnemy1] Enemy died (ricochet: false, penetration: false)
[15:17:04] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[15:17:04] [INFO] [PowerFantasy] Starting power fantasy effect:
[15:17:04] [INFO] [PowerFantasy]   - Time scale: 0.10
[15:17:04] [INFO] [PowerFantasy]   - Duration: 300ms
[15:17:04] [ENEMY] [GuardEnemy1] [AllyDeath] Notified 2 enemies
[15:17:04] [INFO] [SoundPropagation] Unregistered listener: GuardEnemy1 (remaining: 3)
[15:17:04] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[15:17:04] [ENEMY] [GuardEnemy1] Death animation started with hit direction: (1, 0)
[15:17:04] [INFO] [ReplayManager] Recording frame 3360 (53,7s): player_valid=False, enemies=10
[15:17:04] [INFO] [PowerFantasy] Effect duration expired after 302.00 ms
[15:17:04] [INFO] [PowerFantasy] Ending power fantasy effect
[15:17:04] [ENEMY] [PatrolEnemy1] FLANKING corner check: angle 113.5°
[15:17:04] [ENEMY] [PatrolEnemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=-177.6°, current=-177.6°, player=(504,1100), corner_timer=0.09
[15:17:04] [ENEMY] [PatrolEnemy4] State: FLANKING -> COMBAT
[15:17:04] [INFO] [BloodDecal] Blood puddle created at (2068.717, 927.1964) (added to group)
[15:17:04] [INFO] [BloodDecal] Blood puddle created at (2075.426, 898.8448) (added to group)
[15:17:04] [INFO] [BloodDecal] Blood puddle created at (2055.861, 928.9458) (added to group)
[15:17:04] [INFO] [BloodDecal] Blood puddle created at (2092.044, 936.392) (added to group)
[15:17:04] [INFO] [BloodDecal] Blood puddle created at (2074.947, 933.397) (added to group)
[15:17:04] [INFO] [BloodDecal] Blood puddle created at (2110.22, 962.296) (added to group)
[15:17:04] [INFO] [BloodDecal] Blood puddle created at (2136.666, 975.8622) (added to group)
[15:17:04] [INFO] [BloodDecal] Blood puddle created at (2129.227, 995.946) (added to group)
[15:17:04] [ENEMY] [GuardEnemy3] Death animation completed
[15:17:04] [INFO] [BloodDecal] Blood puddle created at (2099.159, 955.2297) (added to group)
[15:17:04] [INFO] [BloodDecal] Blood puddle created at (2135.207, 967.9035) (added to group)
[15:17:04] [INFO] [BloodDecal] Blood puddle created at (2107.922, 937.5154) (added to group)
[15:17:04] [ENEMY] [PatrolEnemy1] FLANKING corner check: angle -69.3°
[15:17:04] [INFO] [BloodDecal] Blood puddle created at (2118.347, 1001.824) (added to group)
[15:17:04] [INFO] [BloodDecal] Blood puddle created at (2085.9, 951.1988) (added to group)
[15:17:04] [INFO] [BloodDecal] Blood puddle created at (2112.615, 972.3778) (added to group)
[15:17:04] [ENEMY] [GuardEnemy1] Ragdoll activated
[15:17:04] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[15:17:04] [INFO] [BloodDecal] Blood puddle created at (2182.932, 942.3888) (added to group)
[15:17:04] [INFO] [BloodDecal] Blood puddle created at (2181.075, 1009.296) (added to group)
[15:17:04] [INFO] [BloodDecal] Blood puddle created at (2132.323, 933.5294) (added to group)
[15:17:04] [INFO] [BloodDecal] Blood puddle created at (2108.126, 1011.566) (added to group)
[15:17:05] [INFO] [BloodDecal] Blood puddle created at (2123.74, 991.7758) (added to group)
[15:17:05] [ENEMY] [PatrolEnemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=-177.6°, current=-177.6°, player=(513,1100), corner_timer=0.08
[15:17:05] [ENEMY] [PatrolEnemy1] State: FLANKING -> COMBAT
[15:17:05] [INFO] [BloodDecal] Blood puddle created at (2184.514, 1063.959) (added to group)
[15:17:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1738.137, 1142.558), source=ENEMY (PatrolEnemy4), range=1469, listeners=3
[15:17:05] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=1
[15:17:05] [INFO] [ReplayManager] Recording frame 3420 (54,7s): player_valid=False, enemies=10
[15:17:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1737.569, 1141.324), source=ENEMY (PatrolEnemy4), range=1469, listeners=3
[15:17:05] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=1
[15:17:05] [ENEMY] [PatrolEnemy1] State: COMBAT -> RETREATING
[15:17:05] [ENEMY] [PatrolEnemy4] State: COMBAT -> RETREATING
[15:17:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1736.945, 1140.147), source=ENEMY (PatrolEnemy4), range=1469, listeners=3
[15:17:05] [ENEMY] [PatrolEnemy1] Heard gunshot at (1736.945, 1140.147), source_type=1, intensity=1.00, distance=10
[15:17:05] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=1
[15:17:05] [ENEMY] [PatrolEnemy1] State: COMBAT -> RETREATING
[15:17:05] [ENEMY] [PatrolEnemy1] Hit taken, damage: 1, health: 1/3 -> 0/3
[15:17:05] [ENEMY] [PatrolEnemy1] ImpactEffectsManager found, calling spawn_blood_effect
[15:17:05] [INFO] [ImpactEffects] spawn_blood_effect called at (1741.244, 1156.719), dir=(1, 0), lethal=true
[15:17:05] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[15:17:05] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[15:17:05] [INFO] [ImpactEffects] Blood effect spawned at (1741.244, 1156.719) (scale=1.5)
[15:17:05] [ENEMY] [PatrolEnemy1] Enemy died (ricochet: false, penetration: false)
[15:17:05] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[15:17:05] [INFO] [PowerFantasy] Starting power fantasy effect:
[15:17:05] [INFO] [PowerFantasy]   - Time scale: 0.10
[15:17:05] [INFO] [PowerFantasy]   - Duration: 300ms
[15:17:05] [ENEMY] [PatrolEnemy1] [AllyDeath] Notified 1 enemies
[15:17:05] [INFO] [SoundPropagation] Unregistered listener: PatrolEnemy1 (remaining: 2)
[15:17:05] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[15:17:05] [ENEMY] [PatrolEnemy1] Death animation started with hit direction: (1, 0)
[15:17:05] [ENEMY] [PatrolEnemy4] Hit taken, damage: 1, health: 1/3 -> 0/3
[15:17:05] [ENEMY] [PatrolEnemy4] ImpactEffectsManager found, calling spawn_blood_effect
[15:17:05] [INFO] [ImpactEffects] spawn_blood_effect called at (1740.732, 1150.537), dir=(1, 0), lethal=true
[15:17:05] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[15:17:05] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[15:17:05] [INFO] [ImpactEffects] Blood effect spawned at (1740.732, 1150.537) (scale=1.5)
[15:17:05] [ENEMY] [PatrolEnemy4] Enemy died (ricochet: false, penetration: false)
[15:17:05] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[15:17:05] [INFO] [PowerFantasy] Effect timer reset to 300ms
[15:17:05] [INFO] [SoundPropagation] Unregistered listener: PatrolEnemy4 (remaining: 1)
[15:17:05] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[15:17:05] [ENEMY] [PatrolEnemy4] Death animation started with hit direction: (1, 0)
[15:17:05] [INFO] [PowerFantasy] Effect duration expired after 317.00 ms
[15:17:05] [INFO] [PowerFantasy] Ending power fantasy effect
[15:17:06] [ENEMY] [GuardEnemy1] Death animation completed
[15:17:06] [INFO] [LastChance] Threat detected: Bullet
[15:17:06] [INFO] [LastChance] Not in hard mode - effect disabled
[15:17:06] [INFO] [LastChance] Cannot trigger effect - conditions not met
[15:17:06] [INFO] [Player] Hit blocked by invincibility mode (C#)
[15:17:06] [INFO] [Player] Spawning blood effect at (513.9573, 1100.7671), dir=(1, 0), lethal=False (C#)
[15:17:06] [INFO] [ImpactEffects] spawn_blood_effect called at (513.9573, 1100.767), dir=(1, 0), lethal=false
[15:17:06] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[15:17:06] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[15:17:06] [INFO] [ImpactEffects] Blood effect spawned at (513.9573, 1100.767) (scale=1)
[15:17:06] [INFO] [BloodDecal] Blood puddle created at (1805.615, 1196.389) (added to group)
[15:17:06] [INFO] [BloodDecal] Blood puddle created at (1803.98, 1159.727) (added to group)
[15:17:06] [INFO] [BloodDecal] Blood puddle created at (1783.107, 1179.757) (added to group)
[15:17:06] [INFO] [LastChance] Threat detected: @Area2D@2802
[15:17:06] [INFO] [LastChance] Not in hard mode - effect disabled
[15:17:06] [INFO] [LastChance] Cannot trigger effect - conditions not met
[15:17:06] [INFO] [BloodDecal] Blood puddle created at (1786.042, 1145.253) (added to group)
[15:17:06] [INFO] [BloodDecal] Blood puddle created at (1797.079, 1153.852) (added to group)
[15:17:06] [INFO] [BloodDecal] Blood puddle created at (1808.093, 1145.554) (added to group)
[15:17:06] [INFO] [BloodDecal] Blood puddle created at (1817.987, 1159.232) (added to group)
[15:17:06] [INFO] [Player] Hit blocked by invincibility mode (C#)
[15:17:06] [INFO] [Player] Spawning blood effect at (513.9573, 1100.7671), dir=(1, 0), lethal=False (C#)
[15:17:06] [INFO] [ImpactEffects] spawn_blood_effect called at (513.9573, 1100.767), dir=(1, 0), lethal=false
[15:17:06] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[15:17:06] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[15:17:06] [INFO] [ImpactEffects] Blood effect spawned at (513.9573, 1100.767) (scale=1)
[15:17:06] [INFO] [BloodDecal] Blood puddle created at (1815.364, 1212.108) (added to group)
[15:17:06] [INFO] [BloodDecal] Blood puddle created at (1838.056, 1237.084) (added to group)
[15:17:06] [INFO] [BloodDecal] Blood puddle created at (1854.627, 1179.733) (added to group)
[15:17:06] [INFO] [BloodDecal] Blood puddle created at (1824.025, 1181.894) (added to group)
[15:17:06] [INFO] [BloodDecal] Blood puddle created at (1847.724, 1177.23) (added to group)
[15:17:06] [INFO] [BloodDecal] Blood puddle created at (1814.168, 1161.194) (added to group)
[15:17:06] [INFO] [BloodDecal] Blood puddle created at (1849.624, 1158.536) (added to group)
[15:17:06] [INFO] [BloodDecal] Blood puddle created at (1809.062, 1177.241) (added to group)
[15:17:06] [INFO] [BloodDecal] Blood puddle created at (1832.438, 1206.691) (added to group)
[15:17:06] [INFO] [BloodDecal] Blood puddle created at (1850.122, 1226.049) (added to group)
[15:17:06] [INFO] [BloodDecal] Blood puddle created at (1829.945, 1195.361) (added to group)
[15:17:06] [INFO] [BloodDecal] Blood puddle created at (1872.349, 1171.578) (added to group)
[15:17:06] [INFO] [BloodDecal] Blood puddle created at (1875.542, 1186.614) (added to group)
[15:17:06] [INFO] [BloodDecal] Blood puddle created at (1864.015, 1174.583) (added to group)
[15:17:06] [INFO] [BloodDecal] Blood puddle created at (1841.583, 1169.173) (added to group)
[15:17:06] [INFO] [BloodDecal] Blood puddle created at (584.6318, 1134.128) (added to group)
[15:17:06] [ENEMY] [PatrolEnemy1] Ragdoll activated
[15:17:06] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[15:17:06] [ENEMY] [PatrolEnemy4] Ragdoll activated
[15:17:06] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[15:17:06] [INFO] [BloodDecal] Blood puddle created at (1884.772, 1242.47) (added to group)
[15:17:06] [INFO] [BloodDecal] Blood puddle created at (1869.411, 1228.732) (added to group)
[15:17:06] [INFO] [BloodDecal] Blood puddle created at (1837.976, 1246.779) (added to group)
[15:17:06] [INFO] [BloodDecal] Blood puddle created at (1868.81, 1153.584) (added to group)
[15:17:06] [INFO] [ReplayManager] Recording frame 3480 (55,4s): player_valid=False, enemies=10
[15:17:06] [INFO] [BloodDecal] Blood puddle created at (1835.046, 1226.555) (added to group)
[15:17:06] [INFO] [BloodDecal] Blood puddle created at (1824.46, 1194.72) (added to group)
[15:17:06] [INFO] [BloodDecal] Blood puddle created at (1839.584, 1219.669) (added to group)
[15:17:06] [INFO] [BloodDecal] Blood puddle created at (1834.23, 1182.688) (added to group)
[15:17:06] [INFO] [BloodDecal] Blood puddle created at (1908.881, 1304.122) (added to group)
[15:17:06] [INFO] [BloodDecal] Blood puddle created at (582.1319, 1149.643) (added to group)
[15:17:06] [INFO] [BloodDecal] Blood puddle created at (1908.339, 1177.135) (added to group)
[15:17:06] [INFO] [BloodDecal] Blood puddle created at (1855.13, 1244.894) (added to group)
[15:17:06] [INFO] [BloodDecal] Blood puddle created at (1892.567, 1268.095) (added to group)
[15:17:06] [INFO] [BloodDecal] Blood puddle created at (1857.483, 1285.636) (added to group)
[15:17:06] [INFO] [BloodDecal] Blood puddle created at (1891.758, 1255.316) (added to group)
[15:17:06] [INFO] [BloodDecal] Blood puddle created at (1925.727, 1240.069) (added to group)
[15:17:06] [INFO] [BloodDecal] Blood puddle created at (1943.589, 1247.515) (added to group)
[15:17:06] [INFO] [BloodDecal] Blood puddle created at (569.8958, 1138.284) (added to group)
[15:17:06] [INFO] [BloodDecal] Blood puddle created at (576.4767, 1100.687) (added to group)
[15:17:06] [INFO] [BloodDecal] Blood puddle created at (1901.823, 1202.88) (added to group)
[15:17:06] [INFO] [BloodDecal] Blood puddle created at (664.2935, 1170.538) (added to group)
[15:17:06] [INFO] [BloodDecal] Blood puddle created at (656.6617, 1167.846) (added to group)
[15:17:06] [INFO] [BloodDecal] Blood puddle created at (588.4067, 1116.963) (added to group)
[15:17:06] [INFO] [BloodDecal] Blood puddle created at (644.4688, 1165.924) (added to group)
[15:17:06] [INFO] [BloodDecal] Blood puddle created at (617.5392, 1181.371) (added to group)
[15:17:06] [INFO] [BloodDecal] Blood puddle created at (627.6946, 1134.416) (added to group)
[15:17:06] [INFO] [BloodDecal] Blood puddle created at (1919.368, 1205.57) (added to group)
[15:17:06] [INFO] [BloodDecal] Blood puddle created at (632.704, 1126.379) (added to group)
[15:17:06] [INFO] [BloodDecal] Blood puddle created at (613.9769, 1155.882) (added to group)
[15:17:06] [INFO] [BloodDecal] Blood puddle created at (670.8479, 1186.021) (added to group)
[15:17:06] [INFO] [BloodDecal] Blood puddle created at (630.8583, 1171.044) (added to group)
[15:17:06] [INFO] [BloodDecal] Blood puddle created at (634.8923, 1183.852) (added to group)
[15:17:06] [INFO] [BloodDecal] Blood puddle created at (643.9016, 1156.096) (added to group)
[15:17:06] [INFO] [BloodDecal] Blood puddle created at (614.5996, 1163.698) (added to group)
[15:17:06] [ENEMY] [PatrolEnemy4] Death animation completed
[15:17:07] [ENEMY] [GuardEnemy6] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=138.4°, current=15.0°, player=(513,1100), corner_timer=0.28
[15:17:07] [ENEMY] [PatrolEnemy1] Death animation completed
[15:17:07] [ENEMY] [GuardEnemy6] ROT_CHANGE: P3:corner -> P1:visible, state=RETREATING, target=-167.7°, current=-159.8°, player=(513,1100), corner_timer=0.28
[15:17:07] [ENEMY] [GuardEnemy6] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=138.4°, current=34.1°, player=(513,1100), corner_timer=0.28
[15:17:07] [INFO] [ReplayManager] Recording frame 3540 (56,4s): player_valid=False, enemies=10
[15:17:07] [ENEMY] [GuardEnemy6] ROT_CHANGE: P3:corner -> P1:visible, state=RETREATING, target=-167.2°, current=-140.5°, player=(513,1100), corner_timer=0.28
[15:17:07] [ENEMY] [GuardEnemy6] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=138.4°, current=43.4°, player=(513,1100), corner_timer=0.28
[15:17:07] [ENEMY] [GuardEnemy6] ROT_CHANGE: P3:corner -> P1:visible, state=RETREATING, target=-167.4°, current=-140.5°, player=(513,1100), corner_timer=0.28
[15:17:07] [ENEMY] [GuardEnemy6] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=138.4°, current=-108.8°, player=(513,1100), corner_timer=0.28
[15:17:07] [ENEMY] [GuardEnemy6] ROT_CHANGE: P3:corner -> P1:visible, state=RETREATING, target=-168.5°, current=-120.3°, player=(513,1100), corner_timer=0.28
[15:17:07] [ENEMY] [GuardEnemy6] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=138.4°, current=91.6°, player=(513,1100), corner_timer=0.28
[15:17:08] [INFO] [ReplayManager] Recording frame 3600 (57,4s): player_valid=False, enemies=10
[15:17:09] [INFO] ------------------------------------------------------------
[15:17:09] [INFO] GAME LOG ENDED: 2026-02-07T15:17:09
[15:17:09] [INFO] ============================================================
