[22:05:39] [INFO] ============================================================
[22:05:39] [INFO] GAME LOG STARTED
[22:05:39] [INFO] ============================================================
[22:05:39] [INFO] Timestamp: 2026-02-07T22:05:39
[22:05:39] [INFO] Log file: I:/Загрузки/godot exe/источники света/game_log_20260207_220539.txt
[22:05:39] [INFO] Executable: I:/Загрузки/godot exe/источники света/Godot-Top-Down-Template.exe
[22:05:39] [INFO] OS: Windows
[22:05:39] [INFO] Debug build: false
[22:05:39] [INFO] Engine version: 4.3-stable (official)
[22:05:39] [INFO] Project: Godot Top-Down Template
[22:05:39] [INFO] ------------------------------------------------------------
[22:05:39] [INFO] [GameManager] GameManager ready
[22:05:39] [INFO] [ScoreManager] ScoreManager ready
[22:05:39] [INFO] [SoundPropagation] SoundPropagation autoload initialized
[22:05:39] [INFO] [ImpactEffects] Scenes loaded: DustEffect, BloodEffect, SparksEffect, BloodDecal
[22:05:39] [INFO] [ImpactEffects] ImpactEffectsManager ready - FULL VERSION with blood effects enabled
[22:05:39] [INFO] [ImpactEffects] Starting particle shader warmup (Issue #343 fix)...
[22:05:39] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[22:05:39] [INFO] [PenultimateHit] Saturation shader loaded successfully
[22:05:39] [INFO] [PenultimateHit] Starting shader warmup (Issue #343 fix)...
[22:05:39] [INFO] [PenultimateHit] PenultimateHitEffectsManager ready - Configuration:
[22:05:39] [INFO] [PenultimateHit]   Time scale: 0.10 (10x slowdown)
[22:05:39] [INFO] [PenultimateHit]   Saturation boost: 2.0 (3.0x)
[22:05:39] [INFO] [PenultimateHit]   Contrast boost: 1.0 (2.0x)
[22:05:39] [INFO] [PenultimateHit]   Effect duration: 3.0 real seconds
[22:05:39] [INFO] [LastChance] Resetting all effects (scene change detected)
[22:05:39] [INFO] [LastChance] Last chance shader loaded successfully
[22:05:39] [INFO] [LastChance] Starting shader warmup (Issue #343 fix)...
[22:05:39] [INFO] [LastChance] LastChanceEffectsManager ready - Configuration:
[22:05:39] [INFO] [LastChance]   Freeze duration: 6.0 real seconds
[22:05:39] [INFO] [LastChance]   Sepia intensity: 0.70
[22:05:39] [INFO] [LastChance]   Brightness: 0.60
[22:05:39] [INFO] [GrenadeManager] Loaded grenade scene: res://scenes/projectiles/FlashbangGrenade.tscn
[22:05:39] [INFO] [GrenadeManager] Loaded grenade scene: res://scenes/projectiles/FragGrenade.tscn
[22:05:39] [INFO] [GrenadeManager] Loaded grenade scene: res://scenes/projectiles/DefensiveGrenade.tscn
[22:05:39] [INFO] [ExperimentalSettings] ExperimentalSettings initialized - FOV: true, Complex grenades: false, AI prediction: true, Debug: true, Invincibility: true, Realistic visibility: false
[22:05:39] [INFO] [CinemaEffects] CinemaEffectsManager initializing (v5.3 - overlay approach with simplified death circle)...
[22:05:39] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[22:05:39] [INFO] [CinemaEffects] Created effects layer at layer 99
[22:05:39] [INFO] [CinemaEffects] Cinema shader loaded successfully (v5.0 - no screen_texture)
[22:05:39] [INFO] [CinemaEffects] Starting cinema shader warmup (Issue #343 fix)...
[22:05:39] [INFO] [CinemaEffects] Cinema film effect initialized (v5.3) - Configuration:
[22:05:39] [INFO] [CinemaEffects]   Approach: Overlay-based (no screen_texture)
[22:05:39] [INFO] [CinemaEffects]   Grain intensity: 0.15
[22:05:39] [INFO] [CinemaEffects]   Warm tint: 0.12 intensity
[22:05:39] [INFO] [CinemaEffects]   Sunny effect: 0.08 intensity
[22:05:39] [INFO] [CinemaEffects]   Vignette: 0.25 intensity
[22:05:39] [INFO] [CinemaEffects]   Film defects: 1.5% probability
[22:05:39] [INFO] [CinemaEffects]   White specks: 0.70 intensity, 4.0% probability
[22:05:39] [INFO] [CinemaEffects]   Death effects: cigarette burn + expanding spots + end of reel circle (160px, blinks 2x)
[22:05:39] [INFO] [CinemaEffects] Enabling effect after 1 frame(s)...
[22:05:39] [INFO] [GrenadeTimerHelper] Autoload ready
[22:05:39] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[22:05:39] [INFO] [PowerFantasy] Saturation shader loaded successfully
[22:05:39] [INFO] [PowerFantasy] PowerFantasyEffectsManager ready - Configuration:
[22:05:39] [INFO] [PowerFantasy]   Kill effect duration: 300ms
[22:05:39] [INFO] [PowerFantasy]   Grenade effect duration: 2000ms (2.0s)
[22:05:39] [INFO] [ProgressManager] ProgressManager ready, loaded 5 entries
[22:05:39] [INFO] [ReplayManager] ReplayManager ready (C# version loaded and _Ready called)
[22:05:39] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[22:05:39] [INFO] [FlashbangPlayer] Flashbang player shader loaded successfully
[22:05:39] [INFO] [FlashbangPlayer] Starting shader warmup (Issue #343 fix)...
[22:05:39] [INFO] [FlashbangPlayer] FlashbangPlayerEffectsManager ready
[22:05:39] [INFO] [FlashbangPlayer]   Duration range: 1.0-5.0 seconds
[22:05:39] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:05:39] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[22:05:39] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[22:05:39] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[22:05:39] [ENEMY] [Enemy1] Death animation component initialized
[22:05:39] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:05:39] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[22:05:39] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[22:05:39] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[22:05:39] [ENEMY] [Enemy2] Death animation component initialized
[22:05:39] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:05:39] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[22:05:39] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[22:05:39] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[22:05:39] [ENEMY] [Enemy3] Death animation component initialized
[22:05:39] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:05:39] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[22:05:39] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[22:05:39] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[22:05:39] [ENEMY] [Enemy4] Death animation component initialized
[22:05:39] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:05:39] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[22:05:39] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[22:05:39] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[22:05:39] [ENEMY] [Enemy5] Death animation component initialized
[22:05:39] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:05:39] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[22:05:39] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[22:05:39] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[22:05:39] [ENEMY] [Enemy6] Death animation component initialized
[22:05:39] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:05:39] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[22:05:39] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[22:05:39] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[22:05:39] [ENEMY] [Enemy7] Death animation component initialized
[22:05:39] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:05:39] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[22:05:39] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[22:05:39] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[22:05:39] [ENEMY] [Enemy8] Death animation component initialized
[22:05:39] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:05:39] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[22:05:39] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[22:05:39] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[22:05:39] [ENEMY] [Enemy9] Death animation component initialized
[22:05:39] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:05:39] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[22:05:39] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[22:05:39] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[22:05:39] [ENEMY] [Enemy10] Death animation component initialized
[22:05:39] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:05:39] [INFO] [BloodyFeet:Player] Footprint scene loaded
[22:05:39] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[22:05:39] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[22:05:39] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[22:05:39] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[22:05:39] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[22:05:39] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[22:05:39] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[22:05:39] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[22:05:39] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[22:05:39] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[22:05:39] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[22:05:39] [INFO] [Player] Ready! Ammo: 9/9, Grenades: 1/3, Health: 10/10
[22:05:39] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[22:05:39] [INFO] [BloodDecal] Blood puddle created at (640, 360) (added to group)
[22:05:39] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[22:05:39] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[22:05:39] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[22:05:39] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[22:05:39] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[22:05:39] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[22:05:39] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[22:05:39] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[22:05:39] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[22:05:39] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[22:05:39] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[22:05:39] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[22:05:39] [INFO] [BuildingLevel] Setting up weapon: makarov_pm
[22:05:39] [INFO] [ScoreManager] Level started with 10 enemies
[22:05:39] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[22:05:39] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[22:05:39] [INFO] [ReplayManager] Replay data cleared
[22:05:39] [INFO] [BuildingLevel] Previous replay data cleared
[22:05:39] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[22:05:39] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[22:05:39] [INFO] [ReplayManager] Level: BuildingLevel
[22:05:39] [INFO] [ReplayManager] Player: Player (valid: True)
[22:05:39] [INFO] [ReplayManager] Enemies count: 10
[22:05:39] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[22:05:39] [INFO] [ReplayManager]   Enemy 0: Enemy1
[22:05:39] [INFO] [ReplayManager]   Enemy 1: Enemy2
[22:05:39] [INFO] [ReplayManager]   Enemy 2: Enemy3
[22:05:39] [INFO] [ReplayManager]   Enemy 3: Enemy4
[22:05:39] [INFO] [ReplayManager]   Enemy 4: Enemy5
[22:05:39] [INFO] [ReplayManager]   Enemy 5: Enemy6
[22:05:39] [INFO] [ReplayManager]   Enemy 6: Enemy7
[22:05:39] [INFO] [ReplayManager]   Enemy 7: Enemy8
[22:05:39] [INFO] [ReplayManager]   Enemy 8: Enemy9
[22:05:39] [INFO] [ReplayManager]   Enemy 9: Enemy10
[22:05:39] [INFO] [BuildingLevel] Replay recording started successfully
[22:05:39] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[22:05:39] [INFO] [CinemaEffects] Found player node: Player
[22:05:39] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[22:05:39] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[22:05:39] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 1)
[22:05:39] [ENEMY] [Enemy1] Registered as sound listener
[22:05:39] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 4, behavior: GUARD
[22:05:39] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[22:05:39] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 2)
[22:05:39] [ENEMY] [Enemy2] Registered as sound listener
[22:05:39] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 4, behavior: GUARD
[22:05:39] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[22:05:39] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 3)
[22:05:39] [ENEMY] [Enemy3] Registered as sound listener
[22:05:39] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 3, behavior: GUARD
[22:05:39] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[22:05:39] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 4)
[22:05:39] [ENEMY] [Enemy4] Registered as sound listener
[22:05:39] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 2, behavior: GUARD
[22:05:39] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[22:05:39] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 5)
[22:05:39] [ENEMY] [Enemy5] Registered as sound listener
[22:05:39] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 2, behavior: GUARD
[22:05:39] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[22:05:39] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 6)
[22:05:39] [ENEMY] [Enemy6] Registered as sound listener
[22:05:39] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 2, behavior: GUARD
[22:05:39] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[22:05:39] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 7)
[22:05:39] [ENEMY] [Enemy7] Registered as sound listener
[22:05:39] [ENEMY] [Enemy7] Spawned at (1606.114, 893.8859), hp: 3, behavior: PATROL
[22:05:39] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[22:05:39] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 8)
[22:05:39] [ENEMY] [Enemy8] Registered as sound listener
[22:05:39] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 2, behavior: GUARD
[22:05:39] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[22:05:39] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 9)
[22:05:39] [ENEMY] [Enemy9] Registered as sound listener
[22:05:39] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 3, behavior: GUARD
[22:05:39] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[22:05:39] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 10)
[22:05:39] [ENEMY] [Enemy10] Registered as sound listener
[22:05:39] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 3, behavior: PATROL
[22:05:39] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[22:05:39] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:05:39] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:05:39] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=236.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:05:39] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:05:39] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:05:39] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=337.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:05:39] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:05:39] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:05:39] [INFO] [Player] Detecting weapon pose (frame 3)...
[22:05:39] [INFO] [Player] Detected weapon: Makarov PM (Pistol pose)
[22:05:39] [INFO] [Player] Applied Pistol arm pose: Left=(16, 6), Right=(4, 6)
[22:05:39] [INFO] [PenultimateHit] Shader warmup complete in 730 ms
[22:05:39] [INFO] [LastChance] Shader warmup complete in 729 ms
[22:05:39] [INFO] [CinemaEffects] Cinema shader warmup complete in 674 ms
[22:05:39] [INFO] [FlashbangPlayer] Shader warmup complete in 664 ms
[22:05:39] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[22:05:39] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[22:05:39] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[22:05:39] [INFO] [LastChance] Found player: Player
[22:05:39] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[22:05:39] [INFO] [LastChance] Connected to player Damaged signal (C#)
[22:05:39] [INFO] [LastChance] Connected to player Died signal (C#)
[22:05:39] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[22:05:40] [INFO] [ImpactEffects] Particle shader warmup complete: 7 effects warmed up in 1036 ms
[22:05:40] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[22:05:40] [INFO] [Player] Invincibility mode: ON
[22:05:40] [INFO] [GameManager] Invincibility mode toggled: ON
[22:05:41] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[22:05:41] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[22:05:41] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,1262), corner_timer=0.30
[22:05:41] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,1262), corner_timer=0.30
[22:05:41] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(450,1355), corner_timer=-0.02
[22:05:41] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[22:05:41] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(450,1355), corner_timer=-0.02
[22:05:41] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[22:05:41] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(450,1361), corner_timer=0.30
[22:05:41] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(450,1361), corner_timer=0.30
[22:05:41] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[22:05:42] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(443,1462), corner_timer=-0.02
[22:05:42] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[22:05:42] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(441,1467), corner_timer=0.30
[22:05:42] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(365,1500), corner_timer=-0.02
[22:05:42] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[22:05:42] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.6°, player=(360,1500), corner_timer=0.30
[22:05:42] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(255,1500), corner_timer=-0.02
[22:05:42] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[22:05:42] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.8°, current=6.3°, player=(250,1500), corner_timer=0.30
[22:05:42] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=10
[22:05:43] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.8°, player=(152,1483), corner_timer=-0.02
[22:05:43] [ENEMY] [Enemy10] PATROL corner check: angle 0.9°
[22:05:43] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=0.9°, current=4.6°, player=(148,1479), corner_timer=0.30
[22:05:43] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:05:43] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=-130.1°, player=(105,1332), corner_timer=-0.02
[22:05:43] [ENEMY] [Enemy7] PATROL corner check: angle 90.0°
[22:05:43] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=-133.0°, player=(107,1328), corner_timer=0.30
[22:05:43] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:05:43] [INFO] [ReplayManager] Recording frame 240 (4,0s): player_valid=True, enemies=10
[22:05:43] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=179.1°, current=172.4°, player=(184,1292), corner_timer=-0.02
[22:05:43] [ENEMY] [Enemy7] PATROL corner check: angle 89.8°
[22:05:43] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.8°, current=175.3°, player=(189,1292), corner_timer=0.30
[22:05:44] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:05:44] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=178.4°, current=120.7°, player=(294,1292), corner_timer=-0.02
[22:05:44] [ENEMY] [Enemy7] PATROL corner check: angle 89.7°
[22:05:44] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.7°, current=123.6°, player=(299,1292), corner_timer=0.30
[22:05:44] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:05:44] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.9°, current=89.7°, player=(403,1293), corner_timer=-0.02
[22:05:44] [ENEMY] [Enemy7] PATROL corner check: angle 89.6°
[22:05:44] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.6°, current=92.5°, player=(409,1294), corner_timer=0.30
[22:05:44] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:05:44] [INFO] [ReplayManager] Recording frame 300 (5,0s): player_valid=True, enemies=10
[22:05:44] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.7°, current=89.6°, player=(467,1358), corner_timer=-0.02
[22:05:44] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[22:05:44] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.4°, player=(468,1364), corner_timer=0.30
[22:05:45] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:05:45] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.5°, current=89.5°, player=(434,1454), corner_timer=-0.02
[22:05:45] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[22:05:45] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.4°, player=(433,1459), corner_timer=0.30
[22:05:45] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:05:45] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.4°, current=89.5°, player=(431,1560), corner_timer=-0.02
[22:05:45] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[22:05:45] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.3°, player=(431,1564), corner_timer=0.30
[22:05:45] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:05:45] [INFO] [ReplayManager] Recording frame 360 (6,0s): player_valid=True, enemies=10
[22:05:45] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.5°, player=(431,1571), corner_timer=-0.02
[22:05:45] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[22:05:45] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(431,1571), corner_timer=0.30
[22:05:46] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:05:46] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(433,1571), corner_timer=-0.02
[22:05:46] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[22:05:46] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(434,1571), corner_timer=0.30
[22:05:46] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:05:46] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(509,1569), corner_timer=-0.02
[22:05:46] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[22:05:46] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(513,1568), corner_timer=0.30
[22:05:46] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:05:46] [INFO] [ReplayManager] Recording frame 420 (7,0s): player_valid=True, enemies=10
[22:05:46] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(534,1514), corner_timer=-0.02
[22:05:46] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[22:05:46] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(532,1511), corner_timer=0.30
[22:05:47] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:05:47] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(471,1434), corner_timer=-0.02
[22:05:47] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[22:05:47] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(469,1429), corner_timer=0.30
[22:05:47] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:05:47] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(462,1328), corner_timer=-0.02
[22:05:47] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[22:05:47] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(460,1323), corner_timer=0.30
[22:05:47] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:05:47] [INFO] [ReplayManager] Recording frame 480 (8,0s): player_valid=True, enemies=10
[22:05:47] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(436,1283), corner_timer=-0.02
[22:05:47] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[22:05:47] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(434,1283), corner_timer=0.30
[22:05:48] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:05:48] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(355,1281), corner_timer=-0.02
[22:05:48] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[22:05:48] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(349,1281), corner_timer=0.30
[22:05:48] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:05:48] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(260,1281), corner_timer=-0.02
[22:05:48] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[22:05:48] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(258,1281), corner_timer=0.30
[22:05:48] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:05:48] [INFO] [ReplayManager] Recording frame 540 (9,0s): player_valid=True, enemies=10
[22:05:48] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(248,1281), corner_timer=-0.02
[22:05:48] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[22:05:48] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(248,1281), corner_timer=0.30
[22:05:49] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:05:49] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(248,1281), corner_timer=-0.02
[22:05:49] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[22:05:49] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(248,1281), corner_timer=0.30
[22:05:49] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:05:49] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(248,1281), corner_timer=-0.02
[22:05:49] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[22:05:49] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(248,1281), corner_timer=0.30
[22:05:49] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:05:49] [INFO] [ReplayManager] Recording frame 600 (10,0s): player_valid=True, enemies=10
[22:05:49] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(235,1281), corner_timer=-0.02
[22:05:49] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[22:05:49] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(235,1281), corner_timer=0.30
[22:05:50] [INFO] [ReplayManager] Recording frame 660 (11,0s): player_valid=True, enemies=10
[22:05:51] [INFO] [ReplayManager] Recording frame 720 (12,0s): player_valid=True, enemies=10
[22:05:52] [INFO] [ExperimentalSettings] Realistic visibility enabled
[22:05:52] [INFO] [ReplayManager] Recording frame 780 (13,0s): player_valid=True, enemies=10
[22:05:53] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:05:53] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(235,1281), corner_timer=-0.02
[22:05:53] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[22:05:53] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(235,1281), corner_timer=0.30
[22:05:53] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:05:53] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[22:05:53] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:05:53] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[22:05:53] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[22:05:53] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[22:05:53] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[22:05:53] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[22:05:53] [INFO] [LastChance] Resetting all effects (scene change detected)
[22:05:53] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[22:05:53] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[22:05:53] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[22:05:53] [ENEMY] [Enemy1] Death animation component initialized
[22:05:53] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:05:53] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[22:05:53] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[22:05:53] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[22:05:53] [ENEMY] [Enemy2] Death animation component initialized
[22:05:53] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:05:53] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[22:05:53] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[22:05:53] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[22:05:53] [ENEMY] [Enemy3] Death animation component initialized
[22:05:53] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:05:53] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[22:05:53] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[22:05:53] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[22:05:53] [ENEMY] [Enemy4] Death animation component initialized
[22:05:53] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:05:53] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[22:05:53] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[22:05:53] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[22:05:53] [ENEMY] [Enemy5] Death animation component initialized
[22:05:53] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:05:53] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[22:05:53] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[22:05:53] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[22:05:53] [ENEMY] [Enemy6] Death animation component initialized
[22:05:53] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:05:53] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[22:05:53] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[22:05:53] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[22:05:53] [ENEMY] [Enemy7] Death animation component initialized
[22:05:53] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:05:53] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[22:05:53] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[22:05:53] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[22:05:53] [ENEMY] [Enemy8] Death animation component initialized
[22:05:53] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:05:53] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[22:05:53] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[22:05:53] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[22:05:53] [ENEMY] [Enemy9] Death animation component initialized
[22:05:53] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:05:53] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[22:05:53] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[22:05:53] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[22:05:53] [ENEMY] [Enemy10] Death animation component initialized
[22:05:53] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:05:53] [INFO] [BloodyFeet:Player] Footprint scene loaded
[22:05:53] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[22:05:53] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[22:05:53] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[22:05:53] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[22:05:53] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[22:05:53] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[22:05:53] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[22:05:53] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[22:05:53] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[22:05:53] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: True
[22:05:53] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[22:05:53] [INFO] [Player] Ready! Ammo: 9/9, Grenades: 1/3, Health: 10/10
[22:05:53] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[22:05:53] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[22:05:53] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[22:05:53] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[22:05:53] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[22:05:53] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[22:05:53] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[22:05:53] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[22:05:53] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[22:05:53] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[22:05:53] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[22:05:53] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[22:05:53] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[22:05:53] [INFO] [BuildingLevel] Setting up weapon: makarov_pm
[22:05:53] [INFO] [ScoreManager] Level started with 10 enemies
[22:05:53] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[22:05:53] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[22:05:53] [INFO] [ReplayManager] Replay data cleared
[22:05:53] [INFO] [BuildingLevel] Previous replay data cleared
[22:05:53] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[22:05:53] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[22:05:53] [INFO] [ReplayManager] Level: BuildingLevel
[22:05:53] [INFO] [ReplayManager] Player: Player (valid: True)
[22:05:53] [INFO] [ReplayManager] Enemies count: 10
[22:05:53] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[22:05:53] [INFO] [ReplayManager]   Enemy 0: Enemy1
[22:05:53] [INFO] [ReplayManager]   Enemy 1: Enemy2
[22:05:53] [INFO] [ReplayManager]   Enemy 2: Enemy3
[22:05:53] [INFO] [ReplayManager]   Enemy 3: Enemy4
[22:05:53] [INFO] [ReplayManager]   Enemy 4: Enemy5
[22:05:53] [INFO] [ReplayManager]   Enemy 5: Enemy6
[22:05:53] [INFO] [ReplayManager]   Enemy 6: Enemy7
[22:05:53] [INFO] [ReplayManager]   Enemy 7: Enemy8
[22:05:53] [INFO] [ReplayManager]   Enemy 8: Enemy9
[22:05:53] [INFO] [ReplayManager]   Enemy 9: Enemy10
[22:05:53] [INFO] [BuildingLevel] Replay recording started successfully
[22:05:53] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[22:05:53] [INFO] [CinemaEffects] Found player node: Player
[22:05:53] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[22:05:53] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[22:05:53] [ENEMY] [Enemy1] Registered as sound listener
[22:05:53] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 2, behavior: GUARD
[22:05:53] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[22:05:53] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[22:05:53] [ENEMY] [Enemy2] Registered as sound listener
[22:05:53] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 3, behavior: GUARD
[22:05:53] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[22:05:53] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[22:05:53] [ENEMY] [Enemy3] Registered as sound listener
[22:05:53] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 3, behavior: GUARD
[22:05:53] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[22:05:53] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[22:05:53] [ENEMY] [Enemy4] Registered as sound listener
[22:05:53] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 2, behavior: GUARD
[22:05:53] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[22:05:53] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[22:05:53] [ENEMY] [Enemy5] Registered as sound listener
[22:05:53] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 3, behavior: GUARD
[22:05:53] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[22:05:53] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[22:05:53] [ENEMY] [Enemy6] Registered as sound listener
[22:05:53] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 2, behavior: GUARD
[22:05:53] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[22:05:53] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[22:05:53] [ENEMY] [Enemy7] Registered as sound listener
[22:05:53] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 4, behavior: PATROL
[22:05:53] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[22:05:53] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[22:05:53] [ENEMY] [Enemy8] Registered as sound listener
[22:05:53] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 3, behavior: GUARD
[22:05:53] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[22:05:53] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[22:05:53] [ENEMY] [Enemy9] Registered as sound listener
[22:05:53] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 2, behavior: GUARD
[22:05:53] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[22:05:53] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[22:05:53] [ENEMY] [Enemy10] Registered as sound listener
[22:05:53] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 3, behavior: PATROL
[22:05:53] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[22:05:53] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[22:05:53] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:05:53] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=45.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:05:53] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:05:53] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:05:53] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:05:53] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:05:53] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=157.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:05:53] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:05:53] [INFO] [Player] Detecting weapon pose (frame 3)...
[22:05:53] [INFO] [Player] Detected weapon: Makarov PM (Pistol pose)
[22:05:53] [INFO] [Player] Applied Pistol arm pose: Left=(16, 6), Right=(4, 6)
[22:05:54] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[22:05:54] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[22:05:54] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[22:05:54] [INFO] [LastChance] Found player: Player
[22:05:54] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[22:05:54] [INFO] [LastChance] Connected to player Damaged signal (C#)
[22:05:54] [INFO] [LastChance] Connected to player Died signal (C#)
[22:05:54] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[22:05:54] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[22:05:54] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:05:54] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[22:05:54] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[22:05:54] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[22:05:54] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[22:05:54] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[22:05:54] [INFO] [LastChance] Resetting all effects (scene change detected)
[22:05:54] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[22:05:54] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[22:05:54] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[22:05:54] [ENEMY] [Enemy1] Death animation component initialized
[22:05:54] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:05:54] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[22:05:54] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[22:05:54] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[22:05:54] [INFO] [EnemyGrenade] Initialized: 1 grenades
[22:05:54] [ENEMY] [Enemy2] Death animation component initialized
[22:05:54] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:05:54] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[22:05:54] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[22:05:54] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[22:05:54] [ENEMY] [Enemy3] Death animation component initialized
[22:05:54] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:05:54] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[22:05:54] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[22:05:54] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[22:05:54] [ENEMY] [Enemy4] Death animation component initialized
[22:05:54] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:05:54] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[22:05:54] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[22:05:54] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[22:05:54] [ENEMY] [Enemy5] Death animation component initialized
[22:05:54] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:05:54] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[22:05:54] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[22:05:54] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[22:05:54] [ENEMY] [Enemy6] Death animation component initialized
[22:05:54] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:05:54] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[22:05:54] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[22:05:54] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[22:05:54] [ENEMY] [Enemy7] Death animation component initialized
[22:05:54] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:05:54] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[22:05:54] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[22:05:54] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[22:05:54] [ENEMY] [Enemy8] Death animation component initialized
[22:05:54] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:05:54] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[22:05:54] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[22:05:54] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[22:05:54] [ENEMY] [Enemy9] Death animation component initialized
[22:05:54] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:05:54] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[22:05:54] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[22:05:54] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[22:05:54] [ENEMY] [Enemy10] Death animation component initialized
[22:05:54] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:05:54] [INFO] [BloodyFeet:Player] Footprint scene loaded
[22:05:54] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[22:05:54] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[22:05:54] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[22:05:54] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[22:05:54] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[22:05:54] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[22:05:54] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[22:05:54] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[22:05:54] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[22:05:54] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: True
[22:05:54] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[22:05:54] [INFO] [Player] Ready! Ammo: 9/9, Grenades: 1/3, Health: 10/10
[22:05:54] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[22:05:54] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[22:05:54] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[22:05:54] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[22:05:54] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[22:05:54] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[22:05:54] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[22:05:54] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[22:05:54] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[22:05:54] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[22:05:54] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[22:05:54] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[22:05:54] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[22:05:54] [INFO] [BuildingLevel] Setting up weapon: makarov_pm
[22:05:54] [INFO] [ScoreManager] Level started with 10 enemies
[22:05:54] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[22:05:54] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[22:05:54] [INFO] [ReplayManager] Replay data cleared
[22:05:54] [INFO] [BuildingLevel] Previous replay data cleared
[22:05:54] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[22:05:54] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[22:05:54] [INFO] [ReplayManager] Level: BuildingLevel
[22:05:54] [INFO] [ReplayManager] Player: Player (valid: True)
[22:05:54] [INFO] [ReplayManager] Enemies count: 10
[22:05:54] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[22:05:54] [INFO] [ReplayManager]   Enemy 0: Enemy1
[22:05:54] [INFO] [ReplayManager]   Enemy 1: Enemy2
[22:05:54] [INFO] [ReplayManager]   Enemy 2: Enemy3
[22:05:54] [INFO] [ReplayManager]   Enemy 3: Enemy4
[22:05:54] [INFO] [ReplayManager]   Enemy 4: Enemy5
[22:05:54] [INFO] [ReplayManager]   Enemy 5: Enemy6
[22:05:54] [INFO] [ReplayManager]   Enemy 6: Enemy7
[22:05:54] [INFO] [ReplayManager]   Enemy 7: Enemy8
[22:05:54] [INFO] [ReplayManager]   Enemy 8: Enemy9
[22:05:54] [INFO] [ReplayManager]   Enemy 9: Enemy10
[22:05:54] [INFO] [BuildingLevel] Replay recording started successfully
[22:05:54] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[22:05:54] [INFO] [CinemaEffects] Found player node: Player
[22:05:54] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[22:05:54] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 21)
[22:05:54] [ENEMY] [Enemy1] Registered as sound listener
[22:05:54] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 4, behavior: GUARD
[22:05:54] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[22:05:54] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 22)
[22:05:54] [ENEMY] [Enemy2] Registered as sound listener
[22:05:54] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 2, behavior: GUARD
[22:05:54] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[22:05:54] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 23)
[22:05:54] [ENEMY] [Enemy3] Registered as sound listener
[22:05:54] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 4, behavior: GUARD
[22:05:54] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[22:05:54] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 24)
[22:05:54] [ENEMY] [Enemy4] Registered as sound listener
[22:05:54] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 2, behavior: GUARD
[22:05:54] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[22:05:54] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 25)
[22:05:54] [ENEMY] [Enemy5] Registered as sound listener
[22:05:54] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 4, behavior: GUARD
[22:05:54] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[22:05:54] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 26)
[22:05:54] [ENEMY] [Enemy6] Registered as sound listener
[22:05:54] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 2, behavior: GUARD
[22:05:54] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[22:05:54] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 27)
[22:05:54] [ENEMY] [Enemy7] Registered as sound listener
[22:05:54] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 3, behavior: PATROL
[22:05:54] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[22:05:54] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 28)
[22:05:54] [ENEMY] [Enemy8] Registered as sound listener
[22:05:54] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 3, behavior: GUARD
[22:05:54] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[22:05:54] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 29)
[22:05:54] [ENEMY] [Enemy9] Registered as sound listener
[22:05:54] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 3, behavior: GUARD
[22:05:54] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[22:05:54] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 30)
[22:05:54] [ENEMY] [Enemy10] Registered as sound listener
[22:05:54] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 3, behavior: PATROL
[22:05:54] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[22:05:54] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[22:05:54] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:05:54] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:05:54] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=281.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:05:54] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:05:54] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:05:54] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=225.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:05:54] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=123.7°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:05:54] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:05:54] [INFO] [Player] Detecting weapon pose (frame 3)...
[22:05:54] [INFO] [Player] Detected weapon: Makarov PM (Pistol pose)
[22:05:54] [INFO] [Player] Applied Pistol arm pose: Left=(16, 6), Right=(4, 6)
[22:05:54] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[22:05:54] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[22:05:54] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[22:05:54] [INFO] [LastChance] Found player: Player
[22:05:54] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[22:05:54] [INFO] [LastChance] Connected to player Damaged signal (C#)
[22:05:54] [INFO] [LastChance] Connected to player Died signal (C#)
[22:05:54] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[22:05:54] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[22:05:54] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:05:54] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[22:05:54] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[22:05:54] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[22:05:54] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[22:05:54] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[22:05:54] [INFO] [LastChance] Resetting all effects (scene change detected)
[22:05:54] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[22:05:54] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[22:05:54] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[22:05:54] [ENEMY] [Enemy1] Death animation component initialized
[22:05:54] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:05:54] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[22:05:54] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[22:05:54] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[22:05:54] [ENEMY] [Enemy2] Death animation component initialized
[22:05:54] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:05:54] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[22:05:54] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[22:05:54] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[22:05:54] [ENEMY] [Enemy3] Death animation component initialized
[22:05:54] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:05:54] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[22:05:54] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[22:05:54] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[22:05:54] [ENEMY] [Enemy4] Death animation component initialized
[22:05:54] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:05:54] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[22:05:54] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[22:05:54] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[22:05:54] [ENEMY] [Enemy5] Death animation component initialized
[22:05:54] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:05:54] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[22:05:54] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[22:05:54] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[22:05:54] [ENEMY] [Enemy6] Death animation component initialized
[22:05:54] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:05:54] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[22:05:54] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[22:05:54] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[22:05:54] [ENEMY] [Enemy7] Death animation component initialized
[22:05:54] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:05:54] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[22:05:54] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[22:05:54] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[22:05:54] [ENEMY] [Enemy8] Death animation component initialized
[22:05:54] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:05:54] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[22:05:54] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[22:05:54] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[22:05:54] [ENEMY] [Enemy9] Death animation component initialized
[22:05:54] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:05:54] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[22:05:54] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[22:05:54] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[22:05:54] [ENEMY] [Enemy10] Death animation component initialized
[22:05:54] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:05:54] [INFO] [BloodyFeet:Player] Footprint scene loaded
[22:05:54] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[22:05:54] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[22:05:54] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[22:05:54] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[22:05:54] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[22:05:54] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[22:05:54] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[22:05:54] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[22:05:54] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[22:05:54] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: True
[22:05:54] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[22:05:54] [INFO] [Player] Ready! Ammo: 9/9, Grenades: 1/3, Health: 10/10
[22:05:54] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[22:05:54] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[22:05:54] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[22:05:54] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[22:05:54] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[22:05:54] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[22:05:54] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[22:05:54] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[22:05:54] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[22:05:54] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[22:05:54] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[22:05:54] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[22:05:54] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[22:05:54] [INFO] [BuildingLevel] Setting up weapon: makarov_pm
[22:05:54] [INFO] [ScoreManager] Level started with 10 enemies
[22:05:54] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[22:05:54] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[22:05:54] [INFO] [ReplayManager] Replay data cleared
[22:05:54] [INFO] [BuildingLevel] Previous replay data cleared
[22:05:54] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[22:05:54] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[22:05:54] [INFO] [ReplayManager] Level: BuildingLevel
[22:05:54] [INFO] [ReplayManager] Player: Player (valid: True)
[22:05:54] [INFO] [ReplayManager] Enemies count: 10
[22:05:54] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[22:05:54] [INFO] [ReplayManager]   Enemy 0: Enemy1
[22:05:54] [INFO] [ReplayManager]   Enemy 1: Enemy2
[22:05:54] [INFO] [ReplayManager]   Enemy 2: Enemy3
[22:05:54] [INFO] [ReplayManager]   Enemy 3: Enemy4
[22:05:54] [INFO] [ReplayManager]   Enemy 4: Enemy5
[22:05:54] [INFO] [ReplayManager]   Enemy 5: Enemy6
[22:05:54] [INFO] [ReplayManager]   Enemy 6: Enemy7
[22:05:54] [INFO] [ReplayManager]   Enemy 7: Enemy8
[22:05:54] [INFO] [ReplayManager]   Enemy 8: Enemy9
[22:05:54] [INFO] [ReplayManager]   Enemy 9: Enemy10
[22:05:54] [INFO] [BuildingLevel] Replay recording started successfully
[22:05:54] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[22:05:54] [INFO] [CinemaEffects] Found player node: Player
[22:05:54] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[22:05:54] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 31)
[22:05:54] [ENEMY] [Enemy1] Registered as sound listener
[22:05:54] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 2, behavior: GUARD
[22:05:54] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[22:05:54] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 32)
[22:05:54] [ENEMY] [Enemy2] Registered as sound listener
[22:05:54] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 3, behavior: GUARD
[22:05:54] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[22:05:54] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 33)
[22:05:54] [ENEMY] [Enemy3] Registered as sound listener
[22:05:54] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 2, behavior: GUARD
[22:05:54] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[22:05:54] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 34)
[22:05:54] [ENEMY] [Enemy4] Registered as sound listener
[22:05:54] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 3, behavior: GUARD
[22:05:54] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[22:05:54] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 35)
[22:05:54] [ENEMY] [Enemy5] Registered as sound listener
[22:05:54] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 4, behavior: GUARD
[22:05:54] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[22:05:54] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 36)
[22:05:54] [ENEMY] [Enemy6] Registered as sound listener
[22:05:54] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 2, behavior: GUARD
[22:05:54] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[22:05:54] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 37)
[22:05:54] [ENEMY] [Enemy7] Registered as sound listener
[22:05:54] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 3, behavior: PATROL
[22:05:54] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[22:05:54] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 38)
[22:05:54] [ENEMY] [Enemy8] Registered as sound listener
[22:05:54] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 3, behavior: GUARD
[22:05:54] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[22:05:54] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 39)
[22:05:54] [ENEMY] [Enemy9] Registered as sound listener
[22:05:54] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 4, behavior: GUARD
[22:05:54] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[22:05:54] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 40)
[22:05:54] [ENEMY] [Enemy10] Registered as sound listener
[22:05:54] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 2, behavior: PATROL
[22:05:54] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[22:05:55] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[22:05:55] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:05:55] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:05:55] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=123.7°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:05:55] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:05:55] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=180.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:05:55] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:05:55] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=213.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:05:55] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:05:55] [INFO] [Player] Detecting weapon pose (frame 3)...
[22:05:55] [INFO] [Player] Detected weapon: Makarov PM (Pistol pose)
[22:05:55] [INFO] [Player] Applied Pistol arm pose: Left=(16, 6), Right=(4, 6)
[22:05:55] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[22:05:55] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[22:05:55] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[22:05:55] [INFO] [LastChance] Found player: Player
[22:05:55] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[22:05:55] [INFO] [LastChance] Connected to player Damaged signal (C#)
[22:05:55] [INFO] [LastChance] Connected to player Died signal (C#)
[22:05:55] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[22:05:55] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[22:05:56] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[22:05:56] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[22:05:56] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(644,1211), corner_timer=0.30
[22:05:56] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(644,1211), corner_timer=0.30
[22:05:56] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(570,1137), corner_timer=-0.02
[22:05:56] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[22:05:56] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(570,1137), corner_timer=-0.02
[22:05:56] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[22:05:56] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(566,1133), corner_timer=0.30
[22:05:56] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(566,1133), corner_timer=0.30
[22:05:56] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[22:05:57] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(493,1059), corner_timer=-0.02
[22:05:57] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[22:05:57] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(489,1055), corner_timer=0.30
[22:05:57] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(415,981), corner_timer=-0.02
[22:05:57] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[22:05:57] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.6°, player=(411,977), corner_timer=0.30
[22:05:57] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(380,885), corner_timer=-0.02
[22:05:57] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[22:05:57] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.8°, current=6.3°, player=(380,880), corner_timer=0.30
[22:05:57] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=10
[22:05:57] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=164.5°, current=123.7°, player=(380,838), corner_timer=0.00
[22:05:57] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[22:05:58] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=165.5°, current=-65.5°, player=(380,832), corner_timer=0.00
[22:05:58] [ENEMY] [Enemy4] Memory: high confidence (0.89) - transitioning to PURSUING
[22:05:58] [ENEMY] [Enemy4] State: IDLE -> PURSUING
[22:05:58] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=-170.1°, current=-101.3°, player=(380,827), corner_timer=0.00
[22:05:58] [ENEMY] [Enemy4] PURSUING corner check: angle -100.7°
[22:05:58] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.8°, player=(380,818), corner_timer=-0.02
[22:05:58] [ENEMY] [Enemy10] PATROL corner check: angle 0.9°
[22:05:58] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=0.9°, current=4.6°, player=(380,817), corner_timer=0.30
[22:05:58] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=168.3°, current=-142.5°, player=(380,817), corner_timer=0.00
[22:05:58] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:05:58] [ENEMY] [Enemy4] PURSUING corner check: angle -94.0°
[22:05:58] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=-130.1°, player=(380,817), corner_timer=-0.02
[22:05:58] [ENEMY] [Enemy7] PATROL corner check: angle 90.0°
[22:05:58] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=-133.0°, player=(380,817), corner_timer=0.30
[22:05:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(616.7442, 768.6499), source=ENEMY (Enemy3), range=1469, listeners=40
[22:05:58] [INFO] [SoundPropagation] Cleaned up 30 invalid listeners
[22:05:58] [ENEMY] [Enemy2] Heard gunshot at (616.7442, 768.6499), source_type=1, intensity=0.03, distance=308
[22:05:58] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[22:05:58] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=94.1°, current=-67.5°, player=(380,817), corner_timer=0.00
[22:05:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(552.1416, 790.02985), shooter_id=158863461528, bullet_pos=(511.33627, 798.4582)
[22:05:58] [INFO] [Bullet] Using shooter_position, distance=41,666676
[22:05:58] [INFO] [Bullet] Distance to wall: 41,666676 (2,8371606% of viewport)
[22:05:58] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[22:05:58] [INFO] [Bullet] Starting wall penetration at (511.33627, 798.4582)
[22:05:58] [INFO] [LastChance] Threat detected: Bullet
[22:05:58] [INFO] [LastChance] Not in hard mode - effect disabled
[22:05:58] [INFO] [LastChance] Cannot trigger effect - conditions not met
[22:05:58] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:05:58] [INFO] [Bullet] Raycast backward hit penetrating body at distance 35,091114
[22:05:58] [INFO] [Bullet] Body exited signal received for penetrating body
[22:05:58] [INFO] [Bullet] Exiting penetration at (465.6343, 807.89795) after traveling 41,666668 pixels through wall
[22:05:58] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[22:05:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(616.7442, 768.6499), source=ENEMY (Enemy3), range=1469, listeners=10
[22:05:58] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[22:05:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(552.2116, 790.2122), shooter_id=158863461528, bullet_pos=(511.40277, 798.62354)
[22:05:58] [INFO] [Bullet] Using shooter_position, distance=41,66667
[22:05:58] [INFO] [Bullet] Distance to wall: 41,66667 (2,8371603% of viewport)
[22:05:58] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[22:05:58] [INFO] [Bullet] Starting wall penetration at (511.40277, 798.62354)
[22:05:58] [INFO] [LastChance] Threat detected: Bullet
[22:05:58] [INFO] [LastChance] Not in hard mode - effect disabled
[22:05:58] [INFO] [LastChance] Cannot trigger effect - conditions not met
[22:05:58] [INFO] [Bullet] Raycast backward hit penetrating body at distance 35,024208
[22:05:58] [INFO] [Bullet] Body exited signal received for penetrating body
[22:05:58] [INFO] [Bullet] Exiting penetration at (465.69687, 808.0442) after traveling 41,666668 pixels through wall
[22:05:58] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[22:05:58] [INFO] [ReplayManager] Recording frame 240 (4,0s): player_valid=True, enemies=10
[22:05:59] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[22:05:59] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=179.1°, current=172.4°, player=(402,817), corner_timer=-0.02
[22:05:59] [ENEMY] [Enemy7] PATROL corner check: angle 89.8°
[22:05:59] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.8°, current=175.3°, player=(406,817), corner_timer=0.30
[22:05:59] [ENEMY] [Enemy1] Memory: medium confidence (0.60) - transitioning to PURSUING
[22:05:59] [ENEMY] [Enemy1] State: IDLE -> PURSUING
[22:05:59] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=75.4°, current=168.8°, player=(422,820), corner_timer=0.00
[22:05:59] [ENEMY] [Enemy1] PURSUING corner check: angle -50.9°
[22:05:59] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=131.6°, current=168.3°, player=(425,822), corner_timer=0.00
[22:05:59] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[22:05:59] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[22:05:59] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:05:59] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[22:05:59] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=178.4°, current=120.7°, player=(450,869), corner_timer=-0.02
[22:05:59] [ENEMY] [Enemy7] PATROL corner check: angle 89.7°
[22:05:59] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.7°, current=123.6°, player=(450,874), corner_timer=0.30
[22:05:59] [ENEMY] [Enemy1] PURSUING corner check: angle -51.1°
[22:05:59] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:05:59] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[22:05:59] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:05:59] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[22:05:59] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[22:05:59] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[22:05:59] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[22:05:59] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[22:05:59] [INFO] [LastChance] Resetting all effects (scene change detected)
[22:05:59] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[22:05:59] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[22:05:59] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[22:05:59] [ENEMY] [Enemy1] Death animation component initialized
[22:05:59] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:05:59] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[22:05:59] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[22:05:59] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[22:05:59] [ENEMY] [Enemy2] Death animation component initialized
[22:05:59] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:05:59] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[22:05:59] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[22:05:59] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[22:05:59] [ENEMY] [Enemy3] Death animation component initialized
[22:05:59] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:05:59] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[22:05:59] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[22:05:59] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[22:05:59] [ENEMY] [Enemy4] Death animation component initialized
[22:05:59] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:05:59] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[22:05:59] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[22:05:59] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[22:05:59] [ENEMY] [Enemy5] Death animation component initialized
[22:05:59] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:05:59] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[22:05:59] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[22:05:59] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[22:05:59] [ENEMY] [Enemy6] Death animation component initialized
[22:05:59] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:05:59] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[22:05:59] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[22:05:59] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[22:05:59] [INFO] [EnemyGrenade] Initialized: 1 grenades
[22:05:59] [ENEMY] [Enemy7] Death animation component initialized
[22:05:59] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:05:59] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[22:05:59] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[22:05:59] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[22:05:59] [ENEMY] [Enemy8] Death animation component initialized
[22:05:59] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:05:59] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[22:05:59] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[22:05:59] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[22:05:59] [ENEMY] [Enemy9] Death animation component initialized
[22:05:59] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:05:59] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[22:05:59] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[22:05:59] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[22:05:59] [ENEMY] [Enemy10] Death animation component initialized
[22:05:59] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:05:59] [INFO] [BloodyFeet:Player] Footprint scene loaded
[22:05:59] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[22:05:59] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[22:05:59] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[22:05:59] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[22:05:59] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[22:05:59] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[22:05:59] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[22:05:59] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[22:05:59] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[22:05:59] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: True
[22:05:59] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[22:05:59] [INFO] [Player] Ready! Ammo: 9/9, Grenades: 1/3, Health: 10/10
[22:05:59] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[22:05:59] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[22:05:59] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[22:05:59] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[22:05:59] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[22:05:59] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[22:05:59] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[22:05:59] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[22:05:59] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[22:05:59] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[22:05:59] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[22:05:59] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[22:05:59] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[22:05:59] [INFO] [BuildingLevel] Setting up weapon: makarov_pm
[22:05:59] [INFO] [ScoreManager] Level started with 10 enemies
[22:05:59] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[22:05:59] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[22:05:59] [INFO] [ReplayManager] Replay data cleared
[22:05:59] [INFO] [BuildingLevel] Previous replay data cleared
[22:05:59] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[22:05:59] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[22:05:59] [INFO] [ReplayManager] Level: BuildingLevel
[22:05:59] [INFO] [ReplayManager] Player: Player (valid: True)
[22:05:59] [INFO] [ReplayManager] Enemies count: 10
[22:05:59] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[22:05:59] [INFO] [ReplayManager]   Enemy 0: Enemy1
[22:05:59] [INFO] [ReplayManager]   Enemy 1: Enemy2
[22:05:59] [INFO] [ReplayManager]   Enemy 2: Enemy3
[22:05:59] [INFO] [ReplayManager]   Enemy 3: Enemy4
[22:05:59] [INFO] [ReplayManager]   Enemy 4: Enemy5
[22:05:59] [INFO] [ReplayManager]   Enemy 5: Enemy6
[22:05:59] [INFO] [ReplayManager]   Enemy 6: Enemy7
[22:05:59] [INFO] [ReplayManager]   Enemy 7: Enemy8
[22:05:59] [INFO] [ReplayManager]   Enemy 8: Enemy9
[22:05:59] [INFO] [ReplayManager]   Enemy 9: Enemy10
[22:05:59] [INFO] [BuildingLevel] Replay recording started successfully
[22:05:59] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[22:05:59] [INFO] [CinemaEffects] Found player node: Player
[22:05:59] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[22:05:59] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[22:05:59] [ENEMY] [Enemy1] Registered as sound listener
[22:05:59] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 3, behavior: GUARD
[22:05:59] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[22:05:59] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[22:05:59] [ENEMY] [Enemy2] Registered as sound listener
[22:05:59] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 3, behavior: GUARD
[22:05:59] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[22:05:59] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[22:05:59] [ENEMY] [Enemy3] Registered as sound listener
[22:05:59] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 3, behavior: GUARD
[22:05:59] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[22:05:59] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[22:05:59] [ENEMY] [Enemy4] Registered as sound listener
[22:05:59] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 2, behavior: GUARD
[22:05:59] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[22:05:59] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[22:05:59] [ENEMY] [Enemy5] Registered as sound listener
[22:05:59] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 2, behavior: GUARD
[22:05:59] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[22:05:59] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[22:05:59] [ENEMY] [Enemy6] Registered as sound listener
[22:05:59] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 3, behavior: GUARD
[22:05:59] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[22:05:59] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[22:05:59] [ENEMY] [Enemy7] Registered as sound listener
[22:05:59] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 3, behavior: PATROL
[22:05:59] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[22:05:59] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[22:05:59] [ENEMY] [Enemy8] Registered as sound listener
[22:05:59] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 3, behavior: GUARD
[22:05:59] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[22:05:59] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[22:05:59] [ENEMY] [Enemy9] Registered as sound listener
[22:05:59] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 2, behavior: GUARD
[22:05:59] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[22:05:59] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[22:05:59] [ENEMY] [Enemy10] Registered as sound listener
[22:05:59] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 3, behavior: PATROL
[22:05:59] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[22:05:59] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[22:05:59] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:05:59] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=45.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:05:59] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=281.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:05:59] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:05:59] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:05:59] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:05:59] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:05:59] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:05:59] [INFO] [Player] Detecting weapon pose (frame 3)...
[22:05:59] [INFO] [Player] Detected weapon: Makarov PM (Pistol pose)
[22:05:59] [INFO] [Player] Applied Pistol arm pose: Left=(16, 6), Right=(4, 6)
[22:05:59] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[22:05:59] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[22:05:59] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[22:05:59] [INFO] [LastChance] Found player: Player
[22:05:59] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[22:05:59] [INFO] [LastChance] Connected to player Damaged signal (C#)
[22:05:59] [INFO] [LastChance] Connected to player Died signal (C#)
[22:05:59] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[22:06:00] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[22:06:01] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[22:06:01] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[22:06:01] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,1250), corner_timer=0.30
[22:06:01] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,1250), corner_timer=0.30
[22:06:01] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[22:06:02] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=10
[22:06:03] [INFO] [PauseMenu] Armory button pressed
[22:06:03] [INFO] [PauseMenu] Creating new armory menu instance
[22:06:03] [INFO] [PauseMenu] armory_menu_scene resource path: res://scenes/ui/ArmoryMenu.tscn
[22:06:03] [INFO] [PauseMenu] Instance created, class: CanvasLayer, name: ArmoryMenu
[22:06:03] [INFO] [PauseMenu] Script attached: res://scripts/ui/armory_menu.gd
[22:06:03] [INFO] [PauseMenu] back_pressed signal exists on instance
[22:06:03] [INFO] [PauseMenu] back_pressed signal connected
[22:06:03] [INFO] [PauseMenu] Armory menu instance added as child, is_inside_tree: true
[22:06:03] [INFO] [PauseMenu] _populate_weapon_grid method exists
[22:06:03] [INFO] [ReplayManager] Recording frame 240 (4,0s): player_valid=True, enemies=10
[22:06:04] [INFO] [ActiveItemManager] Active item changed from None to Flashlight
[22:06:04] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[22:06:04] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:06:04] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[22:06:04] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[22:06:04] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[22:06:04] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[22:06:04] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[22:06:04] [INFO] [LastChance] Resetting all effects (scene change detected)
[22:06:04] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[22:06:04] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[22:06:04] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[22:06:04] [ENEMY] [Enemy1] Death animation component initialized
[22:06:04] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:06:04] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[22:06:04] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[22:06:04] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[22:06:04] [INFO] [EnemyGrenade] Initialized: 1 grenades
[22:06:04] [ENEMY] [Enemy2] Death animation component initialized
[22:06:04] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:06:04] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[22:06:04] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[22:06:04] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[22:06:04] [INFO] [EnemyGrenade] Initialized: 1 grenades
[22:06:04] [ENEMY] [Enemy3] Death animation component initialized
[22:06:04] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:06:04] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[22:06:04] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[22:06:04] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[22:06:04] [ENEMY] [Enemy4] Death animation component initialized
[22:06:04] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:06:04] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[22:06:04] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[22:06:04] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[22:06:04] [ENEMY] [Enemy5] Death animation component initialized
[22:06:04] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:06:04] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[22:06:04] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[22:06:04] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[22:06:04] [ENEMY] [Enemy6] Death animation component initialized
[22:06:04] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:06:04] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[22:06:04] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[22:06:04] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[22:06:04] [ENEMY] [Enemy7] Death animation component initialized
[22:06:04] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:06:04] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[22:06:04] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[22:06:04] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[22:06:04] [ENEMY] [Enemy8] Death animation component initialized
[22:06:04] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:06:04] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[22:06:04] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[22:06:04] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[22:06:04] [ENEMY] [Enemy9] Death animation component initialized
[22:06:04] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:06:04] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[22:06:04] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[22:06:04] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[22:06:04] [ENEMY] [Enemy10] Death animation component initialized
[22:06:04] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:06:04] [INFO] [BloodyFeet:Player] Footprint scene loaded
[22:06:04] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[22:06:04] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[22:06:04] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[22:06:04] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[22:06:04] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[22:06:04] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[22:06:04] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[22:06:04] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[22:06:04] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[22:06:04] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: True
[22:06:04] [INFO] [Player.Flashlight] Flashlight is selected, initializing...
[22:06:04] [INFO] [FlashlightEffect] PointLight2D found, energy=0.0, shadow=true
[22:06:04] [INFO] [FlashlightEffect] Flashlight sound loaded
[22:06:04] [INFO] [Player.Flashlight] Flashlight equipped and attached to PlayerModel at offset (20, 0)
[22:06:04] [INFO] [Player] Ready! Ammo: 9/9, Grenades: 1/3, Health: 10/10
[22:06:04] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[22:06:04] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[22:06:04] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[22:06:04] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[22:06:04] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[22:06:04] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[22:06:04] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[22:06:04] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[22:06:04] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[22:06:04] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[22:06:04] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[22:06:04] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[22:06:04] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[22:06:04] [INFO] [BuildingLevel] Setting up weapon: makarov_pm
[22:06:04] [INFO] [ScoreManager] Level started with 10 enemies
[22:06:04] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[22:06:04] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[22:06:04] [INFO] [ReplayManager] Replay data cleared
[22:06:04] [INFO] [BuildingLevel] Previous replay data cleared
[22:06:04] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[22:06:04] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[22:06:04] [INFO] [ReplayManager] Level: BuildingLevel
[22:06:04] [INFO] [ReplayManager] Player: Player (valid: True)
[22:06:04] [INFO] [ReplayManager] Enemies count: 10
[22:06:04] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[22:06:04] [INFO] [ReplayManager]   Enemy 0: Enemy1
[22:06:04] [INFO] [ReplayManager]   Enemy 1: Enemy2
[22:06:04] [INFO] [ReplayManager]   Enemy 2: Enemy3
[22:06:04] [INFO] [ReplayManager]   Enemy 3: Enemy4
[22:06:04] [INFO] [ReplayManager]   Enemy 4: Enemy5
[22:06:04] [INFO] [ReplayManager]   Enemy 5: Enemy6
[22:06:04] [INFO] [ReplayManager]   Enemy 6: Enemy7
[22:06:04] [INFO] [ReplayManager]   Enemy 7: Enemy8
[22:06:04] [INFO] [ReplayManager]   Enemy 8: Enemy9
[22:06:04] [INFO] [ReplayManager]   Enemy 9: Enemy10
[22:06:04] [INFO] [BuildingLevel] Replay recording started successfully
[22:06:04] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[22:06:04] [INFO] [CinemaEffects] Found player node: Player
[22:06:04] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[22:06:04] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 21)
[22:06:04] [ENEMY] [Enemy1] Registered as sound listener
[22:06:04] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 3, behavior: GUARD
[22:06:04] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[22:06:04] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 22)
[22:06:04] [ENEMY] [Enemy2] Registered as sound listener
[22:06:04] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 4, behavior: GUARD
[22:06:04] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[22:06:04] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 23)
[22:06:04] [ENEMY] [Enemy3] Registered as sound listener
[22:06:04] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 2, behavior: GUARD
[22:06:04] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[22:06:04] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 24)
[22:06:04] [ENEMY] [Enemy4] Registered as sound listener
[22:06:04] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 2, behavior: GUARD
[22:06:04] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[22:06:04] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 25)
[22:06:04] [ENEMY] [Enemy5] Registered as sound listener
[22:06:04] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 2, behavior: GUARD
[22:06:04] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[22:06:04] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 26)
[22:06:04] [ENEMY] [Enemy6] Registered as sound listener
[22:06:04] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 3, behavior: GUARD
[22:06:04] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[22:06:04] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 27)
[22:06:04] [ENEMY] [Enemy7] Registered as sound listener
[22:06:04] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 4, behavior: PATROL
[22:06:04] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[22:06:04] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 28)
[22:06:04] [ENEMY] [Enemy8] Registered as sound listener
[22:06:04] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 4, behavior: GUARD
[22:06:04] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[22:06:04] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 29)
[22:06:04] [ENEMY] [Enemy9] Registered as sound listener
[22:06:04] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 4, behavior: GUARD
[22:06:04] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[22:06:04] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 30)
[22:06:04] [ENEMY] [Enemy10] Registered as sound listener
[22:06:04] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 3, behavior: PATROL
[22:06:04] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[22:06:04] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[22:06:04] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:06:04] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:06:04] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:06:04] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:06:04] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:06:04] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:06:04] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=78.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:06:04] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:06:04] [INFO] [Player] Detecting weapon pose (frame 3)...
[22:06:04] [INFO] [Player] Detected weapon: Makarov PM (Pistol pose)
[22:06:04] [INFO] [Player] Applied Pistol arm pose: Left=(16, 6), Right=(4, 6)
[22:06:04] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[22:06:04] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[22:06:04] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[22:06:04] [INFO] [LastChance] Found player: Player
[22:06:04] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[22:06:04] [INFO] [LastChance] Connected to player Damaged signal (C#)
[22:06:04] [INFO] [LastChance] Connected to player Died signal (C#)
[22:06:04] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[22:06:05] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[22:06:05] [ENEMY] [Enemy4] [#574] Flashlight detected: estimated_pos=(474.6063, 1151.046), beam_dir=(0.946395, -0.323011)
[22:06:05] [ENEMY] [Enemy4] [#574] Flashlight triggered pursuit from IDLE
[22:06:05] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=143.5°, current=168.8°, player=(450,1159), corner_timer=0.00
[22:06:05] [ENEMY] [Enemy4] [#574] Flashlight detected: estimated_pos=(474.6063, 1151.046), beam_dir=(0.946395, -0.323011)
[22:06:05] [ENEMY] [Enemy4] [#574] Flashlight detected: estimated_pos=(474.6063, 1151.046), beam_dir=(0.946395, -0.323011)
[22:06:05] [ENEMY] [Enemy4] PURSUING corner check: angle -100.7°
[22:06:06] [ENEMY] [Enemy4] [#574] Flashlight detected: estimated_pos=(474.6063, 1151.046), beam_dir=(0.946395, -0.323011)
[22:06:06] [ENEMY] [Enemy4] [#574] Flashlight detected: estimated_pos=(474.6063, 1151.046), beam_dir=(0.946395, -0.323011)
[22:06:06] [ENEMY] [Enemy4] [#574] Flashlight detected: estimated_pos=(474.6063, 1151.046), beam_dir=(0.946395, -0.323011)
[22:06:06] [ENEMY] [Enemy4] [#574] Flashlight detected: estimated_pos=(474.6063, 1151.046), beam_dir=(0.946395, -0.323011)
[22:06:06] [ENEMY] [Enemy4] [#574] Flashlight detected: estimated_pos=(474.6063, 1151.046), beam_dir=(0.946395, -0.323011)
[22:06:06] [ENEMY] [Enemy4] [#574] Flashlight detected: estimated_pos=(474.6063, 1151.046), beam_dir=(0.946395, -0.323011)
[22:06:06] [ENEMY] [Enemy4] [#574] Flashlight detected: estimated_pos=(474.2113, 1137.967), beam_dir=(0.931203, -0.3645)
[22:06:06] [ENEMY] [Enemy4] [#574] Flashlight detected: estimated_pos=(474.2113, 1137.967), beam_dir=(0.931203, -0.3645)
[22:06:06] [ENEMY] [Enemy4] [#574] Flashlight detected: estimated_pos=(474.2113, 1137.967), beam_dir=(0.931203, -0.3645)
[22:06:06] [ENEMY] [Enemy4] [#574] Flashlight detected: estimated_pos=(474.2113, 1137.967), beam_dir=(0.931203, -0.3645)
[22:06:06] [ENEMY] [Enemy4] [#574] Flashlight detected: estimated_pos=(474.2113, 1137.967), beam_dir=(0.931203, -0.3645)
[22:06:06] [ENEMY] [Enemy4] [#574] Flashlight detected: estimated_pos=(474.2113, 1137.967), beam_dir=(0.931203, -0.3645)
[22:06:06] [ENEMY] [Enemy4] [#574] Flashlight detected: estimated_pos=(474.2113, 1137.967), beam_dir=(0.931203, -0.3645)
[22:06:06] [ENEMY] [Enemy4] [#574] Flashlight detected: estimated_pos=(474.2113, 1137.967), beam_dir=(0.931203, -0.3645)
[22:06:06] [ENEMY] [Enemy4] [#574] Flashlight detected: estimated_pos=(474.2113, 1137.967), beam_dir=(0.931203, -0.3645)
[22:06:06] [ENEMY] [Enemy4] [#574] Flashlight detected: estimated_pos=(473.7879, 1136.95), beam_dir=(0.914921, -0.403633)
[22:06:06] [ENEMY] [Enemy4] [#574] Flashlight detected: estimated_pos=(473.7879, 1136.95), beam_dir=(0.914921, -0.403633)
[22:06:06] [ENEMY] [Enemy4] [#574] Flashlight detected: estimated_pos=(473.7879, 1136.95), beam_dir=(0.914921, -0.403633)
[22:06:06] [ENEMY] [Enemy4] [#574] Flashlight detected: estimated_pos=(473.7879, 1136.95), beam_dir=(0.914921, -0.403633)
[22:06:06] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[22:06:06] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[22:06:06] [ENEMY] [Enemy3] Memory: medium confidence (0.67) - transitioning to PURSUING
[22:06:06] [ENEMY] [Enemy3] State: IDLE -> PURSUING
[22:06:06] [ENEMY] [Enemy4] [#574] Flashlight detected: estimated_pos=(473.7879, 1136.95), beam_dir=(0.914921, -0.403633)
[22:06:06] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(449,1147), corner_timer=0.30
[22:06:06] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(449,1147), corner_timer=0.30
[22:06:06] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=122.3°, current=11.3°, player=(449,1147), corner_timer=0.00
[22:06:06] [ENEMY] [Enemy4] [#574] Flashlight detected: estimated_pos=(473.7879, 1136.95), beam_dir=(0.914921, -0.403633)
[22:06:06] [ENEMY] [Enemy3] PURSUING corner check: angle -129.3°
[22:06:06] [ENEMY] [Enemy4] [#574] Flashlight detected: estimated_pos=(473.7879, 1136.95), beam_dir=(0.914921, -0.403633)
[22:06:06] [ENEMY] [Enemy4] [#574] Flashlight detected: estimated_pos=(473.7879, 1136.95), beam_dir=(0.914921, -0.403633)
[22:06:06] [ENEMY] [Enemy4] PURSUING corner check: angle -89.8°
[22:06:06] [ENEMY] [Enemy4] [#574] Flashlight detected: estimated_pos=(473.7879, 1136.95), beam_dir=(0.914921, -0.403633)
[22:06:06] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(395,1129), corner_timer=-0.02
[22:06:06] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[22:06:06] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(395,1129), corner_timer=-0.02
[22:06:06] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[22:06:06] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(391,1125), corner_timer=0.30
[22:06:06] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(391,1125), corner_timer=0.30
[22:06:06] [ENEMY] [Enemy3] PURSUING corner check: angle -161.0°
[22:06:06] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[22:06:06] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(342,1041), corner_timer=-0.02
[22:06:06] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[22:06:06] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(342,1036), corner_timer=0.30
[22:06:07] [ENEMY] [Enemy3] PURSUING corner check: angle 19.0°
[22:06:07] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(342,935), corner_timer=-0.02
[22:06:07] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[22:06:07] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.6°, player=(342,932), corner_timer=0.30
[22:06:07] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(342,907), corner_timer=-0.02
[22:06:07] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[22:06:07] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.8°, current=6.3°, player=(342,907), corner_timer=0.30
[22:06:07] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=10
[22:06:07] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.8°, player=(342,907), corner_timer=-0.02
[22:06:07] [ENEMY] [Enemy10] PATROL corner check: angle 0.9°
[22:06:07] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=0.9°, current=4.6°, player=(342,907), corner_timer=0.30
[22:06:08] [ENEMY] [Enemy4] FLANKING started: target=(399.4624, 1099.174), side=right, pos=(565.1336, 960.3762)
[22:06:08] [ENEMY] [Enemy4] State: PURSUING -> FLANKING
[22:06:08] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:06:08] [ENEMY] [Enemy4] FLANKING corner check: angle -37.2°
[22:06:08] [INFO] [ReplayManager] Recording frame 240 (4,0s): player_valid=True, enemies=10
[22:06:09] [INFO] [ReplayManager] Recording frame 300 (5,0s): player_valid=True, enemies=10
[22:06:10] [INFO] [PauseMenu] Armory button pressed
[22:06:10] [INFO] [PauseMenu] Creating new armory menu instance
[22:06:10] [INFO] [PauseMenu] armory_menu_scene resource path: res://scenes/ui/ArmoryMenu.tscn
[22:06:10] [INFO] [PauseMenu] Instance created, class: CanvasLayer, name: ArmoryMenu
[22:06:10] [INFO] [PauseMenu] Script attached: res://scripts/ui/armory_menu.gd
[22:06:10] [INFO] [PauseMenu] back_pressed signal exists on instance
[22:06:10] [INFO] [PauseMenu] back_pressed signal connected
[22:06:10] [INFO] [PauseMenu] Armory menu instance added as child, is_inside_tree: true
[22:06:10] [INFO] [PauseMenu] _populate_weapon_grid method exists
[22:06:10] [INFO] [ReplayManager] Recording frame 360 (6,0s): player_valid=True, enemies=10
[22:06:11] [INFO] [ReplayManager] Recording frame 420 (7,0s): player_valid=True, enemies=10
[22:06:11] [INFO] [GameManager] Weapon selected: m16
[22:06:11] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[22:06:11] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:06:11] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[22:06:11] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[22:06:11] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[22:06:11] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[22:06:11] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[22:06:11] [INFO] [LastChance] Resetting all effects (scene change detected)
[22:06:11] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[22:06:11] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[22:06:11] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[22:06:11] [ENEMY] [Enemy1] Death animation component initialized
[22:06:11] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:06:11] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[22:06:11] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[22:06:11] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[22:06:11] [ENEMY] [Enemy2] Death animation component initialized
[22:06:11] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:06:11] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[22:06:11] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[22:06:11] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[22:06:11] [ENEMY] [Enemy3] Death animation component initialized
[22:06:11] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:06:11] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[22:06:11] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[22:06:11] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[22:06:11] [ENEMY] [Enemy4] Death animation component initialized
[22:06:11] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:06:11] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[22:06:11] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[22:06:11] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[22:06:11] [ENEMY] [Enemy5] Death animation component initialized
[22:06:11] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:06:11] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[22:06:11] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[22:06:11] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[22:06:11] [ENEMY] [Enemy6] Death animation component initialized
[22:06:11] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:06:11] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[22:06:11] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[22:06:11] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[22:06:11] [ENEMY] [Enemy7] Death animation component initialized
[22:06:11] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:06:11] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[22:06:11] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[22:06:11] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[22:06:11] [ENEMY] [Enemy8] Death animation component initialized
[22:06:11] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:06:11] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[22:06:11] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[22:06:11] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[22:06:12] [ENEMY] [Enemy9] Death animation component initialized
[22:06:12] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:06:12] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[22:06:12] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[22:06:12] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[22:06:12] [ENEMY] [Enemy10] Death animation component initialized
[22:06:12] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:06:12] [INFO] [BloodyFeet:Player] Footprint scene loaded
[22:06:12] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[22:06:12] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[22:06:12] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[22:06:12] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[22:06:12] [INFO] [Player.Weapon] GameManager weapon selection: m16 (AssaultRifle)
[22:06:12] [INFO] [Player.Weapon] Removed default MakarovPM
[22:06:12] [INFO] [Player.Weapon] Equipped AssaultRifle (ammo: 30/30)
[22:06:12] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[22:06:12] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[22:06:12] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[22:06:12] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[22:06:12] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[22:06:12] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: True
[22:06:12] [INFO] [Player.Flashlight] Flashlight is selected, initializing...
[22:06:12] [INFO] [FlashlightEffect] PointLight2D found, energy=0.0, shadow=true
[22:06:12] [INFO] [FlashlightEffect] Flashlight sound loaded
[22:06:12] [INFO] [Player.Flashlight] Flashlight equipped and attached to PlayerModel at offset (20, 0)
[22:06:12] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 10/10
[22:06:12] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[22:06:12] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[22:06:12] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[22:06:12] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[22:06:12] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[22:06:12] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[22:06:12] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[22:06:12] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[22:06:12] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[22:06:12] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[22:06:12] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[22:06:12] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[22:06:12] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[22:06:12] [INFO] [BuildingLevel] Setting up weapon: m16
[22:06:12] [INFO] [BuildingLevel] AssaultRifle already equipped by C# Player - skipping GDScript weapon swap
[22:06:12] [INFO] [ScoreManager] Level started with 10 enemies
[22:06:12] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[22:06:12] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[22:06:12] [INFO] [ReplayManager] Replay data cleared
[22:06:12] [INFO] [BuildingLevel] Previous replay data cleared
[22:06:12] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[22:06:12] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[22:06:12] [INFO] [ReplayManager] Level: BuildingLevel
[22:06:12] [INFO] [ReplayManager] Player: Player (valid: True)
[22:06:12] [INFO] [ReplayManager] Enemies count: 10
[22:06:12] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[22:06:12] [INFO] [ReplayManager]   Enemy 0: Enemy1
[22:06:12] [INFO] [ReplayManager]   Enemy 1: Enemy2
[22:06:12] [INFO] [ReplayManager]   Enemy 2: Enemy3
[22:06:12] [INFO] [ReplayManager]   Enemy 3: Enemy4
[22:06:12] [INFO] [ReplayManager]   Enemy 4: Enemy5
[22:06:12] [INFO] [ReplayManager]   Enemy 5: Enemy6
[22:06:12] [INFO] [ReplayManager]   Enemy 6: Enemy7
[22:06:12] [INFO] [ReplayManager]   Enemy 7: Enemy8
[22:06:12] [INFO] [ReplayManager]   Enemy 8: Enemy9
[22:06:12] [INFO] [ReplayManager]   Enemy 9: Enemy10
[22:06:12] [INFO] [BuildingLevel] Replay recording started successfully
[22:06:12] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[22:06:12] [INFO] [CinemaEffects] Found player node: Player
[22:06:12] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[22:06:12] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 31)
[22:06:12] [ENEMY] [Enemy1] Registered as sound listener
[22:06:12] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 2, behavior: GUARD
[22:06:12] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[22:06:12] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 32)
[22:06:12] [ENEMY] [Enemy2] Registered as sound listener
[22:06:12] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 3, behavior: GUARD
[22:06:12] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[22:06:12] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 33)
[22:06:12] [ENEMY] [Enemy3] Registered as sound listener
[22:06:12] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 3, behavior: GUARD
[22:06:12] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[22:06:12] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 34)
[22:06:12] [ENEMY] [Enemy4] Registered as sound listener
[22:06:12] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 2, behavior: GUARD
[22:06:12] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[22:06:12] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 35)
[22:06:12] [ENEMY] [Enemy5] Registered as sound listener
[22:06:12] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 2, behavior: GUARD
[22:06:12] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[22:06:12] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 36)
[22:06:12] [ENEMY] [Enemy6] Registered as sound listener
[22:06:12] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 2, behavior: GUARD
[22:06:12] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[22:06:12] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 37)
[22:06:12] [ENEMY] [Enemy7] Registered as sound listener
[22:06:12] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 2, behavior: PATROL
[22:06:12] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[22:06:12] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 38)
[22:06:12] [ENEMY] [Enemy8] Registered as sound listener
[22:06:12] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 4, behavior: GUARD
[22:06:12] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[22:06:12] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 39)
[22:06:12] [ENEMY] [Enemy9] Registered as sound listener
[22:06:12] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 3, behavior: GUARD
[22:06:12] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[22:06:12] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 40)
[22:06:12] [ENEMY] [Enemy10] Registered as sound listener
[22:06:12] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 3, behavior: PATROL
[22:06:12] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[22:06:12] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[22:06:12] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:06:12] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=45.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:06:12] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=281.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:06:12] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:06:12] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:06:12] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=225.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:06:12] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:06:12] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:06:12] [INFO] [Player] Detecting weapon pose (frame 3)...
[22:06:12] [INFO] [Player] Detected weapon: Rifle (default pose)
[22:06:12] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[22:06:12] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[22:06:12] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[22:06:12] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[22:06:12] [INFO] [LastChance] Found player: Player
[22:06:12] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[22:06:12] [INFO] [LastChance] Connected to player Damaged signal (C#)
[22:06:12] [INFO] [LastChance] Connected to player Died signal (C#)
[22:06:12] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[22:06:13] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[22:06:13] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[22:06:13] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[22:06:13] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,946), corner_timer=0.30
[22:06:13] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,946), corner_timer=0.30
[22:06:14] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(450,889), corner_timer=-0.02
[22:06:14] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[22:06:14] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(450,889), corner_timer=-0.02
[22:06:14] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[22:06:14] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(450,888), corner_timer=0.30
[22:06:14] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(450,888), corner_timer=0.30
[22:06:14] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[22:06:14] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(450,887), corner_timer=-0.02
[22:06:14] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[22:06:14] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(450,886), corner_timer=0.30
[22:06:14] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(450,810), corner_timer=-0.02
[22:06:14] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[22:06:14] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.6°, player=(450,805), corner_timer=0.30
[22:06:15] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(490,728), corner_timer=-0.02
[22:06:15] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[22:06:15] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.8°, current=6.3°, player=(495,728), corner_timer=0.30
[22:06:15] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=56.7°, current=45.0°, player=(517,728), corner_timer=0.00
[22:06:15] [ENEMY] [Enemy2] State: IDLE -> COMBAT
[22:06:15] [ENEMY] [Enemy4] [#574] Flashlight detected: estimated_pos=(550.778, 740.9422), beam_dir=(0.868813, 0.49514)
[22:06:15] [ENEMY] [Enemy4] [#574] Flashlight triggered pursuit from IDLE
[22:06:15] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=-147.7°, current=-67.5°, player=(528,728), corner_timer=0.00
[22:06:15] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=10
[22:06:15] [ENEMY] [Enemy4] [#574] Flashlight detected: estimated_pos=(550.778, 740.9422), beam_dir=(0.868813, 0.49514)
[22:06:15] [ENEMY] [Enemy4] [#574] Flashlight detected: estimated_pos=(550.778, 740.9422), beam_dir=(0.868813, 0.49514)
[22:06:15] [ENEMY] [Enemy4] [#574] Next waypoint lit by flashlight, attempting flank to avoid lit passage
[22:06:15] [ENEMY] [Enemy4] FLANKING started: target=(523.9825, 927.4896), side=right, pos=(797.6942, 904.8091)
[22:06:15] [ENEMY] [Enemy4] State: PURSUING -> FLANKING
[22:06:15] [ENEMY] [Enemy4] [#574] Flashlight detected: estimated_pos=(550.778, 740.9422), beam_dir=(0.868813, 0.49514)
[22:06:15] [ENEMY] [Enemy4] FLANKING corner check: angle -87.8°
[22:06:15] [ENEMY] [Enemy4] [#574] Flashlight detected: estimated_pos=(550.778, 740.9422), beam_dir=(0.868813, 0.49514)
[22:06:15] [ENEMY] [Enemy4] [#574] Flashlight detected: estimated_pos=(550.778, 740.9422), beam_dir=(0.868813, 0.49514)
[22:06:15] [ENEMY] [Enemy4] [#574] Flashlight detected: estimated_pos=(550.778, 740.9422), beam_dir=(0.868813, 0.49514)
[22:06:15] [ENEMY] [Enemy1] Memory: high confidence (0.90) - transitioning to PURSUING
[22:06:15] [ENEMY] [Enemy1] State: IDLE -> PURSUING
[22:06:15] [ENEMY] [Enemy3] Memory: medium confidence (0.67) - transitioning to PURSUING
[22:06:15] [ENEMY] [Enemy3] State: IDLE -> PURSUING
[22:06:15] [ENEMY] [Enemy4] [#574] Flashlight detected: estimated_pos=(550.778, 740.9422), beam_dir=(0.868813, 0.49514)
[22:06:15] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=54.2°, current=-157.5°, player=(572,728), corner_timer=0.00
[22:06:15] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=-170.3°, current=-78.7°, player=(572,728), corner_timer=0.00
[22:06:15] [ENEMY] [Enemy4] [#574] Flashlight detected: estimated_pos=(550.778, 740.9422), beam_dir=(0.868813, 0.49514)
[22:06:15] [ENEMY] [Enemy3] PURSUING corner check: angle -117.3°
[22:06:15] [ENEMY] [Enemy1] PURSUING corner check: angle -63.3°
[22:06:15] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.8°, player=(597,732), corner_timer=-0.02
[22:06:15] [ENEMY] [Enemy10] PATROL corner check: angle 0.9°
[22:06:15] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=0.9°, current=4.6°, player=(602,734), corner_timer=0.30
[22:06:15] [ENEMY] [Enemy3] PURSUING corner check: angle 62.7°
[22:06:15] [ENEMY] [Enemy4] FLANKING corner check: angle -90.3°
[22:06:15] [ENEMY] [Enemy1] PURSUING corner check: angle -58.4°
[22:06:15] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=-98.4°, current=-119.6°, player=(637,784), corner_timer=0.28
[22:06:15] [ENEMY] [Enemy4] State: FLANKING -> COMBAT
[22:06:15] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:06:16] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[22:06:16] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:06:16] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[22:06:16] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[22:06:16] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[22:06:16] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[22:06:16] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[22:06:16] [INFO] [LastChance] Resetting all effects (scene change detected)
[22:06:16] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[22:06:16] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[22:06:16] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[22:06:16] [ENEMY] [Enemy1] Death animation component initialized
[22:06:16] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:06:16] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[22:06:16] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[22:06:16] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[22:06:16] [ENEMY] [Enemy2] Death animation component initialized
[22:06:16] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:06:16] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[22:06:16] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[22:06:16] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[22:06:16] [ENEMY] [Enemy3] Death animation component initialized
[22:06:16] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:06:16] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[22:06:16] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[22:06:16] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[22:06:16] [ENEMY] [Enemy4] Death animation component initialized
[22:06:16] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:06:16] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[22:06:16] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[22:06:16] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[22:06:16] [ENEMY] [Enemy5] Death animation component initialized
[22:06:16] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:06:16] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[22:06:16] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[22:06:16] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[22:06:16] [ENEMY] [Enemy6] Death animation component initialized
[22:06:16] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:06:16] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[22:06:16] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[22:06:16] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[22:06:16] [ENEMY] [Enemy7] Death animation component initialized
[22:06:16] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:06:16] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[22:06:16] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[22:06:16] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[22:06:16] [ENEMY] [Enemy8] Death animation component initialized
[22:06:16] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:06:16] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[22:06:16] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[22:06:16] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[22:06:16] [ENEMY] [Enemy9] Death animation component initialized
[22:06:16] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:06:16] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[22:06:16] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[22:06:16] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[22:06:16] [ENEMY] [Enemy10] Death animation component initialized
[22:06:16] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:06:16] [INFO] [BloodyFeet:Player] Footprint scene loaded
[22:06:16] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[22:06:16] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[22:06:16] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[22:06:16] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[22:06:16] [INFO] [Player.Weapon] GameManager weapon selection: m16 (AssaultRifle)
[22:06:16] [INFO] [Player.Weapon] Removed default MakarovPM
[22:06:16] [INFO] [Player.Weapon] Equipped AssaultRifle (ammo: 30/30)
[22:06:16] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[22:06:16] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[22:06:16] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[22:06:16] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[22:06:16] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[22:06:16] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: True
[22:06:16] [INFO] [Player.Flashlight] Flashlight is selected, initializing...
[22:06:16] [INFO] [FlashlightEffect] PointLight2D found, energy=0.0, shadow=true
[22:06:16] [INFO] [FlashlightEffect] Flashlight sound loaded
[22:06:16] [INFO] [Player.Flashlight] Flashlight equipped and attached to PlayerModel at offset (20, 0)
[22:06:16] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 10/10
[22:06:16] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[22:06:16] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[22:06:16] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[22:06:16] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[22:06:16] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[22:06:16] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[22:06:16] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[22:06:16] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[22:06:16] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[22:06:16] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[22:06:16] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[22:06:16] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[22:06:16] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[22:06:16] [INFO] [BuildingLevel] Setting up weapon: m16
[22:06:16] [INFO] [BuildingLevel] AssaultRifle already equipped by C# Player - skipping GDScript weapon swap
[22:06:16] [INFO] [ScoreManager] Level started with 10 enemies
[22:06:16] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[22:06:16] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[22:06:16] [INFO] [ReplayManager] Replay data cleared
[22:06:16] [INFO] [BuildingLevel] Previous replay data cleared
[22:06:16] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[22:06:16] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[22:06:16] [INFO] [ReplayManager] Level: BuildingLevel
[22:06:16] [INFO] [ReplayManager] Player: Player (valid: True)
[22:06:16] [INFO] [ReplayManager] Enemies count: 10
[22:06:16] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[22:06:16] [INFO] [ReplayManager]   Enemy 0: Enemy1
[22:06:16] [INFO] [ReplayManager]   Enemy 1: Enemy2
[22:06:16] [INFO] [ReplayManager]   Enemy 2: Enemy3
[22:06:16] [INFO] [ReplayManager]   Enemy 3: Enemy4
[22:06:16] [INFO] [ReplayManager]   Enemy 4: Enemy5
[22:06:16] [INFO] [ReplayManager]   Enemy 5: Enemy6
[22:06:16] [INFO] [ReplayManager]   Enemy 6: Enemy7
[22:06:16] [INFO] [ReplayManager]   Enemy 7: Enemy8
[22:06:16] [INFO] [ReplayManager]   Enemy 8: Enemy9
[22:06:16] [INFO] [ReplayManager]   Enemy 9: Enemy10
[22:06:16] [INFO] [BuildingLevel] Replay recording started successfully
[22:06:16] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[22:06:16] [INFO] [CinemaEffects] Found player node: Player
[22:06:16] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[22:06:16] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 41)
[22:06:16] [ENEMY] [Enemy1] Registered as sound listener
[22:06:16] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 4, behavior: GUARD
[22:06:16] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[22:06:16] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 42)
[22:06:16] [ENEMY] [Enemy2] Registered as sound listener
[22:06:16] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 3, behavior: GUARD
[22:06:16] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[22:06:16] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 43)
[22:06:16] [ENEMY] [Enemy3] Registered as sound listener
[22:06:16] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 4, behavior: GUARD
[22:06:16] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[22:06:16] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 44)
[22:06:16] [ENEMY] [Enemy4] Registered as sound listener
[22:06:16] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 4, behavior: GUARD
[22:06:16] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[22:06:16] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 45)
[22:06:16] [ENEMY] [Enemy5] Registered as sound listener
[22:06:16] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 3, behavior: GUARD
[22:06:16] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[22:06:16] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 46)
[22:06:16] [ENEMY] [Enemy6] Registered as sound listener
[22:06:16] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 3, behavior: GUARD
[22:06:16] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[22:06:16] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 47)
[22:06:16] [ENEMY] [Enemy7] Registered as sound listener
[22:06:16] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 2, behavior: PATROL
[22:06:16] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[22:06:16] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 48)
[22:06:16] [ENEMY] [Enemy8] Registered as sound listener
[22:06:16] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 2, behavior: GUARD
[22:06:16] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[22:06:16] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 49)
[22:06:16] [ENEMY] [Enemy9] Registered as sound listener
[22:06:16] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 4, behavior: GUARD
[22:06:16] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[22:06:16] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 50)
[22:06:16] [ENEMY] [Enemy10] Registered as sound listener
[22:06:16] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 3, behavior: PATROL
[22:06:16] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[22:06:16] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[22:06:16] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[22:06:16] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=45.0°, current=0.0°, player=(450,1249), corner_timer=0.00
[22:06:16] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=236.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[22:06:16] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[22:06:16] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[22:06:16] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[22:06:16] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=213.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[22:06:16] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=337.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[22:06:16] [INFO] [Player] Detecting weapon pose (frame 3)...
[22:06:16] [INFO] [Player] Detected weapon: Rifle (default pose)
[22:06:16] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[22:06:16] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[22:06:16] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[22:06:16] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[22:06:16] [INFO] [LastChance] Found player: Player
[22:06:16] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[22:06:16] [INFO] [LastChance] Connected to player Damaged signal (C#)
[22:06:16] [INFO] [LastChance] Connected to player Died signal (C#)
[22:06:16] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[22:06:17] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[22:06:17] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[22:06:17] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[22:06:17] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,844), corner_timer=0.30
[22:06:17] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,844), corner_timer=0.30
[22:06:18] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(450,814), corner_timer=-0.02
[22:06:18] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[22:06:18] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(450,814), corner_timer=-0.02
[22:06:18] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[22:06:18] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(450,809), corner_timer=0.30
[22:06:18] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(450,809), corner_timer=0.30
[22:06:18] [ENEMY] [Enemy2] [#574] Flashlight detected: estimated_pos=(475.8218, 792.7388), beam_dir=(0.993146, -0.116879)
[22:06:18] [ENEMY] [Enemy2] [#574] Flashlight triggered pursuit from IDLE
[22:06:18] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=78.5°, current=45.0°, player=(450,795), corner_timer=0.00
[22:06:18] [ENEMY] [Enemy4] [#574] Flashlight detected: estimated_pos=(475.8218, 792.7388), beam_dir=(0.993146, -0.116879)
[22:06:18] [ENEMY] [Enemy4] [#574] Flashlight triggered pursuit from IDLE
[22:06:18] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=-163.4°, current=-67.5°, player=(450,795), corner_timer=0.00
[22:06:18] [ENEMY] [Enemy2] [#574] Flashlight detected: estimated_pos=(475.8218, 792.7388), beam_dir=(0.993146, -0.116879)
[22:06:18] [ENEMY] [Enemy2] PURSUING corner check: angle 151.0°
[22:06:18] [ENEMY] [Enemy4] [#574] Flashlight detected: estimated_pos=(475.8218, 792.7388), beam_dir=(0.993146, -0.116879)
[22:06:18] [ENEMY] [Enemy2] [#574] Flashlight detected: estimated_pos=(475.8218, 792.7388), beam_dir=(0.993146, -0.116879)
[22:06:18] [ENEMY] [Enemy4] [#574] Flashlight detected: estimated_pos=(475.8218, 792.7388), beam_dir=(0.993146, -0.116879)
[22:06:18] [ENEMY] [Enemy4] PURSUING corner check: angle -100.7°
[22:06:18] [ENEMY] [Enemy2] [#574] Flashlight detected: estimated_pos=(475.8218, 792.7388), beam_dir=(0.993146, -0.116879)
[22:06:18] [ENEMY] [Enemy4] [#574] Flashlight detected: estimated_pos=(475.8218, 792.7388), beam_dir=(0.993146, -0.116879)
[22:06:18] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[22:06:18] [ENEMY] [Enemy2] [#574] Flashlight detected: estimated_pos=(475.8218, 792.7388), beam_dir=(0.993146, -0.116879)
[22:06:18] [ENEMY] [Enemy4] [#574] Flashlight detected: estimated_pos=(475.8218, 792.7388), beam_dir=(0.993146, -0.116879)
[22:06:18] [ENEMY] [Enemy2] [#574] Flashlight detected: estimated_pos=(475.8218, 792.7388), beam_dir=(0.993146, -0.116879)
[22:06:18] [ENEMY] [Enemy4] [#574] Flashlight detected: estimated_pos=(475.8218, 792.7388), beam_dir=(0.993146, -0.116879)
[22:06:18] [ENEMY] [Enemy2] [#574] Flashlight detected: estimated_pos=(475.8218, 792.7388), beam_dir=(0.993146, -0.116879)
[22:06:18] [ENEMY] [Enemy4] [#574] Flashlight detected: estimated_pos=(475.8218, 792.7388), beam_dir=(0.993146, -0.116879)
[22:06:18] [ENEMY] [Enemy2] [#574] Flashlight detected: estimated_pos=(475.8218, 792.7388), beam_dir=(0.993146, -0.116879)
[22:06:18] [ENEMY] [Enemy4] [#574] Flashlight detected: estimated_pos=(475.8218, 792.7388), beam_dir=(0.993146, -0.116879)
[22:06:18] [ENEMY] [Enemy1] Memory: medium confidence (0.67) - transitioning to PURSUING
[22:06:18] [ENEMY] [Enemy1] State: IDLE -> PURSUING
[22:06:18] [ENEMY] [Enemy2] [#574] Flashlight detected: estimated_pos=(475.8218, 792.7388), beam_dir=(0.993146, -0.116879)
[22:06:18] [ENEMY] [Enemy3] Memory: medium confidence (0.67) - transitioning to PURSUING
[22:06:18] [ENEMY] [Enemy3] State: IDLE -> PURSUING
[22:06:18] [ENEMY] [Enemy4] [#574] Flashlight detected: estimated_pos=(475.8218, 792.7388), beam_dir=(0.993146, -0.116879)
[22:06:18] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=70.3°, current=168.8°, player=(450,768), corner_timer=0.00
[22:06:18] [ENEMY] [Enemy3] [#574] Flashlight detected: estimated_pos=(475.8907, 765.8962), beam_dir=(0.995796, -0.091594)
[22:06:18] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=175.8°, current=-123.8°, player=(450,768), corner_timer=0.00
[22:06:18] [ENEMY] [Enemy1] PURSUING corner check: angle -50.9°
[22:06:18] [ENEMY] [Enemy3] [#574] Flashlight detected: estimated_pos=(475.8907, 765.8962), beam_dir=(0.995796, -0.091594)
[22:06:18] [ENEMY] [Enemy3] PURSUING corner check: angle -129.3°
[22:06:18] [ENEMY] [Enemy3] [#574] Flashlight detected: estimated_pos=(475.8907, 765.8962), beam_dir=(0.995796, -0.091594)
[22:06:18] [ENEMY] [Enemy3] [#574] Next waypoint lit by flashlight, attempting flank to avoid lit passage
[22:06:18] [ENEMY] [Enemy3] FLANKING started: target=(558.2186, 933.4147), side=right, pos=(695.8723, 753.3773)
[22:06:18] [ENEMY] [Enemy3] State: PURSUING -> FLANKING
[22:06:18] [ENEMY] [Enemy3] [#574] Flashlight detected: estimated_pos=(475.8907, 765.8962), beam_dir=(0.995796, -0.091594)
[22:06:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 763.2777), source=PLAYER (AssaultRifle), range=1469, listeners=50
[22:06:18] [INFO] [SoundPropagation] Cleaned up 40 invalid listeners
[22:06:18] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[22:06:18] [ENEMY] [Enemy3] [#574] Flashlight detected: estimated_pos=(475.8907, 765.8962), beam_dir=(0.995796, -0.091594)
[22:06:18] [ENEMY] [Enemy3] [#574] Flashlight detected: estimated_pos=(475.8907, 765.8962), beam_dir=(0.995796, -0.091594)
[22:06:18] [ENEMY] [Enemy3] [#574] Flashlight detected: estimated_pos=(475.8907, 765.8962), beam_dir=(0.995796, -0.091594)
[22:06:18] [ENEMY] [Enemy3] [#574] Flashlight detected: estimated_pos=(475.8907, 765.8962), beam_dir=(0.995796, -0.091594)
[22:06:18] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(450,762), corner_timer=-0.02
[22:06:18] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[22:06:18] [ENEMY] [Enemy3] Hit: dmg=1, hp=4/4->3/4
[22:06:18] [INFO] [ImpactEffects] spawn_blood_effect called at (671.1057, 773.6408), dir=(1, 0), lethal=false
[22:06:18] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[22:06:18] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[22:06:18] [INFO] [ImpactEffects] Blood effect spawned at (671.1057, 773.6408) (scale=1)
[22:06:18] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=-177.1°, current=180.0°, player=(450,762), corner_timer=0.22
[22:06:18] [ENEMY] [Enemy3] State: FLANKING -> COMBAT
[22:06:18] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(450,762), corner_timer=0.30
[22:06:18] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-150.4°, current=175.9°, player=(450,762), corner_timer=0.05
[22:06:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 762.4444), source=PLAYER (AssaultRifle), range=1469, listeners=10
[22:06:18] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[22:06:18] [ENEMY] [Enemy2] PURSUING corner check: angle -17.0°
[22:06:18] [ENEMY] [Enemy3] Hit: dmg=1, hp=3/4->2/4
[22:06:18] [INFO] [ImpactEffects] spawn_blood_effect called at (663.6757, 779.7198), dir=(1, 0), lethal=false
[22:06:18] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[22:06:18] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[22:06:18] [INFO] [ImpactEffects] Blood effect spawned at (663.6757, 779.7198) (scale=1)
[22:06:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 762.4444), source=PLAYER (AssaultRifle), range=1469, listeners=10
[22:06:18] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[22:06:18] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[22:06:18] [ENEMY] [Enemy4] ROT_CHANGE: P1:visible -> P2:combat_state, state=PURSUING, target=-146.0°, current=-158.8°, player=(450,762), corner_timer=-0.00
[22:06:18] [ENEMY] [Enemy4] PURSUING corner check: angle -84.1°
[22:06:18] [ENEMY] [Enemy1] PURSUING corner check: angle -51.8°
[22:06:18] [ENEMY] [Enemy3] Hit: dmg=1, hp=2/4->1/4
[22:06:18] [INFO] [ImpactEffects] spawn_blood_effect called at (660.0989, 784.9888), dir=(1, 0), lethal=false
[22:06:18] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[22:06:18] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[22:06:18] [INFO] [ImpactEffects] Blood effect spawned at (660.0989, 784.9888) (scale=1)
[22:06:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(658.3965, 786.2744), source=ENEMY (Enemy3), range=1469, listeners=10
[22:06:18] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[22:06:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 762.4444), source=PLAYER (AssaultRifle), range=1469, listeners=10
[22:06:18] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[22:06:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(652.7992, 795.1115), source=ENEMY (Enemy3), range=1469, listeners=10
[22:06:19] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[22:06:19] [INFO] [LastChance] Threat detected: @Area2D@2330
[22:06:19] [INFO] [LastChance] Not in hard mode - effect disabled
[22:06:19] [INFO] [LastChance] Cannot trigger effect - conditions not met
[22:06:19] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(450,762), corner_timer=-0.01
[22:06:19] [ENEMY] [Enemy10] PATROL corner check: angle 3.6°
[22:06:19] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.6°, current=9.1°, player=(450,762), corner_timer=0.30
[22:06:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 762.4444), source=PLAYER (AssaultRifle), range=1469, listeners=10
[22:06:19] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[22:06:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(647.8086, 804.3087), source=ENEMY (Enemy3), range=1469, listeners=10
[22:06:19] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[22:06:19] [INFO] [BloodDecal] Blood puddle created at (743.6346, 776.6385) (added to group)
[22:06:19] [INFO] [LastChance] Threat detected: @Area2D@2335
[22:06:19] [INFO] [LastChance] Not in hard mode - effect disabled
[22:06:19] [INFO] [LastChance] Cannot trigger effect - conditions not met
[22:06:19] [INFO] [BloodDecal] Blood puddle created at (753.1841, 773.8568) (added to group)
[22:06:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(450, 762.4444), shooter_id=505883397122, bullet_pos=(935.30896, 757.5478)
[22:06:19] [INFO] [Bullet] Using shooter_position, distance=485,33368
[22:06:19] [INFO] [Bullet] Distance to wall: 485,33368 (33,047264% of viewport)
[22:06:19] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:06:19] [INFO] [Bullet] Starting wall penetration at (935.30896, 757.5478)
[22:06:19] [INFO] [Player] Hit blocked by invincibility mode (C#)
[22:06:19] [INFO] [Player] Spawning blood effect at (450, 762.4444), dir=(1, 0), lethal=False (C#)
[22:06:19] [INFO] [ImpactEffects] spawn_blood_effect called at (450, 762.4444), dir=(1, 0), lethal=false
[22:06:19] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[22:06:19] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[22:06:19] [INFO] [ImpactEffects] Blood effect spawned at (450, 762.4444) (scale=1)
[22:06:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(643.329, 813.8431), source=ENEMY (Enemy3), range=1469, listeners=10
[22:06:19] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[22:06:19] [INFO] [Bullet] Raycast backward hit penetrating body at distance 37,642296
[22:06:19] [INFO] [Bullet] Body exited signal received for penetrating body
[22:06:19] [INFO] [Bullet] Exiting penetration at (973.6404, 757.161) after traveling 33,333336 pixels through wall
[22:06:19] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[22:06:19] [INFO] [LastChance] Threat detected: @Area2D@2341
[22:06:19] [INFO] [LastChance] Not in hard mode - effect disabled
[22:06:19] [INFO] [LastChance] Cannot trigger effect - conditions not met
[22:06:19] [INFO] [BloodDecal] Blood puddle created at (796.0582, 788.7065) (added to group)
[22:06:19] [INFO] [BloodDecal] Blood puddle created at (745.8758, 790.1784) (added to group)
[22:06:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(590.54724, 786.36414), shooter_id=502527953015, bullet_pos=(62.059387, 858.0936)
[22:06:19] [INFO] [Bullet] Using shooter_position, distance=533,33344
[22:06:19] [INFO] [Bullet] Distance to wall: 533,33344 (36,315655% of viewport)
[22:06:19] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:06:19] [INFO] [Bullet] Starting wall penetration at (62.059387, 858.0936)
[22:06:19] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=-129.3°, current=146.4°, player=(450,762), corner_timer=0.22
[22:06:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 762.4444), source=PLAYER (AssaultRifle), range=1469, listeners=10
[22:06:19] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[22:06:19] [INFO] [Bullet] Raycast backward hit penetrating body at distance 7,9983463
[22:06:19] [INFO] [Bullet] Body exited signal received for penetrating body
[22:06:19] [INFO] [Bullet] Exiting penetration at (24.074326, 863.2492) after traveling 33,333336 pixels through wall
[22:06:19] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[22:06:19] [ENEMY] [Enemy3] ROT_CHANGE: P3:corner -> P1:visible, state=RETREATING, target=-162.2°, current=172.7°, player=(450,762), corner_timer=0.22
[22:06:19] [INFO] [BloodDecal] Blood puddle created at (767.8156, 807.0974) (added to group)
[22:06:19] [INFO] [Player] Hit blocked by invincibility mode (C#)
[22:06:19] [INFO] [Player] Spawning blood effect at (450, 762.4444), dir=(1, 0), lethal=False (C#)
[22:06:19] [INFO] [ImpactEffects] spawn_blood_effect called at (450, 762.4444), dir=(1, 0), lethal=false
[22:06:19] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[22:06:19] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[22:06:19] [INFO] [ImpactEffects] Blood effect spawned at (450, 762.4444) (scale=1)
[22:06:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(584.8352, 792.0643), shooter_id=502527953015, bullet_pos=(52.659748, 756.94025)
[22:06:19] [INFO] [Bullet] Using shooter_position, distance=533,3333
[22:06:19] [INFO] [Bullet] Distance to wall: 533,3333 (36,315647% of viewport)
[22:06:19] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:06:19] [INFO] [Bullet] Starting wall penetration at (52.659748, 756.94025)
[22:06:19] [ENEMY] [Enemy1] PURSUING corner check: angle 153.3°
[22:06:19] [INFO] [Bullet] Raycast backward hit penetrating body at distance 17,628635
[22:06:19] [INFO] [Bullet] Body exited signal received for penetrating body
[22:06:19] [INFO] [Bullet] Exiting penetration at (14.409634, 754.4157) after traveling 33,333336 pixels through wall
[22:06:19] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[22:06:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(450, 762.4444), shooter_id=505883397122, bullet_pos=(934.55725, 789.8795)
[22:06:19] [INFO] [Bullet] Using shooter_position, distance=485,3333
[22:06:19] [INFO] [Bullet] Distance to wall: 485,3333 (33,047237% of viewport)
[22:06:19] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:06:19] [INFO] [Bullet] Starting wall penetration at (934.55725, 789.8795)
[22:06:19] [INFO] [Bullet] Raycast backward hit penetrating body at distance 36,88827
[22:06:19] [INFO] [Bullet] Body exited signal received for penetrating body
[22:06:19] [INFO] [Bullet] Exiting penetration at (972.8293, 792.0465) after traveling 33,333332 pixels through wall
[22:06:19] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[22:06:19] [INFO] [BloodDecal] Blood puddle created at (783.5378, 809.9082) (added to group)
[22:06:19] [ENEMY] [Enemy4] State: PURSUING -> RETREATING
[22:06:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 762.4444), source=PLAYER (AssaultRifle), range=1469, listeners=10
[22:06:19] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[22:06:19] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=-84.1°, current=-131.4°, player=(450,762), corner_timer=0.01
[22:06:19] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[22:06:19] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[22:06:19] [INFO] [BloodDecal] Blood puddle created at (775.5704, 798.064) (added to group)
[22:06:19] [INFO] [ReplayManager] Recording frame 180 (2,9s): player_valid=True, enemies=10
[22:06:19] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=-129.3°, current=-156.6°, player=(450,762), corner_timer=0.22
[22:06:19] [ENEMY] [Enemy4] [#574] Flashlight detected: estimated_pos=(474.2068, 771.9329), beam_dir=(0.93103, 0.364942)
[22:06:19] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(450,762), corner_timer=-0.01
[22:06:19] [ENEMY] [Enemy10] PATROL corner check: angle 1.9°
[22:06:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(450, 762.4444), shooter_id=505883397122, bullet_pos=(931.72943, 821.4825)
[22:06:19] [INFO] [Bullet] Using shooter_position, distance=485,33365
[22:06:19] [INFO] [Bullet] Distance to wall: 485,33365 (33,04726% of viewport)
[22:06:19] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:06:19] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[22:06:19] [ENEMY] [Enemy4] [#574] Flashlight detected: estimated_pos=(474.2068, 771.9329), beam_dir=(0.93103, 0.364942)
[22:06:19] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.9°, current=5.8°, player=(450,762), corner_timer=0.30
[22:06:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(450, 762.4444), shooter_id=505883397122, bullet_pos=(689.3918, 841.15674)
[22:06:19] [INFO] [Bullet] Using shooter_position, distance=252,00012
[22:06:19] [INFO] [Bullet] Distance to wall: 252,00012 (17,159153% of viewport)
[22:06:19] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:06:19] [INFO] [Bullet] Starting wall penetration at (689.3918, 841.15674)
[22:06:19] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[22:06:19] [ENEMY] [Enemy4] [#574] Flashlight detected: estimated_pos=(474.2068, 771.9329), beam_dir=(0.93103, 0.364942)
[22:06:19] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[22:06:19] [INFO] [Bullet] Exiting penetration at (725.8072, 853.1302) after traveling 33,333336 pixels through wall
[22:06:19] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[22:06:19] [ENEMY] [Enemy4] [#574] Flashlight detected: estimated_pos=(474.2068, 771.9329), beam_dir=(0.93103, 0.364942)
[22:06:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 762.4444), source=PLAYER (AssaultRifle), range=1469, listeners=10
[22:06:19] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[22:06:19] [ENEMY] [Enemy2] State: PURSUING -> RETREATING
[22:06:19] [ENEMY] [Enemy4] [#574] Flashlight detected: estimated_pos=(474.2068, 771.9329), beam_dir=(0.93103, 0.364942)
[22:06:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(450, 762.4444), shooter_id=505883397122, bullet_pos=(526.7724, 799.6973)
[22:06:19] [INFO] [Bullet] Using shooter_position, distance=85,33336
[22:06:19] [INFO] [Bullet] Distance to wall: 85,33336 (5,8105054% of viewport)
[22:06:19] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:06:19] [INFO] [Bullet] Starting wall penetration at (526.7724, 799.6973)
[22:06:19] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=-17.0°, current=89.9°, player=(450,762), corner_timer=0.30
[22:06:19] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[22:06:19] [ENEMY] [Enemy4] [#574] Flashlight detected: estimated_pos=(474.2068, 771.9329), beam_dir=(0.93103, 0.364942)
[22:06:19] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[22:06:19] [INFO] [Bullet] Exiting penetration at (561.25995, 816.43207) after traveling 33,333332 pixels through wall
[22:06:19] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[22:06:19] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[22:06:19] [ENEMY] [Enemy4] [#574] Flashlight detected: estimated_pos=(474.2068, 771.9329), beam_dir=(0.93103, 0.364942)
[22:06:19] [INFO] [BloodDecal] Blood puddle created at (514.6871, 751.785) (added to group)
[22:06:19] [INFO] [BloodDecal] Blood puddle created at (526.4326, 793.4445) (added to group)
[22:06:19] [ENEMY] [Enemy4] [#574] Flashlight detected: estimated_pos=(474.2068, 771.9329), beam_dir=(0.93103, 0.364942)
[22:06:19] [ENEMY] [Enemy4] [#574] Flashlight detected: estimated_pos=(474.2068, 771.9329), beam_dir=(0.93103, 0.364942)
[22:06:19] [INFO] [BloodDecal] Blood puddle created at (525.2572, 745.4392) (added to group)
[22:06:19] [ENEMY] [Enemy4] [#574] Flashlight detected: estimated_pos=(474.2068, 771.9329), beam_dir=(0.93103, 0.364942)
[22:06:19] [ENEMY] [Enemy4] [#574] Flashlight detected: estimated_pos=(474.2068, 771.9329), beam_dir=(0.93103, 0.364942)
[22:06:19] [ENEMY] [Enemy3] [#574] Flashlight detected: estimated_pos=(471.8753, 776.4968), beam_dir=(0.841358, 0.540478)
[22:06:19] [ENEMY] [Enemy4] [#574] Flashlight detected: estimated_pos=(474.2068, 771.9329), beam_dir=(0.93103, 0.364942)
[22:06:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 762.4444), source=PLAYER (AssaultRifle), range=1469, listeners=10
[22:06:19] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[22:06:19] [ENEMY] [Enemy3] [#574] Flashlight detected: estimated_pos=(471.8753, 776.4968), beam_dir=(0.841358, 0.540478)
[22:06:19] [ENEMY] [Enemy4] [#574] Flashlight detected: estimated_pos=(471.6508, 776.8404), beam_dir=(0.832721, 0.553692)
[22:06:19] [INFO] [BloodDecal] Blood puddle created at (504.4554, 793.4868) (added to group)
[22:06:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(450, 762.4444), shooter_id=505883397122, bullet_pos=(521.0589, 809.6928)
[22:06:19] [INFO] [Bullet] Using shooter_position, distance=85,33334
[22:06:19] [INFO] [Bullet] Distance to wall: 85,33334 (5,8105044% of viewport)
[22:06:19] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:06:19] [INFO] [Bullet] Starting wall penetration at (521.0589, 809.6928)
[22:06:19] [ENEMY] [Enemy3] [#574] Flashlight detected: estimated_pos=(471.8753, 776.4968), beam_dir=(0.841358, 0.540478)
[22:06:19] [ENEMY] [Enemy4] [#574] Flashlight detected: estimated_pos=(471.6508, 776.8404), beam_dir=(0.832721, 0.553692)
[22:06:19] [INFO] [Bullet] Raycast backward hit penetrating body at distance 34,801453
[22:06:19] [INFO] [Bullet] Body exited signal received for penetrating body
[22:06:19] [INFO] [Bullet] Exiting penetration at (552.9799, 830.91766) after traveling 33,333332 pixels through wall
[22:06:19] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[22:06:19] [ENEMY] [Enemy3] [#574] Flashlight detected: estimated_pos=(471.8753, 776.4968), beam_dir=(0.841358, 0.540478)
[22:06:19] [ENEMY] [Enemy4] [#574] Flashlight detected: estimated_pos=(471.6508, 776.8404), beam_dir=(0.832721, 0.553692)
[22:06:19] [INFO] [BloodDecal] Blood puddle created at (531.5405, 775.3326) (added to group)
[22:06:19] [ENEMY] [Enemy3] [#574] Flashlight detected: estimated_pos=(471.8753, 776.4968), beam_dir=(0.841358, 0.540478)
[22:06:19] [ENEMY] [Enemy4] [#574] Flashlight detected: estimated_pos=(471.6508, 776.8404), beam_dir=(0.832721, 0.553692)
[22:06:19] [ENEMY] [Enemy3] [#574] Flashlight detected: estimated_pos=(471.8753, 776.4968), beam_dir=(0.841358, 0.540478)
[22:06:19] [ENEMY] [Enemy4] [#574] Flashlight detected: estimated_pos=(471.6508, 776.8404), beam_dir=(0.832721, 0.553692)
[22:06:19] [INFO] [BloodDecal] Blood puddle created at (526.9921, 781.3384) (added to group)
[22:06:19] [ENEMY] [Enemy3] [#574] Flashlight detected: estimated_pos=(471.8753, 776.4968), beam_dir=(0.841358, 0.540478)
[22:06:19] [ENEMY] [Enemy4] [#574] Flashlight detected: estimated_pos=(471.6508, 776.8404), beam_dir=(0.832721, 0.553692)
[22:06:19] [ENEMY] [Enemy3] [#574] Flashlight detected: estimated_pos=(471.8753, 776.4968), beam_dir=(0.841358, 0.540478)
[22:06:19] [ENEMY] [Enemy4] [#574] Flashlight detected: estimated_pos=(471.6508, 776.8404), beam_dir=(0.832721, 0.553692)
[22:06:19] [ENEMY] [Enemy3] [#574] Flashlight detected: estimated_pos=(471.8753, 776.4968), beam_dir=(0.841358, 0.540478)
[22:06:19] [ENEMY] [Enemy4] [#574] Flashlight detected: estimated_pos=(471.6508, 776.8404), beam_dir=(0.832721, 0.553692)
[22:06:19] [ENEMY] [Enemy3] [#574] Flashlight detected: estimated_pos=(471.8753, 776.4968), beam_dir=(0.841358, 0.540478)
[22:06:19] [ENEMY] [Enemy4] [#574] Flashlight detected: estimated_pos=(471.6508, 776.8404), beam_dir=(0.832721, 0.553692)
[22:06:19] [INFO] [BloodDecal] Blood puddle created at (587.8611, 814.8303) (added to group)
[22:06:19] [INFO] [BloodDecal] Blood puddle created at (546.3398, 783.5469) (added to group)
[22:06:19] [ENEMY] [Enemy3] [#574] Flashlight detected: estimated_pos=(471.8753, 776.4968), beam_dir=(0.841358, 0.540478)
[22:06:19] [ENEMY] [Enemy4] [#574] Flashlight detected: estimated_pos=(471.6508, 776.8404), beam_dir=(0.832721, 0.553692)
[22:06:19] [ENEMY] [Enemy3] [#574] Flashlight detected: estimated_pos=(471.8753, 776.4968), beam_dir=(0.841358, 0.540478)
[22:06:19] [ENEMY] [Enemy4] [#574] Flashlight detected: estimated_pos=(471.6508, 776.8404), beam_dir=(0.832721, 0.553692)
[22:06:19] [INFO] [BloodDecal] Blood puddle created at (533.2097, 803.0919) (added to group)
[22:06:19] [ENEMY] [Enemy4] [#574] Flashlight detected: estimated_pos=(471.6508, 776.8404), beam_dir=(0.832721, 0.553692)
[22:06:19] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.9°, player=(453,762), corner_timer=-0.01
[22:06:19] [ENEMY] [Enemy10] PATROL corner check: angle 1.0°
[22:06:19] [INFO] [BloodDecal] Blood puddle created at (576.9219, 783.6985) (added to group)
[22:06:19] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.0°, current=4.1°, player=(454,762), corner_timer=0.30
[22:06:19] [INFO] [BloodDecal] Blood puddle created at (598.2446, 818.9665) (added to group)
[22:06:19] [ENEMY] [Enemy3] State: SUPPRESSED -> SEEKING_COVER
[22:06:19] [INFO] [BloodDecal] Blood puddle created at (566.801, 794.099) (added to group)
[22:06:19] [INFO] [BloodDecal] Blood puddle created at (581.4183, 801.0488) (added to group)
[22:06:20] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[22:06:20] [ENEMY] [Enemy3] ROT_CHANGE: P3:corner -> P1:visible, state=SEEKING_COVER, target=-124.1°, current=-129.3°, player=(482,749), corner_timer=0.22
[22:06:20] [ENEMY] [Enemy4] ROT_CHANGE: P3:corner -> P1:visible, state=SUPPRESSED, target=-117.3°, current=-84.1°, player=(487,745), corner_timer=0.01
[22:06:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(567.452, 899.2255), source=ENEMY (Enemy4), range=1469, listeners=10
[22:06:20] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[22:06:20] [ENEMY] [Enemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=77.5°, current=78.6°, player=(504,736), corner_timer=0.15
[22:06:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(533.96173, 834.955), shooter_id=502880275142, bullet_pos=(514.42584, 807.94653)
[22:06:20] [INFO] [Bullet] Using shooter_position, distance=33,333305
[22:06:20] [INFO] [Bullet] Distance to wall: 33,333305 (2,269726% of viewport)
[22:06:20] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[22:06:20] [INFO] [Bullet] Starting wall penetration at (514.42584, 807.94653)
[22:06:20] [INFO] [Bullet] Raycast backward hit penetrating body at distance 28,525938
[22:06:20] [INFO] [Bullet] Body exited signal received for penetrating body
[22:06:20] [INFO] [Bullet] Exiting penetration at (491.95956, 776.8867) after traveling 33,333332 pixels through wall
[22:06:20] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[22:06:20] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:06:20] [ENEMY] [Enemy1] State: PURSUING -> COMBAT
[22:06:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(567.452, 899.2255), source=ENEMY (Enemy4), range=1469, listeners=10
[22:06:20] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[22:06:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(523.4637, 733.1318), source=PLAYER (AssaultRifle), range=1469, listeners=10
[22:06:20] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=2, self=0, below_threshold=4
[22:06:20] [INFO] [LastChance] Threat detected: Bullet
[22:06:20] [INFO] [LastChance] Not in hard mode - effect disabled
[22:06:20] [INFO] [LastChance] Cannot trigger effect - conditions not met
[22:06:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(523.4637, 733.1318), shooter_id=505883397122, bullet_pos=(523.9167, 818.4639)
[22:06:20] [INFO] [Bullet] Using shooter_position, distance=85,33335
[22:06:20] [INFO] [Bullet] Distance to wall: 85,33335 (5,810505% of viewport)
[22:06:20] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:06:20] [INFO] [Bullet] Starting wall penetration at (523.9167, 818.4639)
[22:06:20] [INFO] [Bullet] Raycast backward hit penetrating body at distance 22,637405
[22:06:20] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[22:06:20] [INFO] [Bullet] Max penetration distance exceeded: 66,66667 >= 48
[22:06:20] [INFO] [Bullet] Body exited signal received for penetrating body
[22:06:20] [INFO] [Bullet] Exiting penetration at (524.2971, 890.12964) after traveling 66,66667 pixels through wall
[22:06:20] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[22:06:20] [INFO] [Player] Hit blocked by invincibility mode (C#)
[22:06:20] [INFO] [Player] Spawning blood effect at (536.4506, 732.8286), dir=(1, 0), lethal=False (C#)
[22:06:20] [INFO] [ImpactEffects] spawn_blood_effect called at (536.4506, 732.8286), dir=(1, 0), lethal=false
[22:06:20] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[22:06:20] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[22:06:20] [INFO] [ImpactEffects] Blood effect spawned at (536.4506, 732.8286) (scale=1)
[22:06:20] [ENEMY] [Enemy2] ROT_CHANGE: P3:corner -> P1:visible, state=SEEKING_COVER, target=40.9°, current=80.6°, player=(540,732), corner_timer=0.30
[22:06:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(567.452, 899.2255), source=ENEMY (Enemy4), range=1469, listeners=10
[22:06:20] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[22:06:20] [INFO] [LastChance] Threat detected: Bullet
[22:06:20] [INFO] [LastChance] Not in hard mode - effect disabled
[22:06:20] [INFO] [LastChance] Cannot trigger effect - conditions not met
[22:06:20] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P3:corner, state=SEEKING_COVER, target=-17.0°, current=55.1°, player=(545,732), corner_timer=0.30
[22:06:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(558.4507, 732.8286), source=PLAYER (AssaultRifle), range=1469, listeners=10
[22:06:20] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=2, self=0, below_threshold=4
[22:06:20] [INFO] [Player] Hit blocked by invincibility mode (C#)
[22:06:20] [INFO] [Player] Spawning blood effect at (558.45074, 732.8286), dir=(1, 0), lethal=False (C#)
[22:06:20] [INFO] [ImpactEffects] spawn_blood_effect called at (558.4507, 732.8286), dir=(1, 0), lethal=false
[22:06:20] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[22:06:20] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[22:06:20] [INFO] [ImpactEffects] Blood effect spawned at (558.4507, 732.8286) (scale=1)
[22:06:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(567.452, 899.2255), source=ENEMY (Enemy4), range=1469, listeners=10
[22:06:20] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[22:06:20] [INFO] [LastChance] Threat detected: Bullet
[22:06:20] [INFO] [LastChance] Not in hard mode - effect disabled
[22:06:20] [INFO] [LastChance] Cannot trigger effect - conditions not met
[22:06:20] [INFO] [ReplayManager] Recording frame 240 (3,7s): player_valid=True, enemies=10
[22:06:20] [ENEMY] [Enemy4] State: SUPPRESSED -> SEEKING_COVER
[22:06:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(558.45074, 732.8286), shooter_id=505883397122, bullet_pos=(522.36066, 914.6142)
[22:06:20] [INFO] [Bullet] Using shooter_position, distance=185,33347
[22:06:20] [INFO] [Bullet] Distance to wall: 185,33347 (12,619697% of viewport)
[22:06:20] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:06:20] [INFO] [Bullet] Starting wall penetration at (522.36066, 914.6142)
[22:06:20] [ENEMY] [Enemy4] ROT_CHANGE: P1:visible -> P3:corner, state=SEEKING_COVER, target=-84.1°, current=91.7°, player=(576,732), corner_timer=0.01
[22:06:20] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[22:06:20] [INFO] [Bullet] Exiting penetration at (514.896, 952.21375) after traveling 33,333336 pixels through wall
[22:06:20] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[22:06:20] [INFO] [Player] Hit blocked by invincibility mode (C#)
[22:06:20] [INFO] [Player] Spawning blood effect at (580.45087, 732.8286), dir=(1, 0), lethal=False (C#)
[22:06:20] [INFO] [ImpactEffects] spawn_blood_effect called at (580.4509, 732.8286), dir=(1, 0), lethal=false
[22:06:20] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[22:06:20] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[22:06:20] [INFO] [ImpactEffects] Blood effect spawned at (580.4509, 732.8286) (scale=1)
[22:06:20] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P3:corner, state=SEEKING_COVER, target=-129.3°, current=140.0°, player=(580,732), corner_timer=0.22
[22:06:20] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=-129.0°, player=(589,732), corner_timer=-0.01
[22:06:20] [ENEMY] [Enemy7] PATROL corner check: angle 90.0°
[22:06:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(593.6509, 732.8286), source=PLAYER (AssaultRifle), range=1469, listeners=10
[22:06:20] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=2, self=0, below_threshold=4
[22:06:20] [ENEMY] [Enemy2] [#574] Flashlight detected: estimated_pos=(585.721, 757.5898), beam_dir=(-0.304997, 0.952353)
[22:06:20] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=-131.3°, player=(593,732), corner_timer=0.30
[22:06:20] [ENEMY] [Enemy2] [#574] Flashlight detected: estimated_pos=(585.721, 757.5898), beam_dir=(-0.304997, 0.952353)
[22:06:20] [ENEMY] [Enemy2] [#574] Flashlight detected: estimated_pos=(585.721, 757.5898), beam_dir=(-0.304997, 0.952353)
[22:06:20] [ENEMY] [Enemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=52.6°, current=52.6°, player=(606,732), corner_timer=0.15
[22:06:20] [ENEMY] [Enemy2] [#574] Flashlight detected: estimated_pos=(585.721, 757.5898), beam_dir=(-0.304997, 0.952353)
[22:06:20] [ENEMY] [Enemy2] [#574] Flashlight detected: estimated_pos=(585.721, 757.5898), beam_dir=(-0.304997, 0.952353)
[22:06:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(593.65094, 732.8286), shooter_id=505883397122, bullet_pos=(526.95825, 941.0766)
[22:06:20] [INFO] [Bullet] Using shooter_position, distance=218,66673
[22:06:20] [INFO] [Bullet] Distance to wall: 218,66673 (14,8894205% of viewport)
[22:06:20] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:06:20] [ENEMY] [Enemy2] [#574] Flashlight detected: estimated_pos=(585.721, 757.5898), beam_dir=(-0.304997, 0.952353)
[22:06:20] [ENEMY] [Enemy2] [#574] Flashlight detected: estimated_pos=(585.721, 757.5898), beam_dir=(-0.304997, 0.952353)
[22:06:20] [ENEMY] [Enemy2] State: SEEKING_COVER -> IN_COVER
[22:06:20] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:06:20] [INFO] [BloodDecal] Blood puddle created at (577.0745, 731.0979) (added to group)
[22:06:20] [ENEMY] [Enemy2] [#574] Flashlight detected: estimated_pos=(585.721, 757.5898), beam_dir=(-0.304997, 0.952353)
[22:06:20] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[22:06:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(628.6733, 732.8286), source=PLAYER (AssaultRifle), range=1469, listeners=10
[22:06:20] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=1, self=0, below_threshold=5
[22:06:20] [ENEMY] [Enemy2] [#574] Flashlight detected: estimated_pos=(585.721, 757.5898), beam_dir=(-0.304997, 0.952353)
[22:06:20] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[22:06:20] [ENEMY] [Enemy3] [#574] Flashlight detected: estimated_pos=(618.2116, 756.631), beam_dir=(-0.402374, 0.915476)
[22:06:20] [INFO] [BloodDecal] Blood puddle created at (609.6744, 732.4806) (added to group)
[22:06:20] [ENEMY] [Enemy2] [#574] Flashlight detected: estimated_pos=(585.721, 757.5898), beam_dir=(-0.304997, 0.952353)
[22:06:20] [ENEMY] [Enemy3] [#574] Flashlight detected: estimated_pos=(618.2116, 756.631), beam_dir=(-0.402374, 0.915476)
[22:06:20] [ENEMY] [Enemy2] [#574] Flashlight detected: estimated_pos=(585.721, 757.5898), beam_dir=(-0.304997, 0.952353)
[22:06:20] [ENEMY] [Enemy3] [#574] Flashlight detected: estimated_pos=(618.2116, 756.631), beam_dir=(-0.402374, 0.915476)
[22:06:20] [INFO] [BloodDecal] Blood puddle created at (597.9117, 756.0671) (added to group)
[22:06:20] [ENEMY] [Enemy2] [#574] Flashlight detected: estimated_pos=(585.721, 757.5898), beam_dir=(-0.304997, 0.952353)
[22:06:20] [ENEMY] [Enemy2] State: SEEKING_COVER -> IN_COVER
[22:06:20] [ENEMY] [Enemy3] [#574] Flashlight detected: estimated_pos=(618.2116, 756.631), beam_dir=(-0.402374, 0.915476)
[22:06:20] [ENEMY] [Enemy2] [#574] Flashlight detected: estimated_pos=(632.5652, 756.2834), beam_dir=(-0.43151, 0.902108)
[22:06:20] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[22:06:20] [ENEMY] [Enemy3] [#574] Flashlight detected: estimated_pos=(618.2116, 756.631), beam_dir=(-0.402374, 0.915476)
[22:06:20] [INFO] [BloodDecal] Blood puddle created at (643.3608, 775.134) (added to group)
[22:06:20] [ENEMY] [Enemy2] [#574] Flashlight detected: estimated_pos=(632.5652, 756.2834), beam_dir=(-0.43151, 0.902108)
[22:06:20] [ENEMY] [Enemy3] [#574] Flashlight detected: estimated_pos=(618.2116, 756.631), beam_dir=(-0.402374, 0.915476)
[22:06:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(628.67334, 732.8286), shooter_id=505883397122, bullet_pos=(527.2751, 963.52856)
[22:06:20] [INFO] [Bullet] Using shooter_position, distance=252,00015
[22:06:20] [INFO] [Bullet] Distance to wall: 252,00015 (17,159155% of viewport)
[22:06:20] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:06:20] [ENEMY] [Enemy2] [#574] Flashlight detected: estimated_pos=(632.5652, 756.2834), beam_dir=(-0.43151, 0.902108)
[22:06:20] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[22:06:20] [ENEMY] [Enemy3] [#574] Flashlight detected: estimated_pos=(618.2116, 756.631), beam_dir=(-0.402374, 0.915476)
[22:06:20] [INFO] [BloodDecal] Blood puddle created at (621.8976, 724.1652) (added to group)
[22:06:20] [ENEMY] [Enemy2] [#574] Flashlight detected: estimated_pos=(632.5652, 756.2834), beam_dir=(-0.43151, 0.902108)
[22:06:20] [ENEMY] [Enemy3] [#574] Flashlight detected: estimated_pos=(618.2116, 756.631), beam_dir=(-0.402374, 0.915476)
[22:06:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(656.0511, 732.8286), source=PLAYER (AssaultRifle), range=1469, listeners=10
[22:06:20] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=1, self=0, below_threshold=5
[22:06:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(628.67334, 732.8286), shooter_id=505883397122, bullet_pos=(549.7708, 1020.9456)
[22:06:20] [INFO] [Bullet] Using shooter_position, distance=298,72565
[22:06:20] [INFO] [Bullet] Distance to wall: 298,72565 (20,34078% of viewport)
[22:06:20] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:06:20] [ENEMY] [Enemy2] [#574] Flashlight detected: estimated_pos=(632.5652, 756.2834), beam_dir=(-0.43151, 0.902108)
[22:06:20] [ENEMY] [Enemy3] [#574] Flashlight detected: estimated_pos=(618.2116, 756.631), beam_dir=(-0.402374, 0.915476)
[22:06:20] [ENEMY] [Enemy2] [#574] Flashlight detected: estimated_pos=(632.5652, 756.2834), beam_dir=(-0.43151, 0.902108)
[22:06:20] [ENEMY] [Enemy3] [#574] Flashlight detected: estimated_pos=(618.2116, 756.631), beam_dir=(-0.402374, 0.915476)
[22:06:20] [ENEMY] [Enemy2] [#574] Flashlight detected: estimated_pos=(632.5652, 756.2834), beam_dir=(-0.43151, 0.902108)
[22:06:20] [ENEMY] [Enemy2] State: SEEKING_COVER -> IN_COVER
[22:06:20] [ENEMY] [Enemy3] [#574] Flashlight detected: estimated_pos=(618.2116, 756.631), beam_dir=(-0.402374, 0.915476)
[22:06:20] [INFO] [BloodDecal] Blood puddle created at (629.2665, 787.4787) (added to group)
[22:06:20] [INFO] [BloodDecal] Blood puddle created at (668.9374, 785.9391) (added to group)
[22:06:20] [ENEMY] [Enemy2] [#574] Flashlight detected: estimated_pos=(632.5652, 756.2834), beam_dir=(-0.43151, 0.902108)
[22:06:20] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[22:06:20] [ENEMY] [Enemy3] [#574] Flashlight detected: estimated_pos=(618.2116, 756.631), beam_dir=(-0.402374, 0.915476)
[22:06:20] [ENEMY] [Enemy2] [#574] Flashlight detected: estimated_pos=(632.5652, 756.2834), beam_dir=(-0.43151, 0.902108)
[22:06:20] [ENEMY] [Enemy3] [#574] Flashlight detected: estimated_pos=(653.8608, 756.0912), beam_dir=(-0.446635, 0.894716)
[22:06:20] [INFO] [BloodDecal] Blood puddle created at (683.4557, 731.7903) (added to group)
[22:06:20] [INFO] [BloodDecal] Blood puddle created at (632.1732, 778.5517) (added to group)
[22:06:20] [INFO] [BloodDecal] Blood puddle created at (646.7416, 779.9181) (added to group)
[22:06:20] [INFO] [BloodDecal] Blood puddle created at (681.9642, 766.1367) (added to group)
[22:06:20] [INFO] [BloodDecal] Blood puddle created at (656.6437, 763.7764) (added to group)
[22:06:20] [INFO] [BloodDecal] Blood puddle created at (676.4561, 756.7573) (added to group)
[22:06:20] [INFO] [BloodDecal] Blood puddle created at (654.239, 768.4353) (added to group)
[22:06:20] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[22:06:20] [ENEMY] [Enemy2] [#574] Flashlight detected: estimated_pos=(632.5652, 756.2834), beam_dir=(-0.43151, 0.902108)
[22:06:20] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[22:06:20] [ENEMY] [Enemy3] [#574] Flashlight detected: estimated_pos=(653.8608, 756.0912), beam_dir=(-0.446635, 0.894716)
[22:06:20] [ENEMY] [Enemy2] [#574] Flashlight detected: estimated_pos=(632.5652, 756.2834), beam_dir=(-0.43151, 0.902108)
[22:06:20] [ENEMY] [Enemy3] [#574] Flashlight detected: estimated_pos=(653.8608, 756.0912), beam_dir=(-0.446635, 0.894716)
[22:06:20] [INFO] [BloodDecal] Blood puddle created at (628.4405, 766.6733) (added to group)
[22:06:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(656.0511, 732.8286), shooter_id=505883397122, bullet_pos=(527.0842, 987.3529)
[22:06:20] [INFO] [Bullet] Using shooter_position, distance=285,33325
[22:06:20] [INFO] [Bullet] Distance to wall: 285,33325 (19,428867% of viewport)
[22:06:20] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:06:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(656.0511, 732.8286), shooter_id=505883397122, bullet_pos=(528.9236, 992.00226)
[22:06:20] [INFO] [Bullet] Using shooter_position, distance=288,67346
[22:06:20] [INFO] [Bullet] Distance to wall: 288,67346 (19,656307% of viewport)
[22:06:20] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:06:20] [ENEMY] [Enemy2] [#574] Flashlight detected: estimated_pos=(632.5652, 756.2834), beam_dir=(-0.43151, 0.902108)
[22:06:20] [ENEMY] [Enemy2] State: SEEKING_COVER -> IN_COVER
[22:06:20] [ENEMY] [Enemy3] [#574] Flashlight detected: estimated_pos=(653.8608, 756.0912), beam_dir=(-0.446635, 0.894716)
[22:06:20] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=179.0°, current=175.9°, player=(670,732), corner_timer=-0.01
[22:06:20] [ENEMY] [Enemy7] PATROL corner check: angle 89.8°
[22:06:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(672.0155, 732.8286), source=PLAYER (AssaultRifle), range=1469, listeners=10
[22:06:20] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=1, self=0, below_threshold=5
[22:06:20] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[22:06:20] [ENEMY] [Enemy3] [#574] Flashlight detected: estimated_pos=(653.8608, 756.0912), beam_dir=(-0.446635, 0.894716)
[22:06:20] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.8°, current=178.1°, player=(672,732), corner_timer=0.30
[22:06:20] [ENEMY] [Enemy3] [#574] Flashlight detected: estimated_pos=(653.8608, 756.0912), beam_dir=(-0.446635, 0.894716)
[22:06:20] [INFO] [BloodDecal] Blood puddle created at (632.8079, 775.5147) (added to group)
[22:06:21] [ENEMY] [Enemy3] [#574] Flashlight detected: estimated_pos=(653.8608, 756.0912), beam_dir=(-0.446635, 0.894716)
[22:06:21] [ENEMY] [Enemy3] [#574] Flashlight detected: estimated_pos=(653.8608, 756.0912), beam_dir=(-0.446635, 0.894716)
[22:06:21] [ENEMY] [Enemy3] [#574] Flashlight detected: estimated_pos=(653.8608, 756.0912), beam_dir=(-0.446635, 0.894716)
[22:06:21] [ENEMY] [Enemy4] State: SEEKING_COVER -> IN_COVER
[22:06:21] [ENEMY] [Enemy3] [#574] Flashlight detected: estimated_pos=(653.8608, 756.0912), beam_dir=(-0.446635, 0.894716)
[22:06:21] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[22:06:21] [ENEMY] [Enemy3] ROT_CHANGE: P3:corner -> P1:visible, state=SEEKING_COVER, target=-87.6°, current=-137.2°, player=(675,732), corner_timer=0.22
[22:06:21] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:06:21] [INFO] [BloodDecal] Blood puddle created at (738.1699, 791.9272) (added to group)
[22:06:21] [INFO] [BloodDecal] Blood puddle created at (658.007, 781.1832) (added to group)
[22:06:21] [INFO] [BloodDecal] Blood puddle created at (649.9581, 779.575) (added to group)
[22:06:21] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(675.0732, 732.8286), source=PLAYER (AssaultRifle), range=1469, listeners=10
[22:06:21] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=1, self=0, below_threshold=5
[22:06:21] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(672.0155, 732.8286), shooter_id=505883397122, bullet_pos=(538.6785, 1022.2585)
[22:06:21] [INFO] [Bullet] Using shooter_position, distance=318,6666
[22:06:21] [INFO] [Bullet] Distance to wall: 318,6666 (21,698595% of viewport)
[22:06:21] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:06:21] [INFO] [Bullet] Starting wall penetration at (538.6785, 1022.2585)
[22:06:21] [INFO] [Bullet] Raycast backward hit penetrating body at distance 36,41599
[22:06:21] [INFO] [Bullet] Body exited signal received for penetrating body
[22:06:21] [INFO] [Bullet] Exiting penetration at (522.63904, 1057.075) after traveling 33,333336 pixels through wall
[22:06:21] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[22:06:21] [INFO] [BloodDecal] Blood puddle created at (698.6762, 790.896) (added to group)
[22:06:21] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P3:corner, state=SEEKING_COVER, target=-129.3°, current=-136.7°, player=(672,732), corner_timer=0.22
[22:06:21] [ENEMY] [Enemy3] State: SEEKING_COVER -> IN_COVER
[22:06:21] [INFO] [BloodDecal] Blood puddle created at (734.9773, 805.9634) (added to group)
[22:06:21] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(675.07324, 732.8286), shooter_id=505883397122, bullet_pos=(572.928, 999.2519)
[22:06:21] [INFO] [Bullet] Using shooter_position, distance=285,3332
[22:06:21] [INFO] [Bullet] Distance to wall: 285,3332 (19,428864% of viewport)
[22:06:21] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:06:21] [INFO] [Bullet] Starting wall penetration at (572.928, 999.2519)
[22:06:21] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[22:06:21] [INFO] [Bullet] Raycast backward hit penetrating body at distance 11,828718
[22:06:21] [INFO] [Bullet] Body exited signal received for penetrating body
[22:06:21] [INFO] [Bullet] Exiting penetration at (559.2052, 1035.0448) after traveling 33,333332 pixels through wall
[22:06:21] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[22:06:21] [ENEMY] [Enemy4] State: SUPPRESSED -> SEEKING_COVER
[22:06:21] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(659.6954, 732.8286), source=PLAYER (AssaultRifle), range=1469, listeners=10
[22:06:21] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=1, self=0, below_threshold=5
[22:06:21] [ENEMY] [Enemy3] State: SUPPRESSED -> SEEKING_COVER
[22:06:21] [ENEMY] [Enemy3] [#574] Flashlight detected: estimated_pos=(646.0485, 758.784), beam_dir=(-0.058557, 0.998284)
[22:06:21] [ENEMY] [Enemy3] State: SEEKING_COVER -> IN_COVER
[22:06:21] [ENEMY] [Enemy3] [#574] Flashlight detected: estimated_pos=(646.0485, 758.784), beam_dir=(-0.058557, 0.998284)
[22:06:21] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[22:06:21] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=178.0°, current=125.2°, player=(644,732), corner_timer=-0.01
[22:06:21] [ENEMY] [Enemy7] PATROL corner check: angle 89.6°
[22:06:21] [ENEMY] [Enemy3] [#574] Flashlight detected: estimated_pos=(646.0485, 758.784), beam_dir=(-0.058557, 0.998284)
[22:06:21] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.6°, current=127.5°, player=(640,732), corner_timer=0.30
[22:06:21] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(659.69543, 732.8286), shooter_id=505883397122, bullet_pos=(605.53455, 1012.97473)
[22:06:21] [INFO] [Bullet] Using shooter_position, distance=285,33356
[22:06:21] [INFO] [Bullet] Distance to wall: 285,33356 (19,428886% of viewport)
[22:06:21] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:06:21] [INFO] [Bullet] Starting wall penetration at (605.53455, 1012.97473)
[22:06:21] [ENEMY] [Enemy3] [#574] Flashlight detected: estimated_pos=(646.0485, 758.784), beam_dir=(-0.058557, 0.998284)
[22:06:21] [ENEMY] [Enemy4] State: SEEKING_COVER -> IN_COVER
[22:06:21] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(632.0332, 732.8286), source=PLAYER (AssaultRifle), range=1469, listeners=10
[22:06:21] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=1, self=0, below_threshold=5
[22:06:21] [INFO] [Bullet] Raycast backward hit penetrating body at distance 27,103966
[22:06:21] [INFO] [Bullet] Body exited signal received for penetrating body
[22:06:21] [INFO] [Bullet] Exiting penetration at (598.25824, 1050.6112) after traveling 33,333336 pixels through wall
[22:06:21] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[22:06:21] [ENEMY] [Enemy3] [#574] Flashlight detected: estimated_pos=(646.0485, 758.784), beam_dir=(-0.058557, 0.998284)
[22:06:21] [ENEMY] [Enemy3] State: SUPPRESSED -> SEEKING_COVER
[22:06:21] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[22:06:21] [ENEMY] [Enemy3] [#574] Flashlight detected: estimated_pos=(646.0485, 758.784), beam_dir=(-0.058557, 0.998284)
[22:06:21] [ENEMY] [Enemy3] [#574] Flashlight detected: estimated_pos=(646.0485, 758.784), beam_dir=(-0.058557, 0.998284)
[22:06:21] [ENEMY] [Enemy3] State: SEEKING_COVER -> IN_COVER
[22:06:21] [ENEMY] [Enemy4] State: SUPPRESSED -> SEEKING_COVER
[22:06:21] [ENEMY] [Enemy3] [#574] Flashlight detected: estimated_pos=(646.0485, 758.784), beam_dir=(-0.058557, 0.998284)
[22:06:21] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[22:06:21] [INFO] [ReplayManager] Recording frame 300 (4,5s): player_valid=True, enemies=10
[22:06:21] [ENEMY] [Enemy3] [#574] Flashlight detected: estimated_pos=(646.0485, 758.784), beam_dir=(-0.058557, 0.998284)
[22:06:21] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:06:21] [ENEMY] [Enemy3] [#574] Flashlight detected: estimated_pos=(646.0485, 758.784), beam_dir=(-0.058557, 0.998284)
[22:06:21] [ENEMY] [Enemy3] State: SUPPRESSED -> SEEKING_COVER
[22:06:21] [ENEMY] [Enemy4] [#574] Flashlight detected: estimated_pos=(618.4482, 757.4291), beam_dir=(0.323657, 0.946174)
[22:06:21] [ENEMY] [Enemy4] State: SEEKING_COVER -> IN_COVER
[22:06:21] [ENEMY] [Enemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=52.8°, current=52.0°, player=(605,733), corner_timer=0.15
[22:06:21] [ENEMY] [Enemy1] State: PURSUING -> COMBAT
[22:06:21] [ENEMY] [Enemy3] [#574] Flashlight detected: estimated_pos=(646.0485, 758.784), beam_dir=(-0.058557, 0.998284)
[22:06:21] [ENEMY] [Enemy4] [#574] Flashlight detected: estimated_pos=(618.4482, 757.4291), beam_dir=(0.323657, 0.946174)
[22:06:21] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[22:06:21] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(632.0332, 732.8286), shooter_id=505883397122, bullet_pos=(671.8609, 1015.3687)
[22:06:21] [INFO] [Bullet] Using shooter_position, distance=285,3334
[22:06:21] [INFO] [Bullet] Distance to wall: 285,3334 (19,428877% of viewport)
[22:06:21] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:06:21] [INFO] [Bullet] Starting wall penetration at (671.8609, 1015.3687)
[22:06:21] [ENEMY] [Enemy3] [#574] Flashlight detected: estimated_pos=(646.0485, 758.784), beam_dir=(-0.058557, 0.998284)
[22:06:21] [ENEMY] [Enemy4] [#574] Flashlight detected: estimated_pos=(618.4482, 757.4291), beam_dir=(0.323657, 0.946174)
[22:06:21] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(597.3229, 734.0112), source=PLAYER (AssaultRifle), range=1469, listeners=10
[22:06:21] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=2, self=0, below_threshold=4
[22:06:21] [INFO] [Bullet] Raycast backward hit penetrating body at distance 29,616716
[22:06:21] [INFO] [Bullet] Body exited signal received for penetrating body
[22:06:21] [INFO] [Bullet] Exiting penetration at (677.2116, 1053.3268) after traveling 33,333332 pixels through wall
[22:06:21] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[22:06:21] [ENEMY] [Enemy3] [#574] Flashlight detected: estimated_pos=(610.2991, 756.5416), beam_dir=(0.499084, 0.866554)
[22:06:21] [ENEMY] [Enemy4] [#574] Flashlight detected: estimated_pos=(618.4482, 757.4291), beam_dir=(0.323657, 0.946174)
[22:06:21] [ENEMY] [Enemy4] State: SUPPRESSED -> SEEKING_COVER
[22:06:21] [ENEMY] [Enemy3] [#574] Flashlight detected: estimated_pos=(610.2991, 756.5416), beam_dir=(0.499084, 0.866554)
[22:06:21] [ENEMY] [Enemy3] State: SEEKING_COVER -> IN_COVER
[22:06:21] [ENEMY] [Enemy4] [#574] Flashlight detected: estimated_pos=(618.4482, 757.4291), beam_dir=(0.323657, 0.946174)
[22:06:21] [ENEMY] [Enemy3] [#574] Flashlight detected: estimated_pos=(610.2991, 756.5416), beam_dir=(0.499084, 0.866554)
[22:06:21] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[22:06:21] [ENEMY] [Enemy4] [#574] Flashlight detected: estimated_pos=(618.4482, 757.4291), beam_dir=(0.323657, 0.946174)
[22:06:21] [ENEMY] [Enemy3] [#574] Flashlight detected: estimated_pos=(610.2991, 756.5416), beam_dir=(0.499084, 0.866554)
[22:06:21] [ENEMY] [Enemy4] [#574] Flashlight detected: estimated_pos=(618.4482, 757.4291), beam_dir=(0.323657, 0.946174)
[22:06:21] [ENEMY] [Enemy3] [#574] Flashlight detected: estimated_pos=(610.2991, 756.5416), beam_dir=(0.499084, 0.866554)
[22:06:21] [ENEMY] [Enemy4] [#574] Flashlight detected: estimated_pos=(618.4482, 757.4291), beam_dir=(0.323657, 0.946174)
[22:06:21] [ENEMY] [Enemy4] State: SEEKING_COVER -> IN_COVER
[22:06:21] [ENEMY] [Enemy3] [#574] Flashlight detected: estimated_pos=(610.2991, 756.5416), beam_dir=(0.499084, 0.866554)
[22:06:21] [ENEMY] [Enemy3] State: SUPPRESSED -> SEEKING_COVER
[22:06:21] [ENEMY] [Enemy4] [#574] Flashlight detected: estimated_pos=(618.4482, 757.4291), beam_dir=(0.323657, 0.946174)
[22:06:21] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[22:06:21] [ENEMY] [Enemy3] Hit: dmg=1, hp=1/4->0/4
[22:06:21] [INFO] [ImpactEffects] spawn_blood_effect called at (734.1413, 931.6376), dir=(1, 0), lethal=true
[22:06:21] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[22:06:21] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[22:06:21] [INFO] [ImpactEffects] Blood effect spawned at (734.1413, 931.6376) (scale=1.5)
[22:06:21] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[22:06:21] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[22:06:21] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[22:06:21] [INFO] [PowerFantasy] Starting power fantasy effect:
[22:06:21] [INFO] [PowerFantasy]   - Time scale: 0.10
[22:06:21] [INFO] [PowerFantasy]   - Duration: 300ms
[22:06:21] [ENEMY] [Enemy3] [AllyDeath] Notified 3 enemies
[22:06:21] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[22:06:21] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[22:06:21] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[22:06:21] [ENEMY] [Enemy4] [#574] Flashlight detected: estimated_pos=(618.4482, 757.4291), beam_dir=(0.323657, 0.946174)
[22:06:21] [ENEMY] [Enemy4] State: SUPPRESSED -> SEEKING_COVER
[22:06:21] [ENEMY] [Enemy4] [#574] Flashlight detected: estimated_pos=(618.4482, 757.4291), beam_dir=(0.323657, 0.946174)
[22:06:21] [ENEMY] [Enemy4] [#574] Flashlight detected: estimated_pos=(618.4482, 757.4291), beam_dir=(0.323657, 0.946174)
[22:06:21] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(566.5848, 746.111), source=PLAYER (AssaultRifle), range=1469, listeners=9
[22:06:21] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[22:06:21] [ENEMY] [Enemy4] [#574] Flashlight detected: estimated_pos=(618.4482, 757.4291), beam_dir=(0.323657, 0.946174)
[22:06:21] [ENEMY] [Enemy4] [#574] Flashlight detected: estimated_pos=(618.4482, 757.4291), beam_dir=(0.323657, 0.946174)
[22:06:21] [ENEMY] [Enemy4] [#574] Flashlight detected: estimated_pos=(618.4482, 757.4291), beam_dir=(0.323657, 0.946174)
[22:06:21] [ENEMY] [Enemy4] [#574] Flashlight detected: estimated_pos=(618.4482, 757.4291), beam_dir=(0.323657, 0.946174)
[22:06:21] [ENEMY] [Enemy4] [#574] Flashlight detected: estimated_pos=(618.4482, 757.4291), beam_dir=(0.323657, 0.946174)
[22:06:21] [ENEMY] [Enemy4] [#574] Flashlight detected: estimated_pos=(618.4482, 757.4291), beam_dir=(0.323657, 0.946174)
[22:06:21] [ENEMY] [Enemy4] [#574] Flashlight detected: estimated_pos=(618.4482, 757.4291), beam_dir=(0.323657, 0.946174)
[22:06:21] [ENEMY] [Enemy4] [#574] Flashlight detected: estimated_pos=(618.4482, 757.4291), beam_dir=(0.323657, 0.946174)
[22:06:21] [ENEMY] [Enemy4] [#574] Flashlight detected: estimated_pos=(583.0492, 765.1076), beam_dir=(0.766073, 0.642754)
[22:06:21] [ENEMY] [Enemy4] [#574] Flashlight detected: estimated_pos=(583.0492, 765.1076), beam_dir=(0.766073, 0.642754)
[22:06:21] [ENEMY] [Enemy4] [#574] Flashlight detected: estimated_pos=(583.0492, 765.1076), beam_dir=(0.766073, 0.642754)
[22:06:21] [ENEMY] [Enemy4] [#574] Flashlight detected: estimated_pos=(583.0492, 765.1076), beam_dir=(0.766073, 0.642754)
[22:06:21] [ENEMY] [Enemy4] [#574] Flashlight detected: estimated_pos=(583.0492, 765.1076), beam_dir=(0.766073, 0.642754)
[22:06:21] [ENEMY] [Enemy4] [#574] Flashlight detected: estimated_pos=(583.0492, 765.1076), beam_dir=(0.766073, 0.642754)
[22:06:21] [ENEMY] [Enemy4] [#574] Flashlight detected: estimated_pos=(583.0492, 765.1076), beam_dir=(0.766073, 0.642754)
[22:06:21] [ENEMY] [Enemy4] [#574] Flashlight detected: estimated_pos=(583.0492, 765.1076), beam_dir=(0.766073, 0.642754)
[22:06:21] [ENEMY] [Enemy4] [#574] Flashlight detected: estimated_pos=(583.0492, 765.1076), beam_dir=(0.766073, 0.642754)
[22:06:21] [ENEMY] [Enemy4] [#574] Flashlight detected: estimated_pos=(583.0492, 765.1076), beam_dir=(0.766073, 0.642754)
[22:06:21] [ENEMY] [Enemy4] [#574] Flashlight detected: estimated_pos=(583.0492, 765.1076), beam_dir=(0.766073, 0.642754)
[22:06:21] [INFO] [PowerFantasy] Effect duration expired after 322.00 ms
[22:06:21] [INFO] [PowerFantasy] Ending power fantasy effect
[22:06:21] [ENEMY] [Enemy4] [#574] Flashlight detected: estimated_pos=(583.0492, 765.1076), beam_dir=(0.766073, 0.642754)
[22:06:21] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(566.58484, 746.11096), shooter_id=505883397122, bullet_pos=(687.1715, 869.9259)
[22:06:21] [INFO] [Bullet] Using shooter_position, distance=172,83311
[22:06:21] [INFO] [Bullet] Distance to wall: 172,83311 (11,768525% of viewport)
[22:06:21] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:06:21] [ENEMY] [Enemy4] [#574] Flashlight detected: estimated_pos=(583.0492, 765.1076), beam_dir=(0.766073, 0.642754)
[22:06:21] [ENEMY] [Enemy4] State: SEEKING_COVER -> IN_COVER
[22:06:22] [ENEMY] [Enemy4] [#574] Flashlight detected: estimated_pos=(583.0492, 765.1076), beam_dir=(0.766073, 0.642754)
[22:06:22] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[22:06:22] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.5°, current=89.6°, player=(549,755), corner_timer=-0.01
[22:06:22] [ENEMY] [Enemy7] PATROL corner check: angle 89.2°
[22:06:22] [ENEMY] [Enemy4] [#574] Flashlight detected: estimated_pos=(583.0492, 765.1076), beam_dir=(0.766073, 0.642754)
[22:06:22] [ENEMY] [Enemy4] State: SUPPRESSED -> SEEKING_COVER
[22:06:22] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.2°, current=92.5°, player=(545,756), corner_timer=0.30
[22:06:22] [ENEMY] [Enemy4] [#574] Flashlight detected: estimated_pos=(583.0492, 765.1076), beam_dir=(0.766073, 0.642754)
[22:06:22] [ENEMY] [Enemy4] [#574] Flashlight detected: estimated_pos=(583.0492, 765.1076), beam_dir=(0.766073, 0.642754)
[22:06:22] [ENEMY] [Enemy4] [#574] Flashlight detected: estimated_pos=(583.0492, 765.1076), beam_dir=(0.766073, 0.642754)
[22:06:22] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(566.58484, 746.11096), shooter_id=505883397122, bullet_pos=(526.9593, 1017.0255)
[22:06:22] [INFO] [Bullet] Using shooter_position, distance=273,79715
[22:06:22] [INFO] [Bullet] Distance to wall: 273,79715 (18,643353% of viewport)
[22:06:22] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:06:22] [ENEMY] [Enemy4] State: SEEKING_COVER -> IN_COVER
[22:06:22] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(566.58484, 746.11096), shooter_id=505883397122, bullet_pos=(504.57532, 989.98364)
[22:06:22] [INFO] [Bullet] Using shooter_position, distance=251,6328
[22:06:22] [INFO] [Bullet] Distance to wall: 251,6328 (17,13414% of viewport)
[22:06:22] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:06:22] [INFO] [Bullet] Starting wall penetration at (504.57532, 989.98364)
[22:06:22] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(566.58484, 746.11096), shooter_id=505883397122, bullet_pos=(501.3871, 986.13196)
[22:06:22] [INFO] [Bullet] Using shooter_position, distance=248,71837
[22:06:22] [INFO] [Bullet] Distance to wall: 248,71837 (16,935692% of viewport)
[22:06:22] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:06:22] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[22:06:22] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:06:22] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[22:06:22] [INFO] [Bullet] Exiting penetration at (480.15808, 1008.1544) after traveling 25,588543 pixels through wall
[22:06:22] [INFO] [Bullet] Damage multiplier after penetration: 0,1125
[22:06:22] [ENEMY] [Enemy4] State: SUPPRESSED -> SEEKING_COVER
[22:06:22] [INFO] [BloodDecal] Blood puddle created at (781.243, 970.0333) (added to group)
[22:06:22] [ENEMY] [Enemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=79.3°, current=79.2°, player=(501,756), corner_timer=0.15
[22:06:22] [INFO] [BloodDecal] Blood puddle created at (775.9852, 946.8104) (added to group)
[22:06:22] [ENEMY] [Enemy4] State: SEEKING_COVER -> IN_COVER
[22:06:22] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[22:06:22] [INFO] [BloodDecal] Blood puddle created at (795.7615, 970.7541) (added to group)
[22:06:22] [INFO] [BloodDecal] Blood puddle created at (817.3738, 926.9077) (added to group)
[22:06:22] [ENEMY] [Enemy4] State: SUPPRESSED -> SEEKING_COVER
[22:06:22] [INFO] [BloodyFeet:Enemy4] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[22:06:22] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[22:06:22] [ENEMY] [Enemy4] State: SEEKING_COVER -> IN_COVER
[22:06:22] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[22:06:22] [INFO] [BloodDecal] Blood puddle created at (834.9257, 928.4623) (added to group)
[22:06:22] [INFO] [BloodDecal] Blood puddle created at (808.185, 980.5399) (added to group)
[22:06:22] [ENEMY] [Enemy4] State: SUPPRESSED -> SEEKING_COVER
[22:06:22] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.7°, current=89.2°, player=(457,756), corner_timer=-0.02
[22:06:22] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[22:06:22] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=92.1°, player=(454,756), corner_timer=0.30
[22:06:22] [INFO] [BloodDecal] Blood puddle created at (834.6453, 976.8719) (added to group)
[22:06:22] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[22:06:22] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:06:22] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[22:06:22] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[22:06:22] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[22:06:22] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[22:06:22] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[22:06:22] [INFO] [LastChance] Resetting all effects (scene change detected)
[22:06:22] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[22:06:22] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[22:06:22] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[22:06:22] [ENEMY] [Enemy1] Death animation component initialized
[22:06:22] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:06:22] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[22:06:22] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[22:06:22] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[22:06:22] [ENEMY] [Enemy2] Death animation component initialized
[22:06:22] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:06:22] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[22:06:22] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[22:06:22] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[22:06:22] [ENEMY] [Enemy3] Death animation component initialized
[22:06:22] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:06:22] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[22:06:22] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[22:06:22] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[22:06:22] [ENEMY] [Enemy4] Death animation component initialized
[22:06:22] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:06:22] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[22:06:22] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[22:06:22] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[22:06:22] [ENEMY] [Enemy5] Death animation component initialized
[22:06:22] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:06:22] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[22:06:22] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[22:06:22] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[22:06:22] [ENEMY] [Enemy6] Death animation component initialized
[22:06:22] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:06:22] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[22:06:22] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[22:06:22] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[22:06:22] [ENEMY] [Enemy7] Death animation component initialized
[22:06:22] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:06:22] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[22:06:22] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[22:06:22] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[22:06:22] [ENEMY] [Enemy8] Death animation component initialized
[22:06:22] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:06:22] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[22:06:22] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[22:06:22] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[22:06:22] [INFO] [EnemyGrenade] Initialized: 1 grenades
[22:06:22] [ENEMY] [Enemy9] Death animation component initialized
[22:06:22] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:06:22] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[22:06:22] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[22:06:22] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[22:06:22] [ENEMY] [Enemy10] Death animation component initialized
[22:06:22] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:06:22] [INFO] [BloodyFeet:Player] Footprint scene loaded
[22:06:22] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[22:06:22] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[22:06:22] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[22:06:22] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[22:06:22] [INFO] [Player.Weapon] GameManager weapon selection: m16 (AssaultRifle)
[22:06:22] [INFO] [Player.Weapon] Removed default MakarovPM
[22:06:22] [INFO] [Player.Weapon] Equipped AssaultRifle (ammo: 30/30)
[22:06:22] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[22:06:22] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[22:06:22] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[22:06:22] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[22:06:22] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[22:06:22] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: True
[22:06:22] [INFO] [Player.Flashlight] Flashlight is selected, initializing...
[22:06:22] [INFO] [FlashlightEffect] PointLight2D found, energy=0.0, shadow=true
[22:06:22] [INFO] [FlashlightEffect] Flashlight sound loaded
[22:06:22] [INFO] [Player.Flashlight] Flashlight equipped and attached to PlayerModel at offset (20, 0)
[22:06:22] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 10/10
[22:06:22] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[22:06:22] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[22:06:22] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[22:06:22] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[22:06:22] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[22:06:22] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[22:06:22] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[22:06:22] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[22:06:22] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[22:06:22] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[22:06:22] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[22:06:22] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[22:06:22] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[22:06:22] [INFO] [BuildingLevel] Setting up weapon: m16
[22:06:22] [INFO] [BuildingLevel] AssaultRifle already equipped by C# Player - skipping GDScript weapon swap
[22:06:22] [INFO] [ScoreManager] Level started with 10 enemies
[22:06:22] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[22:06:22] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[22:06:22] [INFO] [ReplayManager] Replay data cleared
[22:06:22] [INFO] [BuildingLevel] Previous replay data cleared
[22:06:22] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[22:06:22] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[22:06:22] [INFO] [ReplayManager] Level: BuildingLevel
[22:06:22] [INFO] [ReplayManager] Player: Player (valid: True)
[22:06:22] [INFO] [ReplayManager] Enemies count: 10
[22:06:22] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[22:06:22] [INFO] [ReplayManager]   Enemy 0: Enemy1
[22:06:22] [INFO] [ReplayManager]   Enemy 1: Enemy2
[22:06:22] [INFO] [ReplayManager]   Enemy 2: Enemy3
[22:06:22] [INFO] [ReplayManager]   Enemy 3: Enemy4
[22:06:22] [INFO] [ReplayManager]   Enemy 4: Enemy5
[22:06:22] [INFO] [ReplayManager]   Enemy 5: Enemy6
[22:06:22] [INFO] [ReplayManager]   Enemy 6: Enemy7
[22:06:22] [INFO] [ReplayManager]   Enemy 7: Enemy8
[22:06:22] [INFO] [ReplayManager]   Enemy 8: Enemy9
[22:06:22] [INFO] [ReplayManager]   Enemy 9: Enemy10
[22:06:22] [INFO] [BuildingLevel] Replay recording started successfully
[22:06:22] [INFO] [BloodDecal] Blood puddle created at (842.5068, 962.7891) (added to group)
[22:06:22] [INFO] [BloodDecal] Blood puddle created at (854.5331, 993.9809) (added to group)
[22:06:22] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[22:06:22] [INFO] [CinemaEffects] Found player node: Player
[22:06:22] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[22:06:22] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[22:06:22] [ENEMY] [Enemy1] Registered as sound listener
[22:06:22] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 3, behavior: GUARD
[22:06:22] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[22:06:22] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[22:06:22] [ENEMY] [Enemy2] Registered as sound listener
[22:06:22] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 4, behavior: GUARD
[22:06:22] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[22:06:22] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[22:06:22] [ENEMY] [Enemy3] Registered as sound listener
[22:06:22] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 3, behavior: GUARD
[22:06:22] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[22:06:22] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[22:06:22] [ENEMY] [Enemy4] Registered as sound listener
[22:06:22] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 3, behavior: GUARD
[22:06:22] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[22:06:22] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[22:06:22] [ENEMY] [Enemy5] Registered as sound listener
[22:06:22] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 4, behavior: GUARD
[22:06:22] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[22:06:22] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[22:06:22] [ENEMY] [Enemy6] Registered as sound listener
[22:06:22] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 4, behavior: GUARD
[22:06:22] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[22:06:22] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[22:06:22] [ENEMY] [Enemy7] Registered as sound listener
[22:06:22] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 2, behavior: PATROL
[22:06:22] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[22:06:22] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[22:06:22] [ENEMY] [Enemy8] Registered as sound listener
[22:06:22] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 4, behavior: GUARD
[22:06:22] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[22:06:22] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[22:06:22] [ENEMY] [Enemy9] Registered as sound listener
[22:06:22] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 3, behavior: GUARD
[22:06:22] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[22:06:22] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[22:06:22] [ENEMY] [Enemy10] Registered as sound listener
[22:06:22] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 3, behavior: PATROL
[22:06:22] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[22:06:22] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[22:06:22] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=33.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[22:06:22] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[22:06:22] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[22:06:22] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[22:06:22] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[22:06:22] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[22:06:22] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=213.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[22:06:22] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[22:06:22] [INFO] [Player] Detecting weapon pose (frame 3)...
[22:06:22] [INFO] [Player] Detected weapon: Rifle (default pose)
[22:06:22] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[22:06:22] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[22:06:22] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[22:06:22] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[22:06:22] [INFO] [LastChance] Found player: Player
[22:06:22] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[22:06:22] [INFO] [LastChance] Connected to player Damaged signal (C#)
[22:06:22] [INFO] [LastChance] Connected to player Died signal (C#)
[22:06:22] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[22:06:22] [INFO] [BloodDecal] Blood puddle created at (903.1773, 973.7117) (added to group)
[22:06:22] [INFO] [BloodDecal] Blood puddle created at (878.4599, 980.9322) (added to group)
[22:06:23] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[22:06:24] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[22:06:24] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[22:06:24] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,781), corner_timer=0.30
[22:06:24] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,781), corner_timer=0.30
[22:06:24] [ENEMY] [Enemy1] [#574] Flashlight detected: estimated_pos=(475.9982, 761.749), beam_dir=(0.999931, 0.011714)
[22:06:24] [ENEMY] [Enemy1] [#574] Flashlight triggered pursuit from IDLE
[22:06:24] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=70.0°, current=33.8°, player=(450,761), corner_timer=0.00
[22:06:24] [ENEMY] [Enemy3] [#574] Flashlight detected: estimated_pos=(475.9982, 761.749), beam_dir=(0.999931, 0.011714)
[22:06:24] [ENEMY] [Enemy3] [#574] Flashlight triggered pursuit from IDLE
[22:06:24] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=177.4°, current=-33.8°, player=(450,761), corner_timer=0.00
[22:06:24] [ENEMY] [Enemy4] [#574] Flashlight detected: estimated_pos=(475.9982, 761.749), beam_dir=(0.999931, 0.011714)
[22:06:24] [ENEMY] [Enemy4] [#574] Flashlight triggered pursuit from IDLE
[22:06:24] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=-158.4°, current=-101.3°, player=(450,761), corner_timer=0.00
[22:06:24] [ENEMY] [Enemy1] [#574] Flashlight detected: estimated_pos=(475.9982, 761.749), beam_dir=(0.999931, 0.011714)
[22:06:24] [ENEMY] [Enemy1] PURSUING corner check: angle -50.9°
[22:06:24] [ENEMY] [Enemy3] [#574] Flashlight detected: estimated_pos=(475.9982, 761.749), beam_dir=(0.999931, 0.011714)
[22:06:24] [ENEMY] [Enemy3] PURSUING corner check: angle -129.3°
[22:06:24] [ENEMY] [Enemy4] [#574] Flashlight detected: estimated_pos=(475.9982, 761.749), beam_dir=(0.999931, 0.011714)
[22:06:24] [ENEMY] [Enemy1] [#574] Flashlight detected: estimated_pos=(475.9982, 761.749), beam_dir=(0.999931, 0.011714)
[22:06:24] [ENEMY] [Enemy3] [#574] Flashlight detected: estimated_pos=(475.9982, 761.749), beam_dir=(0.999931, 0.011714)
[22:06:24] [ENEMY] [Enemy3] [#574] Next waypoint lit by flashlight, attempting flank to avoid lit passage
[22:06:24] [ENEMY] [Enemy3] FLANKING started: target=(551.2578, 927.6394), side=right, pos=(695.8723, 753.3773)
[22:06:24] [ENEMY] [Enemy3] State: PURSUING -> FLANKING
[22:06:24] [ENEMY] [Enemy4] [#574] Flashlight detected: estimated_pos=(475.9982, 761.749), beam_dir=(0.999931, 0.011714)
[22:06:24] [ENEMY] [Enemy4] PURSUING corner check: angle -100.7°
[22:06:24] [ENEMY] [Enemy1] [#574] Flashlight detected: estimated_pos=(475.9982, 761.749), beam_dir=(0.999931, 0.011714)
[22:06:24] [ENEMY] [Enemy3] [#574] Flashlight detected: estimated_pos=(475.9982, 761.749), beam_dir=(0.999931, 0.011714)
[22:06:24] [ENEMY] [Enemy4] [#574] Flashlight detected: estimated_pos=(475.9982, 761.749), beam_dir=(0.999931, 0.011714)
[22:06:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 749.9999), source=PLAYER (AssaultRifle), range=1469, listeners=19
[22:06:24] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[22:06:24] [ENEMY] [Enemy2] Heard gunshot at (450, 749.9999), source_type=0, intensity=0.06, distance=206
[22:06:24] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[22:06:24] [ENEMY] [Enemy1] [#574] Flashlight detected: estimated_pos=(475.9982, 761.749), beam_dir=(0.999931, 0.011714)
[22:06:24] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=76.0°, current=168.8°, player=(450,749), corner_timer=0.00
[22:06:24] [ENEMY] [Enemy3] [#574] Flashlight detected: estimated_pos=(475.9982, 761.749), beam_dir=(0.999931, 0.011714)
[22:06:24] [ENEMY] [Enemy4] [#574] Flashlight detected: estimated_pos=(475.9982, 761.749), beam_dir=(0.999931, 0.011714)
[22:06:24] [ENEMY] [Enemy1] [#574] Flashlight detected: estimated_pos=(475.9982, 761.749), beam_dir=(0.999931, 0.011714)
[22:06:24] [ENEMY] [Enemy3] [#574] Flashlight detected: estimated_pos=(475.9982, 761.749), beam_dir=(0.999931, 0.011714)
[22:06:24] [ENEMY] [Enemy4] [#574] Flashlight detected: estimated_pos=(475.9982, 761.749), beam_dir=(0.999931, 0.011714)
[22:06:24] [ENEMY] [Enemy1] [#574] Flashlight detected: estimated_pos=(475.9982, 761.749), beam_dir=(0.999931, 0.011714)
[22:06:24] [ENEMY] [Enemy3] [#574] Flashlight detected: estimated_pos=(475.9982, 761.749), beam_dir=(0.999931, 0.011714)
[22:06:24] [ENEMY] [Enemy4] [#574] Flashlight detected: estimated_pos=(475.9982, 761.749), beam_dir=(0.999931, 0.011714)
[22:06:24] [ENEMY] [Enemy1] [#574] Flashlight detected: estimated_pos=(475.9982, 761.749), beam_dir=(0.999931, 0.011714)
[22:06:24] [ENEMY] [Enemy3] [#574] Flashlight detected: estimated_pos=(475.9982, 761.749), beam_dir=(0.999931, 0.011714)
[22:06:24] [ENEMY] [Enemy4] [#574] Flashlight detected: estimated_pos=(475.9982, 761.749), beam_dir=(0.999931, 0.011714)
[22:06:24] [ENEMY] [Enemy3] Hit: dmg=1, hp=3/3->2/3
[22:06:24] [INFO] [ImpactEffects] spawn_blood_effect called at (671.1057, 773.6408), dir=(1, 0), lethal=false
[22:06:24] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[22:06:24] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[22:06:24] [INFO] [ImpactEffects] Blood effect spawned at (671.1057, 773.6408) (scale=1)
[22:06:24] [ENEMY] [Enemy1] [#574] Flashlight detected: estimated_pos=(475.9982, 761.749), beam_dir=(0.999931, 0.011714)
[22:06:24] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=-172.1°, current=180.0°, player=(450,742), corner_timer=0.22
[22:06:24] [ENEMY] [Enemy3] State: FLANKING -> COMBAT
[22:06:24] [ENEMY] [Enemy4] [#574] Flashlight detected: estimated_pos=(475.9982, 761.749), beam_dir=(0.999931, 0.011714)
[22:06:24] [ENEMY] [Enemy1] [#574] Flashlight detected: estimated_pos=(475.9982, 761.749), beam_dir=(0.999931, 0.011714)
[22:06:24] [ENEMY] [Enemy4] [#574] Flashlight detected: estimated_pos=(475.9982, 761.749), beam_dir=(0.999931, 0.011714)
[22:06:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 741.2777), source=PLAYER (AssaultRifle), range=1469, listeners=10
[22:06:24] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[22:06:24] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.2°, player=(450,740), corner_timer=-0.01
[22:06:24] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[22:06:24] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=51.0°, player=(450,740), corner_timer=-0.01
[22:06:24] [ENEMY] [Enemy10] PATROL corner check: angle 14.4°
[22:06:24] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(450,740), corner_timer=0.30
[22:06:24] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.4°, current=52.8°, player=(450,740), corner_timer=0.30
[22:06:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 740.3444), source=PLAYER (AssaultRifle), range=1469, listeners=10
[22:06:24] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[22:06:24] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[22:06:24] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[22:06:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(450, 741.2777), shooter_id=776919322382, bullet_pos=(935.3002, 746.94037)
[22:06:24] [INFO] [Bullet] Using shooter_position, distance=485,3332
[22:06:24] [INFO] [Bullet] Distance to wall: 485,3332 (33,04723% of viewport)
[22:06:24] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:06:24] [INFO] [Bullet] Starting wall penetration at (935.3002, 746.94037)
[22:06:24] [ENEMY] [Enemy1] PURSUING corner check: angle -51.8°
[22:06:24] [INFO] [Bullet] Raycast backward hit penetrating body at distance 37,63342
[22:06:24] [INFO] [Bullet] Body exited signal received for penetrating body
[22:06:24] [INFO] [Bullet] Exiting penetration at (973.63086, 747.38763) after traveling 33,333336 pixels through wall
[22:06:24] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[22:06:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(658.3965, 786.2744), source=ENEMY (Enemy3), range=1469, listeners=10
[22:06:24] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[22:06:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 740.3444), source=PLAYER (AssaultRifle), range=1469, listeners=10
[22:06:24] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[22:06:24] [INFO] [LastChance] Threat detected: Bullet
[22:06:24] [INFO] [LastChance] Not in hard mode - effect disabled
[22:06:24] [INFO] [LastChance] Cannot trigger effect - conditions not met
[22:06:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(653.8058, 795.9021), source=ENEMY (Enemy3), range=1469, listeners=10
[22:06:24] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[22:06:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(450, 740.34436), shooter_id=776919322382, bullet_pos=(935.32416, 743.3108)
[22:06:24] [INFO] [Bullet] Using shooter_position, distance=485,33322
[22:06:24] [INFO] [Bullet] Distance to wall: 485,33322 (33,047234% of viewport)
[22:06:24] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:06:24] [INFO] [Bullet] Starting wall penetration at (935.32416, 743.3108)
[22:06:24] [INFO] [LastChance] Threat detected: @Area2D@2808
[22:06:24] [INFO] [LastChance] Not in hard mode - effect disabled
[22:06:24] [INFO] [LastChance] Cannot trigger effect - conditions not met
[22:06:24] [INFO] [Bullet] Raycast backward hit penetrating body at distance 37,65744
[22:06:24] [INFO] [Bullet] Body exited signal received for penetrating body
[22:06:24] [INFO] [Bullet] Exiting penetration at (973.65674, 743.5451) after traveling 33,333336 pixels through wall
[22:06:24] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[22:06:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 740.3444), source=PLAYER (AssaultRifle), range=1469, listeners=10
[22:06:24] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[22:06:24] [ENEMY] [Enemy4] PURSUING corner check: angle -93.9°
[22:06:24] [INFO] [Player] Hit blocked by invincibility mode (C#)
[22:06:24] [INFO] [Player] Spawning blood effect at (450, 740.34436), dir=(1, 0), lethal=False (C#)
[22:06:24] [INFO] [ImpactEffects] spawn_blood_effect called at (450, 740.3444), dir=(1, 0), lethal=false
[22:06:24] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[22:06:24] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[22:06:24] [INFO] [ImpactEffects] Blood effect spawned at (450, 740.3444) (scale=1)
[22:06:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(648.8914, 805.3686), source=ENEMY (Enemy3), range=1469, listeners=10
[22:06:24] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[22:06:24] [INFO] [LastChance] Threat detected: @Area2D@2815
[22:06:24] [INFO] [LastChance] Not in hard mode - effect disabled
[22:06:24] [INFO] [LastChance] Cannot trigger effect - conditions not met
[22:06:25] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-140.6°, current=178.6°, player=(450,740), corner_timer=0.29
[22:06:25] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.2°, player=(450,740), corner_timer=-0.01
[22:06:25] [ENEMY] [Enemy10] PATROL corner check: angle 7.2°
[22:06:25] [INFO] [Player] Hit blocked by invincibility mode (C#)
[22:06:25] [INFO] [Player] Spawning blood effect at (450, 740.34436), dir=(1, 0), lethal=False (C#)
[22:06:25] [INFO] [ImpactEffects] spawn_blood_effect called at (450, 740.3444), dir=(1, 0), lethal=false
[22:06:25] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[22:06:25] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[22:06:25] [INFO] [ImpactEffects] Blood effect spawned at (450, 740.3444) (scale=1)
[22:06:25] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[22:06:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(643.6319, 814.6478), source=ENEMY (Enemy3), range=1469, listeners=10
[22:06:25] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[22:06:25] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.2°, current=16.3°, player=(450,740), corner_timer=0.30
[22:06:25] [INFO] [LastChance] Threat detected: @Area2D@2818
[22:06:25] [INFO] [LastChance] Not in hard mode - effect disabled
[22:06:25] [INFO] [LastChance] Cannot trigger effect - conditions not met
[22:06:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(589.16394, 778.83044), shooter_id=773563878982, bullet_pos=(55.88106, 771.4896)
[22:06:25] [INFO] [Bullet] Using shooter_position, distance=533,33344
[22:06:25] [INFO] [Bullet] Distance to wall: 533,33344 (36,315655% of viewport)
[22:06:25] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:06:25] [INFO] [Bullet] Starting wall penetration at (55.88106, 771.4896)
[22:06:25] [INFO] [Bullet] Raycast backward hit penetrating body at distance 14,450014
[22:06:25] [INFO] [Bullet] Body exited signal received for penetrating body
[22:06:25] [INFO] [Bullet] Exiting penetration at (17.551353, 770.96204) after traveling 33,33334 pixels through wall
[22:06:25] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[22:06:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 740.3444), source=PLAYER (AssaultRifle), range=1469, listeners=10
[22:06:25] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[22:06:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(577.72473, 797.7114), shooter_id=773563878982, bullet_pos=(437.90387, 707.0037)
[22:06:25] [INFO] [Bullet] Using shooter_position, distance=166,66663
[22:06:25] [INFO] [Bullet] Distance to wall: 166,66663 (11,348638% of viewport)
[22:06:25] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:06:25] [INFO] [Bullet] Starting wall penetration at (437.90387, 707.0037)
[22:06:25] [ENEMY] [Enemy4] ROT_CHANGE: P1:visible -> P2:combat_state, state=PURSUING, target=-137.2°, current=165.8°, player=(450,740), corner_timer=0.15
[22:06:25] [INFO] [Bullet] Raycast backward hit penetrating body at distance 3,4158683
[22:06:25] [ENEMY] [Enemy1] PURSUING corner check: angle 153.3°
[22:06:25] [INFO] [Bullet] Max penetration distance exceeded: 66,66667 >= 48
[22:06:25] [INFO] [Bullet] Body exited signal received for penetrating body
[22:06:25] [INFO] [Bullet] Exiting penetration at (377.78088, 667.9994) after traveling 66,66667 pixels through wall
[22:06:25] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[22:06:25] [INFO] [BloodDecal] Blood puddle created at (810.316, 769.2645) (added to group)
[22:06:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(450, 740.34436), shooter_id=776919322382, bullet_pos=(692.3187, 809.5227)
[22:06:25] [INFO] [Bullet] Using shooter_position, distance=252,00002
[22:06:25] [INFO] [Bullet] Distance to wall: 252,00002 (17,159145% of viewport)
[22:06:25] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:06:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 740.3444), source=PLAYER (AssaultRifle), range=1469, listeners=10
[22:06:25] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[22:06:25] [INFO] [BloodDecal] Blood puddle created at (807.5426, 804.9213) (added to group)
[22:06:25] [INFO] [BloodDecal] Blood puddle created at (509.0736, 764.7026) (added to group)
[22:06:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(450, 740.34436), shooter_id=776919322382, bullet_pos=(682.21674, 838.21875)
[22:06:25] [INFO] [Bullet] Using shooter_position, distance=252,00002
[22:06:25] [INFO] [Bullet] Distance to wall: 252,00002 (17,159145% of viewport)
[22:06:25] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:06:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(450, 740.34436), shooter_id=776919322382, bullet_pos=(931.79865, 708.283)
[22:06:25] [INFO] [Bullet] Using shooter_position, distance=482,86423
[22:06:25] [INFO] [Bullet] Distance to wall: 482,86423 (32,879112% of viewport)
[22:06:25] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:06:25] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=-129.3°, current=-137.5°, player=(450,740), corner_timer=0.22
[22:06:25] [ENEMY] [Enemy3] Hit: dmg=1, hp=2/3->1/3
[22:06:25] [INFO] [ImpactEffects] spawn_blood_effect called at (576.0499, 866.7321), dir=(1, 0), lethal=false
[22:06:25] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[22:06:25] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[22:06:25] [INFO] [ImpactEffects] Blood effect spawned at (576.0499, 866.7321) (scale=1)
[22:06:25] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[22:06:25] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[22:06:25] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=7.1°, player=(450,740), corner_timer=-0.01
[22:06:25] [ENEMY] [Enemy10] PATROL corner check: angle 3.8°
[22:06:25] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.8°, current=9.3°, player=(450,740), corner_timer=0.30
[22:06:25] [INFO] [BloodDecal] Blood puddle created at (551.6857, 798.4208) (added to group)
[22:06:25] [INFO] [BloodDecal] Blood puddle created at (525.074, 745.7142) (added to group)
[22:06:25] [INFO] [BloodDecal] Blood puddle created at (537.0726, 763.9886) (added to group)
[22:06:25] [INFO] [BloodDecal] Blood puddle created at (514.5104, 764.5865) (added to group)
[22:06:25] [ENEMY] [Enemy4] State: PURSUING -> RETREATING
[22:06:25] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=-93.9°, current=-139.2°, player=(450,740), corner_timer=0.02
[22:06:25] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[22:06:25] [INFO] [BloodDecal] Blood puddle created at (558.6757, 803.4133) (added to group)
[22:06:25] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[22:06:25] [INFO] [BloodDecal] Blood puddle created at (561.2483, 792.6638) (added to group)
[22:06:25] [INFO] [BloodDecal] Blood puddle created at (535.1879, 782.7849) (added to group)
[22:06:25] [INFO] [BloodDecal] Blood puddle created at (548.2023, 750.6606) (added to group)
[22:06:25] [INFO] [BloodDecal] Blood puddle created at (563.4168, 748.4523) (added to group)
[22:06:25] [ENEMY] [Enemy3] State: SUPPRESSED -> SEEKING_COVER
[22:06:25] [INFO] [BloodDecal] Blood puddle created at (553.9645, 775.6425) (added to group)
[22:06:25] [INFO] [BloodDecal] Blood puddle created at (619.888, 840.4995) (added to group)
[22:06:25] [ENEMY] [Enemy3] State: SEEKING_COVER -> IN_COVER
[22:06:25] [INFO] [BloodDecal] Blood puddle created at (583.0848, 782.5903) (added to group)
[22:06:25] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[22:06:25] [INFO] [ReplayManager] Recording frame 180 (2,8s): player_valid=True, enemies=10
[22:06:25] [INFO] [BloodDecal] Blood puddle created at (566.8936, 827.8733) (added to group)
[22:06:25] [INFO] [BloodDecal] Blood puddle created at (635.5833, 875.5348) (added to group)
[22:06:25] [ENEMY] [Enemy3] State: SUPPRESSED -> SEEKING_COVER
[22:06:25] [INFO] [BloodDecal] Blood puddle created at (651.3756, 886.3538) (added to group)
[22:06:25] [ENEMY] [Enemy4] State: SUPPRESSED -> SEEKING_COVER
[22:06:25] [ENEMY] [Enemy4] ROT_CHANGE: P3:corner -> P1:visible, state=SEEKING_COVER, target=-117.8°, current=-100.2°, player=(485,740), corner_timer=0.02
[22:06:25] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.7°, player=(485,740), corner_timer=-0.01
[22:06:25] [ENEMY] [Enemy10] PATROL corner check: angle 2.0°
[22:06:25] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=2.0°, current=5.9°, player=(488,740), corner_timer=0.30
[22:06:25] [INFO] [BloodDecal] Blood puddle created at (620.0883, 870.6116) (added to group)
[22:06:25] [INFO] [BloodDecal] Blood puddle created at (622.3054, 833.8947) (added to group)
[22:06:25] [ENEMY] [Enemy3] State: SEEKING_COVER -> IN_COVER
[22:06:25] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[22:06:25] [INFO] [BloodDecal] Blood puddle created at (640.1097, 871.067) (added to group)
[22:06:25] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[22:06:25] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:06:25] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[22:06:25] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[22:06:25] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[22:06:25] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[22:06:25] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[22:06:25] [INFO] [LastChance] Resetting all effects (scene change detected)
[22:06:25] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[22:06:25] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[22:06:25] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[22:06:25] [ENEMY] [Enemy1] Death animation component initialized
[22:06:25] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:06:25] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[22:06:25] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[22:06:25] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[22:06:25] [ENEMY] [Enemy2] Death animation component initialized
[22:06:25] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:06:25] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[22:06:25] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[22:06:25] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[22:06:25] [ENEMY] [Enemy3] Death animation component initialized
[22:06:25] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:06:25] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[22:06:25] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[22:06:25] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[22:06:25] [ENEMY] [Enemy4] Death animation component initialized
[22:06:25] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:06:25] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[22:06:25] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[22:06:25] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[22:06:25] [ENEMY] [Enemy5] Death animation component initialized
[22:06:25] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:06:25] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[22:06:25] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[22:06:25] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[22:06:25] [ENEMY] [Enemy6] Death animation component initialized
[22:06:25] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:06:25] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[22:06:25] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[22:06:25] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[22:06:25] [ENEMY] [Enemy7] Death animation component initialized
[22:06:25] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:06:25] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[22:06:25] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[22:06:25] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[22:06:25] [ENEMY] [Enemy8] Death animation component initialized
[22:06:25] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:06:25] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[22:06:25] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[22:06:25] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[22:06:25] [ENEMY] [Enemy9] Death animation component initialized
[22:06:25] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:06:25] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[22:06:25] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[22:06:25] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[22:06:25] [ENEMY] [Enemy10] Death animation component initialized
[22:06:25] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:06:25] [INFO] [BloodyFeet:Player] Footprint scene loaded
[22:06:25] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[22:06:25] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[22:06:25] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[22:06:25] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[22:06:25] [INFO] [Player.Weapon] GameManager weapon selection: m16 (AssaultRifle)
[22:06:25] [INFO] [Player.Weapon] Removed default MakarovPM
[22:06:25] [INFO] [Player.Weapon] Equipped AssaultRifle (ammo: 30/30)
[22:06:25] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[22:06:25] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[22:06:25] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[22:06:25] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[22:06:25] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[22:06:25] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: True
[22:06:25] [INFO] [Player.Flashlight] Flashlight is selected, initializing...
[22:06:26] [INFO] [FlashlightEffect] PointLight2D found, energy=0.0, shadow=true
[22:06:26] [INFO] [FlashlightEffect] Flashlight sound loaded
[22:06:26] [INFO] [Player.Flashlight] Flashlight equipped and attached to PlayerModel at offset (20, 0)
[22:06:26] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 10/10
[22:06:26] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[22:06:26] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[22:06:26] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[22:06:26] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[22:06:26] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[22:06:26] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[22:06:26] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[22:06:26] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[22:06:26] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[22:06:26] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[22:06:26] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[22:06:26] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[22:06:26] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[22:06:26] [INFO] [BuildingLevel] Setting up weapon: m16
[22:06:26] [INFO] [BuildingLevel] AssaultRifle already equipped by C# Player - skipping GDScript weapon swap
[22:06:26] [INFO] [ScoreManager] Level started with 10 enemies
[22:06:26] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[22:06:26] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[22:06:26] [INFO] [ReplayManager] Replay data cleared
[22:06:26] [INFO] [BuildingLevel] Previous replay data cleared
[22:06:26] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[22:06:26] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[22:06:26] [INFO] [ReplayManager] Level: BuildingLevel
[22:06:26] [INFO] [ReplayManager] Player: Player (valid: True)
[22:06:26] [INFO] [ReplayManager] Enemies count: 10
[22:06:26] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[22:06:26] [INFO] [ReplayManager]   Enemy 0: Enemy1
[22:06:26] [INFO] [ReplayManager]   Enemy 1: Enemy2
[22:06:26] [INFO] [ReplayManager]   Enemy 2: Enemy3
[22:06:26] [INFO] [ReplayManager]   Enemy 3: Enemy4
[22:06:26] [INFO] [ReplayManager]   Enemy 4: Enemy5
[22:06:26] [INFO] [ReplayManager]   Enemy 5: Enemy6
[22:06:26] [INFO] [ReplayManager]   Enemy 6: Enemy7
[22:06:26] [INFO] [ReplayManager]   Enemy 7: Enemy8
[22:06:26] [INFO] [ReplayManager]   Enemy 8: Enemy9
[22:06:26] [INFO] [ReplayManager]   Enemy 9: Enemy10
[22:06:26] [INFO] [BuildingLevel] Replay recording started successfully
[22:06:26] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[22:06:26] [INFO] [CinemaEffects] Found player node: Player
[22:06:26] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[22:06:26] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[22:06:26] [ENEMY] [Enemy1] Registered as sound listener
[22:06:26] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 4, behavior: GUARD
[22:06:26] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[22:06:26] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[22:06:26] [ENEMY] [Enemy2] Registered as sound listener
[22:06:26] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 4, behavior: GUARD
[22:06:26] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[22:06:26] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[22:06:26] [ENEMY] [Enemy3] Registered as sound listener
[22:06:26] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 2, behavior: GUARD
[22:06:26] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[22:06:26] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[22:06:26] [ENEMY] [Enemy4] Registered as sound listener
[22:06:26] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 4, behavior: GUARD
[22:06:26] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[22:06:26] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[22:06:26] [ENEMY] [Enemy5] Registered as sound listener
[22:06:26] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 4, behavior: GUARD
[22:06:26] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[22:06:26] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[22:06:26] [ENEMY] [Enemy6] Registered as sound listener
[22:06:26] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 2, behavior: GUARD
[22:06:26] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[22:06:26] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[22:06:26] [ENEMY] [Enemy7] Registered as sound listener
[22:06:26] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 2, behavior: PATROL
[22:06:26] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[22:06:26] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[22:06:26] [ENEMY] [Enemy8] Registered as sound listener
[22:06:26] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 3, behavior: GUARD
[22:06:26] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[22:06:26] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[22:06:26] [ENEMY] [Enemy9] Registered as sound listener
[22:06:26] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 2, behavior: GUARD
[22:06:26] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[22:06:26] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[22:06:26] [ENEMY] [Enemy10] Registered as sound listener
[22:06:26] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 4, behavior: PATROL
[22:06:26] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[22:06:26] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[22:06:26] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[22:06:26] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=45.0°, current=0.0°, player=(450,1249), corner_timer=0.00
[22:06:26] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[22:06:26] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[22:06:26] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[22:06:26] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=225.0°, current=0.0°, player=(450,1249), corner_timer=0.00
[22:06:26] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[22:06:26] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[22:06:26] [INFO] [Player] Detecting weapon pose (frame 3)...
[22:06:26] [INFO] [Player] Detected weapon: Rifle (default pose)
[22:06:26] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[22:06:26] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[22:06:26] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[22:06:26] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[22:06:26] [INFO] [LastChance] Found player: Player
[22:06:26] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[22:06:26] [INFO] [LastChance] Connected to player Damaged signal (C#)
[22:06:26] [INFO] [LastChance] Connected to player Died signal (C#)
[22:06:26] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[22:06:26] [INFO] [BloodDecal] Blood puddle created at (656.5413, 907.6757) (added to group)
[22:06:26] [INFO] [BloodDecal] Blood puddle created at (648.6308, 894.7718) (added to group)
[22:06:26] [INFO] [BloodDecal] Blood puddle created at (694.7861, 896.1768) (added to group)
[22:06:26] [INFO] [BloodDecal] Blood puddle created at (780.5334, 981.7017) (added to group)
[22:06:26] [INFO] [BloodDecal] Blood puddle created at (808.6718, 942.0693) (added to group)
[22:06:27] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[22:06:27] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[22:06:27] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[22:06:27] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(419,795), corner_timer=0.30
[22:06:27] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(419,795), corner_timer=0.30
[22:06:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(419.204, 768.2563), source=PLAYER (AssaultRifle), range=1469, listeners=20
[22:06:27] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[22:06:27] [ENEMY] [Enemy1] Heard gunshot at (419.204, 768.2563), source_type=0, intensity=0.01, distance=435
[22:06:27] [ENEMY] [Enemy2] Heard gunshot at (419.204, 768.2563), source_type=0, intensity=0.05, distance=219
[22:06:27] [ENEMY] [Enemy3] Heard gunshot at (419.204, 768.2563), source_type=0, intensity=0.03, distance=281
[22:06:27] [ENEMY] [Enemy4] Heard gunshot at (419.204, 768.2563), source_type=0, intensity=0.02, distance=403
[22:06:27] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[22:06:27] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=74.1°, current=168.8°, player=(419,768), corner_timer=0.00
[22:06:27] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=85.0°, current=45.0°, player=(419,768), corner_timer=0.00
[22:06:27] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=176.3°, current=-33.8°, player=(419,768), corner_timer=0.00
[22:06:27] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=-160.9°, current=-101.3°, player=(419,768), corner_timer=0.00
[22:06:28] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=176.7°, current=139.7°, player=(419,766), corner_timer=0.00
[22:06:28] [ENEMY] [Enemy3] Hit: dmg=1, hp=2/2->1/2
[22:06:28] [INFO] [ImpactEffects] spawn_blood_effect called at (673.3691, 751.3599), dir=(1, 0), lethal=false
[22:06:28] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[22:06:28] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[22:06:28] [INFO] [ImpactEffects] Blood effect spawned at (673.3691, 751.3599) (scale=1)
[22:06:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(419.204, 759.423), source=PLAYER (AssaultRifle), range=1469, listeners=10
[22:06:28] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[22:06:28] [ENEMY] [Enemy3] Hit: dmg=1, hp=1/2->0/2
[22:06:28] [INFO] [ImpactEffects] spawn_blood_effect called at (663.7749, 751.6936), dir=(1, 0), lethal=true
[22:06:28] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[22:06:28] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[22:06:28] [INFO] [ImpactEffects] Blood effect spawned at (663.7749, 751.6936) (scale=1.5)
[22:06:28] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[22:06:28] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[22:06:28] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[22:06:28] [INFO] [PowerFantasy] Starting power fantasy effect:
[22:06:28] [INFO] [PowerFantasy]   - Time scale: 0.10
[22:06:28] [INFO] [PowerFantasy]   - Duration: 300ms
[22:06:28] [ENEMY] [Enemy3] [AllyDeath] Notified 2 enemies
[22:06:28] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[22:06:28] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[22:06:28] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[22:06:28] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.2°, player=(419,758), corner_timer=-0.01
[22:06:28] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[22:06:28] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=51.0°, player=(419,758), corner_timer=-0.01
[22:06:28] [ENEMY] [Enemy10] PATROL corner check: angle 14.4°
[22:06:28] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(419,758), corner_timer=0.30
[22:06:28] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.4°, current=52.8°, player=(419,758), corner_timer=0.30
[22:06:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(419.204, 758.623), source=PLAYER (AssaultRifle), range=1469, listeners=9
[22:06:28] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[22:06:28] [INFO] [ReplayManager] Recording frame 120 (1,9s): player_valid=True, enemies=10
[22:06:28] [INFO] [PowerFantasy] Effect duration expired after 302.00 ms
[22:06:28] [INFO] [PowerFantasy] Ending power fantasy effect
[22:06:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(419.20404, 758.623), shooter_id=883421088489, bullet_pos=(916.8435, 772.5218)
[22:06:28] [INFO] [Bullet] Using shooter_position, distance=497,8335
[22:06:28] [INFO] [Bullet] Distance to wall: 497,8335 (33,8984% of viewport)
[22:06:28] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:06:28] [INFO] [Bullet] Starting wall penetration at (916.8435, 772.5218)
[22:06:28] [INFO] [Bullet] Raycast backward hit penetrating body at distance 27,502724
[22:06:28] [INFO] [Bullet] Body exited signal received for penetrating body
[22:06:28] [INFO] [Bullet] Exiting penetration at (963.492, 773.82465) after traveling 41,666668 pixels through wall
[22:06:28] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[22:06:28] [INFO] [BloodDecal] Blood puddle created at (724.7769, 769.1115) (added to group)
[22:06:28] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[22:06:28] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:06:28] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[22:06:28] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[22:06:28] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[22:06:28] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[22:06:28] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[22:06:28] [INFO] [LastChance] Resetting all effects (scene change detected)
[22:06:28] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[22:06:28] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[22:06:28] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[22:06:28] [ENEMY] [Enemy1] Death animation component initialized
[22:06:28] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:06:28] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[22:06:28] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[22:06:28] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[22:06:28] [ENEMY] [Enemy2] Death animation component initialized
[22:06:28] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:06:28] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[22:06:28] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[22:06:28] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[22:06:28] [ENEMY] [Enemy3] Death animation component initialized
[22:06:28] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:06:28] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[22:06:28] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[22:06:28] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[22:06:28] [ENEMY] [Enemy4] Death animation component initialized
[22:06:28] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:06:28] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[22:06:28] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[22:06:28] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[22:06:28] [ENEMY] [Enemy5] Death animation component initialized
[22:06:28] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:06:28] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[22:06:28] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[22:06:28] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[22:06:28] [ENEMY] [Enemy6] Death animation component initialized
[22:06:28] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:06:28] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[22:06:28] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[22:06:28] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[22:06:28] [ENEMY] [Enemy7] Death animation component initialized
[22:06:28] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:06:28] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[22:06:28] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[22:06:28] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[22:06:28] [ENEMY] [Enemy8] Death animation component initialized
[22:06:28] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:06:28] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[22:06:28] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[22:06:28] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[22:06:28] [INFO] [EnemyGrenade] Initialized: 1 grenades
[22:06:28] [ENEMY] [Enemy9] Death animation component initialized
[22:06:28] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:06:28] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[22:06:28] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[22:06:28] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[22:06:28] [ENEMY] [Enemy10] Death animation component initialized
[22:06:28] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:06:28] [INFO] [BloodyFeet:Player] Footprint scene loaded
[22:06:28] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[22:06:28] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[22:06:28] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[22:06:28] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[22:06:28] [INFO] [Player.Weapon] GameManager weapon selection: m16 (AssaultRifle)
[22:06:28] [INFO] [Player.Weapon] Removed default MakarovPM
[22:06:28] [INFO] [Player.Weapon] Equipped AssaultRifle (ammo: 30/30)
[22:06:28] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[22:06:28] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[22:06:28] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[22:06:28] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[22:06:28] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[22:06:28] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: True
[22:06:28] [INFO] [Player.Flashlight] Flashlight is selected, initializing...
[22:06:28] [INFO] [FlashlightEffect] PointLight2D found, energy=0.0, shadow=true
[22:06:28] [INFO] [FlashlightEffect] Flashlight sound loaded
[22:06:28] [INFO] [Player.Flashlight] Flashlight equipped and attached to PlayerModel at offset (20, 0)
[22:06:28] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 10/10
[22:06:28] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[22:06:28] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[22:06:28] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[22:06:28] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[22:06:28] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[22:06:28] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[22:06:28] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[22:06:28] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[22:06:28] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[22:06:28] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[22:06:28] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[22:06:28] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[22:06:28] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[22:06:28] [INFO] [BuildingLevel] Setting up weapon: m16
[22:06:28] [INFO] [BuildingLevel] AssaultRifle already equipped by C# Player - skipping GDScript weapon swap
[22:06:28] [INFO] [ScoreManager] Level started with 10 enemies
[22:06:28] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[22:06:28] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[22:06:28] [INFO] [ReplayManager] Replay data cleared
[22:06:28] [INFO] [BuildingLevel] Previous replay data cleared
[22:06:28] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[22:06:28] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[22:06:28] [INFO] [ReplayManager] Level: BuildingLevel
[22:06:28] [INFO] [ReplayManager] Player: Player (valid: True)
[22:06:28] [INFO] [ReplayManager] Enemies count: 10
[22:06:28] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[22:06:28] [INFO] [ReplayManager]   Enemy 0: Enemy1
[22:06:28] [INFO] [ReplayManager]   Enemy 1: Enemy2
[22:06:28] [INFO] [ReplayManager]   Enemy 2: Enemy3
[22:06:28] [INFO] [ReplayManager]   Enemy 3: Enemy4
[22:06:28] [INFO] [ReplayManager]   Enemy 4: Enemy5
[22:06:28] [INFO] [ReplayManager]   Enemy 5: Enemy6
[22:06:28] [INFO] [ReplayManager]   Enemy 6: Enemy7
[22:06:28] [INFO] [ReplayManager]   Enemy 7: Enemy8
[22:06:28] [INFO] [ReplayManager]   Enemy 8: Enemy9
[22:06:28] [INFO] [ReplayManager]   Enemy 9: Enemy10
[22:06:28] [INFO] [BuildingLevel] Replay recording started successfully
[22:06:28] [INFO] [BloodDecal] Blood puddle created at (709.5045, 758.7694) (added to group)
[22:06:28] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[22:06:28] [INFO] [CinemaEffects] Found player node: Player
[22:06:28] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[22:06:28] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[22:06:28] [ENEMY] [Enemy1] Registered as sound listener
[22:06:28] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 2, behavior: GUARD
[22:06:28] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[22:06:28] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[22:06:28] [ENEMY] [Enemy2] Registered as sound listener
[22:06:28] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 2, behavior: GUARD
[22:06:28] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[22:06:28] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[22:06:28] [ENEMY] [Enemy3] Registered as sound listener
[22:06:28] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 3, behavior: GUARD
[22:06:28] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[22:06:28] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[22:06:28] [ENEMY] [Enemy4] Registered as sound listener
[22:06:28] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 2, behavior: GUARD
[22:06:28] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[22:06:28] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[22:06:28] [ENEMY] [Enemy5] Registered as sound listener
[22:06:28] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 3, behavior: GUARD
[22:06:28] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[22:06:28] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[22:06:28] [ENEMY] [Enemy6] Registered as sound listener
[22:06:28] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 4, behavior: GUARD
[22:06:28] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[22:06:28] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[22:06:28] [ENEMY] [Enemy7] Registered as sound listener
[22:06:28] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 3, behavior: PATROL
[22:06:28] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[22:06:28] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[22:06:28] [ENEMY] [Enemy8] Registered as sound listener
[22:06:28] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 2, behavior: GUARD
[22:06:28] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[22:06:28] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[22:06:28] [ENEMY] [Enemy9] Registered as sound listener
[22:06:28] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 3, behavior: GUARD
[22:06:28] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[22:06:28] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[22:06:28] [ENEMY] [Enemy10] Registered as sound listener
[22:06:28] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 2, behavior: PATROL
[22:06:28] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[22:06:29] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[22:06:29] [INFO] [BloodyFeet:Enemy3] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[22:06:29] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:06:29] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=45.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:06:29] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:06:29] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:06:29] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:06:29] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:06:29] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=123.7°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:06:29] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:06:29] [INFO] [Player] Detecting weapon pose (frame 3)...
[22:06:29] [INFO] [Player] Detected weapon: Rifle (default pose)
[22:06:29] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[22:06:29] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[22:06:29] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[22:06:29] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[22:06:29] [INFO] [LastChance] Found player: Player
[22:06:29] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[22:06:29] [INFO] [LastChance] Connected to player Damaged signal (C#)
[22:06:29] [INFO] [LastChance] Connected to player Died signal (C#)
[22:06:29] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[22:06:29] [INFO] [BloodDecal] Blood puddle created at (784.9374, 781.7925) (added to group)
[22:06:29] [INFO] [BloodDecal] Blood puddle created at (745.8986, 747.4015) (added to group)
[22:06:29] [INFO] [BloodDecal] Blood puddle created at (750.6498, 745.4812) (added to group)
[22:06:29] [INFO] [BloodDecal] Blood puddle created at (736.9603, 763.9611) (added to group)
[22:06:29] [INFO] [BloodDecal] Blood puddle created at (724.3726, 793.2283) (added to group)
[22:06:29] [INFO] [BloodDecal] Blood puddle created at (717.4428, 742.2449) (added to group)
[22:06:29] [INFO] [BloodDecal] Blood puddle created at (797.9886, 831.5724) (added to group)
[22:06:29] [INFO] [BloodDecal] Blood puddle created at (820.6189, 795.3599) (added to group)
[22:06:29] [INFO] [BloodDecal] Blood puddle created at (767.7695, 779.8802) (added to group)
[22:06:29] [INFO] [BloodDecal] Blood puddle created at (733.6232, 804.6848) (added to group)
[22:06:29] [INFO] [BloodDecal] Blood puddle created at (843.4857, 788.1277) (added to group)
[22:06:29] [INFO] [BloodDecal] Blood puddle created at (775.3109, 777.0274) (added to group)
[22:06:29] [INFO] [BloodDecal] Blood puddle created at (805.5322, 730.9042) (added to group)
[22:06:29] [INFO] [BloodDecal] Blood puddle created at (765.506, 800.2408) (added to group)
[22:06:29] [INFO] [BloodDecal] Blood puddle created at (823.815, 753.4073) (added to group)
[22:06:29] [INFO] [BloodDecal] Blood puddle created at (799.716, 833.3972) (added to group)
[22:06:29] [INFO] [BloodDecal] Blood puddle created at (813.1619, 779.9791) (added to group)
[22:06:29] [INFO] [BloodDecal] Blood puddle created at (765.1761, 812.0864) (added to group)
[22:06:29] [INFO] [BloodDecal] Blood puddle created at (833.8378, 783.5971) (added to group)
[22:06:29] [INFO] [BloodDecal] Blood puddle created at (856.2949, 756.8428) (added to group)
[22:06:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 1250), source=PLAYER (AssaultRifle), range=1469, listeners=19
[22:06:29] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[22:06:29] [ENEMY] [Enemy4] Heard gunshot at (450, 1250), source_type=0, intensity=0.01, distance=495
[22:06:29] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=6
[22:06:29] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=135.0°, current=80.2°, player=(450,1250), corner_timer=0.00
[22:06:29] [ENEMY] [Enemy3] Memory: medium confidence (0.63) - transitioning to PURSUING
[22:06:29] [ENEMY] [Enemy3] State: IDLE -> PURSUING
[22:06:29] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=116.6°, current=-88.8°, player=(450,1250), corner_timer=0.00
[22:06:29] [ENEMY] [Enemy3] PURSUING corner check: angle -129.3°
[22:06:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 1250), source=PLAYER (AssaultRifle), range=1469, listeners=10
[22:06:29] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=5
[22:06:30] [ENEMY] [Enemy3] PURSUING corner check: angle -161.0°
[22:06:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(450, 1250), shooter_id=943651293437, bullet_pos=(1488.5607, 1708.6626)
[22:06:30] [INFO] [Bullet] Using shooter_position, distance=1135,3324
[22:06:30] [INFO] [Bullet] Distance to wall: 1135,3324 (77,30687% of viewport)
[22:06:30] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[22:06:30] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[22:06:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 1250), source=PLAYER (AssaultRifle), range=1469, listeners=10
[22:06:30] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=5
[22:06:30] [ENEMY] [Enemy10] Hit: dmg=1, hp=2/2->1/2
[22:06:30] [INFO] [ImpactEffects] spawn_blood_effect called at (1200, 1550), dir=(1, 0), lethal=false
[22:06:30] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[22:06:30] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[22:06:30] [INFO] [ImpactEffects] Blood effect spawned at (1200, 1550) (scale=1)
[22:06:30] [ENEMY] [Enemy3] PURSUING corner check: angle 19.0°
[22:06:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(450, 1250), shooter_id=943651293437, bullet_pos=(905.99786, 1439.1365)
[22:06:30] [INFO] [Bullet] Using shooter_position, distance=493,66653
[22:06:30] [INFO] [Bullet] Distance to wall: 493,66653 (33,614662% of viewport)
[22:06:30] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:06:30] [INFO] [BloodDecal] Blood puddle created at (1250.855, 1585.671) (added to group)
[22:06:30] [INFO] [BloodDecal] Blood puddle created at (1259.488, 1548.312) (added to group)
[22:06:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 1250), source=PLAYER (AssaultRifle), range=1469, listeners=10
[22:06:30] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=5
[22:06:30] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[22:06:30] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[22:06:30] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,1250), corner_timer=0.30
[22:06:30] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=-90.0°, player=(450,1250), corner_timer=0.30
[22:06:30] [INFO] [BloodDecal] Blood puddle created at (1273.775, 1584.639) (added to group)
[22:06:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(450, 1250), shooter_id=943651293437, bullet_pos=(898.39624, 1435.7129)
[22:06:30] [INFO] [Bullet] Using shooter_position, distance=485,33334
[22:06:30] [INFO] [Bullet] Distance to wall: 485,33334 (33,04724% of viewport)
[22:06:30] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:06:30] [INFO] [BloodDecal] Blood puddle created at (1356.396, 1606.955) (added to group)
[22:06:31] [INFO] [BloodDecal] Blood puddle created at (1325.627, 1629.726) (added to group)
[22:06:31] [INFO] [BloodDecal] Blood puddle created at (1377.698, 1621.791) (added to group)
[22:06:31] [INFO] [BloodDecal] Blood puddle created at (1312.405, 1654.298) (added to group)
[22:06:31] [INFO] [BloodDecal] Blood puddle created at (1358.019, 1652.457) (added to group)
[22:06:31] [INFO] [BloodDecal] Blood puddle created at (1381.799, 1621.591) (added to group)
[22:06:31] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[22:06:31] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:06:31] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[22:06:31] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[22:06:31] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[22:06:31] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[22:06:31] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[22:06:31] [INFO] [LastChance] Resetting all effects (scene change detected)
[22:06:31] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[22:06:31] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[22:06:31] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[22:06:31] [ENEMY] [Enemy1] Death animation component initialized
[22:06:31] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:06:31] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[22:06:31] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[22:06:31] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[22:06:31] [ENEMY] [Enemy2] Death animation component initialized
[22:06:31] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:06:31] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[22:06:31] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[22:06:31] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[22:06:31] [ENEMY] [Enemy3] Death animation component initialized
[22:06:31] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:06:31] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[22:06:31] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[22:06:31] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[22:06:31] [ENEMY] [Enemy4] Death animation component initialized
[22:06:31] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:06:31] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[22:06:31] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[22:06:31] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[22:06:31] [ENEMY] [Enemy5] Death animation component initialized
[22:06:31] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:06:31] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[22:06:31] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[22:06:31] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[22:06:31] [ENEMY] [Enemy6] Death animation component initialized
[22:06:31] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:06:31] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[22:06:31] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[22:06:31] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[22:06:31] [ENEMY] [Enemy7] Death animation component initialized
[22:06:31] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:06:31] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[22:06:31] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[22:06:31] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[22:06:31] [ENEMY] [Enemy8] Death animation component initialized
[22:06:31] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:06:31] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[22:06:31] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[22:06:31] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[22:06:31] [ENEMY] [Enemy9] Death animation component initialized
[22:06:31] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:06:31] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[22:06:31] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[22:06:31] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[22:06:31] [ENEMY] [Enemy10] Death animation component initialized
[22:06:31] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:06:31] [INFO] [BloodyFeet:Player] Footprint scene loaded
[22:06:31] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[22:06:31] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[22:06:31] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[22:06:31] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[22:06:31] [INFO] [Player.Weapon] GameManager weapon selection: m16 (AssaultRifle)
[22:06:31] [INFO] [Player.Weapon] Removed default MakarovPM
[22:06:31] [INFO] [Player.Weapon] Equipped AssaultRifle (ammo: 30/30)
[22:06:31] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[22:06:31] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[22:06:31] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[22:06:31] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[22:06:31] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[22:06:31] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: True
[22:06:31] [INFO] [Player.Flashlight] Flashlight is selected, initializing...
[22:06:31] [INFO] [FlashlightEffect] PointLight2D found, energy=0.0, shadow=true
[22:06:31] [INFO] [FlashlightEffect] Flashlight sound loaded
[22:06:31] [INFO] [Player.Flashlight] Flashlight equipped and attached to PlayerModel at offset (20, 0)
[22:06:31] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 10/10
[22:06:31] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[22:06:31] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[22:06:31] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[22:06:31] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[22:06:31] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[22:06:31] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[22:06:31] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[22:06:31] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[22:06:31] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[22:06:31] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[22:06:31] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[22:06:31] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[22:06:31] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[22:06:31] [INFO] [BuildingLevel] Setting up weapon: m16
[22:06:31] [INFO] [BuildingLevel] AssaultRifle already equipped by C# Player - skipping GDScript weapon swap
[22:06:31] [INFO] [ScoreManager] Level started with 10 enemies
[22:06:31] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[22:06:31] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[22:06:31] [INFO] [ReplayManager] Replay data cleared
[22:06:31] [INFO] [BuildingLevel] Previous replay data cleared
[22:06:31] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[22:06:31] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[22:06:31] [INFO] [ReplayManager] Level: BuildingLevel
[22:06:31] [INFO] [ReplayManager] Player: Player (valid: True)
[22:06:31] [INFO] [ReplayManager] Enemies count: 10
[22:06:31] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[22:06:31] [INFO] [ReplayManager]   Enemy 0: Enemy1
[22:06:31] [INFO] [ReplayManager]   Enemy 1: Enemy2
[22:06:31] [INFO] [ReplayManager]   Enemy 2: Enemy3
[22:06:31] [INFO] [ReplayManager]   Enemy 3: Enemy4
[22:06:31] [INFO] [ReplayManager]   Enemy 4: Enemy5
[22:06:31] [INFO] [ReplayManager]   Enemy 5: Enemy6
[22:06:31] [INFO] [ReplayManager]   Enemy 6: Enemy7
[22:06:31] [INFO] [ReplayManager]   Enemy 7: Enemy8
[22:06:31] [INFO] [ReplayManager]   Enemy 8: Enemy9
[22:06:31] [INFO] [ReplayManager]   Enemy 9: Enemy10
[22:06:31] [INFO] [BuildingLevel] Replay recording started successfully
[22:06:31] [INFO] [BloodDecal] Blood puddle created at (1309.84, 1671.099) (added to group)
[22:06:31] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[22:06:31] [INFO] [CinemaEffects] Found player node: Player
[22:06:31] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[22:06:31] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[22:06:31] [ENEMY] [Enemy1] Registered as sound listener
[22:06:31] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 4, behavior: GUARD
[22:06:31] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[22:06:31] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[22:06:31] [ENEMY] [Enemy2] Registered as sound listener
[22:06:31] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 3, behavior: GUARD
[22:06:31] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[22:06:31] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[22:06:31] [ENEMY] [Enemy3] Registered as sound listener
[22:06:31] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 3, behavior: GUARD
[22:06:31] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[22:06:31] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[22:06:31] [ENEMY] [Enemy4] Registered as sound listener
[22:06:31] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 2, behavior: GUARD
[22:06:31] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[22:06:31] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[22:06:31] [ENEMY] [Enemy5] Registered as sound listener
[22:06:31] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 2, behavior: GUARD
[22:06:31] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[22:06:31] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[22:06:31] [ENEMY] [Enemy6] Registered as sound listener
[22:06:31] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 3, behavior: GUARD
[22:06:31] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[22:06:31] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[22:06:31] [ENEMY] [Enemy7] Registered as sound listener
[22:06:31] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 2, behavior: PATROL
[22:06:31] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[22:06:31] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[22:06:31] [ENEMY] [Enemy8] Registered as sound listener
[22:06:31] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 3, behavior: GUARD
[22:06:31] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[22:06:31] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[22:06:31] [ENEMY] [Enemy9] Registered as sound listener
[22:06:31] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 2, behavior: GUARD
[22:06:31] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[22:06:31] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[22:06:31] [ENEMY] [Enemy10] Registered as sound listener
[22:06:31] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 3, behavior: PATROL
[22:06:31] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[22:06:31] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[22:06:31] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=33.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:06:31] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:06:31] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=236.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:06:31] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:06:31] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:06:31] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:06:31] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:06:31] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:06:31] [INFO] [Player] Detecting weapon pose (frame 3)...
[22:06:31] [INFO] [Player] Detected weapon: Rifle (default pose)
[22:06:31] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[22:06:31] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[22:06:31] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[22:06:31] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[22:06:31] [INFO] [LastChance] Found player: Player
[22:06:31] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[22:06:31] [INFO] [LastChance] Connected to player Damaged signal (C#)
[22:06:31] [INFO] [LastChance] Connected to player Died signal (C#)
[22:06:31] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[22:06:32] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[22:06:32] [INFO] ------------------------------------------------------------
[22:06:32] [INFO] GAME LOG ENDED: 2026-02-07T22:06:32
[22:06:32] [INFO] ============================================================
