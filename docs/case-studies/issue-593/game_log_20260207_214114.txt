[21:41:14] [INFO] ============================================================
[21:41:14] [INFO] GAME LOG STARTED
[21:41:14] [INFO] ============================================================
[21:41:14] [INFO] Timestamp: 2026-02-07T21:41:14
[21:41:14] [INFO] Log file: I:/Загрузки/godot exe/источники света/game_log_20260207_214114.txt
[21:41:14] [INFO] Executable: I:/Загрузки/godot exe/источники света/Godot-Top-Down-Template.exe
[21:41:14] [INFO] OS: Windows
[21:41:14] [INFO] Debug build: false
[21:41:14] [INFO] Engine version: 4.3-stable (official)
[21:41:14] [INFO] Project: Godot Top-Down Template
[21:41:14] [INFO] ------------------------------------------------------------
[21:41:14] [INFO] [GameManager] GameManager ready
[21:41:14] [INFO] [ScoreManager] ScoreManager ready
[21:41:14] [INFO] [SoundPropagation] SoundPropagation autoload initialized
[21:41:14] [INFO] [ImpactEffects] Scenes loaded: DustEffect, BloodEffect, SparksEffect, BloodDecal
[21:41:14] [INFO] [ImpactEffects] ImpactEffectsManager ready - FULL VERSION with blood effects enabled
[21:41:14] [INFO] [ImpactEffects] Starting particle shader warmup (Issue #343 fix)...
[21:41:14] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[21:41:14] [INFO] [PenultimateHit] Saturation shader loaded successfully
[21:41:14] [INFO] [PenultimateHit] Starting shader warmup (Issue #343 fix)...
[21:41:14] [INFO] [PenultimateHit] PenultimateHitEffectsManager ready - Configuration:
[21:41:14] [INFO] [PenultimateHit]   Time scale: 0.10 (10x slowdown)
[21:41:14] [INFO] [PenultimateHit]   Saturation boost: 2.0 (3.0x)
[21:41:14] [INFO] [PenultimateHit]   Contrast boost: 1.0 (2.0x)
[21:41:14] [INFO] [PenultimateHit]   Effect duration: 3.0 real seconds
[21:41:14] [INFO] [LastChance] Resetting all effects (scene change detected)
[21:41:14] [INFO] [LastChance] Last chance shader loaded successfully
[21:41:14] [INFO] [LastChance] Starting shader warmup (Issue #343 fix)...
[21:41:14] [INFO] [LastChance] LastChanceEffectsManager ready - Configuration:
[21:41:14] [INFO] [LastChance]   Freeze duration: 6.0 real seconds
[21:41:14] [INFO] [LastChance]   Sepia intensity: 0.70
[21:41:14] [INFO] [LastChance]   Brightness: 0.60
[21:41:14] [INFO] [GrenadeManager] Loaded grenade scene: res://scenes/projectiles/FlashbangGrenade.tscn
[21:41:14] [INFO] [GrenadeManager] Loaded grenade scene: res://scenes/projectiles/FragGrenade.tscn
[21:41:14] [INFO] [GrenadeManager] Loaded grenade scene: res://scenes/projectiles/DefensiveGrenade.tscn
[21:41:14] [INFO] [ExperimentalSettings] ExperimentalSettings initialized - FOV: true, Complex grenades: false, AI prediction: true, Debug: true, Invincibility: true, Realistic visibility: false
[21:41:14] [INFO] [CinemaEffects] CinemaEffectsManager initializing (v5.3 - overlay approach with simplified death circle)...
[21:41:14] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[21:41:14] [INFO] [CinemaEffects] Created effects layer at layer 99
[21:41:14] [INFO] [CinemaEffects] Cinema shader loaded successfully (v5.0 - no screen_texture)
[21:41:14] [INFO] [CinemaEffects] Starting cinema shader warmup (Issue #343 fix)...
[21:41:14] [INFO] [CinemaEffects] Cinema film effect initialized (v5.3) - Configuration:
[21:41:14] [INFO] [CinemaEffects]   Approach: Overlay-based (no screen_texture)
[21:41:14] [INFO] [CinemaEffects]   Grain intensity: 0.15
[21:41:14] [INFO] [CinemaEffects]   Warm tint: 0.12 intensity
[21:41:14] [INFO] [CinemaEffects]   Sunny effect: 0.08 intensity
[21:41:14] [INFO] [CinemaEffects]   Vignette: 0.25 intensity
[21:41:14] [INFO] [CinemaEffects]   Film defects: 1.5% probability
[21:41:14] [INFO] [CinemaEffects]   White specks: 0.70 intensity, 4.0% probability
[21:41:14] [INFO] [CinemaEffects]   Death effects: cigarette burn + expanding spots + end of reel circle (160px, blinks 2x)
[21:41:14] [INFO] [CinemaEffects] Enabling effect after 1 frame(s)...
[21:41:14] [INFO] [GrenadeTimerHelper] Autoload ready
[21:41:14] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[21:41:14] [INFO] [PowerFantasy] Saturation shader loaded successfully
[21:41:14] [INFO] [PowerFantasy] PowerFantasyEffectsManager ready - Configuration:
[21:41:14] [INFO] [PowerFantasy]   Kill effect duration: 300ms
[21:41:14] [INFO] [PowerFantasy]   Grenade effect duration: 2000ms (2.0s)
[21:41:14] [INFO] [ProgressManager] ProgressManager ready, loaded 5 entries
[21:41:14] [INFO] [ReplayManager] ReplayManager ready (C# version loaded and _Ready called)
[21:41:14] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:41:14] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[21:41:14] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[21:41:14] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[21:41:14] [ENEMY] [Enemy1] Death animation component initialized
[21:41:14] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:41:14] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[21:41:14] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[21:41:14] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[21:41:14] [ENEMY] [Enemy2] Death animation component initialized
[21:41:14] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:41:14] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[21:41:14] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[21:41:14] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[21:41:14] [ENEMY] [Enemy3] Death animation component initialized
[21:41:14] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:41:14] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[21:41:14] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[21:41:14] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[21:41:14] [INFO] [EnemyGrenade] Initialized: 1 grenades
[21:41:14] [ENEMY] [Enemy4] Death animation component initialized
[21:41:14] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:41:14] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[21:41:14] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[21:41:14] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[21:41:14] [INFO] [EnemyGrenade] Initialized: 1 grenades
[21:41:14] [ENEMY] [Enemy5] Death animation component initialized
[21:41:14] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:41:14] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[21:41:14] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[21:41:14] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[21:41:14] [ENEMY] [Enemy6] Death animation component initialized
[21:41:14] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:41:14] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[21:41:14] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[21:41:14] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[21:41:14] [ENEMY] [Enemy7] Death animation component initialized
[21:41:14] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:41:14] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[21:41:14] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[21:41:14] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[21:41:14] [ENEMY] [Enemy8] Death animation component initialized
[21:41:14] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:41:14] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[21:41:14] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[21:41:14] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[21:41:14] [ENEMY] [Enemy9] Death animation component initialized
[21:41:14] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:41:14] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[21:41:14] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[21:41:14] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[21:41:14] [ENEMY] [Enemy10] Death animation component initialized
[21:41:14] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:41:14] [INFO] [BloodyFeet:Player] Footprint scene loaded
[21:41:14] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[21:41:14] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[21:41:14] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[21:41:14] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[21:41:14] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[21:41:14] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[21:41:14] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[21:41:14] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[21:41:14] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[21:41:14] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[21:41:14] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[21:41:14] [INFO] [Player] Ready! Ammo: 9/9, Grenades: 1/3, Health: 2/4
[21:41:14] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[21:41:14] [INFO] [BloodDecal] Blood puddle created at (640, 360) (added to group)
[21:41:14] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[21:41:14] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[21:41:14] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[21:41:14] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[21:41:14] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[21:41:14] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[21:41:14] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[21:41:14] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[21:41:14] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[21:41:14] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[21:41:14] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[21:41:14] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[21:41:14] [INFO] [BuildingLevel] Setting up weapon: makarov_pm
[21:41:14] [INFO] [ScoreManager] Level started with 10 enemies
[21:41:14] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[21:41:14] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[21:41:14] [INFO] [ReplayManager] Replay data cleared
[21:41:14] [INFO] [BuildingLevel] Previous replay data cleared
[21:41:14] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[21:41:14] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[21:41:14] [INFO] [ReplayManager] Level: BuildingLevel
[21:41:14] [INFO] [ReplayManager] Player: Player (valid: True)
[21:41:14] [INFO] [ReplayManager] Enemies count: 10
[21:41:14] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[21:41:14] [INFO] [ReplayManager]   Enemy 0: Enemy1
[21:41:14] [INFO] [ReplayManager]   Enemy 1: Enemy2
[21:41:14] [INFO] [ReplayManager]   Enemy 2: Enemy3
[21:41:14] [INFO] [ReplayManager]   Enemy 3: Enemy4
[21:41:14] [INFO] [ReplayManager]   Enemy 4: Enemy5
[21:41:14] [INFO] [ReplayManager]   Enemy 5: Enemy6
[21:41:14] [INFO] [ReplayManager]   Enemy 6: Enemy7
[21:41:14] [INFO] [ReplayManager]   Enemy 7: Enemy8
[21:41:14] [INFO] [ReplayManager]   Enemy 8: Enemy9
[21:41:14] [INFO] [ReplayManager]   Enemy 9: Enemy10
[21:41:14] [INFO] [BuildingLevel] Replay recording started successfully
[21:41:14] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[21:41:14] [INFO] [CinemaEffects] Found player node: Player
[21:41:14] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[21:41:14] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[21:41:14] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 1)
[21:41:14] [ENEMY] [Enemy1] Registered as sound listener
[21:41:14] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 3, behavior: GUARD
[21:41:14] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[21:41:14] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 2)
[21:41:14] [ENEMY] [Enemy2] Registered as sound listener
[21:41:14] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 4, behavior: GUARD
[21:41:14] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[21:41:14] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 3)
[21:41:14] [ENEMY] [Enemy3] Registered as sound listener
[21:41:14] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 4, behavior: GUARD
[21:41:14] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[21:41:14] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 4)
[21:41:14] [ENEMY] [Enemy4] Registered as sound listener
[21:41:14] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 2, behavior: GUARD
[21:41:14] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[21:41:14] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 5)
[21:41:14] [ENEMY] [Enemy5] Registered as sound listener
[21:41:14] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 2, behavior: GUARD
[21:41:14] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[21:41:14] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 6)
[21:41:14] [ENEMY] [Enemy6] Registered as sound listener
[21:41:14] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 3, behavior: GUARD
[21:41:14] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[21:41:14] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 7)
[21:41:14] [ENEMY] [Enemy7] Registered as sound listener
[21:41:14] [ENEMY] [Enemy7] Spawned at (1606.114, 893.8859), hp: 4, behavior: PATROL
[21:41:14] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[21:41:14] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 8)
[21:41:14] [ENEMY] [Enemy8] Registered as sound listener
[21:41:14] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 3, behavior: GUARD
[21:41:14] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[21:41:14] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 9)
[21:41:14] [ENEMY] [Enemy9] Registered as sound listener
[21:41:14] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 4, behavior: GUARD
[21:41:14] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[21:41:14] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 10)
[21:41:14] [ENEMY] [Enemy10] Registered as sound listener
[21:41:14] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 2, behavior: PATROL
[21:41:14] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[21:41:14] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=33.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[21:41:14] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[21:41:14] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=281.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[21:41:14] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[21:41:14] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[21:41:14] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[21:41:14] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=78.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[21:41:14] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[21:41:14] [INFO] [Player] Detecting weapon pose (frame 3)...
[21:41:14] [INFO] [Player] Detected weapon: Makarov PM (Pistol pose)
[21:41:14] [INFO] [Player] Applied Pistol arm pose: Left=(16, 6), Right=(4, 6)
[21:41:14] [INFO] [PenultimateHit] Shader warmup complete in 717 ms
[21:41:14] [INFO] [LastChance] Shader warmup complete in 716 ms
[21:41:14] [INFO] [CinemaEffects] Cinema shader warmup complete in 663 ms
[21:41:14] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[21:41:14] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[21:41:14] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[21:41:14] [INFO] [LastChance] Found player: Player
[21:41:14] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[21:41:14] [INFO] [LastChance] Connected to player Damaged signal (C#)
[21:41:14] [INFO] [LastChance] Connected to player Died signal (C#)
[21:41:14] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[21:41:15] [INFO] [ImpactEffects] Particle shader warmup complete: 7 effects warmed up in 1001 ms
[21:41:15] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[21:41:16] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[21:41:16] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[21:41:16] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,1250), corner_timer=0.30
[21:41:16] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,1250), corner_timer=0.30
[21:41:16] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(450,1250), corner_timer=-0.02
[21:41:16] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[21:41:16] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(450,1250), corner_timer=-0.02
[21:41:16] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[21:41:16] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(450,1250), corner_timer=0.30
[21:41:16] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(450,1250), corner_timer=0.30
[21:41:16] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[21:41:17] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(450,1193), corner_timer=-0.02
[21:41:17] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[21:41:17] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(450,1188), corner_timer=0.30
[21:41:17] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(450,1083), corner_timer=-0.02
[21:41:17] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[21:41:17] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.6°, player=(450,1078), corner_timer=0.30
[21:41:17] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(426,984), corner_timer=-0.02
[21:41:17] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[21:41:17] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.8°, current=6.3°, player=(423,981), corner_timer=0.30
[21:41:17] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=10
[21:41:18] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.8°, player=(348,960), corner_timer=-0.02
[21:41:18] [ENEMY] [Enemy10] PATROL corner check: angle 0.9°
[21:41:18] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=0.9°, current=4.6°, player=(346,959), corner_timer=0.30
[21:41:18] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:41:18] [INFO] [ReplayManager] Recording frame 240 (4,0s): player_valid=True, enemies=10
[21:41:19] [INFO] [PauseMenu] Armory button pressed
[21:41:19] [INFO] [PauseMenu] Creating new armory menu instance
[21:41:19] [INFO] [PauseMenu] armory_menu_scene resource path: res://scenes/ui/ArmoryMenu.tscn
[21:41:19] [INFO] [PauseMenu] Instance created, class: CanvasLayer, name: ArmoryMenu
[21:41:19] [INFO] [PauseMenu] Script attached: res://scripts/ui/armory_menu.gd
[21:41:19] [INFO] [PauseMenu] back_pressed signal exists on instance
[21:41:19] [INFO] [PauseMenu] back_pressed signal connected
[21:41:19] [INFO] [PauseMenu] Armory menu instance added as child, is_inside_tree: true
[21:41:19] [INFO] [PauseMenu] _populate_weapon_grid method exists
[21:41:19] [INFO] [ReplayManager] Recording frame 300 (5,0s): player_valid=True, enemies=10
[21:41:20] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=-130.1°, player=(339,959), corner_timer=-0.02
[21:41:20] [ENEMY] [Enemy7] PATROL corner check: angle 90.0°
[21:41:20] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=-133.0°, player=(339,959), corner_timer=0.30
[21:41:20] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:41:20] [INFO] [ReplayManager] Recording frame 360 (6,0s): player_valid=True, enemies=10
[21:41:21] [INFO] [ExperimentalSettings] Realistic visibility enabled
[21:41:21] [INFO] [ReplayManager] Recording frame 420 (7,0s): player_valid=True, enemies=10
[21:41:22] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=179.1°, current=172.4°, player=(339,959), corner_timer=-0.02
[21:41:22] [ENEMY] [Enemy7] PATROL corner check: angle 89.8°
[21:41:22] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.8°, current=175.3°, player=(339,959), corner_timer=0.30
[21:41:22] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:41:22] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=178.4°, current=120.7°, player=(339,966), corner_timer=-0.02
[21:41:22] [ENEMY] [Enemy7] PATROL corner check: angle 89.7°
[21:41:22] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.7°, current=123.6°, player=(339,968), corner_timer=0.30
[21:41:22] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:41:22] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.9°, current=89.7°, player=(339,1059), corner_timer=-0.02
[21:41:22] [ENEMY] [Enemy7] PATROL corner check: angle 89.6°
[21:41:22] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.6°, current=92.5°, player=(339,1064), corner_timer=0.30
[21:41:22] [INFO] [ReplayManager] Recording frame 480 (8,0s): player_valid=True, enemies=10
[21:41:22] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:41:23] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.7°, current=89.6°, player=(309,1156), corner_timer=-0.02
[21:41:23] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[21:41:23] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.4°, player=(308,1162), corner_timer=0.30
[21:41:23] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:41:23] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.5°, current=89.5°, player=(308,1266), corner_timer=-0.02
[21:41:23] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[21:41:23] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.4°, player=(308,1272), corner_timer=0.30
[21:41:23] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:41:23] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.4°, current=89.5°, player=(343,1349), corner_timer=-0.02
[21:41:23] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[21:41:23] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.3°, player=(347,1351), corner_timer=0.30
[21:41:23] [INFO] [ReplayManager] Recording frame 540 (9,0s): player_valid=True, enemies=10
[21:41:23] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:41:24] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.5°, player=(428,1334), corner_timer=-0.02
[21:41:24] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[21:41:24] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(431,1331), corner_timer=0.30
[21:41:24] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:41:24] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(441,1236), corner_timer=-0.02
[21:41:24] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[21:41:24] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(441,1230), corner_timer=0.30
[21:41:24] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:41:24] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(441,1126), corner_timer=-0.02
[21:41:24] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[21:41:24] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(441,1120), corner_timer=0.30
[21:41:24] [INFO] [ReplayManager] Recording frame 600 (10,0s): player_valid=True, enemies=10
[21:41:24] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:41:25] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(441,1016), corner_timer=-0.02
[21:41:25] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[21:41:25] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(441,1010), corner_timer=0.30
[21:41:25] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:41:25] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(441,906), corner_timer=-0.02
[21:41:25] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[21:41:25] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(441,900), corner_timer=0.30
[21:41:25] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:41:25] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(441,796), corner_timer=-0.02
[21:41:25] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[21:41:25] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(441,790), corner_timer=0.30
[21:41:25] [INFO] [ReplayManager] Recording frame 660 (11,0s): player_valid=True, enemies=10
[21:41:25] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:41:26] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(492,728), corner_timer=-0.02
[21:41:26] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[21:41:26] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(496,728), corner_timer=0.30
[21:41:26] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=61.1°, current=33.8°, player=(508,727), corner_timer=0.00
[21:41:26] [ENEMY] [Enemy1] State: IDLE -> COMBAT
[21:41:26] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:41:26] [ENEMY] [Enemy2] Memory: high confidence (0.90) - transitioning to PURSUING
[21:41:26] [ENEMY] [Enemy2] State: IDLE -> PURSUING
[21:41:26] [ENEMY] [Enemy3] Memory: high confidence (0.81) - transitioning to PURSUING
[21:41:26] [ENEMY] [Enemy3] State: IDLE -> PURSUING
[21:41:26] [ENEMY] [Enemy4] Memory: medium confidence (0.72) - transitioning to PURSUING
[21:41:26] [ENEMY] [Enemy4] State: IDLE -> PURSUING
[21:41:26] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=48.9°, current=-157.5°, player=(539,709), corner_timer=0.00
[21:41:26] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=-165.9°, current=-78.7°, player=(539,709), corner_timer=0.00
[21:41:26] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=-143.9°, current=168.8°, player=(539,709), corner_timer=0.00
[21:41:26] [ENEMY] [Enemy2] PURSUING corner check: angle 151.0°
[21:41:26] [ENEMY] [Enemy3] PURSUING corner check: angle -117.3°
[21:41:26] [ENEMY] [Enemy4] PURSUING corner check: angle -113.2°
[21:41:26] [ENEMY] [Enemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=52.7°, current=70.5°, player=(547,702), corner_timer=0.00
[21:41:26] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(570,678), corner_timer=-0.02
[21:41:26] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[21:41:26] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(574,674), corner_timer=0.30
[21:41:26] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:41:26] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-2.4°, current=-27.5°, player=(617,632), corner_timer=0.00
[21:41:26] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[21:41:26] [ENEMY] [Enemy3] PURSUING corner check: angle 62.7°
[21:41:26] [ENEMY] [Enemy4] PURSUING corner check: angle -89.5°
[21:41:26] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[21:41:26] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-10.2°, current=-63.8°, player=(632,616), corner_timer=0.00
[21:41:26] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(648,601), corner_timer=-0.02
[21:41:26] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[21:41:26] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(652,597), corner_timer=0.30
[21:41:26] [INFO] [ReplayManager] Recording frame 720 (12,0s): player_valid=True, enemies=10
[21:41:26] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:41:26] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-104.7°, current=-105.4°, player=(690,558), corner_timer=0.02
[21:41:26] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[21:41:26] [ENEMY] [Enemy4] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-103.7°, current=-28.3°, player=(698,550), corner_timer=0.02
[21:41:26] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-22.1°, current=-70.3°, player=(702,546), corner_timer=0.00
[21:41:27] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(725,523), corner_timer=-0.02
[21:41:27] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[21:41:27] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(729,519), corner_timer=0.30
[21:41:27] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-98.2°, current=-49.0°, player=(733,515), corner_timer=0.02
[21:41:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(448.2091, 649.8571), source=ENEMY (Enemy2), range=1469, listeners=10
[21:41:27] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=1, below_threshold=3
[21:41:27] [INFO] [LastChance] Threat detected: Bullet
[21:41:27] [INFO] [LastChance] Not in hard mode - effect disabled
[21:41:27] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:41:27] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:41:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(448.2091, 649.8571), source=ENEMY (Enemy2), range=1469, listeners=10
[21:41:27] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=1, below_threshold=3
[21:41:27] [INFO] [LastChance] Threat detected: @Area2D@385
[21:41:27] [INFO] [LastChance] Not in hard mode - effect disabled
[21:41:27] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:41:27] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[21:41:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(448.2091, 649.8571), source=ENEMY (Enemy2), range=1469, listeners=10
[21:41:27] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=1, below_threshold=3
[21:41:27] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-57.9°, current=-105.6°, player=(798,449), corner_timer=0.20
[21:41:27] [ENEMY] [Enemy3] State: PURSUING -> COMBAT
[21:41:27] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(801,444), corner_timer=-0.02
[21:41:27] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[21:41:27] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=151.0°, current=-28.9°, player=(804,440), corner_timer=0.00
[21:41:27] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-57.6°, current=49.6°, player=(804,440), corner_timer=0.20
[21:41:27] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(804,440), corner_timer=0.30
[21:41:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(814.6691, 780.2521), source=ENEMY (Enemy4), range=1469, listeners=10
[21:41:27] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[21:41:27] [INFO] [LastChance] Threat detected: @Area2D@388
[21:41:27] [INFO] [LastChance] Not in hard mode - effect disabled
[21:41:27] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:41:27] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[21:41:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(514.77136, 626.1807), shooter_id=52730791522, bullet_pos=(1382.0463, 218.45804)
[21:41:27] [INFO] [Bullet] Using shooter_position, distance=958,33374
[21:41:27] [INFO] [Bullet] Distance to wall: 958,33374 (65,25471% of viewport)
[21:41:27] [INFO] [Bullet] Distance-based penetration chance: 70,53618%
[21:41:27] [INFO] [Bullet] Starting wall penetration at (1382.0463, 218.45804)
[21:41:27] [INFO] [LastChance] Threat detected: @Area2D@390
[21:41:27] [INFO] [LastChance] Not in hard mode - effect disabled
[21:41:27] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:41:27] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[21:41:27] [INFO] [Bullet] Raycast backward hit penetrating body at distance 40,087868
[21:41:27] [INFO] [Bullet] Body exited signal received for penetrating body
[21:41:27] [INFO] [Bullet] Exiting penetration at (1424.2788, 198.60371) after traveling 41,66667 pixels through wall
[21:41:27] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[21:41:27] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:41:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(814.3425, 742.9213), source=ENEMY (Enemy4), range=1469, listeners=10
[21:41:27] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[21:41:27] [INFO] [LastChance] Threat detected: Bullet
[21:41:27] [INFO] [LastChance] Not in hard mode - effect disabled
[21:41:27] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:41:27] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[21:41:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(814.3774, 705.5881), source=ENEMY (Enemy4), range=1469, listeners=10
[21:41:27] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[21:41:27] [INFO] [Player] Spawning blood effect at (814.6769, 351.0439), dir=(1, 0), lethal=False (C#)
[21:41:27] [INFO] [ImpactEffects] spawn_blood_effect called at (814.6769, 351.0439), dir=(1, 0), lethal=false
[21:41:27] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:41:27] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:41:27] [INFO] [ImpactEffects] Blood effect spawned at (814.6769, 351.0439) (scale=1)
[21:41:27] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[21:41:27] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[21:41:27] [INFO] [PenultimateHit] Starting penultimate hit effect:
[21:41:27] [INFO] [PenultimateHit]   - Time scale: 0.10
[21:41:27] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[21:41:27] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[21:41:27] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[21:41:27] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[21:41:27] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[21:41:27] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[21:41:27] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[21:41:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(805.33685, 712.79016), shooter_id=53435434636, bullet_pos=(788.6142, 46.33313)
[21:41:27] [INFO] [Bullet] Using shooter_position, distance=666,6668
[21:41:27] [INFO] [Bullet] Distance to wall: 666,6668 (45,39457% of viewport)
[21:41:27] [INFO] [Bullet] Distance-based penetration chance: 93,70634%
[21:41:27] [INFO] [Bullet] Starting wall penetration at (788.6142, 46.33313)
[21:41:27] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[21:41:27] [INFO] [Bullet] Exiting penetration at (788.3843, 37.169346) after traveling 4,166667 pixels through wall
[21:41:27] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[21:41:27] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(814,344), corner_timer=-0.00
[21:41:27] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[21:41:27] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=89.7°, player=(814,344), corner_timer=0.30
[21:41:27] [INFO] [ReplayManager] Recording frame 780 (12,9s): player_valid=True, enemies=10
[21:41:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(511.76495, 625.4403), shooter_id=52730791522, bullet_pos=(1597.427, 67.07376)
[21:41:27] [INFO] [Bullet] Using shooter_position, distance=1220,834
[21:41:27] [INFO] [Bullet] Distance to wall: 1220,834 (83,12883% of viewport)
[21:41:27] [INFO] [LastChance] Threat detected: @Area2D@398
[21:41:27] [INFO] [LastChance] Not in hard mode - effect disabled
[21:41:27] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:41:28] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-64.3°, current=-14.4°, player=(814,333), corner_timer=0.20
[21:41:28] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[21:41:28] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:41:28] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[21:41:28] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[21:41:28] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[21:41:28] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[21:41:28] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[21:41:28] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[21:41:28] [INFO] [LastChance] Resetting all effects (scene change detected)
[21:41:28] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[21:41:28] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[21:41:28] [ENEMY] [Enemy1] Death animation component initialized
[21:41:28] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:41:28] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[21:41:28] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[21:41:28] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[21:41:28] [ENEMY] [Enemy2] Death animation component initialized
[21:41:28] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:41:28] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[21:41:28] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[21:41:28] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[21:41:28] [ENEMY] [Enemy3] Death animation component initialized
[21:41:28] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:41:28] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[21:41:28] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[21:41:28] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[21:41:28] [ENEMY] [Enemy4] Death animation component initialized
[21:41:28] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:41:28] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[21:41:28] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[21:41:28] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[21:41:28] [ENEMY] [Enemy5] Death animation component initialized
[21:41:28] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:41:28] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[21:41:28] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[21:41:28] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[21:41:28] [ENEMY] [Enemy6] Death animation component initialized
[21:41:28] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:41:28] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[21:41:28] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[21:41:28] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[21:41:28] [INFO] [EnemyGrenade] Initialized: 1 grenades
[21:41:28] [ENEMY] [Enemy7] Death animation component initialized
[21:41:28] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:41:28] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[21:41:28] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[21:41:28] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[21:41:28] [ENEMY] [Enemy8] Death animation component initialized
[21:41:28] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:41:28] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[21:41:28] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[21:41:28] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[21:41:28] [ENEMY] [Enemy9] Death animation component initialized
[21:41:28] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:41:28] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[21:41:28] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[21:41:28] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[21:41:28] [ENEMY] [Enemy10] Death animation component initialized
[21:41:28] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:41:28] [INFO] [BloodyFeet:Player] Footprint scene loaded
[21:41:28] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[21:41:28] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[21:41:28] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[21:41:28] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[21:41:28] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[21:41:28] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[21:41:28] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[21:41:28] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[21:41:28] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[21:41:28] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[21:41:28] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[21:41:28] [INFO] [Player] Ready! Ammo: 9/9, Grenades: 1/3, Health: 4/4
[21:41:28] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[21:41:28] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[21:41:28] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[21:41:28] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[21:41:28] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[21:41:28] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[21:41:28] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[21:41:28] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[21:41:28] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[21:41:28] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[21:41:28] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[21:41:28] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[21:41:28] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[21:41:28] [INFO] [BuildingLevel] Setting up weapon: makarov_pm
[21:41:28] [INFO] [ScoreManager] Level started with 10 enemies
[21:41:28] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[21:41:28] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[21:41:28] [INFO] [ReplayManager] Replay data cleared
[21:41:28] [INFO] [BuildingLevel] Previous replay data cleared
[21:41:28] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[21:41:28] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[21:41:28] [INFO] [ReplayManager] Level: BuildingLevel
[21:41:28] [INFO] [ReplayManager] Player: Player (valid: True)
[21:41:28] [INFO] [ReplayManager] Enemies count: 10
[21:41:28] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[21:41:28] [INFO] [ReplayManager]   Enemy 0: Enemy1
[21:41:28] [INFO] [ReplayManager]   Enemy 1: Enemy2
[21:41:28] [INFO] [ReplayManager]   Enemy 2: Enemy3
[21:41:28] [INFO] [ReplayManager]   Enemy 3: Enemy4
[21:41:28] [INFO] [ReplayManager]   Enemy 4: Enemy5
[21:41:28] [INFO] [ReplayManager]   Enemy 5: Enemy6
[21:41:28] [INFO] [ReplayManager]   Enemy 6: Enemy7
[21:41:28] [INFO] [ReplayManager]   Enemy 7: Enemy8
[21:41:28] [INFO] [ReplayManager]   Enemy 8: Enemy9
[21:41:28] [INFO] [ReplayManager]   Enemy 9: Enemy10
[21:41:28] [INFO] [BuildingLevel] Replay recording started successfully
[21:41:28] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[21:41:28] [INFO] [CinemaEffects] Found player node: Player
[21:41:28] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[21:41:28] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[21:41:28] [ENEMY] [Enemy1] Registered as sound listener
[21:41:28] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 2, behavior: GUARD
[21:41:28] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[21:41:28] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[21:41:28] [ENEMY] [Enemy2] Registered as sound listener
[21:41:28] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 2, behavior: GUARD
[21:41:28] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[21:41:28] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[21:41:28] [ENEMY] [Enemy3] Registered as sound listener
[21:41:28] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 3, behavior: GUARD
[21:41:28] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[21:41:28] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[21:41:28] [ENEMY] [Enemy4] Registered as sound listener
[21:41:28] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 2, behavior: GUARD
[21:41:28] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[21:41:28] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[21:41:28] [ENEMY] [Enemy5] Registered as sound listener
[21:41:28] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 4, behavior: GUARD
[21:41:28] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[21:41:28] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[21:41:28] [ENEMY] [Enemy6] Registered as sound listener
[21:41:28] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 3, behavior: GUARD
[21:41:28] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[21:41:28] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[21:41:28] [ENEMY] [Enemy7] Registered as sound listener
[21:41:28] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 4, behavior: PATROL
[21:41:28] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[21:41:28] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[21:41:28] [ENEMY] [Enemy8] Registered as sound listener
[21:41:28] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 4, behavior: GUARD
[21:41:28] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[21:41:28] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[21:41:28] [ENEMY] [Enemy9] Registered as sound listener
[21:41:28] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 2, behavior: GUARD
[21:41:28] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[21:41:28] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[21:41:28] [ENEMY] [Enemy10] Registered as sound listener
[21:41:28] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 3, behavior: PATROL
[21:41:28] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[21:41:28] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[21:41:28] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[21:41:28] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[21:41:28] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=236.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[21:41:28] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[21:41:28] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[21:41:28] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[21:41:28] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=78.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[21:41:28] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[21:41:28] [INFO] [Player] Detecting weapon pose (frame 3)...
[21:41:28] [INFO] [Player] Detected weapon: Makarov PM (Pistol pose)
[21:41:28] [INFO] [Player] Applied Pistol arm pose: Left=(16, 6), Right=(4, 6)
[21:41:28] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[21:41:28] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[21:41:28] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[21:41:28] [INFO] [LastChance] Found player: Player
[21:41:28] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[21:41:28] [INFO] [LastChance] Connected to player Damaged signal (C#)
[21:41:28] [INFO] [LastChance] Connected to player Died signal (C#)
[21:41:28] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[21:41:28] [INFO] [BloodDecal] Blood puddle created at (857.6602, 377.4304) (added to group)
[21:41:28] [INFO] [BloodDecal] Blood puddle created at (864.3319, 403.3738) (added to group)
[21:41:28] [INFO] [BloodDecal] Blood puddle created at (909.621, 344.18) (added to group)
[21:41:28] [INFO] [BloodDecal] Blood puddle created at (932.1324, 380.1815) (added to group)
[21:41:28] [INFO] [BloodDecal] Blood puddle created at (958.196, 439.076) (added to group)
[21:41:28] [INFO] [BloodDecal] Blood puddle created at (892.515, 366.268) (added to group)
[21:41:28] [INFO] [BloodDecal] Blood puddle created at (983.9077, 456.1019) (added to group)
[21:41:28] [INFO] [BloodDecal] Blood puddle created at (923.9011, 393.1754) (added to group)
[21:41:29] [INFO] [BloodDecal] Blood puddle created at (1006.122, 367.5465) (added to group)
[21:41:29] [INFO] [BloodDecal] Blood puddle created at (921.041, 410.2971) (added to group)
[21:41:29] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[21:41:30] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[21:41:30] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[21:41:30] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(483,804), corner_timer=0.30
[21:41:30] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(483,804), corner_timer=0.30
[21:41:30] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=-173.2°, current=-123.8°, player=(533,730), corner_timer=0.00
[21:41:30] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[21:41:30] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(533,730), corner_timer=-0.02
[21:41:30] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[21:41:30] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(533,730), corner_timer=-0.02
[21:41:30] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[21:41:30] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(537,726), corner_timer=0.30
[21:41:30] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(537,726), corner_timer=0.30
[21:41:30] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-163.2°, current=135.0°, player=(556,706), corner_timer=0.00
[21:41:30] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[21:41:30] [ENEMY] [Enemy4] Memory: high confidence (0.89) - transitioning to PURSUING
[21:41:30] [ENEMY] [Enemy4] State: IDLE -> PURSUING
[21:41:30] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=-135.5°, current=-67.5°, player=(579,683), corner_timer=0.00
[21:41:30] [ENEMY] [Enemy4] PURSUING corner check: angle -100.7°
[21:41:30] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(610,652), corner_timer=-0.02
[21:41:30] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[21:41:30] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(614,648), corner_timer=0.30
[21:41:30] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[21:41:31] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-93.7°, current=-142.2°, player=(688,574), corner_timer=0.00
[21:41:31] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(688,574), corner_timer=-0.02
[21:41:31] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[21:41:31] [ENEMY] [Enemy4] PURSUING corner check: angle -94.0°
[21:41:31] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.6°, player=(692,570), corner_timer=0.30
[21:41:31] [ENEMY] [Enemy3] State: PURSUING -> COMBAT
[21:41:31] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(764,496), corner_timer=-0.02
[21:41:31] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[21:41:31] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.8°, current=6.3°, player=(767,491), corner_timer=0.30
[21:41:31] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-63.4°, current=-111.6°, player=(780,470), corner_timer=0.02
[21:41:31] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[21:41:31] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=10
[21:41:31] [ENEMY] [Enemy4] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-63.1°, current=15.2°, player=(783,464), corner_timer=0.02
[21:41:31] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-64.2°, current=-14.3°, player=(790,453), corner_timer=0.02
[21:41:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=20
[21:41:31] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[21:41:31] [ENEMY] [Enemy2] Heard gunshot at (700, 750), source_type=1, intensity=0.02, distance=361
[21:41:31] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[21:41:31] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.8°, player=(790,453), corner_timer=-0.02
[21:41:31] [ENEMY] [Enemy10] PATROL corner check: angle 0.9°
[21:41:31] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=-13.9°, current=-157.5°, player=(790,453), corner_timer=0.00
[21:41:31] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=0.9°, current=4.6°, player=(790,453), corner_timer=0.30
[21:41:31] [INFO] [LastChance] Threat detected: Bullet
[21:41:31] [INFO] [LastChance] Not in hard mode - effect disabled
[21:41:31] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:41:31] [INFO] [Player] Spawning blood effect at (790.58575, 453.07196), dir=(1, 0), lethal=False (C#)
[21:41:31] [INFO] [ImpactEffects] spawn_blood_effect called at (790.5858, 453.072), dir=(1, 0), lethal=false
[21:41:31] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:41:31] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:41:31] [INFO] [ImpactEffects] Blood effect spawned at (790.5858, 453.072) (scale=1)
[21:41:31] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[21:41:31] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[21:41:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=10
[21:41:31] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[21:41:31] [INFO] [LastChance] Threat detected: @Area2D@696
[21:41:31] [INFO] [LastChance] Not in hard mode - effect disabled
[21:41:31] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:41:31] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[21:41:31] [INFO] [Player] Spawning blood effect at (790.58575, 453.07196), dir=(1, 0), lethal=False (C#)
[21:41:31] [INFO] [ImpactEffects] spawn_blood_effect called at (790.5858, 453.072), dir=(1, 0), lethal=false
[21:41:31] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:41:31] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:41:31] [INFO] [ImpactEffects] Blood effect spawned at (790.5858, 453.072) (scale=1)
[21:41:31] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[21:41:31] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[21:41:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=10
[21:41:31] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[21:41:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(641.6295, 761.6336), source=ENEMY (Enemy4), range=1469, listeners=10
[21:41:32] [ENEMY] [Enemy3] Heard gunshot at (641.6295, 761.6336), source_type=1, intensity=0.57, distance=66
[21:41:32] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[21:41:32] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[21:41:32] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:41:32] [INFO] [LastChance] Threat detected: @Area2D@701
[21:41:32] [INFO] [LastChance] Not in hard mode - effect disabled
[21:41:32] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:41:32] [INFO] [BloodDecal] Blood puddle created at (871.2848, 426.8336) (added to group)
[21:41:32] [ENEMY] [Enemy1] Memory: high confidence (0.90) - transitioning to PURSUING
[21:41:32] [ENEMY] [Enemy1] State: IDLE -> PURSUING
[21:41:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(657.8597, 728.0128), source=ENEMY (Enemy4), range=1469, listeners=10
[21:41:32] [ENEMY] [Enemy3] Heard gunshot at (657.8597, 728.0128), source_type=1, intensity=0.38, distance=81
[21:41:32] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[21:41:32] [INFO] [Player] Spawning blood effect at (790.58575, 453.07196), dir=(1, 0), lethal=False (C#)
[21:41:32] [INFO] [ImpactEffects] spawn_blood_effect called at (790.5858, 453.072), dir=(1, 0), lethal=false
[21:41:32] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:41:32] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:41:32] [INFO] [ImpactEffects] Blood effect spawned at (790.5858, 453.072) (scale=1)
[21:41:32] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[21:41:32] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[21:41:32] [INFO] [PenultimateHit] Starting penultimate hit effect:
[21:41:32] [INFO] [PenultimateHit]   - Time scale: 0.10
[21:41:32] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[21:41:32] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[21:41:32] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[21:41:32] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[21:41:32] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[21:41:32] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[21:41:32] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[21:41:32] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=11.9°, current=-157.5°, player=(790,453), corner_timer=0.00
[21:41:32] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[21:41:32] [INFO] [BloodDecal] Blood puddle created at (887.5009, 470.0153) (added to group)
[21:41:32] [INFO] [BloodDecal] Blood puddle created at (867.4796, 468.3325) (added to group)
[21:41:32] [ENEMY] [Enemy1] PURSUING corner check: angle -63.3°
[21:41:32] [INFO] [LastChance] Threat detected: @Area2D@705
[21:41:32] [INFO] [LastChance] Not in hard mode - effect disabled
[21:41:32] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:41:32] [INFO] [BloodDecal] Blood puddle created at (839.9054, 452.6449) (added to group)
[21:41:32] [INFO] [ReplayManager] Recording frame 240 (3,7s): player_valid=True, enemies=10
[21:41:32] [INFO] [BloodDecal] Blood puddle created at (856.3367, 455.7471) (added to group)
[21:41:32] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[21:41:32] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:41:32] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[21:41:32] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[21:41:32] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[21:41:32] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[21:41:32] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[21:41:32] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[21:41:32] [INFO] [LastChance] Resetting all effects (scene change detected)
[21:41:32] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[21:41:32] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[21:41:32] [ENEMY] [Enemy1] Death animation component initialized
[21:41:32] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:41:32] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[21:41:32] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[21:41:32] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[21:41:32] [ENEMY] [Enemy2] Death animation component initialized
[21:41:32] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:41:32] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[21:41:32] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[21:41:32] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[21:41:32] [ENEMY] [Enemy3] Death animation component initialized
[21:41:32] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:41:32] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[21:41:32] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[21:41:32] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[21:41:32] [ENEMY] [Enemy4] Death animation component initialized
[21:41:32] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:41:32] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[21:41:32] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[21:41:32] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[21:41:32] [ENEMY] [Enemy5] Death animation component initialized
[21:41:32] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:41:32] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[21:41:32] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[21:41:32] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[21:41:32] [ENEMY] [Enemy6] Death animation component initialized
[21:41:32] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:41:32] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[21:41:32] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[21:41:32] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[21:41:32] [ENEMY] [Enemy7] Death animation component initialized
[21:41:32] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:41:32] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[21:41:32] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[21:41:32] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[21:41:32] [ENEMY] [Enemy8] Death animation component initialized
[21:41:32] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:41:32] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[21:41:32] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[21:41:32] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[21:41:32] [ENEMY] [Enemy9] Death animation component initialized
[21:41:32] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:41:32] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[21:41:32] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[21:41:32] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[21:41:32] [ENEMY] [Enemy10] Death animation component initialized
[21:41:32] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:41:32] [INFO] [BloodyFeet:Player] Footprint scene loaded
[21:41:32] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[21:41:32] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[21:41:32] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[21:41:32] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[21:41:32] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[21:41:32] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[21:41:32] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[21:41:32] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[21:41:32] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[21:41:32] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[21:41:32] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[21:41:32] [INFO] [Player] Ready! Ammo: 9/9, Grenades: 1/3, Health: 4/4
[21:41:32] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[21:41:32] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[21:41:32] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[21:41:32] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[21:41:32] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[21:41:32] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[21:41:32] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[21:41:32] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[21:41:32] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[21:41:32] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[21:41:32] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[21:41:32] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[21:41:32] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[21:41:32] [INFO] [BuildingLevel] Setting up weapon: makarov_pm
[21:41:32] [INFO] [ScoreManager] Level started with 10 enemies
[21:41:32] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[21:41:32] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[21:41:32] [INFO] [ReplayManager] Replay data cleared
[21:41:32] [INFO] [BuildingLevel] Previous replay data cleared
[21:41:32] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[21:41:32] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[21:41:32] [INFO] [ReplayManager] Level: BuildingLevel
[21:41:32] [INFO] [ReplayManager] Player: Player (valid: True)
[21:41:32] [INFO] [ReplayManager] Enemies count: 10
[21:41:32] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[21:41:32] [INFO] [ReplayManager]   Enemy 0: Enemy1
[21:41:32] [INFO] [ReplayManager]   Enemy 1: Enemy2
[21:41:32] [INFO] [ReplayManager]   Enemy 2: Enemy3
[21:41:32] [INFO] [ReplayManager]   Enemy 3: Enemy4
[21:41:32] [INFO] [ReplayManager]   Enemy 4: Enemy5
[21:41:32] [INFO] [ReplayManager]   Enemy 5: Enemy6
[21:41:32] [INFO] [ReplayManager]   Enemy 6: Enemy7
[21:41:32] [INFO] [ReplayManager]   Enemy 7: Enemy8
[21:41:32] [INFO] [ReplayManager]   Enemy 8: Enemy9
[21:41:32] [INFO] [ReplayManager]   Enemy 9: Enemy10
[21:41:32] [INFO] [BuildingLevel] Replay recording started successfully
[21:41:32] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[21:41:32] [INFO] [CinemaEffects] Found player node: Player
[21:41:32] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[21:41:32] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[21:41:32] [ENEMY] [Enemy1] Registered as sound listener
[21:41:32] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 4, behavior: GUARD
[21:41:32] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[21:41:32] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[21:41:32] [ENEMY] [Enemy2] Registered as sound listener
[21:41:32] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 3, behavior: GUARD
[21:41:32] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[21:41:32] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[21:41:32] [ENEMY] [Enemy3] Registered as sound listener
[21:41:32] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 3, behavior: GUARD
[21:41:32] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[21:41:32] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[21:41:32] [ENEMY] [Enemy4] Registered as sound listener
[21:41:32] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 3, behavior: GUARD
[21:41:32] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[21:41:32] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[21:41:32] [ENEMY] [Enemy5] Registered as sound listener
[21:41:32] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 2, behavior: GUARD
[21:41:32] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[21:41:32] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[21:41:32] [ENEMY] [Enemy6] Registered as sound listener
[21:41:32] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 2, behavior: GUARD
[21:41:32] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[21:41:32] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[21:41:32] [ENEMY] [Enemy7] Registered as sound listener
[21:41:32] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 2, behavior: PATROL
[21:41:32] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[21:41:32] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[21:41:32] [ENEMY] [Enemy8] Registered as sound listener
[21:41:32] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 2, behavior: GUARD
[21:41:32] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[21:41:32] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[21:41:32] [ENEMY] [Enemy9] Registered as sound listener
[21:41:32] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 2, behavior: GUARD
[21:41:32] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[21:41:32] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[21:41:32] [ENEMY] [Enemy10] Registered as sound listener
[21:41:32] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 2, behavior: PATROL
[21:41:32] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[21:41:33] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[21:41:33] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[21:41:33] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[21:41:33] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[21:41:33] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[21:41:33] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[21:41:33] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[21:41:33] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[21:41:33] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[21:41:33] [INFO] [Player] Detecting weapon pose (frame 3)...
[21:41:33] [INFO] [Player] Detected weapon: Makarov PM (Pistol pose)
[21:41:33] [INFO] [Player] Applied Pistol arm pose: Left=(16, 6), Right=(4, 6)
[21:41:33] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[21:41:33] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[21:41:33] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[21:41:33] [INFO] [LastChance] Found player: Player
[21:41:33] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[21:41:33] [INFO] [LastChance] Connected to player Damaged signal (C#)
[21:41:33] [INFO] [LastChance] Connected to player Died signal (C#)
[21:41:33] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[21:41:33] [INFO] [BloodDecal] Blood puddle created at (944.4936, 545.209) (added to group)
[21:41:33] [INFO] [BloodDecal] Blood puddle created at (930.0386, 476.4705) (added to group)
[21:41:33] [INFO] [BloodDecal] Blood puddle created at (914.2065, 558.226) (added to group)
[21:41:33] [INFO] [BloodDecal] Blood puddle created at (889.4876, 484.8669) (added to group)
[21:41:33] [INFO] [BloodDecal] Blood puddle created at (871.6548, 497.865) (added to group)
[21:41:33] [INFO] [BloodDecal] Blood puddle created at (839.8287, 497.3362) (added to group)
[21:41:33] [INFO] [BloodDecal] Blood puddle created at (886.4925, 502.7253) (added to group)
[21:41:33] [INFO] [BloodDecal] Blood puddle created at (944.2025, 573.3822) (added to group)
[21:41:33] [INFO] [BloodDecal] Blood puddle created at (895.2911, 483.8418) (added to group)
[21:41:33] [INFO] [BloodDecal] Blood puddle created at (868.912, 507.4255) (added to group)
[21:41:33] [INFO] [BloodDecal] Blood puddle created at (888.3408, 455.9951) (added to group)
[21:41:33] [INFO] [BloodDecal] Blood puddle created at (980.6703, 543.0801) (added to group)
[21:41:33] [INFO] [BloodDecal] Blood puddle created at (949.437, 491.3086) (added to group)
[21:41:33] [INFO] [BloodDecal] Blood puddle created at (914.5674, 553.048) (added to group)
[21:41:33] [INFO] [BloodDecal] Blood puddle created at (948.3896, 452.6804) (added to group)
[21:41:33] [INFO] [BloodDecal] Blood puddle created at (865.718, 507.0609) (added to group)
[21:41:33] [INFO] [BloodDecal] Blood puddle created at (905.1414, 452.5304) (added to group)
[21:41:33] [INFO] [BloodDecal] Blood puddle created at (972.4315, 552.9078) (added to group)
[21:41:33] [INFO] [BloodDecal] Blood puddle created at (887.8547, 478.027) (added to group)
[21:41:33] [INFO] [BloodDecal] Blood puddle created at (909.9941, 564.8157) (added to group)
[21:41:33] [INFO] [BloodDecal] Blood puddle created at (899.1089, 522.8374) (added to group)
[21:41:33] [INFO] [BloodDecal] Blood puddle created at (962.84, 562.8) (added to group)
[21:41:33] [INFO] [BloodDecal] Blood puddle created at (915.655, 487.8643) (added to group)
[21:41:33] [INFO] [BloodDecal] Blood puddle created at (949.7339, 604.1116) (added to group)
[21:41:33] [INFO] [BloodDecal] Blood puddle created at (918.186, 537.5688) (added to group)
[21:41:34] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[21:41:34] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[21:41:34] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[21:41:34] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(542,1590), corner_timer=0.30
[21:41:34] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(542,1590), corner_timer=0.30
[21:41:34] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(619,1655), corner_timer=-0.02
[21:41:34] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[21:41:34] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(619,1655), corner_timer=-0.02
[21:41:34] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[21:41:35] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(624,1656), corner_timer=0.30
[21:41:35] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(624,1656), corner_timer=0.30
[21:41:35] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[21:41:35] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(727,1659), corner_timer=-0.02
[21:41:35] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[21:41:35] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(733,1659), corner_timer=0.30
[21:41:35] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(825,1659), corner_timer=-0.02
[21:41:35] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[21:41:35] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.6°, player=(828,1659), corner_timer=0.30
[21:41:35] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(833,1659), corner_timer=-0.02
[21:41:35] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[21:41:36] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.8°, current=6.3°, player=(830,1659), corner_timer=0.30
[21:41:36] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=10
[21:41:36] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.8°, player=(739,1659), corner_timer=-0.02
[21:41:36] [ENEMY] [Enemy10] PATROL corner check: angle 0.9°
[21:41:36] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=0.9°, current=4.6°, player=(734,1659), corner_timer=0.30
[21:41:36] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:41:36] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=-130.1°, player=(596,1581), corner_timer=-0.02
[21:41:36] [ENEMY] [Enemy7] PATROL corner check: angle 90.0°
[21:41:36] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=-133.0°, player=(592,1577), corner_timer=0.30
[21:41:36] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:41:37] [INFO] [ReplayManager] Recording frame 240 (4,0s): player_valid=True, enemies=10
[21:41:37] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=179.1°, current=172.4°, player=(518,1503), corner_timer=-0.02
[21:41:37] [ENEMY] [Enemy7] PATROL corner check: angle 89.8°
[21:41:37] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.8°, current=175.3°, player=(514,1499), corner_timer=0.30
[21:41:37] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:41:37] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=178.4°, current=120.7°, player=(440,1425), corner_timer=-0.02
[21:41:37] [ENEMY] [Enemy7] PATROL corner check: angle 89.7°
[21:41:37] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.7°, current=123.6°, player=(436,1421), corner_timer=0.30
[21:41:37] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:41:37] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.9°, current=89.7°, player=(416,1326), corner_timer=-0.02
[21:41:37] [ENEMY] [Enemy7] PATROL corner check: angle 89.6°
[21:41:37] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.6°, current=92.5°, player=(416,1321), corner_timer=0.30
[21:41:37] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:41:38] [INFO] [ReplayManager] Recording frame 300 (5,0s): player_valid=True, enemies=10
[21:41:38] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.7°, current=89.6°, player=(416,1219), corner_timer=-0.02
[21:41:38] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[21:41:38] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.4°, player=(416,1215), corner_timer=0.30
[21:41:38] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:41:38] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.5°, current=89.5°, player=(416,1187), corner_timer=-0.02
[21:41:38] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[21:41:38] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.4°, player=(416,1187), corner_timer=0.30
[21:41:38] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:41:38] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.4°, current=89.5°, player=(416,1187), corner_timer=-0.02
[21:41:38] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[21:41:38] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.3°, player=(416,1187), corner_timer=0.30
[21:41:38] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:41:39] [INFO] [ReplayManager] Recording frame 360 (6,0s): player_valid=True, enemies=10
[21:41:39] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.5°, player=(416,1187), corner_timer=-0.02
[21:41:39] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[21:41:39] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(416,1187), corner_timer=0.30
[21:41:39] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:41:39] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(416,1187), corner_timer=-0.02
[21:41:39] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[21:41:39] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(416,1187), corner_timer=0.30
[21:41:39] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:41:39] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(416,1187), corner_timer=-0.02
[21:41:39] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[21:41:39] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(416,1187), corner_timer=0.30
[21:41:39] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:41:40] [INFO] [ReplayManager] Recording frame 420 (7,0s): player_valid=True, enemies=10
[21:41:40] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(416,1187), corner_timer=-0.02
[21:41:40] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[21:41:40] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(416,1187), corner_timer=0.30
[21:41:40] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:41:40] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(416,1254), corner_timer=-0.02
[21:41:40] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[21:41:40] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(416,1260), corner_timer=0.30
[21:41:40] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:41:40] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(416,1364), corner_timer=-0.02
[21:41:40] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[21:41:40] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(416,1370), corner_timer=0.30
[21:41:40] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:41:41] [INFO] [ReplayManager] Recording frame 480 (8,0s): player_valid=True, enemies=10
[21:41:41] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(416,1474), corner_timer=-0.02
[21:41:41] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[21:41:41] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(416,1480), corner_timer=0.30
[21:41:41] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:41:41] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(397,1571), corner_timer=-0.02
[21:41:41] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[21:41:41] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(394,1571), corner_timer=0.30
[21:41:41] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:41:41] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(297,1571), corner_timer=-0.02
[21:41:41] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[21:41:41] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(291,1571), corner_timer=0.30
[21:41:41] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:41:42] [INFO] [ReplayManager] Recording frame 540 (9,0s): player_valid=True, enemies=10
[21:41:42] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(187,1571), corner_timer=-0.02
[21:41:42] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[21:41:42] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(181,1571), corner_timer=0.30
[21:41:42] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:41:42] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(84,1573), corner_timer=-0.02
[21:41:42] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[21:41:42] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(80,1575), corner_timer=0.30
[21:41:42] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:41:42] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(80,1640), corner_timer=-0.02
[21:41:42] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[21:41:42] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(80,1645), corner_timer=0.30
[21:41:42] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:41:43] [INFO] [ReplayManager] Recording frame 600 (10,0s): player_valid=True, enemies=10
[21:41:43] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(80,1750), corner_timer=-0.02
[21:41:43] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[21:41:43] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(80,1755), corner_timer=0.30
[21:41:43] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:41:43] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(97,1853), corner_timer=-0.02
[21:41:43] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[21:41:43] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(100,1857), corner_timer=0.30
[21:41:43] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:41:43] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(174,1931), corner_timer=-0.02
[21:41:43] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[21:41:43] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(177,1935), corner_timer=0.30
[21:41:43] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:41:44] [INFO] [ReplayManager] Recording frame 660 (11,0s): player_valid=True, enemies=10
[21:41:44] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(251,2008), corner_timer=-0.02
[21:41:44] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[21:41:44] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(255,2012), corner_timer=0.30
[21:41:44] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:41:44] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(343,2047), corner_timer=-0.02
[21:41:44] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[21:41:44] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(348,2047), corner_timer=0.30
[21:41:44] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:41:44] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(453,2047), corner_timer=-0.02
[21:41:44] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[21:41:44] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(458,2047), corner_timer=0.30
[21:41:44] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:41:45] [INFO] [ReplayManager] Recording frame 720 (12,0s): player_valid=True, enemies=10
[21:41:45] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(538,1988), corner_timer=-0.02
[21:41:45] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[21:41:45] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(542,1985), corner_timer=0.30
[21:41:45] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:41:45] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(616,1911), corner_timer=-0.02
[21:41:45] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[21:41:45] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(620,1907), corner_timer=0.30
[21:41:45] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:41:45] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(694,1833), corner_timer=-0.02
[21:41:45] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[21:41:45] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(698,1829), corner_timer=0.30
[21:41:45] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:41:46] [INFO] [ReplayManager] Recording frame 780 (13,0s): player_valid=True, enemies=10
[21:41:46] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(765,1752), corner_timer=-0.02
[21:41:46] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[21:41:46] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(767,1748), corner_timer=0.30
[21:41:46] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:41:46] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(771,1645), corner_timer=-0.02
[21:41:46] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[21:41:46] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(771,1639), corner_timer=0.30
[21:41:46] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:41:46] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(771,1535), corner_timer=-0.02
[21:41:46] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[21:41:46] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(771,1529), corner_timer=0.30
[21:41:46] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:41:47] [INFO] [ReplayManager] Recording frame 840 (14,0s): player_valid=True, enemies=10
[21:41:47] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(771,1425), corner_timer=-0.02
[21:41:47] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[21:41:47] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(771,1419), corner_timer=0.30
[21:41:47] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:41:47] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(771,1315), corner_timer=-0.02
[21:41:47] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[21:41:47] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(771,1309), corner_timer=0.30
[21:41:47] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:41:47] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(771,1205), corner_timer=-0.02
[21:41:47] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[21:41:47] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(771,1199), corner_timer=0.30
[21:41:47] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:41:48] [INFO] [ReplayManager] Recording frame 900 (15,0s): player_valid=True, enemies=10
[21:41:48] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(743,1106), corner_timer=-0.02
[21:41:48] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[21:41:48] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(739,1102), corner_timer=0.30
[21:41:48] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:41:48] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(665,1040), corner_timer=-0.02
[21:41:48] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[21:41:48] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(661,1040), corner_timer=0.30
[21:41:48] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:41:48] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(587,1040), corner_timer=-0.02
[21:41:48] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[21:41:48] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(584,1040), corner_timer=0.30
[21:41:48] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:41:49] [INFO] [ReplayManager] Recording frame 960 (16,0s): player_valid=True, enemies=10
[21:41:49] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(510,1040), corner_timer=-0.02
[21:41:49] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[21:41:49] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(506,1039), corner_timer=0.30
[21:41:49] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:41:49] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(465,982), corner_timer=-0.02
[21:41:49] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[21:41:49] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(465,976), corner_timer=0.30
[21:41:49] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:41:49] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(465,872), corner_timer=-0.02
[21:41:49] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[21:41:49] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(465,866), corner_timer=0.30
[21:41:49] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:41:50] [INFO] [ReplayManager] Recording frame 1020 (17,0s): player_valid=True, enemies=10
[21:41:50] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(489,772), corner_timer=-0.02
[21:41:50] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[21:41:50] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(493,768), corner_timer=0.30
[21:41:50] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:41:50] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=-173.1°, current=-123.8°, player=(532,729), corner_timer=0.00
[21:41:50] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[21:41:50] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-163.1°, current=135.0°, player=(555,706), corner_timer=0.00
[21:41:50] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(567,694), corner_timer=-0.02
[21:41:50] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[21:41:50] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(571,690), corner_timer=0.30
[21:41:50] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:41:50] [ENEMY] [Enemy4] Memory: high confidence (0.88) - transitioning to PURSUING
[21:41:50] [ENEMY] [Enemy4] State: IDLE -> PURSUING
[21:41:50] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=-128.4°, current=-101.3°, player=(606,655), corner_timer=0.00
[21:41:50] [ENEMY] [Enemy4] PURSUING corner check: angle -100.7°
[21:41:50] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(645,616), corner_timer=-0.02
[21:41:50] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[21:41:50] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(649,612), corner_timer=0.30
[21:41:50] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[21:41:50] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:41:51] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-93.9°, current=-142.4°, player=(688,574), corner_timer=0.00
[21:41:51] [INFO] [ReplayManager] Recording frame 1080 (18,0s): player_valid=True, enemies=10
[21:41:51] [ENEMY] [Enemy4] PURSUING corner check: angle -94.0°
[21:41:51] [ENEMY] [Enemy3] State: PURSUING -> COMBAT
[21:41:51] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(723,539), corner_timer=-0.02
[21:41:51] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[21:41:51] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(727,535), corner_timer=0.30
[21:41:51] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:41:51] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(804,469), corner_timer=-0.02
[21:41:51] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[21:41:51] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(809,468), corner_timer=0.30
[21:41:51] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:41:51] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[21:41:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=20
[21:41:51] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[21:41:51] [ENEMY] [Enemy2] Heard gunshot at (700, 750), source_type=1, intensity=0.02, distance=361
[21:41:51] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[21:41:51] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=-10.2°, current=-101.3°, player=(868,465), corner_timer=0.00
[21:41:51] [INFO] [LastChance] Threat detected: Bullet
[21:41:51] [INFO] [LastChance] Not in hard mode - effect disabled
[21:41:51] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:41:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=10
[21:41:51] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[21:41:51] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(912,465), corner_timer=-0.02
[21:41:51] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[21:41:51] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(918,466), corner_timer=0.30
[21:41:51] [INFO] [LastChance] Threat detected: @Area2D@1000
[21:41:51] [INFO] [LastChance] Not in hard mode - effect disabled
[21:41:51] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:41:51] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(740.3905, 695.3764), shooter_id=397888457212, bullet_pos=(993.22253, 264.0109)
[21:41:51] [INFO] [Bullet] Using shooter_position, distance=500,00024
[21:41:51] [INFO] [Bullet] Distance to wall: 500,00024 (34,045937% of viewport)
[21:41:51] [INFO] [Bullet] Within ricochet range - trying ricochet first
[21:41:51] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[21:41:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=10
[21:41:51] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[21:41:51] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-48.5°, current=-96.6°, player=(942,472), corner_timer=0.02
[21:41:51] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[21:41:51] [ENEMY] [Enemy4] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-47.4°, current=45.5°, player=(951,476), corner_timer=0.02
[21:41:51] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:41:52] [INFO] [LastChance] Threat detected: @Area2D@1003
[21:41:52] [INFO] [LastChance] Not in hard mode - effect disabled
[21:41:52] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:41:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(740.3905, 695.3764), shooter_id=397888457212, bullet_pos=(853.8798, 52.94126)
[21:41:52] [INFO] [Bullet] Using shooter_position, distance=652,3823
[21:41:52] [INFO] [Bullet] Distance to wall: 652,3823 (44,421913% of viewport)
[21:41:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(713.2233, 769.6628), source=ENEMY (Enemy3), range=1469, listeners=10
[21:41:52] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[21:41:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(745.4445, 699.4856), shooter_id=397888457212, bullet_pos=(1084.9207, 225.10828)
[21:41:52] [INFO] [Bullet] Using shooter_position, distance=583,33344
[21:41:52] [INFO] [Bullet] Distance to wall: 583,33344 (39,720245% of viewport)
[21:41:52] [INFO] [Bullet] Within ricochet range - trying ricochet first
[21:41:52] [INFO] [Player] Spawning blood effect at (971.28503, 492.2021), dir=(1, 0), lethal=False (C#)
[21:41:52] [INFO] [ImpactEffects] spawn_blood_effect called at (971.285, 492.2021), dir=(1, 0), lethal=false
[21:41:52] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:41:52] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:41:52] [INFO] [ImpactEffects] Blood effect spawned at (971.285, 492.2021) (scale=1)
[21:41:52] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[21:41:52] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[21:41:52] [INFO] [ReplayManager] Recording frame 1140 (19,0s): player_valid=True, enemies=10
[21:41:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(745.4445, 699.4856), shooter_id=397888457212, bullet_pos=(945.44006, 58.220764)
[21:41:52] [INFO] [Bullet] Using shooter_position, distance=671,7282
[21:41:52] [INFO] [Bullet] Distance to wall: 671,7282 (45,73921% of viewport)
[21:41:52] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(998,519), corner_timer=-0.02
[21:41:52] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[21:41:52] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1002,523), corner_timer=0.30
[21:41:52] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[21:41:52] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=-5.8°, current=-43.0°, player=(1006,527), corner_timer=0.00
[21:41:52] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[21:41:52] [ENEMY] [Enemy1] Memory: high confidence (0.90) - transitioning to PURSUING
[21:41:52] [ENEMY] [Enemy1] State: IDLE -> PURSUING
[21:41:52] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[21:41:52] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-39.1°, current=10.6°, player=(1010,531), corner_timer=0.02
[21:41:52] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=14.5°, current=-33.8°, player=(1014,534), corner_timer=0.00
[21:41:52] [ENEMY] [Enemy4] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-38.2°, current=8.6°, player=(1014,534), corner_timer=0.02
[21:41:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(764.2938, 724.77655), shooter_id=397888457212, bullet_pos=(1077.8093, 283.0632)
[21:41:52] [INFO] [Bullet] Using shooter_position, distance=541,66656
[21:41:52] [INFO] [Bullet] Distance to wall: 541,66656 (36,883076% of viewport)
[21:41:52] [INFO] [Bullet] Within ricochet range - trying ricochet first
[21:41:52] [ENEMY] [Enemy1] PURSUING corner check: angle -63.3°
[21:41:52] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:41:52] [INFO] [BloodDecal] Blood puddle created at (1020.808, 522.7764) (added to group)
[21:41:52] [INFO] [BloodDecal] Blood puddle created at (1032.322, 486.0239) (added to group)
[21:41:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(764.2938, 724.77655), shooter_id=397888457212, bullet_pos=(905.9249, 51.563927)
[21:41:52] [INFO] [Bullet] Using shooter_position, distance=687,9496
[21:41:52] [INFO] [Bullet] Distance to wall: 687,9496 (46,843754% of viewport)
[21:41:52] [INFO] [BloodDecal] Blood puddle created at (1060.411, 550.8169) (added to group)
[21:41:52] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[21:41:52] [INFO] [BloodDecal] Blood puddle created at (1042.659, 535.4294) (added to group)
[21:41:52] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1036,613), corner_timer=-0.02
[21:41:52] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[21:41:52] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1036,619), corner_timer=0.30
[21:41:52] [INFO] [BloodDecal] Blood puddle created at (1076.864, 518.0635) (added to group)
[21:41:52] [INFO] [BloodDecal] Blood puddle created at (1104.624, 477.7879) (added to group)
[21:41:52] [INFO] [BloodDecal] Blood puddle created at (1069.739, 535.9869) (added to group)
[21:41:52] [INFO] [BloodDecal] Blood puddle created at (1088.904, 609.0239) (added to group)
[21:41:52] [ENEMY] [Enemy1] PURSUING corner check: angle -58.4°
[21:41:52] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:41:52] [INFO] [BloodDecal] Blood puddle created at (1179.413, 605.1251) (added to group)
[21:41:52] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1036,671), corner_timer=-0.02
[21:41:52] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[21:41:52] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1036,671), corner_timer=0.30
[21:41:52] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:41:53] [INFO] [ReplayManager] Recording frame 1200 (20,0s): player_valid=True, enemies=10
[21:41:53] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1036,671), corner_timer=-0.02
[21:41:53] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[21:41:53] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1036,671), corner_timer=0.30
[21:41:53] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:41:53] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1037,671), corner_timer=-0.02
[21:41:53] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[21:41:53] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1037,671), corner_timer=0.30
[21:41:53] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:41:53] [ENEMY] [Enemy2] Warning: No valid flank position (both sides behind walls)
[21:41:53] [ENEMY] [Enemy2] FLANKING started: target=(947.4156, 828.6802), side=left, pos=(475.9336, 583.7535)
[21:41:53] [ENEMY] [Enemy2] State: PURSUING -> FLANKING
[21:41:53] [ENEMY] [Enemy2] FLANKING corner check: angle -156.9°
[21:41:53] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1109,671), corner_timer=-0.02
[21:41:53] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[21:41:53] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1115,671), corner_timer=0.30
[21:41:53] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:41:54] [ENEMY] [Enemy4] PURSUING corner check: angle -122.2°
[21:41:54] [ENEMY] [Enemy2] FLANKING corner check: angle 80.8°
[21:41:54] [INFO] [ReplayManager] Recording frame 1260 (21,0s): player_valid=True, enemies=10
[21:41:54] [INFO] [BloodyFeet:Player] Blood ran out - no more footprints
[21:41:54] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1219,671), corner_timer=-0.02
[21:41:54] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[21:41:54] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1225,671), corner_timer=0.30
[21:41:54] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:41:54] [ENEMY] [Enemy1] Warning: No valid flank position (both sides behind walls)
[21:41:54] [ENEMY] [Enemy1] FLANKING started: target=(1124.445, 810.1638), side=left, pos=(456.5407, 434.3517)
[21:41:54] [ENEMY] [Enemy1] State: PURSUING -> FLANKING
[21:41:54] [ENEMY] [Enemy4] PURSUING corner check: angle -122.2°
[21:41:54] [ENEMY] [Enemy2] FLANKING corner check: angle -99.2°
[21:41:54] [ENEMY] [Enemy1] FLANKING corner check: angle -175.2°
[21:41:54] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1329,671), corner_timer=-0.02
[21:41:54] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[21:41:54] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1335,671), corner_timer=0.30
[21:41:54] [ENEMY] [Enemy3] State: SUPPRESSED -> IN_COVER
[21:41:54] [ENEMY] [Enemy3] State: IN_COVER -> PURSUING
[21:41:54] [ENEMY] [Enemy3] ROT_CHANGE: P4:velocity -> P2:combat_state, state=PURSUING, target=-8.6°, current=-37.3°, player=(1373,671), corner_timer=0.00
[21:41:54] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:41:54] [ENEMY] [Enemy4] PURSUING corner check: angle -139.2°
[21:41:54] [ENEMY] [Enemy2] FLANKING corner check: angle -99.2°
[21:41:54] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1439,672), corner_timer=-0.02
[21:41:54] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[21:41:54] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1445,672), corner_timer=0.30
[21:41:54] [ENEMY] [Enemy1] FLANKING corner check: angle 160.9°
[21:41:54] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=7.4°, current=7.3°, player=(1483,672), corner_timer=0.08
[21:41:54] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:41:55] [ENEMY] [Enemy2] FLANKING corner check: angle -99.2°
[21:41:55] [ENEMY] [Enemy2] State: FLANKING -> COMBAT
[21:41:55] [INFO] [ReplayManager] Recording frame 1320 (22,0s): player_valid=True, enemies=10
[21:41:55] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1549,672), corner_timer=-0.02
[21:41:55] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[21:41:55] [INFO] [BloodyFeet:Enemy2] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[21:41:55] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1555,672), corner_timer=0.30
[21:41:55] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:41:55] [ENEMY] [Enemy1] FLANKING corner check: angle 97.6°
[21:41:55] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1646,661), corner_timer=-0.02
[21:41:55] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[21:41:55] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1649,659), corner_timer=0.30
[21:41:55] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=6.7°, current=6.7°, player=(1657,649), corner_timer=0.30
[21:41:55] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[21:41:55] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:41:55] [ENEMY] [Enemy1] FLANKING corner check: angle -59.0°
[21:41:55] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1649,640), corner_timer=-0.02
[21:41:55] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[21:41:55] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1648,640), corner_timer=0.30
[21:41:55] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:41:56] [ENEMY] [Enemy1] FLANKING corner check: angle -59.0°
[21:41:56] [INFO] [ReplayManager] Recording frame 1380 (23,0s): player_valid=True, enemies=10
[21:41:56] [ENEMY] [Enemy3] PURSUING corner check: angle -88.1°
[21:41:56] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1664,640), corner_timer=-0.02
[21:41:56] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[21:41:56] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1668,640), corner_timer=0.30
[21:41:56] [ENEMY] [Enemy4] Warning: No valid flank position (both sides behind walls)
[21:41:56] [ENEMY] [Enemy4] FLANKING started: target=(1581.39, 815.4146), side=left, pos=(866.4711, 657.7952)
[21:41:56] [ENEMY] [Enemy4] State: PURSUING -> FLANKING
[21:41:56] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:41:56] [ENEMY] [Enemy1] FLANKING corner check: angle -59.0°
[21:41:56] [ENEMY] [Enemy6] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=137.6°, current=146.3°, player=(1741,640), corner_timer=0.00
[21:41:56] [ENEMY] [Enemy6] State: IDLE -> COMBAT
[21:41:56] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=2.9°, current=2.6°, player=(1746,640), corner_timer=0.10
[21:41:56] [ENEMY] [Enemy4] State: FLANKING -> COMBAT
[21:41:56] [ENEMY] [Enemy6] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=136.2°, current=-82.6°, player=(1751,640), corner_timer=0.00
[21:41:56] [ENEMY] [Enemy4] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=3.2°, current=81.8°, player=(1756,640), corner_timer=0.10
[21:41:56] [ENEMY] [Enemy3] PURSUING corner check: angle -69.8°
[21:41:56] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1765,640), corner_timer=-0.02
[21:41:56] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[21:41:56] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1770,640), corner_timer=0.30
[21:41:56] [INFO] [BloodyFeet:Enemy4] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[21:41:56] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:41:56] [ENEMY] [Enemy1] FLANKING corner check: angle 121.0°
[21:41:56] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1820,600), corner_timer=-0.02
[21:41:56] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[21:41:56] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1820,596), corner_timer=0.30
[21:41:56] [ENEMY] [Enemy5] Memory: high confidence (0.86) - transitioning to PURSUING
[21:41:56] [ENEMY] [Enemy5] State: IDLE -> PURSUING
[21:41:56] [ENEMY] [Enemy5] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=63.3°, current=11.3°, player=(1820,588), corner_timer=0.00
[21:41:56] [ENEMY] [Enemy5] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=63.1°, current=14.1°, player=(1819,585), corner_timer=0.00
[21:41:56] [ENEMY] [Enemy5] PURSUING corner check: angle -0.0°
[21:41:56] [ENEMY] [Enemy6] State: COMBAT -> PURSUING
[21:41:56] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[21:41:56] [ENEMY] [Enemy6] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=139.2°, current=-173.2°, player=(1815,567), corner_timer=0.00
[21:41:56] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:41:57] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[21:41:57] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:41:57] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[21:41:57] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[21:41:57] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[21:41:57] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[21:41:57] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[21:41:57] [INFO] [LastChance] Resetting all effects (scene change detected)
[21:41:57] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[21:41:57] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[21:41:57] [ENEMY] [Enemy1] Death animation component initialized
[21:41:57] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:41:57] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[21:41:57] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[21:41:57] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[21:41:57] [ENEMY] [Enemy2] Death animation component initialized
[21:41:57] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:41:57] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[21:41:57] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[21:41:57] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[21:41:57] [ENEMY] [Enemy3] Death animation component initialized
[21:41:57] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:41:57] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[21:41:57] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[21:41:57] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[21:41:57] [ENEMY] [Enemy4] Death animation component initialized
[21:41:57] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:41:57] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[21:41:57] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[21:41:57] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[21:41:57] [ENEMY] [Enemy5] Death animation component initialized
[21:41:57] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:41:57] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[21:41:57] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[21:41:57] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[21:41:57] [ENEMY] [Enemy6] Death animation component initialized
[21:41:57] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:41:57] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[21:41:57] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[21:41:57] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[21:41:57] [ENEMY] [Enemy7] Death animation component initialized
[21:41:57] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:41:57] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[21:41:57] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[21:41:57] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[21:41:57] [ENEMY] [Enemy8] Death animation component initialized
[21:41:57] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:41:57] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[21:41:57] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[21:41:57] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[21:41:57] [ENEMY] [Enemy9] Death animation component initialized
[21:41:57] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:41:57] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[21:41:57] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[21:41:57] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[21:41:57] [ENEMY] [Enemy10] Death animation component initialized
[21:41:57] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:41:57] [INFO] [BloodyFeet:Player] Footprint scene loaded
[21:41:57] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[21:41:57] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[21:41:57] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[21:41:57] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[21:41:57] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[21:41:57] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[21:41:57] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[21:41:57] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[21:41:57] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[21:41:57] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[21:41:57] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[21:41:57] [INFO] [Player] Ready! Ammo: 9/9, Grenades: 1/3, Health: 2/4
[21:41:57] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[21:41:57] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[21:41:57] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[21:41:57] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[21:41:57] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[21:41:57] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[21:41:57] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[21:41:57] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[21:41:57] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[21:41:57] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[21:41:57] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[21:41:57] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[21:41:57] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[21:41:57] [INFO] [BuildingLevel] Setting up weapon: makarov_pm
[21:41:57] [INFO] [ScoreManager] Level started with 10 enemies
[21:41:57] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[21:41:57] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[21:41:57] [INFO] [ReplayManager] Replay data cleared
[21:41:57] [INFO] [BuildingLevel] Previous replay data cleared
[21:41:57] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[21:41:57] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[21:41:57] [INFO] [ReplayManager] Level: BuildingLevel
[21:41:57] [INFO] [ReplayManager] Player: Player (valid: True)
[21:41:57] [INFO] [ReplayManager] Enemies count: 10
[21:41:57] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[21:41:57] [INFO] [ReplayManager]   Enemy 0: Enemy1
[21:41:57] [INFO] [ReplayManager]   Enemy 1: Enemy2
[21:41:57] [INFO] [ReplayManager]   Enemy 2: Enemy3
[21:41:57] [INFO] [ReplayManager]   Enemy 3: Enemy4
[21:41:57] [INFO] [ReplayManager]   Enemy 4: Enemy5
[21:41:57] [INFO] [ReplayManager]   Enemy 5: Enemy6
[21:41:57] [INFO] [ReplayManager]   Enemy 6: Enemy7
[21:41:57] [INFO] [ReplayManager]   Enemy 7: Enemy8
[21:41:57] [INFO] [ReplayManager]   Enemy 8: Enemy9
[21:41:57] [INFO] [ReplayManager]   Enemy 9: Enemy10
[21:41:57] [INFO] [BuildingLevel] Replay recording started successfully
[21:41:57] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[21:41:57] [INFO] [CinemaEffects] Found player node: Player
[21:41:57] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[21:41:57] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[21:41:57] [ENEMY] [Enemy1] Registered as sound listener
[21:41:57] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 4, behavior: GUARD
[21:41:57] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[21:41:57] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[21:41:57] [ENEMY] [Enemy2] Registered as sound listener
[21:41:57] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 2, behavior: GUARD
[21:41:57] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[21:41:57] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[21:41:57] [ENEMY] [Enemy3] Registered as sound listener
[21:41:57] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 3, behavior: GUARD
[21:41:57] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[21:41:57] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[21:41:57] [ENEMY] [Enemy4] Registered as sound listener
[21:41:57] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 2, behavior: GUARD
[21:41:57] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[21:41:57] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[21:41:57] [ENEMY] [Enemy5] Registered as sound listener
[21:41:57] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 3, behavior: GUARD
[21:41:57] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[21:41:57] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[21:41:57] [ENEMY] [Enemy6] Registered as sound listener
[21:41:57] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 4, behavior: GUARD
[21:41:57] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[21:41:57] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[21:41:57] [ENEMY] [Enemy7] Registered as sound listener
[21:41:57] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 3, behavior: PATROL
[21:41:57] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[21:41:57] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[21:41:57] [ENEMY] [Enemy8] Registered as sound listener
[21:41:57] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 3, behavior: GUARD
[21:41:57] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[21:41:57] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[21:41:57] [ENEMY] [Enemy9] Registered as sound listener
[21:41:57] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 3, behavior: GUARD
[21:41:57] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[21:41:57] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[21:41:57] [ENEMY] [Enemy10] Registered as sound listener
[21:41:57] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 3, behavior: PATROL
[21:41:57] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[21:41:57] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[21:41:57] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[21:41:57] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[21:41:57] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=281.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[21:41:57] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[21:41:57] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[21:41:57] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=225.0°, current=0.0°, player=(450,1249), corner_timer=0.00
[21:41:57] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[21:41:57] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[21:41:57] [INFO] [Player] Detecting weapon pose (frame 3)...
[21:41:57] [INFO] [Player] Detected weapon: Makarov PM (Pistol pose)
[21:41:57] [INFO] [Player] Applied Pistol arm pose: Left=(16, 6), Right=(4, 6)
[21:41:57] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[21:41:57] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[21:41:57] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[21:41:57] [INFO] [LastChance] Found player: Player
[21:41:57] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[21:41:57] [INFO] [LastChance] Connected to player Damaged signal (C#)
[21:41:57] [INFO] [LastChance] Connected to player Died signal (C#)
[21:41:57] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[21:41:58] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[21:41:58] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[21:41:58] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[21:41:58] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,781), corner_timer=0.30
[21:41:58] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,781), corner_timer=0.30
[21:41:59] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(509,727), corner_timer=-0.02
[21:41:59] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[21:41:59] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(509,727), corner_timer=-0.02
[21:41:59] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[21:41:59] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(512,726), corner_timer=0.30
[21:41:59] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(512,726), corner_timer=0.30
[21:41:59] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[21:41:59] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(586,663), corner_timer=-0.02
[21:41:59] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[21:41:59] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(590,659), corner_timer=0.30
[21:41:59] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=-127.2°, current=-78.7°, player=(613,635), corner_timer=0.00
[21:41:59] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[21:41:59] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-117.5°, current=-180.0°, player=(626,608), corner_timer=0.00
[21:41:59] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(628,570), corner_timer=-0.02
[21:41:59] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[21:41:59] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.6°, player=(628,565), corner_timer=0.30
[21:41:59] [ENEMY] [Enemy4] Memory: high confidence (0.88) - transitioning to PURSUING
[21:41:59] [ENEMY] [Enemy4] State: IDLE -> PURSUING
[21:41:59] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=-116.3°, current=-101.3°, player=(628,554), corner_timer=0.00
[21:41:59] [ENEMY] [Enemy4] PURSUING corner check: angle 139.7°
[21:41:59] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-108.5°, current=-156.2°, player=(628,537), corner_timer=0.00
[21:42:00] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=20
[21:42:00] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[21:42:00] [ENEMY] [Enemy2] Heard gunshot at (700, 750), source_type=1, intensity=0.02, distance=361
[21:42:00] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[21:42:00] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=-20.1°, current=-101.3°, player=(628,466), corner_timer=0.00
[21:42:00] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(628,460), corner_timer=-0.02
[21:42:00] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[21:42:00] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.8°, current=6.3°, player=(628,455), corner_timer=0.30
[21:42:00] [INFO] [LastChance] Threat detected: Bullet
[21:42:00] [INFO] [LastChance] Not in hard mode - effect disabled
[21:42:00] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:42:00] [INFO] [Player] Spawning blood effect at (628.89825, 433.22058), dir=(1, 0), lethal=False (C#)
[21:42:00] [INFO] [ImpactEffects] spawn_blood_effect called at (628.8983, 433.2206), dir=(1, 0), lethal=false
[21:42:00] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:42:00] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:42:00] [INFO] [ImpactEffects] Blood effect spawned at (628.8983, 433.2206) (scale=1)
[21:42:00] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[21:42:00] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[21:42:00] [INFO] [PenultimateHit] Starting penultimate hit effect:
[21:42:00] [INFO] [PenultimateHit]   - Time scale: 0.10
[21:42:00] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[21:42:00] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[21:42:00] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[21:42:00] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[21:42:00] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[21:42:00] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[21:42:00] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[21:42:00] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=10
[21:42:00] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[21:42:00] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=10
[21:42:00] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[21:42:00] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:42:00] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[21:42:00] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[21:42:00] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[21:42:00] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[21:42:00] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[21:42:00] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[21:42:00] [INFO] [LastChance] Resetting all effects (scene change detected)
[21:42:00] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[21:42:00] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[21:42:00] [ENEMY] [Enemy1] Death animation component initialized
[21:42:00] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:42:00] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[21:42:00] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[21:42:00] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[21:42:00] [ENEMY] [Enemy2] Death animation component initialized
[21:42:00] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:42:00] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[21:42:00] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[21:42:00] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[21:42:00] [ENEMY] [Enemy3] Death animation component initialized
[21:42:00] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:42:00] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[21:42:00] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[21:42:00] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[21:42:00] [ENEMY] [Enemy4] Death animation component initialized
[21:42:00] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:42:00] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[21:42:00] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[21:42:00] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[21:42:00] [ENEMY] [Enemy5] Death animation component initialized
[21:42:00] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:42:00] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[21:42:00] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[21:42:00] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[21:42:00] [ENEMY] [Enemy6] Death animation component initialized
[21:42:00] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:42:00] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[21:42:00] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[21:42:00] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[21:42:00] [ENEMY] [Enemy7] Death animation component initialized
[21:42:00] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:42:00] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[21:42:00] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[21:42:00] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[21:42:00] [ENEMY] [Enemy8] Death animation component initialized
[21:42:00] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:42:00] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[21:42:00] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[21:42:00] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[21:42:00] [ENEMY] [Enemy9] Death animation component initialized
[21:42:00] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:42:00] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[21:42:00] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[21:42:00] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[21:42:00] [ENEMY] [Enemy10] Death animation component initialized
[21:42:00] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:42:00] [INFO] [BloodyFeet:Player] Footprint scene loaded
[21:42:00] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[21:42:00] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[21:42:00] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[21:42:00] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[21:42:00] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[21:42:00] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[21:42:00] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[21:42:00] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[21:42:00] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[21:42:00] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[21:42:00] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[21:42:00] [INFO] [Player] Ready! Ammo: 9/9, Grenades: 1/3, Health: 3/4
[21:42:00] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[21:42:00] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[21:42:00] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[21:42:00] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[21:42:00] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[21:42:00] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[21:42:00] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[21:42:00] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[21:42:00] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[21:42:00] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[21:42:00] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[21:42:00] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[21:42:00] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[21:42:00] [INFO] [BuildingLevel] Setting up weapon: makarov_pm
[21:42:00] [INFO] [ScoreManager] Level started with 10 enemies
[21:42:00] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[21:42:00] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[21:42:00] [INFO] [ReplayManager] Replay data cleared
[21:42:00] [INFO] [BuildingLevel] Previous replay data cleared
[21:42:00] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[21:42:00] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[21:42:00] [INFO] [ReplayManager] Level: BuildingLevel
[21:42:00] [INFO] [ReplayManager] Player: Player (valid: True)
[21:42:00] [INFO] [ReplayManager] Enemies count: 10
[21:42:00] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[21:42:00] [INFO] [ReplayManager]   Enemy 0: Enemy1
[21:42:00] [INFO] [ReplayManager]   Enemy 1: Enemy2
[21:42:00] [INFO] [ReplayManager]   Enemy 2: Enemy3
[21:42:00] [INFO] [ReplayManager]   Enemy 3: Enemy4
[21:42:00] [INFO] [ReplayManager]   Enemy 4: Enemy5
[21:42:00] [INFO] [ReplayManager]   Enemy 5: Enemy6
[21:42:00] [INFO] [ReplayManager]   Enemy 6: Enemy7
[21:42:00] [INFO] [ReplayManager]   Enemy 7: Enemy8
[21:42:00] [INFO] [ReplayManager]   Enemy 8: Enemy9
[21:42:00] [INFO] [ReplayManager]   Enemy 9: Enemy10
[21:42:00] [INFO] [BuildingLevel] Replay recording started successfully
[21:42:00] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[21:42:00] [INFO] [CinemaEffects] Found player node: Player
[21:42:00] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[21:42:00] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[21:42:00] [ENEMY] [Enemy1] Registered as sound listener
[21:42:00] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 4, behavior: GUARD
[21:42:00] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[21:42:00] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[21:42:00] [ENEMY] [Enemy2] Registered as sound listener
[21:42:00] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 2, behavior: GUARD
[21:42:00] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[21:42:00] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[21:42:00] [ENEMY] [Enemy3] Registered as sound listener
[21:42:00] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 2, behavior: GUARD
[21:42:00] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[21:42:00] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[21:42:00] [ENEMY] [Enemy4] Registered as sound listener
[21:42:00] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 3, behavior: GUARD
[21:42:00] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[21:42:00] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[21:42:00] [ENEMY] [Enemy5] Registered as sound listener
[21:42:00] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 2, behavior: GUARD
[21:42:00] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[21:42:00] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[21:42:00] [ENEMY] [Enemy6] Registered as sound listener
[21:42:00] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 2, behavior: GUARD
[21:42:00] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[21:42:00] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[21:42:00] [ENEMY] [Enemy7] Registered as sound listener
[21:42:00] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 3, behavior: PATROL
[21:42:00] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[21:42:00] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[21:42:00] [ENEMY] [Enemy8] Registered as sound listener
[21:42:00] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 3, behavior: GUARD
[21:42:00] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[21:42:00] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[21:42:00] [ENEMY] [Enemy9] Registered as sound listener
[21:42:00] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 2, behavior: GUARD
[21:42:00] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[21:42:00] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[21:42:00] [ENEMY] [Enemy10] Registered as sound listener
[21:42:00] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 2, behavior: PATROL
[21:42:00] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[21:42:01] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[21:42:01] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[21:42:01] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[21:42:01] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[21:42:01] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[21:42:01] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=180.0°, current=0.0°, player=(450,1249), corner_timer=0.00
[21:42:01] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[21:42:01] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[21:42:01] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[21:42:01] [INFO] [Player] Detecting weapon pose (frame 3)...
[21:42:01] [INFO] [Player] Detected weapon: Makarov PM (Pistol pose)
[21:42:01] [INFO] [Player] Applied Pistol arm pose: Left=(16, 6), Right=(4, 6)
[21:42:01] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[21:42:01] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[21:42:01] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[21:42:01] [INFO] [LastChance] Found player: Player
[21:42:01] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[21:42:01] [INFO] [LastChance] Connected to player Damaged signal (C#)
[21:42:01] [INFO] [LastChance] Connected to player Died signal (C#)
[21:42:01] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[21:42:01] [INFO] [BloodDecal] Blood puddle created at (703.0352, 435.2878) (added to group)
[21:42:01] [INFO] [BloodDecal] Blood puddle created at (686.7064, 439.9906) (added to group)
[21:42:01] [INFO] [BloodDecal] Blood puddle created at (705.7002, 462.5149) (added to group)
[21:42:01] [INFO] [BloodDecal] Blood puddle created at (687.2316, 456.5988) (added to group)
[21:42:01] [INFO] [BloodDecal] Blood puddle created at (708.8049, 465.5876) (added to group)
[21:42:01] [INFO] [BloodDecal] Blood puddle created at (694.5363, 472.377) (added to group)
[21:42:01] [INFO] [BloodDecal] Blood puddle created at (710.222, 461.8265) (added to group)
[21:42:01] [INFO] [BloodDecal] Blood puddle created at (776.3356, 557.6782) (added to group)
[21:42:01] [INFO] [BloodDecal] Blood puddle created at (803.3159, 592.27) (added to group)
[21:42:01] [INFO] [BloodDecal] Blood puddle created at (818.77, 577.2829) (added to group)
[21:42:02] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[21:42:02] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[21:42:02] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[21:42:02] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(456,783), corner_timer=0.30
[21:42:02] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(456,783), corner_timer=0.30
[21:42:02] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(526,714), corner_timer=-0.02
[21:42:02] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[21:42:02] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(526,714), corner_timer=-0.02
[21:42:02] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[21:42:02] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(531,711), corner_timer=0.30
[21:42:02] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(531,711), corner_timer=0.30
[21:42:03] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[21:42:03] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(596,634), corner_timer=-0.02
[21:42:03] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[21:42:03] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(597,629), corner_timer=0.30
[21:42:03] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(600,525), corner_timer=-0.02
[21:42:03] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[21:42:03] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.6°, player=(600,520), corner_timer=0.30
[21:42:03] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=-115.5°, current=-67.5°, player=(600,481), corner_timer=0.00
[21:42:03] [ENEMY] [Enemy4] State: IDLE -> COMBAT
[21:42:03] [ENEMY] [Enemy4] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-115.2°, current=171.5°, player=(600,470), corner_timer=0.00
[21:42:03] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-112.6°, current=-160.2°, player=(600,421), corner_timer=0.00
[21:42:03] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(600,415), corner_timer=-0.02
[21:42:03] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[21:42:03] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.8°, current=6.3°, player=(600,410), corner_timer=0.30
[21:42:04] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=10
[21:42:04] [ENEMY] [Enemy3] Memory: high confidence (0.90) - transitioning to PURSUING
[21:42:04] [ENEMY] [Enemy3] State: IDLE -> PURSUING
[21:42:04] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=-103.4°, current=11.3°, player=(600,333), corner_timer=0.00
[21:42:04] [ENEMY] [Enemy3] PURSUING corner check: angle 141.3°
[21:42:04] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-102.8°, current=-123.2°, player=(600,322), corner_timer=0.30
[21:42:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(784.0669, 815.3245), source=ENEMY (Enemy4), range=1469, listeners=20
[21:42:04] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[21:42:04] [ENEMY] [Enemy2] Heard gunshot at (784.0669, 815.3245), source_type=1, intensity=0.01, distance=467
[21:42:04] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[21:42:04] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=-50.6°, current=168.8°, player=(600,305), corner_timer=0.00
[21:42:04] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.8°, player=(600,305), corner_timer=-0.02
[21:42:04] [ENEMY] [Enemy10] PATROL corner check: angle 0.9°
[21:42:04] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=0.9°, current=4.6°, player=(600,300), corner_timer=0.30
[21:42:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(787.9075, 788.3645), source=ENEMY (Enemy4), range=1469, listeners=10
[21:42:04] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[21:42:04] [INFO] [LastChance] Threat detected: Bullet
[21:42:04] [INFO] [LastChance] Not in hard mode - effect disabled
[21:42:04] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:42:04] [ENEMY] [Enemy3] State: PURSUING -> RETREATING
[21:42:04] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[21:42:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(787.132, 752.6735), source=ENEMY (Enemy4), range=1469, listeners=10
[21:42:04] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[21:42:04] [INFO] [LastChance] Threat detected: @Area2D@1584
[21:42:04] [INFO] [LastChance] Not in hard mode - effect disabled
[21:42:04] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:42:04] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(753.5815, 754.4692), shooter_id=789099580078, bullet_pos=(491.46088, 51.765045)
[21:42:04] [INFO] [Bullet] Using shooter_position, distance=750,0002
[21:42:04] [INFO] [Bullet] Distance to wall: 750,0002 (51,068897% of viewport)
[21:42:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(786.6248, 778.8018), source=ENEMY (Enemy4), range=1469, listeners=10
[21:42:04] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[21:42:04] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:42:04] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(757.47406, 727.52795), shooter_id=789099580078, bullet_pos=(519.71893, 60.288326)
[21:42:04] [INFO] [Bullet] Using shooter_position, distance=708,33344
[21:42:04] [INFO] [Bullet] Distance to wall: 708,33344 (48,231728% of viewport)
[21:42:04] [INFO] [LastChance] Threat detected: @Area2D@1587
[21:42:04] [INFO] [LastChance] Not in hard mode - effect disabled
[21:42:04] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:42:04] [ENEMY] [Enemy1] Memory: medium confidence (0.59) - transitioning to PURSUING
[21:42:04] [ENEMY] [Enemy1] State: IDLE -> PURSUING
[21:42:04] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=-31.9°, current=-33.8°, player=(600,162), corner_timer=0.00
[21:42:04] [ENEMY] [Enemy1] PURSUING corner check: angle -50.9°
[21:42:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(786.1176, 804.93), source=ENEMY (Enemy4), range=1469, listeners=10
[21:42:04] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[21:42:04] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(756.8587, 691.67017), shooter_id=789099580078, bullet_pos=(528.66534, 65.27397)
[21:42:04] [INFO] [Bullet] Using shooter_position, distance=666,6666
[21:42:04] [INFO] [Bullet] Distance to wall: 666,6666 (45,394558% of viewport)
[21:42:04] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[21:42:04] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=-130.1°, player=(600,129), corner_timer=-0.02
[21:42:04] [ENEMY] [Enemy7] PATROL corner check: angle 90.0°
[21:42:04] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=-133.0°, player=(600,124), corner_timer=0.30
[21:42:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(789.292, 830.2492), source=ENEMY (Enemy4), range=1469, listeners=10
[21:42:04] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=7
[21:42:04] [ENEMY] [Enemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-44.2°, current=-31.8°, player=(600,114), corner_timer=0.18
[21:42:04] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(758.6085, 716.74756), shooter_id=789099580078, bullet_pos=(631.3878, 62.332256)
[21:42:04] [INFO] [Bullet] Using shooter_position, distance=666,6667
[21:42:04] [INFO] [Bullet] Distance to wall: 666,6667 (45,39456% of viewport)
[21:42:04] [INFO] [Bullet] Distance-based penetration chance: 93,706345%
[21:42:04] [INFO] [Bullet] Starting wall penetration at (631.3878, 62.332256)
[21:42:04] [INFO] [Bullet] Raycast backward hit penetrating body at distance 15,766558
[21:42:04] [INFO] [Bullet] Body exited signal received for penetrating body
[21:42:04] [INFO] [Bullet] Exiting penetration at (622.48236, 16.523182) after traveling 41,666668 pixels through wall
[21:42:04] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[21:42:04] [ENEMY] [Enemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=PURSUING, target=-47.8°, current=-30.4°, player=(602,100), corner_timer=0.13
[21:42:04] [ENEMY] [Enemy1] State: PURSUING -> RETREATING
[21:42:04] [ENEMY] [Enemy2] State: PURSUING -> RETREATING
[21:42:04] [ENEMY] [Enemy1] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=-50.9°, current=-34.2°, player=(605,92), corner_timer=0.12
[21:42:04] [ENEMY] [Enemy1] State: RETREATING -> IN_COVER
[21:42:04] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[21:42:04] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:42:04] [INFO] [LastChance] Threat detected: @Area2D@1596
[21:42:04] [INFO] [LastChance] Not in hard mode - effect disabled
[21:42:04] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:42:04] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[21:42:04] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[21:42:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(790.2116, 855.879), source=ENEMY (Enemy4), range=1469, listeners=10
[21:42:04] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=7
[21:42:05] [INFO] [Player] Spawning blood effect at (613.66705, 80.06671), dir=(1, 0), lethal=False (C#)
[21:42:05] [INFO] [ImpactEffects] spawn_blood_effect called at (613.6671, 80.06671), dir=(1, 0), lethal=false
[21:42:05] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:42:05] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:42:05] [INFO] [ImpactEffects] Blood effect spawned at (613.6671, 80.06671) (scale=1)
[21:42:05] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[21:42:05] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[21:42:05] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[21:42:05] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:42:05] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[21:42:05] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[21:42:05] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[21:42:05] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[21:42:05] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[21:42:05] [INFO] [LastChance] Resetting all effects (scene change detected)
[21:42:05] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[21:42:05] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[21:42:05] [ENEMY] [Enemy1] Death animation component initialized
[21:42:05] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:42:05] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[21:42:05] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[21:42:05] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[21:42:05] [ENEMY] [Enemy2] Death animation component initialized
[21:42:05] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:42:05] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[21:42:05] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[21:42:05] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[21:42:05] [ENEMY] [Enemy3] Death animation component initialized
[21:42:05] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:42:05] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[21:42:05] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[21:42:05] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[21:42:05] [ENEMY] [Enemy4] Death animation component initialized
[21:42:05] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:42:05] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[21:42:05] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[21:42:05] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[21:42:05] [ENEMY] [Enemy5] Death animation component initialized
[21:42:05] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:42:05] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[21:42:05] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[21:42:05] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[21:42:05] [ENEMY] [Enemy6] Death animation component initialized
[21:42:05] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:42:05] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[21:42:05] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[21:42:05] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[21:42:05] [ENEMY] [Enemy7] Death animation component initialized
[21:42:05] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:42:05] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[21:42:05] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[21:42:05] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[21:42:05] [ENEMY] [Enemy8] Death animation component initialized
[21:42:05] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:42:05] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[21:42:05] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[21:42:05] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[21:42:05] [ENEMY] [Enemy9] Death animation component initialized
[21:42:05] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:42:05] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[21:42:05] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[21:42:05] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[21:42:05] [ENEMY] [Enemy10] Death animation component initialized
[21:42:05] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:42:05] [INFO] [BloodyFeet:Player] Footprint scene loaded
[21:42:05] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[21:42:05] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[21:42:05] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[21:42:05] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[21:42:05] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[21:42:05] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[21:42:05] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[21:42:05] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[21:42:05] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[21:42:05] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[21:42:05] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[21:42:05] [INFO] [Player] Ready! Ammo: 9/9, Grenades: 1/3, Health: 4/4
[21:42:05] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[21:42:05] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[21:42:05] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[21:42:05] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[21:42:05] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[21:42:05] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[21:42:05] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[21:42:05] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[21:42:05] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[21:42:05] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[21:42:05] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[21:42:05] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[21:42:05] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[21:42:05] [INFO] [BuildingLevel] Setting up weapon: makarov_pm
[21:42:05] [INFO] [ScoreManager] Level started with 10 enemies
[21:42:05] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[21:42:05] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[21:42:05] [INFO] [ReplayManager] Replay data cleared
[21:42:05] [INFO] [BuildingLevel] Previous replay data cleared
[21:42:05] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[21:42:05] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[21:42:05] [INFO] [ReplayManager] Level: BuildingLevel
[21:42:05] [INFO] [ReplayManager] Player: Player (valid: True)
[21:42:05] [INFO] [ReplayManager] Enemies count: 10
[21:42:05] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[21:42:05] [INFO] [ReplayManager]   Enemy 0: Enemy1
[21:42:05] [INFO] [ReplayManager]   Enemy 1: Enemy2
[21:42:05] [INFO] [ReplayManager]   Enemy 2: Enemy3
[21:42:05] [INFO] [ReplayManager]   Enemy 3: Enemy4
[21:42:05] [INFO] [ReplayManager]   Enemy 4: Enemy5
[21:42:05] [INFO] [ReplayManager]   Enemy 5: Enemy6
[21:42:05] [INFO] [ReplayManager]   Enemy 6: Enemy7
[21:42:05] [INFO] [ReplayManager]   Enemy 7: Enemy8
[21:42:05] [INFO] [ReplayManager]   Enemy 8: Enemy9
[21:42:05] [INFO] [ReplayManager]   Enemy 9: Enemy10
[21:42:05] [INFO] [BuildingLevel] Replay recording started successfully
[21:42:05] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[21:42:05] [INFO] [CinemaEffects] Found player node: Player
[21:42:05] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[21:42:05] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[21:42:05] [ENEMY] [Enemy1] Registered as sound listener
[21:42:05] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 3, behavior: GUARD
[21:42:05] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[21:42:05] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[21:42:05] [ENEMY] [Enemy2] Registered as sound listener
[21:42:05] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 2, behavior: GUARD
[21:42:05] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[21:42:05] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[21:42:05] [ENEMY] [Enemy3] Registered as sound listener
[21:42:05] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 4, behavior: GUARD
[21:42:05] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[21:42:05] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[21:42:05] [ENEMY] [Enemy4] Registered as sound listener
[21:42:05] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 3, behavior: GUARD
[21:42:05] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[21:42:05] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[21:42:05] [ENEMY] [Enemy5] Registered as sound listener
[21:42:05] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 4, behavior: GUARD
[21:42:05] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[21:42:05] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[21:42:05] [ENEMY] [Enemy6] Registered as sound listener
[21:42:05] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 4, behavior: GUARD
[21:42:05] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[21:42:05] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[21:42:05] [ENEMY] [Enemy7] Registered as sound listener
[21:42:05] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 2, behavior: PATROL
[21:42:05] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[21:42:05] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[21:42:05] [ENEMY] [Enemy8] Registered as sound listener
[21:42:05] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 3, behavior: GUARD
[21:42:05] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[21:42:05] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[21:42:05] [ENEMY] [Enemy9] Registered as sound listener
[21:42:05] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 3, behavior: GUARD
[21:42:05] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[21:42:05] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[21:42:05] [ENEMY] [Enemy10] Registered as sound listener
[21:42:05] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 2, behavior: PATROL
[21:42:05] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[21:42:05] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[21:42:05] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[21:42:05] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=45.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[21:42:05] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=236.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[21:42:05] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[21:42:05] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=180.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[21:42:05] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=225.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[21:42:05] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=123.7°, current=0.0°, player=(450,1250), corner_timer=0.00
[21:42:05] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[21:42:05] [INFO] [Player] Detecting weapon pose (frame 3)...
[21:42:05] [INFO] [Player] Detected weapon: Makarov PM (Pistol pose)
[21:42:05] [INFO] [Player] Applied Pistol arm pose: Left=(16, 6), Right=(4, 6)
[21:42:05] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[21:42:05] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[21:42:05] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[21:42:05] [INFO] [LastChance] Found player: Player
[21:42:05] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[21:42:05] [INFO] [LastChance] Connected to player Damaged signal (C#)
[21:42:05] [INFO] [LastChance] Connected to player Died signal (C#)
[21:42:05] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[21:42:05] [INFO] [BloodDecal] Blood puddle created at (650.2327, 78.78053) (added to group)
[21:42:05] [INFO] [BloodDecal] Blood puddle created at (743.3237, 104.0025) (added to group)
[21:42:05] [INFO] [BloodDecal] Blood puddle created at (726.2172, 141.1369) (added to group)
[21:42:05] [INFO] [BloodDecal] Blood puddle created at (769.5828, 162.8694) (added to group)
[21:42:05] [INFO] [BloodDecal] Blood puddle created at (701.625, 101.1487) (added to group)
[21:42:05] [INFO] [BloodDecal] Blood puddle created at (718.4526, 148.5942) (added to group)
[21:42:05] [INFO] [BloodDecal] Blood puddle created at (723.0617, 125.824) (added to group)
[21:42:05] [INFO] [BloodDecal] Blood puddle created at (808.6764, 99.46946) (added to group)
[21:42:05] [INFO] [BloodDecal] Blood puddle created at (847.7097, 176.6169) (added to group)
[21:42:05] [INFO] [BloodDecal] Blood puddle created at (776.9868, 258.8481) (added to group)
[21:42:06] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[21:42:06] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[21:42:06] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[21:42:06] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(531,1040), corner_timer=0.30
[21:42:06] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(531,1040), corner_timer=0.30
[21:42:07] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(482,1021), corner_timer=-0.02
[21:42:07] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[21:42:07] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(482,1021), corner_timer=-0.02
[21:42:07] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[21:42:07] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(481,1019), corner_timer=0.30
[21:42:07] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(481,1019), corner_timer=0.30
[21:42:07] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[21:42:07] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(477,925), corner_timer=-0.02
[21:42:07] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[21:42:07] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(477,919), corner_timer=0.30
[21:42:07] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(477,815), corner_timer=-0.02
[21:42:07] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[21:42:07] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.6°, player=(477,809), corner_timer=0.30
[21:42:08] [INFO] [Player] Invincibility mode: ON
[21:42:08] [INFO] [GameManager] Invincibility mode toggled: ON
[21:42:08] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=56.5°, current=45.0°, player=(517,727), corner_timer=0.00
[21:42:08] [ENEMY] [Enemy2] State: IDLE -> COMBAT
[21:42:08] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=-172.9°, current=-123.8°, player=(517,727), corner_timer=0.00
[21:42:08] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[21:42:08] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(521,723), corner_timer=-0.02
[21:42:08] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[21:42:08] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.8°, current=6.3°, player=(525,719), corner_timer=0.30
[21:42:08] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-163.8°, current=135.0°, player=(540,703), corner_timer=0.00
[21:42:08] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=10
[21:42:08] [ENEMY] [Enemy4] Memory: high confidence (0.88) - transitioning to PURSUING
[21:42:08] [ENEMY] [Enemy4] State: IDLE -> PURSUING
[21:42:08] [ENEMY] [Enemy1] Memory: high confidence (0.90) - transitioning to PURSUING
[21:42:08] [ENEMY] [Enemy1] State: IDLE -> PURSUING
[21:42:08] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=-134.1°, current=-101.3°, player=(575,668), corner_timer=0.00
[21:42:08] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=48.4°, current=-157.5°, player=(579,664), corner_timer=0.00
[21:42:08] [ENEMY] [Enemy4] PURSUING corner check: angle -100.7°
[21:42:08] [ENEMY] [Enemy1] PURSUING corner check: angle -63.3°
[21:42:08] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.8°, player=(598,645), corner_timer=-0.02
[21:42:08] [ENEMY] [Enemy10] PATROL corner check: angle 0.9°
[21:42:08] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=0.9°, current=4.6°, player=(602,641), corner_timer=0.30
[21:42:08] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=23.0°, current=23.0°, player=(606,637), corner_timer=0.00
[21:42:08] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[21:42:08] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[21:42:08] [ENEMY] [Enemy1] PURSUING corner check: angle -58.4°
[21:42:08] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-98.7°, current=-147.4°, player=(672,571), corner_timer=0.00
[21:42:08] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:42:08] [ENEMY] [Enemy4] PURSUING corner check: angle -94.0°
[21:42:09] [ENEMY] [Enemy3] State: PURSUING -> COMBAT
[21:42:09] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=-130.1°, player=(699,511), corner_timer=-0.02
[21:42:09] [ENEMY] [Enemy7] PATROL corner check: angle 90.0°
[21:42:09] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=-133.0°, player=(699,505), corner_timer=0.30
[21:42:09] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:42:09] [INFO] [ReplayManager] Recording frame 240 (4,0s): player_valid=True, enemies=10
[21:42:09] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=179.1°, current=172.4°, player=(699,401), corner_timer=-0.02
[21:42:09] [ENEMY] [Enemy7] PATROL corner check: angle 89.8°
[21:42:09] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.8°, current=175.3°, player=(699,395), corner_timer=0.30
[21:42:09] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=20
[21:42:09] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[21:42:09] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[21:42:09] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-76.1°, current=-125.3°, player=(699,357), corner_timer=0.02
[21:42:09] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[21:42:09] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:42:09] [ENEMY] [Enemy4] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-76.2°, current=-11.4°, player=(699,346), corner_timer=0.02
[21:42:09] [INFO] [LastChance] Threat detected: Bullet
[21:42:09] [INFO] [LastChance] Not in hard mode - effect disabled
[21:42:09] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:42:09] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=10
[21:42:09] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[21:42:09] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-78.4°, current=-30.3°, player=(699,313), corner_timer=0.02
[21:42:09] [INFO] [Player] Hit blocked by invincibility mode (C#)
[21:42:09] [INFO] [Player] Spawning blood effect at (699.65015, 307.69772), dir=(1, 0), lethal=False (C#)
[21:42:09] [INFO] [ImpactEffects] spawn_blood_effect called at (699.6501, 307.6977), dir=(1, 0), lethal=false
[21:42:09] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:42:09] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:42:09] [INFO] [ImpactEffects] Blood effect spawned at (699.6501, 307.6977) (scale=1)
[21:42:09] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[21:42:09] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=178.4°, current=120.7°, player=(702,292), corner_timer=-0.02
[21:42:09] [ENEMY] [Enemy7] PATROL corner check: angle 89.7°
[21:42:09] [INFO] [LastChance] Threat detected: @Area2D@1882
[21:42:09] [INFO] [LastChance] Not in hard mode - effect disabled
[21:42:09] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:42:09] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=10
[21:42:09] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[21:42:09] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.7°, current=123.6°, player=(703,287), corner_timer=0.30
[21:42:09] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:42:09] [INFO] [LastChance] Threat detected: Bullet
[21:42:09] [INFO] [LastChance] Not in hard mode - effect disabled
[21:42:09] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:42:09] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(692.0956, 682.412), shooter_id=874982148632, bullet_pos=(688.8354, 57.420506)
[21:42:09] [INFO] [Bullet] Using shooter_position, distance=624,99994
[21:42:09] [INFO] [Bullet] Distance to wall: 624,99994 (42,557396% of viewport)
[21:42:09] [INFO] [Bullet] Distance-based penetration chance: 97,01637%
[21:42:09] [INFO] [Bullet] Starting wall penetration at (688.8354, 57.420506)
[21:42:09] [INFO] [Bullet] Raycast backward hit penetrating body at distance 21,24582
[21:42:09] [INFO] [Bullet] Body exited signal received for penetrating body
[21:42:09] [INFO] [Bullet] Exiting penetration at (688.592, 10.754471) after traveling 41,66667 pixels through wall
[21:42:09] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[21:42:09] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(705.2482, 785.9334), source=ENEMY (Enemy3), range=1469, listeners=10
[21:42:09] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[21:42:09] [INFO] [BloodDecal] Blood puddle created at (766.6992, 312.2529) (added to group)
[21:42:10] [INFO] [BloodDecal] Blood puddle created at (801.4397, 343.6867) (added to group)
[21:42:10] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(708.3782, 682.51556), shooter_id=874982148632, bullet_pos=(690.5849, 57.768856)
[21:42:10] [INFO] [Bullet] Using shooter_position, distance=625
[21:42:10] [INFO] [Bullet] Distance to wall: 625 (42,5574% of viewport)
[21:42:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(612.4997, 750.2681), source=ENEMY (Enemy4), range=1469, listeners=10
[21:42:10] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[21:42:10] [INFO] [BloodDecal] Blood puddle created at (762.9737, 341.5548) (added to group)
[21:42:10] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.9°, current=89.7°, player=(770,210), corner_timer=-0.02
[21:42:10] [ENEMY] [Enemy7] PATROL corner check: angle 89.6°
[21:42:10] [INFO] [LastChance] Threat detected: @Area2D@1886
[21:42:10] [INFO] [LastChance] Not in hard mode - effect disabled
[21:42:10] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:42:10] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.6°, current=92.5°, player=(773,206), corner_timer=0.30
[21:42:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(714.1746, 785.9337), source=ENEMY (Enemy3), range=1469, listeners=10
[21:42:10] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[21:42:10] [INFO] [Player] Hit blocked by invincibility mode (C#)
[21:42:10] [INFO] [Player] Spawning blood effect at (789.4777, 190.9055), dir=(1, 0), lethal=False (C#)
[21:42:10] [INFO] [ImpactEffects] spawn_blood_effect called at (789.4777, 190.9055), dir=(1, 0), lethal=false
[21:42:10] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:42:10] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:42:10] [INFO] [ImpactEffects] Blood effect spawned at (789.4777, 190.9055) (scale=1)
[21:42:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(623.2936, 714.531), source=ENEMY (Enemy4), range=1469, listeners=10
[21:42:10] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=1, below_threshold=4
[21:42:10] [INFO] [BloodDecal] Blood puddle created at (840.5668, 411.0143) (added to group)
[21:42:10] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:42:10] [INFO] [BloodDecal] Blood puddle created at (808.5078, 324.3243) (added to group)
[21:42:10] [INFO] [LastChance] Threat detected: @Area2D@1891
[21:42:10] [INFO] [LastChance] Not in hard mode - effect disabled
[21:42:10] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:42:10] [ENEMY] [Enemy2] PURSUING corner check: angle -68.3°
[21:42:10] [INFO] [BloodDecal] Blood puddle created at (807.0244, 426.976) (added to group)
[21:42:10] [INFO] [BloodDecal] Blood puddle created at (843.5156, 388.4481) (added to group)
[21:42:10] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[21:42:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(635.181, 679.1418), source=ENEMY (Enemy4), range=1469, listeners=10
[21:42:10] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=1, below_threshold=4
[21:42:10] [INFO] [LastChance] Threat detected: Bullet
[21:42:10] [INFO] [LastChance] Not in hard mode - effect disabled
[21:42:10] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:42:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(716.8359, 785.9337), source=ENEMY (Enemy3), range=1469, listeners=10
[21:42:10] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[21:42:10] [INFO] [BloodDecal] Blood puddle created at (898.7834, 434.3058) (added to group)
[21:42:10] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(638.61365, 687.4703), shooter_id=875334470794, bullet_pos=(821.9437, 46.506405)
[21:42:10] [INFO] [Bullet] Using shooter_position, distance=666,6668
[21:42:10] [INFO] [Bullet] Distance to wall: 666,6668 (45,39457% of viewport)
[21:42:10] [INFO] [Bullet] Distance-based penetration chance: 93,70634%
[21:42:10] [INFO] [Bullet] Starting wall penetration at (821.9437, 46.506405)
[21:42:10] [INFO] [ReplayManager] Recording frame 300 (5,0s): player_valid=True, enemies=10
[21:42:10] [INFO] [Bullet] Raycast backward hit penetrating body at distance 31,578564
[21:42:10] [INFO] [BloodDecal] Blood puddle created at (919.3005, 442.9523) (added to group)
[21:42:10] [INFO] [Bullet] Body exited signal received for penetrating body
[21:42:10] [INFO] [Bullet] Exiting penetration at (834.77686, 1.6389313) after traveling 41,66667 pixels through wall
[21:42:10] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[21:42:10] [INFO] [LastChance] Threat detected: @Area2D@1896
[21:42:10] [INFO] [LastChance] Not in hard mode - effect disabled
[21:42:10] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:42:10] [INFO] [BloodDecal] Blood puddle created at (808.956, 371.4329) (added to group)
[21:42:10] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(729.61536, 719.89996), shooter_id=874982148632, bullet_pos=(803.37317, 57.32582)
[21:42:10] [INFO] [Bullet] Using shooter_position, distance=666,6669
[21:42:10] [INFO] [Bullet] Distance to wall: 666,6669 (45,394577% of viewport)
[21:42:10] [INFO] [Bullet] Distance-based penetration chance: 93,70633%
[21:42:10] [INFO] [Bullet] Starting wall penetration at (803.37317, 57.32582)
[21:42:10] [INFO] [Player] Hit blocked by invincibility mode (C#)
[21:42:10] [INFO] [Player] Spawning blood effect at (833.6479, 126.7014), dir=(1, 0), lethal=False (C#)
[21:42:10] [INFO] [ImpactEffects] spawn_blood_effect called at (833.6479, 126.7014), dir=(1, 0), lethal=false
[21:42:10] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:42:10] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:42:10] [INFO] [ImpactEffects] Blood effect spawned at (833.6479, 126.7014) (scale=1)
[21:42:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(609.2685, 682.5311), source=ENEMY (Enemy4), range=1469, listeners=10
[21:42:10] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=1, below_threshold=4
[21:42:10] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.7°, current=89.6°, player=(833,126), corner_timer=-0.02
[21:42:10] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[21:42:10] [INFO] [Bullet] Raycast backward hit penetrating body at distance 21,184412
[21:42:10] [INFO] [Bullet] Body exited signal received for penetrating body
[21:42:10] [INFO] [Bullet] Exiting penetration at (808.5362, 10.945644) after traveling 41,66667 pixels through wall
[21:42:10] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[21:42:10] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.4°, player=(836,122), corner_timer=0.30
[21:42:10] [INFO] [BloodDecal] Blood puddle created at (835.8956, 192.1346) (added to group)
[21:42:10] [INFO] [LastChance] Threat detected: @Area2D@1905
[21:42:10] [INFO] [LastChance] Not in hard mode - effect disabled
[21:42:10] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:42:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(713.481, 785.3922), source=ENEMY (Enemy3), range=1469, listeners=10
[21:42:10] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[21:42:10] [INFO] [Player] Hit blocked by invincibility mode (C#)
[21:42:10] [INFO] [Player] Spawning blood effect at (859.9477, 99.095085), dir=(1, 0), lethal=False (C#)
[21:42:10] [INFO] [ImpactEffects] spawn_blood_effect called at (859.9477, 99.09509), dir=(1, 0), lethal=false
[21:42:10] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:42:10] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:42:10] [INFO] [ImpactEffects] Blood effect spawned at (859.9477, 99.09509) (scale=1)
[21:42:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(583.356, 685.9203), source=ENEMY (Enemy4), range=1469, listeners=10
[21:42:10] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=1, below_threshold=4
[21:42:10] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:42:10] [INFO] [BloodDecal] Blood puddle created at (917.5405, 246.4751) (added to group)
[21:42:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(707.9008, 762.3018), source=ENEMY (Enemy3), range=1469, listeners=10
[21:42:10] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[21:42:10] [INFO] [BloodDecal] Blood puddle created at (856.5739, 259.0996) (added to group)
[21:42:10] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(735.5171, 720.6362), shooter_id=874982148632, bullet_pos=(925.3902, 38.22553)
[21:42:10] [INFO] [Bullet] Using shooter_position, distance=708,3334
[21:42:10] [INFO] [Bullet] Distance to wall: 708,3334 (48,231724% of viewport)
[21:42:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(557.4435, 689.3095), source=ENEMY (Enemy4), range=1469, listeners=10
[21:42:10] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=1, below_threshold=4
[21:42:10] [INFO] [BloodDecal] Blood puddle created at (932.2529, 191.0961) (added to group)
[21:42:10] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(641.7844, 622.8195), shooter_id=875334470794, bullet_pos=(840.9592, 30.405556)
[21:42:10] [INFO] [Bullet] Using shooter_position, distance=624,9999
[21:42:10] [INFO] [Bullet] Distance to wall: 624,9999 (42,557392% of viewport)
[21:42:10] [INFO] [Bullet] Distance-based penetration chance: 97,01637%
[21:42:10] [INFO] [Bullet] Starting wall penetration at (840.9592, 30.405556)
[21:42:10] [INFO] [Bullet] Raycast backward hit penetrating body at distance 48,34883
[21:42:10] [INFO] [Bullet] Body exited signal received for penetrating body
[21:42:10] [INFO] [Bullet] Exiting penetration at (855.83093, -13.828026) after traveling 41,666668 pixels through wall
[21:42:10] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[21:42:10] [ENEMY] [Enemy1] PURSUING corner check: angle -174.9°
[21:42:10] [INFO] [LastChance] Threat detected: Bullet
[21:42:10] [INFO] [LastChance] Not in hard mode - effect disabled
[21:42:10] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:42:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.8532, 750.0766), source=ENEMY (Enemy3), range=1469, listeners=10
[21:42:10] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[21:42:10] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(735.5171, 720.6362), shooter_id=874982148632, bullet_pos=(977.90295, 285.6306)
[21:42:10] [INFO] [Bullet] Using shooter_position, distance=497,9767
[21:42:10] [INFO] [Bullet] Distance to wall: 497,9767 (33,908154% of viewport)
[21:42:10] [INFO] [Bullet] Within ricochet range - trying ricochet first
[21:42:10] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.5°, current=89.5°, player=(888,80), corner_timer=-0.02
[21:42:10] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[21:42:10] [INFO] [BloodDecal] Blood puddle created at (916.9902, 203.7343) (added to group)
[21:42:10] [INFO] [BloodDecal] Blood puddle created at (901.8521, 184.4201) (added to group)
[21:42:10] [INFO] [BloodDecal] Blood puddle created at (894.2657, 174.6145) (added to group)
[21:42:10] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.4°, player=(888,80), corner_timer=0.30
[21:42:10] [INFO] [Player] Hit blocked by invincibility mode (C#)
[21:42:10] [INFO] [Player] Spawning blood effect at (888.54364, 80.074844), dir=(1, 0), lethal=False (C#)
[21:42:10] [INFO] [ImpactEffects] spawn_blood_effect called at (888.5436, 80.07484), dir=(1, 0), lethal=false
[21:42:10] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:42:10] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:42:10] [INFO] [ImpactEffects] Blood effect spawned at (888.5436, 80.07484) (scale=1)
[21:42:10] [INFO] [BloodDecal] Blood puddle created at (885.9401, 258.3479) (added to group)
[21:42:10] [INFO] [BloodDecal] Blood puddle created at (954.3753, 279.9251) (added to group)
[21:42:10] [INFO] [BloodDecal] Blood puddle created at (901.2446, 102.3506) (added to group)
[21:42:10] [INFO] [BloodDecal] Blood puddle created at (928.2573, 121.6075) (added to group)
[21:42:10] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(619.20667, 628.15265), shooter_id=875334470794, bullet_pos=(824.5155, 37.836273)
[21:42:10] [INFO] [Bullet] Using shooter_position, distance=625,0001
[21:42:10] [INFO] [Bullet] Distance to wall: 625,0001 (42,55741% of viewport)
[21:42:10] [INFO] [Bullet] Distance-based penetration chance: 97,01636%
[21:42:10] [INFO] [Bullet] Starting wall penetration at (824.5155, 37.836273)
[21:42:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(525.6854, 699.7082), source=ENEMY (Enemy4), range=1469, listeners=10
[21:42:10] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=1, below_threshold=4
[21:42:10] [INFO] [Bullet] Raycast backward hit penetrating body at distance 40,487495
[21:42:10] [INFO] [Bullet] Body exited signal received for penetrating body
[21:42:10] [INFO] [Bullet] Exiting penetration at (839.8452, -6.240673) after traveling 41,666668 pixels through wall
[21:42:10] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[21:42:10] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[21:42:10] [INFO] [LastChance] Threat detected: @Area2D@1934
[21:42:10] [INFO] [LastChance] Not in hard mode - effect disabled
[21:42:10] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:42:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(659.0399, 748.4269), source=ENEMY (Enemy3), range=1469, listeners=10
[21:42:10] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[21:42:10] [INFO] [BloodDecal] Blood puddle created at (968.1879, 240.5445) (added to group)
[21:42:10] [INFO] [BloodDecal] Blood puddle created at (919.642, 177.8048) (added to group)
[21:42:10] [INFO] [LastChance] Threat detected: @Area2D@1938
[21:42:10] [INFO] [LastChance] Not in hard mode - effect disabled
[21:42:10] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:42:10] [INFO] [Player] Hit blocked by invincibility mode (C#)
[21:42:10] [INFO] [Player] Spawning blood effect at (888.54364, 80.074844), dir=(1, 0), lethal=False (C#)
[21:42:10] [INFO] [ImpactEffects] spawn_blood_effect called at (888.5436, 80.07484), dir=(1, 0), lethal=false
[21:42:10] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:42:10] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:42:10] [INFO] [ImpactEffects] Blood effect spawned at (888.5436, 80.07484) (scale=1)
[21:42:10] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:42:10] [INFO] [BloodDecal] Blood puddle created at (945.4598, 340.6033) (added to group)
[21:42:10] [INFO] [Player] Hit blocked by invincibility mode (C#)
[21:42:10] [INFO] [Player] Spawning blood effect at (888.54364, 80.074844), dir=(1, 0), lethal=False (C#)
[21:42:10] [INFO] [ImpactEffects] spawn_blood_effect called at (888.5436, 80.07484), dir=(1, 0), lethal=false
[21:42:10] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:42:10] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:42:10] [INFO] [ImpactEffects] Blood effect spawned at (888.5436, 80.07484) (scale=1)
[21:42:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(543.6231, 693.251), source=ENEMY (Enemy4), range=1469, listeners=10
[21:42:10] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=1, below_threshold=4
[21:42:10] [INFO] [BloodDecal] Blood puddle created at (907.655, 156.4503) (added to group)
[21:42:10] [INFO] [LastChance] Threat detected: @Area2D@1944
[21:42:10] [INFO] [LastChance] Not in hard mode - effect disabled
[21:42:10] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:42:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(632.907, 748.2657), source=ENEMY (Enemy3), range=1469, listeners=10
[21:42:10] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[21:42:11] [INFO] [BloodDecal] Blood puddle created at (955.3732, 116.6834) (added to group)
[21:42:11] [INFO] [Player] Hit blocked by invincibility mode (C#)
[21:42:11] [INFO] [Player] Spawning blood effect at (888.54364, 80.074844), dir=(1, 0), lethal=False (C#)
[21:42:11] [INFO] [ImpactEffects] spawn_blood_effect called at (888.5436, 80.07484), dir=(1, 0), lethal=false
[21:42:11] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:42:11] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:42:11] [INFO] [ImpactEffects] Blood effect spawned at (888.5436, 80.07484) (scale=1)
[21:42:11] [INFO] [LastChance] Threat detected: Bullet
[21:42:11] [INFO] [LastChance] Not in hard mode - effect disabled
[21:42:11] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:42:11] [INFO] [BloodDecal] Blood puddle created at (942.2594, 236.7616) (added to group)
[21:42:11] [INFO] [BloodDecal] Blood puddle created at (934.7413, 186.1756) (added to group)
[21:42:11] [INFO] [BloodDecal] Blood puddle created at (959.3342, 113.3293) (added to group)
[21:42:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(526.4448, 712.9449), source=ENEMY (Enemy4), range=1469, listeners=10
[21:42:11] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=1, below_threshold=4
[21:42:11] [INFO] [BloodDecal] Blood puddle created at (983.6078, 68.98072) (added to group)
[21:42:11] [INFO] [BloodDecal] Blood puddle created at (931.8267, 102.0603) (added to group)
[21:42:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(566.4786, 645.47876), shooter_id=875334470794, bullet_pos=(885.1026, 59.882473)
[21:42:11] [INFO] [Bullet] Using shooter_position, distance=666,66656
[21:42:11] [INFO] [Bullet] Distance to wall: 666,66656 (45,394554% of viewport)
[21:42:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(606.774, 748.1046), source=ENEMY (Enemy3), range=1469, listeners=10
[21:42:11] [ENEMY] [Enemy4] Heard gunshot at (606.774, 748.1046), source_type=1, intensity=0.40, distance=79
[21:42:11] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=1, below_threshold=4
[21:42:11] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[21:42:11] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.4°, current=89.5°, player=(888,80), corner_timer=-0.02
[21:42:11] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[21:42:11] [INFO] [BloodDecal] Blood puddle created at (941.6075, 126.1654) (added to group)
[21:42:11] [INFO] [BloodDecal] Blood puddle created at (981.8152, 86.92769) (added to group)
[21:42:11] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.3°, player=(888,80), corner_timer=0.30
[21:42:11] [INFO] [BloodDecal] Blood puddle created at (1059.361, 178.1528) (added to group)
[21:42:11] [INFO] [BloodDecal] Blood puddle created at (981.5596, 102.0547) (added to group)
[21:42:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(688.35895, 687.0615), shooter_id=874982148632, bullet_pos=(976.4189, 39.94675)
[21:42:11] [INFO] [Bullet] Using shooter_position, distance=708,33325
[21:42:11] [INFO] [Bullet] Distance to wall: 708,33325 (48,231716% of viewport)
[21:42:11] [INFO] [Bullet] Distance-based penetration chance: 90,39633%
[21:42:11] [INFO] [Bullet] Starting wall penetration at (976.4189, 39.94675)
[21:42:11] [INFO] [Bullet] Raycast backward hit penetrating body at distance 37,968113
[21:42:11] [INFO] [BloodDecal] Blood puddle created at (1004.796, 196.8369) (added to group)
[21:42:11] [INFO] [BloodDecal] Blood puddle created at (968.5574, 140.7149) (added to group)
[21:42:11] [INFO] [BloodDecal] Blood puddle created at (932.293, 89.94647) (added to group)
[21:42:11] [INFO] [BloodDecal] Blood puddle created at (967.907, 85.26991) (added to group)
[21:42:11] [INFO] [BloodDecal] Blood puddle created at (989.8524, 114.3487) (added to group)
[21:42:11] [INFO] [BloodDecal] Blood puddle created at (944.8256, 121.0788) (added to group)
[21:42:11] [INFO] [Bullet] Body exited signal received for penetrating body
[21:42:11] [INFO] [Bullet] Exiting penetration at (995.397, -2.686695) after traveling 41,66667 pixels through wall
[21:42:11] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[21:42:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(583.5595, 638.1643), shooter_id=875334470794, bullet_pos=(815.89014, 57.950775)
[21:42:11] [INFO] [Bullet] Using shooter_position, distance=625,0002
[21:42:11] [INFO] [Bullet] Distance to wall: 625,0002 (42,55741% of viewport)
[21:42:11] [INFO] [Bullet] Distance-based penetration chance: 97,01635%
[21:42:11] [INFO] [Bullet] Starting wall penetration at (815.89014, 57.950775)
[21:42:11] [INFO] [LastChance] Threat detected: @Area2D@1986
[21:42:11] [INFO] [LastChance] Not in hard mode - effect disabled
[21:42:11] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:42:11] [INFO] [Bullet] Raycast backward hit penetrating body at distance 18,71275
[21:42:11] [INFO] [BloodDecal] Blood puddle created at (1061.67, 150.187) (added to group)
[21:42:11] [INFO] [BloodDecal] Blood puddle created at (988.6166, 121.6787) (added to group)
[21:42:11] [INFO] [BloodDecal] Blood puddle created at (963.0645, 98.5194) (added to group)
[21:42:11] [INFO] [BloodDecal] Blood puddle created at (980.5068, 114.6719) (added to group)
[21:42:11] [INFO] [Bullet] Body exited signal received for penetrating body
[21:42:11] [INFO] [Bullet] Exiting penetration at (833.2375, 14.628174) after traveling 41,666668 pixels through wall
[21:42:11] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[21:42:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(580.6411, 747.9433), source=ENEMY (Enemy3), range=1469, listeners=10
[21:42:11] [ENEMY] [Enemy4] Heard gunshot at (580.6411, 747.9433), source_type=1, intensity=0.55, distance=68
[21:42:11] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=1, below_threshold=4
[21:42:11] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[21:42:11] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:42:11] [INFO] [BloodDecal] Blood puddle created at (1091.805, 158.4711) (added to group)
[21:42:11] [INFO] [BloodDecal] Blood puddle created at (972.4458, 106.2221) (added to group)
[21:42:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(664.3333, 687.95135), shooter_id=874982148632, bullet_pos=(890.4515, 60.80292)
[21:42:11] [INFO] [Bullet] Using shooter_position, distance=666,6668
[21:42:11] [INFO] [Bullet] Distance to wall: 666,6668 (45,39457% of viewport)
[21:42:11] [INFO] [Player] Hit blocked by invincibility mode (C#)
[21:42:11] [INFO] [Player] Spawning blood effect at (888.54364, 80.074844), dir=(1, 0), lethal=False (C#)
[21:42:11] [INFO] [ImpactEffects] spawn_blood_effect called at (888.5436, 80.07484), dir=(1, 0), lethal=false
[21:42:11] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:42:11] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:42:11] [INFO] [ImpactEffects] Blood effect spawned at (888.5436, 80.07484) (scale=1)
[21:42:11] [INFO] [BloodDecal] Blood puddle created at (1020.297, 146.5685) (added to group)
[21:42:11] [INFO] [BloodDecal] Blood puddle created at (971.5615, 133.8915) (added to group)
[21:42:11] [INFO] [BloodDecal] Blood puddle created at (969.0372, 72.64552) (added to group)
[21:42:11] [INFO] [LastChance] Threat detected: @Area2D@1995
[21:42:11] [INFO] [LastChance] Not in hard mode - effect disabled
[21:42:11] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:42:11] [INFO] [BloodDecal] Blood puddle created at (1034.147, 103.5342) (added to group)
[21:42:11] [INFO] [BloodDecal] Blood puddle created at (984.116, 135.6307) (added to group)
[21:42:11] [INFO] [BloodDecal] Blood puddle created at (1007.603, 84.54914) (added to group)
[21:42:11] [INFO] [BloodDecal] Blood puddle created at (934.7642, 88.50992) (added to group)
[21:42:11] [INFO] [BloodDecal] Blood puddle created at (974.2612, 126.0353) (added to group)
[21:42:11] [INFO] [Player] Hit blocked by invincibility mode (C#)
[21:42:11] [INFO] [Player] Spawning blood effect at (888.54364, 80.074844), dir=(1, 0), lethal=False (C#)
[21:42:11] [INFO] [ImpactEffects] spawn_blood_effect called at (888.5436, 80.07484), dir=(1, 0), lethal=false
[21:42:11] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:42:11] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:42:11] [INFO] [ImpactEffects] Blood effect spawned at (888.5436, 80.07484) (scale=1)
[21:42:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(554.5082, 747.7821), source=ENEMY (Enemy3), range=1469, listeners=10
[21:42:11] [ENEMY] [Enemy4] Heard gunshot at (554.5082, 747.7821), source_type=1, intensity=1.00, distance=37
[21:42:11] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=1, below_threshold=4
[21:42:11] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[21:42:11] [INFO] [ReplayManager] Recording frame 360 (6,0s): player_valid=True, enemies=10
[21:42:11] [INFO] [BloodDecal] Blood puddle created at (979.959, 102.3121) (added to group)
[21:42:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(640.21814, 688.88403), shooter_id=874982148632, bullet_pos=(968.6925, 61.316315)
[21:42:11] [INFO] [Bullet] Using shooter_position, distance=708,33374
[21:42:11] [INFO] [Bullet] Distance to wall: 708,33374 (48,231747% of viewport)
[21:42:11] [INFO] [Bullet] Distance-based penetration chance: 90,39629%
[21:42:11] [INFO] [Bullet] Starting wall penetration at (968.6925, 61.316315)
[21:42:11] [INFO] [Bullet] Raycast backward hit penetrating body at distance 13,577431
[21:42:11] [INFO] [BloodDecal] Blood puddle created at (1025.71, 151.4) (added to group)
[21:42:11] [INFO] [BloodDecal] Blood puddle created at (1007.128, 184.2504) (added to group)
[21:42:11] [INFO] [BloodDecal] Blood puddle created at (989.933, 87.98971) (added to group)
[21:42:11] [INFO] [Bullet] Body exited signal received for penetrating body
[21:42:11] [INFO] [Bullet] Exiting penetration at (990.3332, 19.970684) after traveling 41,666668 pixels through wall
[21:42:11] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[21:42:11] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.5°, player=(888,80), corner_timer=-0.02
[21:42:11] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[21:42:11] [INFO] [BloodDecal] Blood puddle created at (995.9478, 120.9613) (added to group)
[21:42:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(528.7084, 746.3394), source=ENEMY (Enemy3), range=1469, listeners=10
[21:42:11] [ENEMY] [Enemy4] Heard gunshot at (528.7084, 746.3394), source_type=1, intensity=1.00, distance=37
[21:42:11] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=1, below_threshold=4
[21:42:11] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[21:42:11] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(888,80), corner_timer=0.30
[21:42:11] [INFO] [BloodDecal] Blood puddle created at (1053.76, 182.8868) (added to group)
[21:42:11] [INFO] [BloodDecal] Blood puddle created at (1023.744, 150.6682) (added to group)
[21:42:11] [INFO] [BloodDecal] Blood puddle created at (1058.702, 185.9016) (added to group)
[21:42:11] [INFO] [BloodDecal] Blood puddle created at (1015.685, 169.2825) (added to group)
[21:42:11] [INFO] [BloodDecal] Blood puddle created at (993.8834, 180.6595) (added to group)
[21:42:11] [INFO] [BloodDecal] Blood puddle created at (961.8744, 112.0632) (added to group)
[21:42:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(616.0116, 689.8516), shooter_id=874982148632, bullet_pos=(1024.7448, 61.01396)
[21:42:11] [INFO] [Bullet] Using shooter_position, distance=749,9997
[21:42:11] [INFO] [Bullet] Distance to wall: 749,9997 (51,06886% of viewport)
[21:42:11] [INFO] [BloodDecal] Blood puddle created at (1018.931, 151.9167) (added to group)
[21:42:11] [INFO] [BloodDecal] Blood puddle created at (1028.229, 180.9033) (added to group)
[21:42:11] [INFO] [LastChance] Threat detected: @Area2D@2037
[21:42:11] [INFO] [LastChance] Not in hard mode - effect disabled
[21:42:11] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:42:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(503.8516, 740.2982), source=ENEMY (Enemy3), range=1469, listeners=10
[21:42:11] [ENEMY] [Enemy4] Heard gunshot at (503.8516, 740.2982), source_type=1, intensity=1.00, distance=50
[21:42:11] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=1, below_threshold=3
[21:42:11] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[21:42:11] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:42:11] [INFO] [BloodDecal] Blood puddle created at (961.6252, 103.3339) (added to group)
[21:42:11] [INFO] [BloodDecal] Blood puddle created at (973.9501, 78.27487) (added to group)
[21:42:11] [INFO] [BloodDecal] Blood puddle created at (947.5107, 99.12296) (added to group)
[21:42:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(616.0116, 689.8516), shooter_id=874982148632, bullet_pos=(1114.9087, 219.2063)
[21:42:11] [INFO] [Bullet] Using shooter_position, distance=685,861
[21:42:11] [INFO] [Bullet] Distance to wall: 685,861 (46,701538% of viewport)
[21:42:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(591.713, 690.84656), shooter_id=874982148632, bullet_pos=(924.1614, 65.375336)
[21:42:11] [INFO] [Bullet] Using shooter_position, distance=708,3333
[21:42:11] [INFO] [Bullet] Distance to wall: 708,3333 (48,231716% of viewport)
[21:42:11] [INFO] [BloodDecal] Blood puddle created at (1078.557, 157.6204) (added to group)
[21:42:11] [INFO] [BloodDecal] Blood puddle created at (972.2667, 118.2327) (added to group)
[21:42:11] [INFO] [BloodDecal] Blood puddle created at (948.1451, 125.9881) (added to group)
[21:42:11] [INFO] [BloodDecal] Blood puddle created at (932.3775, 81.76997) (added to group)
[21:42:11] [INFO] [BloodDecal] Blood puddle created at (1089.107, 185.8192) (added to group)
[21:42:11] [INFO] [BloodDecal] Blood puddle created at (976.2551, 77.95468) (added to group)
[21:42:11] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=175.0°, current=-57.7°, player=(889,91), corner_timer=0.00
[21:42:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(591.713, 690.84656), shooter_id=874982148632, bullet_pos=(1024.9487, 217.02042)
[21:42:11] [INFO] [Bullet] Using shooter_position, distance=642,0315
[21:42:11] [INFO] [Bullet] Distance to wall: 642,0315 (43,717106% of viewport)
[21:42:11] [INFO] [Bullet] Distance-based penetration chance: 95,663376%
[21:42:11] [INFO] [Bullet] Starting wall penetration at (1024.9487, 217.02042)
[21:42:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(616.0116, 689.8516), shooter_id=874982148632, bullet_pos=(1206.9664, 58.016907)
[21:42:11] [INFO] [Bullet] Using shooter_position, distance=865,12585
[21:42:11] [INFO] [Bullet] Distance to wall: 865,12585 (58,90801% of viewport)
[21:42:11] [INFO] [Bullet] Distance-based penetration chance: 77,94066%
[21:42:11] [INFO] [Bullet] Starting wall penetration at (1206.9664, 58.016907)
[21:42:11] [INFO] [Bullet] Raycast backward hit penetrating body at distance 5,143194
[21:42:11] [INFO] [Bullet] Raycast backward hit penetrating body at distance 42,130623
[21:42:11] [INFO] [Bullet] Body exited signal received for penetrating body
[21:42:11] [INFO] [Bullet] Exiting penetration at (1224.3757, 27.53384) after traveling 30,104166 pixels through wall
[21:42:11] [INFO] [Bullet] Damage multiplier after penetration: 0,225
[21:42:11] [INFO] [Bullet] Body exited signal received for penetrating body
[21:42:11] [INFO] [Bullet] Exiting penetration at (1047.3203, 250.68077) after traveling 35,416668 pixels through wall
[21:42:11] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[21:42:11] [INFO] [BloodDecal] Blood puddle created at (957.9305, 146.4913) (added to group)
[21:42:11] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(896,105), corner_timer=-0.02
[21:42:11] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[21:42:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(567.6791, 690.59595), shooter_id=874982148632, bullet_pos=(1020.25574, 41.049683)
[21:42:11] [INFO] [Bullet] Using shooter_position, distance=791,6666
[21:42:11] [INFO] [Bullet] Distance to wall: 791,6666 (53,906036% of viewport)
[21:42:11] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(899,108), corner_timer=0.30
[21:42:11] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[21:42:11] [INFO] [BloodDecal] Blood puddle created at (1041.569, 176.0109) (added to group)
[21:42:11] [INFO] [BloodDecal] Blood puddle created at (975.3831, 92.5369) (added to group)
[21:42:11] [INFO] [BloodDecal] Blood puddle created at (1015.209, 93.95151) (added to group)
[21:42:11] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[21:42:11] [INFO] [BloodDecal] Blood puddle created at (1078.742, 129.6502) (added to group)
[21:42:11] [INFO] [BloodDecal] Blood puddle created at (958.9677, 101.6765) (added to group)
[21:42:11] [INFO] [BloodDecal] Blood puddle created at (1042.49, 117.1645) (added to group)
[21:42:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(567.6791, 690.59595), shooter_id=874982148632, bullet_pos=(1098.0198, 205.69186)
[21:42:11] [INFO] [Bullet] Using shooter_position, distance=718,60504
[21:42:11] [INFO] [Bullet] Distance to wall: 718,60504 (48,93114% of viewport)
[21:42:11] [INFO] [BloodDecal] Blood puddle created at (1016.244, 183.1823) (added to group)
[21:42:11] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:42:11] [INFO] [BloodDecal] Blood puddle created at (976.7627, 141.1721) (added to group)
[21:42:11] [INFO] [BloodDecal] Blood puddle created at (1014.904, 122.1601) (added to group)
[21:42:11] [ENEMY] [Enemy3] State: SUPPRESSED -> SEEKING_COVER
[21:42:11] [INFO] [BloodDecal] Blood puddle created at (1067.681, 220.1351) (added to group)
[21:42:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(567.6791, 690.59595), shooter_id=874982148632, bullet_pos=(1140.676, 56.135315)
[21:42:11] [INFO] [Bullet] Using shooter_position, distance=854,90686
[21:42:11] [INFO] [Bullet] Distance to wall: 854,90686 (58,212177% of viewport)
[21:42:11] [INFO] [Bullet] Distance-based penetration chance: 78,75246%
[21:42:11] [INFO] [Bullet] Starting wall penetration at (1140.676, 56.135315)
[21:42:11] [INFO] [Bullet] Raycast backward hit penetrating body at distance 10,006327
[21:42:11] [INFO] [Bullet] Body exited signal received for penetrating body
[21:42:11] [INFO] [Bullet] Exiting penetration at (1150.3044, 22.377409) after traveling 30,104166 pixels through wall
[21:42:11] [INFO] [Bullet] Damage multiplier after penetration: 0,225
[21:42:11] [INFO] [BloodDecal] Blood puddle created at (1059.888, 188.2122) (added to group)
[21:42:12] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(972,149), corner_timer=-0.02
[21:42:12] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[21:42:12] [ENEMY] [Enemy3] State: SEEKING_COVER -> IN_COVER
[21:42:12] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(974,149), corner_timer=0.30
[21:42:12] [ENEMY] [Enemy2] PURSUING corner check: angle -176.2°
[21:42:12] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[21:42:12] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:42:12] [INFO] [ReplayManager] Recording frame 420 (7,0s): player_valid=True, enemies=10
[21:42:12] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(986,153), corner_timer=-0.02
[21:42:12] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[21:42:12] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(986,153), corner_timer=0.30
[21:42:12] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:42:12] [ENEMY] [Enemy1] PURSUING corner check: angle 160.7°
[21:42:12] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(986,153), corner_timer=-0.02
[21:42:12] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[21:42:12] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(986,153), corner_timer=0.30
[21:42:12] [ENEMY] [Enemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-5.3°, current=-4.8°, player=(986,153), corner_timer=0.18
[21:42:12] [ENEMY] [Enemy1] State: PURSUING -> COMBAT
[21:42:12] [ENEMY] [Enemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-4.7°, current=71.7°, player=(986,153), corner_timer=0.18
[21:42:12] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:42:13] [ENEMY] [Enemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-2.4°, current=45.1°, player=(986,153), corner_timer=0.18
[21:42:13] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(986,153), corner_timer=-0.02
[21:42:13] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[21:42:13] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(986,153), corner_timer=0.30
[21:42:13] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:42:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(596.9744, 164.8236), source=ENEMY (Enemy1), range=1469, listeners=10
[21:42:13] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=5
[21:42:13] [INFO] [ReplayManager] Recording frame 480 (8,0s): player_valid=True, enemies=10
[21:42:13] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(986,153), corner_timer=-0.02
[21:42:13] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[21:42:13] [INFO] [LastChance] Threat detected: Bullet
[21:42:13] [INFO] [LastChance] Not in hard mode - effect disabled
[21:42:13] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:42:13] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(986,153), corner_timer=0.30
[21:42:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(634.2917, 163.7258), source=ENEMY (Enemy1), range=1469, listeners=10
[21:42:13] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=5
[21:42:13] [INFO] [Player] Hit blocked by invincibility mode (C#)
[21:42:13] [INFO] [Player] Spawning blood effect at (986.95593, 153.35072), dir=(1, 0), lethal=False (C#)
[21:42:13] [INFO] [ImpactEffects] spawn_blood_effect called at (986.9559, 153.3507), dir=(1, 0), lethal=false
[21:42:13] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:42:13] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:42:13] [INFO] [ImpactEffects] Blood effect spawned at (986.9559, 153.3507) (scale=1)
[21:42:13] [INFO] [LastChance] Threat detected: @Area2D@2085
[21:42:13] [INFO] [LastChance] Not in hard mode - effect disabled
[21:42:13] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:42:13] [ENEMY] [Enemy1] State: COMBAT -> RETREATING
[21:42:13] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:42:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(671.6091, 162.6279), source=ENEMY (Enemy1), range=1469, listeners=10
[21:42:13] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=5
[21:42:13] [INFO] [Player] Hit blocked by invincibility mode (C#)
[21:42:13] [INFO] [Player] Spawning blood effect at (986.95593, 153.35072), dir=(1, 0), lethal=False (C#)
[21:42:13] [INFO] [ImpactEffects] spawn_blood_effect called at (986.9559, 153.3507), dir=(1, 0), lethal=false
[21:42:13] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:42:13] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:42:13] [INFO] [ImpactEffects] Blood effect spawned at (986.9559, 153.3507) (scale=1)
[21:42:13] [INFO] [LastChance] Threat detected: Bullet
[21:42:13] [INFO] [LastChance] Not in hard mode - effect disabled
[21:42:13] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:42:13] [INFO] [Player] Hit blocked by invincibility mode (C#)
[21:42:13] [INFO] [Player] Spawning blood effect at (986.95593, 153.35072), dir=(1, 0), lethal=False (C#)
[21:42:13] [INFO] [ImpactEffects] spawn_blood_effect called at (986.9559, 153.3507), dir=(1, 0), lethal=false
[21:42:13] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:42:13] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:42:13] [INFO] [ImpactEffects] Blood effect spawned at (986.9559, 153.3507) (scale=1)
[21:42:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(668.254, 136.7109), source=ENEMY (Enemy1), range=1469, listeners=10
[21:42:13] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=5
[21:42:13] [INFO] [LastChance] Threat detected: @Area2D@2091
[21:42:13] [INFO] [LastChance] Not in hard mode - effect disabled
[21:42:13] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:42:13] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(986,153), corner_timer=-0.02
[21:42:13] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[21:42:13] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(986,153), corner_timer=0.30
[21:42:13] [INFO] [Player] Hit blocked by invincibility mode (C#)
[21:42:13] [INFO] [Player] Spawning blood effect at (986.95593, 153.35072), dir=(1, 0), lethal=False (C#)
[21:42:13] [INFO] [ImpactEffects] spawn_blood_effect called at (986.9559, 153.3507), dir=(1, 0), lethal=false
[21:42:13] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:42:13] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:42:13] [INFO] [ImpactEffects] Blood effect spawned at (986.9559, 153.3507) (scale=1)
[21:42:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(669.1267, 111.0651), source=ENEMY (Enemy1), range=1469, listeners=10
[21:42:13] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=5
[21:42:13] [INFO] [BloodDecal] Blood puddle created at (1047.84, 186.9642) (added to group)
[21:42:13] [INFO] [BloodDecal] Blood puddle created at (1040.733, 142.5153) (added to group)
[21:42:13] [INFO] [LastChance] Threat detected: Bullet
[21:42:13] [INFO] [LastChance] Not in hard mode - effect disabled
[21:42:13] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:42:13] [INFO] [BloodDecal] Blood puddle created at (1058.487, 140.25) (added to group)
[21:42:13] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:42:13] [INFO] [BloodDecal] Blood puddle created at (1068.496, 223.6659) (added to group)
[21:42:13] [INFO] [BloodDecal] Blood puddle created at (1062.94, 215.2291) (added to group)
[21:42:13] [INFO] [Player] Hit blocked by invincibility mode (C#)
[21:42:13] [INFO] [Player] Spawning blood effect at (986.95593, 153.35072), dir=(1, 0), lethal=False (C#)
[21:42:13] [INFO] [ImpactEffects] spawn_blood_effect called at (986.9559, 153.3507), dir=(1, 0), lethal=false
[21:42:13] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:42:13] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:42:13] [INFO] [ImpactEffects] Blood effect spawned at (986.9559, 153.3507) (scale=1)
[21:42:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(673.1465, 88.06865), source=ENEMY (Enemy1), range=1469, listeners=10
[21:42:13] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=5
[21:42:13] [ENEMY] [Enemy2] Warning: No valid flank position (both sides behind walls)
[21:42:13] [ENEMY] [Enemy2] FLANKING started: target=(979.4316, 353.2091), side=left, pos=(464.4365, 429.3563)
[21:42:13] [ENEMY] [Enemy2] State: PURSUING -> FLANKING
[21:42:13] [INFO] [BloodDecal] Blood puddle created at (1067.628, 238.1587) (added to group)
[21:42:13] [INFO] [BloodDecal] Blood puddle created at (1092.53, 201.2949) (added to group)
[21:42:13] [INFO] [BloodDecal] Blood puddle created at (1106.439, 159.4838) (added to group)
[21:42:13] [INFO] [BloodDecal] Blood puddle created at (1066.623, 143.9647) (added to group)
[21:42:13] [INFO] [LastChance] Threat detected: @Area2D@2100
[21:42:13] [INFO] [LastChance] Not in hard mode - effect disabled
[21:42:13] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:42:13] [ENEMY] [Enemy2] FLANKING corner check: angle -177.4°
[21:42:14] [INFO] [BloodyFeet:Enemy1] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[21:42:14] [INFO] [BloodDecal] Blood puddle created at (1091.439, 173.1604) (added to group)
[21:42:14] [INFO] [BloodDecal] Blood puddle created at (1114.521, 140.1735) (added to group)
[21:42:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(668.9968, 104.4335), source=ENEMY (Enemy1), range=1469, listeners=10
[21:42:14] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=5
[21:42:14] [INFO] [BloodDecal] Blood puddle created at (1166.521, 189.9692) (added to group)
[21:42:14] [INFO] [BloodDecal] Blood puddle created at (1118.196, 195.3859) (added to group)
[21:42:14] [INFO] [BloodDecal] Blood puddle created at (1113.752, 193.7059) (added to group)
[21:42:14] [INFO] [BloodDecal] Blood puddle created at (1072.981, 231.6857) (added to group)
[21:42:14] [INFO] [BloodDecal] Blood puddle created at (1108.018, 127.2258) (added to group)
[21:42:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(737.228, 109.34831), shooter_id=874277506147, bullet_pos=(1097.7532, 212.5308)
[21:42:14] [INFO] [Bullet] Using shooter_position, distance=375,00003
[21:42:14] [INFO] [Bullet] Distance to wall: 375,00003 (25,534443% of viewport)
[21:42:14] [INFO] [Bullet] Within ricochet range - trying ricochet first
[21:42:14] [INFO] [Bullet] Starting wall penetration at (1097.7532, 212.5308)
[21:42:14] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(986,153), corner_timer=-0.02
[21:42:14] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[21:42:14] [INFO] [Bullet] Raycast backward hit penetrating body at distance 19,36605
[21:42:14] [INFO] [LastChance] Threat detected: Bullet
[21:42:14] [INFO] [LastChance] Not in hard mode - effect disabled
[21:42:14] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:42:14] [INFO] [Bullet] Body exited signal received for penetrating body
[21:42:14] [INFO] [Bullet] Exiting penetration at (1142.6185, 225.37129) after traveling 41,66667 pixels through wall
[21:42:14] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[21:42:14] [ENEMY] [Enemy3] State: SUPPRESSED -> IN_COVER
[21:42:14] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(986,153), corner_timer=0.30
[21:42:14] [INFO] [BloodDecal] Blood puddle created at (1044.22, 160.8696) (added to group)
[21:42:14] [INFO] [BloodDecal] Blood puddle created at (1055.333, 188.0327) (added to group)
[21:42:14] [ENEMY] [Enemy3] State: IN_COVER -> PURSUING
[21:42:14] [ENEMY] [Enemy3] ROT_CHANGE: P4:velocity -> P2:combat_state, state=PURSUING, target=-47.2°, current=155.5°, player=(986,153), corner_timer=0.00
[21:42:14] [INFO] [BloodDecal] Blood puddle created at (1105.032, 194.0034) (added to group)
[21:42:14] [INFO] [BloodDecal] Blood puddle created at (1099.68, 193.2588) (added to group)
[21:42:14] [INFO] [Player] Hit blocked by invincibility mode (C#)
[21:42:14] [INFO] [Player] Spawning blood effect at (986.95593, 153.35072), dir=(1, 0), lethal=False (C#)
[21:42:14] [INFO] [ImpactEffects] spawn_blood_effect called at (986.9559, 153.3507), dir=(1, 0), lethal=false
[21:42:14] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:42:14] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:42:14] [INFO] [ImpactEffects] Blood effect spawned at (986.9559, 153.3507) (scale=1)
[21:42:14] [INFO] [BloodDecal] Blood puddle created at (1100.696, 191.0154) (added to group)
[21:42:14] [INFO] [BloodDecal] Blood puddle created at (1050.105, 200.1901) (added to group)
[21:42:14] [INFO] [BloodDecal] Blood puddle created at (1028.024, 156.3185) (added to group)
[21:42:14] [INFO] [BloodDecal] Blood puddle created at (1137.773, 182.5314) (added to group)
[21:42:14] [INFO] [BloodDecal] Blood puddle created at (1113.828, 201.9999) (added to group)
[21:42:14] [INFO] [BloodDecal] Blood puddle created at (1070.39, 128.1421) (added to group)
[21:42:14] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:42:14] [INFO] [BloodDecal] Blood puddle created at (1050.935, 167.4358) (added to group)
[21:42:14] [INFO] [BloodDecal] Blood puddle created at (1052.177, 148.3988) (added to group)
[21:42:14] [INFO] [BloodDecal] Blood puddle created at (1080.23, 144.7428) (added to group)
[21:42:14] [ENEMY] [Enemy2] FLANKING corner check: angle -177.4°
[21:42:14] [INFO] [BloodDecal] Blood puddle created at (1158.279, 167.252) (added to group)
[21:42:14] [INFO] [ReplayManager] Recording frame 540 (9,0s): player_valid=True, enemies=10
[21:42:14] [INFO] [BloodDecal] Blood puddle created at (1103.369, 188.2661) (added to group)
[21:42:14] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(983,153), corner_timer=-0.02
[21:42:14] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[21:42:14] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(981,153), corner_timer=0.30
[21:42:14] [INFO] [BloodDecal] Blood puddle created at (1031.575, 173.4419) (added to group)
[21:42:14] [INFO] [BloodDecal] Blood puddle created at (1046.78, 178.6397) (added to group)
[21:42:14] [INFO] [BloodDecal] Blood puddle created at (1138.251, 190.3534) (added to group)
[21:42:14] [INFO] [BloodDecal] Blood puddle created at (1216.257, 232.3635) (added to group)
[21:42:14] [INFO] [BloodDecal] Blood puddle created at (1099.326, 188.1573) (added to group)
[21:42:14] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:42:14] [INFO] [BloodDecal] Blood puddle created at (1088.535, 179.8661) (added to group)
[21:42:14] [INFO] [BloodDecal] Blood puddle created at (1057.97, 166.7877) (added to group)
[21:42:14] [INFO] [BloodDecal] Blood puddle created at (1191.816, 224.6054) (added to group)
[21:42:14] [INFO] [BloodDecal] Blood puddle created at (1119.569, 198.3532) (added to group)
[21:42:14] [INFO] [BloodDecal] Blood puddle created at (1059.011, 168.6364) (added to group)
[21:42:14] [ENEMY] [Enemy2] FLANKING corner check: angle -168.6°
[21:42:14] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=-4.1°, current=0.9°, player=(936,168), corner_timer=0.30
[21:42:14] [ENEMY] [Enemy2] State: FLANKING -> COMBAT
[21:42:14] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-2.7°, current=72.4°, player=(928,175), corner_timer=0.30
[21:42:14] [INFO] [BloodDecal] Blood puddle created at (1127.349, 201.4394) (added to group)
[21:42:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(825.0203, 88.83694), source=ENEMY (Enemy1), range=1469, listeners=10
[21:42:14] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=5
[21:42:14] [INFO] [LastChance] Threat detected: Bullet
[21:42:14] [INFO] [LastChance] Not in hard mode - effect disabled
[21:42:14] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:42:14] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(917,186), corner_timer=-0.02
[21:42:14] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[21:42:14] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(913,190), corner_timer=0.30
[21:42:14] [INFO] [Player] Hit blocked by invincibility mode (C#)
[21:42:14] [INFO] [Player] Spawning blood effect at (909.39825, 194.57492), dir=(1, 0), lethal=False (C#)
[21:42:14] [INFO] [ImpactEffects] spawn_blood_effect called at (909.3983, 194.5749), dir=(1, 0), lethal=false
[21:42:14] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:42:14] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:42:14] [INFO] [ImpactEffects] Blood effect spawned at (909.3983, 194.5749) (scale=1)
[21:42:14] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=4.3°, current=52.9°, player=(893,210), corner_timer=0.30
[21:42:14] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:42:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(858.4614, 90.48795), source=ENEMY (Enemy1), range=1469, listeners=10
[21:42:14] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=5
[21:42:15] [INFO] [LastChance] Threat detected: Bullet
[21:42:15] [INFO] [LastChance] Not in hard mode - effect disabled
[21:42:15] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:42:15] [INFO] [Player] Hit blocked by invincibility mode (C#)
[21:42:15] [INFO] [Player] Spawning blood effect at (851.06177, 252.91118), dir=(1, 0), lethal=False (C#)
[21:42:15] [INFO] [ImpactEffects] spawn_blood_effect called at (851.0618, 252.9112), dir=(1, 0), lethal=false
[21:42:15] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:42:15] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:42:15] [INFO] [ImpactEffects] Blood effect spawned at (851.0618, 252.9112) (scale=1)
[21:42:15] [INFO] [BloodDecal] Blood puddle created at (958.9027, 209.2469) (added to group)
[21:42:15] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(839,264), corner_timer=-0.02
[21:42:15] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[21:42:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(881.5804, 102.3096), source=ENEMY (Enemy1), range=1469, listeners=10
[21:42:15] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=5
[21:42:15] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(835,268), corner_timer=0.30
[21:42:15] [INFO] [LastChance] Threat detected: Bullet
[21:42:15] [INFO] [LastChance] Not in hard mode - effect disabled
[21:42:15] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:42:15] [INFO] [Player] Hit blocked by invincibility mode (C#)
[21:42:15] [INFO] [Player] Spawning blood effect at (819.949, 284.02396), dir=(1, 0), lethal=False (C#)
[21:42:15] [INFO] [ImpactEffects] spawn_blood_effect called at (819.949, 284.024), dir=(1, 0), lethal=false
[21:42:15] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:42:15] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:42:15] [INFO] [ImpactEffects] Blood effect spawned at (819.949, 284.024) (scale=1)
[21:42:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(593.6696, 188.7258), source=ENEMY (Enemy2), range=1469, listeners=10
[21:42:15] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=5
[21:42:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(905.369, 113.129), source=ENEMY (Enemy1), range=1469, listeners=10
[21:42:15] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=5
[21:42:15] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:42:15] [INFO] [LastChance] Threat detected: Bullet
[21:42:15] [INFO] [LastChance] Not in hard mode - effect disabled
[21:42:15] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:42:15] [INFO] [LastChance] Threat detected: @Area2D@2150
[21:42:15] [INFO] [LastChance] Not in hard mode - effect disabled
[21:42:15] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:42:15] [INFO] [Player] Hit blocked by invincibility mode (C#)
[21:42:15] [INFO] [Player] Spawning blood effect at (792.7253, 311.24765), dir=(1, 0), lethal=False (C#)
[21:42:15] [INFO] [ImpactEffects] spawn_blood_effect called at (792.7253, 311.2477), dir=(1, 0), lethal=false
[21:42:15] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:42:15] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:42:15] [INFO] [ImpactEffects] Blood effect spawned at (792.7253, 311.2477) (scale=1)
[21:42:15] [INFO] [BloodDecal] Blood puddle created at (898.6979, 287.7391) (added to group)
[21:42:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(593.6696, 188.7258), source=ENEMY (Enemy2), range=1469, listeners=10
[21:42:15] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=5
[21:42:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(929.1577, 123.9484), source=ENEMY (Enemy1), range=1469, listeners=10
[21:42:15] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=5
[21:42:15] [INFO] [LastChance] Threat detected: Bullet
[21:42:15] [INFO] [LastChance] Not in hard mode - effect disabled
[21:42:15] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:42:15] [INFO] [ReplayManager] Recording frame 600 (10,0s): player_valid=True, enemies=10
[21:42:15] [INFO] [LastChance] Threat detected: @Area2D@2156
[21:42:15] [INFO] [LastChance] Not in hard mode - effect disabled
[21:42:15] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:42:15] [INFO] [BloodDecal] Blood puddle created at (928.6714, 256.054) (added to group)
[21:42:15] [INFO] [BloodDecal] Blood puddle created at (976.5825, 334.433) (added to group)
[21:42:15] [INFO] [BloodDecal] Blood puddle created at (862.8906, 276.8191) (added to group)
[21:42:15] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[21:42:15] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(761,342), corner_timer=-0.02
[21:42:15] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[21:42:15] [INFO] [Player] Hit blocked by invincibility mode (C#)
[21:42:15] [INFO] [Player] Spawning blood effect at (757.7234, 346.24954), dir=(1, 0), lethal=False (C#)
[21:42:15] [INFO] [ImpactEffects] spawn_blood_effect called at (757.7234, 346.2495), dir=(1, 0), lethal=false
[21:42:15] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:42:15] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:42:15] [INFO] [ImpactEffects] Blood effect spawned at (757.7234, 346.2495) (scale=1)
[21:42:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(593.6696, 188.7258), source=ENEMY (Enemy2), range=1469, listeners=10
[21:42:15] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=5
[21:42:15] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(757,346), corner_timer=0.30
[21:42:15] [INFO] [BloodDecal] Blood puddle created at (912.755, 279.4235) (added to group)
[21:42:15] [INFO] [BloodDecal] Blood puddle created at (870.2966, 307.8384) (added to group)
[21:42:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(952.9463, 134.7679), source=ENEMY (Enemy1), range=1469, listeners=10
[21:42:15] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=5
[21:42:15] [INFO] [LastChance] Threat detected: Bullet
[21:42:15] [INFO] [LastChance] Not in hard mode - effect disabled
[21:42:15] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:42:15] [INFO] [BloodDecal] Blood puddle created at (1003.12, 342.7204) (added to group)
[21:42:15] [INFO] [BloodDecal] Blood puddle created at (964.3525, 323.7819) (added to group)
[21:42:15] [INFO] [BloodDecal] Blood puddle created at (887.9175, 289.3318) (added to group)
[21:42:15] [INFO] [BloodDecal] Blood puddle created at (932.8605, 327.6155) (added to group)
[21:42:15] [INFO] [BloodDecal] Blood puddle created at (956.5303, 318.9759) (added to group)
[21:42:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(573.4424, 204.4598), source=ENEMY (Enemy2), range=1469, listeners=10
[21:42:15] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=5
[21:42:15] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:42:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(976.7349, 145.5872), source=ENEMY (Enemy1), range=1469, listeners=10
[21:42:15] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=1, below_threshold=6
[21:42:15] [INFO] [BloodDecal] Blood puddle created at (883.5706, 332.6806) (added to group)
[21:42:15] [INFO] [BloodDecal] Blood puddle created at (874.4515, 304.3611) (added to group)
[21:42:15] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(880.41565, 176.65747), shooter_id=874277506147, bullet_pos=(517.23895, 972.7282)
[21:42:15] [INFO] [Bullet] Using shooter_position, distance=875,00055
[21:42:15] [INFO] [Bullet] Distance to wall: 875,00055 (59,5804% of viewport)
[21:42:15] [INFO] [LastChance] Threat detected: Bullet
[21:42:15] [INFO] [LastChance] Not in hard mode - effect disabled
[21:42:15] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:42:15] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(880.41565, 176.65747), shooter_id=874277506147, bullet_pos=(529.9824, 1011.08325)
[21:42:15] [INFO] [Bullet] Using shooter_position, distance=905,0248
[21:42:15] [INFO] [Bullet] Distance to wall: 905,0248 (61,6248% of viewport)
[21:42:15] [INFO] [BloodDecal] Blood puddle created at (921.0217, 370.5385) (added to group)
[21:42:15] [INFO] [BloodDecal] Blood puddle created at (884.8286, 305.2091) (added to group)
[21:42:15] [INFO] [Player] Hit blocked by invincibility mode (C#)
[21:42:15] [INFO] [Player] Spawning blood effect at (711.0542, 392.91873), dir=(1, 0), lethal=False (C#)
[21:42:15] [INFO] [ImpactEffects] spawn_blood_effect called at (711.0542, 392.9187), dir=(1, 0), lethal=false
[21:42:15] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:42:15] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:42:15] [INFO] [ImpactEffects] Blood effect spawned at (711.0542, 392.9187) (scale=1)
[21:42:15] [ENEMY] [Enemy3] FLANKING started: target=(786.7356, 578.0466), side=left, pos=(437.4385, 746.1077)
[21:42:15] [ENEMY] [Enemy3] State: PURSUING -> FLANKING
[21:42:15] [INFO] [BloodDecal] Blood puddle created at (963.675, 377.0126) (added to group)
[21:42:15] [INFO] [BloodDecal] Blood puddle created at (909.8133, 368.9507) (added to group)
[21:42:15] [INFO] [LastChance] Threat detected: @Area2D@2173
[21:42:15] [INFO] [LastChance] Not in hard mode - effect disabled
[21:42:15] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:42:15] [ENEMY] [Enemy3] FLANKING corner check: angle 111.5°
[21:42:15] [INFO] [BloodDecal] Blood puddle created at (992.4877, 324.9428) (added to group)
[21:42:15] [INFO] [BloodDecal] Blood puddle created at (875.5552, 359.4107) (added to group)
[21:42:15] [INFO] [BloodDecal] Blood puddle created at (837.7802, 358.143) (added to group)
[21:42:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(996.1037, 162.8152), source=ENEMY (Enemy1), range=1469, listeners=10
[21:42:15] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=1, below_threshold=6
[21:42:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(567.3196, 224.8821), source=ENEMY (Enemy2), range=1469, listeners=10
[21:42:15] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=4
[21:42:15] [INFO] [LastChance] Threat detected: @Area2D@2189
[21:42:15] [INFO] [LastChance] Not in hard mode - effect disabled
[21:42:15] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:42:15] [INFO] [Player] Hit blocked by invincibility mode (C#)
[21:42:15] [INFO] [Player] Spawning blood effect at (691.6087, 412.36423), dir=(1, 0), lethal=False (C#)
[21:42:15] [INFO] [ImpactEffects] spawn_blood_effect called at (691.6087, 412.3642), dir=(1, 0), lethal=false
[21:42:15] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:42:15] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:42:15] [INFO] [ImpactEffects] Blood effect spawned at (691.6087, 412.3642) (scale=1)
[21:42:15] [ENEMY] [Enemy4] Hit: dmg=1, hp=3/3->2/3
[21:42:15] [INFO] [ImpactEffects] spawn_blood_effect called at (529.866, 703.7186), dir=(1, 0), lethal=false
[21:42:15] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:42:15] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:42:15] [INFO] [ImpactEffects] Blood effect spawned at (529.866, 703.7186) (scale=1)
[21:42:15] [ENEMY] [Enemy4] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=-94.0°, current=180.0°, player=(691,412), corner_timer=0.02
[21:42:15] [INFO] [BloodDecal] Blood puddle created at (1020.957, 385.1852) (added to group)
[21:42:15] [INFO] [BloodDecal] Blood puddle created at (921.8492, 377.5902) (added to group)
[21:42:15] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(683,420), corner_timer=-0.02
[21:42:15] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[21:42:15] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(680,424), corner_timer=0.30
[21:42:15] [INFO] [LastChance] Threat detected: Bullet
[21:42:15] [INFO] [LastChance] Not in hard mode - effect disabled
[21:42:15] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:42:15] [ENEMY] [Enemy1] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=160.7°, current=143.2°, player=(676,428), corner_timer=0.18
[21:42:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(556.7644, 201.1029), source=ENEMY (Enemy2), range=1469, listeners=10
[21:42:15] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=4
[21:42:15] [INFO] [BloodDecal] Blood puddle created at (1035.17, 388.1929) (added to group)
[21:42:15] [INFO] [BloodDecal] Blood puddle created at (1015.05, 469.4379) (added to group)
[21:42:15] [INFO] [BloodDecal] Blood puddle created at (955.6481, 397.1195) (added to group)
[21:42:15] [INFO] [BloodDecal] Blood puddle created at (889.9936, 347.336) (added to group)
[21:42:15] [INFO] [BloodDecal] Blood puddle created at (868.8612, 437.0308) (added to group)
[21:42:15] [INFO] [BloodDecal] Blood puddle created at (870.4084, 434.7069) (added to group)
[21:42:15] [INFO] [LastChance] Threat detected: @Area2D@2196
[21:42:15] [INFO] [LastChance] Not in hard mode - effect disabled
[21:42:15] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:42:15] [INFO] [BloodDecal] Blood puddle created at (1026.401, 451.4252) (added to group)
[21:42:15] [INFO] [BloodDecal] Blood puddle created at (953.7416, 410.1407) (added to group)
[21:42:15] [INFO] [BloodDecal] Blood puddle created at (961.9738, 450.0371) (added to group)
[21:42:15] [INFO] [BloodDecal] Blood puddle created at (753.1493, 400.0171) (added to group)
[21:42:15] [INFO] [BloodDecal] Blood puddle created at (753.2726, 403.2518) (added to group)
[21:42:15] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(600.70624, 283.43744), shooter_id=874629827704, bullet_pos=(915.28784, 616.76587)
[21:42:15] [INFO] [Bullet] Using shooter_position, distance=458,3333
[21:42:15] [INFO] [Bullet] Distance to wall: 458,3333 (31,20876% of viewport)
[21:42:15] [INFO] [Bullet] Within ricochet range - trying ricochet first
[21:42:15] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:42:15] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(948.5747, 211.60385), shooter_id=874277506147, bullet_pos=(527.22925, 480.80298)
[21:42:15] [INFO] [Bullet] Using shooter_position, distance=500,00018
[21:42:15] [INFO] [Bullet] Distance to wall: 500,00018 (34,045933% of viewport)
[21:42:15] [INFO] [Bullet] Within ricochet range - trying ricochet first
[21:42:15] [INFO] [Player] Hit blocked by invincibility mode (C#)
[21:42:15] [INFO] [Player] Spawning blood effect at (662.68695, 460.88443), dir=(1, 0), lethal=False (C#)
[21:42:15] [INFO] [ImpactEffects] spawn_blood_effect called at (662.687, 460.8844), dir=(1, 0), lethal=false
[21:42:15] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:42:15] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:42:15] [INFO] [ImpactEffects] Blood effect spawned at (662.687, 460.8844) (scale=1)
[21:42:15] [ENEMY] [Enemy1] State: RETREATING -> IN_COVER
[21:42:15] [INFO] [BloodDecal] Blood puddle created at (908.2332, 442.8081) (added to group)
[21:42:15] [INFO] [BloodDecal] Blood puddle created at (871.4422, 421.0946) (added to group)
[21:42:15] [INFO] [BloodDecal] Blood puddle created at (763.8719, 402.7468) (added to group)
[21:42:15] [INFO] [BloodDecal] Blood puddle created at (756.8759, 417.0881) (added to group)
[21:42:15] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[21:42:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(548.1502, 176.4302), source=ENEMY (Enemy2), range=1469, listeners=10
[21:42:15] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=4
[21:42:15] [ENEMY] [Enemy3] State: FLANKING -> RETREATING
[21:42:15] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=111.5°, current=170.7°, player=(661,471), corner_timer=0.07
[21:42:15] [INFO] [BloodDecal] Blood puddle created at (903.6569, 346.8113) (added to group)
[21:42:15] [INFO] [BloodDecal] Blood puddle created at (859.7982, 415.841) (added to group)
[21:42:15] [INFO] [BloodDecal] Blood puddle created at (924.8866, 478.3868) (added to group)
[21:42:15] [INFO] [BloodDecal] Blood puddle created at (922.0591, 345.0183) (added to group)
[21:42:15] [INFO] [LastChance] Threat detected: @Area2D@2216
[21:42:15] [INFO] [LastChance] Not in hard mode - effect disabled
[21:42:15] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:42:16] [INFO] [BloodDecal] Blood puddle created at (920.7735, 447.5468) (added to group)
[21:42:16] [INFO] [BloodDecal] Blood puddle created at (814.7924, 381.4435) (added to group)
[21:42:16] [INFO] [BloodDecal] Blood puddle created at (741.2504, 417.8785) (added to group)
[21:42:16] [INFO] [BloodDecal] Blood puddle created at (782.6862, 405.4122) (added to group)
[21:42:16] [INFO] [BloodDecal] Blood puddle created at (616.7377, 750.0599) (added to group)
[21:42:16] [INFO] [BloodDecal] Blood puddle created at (616.166, 735.4708) (added to group)
[21:42:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(523.2819, 168.3972), source=ENEMY (Enemy2), range=1469, listeners=10
[21:42:16] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=5
[21:42:16] [INFO] [BloodDecal] Blood puddle created at (845.6115, 461.659) (added to group)
[21:42:16] [INFO] [BloodDecal] Blood puddle created at (761.7625, 432.4396) (added to group)
[21:42:16] [INFO] [BloodDecal] Blood puddle created at (858.9994, 408.1342) (added to group)
[21:42:16] [INFO] [BloodDecal] Blood puddle created at (842.2346, 473.9983) (added to group)
[21:42:16] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(661,520), corner_timer=-0.02
[21:42:16] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[21:42:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(948.5747, 211.60385), shooter_id=874277506147, bullet_pos=(922.71265, 649.6012)
[21:42:16] [INFO] [Bullet] Using shooter_position, distance=438,7602
[21:42:16] [INFO] [Bullet] Distance to wall: 438,7602 (29,875988% of viewport)
[21:42:16] [INFO] [Bullet] Within ricochet range - trying ricochet first
[21:42:16] [INFO] [Bullet] Starting wall penetration at (922.71265, 649.6012)
[21:42:16] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(661,526), corner_timer=0.30
[21:42:16] [INFO] [Bullet] Raycast backward hit penetrating body at distance 25,96961
[21:42:16] [INFO] [Bullet] Body exited signal received for penetrating body
[21:42:16] [INFO] [Bullet] Exiting penetration at (959.885, 665.4669) after traveling 35,416668 pixels through wall
[21:42:16] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[21:42:16] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=-168.6°, current=67.1°, player=(661,531), corner_timer=0.30
[21:42:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(600.70624, 283.43744), shooter_id=874629827704, bullet_pos=(506.96683, 964.3836)
[21:42:16] [INFO] [Bullet] Using shooter_position, distance=687,368
[21:42:16] [INFO] [Bullet] Distance to wall: 687,368 (46,80415% of viewport)
[21:42:16] [INFO] [LastChance] Threat detected: @Area2D@2229
[21:42:16] [INFO] [LastChance] Not in hard mode - effect disabled
[21:42:16] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:42:16] [INFO] [BloodDecal] Blood puddle created at (844.0488, 469.7092) (added to group)
[21:42:16] [INFO] [BloodDecal] Blood puddle created at (788.3476, 429.3842) (added to group)
[21:42:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(600.70624, 283.43744), shooter_id=874629827704, bullet_pos=(562.51263, 998.5418)
[21:42:16] [INFO] [Bullet] Using shooter_position, distance=716,1236
[21:42:16] [INFO] [Bullet] Distance to wall: 716,1236 (48,762177% of viewport)
[21:42:16] [INFO] [BloodDecal] Blood puddle created at (870.5997, 423.0594) (added to group)
[21:42:16] [INFO] [BloodDecal] Blood puddle created at (710.9691, 488.1436) (added to group)
[21:42:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(565.5724, 242.1369), shooter_id=874629827704, bullet_pos=(731.3799, 844.7423)
[21:42:16] [INFO] [Bullet] Using shooter_position, distance=625,0003
[21:42:16] [INFO] [Bullet] Distance to wall: 625,0003 (42,557423% of viewport)
[21:42:16] [INFO] [Player] Hit blocked by invincibility mode (C#)
[21:42:16] [INFO] [Player] Spawning blood effect at (661.1824, 553.7612), dir=(1, 0), lethal=False (C#)
[21:42:16] [INFO] [ImpactEffects] spawn_blood_effect called at (661.1824, 553.7612), dir=(1, 0), lethal=false
[21:42:16] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:42:16] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:42:16] [INFO] [ImpactEffects] Blood effect spawned at (661.1824, 553.7612) (scale=1)
[21:42:16] [INFO] [BloodDecal] Blood puddle created at (658.6592, 738.3441) (added to group)
[21:42:16] [INFO] [BloodDecal] Blood puddle created at (767.3691, 451.0828) (added to group)
[21:42:16] [INFO] [BloodDecal] Blood puddle created at (739.0728, 458.5927) (added to group)
[21:42:16] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[21:42:16] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:42:16] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[21:42:16] [INFO] [BloodDecal] Blood puddle created at (827.0002, 518.1551) (added to group)
[21:42:16] [INFO] [BloodDecal] Blood puddle created at (739.1545, 492.2413) (added to group)
[21:42:16] [INFO] [BloodDecal] Blood puddle created at (846.7326, 482.4934) (added to group)
[21:42:16] [INFO] [BloodDecal] Blood puddle created at (809.4246, 461.6969) (added to group)
[21:42:16] [INFO] [BloodDecal] Blood puddle created at (712.3242, 756.0746) (added to group)
[21:42:16] [INFO] [BloodDecal] Blood puddle created at (762.7662, 477.7066) (added to group)
[21:42:16] [INFO] [BloodDecal] Blood puddle created at (860.8652, 539.4744) (added to group)
[21:42:16] [INFO] [BloodDecal] Blood puddle created at (651.4625, 782.1949) (added to group)
[21:42:16] [INFO] [ReplayManager] Recording frame 660 (11,0s): player_valid=True, enemies=10
[21:42:16] [INFO] [BloodDecal] Blood puddle created at (775.9502, 511.2045) (added to group)
[21:42:16] [INFO] [BloodDecal] Blood puddle created at (906.4351, 623.0269) (added to group)
[21:42:16] [INFO] [BloodDecal] Blood puddle created at (800.0798, 493.3206) (added to group)
[21:42:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(600.70624, 283.43744), shooter_id=874629827704, bullet_pos=(908.642, 821.39355)
[21:42:16] [INFO] [Bullet] Using shooter_position, distance=619,85583
[21:42:16] [INFO] [Bullet] Distance to wall: 619,85583 (42,207127% of viewport)
[21:42:16] [INFO] [Bullet] Distance-based penetration chance: 97,42502%
[21:42:16] [INFO] [Bullet] Starting wall penetration at (908.642, 821.39355)
[21:42:16] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[21:42:16] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(661,630), corner_timer=-0.02
[21:42:16] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[21:42:16] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[21:42:16] [INFO] [Bullet] Exiting penetration at (935.8715, 807.4576) after traveling 25,588543 pixels through wall
[21:42:16] [INFO] [Bullet] Damage multiplier after penetration: 0,1125
[21:42:16] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[21:42:16] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(661,636), corner_timer=0.30
[21:42:16] [INFO] [BloodDecal] Blood puddle created at (903.4083, 478.2131) (added to group)
[21:42:16] [INFO] [BloodDecal] Blood puddle created at (709.2175, 802.9725) (added to group)
[21:42:16] [ENEMY] [Enemy4] State: SUPPRESSED -> SEEKING_COVER
[21:42:16] [INFO] [BloodDecal] Blood puddle created at (825.9629, 516.9645) (added to group)
[21:42:16] [ENEMY] [Enemy4] State: SEEKING_COVER -> IN_COVER
[21:42:16] [INFO] [BloodDecal] Blood puddle created at (827.201, 593.5919) (added to group)
[21:42:16] [INFO] [BloodDecal] Blood puddle created at (782.8282, 560.1476) (added to group)
[21:42:16] [INFO] [BloodDecal] Blood puddle created at (767.7527, 543.4783) (added to group)
[21:42:16] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[21:42:16] [INFO] [BloodDecal] Blood puddle created at (752.265, 543.5598) (added to group)
[21:42:16] [ENEMY] [Enemy4] State: SUPPRESSED -> SEEKING_COVER
[21:42:16] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:42:16] [INFO] [BloodDecal] Blood puddle created at (840.9162, 653.7606) (added to group)
[21:42:16] [INFO] [BloodDecal] Blood puddle created at (740.6992, 558.6429) (added to group)
[21:42:16] [ENEMY] [Enemy4] State: SEEKING_COVER -> IN_COVER
[21:42:16] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[21:42:16] [INFO] [BloodDecal] Blood puddle created at (807.5062, 605.994) (added to group)
[21:42:16] [ENEMY] [Enemy4] State: SUPPRESSED -> SEEKING_COVER
[21:42:16] [ENEMY] [Enemy4] State: SEEKING_COVER -> IN_COVER
[21:42:16] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[21:42:16] [ENEMY] [Enemy4] State: SUPPRESSED -> SEEKING_COVER
[21:42:16] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(662,740), corner_timer=-0.02
[21:42:16] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[21:42:16] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(663,745), corner_timer=0.30
[21:42:16] [INFO] [BloodDecal] Blood puddle created at (817.2631, 608.0453) (added to group)
[21:42:16] [ENEMY] [Enemy4] State: SEEKING_COVER -> IN_COVER
[21:42:16] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[21:42:16] [INFO] [BloodDecal] Blood puddle created at (810.5931, 637.8885) (added to group)
[21:42:16] [INFO] [BloodDecal] Blood puddle created at (758.1691, 696.8132) (added to group)
[21:42:16] [INFO] [BloodDecal] Blood puddle created at (851.6497, 747.6212) (added to group)
[21:42:16] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:42:16] [INFO] [BloodDecal] Blood puddle created at (865.6069, 689.8046) (added to group)
[21:42:16] [INFO] [BloodDecal] Blood puddle created at (789.3087, 690.5375) (added to group)
[21:42:16] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[21:42:16] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[21:42:17] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(728,793), corner_timer=-0.02
[21:42:17] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[21:42:17] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(734,793), corner_timer=0.30
[21:42:17] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:42:17] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[21:42:17] [INFO] [ReplayManager] Recording frame 720 (12,0s): player_valid=True, enemies=10
[21:42:17] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(826,780), corner_timer=-0.02
[21:42:17] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[21:42:17] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(829,777), corner_timer=0.30
[21:42:17] [ENEMY] [Enemy2] State: SEEKING_COVER -> IN_COVER
[21:42:17] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[21:42:17] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[21:42:17] [ENEMY] [Enemy2] State: SEEKING_COVER -> IN_COVER
[21:42:17] [ENEMY] [Enemy3] State: SUPPRESSED -> SEEKING_COVER
[21:42:17] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:42:17] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[21:42:17] [ENEMY] [Enemy3] State: SEEKING_COVER -> IN_COVER
[21:42:17] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[21:42:17] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[21:42:17] [ENEMY] [Enemy3] State: SUPPRESSED -> SEEKING_COVER
[21:42:17] [ENEMY] [Enemy3] State: SEEKING_COVER -> IN_COVER
[21:42:17] [ENEMY] [Enemy2] State: SEEKING_COVER -> IN_COVER
[21:42:17] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[21:42:17] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[21:42:17] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(881,705), corner_timer=-0.02
[21:42:17] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[21:42:17] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(885,701), corner_timer=0.30
[21:42:17] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[21:42:17] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:42:17] [ENEMY] [Enemy3] State: SUPPRESSED -> SEEKING_COVER
[21:42:17] [ENEMY] [Enemy2] State: SEEKING_COVER -> IN_COVER
[21:42:17] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[21:42:17] [ENEMY] [Enemy3] State: SEEKING_COVER -> IN_COVER
[21:42:17] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[21:42:18] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(895,627), corner_timer=-0.02
[21:42:18] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[21:42:18] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[21:42:18] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(895,623), corner_timer=0.30
[21:42:18] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:42:18] [ENEMY] [Enemy1] State: SUPPRESSED -> IN_COVER
[21:42:18] [ENEMY] [Enemy1] State: IN_COVER -> PURSUING
[21:42:18] [ENEMY] [Enemy2] State: SEEKING_COVER -> IN_COVER
[21:42:18] [ENEMY] [Enemy3] State: SUPPRESSED -> SEEKING_COVER
[21:42:18] [ENEMY] [Enemy1] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=109.1°, current=160.7°, player=(897,591), corner_timer=0.18
[21:42:18] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[21:42:18] [ENEMY] [Enemy3] State: SEEKING_COVER -> IN_COVER
[21:42:18] [ENEMY] [Enemy4] State: SUPPRESSED -> IN_COVER
[21:42:18] [ENEMY] [Enemy3] State: IN_COVER -> PURSUING
[21:42:18] [ENEMY] [Enemy4] State: IN_COVER -> PURSUING
[21:42:18] [ENEMY] [Enemy3] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=-31.1°, current=58.7°, player=(902,584), corner_timer=0.07
[21:42:18] [ENEMY] [Enemy4] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=7.4°, current=-94.0°, player=(902,584), corner_timer=0.02
[21:42:18] [INFO] [ReplayManager] Recording frame 780 (13,0s): player_valid=True, enemies=10
[21:42:18] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[21:42:18] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(918,575), corner_timer=-0.02
[21:42:18] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[21:42:18] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(922,574), corner_timer=0.30
[21:42:18] [ENEMY] [Enemy2] State: SEEKING_COVER -> IN_COVER
[21:42:18] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[21:42:18] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[21:42:18] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:42:18] [ENEMY] [Enemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=98.8°, current=100.6°, player=(979,572), corner_timer=0.18
[21:42:18] [ENEMY] [Enemy1] State: PURSUING -> COMBAT
[21:42:18] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1023,572), corner_timer=-0.02
[21:42:18] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[21:42:18] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1028,572), corner_timer=0.30
[21:42:18] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:42:19] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1124,592), corner_timer=-0.02
[21:42:19] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[21:42:19] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1128,596), corner_timer=0.30
[21:42:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1041.247, 185.2931), source=ENEMY (Enemy1), range=1469, listeners=10
[21:42:19] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=7
[21:42:19] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:42:19] [ENEMY] [Enemy2] State: SEEKING_COVER -> IN_COVER
[21:42:19] [INFO] [LastChance] Threat detected: Bullet
[21:42:19] [INFO] [LastChance] Not in hard mode - effect disabled
[21:42:19] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:42:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1041.247, 185.2931), source=ENEMY (Enemy1), range=1469, listeners=10
[21:42:19] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=7
[21:42:19] [ENEMY] [Enemy2] State: IN_COVER -> PURSUING
[21:42:19] [ENEMY] [Enemy2] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=32.8°, current=-168.6°, player=(1167,635), corner_timer=0.30
[21:42:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1048.614, 252.99545), shooter_id=874277506147, bullet_pos=(1150.736, 699.8071)
[21:42:19] [INFO] [Bullet] Using shooter_position, distance=458,33347
[21:42:19] [INFO] [Bullet] Distance to wall: 458,33347 (31,208769% of viewport)
[21:42:19] [INFO] [Bullet] Within ricochet range - trying ricochet first
[21:42:19] [INFO] [ReplayManager] Recording frame 840 (14,0s): player_valid=True, enemies=10
[21:42:19] [ENEMY] [Enemy1] State: COMBAT -> RETREATING
[21:42:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1041.247, 185.2931), source=ENEMY (Enemy1), range=1469, listeners=10
[21:42:19] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=7
[21:42:19] [INFO] [LastChance] Threat detected: @Area2D@2299
[21:42:19] [INFO] [LastChance] Not in hard mode - effect disabled
[21:42:19] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:42:19] [ENEMY] [Enemy1] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=160.7°, current=71.9°, player=(1194,662), corner_timer=0.18
[21:42:19] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1202,669), corner_timer=-0.02
[21:42:19] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[21:42:19] [ENEMY] [Enemy1] ROT_CHANGE: P3:corner -> P1:visible, state=RETREATING, target=71.1°, current=79.8°, player=(1207,671), corner_timer=0.18
[21:42:19] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1207,671), corner_timer=0.30
[21:42:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1051.6079, 252.59488), shooter_id=874277506147, bullet_pos=(1174.8262, 694.0547)
[21:42:19] [INFO] [Bullet] Using shooter_position, distance=458,3334
[21:42:19] [INFO] [Bullet] Distance to wall: 458,3334 (31,208765% of viewport)
[21:42:19] [INFO] [Bullet] Within ricochet range - trying ricochet first
[21:42:19] [INFO] [BloodyFeet:Player] Blood ran out - no more footprints
[21:42:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1026.911, 176.0319), source=ENEMY (Enemy1), range=1469, listeners=10
[21:42:19] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=7
[21:42:19] [INFO] [LastChance] Threat detected: @Area2D@2303
[21:42:19] [INFO] [LastChance] Not in hard mode - effect disabled
[21:42:19] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:42:19] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:42:19] [ENEMY] [Enemy1] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=160.7°, current=63.6°, player=(1254,671), corner_timer=0.18
[21:42:19] [ENEMY] [Enemy1] State: RETREATING -> IN_COVER
[21:42:19] [INFO] [LastChance] Threat detected: Bullet
[21:42:19] [INFO] [LastChance] Not in hard mode - effect disabled
[21:42:19] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:42:19] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[21:42:19] [INFO] [Player] Hit blocked by invincibility mode (C#)
[21:42:19] [INFO] [Player] Spawning blood effect at (1293.4148, 671.9338), dir=(1, 0), lethal=False (C#)
[21:42:19] [INFO] [ImpactEffects] spawn_blood_effect called at (1293.415, 671.9338), dir=(1, 0), lethal=false
[21:42:19] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:42:19] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:42:19] [INFO] [ImpactEffects] Blood effect spawned at (1293.415, 671.9338) (scale=1)
[21:42:19] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1309,671), corner_timer=-0.02
[21:42:19] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[21:42:19] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1315,671), corner_timer=0.30
[21:42:19] [ENEMY] [Enemy4] Warning: No valid flank position (both sides behind walls)
[21:42:19] [ENEMY] [Enemy4] FLANKING started: target=(1261.627, 484.6918), side=right, pos=(465.283, 528.0826)
[21:42:19] [ENEMY] [Enemy4] State: PURSUING -> FLANKING
[21:42:19] [ENEMY] [Enemy4] FLANKING corner check: angle 171.5°
[21:42:19] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:42:19] [ENEMY] [Enemy3] PURSUING corner check: angle -172.7°
[21:42:19] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=28.9°, current=74.0°, player=(1375,671), corner_timer=0.30
[21:42:19] [INFO] [BloodDecal] Blood puddle created at (1351.591, 680.9534) (added to group)
[21:42:20] [INFO] [BloodDecal] Blood puddle created at (1354.619, 675.9122) (added to group)
[21:42:20] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1419,671), corner_timer=-0.02
[21:42:20] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[21:42:20] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1425,671), corner_timer=0.30
[21:42:20] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:42:20] [ENEMY] [Enemy4] FLANKING corner check: angle 73.4°
[21:42:20] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=PURSUING, target=26.2°, current=26.3°, player=(1502,671), corner_timer=0.30
[21:42:20] [INFO] [ReplayManager] Recording frame 900 (15,0s): player_valid=True, enemies=10
[21:42:20] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1529,671), corner_timer=-0.02
[21:42:20] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[21:42:20] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1535,671), corner_timer=0.30
[21:42:20] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:42:20] [ENEMY] [Enemy4] FLANKING corner check: angle 40.6°
[21:42:20] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=6.0°, current=5.8°, player=(1612,671), corner_timer=0.25
[21:42:20] [ENEMY] [Enemy4] State: FLANKING -> COMBAT
[21:42:20] [ENEMY] [Enemy4] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=6.7°, current=62.8°, player=(1634,671), corner_timer=0.22
[21:42:20] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1639,671), corner_timer=-0.02
[21:42:20] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[21:42:20] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1645,671), corner_timer=0.30
[21:42:20] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=6.5°, current=54.1°, player=(1650,671), corner_timer=0.22
[21:42:20] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:42:21] [INFO] [BloodyFeet:Enemy4] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[21:42:21] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1739,695), corner_timer=-0.02
[21:42:21] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[21:42:21] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1743,699), corner_timer=0.30
[21:42:21] [ENEMY] [Enemy2] PURSUING corner check: angle -47.1°
[21:42:21] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:42:21] [INFO] [ReplayManager] Recording frame 960 (16,0s): player_valid=True, enemies=10
[21:42:21] [ENEMY] [Enemy4] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=10.9°, current=10.9°, player=(1813,769), corner_timer=0.22
[21:42:21] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[21:42:21] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1817,773), corner_timer=-0.02
[21:42:21] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[21:42:21] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1821,777), corner_timer=0.30
[21:42:21] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:42:21] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1888,852), corner_timer=-0.02
[21:42:21] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[21:42:21] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1890,856), corner_timer=0.30
[21:42:21] [ENEMY] [Enemy3] PURSUING corner check: angle -84.8°
[21:42:21] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:42:22] [ENEMY] [Enemy1] State: SUPPRESSED -> IN_COVER
[21:42:22] [ENEMY] [Enemy1] State: IN_COVER -> PURSUING
[21:42:22] [INFO] [BloodyFeet:Enemy3] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[21:42:22] [ENEMY] [Enemy1] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=41.2°, current=160.7°, player=(1863,928), corner_timer=0.18
[21:42:22] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1859,932), corner_timer=-0.02
[21:42:22] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[21:42:22] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1855,936), corner_timer=0.30
[21:42:22] [ENEMY] [Enemy3] PURSUING corner check: angle -84.8°
[21:42:22] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:42:22] [INFO] [ReplayManager] Recording frame 1020 (17,0s): player_valid=True, enemies=10
[21:42:22] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1781,1010), corner_timer=-0.02
[21:42:22] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[21:42:22] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1777,1013), corner_timer=0.30
[21:42:22] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P1:visible, state=IDLE, target=40.9°, current=89.4°, player=(1761,1029), corner_timer=0.23
[21:42:22] [ENEMY] [Enemy7] State: IDLE -> COMBAT
[21:42:22] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:42:22] [ENEMY] [Enemy7] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=50.4°, current=-11.8°, player=(1738,1052), corner_timer=0.23
[21:42:22] [ENEMY] [Enemy2] Warning: No valid flank position (both sides behind walls)
[21:42:22] [ENEMY] [Enemy2] FLANKING started: target=(1701.605, 912.3381), side=right, pos=(458.0073, 219.12)
[21:42:22] [ENEMY] [Enemy2] State: PURSUING -> FLANKING
[21:42:22] [ENEMY] [Enemy7] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=74.5°, current=26.2°, player=(1672,1118), corner_timer=0.23
[21:42:22] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:42:22] [ENEMY] [Enemy4] Warning: No valid flank position (both sides behind walls)
[21:42:22] [ENEMY] [Enemy4] FLANKING started: target=(1485.484, 1215.506), side=left, pos=(850.8777, 584.9011)
[21:42:22] [ENEMY] [Enemy4] State: PURSUING -> FLANKING
[21:42:22] [ENEMY] [Enemy5] Memory: high confidence (0.90) - transitioning to PURSUING
[21:42:22] [ENEMY] [Enemy5] State: IDLE -> PURSUING
[21:42:22] [ENEMY] [Enemy6] Memory: high confidence (0.90) - transitioning to PURSUING
[21:42:22] [ENEMY] [Enemy6] State: IDLE -> PURSUING
[21:42:22] [ENEMY] [Enemy5] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=92.9°, current=-101.3°, player=(1660,1130), corner_timer=0.00
[21:42:22] [ENEMY] [Enemy6] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=113.0°, current=-56.3°, player=(1660,1130), corner_timer=0.00
[21:42:22] [ENEMY] [Enemy5] PURSUING corner check: angle -0.0°
[21:42:22] [ENEMY] [Enemy6] PURSUING corner check: angle 38.6°
[21:42:22] [ENEMY] [Enemy6] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=113.2°, current=78.1°, player=(1653,1138), corner_timer=0.30
[21:42:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1611.337, 898.8687), source=ENEMY (Enemy7), range=1469, listeners=10
[21:42:23] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[21:42:23] [INFO] [LastChance] Threat detected: Bullet
[21:42:23] [INFO] [LastChance] Not in hard mode - effect disabled
[21:42:23] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:42:23] [INFO] [Player] Hit blocked by invincibility mode (C#)
[21:42:23] [INFO] [Player] Spawning blood effect at (1618.0443, 1173.4214), dir=(1, 0), lethal=False (C#)
[21:42:23] [INFO] [ImpactEffects] spawn_blood_effect called at (1618.044, 1173.421), dir=(1, 0), lethal=false
[21:42:23] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:42:23] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:42:23] [INFO] [ImpactEffects] Blood effect spawned at (1618.044, 1173.421) (scale=1)
[21:42:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1611.337, 898.8687), source=ENEMY (Enemy7), range=1469, listeners=10
[21:42:23] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=1, below_threshold=7
[21:42:23] [ENEMY] [Enemy4] FLANKING corner check: angle -101.0°
[21:42:23] [INFO] [LastChance] Threat detected: Bullet
[21:42:23] [INFO] [LastChance] Not in hard mode - effect disabled
[21:42:23] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:42:23] [ENEMY] [Enemy6] State: PURSUING -> COMBAT
[21:42:23] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:42:23] [ENEMY] [Enemy6] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=114.0°, current=113.9°, player=(1590,1200), corner_timer=0.05
[21:42:23] [ENEMY] [Enemy7] State: COMBAT -> RETREATING
[21:42:23] [ENEMY] [Enemy2] FLANKING corner check: angle 97.6°
[21:42:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1611.337, 898.8687), source=ENEMY (Enemy7), range=1469, listeners=10
[21:42:23] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=1, below_threshold=7
[21:42:23] [ENEMY] [Enemy5] PURSUING corner check: angle 0.6°
[21:42:23] [INFO] [ReplayManager] Recording frame 1080 (18,0s): player_valid=True, enemies=10
[21:42:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1600.708, 880.3718), source=ENEMY (Enemy7), range=1469, listeners=10
[21:42:23] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=1, below_threshold=7
[21:42:23] [INFO] [BloodDecal] Blood puddle created at (1666.274, 1177.548) (added to group)
[21:42:23] [ENEMY] [Enemy7] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=89.4°, current=96.7°, player=(1555,1235), corner_timer=0.23
[21:42:23] [INFO] [BloodDecal] Blood puddle created at (1676.445, 1179.556) (added to group)
[21:42:23] [INFO] [BloodDecal] Blood puddle created at (1687.947, 1160.986) (added to group)
[21:42:23] [ENEMY] [Enemy7] State: RETREATING -> IN_COVER
[21:42:23] [ENEMY] [Enemy7] State: IN_COVER -> SUPPRESSED
[21:42:23] [ENEMY] [Enemy4] FLANKING corner check: angle -77.4°
[21:42:23] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:42:23] [ENEMY] [Enemy2] FLANKING corner check: angle -59.0°
[21:42:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1604.2249, 966.70636), shooter_id=876391435347, bullet_pos=(1620.9911, 2091.5803)
[21:42:23] [INFO] [Bullet] Using shooter_position, distance=1124,999
[21:42:23] [INFO] [Bullet] Distance to wall: 1124,999 (76,60325% of viewport)
[21:42:23] [INFO] [Bullet] Distance-based penetration chance: 57,29621%
[21:42:23] [INFO] [Bullet] Penetration failed (distance roll)
[21:42:23] [INFO] [BloodDecal] Blood puddle created at (1793.075, 1261.115) (added to group)
[21:42:23] [INFO] [BloodDecal] Blood puddle created at (1713.932, 1248.507) (added to group)
[21:42:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1613.7148, 967.0607), shooter_id=876391435347, bullet_pos=(1681.5411, 2090.013)
[21:42:23] [INFO] [Bullet] Using shooter_position, distance=1124,9987
[21:42:23] [INFO] [Bullet] Distance to wall: 1124,9987 (76,603226% of viewport)
[21:42:23] [INFO] [Bullet] Distance-based penetration chance: 57,29624%
[21:42:23] [INFO] [Bullet] Starting wall penetration at (1681.5411, 2090.013)
[21:42:23] [INFO] [Bullet] Raycast backward hit penetrating body at distance 40,66871
[21:42:23] [INFO] [Bullet] Body exited signal received for penetrating body
[21:42:23] [INFO] [Bullet] Exiting penetration at (1684.3546, 2136.5947) after traveling 41,666668 pixels through wall
[21:42:23] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[21:42:23] [ENEMY] [Enemy6] State: COMBAT -> PURSUING
[21:42:23] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P1:visible, state=IDLE, target=-40.4°, current=0.6°, player=(1469,1337), corner_timer=0.07
[21:42:23] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[21:42:23] [INFO] [BloodDecal] Blood puddle created at (1771.031, 1275.128) (added to group)
[21:42:23] [INFO] [BloodDecal] Blood puddle created at (1779.901, 1311.622) (added to group)
[21:42:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1600.6213, 948.42), shooter_id=876391435347, bullet_pos=(1634.0417, 2072.9243)
[21:42:23] [INFO] [Bullet] Using shooter_position, distance=1125,0009
[21:42:23] [INFO] [Bullet] Distance to wall: 1125,0009 (76,60338% of viewport)
[21:42:23] [INFO] [Bullet] Distance-based penetration chance: 57,296062%
[21:42:23] [INFO] [Bullet] Starting wall penetration at (1634.0417, 2072.9243)
[21:42:23] [ENEMY] [Enemy4] FLANKING corner check: angle -77.4°
[21:42:23] [ENEMY] [Enemy10] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-38.9°, current=-135.7°, player=(1467,1347), corner_timer=0.07
[21:42:23] [INFO] [Bullet] Raycast backward hit penetrating body at distance 23,58072
[21:42:23] [INFO] [BloodDecal] Blood puddle created at (1759.705, 1306.513) (added to group)
[21:42:23] [INFO] [Bullet] Body exited signal received for penetrating body
[21:42:23] [INFO] [Bullet] Exiting penetration at (1635.4281, 2119.5703) after traveling 41,66667 pixels through wall
[21:42:23] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[21:42:23] [ENEMY] [Enemy2] FLANKING corner check: angle -59.0°
[21:42:23] [ENEMY] [Enemy1] PURSUING corner check: angle 71.7°
[21:42:23] [INFO] [BloodyFeet:Enemy2] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[21:42:23] [ENEMY] [Enemy3] PURSUING corner check: angle -94.7°
[21:42:24] [INFO] [BloodyFeet:Enemy4] Blood ran out - no more footprints
[21:42:24] [ENEMY] [Enemy10] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-24.5°, current=-72.6°, player=(1467,1440), corner_timer=0.07
[21:42:24] [ENEMY] [Enemy4] FLANKING corner check: angle -77.4°
[21:42:24] [ENEMY] [Enemy2] FLANKING corner check: angle -59.0°
[21:42:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1244.391, 1542.266), source=ENEMY (Enemy10), range=1469, listeners=10
[21:42:24] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[21:42:24] [INFO] [LastChance] Threat detected: Bullet
[21:42:24] [INFO] [LastChance] Not in hard mode - effect disabled
[21:42:24] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:42:24] [ENEMY] [Enemy3] PURSUING corner check: angle -94.7°
[21:42:24] [INFO] [ReplayManager] Recording frame 1140 (19,0s): player_valid=True, enemies=10
[21:42:24] [INFO] [Player] Hit blocked by invincibility mode (C#)
[21:42:24] [INFO] [Player] Spawning blood effect at (1431.3698, 1514.0952), dir=(1, 0), lethal=False (C#)
[21:42:24] [INFO] [ImpactEffects] spawn_blood_effect called at (1431.37, 1514.095), dir=(1, 0), lethal=false
[21:42:24] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:42:24] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:42:24] [INFO] [ImpactEffects] Wall found for blood splatter at (1488, 1514.095) (dist=56 px)
[21:42:24] [INFO] [BloodDecal] Blood puddle created at (1487, 1514.095) (added to group)
[21:42:24] [INFO] [ImpactEffects] Blood effect spawned at (1431.37, 1514.095) (scale=1)
[21:42:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1244.391, 1542.266), source=ENEMY (Enemy10), range=1469, listeners=10
[21:42:24] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[21:42:24] [INFO] [LastChance] Threat detected: Bullet
[21:42:24] [INFO] [LastChance] Not in hard mode - effect disabled
[21:42:24] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:42:24] [INFO] [Player] Hit blocked by invincibility mode (C#)
[21:42:24] [INFO] [Player] Spawning blood effect at (1408.0355, 1537.4294), dir=(1, 0), lethal=False (C#)
[21:42:24] [INFO] [ImpactEffects] spawn_blood_effect called at (1408.036, 1537.429), dir=(1, 0), lethal=false
[21:42:24] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:42:24] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:42:24] [INFO] [ImpactEffects] Wall found for blood splatter at (1488, 1537.429) (dist=79 px)
[21:42:24] [INFO] [BloodDecal] Blood puddle created at (1487, 1537.429) (added to group)
[21:42:24] [INFO] [ImpactEffects] Blood effect spawned at (1408.036, 1537.429) (scale=1)
[21:42:24] [ENEMY] [Enemy4] FLANKING corner check: angle -99.8°
[21:42:24] [ENEMY] [Enemy10] State: COMBAT -> RETREATING
[21:42:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1244.391, 1542.266), source=ENEMY (Enemy10), range=1469, listeners=10
[21:42:24] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[21:42:24] [INFO] [LastChance] Threat detected: Bullet
[21:42:24] [INFO] [LastChance] Not in hard mode - effect disabled
[21:42:24] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:42:24] [ENEMY] [Enemy2] FLANKING corner check: angle 121.0°
[21:42:24] [INFO] [Player] Hit blocked by invincibility mode (C#)
[21:42:24] [INFO] [Player] Spawning blood effect at (1379.5366, 1561.5734), dir=(1, 0), lethal=False (C#)
[21:42:24] [INFO] [ImpactEffects] spawn_blood_effect called at (1379.537, 1561.573), dir=(1, 0), lethal=false
[21:42:24] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:42:24] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:42:24] [INFO] [ImpactEffects] Blood effect spawned at (1379.537, 1561.573) (scale=1)
[21:42:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1243.544, 1568.385), source=ENEMY (Enemy10), range=1469, listeners=10
[21:42:24] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[21:42:24] [INFO] [LastChance] Threat detected: Bullet
[21:42:24] [INFO] [LastChance] Not in hard mode - effect disabled
[21:42:24] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:42:24] [INFO] [Player] Hit blocked by invincibility mode (C#)
[21:42:24] [INFO] [Player] Spawning blood effect at (1350.462, 1571.0497), dir=(1, 0), lethal=False (C#)
[21:42:24] [INFO] [ImpactEffects] spawn_blood_effect called at (1350.462, 1571.05), dir=(1, 0), lethal=false
[21:42:24] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:42:24] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:42:24] [INFO] [ImpactEffects] Blood effect spawned at (1350.462, 1571.05) (scale=1)
[21:42:24] [INFO] [BloodDecal] Blood puddle created at (1466.438, 1610.545) (added to group)
[21:42:24] [INFO] [BloodDecal] Blood puddle created at (1469.806, 1599.324) (added to group)
[21:42:24] [ENEMY] [Enemy2] FLANKING corner check: angle -59.0°
[21:42:24] [INFO] [BloodDecal] Blood puddle created at (1437.186, 1560.206) (added to group)
[21:42:24] [INFO] [BloodDecal] Blood puddle created at (1460.749, 1566.182) (added to group)
[21:42:24] [INFO] [BloodDecal] Blood puddle created at (1403.891, 1569.223) (added to group)
[21:42:24] [INFO] [BloodDecal] Blood puddle created at (1424.899, 1571.681) (added to group)
[21:42:25] [INFO] [BloodDecal] Blood puddle created at (1441.479, 1626.53) (added to group)
[21:42:25] [INFO] [BloodDecal] Blood puddle created at (1415.246, 1588.655) (added to group)
[21:42:25] [INFO] [BloodDecal] Blood puddle created at (1440.618, 1632.565) (added to group)
[21:42:25] [INFO] [BloodDecal] Blood puddle created at (1461.426, 1611.973) (added to group)
[21:42:25] [INFO] [BloodDecal] Blood puddle created at (1461.812, 1653.875) (added to group)
[21:42:25] [ENEMY] [Enemy5] Warning: No valid flank position (both sides behind walls)
[21:42:25] [ENEMY] [Enemy5] FLANKING started: target=(1418.808, 1553.093), side=right, pos=(1695.884, 556.6526)
[21:42:25] [ENEMY] [Enemy5] State: PURSUING -> FLANKING
[21:42:25] [INFO] [BloodDecal] Blood puddle created at (1478.937, 1618.192) (added to group)
[21:42:25] [ENEMY] [Enemy5] FLANKING corner check: angle -102.6°
[21:42:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1143.181, 1600.95), source=ENEMY (Enemy10), range=1469, listeners=10
[21:42:25] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=8
[21:42:25] [INFO] [Player] Hit blocked by invincibility mode (C#)
[21:42:25] [INFO] [Player] Spawning blood effect at (1191.4904, 1557.8867), dir=(1, 0), lethal=False (C#)
[21:42:25] [INFO] [ImpactEffects] spawn_blood_effect called at (1191.49, 1557.887), dir=(1, 0), lethal=false
[21:42:25] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:42:25] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:42:25] [INFO] [ImpactEffects] Blood effect spawned at (1191.49, 1557.887) (scale=1)
[21:42:25] [ENEMY] [Enemy2] FLANKING corner check: angle -59.0°
[21:42:25] [INFO] [BloodDecal] Blood puddle created at (1471.164, 1600.357) (added to group)
[21:42:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1159.626, 1592.527), source=ENEMY (Enemy10), range=1469, listeners=10
[21:42:25] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=8
[21:42:25] [INFO] [BloodDecal] Blood puddle created at (1467.845, 1617.248) (added to group)
[21:42:25] [INFO] [Player] Hit blocked by invincibility mode (C#)
[21:42:25] [INFO] [Player] Spawning blood effect at (1163.6438, 1532.1678), dir=(1, 0), lethal=False (C#)
[21:42:25] [INFO] [ImpactEffects] spawn_blood_effect called at (1163.644, 1532.168), dir=(1, 0), lethal=false
[21:42:25] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:42:25] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:42:25] [INFO] [ImpactEffects] Blood effect spawned at (1163.644, 1532.168) (scale=1)
[21:42:25] [ENEMY] [Enemy6] PURSUING corner check: angle 38.2°
[21:42:25] [INFO] [ReplayManager] Recording frame 1200 (20,0s): player_valid=True, enemies=10
[21:42:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1193.146, 1590.222), source=ENEMY (Enemy10), range=1469, listeners=10
[21:42:25] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=8
[21:42:25] [INFO] [LastChance] Threat detected: Bullet
[21:42:25] [INFO] [LastChance] Not in hard mode - effect disabled
[21:42:25] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:42:25] [INFO] [Player] Hit blocked by invincibility mode (C#)
[21:42:25] [INFO] [Player] Spawning blood effect at (1124.7534, 1493.2775), dir=(1, 0), lethal=False (C#)
[21:42:25] [INFO] [ImpactEffects] spawn_blood_effect called at (1124.753, 1493.277), dir=(1, 0), lethal=false
[21:42:25] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:42:25] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:42:25] [INFO] [ImpactEffects] Blood effect spawned at (1124.753, 1493.277) (scale=1)
[21:42:25] [ENEMY] [Enemy5] FLANKING corner check: angle 21.7°
[21:42:25] [INFO] [BloodDecal] Blood puddle created at (1277.699, 1615.589) (added to group)
[21:42:25] [ENEMY] [Enemy2] FLANKING corner check: angle -59.0°
[21:42:25] [INFO] [BloodDecal] Blood puddle created at (1274.11, 1594.494) (added to group)
[21:42:25] [INFO] [BloodDecal] Blood puddle created at (1242.031, 1553.039) (added to group)
[21:42:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1190.422, 1578.422), source=ENEMY (Enemy10), range=1469, listeners=10
[21:42:25] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=8
[21:42:25] [INFO] [LastChance] Threat detected: Bullet
[21:42:25] [INFO] [LastChance] Not in hard mode - effect disabled
[21:42:25] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:42:25] [INFO] [BloodDecal] Blood puddle created at (1283.183, 1520.908) (added to group)
[21:42:25] [INFO] [BloodDecal] Blood puddle created at (1288.841, 1565.913) (added to group)
[21:42:25] [INFO] [Player] Hit blocked by invincibility mode (C#)
[21:42:25] [INFO] [Player] Spawning blood effect at (1070.3069, 1438.8309), dir=(1, 0), lethal=False (C#)
[21:42:25] [INFO] [ImpactEffects] spawn_blood_effect called at (1070.307, 1438.831), dir=(1, 0), lethal=false
[21:42:25] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:42:25] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:42:25] [INFO] [ImpactEffects] Blood effect spawned at (1070.307, 1438.831) (scale=1)
[21:42:25] [INFO] [BloodDecal] Blood puddle created at (1307.053, 1628.724) (added to group)
[21:42:25] [INFO] [BloodDecal] Blood puddle created at (1240.733, 1562.094) (added to group)
[21:42:25] [INFO] [BloodDecal] Blood puddle created at (1186.935, 1533.704) (added to group)
[21:42:25] [INFO] [BloodDecal] Blood puddle created at (1330.006, 1643.844) (added to group)
[21:42:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1196.407, 1601.933), source=ENEMY (Enemy10), range=1469, listeners=10
[21:42:25] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=8
[21:42:25] [INFO] [BloodDecal] Blood puddle created at (1355.211, 1671.376) (added to group)
[21:42:25] [INFO] [BloodDecal] Blood puddle created at (1296.457, 1624.33) (added to group)
[21:42:25] [INFO] [BloodDecal] Blood puddle created at (1310.375, 1565.703) (added to group)
[21:42:25] [INFO] [LastChance] Threat detected: Bullet
[21:42:25] [INFO] [LastChance] Not in hard mode - effect disabled
[21:42:25] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:42:25] [INFO] [BloodDecal] Blood puddle created at (1191.29, 1528.472) (added to group)
[21:42:25] [ENEMY] [Enemy5] FLANKING corner check: angle -21.7°
[21:42:25] [INFO] [Player] Hit blocked by invincibility mode (C#)
[21:42:25] [INFO] [Player] Spawning blood effect at (1039.1946, 1416.0651), dir=(1, 0), lethal=False (C#)
[21:42:25] [INFO] [ImpactEffects] spawn_blood_effect called at (1039.195, 1416.065), dir=(1, 0), lethal=false
[21:42:25] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:42:25] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:42:25] [INFO] [ImpactEffects] Blood effect spawned at (1039.195, 1416.065) (scale=1)
[21:42:25] [INFO] [BloodDecal] Blood puddle created at (1240.886, 1573.656) (added to group)
[21:42:25] [INFO] [BloodDecal] Blood puddle created at (1390.388, 1707.932) (added to group)
[21:42:25] [INFO] [BloodDecal] Blood puddle created at (1232.964, 1546.716) (added to group)
[21:42:25] [ENEMY] [Enemy4] FLANKING corner check: angle -77.3°
[21:42:25] [INFO] [BloodDecal] Blood puddle created at (1305.687, 1611.811) (added to group)
[21:42:25] [INFO] [BloodDecal] Blood puddle created at (1225.071, 1575.372) (added to group)
[21:42:25] [ENEMY] [Enemy2] FLANKING corner check: angle -59.0°
[21:42:25] [ENEMY] [Enemy7] State: SUPPRESSED -> IN_COVER
[21:42:25] [ENEMY] [Enemy7] State: IN_COVER -> PURSUING
[21:42:25] [ENEMY] [Enemy1] PURSUING corner check: angle 137.2°
[21:42:25] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=136.3°, current=89.4°, player=(1013,1416), corner_timer=0.23
[21:42:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1201.851, 1601.934), source=ENEMY (Enemy10), range=1469, listeners=10
[21:42:25] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[21:42:26] [INFO] [BloodDecal] Blood puddle created at (1360.987, 1721.967) (added to group)
[21:42:26] [INFO] [BloodDecal] Blood puddle created at (1298.537, 1563.867) (added to group)
[21:42:26] [INFO] [BloodDecal] Blood puddle created at (1388.147, 1680.423) (added to group)
[21:42:26] [INFO] [BloodDecal] Blood puddle created at (1148.09, 1483.193) (added to group)
[21:42:26] [INFO] [BloodyFeet:Enemy10] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[21:42:26] [INFO] [BloodDecal] Blood puddle created at (1302.476, 1561.554) (added to group)
[21:42:26] [INFO] [BloodDecal] Blood puddle created at (1249.587, 1494.92) (added to group)
[21:42:26] [INFO] [LastChance] Threat detected: Bullet
[21:42:26] [INFO] [LastChance] Not in hard mode - effect disabled
[21:42:26] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:42:26] [INFO] [BloodDecal] Blood puddle created at (1149.71, 1495.956) (added to group)
[21:42:26] [INFO] [BloodDecal] Blood puddle created at (1114.397, 1440.063) (added to group)
[21:42:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1147.7386, 1560.702), shooter_id=877448400053, bullet_pos=(1016.37823, 1399.001)
[21:42:26] [INFO] [Bullet] Using shooter_position, distance=208,33336
[21:42:26] [INFO] [Bullet] Distance to wall: 208,33336 (14,185802% of viewport)
[21:42:26] [INFO] [Bullet] Within ricochet range - trying ricochet first
[21:42:26] [INFO] [Player] Hit blocked by invincibility mode (C#)
[21:42:26] [INFO] [Player] Spawning blood effect at (970.52014, 1415.1411), dir=(1, 0), lethal=False (C#)
[21:42:26] [INFO] [ImpactEffects] spawn_blood_effect called at (970.5201, 1415.141), dir=(1, 0), lethal=false
[21:42:26] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:42:26] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:42:26] [INFO] [ImpactEffects] Blood effect spawned at (970.5201, 1415.141) (scale=1)
[21:42:26] [INFO] [BloodDecal] Blood puddle created at (1236.051, 1606.865) (added to group)
[21:42:26] [INFO] [BloodDecal] Blood puddle created at (1077.248, 1434.784) (added to group)
[21:42:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1223.285, 1581.127), source=ENEMY (Enemy10), range=1469, listeners=10
[21:42:26] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[21:42:26] [INFO] [BloodDecal] Blood puddle created at (1164.244, 1519.271) (added to group)
[21:42:26] [INFO] [BloodDecal] Blood puddle created at (1114.874, 1406.225) (added to group)
[21:42:26] [ENEMY] [Enemy5] FLANKING corner check: angle 24.3°
[21:42:26] [INFO] [BloodDecal] Blood puddle created at (1287.707, 1553.933) (added to group)
[21:42:26] [INFO] [BloodDecal] Blood puddle created at (1307.475, 1528.075) (added to group)
[21:42:26] [INFO] [BloodDecal] Blood puddle created at (1204.26, 1423.015) (added to group)
[21:42:26] [INFO] [BloodDecal] Blood puddle created at (1084.146, 1452.681) (added to group)
[21:42:26] [INFO] [LastChance] Threat detected: Bullet
[21:42:26] [INFO] [LastChance] Not in hard mode - effect disabled
[21:42:26] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:42:26] [INFO] [BloodyFeet:Enemy2] Blood ran out - no more footprints
[21:42:26] [INFO] [BloodDecal] Blood puddle created at (1111.071, 1450.595) (added to group)
[21:42:26] [ENEMY] [Enemy4] FLANKING corner check: angle 23.6°
[21:42:26] [INFO] [BloodDecal] Blood puddle created at (1096.379, 1467.115) (added to group)
[21:42:26] [INFO] [Player] Hit blocked by invincibility mode (C#)
[21:42:26] [INFO] [Player] Spawning blood effect at (929.05664, 1395.7397), dir=(1, 0), lethal=False (C#)
[21:42:26] [INFO] [ImpactEffects] spawn_blood_effect called at (929.0566, 1395.74), dir=(1, 0), lethal=false
[21:42:26] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:42:26] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:42:26] [INFO] [ImpactEffects] Wall found for blood splatter at (988, 1395.74) (dist=58 px)
[21:42:26] [INFO] [BloodDecal] Blood puddle created at (987, 1395.74) (added to group)
[21:42:26] [INFO] [ImpactEffects] Blood effect spawned at (929.0566, 1395.74) (scale=1)
[21:42:26] [INFO] [BloodDecal] Blood puddle created at (1202.513, 1497.402) (added to group)
[21:42:26] [ENEMY] [Enemy2] FLANKING corner check: angle -99.9°
[21:42:26] [ENEMY] [Enemy1] PURSUING corner check: angle -42.8°
[21:42:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1227.902, 1585.444), source=ENEMY (Enemy10), range=1469, listeners=10
[21:42:26] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[21:42:26] [INFO] [BloodDecal] Blood puddle created at (1109.639, 1475.176) (added to group)
[21:42:26] [INFO] [BloodDecal] Blood puddle created at (1265.606, 1506.464) (added to group)
[21:42:26] [INFO] [BloodDecal] Blood puddle created at (1158.758, 1499.016) (added to group)
[21:42:26] [INFO] [BloodDecal] Blood puddle created at (1201.384, 1492.022) (added to group)
[21:42:26] [INFO] [ReplayManager] Recording frame 1260 (21,0s): player_valid=True, enemies=10
[21:42:26] [ENEMY] [Enemy3] PURSUING corner check: angle 174.8°
[21:42:26] [INFO] [BloodDecal] Blood puddle created at (1236.792, 1474.132) (added to group)
[21:42:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1251.214, 1573.641), source=ENEMY (Enemy10), range=1469, listeners=10
[21:42:26] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[21:42:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1167.305, 1555.1274), shooter_id=877448400053, bullet_pos=(914.6172, 1409.4622)
[21:42:26] [INFO] [Bullet] Using shooter_position, distance=291,6668
[21:42:26] [INFO] [Bullet] Distance to wall: 291,6668 (19,86013% of viewport)
[21:42:26] [INFO] [Bullet] Within ricochet range - trying ricochet first
[21:42:26] [INFO] [BloodDecal] Blood puddle created at (1255.482, 1500.574) (added to group)
[21:42:26] [INFO] [BloodDecal] Blood puddle created at (1143.382, 1512.988) (added to group)
[21:42:26] [INFO] [BloodDecal] Blood puddle created at (1052.243, 1402.589) (added to group)
[21:42:26] [INFO] [BloodDecal] Blood puddle created at (1089.49, 1454.888) (added to group)
[21:42:26] [INFO] [BloodDecal] Blood puddle created at (1034.043, 1424.473) (added to group)
[21:42:26] [ENEMY] [Enemy5] FLANKING corner check: angle 8.9°
[21:42:26] [INFO] [BloodDecal] Blood puddle created at (1005.118, 1425.975) (added to group)
[21:42:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1269.898, 1556.192), source=ENEMY (Enemy10), range=1469, listeners=10
[21:42:26] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[21:42:26] [INFO] [BloodDecal] Blood puddle created at (1148.689, 1552.752) (added to group)
[21:42:26] [INFO] [BloodDecal] Blood puddle created at (1214.567, 1565.599) (added to group)
[21:42:26] [INFO] [BloodDecal] Blood puddle created at (1104.647, 1434.993) (added to group)
[21:42:26] [INFO] [BloodDecal] Blood puddle created at (990.6743, 1412.094) (added to group)
[21:42:26] [INFO] [BloodDecal] Blood puddle created at (1017.261, 1422.612) (added to group)
[21:42:26] [ENEMY] [Enemy4] FLANKING corner check: angle 64.8°
[21:42:26] [INFO] [BloodDecal] Blood puddle created at (1087.327, 1414.972) (added to group)
[21:42:26] [INFO] [BloodDecal] Blood puddle created at (1051.009, 1484.905) (added to group)
[21:42:26] [ENEMY] [Enemy10] State: RETREATING -> IN_COVER
[21:42:26] [ENEMY] [Enemy10] ROT_CHANGE: P1:visible -> P3:corner, state=IN_COVER, target=0.6°, current=-151.5°, player=(852,1315), corner_timer=0.07
[21:42:26] [ENEMY] [Enemy10] State: IN_COVER -> SUPPRESSED
[21:42:26] [INFO] [BloodDecal] Blood puddle created at (1009.157, 1456.112) (added to group)
[21:42:26] [INFO] [BloodDecal] Blood puddle created at (1100.243, 1441.849) (added to group)
[21:42:26] [INFO] [BloodDecal] Blood puddle created at (1081.357, 1515.584) (added to group)
[21:42:26] [INFO] [BloodDecal] Blood puddle created at (1100.52, 1542.184) (added to group)
[21:42:26] [INFO] [BloodDecal] Blood puddle created at (1031.607, 1482.512) (added to group)
[21:42:26] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P1:visible, state=SUPPRESSED, target=-152.4°, current=-122.8°, player=(805,1296), corner_timer=0.07
[21:42:26] [INFO] [BloodDecal] Blood puddle created at (1173.435, 1494.441) (added to group)
[21:42:26] [INFO] [BloodDecal] Blood puddle created at (1045.061, 1439.051) (added to group)
[21:42:26] [INFO] [BloodDecal] Blood puddle created at (1078.425, 1520.975) (added to group)
[21:42:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1278.803, 1544.205), source=ENEMY (Enemy10), range=1469, listeners=10
[21:42:26] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[21:42:26] [ENEMY] [Enemy5] FLANKING corner check: angle 55.7°
[21:42:26] [INFO] [BloodDecal] Blood puddle created at (1106.733, 1561.006) (added to group)
[21:42:26] [INFO] [BloodDecal] Blood puddle created at (1074.1, 1551.546) (added to group)
[21:42:26] [ENEMY] [Enemy5] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=159.5°, current=164.2°, player=(766,1296), corner_timer=0.27
[21:42:26] [ENEMY] [Enemy5] State: FLANKING -> COMBAT
[21:42:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1278.803, 1544.205), source=ENEMY (Enemy10), range=1469, listeners=10
[21:42:26] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[21:42:26] [ENEMY] [Enemy4] FLANKING corner check: angle 36.3°
[21:42:26] [ENEMY] [Enemy10] State: SUPPRESSED -> SEEKING_COVER
[21:42:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1278.803, 1544.205), source=ENEMY (Enemy10), range=1469, listeners=10
[21:42:26] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[21:42:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1189.4075, 1545.2579), shooter_id=877448400053, bullet_pos=(38.111427, 1058.4135)
[21:42:26] [INFO] [Bullet] Using shooter_position, distance=1250
[21:42:26] [INFO] [Bullet] Distance to wall: 1250 (85,1148% of viewport)
[21:42:26] [INFO] [Bullet] Distance-based penetration chance: 47,36607%
[21:42:26] [INFO] [Bullet] Penetration failed (distance roll)
[21:42:26] [ENEMY] [Enemy10] ROT_CHANGE: P1:visible -> P3:corner, state=SEEKING_COVER, target=0.6°, current=-88.7°, player=(744,1296), corner_timer=0.07
[21:42:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1213.0953, 1519.3032), shooter_id=877448400053, bullet_pos=(895.4491, 1418.2485)
[21:42:26] [INFO] [Bullet] Using shooter_position, distance=333,33344
[21:42:26] [INFO] [Bullet] Distance to wall: 333,33344 (22,697289% of viewport)
[21:42:26] [INFO] [Bullet] Within ricochet range - trying ricochet first
[21:42:26] [INFO] [Bullet] Starting wall penetration at (895.4491, 1418.2485)
[21:42:26] [ENEMY] [Enemy5] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=160.1°, current=165.4°, player=(739,1296), corner_timer=0.27
[21:42:26] [INFO] [Bullet] Raycast backward hit penetrating body at distance 38,849693
[21:42:26] [INFO] [Bullet] Body exited signal received for penetrating body
[21:42:26] [INFO] [Bullet] Exiting penetration at (850.97864, 1404.1008) after traveling 41,66667 pixels through wall
[21:42:26] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[21:42:27] [ENEMY] [Enemy6] Warning: No valid flank position (both sides behind walls)
[21:42:27] [ENEMY] [Enemy6] FLANKING started: target=(881.3323, 1402.358), side=right, pos=(1767.917, 736.3469)
[21:42:27] [ENEMY] [Enemy6] State: PURSUING -> FLANKING
[21:42:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1207.1748, 1529.8995), shooter_id=877448400053, bullet_pos=(47.351845, 961.37976)
[21:42:27] [INFO] [Bullet] Using shooter_position, distance=1291,6672
[21:42:27] [INFO] [Bullet] Distance to wall: 1291,6672 (87,952% of viewport)
[21:42:27] [INFO] [Bullet] Distance-based penetration chance: 44,056004%
[21:42:27] [INFO] [Bullet] Penetration failed (distance roll)
[21:42:27] [INFO] [LastChance] Threat detected: @Area2D@2525
[21:42:27] [INFO] [LastChance] Not in hard mode - effect disabled
[21:42:27] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:42:27] [INFO] [LastChance] Threat detected: @Area2D@2527
[21:42:27] [INFO] [LastChance] Not in hard mode - effect disabled
[21:42:27] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:42:27] [ENEMY] [Enemy10] State: SEEKING_COVER -> IN_COVER
[21:42:27] [INFO] [Player] Hit blocked by invincibility mode (C#)
[21:42:27] [INFO] [Player] Spawning blood effect at (684.3562, 1296.161), dir=(1, 0), lethal=False (C#)
[21:42:27] [INFO] [ImpactEffects] spawn_blood_effect called at (684.3562, 1296.161), dir=(1, 0), lethal=false
[21:42:27] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:42:27] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:42:27] [INFO] [ImpactEffects] Blood effect spawned at (684.3562, 1296.161) (scale=1)
[21:42:27] [ENEMY] [Enemy10] State: IN_COVER -> SUPPRESSED
[21:42:27] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=161.4°, current=179.1°, player=(678,1296), corner_timer=0.07
[21:42:27] [ENEMY] [Enemy4] State: FLANKING -> COMBAT
[21:42:27] [ENEMY] [Enemy10] State: SUPPRESSED -> SEEKING_COVER
[21:42:27] [ENEMY] [Enemy6] FLANKING corner check: angle 66.8°
[21:42:27] [ENEMY] [Enemy10] State: SEEKING_COVER -> IN_COVER
[21:42:27] [ENEMY] [Enemy10] State: IN_COVER -> SUPPRESSED
[21:42:27] [ENEMY] [Enemy10] State: SUPPRESSED -> SEEKING_COVER
[21:42:27] [INFO] [ReplayManager] Recording frame 1320 (22,0s): player_valid=True, enemies=10
[21:42:27] [ENEMY] [Enemy10] State: SEEKING_COVER -> IN_COVER
[21:42:27] [ENEMY] [Enemy10] State: IN_COVER -> SUPPRESSED
[21:42:27] [ENEMY] [Enemy5] State: COMBAT -> PURSUING
[21:42:27] [INFO] [BloodDecal] Blood puddle created at (731.3629, 1327.23) (added to group)
[21:42:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1210.3829, 1517.866), shooter_id=877448400053, bullet_pos=(41.748775, 967.68787)
[21:42:27] [INFO] [Bullet] Using shooter_position, distance=1291,6663
[21:42:27] [INFO] [Bullet] Distance to wall: 1291,6663 (87,951935% of viewport)
[21:42:27] [INFO] [Bullet] Distance-based penetration chance: 44,056084%
[21:42:27] [INFO] [Bullet] Starting wall penetration at (41.748775, 967.68787)
[21:42:27] [INFO] [Bullet] Raycast backward hit penetrating body at distance 35,891563
[21:42:27] [INFO] [Bullet] Body exited signal received for penetrating body
[21:42:27] [INFO] [Bullet] Exiting penetration at (-0.4728508, 947.8105) after traveling 41,666668 pixels through wall
[21:42:27] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[21:42:27] [INFO] [BloodDecal] Blood puddle created at (805.0215, 1324.533) (added to group)
[21:42:27] [INFO] [BloodDecal] Blood puddle created at (777.9781, 1369.452) (added to group)
[21:42:27] [ENEMY] [Enemy10] State: SUPPRESSED -> SEEKING_COVER
[21:42:27] [ENEMY] [Enemy10] State: SEEKING_COVER -> IN_COVER
[21:42:27] [INFO] [BloodDecal] Blood puddle created at (771.3571, 1354.762) (added to group)
[21:42:27] [ENEMY] [Enemy6] FLANKING corner check: angle 66.6°
[21:42:27] [ENEMY] [Enemy10] State: IN_COVER -> SUPPRESSED
[21:42:27] [ENEMY] [Enemy2] FLANKING corner check: angle -77.2°
[21:42:27] [INFO] [BloodDecal] Blood puddle created at (820.1605, 1316.209) (added to group)
[21:42:27] [ENEMY] [Enemy10] State: SUPPRESSED -> SEEKING_COVER
[21:42:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1568.321, 1014.065), source=ENEMY (Enemy4), range=1469, listeners=10
[21:42:27] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=0, self=1, below_threshold=5
[21:42:27] [ENEMY] [Enemy10] State: SEEKING_COVER -> IN_COVER
[21:42:27] [ENEMY] [Enemy10] State: IN_COVER -> SUPPRESSED
[21:42:27] [INFO] [BloodDecal] Blood puddle created at (773.7024, 1333.134) (added to group)
[21:42:27] [INFO] [BloodDecal] Blood puddle created at (876.1623, 1314.547) (added to group)
[21:42:27] [INFO] [BloodDecal] Blood puddle created at (799.3029, 1412.972) (added to group)
[21:42:27] [INFO] [BloodDecal] Blood puddle created at (895.9897, 1323.172) (added to group)
[21:42:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1531.853, 1014.065), source=ENEMY (Enemy4), range=1469, listeners=10
[21:42:27] [INFO] [SoundPropagation] Sound result: notified=5, out_of_range=0, self=1, below_threshold=4
[21:42:27] [ENEMY] [Enemy7] PURSUING corner check: angle 88.4°
[21:42:27] [INFO] [BloodDecal] Blood puddle created at (866.4142, 1456.563) (added to group)
[21:42:27] [ENEMY] [Enemy1] Warning: No valid flank position (both sides behind walls)
[21:42:27] [ENEMY] [Enemy1] FLANKING started: target=(369.877, 1106.922), side=left, pos=(1321.258, 253.479)
[21:42:27] [ENEMY] [Enemy1] State: PURSUING -> FLANKING
[21:42:27] [ENEMY] [Enemy2] FLANKING timeout (5.0s), target=(597.186, 1422.609), pos=(1800.066, 788.5685)
[21:42:27] [ENEMY] [Enemy2] State: FLANKING -> PURSUING
[21:42:27] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[21:42:27] [ENEMY] [Enemy6] FLANKING corner check: angle 34.5°
[21:42:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1496.013, 1011.081), source=ENEMY (Enemy4), range=1469, listeners=10
[21:42:27] [INFO] [SoundPropagation] Sound result: notified=5, out_of_range=0, self=1, below_threshold=4
[21:42:27] [ENEMY] [Enemy2] PURSUING corner check: angle 23.4°
[21:42:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1484.828, 999.9691), source=ENEMY (Enemy4), range=1469, listeners=10
[21:42:28] [INFO] [SoundPropagation] Sound result: notified=5, out_of_range=0, self=1, below_threshold=4
[21:42:28] [ENEMY] [Enemy4] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=36.3°, current=165.6°, player=(391,1272), corner_timer=0.07
[21:42:28] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[21:42:28] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[21:42:28] [ENEMY] [Enemy1] FLANKING corner check: angle 58.8°
[21:42:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1505.001, 1038.9888), shooter_id=875334470794, bullet_pos=(217.56474, 1385.813)
[21:42:28] [INFO] [Bullet] Using shooter_position, distance=1333,3339
[21:42:28] [INFO] [Bullet] Distance to wall: 1333,3339 (90,789154% of viewport)
[21:42:28] [ENEMY] [Enemy6] FLANKING corner check: angle 50.8°
[21:42:28] [ENEMY] [Enemy7] State: PURSUING -> RETREATING
[21:42:28] [ENEMY] [Enemy7] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=88.4°, current=164.3°, player=(345,1225), corner_timer=0.08
[21:42:28] [ENEMY] [Enemy7] State: RETREATING -> IN_COVER
[21:42:28] [INFO] [BloodyFeet:Enemy1] Blood ran out - no more footprints
[21:42:28] [ENEMY] [Enemy2] PURSUING corner check: angle 66.3°
[21:42:28] [ENEMY] [Enemy7] State: IN_COVER -> SUPPRESSED
[21:42:28] [ENEMY] [Enemy6] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=169.8°, current=165.1°, player=(337,1217), corner_timer=0.25
[21:42:28] [ENEMY] [Enemy6] State: FLANKING -> COMBAT
[21:42:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1432.7046, 1036.007), shooter_id=875334470794, bullet_pos=(544.20325, 1395.1293)
[21:42:28] [INFO] [Bullet] Using shooter_position, distance=958,3337
[21:42:28] [INFO] [Bullet] Distance to wall: 958,3337 (65,25471% of viewport)
[21:42:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1505.001, 1038.9888), shooter_id=875334470794, bullet_pos=(37.23899, 1360.5747)
[21:42:28] [INFO] [Bullet] Using shooter_position, distance=1502,5787
[21:42:28] [INFO] [Bullet] Distance to wall: 1502,5787 (102,313354% of viewport)
[21:42:28] [INFO] [Bullet] Distance-based penetration chance: 29,537333%
[21:42:28] [INFO] [Bullet] Starting wall penetration at (37.23899, 1360.5747)
[21:42:28] [INFO] [Bullet] Raycast backward hit penetrating body at distance 35,126625
[21:42:28] [INFO] [Bullet] Body exited signal received for penetrating body
[21:42:28] [INFO] [Bullet] Exiting penetration at (-2.7875519, 1354.9727) after traveling 35,416668 pixels through wall
[21:42:28] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[21:42:28] [ENEMY] [Enemy3] PURSUING corner check: angle -83.8°
[21:42:28] [INFO] [ReplayManager] Recording frame 1380 (23,0s): player_valid=True, enemies=10
[21:42:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1468.5209, 1038.9586), shooter_id=875334470794, bullet_pos=(61.32213, 1421.7498)
[21:42:28] [INFO] [Bullet] Using shooter_position, distance=1458,3337
[21:42:28] [INFO] [Bullet] Distance to wall: 1458,3337 (99,30063% of viewport)
[21:42:28] [ENEMY] [Enemy1] FLANKING corner check: angle 58.8°
[21:42:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1432.7046, 1036.007), shooter_id=875334470794, bullet_pos=(50.69323, 1185.3394)
[21:42:28] [INFO] [Bullet] Using shooter_position, distance=1390,0559
[21:42:28] [INFO] [Bullet] Distance to wall: 1390,0559 (94,65147% of viewport)
[21:42:28] [ENEMY] [Enemy2] PURSUING corner check: angle 34.9°
[21:42:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1421.3033, 1024.3735), shooter_id=875334470794, bullet_pos=(63.152462, 1555.5643)
[21:42:28] [INFO] [Bullet] Using shooter_position, distance=1458,3339
[21:42:28] [INFO] [Bullet] Distance to wall: 1458,3339 (99,30064% of viewport)
[21:42:28] [INFO] [Bullet] Distance-based penetration chance: 30,81593%
[21:42:28] [INFO] [Bullet] Penetration failed (distance roll)
[21:42:28] [ENEMY] [Enemy6] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=175.9°, current=175.9°, player=(224,1104), corner_timer=0.25
[21:42:28] [ENEMY] [Enemy6] State: COMBAT -> PURSUING
[21:42:28] [ENEMY] [Enemy1] FLANKING corner check: angle 59.6°
[21:42:28] [ENEMY] [Enemy5] Warning: No valid flank position (both sides behind walls)
[21:42:28] [ENEMY] [Enemy5] FLANKING started: target=(272.7949, 888.0472), side=left, pos=(1614.067, 934.9842)
[21:42:28] [ENEMY] [Enemy5] State: PURSUING -> FLANKING
[21:42:28] [INFO] [BloodyFeet:Enemy1] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[21:42:29] [ENEMY] [Enemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=145.0°, current=144.7°, player=(168,1040), corner_timer=0.12
[21:42:29] [ENEMY] [Enemy1] State: FLANKING -> COMBAT
[21:42:29] [ENEMY] [Enemy5] FLANKING corner check: angle 36.8°
[21:42:29] [INFO] [ReplayManager] Recording frame 1440 (24,0s): player_valid=True, enemies=10
[21:42:29] [ENEMY] [Enemy10] State: SUPPRESSED -> IN_COVER
[21:42:29] [ENEMY] [Enemy10] State: IN_COVER -> PURSUING
[21:42:29] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=-157.8°, current=0.6°, player=(156,974), corner_timer=0.07
[21:42:29] [ENEMY] [Enemy5] FLANKING corner check: angle 98.9°
[21:42:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(857.5991, 544.8204), source=ENEMY (Enemy1), range=1469, listeners=10
[21:42:29] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=7
[21:42:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(825.8424, 564.4489), source=ENEMY (Enemy1), range=1469, listeners=10
[21:42:29] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=7
[21:42:29] [ENEMY] [Enemy1] State: COMBAT -> RETREATING
[21:42:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(794.4713, 584.6864), source=ENEMY (Enemy1), range=1469, listeners=10
[21:42:29] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=7
[21:42:29] [ENEMY] [Enemy5] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=-179.7°, current=161.5°, player=(156,1019), corner_timer=0.00
[21:42:29] [ENEMY] [Enemy5] State: FLANKING -> COMBAT
[21:42:29] [ENEMY] [Enemy1] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=59.6°, current=145.3°, player=(156,1046), corner_timer=0.05
[21:42:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(804.03687, 586.7886), shooter_id=874277506147, bullet_pos=(61.06989, 1048.9847)
[21:42:29] [INFO] [Bullet] Using shooter_position, distance=875,0001
[21:42:29] [INFO] [Bullet] Distance to wall: 875,0001 (59,580368% of viewport)
[21:42:29] [ENEMY] [Enemy1] State: RETREATING -> IN_COVER
[21:42:29] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[21:42:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(772.821, 607.0671), shooter_id=874277506147, bullet_pos=(33.830936, 1075.5951)
[21:42:30] [INFO] [Bullet] Using shooter_position, distance=874,9999
[21:42:30] [INFO] [Bullet] Distance to wall: 874,9999 (59,58035% of viewport)
[21:42:30] [ENEMY] [Enemy6] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=175.8°, current=176.0°, player=(156,1112), corner_timer=0.25
[21:42:30] [ENEMY] [Enemy6] State: PURSUING -> COMBAT
[21:42:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(742.814, 628.8572), shooter_id=874277506147, bullet_pos=(44.481102, 1083.5837)
[21:42:30] [INFO] [Bullet] Using shooter_position, distance=833,33374
[21:42:30] [INFO] [Bullet] Distance to wall: 833,33374 (56,74323% of viewport)
[21:42:30] [INFO] [Bullet] Distance-based penetration chance: 80,46623%
[21:42:30] [INFO] [Bullet] Penetration failed (distance roll)
[21:42:30] [INFO] [BloodyFeet:Enemy3] Blood ran out - no more footprints
[21:42:30] [ENEMY] [Enemy2] Warning: No valid flank position (both sides behind walls)
[21:42:30] [ENEMY] [Enemy2] FLANKING started: target=(277.3554, 1321.777), side=right, pos=(1622.289, 977.9847)
[21:42:30] [ENEMY] [Enemy2] State: PURSUING -> FLANKING
[21:42:30] [INFO] [ReplayManager] Recording frame 1500 (25,0s): player_valid=True, enemies=10
[21:42:30] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=172.3°, current=172.3°, player=(156,1189), corner_timer=0.07
[21:42:30] [ENEMY] [Enemy2] State: FLANKING -> COMBAT
[21:42:30] [ENEMY] [Enemy3] PURSUING corner check: angle -91.1°
[21:42:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1394.172, 1039.786), source=ENEMY (Enemy5), range=1469, listeners=10
[21:42:30] [INFO] [SoundPropagation] Sound result: notified=5, out_of_range=0, self=1, below_threshold=4
[21:42:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1375.831, 1048.418), source=ENEMY (Enemy5), range=1469, listeners=10
[21:42:30] [INFO] [SoundPropagation] Sound result: notified=5, out_of_range=0, self=1, below_threshold=4
[21:42:30] [ENEMY] [Enemy4] State: SUPPRESSED -> IN_COVER
[21:42:30] [ENEMY] [Enemy7] State: SUPPRESSED -> IN_COVER
[21:42:30] [ENEMY] [Enemy4] State: IN_COVER -> PURSUING
[21:42:30] [ENEMY] [Enemy7] State: IN_COVER -> PURSUING
[21:42:30] [ENEMY] [Enemy4] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=167.8°, current=36.3°, player=(156,1261), corner_timer=0.07
[21:42:30] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=165.2°, current=88.4°, player=(156,1261), corner_timer=0.08
[21:42:30] [ENEMY] [Enemy5] State: COMBAT -> RETREATING
[21:42:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1339.562, 1048.066), source=ENEMY (Enemy5), range=1469, listeners=10
[21:42:30] [INFO] [SoundPropagation] Sound result: notified=5, out_of_range=0, self=1, below_threshold=4
[21:42:30] [ENEMY] [Enemy6] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=167.4°, current=167.4°, player=(156,1294), corner_timer=0.25
[21:42:30] [ENEMY] [Enemy6] State: COMBAT -> PURSUING
[21:42:30] [ENEMY] [Enemy10] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-172.9°, current=-172.6°, player=(156,1294), corner_timer=0.07
[21:42:30] [ENEMY] [Enemy10] State: PURSUING -> COMBAT
[21:42:30] [ENEMY] [Enemy10] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-173.4°, current=95.6°, player=(156,1305), corner_timer=0.07
[21:42:30] [ENEMY] [Enemy3] PURSUING corner check: angle -101.7°
[21:42:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1541.795, 1014.065), source=ENEMY (Enemy2), range=1469, listeners=10
[21:42:30] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=0, self=1, below_threshold=5
[21:42:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1328.1047, 1055.9547), shooter_id=875686792218, bullet_pos=(46.24792, 1214.8448)
[21:42:30] [INFO] [Bullet] Using shooter_position, distance=1291,6667
[21:42:30] [INFO] [Bullet] Distance to wall: 1291,6667 (87,951965% of viewport)
[21:42:30] [INFO] [Bullet] Distance-based penetration chance: 44,056046%
[21:42:30] [INFO] [Bullet] Starting wall penetration at (46.24792, 1214.8448)
[21:42:30] [INFO] [Bullet] Raycast backward hit penetrating body at distance 32,3097
[21:42:30] [INFO] [Bullet] Body exited signal received for penetrating body
[21:42:30] [INFO] [Bullet] Exiting penetration at (-0.06432724, 1220.5854) after traveling 41,666668 pixels through wall
[21:42:30] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[21:42:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1505.695, 1014.065), source=ENEMY (Enemy2), range=1469, listeners=10
[21:42:31] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=0, self=1, below_threshold=5
[21:42:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1310.208, 1066.2904), shooter_id=875686792218, bullet_pos=(33.61759, 1263.064)
[21:42:31] [INFO] [Bullet] Using shooter_position, distance=1291,6667
[21:42:31] [INFO] [Bullet] Distance to wall: 1291,6667 (87,951965% of viewport)
[21:42:31] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[21:42:31] [ENEMY] [Enemy4] State: PURSUING -> RETREATING
[21:42:31] [ENEMY] [Enemy6] State: PURSUING -> RETREATING
[21:42:31] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=36.3°, current=128.0°, player=(156,1357), corner_timer=0.07
[21:42:31] [ENEMY] [Enemy6] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=50.8°, current=164.6°, player=(156,1357), corner_timer=0.25
[21:42:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1274.679, 1068.3083), shooter_id=875686792218, bullet_pos=(42.8273, 1280.5386)
[21:42:31] [INFO] [Bullet] Using shooter_position, distance=1250,0001
[21:42:31] [INFO] [Bullet] Distance to wall: 1250,0001 (85,11481% of viewport)
[21:42:31] [INFO] [Bullet] Distance-based penetration chance: 47,36606%
[21:42:31] [INFO] [Bullet] Penetration failed (distance roll)
[21:42:31] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=34.9°, current=164.5°, player=(156,1357), corner_timer=0.07
[21:42:31] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[21:42:31] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[21:42:31] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[21:42:31] [ENEMY] [Enemy6] State: RETREATING -> IN_COVER
[21:42:31] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[21:42:31] [ENEMY] [Enemy6] State: IN_COVER -> SUPPRESSED
[21:42:31] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[21:42:31] [INFO] [ReplayManager] Recording frame 1560 (26,0s): player_valid=True, enemies=10
[21:42:31] [INFO] [LastChance] Threat detected: @Area2D@2630
[21:42:31] [INFO] [LastChance] Not in hard mode - effect disabled
[21:42:31] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:42:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1477.88, 1037.3596), shooter_id=874629827704, bullet_pos=(57.22377, 1366.7108)
[21:42:31] [INFO] [Bullet] Using shooter_position, distance=1458,3334
[21:42:31] [INFO] [Bullet] Distance to wall: 1458,3334 (99,300606% of viewport)
[21:42:31] [INFO] [LastChance] Threat detected: Bullet
[21:42:31] [INFO] [LastChance] Not in hard mode - effect disabled
[21:42:31] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:42:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1477.88, 1037.3596), shooter_id=874629827704, bullet_pos=(199.86063, 1400.8553)
[21:42:31] [INFO] [Bullet] Using shooter_position, distance=1328,7072
[21:42:31] [INFO] [Bullet] Distance to wall: 1328,7072 (90,47411% of viewport)
[21:42:31] [INFO] [Player] Hit blocked by invincibility mode (C#)
[21:42:31] [INFO] [Player] Spawning blood effect at (156.51526, 1357.1328), dir=(1, 0), lethal=False (C#)
[21:42:31] [INFO] [ImpactEffects] spawn_blood_effect called at (156.5153, 1357.133), dir=(1, 0), lethal=false
[21:42:31] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:42:31] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:42:31] [INFO] [ImpactEffects] Blood effect spawned at (156.5153, 1357.133) (scale=1)
[21:42:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1477.88, 1037.3596), shooter_id=874629827704, bullet_pos=(48.66034, 1437.2589)
[21:42:31] [INFO] [Bullet] Using shooter_position, distance=1484,112
[21:42:31] [INFO] [Bullet] Distance to wall: 1484,112 (101,05592% of viewport)
[21:42:31] [INFO] [BloodDecal] Blood puddle created at (200.1063, 1351.155) (added to group)
[21:42:31] [ENEMY] [Enemy6] State: SUPPRESSED -> SEEKING_COVER
[21:42:31] [INFO] [BloodDecal] Blood puddle created at (224.3824, 1379.432) (added to group)
[21:42:31] [INFO] [BloodDecal] Blood puddle created at (216.202, 1365.031) (added to group)
[21:42:31] [ENEMY] [Enemy6] State: SEEKING_COVER -> IN_COVER
[21:42:31] [ENEMY] [Enemy6] State: IN_COVER -> SUPPRESSED
[21:42:31] [ENEMY] [Enemy5] State: RETREATING -> IN_COVER
[21:42:31] [ENEMY] [Enemy5] State: IN_COVER -> SUPPRESSED
[21:42:32] [ENEMY] [Enemy7] Warning: No valid flank position (both sides behind walls)
[21:42:32] [ENEMY] [Enemy7] FLANKING started: target=(311.1393, 1531.651), side=right, pos=(1427.803, 926.0685)
[21:42:32] [ENEMY] [Enemy7] State: PURSUING -> FLANKING
[21:42:32] [INFO] [BloodDecal] Blood puddle created at (295.6865, 1373.811) (added to group)
[21:42:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1072.605, 1048.067), source=ENEMY (Enemy5), range=1469, listeners=10
[21:42:32] [INFO] [SoundPropagation] Sound result: notified=5, out_of_range=0, self=1, below_threshold=4
[21:42:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1072.605, 1048.067), source=ENEMY (Enemy5), range=1469, listeners=10
[21:42:32] [INFO] [SoundPropagation] Sound result: notified=5, out_of_range=0, self=1, below_threshold=4
[21:42:32] [ENEMY] [Enemy7] FLANKING corner check: angle 42.7°
[21:42:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1072.605, 1048.067), source=ENEMY (Enemy5), range=1469, listeners=10
[21:42:32] [INFO] [SoundPropagation] Sound result: notified=5, out_of_range=0, self=1, below_threshold=4
[21:42:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1072.605, 1048.067), source=ENEMY (Enemy5), range=1469, listeners=10
[21:42:32] [INFO] [SoundPropagation] Sound result: notified=5, out_of_range=0, self=1, below_threshold=4
[21:42:32] [INFO] [ReplayManager] Recording frame 1620 (27,0s): player_valid=True, enemies=10
[21:42:32] [ENEMY] [Enemy5] State: SUPPRESSED -> SEEKING_COVER
[21:42:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1012.1723, 1079.4866), shooter_id=875686792218, bullet_pos=(565.7194, 1386.2164)
[21:42:32] [INFO] [Bullet] Using shooter_position, distance=541,66724
[21:42:32] [INFO] [Bullet] Distance to wall: 541,66724 (36,883118% of viewport)
[21:42:32] [INFO] [Bullet] Within ricochet range - trying ricochet first
[21:42:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1072.605, 1048.067), source=ENEMY (Enemy5), range=1469, listeners=10
[21:42:32] [INFO] [SoundPropagation] Sound result: notified=5, out_of_range=0, self=1, below_threshold=4
[21:42:32] [ENEMY] [Enemy1] State: SUPPRESSED -> IN_COVER
[21:42:32] [ENEMY] [Enemy5] ROT_CHANGE: P1:visible -> P4:velocity, state=SEEKING_COVER, target=32.7°, current=57.2°, player=(156,1326), corner_timer=-0.02
[21:42:32] [ENEMY] [Enemy10] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-174.3°, current=-174.6°, player=(156,1326), corner_timer=0.07
[21:42:32] [ENEMY] [Enemy1] State: IN_COVER -> PURSUING
[21:42:32] [ENEMY] [Enemy1] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=132.8°, current=59.6°, player=(156,1316), corner_timer=0.05
[21:42:32] [ENEMY] [Enemy7] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=167.2°, current=153.8°, player=(156,1300), corner_timer=0.03
[21:42:32] [ENEMY] [Enemy7] State: FLANKING -> COMBAT
[21:42:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1011.7184, 1078.6871), shooter_id=875686792218, bullet_pos=(330.01233, 1391.38)
[21:42:32] [INFO] [Bullet] Using shooter_position, distance=750
[21:42:32] [INFO] [Bullet] Distance to wall: 750 (51,06888% of viewport)
[21:42:32] [ENEMY] [Enemy10] State: PURSUING -> COMBAT
[21:42:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1011.7184, 1078.6871), shooter_id=875686792218, bullet_pos=(58.896454, 1293.2357)
[21:42:32] [INFO] [Bullet] Using shooter_position, distance=976,67834
[21:42:32] [INFO] [Bullet] Distance to wall: 976,67834 (66,50383% of viewport)
[21:42:32] [INFO] [Bullet] Distance-based penetration chance: 69,078865%
[21:42:32] [INFO] [Bullet] Penetration failed (distance roll)
[21:42:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1012.1723, 1079.4866), shooter_id=875686792218, bullet_pos=(41.958374, 1079.2571)
[21:42:32] [INFO] [Bullet] Using shooter_position, distance=970,2139
[21:42:32] [INFO] [Bullet] Distance to wall: 970,2139 (66,06365% of viewport)
[21:42:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1011.11615, 1077.5543), shooter_id=875686792218, bullet_pos=(62.834606, 1394.986)
[21:42:32] [INFO] [Bullet] Using shooter_position, distance=1000,00037
[21:42:32] [INFO] [Bullet] Distance to wall: 1000,00037 (68,091866% of viewport)
[21:42:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1010.47174, 1076.225), shooter_id=875686792218, bullet_pos=(58.085556, 1182.8218)
[21:42:32] [INFO] [Bullet] Using shooter_position, distance=958,33307
[21:42:32] [INFO] [Bullet] Distance to wall: 958,33307 (65,25466% of viewport)
[21:42:32] [INFO] [Bullet] Distance-based penetration chance: 70,536224%
[21:42:32] [INFO] [Bullet] Starting wall penetration at (58.085556, 1182.8218)
[21:42:32] [INFO] [Bullet] Raycast backward hit penetrating body at distance 20,41822
[21:42:32] [INFO] [Bullet] Body exited signal received for penetrating body
[21:42:32] [INFO] [Bullet] Exiting penetration at (11.708481, 1188.0126) after traveling 41,666668 pixels through wall
[21:42:32] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[21:42:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1014.57983, 1063.8184), shooter_id=875686792218, bullet_pos=(59.428463, 1359.9365)
[21:42:32] [INFO] [Bullet] Using shooter_position, distance=1000,00006
[21:42:32] [INFO] [Bullet] Distance to wall: 1000,00006 (68,09184% of viewport)
[21:42:32] [ENEMY] [Enemy10] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-170.8°, current=-170.8°, player=(156,1279), corner_timer=0.07
[21:42:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1361.976, 1048.065), source=ENEMY (Enemy7), range=1469, listeners=10
[21:42:33] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=0, self=1, below_threshold=5
[21:42:33] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[21:42:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1325.485, 1048.066), source=ENEMY (Enemy7), range=1469, listeners=10
[21:42:33] [INFO] [SoundPropagation] Sound result: notified=5, out_of_range=0, self=1, below_threshold=4
[21:42:33] [ENEMY] [Enemy7] State: COMBAT -> RETREATING
[21:42:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1288.971, 1048.066), source=ENEMY (Enemy7), range=1469, listeners=10
[21:42:33] [INFO] [SoundPropagation] Sound result: notified=5, out_of_range=0, self=1, below_threshold=4
[21:42:33] [INFO] [ReplayManager] Recording frame 1680 (28,0s): player_valid=True, enemies=10
[21:42:33] [INFO] [LastChance] Threat detected: Bullet
[21:42:33] [INFO] [LastChance] Not in hard mode - effect disabled
[21:42:33] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:42:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1297.0693, 1068.4824), shooter_id=876391435347, bullet_pos=(29.514187, 1316.8911)
[21:42:33] [INFO] [Bullet] Using shooter_position, distance=1291,6667
[21:42:33] [INFO] [Bullet] Distance to wall: 1291,6667 (87,951965% of viewport)
[21:42:33] [ENEMY] [Enemy4] State: SUPPRESSED -> IN_COVER
[21:42:33] [INFO] [LastChance] Threat detected: @Area2D@2668
[21:42:33] [INFO] [LastChance] Not in hard mode - effect disabled
[21:42:33] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:42:33] [ENEMY] [Enemy2] State: SUPPRESSED -> IN_COVER
[21:42:33] [ENEMY] [Enemy4] State: IN_COVER -> PURSUING
[21:42:33] [ENEMY] [Enemy6] State: SUPPRESSED -> IN_COVER
[21:42:33] [ENEMY] [Enemy2] State: IN_COVER -> PURSUING
[21:42:33] [ENEMY] [Enemy4] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=167.9°, current=36.3°, player=(80,1267), corner_timer=0.07
[21:42:33] [ENEMY] [Enemy6] State: IN_COVER -> PURSUING
[21:42:33] [ENEMY] [Enemy2] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=168.0°, current=34.9°, player=(80,1266), corner_timer=0.07
[21:42:33] [ENEMY] [Enemy6] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=167.9°, current=50.8°, player=(80,1266), corner_timer=0.25
[21:42:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1260.6638, 1068.7601), shooter_id=876391435347, bullet_pos=(33.693886, 1307.6029)
[21:42:33] [INFO] [Bullet] Using shooter_position, distance=1250,0005
[21:42:33] [INFO] [Bullet] Distance to wall: 1250,0005 (85,11484% of viewport)
[21:42:33] [INFO] [LastChance] Threat detected: @Area2D@2671
[21:42:33] [INFO] [LastChance] Not in hard mode - effect disabled
[21:42:33] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:42:33] [INFO] [Player] Hit blocked by invincibility mode (C#)
[21:42:33] [INFO] [Player] Spawning blood effect at (83.40112, 1266.5217), dir=(1, 0), lethal=False (C#)
[21:42:33] [INFO] [ImpactEffects] spawn_blood_effect called at (83.40112, 1266.522), dir=(1, 0), lethal=false
[21:42:33] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:42:33] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:42:33] [INFO] [ImpactEffects] Blood effect spawned at (83.40112, 1266.522) (scale=1)
[21:42:33] [INFO] [BloodDecal] Blood puddle created at (147.02, 1300.776) (added to group)
[21:42:33] [INFO] [BloodDecal] Blood puddle created at (168.5189, 1315.576) (added to group)
[21:42:34] [ENEMY] [Enemy1] PURSUING corner check: angle -142.6°
[21:42:34] [INFO] [BloodDecal] Blood puddle created at (143.4727, 1290.824) (added to group)
[21:42:34] [INFO] [BloodDecal] Blood puddle created at (169.5116, 1297.189) (added to group)
[21:42:34] [INFO] [BloodDecal] Blood puddle created at (216.874, 1338.948) (added to group)
[21:42:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1093.242, 1049.042), source=ENEMY (Enemy7), range=1469, listeners=10
[21:42:34] [INFO] [SoundPropagation] Sound result: notified=5, out_of_range=0, self=1, below_threshold=4
[21:42:34] [INFO] [BloodDecal] Blood puddle created at (224.5988, 1281.065) (added to group)
[21:42:34] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[21:42:34] [INFO] [BloodDecal] Blood puddle created at (237.6698, 1255.096) (added to group)
[21:42:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1071.879, 1064.095), source=ENEMY (Enemy7), range=1469, listeners=10
[21:42:34] [INFO] [SoundPropagation] Sound result: notified=6, out_of_range=0, self=1, below_threshold=3
[21:42:34] [ENEMY] [Enemy1] PURSUING corner check: angle 37.4°
[21:42:34] [INFO] [BloodDecal] Blood puddle created at (260.5174, 1347.029) (added to group)
[21:42:34] [INFO] [ReplayManager] Recording frame 1740 (29,0s): player_valid=True, enemies=10
[21:42:34] [INFO] [BloodDecal] Blood puddle created at (189.8148, 1407.531) (added to group)
[21:42:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1101.106, 1048.066), source=ENEMY (Enemy7), range=1469, listeners=10
[21:42:34] [INFO] [SoundPropagation] Sound result: notified=6, out_of_range=0, self=1, below_threshold=3
[21:42:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1029.7406, 1072.4396), shooter_id=876391435347, bullet_pos=(36.44727, 1188.0597)
[21:42:34] [INFO] [Bullet] Using shooter_position, distance=999,9998
[21:42:34] [INFO] [Bullet] Distance to wall: 999,9998 (68,09183% of viewport)
[21:42:34] [ENEMY] [Enemy10] Warning: No valid flank position (both sides behind walls)
[21:42:34] [ENEMY] [Enemy10] FLANKING started: target=(342.1881, 1116.326), side=left, pos=(996.8431, 1424.075)
[21:42:34] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[21:42:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1131.03, 1070.398), source=ENEMY (Enemy7), range=1469, listeners=10
[21:42:34] [INFO] [SoundPropagation] Sound result: notified=5, out_of_range=0, self=1, below_threshold=4
[21:42:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1007.78973, 1087.1345), shooter_id=876391435347, bullet_pos=(54.10106, 1181.3694)
[21:42:34] [INFO] [Bullet] Using shooter_position, distance=958,33307
[21:42:34] [INFO] [Bullet] Distance to wall: 958,33307 (65,25466% of viewport)
[21:42:34] [ENEMY] [Enemy10] FLANKING corner check: angle 89.5°
[21:42:34] [ENEMY] [Enemy10] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=-169.3°, current=-154.5°, player=(210,1266), corner_timer=0.23
[21:42:34] [ENEMY] [Enemy10] State: FLANKING -> COMBAT
[21:42:34] [ENEMY] [Enemy3] GLOBAL STUCK: pos=(557.1268, 974.9447) for 4.0s without player contact, State: PURSUING -> SEARCHING
[21:42:34] [ENEMY] [Enemy3] SEARCHING started: center=(557.1268, 974.9447), radius=100, waypoints=5
[21:42:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1037.3848, 1071.7201), shooter_id=876391435347, bullet_pos=(44.855377, 1387.8761)
[21:42:34] [INFO] [Bullet] Using shooter_position, distance=1041,6666
[21:42:34] [INFO] [Bullet] Distance to wall: 1041,6666 (70,92899% of viewport)
[21:42:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1186.175, 1069.625), source=ENEMY (Enemy7), range=1469, listeners=10
[21:42:34] [INFO] [SoundPropagation] Sound result: notified=5, out_of_range=0, self=1, below_threshold=4
[21:42:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1066.3031, 1092.154), shooter_id=876391435347, bullet_pos=(242.68628, 1387.587)
[21:42:34] [INFO] [Bullet] Using shooter_position, distance=875,0002
[21:42:34] [INFO] [Bullet] Distance to wall: 875,0002 (59,580376% of viewport)
[21:42:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1066.3031, 1092.154), shooter_id=876391435347, bullet_pos=(64.87309, 1348.3849)
[21:42:35] [INFO] [Bullet] Using shooter_position, distance=1033,6906
[21:42:35] [INFO] [Bullet] Distance to wall: 1033,6906 (70,385895% of viewport)
[21:42:35] [INFO] [LastChance] Threat detected: @Area2D@2689
[21:42:35] [INFO] [LastChance] Not in hard mode - effect disabled
[21:42:35] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:42:35] [ENEMY] [Enemy4] Warning: No valid flank position (both sides behind walls)
[21:42:35] [ENEMY] [Enemy4] FLANKING started: target=(261.8861, 1113.026), side=left, pos=(1484.396, 966.8987)
[21:42:35] [ENEMY] [Enemy4] State: PURSUING -> FLANKING
[21:42:35] [ENEMY] [Enemy2] Warning: No valid flank position (both sides behind walls)
[21:42:35] [ENEMY] [Enemy2] FLANKING started: target=(350.6606, 1451.984), side=right, pos=(1475.94, 970.2949)
[21:42:35] [ENEMY] [Enemy2] State: PURSUING -> FLANKING
[21:42:35] [ENEMY] [Enemy6] Warning: No valid flank position (both sides behind walls)
[21:42:35] [ENEMY] [Enemy6] FLANKING started: target=(260.3153, 1117.316), side=left, pos=(1478.456, 966.3821)
[21:42:35] [ENEMY] [Enemy6] State: PURSUING -> FLANKING
[21:42:35] [ENEMY] [Enemy4] FLANKING corner check: angle 29.1°
[21:42:35] [ENEMY] [Enemy2] FLANKING corner check: angle 27.6°
[21:42:35] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=165.0°, current=138.6°, player=(195,1340), corner_timer=0.28
[21:42:35] [ENEMY] [Enemy4] State: FLANKING -> COMBAT
[21:42:35] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=165.0°, current=136.7°, player=(192,1344), corner_timer=0.28
[21:42:35] [ENEMY] [Enemy2] State: FLANKING -> COMBAT
[21:42:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1241.535, 1069.681), source=ENEMY (Enemy7), range=1469, listeners=10
[21:42:35] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=0, self=1, below_threshold=5
[21:42:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1121.413, 1091.1199), shooter_id=876391435347, bullet_pos=(253.94807, 1387.4001)
[21:42:35] [INFO] [Bullet] Using shooter_position, distance=916,66644
[21:42:35] [INFO] [Bullet] Distance to wall: 916,66644 (62,417507% of viewport)
[21:42:35] [INFO] [Player] Hit blocked by invincibility mode (C#)
[21:42:35] [INFO] [Player] Spawning blood effect at (167.06357, 1372.6414), dir=(1, 0), lethal=False (C#)
[21:42:35] [INFO] [ImpactEffects] spawn_blood_effect called at (167.0636, 1372.641), dir=(1, 0), lethal=false
[21:42:35] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:42:35] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:42:35] [INFO] [ImpactEffects] Blood effect spawned at (167.0636, 1372.641) (scale=1)
[21:42:35] [INFO] [ReplayManager] Recording frame 1800 (30,0s): player_valid=True, enemies=10
[21:42:35] [ENEMY] [Enemy6] FLANKING corner check: angle 74.1°
[21:42:35] [ENEMY] [Enemy10] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=178.8°, current=178.8°, player=(155,1400), corner_timer=0.23
[21:42:35] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[21:42:35] [ENEMY] [Enemy7] State: RETREATING -> IN_COVER
[21:42:35] [ENEMY] [Enemy5] State: SEEKING_COVER -> IN_COVER
[21:42:35] [ENEMY] [Enemy7] State: IN_COVER -> SUPPRESSED
[21:42:35] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=162.4°, current=162.4°, player=(154,1416), corner_timer=0.28
[21:42:35] [ENEMY] [Enemy4] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=162.4°, current=162.4°, player=(154,1416), corner_timer=0.28
[21:42:35] [ENEMY] [Enemy5] State: IN_COVER -> SUPPRESSED
[21:42:35] [ENEMY] [Enemy7] ROT_CHANGE: P1:visible -> P3:corner, state=SUPPRESSED, target=42.7°, current=162.6°, player=(154,1416), corner_timer=0.03
[21:42:35] [INFO] [BloodDecal] Blood puddle created at (237.1297, 1364.217) (added to group)
[21:42:35] [ENEMY] [Enemy6] FLANKING corner check: angle 101.4°
[21:42:35] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[21:42:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1178.3848, 1094.649), shooter_id=876391435347, bullet_pos=(36.08261, 1331.8356)
[21:42:35] [INFO] [Bullet] Using shooter_position, distance=1166,6669
[21:42:35] [INFO] [Bullet] Distance to wall: 1166,6669 (79,44049% of viewport)
[21:42:35] [INFO] [Bullet] Distance-based penetration chance: 53,986095%
[21:42:35] [INFO] [Bullet] Penetration failed (distance roll)
[21:42:35] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[21:42:35] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=159.2°, current=159.4°, player=(154,1494), corner_timer=0.28
[21:42:35] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=159.2°, current=159.3°, player=(154,1494), corner_timer=0.28
[21:42:35] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P1:visible, state=SUPPRESSED, target=158.6°, current=113.9°, player=(154,1497), corner_timer=0.03
[21:42:35] [INFO] [BloodDecal] Blood puddle created at (310.2723, 1380.654) (added to group)
[21:42:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1270.667, 1061.323), source=ENEMY (Enemy7), range=1469, listeners=10
[21:42:35] [ENEMY] [Enemy6] Heard gunshot at (1270.667, 1061.323), source_type=1, intensity=1.00, distance=15
[21:42:35] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=0, self=1, below_threshold=5
[21:42:35] [INFO] [BloodDecal] Blood puddle created at (321.4226, 1369.419) (added to group)
[21:42:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1270.667, 1061.323), source=ENEMY (Enemy7), range=1469, listeners=10
[21:42:35] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=0, self=1, below_threshold=5
[21:42:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1270.667, 1061.323), source=ENEMY (Enemy7), range=1469, listeners=10
[21:42:36] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=0, self=1, below_threshold=5
[21:42:36] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[21:42:36] [ENEMY] [Enemy7] State: SUPPRESSED -> SEEKING_COVER
[21:42:36] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[21:42:36] [ENEMY] [Enemy7] State: SEEKING_COVER -> IN_COVER
[21:42:36] [ENEMY] [Enemy7] State: IN_COVER -> SUPPRESSED
[21:42:36] [ENEMY] [Enemy6] State: COMBAT -> RETREATING
[21:42:36] [ENEMY] [Enemy6] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=101.4°, current=36.4°, player=(154,1497), corner_timer=0.13
[21:42:36] [ENEMY] [Enemy6] State: RETREATING -> IN_COVER
[21:42:36] [ENEMY] [Enemy7] ROT_CHANGE: P1:visible -> P3:corner, state=SUPPRESSED, target=42.7°, current=150.0°, player=(154,1497), corner_timer=0.03
[21:42:36] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=159.2°, current=159.2°, player=(154,1494), corner_timer=0.28
[21:42:36] [ENEMY] [Enemy4] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=159.2°, current=159.2°, player=(154,1494), corner_timer=0.28
[21:42:36] [ENEMY] [Enemy6] State: IN_COVER -> SUPPRESSED
[21:42:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1214.0105, 1091.4308), shooter_id=876391435347, bullet_pos=(670.86597, 1400.6538)
[21:42:36] [INFO] [Bullet] Using shooter_position, distance=624,9999
[21:42:36] [INFO] [Bullet] Distance to wall: 624,9999 (42,557392% of viewport)
[21:42:36] [ENEMY] [Enemy1] PURSUING corner check: angle -113.6°
[21:42:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1212.9774, 1092.6522), shooter_id=876391435347, bullet_pos=(573.30676, 1396.8842)
[21:42:36] [INFO] [Bullet] Using shooter_position, distance=708,33295
[21:42:36] [INFO] [Bullet] Distance to wall: 708,33295 (48,231693% of viewport)
[21:42:36] [ENEMY] [Enemy10] State: PURSUING -> RETREATING
[21:42:36] [ENEMY] [Enemy10] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=89.5°, current=174.1°, player=(154,1445), corner_timer=0.23
[21:42:36] [ENEMY] [Enemy10] State: RETREATING -> IN_COVER
[21:42:36] [ENEMY] [Enemy10] State: IN_COVER -> SUPPRESSED
[21:42:36] [INFO] [ReplayManager] Recording frame 1860 (31,0s): player_valid=True, enemies=10
[21:42:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1211.6367, 1093.4323), shooter_id=876391435347, bullet_pos=(298.79053, 1385.1746)
[21:42:36] [INFO] [Bullet] Using shooter_position, distance=958,3328
[21:42:36] [INFO] [Bullet] Distance to wall: 958,3328 (65,25465% of viewport)
[21:42:36] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=162.5°, current=162.5°, player=(154,1414), corner_timer=0.28
[21:42:36] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=162.6°, current=162.5°, player=(154,1414), corner_timer=0.28
[21:42:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1214.0105, 1091.4308), shooter_id=876391435347, bullet_pos=(51.141068, 1125.8593)
[21:42:36] [INFO] [Bullet] Using shooter_position, distance=1163,379
[21:42:36] [INFO] [Bullet] Distance to wall: 1163,379 (79,21661% of viewport)
[21:42:36] [INFO] [Bullet] Distance-based penetration chance: 54,247284%
[21:42:36] [INFO] [Bullet] Starting wall penetration at (51.141068, 1125.8593)
[21:42:36] [ENEMY] [Enemy5] State: SUPPRESSED -> SEEKING_COVER
[21:42:36] [INFO] [Bullet] Raycast backward hit penetrating body at distance 19,47826
[21:42:36] [INFO] [Bullet] Body exited signal received for penetrating body
[21:42:36] [INFO] [Bullet] Exiting penetration at (14.193722, 1109.4763) after traveling 35,416664 pixels through wall
[21:42:36] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[21:42:36] [ENEMY] [Enemy6] State: SUPPRESSED -> SEEKING_COVER
[21:42:36] [ENEMY] [Enemy7] State: SUPPRESSED -> SEEKING_COVER
[21:42:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1212.9774, 1092.6522), shooter_id=876391435347, bullet_pos=(67.805466, 1217.9088)
[21:42:36] [INFO] [Bullet] Using shooter_position, distance=1152,0018
[21:42:36] [INFO] [Bullet] Distance to wall: 1152,0018 (78,441925% of viewport)
[21:42:36] [ENEMY] [Enemy1] PURSUING corner check: angle 27.2°
[21:42:36] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P1:visible, state=SUPPRESSED, target=179.1°, current=134.0°, player=(154,1397), corner_timer=0.23
[21:42:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1211.6367, 1093.4323), shooter_id=876391435347, bullet_pos=(38.100956, 1261.9796)
[21:42:36] [INFO] [Bullet] Using shooter_position, distance=1185,5778
[21:42:36] [INFO] [Bullet] Distance to wall: 1185,5778 (80,72817% of viewport)
[21:42:36] [INFO] [Bullet] Distance-based penetration chance: 52,483795%
[21:42:36] [INFO] [Bullet] Starting wall penetration at (38.100956, 1261.9796)
[21:42:36] [INFO] [Bullet] Raycast backward hit penetrating body at distance 33,66879
[21:42:36] [INFO] [Bullet] Body exited signal received for penetrating body
[21:42:36] [INFO] [Bullet] Exiting penetration at (1.5592155, 1244.7109) after traveling 35,416668 pixels through wall
[21:42:36] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[21:42:36] [ENEMY] [Enemy10] ROT_CHANGE: P1:visible -> P3:corner, state=SUPPRESSED, target=89.5°, current=174.0°, player=(154,1398), corner_timer=0.23
[21:42:36] [ENEMY] [Enemy5] State: SEEKING_COVER -> IN_COVER
[21:42:36] [ENEMY] [Enemy6] State: SEEKING_COVER -> IN_COVER
[21:42:36] [ENEMY] [Enemy7] State: SEEKING_COVER -> IN_COVER
[21:42:36] [ENEMY] [Enemy5] State: IN_COVER -> SUPPRESSED
[21:42:36] [ENEMY] [Enemy6] State: IN_COVER -> SUPPRESSED
[21:42:36] [ENEMY] [Enemy7] State: IN_COVER -> SUPPRESSED
[21:42:36] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=162.4°, current=162.4°, player=(154,1415), corner_timer=0.28
[21:42:36] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[21:42:36] [ENEMY] [Enemy4] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=162.4°, current=162.4°, player=(154,1415), corner_timer=0.28
[21:42:36] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[21:42:36] [ENEMY] [Enemy1] PURSUING corner check: angle -6.3°
[21:42:37] [ENEMY] [Enemy3] SEARCHING corner check: angle -28.5°
[21:42:37] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=162.5°, current=162.4°, player=(154,1413), corner_timer=0.28
[21:42:37] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=162.6°, current=162.5°, player=(154,1413), corner_timer=0.28
[21:42:37] [ENEMY] [Enemy5] State: SUPPRESSED -> SEEKING_COVER
[21:42:37] [ENEMY] [Enemy6] State: SUPPRESSED -> SEEKING_COVER
[21:42:37] [ENEMY] [Enemy7] State: SUPPRESSED -> SEEKING_COVER
[21:42:37] [INFO] [ReplayManager] Recording frame 1920 (32,0s): player_valid=True, enemies=10
[21:42:37] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[21:42:37] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[21:42:37] [ENEMY] [Enemy10] State: SUPPRESSED -> SEEKING_COVER
[21:42:37] [INFO] [BloodyFeet:Player] Blood ran out - no more footprints
[21:42:37] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[21:42:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(154.2349, 1329.827), source=PLAYER (MakarovPM), range=1469, listeners=10
[21:42:37] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=8
[21:42:37] [ENEMY] [Enemy10] State: SEEKING_COVER -> IN_COVER
[21:42:37] [ENEMY] [Enemy10] State: IN_COVER -> SUPPRESSED
[21:42:37] [ENEMY] [Enemy10] State: SUPPRESSED -> SEEKING_COVER
[21:42:37] [ENEMY] [Enemy10] State: SEEKING_COVER -> IN_COVER
[21:42:37] [ENEMY] [Enemy10] State: IN_COVER -> SUPPRESSED
[21:42:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1367.279, 1048.066), source=ENEMY (Enemy2), range=1469, listeners=10
[21:42:37] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=0, self=1, below_threshold=5
[21:42:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1357.161, 1048.074), source=ENEMY (Enemy4), range=1469, listeners=10
[21:42:37] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=0, self=1, below_threshold=5
[21:42:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1330.75, 1048.065), source=ENEMY (Enemy2), range=1469, listeners=10
[21:42:38] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=0, self=1, below_threshold=5
[21:42:38] [ENEMY] [Enemy7] State: SEEKING_COVER -> IN_COVER
[21:42:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(154.2349, 1292.938), source=PLAYER (MakarovPM), range=1469, listeners=10
[21:42:38] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=8
[21:42:38] [ENEMY] [Enemy7] State: IN_COVER -> SUPPRESSED
[21:42:38] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[21:42:38] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[21:42:38] [INFO] [LastChance] Threat detected: @Area2D@2753
[21:42:38] [INFO] [LastChance] Not in hard mode - effect disabled
[21:42:38] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:42:38] [INFO] [LastChance] Threat detected: Bullet
[21:42:38] [INFO] [LastChance] Not in hard mode - effect disabled
[21:42:38] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:42:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1340.714, 1061.786), source=ENEMY (Enemy2), range=1469, listeners=10
[21:42:38] [ENEMY] [Enemy4] Heard gunshot at (1340.714, 1061.786), source_type=1, intensity=1.00, distance=10
[21:42:38] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=0, self=1, below_threshold=5
[21:42:38] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[21:42:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(154.2349, 1292.938), source=PLAYER (MakarovPM), range=1469, listeners=10
[21:42:38] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=8
[21:42:38] [INFO] [Player] Hit blocked by invincibility mode (C#)
[21:42:38] [INFO] [Player] Spawning blood effect at (154.2349, 1286.9384), dir=(1, 0), lethal=False (C#)
[21:42:38] [INFO] [ImpactEffects] spawn_blood_effect called at (154.2349, 1286.938), dir=(1, 0), lethal=false
[21:42:38] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:42:38] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:42:38] [INFO] [ImpactEffects] Blood effect spawned at (154.2349, 1286.938) (scale=1)
[21:42:38] [INFO] [Player] Hit blocked by invincibility mode (C#)
[21:42:38] [INFO] [Player] Spawning blood effect at (154.2349, 1286.9384), dir=(1, 0), lethal=False (C#)
[21:42:38] [INFO] [ImpactEffects] spawn_blood_effect called at (154.2349, 1286.938), dir=(1, 0), lethal=false
[21:42:38] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:42:38] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:42:38] [INFO] [ImpactEffects] Blood effect spawned at (154.2349, 1286.938) (scale=1)
[21:42:38] [INFO] [ReplayManager] Recording frame 1980 (33,0s): player_valid=True, enemies=10
[21:42:38] [INFO] [LastChance] Threat detected: @Area2D@2756
[21:42:38] [INFO] [LastChance] Not in hard mode - effect disabled
[21:42:38] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:42:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1362.99, 1048.213), source=ENEMY (Enemy2), range=1469, listeners=10
[21:42:38] [ENEMY] [Enemy4] Heard gunshot at (1362.99, 1048.213), source_type=1, intensity=1.00, distance=11
[21:42:38] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=0, self=1, below_threshold=5
[21:42:38] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[21:42:38] [INFO] [Player] Hit blocked by invincibility mode (C#)
[21:42:38] [INFO] [Player] Spawning blood effect at (154.2349, 1286.9384), dir=(1, 0), lethal=False (C#)
[21:42:38] [INFO] [ImpactEffects] spawn_blood_effect called at (154.2349, 1286.938), dir=(1, 0), lethal=false
[21:42:38] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:42:38] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:42:38] [INFO] [ImpactEffects] Blood effect spawned at (154.2349, 1286.938) (scale=1)
[21:42:38] [ENEMY] [Enemy1] Warning: No valid flank position (both sides behind walls)
[21:42:38] [ENEMY] [Enemy1] FLANKING started: target=(127.9374, 1088.675), side=left, pos=(558.7328, 975.9326)
[21:42:38] [ENEMY] [Enemy1] State: PURSUING -> FLANKING
[21:42:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(154.2349, 1329.827), shooter_id=878337591581, bullet_pos=(1053.611, 1021.789)
[21:42:38] [INFO] [Bullet] Using shooter_position, distance=950.665344238281
[21:42:38] [INFO] [Bullet] Distance to wall: 950.665344238281 (64.7325514086074% of viewport)
[21:42:38] [ENEMY] [Enemy3] SEARCHING corner check: angle -36.9°
[21:42:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1387.234, 1045.669), source=ENEMY (Enemy2), range=1469, listeners=10
[21:42:38] [ENEMY] [Enemy4] Heard gunshot at (1387.234, 1045.669), source_type=1, intensity=1.00, distance=11
[21:42:38] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=0, self=1, below_threshold=5
[21:42:38] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[21:42:38] [ENEMY] [Enemy6] Hit: dmg=1, hp=4/4->3/4
[21:42:38] [INFO] [ImpactEffects] spawn_blood_effect called at (1345.029, 1068.392), dir=(1, 0), lethal=false
[21:42:38] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:42:38] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:42:38] [INFO] [ImpactEffects] Blood effect spawned at (1345.029, 1068.392) (scale=1)
[21:42:38] [ENEMY] [Enemy6] ROT_CHANGE: P3:corner -> P1:visible, state=SEEKING_COVER, target=169.6°, current=180.0°, player=(154,1286), corner_timer=0.13
[21:42:38] [ENEMY] [Enemy7] State: SUPPRESSED -> IN_COVER
[21:42:38] [ENEMY] [Enemy7] State: IN_COVER -> PURSUING
[21:42:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(154.2349, 1292.938), source=PLAYER (MakarovPM), range=1469, listeners=10
[21:42:38] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=8
[21:42:38] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=166.8°, current=42.7°, player=(154,1286), corner_timer=0.03
[21:42:38] [INFO] [BloodDecal] Blood puddle created at (230.9174, 1293.963) (added to group)
[21:42:38] [INFO] [BloodDecal] Blood puddle created at (207.3005, 1324.577) (added to group)
[21:42:38] [INFO] [BloodDecal] Blood puddle created at (242.9278, 1286.179) (added to group)
[21:42:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1407.636, 1033.399), source=ENEMY (Enemy2), range=1469, listeners=10
[21:42:38] [ENEMY] [Enemy4] Heard gunshot at (1407.636, 1033.399), source_type=1, intensity=1.00, distance=11
[21:42:38] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=0, self=1, below_threshold=5
[21:42:38] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[21:42:38] [ENEMY] [Enemy6] Hit: dmg=1, hp=3/4->2/4
[21:42:38] [INFO] [ImpactEffects] spawn_blood_effect called at (1345.029, 1068.392), dir=(1, 0), lethal=false
[21:42:38] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:42:38] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:42:38] [INFO] [ImpactEffects] Blood effect spawned at (1345.029, 1068.392) (scale=1)
[21:42:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(154.2349, 1292.938), shooter_id=878337591581, bullet_pos=(800.3586, 1021.906)
[21:42:38] [INFO] [Bullet] Using shooter_position, distance=700.667175292969
[21:42:38] [INFO] [Bullet] Distance to wall: 700.667175292969 (47.7097163790242% of viewport)
[21:42:38] [INFO] [Bullet] Distance-based penetration chance: 91.0053308911384%
[21:42:38] [INFO] [Bullet] Caliber cannot penetrate walls
[21:42:38] [ENEMY] [Enemy5] Hit: dmg=1, hp=4/4->3/4
[21:42:38] [INFO] [ImpactEffects] spawn_blood_effect called at (1153.449, 1065.834), dir=(0.927237, 0.374476), lethal=false
[21:42:38] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:42:38] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:42:38] [INFO] [ImpactEffects] Blood effect spawned at (1153.449, 1065.834) (scale=0.5)
[21:42:38] [ENEMY] [Enemy5] ROT_CHANGE: P4:velocity -> P1:visible, state=SEEKING_COVER, target=167.5°, current=-158.0°, player=(154,1286), corner_timer=-0.02
[21:42:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1153.449, 1065.834), source=ENEMY (Enemy5), range=1469, listeners=10
[21:42:38] [INFO] [SoundPropagation] Sound result: notified=5, out_of_range=0, self=1, below_threshold=4
[21:42:38] [INFO] [LastChance] Threat detected: @Area2D@2772
[21:42:38] [INFO] [LastChance] Not in hard mode - effect disabled
[21:42:38] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:42:38] [ENEMY] [Enemy10] State: SUPPRESSED -> IN_COVER
[21:42:38] [INFO] [BloodDecal] Blood puddle created at (218.1496, 1338.585) (added to group)
[21:42:38] [INFO] [BloodDecal] Blood puddle created at (213.5924, 1304.924) (added to group)
[21:42:38] [INFO] [BloodDecal] Blood puddle created at (251.8228, 1362.638) (added to group)
[21:42:38] [INFO] [BloodDecal] Blood puddle created at (245.1043, 1270.633) (added to group)
[21:42:38] [INFO] [BloodDecal] Blood puddle created at (256.9733, 1321.408) (added to group)
[21:42:38] [INFO] [BloodDecal] Blood puddle created at (232.624, 1304.345) (added to group)
[21:42:38] [INFO] [BloodDecal] Blood puddle created at (218.7681, 1317.659) (added to group)
[21:42:38] [ENEMY] [Enemy10] State: IN_COVER -> PURSUING
[21:42:38] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=27.6°, current=167.7°, player=(154,1286), corner_timer=0.28
[21:42:38] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=-168.0°, current=89.5°, player=(154,1286), corner_timer=0.23
[21:42:38] [INFO] [Player] Hit blocked by invincibility mode (C#)
[21:42:38] [INFO] [Player] Spawning blood effect at (154.2349, 1286.9384), dir=(1, 0), lethal=False (C#)
[21:42:38] [INFO] [ImpactEffects] spawn_blood_effect called at (154.2349, 1286.938), dir=(1, 0), lethal=false
[21:42:38] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:42:38] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:42:38] [INFO] [ImpactEffects] Blood effect spawned at (154.2349, 1286.938) (scale=1)
[21:42:38] [ENEMY] [Enemy1] FLANKING corner check: angle -38.8°
[21:42:38] [ENEMY] [Enemy4] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=29.1°, current=167.8°, player=(154,1286), corner_timer=0.28
[21:42:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1153.449, 1065.834), source=ENEMY (Enemy5), range=1469, listeners=10
[21:42:38] [INFO] [SoundPropagation] Sound result: notified=5, out_of_range=0, self=1, below_threshold=4
[21:42:38] [INFO] [BloodDecal] Blood puddle created at (223.2505, 1312.8) (added to group)
[21:42:38] [INFO] [BloodDecal] Blood puddle created at (236.3514, 1306.519) (added to group)
[21:42:38] [INFO] [BloodDecal] Blood puddle created at (258.1771, 1281.947) (added to group)
[21:42:38] [INFO] [BloodDecal] Blood puddle created at (246.7067, 1361.45) (added to group)
[21:42:38] [INFO] [BloodDecal] Blood puddle created at (1399.446, 1108.76) (added to group)
[21:42:38] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[21:42:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1298.1879, 1068.9617), shooter_id=874629827704, bullet_pos=(264.75574, 1393.968)
[21:42:38] [INFO] [Bullet] Using shooter_position, distance=1083,3334
[21:42:38] [INFO] [Bullet] Distance to wall: 1083,3334 (73,76617% of viewport)
[21:42:38] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[21:42:38] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[21:42:38] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[21:42:38] [INFO] [BloodDecal] Blood puddle created at (277.0697, 1300.938) (added to group)
[21:42:38] [INFO] [BloodDecal] Blood puddle created at (228.0176, 1336.861) (added to group)
[21:42:38] [INFO] [BloodDecal] Blood puddle created at (259.0607, 1366.491) (added to group)
[21:42:38] [INFO] [BloodDecal] Blood puddle created at (222.8785, 1325.169) (added to group)
[21:42:38] [INFO] [BloodDecal] Blood puddle created at (223.1703, 1346.952) (added to group)
[21:42:38] [INFO] [BloodDecal] Blood puddle created at (1432.142, 1077.118) (added to group)
[21:42:38] [INFO] [BloodDecal] Blood puddle created at (1452.99, 1059.844) (added to group)
[21:42:38] [INFO] [BloodDecal] Blood puddle created at (1419.615, 1057.25) (added to group)
[21:42:38] [INFO] [BloodDecal] Blood puddle created at (1224.906, 1111.513) (added to group)
[21:42:38] [INFO] [BloodDecal] Blood puddle created at (1193.786, 1084.311) (added to group)
[21:42:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1153.449, 1065.834), source=ENEMY (Enemy5), range=1469, listeners=10
[21:42:38] [INFO] [SoundPropagation] Sound result: notified=5, out_of_range=0, self=1, below_threshold=4
[21:42:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1298.1879, 1068.9617), shooter_id=874629827704, bullet_pos=(56.388115, 1331.6042)
[21:42:39] [INFO] [Bullet] Using shooter_position, distance=1269,2706
[21:42:39] [INFO] [Bullet] Distance to wall: 1269,2706 (86,42697% of viewport)
[21:42:39] [ENEMY] [Enemy3] SEARCHING corner check: angle -36.9°
[21:42:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(154.2349, 1292.938), shooter_id=878337591581, bullet_pos=(800.0411, 1021.151)
[21:42:39] [INFO] [Bullet] Using shooter_position, distance=700.666809082031
[21:42:39] [INFO] [Bullet] Distance to wall: 700.666809082031 (47.7096914430481% of viewport)
[21:42:39] [INFO] [Bullet] Distance-based penetration chance: 91.0053599831106%
[21:42:39] [INFO] [Bullet] Caliber cannot penetrate walls
[21:42:39] [INFO] [BloodDecal] Blood puddle created at (276.6206, 1373.972) (added to group)
[21:42:39] [INFO] [BloodDecal] Blood puddle created at (305.3543, 1353.878) (added to group)
[21:42:39] [INFO] [BloodDecal] Blood puddle created at (310.7312, 1355.261) (added to group)
[21:42:39] [INFO] [BloodDecal] Blood puddle created at (1431.764, 1085.051) (added to group)
[21:42:39] [INFO] [BloodDecal] Blood puddle created at (1458.387, 1068.994) (added to group)
[21:42:39] [INFO] [BloodDecal] Blood puddle created at (1405.193, 1079.644) (added to group)
[21:42:39] [INFO] [BloodDecal] Blood puddle created at (1405.699, 1106.015) (added to group)
[21:42:39] [INFO] [BloodDecal] Blood puddle created at (1386.51, 1066.498) (added to group)
[21:42:39] [INFO] [BloodDecal] Blood puddle created at (1210.212, 1133.896) (added to group)
[21:42:39] [INFO] [BloodDecal] Blood puddle created at (1203.892, 1111.862) (added to group)
[21:42:39] [INFO] [BloodDecal] Blood puddle created at (1255.187, 1115.643) (added to group)
[21:42:39] [INFO] [BloodyFeet:Enemy1] Blood ran out - no more footprints
[21:42:39] [INFO] [Player] Hit blocked by invincibility mode (C#)
[21:42:39] [INFO] [Player] Spawning blood effect at (154.2349, 1286.9384), dir=(1, 0), lethal=False (C#)
[21:42:39] [INFO] [ImpactEffects] spawn_blood_effect called at (154.2349, 1286.938), dir=(1, 0), lethal=false
[21:42:39] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:42:39] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:42:39] [INFO] [ImpactEffects] Blood effect spawned at (154.2349, 1286.938) (scale=1)
[21:42:39] [INFO] [LastChance] Threat detected: @Area2D@2839
[21:42:39] [INFO] [LastChance] Not in hard mode - effect disabled
[21:42:39] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:42:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1153.449, 1065.834), source=ENEMY (Enemy5), range=1469, listeners=10
[21:42:39] [INFO] [SoundPropagation] Sound result: notified=5, out_of_range=0, self=1, below_threshold=4
[21:42:39] [INFO] [BloodDecal] Blood puddle created at (348.0369, 1385.317) (added to group)
[21:42:39] [INFO] [BloodDecal] Blood puddle created at (314.4386, 1340.727) (added to group)
[21:42:39] [INFO] [BloodDecal] Blood puddle created at (284.1155, 1386.541) (added to group)
[21:42:39] [INFO] [BloodDecal] Blood puddle created at (1441.777, 1134.904) (added to group)
[21:42:39] [INFO] [BloodDecal] Blood puddle created at (1439.481, 1155.209) (added to group)
[21:42:39] [INFO] [BloodDecal] Blood puddle created at (1437.609, 1116.848) (added to group)
[21:42:39] [INFO] [BloodDecal] Blood puddle created at (1405.56, 1067.468) (added to group)
[21:42:39] [INFO] [BloodDecal] Blood puddle created at (1213.371, 1136.069) (added to group)
[21:42:39] [INFO] [BloodDecal] Blood puddle created at (1236.967, 1122.748) (added to group)
[21:42:39] [INFO] [BloodDecal] Blood puddle created at (211.7735, 1306.582) (added to group)
[21:42:39] [INFO] [BloodDecal] Blood puddle created at (258.1219, 1306.678) (added to group)
[21:42:39] [INFO] [Player] Hit blocked by invincibility mode (C#)
[21:42:39] [INFO] [Player] Spawning blood effect at (154.2349, 1286.9384), dir=(1, 0), lethal=False (C#)
[21:42:39] [INFO] [ImpactEffects] spawn_blood_effect called at (154.2349, 1286.938), dir=(1, 0), lethal=false
[21:42:39] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:42:39] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:42:39] [INFO] [ImpactEffects] Blood effect spawned at (154.2349, 1286.938) (scale=1)
[21:42:39] [ENEMY] [Enemy1] FLANKING corner check: angle -42.9°
[21:42:39] [INFO] [BloodDecal] Blood puddle created at (1502.33, 1165.124) (added to group)
[21:42:39] [INFO] [BloodDecal] Blood puddle created at (1477.521, 1058.79) (added to group)
[21:42:39] [INFO] [BloodDecal] Blood puddle created at (1424.872, 1143.278) (added to group)
[21:42:39] [INFO] [BloodDecal] Blood puddle created at (1268.46, 1116.576) (added to group)
[21:42:39] [INFO] [BloodDecal] Blood puddle created at (238.8221, 1304.484) (added to group)
[21:42:39] [INFO] [LastChance] Threat detected: @Area2D@2851
[21:42:39] [INFO] [LastChance] Not in hard mode - effect disabled
[21:42:39] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:42:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1153.449, 1065.834), source=ENEMY (Enemy5), range=1469, listeners=10
[21:42:39] [INFO] [SoundPropagation] Sound result: notified=5, out_of_range=0, self=1, below_threshold=4
[21:42:39] [INFO] [Player] Hit blocked by invincibility mode (C#)
[21:42:39] [INFO] [Player] Spawning blood effect at (154.2349, 1286.9384), dir=(1, 0), lethal=False (C#)
[21:42:39] [INFO] [ImpactEffects] spawn_blood_effect called at (154.2349, 1286.938), dir=(1, 0), lethal=false
[21:42:39] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:42:39] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:42:39] [INFO] [ImpactEffects] Blood effect spawned at (154.2349, 1286.938) (scale=1)
[21:42:39] [INFO] [BloodDecal] Blood puddle created at (1273.703, 1135.111) (added to group)
[21:42:39] [INFO] [BloodDecal] Blood puddle created at (266.2814, 1292.498) (added to group)
[21:42:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(154.2349, 1292.938), shooter_id=878337591581, bullet_pos=(835.9484, 1020.866)
[21:42:39] [INFO] [Bullet] Using shooter_position, distance=734.000610351563
[21:42:39] [INFO] [Bullet] Distance to wall: 734.000610351563 (49.9794512669461% of viewport)
[21:42:39] [INFO] [Bullet] Distance-based penetration chance: 88.3573068552296%
[21:42:39] [INFO] [Bullet] Caliber cannot penetrate walls
[21:42:39] [INFO] [LastChance] Threat detected: @Area2D@2870
[21:42:39] [INFO] [LastChance] Not in hard mode - effect disabled
[21:42:39] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:42:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1153.449, 1065.834), source=ENEMY (Enemy5), range=1469, listeners=10
[21:42:39] [INFO] [SoundPropagation] Sound result: notified=5, out_of_range=0, self=1, below_threshold=4
[21:42:39] [INFO] [BloodDecal] Blood puddle created at (1473.844, 1204.094) (added to group)
[21:42:39] [INFO] [BloodDecal] Blood puddle created at (1531.651, 1214.312) (added to group)
[21:42:39] [INFO] [BloodDecal] Blood puddle created at (1477.922, 1209.205) (added to group)
[21:42:39] [INFO] [BloodDecal] Blood puddle created at (1303.63, 1258.636) (added to group)
[21:42:39] [INFO] [BloodDecal] Blood puddle created at (331.3486, 1374.547) (added to group)
[21:42:39] [INFO] [BloodDecal] Blood puddle created at (250.5833, 1358.478) (added to group)
[21:42:39] [INFO] [BloodDecal] Blood puddle created at (217.0744, 1281.101) (added to group)
[21:42:39] [ENEMY] [Enemy3] SEARCHING corner check: angle 92.2°
[21:42:39] [INFO] [Player] Hit blocked by invincibility mode (C#)
[21:42:39] [INFO] [Player] Spawning blood effect at (154.2349, 1286.9384), dir=(1, 0), lethal=False (C#)
[21:42:39] [INFO] [ImpactEffects] spawn_blood_effect called at (154.2349, 1286.938), dir=(1, 0), lethal=false
[21:42:39] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:42:39] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:42:39] [INFO] [ImpactEffects] Blood effect spawned at (154.2349, 1286.938) (scale=1)
[21:42:39] [INFO] [ReplayManager] Recording frame 2040 (34,0s): player_valid=True, enemies=10
[21:42:39] [INFO] [BloodDecal] Blood puddle created at (308.8641, 1312.283) (added to group)
[21:42:39] [INFO] [BloodDecal] Blood puddle created at (250.0709, 1356.182) (added to group)
[21:42:39] [INFO] [BloodDecal] Blood puddle created at (230.9599, 1350.397) (added to group)
[21:42:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(154.2349, 1292.938), source=PLAYER (MakarovPM), range=1469, listeners=10
[21:42:39] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=8
[21:42:39] [INFO] [LastChance] Threat detected: Bullet
[21:42:39] [INFO] [LastChance] Not in hard mode - effect disabled
[21:42:39] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:42:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1153.449, 1065.834), source=ENEMY (Enemy5), range=1469, listeners=10
[21:42:39] [INFO] [SoundPropagation] Sound result: notified=5, out_of_range=0, self=1, below_threshold=4
[21:42:39] [INFO] [BloodDecal] Blood puddle created at (1589.985, 1156.855) (added to group)
[21:42:39] [INFO] [BloodDecal] Blood puddle created at (271.8941, 1379.875) (added to group)
[21:42:39] [INFO] [BloodDecal] Blood puddle created at (273.7593, 1299.531) (added to group)
[21:42:39] [INFO] [BloodDecal] Blood puddle created at (222.3623, 1274.121) (added to group)
[21:42:39] [INFO] [BloodDecal] Blood puddle created at (250.1512, 1315.693) (added to group)
[21:42:39] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=SEARCHING, target=125.2°, current=122.1°, player=(154,1286), corner_timer=0.20
[21:42:39] [ENEMY] [Enemy3] SEARCHING: Player spotted! Transitioning to COMBAT
[21:42:39] [ENEMY] [Enemy3] State: SEARCHING -> COMBAT
[21:42:39] [INFO] [Player] Hit blocked by invincibility mode (C#)
[21:42:39] [INFO] [Player] Spawning blood effect at (154.2349, 1286.9384), dir=(1, 0), lethal=False (C#)
[21:42:39] [INFO] [ImpactEffects] spawn_blood_effect called at (154.2349, 1286.938), dir=(1, 0), lethal=false
[21:42:39] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:42:39] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:42:39] [INFO] [ImpactEffects] Blood effect spawned at (154.2349, 1286.938) (scale=1)
[21:42:39] [ENEMY] [Enemy1] FLANKING corner check: angle 88.3°
[21:42:39] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=124.8°, current=41.4°, player=(154,1286), corner_timer=0.20
[21:42:39] [INFO] [BloodDecal] Blood puddle created at (300.1851, 1378.288) (added to group)
[21:42:39] [INFO] [LastChance] Threat detected: @Area2D@2907
[21:42:39] [INFO] [LastChance] Not in hard mode - effect disabled
[21:42:39] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:42:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1153.449, 1065.834), source=ENEMY (Enemy5), range=1469, listeners=10
[21:42:39] [INFO] [SoundPropagation] Sound result: notified=5, out_of_range=0, self=1, below_threshold=4
[21:42:39] [INFO] [BloodDecal] Blood puddle created at (291.8596, 1286.021) (added to group)
[21:42:39] [INFO] [BloodDecal] Blood puddle created at (227.1372, 1328.395) (added to group)
[21:42:39] [INFO] [BloodDecal] Blood puddle created at (276.3196, 1314.012) (added to group)
[21:42:39] [INFO] [BloodDecal] Blood puddle created at (223.8217, 1295.673) (added to group)
[21:42:39] [INFO] [BloodDecal] Blood puddle created at (217.4472, 1336.461) (added to group)
[21:42:39] [INFO] [BloodDecal] Blood puddle created at (234.9892, 1292.961) (added to group)
[21:42:39] [INFO] [BloodDecal] Blood puddle created at (239.7819, 1318.067) (added to group)
[21:42:39] [ENEMY] [Enemy5] ROT_CHANGE: P1:visible -> P4:velocity, state=SEEKING_COVER, target=-42.7°, current=-72.2°, player=(154,1286), corner_timer=-0.02
[21:42:39] [INFO] [Player] Hit blocked by invincibility mode (C#)
[21:42:39] [INFO] [Player] Spawning blood effect at (154.2349, 1286.9384), dir=(1, 0), lethal=False (C#)
[21:42:39] [INFO] [ImpactEffects] spawn_blood_effect called at (154.2349, 1286.938), dir=(1, 0), lethal=false
[21:42:39] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:42:39] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:42:39] [INFO] [ImpactEffects] Blood effect spawned at (154.2349, 1286.938) (scale=1)
[21:42:39] [INFO] [BloodDecal] Blood puddle created at (242.3724, 1341.689) (added to group)
[21:42:39] [INFO] [BloodDecal] Blood puddle created at (279.1502, 1355.147) (added to group)
[21:42:39] [INFO] [BloodDecal] Blood puddle created at (242.7778, 1303.986) (added to group)
[21:42:39] [INFO] [BloodDecal] Blood puddle created at (273.4365, 1300.977) (added to group)
[21:42:39] [INFO] [BloodDecal] Blood puddle created at (233.284, 1317.741) (added to group)
[21:42:39] [INFO] [BloodDecal] Blood puddle created at (230.0577, 1272.036) (added to group)
[21:42:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(154.2349, 1292.938), source=PLAYER (MakarovPM), range=1469, listeners=10
[21:42:39] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=8
[21:42:39] [INFO] [LastChance] Threat detected: @Area2D@2914
[21:42:39] [INFO] [LastChance] Not in hard mode - effect disabled
[21:42:39] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:42:39] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=123.1°, current=73.8°, player=(154,1286), corner_timer=0.20
[21:42:39] [INFO] [BloodDecal] Blood puddle created at (317.9362, 1311.865) (added to group)
[21:42:39] [INFO] [BloodDecal] Blood puddle created at (299.8156, 1297.441) (added to group)
[21:42:39] [INFO] [BloodDecal] Blood puddle created at (235.8889, 1325.176) (added to group)
[21:42:39] [INFO] [BloodDecal] Blood puddle created at (216.6724, 1288.815) (added to group)
[21:42:39] [INFO] [BloodDecal] Blood puddle created at (190.4714, 1310.988) (added to group)
[21:42:39] [INFO] [Player] Hit blocked by invincibility mode (C#)
[21:42:39] [INFO] [Player] Spawning blood effect at (154.2349, 1286.9384), dir=(1, 0), lethal=False (C#)
[21:42:39] [INFO] [ImpactEffects] spawn_blood_effect called at (154.2349, 1286.938), dir=(1, 0), lethal=false
[21:42:39] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:42:39] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:42:39] [INFO] [ImpactEffects] Blood effect spawned at (154.2349, 1286.938) (scale=1)
[21:42:39] [ENEMY] [Enemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=120.5°, current=71.0°, player=(154,1286), corner_timer=0.05
[21:42:39] [ENEMY] [Enemy1] State: FLANKING -> COMBAT
[21:42:39] [INFO] [BloodDecal] Blood puddle created at (305.1869, 1363.893) (added to group)
[21:42:39] [INFO] [BloodDecal] Blood puddle created at (240.3498, 1341.902) (added to group)
[21:42:39] [INFO] [BloodDecal] Blood puddle created at (225.9482, 1321.415) (added to group)
[21:42:39] [INFO] [BloodDecal] Blood puddle created at (219.7404, 1301.528) (added to group)
[21:42:39] [INFO] [BloodDecal] Blood puddle created at (244.1545, 1317.487) (added to group)
[21:42:39] [INFO] [LastChance] Threat detected: @Area2D@2929
[21:42:39] [INFO] [LastChance] Not in hard mode - effect disabled
[21:42:39] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:42:39] [ENEMY] [Enemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=120.3°, current=57.0°, player=(154,1286), corner_timer=0.05
[21:42:39] [INFO] [Player] Hit blocked by invincibility mode (C#)
[21:42:39] [INFO] [Player] Spawning blood effect at (154.2349, 1286.9384), dir=(1, 0), lethal=False (C#)
[21:42:39] [INFO] [ImpactEffects] spawn_blood_effect called at (154.2349, 1286.938), dir=(1, 0), lethal=false
[21:42:39] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:42:39] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:42:39] [INFO] [ImpactEffects] Blood effect spawned at (154.2349, 1286.938) (scale=1)
[21:42:39] [INFO] [BloodDecal] Blood puddle created at (340.3904, 1385.19) (added to group)
[21:42:39] [INFO] [BloodDecal] Blood puddle created at (323.4706, 1387.743) (added to group)
[21:42:39] [INFO] [BloodDecal] Blood puddle created at (264.25, 1306.848) (added to group)
[21:42:39] [INFO] [BloodDecal] Blood puddle created at (299.7711, 1308.132) (added to group)
[21:42:39] [INFO] [BloodDecal] Blood puddle created at (274.0229, 1286.934) (added to group)
[21:42:39] [INFO] [BloodDecal] Blood puddle created at (251.2884, 1346.485) (added to group)
[21:42:39] [INFO] [BloodDecal] Blood puddle created at (215.4812, 1322.302) (added to group)
[21:42:39] [INFO] [BloodDecal] Blood puddle created at (259.1596, 1372.698) (added to group)
[21:42:39] [ENEMY] [Enemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=120.3°, current=71.3°, player=(154,1286), corner_timer=0.05
[21:42:39] [INFO] [LastChance] Threat detected: Bullet
[21:42:39] [INFO] [LastChance] Not in hard mode - effect disabled
[21:42:39] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:42:39] [INFO] [BloodDecal] Blood puddle created at (285.9952, 1312.372) (added to group)
[21:42:39] [INFO] [Player] Hit blocked by invincibility mode (C#)
[21:42:39] [INFO] [Player] Spawning blood effect at (154.2349, 1286.9384), dir=(1, 0), lethal=False (C#)
[21:42:39] [INFO] [ImpactEffects] spawn_blood_effect called at (154.2349, 1286.938), dir=(1, 0), lethal=false
[21:42:39] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:42:39] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:42:39] [INFO] [ImpactEffects] Blood effect spawned at (154.2349, 1286.938) (scale=1)
[21:42:39] [INFO] [BloodDecal] Blood puddle created at (312.0258, 1351.362) (added to group)
[21:42:39] [INFO] [BloodDecal] Blood puddle created at (225.3572, 1320.077) (added to group)
[21:42:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(415.6942, 885.1309), source=ENEMY (Enemy3), range=1469, listeners=10
[21:42:39] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=1, below_threshold=6
[21:42:40] [INFO] [BloodDecal] Blood puddle created at (269.6254, 1370.65) (added to group)
[21:42:40] [INFO] [BloodDecal] Blood puddle created at (287.5647, 1297.687) (added to group)
[21:42:40] [INFO] [BloodDecal] Blood puddle created at (218.8362, 1336.601) (added to group)
[21:42:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(154.2349, 1292.938), shooter_id=878337591581, bullet_pos=(782.1596, 1021.71)
[21:42:40] [INFO] [Bullet] Using shooter_position, distance=683.998901367188
[21:42:40] [INFO] [Bullet] Distance to wall: 683.998901367188 (46.5747429571647% of viewport)
[21:42:40] [INFO] [Bullet] Distance-based penetration chance: 92.3294665499745%
[21:42:40] [INFO] [Bullet] Caliber cannot penetrate walls
[21:42:40] [INFO] [BloodDecal] Blood puddle created at (223.8188, 1293.25) (added to group)
[21:42:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(395.3323, 916.4228), source=ENEMY (Enemy3), range=1469, listeners=10
[21:42:40] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=1, below_threshold=6
[21:42:40] [INFO] [LastChance] Threat detected: Bullet
[21:42:40] [INFO] [LastChance] Not in hard mode - effect disabled
[21:42:40] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:42:40] [INFO] [BloodDecal] Blood puddle created at (266.1266, 1332.213) (added to group)
[21:42:40] [INFO] [BloodDecal] Blood puddle created at (309.649, 1300.992) (added to group)
[21:42:40] [INFO] [BloodDecal] Blood puddle created at (284.3795, 1382.607) (added to group)
[21:42:40] [INFO] [BloodDecal] Blood puddle created at (261.4174, 1311.264) (added to group)
[21:42:40] [INFO] [BloodDecal] Blood puddle created at (220.1418, 1331.308) (added to group)
[21:42:40] [ENEMY] [Enemy7] Warning: No valid flank position (both sides behind walls)
[21:42:40] [ENEMY] [Enemy7] FLANKING started: target=(212.1988, 1095.522), side=left, pos=(1455.964, 982.7502)
[21:42:40] [ENEMY] [Enemy7] State: PURSUING -> FLANKING
[21:42:40] [INFO] [Player] Hit blocked by invincibility mode (C#)
[21:42:40] [INFO] [Player] Spawning blood effect at (154.2349, 1286.9384), dir=(1, 0), lethal=False (C#)
[21:42:40] [INFO] [ImpactEffects] spawn_blood_effect called at (154.2349, 1286.938), dir=(1, 0), lethal=false
[21:42:40] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:42:40] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:42:40] [INFO] [ImpactEffects] Blood effect spawned at (154.2349, 1286.938) (scale=1)
[21:42:40] [INFO] [BloodDecal] Blood puddle created at (349.9855, 1381.596) (added to group)
[21:42:40] [INFO] [BloodDecal] Blood puddle created at (243.9579, 1317.892) (added to group)
[21:42:40] [INFO] [BloodDecal] Blood puddle created at (258.6479, 1312.377) (added to group)
[21:42:40] [INFO] [BloodDecal] Blood puddle created at (214.2587, 1313.997) (added to group)
[21:42:40] [ENEMY] [Enemy1] State: COMBAT -> RETREATING
[21:42:40] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[21:42:40] [ENEMY] [Enemy7] FLANKING corner check: angle 63.9°
[21:42:40] [INFO] [LastChance] Threat detected: @Area2D@2987
[21:42:40] [INFO] [LastChance] Not in hard mode - effect disabled
[21:42:40] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:42:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(374.9704, 947.7147), source=ENEMY (Enemy3), range=1469, listeners=10
[21:42:40] [ENEMY] [Enemy1] Heard gunshot at (374.9704, 947.7147), source_type=1, intensity=1.00, distance=26
[21:42:40] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=1, below_threshold=6
[21:42:40] [INFO] [BloodDecal] Blood puddle created at (266.4796, 1369.781) (added to group)
[21:42:40] [INFO] [BloodDecal] Blood puddle created at (225.0533, 1350.915) (added to group)
[21:42:40] [INFO] [BloodDecal] Blood puddle created at (233.7899, 1363.086) (added to group)
[21:42:40] [INFO] [BloodDecal] Blood puddle created at (220.9182, 1333.245) (added to group)
[21:42:40] [ENEMY] [Enemy1] State: COMBAT -> RETREATING
[21:42:40] [INFO] [Player] Hit blocked by invincibility mode (C#)
[21:42:40] [INFO] [Player] Spawning blood effect at (154.2349, 1286.9384), dir=(1, 0), lethal=False (C#)
[21:42:40] [INFO] [ImpactEffects] spawn_blood_effect called at (154.2349, 1286.938), dir=(1, 0), lethal=false
[21:42:40] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:42:40] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:42:40] [INFO] [ImpactEffects] Blood effect spawned at (154.2349, 1286.938) (scale=1)
[21:42:40] [INFO] [BloodDecal] Blood puddle created at (266.0242, 1307.755) (added to group)
[21:42:40] [INFO] [BloodDecal] Blood puddle created at (299.2542, 1315.828) (added to group)
[21:42:40] [INFO] [BloodDecal] Blood puddle created at (249.1526, 1288.566) (added to group)
[21:42:40] [INFO] [BloodDecal] Blood puddle created at (258.0771, 1268.601) (added to group)
[21:42:40] [INFO] [LastChance] Threat detected: Bullet
[21:42:40] [INFO] [LastChance] Not in hard mode - effect disabled
[21:42:40] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:42:40] [INFO] [BloodDecal] Blood puddle created at (314.0177, 1333.825) (added to group)
[21:42:40] [INFO] [BloodDecal] Blood puddle created at (270.804, 1283.044) (added to group)
[21:42:40] [INFO] [BloodDecal] Blood puddle created at (252.1203, 1305.374) (added to group)
[21:42:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400.5812, 952.9146), source=ENEMY (Enemy3), range=1469, listeners=10
[21:42:40] [ENEMY] [Enemy1] Heard gunshot at (400.5812, 952.9146), source_type=1, intensity=1.00, distance=25
[21:42:40] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=1, below_threshold=6
[21:42:40] [ENEMY] [Enemy1] State: COMBAT -> RETREATING
[21:42:40] [INFO] [BloodDecal] Blood puddle created at (271.248, 1368.399) (added to group)
[21:42:40] [INFO] [BloodDecal] Blood puddle created at (307.1455, 1347.886) (added to group)
[21:42:40] [INFO] [BloodDecal] Blood puddle created at (293.9485, 1298.109) (added to group)
[21:42:40] [INFO] [BloodDecal] Blood puddle created at (246.2443, 1286.215) (added to group)
[21:42:40] [INFO] [ReplayManager] Recording frame 2100 (35,0s): player_valid=True, enemies=10
[21:42:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(154.2349, 1292.938), shooter_id=878337591581, bullet_pos=(854.0152, 1021.263)
[21:42:40] [INFO] [Bullet] Using shooter_position, distance=750.666259765625
[21:42:40] [INFO] [Bullet] Distance to wall: 750.666259765625 (51.1142459809766% of viewport)
[21:42:40] [INFO] [Bullet] Distance-based penetration chance: 87.0333796888606%
[21:42:40] [INFO] [Bullet] Caliber cannot penetrate walls
[21:42:40] [INFO] [BloodDecal] Blood puddle created at (287.4804, 1362.08) (added to group)
[21:42:40] [INFO] [BloodDecal] Blood puddle created at (349.0175, 1284.154) (added to group)
[21:42:40] [INFO] [BloodDecal] Blood puddle created at (304.6962, 1319.282) (added to group)
[21:42:40] [INFO] [BloodDecal] Blood puddle created at (232.7942, 1351.684) (added to group)
[21:42:40] [INFO] [BloodDecal] Blood puddle created at (214.0095, 1281.73) (added to group)
[21:42:40] [INFO] [BloodyFeet:Enemy7] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[21:42:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(426.192, 958.1144), source=ENEMY (Enemy3), range=1469, listeners=10
[21:42:40] [ENEMY] [Enemy1] Heard gunshot at (426.192, 958.1144), source_type=1, intensity=1.00, distance=24
[21:42:40] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=1, below_threshold=6
[21:42:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(344.63867, 1008.62933), shooter_id=874982148632, bullet_pos=(57.28607, 1516.2764)
[21:42:40] [INFO] [Bullet] Using shooter_position, distance=583,3327
[21:42:40] [INFO] [Bullet] Distance to wall: 583,3327 (39,7202% of viewport)
[21:42:40] [INFO] [Bullet] Within ricochet range - trying ricochet first
[21:42:40] [INFO] [Bullet] Starting wall penetration at (57.28607, 1516.2764)
[21:42:40] [ENEMY] [Enemy1] State: COMBAT -> RETREATING
[21:42:40] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[21:42:40] [INFO] [Bullet] Exiting penetration at (34.297867, 1556.8882) after traveling 41,66667 pixels through wall
[21:42:40] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[21:42:40] [INFO] [BloodDecal] Blood puddle created at (227.3454, 1336.573) (added to group)
[21:42:40] [INFO] [BloodDecal] Blood puddle created at (236.4759, 1303.002) (added to group)
[21:42:40] [INFO] [BloodDecal] Blood puddle created at (204.7697, 1302.437) (added to group)
[21:42:40] [INFO] [BloodDecal] Blood puddle created at (191.806, 1310.313) (added to group)
[21:42:40] [ENEMY] [Enemy7] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=169.1°, current=128.7°, player=(154,1286), corner_timer=0.03
[21:42:40] [ENEMY] [Enemy7] State: FLANKING -> COMBAT
[21:42:40] [ENEMY] [Enemy7] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=169.0°, current=102.6°, player=(154,1286), corner_timer=0.03
[21:42:40] [INFO] [BloodDecal] Blood puddle created at (367.0581, 1376.116) (added to group)
[21:42:40] [INFO] [BloodDecal] Blood puddle created at (208.2435, 1343.376) (added to group)
[21:42:40] [INFO] [BloodDecal] Blood puddle created at (231.3466, 1326.533) (added to group)
[21:42:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(154.2349, 1292.938), source=PLAYER (MakarovPM), range=1469, listeners=10
[21:42:40] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=6
[21:42:40] [INFO] [LastChance] Threat detected: @Area2D@3025
[21:42:40] [INFO] [LastChance] Not in hard mode - effect disabled
[21:42:40] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:42:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(451.8029, 963.3142), source=ENEMY (Enemy3), range=1469, listeners=10
[21:42:40] [ENEMY] [Enemy1] Heard gunshot at (451.8029, 963.3142), source_type=1, intensity=1.00, distance=28
[21:42:40] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=1, below_threshold=6
[21:42:40] [ENEMY] [Enemy10] PURSUING corner check: angle 108.6°
[21:42:40] [INFO] [BloodDecal] Blood puddle created at (283.0056, 1339.703) (added to group)
[21:42:40] [ENEMY] [Enemy1] State: COMBAT -> RETREATING
[21:42:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(366.69662, 1011.9999), shooter_id=874982148632, bullet_pos=(52.66638, 1600.0721)
[21:42:40] [INFO] [Bullet] Using shooter_position, distance=666,6663
[21:42:40] [INFO] [Bullet] Distance to wall: 666,6663 (45,394535% of viewport)
[21:42:40] [ENEMY] [Enemy7] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=168.8°, current=119.6°, player=(154,1286), corner_timer=0.03
[21:42:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(389.08063, 1015.22406), shooter_id=874982148632, bullet_pos=(45.05475, 1378.0555)
[21:42:40] [INFO] [Bullet] Using shooter_position, distance=500,0005
[21:42:40] [INFO] [Bullet] Distance to wall: 500,0005 (34,04595% of viewport)
[21:42:40] [INFO] [Bullet] Within ricochet range - trying ricochet first
[21:42:40] [INFO] [BloodDecal] Blood puddle created at (258.0707, 1290.606) (added to group)
[21:42:40] [INFO] [LastChance] Threat detected: Bullet
[21:42:40] [INFO] [LastChance] Not in hard mode - effect disabled
[21:42:40] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:42:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(475.9339, 968.5142), source=ENEMY (Enemy3), range=1469, listeners=10
[21:42:40] [ENEMY] [Enemy1] Heard gunshot at (475.9339, 968.5142), source_type=1, intensity=1.00, distance=33
[21:42:40] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=1, below_threshold=6
[21:42:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(154.2349, 1292.938), source=PLAYER (MakarovPM), range=1469, listeners=10
[21:42:40] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=6
[21:42:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(366.69662, 1011.9999), shooter_id=874982148632, bullet_pos=(158.74677, 1748.063)
[21:42:40] [INFO] [Bullet] Using shooter_position, distance=764,87384
[21:42:40] [INFO] [Bullet] Distance to wall: 764,87384 (52,08167% of viewport)
[21:42:40] [INFO] [Bullet] Distance-based penetration chance: 85,904724%
[21:42:40] [INFO] [Bullet] Starting wall penetration at (158.74677, 1748.063)
[21:42:40] [ENEMY] [Enemy1] State: COMBAT -> RETREATING
[21:42:40] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[21:42:40] [INFO] [Bullet] Exiting penetration at (182.29321, 1780.9122) after traveling 35,416668 pixels through wall
[21:42:40] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[21:42:40] [INFO] [BloodDecal] Blood puddle created at (256.8782, 1307.186) (added to group)
[21:42:40] [INFO] [BloodDecal] Blood puddle created at (313.9306, 1377.997) (added to group)
[21:42:40] [INFO] [BloodDecal] Blood puddle created at (312.5663, 1341.658) (added to group)
[21:42:40] [INFO] [Player] Hit blocked by invincibility mode (C#)
[21:42:40] [INFO] [Player] Spawning blood effect at (154.2349, 1286.9384), dir=(1, 0), lethal=False (C#)
[21:42:40] [INFO] [ImpactEffects] spawn_blood_effect called at (154.2349, 1286.938), dir=(1, 0), lethal=false
[21:42:40] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:42:40] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:42:40] [INFO] [ImpactEffects] Blood effect spawned at (154.2349, 1286.938) (scale=1)
[21:42:40] [INFO] [BloodDecal] Blood puddle created at (313.7133, 1295.382) (added to group)
[21:42:40] [INFO] [BloodDecal] Blood puddle created at (341.9237, 1353.146) (added to group)
[21:42:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(389.08063, 1015.22406), shooter_id=874982148632, bullet_pos=(186.18686, 1587.9331)
[21:42:40] [INFO] [Bullet] Using shooter_position, distance=607,5867
[21:42:40] [INFO] [Bullet] Distance to wall: 607,5867 (41,371693% of viewport)
[21:42:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(454.75, 983.8294), source=ENEMY (Enemy3), range=1469, listeners=10
[21:42:40] [ENEMY] [Enemy1] Heard gunshot at (454.75, 983.8294), source_type=1, intensity=1.00, distance=49
[21:42:40] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=1, below_threshold=6
[21:42:40] [ENEMY] [Enemy1] State: COMBAT -> RETREATING
[21:42:40] [INFO] [BloodDecal] Blood puddle created at (266.8, 1343.951) (added to group)
[21:42:40] [INFO] [BloodDecal] Blood puddle created at (239.8921, 1375.095) (added to group)
[21:42:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(154.2349, 1292.938), source=PLAYER (MakarovPM), range=1469, listeners=10
[21:42:40] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=6
[21:42:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(433.1099, 1021.86487), shooter_id=874982148632, bullet_pos=(36.57083, 1326.4249)
[21:42:40] [INFO] [Bullet] Using shooter_position, distance=500,00006
[21:42:40] [INFO] [Bullet] Distance to wall: 500,00006 (34,045925% of viewport)
[21:42:40] [INFO] [Bullet] Within ricochet range - trying ricochet first
[21:42:40] [INFO] [Bullet] Starting wall penetration at (36.57083, 1326.4249)
[21:42:40] [INFO] [LastChance] Threat detected: Bullet
[21:42:40] [INFO] [LastChance] Not in hard mode - effect disabled
[21:42:40] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:42:40] [INFO] [Bullet] Raycast backward hit penetrating body at distance 40,90329
[21:42:40] [INFO] [Bullet] Body exited signal received for penetrating body
[21:42:40] [INFO] [Bullet] Exiting penetration at (-0.43947983, 1354.8506) after traveling 41,666668 pixels through wall
[21:42:40] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[21:42:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(389.08063, 1015.22406), shooter_id=874982148632, bullet_pos=(345.78964, 1400.9543)
[21:42:40] [INFO] [Bullet] Using shooter_position, distance=388,15198
[21:42:40] [INFO] [Bullet] Distance to wall: 388,15198 (26,429983% of viewport)
[21:42:40] [INFO] [Bullet] Within ricochet range - trying ricochet first
[21:42:40] [INFO] [Player] Hit blocked by invincibility mode (C#)
[21:42:40] [INFO] [Player] Spawning blood effect at (154.2349, 1286.9384), dir=(1, 0), lethal=False (C#)
[21:42:40] [INFO] [ImpactEffects] spawn_blood_effect called at (154.2349, 1286.938), dir=(1, 0), lethal=false
[21:42:40] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:42:40] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:42:40] [INFO] [ImpactEffects] Blood effect spawned at (154.2349, 1286.938) (scale=1)
[21:42:41] [INFO] [BloodDecal] Blood puddle created at (383.4207, 1380.384) (added to group)
[21:42:41] [INFO] [BloodDecal] Blood puddle created at (386.7744, 1366.987) (added to group)
[21:42:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1236.262, 1048.065), source=ENEMY (Enemy7), range=1469, listeners=10
[21:42:41] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=0, self=1, below_threshold=5
[21:42:41] [ENEMY] [Enemy5] Hit: dmg=1, hp=3/4->2/4
[21:42:41] [INFO] [ImpactEffects] spawn_blood_effect called at (1157.365, 1062.214), dir=(1, 0), lethal=false
[21:42:41] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:42:41] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:42:41] [INFO] [ImpactEffects] Blood effect spawned at (1157.365, 1062.214) (scale=1)
[21:42:41] [ENEMY] [Enemy5] ROT_CHANGE: P4:velocity -> P1:visible, state=SEEKING_COVER, target=167.4°, current=180.0°, player=(154,1286), corner_timer=-0.02
[21:42:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1157.365, 1062.214), source=ENEMY (Enemy5), range=1469, listeners=10
[21:42:41] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=0, self=1, below_threshold=5
[21:42:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(454.5024, 1000.41), source=ENEMY (Enemy3), range=1469, listeners=10
[21:42:41] [ENEMY] [Enemy1] Heard gunshot at (454.5024, 1000.41), source_type=1, intensity=0.99, distance=50
[21:42:41] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=5
[21:42:41] [ENEMY] [Enemy1] State: COMBAT -> RETREATING
[21:42:41] [ENEMY] [Enemy10] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-169.6°, current=-119.6°, player=(154,1286), corner_timer=0.25
[21:42:41] [ENEMY] [Enemy10] State: PURSUING -> COMBAT
[21:42:41] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(389.08063, 1015.22406), shooter_id=874982148632, bullet_pos=(476.12198, 1596.8572)
[21:42:41] [INFO] [Bullet] Using shooter_position, distance=588,1099
[21:42:41] [INFO] [Bullet] Distance to wall: 588,1099 (40,045486% of viewport)
[21:42:41] [INFO] [Bullet] Distance-based penetration chance: 99,94694%
[21:42:41] [INFO] [Bullet] Starting wall penetration at (476.12198, 1596.8572)
[21:42:41] [INFO] [Bullet] Raycast backward hit penetrating body at distance 12,400572
[21:42:41] [INFO] [BloodDecal] Blood puddle created at (207.3562, 1288.053) (added to group)
[21:42:41] [INFO] [BloodDecal] Blood puddle created at (240.6379, 1329.49) (added to group)
[21:42:41] [INFO] [Bullet] Body exited signal received for penetrating body
[21:42:41] [INFO] [Bullet] Exiting penetration at (493.06516, 1622.3245) after traveling 25,588543 pixels through wall
[21:42:41] [INFO] [Bullet] Damage multiplier after penetration: 0,1125
[21:42:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1199.87, 1048.065), source=ENEMY (Enemy7), range=1469, listeners=10
[21:42:41] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=0, self=1, below_threshold=5
[21:42:41] [INFO] [LastChance] Threat detected: Bullet
[21:42:41] [INFO] [LastChance] Not in hard mode - effect disabled
[21:42:41] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:42:41] [ENEMY] [Enemy5] Hit: dmg=1, hp=2/4->1/4
[21:42:41] [INFO] [ImpactEffects] spawn_blood_effect called at (1157.365, 1062.214), dir=(1, 0), lethal=false
[21:42:41] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:42:41] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:42:41] [INFO] [ImpactEffects] Blood effect spawned at (1157.365, 1062.214) (scale=1)
[21:42:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1157.365, 1062.214), source=ENEMY (Enemy5), range=1469, listeners=10
[21:42:41] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=0, self=1, below_threshold=5
[21:42:41] [INFO] [BloodDecal] Blood puddle created at (225.0153, 1294.663) (added to group)
[21:42:41] [INFO] [Player] Hit blocked by invincibility mode (C#)
[21:42:41] [INFO] [Player] Spawning blood effect at (154.2349, 1286.9384), dir=(1, 0), lethal=False (C#)
[21:42:41] [INFO] [ImpactEffects] spawn_blood_effect called at (154.2349, 1286.938), dir=(1, 0), lethal=false
[21:42:41] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:42:41] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:42:41] [INFO] [ImpactEffects] Blood effect spawned at (154.2349, 1286.938) (scale=1)
[21:42:41] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(154.2349, 1292.938), shooter_id=878337591581, bullet_pos=(782.4727, 1022.431)
[21:42:41] [INFO] [Bullet] Using shooter_position, distance=684.000610351563
[21:42:41] [INFO] [Bullet] Distance to wall: 684.000610351563 (46.5748593250533% of viewport)
[21:42:41] [INFO] [Bullet] Distance-based penetration chance: 92.3293307874378%
[21:42:41] [INFO] [Bullet] Caliber cannot penetrate walls
[21:42:41] [ENEMY] [Enemy7] State: COMBAT -> RETREATING
[21:42:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(460.5229, 1013.251), source=ENEMY (Enemy3), range=1469, listeners=10
[21:42:41] [ENEMY] [Enemy1] Heard gunshot at (460.5229, 1013.251), source_type=1, intensity=1.00, distance=48
[21:42:41] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=5
[21:42:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1163.588, 1048.065), source=ENEMY (Enemy7), range=1469, listeners=10
[21:42:41] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=0, self=1, below_threshold=5
[21:42:41] [ENEMY] [Enemy1] State: COMBAT -> RETREATING
[21:42:41] [ENEMY] [Enemy2] State: SUPPRESSED -> IN_COVER
[21:42:41] [ENEMY] [Enemy4] State: SUPPRESSED -> IN_COVER
[21:42:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1157.365, 1062.214), source=ENEMY (Enemy5), range=1469, listeners=10
[21:42:41] [ENEMY] [Enemy7] Heard gunshot at (1157.365, 1062.214), source_type=1, intensity=1.00, distance=17
[21:42:41] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=0, self=1, below_threshold=5
[21:42:41] [ENEMY] [Enemy7] State: COMBAT -> RETREATING
[21:42:41] [INFO] [BloodDecal] Blood puddle created at (261.9964, 1307.958) (added to group)
[21:42:41] [INFO] [BloodDecal] Blood puddle created at (311.8857, 1309.361) (added to group)
[21:42:41] [INFO] [BloodDecal] Blood puddle created at (278.5427, 1353.7) (added to group)
[21:42:41] [INFO] [BloodDecal] Blood puddle created at (199.0595, 1331.379) (added to group)
[21:42:41] [INFO] [BloodDecal] Blood puddle created at (229.0056, 1323.848) (added to group)
[21:42:41] [INFO] [BloodDecal] Blood puddle created at (262.3902, 1378.1) (added to group)
[21:42:41] [INFO] [BloodDecal] Blood puddle created at (275.434, 1328.779) (added to group)
[21:42:41] [INFO] [BloodDecal] Blood puddle created at (215.5503, 1310.257) (added to group)
[21:42:41] [INFO] [BloodDecal] Blood puddle created at (1266.092, 1061.948) (added to group)
[21:42:41] [INFO] [ReplayManager] Recording frame 2160 (36,0s): player_valid=True, enemies=10
[21:42:41] [INFO] [BloodDecal] Blood puddle created at (297.4791, 1359.273) (added to group)
[21:42:41] [INFO] [BloodDecal] Blood puddle created at (310.5689, 1373.714) (added to group)
[21:42:41] [INFO] [BloodDecal] Blood puddle created at (277.169, 1381.113) (added to group)
[21:42:41] [INFO] [BloodDecal] Blood puddle created at (1213.13, 1110.752) (added to group)
[21:42:41] [INFO] [BloodDecal] Blood puddle created at (1250.125, 1078.953) (added to group)
[21:42:41] [INFO] [BloodDecal] Blood puddle created at (1230.13, 1042.518) (added to group)
[21:42:41] [INFO] [BloodDecal] Blood puddle created at (205.2974, 1288.844) (added to group)
[21:42:41] [INFO] [BloodDecal] Blood puddle created at (344.9, 1298.811) (added to group)
[21:42:41] [INFO] [BloodDecal] Blood puddle created at (1264.177, 1132.587) (added to group)
[21:42:41] [INFO] [BloodDecal] Blood puddle created at (1274.981, 1064.625) (added to group)
[21:42:41] [INFO] [BloodDecal] Blood puddle created at (1256.59, 1058.176) (added to group)
[21:42:41] [INFO] [BloodDecal] Blood puddle created at (235.434, 1326.212) (added to group)
[21:42:41] [INFO] [BloodDecal] Blood puddle created at (1244.482, 1111.584) (added to group)
[21:42:41] [INFO] [BloodDecal] Blood puddle created at (219.2742, 1335.501) (added to group)
[21:42:41] [INFO] [BloodDecal] Blood puddle created at (1330.692, 1083.634) (added to group)
[21:42:41] [INFO] [BloodDecal] Blood puddle created at (1246.208, 1144.968) (added to group)
[21:42:41] [INFO] [BloodDecal] Blood puddle created at (266.5354, 1360.913) (added to group)
[21:42:41] [INFO] [BloodDecal] Blood puddle created at (1254.408, 1113.947) (added to group)
[21:42:41] [INFO] [BloodDecal] Blood puddle created at (1289.943, 1114.149) (added to group)
[21:42:41] [INFO] [BloodDecal] Blood puddle created at (226.6356, 1290.625) (added to group)
[21:42:41] [INFO] [BloodDecal] Blood puddle created at (1286.829, 1153.009) (added to group)
[21:42:41] [INFO] [BloodDecal] Blood puddle created at (1319.131, 1103.01) (added to group)
[21:42:41] [INFO] [BloodDecal] Blood puddle created at (246.8972, 1331.213) (added to group)
[21:42:41] [INFO] [BloodDecal] Blood puddle created at (1299.45, 1103.61) (added to group)
[21:42:41] [INFO] [BloodDecal] Blood puddle created at (1306.677, 1122.777) (added to group)
[21:42:41] [INFO] [BloodDecal] Blood puddle created at (264.2234, 1348.256) (added to group)
[21:42:41] [INFO] [BloodDecal] Blood puddle created at (1340.075, 1168.003) (added to group)
[21:42:41] [INFO] [BloodDecal] Blood puddle created at (1289.368, 1100.02) (added to group)
[21:42:41] [INFO] [BloodDecal] Blood puddle created at (267.2657, 1387.242) (added to group)
[21:42:41] [INFO] [BloodDecal] Blood puddle created at (1336.399, 1239.148) (added to group)
[21:42:41] [INFO] [BloodDecal] Blood puddle created at (1257.483, 1210.96) (added to group)
[21:42:41] [INFO] [BloodDecal] Blood puddle created at (274.4911, 1379.6) (added to group)
[21:42:41] [INFO] [BloodDecal] Blood puddle created at (255.6794, 1363.724) (added to group)
[21:42:41] [INFO] [BloodDecal] Blood puddle created at (337.9308, 1307.865) (added to group)
[21:42:42] [INFO] [ReplayManager] Recording frame 2220 (37,0s): player_valid=True, enemies=10
[21:42:42] [INFO] [PauseMenu] Armory button pressed
[21:42:42] [INFO] [PauseMenu] Creating new armory menu instance
[21:42:42] [INFO] [PauseMenu] armory_menu_scene resource path: res://scenes/ui/ArmoryMenu.tscn
[21:42:42] [INFO] [PauseMenu] Instance created, class: CanvasLayer, name: ArmoryMenu
[21:42:42] [INFO] [PauseMenu] Script attached: res://scripts/ui/armory_menu.gd
[21:42:42] [INFO] [PauseMenu] back_pressed signal exists on instance
[21:42:42] [INFO] [PauseMenu] back_pressed signal connected
[21:42:42] [INFO] [PauseMenu] Armory menu instance added as child, is_inside_tree: true
[21:42:42] [INFO] [PauseMenu] _populate_weapon_grid method exists
[21:42:43] [INFO] [ReplayManager] Recording frame 2280 (38,0s): player_valid=True, enemies=10
[21:42:44] [INFO] [ReplayManager] Recording frame 2340 (39,0s): player_valid=True, enemies=10
[21:42:45] [INFO] [ReplayManager] Recording frame 2400 (40,0s): player_valid=True, enemies=10
[21:42:45] [INFO] [GameManager] Weapon selected: shotgun
[21:42:45] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[21:42:45] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:42:45] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[21:42:45] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[21:42:45] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[21:42:45] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[21:42:45] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[21:42:45] [INFO] [LastChance] Resetting all effects (scene change detected)
[21:42:45] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[21:42:45] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[21:42:45] [ENEMY] [Enemy1] Death animation component initialized
[21:42:45] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:42:45] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[21:42:45] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[21:42:45] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[21:42:45] [ENEMY] [Enemy2] Death animation component initialized
[21:42:45] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:42:45] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[21:42:45] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[21:42:45] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[21:42:45] [ENEMY] [Enemy3] Death animation component initialized
[21:42:45] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:42:45] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[21:42:45] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[21:42:45] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[21:42:45] [ENEMY] [Enemy4] Death animation component initialized
[21:42:45] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:42:45] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[21:42:45] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[21:42:45] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[21:42:45] [ENEMY] [Enemy5] Death animation component initialized
[21:42:45] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:42:45] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[21:42:45] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[21:42:45] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[21:42:45] [ENEMY] [Enemy6] Death animation component initialized
[21:42:45] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:42:45] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[21:42:45] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[21:42:45] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[21:42:45] [ENEMY] [Enemy7] Death animation component initialized
[21:42:45] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:42:45] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[21:42:45] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[21:42:45] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[21:42:45] [ENEMY] [Enemy8] Death animation component initialized
[21:42:45] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:42:45] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[21:42:45] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[21:42:45] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[21:42:45] [ENEMY] [Enemy9] Death animation component initialized
[21:42:45] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:42:45] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[21:42:45] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[21:42:45] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[21:42:45] [ENEMY] [Enemy10] Death animation component initialized
[21:42:45] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:42:45] [INFO] [BloodyFeet:Player] Footprint scene loaded
[21:42:45] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[21:42:45] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[21:42:45] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[21:42:45] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[21:42:45] [INFO] [Player.Weapon] GameManager weapon selection: shotgun (Shotgun)
[21:42:45] [INFO] [Player.Weapon] Removed default MakarovPM
[21:42:45] [INFO] [Player.Weapon] Equipped Shotgun (ammo: 0/8)
[21:42:45] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[21:42:45] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[21:42:45] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[21:42:45] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[21:42:45] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[21:42:45] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: True
[21:42:45] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[21:42:45] [INFO] [Player] Ready! Ammo: 0/8, Grenades: 1/3, Health: 3/4
[21:42:45] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[21:42:45] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[21:42:45] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[21:42:45] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[21:42:45] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[21:42:45] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[21:42:45] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[21:42:45] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[21:42:45] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[21:42:45] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[21:42:45] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[21:42:45] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[21:42:45] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[21:42:45] [INFO] [BuildingLevel] Setting up weapon: shotgun
[21:42:45] [INFO] [BuildingLevel] Shotgun already equipped by C# Player - skipping GDScript weapon swap
[21:42:45] [INFO] [ScoreManager] Level started with 10 enemies
[21:42:45] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[21:42:45] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[21:42:45] [INFO] [ReplayManager] Replay data cleared
[21:42:45] [INFO] [BuildingLevel] Previous replay data cleared
[21:42:45] [INFO] [ReplayManager] Detected player weapon: Shotgun
[21:42:45] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[21:42:45] [INFO] [ReplayManager] Level: BuildingLevel
[21:42:45] [INFO] [ReplayManager] Player: Player (valid: True)
[21:42:45] [INFO] [ReplayManager] Enemies count: 10
[21:42:45] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/shotgun_topdown.png
[21:42:45] [INFO] [ReplayManager]   Enemy 0: Enemy1
[21:42:45] [INFO] [ReplayManager]   Enemy 1: Enemy2
[21:42:45] [INFO] [ReplayManager]   Enemy 2: Enemy3
[21:42:45] [INFO] [ReplayManager]   Enemy 3: Enemy4
[21:42:45] [INFO] [ReplayManager]   Enemy 4: Enemy5
[21:42:45] [INFO] [ReplayManager]   Enemy 5: Enemy6
[21:42:45] [INFO] [ReplayManager]   Enemy 6: Enemy7
[21:42:45] [INFO] [ReplayManager]   Enemy 7: Enemy8
[21:42:45] [INFO] [ReplayManager]   Enemy 8: Enemy9
[21:42:45] [INFO] [ReplayManager]   Enemy 9: Enemy10
[21:42:45] [INFO] [BuildingLevel] Replay recording started successfully
[21:42:45] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[21:42:45] [INFO] [CinemaEffects] Found player node: Player
[21:42:45] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[21:42:45] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[21:42:45] [ENEMY] [Enemy1] Registered as sound listener
[21:42:45] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 3, behavior: GUARD
[21:42:45] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[21:42:45] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[21:42:45] [ENEMY] [Enemy2] Registered as sound listener
[21:42:45] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 3, behavior: GUARD
[21:42:45] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[21:42:45] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[21:42:45] [ENEMY] [Enemy3] Registered as sound listener
[21:42:45] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 4, behavior: GUARD
[21:42:45] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[21:42:45] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[21:42:45] [ENEMY] [Enemy4] Registered as sound listener
[21:42:45] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 4, behavior: GUARD
[21:42:45] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[21:42:45] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[21:42:45] [ENEMY] [Enemy5] Registered as sound listener
[21:42:45] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 4, behavior: GUARD
[21:42:45] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[21:42:45] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[21:42:45] [ENEMY] [Enemy6] Registered as sound listener
[21:42:45] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 2, behavior: GUARD
[21:42:45] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[21:42:45] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[21:42:45] [ENEMY] [Enemy7] Registered as sound listener
[21:42:45] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 4, behavior: PATROL
[21:42:45] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[21:42:45] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[21:42:45] [ENEMY] [Enemy8] Registered as sound listener
[21:42:45] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 3, behavior: GUARD
[21:42:45] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[21:42:45] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[21:42:45] [ENEMY] [Enemy9] Registered as sound listener
[21:42:45] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 4, behavior: GUARD
[21:42:45] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[21:42:45] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[21:42:45] [ENEMY] [Enemy10] Registered as sound listener
[21:42:45] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 3, behavior: PATROL
[21:42:45] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[21:42:46] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[21:42:46] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[21:42:46] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[21:42:46] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[21:42:46] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[21:42:46] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=180.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[21:42:46] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[21:42:46] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=78.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[21:42:46] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[21:42:46] [INFO] [Player] Detecting weapon pose (frame 3)...
[21:42:46] [INFO] [Player] Detected weapon: Shotgun (Shotgun pose)
[21:42:46] [INFO] [Player] Applied Shotgun arm pose: Left=(21, 6), Right=(-1, 6)
[21:42:46] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[21:42:46] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[21:42:46] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[21:42:46] [INFO] [LastChance] Found player: Player
[21:42:46] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[21:42:46] [INFO] [LastChance] Connected to player Damaged signal (C#)
[21:42:46] [INFO] [LastChance] Connected to player Died signal (C#)
[21:42:46] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[21:42:46] [ENEMY] [Enemy1] Player ammo empty: false -> true
[21:42:46] [ENEMY] [Enemy2] Player ammo empty: false -> true
[21:42:46] [ENEMY] [Enemy3] Player ammo empty: false -> true
[21:42:46] [ENEMY] [Enemy4] Player ammo empty: false -> true
[21:42:46] [ENEMY] [Enemy5] Player ammo empty: false -> true
[21:42:46] [ENEMY] [Enemy6] Player ammo empty: false -> true
[21:42:46] [ENEMY] [Enemy7] Player ammo empty: false -> true
[21:42:46] [ENEMY] [Enemy8] Player ammo empty: false -> true
[21:42:46] [ENEMY] [Enemy9] Player ammo empty: false -> true
[21:42:46] [ENEMY] [Enemy10] Player ammo empty: false -> true
[21:42:46] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(415, 1250), source=PLAYER (Player), range=600, listeners=20
[21:42:46] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[21:42:46] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=0, below_threshold=2
[21:42:46] [INFO] [Shotgun.FIX#212] Firing 16 pellets with 15° spread at pos=(415, 1250)
[21:42:46] [INFO] [Shotgun.FIX#212] Normal pellet 1/16: extraOffset=2,7, distance=54,7px, pos=(468.6705, 1239.5404)
[21:42:46] [INFO] [Shotgun.FIX#212] Normal pellet 2/16: extraOffset=8,4, distance=60,4px, pos=(474.47205, 1239.6155)
[21:42:46] [INFO] [Shotgun.FIX#212] Normal pellet 3/16: extraOffset=3,1, distance=55,1px, pos=(469.56705, 1242.5078)
[21:42:46] [INFO] [Shotgun.FIX#212] Normal pellet 4/16: extraOffset=12,5, distance=64,5px, pos=(479.0475, 1242.0043)
[21:42:46] [INFO] [Shotgun.FIX#212] Normal pellet 5/16: extraOffset=-13,1, distance=38,9px, pos=(453.54962, 1245.155)
[21:42:46] [INFO] [Shotgun.FIX#212] Normal pellet 6/16: extraOffset=5,3, distance=57,3px, pos=(471.79346, 1242.7118)
[21:42:46] [INFO] [Shotgun.FIX#212] Normal pellet 7/16: extraOffset=1,4, distance=53,4px, pos=(468.11343, 1244.3724)
[21:42:46] [INFO] [Shotgun.FIX#212] Normal pellet 8/16: extraOffset=8,0, distance=60,0px, pos=(474.83945, 1245.7793)
[21:42:46] [INFO] [Shotgun.FIX#212] Normal pellet 9/16: extraOffset=-10,7, distance=41,3px, pos=(456.14954, 1247.1028)
[21:42:46] [INFO] [Shotgun.FIX#212] Normal pellet 10/16: extraOffset=-1,9, distance=50,1px, pos=(465.0505, 1247.1199)
[21:42:46] [INFO] [Shotgun.FIX#212] Normal pellet 11/16: extraOffset=-3,5, distance=48,5px, pos=(463.46692, 1249.9662)
[21:42:46] [INFO] [Shotgun.FIX#212] Normal pellet 12/16: extraOffset=-11,6, distance=40,4px, pos=(455.44565, 1250.3914)
[21:42:46] [INFO] [Shotgun.FIX#212] Normal pellet 13/16: extraOffset=-3,9, distance=48,1px, pos=(463.07648, 1251.5802)
[21:42:46] [INFO] [Shotgun.FIX#212] Normal pellet 14/16: extraOffset=5,3, distance=57,3px, pos=(472.24857, 1251.098)
[21:42:46] [INFO] [Shotgun.FIX#212] Normal pellet 15/16: extraOffset=8,1, distance=60,1px, pos=(475.00967, 1252.2183)
[21:42:46] [INFO] [Shotgun.FIX#212] Normal pellet 16/16: extraOffset=-14,7, distance=37,3px, pos=(452.28583, 1251.6069)
[21:42:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(415, 1250), source=PLAYER (Shotgun), range=1469, listeners=10
[21:42:46] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=0, below_threshold=6
[21:42:46] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=907), can_see=false
[21:42:46] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=700), can_see=false
[21:42:46] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=576), can_see=false
[21:42:46] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=520), can_see=false
[21:42:46] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1569), can_see=false
[21:42:46] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1731), can_see=false
[21:42:46] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1244), can_see=false
[21:42:46] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1498), can_see=false
[21:42:46] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1711), can_see=false
[21:42:46] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=840), can_see=false
[21:42:46] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[21:42:47] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=903), can_see=false
[21:42:47] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=700), can_see=false
[21:42:47] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=595), can_see=false
[21:42:47] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=548), can_see=false
[21:42:47] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1599), can_see=false
[21:42:47] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1764), can_see=false
[21:42:47] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1280), can_see=false
[21:42:47] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1535), can_see=false
[21:42:47] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1748), can_see=false
[21:42:47] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=875), can_see=false
[21:42:47] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(378.1111, 1250), source=PLAYER (Player), range=600, listeners=10
[21:42:47] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=8, self=0, below_threshold=2
[21:42:47] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[21:42:47] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[21:42:47] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(374,1250), corner_timer=0.30
[21:42:47] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(374,1250), corner_timer=0.30
[21:42:47] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=901), can_see=false
[21:42:47] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=702), can_see=false
[21:42:47] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=612), can_see=false
[21:42:47] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=572), can_see=false
[21:42:47] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1624), can_see=false
[21:42:47] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1791), can_see=false
[21:42:47] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1343), can_see=false
[21:42:47] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1565), can_see=false
[21:42:47] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1778), can_see=false
[21:42:47] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=912), can_see=false
[21:42:47] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(300.6111, 1250), source=PLAYER (Player), range=600, listeners=10
[21:42:47] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=10, self=0, below_threshold=0
[21:42:47] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(295,1250), corner_timer=-0.02
[21:42:47] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[21:42:47] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(295,1250), corner_timer=-0.02
[21:42:47] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[21:42:47] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(291,1250), corner_timer=0.30
[21:42:47] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(291,1250), corner_timer=0.30
[21:42:47] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[21:42:48] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(259,1250), corner_timer=-0.02
[21:42:48] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[21:42:48] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=901), can_see=false
[21:42:48] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=714), can_see=false
[21:42:48] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=667), can_see=false
[21:42:48] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=644), can_see=false
[21:42:48] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1699), can_see=false
[21:42:48] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1871), can_see=false
[21:42:48] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1481), can_see=false
[21:42:48] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1653), can_see=false
[21:42:48] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1865), can_see=false
[21:42:48] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(259,1250), corner_timer=0.30
[21:42:48] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=978), can_see=false
[21:42:48] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(259,1250), corner_timer=-0.02
[21:42:48] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[21:42:48] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.6°, player=(259,1250), corner_timer=0.30
[21:42:48] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[21:42:48] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=NeedsPumpUp, ReloadState=NotReloading
[21:42:48] [INFO] [Shotgun.FIX#445] dragStartPos=(690, 1233), aimDir=(1,00, -0,04)
[21:42:48] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[21:42:48] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[21:42:48] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[21:42:48] [INFO] [Shotgun.FIX#445v7] Mid-drag pump UP - shell ejected, continue dragging DOWN to chamber
[21:42:48] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[21:42:48] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[21:42:48] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[21:42:48] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=901), can_see=false
[21:42:48] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=714), can_see=false
[21:42:48] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=667), can_see=false
[21:42:48] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=644), can_see=false
[21:42:48] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1699), can_see=false
[21:42:48] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1871), can_see=false
[21:42:48] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1481), can_see=false
[21:42:48] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1653), can_see=false
[21:42:48] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1865), can_see=false
[21:42:48] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=970), can_see=false
[21:42:48] [INFO] [Shotgun.FIX#445v7] TryProcessMidDragGesture - dragVector=(198,4, -213,1), length=291,1, isDragUp=True, isDragDown=False, ActionState=NeedsPumpDown
[21:42:48] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(259,1250), corner_timer=-0.02
[21:42:48] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[21:42:48] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.8°, current=6.3°, player=(259,1250), corner_timer=0.30
[21:42:48] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=10
[21:42:49] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.8°, player=(259,1250), corner_timer=-0.02
[21:42:49] [ENEMY] [Enemy10] PATROL corner check: angle 0.9°
[21:42:49] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=0.9°, current=4.6°, player=(259,1250), corner_timer=0.30
[21:42:49] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=901), can_see=false
[21:42:49] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=714), can_see=false
[21:42:49] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=667), can_see=false
[21:42:49] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=644), can_see=false
[21:42:49] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1699), can_see=false
[21:42:49] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1871), can_see=false
[21:42:49] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1481), can_see=false
[21:42:49] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1653), can_see=false
[21:42:49] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1865), can_see=false
[21:42:49] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=967), can_see=false
[21:42:49] [INFO] [Shotgun.FIX#445v7] Mid-drag pump DOWN - chambered, ready to fire
[21:42:49] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[21:42:49] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:42:49] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[21:42:49] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[21:42:49] [INFO] [Shotgun.FIX#243] RMB released after 8 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[21:42:49] [INFO] [Shotgun.FIX#445v7] ProcessDragGesture - dragVector=(0,0, 82,2), length=82,2, ActionState=Ready
[21:42:49] [INFO] [Shotgun.FIX#445v7] Screen-based pump gesture: isDragUp=False, isDragDown=True
[21:42:49] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=-130.1°, player=(259,1250), corner_timer=-0.02
[21:42:49] [ENEMY] [Enemy7] PATROL corner check: angle 90.0°
[21:42:49] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=-133.0°, player=(259,1250), corner_timer=0.30
[21:42:49] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=901), can_see=false
[21:42:49] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=714), can_see=false
[21:42:49] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=667), can_see=false
[21:42:49] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=644), can_see=false
[21:42:49] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1699), can_see=false
[21:42:49] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1871), can_see=false
[21:42:49] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1421), can_see=false
[21:42:49] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1653), can_see=false
[21:42:49] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1865), can_see=false
[21:42:49] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=966), can_see=false
[21:42:49] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:42:49] [INFO] [ReplayManager] Recording frame 240 (4,0s): player_valid=True, enemies=10
[21:42:50] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=179.1°, current=172.4°, player=(259,1250), corner_timer=-0.02
[21:42:50] [ENEMY] [Enemy7] PATROL corner check: angle 89.8°
[21:42:50] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.8°, current=175.3°, player=(259,1250), corner_timer=0.30
[21:42:50] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(259.0555, 1250), source=PLAYER (Player), range=600, listeners=10
[21:42:50] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=10, self=0, below_threshold=0
[21:42:50] [INFO] [Shotgun.FIX#212] Firing 11 pellets with 15° spread at pos=(259.05554, 1250)
[21:42:50] [INFO] [Shotgun.FIX#212] Normal pellet 1/11: extraOffset=-12,3, distance=39,7px, pos=(298.71548, 1249.1422)
[21:42:50] [INFO] [Shotgun.FIX#212] Normal pellet 2/11: extraOffset=-1,6, distance=50,4px, pos=(309.4507, 1250.4512)
[21:42:50] [INFO] [Shotgun.FIX#212] Normal pellet 3/11: extraOffset=-0,5, distance=51,5px, pos=(310.45697, 1252.2605)
[21:42:50] [INFO] [Shotgun.FIX#212] Normal pellet 4/11: extraOffset=13,2, distance=65,2px, pos=(324.0482, 1254.7797)
[21:42:50] [INFO] [Shotgun.FIX#212] Normal pellet 5/11: extraOffset=12,9, distance=64,9px, pos=(323.62775, 1256.6058)
[21:42:50] [INFO] [Shotgun.FIX#212] Normal pellet 6/11: extraOffset=-1,9, distance=50,1px, pos=(308.8806, 1255.5647)
[21:42:50] [INFO] [Shotgun.FIX#212] Normal pellet 7/11: extraOffset=13,3, distance=65,3px, pos=(323.50037, 1260.3923)
[21:42:50] [INFO] [Shotgun.FIX#212] Normal pellet 8/11: extraOffset=6,1, distance=58,1px, pos=(316.65344, 1257.9083)
[21:42:50] [INFO] [Shotgun.FIX#212] Normal pellet 9/11: extraOffset=13,3, distance=65,3px, pos=(323.39865, 1260.9819)
[21:42:50] [INFO] [Shotgun.FIX#212] Normal pellet 10/11: extraOffset=-1,1, distance=50,9px, pos=(308.79242, 1260.6937)
[21:42:50] [INFO] [Shotgun.FIX#212] Normal pellet 11/11: extraOffset=14,0, distance=66,0px, pos=(323.30966, 1265.1229)
[21:42:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(259.0555, 1250), source=PLAYER (Shotgun), range=1469, listeners=10
[21:42:50] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=0, below_threshold=6
[21:42:50] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:42:50] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=901), can_see=false
[21:42:50] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=714), can_see=false
[21:42:50] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=667), can_see=false
[21:42:50] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=644), can_see=false
[21:42:50] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1699), can_see=false
[21:42:50] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1871), can_see=false
[21:42:50] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1397), can_see=false
[21:42:50] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1653), can_see=false
[21:42:50] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1865), can_see=false
[21:42:50] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=966), can_see=false
[21:42:50] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=178.4°, current=120.7°, player=(259,1250), corner_timer=-0.02
[21:42:50] [ENEMY] [Enemy7] PATROL corner check: angle 89.7°
[21:42:50] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.7°, current=123.6°, player=(259,1250), corner_timer=0.30
[21:42:50] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:42:50] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.9°, current=89.7°, player=(259,1250), corner_timer=-0.02
[21:42:50] [ENEMY] [Enemy7] PATROL corner check: angle 89.6°
[21:42:50] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.6°, current=92.5°, player=(259,1250), corner_timer=0.30
[21:42:50] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=901), can_see=false
[21:42:50] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=714), can_see=false
[21:42:50] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=667), can_see=false
[21:42:50] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=644), can_see=false
[21:42:50] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1699), can_see=false
[21:42:50] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1871), can_see=false
[21:42:50] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1397), can_see=false
[21:42:50] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1653), can_see=false
[21:42:50] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1865), can_see=false
[21:42:50] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=966), can_see=false
[21:42:50] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:42:50] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[21:42:50] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=NeedsPumpUp, ReloadState=NotReloading
[21:42:50] [INFO] [Shotgun.FIX#445] dragStartPos=(890, 1270), aimDir=(1,00, 0,02)
[21:42:50] [INFO] [ReplayManager] Recording frame 300 (5,0s): player_valid=True, enemies=10
[21:42:50] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[21:42:50] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[21:42:50] [INFO] [Shotgun.FIX#445v7] Mid-drag pump UP - shell ejected, continue dragging DOWN to chamber
[21:42:51] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[21:42:51] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[21:42:51] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.7°, current=89.6°, player=(232,1267), corner_timer=-0.02
[21:42:51] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[21:42:51] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[21:42:51] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.4°, player=(229,1270), corner_timer=0.30
[21:42:51] [INFO] [Shotgun.FIX#445v7] TryProcessMidDragGesture - dragVector=(7,3, -197,0), length=197,1, isDragUp=True, isDragDown=False, ActionState=NeedsPumpDown
[21:42:51] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:42:51] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=983), can_see=false
[21:42:51] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=807), can_see=false
[21:42:51] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=778), can_see=false
[21:42:51] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=755), can_see=false
[21:42:51] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1809), can_see=false
[21:42:51] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1978), can_see=false
[21:42:51] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1498), can_see=false
[21:42:51] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1729), can_see=false
[21:42:51] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1938), can_see=false
[21:42:51] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1022), can_see=false
[21:42:51] [INFO] [Shotgun.FIX#445v7] TryProcessMidDragGesture - dragVector=(-10,0, -28,3), length=30,1, isDragUp=True, isDragDown=False, ActionState=NeedsPumpDown
[21:42:51] [INFO] [Shotgun.FIX#445v7] Mid-drag pump DOWN - chambered, ready to fire
[21:42:51] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[21:42:51] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.5°, current=89.5°, player=(156,1344), corner_timer=-0.02
[21:42:51] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[21:42:51] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[21:42:51] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.4°, player=(153,1348), corner_timer=0.30
[21:42:51] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[21:42:51] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:42:51] [INFO] [Shotgun.FIX#445v7] TryProcessMidDragGesture - dragVector=(-7,3, 220,3), length=220,5, isDragUp=False, isDragDown=True, ActionState=Ready
[21:42:51] [INFO] [Shotgun.FIX#243] RMB released after 18 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[21:42:51] [INFO] [Shotgun.FIX#445v7] ProcessDragGesture - dragVector=(-7,3, 310,2), length=310,3, ActionState=Ready
[21:42:51] [INFO] [Shotgun.FIX#445v7] Screen-based pump gesture: isDragUp=False, isDragDown=True
[21:42:51] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.4°, current=89.5°, player=(137,1446), corner_timer=-0.02
[21:42:51] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[21:42:51] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.3°, player=(137,1451), corner_timer=0.30
[21:42:51] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1138), can_see=false
[21:42:51] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=962), can_see=false
[21:42:51] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=915), can_see=false
[21:42:51] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=874), can_see=false
[21:42:51] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1921), can_see=false
[21:42:51] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2078), can_see=false
[21:42:51] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1577), can_see=false
[21:42:51] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1756), can_see=false
[21:42:51] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1958), can_see=false
[21:42:51] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1023), can_see=false
[21:42:51] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:42:51] [INFO] [ReplayManager] Recording frame 360 (6,0s): player_valid=True, enemies=10
[21:42:51] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(183.9321, 1523.482), source=PLAYER (Player), range=600, listeners=10
[21:42:51] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=10, self=0, below_threshold=0
[21:42:51] [INFO] [Shotgun.FIX#212] Firing 13 pellets with 15° spread at pos=(183.93205, 1523.4823)
[21:42:51] [INFO] [Shotgun.FIX#212] Normal pellet 1/13: extraOffset=-5,5, distance=46,5px, pos=(230.42311, 1523.6388)
[21:42:52] [INFO] [Shotgun.FIX#212] Normal pellet 2/13: extraOffset=-6,2, distance=45,8px, pos=(229.71736, 1525.353)
[21:42:52] [INFO] [Shotgun.FIX#212] Normal pellet 3/13: extraOffset=10,4, distance=62,4px, pos=(246.31152, 1524.5548)
[21:42:52] [INFO] [Shotgun.FIX#212] Normal pellet 4/13: extraOffset=-7,0, distance=45,0px, pos=(228.84515, 1526.0092)
[21:42:52] [INFO] [Shotgun.FIX#212] Normal pellet 5/13: extraOffset=7,8, distance=59,8px, pos=(243.53526, 1528.3654)
[21:42:52] [INFO] [Shotgun.FIX#212] Normal pellet 6/13: extraOffset=-14,3, distance=37,7px, pos=(221.46712, 1526.4517)
[21:42:52] [INFO] [Shotgun.FIX#212] Normal pellet 7/13: extraOffset=8,0, distance=60,0px, pos=(243.57663, 1530.0837)
[21:42:52] [INFO] [Shotgun.FIX#212] Normal pellet 8/13: extraOffset=6,8, distance=58,8px, pos=(241.90274, 1533.5448)
[21:42:52] [INFO] [Shotgun.FIX#212] Normal pellet 9/13: extraOffset=0,3, distance=52,3px, pos=(235.67073, 1531.0367)
[21:42:52] [INFO] [Shotgun.FIX#212] Normal pellet 10/13: extraOffset=-1,5, distance=50,5px, pos=(233.76135, 1531.9751)
[21:42:52] [INFO] [Shotgun.FIX#212] Normal pellet 11/13: extraOffset=-0,4, distance=51,6px, pos=(234.43628, 1534.2275)
[21:42:52] [INFO] [Shotgun.FIX#212] Normal pellet 12/13: extraOffset=10,5, distance=62,5px, pos=(245.04146, 1536.4388)
[21:42:52] [INFO] [Shotgun.FIX#212] Normal pellet 13/13: extraOffset=11,9, distance=63,9px, pos=(246.02203, 1538.3844)
[21:42:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(183.9321, 1523.482), source=PLAYER (Shotgun), range=1469, listeners=10
[21:42:52] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=5
[21:42:52] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.5°, player=(190,1528), corner_timer=-0.02
[21:42:52] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[21:42:52] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(192,1531), corner_timer=0.30
[21:42:52] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:42:52] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1200), can_see=false
[21:42:52] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1015), can_see=false
[21:42:52] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=935), can_see=false
[21:42:52] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=875), can_see=false
[21:42:52] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1911), can_see=false
[21:42:52] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2057), can_see=false
[21:42:52] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1544), can_see=false
[21:42:52] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1693), can_see=false
[21:42:52] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1890), can_see=false
[21:42:52] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=951), can_see=false
[21:42:52] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(210,1546), corner_timer=-0.02
[21:42:52] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[21:42:52] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(210,1546), corner_timer=0.30
[21:42:52] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:42:52] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(210,1546), corner_timer=-0.02
[21:42:52] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[21:42:52] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(210,1546), corner_timer=0.30
[21:42:52] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1200), can_see=false
[21:42:52] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1015), can_see=false
[21:42:52] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=935), can_see=false
[21:42:52] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=875), can_see=false
[21:42:52] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1911), can_see=false
[21:42:52] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2057), can_see=false
[21:42:52] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1544), can_see=false
[21:42:52] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1693), can_see=false
[21:42:52] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1890), can_see=false
[21:42:52] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=951), can_see=false
[21:42:52] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:42:52] [INFO] [ReplayManager] Recording frame 420 (7,0s): player_valid=True, enemies=10
[21:42:53] [INFO] [ReplayManager] Recording frame 480 (8,0s): player_valid=True, enemies=10
[21:42:54] [INFO] [PauseMenu] Armory button pressed
[21:42:54] [INFO] [PauseMenu] Creating new armory menu instance
[21:42:54] [INFO] [PauseMenu] armory_menu_scene resource path: res://scenes/ui/ArmoryMenu.tscn
[21:42:54] [INFO] [PauseMenu] Instance created, class: CanvasLayer, name: ArmoryMenu
[21:42:54] [INFO] [PauseMenu] Script attached: res://scripts/ui/armory_menu.gd
[21:42:54] [INFO] [PauseMenu] back_pressed signal exists on instance
[21:42:54] [INFO] [PauseMenu] back_pressed signal connected
[21:42:54] [INFO] [PauseMenu] Armory menu instance added as child, is_inside_tree: true
[21:42:54] [INFO] [PauseMenu] _populate_weapon_grid method exists
[21:42:54] [INFO] [ReplayManager] Recording frame 540 (9,0s): player_valid=True, enemies=10
[21:42:55] [INFO] [ActiveItemManager] Active item changed from None to Flashlight
[21:42:55] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[21:42:55] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:42:55] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[21:42:55] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[21:42:55] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[21:42:55] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[21:42:55] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[21:42:55] [INFO] [LastChance] Resetting all effects (scene change detected)
[21:42:55] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[21:42:55] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[21:42:55] [ENEMY] [Enemy1] Death animation component initialized
[21:42:55] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:42:55] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[21:42:55] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[21:42:55] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[21:42:55] [ENEMY] [Enemy2] Death animation component initialized
[21:42:55] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:42:55] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[21:42:55] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[21:42:55] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[21:42:55] [ENEMY] [Enemy3] Death animation component initialized
[21:42:55] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:42:55] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[21:42:55] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[21:42:55] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[21:42:55] [ENEMY] [Enemy4] Death animation component initialized
[21:42:55] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:42:55] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[21:42:55] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[21:42:55] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[21:42:55] [ENEMY] [Enemy5] Death animation component initialized
[21:42:55] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:42:55] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[21:42:55] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[21:42:55] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[21:42:55] [INFO] [EnemyGrenade] Initialized: 1 grenades
[21:42:55] [ENEMY] [Enemy6] Death animation component initialized
[21:42:55] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:42:55] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[21:42:55] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[21:42:55] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[21:42:55] [ENEMY] [Enemy7] Death animation component initialized
[21:42:55] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:42:55] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[21:42:55] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[21:42:55] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[21:42:55] [ENEMY] [Enemy8] Death animation component initialized
[21:42:55] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:42:55] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[21:42:55] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[21:42:55] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[21:42:55] [ENEMY] [Enemy9] Death animation component initialized
[21:42:55] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:42:55] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[21:42:55] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[21:42:55] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[21:42:55] [INFO] [EnemyGrenade] Initialized: 1 grenades
[21:42:55] [ENEMY] [Enemy10] Death animation component initialized
[21:42:55] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:42:55] [INFO] [BloodyFeet:Player] Footprint scene loaded
[21:42:55] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[21:42:55] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[21:42:55] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[21:42:55] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[21:42:55] [INFO] [Player.Weapon] GameManager weapon selection: shotgun (Shotgun)
[21:42:55] [INFO] [Player.Weapon] Removed default MakarovPM
[21:42:55] [INFO] [Player.Weapon] Equipped Shotgun (ammo: 0/8)
[21:42:55] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[21:42:55] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[21:42:55] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[21:42:55] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[21:42:55] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[21:42:55] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: True
[21:42:55] [INFO] [Player.Flashlight] Flashlight is selected, initializing...
[21:42:55] [INFO] [FlashlightEffect] PointLight2D found, energy=0.0, shadow=true
[21:42:55] [INFO] [FlashlightEffect] Flashlight sound loaded
[21:42:55] [INFO] [Player.Flashlight] Flashlight equipped and attached to PlayerModel at offset (20, 0)
[21:42:55] [INFO] [Player] Ready! Ammo: 0/8, Grenades: 1/3, Health: 2/4
[21:42:55] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[21:42:55] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[21:42:55] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[21:42:55] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[21:42:55] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[21:42:55] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[21:42:55] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[21:42:55] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[21:42:55] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[21:42:55] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[21:42:55] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[21:42:55] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[21:42:55] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[21:42:55] [INFO] [BuildingLevel] Setting up weapon: shotgun
[21:42:55] [INFO] [BuildingLevel] Shotgun already equipped by C# Player - skipping GDScript weapon swap
[21:42:55] [INFO] [ScoreManager] Level started with 10 enemies
[21:42:55] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[21:42:55] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[21:42:55] [INFO] [ReplayManager] Replay data cleared
[21:42:55] [INFO] [BuildingLevel] Previous replay data cleared
[21:42:55] [INFO] [ReplayManager] Detected player weapon: Shotgun
[21:42:55] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[21:42:55] [INFO] [ReplayManager] Level: BuildingLevel
[21:42:55] [INFO] [ReplayManager] Player: Player (valid: True)
[21:42:55] [INFO] [ReplayManager] Enemies count: 10
[21:42:55] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/shotgun_topdown.png
[21:42:55] [INFO] [ReplayManager]   Enemy 0: Enemy1
[21:42:55] [INFO] [ReplayManager]   Enemy 1: Enemy2
[21:42:55] [INFO] [ReplayManager]   Enemy 2: Enemy3
[21:42:55] [INFO] [ReplayManager]   Enemy 3: Enemy4
[21:42:55] [INFO] [ReplayManager]   Enemy 4: Enemy5
[21:42:55] [INFO] [ReplayManager]   Enemy 5: Enemy6
[21:42:55] [INFO] [ReplayManager]   Enemy 6: Enemy7
[21:42:55] [INFO] [ReplayManager]   Enemy 7: Enemy8
[21:42:55] [INFO] [ReplayManager]   Enemy 8: Enemy9
[21:42:55] [INFO] [ReplayManager]   Enemy 9: Enemy10
[21:42:55] [INFO] [BuildingLevel] Replay recording started successfully
[21:42:55] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[21:42:55] [INFO] [CinemaEffects] Found player node: Player
[21:42:55] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[21:42:55] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[21:42:55] [ENEMY] [Enemy1] Registered as sound listener
[21:42:55] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 2, behavior: GUARD
[21:42:55] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[21:42:55] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[21:42:55] [ENEMY] [Enemy2] Registered as sound listener
[21:42:55] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 2, behavior: GUARD
[21:42:55] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[21:42:55] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[21:42:55] [ENEMY] [Enemy3] Registered as sound listener
[21:42:55] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 2, behavior: GUARD
[21:42:55] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[21:42:55] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[21:42:55] [ENEMY] [Enemy4] Registered as sound listener
[21:42:55] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 2, behavior: GUARD
[21:42:55] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[21:42:55] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[21:42:55] [ENEMY] [Enemy5] Registered as sound listener
[21:42:55] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 4, behavior: GUARD
[21:42:55] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[21:42:55] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[21:42:55] [ENEMY] [Enemy6] Registered as sound listener
[21:42:55] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 3, behavior: GUARD
[21:42:55] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[21:42:55] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[21:42:55] [ENEMY] [Enemy7] Registered as sound listener
[21:42:55] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 3, behavior: PATROL
[21:42:55] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[21:42:55] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[21:42:55] [ENEMY] [Enemy8] Registered as sound listener
[21:42:55] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 4, behavior: GUARD
[21:42:55] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[21:42:55] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[21:42:55] [ENEMY] [Enemy9] Registered as sound listener
[21:42:55] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 3, behavior: GUARD
[21:42:55] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[21:42:55] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[21:42:55] [ENEMY] [Enemy10] Registered as sound listener
[21:42:55] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 4, behavior: PATROL
[21:42:55] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[21:42:56] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[21:42:56] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[21:42:56] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=45.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[21:42:56] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[21:42:56] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[21:42:56] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[21:42:56] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[21:42:56] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[21:42:56] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[21:42:56] [INFO] [Player] Detecting weapon pose (frame 3)...
[21:42:56] [INFO] [Player] Detected weapon: Shotgun (Shotgun pose)
[21:42:56] [INFO] [Player] Applied Shotgun arm pose: Left=(21, 6), Right=(-1, 6)
[21:42:56] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[21:42:56] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[21:42:56] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[21:42:56] [INFO] [LastChance] Found player: Player
[21:42:56] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[21:42:56] [INFO] [LastChance] Connected to player Damaged signal (C#)
[21:42:56] [INFO] [LastChance] Connected to player Died signal (C#)
[21:42:56] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[21:42:57] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[21:42:57] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[21:42:57] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[21:42:57] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,1354), corner_timer=0.30
[21:42:57] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,1354), corner_timer=0.30
[21:42:57] [ENEMY] [Enemy1] Player ammo empty: false -> true
[21:42:57] [ENEMY] [Enemy2] Player ammo empty: false -> true
[21:42:57] [ENEMY] [Enemy3] Player ammo empty: false -> true
[21:42:57] [ENEMY] [Enemy4] Player ammo empty: false -> true
[21:42:57] [ENEMY] [Enemy5] Player ammo empty: false -> true
[21:42:57] [ENEMY] [Enemy6] Player ammo empty: false -> true
[21:42:57] [ENEMY] [Enemy7] Player ammo empty: false -> true
[21:42:57] [ENEMY] [Enemy8] Player ammo empty: false -> true
[21:42:57] [ENEMY] [Enemy9] Player ammo empty: false -> true
[21:42:57] [ENEMY] [Enemy10] Player ammo empty: false -> true
[21:42:57] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(450, 1357.056), source=PLAYER (Player), range=600, listeners=20
[21:42:57] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[21:42:57] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=9, self=0, below_threshold=1
[21:42:57] [INFO] [Shotgun.FIX#212] Firing 14 pellets with 15° spread at pos=(450, 1357.0555)
[21:42:57] [INFO] [Shotgun.FIX#212] Normal pellet 1/14: extraOffset=-4,3, distance=47,7px, pos=(450.2075, 1309.3165)
[21:42:57] [INFO] [Shotgun.FIX#212] Normal pellet 2/14: extraOffset=-7,9, distance=44,1px, pos=(450.8775, 1312.9321)
[21:42:57] [INFO] [Shotgun.FIX#212] Normal pellet 3/14: extraOffset=-10,1, distance=41,9px, pos=(451.4906, 1315.1744)
[21:42:57] [INFO] [Shotgun.FIX#212] Normal pellet 4/14: extraOffset=3,8, distance=55,8px, pos=(453.1595, 1301.3077)
[21:42:57] [INFO] [Shotgun.FIX#212] Normal pellet 5/14: extraOffset=-14,1, distance=37,9px, pos=(453.27475, 1319.2871)
[21:42:57] [INFO] [Shotgun.FIX#212] Normal pellet 6/14: extraOffset=7,4, distance=59,4px, pos=(455.7145, 1297.976)
[21:42:57] [INFO] [Shotgun.FIX#212] Normal pellet 7/14: extraOffset=-2,4, distance=49,6px, pos=(456.72394, 1307.8923)
[21:42:57] [INFO] [Shotgun.FIX#212] Normal pellet 8/14: extraOffset=3,1, distance=55,1px, pos=(457.25388, 1302.4707)
[21:42:57] [INFO] [Shotgun.FIX#212] Normal pellet 9/14: extraOffset=13,1, distance=65,1px, pos=(461.32632, 1292.969)
[21:42:57] [INFO] [Shotgun.FIX#212] Normal pellet 10/14: extraOffset=3,7, distance=55,7px, pos=(460.6466, 1302.4011)
[21:42:57] [INFO] [Shotgun.FIX#212] Normal pellet 11/14: extraOffset=3,4, distance=55,4px, pos=(460.8131, 1302.738)
[21:42:57] [INFO] [Shotgun.FIX#212] Normal pellet 12/14: extraOffset=-1,9, distance=50,1px, pos=(462.3659, 1308.5298)
[21:42:57] [INFO] [Shotgun.FIX#212] Normal pellet 13/14: extraOffset=-11,2, distance=40,8px, pos=(460.26498, 1317.5396)
[21:42:57] [INFO] [Shotgun.FIX#212] Normal pellet 14/14: extraOffset=-6,0, distance=46,0px, pos=(462.69797, 1312.7972)
[21:42:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 1357.056), source=PLAYER (Shotgun), range=1469, listeners=10
[21:42:57] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=7
[21:42:57] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1018), can_see=false
[21:42:57] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=809), can_see=false
[21:42:57] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=657), can_see=false
[21:42:57] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=576), can_see=false
[21:42:57] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1605), can_see=false
[21:42:57] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1753), can_see=false
[21:42:57] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1253), can_see=false
[21:42:57] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1453), can_see=false
[21:42:57] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1661), can_see=false
[21:42:57] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=776), can_see=false
[21:42:57] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(450,1369), corner_timer=-0.02
[21:42:57] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[21:42:57] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(450,1369), corner_timer=-0.02
[21:42:57] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[21:42:57] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(450,1369), corner_timer=0.30
[21:42:57] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(450,1369), corner_timer=0.30
[21:42:58] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[21:42:58] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=NeedsPumpUp, ReloadState=NotReloading
[21:42:58] [INFO] [Shotgun.FIX#445] dragStartPos=(478, 1201), aimDir=(0,17, -0,99)
[21:42:58] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[21:42:58] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[21:42:58] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[21:42:58] [INFO] [Shotgun.FIX#445v7] Mid-drag pump UP - shell ejected, continue dragging DOWN to chamber
[21:42:58] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[21:42:58] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[21:42:58] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[21:42:58] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1030), can_see=false
[21:42:58] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=821), can_see=false
[21:42:58] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=668), can_see=false
[21:42:58] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=585), can_see=false
[21:42:58] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1613), can_see=false
[21:42:58] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1759), can_see=false
[21:42:58] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1334), can_see=false
[21:42:58] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1452), can_see=false
[21:42:58] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1660), can_see=false
[21:42:58] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=762), can_see=false
[21:42:58] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(450,1369), corner_timer=-0.02
[21:42:58] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[21:42:58] [INFO] [Shotgun.FIX#445v7] TryProcessMidDragGesture - dragVector=(-1,7, -126,2), length=126,2, isDragUp=True, isDragDown=False, ActionState=NeedsPumpDown
[21:42:58] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(450,1369), corner_timer=0.30
[21:42:58] [INFO] [Shotgun.FIX#445v7] Mid-drag pump DOWN - chambered, ready to fire
[21:42:58] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[21:42:58] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[21:42:58] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[21:42:58] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(450,1369), corner_timer=-0.02
[21:42:58] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[21:42:58] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.6°, player=(450,1369), corner_timer=0.30
[21:42:58] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1030), can_see=false
[21:42:58] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=821), can_see=false
[21:42:58] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=668), can_see=false
[21:42:58] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=585), can_see=false
[21:42:58] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1613), can_see=false
[21:42:58] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1759), can_see=false
[21:42:58] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1334), can_see=false
[21:42:58] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1452), can_see=false
[21:42:58] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1660), can_see=false
[21:42:58] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=751), can_see=false
[21:42:58] [INFO] [Shotgun.FIX#243] RMB released after 22 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[21:42:58] [INFO] [Shotgun.FIX#445v7] ProcessDragGesture - dragVector=(-1,3, 24,8), length=24,9, ActionState=Ready
[21:42:58] [INFO] [Shotgun.FIX#445v7] Drag too short: 24,9 < 30
[21:42:58] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(450,1369), corner_timer=-0.02
[21:42:58] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[21:42:58] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.8°, current=6.3°, player=(450,1369), corner_timer=0.30
[21:42:59] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=10
[21:42:59] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1030), can_see=false
[21:42:59] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=821), can_see=false
[21:42:59] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=668), can_see=false
[21:42:59] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=585), can_see=false
[21:42:59] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1613), can_see=false
[21:42:59] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1759), can_see=false
[21:42:59] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1334), can_see=false
[21:42:59] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1452), can_see=false
[21:42:59] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1660), can_see=false
[21:42:59] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=747), can_see=false
[21:42:59] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.8°, player=(450,1369), corner_timer=-0.02
[21:42:59] [ENEMY] [Enemy10] PATROL corner check: angle 0.9°
[21:42:59] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=0.9°, current=4.6°, player=(450,1369), corner_timer=0.30
[21:42:59] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:42:59] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1030), can_see=false
[21:42:59] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=821), can_see=false
[21:42:59] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=668), can_see=false
[21:42:59] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=585), can_see=false
[21:42:59] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1613), can_see=false
[21:42:59] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1759), can_see=false
[21:42:59] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1303), can_see=false
[21:42:59] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1452), can_see=false
[21:42:59] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1660), can_see=false
[21:42:59] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=746), can_see=false
[21:42:59] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=-130.1°, player=(450,1369), corner_timer=-0.02
[21:42:59] [ENEMY] [Enemy7] PATROL corner check: angle 90.0°
[21:42:59] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=-133.0°, player=(450,1369), corner_timer=0.30
[21:42:59] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:43:00] [INFO] [ReplayManager] Recording frame 240 (4,0s): player_valid=True, enemies=10
[21:43:00] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=179.1°, current=172.4°, player=(450,1369), corner_timer=-0.02
[21:43:00] [ENEMY] [Enemy7] PATROL corner check: angle 89.8°
[21:43:00] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.8°, current=175.3°, player=(450,1369), corner_timer=0.30
[21:43:00] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1030), can_see=false
[21:43:00] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=821), can_see=false
[21:43:00] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=668), can_see=false
[21:43:00] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=585), can_see=false
[21:43:00] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1613), can_see=false
[21:43:00] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1759), can_see=false
[21:43:00] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1253), can_see=false
[21:43:00] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1452), can_see=false
[21:43:00] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1660), can_see=false
[21:43:00] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=746), can_see=false
[21:43:00] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:43:00] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=178.4°, current=120.7°, player=(450,1369), corner_timer=-0.02
[21:43:00] [ENEMY] [Enemy7] PATROL corner check: angle 89.7°
[21:43:00] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.7°, current=123.6°, player=(450,1369), corner_timer=0.30
[21:43:00] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:43:00] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1030), can_see=false
[21:43:00] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=821), can_see=false
[21:43:00] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=668), can_see=false
[21:43:00] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=585), can_see=false
[21:43:00] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1613), can_see=false
[21:43:00] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1759), can_see=false
[21:43:00] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1253), can_see=false
[21:43:00] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1452), can_see=false
[21:43:00] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1660), can_see=false
[21:43:00] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=746), can_see=false
[21:43:00] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.9°, current=89.7°, player=(450,1369), corner_timer=-0.02
[21:43:00] [ENEMY] [Enemy7] PATROL corner check: angle 89.6°
[21:43:00] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.6°, current=92.5°, player=(450,1369), corner_timer=0.30
[21:43:00] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:43:01] [INFO] [ReplayManager] Recording frame 300 (5,0s): player_valid=True, enemies=10
[21:43:02] [INFO] [ReplayManager] Recording frame 360 (6,0s): player_valid=True, enemies=10
[21:43:03] [INFO] [ReplayManager] Recording frame 420 (7,0s): player_valid=True, enemies=10
[21:43:03] [INFO] [ExperimentalSettings] Realistic visibility disabled
[21:43:03] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1030), can_see=false
[21:43:03] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=821), can_see=false
[21:43:03] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=668), can_see=false
[21:43:03] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=585), can_see=false
[21:43:03] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1613), can_see=false
[21:43:03] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1759), can_see=false
[21:43:03] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1253), can_see=false
[21:43:03] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1452), can_see=false
[21:43:03] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1660), can_see=false
[21:43:03] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=746), can_see=false
[21:43:03] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.7°, current=89.6°, player=(450,1369), corner_timer=-0.02
[21:43:03] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[21:43:03] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.4°, player=(450,1369), corner_timer=0.30
[21:43:03] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:43:04] [INFO] [ReplayManager] Recording frame 480 (8,0s): player_valid=True, enemies=10
[21:43:04] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[21:43:04] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:43:04] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[21:43:04] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[21:43:04] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[21:43:04] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[21:43:04] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[21:43:04] [INFO] [LastChance] Resetting all effects (scene change detected)
[21:43:04] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[21:43:04] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[21:43:04] [ENEMY] [Enemy1] Death animation component initialized
[21:43:04] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:43:04] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[21:43:04] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[21:43:04] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[21:43:04] [ENEMY] [Enemy2] Death animation component initialized
[21:43:04] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:43:04] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[21:43:04] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[21:43:04] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[21:43:04] [ENEMY] [Enemy3] Death animation component initialized
[21:43:04] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:43:04] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[21:43:04] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[21:43:04] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[21:43:04] [ENEMY] [Enemy4] Death animation component initialized
[21:43:04] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:43:04] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[21:43:04] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[21:43:04] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[21:43:04] [ENEMY] [Enemy5] Death animation component initialized
[21:43:04] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:43:04] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[21:43:04] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[21:43:04] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[21:43:04] [ENEMY] [Enemy6] Death animation component initialized
[21:43:04] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:43:04] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[21:43:04] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[21:43:04] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[21:43:04] [ENEMY] [Enemy7] Death animation component initialized
[21:43:04] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:43:04] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[21:43:04] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[21:43:04] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[21:43:04] [ENEMY] [Enemy8] Death animation component initialized
[21:43:04] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:43:04] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[21:43:04] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[21:43:04] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[21:43:04] [ENEMY] [Enemy9] Death animation component initialized
[21:43:04] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:43:04] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[21:43:04] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[21:43:04] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[21:43:04] [ENEMY] [Enemy10] Death animation component initialized
[21:43:04] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[21:43:04] [INFO] [BloodyFeet:Player] Footprint scene loaded
[21:43:04] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[21:43:04] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[21:43:04] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[21:43:04] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[21:43:04] [INFO] [Player.Weapon] GameManager weapon selection: shotgun (Shotgun)
[21:43:04] [INFO] [Player.Weapon] Removed default MakarovPM
[21:43:04] [INFO] [Player.Weapon] Equipped Shotgun (ammo: 0/8)
[21:43:04] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[21:43:04] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[21:43:04] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[21:43:04] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[21:43:04] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[21:43:04] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: True
[21:43:04] [INFO] [Player.Flashlight] Flashlight is selected, initializing...
[21:43:04] [INFO] [FlashlightEffect] PointLight2D found, energy=0.0, shadow=true
[21:43:04] [INFO] [FlashlightEffect] Flashlight sound loaded
[21:43:04] [INFO] [Player.Flashlight] Flashlight equipped and attached to PlayerModel at offset (20, 0)
[21:43:04] [INFO] [Player] Ready! Ammo: 0/8, Grenades: 1/3, Health: 4/4
[21:43:04] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[21:43:04] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[21:43:04] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[21:43:04] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[21:43:04] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[21:43:04] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[21:43:04] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[21:43:04] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[21:43:04] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[21:43:04] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[21:43:04] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[21:43:04] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[21:43:04] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[21:43:04] [INFO] [BuildingLevel] Setting up weapon: shotgun
[21:43:04] [INFO] [BuildingLevel] Shotgun already equipped by C# Player - skipping GDScript weapon swap
[21:43:04] [INFO] [ScoreManager] Level started with 10 enemies
[21:43:04] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[21:43:04] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[21:43:04] [INFO] [ReplayManager] Replay data cleared
[21:43:04] [INFO] [BuildingLevel] Previous replay data cleared
[21:43:04] [INFO] [ReplayManager] Detected player weapon: Shotgun
[21:43:04] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[21:43:04] [INFO] [ReplayManager] Level: BuildingLevel
[21:43:04] [INFO] [ReplayManager] Player: Player (valid: True)
[21:43:04] [INFO] [ReplayManager] Enemies count: 10
[21:43:04] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/shotgun_topdown.png
[21:43:04] [INFO] [ReplayManager]   Enemy 0: Enemy1
[21:43:04] [INFO] [ReplayManager]   Enemy 1: Enemy2
[21:43:04] [INFO] [ReplayManager]   Enemy 2: Enemy3
[21:43:04] [INFO] [ReplayManager]   Enemy 3: Enemy4
[21:43:04] [INFO] [ReplayManager]   Enemy 4: Enemy5
[21:43:04] [INFO] [ReplayManager]   Enemy 5: Enemy6
[21:43:04] [INFO] [ReplayManager]   Enemy 6: Enemy7
[21:43:04] [INFO] [ReplayManager]   Enemy 7: Enemy8
[21:43:04] [INFO] [ReplayManager]   Enemy 8: Enemy9
[21:43:04] [INFO] [ReplayManager]   Enemy 9: Enemy10
[21:43:04] [INFO] [BuildingLevel] Replay recording started successfully
[21:43:04] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[21:43:04] [INFO] [CinemaEffects] Found player node: Player
[21:43:04] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[21:43:04] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[21:43:04] [ENEMY] [Enemy1] Registered as sound listener
[21:43:04] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 4, behavior: GUARD
[21:43:04] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[21:43:04] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[21:43:04] [ENEMY] [Enemy2] Registered as sound listener
[21:43:04] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 3, behavior: GUARD
[21:43:04] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[21:43:04] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[21:43:04] [ENEMY] [Enemy3] Registered as sound listener
[21:43:04] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 2, behavior: GUARD
[21:43:04] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[21:43:04] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[21:43:04] [ENEMY] [Enemy4] Registered as sound listener
[21:43:04] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 2, behavior: GUARD
[21:43:04] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[21:43:04] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[21:43:04] [ENEMY] [Enemy5] Registered as sound listener
[21:43:04] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 3, behavior: GUARD
[21:43:04] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[21:43:04] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[21:43:04] [ENEMY] [Enemy6] Registered as sound listener
[21:43:04] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 3, behavior: GUARD
[21:43:04] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[21:43:04] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[21:43:04] [ENEMY] [Enemy7] Registered as sound listener
[21:43:04] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 3, behavior: PATROL
[21:43:04] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[21:43:04] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[21:43:04] [ENEMY] [Enemy8] Registered as sound listener
[21:43:04] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 2, behavior: GUARD
[21:43:04] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[21:43:04] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[21:43:04] [ENEMY] [Enemy9] Registered as sound listener
[21:43:04] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 3, behavior: GUARD
[21:43:04] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[21:43:04] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[21:43:04] [ENEMY] [Enemy10] Registered as sound listener
[21:43:04] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 3, behavior: PATROL
[21:43:04] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[21:43:04] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[21:43:04] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[21:43:04] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[21:43:04] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=236.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[21:43:04] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[21:43:04] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=180.0°, current=0.0°, player=(450,1249), corner_timer=0.00
[21:43:04] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[21:43:04] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=213.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[21:43:04] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[21:43:04] [INFO] [Player] Detecting weapon pose (frame 3)...
[21:43:04] [INFO] [Player] Detected weapon: Shotgun (Shotgun pose)
[21:43:04] [INFO] [Player] Applied Shotgun arm pose: Left=(21, 6), Right=(-1, 6)
[21:43:04] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[21:43:04] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[21:43:04] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[21:43:04] [INFO] [LastChance] Found player: Player
[21:43:04] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[21:43:04] [INFO] [LastChance] Connected to player Damaged signal (C#)
[21:43:04] [INFO] [LastChance] Connected to player Died signal (C#)
[21:43:04] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[21:43:05] [ENEMY] [Enemy1] Player ammo empty: false -> true
[21:43:05] [ENEMY] [Enemy2] Player ammo empty: false -> true
[21:43:05] [ENEMY] [Enemy3] Player ammo empty: false -> true
[21:43:05] [ENEMY] [Enemy4] Player ammo empty: false -> true
[21:43:05] [ENEMY] [Enemy5] Player ammo empty: false -> true
[21:43:05] [ENEMY] [Enemy6] Player ammo empty: false -> true
[21:43:05] [ENEMY] [Enemy7] Player ammo empty: false -> true
[21:43:05] [ENEMY] [Enemy8] Player ammo empty: false -> true
[21:43:05] [ENEMY] [Enemy9] Player ammo empty: false -> true
[21:43:05] [ENEMY] [Enemy10] Player ammo empty: false -> true
[21:43:05] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(450, 1087.833), source=PLAYER (Player), range=600, listeners=20
[21:43:05] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[21:43:05] [ENEMY] [Enemy3] Heard player EMPTY_CLICK at (450, 1087.833), intensity=0.01, distance=420
[21:43:05] [ENEMY] [Enemy3] Vulnerability sound triggered pursuit - transitioning from IDLE to PURSUING
[21:43:05] [ENEMY] [Enemy4] Heard player EMPTY_CLICK at (450, 1087.833), intensity=0.02, distance=397
[21:43:05] [ENEMY] [Enemy4] Vulnerability sound triggered pursuit - transitioning from IDLE to PURSUING
[21:43:05] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=7, self=0, below_threshold=1
[21:43:05] [INFO] [Shotgun.FIX#212] Firing 15 pellets with 15° spread at pos=(450, 1087.8334)
[21:43:05] [INFO] [Shotgun.FIX#212] Normal pellet 1/15: extraOffset=-10,3, distance=41,7px, pos=(489.42096, 1074.1932)
[21:43:05] [INFO] [Shotgun.FIX#212] Normal pellet 2/15: extraOffset=-5,7, distance=46,3px, pos=(494.0209, 1073.3761)
[21:43:05] [INFO] [Shotgun.FIX#212] Normal pellet 3/15: extraOffset=8,6, distance=60,6px, pos=(507.73376, 1069.4906)
[21:43:05] [INFO] [Shotgun.FIX#212] Normal pellet 4/15: extraOffset=8,4, distance=60,4px, pos=(508.5698, 1072.9734)
[21:43:05] [INFO] [Shotgun.FIX#212] Normal pellet 5/15: extraOffset=14,8, distance=66,8px, pos=(515.0322, 1072.6829)
[21:43:05] [INFO] [Shotgun.FIX#212] Normal pellet 6/15: extraOffset=3,6, distance=55,6px, pos=(503.97363, 1074.3672)
[21:43:05] [INFO] [Shotgun.FIX#212] Normal pellet 7/15: extraOffset=12,0, distance=64,0px, pos=(512.31616, 1073.3229)
[21:43:05] [INFO] [Shotgun.FIX#212] Normal pellet 8/15: extraOffset=11,4, distance=63,4px, pos=(512.3459, 1076.2351)
[21:43:05] [INFO] [Shotgun.FIX#212] Normal pellet 9/15: extraOffset=-3,7, distance=48,3px, pos=(497.62585, 1079.8292)
[21:43:05] [INFO] [Shotgun.FIX#212] Normal pellet 10/15: extraOffset=-12,8, distance=39,2px, pos=(488.77695, 1082.0576)
[21:43:05] [INFO] [Shotgun.FIX#212] Normal pellet 11/15: extraOffset=-10,3, distance=41,7px, pos=(491.232, 1081.7362)
[21:43:05] [INFO] [Shotgun.FIX#212] Normal pellet 12/15: extraOffset=3,0, distance=55,0px, pos=(504.5115, 1080.5314)
[21:43:05] [INFO] [Shotgun.FIX#212] Normal pellet 13/15: extraOffset=-5,7, distance=46,3px, pos=(496.0119, 1082.9836)
[21:43:05] [INFO] [Shotgun.FIX#212] Normal pellet 14/15: extraOffset=-3,4, distance=48,6px, pos=(498.37805, 1083.2997)
[21:43:05] [INFO] [Shotgun.FIX#212] Normal pellet 15/15: extraOffset=-1,7, distance=50,3px, pos=(500.27377, 1085.2142)
[21:43:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 1087.833), source=PLAYER (Shotgun), range=1469, listeners=10
[21:43:05] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=5
[21:43:05] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=753), can_see=false
[21:43:05] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=540), can_see=false
[21:43:05] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=126.5°, current=-106.0°, player=(450,1087), corner_timer=0.00
[21:43:05] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=420), can_see=false
[21:43:05] [ENEMY] [Enemy3] Pursuing vulnerability sound at (450, 1087.833), distance=420
[21:43:05] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=151.8°, current=-101.3°, player=(450,1087), corner_timer=0.00
[21:43:05] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=397), can_see=false
[21:43:05] [ENEMY] [Enemy4] Pursuing vulnerability sound at (450, 1087.833), distance=397
[21:43:05] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1452), can_see=false
[21:43:05] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1630), can_see=false
[21:43:05] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1173), can_see=false
[21:43:05] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1495), can_see=false
[21:43:05] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1714), can_see=false
[21:43:05] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=881), can_see=false
[21:43:05] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[21:43:05] [ENEMY] [Enemy2] Memory: medium confidence (0.50) - transitioning to PURSUING
[21:43:05] [ENEMY] [Enemy2] State: IDLE -> PURSUING
[21:43:05] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=84.4°, current=-157.5°, player=(450,1059), corner_timer=0.00
[21:43:05] [ENEMY] [Enemy2] PURSUING corner check: angle 180.0°
[21:43:05] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=725), can_see=false
[21:43:05] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=485), can_see=false
[21:43:05] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=303), can_see=false
[21:43:05] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=412), can_see=false
[21:43:05] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1437), can_see=false
[21:43:05] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1619), can_see=false
[21:43:05] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1169), can_see=false
[21:43:05] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1502), can_see=false
[21:43:05] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1721), can_see=false
[21:43:05] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=896), can_see=false
[21:43:05] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=100.7°, current=101.7°, player=(450,1059), corner_timer=0.00
[21:43:05] [ENEMY] [Enemy3] Player empty ammo - priority attack triggered
[21:43:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(503.9818, 772.7522), source=ENEMY (Enemy3), range=1469, listeners=10
[21:43:05] [ENEMY] [Enemy1] Heard gunshot at (503.9818, 772.7522), source_type=1, intensity=0.01, distance=469
[21:43:05] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=1, below_threshold=3
[21:43:05] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(499.13837, 840.6281), shooter_id=2968225061043, bullet_pos=(499.13837, 840.6281)
[21:43:05] [INFO] [Bullet] Using shooter_position, distance=0
[21:43:05] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[21:43:05] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[21:43:05] [INFO] [Bullet] Starting wall penetration at (499.13837, 840.6281)
[21:43:05] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=78.1°, current=168.8°, player=(450,1059), corner_timer=0.00
[21:43:05] [ENEMY] [Enemy3] State: PURSUING -> COMBAT
[21:43:05] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[21:43:05] [INFO] [Bullet] Exiting penetration at (490.28583, 886.44745) after traveling 41,66667 pixels through wall
[21:43:05] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[21:43:05] [ENEMY] [Enemy3] Player empty ammo - priority attack triggered
[21:43:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(481.3222, 784.3945), source=ENEMY (Enemy3), range=1469, listeners=10
[21:43:05] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=1, below_threshold=3
[21:43:05] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[21:43:05] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=NeedsPumpUp, ReloadState=NotReloading
[21:43:05] [INFO] [Shotgun.FIX#445] dragStartPos=(788, 1004), aimDir=(0,99, -0,16)
[21:43:05] [INFO] [LastChance] Threat detected: Bullet
[21:43:05] [INFO] [LastChance] Not in hard mode - effect disabled
[21:43:05] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:43:05] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[21:43:05] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[21:43:05] [INFO] [Shotgun.FIX#445v7] Mid-drag pump UP - shell ejected, continue dragging DOWN to chamber
[21:43:05] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[21:43:05] [INFO] [Player] Hit blocked by invincibility mode (C#)
[21:43:05] [INFO] [Player] Spawning blood effect at (450, 1059.4445), dir=(1, 0), lethal=False (C#)
[21:43:05] [INFO] [ImpactEffects] spawn_blood_effect called at (450, 1059.444), dir=(1, 0), lethal=false
[21:43:05] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:43:05] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:43:05] [INFO] [ImpactEffects] Blood effect spawned at (450, 1059.444) (scale=1)
[21:43:05] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[21:43:05] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[21:43:05] [ENEMY] [Enemy3] Player empty ammo - priority attack triggered
[21:43:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(468.5609, 812.671), source=ENEMY (Enemy3), range=1469, listeners=10
[21:43:05] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=1, below_threshold=3
[21:43:05] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[21:43:05] [INFO] [LastChance] Threat detected: Bullet
[21:43:05] [INFO] [LastChance] Not in hard mode - effect disabled
[21:43:05] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:43:05] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[21:43:05] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[21:43:05] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,1059), corner_timer=0.30
[21:43:05] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,1059), corner_timer=0.30
[21:43:05] [INFO] [Player] Hit blocked by invincibility mode (C#)
[21:43:05] [INFO] [Player] Spawning blood effect at (450, 1059.4445), dir=(1, 0), lethal=False (C#)
[21:43:05] [INFO] [ImpactEffects] spawn_blood_effect called at (450, 1059.444), dir=(1, 0), lethal=false
[21:43:05] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:43:05] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:43:05] [INFO] [ImpactEffects] Blood effect spawned at (450, 1059.444) (scale=1)
[21:43:06] [ENEMY] [Enemy3] Player empty ammo - priority attack triggered
[21:43:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(457.3413, 842.0623), source=ENEMY (Enemy3), range=1469, listeners=10
[21:43:06] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=1, below_threshold=3
[21:43:06] [INFO] [LastChance] Threat detected: Bullet
[21:43:06] [INFO] [LastChance] Not in hard mode - effect disabled
[21:43:06] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:43:06] [INFO] [Shotgun.FIX#445v7] Mid-drag pump DOWN - chambered, ready to fire
[21:43:06] [ENEMY] [Enemy4] Pursuing vulnerability sound at (450, 1059.444), distance=309
[21:43:06] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=689), can_see=false
[21:43:06] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=418), can_see=false
[21:43:06] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=308), can_see=false
[21:43:06] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1437), can_see=false
[21:43:06] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1619), can_see=false
[21:43:06] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1198), can_see=false
[21:43:06] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1502), can_see=false
[21:43:06] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1721), can_see=false
[21:43:06] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=911), can_see=false
[21:43:06] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[21:43:06] [INFO] [Player] Hit blocked by invincibility mode (C#)
[21:43:06] [INFO] [Player] Spawning blood effect at (450, 1059.4445), dir=(1, 0), lethal=False (C#)
[21:43:06] [INFO] [ImpactEffects] spawn_blood_effect called at (450, 1059.444), dir=(1, 0), lethal=false
[21:43:06] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:43:06] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:43:06] [INFO] [ImpactEffects] Blood effect spawned at (450, 1059.444) (scale=1)
[21:43:06] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[21:43:06] [ENEMY] [Enemy3] Player empty ammo - priority attack triggered
[21:43:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(468.4086, 850.0805), source=ENEMY (Enemy3), range=1469, listeners=10
[21:43:06] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=4
[21:43:06] [INFO] [LastChance] Threat detected: Bullet
[21:43:06] [INFO] [LastChance] Not in hard mode - effect disabled
[21:43:06] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:43:06] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[21:43:06] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[21:43:06] [INFO] [BloodDecal] Blood puddle created at (545.8187, 1054.213) (added to group)
[21:43:06] [ENEMY] [Enemy3] Player empty ammo - priority attack triggered
[21:43:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(463.774, 862.3575), source=ENEMY (Enemy3), range=1469, listeners=10
[21:43:06] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=4
[21:43:06] [INFO] [BloodDecal] Blood puddle created at (544.8976, 1128.361) (added to group)
[21:43:06] [INFO] [BloodDecal] Blood puddle created at (513.6746, 1100.385) (added to group)
[21:43:06] [INFO] [BloodDecal] Blood puddle created at (538.0544, 1123.05) (added to group)
[21:43:06] [INFO] [LastChance] Threat detected: @Area2D@4293
[21:43:06] [INFO] [LastChance] Not in hard mode - effect disabled
[21:43:06] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:43:06] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(450,1059), corner_timer=-0.02
[21:43:06] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[21:43:06] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(450,1059), corner_timer=-0.02
[21:43:06] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[21:43:06] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(450,1059), corner_timer=0.30
[21:43:06] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(450,1059), corner_timer=0.30
[21:43:06] [INFO] [Player] Hit blocked by invincibility mode (C#)
[21:43:06] [INFO] [Player] Spawning blood effect at (450, 1059.4445), dir=(1, 0), lethal=False (C#)
[21:43:06] [INFO] [ImpactEffects] spawn_blood_effect called at (450, 1059.444), dir=(1, 0), lethal=false
[21:43:06] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:43:06] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:43:06] [INFO] [ImpactEffects] Blood effect spawned at (450, 1059.444) (scale=1)
[21:43:06] [INFO] [BloodDecal] Blood puddle created at (546.3737, 1056.868) (added to group)
[21:43:06] [INFO] [BloodDecal] Blood puddle created at (546.262, 1053.591) (added to group)
[21:43:06] [ENEMY] [Enemy3] Player empty ammo - priority attack triggered
[21:43:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(465.5305, 875.1715), source=ENEMY (Enemy3), range=1469, listeners=10
[21:43:06] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=4
[21:43:06] [INFO] [LastChance] Threat detected: @Area2D@4309
[21:43:06] [INFO] [LastChance] Not in hard mode - effect disabled
[21:43:06] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:43:06] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=100.9°, current=105.9°, player=(450,1059), corner_timer=0.00
[21:43:06] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[21:43:06] [INFO] [Shotgun.FIX#445v7] TryProcessMidDragGesture - dragVector=(18,1, 149,2), length=150,3, isDragUp=False, isDragDown=True, ActionState=Ready
[21:43:06] [INFO] [BloodDecal] Blood puddle created at (522.5845, 1139.261) (added to group)
[21:43:06] [INFO] [BloodDecal] Blood puddle created at (561.5984, 1060.28) (added to group)
[21:43:06] [INFO] [BloodDecal] Blood puddle created at (512.5083, 1071.308) (added to group)
[21:43:06] [INFO] [BloodDecal] Blood puddle created at (505.4984, 1068.228) (added to group)
[21:43:06] [ENEMY] [Enemy4] Player empty ammo - priority attack triggered
[21:43:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(499.3702, 776.0067), source=ENEMY (Enemy4), range=1469, listeners=10
[21:43:06] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=1, below_threshold=3
[21:43:06] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[21:43:06] [INFO] [Shotgun.FIX#243] RMB released after 10 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[21:43:06] [INFO] [Shotgun.FIX#445v7] ProcessDragGesture - dragVector=(18,1, 149,2), length=150,3, ActionState=Ready
[21:43:06] [INFO] [Shotgun.FIX#445v7] Screen-based pump gesture: isDragUp=False, isDragDown=True
[21:43:06] [INFO] [BloodDecal] Blood puddle created at (614.1826, 1175.497) (added to group)
[21:43:06] [INFO] [BloodDecal] Blood puddle created at (511.8999, 1075.287) (added to group)
[21:43:06] [INFO] [Player] Hit blocked by invincibility mode (C#)
[21:43:06] [INFO] [Player] Spawning blood effect at (450, 1059.4445), dir=(1, 0), lethal=False (C#)
[21:43:06] [INFO] [ImpactEffects] spawn_blood_effect called at (450, 1059.444), dir=(1, 0), lethal=false
[21:43:06] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:43:06] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:43:06] [INFO] [ImpactEffects] Blood effect spawned at (450, 1059.444) (scale=1)
[21:43:06] [INFO] [LastChance] Threat detected: @Area2D@4320
[21:43:06] [INFO] [LastChance] Not in hard mode - effect disabled
[21:43:06] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:43:06] [INFO] [BloodDecal] Blood puddle created at (530.4783, 1148.845) (added to group)
[21:43:06] [INFO] [BloodDecal] Blood puddle created at (586.8062, 1176.356) (added to group)
[21:43:06] [INFO] [BloodDecal] Blood puddle created at (510.0978, 1092.048) (added to group)
[21:43:06] [ENEMY] [Enemy3] Player empty ammo - priority attack triggered
[21:43:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(467.3293, 887.9442), source=ENEMY (Enemy3), range=1469, listeners=10
[21:43:06] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=4
[21:43:06] [INFO] [BloodDecal] Blood puddle created at (585.2021, 1074.705) (added to group)
[21:43:06] [INFO] [BloodDecal] Blood puddle created at (602.9714, 1182.359) (added to group)
[21:43:06] [INFO] [BloodDecal] Blood puddle created at (600.6439, 1114.385) (added to group)
[21:43:06] [INFO] [LastChance] Threat detected: @Area2D@4333
[21:43:06] [INFO] [LastChance] Not in hard mode - effect disabled
[21:43:06] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:43:06] [INFO] [Player] Hit blocked by invincibility mode (C#)
[21:43:06] [INFO] [Player] Spawning blood effect at (450, 1060.4445), dir=(1, 0), lethal=False (C#)
[21:43:06] [INFO] [ImpactEffects] spawn_blood_effect called at (450, 1060.444), dir=(1, 0), lethal=false
[21:43:06] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:43:06] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:43:06] [INFO] [ImpactEffects] Blood effect spawned at (450, 1060.444) (scale=1)
[21:43:06] [ENEMY] [Enemy4] Player empty ammo - priority attack triggered
[21:43:06] [INFO] [BloodDecal] Blood puddle created at (641.0123, 1112.801) (added to group)
[21:43:06] [INFO] [Player] Hit blocked by invincibility mode (C#)
[21:43:06] [INFO] [Player] Spawning blood effect at (450, 1064.4445), dir=(1, 0), lethal=False (C#)
[21:43:06] [INFO] [ImpactEffects] spawn_blood_effect called at (450, 1064.444), dir=(1, 0), lethal=false
[21:43:06] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:43:06] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:43:06] [INFO] [ImpactEffects] Blood effect spawned at (450, 1064.444) (scale=1)
[21:43:06] [INFO] [BloodDecal] Blood puddle created at (596.0928, 1162.915) (added to group)
[21:43:06] [INFO] [BloodDecal] Blood puddle created at (576.5536, 1120.84) (added to group)
[21:43:06] [INFO] [BloodDecal] Blood puddle created at (585.859, 1068.268) (added to group)
[21:43:06] [INFO] [BloodDecal] Blood puddle created at (588.6291, 1073.532) (added to group)
[21:43:06] [INFO] [BloodDecal] Blood puddle created at (501.8648, 1066.3) (added to group)
[21:43:06] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=702), can_see=false
[21:43:06] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=430), can_see=false
[21:43:06] [ENEMY] [Enemy3] Player empty ammo - priority attack triggered
[21:43:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(462.4991, 900.9433), source=ENEMY (Enemy3), range=1469, listeners=10
[21:43:06] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=4
[21:43:06] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1443), can_see=false
[21:43:06] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1624), can_see=false
[21:43:06] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1260), can_see=false
[21:43:06] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1499), can_see=false
[21:43:06] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1718), can_see=false
[21:43:06] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=896), can_see=false
[21:43:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(470.25766, 918.1039), shooter_id=2968225061043, bullet_pos=(385.15964, 2081.6626)
[21:43:06] [INFO] [Bullet] Using shooter_position, distance=1166,6664
[21:43:06] [INFO] [Bullet] Distance to wall: 1166,6664 (79,44046% of viewport)
[21:43:06] [INFO] [Bullet] Distance-based penetration chance: 53,986134%
[21:43:06] [INFO] [Bullet] Penetration failed (distance roll)
[21:43:06] [INFO] [LastChance] Threat detected: @Area2D@4356
[21:43:06] [INFO] [LastChance] Not in hard mode - effect disabled
[21:43:06] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:43:06] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[21:43:06] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(450,1074), corner_timer=-0.02
[21:43:06] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[21:43:06] [INFO] [BloodDecal] Blood puddle created at (604.0173, 1175.976) (added to group)
[21:43:06] [INFO] [BloodDecal] Blood puddle created at (520.4749, 1106.349) (added to group)
[21:43:06] [ENEMY] [Enemy4] Player empty ammo - priority attack triggered
[21:43:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(467.7417, 822.7301), source=ENEMY (Enemy4), range=1469, listeners=10
[21:43:06] [ENEMY] [Enemy3] Heard gunshot at (467.7417, 822.7301), source_type=1, intensity=0.35, distance=85
[21:43:06] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=1, below_threshold=3
[21:43:06] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(450,1077), corner_timer=0.30
[21:43:06] [ENEMY] [Enemy3] Hit: dmg=1, hp=2/2->1/2
[21:43:06] [INFO] [ImpactEffects] spawn_blood_effect called at (452.4286, 905.845), dir=(1, 0), lethal=false
[21:43:06] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:43:06] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:43:06] [INFO] [ImpactEffects] Wall found for blood splatter at (500, 905.845) (dist=47 px)
[21:43:06] [INFO] [BloodDecal] Blood puddle created at (499, 905.845) (added to group)
[21:43:06] [INFO] [ImpactEffects] Blood effect spawned at (452.4286, 905.845) (scale=1)
[21:43:06] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=90.8°, current=180.0°, player=(450,1081), corner_timer=0.00
[21:43:06] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=176), can_see=false
[21:43:06] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[21:43:06] [INFO] [BloodDecal] Blood puddle created at (663.8262, 1092.234) (added to group)
[21:43:06] [INFO] [Player] Hit blocked by invincibility mode (C#)
[21:43:06] [INFO] [Player] Spawning blood effect at (450, 1085.4445), dir=(1, 0), lethal=False (C#)
[21:43:06] [INFO] [ImpactEffects] spawn_blood_effect called at (450, 1085.444), dir=(1, 0), lethal=false
[21:43:06] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:43:06] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:43:06] [INFO] [ImpactEffects] Blood effect spawned at (450, 1085.444) (scale=1)
[21:43:06] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P4:velocity, state=RETREATING, target=154.0°, current=177.1°, player=(450,1085), corner_timer=0.00
[21:43:06] [INFO] [BloodDecal] Blood puddle created at (617.8253, 1054.688) (added to group)
[21:43:06] [INFO] [BloodDecal] Blood puddle created at (631.7197, 1168.344) (added to group)
[21:43:06] [INFO] [BloodDecal] Blood puddle created at (493.7115, 1081.056) (added to group)
[21:43:06] [ENEMY] [Enemy3] ROT_CHANGE: P4:velocity -> P1:visible, state=RETREATING, target=91.2°, current=136.8°, player=(450,1094), corner_timer=0.00
[21:43:06] [ENEMY] [Enemy3] Player empty ammo - priority attack triggered
[21:43:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(456.2988, 910.864), source=ENEMY (Enemy3), range=1469, listeners=10
[21:43:06] [ENEMY] [Enemy4] Heard gunshot at (456.2988, 910.864), source_type=1, intensity=0.64, distance=62
[21:43:06] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=4
[21:43:06] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[21:43:06] [INFO] [BloodDecal] Blood puddle created at (628.4254, 1217.156) (added to group)
[21:43:06] [INFO] [LastChance] Threat detected: Bullet
[21:43:06] [INFO] [LastChance] Not in hard mode - effect disabled
[21:43:06] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:43:06] [ENEMY] [Enemy4] Player empty ammo - priority attack triggered
[21:43:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(465.0853, 859.9689), source=ENEMY (Enemy4), range=1469, listeners=10
[21:43:06] [ENEMY] [Enemy3] Heard gunshot at (465.0853, 859.9689), source_type=1, intensity=0.87, distance=54
[21:43:06] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=4
[21:43:06] [ENEMY] [Enemy3] Hit: dmg=1, hp=1/2->0/2
[21:43:06] [INFO] [ImpactEffects] spawn_blood_effect called at (463.8143, 913.6058), dir=(1, 0), lethal=true
[21:43:06] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:43:06] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[21:43:06] [INFO] [ImpactEffects] Wall found for blood splatter at (500, 913.6058) (dist=36 px)
[21:43:06] [INFO] [BloodDecal] Blood puddle created at (499, 913.6058) (added to group)
[21:43:06] [INFO] [ImpactEffects] Blood effect spawned at (463.8143, 913.6058) (scale=1.5)
[21:43:06] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[21:43:06] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[21:43:06] [ENEMY] [Enemy2] [AllyDeath] Witnessed at (463.8143, 913.6058), entering SEARCHING
[21:43:06] [ENEMY] [Enemy2] SEARCHING started: center=(463.8143, 913.6058), radius=100, waypoints=5
[21:43:06] [ENEMY] [Enemy3] [AllyDeath] Notified 2 enemies
[21:43:06] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[21:43:06] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[21:43:06] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[21:43:06] [INFO] [Player] Hit blocked by invincibility mode (C#)
[21:43:06] [INFO] [Player] Spawning blood effect at (450, 1121.2778), dir=(1, 0), lethal=False (C#)
[21:43:06] [INFO] [ImpactEffects] spawn_blood_effect called at (450, 1121.278), dir=(1, 0), lethal=false
[21:43:06] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:43:06] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:43:06] [INFO] [ImpactEffects] Blood effect spawned at (450, 1121.278) (scale=1)
[21:43:06] [INFO] [BloodDecal] Blood puddle created at (635.0509, 1076.142) (added to group)
[21:43:06] [INFO] [BloodDecal] Blood puddle created at (563.6974, 1085.589) (added to group)
[21:43:06] [INFO] [BloodDecal] Blood puddle created at (592.438, 1169.761) (added to group)
[21:43:06] [INFO] [BloodDecal] Blood puddle created at (561.9785, 1053.681) (added to group)
[21:43:06] [INFO] [BloodDecal] Blood puddle created at (509.7936, 1084.191) (added to group)
[21:43:06] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(450, 1132), source=PLAYER (Player), range=600, listeners=9
[21:43:06] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (450, 1132), intensity=0.01, distance=486
[21:43:06] [ENEMY] [Enemy4] Heard player EMPTY_CLICK at (450, 1132), intensity=0.04, distance=251
[21:43:06] [ENEMY] [Enemy4] Vulnerability sound triggered pursuit - transitioning from RETREATING to PURSUING
[21:43:06] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=7, self=0, below_threshold=0
[21:43:06] [INFO] [Shotgun.FIX#212] Firing 12 pellets with 15° spread at pos=(450, 1132)
[21:43:06] [INFO] [Shotgun.FIX#212] Normal pellet 1/12: extraOffset=-0,9, distance=51,1px, pos=(501.0487, 1134.4263)
[21:43:06] [INFO] [Shotgun.FIX#212] Normal pellet 2/12: extraOffset=-1,6, distance=50,4px, pos=(500.38196, 1133.1586)
[21:43:06] [INFO] [Shotgun.FIX#212] Normal pellet 3/12: extraOffset=14,1, distance=66,1px, pos=(515.8622, 1137.1692)
[21:43:06] [INFO] [Shotgun.FIX#212] Normal pellet 4/12: extraOffset=0,2, distance=52,2px, pos=(501.90137, 1137.2134)
[21:43:06] [INFO] [Shotgun.FIX#212] Normal pellet 5/12: extraOffset=10,7, distance=62,7px, pos=(512.32477, 1138.9993)
[21:43:06] [INFO] [Shotgun.FIX#212] Normal pellet 6/12: extraOffset=-8,6, distance=43,4px, pos=(492.9472, 1137.9546)
[21:43:06] [INFO] [Shotgun.FIX#212] Normal pellet 7/12: extraOffset=15,0, distance=67,0px, pos=(515.96747, 1143.6682)
[21:43:06] [INFO] [Shotgun.FIX#212] Normal pellet 8/12: extraOffset=4,6, distance=56,6px, pos=(505.51468, 1142.9497)
[21:43:06] [INFO] [Shotgun.FIX#212] Normal pellet 9/12: extraOffset=7,4, distance=59,4px, pos=(508.0172, 1144.8005)
[21:43:06] [INFO] [Shotgun.FIX#212] Normal pellet 10/12: extraOffset=-0,1, distance=51,9px, pos=(500.56445, 1143.5212)
[21:43:06] [INFO] [Shotgun.FIX#212] Normal pellet 11/12: extraOffset=3,3, distance=55,3px, pos=(503.29184, 1146.7203)
[21:43:06] [INFO] [Shotgun.FIX#212] Normal pellet 12/12: extraOffset=-2,2, distance=49,8px, pos=(497.6684, 1146.5718)
[21:43:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 1132), source=PLAYER (Shotgun), range=1469, listeners=9
[21:43:06] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=4, self=0, below_threshold=3
[21:43:06] [ENEMY] [Enemy2] SEARCHING corner check: angle -81.6°
[21:43:06] [INFO] [BloodDecal] Blood puddle created at (667.0522, 1220.895) (added to group)
[21:43:06] [INFO] [BloodDecal] Blood puddle created at (560.4749, 1125.449) (added to group)
[21:43:06] [INFO] [BloodDecal] Blood puddle created at (564.2452, 1093.799) (added to group)
[21:43:06] [INFO] [BloodDecal] Blood puddle created at (538.8129, 1161.193) (added to group)
[21:43:06] [INFO] [BloodDecal] Blood puddle created at (558.5901, 1127.165) (added to group)
[21:43:06] [INFO] [BloodDecal] Blood puddle created at (550.5133, 1122.071) (added to group)
[21:43:06] [INFO] [BloodDecal] Blood puddle created at (540.6867, 1073.703) (added to group)
[21:43:06] [INFO] [BloodDecal] Blood puddle created at (522.3325, 1093.929) (added to group)
[21:43:06] [ENEMY] [Enemy4] Player empty ammo - priority attack triggered
[21:43:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(462.7195, 897.2257), source=ENEMY (Enemy4), range=1469, listeners=9
[21:43:06] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=4
[21:43:06] [INFO] [LastChance] Threat detected: Bullet
[21:43:06] [INFO] [LastChance] Not in hard mode - effect disabled
[21:43:06] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:43:06] [INFO] [BloodDecal] Blood puddle created at (546.4777, 1123.958) (added to group)
[21:43:06] [INFO] [BloodDecal] Blood puddle created at (649.941, 1127.07) (added to group)
[21:43:06] [INFO] [BloodDecal] Blood puddle created at (571.9996, 1110.276) (added to group)
[21:43:06] [INFO] [BloodDecal] Blood puddle created at (573.6887, 1147.218) (added to group)
[21:43:06] [INFO] [BloodDecal] Blood puddle created at (558.8193, 1141.274) (added to group)
[21:43:06] [INFO] [BloodDecal] Blood puddle created at (555.4982, 1138.832) (added to group)
[21:43:06] [INFO] [BloodDecal] Blood puddle created at (520.7643, 1080.134) (added to group)
[21:43:06] [INFO] [BloodDecal] Blood puddle created at (524.4561, 1079.263) (added to group)
[21:43:06] [INFO] [BloodDecal] Blood puddle created at (581.3239, 1136.73) (added to group)
[21:43:06] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(450,1163), corner_timer=-0.02
[21:43:06] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[21:43:06] [INFO] [Player] Hit blocked by invincibility mode (C#)
[21:43:06] [INFO] [Player] Spawning blood effect at (450, 1166.5), dir=(1, 0), lethal=False (C#)
[21:43:06] [INFO] [ImpactEffects] spawn_blood_effect called at (450, 1166.5), dir=(1, 0), lethal=false
[21:43:06] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:43:06] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:43:06] [INFO] [ImpactEffects] Blood effect spawned at (450, 1166.5) (scale=1)
[21:43:06] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.6°, player=(450,1166), corner_timer=0.30
[21:43:06] [INFO] [BloodDecal] Blood puddle created at (557.8026, 1132.707) (added to group)
[21:43:06] [INFO] [BloodDecal] Blood puddle created at (594.7311, 1125.201) (added to group)
[21:43:06] [INFO] [BloodDecal] Blood puddle created at (526.8467, 1068.309) (added to group)
[21:43:06] [INFO] [BloodDecal] Blood puddle created at (523.0569, 1077.932) (added to group)
[21:43:07] [ENEMY] [Enemy4] Player empty ammo - priority attack triggered
[21:43:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(460.8919, 934.5142), source=ENEMY (Enemy4), range=1469, listeners=9
[21:43:07] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=4
[21:43:07] [INFO] [LastChance] Threat detected: Bullet
[21:43:07] [INFO] [LastChance] Not in hard mode - effect disabled
[21:43:07] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:43:07] [INFO] [BloodDecal] Blood puddle created at (588.4634, 1104.952) (added to group)
[21:43:07] [INFO] [BloodDecal] Blood puddle created at (527.2275, 1123.94) (added to group)
[21:43:07] [INFO] [Player] Hit blocked by invincibility mode (C#)
[21:43:07] [INFO] [Player] Spawning blood effect at (450, 1177), dir=(1, 0), lethal=False (C#)
[21:43:07] [INFO] [ImpactEffects] spawn_blood_effect called at (450, 1177), dir=(1, 0), lethal=false
[21:43:07] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:43:07] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:43:07] [INFO] [ImpactEffects] Blood effect spawned at (450, 1177) (scale=1)
[21:43:07] [INFO] [BloodDecal] Blood puddle created at (652.6271, 1116.666) (added to group)
[21:43:07] [INFO] [BloodDecal] Blood puddle created at (568.0026, 1151.502) (added to group)
[21:43:07] [INFO] [BloodDecal] Blood puddle created at (590.7999, 1152.182) (added to group)
[21:43:07] [INFO] [BloodDecal] Blood puddle created at (576.7628, 1064.984) (added to group)
[21:43:07] [INFO] [BloodDecal] Blood puddle created at (551.6112, 1100.27) (added to group)
[21:43:07] [ENEMY] [Enemy4] Pursuing vulnerability sound at (450, 1177.778), distance=212
[21:43:07] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[21:43:07] [ENEMY] [Enemy4] Player empty ammo - priority attack triggered
[21:43:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(459.1956, 971.809), source=ENEMY (Enemy4), range=1469, listeners=9
[21:43:07] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=4
[21:43:07] [INFO] [LastChance] Threat detected: Bullet
[21:43:07] [INFO] [LastChance] Not in hard mode - effect disabled
[21:43:07] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:43:07] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=804), can_see=false
[21:43:07] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=520), can_see=false
[21:43:07] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1500), can_see=false
[21:43:07] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1668), can_see=false
[21:43:07] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1279), can_see=false
[21:43:07] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1475), can_see=false
[21:43:07] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1691), can_see=false
[21:43:07] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=829), can_see=false
[21:43:07] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=NeedsPumpUp, ReloadState=NotReloading
[21:43:07] [INFO] [Shotgun.FIX#445] dragStartPos=(819, 1252), aimDir=(0,98, 0,20)
[21:43:07] [INFO] [BloodDecal] Blood puddle created at (567.8491, 1096.876) (added to group)
[21:43:07] [INFO] [BloodDecal] Blood puddle created at (543.5302, 1137.507) (added to group)
[21:43:07] [INFO] [BloodDecal] Blood puddle created at (572.7014, 1189.813) (added to group)
[21:43:07] [INFO] [BloodDecal] Blood puddle created at (500.3616, 1131.401) (added to group)
[21:43:07] [INFO] [BloodDecal] Blood puddle created at (498.0452, 1160.218) (added to group)
[21:43:07] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=SEARCHING, target=96.4°, current=54.2°, player=(450,1178), corner_timer=0.00
[21:43:07] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) - pursuing to attack (dist=520)
[21:43:07] [ENEMY] [Enemy2] Pursuing vulnerability sound at (450, 1178.5), distance=520
[21:43:07] [ENEMY] [Enemy2] State: SEARCHING -> PURSUING
[21:43:07] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=PURSUING, target=96.9°, current=18.4°, player=(450,1178), corner_timer=0.00
[21:43:07] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[21:43:07] [INFO] [Player] Hit blocked by invincibility mode (C#)
[21:43:07] [INFO] [Player] Spawning blood effect at (450, 1178.5), dir=(1, 0), lethal=False (C#)
[21:43:07] [INFO] [ImpactEffects] spawn_blood_effect called at (450, 1178.5), dir=(1, 0), lethal=false
[21:43:07] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:43:07] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:43:07] [INFO] [ImpactEffects] Blood effect spawned at (450, 1178.5) (scale=1)
[21:43:07] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=97.5°, current=54.6°, player=(450,1178), corner_timer=0.00
[21:43:07] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[21:43:07] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[21:43:07] [INFO] [BloodDecal] Blood puddle created at (658.3804, 1200.349) (added to group)
[21:43:07] [INFO] [BloodDecal] Blood puddle created at (570.8722, 1198.744) (added to group)
[21:43:07] [INFO] [BloodDecal] Blood puddle created at (561.9739, 1140.807) (added to group)
[21:43:07] [INFO] [BloodDecal] Blood puddle created at (585.4344, 1099.824) (added to group)
[21:43:07] [INFO] [BloodDecal] Blood puddle created at (528.2863, 1151.465) (added to group)
[21:43:07] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=PURSUING, target=98.0°, current=57.5°, player=(450,1178), corner_timer=0.00
[21:43:07] [ENEMY] [Enemy4] Player empty ammo - priority attack triggered
[21:43:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(457.5355, 1009.105), source=ENEMY (Enemy4), range=1469, listeners=9
[21:43:07] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=4
[21:43:07] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[21:43:07] [INFO] [Shotgun.FIX#445v7] Mid-drag pump UP - shell ejected, continue dragging DOWN to chamber
[21:43:07] [INFO] [BloodDecal] Blood puddle created at (643.2222, 1180.064) (added to group)
[21:43:07] [INFO] [BloodDecal] Blood puddle created at (649.9013, 1208.829) (added to group)
[21:43:07] [INFO] [BloodDecal] Blood puddle created at (614.9545, 1206.441) (added to group)
[21:43:07] [INFO] [BloodDecal] Blood puddle created at (529.7747, 1187.749) (added to group)
[21:43:07] [INFO] [BloodDecal] Blood puddle created at (587.6544, 1159.362) (added to group)
[21:43:07] [INFO] [BloodDecal] Blood puddle created at (523.8962, 1136.317) (added to group)
[21:43:07] [INFO] [BloodDecal] Blood puddle created at (537.5365, 1198.167) (added to group)
[21:43:07] [INFO] [BloodDecal] Blood puddle created at (521.3852, 1162.527) (added to group)
[21:43:07] [INFO] [LastChance] Threat detected: Bullet
[21:43:07] [INFO] [LastChance] Not in hard mode - effect disabled
[21:43:07] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:43:07] [ENEMY] [Enemy3] Ragdoll activated
[21:43:07] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[21:43:07] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[21:43:07] [INFO] [BloodDecal] Blood puddle created at (545.2015, 1120.686) (added to group)
[21:43:07] [INFO] [BloodDecal] Blood puddle created at (533.0244, 1158.331) (added to group)
[21:43:07] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(450,1178), corner_timer=-0.02
[21:43:07] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[21:43:07] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.8°, current=6.3°, player=(450,1178), corner_timer=0.30
[21:43:07] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[21:43:07] [INFO] [BloodDecal] Blood puddle created at (533.9254, 1201.322) (added to group)
[21:43:07] [INFO] [BloodDecal] Blood puddle created at (620.0664, 1135.306) (added to group)
[21:43:07] [INFO] [BloodDecal] Blood puddle created at (564.6978, 1170.866) (added to group)
[21:43:07] [INFO] [BloodDecal] Blood puddle created at (541.4406, 1214.278) (added to group)
[21:43:07] [ENEMY] [Enemy4] Player empty ammo - priority attack triggered
[21:43:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(472.6941, 999.0476), source=ENEMY (Enemy4), range=1469, listeners=9
[21:43:07] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=4
[21:43:07] [INFO] [LastChance] Threat detected: @Area2D@4523
[21:43:07] [INFO] [LastChance] Not in hard mode - effect disabled
[21:43:07] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:43:07] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[21:43:07] [INFO] [Shotgun.FIX#445v7] Mid-drag pump DOWN - chambered, ready to fire
[21:43:07] [INFO] [BloodDecal] Blood puddle created at (653.1296, 1129.993) (added to group)
[21:43:07] [INFO] [BloodDecal] Blood puddle created at (644.868, 1286.402) (added to group)
[21:43:07] [INFO] [BloodDecal] Blood puddle created at (570.0472, 1169.202) (added to group)
[21:43:07] [INFO] [BloodDecal] Blood puddle created at (587.7068, 1135.665) (added to group)
[21:43:07] [INFO] [BloodDecal] Blood puddle created at (534.3124, 1194.734) (added to group)
[21:43:07] [INFO] [Player] Hit blocked by invincibility mode (C#)
[21:43:07] [INFO] [Player] Spawning blood effect at (450, 1178.5), dir=(1, 0), lethal=False (C#)
[21:43:07] [INFO] [ImpactEffects] spawn_blood_effect called at (450, 1178.5), dir=(1, 0), lethal=false
[21:43:07] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:43:07] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:43:07] [INFO] [ImpactEffects] Blood effect spawned at (450, 1178.5) (scale=1)
[21:43:07] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=10
[21:43:07] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[21:43:07] [INFO] [BloodDecal] Blood puddle created at (627.7698, 1286.294) (added to group)
[21:43:07] [INFO] [BloodDecal] Blood puddle created at (657.8197, 1247.983) (added to group)
[21:43:07] [INFO] [BloodDecal] Blood puddle created at (548.5738, 1173.212) (added to group)
[21:43:07] [ENEMY] [Enemy4] Player empty ammo - priority attack triggered
[21:43:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(468.8134, 1009.714), source=ENEMY (Enemy4), range=1469, listeners=9
[21:43:07] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=4
[21:43:07] [INFO] [LastChance] Threat detected: @Area2D@4536
[21:43:07] [INFO] [LastChance] Not in hard mode - effect disabled
[21:43:07] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:43:07] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[21:43:07] [INFO] [BloodDecal] Blood puddle created at (535.9589, 1217.169) (added to group)
[21:43:07] [INFO] [BloodDecal] Blood puddle created at (532.8339, 1214.829) (added to group)
[21:43:07] [INFO] [BloodDecal] Blood puddle created at (520.3859, 1172.249) (added to group)
[21:43:07] [INFO] [BloodDecal] Blood puddle created at (576.0825, 1215.446) (added to group)
[21:43:07] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[21:43:07] [INFO] [BloodDecal] Blood puddle created at (587.8884, 1208.021) (added to group)
[21:43:07] [INFO] [BloodDecal] Blood puddle created at (590.0762, 1292.343) (added to group)
[21:43:07] [INFO] [BloodDecal] Blood puddle created at (527.0371, 1260.203) (added to group)
[21:43:07] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=96.1°, current=143.2°, player=(450,1178), corner_timer=0.00
[21:43:07] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[21:43:07] [ENEMY] [Enemy4] Player empty ammo - priority attack triggered
[21:43:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(471.3953, 1006.911), source=ENEMY (Enemy4), range=1469, listeners=9
[21:43:07] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=4
[21:43:07] [INFO] [LastChance] Threat detected: @Area2D@4548
[21:43:07] [INFO] [LastChance] Not in hard mode - effect disabled
[21:43:07] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:43:07] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[21:43:07] [INFO] [BloodDecal] Blood puddle created at (564.2711, 1217.871) (added to group)
[21:43:07] [INFO] [BloodDecal] Blood puddle created at (592.0871, 1305.578) (added to group)
[21:43:07] [INFO] [BloodDecal] Blood puddle created at (526.8628, 1214.305) (added to group)
[21:43:07] [INFO] [BloodDecal] Blood puddle created at (533.0577, 1182.454) (added to group)
[21:43:07] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.8°, player=(450,1178), corner_timer=-0.02
[21:43:07] [ENEMY] [Enemy10] PATROL corner check: angle 0.9°
[21:43:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(462.32358, 1076.9852), shooter_id=2968577379462, bullet_pos=(428.13266, 2076.4011)
[21:43:07] [INFO] [Bullet] Using shooter_position, distance=1000,00055
[21:43:07] [INFO] [Bullet] Distance to wall: 1000,00055 (68,09187% of viewport)
[21:43:07] [INFO] [Bullet] Distance-based penetration chance: 67,22615%
[21:43:07] [INFO] [Bullet] Starting wall penetration at (428.13266, 2076.4011)
[21:43:07] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=804), can_see=false
[21:43:07] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=429), can_see=true
[21:43:07] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1500), can_see=false
[21:43:07] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1668), can_see=false
[21:43:07] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1279), can_see=false
[21:43:07] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1475), can_see=false
[21:43:07] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1691), can_see=false
[21:43:07] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=0.9°, current=4.6°, player=(450,1178), corner_timer=0.30
[21:43:07] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=827), can_see=false
[21:43:07] [INFO] [Bullet] Raycast backward hit penetrating body at distance 27,056347
[21:43:07] [INFO] [BloodDecal] Blood puddle created at (646.6313, 1206.914) (added to group)
[21:43:07] [INFO] [BloodDecal] Blood puddle created at (577.369, 1295.634) (added to group)
[21:43:07] [INFO] [Bullet] Body exited signal received for penetrating body
[21:43:07] [INFO] [Bullet] Exiting penetration at (426.53708, 2123.0405) after traveling 41,666668 pixels through wall
[21:43:07] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[21:43:07] [ENEMY] [Enemy4] Player empty ammo - priority attack triggered
[21:43:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(470.7733, 1018.422), source=ENEMY (Enemy4), range=1469, listeners=9
[21:43:07] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=4
[21:43:07] [INFO] [BloodDecal] Blood puddle created at (606.0579, 1212.802) (added to group)
[21:43:07] [INFO] [BloodDecal] Blood puddle created at (668.0611, 1285.551) (added to group)
[21:43:07] [INFO] [BloodDecal] Blood puddle created at (565.9415, 1310.405) (added to group)
[21:43:07] [INFO] [BloodDecal] Blood puddle created at (591.2919, 1266.977) (added to group)
[21:43:07] [INFO] [BloodDecal] Blood puddle created at (554.9017, 1286.368) (added to group)
[21:43:07] [INFO] [BloodDecal] Blood puddle created at (602.2947, 1269.413) (added to group)
[21:43:07] [INFO] [BloodDecal] Blood puddle created at (536.0975, 1259.624) (added to group)
[21:43:07] [INFO] [BloodDecal] Blood puddle created at (591.8596, 1191.715) (added to group)
[21:43:07] [INFO] [BloodDecal] Blood puddle created at (500.6204, 1223.351) (added to group)
[21:43:07] [INFO] [BloodDecal] Blood puddle created at (507.5666, 1177.041) (added to group)
[21:43:07] [INFO] [LastChance] Threat detected: Bullet
[21:43:07] [INFO] [LastChance] Not in hard mode - effect disabled
[21:43:07] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:43:07] [INFO] [Player] Hit blocked by invincibility mode (C#)
[21:43:07] [INFO] [Player] Spawning blood effect at (450, 1178.5), dir=(1, 0), lethal=False (C#)
[21:43:07] [INFO] [ImpactEffects] spawn_blood_effect called at (450, 1178.5), dir=(1, 0), lethal=false
[21:43:07] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:43:07] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:43:07] [INFO] [ImpactEffects] Blood effect spawned at (450, 1178.5) (scale=1)
[21:43:07] [ENEMY] [Enemy1] PURSUING corner check: angle -116.4°
[21:43:07] [INFO] [BloodDecal] Blood puddle created at (571.2892, 1340.028) (added to group)
[21:43:07] [INFO] [BloodDecal] Blood puddle created at (545.7113, 1240.791) (added to group)
[21:43:07] [INFO] [BloodDecal] Blood puddle created at (503.5668, 1180.004) (added to group)
[21:43:07] [INFO] [BloodDecal] Blood puddle created at (526.8556, 1178.229) (added to group)
[21:43:07] [INFO] [BloodDecal] Blood puddle created at (511.9249, 1235.256) (added to group)
[21:43:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(470.77118, 1074.9562), shooter_id=2968577379462, bullet_pos=(424.29324, 1614.6245)
[21:43:07] [INFO] [Bullet] Using shooter_position, distance=541,666
[21:43:07] [INFO] [Bullet] Distance to wall: 541,666 (36,883034% of viewport)
[21:43:07] [INFO] [Bullet] Within ricochet range - trying ricochet first
[21:43:07] [INFO] [Bullet] Starting wall penetration at (424.29324, 1614.6245)
[21:43:07] [ENEMY] [Enemy4] Player empty ammo - priority attack triggered
[21:43:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(469.0565, 1013.604), source=ENEMY (Enemy4), range=1469, listeners=9
[21:43:07] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=4
[21:43:07] [INFO] [Bullet] Raycast backward hit penetrating body at distance 49,30097
[21:43:07] [INFO] [LastChance] Threat detected: Bullet
[21:43:07] [INFO] [LastChance] Not in hard mode - effect disabled
[21:43:07] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:43:07] [INFO] [Bullet] Body exited signal received for penetrating body
[21:43:07] [INFO] [Bullet] Exiting penetration at (420.289, 1661.1191) after traveling 41,66667 pixels through wall
[21:43:07] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[21:43:07] [INFO] [Shotgun.FIX#243] RMB released after 8 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[21:43:07] [INFO] [Shotgun.FIX#445v7] ProcessDragGesture - dragVector=(-8,7, 216,8), length=217,0, ActionState=Ready
[21:43:07] [INFO] [Shotgun.FIX#445v7] Screen-based pump gesture: isDragUp=False, isDragDown=True
[21:43:07] [INFO] [BloodDecal] Blood puddle created at (658.7612, 1311.625) (added to group)
[21:43:07] [INFO] [BloodDecal] Blood puddle created at (513.7441, 1196.301) (added to group)
[21:43:07] [INFO] [Player] Hit blocked by invincibility mode (C#)
[21:43:07] [INFO] [Player] Spawning blood effect at (450, 1178.5), dir=(1, 0), lethal=False (C#)
[21:43:07] [INFO] [ImpactEffects] spawn_blood_effect called at (450, 1178.5), dir=(1, 0), lethal=false
[21:43:07] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:43:07] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:43:07] [INFO] [ImpactEffects] Blood effect spawned at (450, 1178.5) (scale=1)
[21:43:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(469.07684, 1077.7616), shooter_id=2968577379462, bullet_pos=(399.06757, 2075.3083)
[21:43:07] [INFO] [Bullet] Using shooter_position, distance=1000,0004
[21:43:07] [INFO] [Bullet] Distance to wall: 1000,0004 (68,09187% of viewport)
[21:43:07] [INFO] [Bullet] Distance-based penetration chance: 67,22615%
[21:43:07] [INFO] [Bullet] Starting wall penetration at (399.06757, 2075.3083)
[21:43:07] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[21:43:07] [INFO] [Bullet] Raycast backward hit penetrating body at distance 25,924204
[21:43:07] [INFO] [Bullet] Body exited signal received for penetrating body
[21:43:07] [INFO] [Bullet] Exiting penetration at (395.80048, 2121.8606) after traveling 41,66667 pixels through wall
[21:43:07] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[21:43:07] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[21:43:07] [ENEMY] [Enemy4] Player empty ammo - priority attack triggered
[21:43:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(474.9131, 1004.057), source=ENEMY (Enemy4), range=1469, listeners=9
[21:43:07] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=4
[21:43:07] [INFO] [LastChance] Threat detected: Bullet
[21:43:07] [INFO] [LastChance] Not in hard mode - effect disabled
[21:43:07] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:43:07] [INFO] [BloodDecal] Blood puddle created at (574.852, 1290.052) (added to group)
[21:43:07] [INFO] [BloodDecal] Blood puddle created at (501.6835, 1178.144) (added to group)
[21:43:07] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:43:07] [INFO] [Player] Hit blocked by invincibility mode (C#)
[21:43:07] [INFO] [Player] Spawning blood effect at (450, 1178.5), dir=(1, 0), lethal=False (C#)
[21:43:07] [INFO] [ImpactEffects] spawn_blood_effect called at (450, 1178.5), dir=(1, 0), lethal=false
[21:43:07] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:43:07] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:43:07] [INFO] [ImpactEffects] Blood effect spawned at (450, 1178.5) (scale=1)
[21:43:07] [INFO] [BloodDecal] Blood puddle created at (508.4891, 1208.145) (added to group)
[21:43:08] [ENEMY] [Enemy4] Player empty ammo - priority attack triggered
[21:43:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(471.3386, 1006.792), source=ENEMY (Enemy4), range=1469, listeners=9
[21:43:08] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=4
[21:43:08] [INFO] [BloodDecal] Blood puddle created at (546.5209, 1290.619) (added to group)
[21:43:08] [INFO] [LastChance] Threat detected: Bullet
[21:43:08] [INFO] [LastChance] Not in hard mode - effect disabled
[21:43:08] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:43:08] [ENEMY] [Enemy1] PURSUING corner check: angle 34.6°
[21:43:08] [INFO] [BloodDecal] Blood puddle created at (613.1153, 1198.78) (added to group)
[21:43:08] [INFO] [BloodDecal] Blood puddle created at (581.1199, 1232.784) (added to group)
[21:43:08] [INFO] [BloodDecal] Blood puddle created at (563.4732, 1222.297) (added to group)
[21:43:08] [INFO] [BloodDecal] Blood puddle created at (527.5632, 1192.971) (added to group)
[21:43:08] [INFO] [BloodDecal] Blood puddle created at (529.3493, 1231.491) (added to group)
[21:43:08] [INFO] [BloodDecal] Blood puddle created at (500.9962, 1192.316) (added to group)
[21:43:08] [INFO] [BloodDecal] Blood puddle created at (509.4891, 1198.692) (added to group)
[21:43:08] [INFO] [BloodDecal] Blood puddle created at (491.5608, 1214.012) (added to group)
[21:43:08] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=764), can_see=false
[21:43:08] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=429), can_see=true
[21:43:08] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) - pursuing to attack (dist=429)
[21:43:08] [ENEMY] [Enemy4] Player empty ammo - priority attack triggered
[21:43:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(470.8193, 1018.305), source=ENEMY (Enemy4), range=1469, listeners=9
[21:43:08] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=4
[21:43:08] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1500), can_see=false
[21:43:08] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1668), can_see=false
[21:43:08] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=-130.1°, player=(450,1178), corner_timer=-0.02
[21:43:08] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1226), can_see=false
[21:43:08] [ENEMY] [Enemy7] PATROL corner check: angle 90.0°
[21:43:08] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1475), can_see=false
[21:43:08] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1691), can_see=false
[21:43:08] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=826), can_see=false
[21:43:08] [INFO] [LastChance] Threat detected: @Area2D@4610
[21:43:08] [INFO] [LastChance] Not in hard mode - effect disabled
[21:43:08] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:43:08] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[21:43:08] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=-133.0°, player=(450,1178), corner_timer=0.30
[21:43:08] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[21:43:08] [INFO] [BloodDecal] Blood puddle created at (523.226, 1217.048) (added to group)
[21:43:08] [INFO] [BloodDecal] Blood puddle created at (539.2465, 1231.856) (added to group)
[21:43:08] [INFO] [Player] Hit blocked by invincibility mode (C#)
[21:43:08] [INFO] [Player] Spawning blood effect at (450, 1178.5), dir=(1, 0), lethal=False (C#)
[21:43:08] [INFO] [ImpactEffects] spawn_blood_effect called at (450, 1178.5), dir=(1, 0), lethal=false
[21:43:08] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:43:08] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:43:08] [INFO] [ImpactEffects] Blood effect spawned at (450, 1178.5) (scale=1)
[21:43:08] [INFO] [BloodDecal] Blood puddle created at (554.0938, 1258.106) (added to group)
[21:43:08] [INFO] [BloodDecal] Blood puddle created at (569.3318, 1184.865) (added to group)
[21:43:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(470.74234, 1074.8378), shooter_id=2968577379462, bullet_pos=(395.21118, 1611.2131)
[21:43:08] [INFO] [Bullet] Using shooter_position, distance=541,66736
[21:43:08] [INFO] [Bullet] Distance to wall: 541,66736 (36,88313% of viewport)
[21:43:08] [INFO] [Bullet] Within ricochet range - trying ricochet first
[21:43:08] [INFO] [Bullet] Starting wall penetration at (395.21118, 1611.2131)
[21:43:08] [ENEMY] [Enemy4] Player empty ammo - priority attack triggered
[21:43:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(469.1252, 1013.469), source=ENEMY (Enemy4), range=1469, listeners=9
[21:43:08] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=4
[21:43:08] [INFO] [Bullet] Raycast backward hit penetrating body at distance 45,87211
[21:43:08] [INFO] [LastChance] Threat detected: @Area2D@4618
[21:43:08] [INFO] [LastChance] Not in hard mode - effect disabled
[21:43:08] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:43:08] [INFO] [Bullet] Body exited signal received for penetrating body
[21:43:08] [INFO] [Bullet] Exiting penetration at (388.7039, 1657.424) after traveling 41,666668 pixels through wall
[21:43:08] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[21:43:08] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:43:08] [ENEMY] [Enemy3] Death animation completed
[21:43:08] [INFO] [BloodDecal] Blood puddle created at (549.5845, 1216.781) (added to group)
[21:43:08] [INFO] [BloodDecal] Blood puddle created at (526.705, 1188.905) (added to group)
[21:43:08] [INFO] [BloodDecal] Blood puddle created at (619.7312, 1216.967) (added to group)
[21:43:08] [INFO] [BloodDecal] Blood puddle created at (557.8967, 1260.39) (added to group)
[21:43:08] [INFO] [BloodDecal] Blood puddle created at (579.3657, 1216.084) (added to group)
[21:43:08] [ENEMY] [Enemy4] Player empty ammo - priority attack triggered
[21:43:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(474.9136, 1003.879), source=ENEMY (Enemy4), range=1469, listeners=9
[21:43:08] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=4
[21:43:08] [INFO] [LastChance] Threat detected: Bullet
[21:43:08] [INFO] [LastChance] Not in hard mode - effect disabled
[21:43:08] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:43:08] [INFO] [BloodDecal] Blood puddle created at (583.9412, 1298.731) (added to group)
[21:43:08] [INFO] [BloodDecal] Blood puddle created at (532.2245, 1226.363) (added to group)
[21:43:08] [INFO] [BloodDecal] Blood puddle created at (534.7069, 1197.014) (added to group)
[21:43:08] [INFO] [BloodDecal] Blood puddle created at (538.4651, 1178.799) (added to group)
[21:43:08] [INFO] [ReplayManager] Recording frame 240 (4,0s): player_valid=True, enemies=10
[21:43:08] [INFO] [Player] Hit blocked by invincibility mode (C#)
[21:43:08] [INFO] [Player] Spawning blood effect at (450, 1204.5), dir=(1, 0), lethal=False (C#)
[21:43:08] [INFO] [ImpactEffects] spawn_blood_effect called at (450, 1204.5), dir=(1, 0), lethal=false
[21:43:08] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:43:08] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:43:08] [INFO] [ImpactEffects] Blood effect spawned at (450, 1204.5) (scale=1)
[21:43:08] [INFO] [BloodDecal] Blood puddle created at (581.36, 1279.428) (added to group)
[21:43:08] [INFO] [BloodDecal] Blood puddle created at (579.18, 1214.689) (added to group)
[21:43:08] [INFO] [BloodDecal] Blood puddle created at (601.4906, 1320.927) (added to group)
[21:43:08] [INFO] [BloodDecal] Blood puddle created at (573.895, 1280.793) (added to group)
[21:43:08] [INFO] [BloodDecal] Blood puddle created at (550.2141, 1204.036) (added to group)
[21:43:08] [INFO] [BloodDecal] Blood puddle created at (576.9626, 1268.605) (added to group)
[21:43:08] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[21:43:08] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[21:43:08] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=179.1°, current=172.4°, player=(450,1213), corner_timer=-0.02
[21:43:08] [ENEMY] [Enemy7] PATROL corner check: angle 89.8°
[21:43:08] [ENEMY] [Enemy4] Player empty ammo - priority attack triggered
[21:43:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(471.3824, 1006.635), source=ENEMY (Enemy4), range=1469, listeners=9
[21:43:08] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=4
[21:43:08] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.8°, current=175.3°, player=(450,1218), corner_timer=0.30
[21:43:08] [INFO] [BloodDecal] Blood puddle created at (551.5922, 1204.908) (added to group)
[21:43:08] [INFO] [BloodDecal] Blood puddle created at (515.7637, 1214.68) (added to group)
[21:43:08] [INFO] [BloodDecal] Blood puddle created at (514.9232, 1181.441) (added to group)
[21:43:08] [INFO] [BloodDecal] Blood puddle created at (493.9808, 1218.765) (added to group)
[21:43:08] [INFO] [LastChance] Threat detected: Bullet
[21:43:08] [INFO] [LastChance] Not in hard mode - effect disabled
[21:43:08] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:43:08] [INFO] [BloodDecal] Blood puddle created at (591.4464, 1212.607) (added to group)
[21:43:08] [INFO] [Player] Hit blocked by invincibility mode (C#)
[21:43:08] [INFO] [Player] Spawning blood effect at (446.87518, 1244.0062), dir=(1, 0), lethal=False (C#)
[21:43:08] [INFO] [ImpactEffects] spawn_blood_effect called at (446.8752, 1244.006), dir=(1, 0), lethal=false
[21:43:08] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:43:08] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:43:08] [INFO] [ImpactEffects] Blood effect spawned at (446.8752, 1244.006) (scale=1)
[21:43:08] [INFO] [BloodDecal] Blood puddle created at (566.4641, 1179.181) (added to group)
[21:43:08] [INFO] [BloodDecal] Blood puddle created at (531.2789, 1175.767) (added to group)
[21:43:08] [ENEMY] [Enemy4] Player empty ammo - priority attack triggered
[21:43:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(469.3592, 1025.451), source=ENEMY (Enemy4), range=1469, listeners=9
[21:43:08] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=4
[21:43:08] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:43:08] [INFO] [LastChance] Threat detected: Bullet
[21:43:08] [INFO] [LastChance] Not in hard mode - effect disabled
[21:43:08] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:43:08] [INFO] [BloodDecal] Blood puddle created at (596.1469, 1269.354) (added to group)
[21:43:08] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=801), can_see=false
[21:43:08] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=518), can_see=true
[21:43:08] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1561), can_see=false
[21:43:08] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1720), can_see=false
[21:43:08] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1232), can_see=false
[21:43:08] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1476), can_see=false
[21:43:08] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1688), can_see=false
[21:43:08] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=797), can_see=false
[21:43:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(469.10706, 1081.517), shooter_id=2968577379462, bullet_pos=(405.59583, 2079.4976)
[21:43:08] [INFO] [Bullet] Using shooter_position, distance=999,99945
[21:43:08] [INFO] [Bullet] Distance to wall: 999,99945 (68,091805% of viewport)
[21:43:08] [INFO] [BloodDecal] Blood puddle created at (558.0247, 1254.975) (added to group)
[21:43:08] [INFO] [BloodDecal] Blood puddle created at (539.2444, 1205.335) (added to group)
[21:43:08] [INFO] [BloodDecal] Blood puddle created at (616.2786, 1259.387) (added to group)
[21:43:08] [INFO] [BloodDecal] Blood puddle created at (523.328, 1188.021) (added to group)
[21:43:08] [INFO] [BloodDecal] Blood puddle created at (494.4521, 1236.755) (added to group)
[21:43:08] [ENEMY] [Enemy4] Player empty ammo - priority attack triggered
[21:43:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(475.9335, 1008.082), source=ENEMY (Enemy4), range=1469, listeners=9
[21:43:08] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=4
[21:43:08] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[21:43:08] [INFO] [LastChance] Threat detected: @Area2D@4659
[21:43:08] [INFO] [LastChance] Not in hard mode - effect disabled
[21:43:08] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:43:08] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[21:43:08] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=178.4°, current=120.7°, player=(402,1302), corner_timer=-0.02
[21:43:08] [ENEMY] [Enemy7] PATROL corner check: angle 89.7°
[21:43:08] [INFO] [BloodDecal] Blood puddle created at (578.5074, 1263.077) (added to group)
[21:43:08] [INFO] [BloodDecal] Blood puddle created at (583.4001, 1227.622) (added to group)
[21:43:08] [INFO] [BloodDecal] Blood puddle created at (519.3334, 1232.53) (added to group)
[21:43:08] [INFO] [BloodDecal] Blood puddle created at (499.1848, 1244.799) (added to group)
[21:43:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(469.4712, 1093.4996), shooter_id=2968577379462, bullet_pos=(428.5354, 1591.8204)
[21:43:08] [INFO] [Bullet] Using shooter_position, distance=499,99936
[21:43:08] [INFO] [Bullet] Distance to wall: 499,99936 (34,04588% of viewport)
[21:43:08] [INFO] [Bullet] Within ricochet range - trying ricochet first
[21:43:08] [INFO] [Bullet] Starting wall penetration at (428.5354, 1591.8204)
[21:43:08] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.7°, current=123.6°, player=(398,1306), corner_timer=0.30
[21:43:08] [INFO] [Bullet] Raycast backward hit penetrating body at distance 26,419014
[21:43:08] [INFO] [Bullet] Body exited signal received for penetrating body
[21:43:08] [INFO] [Bullet] Exiting penetration at (424.71472, 1638.3303) after traveling 41,666668 pixels through wall
[21:43:08] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[21:43:08] [ENEMY] [Enemy4] Player empty ammo - priority attack triggered
[21:43:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(460.827, 1002.851), source=ENEMY (Enemy4), range=1469, listeners=9
[21:43:08] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=4
[21:43:08] [INFO] [BloodDecal] Blood puddle created at (555.8539, 1293.2) (added to group)
[21:43:08] [INFO] [BloodDecal] Blood puddle created at (509.0092, 1254.849) (added to group)
[21:43:08] [INFO] [BloodDecal] Blood puddle created at (660.342, 1285.652) (added to group)
[21:43:08] [INFO] [BloodDecal] Blood puddle created at (532.1205, 1229.905) (added to group)
[21:43:08] [INFO] [LastChance] Threat detected: @Area2D@4667
[21:43:08] [INFO] [LastChance] Not in hard mode - effect disabled
[21:43:08] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:43:08] [INFO] [BloodDecal] Blood puddle created at (551.7838, 1255.803) (added to group)
[21:43:08] [INFO] [BloodDecal] Blood puddle created at (575.9156, 1301.122) (added to group)
[21:43:08] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:43:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(470.49606, 1075.9126), shooter_id=2968577379462, bullet_pos=(397.7904, 1612.6783)
[21:43:08] [INFO] [Bullet] Using shooter_position, distance=541,6674
[21:43:08] [INFO] [Bullet] Distance to wall: 541,6674 (36,88313% of viewport)
[21:43:08] [INFO] [Bullet] Within ricochet range - trying ricochet first
[21:43:08] [ENEMY] [Enemy4] Player empty ammo - priority attack triggered
[21:43:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(464.0042, 1000.55), source=ENEMY (Enemy4), range=1469, listeners=9
[21:43:08] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=4
[21:43:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(454.18033, 1070.5743), shooter_id=2968577379462, bullet_pos=(377.9904, 1395.0831)
[21:43:08] [INFO] [Bullet] Using shooter_position, distance=333,33295
[21:43:08] [INFO] [Bullet] Distance to wall: 333,33295 (22,697254% of viewport)
[21:43:08] [INFO] [Bullet] Within ricochet range - trying ricochet first
[21:43:09] [INFO] [BloodDecal] Blood puddle created at (604.2378, 1220.62) (added to group)
[21:43:09] [INFO] [BloodDecal] Blood puddle created at (618.7678, 1276.864) (added to group)
[21:43:09] [INFO] [BloodDecal] Blood puddle created at (522.3432, 1254.214) (added to group)
[21:43:09] [INFO] [Player] Hit blocked by invincibility mode (C#)
[21:43:09] [INFO] [Player] Spawning blood effect at (352.3897, 1339.1877), dir=(1, 0), lethal=False (C#)
[21:43:09] [INFO] [ImpactEffects] spawn_blood_effect called at (352.3897, 1339.188), dir=(1, 0), lethal=false
[21:43:09] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:43:09] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:43:09] [INFO] [ImpactEffects] Blood effect spawned at (352.3897, 1339.188) (scale=1)
[21:43:09] [INFO] [LastChance] Threat detected: Bullet
[21:43:09] [INFO] [LastChance] Not in hard mode - effect disabled
[21:43:09] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:43:09] [INFO] [BloodDecal] Blood puddle created at (526.7473, 1298.474) (added to group)
[21:43:09] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[21:43:09] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[21:43:09] [ENEMY] [Enemy4] Player empty ammo - priority attack triggered
[21:43:09] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(466.7426, 997.1989), source=ENEMY (Enemy4), range=1469, listeners=9
[21:43:09] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=4
[21:43:09] [INFO] [BloodDecal] Blood puddle created at (564.3534, 1262.101) (added to group)
[21:43:09] [INFO] [Player] Hit blocked by invincibility mode (C#)
[21:43:09] [INFO] [Player] Spawning blood effect at (342.8766, 1344.9338), dir=(1, 0), lethal=False (C#)
[21:43:09] [INFO] [ImpactEffects] spawn_blood_effect called at (342.8766, 1344.934), dir=(1, 0), lethal=false
[21:43:09] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:43:09] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:43:09] [INFO] [ImpactEffects] Blood effect spawned at (342.8766, 1344.934) (scale=1)
[21:43:09] [INFO] [BloodDecal] Blood puddle created at (619.5797, 1357.42) (added to group)
[21:43:09] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.9°, current=89.7°, player=(338,1347), corner_timer=-0.02
[21:43:09] [ENEMY] [Enemy7] PATROL corner check: angle 89.6°
[21:43:09] [INFO] [LastChance] Threat detected: @Area2D@4684
[21:43:09] [INFO] [LastChance] Not in hard mode - effect disabled
[21:43:09] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:43:09] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) - pursuing to attack (dist=616)
[21:43:09] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.6°, current=92.5°, player=(337,1348), corner_timer=0.30
[21:43:09] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=843), can_see=false
[21:43:09] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=617), can_see=true
[21:43:09] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1690), can_see=false
[21:43:09] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1847), can_see=false
[21:43:09] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1352), can_see=false
[21:43:09] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1567), can_see=false
[21:43:09] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1775), can_see=false
[21:43:09] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=861), can_see=false
[21:43:09] [ENEMY] [Enemy4] Player empty ammo - priority attack triggered
[21:43:09] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(462.2656, 998.5264), source=ENEMY (Enemy4), range=1469, listeners=9
[21:43:09] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=4
[21:43:09] [INFO] [BloodDecal] Blood puddle created at (658.1202, 1370.009) (added to group)
[21:43:09] [INFO] [BloodDecal] Blood puddle created at (570.0544, 1382.108) (added to group)
[21:43:09] [INFO] [BloodDecal] Blood puddle created at (629.7352, 1353.666) (added to group)
[21:43:09] [INFO] [LastChance] Threat detected: Bullet
[21:43:09] [INFO] [LastChance] Not in hard mode - effect disabled
[21:43:09] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:43:09] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:43:09] [INFO] [BloodDecal] Blood puddle created at (667.4542, 1342.234) (added to group)
[21:43:09] [ENEMY] [Enemy4] Player empty ammo - priority attack triggered
[21:43:09] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(474.068, 1002.687), source=ENEMY (Enemy4), range=1469, listeners=9
[21:43:09] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=4
[21:43:09] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(335.2633, 1349.532), source=PLAYER (Player), range=600, listeners=9
[21:43:09] [ENEMY] [Enemy4] Heard player EMPTY_CLICK at (335.2633, 1349.532), intensity=0.02, distance=371
[21:43:09] [ENEMY] [Enemy4] Vulnerability sound triggered pursuit - transitioning from RETREATING to PURSUING
[21:43:09] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=8, self=0, below_threshold=0
[21:43:09] [INFO] [Shotgun.FIX#212] Firing 16 pellets with 15° spread at pos=(335.26334, 1349.5325)
[21:43:09] [INFO] [Shotgun.FIX#212] Normal pellet 1/16: extraOffset=12,7, distance=64,7px, pos=(349.51163, 1286.4375)
[21:43:09] [INFO] [Shotgun.FIX#212] Normal pellet 2/16: extraOffset=-15,0, distance=37,0px, pos=(344.9649, 1313.8241)
[21:43:09] [INFO] [Shotgun.FIX#212] Normal pellet 3/16: extraOffset=6,5, distance=58,5px, pos=(348.68192, 1292.6371)
[21:43:09] [INFO] [Shotgun.FIX#212] Normal pellet 4/16: extraOffset=-6,3, distance=45,7px, pos=(346.7177, 1305.2799)
[21:43:09] [INFO] [Shotgun.FIX#212] Normal pellet 5/16: extraOffset=5,3, distance=57,3px, pos=(350.64078, 1294.3243)
[21:43:09] [INFO] [Shotgun.FIX#212] Normal pellet 6/16: extraOffset=-2,8, distance=49,2px, pos=(349.29462, 1302.4197)
[21:43:09] [INFO] [Shotgun.FIX#212] Normal pellet 7/16: extraOffset=12,9, distance=64,9px, pos=(356.10718, 1288.0248)
[21:43:09] [INFO] [Shotgun.FIX#212] Normal pellet 8/16: extraOffset=-3,2, distance=48,8px, pos=(351.17468, 1303.3756)
[21:43:09] [INFO] [Shotgun.FIX#212] Normal pellet 9/16: extraOffset=7,8, distance=59,8px, pos=(356.40295, 1293.6239)
[21:43:09] [INFO] [Shotgun.FIX#212] Normal pellet 10/16: extraOffset=8,4, distance=60,4px, pos=(357.7222, 1293.4167)
[21:43:09] [INFO] [Shotgun.FIX#212] Normal pellet 11/16: extraOffset=-1,2, distance=50,8px, pos=(354.08438, 1302.3347)
[21:43:09] [INFO] [Shotgun.FIX#212] Normal pellet 12/16: extraOffset=7,7, distance=59,7px, pos=(359.3541, 1294.9131)
[21:43:09] [INFO] [Shotgun.FIX#212] Normal pellet 13/16: extraOffset=-10,0, distance=42,0px, pos=(353.67737, 1311.7533)
[21:43:09] [INFO] [Shotgun.FIX#212] Normal pellet 14/16: extraOffset=-10,2, distance=41,8px, pos=(354.14197, 1312.259)
[21:43:09] [INFO] [Shotgun.FIX#212] Normal pellet 15/16: extraOffset=-3,0, distance=49,0px, pos=(357.60507, 1305.9674)
[21:43:09] [INFO] [Shotgun.FIX#212] Normal pellet 16/16: extraOffset=3,2, distance=55,2px, pos=(361.3792, 1300.8906)
[21:43:09] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(335.2633, 1349.532), source=PLAYER (Shotgun), range=1469, listeners=9
[21:43:09] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=0, below_threshold=4
[21:43:09] [ENEMY] [Enemy4] Pursuing vulnerability sound at (335.2633, 1349.532), distance=371
[21:43:09] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[21:43:09] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(451.67673, 1063.5586), shooter_id=2968577379462, bullet_pos=(236.34097, 1738.3665)
[21:43:09] [INFO] [Bullet] Using shooter_position, distance=708,33264
[21:43:09] [INFO] [Bullet] Distance to wall: 708,33264 (48,231674% of viewport)
[21:43:09] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[21:43:09] [INFO] [BloodDecal] Blood puddle created at (395.6596, 1361.659) (added to group)
[21:43:09] [INFO] [LastChance] Threat detected: @Area2D@4696
[21:43:09] [INFO] [LastChance] Not in hard mode - effect disabled
[21:43:09] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:43:09] [INFO] [ReplayManager] Recording frame 300 (5,0s): player_valid=True, enemies=10
[21:43:09] [INFO] [BloodDecal] Blood puddle created at (422.9692, 1373.168) (added to group)
[21:43:09] [INFO] [BloodDecal] Blood puddle created at (403.9268, 1387.574) (added to group)
[21:43:09] [INFO] [BloodDecal] Blood puddle created at (415.3478, 1391.804) (added to group)
[21:43:09] [ENEMY] [Enemy4] Player empty ammo - priority attack triggered
[21:43:09] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(462.6441, 1029.173), source=ENEMY (Enemy4), range=1469, listeners=9
[21:43:09] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=4
[21:43:09] [INFO] [BloodDecal] Blood puddle created at (418.3006, 1386.834) (added to group)
[21:43:09] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(456.19327, 1068.3455), shooter_id=2968577379462, bullet_pos=(351.79874, 1384.9099)
[21:43:09] [INFO] [Bullet] Using shooter_position, distance=333,3336
[21:43:09] [INFO] [Bullet] Distance to wall: 333,3336 (22,697298% of viewport)
[21:43:09] [INFO] [Bullet] Within ricochet range - trying ricochet first
[21:43:09] [INFO] [Bullet] Starting wall penetration at (351.79874, 1384.9099)
[21:43:09] [ENEMY] [Enemy4] Hit: dmg=1, hp=2/2->1/2
[21:43:09] [INFO] [ImpactEffects] spawn_blood_effect called at (458.7029, 1039.084), dir=(1, 0), lethal=false
[21:43:09] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:43:09] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:43:09] [INFO] [ImpactEffects] Blood effect spawned at (458.7029, 1039.084) (scale=1)
[21:43:09] [ENEMY] [Enemy4] Hit: dmg=1, hp=1/2->0/2
[21:43:09] [INFO] [ImpactEffects] spawn_blood_effect called at (458.7029, 1039.084), dir=(1, 0), lethal=true
[21:43:09] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:43:09] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[21:43:09] [INFO] [ImpactEffects] Blood effect spawned at (458.7029, 1039.084) (scale=1.5)
[21:43:09] [ENEMY] [Enemy4] Enemy died (ricochet: false, penetration: false)
[21:43:09] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[21:43:09] [ENEMY] [Enemy4] [AllyDeath] Notified 1 enemies
[21:43:09] [INFO] [SoundPropagation] Unregistered listener: Enemy4 (remaining: 8)
[21:43:09] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[21:43:09] [ENEMY] [Enemy4] Death animation started with hit direction: (1, 0)
[21:43:09] [INFO] [Bullet] Raycast backward hit penetrating body at distance 18,141539
[21:43:09] [INFO] [Bullet] Body exited signal received for penetrating body
[21:43:09] [INFO] [Bullet] Exiting penetration at (337.1835, 1429.2289) after traveling 41,666668 pixels through wall
[21:43:09] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[21:43:09] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.7°, current=89.6°, player=(335,1349), corner_timer=-0.02
[21:43:09] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[21:43:09] [INFO] [BloodDecal] Blood puddle created at (444.1686, 1382.974) (added to group)
[21:43:09] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(446.66245, 1064.762), shooter_id=2968577379462, bullet_pos=(226.89775, 1738.1421)
[21:43:09] [INFO] [Bullet] Using shooter_position, distance=708,33417
[21:43:09] [INFO] [Bullet] Distance to wall: 708,33417 (48,231777% of viewport)
[21:43:09] [INFO] [Bullet] Distance-based penetration chance: 90,39626%
[21:43:09] [INFO] [Bullet] Starting wall penetration at (226.89775, 1738.1421)
[21:43:09] [INFO] [LastChance] Threat detected: @Area2D@4720
[21:43:09] [INFO] [LastChance] Not in hard mode - effect disabled
[21:43:09] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:43:09] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.4°, player=(335,1349), corner_timer=0.30
[21:43:09] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[21:43:09] [INFO] [Bullet] Exiting penetration at (215.00461, 1774.5839) after traveling 33,333336 pixels through wall
[21:43:09] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[21:43:09] [INFO] [BloodDecal] Blood puddle created at (434.4813, 1351.647) (added to group)
[21:43:09] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(451.67673, 1063.5586), shooter_id=2968577379462, bullet_pos=(305.55502, 2069.119)
[21:43:09] [INFO] [Bullet] Using shooter_position, distance=1016,1216
[21:43:09] [INFO] [Bullet] Distance to wall: 1016,1216 (69,18959% of viewport)
[21:43:09] [ENEMY] [Enemy2] Hit: dmg=1, hp=3/3->2/3
[21:43:09] [INFO] [ImpactEffects] spawn_blood_effect called at (490.9179, 751.4557), dir=(1, 0), lethal=false
[21:43:09] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:43:09] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:43:09] [INFO] [ImpactEffects] Blood effect spawned at (490.9179, 751.4557) (scale=1)
[21:43:09] [ENEMY] [Enemy2] Hit: dmg=1, hp=2/3->1/3
[21:43:09] [INFO] [ImpactEffects] spawn_blood_effect called at (490.9179, 751.4557), dir=(1, 0), lethal=false
[21:43:09] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:43:09] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:43:09] [INFO] [ImpactEffects] Blood effect spawned at (490.9179, 751.4557) (scale=1)
[21:43:09] [ENEMY] [Enemy2] Hit: dmg=1, hp=1/3->0/3
[21:43:09] [INFO] [ImpactEffects] spawn_blood_effect called at (490.9179, 751.4557), dir=(1, 0), lethal=true
[21:43:09] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:43:09] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[21:43:09] [INFO] [ImpactEffects] Blood effect spawned at (490.9179, 751.4557) (scale=1.5)
[21:43:09] [ENEMY] [Enemy2] Enemy died (ricochet: false, penetration: false)
[21:43:09] [INFO] [ScoreManager] Kill registered. Combo: 3 (points: 3000)
[21:43:09] [ENEMY] [Enemy2] [AllyDeath] Notified 1 enemies
[21:43:09] [INFO] [SoundPropagation] Unregistered listener: Enemy2 (remaining: 7)
[21:43:09] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[21:43:09] [ENEMY] [Enemy2] Death animation started with hit direction: (1, 0)
[21:43:09] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(444.9152, 1094.8711), shooter_id=2968577379462, bullet_pos=(337.018, 1401.438)
[21:43:09] [INFO] [Bullet] Using shooter_position, distance=325,0001
[21:43:09] [INFO] [Bullet] Distance to wall: 325,0001 (22,129854% of viewport)
[21:43:09] [INFO] [Bullet] Within ricochet range - trying ricochet first
[21:43:09] [INFO] [Bullet] Starting wall penetration at (337.018, 1401.438)
[21:43:09] [INFO] [Bullet] Raycast backward hit penetrating body at distance 27,13628
[21:43:09] [INFO] [Bullet] Body exited signal received for penetrating body
[21:43:09] [INFO] [Bullet] Exiting penetration at (324.29166, 1437.5972) after traveling 33,333332 pixels through wall
[21:43:09] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[21:43:09] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:43:09] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(451.67673, 1063.5586), shooter_id=2968577379462, bullet_pos=(359.50916, 1878.9583)
[21:43:09] [INFO] [Bullet] Using shooter_position, distance=820,59216
[21:43:09] [INFO] [Bullet] Distance to wall: 820,59216 (55,87563% of viewport)
[21:43:09] [INFO] [Bullet] Distance-based penetration chance: 81,47843%
[21:43:09] [INFO] [Bullet] Starting wall penetration at (359.50916, 1878.9583)
[21:43:09] [INFO] [Bullet] Body exited signal received for penetrating body
[21:43:09] [INFO] [Bullet] Exiting penetration at (367.4476, 1850.9792) after traveling 0 pixels through wall
[21:43:09] [INFO] [Bullet] Damage multiplier after penetration: 0,225
[21:43:09] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=843), can_see=false
[21:43:09] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1692), can_see=false
[21:43:09] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1848), can_see=false
[21:43:09] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1353), can_see=false
[21:43:09] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1568), can_see=false
[21:43:09] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1776), can_see=false
[21:43:09] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=862), can_see=false
[21:43:09] [INFO] [BloodDecal] Blood puddle created at (532.1357, 1480.724) (added to group)
[21:43:09] [INFO] [BloodDecal] Blood puddle created at (524.2092, 1342.579) (added to group)
[21:43:09] [INFO] [BloodDecal] Blood puddle created at (452.3377, 1398.564) (added to group)
[21:43:09] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[21:43:09] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=NeedsPumpUp, ReloadState=NotReloading
[21:43:09] [INFO] [Shotgun.FIX#445] dragStartPos=(494, 996), aimDir=(0,41, -0,91)
[21:43:09] [INFO] [BloodDecal] Blood puddle created at (516.1721, 1383.026) (added to group)
[21:43:09] [INFO] [BloodDecal] Blood puddle created at (577.9616, 1379.07) (added to group)
[21:43:09] [INFO] [BloodDecal] Blood puddle created at (578.5266, 1511.55) (added to group)
[21:43:09] [INFO] [BloodDecal] Blood puddle created at (446.6346, 1418.63) (added to group)
[21:43:09] [INFO] [BloodDecal] Blood puddle created at (532.0978, 1048.079) (added to group)
[21:43:09] [INFO] [BloodDecal] Blood puddle created at (514.9758, 1034.574) (added to group)
[21:43:09] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[21:43:09] [INFO] [Shotgun.FIX#445v7] Mouse at top edge (Y=0), need PumpUp - recentering cursor
[21:43:09] [INFO] [Shotgun.FIX#445v7] Cursor recentered to (640, 360)
[21:43:09] [INFO] [BloodDecal] Blood puddle created at (483.1805, 1450.893) (added to group)
[21:43:09] [INFO] [BloodDecal] Blood puddle created at (516.5188, 1039.835) (added to group)
[21:43:09] [INFO] [BloodDecal] Blood puddle created at (515.3392, 1028.951) (added to group)
[21:43:09] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[21:43:09] [INFO] [BloodDecal] Blood puddle created at (536.1258, 1068.958) (added to group)
[21:43:09] [INFO] [BloodDecal] Blood puddle created at (566.7344, 804.09) (added to group)
[21:43:09] [INFO] [BloodDecal] Blood puddle created at (556.6269, 750.4095) (added to group)
[21:43:09] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.5°, player=(335,1349), corner_timer=-0.01
[21:43:09] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[21:43:09] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=91.8°, player=(335,1349), corner_timer=0.30
[21:43:09] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[21:43:09] [INFO] [BloodDecal] Blood puddle created at (512.6569, 1057.801) (added to group)
[21:43:09] [INFO] [BloodDecal] Blood puddle created at (535.0784, 758.2055) (added to group)
[21:43:09] [INFO] [BloodDecal] Blood puddle created at (534.1649, 774.0184) (added to group)
[21:43:09] [INFO] [BloodDecal] Blood puddle created at (569.3691, 758.5182) (added to group)
[21:43:09] [INFO] [BloodDecal] Blood puddle created at (538.7239, 750.3882) (added to group)
[21:43:09] [INFO] [BloodDecal] Blood puddle created at (542.7404, 755.4617) (added to group)
[21:43:09] [INFO] [BloodDecal] Blood puddle created at (550.8362, 1106.649) (added to group)
[21:43:09] [INFO] [BloodDecal] Blood puddle created at (515.572, 1054.482) (added to group)
[21:43:09] [INFO] [BloodDecal] Blood puddle created at (542.0216, 794.1367) (added to group)
[21:43:09] [INFO] [BloodDecal] Blood puddle created at (581.4873, 1085.581) (added to group)
[21:43:09] [INFO] [BloodDecal] Blood puddle created at (577.3502, 1109.327) (added to group)
[21:43:09] [INFO] [BloodDecal] Blood puddle created at (554.3785, 754.5317) (added to group)
[21:43:09] [INFO] [BloodDecal] Blood puddle created at (552.145, 1122.413) (added to group)
[21:43:09] [INFO] [BloodDecal] Blood puddle created at (546.3983, 1122.349) (added to group)
[21:43:09] [INFO] [BloodDecal] Blood puddle created at (566.8544, 1082.611) (added to group)
[21:43:09] [INFO] [BloodDecal] Blood puddle created at (592.4316, 1090.238) (added to group)
[21:43:10] [ENEMY] [Enemy1] PURSUING corner check: angle 2.9°
[21:43:10] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:43:10] [INFO] [BloodDecal] Blood puddle created at (551.4051, 1112.161) (added to group)
[21:43:10] [INFO] [BloodDecal] Blood puddle created at (589.6204, 825.0507) (added to group)
[21:43:10] [INFO] [BloodDecal] Blood puddle created at (601.9979, 787.9683) (added to group)
[21:43:10] [INFO] [BloodDecal] Blood puddle created at (606.8521, 811.1852) (added to group)
[21:43:10] [INFO] [BloodDecal] Blood puddle created at (603.3123, 773.5453) (added to group)
[21:43:10] [ENEMY] [Enemy4] Ragdoll activated
[21:43:10] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[21:43:10] [INFO] [BloodDecal] Blood puddle created at (540.5413, 1096.631) (added to group)
[21:43:10] [INFO] [BloodDecal] Blood puddle created at (578.6248, 1139.153) (added to group)
[21:43:10] [INFO] [BloodDecal] Blood puddle created at (523.4277, 1059.793) (added to group)
[21:43:10] [INFO] [BloodDecal] Blood puddle created at (615.578, 1106.384) (added to group)
[21:43:10] [INFO] [BloodDecal] Blood puddle created at (563.3807, 1076.682) (added to group)
[21:43:10] [INFO] [Shotgun.FIX#445v7] TryProcessMidDragGesture - dragVector=(3,7, 355,4), length=355,4, isDragUp=False, isDragDown=True, ActionState=NeedsPumpUp
[21:43:10] [INFO] [BloodDecal] Blood puddle created at (603.307, 1083.745) (added to group)
[21:43:10] [INFO] [BloodDecal] Blood puddle created at (539.8922, 1142.888) (added to group)
[21:43:10] [INFO] [BloodDecal] Blood puddle created at (562.0709, 1085.333) (added to group)
[21:43:10] [INFO] [BloodDecal] Blood puddle created at (636.8876, 841.2012) (added to group)
[21:43:10] [INFO] [BloodDecal] Blood puddle created at (628.9271, 784.6013) (added to group)
[21:43:10] [ENEMY] [Enemy2] Ragdoll activated
[21:43:10] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[21:43:10] [INFO] [BloodDecal] Blood puddle created at (645.3772, 1045.96) (added to group)
[21:43:10] [INFO] [BloodDecal] Blood puddle created at (618.7549, 1090.622) (added to group)
[21:43:10] [INFO] [BloodDecal] Blood puddle created at (613.7646, 775.1804) (added to group)
[21:43:10] [INFO] [BloodDecal] Blood puddle created at (564.3499, 789.8545) (added to group)
[21:43:10] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=807), can_see=false
[21:43:10] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1692), can_see=false
[21:43:10] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1848), can_see=false
[21:43:10] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1353), can_see=false
[21:43:10] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1568), can_see=false
[21:43:10] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1776), can_see=false
[21:43:10] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=862), can_see=false
[21:43:10] [INFO] [BloodDecal] Blood puddle created at (601.3682, 1066.208) (added to group)
[21:43:10] [INFO] [BloodDecal] Blood puddle created at (660.859, 805.3562) (added to group)
[21:43:10] [INFO] [BloodDecal] Blood puddle created at (583.2175, 831.6631) (added to group)
[21:43:10] [INFO] [BloodDecal] Blood puddle created at (667.5969, 792.8503) (added to group)
[21:43:10] [INFO] [BloodDecal] Blood puddle created at (603.2798, 864.2117) (added to group)
[21:43:10] [INFO] [BloodDecal] Blood puddle created at (664.5582, 824.6091) (added to group)
[21:43:10] [INFO] [BloodDecal] Blood puddle created at (622.9276, 838.389) (added to group)
[21:43:10] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.0°, current=89.4°, player=(335,1349), corner_timer=-0.01
[21:43:10] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[21:43:10] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=91.7°, player=(335,1349), corner_timer=0.30
[21:43:10] [INFO] [BloodDecal] Blood puddle created at (593.6491, 1195.801) (added to group)
[21:43:10] [INFO] [BloodDecal] Blood puddle created at (666.4211, 1228.281) (added to group)
[21:43:10] [INFO] [BloodDecal] Blood puddle created at (576.2064, 1159.549) (added to group)
[21:43:10] [INFO] [BloodDecal] Blood puddle created at (679.5292, 1221.056) (added to group)
[21:43:10] [INFO] [BloodDecal] Blood puddle created at (662.6088, 873.9561) (added to group)
[21:43:10] [INFO] [BloodDecal] Blood puddle created at (675.7222, 897.875) (added to group)
[21:43:10] [INFO] [BloodDecal] Blood puddle created at (665.6254, 826.8212) (added to group)
[21:43:10] [INFO] [BloodDecal] Blood puddle created at (683.0428, 917.0834) (added to group)
[21:43:10] [INFO] [BloodDecal] Blood puddle created at (651.9802, 861.5577) (added to group)
[21:43:10] [INFO] [BloodDecal] Blood puddle created at (681.7654, 797.683) (added to group)
[21:43:10] [INFO] [BloodDecal] Blood puddle created at (597.1512, 851.1089) (added to group)
[21:43:10] [INFO] [BloodDecal] Blood puddle created at (624.0449, 800.4876) (added to group)
[21:43:10] [INFO] [BloodDecal] Blood puddle created at (629.7015, 905.8942) (added to group)
[21:43:10] [INFO] [ReplayManager] Recording frame 360 (5,8s): player_valid=True, enemies=10
[21:43:10] [ENEMY] [Enemy1] PURSUING corner check: angle -35.5°
[21:43:10] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:43:10] [INFO] [BloodDecal] Blood puddle created at (611.4701, 904.6414) (added to group)
[21:43:10] [INFO] [BloodDecal] Blood puddle created at (723.9616, 934.2799) (added to group)
[21:43:10] [INFO] [BloodDecal] Blood puddle created at (637.7373, 875.308) (added to group)
[21:43:10] [INFO] [BloodDecal] Blood puddle created at (660.0443, 922.2876) (added to group)
[21:43:10] [INFO] [Shotgun.FIX#445v7] TryProcessMidDragGesture - dragVector=(9,0, 355,6), length=355,7, isDragUp=False, isDragDown=True, ActionState=NeedsPumpUp
[21:43:10] [INFO] [BloodDecal] Blood puddle created at (616.2272, 905.1609) (added to group)
[21:43:10] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.8°, current=89.4°, player=(335,1349), corner_timer=-0.01
[21:43:10] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[21:43:10] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=91.6°, player=(335,1349), corner_timer=0.30
[21:43:10] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=715), can_see=false
[21:43:10] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1692), can_see=false
[21:43:10] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1848), can_see=false
[21:43:10] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1353), can_see=false
[21:43:10] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1568), can_see=false
[21:43:10] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1776), can_see=false
[21:43:10] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=862), can_see=false
[21:43:10] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:43:11] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.7°, current=89.3°, player=(335,1349), corner_timer=-0.01
[21:43:11] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[21:43:11] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=91.6°, player=(335,1349), corner_timer=0.30
[21:43:11] [INFO] [Shotgun.FIX#445v7] Mouse at top edge (Y=48), need PumpUp - recentering cursor
[21:43:11] [INFO] [Shotgun.FIX#445v7] Cursor recentered to (640, 360)
[21:43:11] [INFO] [Shotgun.FIX#445v7] Mid-drag pump UP - shell ejected, continue dragging DOWN to chamber
[21:43:11] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[21:43:11] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:43:11] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[21:43:11] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=715), can_see=false
[21:43:11] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1692), can_see=false
[21:43:11] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1848), can_see=false
[21:43:11] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1353), can_see=false
[21:43:11] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1568), can_see=false
[21:43:11] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1776), can_see=false
[21:43:11] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=862), can_see=false
[21:43:11] [ENEMY] [Enemy4] Death animation completed
[21:43:11] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[21:43:11] [INFO] [ReplayManager] Recording frame 420 (6,6s): player_valid=True, enemies=10
[21:43:11] [ENEMY] [Enemy2] Death animation completed
[21:43:11] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.7°, current=89.3°, player=(335,1349), corner_timer=-0.01
[21:43:11] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[21:43:11] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=91.6°, player=(335,1349), corner_timer=0.30
[21:43:11] [INFO] [Shotgun.FIX#445v7] TryProcessMidDragGesture - dragVector=(0,0, -48,1), length=48,1, isDragUp=True, isDragDown=False, ActionState=NeedsPumpDown
[21:43:11] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:43:11] [INFO] [Shotgun.FIX#445v7] Mid-drag pump DOWN - chambered, ready to fire
[21:43:11] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[21:43:11] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[21:43:11] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[21:43:11] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=715), can_see=false
[21:43:11] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1692), can_see=false
[21:43:11] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1848), can_see=false
[21:43:11] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1353), can_see=false
[21:43:11] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1568), can_see=false
[21:43:11] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1776), can_see=false
[21:43:11] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=862), can_see=false
[21:43:11] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.6°, current=89.3°, player=(335,1349), corner_timer=-0.01
[21:43:11] [ENEMY] [Enemy7] PATROL corner check: angle 89.2°
[21:43:11] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.2°, current=91.6°, player=(335,1349), corner_timer=0.30
[21:43:11] [INFO] [Shotgun.FIX#445v7] TryProcessMidDragGesture - dragVector=(-43,4, 269,2), length=272,6, isDragUp=False, isDragDown=True, ActionState=Ready
[21:43:12] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:43:12] [INFO] [Shotgun.FIX#243] RMB released after 12 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[21:43:12] [INFO] [Shotgun.FIX#445v7] ProcessDragGesture - dragVector=(-44,8, 257,1), length=261,0, ActionState=Ready
[21:43:12] [INFO] [Shotgun.FIX#445v7] Screen-based pump gesture: isDragUp=False, isDragDown=True
[21:43:12] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=707), can_see=false
[21:43:12] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1687), can_see=false
[21:43:12] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1845), can_see=false
[21:43:12] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.6°, current=89.2°, player=(335,1341), corner_timer=-0.01
[21:43:12] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1351), can_see=false
[21:43:12] [ENEMY] [Enemy7] PATROL corner check: angle 89.2°
[21:43:12] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1568), can_see=false
[21:43:12] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1777), can_see=false
[21:43:12] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=864), can_see=false
[21:43:12] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.2°, current=91.5°, player=(335,1339), corner_timer=0.30
[21:43:12] [INFO] [ReplayManager] Recording frame 480 (7,4s): player_valid=True, enemies=10
[21:43:12] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:43:12] [ENEMY] [Enemy1] Warning: No valid flank position (both sides behind walls)
[21:43:12] [ENEMY] [Enemy1] FLANKING started: target=(143.8388, 1251.062), side=left, pos=(181.5568, 651.6549)
[21:43:12] [ENEMY] [Enemy1] State: PURSUING -> FLANKING
[21:43:12] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.6°, current=89.2°, player=(335,1255), corner_timer=-0.01
[21:43:12] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[21:43:12] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=92.1°, player=(335,1252), corner_timer=0.30
[21:43:12] [ENEMY] [Enemy1] FLANKING corner check: angle -84.2°
[21:43:12] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(335.2633, 1240.566), source=PLAYER (Player), range=600, listeners=7
[21:43:12] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=0, below_threshold=0
[21:43:12] [INFO] [Shotgun.FIX#212] Firing 11 pellets with 15° spread at pos=(335.26334, 1240.5656)
[21:43:12] [INFO] [Shotgun.FIX#212] Normal pellet 1/11: extraOffset=-2,1, distance=49,9px, pos=(378.3768, 1265.7117)
[21:43:12] [INFO] [Shotgun.FIX#212] Normal pellet 2/11: extraOffset=5,4, distance=57,4px, pos=(384.48468, 1270.039)
[21:43:12] [INFO] [Shotgun.FIX#212] Normal pellet 3/11: extraOffset=-1,6, distance=50,4px, pos=(377.7469, 1267.6211)
[21:43:12] [INFO] [Shotgun.FIX#212] Normal pellet 4/11: extraOffset=4,2, distance=56,2px, pos=(382.4876, 1271.1036)
[21:43:12] [INFO] [Shotgun.FIX#212] Normal pellet 5/11: extraOffset=9,4, distance=61,4px, pos=(385.95126, 1275.2201)
[21:43:12] [INFO] [Shotgun.FIX#212] Normal pellet 6/11: extraOffset=13,2, distance=65,2px, pos=(388.0219, 1278.819)
[21:43:12] [INFO] [Shotgun.FIX#212] Normal pellet 7/11: extraOffset=-5,7, distance=46,3px, pos=(371.11707, 1269.8323)
[21:43:12] [INFO] [Shotgun.FIX#212] Normal pellet 8/11: extraOffset=0,7, distance=52,7px, pos=(375.63275, 1274.4163)
[21:43:12] [INFO] [Shotgun.FIX#212] Normal pellet 9/11: extraOffset=6,6, distance=58,6px, pos=(379.10342, 1279.381)
[21:43:12] [INFO] [Shotgun.FIX#212] Normal pellet 10/11: extraOffset=-5,9, distance=46,1px, pos=(369.71152, 1271.2368)
[21:43:12] [INFO] [Shotgun.FIX#212] Normal pellet 11/11: extraOffset=6,6, distance=58,6px, pos=(377.83023, 1280.8634)
[21:43:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(335.2633, 1240.566), source=PLAYER (Shotgun), range=1469, listeners=7
[21:43:12] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=0, below_threshold=3
[21:43:12] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:43:12] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=606), can_see=false
[21:43:12] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1627), can_see=false
[21:43:12] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1795), can_see=false
[21:43:12] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1320), can_see=false
[21:43:12] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1579), can_see=false
[21:43:12] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1793), can_see=false
[21:43:12] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=902), can_see=false
[21:43:13] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.9°, current=89.3°, player=(335,1231), corner_timer=-0.02
[21:43:13] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[21:43:13] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=92.1°, player=(335,1231), corner_timer=0.30
[21:43:13] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[21:43:13] [ENEMY] [Enemy1] FLANKING corner check: angle -78.8°
[21:43:13] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=NeedsPumpUp, ReloadState=NotReloading
[21:43:13] [INFO] [Shotgun.FIX#445] dragStartPos=(678, 1454), aimDir=(0,84, 0,55)
[21:43:13] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[21:43:13] [INFO] [Shotgun.FIX#445v7] Mid-drag pump UP - shell ejected, continue dragging DOWN to chamber
[21:43:13] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[21:43:13] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:43:13] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[21:43:13] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[21:43:13] [INFO] [Shotgun.FIX#445v7] Mid-drag pump DOWN - chambered, ready to fire
[21:43:13] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=611), can_see=false
[21:43:13] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1624), can_see=false
[21:43:13] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1794), can_see=false
[21:43:13] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1319), can_see=false
[21:43:13] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1580), can_see=false
[21:43:13] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1793), can_see=false
[21:43:13] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=903), can_see=false
[21:43:13] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.0°, current=89.3°, player=(335,1231), corner_timer=-0.02
[21:43:13] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[21:43:13] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[21:43:13] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.2°, player=(335,1231), corner_timer=0.30
[21:43:13] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[21:43:13] [ENEMY] [Enemy1] FLANKING corner check: angle -87.0°
[21:43:13] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[21:43:13] [INFO] [ReplayManager] Recording frame 540 (8,4s): player_valid=True, enemies=10
[21:43:13] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:43:13] [ENEMY] [Enemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=107.7°, current=117.8°, player=(335,1231), corner_timer=0.10
[21:43:13] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) - pursuing to attack (dist=608)
[21:43:13] [ENEMY] [Enemy1] Warning: No valid flank position (both sides behind walls)
[21:43:13] [ENEMY] [Enemy1] FLANKING started: target=(200.6515, 1083.092), side=left, pos=(520.0254, 651.9474)
[21:43:13] [ENEMY] [Enemy1] Warning: No valid flank position (both sides behind walls)
[21:43:13] [ENEMY] [Enemy1] FLANKING started: target=(201.8688, 1081.994), side=left, pos=(524.1689, 655.3054)
[21:43:13] [ENEMY] [Enemy1] Warning: No valid flank position (both sides behind walls)
[21:43:13] [ENEMY] [Enemy1] FLANKING started: target=(203.1029, 1080.898), side=left, pos=(528.3124, 658.6633)
[21:43:13] [INFO] [Shotgun.FIX#445v7] TryProcessMidDragGesture - dragVector=(-27,4, 104,7), length=108,2, isDragUp=False, isDragDown=True, ActionState=Ready
[21:43:13] [ENEMY] [Enemy1] Warning: No valid flank position (both sides behind walls)
[21:43:13] [ENEMY] [Enemy1] FLANKING started: target=(204.3537, 1079.806), side=left, pos=(532.4559, 662.0213)
[21:43:13] [ENEMY] [Enemy1] Warning: No valid flank position (both sides behind walls)
[21:43:13] [ENEMY] [Enemy1] FLANKING started: target=(531.9733, 1194.883), side=right, pos=(536.5994, 665.3793)
[21:43:13] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.1°, current=89.4°, player=(335,1231), corner_timer=-0.02
[21:43:13] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[21:43:13] [ENEMY] [Enemy1] State: FLANKING -> PURSUING
[21:43:13] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.2°, player=(335,1231), corner_timer=0.30
[21:43:13] [ENEMY] [Enemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=PURSUING, target=110.3°, current=-152.7°, player=(335,1231), corner_timer=0.08
[21:43:13] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:43:13] [INFO] [Shotgun.FIX#243] RMB released after 18 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[21:43:13] [INFO] [Shotgun.FIX#445v7] ProcessDragGesture - dragVector=(-28,1, 104,4), length=108,1, ActionState=Ready
[21:43:13] [INFO] [Shotgun.FIX#445v7] Screen-based pump gesture: isDragUp=False, isDragDown=True
[21:43:13] [ENEMY] [Enemy1] PURSUING corner check: angle 47.5°
[21:43:13] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=557), can_see=false
[21:43:13] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1624), can_see=false
[21:43:13] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1794), can_see=false
[21:43:13] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1319), can_see=false
[21:43:13] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1580), can_see=false
[21:43:13] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1793), can_see=false
[21:43:13] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=903), can_see=false
[21:43:13] [INFO] [BloodyFeet:Enemy1] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[21:43:13] [ENEMY] [Enemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=110.6°, current=129.8°, player=(335,1231), corner_timer=0.18
[21:43:13] [ENEMY] [Enemy1] State: PURSUING -> COMBAT
[21:43:13] [ENEMY] [Enemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=111.1°, current=139.6°, player=(335,1231), corner_timer=0.15
[21:43:13] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.1°, current=89.4°, player=(335,1231), corner_timer=-0.02
[21:43:13] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[21:43:13] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.2°, player=(335,1231), corner_timer=0.30
[21:43:14] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:43:14] [ENEMY] [Enemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=110.6°, current=122.6°, player=(335,1232), corner_timer=0.15
[21:43:14] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[21:43:14] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(335,1266), corner_timer=-0.02
[21:43:14] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[21:43:14] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=529), can_see=true
[21:43:14] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1646), can_see=false
[21:43:14] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1811), can_see=false
[21:43:14] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(335,1271), corner_timer=0.30
[21:43:14] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1329), can_see=false
[21:43:14] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1575), can_see=false
[21:43:14] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1787), can_see=false
[21:43:14] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=888), can_see=false
[21:43:14] [INFO] [ReplayManager] Recording frame 600 (9,4s): player_valid=True, enemies=10
[21:43:14] [ENEMY] [Enemy1] State: PURSUING -> COMBAT
[21:43:14] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[21:43:14] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:43:14] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) - pursuing to attack (dist=603)
[21:43:14] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(335,1357), corner_timer=-0.02
[21:43:14] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[21:43:14] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(335,1359), corner_timer=0.30
[21:43:14] [ENEMY] [Enemy1] State: PURSUING -> COMBAT
[21:43:14] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[21:43:14] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:43:14] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=620), can_see=true
[21:43:14] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1702), can_see=false
[21:43:14] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1857), can_see=false
[21:43:14] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1359), can_see=false
[21:43:14] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1567), can_see=false
[21:43:14] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1774), can_see=false
[21:43:14] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=857), can_see=false
[21:43:14] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(335,1366), corner_timer=-0.02
[21:43:14] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[21:43:14] [ENEMY] [Enemy1] State: PURSUING -> COMBAT
[21:43:14] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(335,1366), corner_timer=0.30
[21:43:15] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[21:43:15] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:43:15] [INFO] [ScoreManager] Combo ended at 3. Max combo: 3
[21:43:15] [ENEMY] [Enemy1] State: PURSUING -> COMBAT
[21:43:15] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[21:43:15] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(300,1366), corner_timer=-0.02
[21:43:15] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[21:43:15] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(295,1366), corner_timer=0.30
[21:43:15] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=636), can_see=true
[21:43:15] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1743), can_see=false
[21:43:15] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1901), can_see=false
[21:43:15] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1407), can_see=false
[21:43:15] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1618), can_see=false
[21:43:15] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1825), can_see=false
[21:43:15] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=906), can_see=false
[21:43:15] [INFO] [ReplayManager] Recording frame 660 (10,4s): player_valid=True, enemies=10
[21:43:15] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:43:15] [ENEMY] [Enemy1] State: PURSUING -> COMBAT
[21:43:15] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) - pursuing to attack (dist=670)
[21:43:15] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[21:43:15] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(191,1368), corner_timer=-0.02
[21:43:15] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[21:43:15] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(186,1369), corner_timer=0.30
[21:43:15] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:43:15] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=740), can_see=true
[21:43:15] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1890), can_see=false
[21:43:15] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2053), can_see=false
[21:43:15] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1562), can_see=false
[21:43:15] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1764), can_see=false
[21:43:15] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1969), can_see=false
[21:43:15] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1041), can_see=false
[21:43:15] [ENEMY] [Enemy1] State: PURSUING -> COMBAT
[21:43:15] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[21:43:15] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(127,1440), corner_timer=-0.02
[21:43:15] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[21:43:15] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(127,1445), corner_timer=0.30
[21:43:16] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:43:16] [ENEMY] [Enemy1] State: PURSUING -> COMBAT
[21:43:16] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[21:43:16] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(127,1550), corner_timer=-0.02
[21:43:16] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[21:43:16] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(128,1555), corner_timer=0.30
[21:43:16] [ENEMY] [Enemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=PURSUING, target=115.7°, current=115.9°, player=(129,1560), corner_timer=0.15
[21:43:16] [INFO] [ReplayManager] Recording frame 720 (11,4s): player_valid=True, enemies=10
[21:43:16] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=884), can_see=false
[21:43:16] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1986), can_see=false
[21:43:16] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2135), can_see=false
[21:43:16] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1624), can_see=false
[21:43:16] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1770), can_see=false
[21:43:16] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1966), can_see=false
[21:43:16] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1026), can_see=false
[21:43:16] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:43:16] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(194,1571), corner_timer=-0.02
[21:43:16] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[21:43:16] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(199,1571), corner_timer=0.30
[21:43:16] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:43:16] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=808), can_see=false
[21:43:16] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1876), can_see=false
[21:43:16] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2020), can_see=false
[21:43:16] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1506), can_see=false
[21:43:16] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1656), can_see=false
[21:43:16] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1854), can_see=false
[21:43:16] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=915), can_see=false
[21:43:16] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(249,1517), corner_timer=-0.02
[21:43:16] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[21:43:17] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(250,1512), corner_timer=0.30
[21:43:17] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:43:17] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(250,1428), corner_timer=-0.02
[21:43:17] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[21:43:17] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(250,1428), corner_timer=0.30
[21:43:17] [INFO] [ReplayManager] Recording frame 780 (12,4s): player_valid=True, enemies=10
[21:43:17] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=706), can_see=false
[21:43:17] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1807), can_see=false
[21:43:17] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1961), can_see=false
[21:43:17] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1460), can_see=false
[21:43:17] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1650), can_see=false
[21:43:17] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1854), can_see=false
[21:43:17] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=925), can_see=false
[21:43:17] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:43:17] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(250,1428), corner_timer=-0.02
[21:43:17] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[21:43:17] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(250,1428), corner_timer=0.30
[21:43:17] [ENEMY] [Enemy1] Warning: No valid flank position (both sides behind walls)
[21:43:17] [ENEMY] [Enemy1] FLANKING started: target=(448.066, 1398.386), side=right, pos=(508.6434, 771.4923)
[21:43:17] [ENEMY] [Enemy1] State: PURSUING -> FLANKING
[21:43:17] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:43:17] [ENEMY] [Enemy1] FLANKING corner check: angle -154.5°
[21:43:17] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=652), can_see=false
[21:43:17] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1807), can_see=false
[21:43:17] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1961), can_see=false
[21:43:17] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1460), can_see=false
[21:43:17] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1650), can_see=false
[21:43:17] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1854), can_see=false
[21:43:17] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=925), can_see=false
[21:43:17] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(250,1428), corner_timer=-0.02
[21:43:17] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[21:43:17] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(250,1428), corner_timer=0.30
[21:43:18] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:43:18] [ENEMY] [Enemy1] FLANKING corner check: angle -176.1°
[21:43:18] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(210,1428), corner_timer=-0.02
[21:43:18] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[21:43:18] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(204,1428), corner_timer=0.30
[21:43:18] [ENEMY] [Enemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=119.8°, current=119.1°, player=(189,1427), corner_timer=0.17
[21:43:18] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) - pursuing to attack (dist=547)
[21:43:18] [ENEMY] [Enemy1] Warning: No valid flank position (both sides behind walls)
[21:43:18] [ENEMY] [Enemy1] FLANKING started: target=(88.99821, 1254.262), side=left, pos=(461.4796, 952.3486)
[21:43:18] [INFO] [ReplayManager] Recording frame 840 (13,4s): player_valid=True, enemies=10
[21:43:18] [ENEMY] [Enemy1] Warning: No valid flank position (both sides behind walls)
[21:43:18] [ENEMY] [Enemy1] FLANKING started: target=(86.33756, 1252.035), side=left, pos=(461.0675, 957.666)
[21:43:18] [ENEMY] [Enemy1] Warning: No valid flank position (both sides behind walls)
[21:43:18] [ENEMY] [Enemy1] FLANKING started: target=(379.8796, 1429.402), side=right, pos=(460.6555, 962.9834)
[21:43:18] [ENEMY] [Enemy1] Warning: No valid flank position (both sides behind walls)
[21:43:18] [ENEMY] [Enemy1] FLANKING started: target=(375.1224, 1430.515), side=right, pos=(460.2434, 968.3008)
[21:43:18] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:43:18] [ENEMY] [Enemy1] Warning: No valid flank position (both sides behind walls)
[21:43:18] [ENEMY] [Enemy1] FLANKING started: target=(370.4333, 1431.378), side=right, pos=(459.8314, 973.6182)
[21:43:18] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=529), can_see=true
[21:43:18] [ENEMY] [Enemy1] Warning: No valid flank position (both sides behind walls)
[21:43:18] [ENEMY] [Enemy1] FLANKING started: target=(77.48043, 1239.99), side=left, pos=(459.4193, 978.9355)
[21:43:18] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1870), can_see=false
[21:43:18] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2030), can_see=false
[21:43:18] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1536), can_see=false
[21:43:18] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1734), can_see=false
[21:43:18] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1938), can_see=false
[21:43:18] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1010), can_see=false
[21:43:18] [ENEMY] [Enemy1] Warning: No valid flank position (both sides behind walls)
[21:43:18] [ENEMY] [Enemy1] FLANKING started: target=(361.2472, 1432.373), side=right, pos=(459.0073, 984.2529)
[21:43:18] [ENEMY] [Enemy1] Warning: No valid flank position (both sides behind walls)
[21:43:18] [ENEMY] [Enemy1] FLANKING started: target=(74.20184, 1232.088), side=left, pos=(458.5952, 989.5703)
[21:43:18] [ENEMY] [Enemy1] Warning: No valid flank position (both sides behind walls)
[21:43:18] [ENEMY] [Enemy1] FLANKING started: target=(72.87226, 1227.67), side=left, pos=(458.1832, 994.8877)
[21:43:18] [ENEMY] [Enemy1] FLANKING started: target=(347.8894, 1432.112), side=right, pos=(457.7711, 1000.205)
[21:43:18] [ENEMY] [Enemy1] Warning: No valid flank position (both sides behind walls)
[21:43:18] [ENEMY] [Enemy1] FLANKING started: target=(343.734, 1431.647), side=right, pos=(457.3591, 1005.522)
[21:43:18] [ENEMY] [Enemy1] Warning: No valid flank position (both sides behind walls)
[21:43:18] [ENEMY] [Enemy1] FLANKING started: target=(70.49916, 1213.172), side=left, pos=(456.9471, 1010.84)
[21:43:18] [ENEMY] [Enemy1] Warning: No valid flank position (both sides behind walls)
[21:43:18] [ENEMY] [Enemy1] FLANKING started: target=(70.36003, 1208.126), side=left, pos=(456.535, 1016.157)
[21:43:18] [ENEMY] [Enemy1] FLANKING started: target=(332.7406, 1429.375), side=right, pos=(456.123, 1021.475)
[21:43:18] [ENEMY] [Enemy1] FLANKING started: target=(329.5625, 1428.338), side=right, pos=(455.7109, 1026.792)
[21:43:18] [ENEMY] [Enemy1] FLANKING started: target=(326.6244, 1427.168), side=right, pos=(455.2989, 1032.109)
[21:43:18] [ENEMY] [Enemy1] FLANKING started: target=(323.9237, 1425.869), side=right, pos=(454.8868, 1037.427)
[21:43:18] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(129,1378), corner_timer=-0.02
[21:43:18] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[21:43:18] [ENEMY] [Enemy1] FLANKING started: target=(321.4575, 1424.447), side=right, pos=(454.4748, 1042.744)
[21:43:18] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(127,1374), corner_timer=0.30
[21:43:18] [ENEMY] [Enemy1] FLANKING started: target=(319.2222, 1422.905), side=right, pos=(454.0627, 1048.062)
[21:43:18] [ENEMY] [Enemy1] FLANKING started: target=(317.2137, 1421.25), side=right, pos=(453.6507, 1053.379)
[21:43:18] [ENEMY] [Enemy1] FLANKING started: target=(315.4274, 1419.488), side=right, pos=(453.2386, 1058.696)
[21:43:18] [ENEMY] [Enemy1] FLANKING started: target=(313.8578, 1417.623), side=right, pos=(452.8266, 1064.014)
[21:43:18] [ENEMY] [Enemy1] FLANKING started: target=(312.4985, 1415.662), side=right, pos=(452.4145, 1069.331)
[21:43:18] [ENEMY] [Enemy1] FLANKING started: target=(91.80614, 1145.617), side=left, pos=(452.0025, 1074.648)
[21:43:18] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:43:18] [ENEMY] [Enemy1] FLANKING started: target=(95.65469, 1139.526), side=left, pos=(451.5904, 1079.966)
[21:43:18] [ENEMY] [Enemy1] FLANKING started: target=(308.2548, 1410.047), side=right, pos=(451.1784, 1085.283)
[21:43:18] [ENEMY] [Enemy1] FLANKING started: target=(306.5899, 1408.364), side=right, pos=(450.7663, 1090.601)
[21:43:18] [ENEMY] [Enemy1] Player empty ammo - priority attack triggered
[21:43:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450.3543, 1095.918), source=ENEMY (Enemy1), range=1469, listeners=7
[21:43:18] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=3
[21:43:18] [ENEMY] [Enemy1] State: FLANKING -> COMBAT
[21:43:18] [INFO] [LastChance] Threat detected: Bullet
[21:43:18] [INFO] [LastChance] Not in hard mode - effect disabled
[21:43:18] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:43:18] [ENEMY] [Enemy1] Player empty ammo - priority attack triggered
[21:43:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(426.5681, 1120.103), source=ENEMY (Enemy1), range=1469, listeners=7
[21:43:18] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=2
[21:43:18] [INFO] [BloodyFeet:Enemy1] Blood ran out - no more footprints
[21:43:18] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1826), can_see=false
[21:43:18] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2002), can_see=false
[21:43:18] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(124,1271), corner_timer=-0.02
[21:43:18] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1533), can_see=false
[21:43:18] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[21:43:18] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1785), can_see=false
[21:43:18] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1995), can_see=false
[21:43:18] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1086), can_see=false
[21:43:18] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(124,1265), corner_timer=0.30
[21:43:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(399.1409, 1140.7263), shooter_id=2967520413204, bullet_pos=(56.426968, 1377.7039)
[21:43:19] [INFO] [Bullet] Using shooter_position, distance=416,66675
[21:43:19] [INFO] [Bullet] Distance to wall: 416,66675 (28,371605% of viewport)
[21:43:19] [INFO] [Bullet] Within ricochet range - trying ricochet first
[21:43:19] [INFO] [LastChance] Threat detected: @Area2D@4882
[21:43:19] [INFO] [LastChance] Not in hard mode - effect disabled
[21:43:19] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:43:19] [ENEMY] [Enemy1] State: COMBAT -> RETREATING
[21:43:19] [ENEMY] [Enemy1] Player empty ammo - priority attack triggered
[21:43:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(392.9914, 1136.383), source=ENEMY (Enemy1), range=1469, listeners=7
[21:43:19] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=2
[21:43:19] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:43:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(370.69916, 1158.9521), shooter_id=2967520413204, bullet_pos=(40.68368, 1337.0383)
[21:43:19] [INFO] [Bullet] Using shooter_position, distance=374,99988
[21:43:19] [INFO] [Bullet] Distance to wall: 374,99988 (25,534433% of viewport)
[21:43:19] [INFO] [Bullet] Within ricochet range - trying ricochet first
[21:43:19] [INFO] [LastChance] Threat detected: @Area2D@4886
[21:43:19] [INFO] [LastChance] Not in hard mode - effect disabled
[21:43:19] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:43:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(399.1409, 1140.7263), shooter_id=2967520413204, bullet_pos=(337.6942, 1601.0635)
[21:43:19] [INFO] [Bullet] Using shooter_position, distance=464,42007
[21:43:19] [INFO] [Bullet] Distance to wall: 464,42007 (31,623217% of viewport)
[21:43:19] [INFO] [Bullet] Within ricochet range - trying ricochet first
[21:43:19] [INFO] [Bullet] Starting wall penetration at (337.6942, 1601.0635)
[21:43:19] [ENEMY] [Enemy1] Player empty ammo - priority attack triggered
[21:43:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(401.0688, 1120.266), source=ENEMY (Enemy1), range=1469, listeners=7
[21:43:19] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=2
[21:43:19] [INFO] [Bullet] Raycast backward hit penetrating body at distance 22,830475
[21:43:19] [INFO] [Bullet] Body exited signal received for penetrating body
[21:43:19] [INFO] [Bullet] Exiting penetration at (369.34494, 1626.1979) after traveling 35,41667 pixels through wall
[21:43:19] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[21:43:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(333.30252, 1169.0604), shooter_id=2967520413204, bullet_pos=(62.17238, 1276.5684)
[21:43:19] [INFO] [Bullet] Using shooter_position, distance=291,66675
[21:43:19] [INFO] [Bullet] Distance to wall: 291,66675 (19,860126% of viewport)
[21:43:19] [INFO] [Bullet] Within ricochet range - trying ricochet first
[21:43:19] [INFO] [Bullet] Starting wall penetration at (62.17238, 1276.5684)
[21:43:19] [INFO] [Bullet] Raycast backward hit penetrating body at distance 14,208923
[21:43:19] [INFO] [Bullet] Body exited signal received for penetrating body
[21:43:19] [INFO] [Bullet] Exiting penetration at (18.791561, 1293.7697) after traveling 41,666668 pixels through wall
[21:43:19] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[21:43:19] [INFO] [LastChance] Threat detected: @Area2D@4891
[21:43:19] [INFO] [LastChance] Not in hard mode - effect disabled
[21:43:19] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:43:19] [ENEMY] [Enemy1] Player empty ammo - priority attack triggered
[21:43:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(416.1833, 1098.946), source=ENEMY (Enemy1), range=1469, listeners=7
[21:43:19] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=2
[21:43:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(340.18423, 1150.6575), shooter_id=2967520413204, bullet_pos=(65.18779, 1247.85)
[21:43:19] [INFO] [Bullet] Using shooter_position, distance=291,66666
[21:43:19] [INFO] [Bullet] Distance to wall: 291,66666 (19,86012% of viewport)
[21:43:19] [INFO] [Bullet] Within ricochet range - trying ricochet first
[21:43:19] [INFO] [Bullet] Starting wall penetration at (65.18779, 1247.85)
[21:43:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(370.69916, 1158.9521), shooter_id=2967520413204, bullet_pos=(387.5484, 1591.1746)
[21:43:19] [INFO] [Bullet] Using shooter_position, distance=432,5507
[21:43:19] [INFO] [Bullet] Distance to wall: 432,5507 (29,453173% of viewport)
[21:43:19] [INFO] [Bullet] Within ricochet range - trying ricochet first
[21:43:19] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(124,1208), corner_timer=-0.02
[21:43:19] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[21:43:19] [INFO] [Bullet] Raycast backward hit penetrating body at distance 11,467035
[21:43:19] [INFO] [Bullet] Body exited signal received for penetrating body
[21:43:19] [INFO] [Bullet] Exiting penetration at (21.188358, 1263.4008) after traveling 41,666668 pixels through wall
[21:43:19] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[21:43:19] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(124,1208), corner_timer=0.30
[21:43:19] [INFO] [LastChance] Threat detected: Bullet
[21:43:19] [INFO] [LastChance] Not in hard mode - effect disabled
[21:43:19] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:43:19] [INFO] [ReplayManager] Recording frame 900 (14,4s): player_valid=True, enemies=10
[21:43:19] [INFO] [Player] Hit blocked by invincibility mode (C#)
[21:43:19] [INFO] [Player] Spawning blood effect at (124.116066, 1208.7681), dir=(1, 0), lethal=False (C#)
[21:43:19] [INFO] [ImpactEffects] spawn_blood_effect called at (124.1161, 1208.768), dir=(1, 0), lethal=false
[21:43:19] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:43:19] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:43:19] [INFO] [ImpactEffects] Blood effect spawned at (124.1161, 1208.768) (scale=1)
[21:43:19] [ENEMY] [Enemy1] Player empty ammo - priority attack triggered
[21:43:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(431.2978, 1077.627), source=ENEMY (Enemy1), range=1469, listeners=7
[21:43:19] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=3
[21:43:19] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:43:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(370.69916, 1158.9521), shooter_id=2967520413204, bullet_pos=(628.4675, 1402.443)
[21:43:19] [INFO] [Bullet] Using shooter_position, distance=354,58755
[21:43:19] [INFO] [Bullet] Distance to wall: 354,58755 (24,14452% of viewport)
[21:43:19] [INFO] [Bullet] Within ricochet range - trying ricochet first
[21:43:19] [INFO] [LastChance] Threat detected: @Area2D@4917
[21:43:19] [INFO] [LastChance] Not in hard mode - effect disabled
[21:43:19] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:43:19] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1795), can_see=false
[21:43:19] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1977), can_see=false
[21:43:19] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1519), can_see=false
[21:43:19] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1792), can_see=false
[21:43:19] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2005), can_see=false
[21:43:19] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1107), can_see=false
[21:43:19] [INFO] [Player] Hit blocked by invincibility mode (C#)
[21:43:19] [INFO] [Player] Spawning blood effect at (124.116066, 1208.7681), dir=(1, 0), lethal=False (C#)
[21:43:19] [INFO] [ImpactEffects] spawn_blood_effect called at (124.1161, 1208.768), dir=(1, 0), lethal=false
[21:43:19] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:43:19] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:43:19] [INFO] [ImpactEffects] Blood effect spawned at (124.1161, 1208.768) (scale=1)
[21:43:19] [ENEMY] [Enemy1] Player empty ammo - priority attack triggered
[21:43:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(446.4122, 1056.308), source=ENEMY (Enemy1), range=1469, listeners=7
[21:43:19] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=3
[21:43:19] [INFO] [LastChance] Threat detected: Bullet
[21:43:19] [INFO] [LastChance] Not in hard mode - effect disabled
[21:43:19] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:43:19] [ENEMY] [Enemy1] Player empty ammo - priority attack triggered
[21:43:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(461.5266, 1034.989), source=ENEMY (Enemy1), range=1469, listeners=7
[21:43:19] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=3
[21:43:19] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(124,1208), corner_timer=-0.02
[21:43:19] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[21:43:19] [INFO] [Player] Hit blocked by invincibility mode (C#)
[21:43:19] [INFO] [Player] Spawning blood effect at (124.116066, 1208.7681), dir=(1, 0), lethal=False (C#)
[21:43:19] [INFO] [ImpactEffects] spawn_blood_effect called at (124.1161, 1208.768), dir=(1, 0), lethal=false
[21:43:19] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[21:43:19] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[21:43:19] [INFO] [ImpactEffects] Blood effect spawned at (124.1161, 1208.768) (scale=1)
[21:43:19] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(124,1208), corner_timer=0.30
[21:43:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(370.69916, 1158.9521), shooter_id=2967520413204, bullet_pos=(886.8754, 1577.396)
[21:43:19] [INFO] [Bullet] Using shooter_position, distance=664,4796
[21:43:19] [INFO] [Bullet] Distance to wall: 664,4796 (45,24564% of viewport)
[21:43:19] [INFO] [LastChance] Threat detected: @Area2D@4942
[21:43:19] [INFO] [LastChance] Not in hard mode - effect disabled
[21:43:19] [INFO] [LastChance] Cannot trigger effect - conditions not met
[21:43:19] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=402), can_see=true
[21:43:19] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) - pursuing to attack (dist=402)
[21:43:19] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:43:19] [INFO] [BloodDecal] Blood puddle created at (222.1086, 1239.811) (added to group)
[21:43:19] [INFO] [BloodDecal] Blood puddle created at (171.8405, 1230.038) (added to group)
[21:43:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(405.00064, 1072.8754), shooter_id=2967520413204, bullet_pos=(38.708218, 1271.4728)
[21:43:19] [INFO] [Bullet] Using shooter_position, distance=416,66663
[21:43:19] [INFO] [Bullet] Distance to wall: 416,66663 (28,371597% of viewport)
[21:43:19] [INFO] [Bullet] Within ricochet range - trying ricochet first
[21:43:19] [INFO] [Bullet] Starting wall penetration at (38.708218, 1271.4728)
[21:43:19] [INFO] [Bullet] Raycast backward hit penetrating body at distance 39,035904
[21:43:19] [INFO] [Bullet] Body exited signal received for penetrating body
[21:43:19] [INFO] [Bullet] Exiting penetration at (-2.316536, 1293.7157) after traveling 41,666668 pixels through wall
[21:43:19] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[21:43:19] [INFO] [BloodDecal] Blood puddle created at (268.256, 1186.632) (added to group)
[21:43:19] [INFO] [BloodDecal] Blood puddle created at (178.2383, 1235.905) (added to group)
[21:43:19] [INFO] [BloodDecal] Blood puddle created at (170.7696, 1208.717) (added to group)
[21:43:19] [INFO] [BloodDecal] Blood puddle created at (176.5633, 1209.928) (added to group)
[21:43:19] [INFO] [BloodDecal] Blood puddle created at (206.9599, 1233.68) (added to group)
[21:43:19] [INFO] [BloodDecal] Blood puddle created at (225.8235, 1276.786) (added to group)
[21:43:19] [INFO] [BloodDecal] Blood puddle created at (282.7328, 1264.08) (added to group)
[21:43:19] [INFO] [BloodDecal] Blood puddle created at (302.6494, 1292.448) (added to group)
[21:43:19] [INFO] [BloodDecal] Blood puddle created at (220.3763, 1315.493) (added to group)
[21:43:19] [INFO] [BloodDecal] Blood puddle created at (194.9277, 1233.142) (added to group)
[21:43:20] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(124,1208), corner_timer=-0.02
[21:43:20] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[21:43:20] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(124,1208), corner_timer=0.30
[21:43:20] [INFO] [BloodDecal] Blood puddle created at (228.0364, 1287.308) (added to group)
[21:43:20] [INFO] [BloodDecal] Blood puddle created at (293.0759, 1272.255) (added to group)
[21:43:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(370.69916, 1158.9521), shooter_id=2967520413204, bullet_pos=(519.76556, 1819.9546)
[21:43:20] [INFO] [Bullet] Using shooter_position, distance=677,6024
[21:43:20] [INFO] [Bullet] Distance to wall: 677,6024 (46,139194% of viewport)
[21:43:20] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1795), can_see=false
[21:43:20] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1977), can_see=false
[21:43:20] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1519), can_see=false
[21:43:20] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1792), can_see=false
[21:43:20] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2005), can_see=false
[21:43:20] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1107), can_see=false
[21:43:20] [INFO] [BloodDecal] Blood puddle created at (225.2365, 1277.663) (added to group)
[21:43:20] [INFO] [BloodDecal] Blood puddle created at (251.7796, 1295.688) (added to group)
[21:43:20] [INFO] [BloodDecal] Blood puddle created at (272.4185, 1241.681) (added to group)
[21:43:20] [INFO] [BloodDecal] Blood puddle created at (335.1866, 1291.947) (added to group)
[21:43:20] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:43:20] [INFO] [BloodDecal] Blood puddle created at (248.5437, 1345.848) (added to group)
[21:43:20] [INFO] [BloodDecal] Blood puddle created at (201.4705, 1264.152) (added to group)
[21:43:20] [INFO] [BloodDecal] Blood puddle created at (260.4074, 1210.484) (added to group)
[21:43:20] [INFO] [BloodDecal] Blood puddle created at (230.7841, 1300.777) (added to group)
[21:43:20] [INFO] [BloodDecal] Blood puddle created at (230.6777, 1319.353) (added to group)
[21:43:20] [INFO] [BloodDecal] Blood puddle created at (337.9769, 1277.929) (added to group)
[21:43:20] [INFO] [BloodDecal] Blood puddle created at (218.6918, 1339.739) (added to group)
[21:43:20] [INFO] [BloodDecal] Blood puddle created at (282.4634, 1267.432) (added to group)
[21:43:20] [INFO] [BloodDecal] Blood puddle created at (219.9932, 1315.621) (added to group)
[21:43:20] [INFO] [BloodDecal] Blood puddle created at (311.195, 1265.932) (added to group)
[21:43:20] [INFO] [BloodDecal] Blood puddle created at (321.2762, 1318.768) (added to group)
[21:43:20] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=456), can_see=true
[21:43:20] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(124,1208), corner_timer=-0.02
[21:43:20] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[21:43:20] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(124,1208), corner_timer=0.30
[21:43:20] [INFO] [BloodDecal] Blood puddle created at (255.5412, 1323.697) (added to group)
[21:43:20] [INFO] [ReplayManager] Recording frame 960 (15,4s): player_valid=True, enemies=10
[21:43:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(370.69916, 1158.9521), shooter_id=2967520413204, bullet_pos=(919.48413, 2061.81)
[21:43:20] [INFO] [Bullet] Using shooter_position, distance=1056,5592
[21:43:20] [INFO] [Bullet] Distance to wall: 1056,5592 (71,94306% of viewport)
[21:43:20] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[21:43:20] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1795), can_see=false
[21:43:20] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1977), can_see=false
[21:43:20] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1519), can_see=false
[21:43:20] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1792), can_see=false
[21:43:20] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2005), can_see=false
[21:43:20] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1107), can_see=false
[21:43:20] [INFO] ------------------------------------------------------------
[21:43:20] [INFO] GAME LOG ENDED: 2026-02-07T21:43:20
[21:43:20] [INFO] ============================================================
