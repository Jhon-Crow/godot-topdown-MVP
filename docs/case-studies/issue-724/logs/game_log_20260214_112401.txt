[11:24:01] [INFO] ============================================================
[11:24:01] [INFO] GAME LOG STARTED
[11:24:01] [INFO] ============================================================
[11:24:01] [INFO] Timestamp: 2026-02-14T11:24:01
[11:24:01] [INFO] Log file: I:/Загрузки/godot exe/оптимизация снарядов/game_log_20260214_112401.txt
[11:24:01] [INFO] Executable: I:/Загрузки/godot exe/оптимизация снарядов/Godot-Top-Down-Template.exe
[11:24:01] [INFO] OS: Windows
[11:24:01] [INFO] Debug build: false
[11:24:01] [INFO] Engine version: 4.3-stable (official)
[11:24:01] [INFO] Project: Godot Top-Down Template
[11:24:01] [INFO] ------------------------------------------------------------
[11:24:01] [INFO] [GameManager] GameManager ready
[11:24:01] [INFO] [ScoreManager] ScoreManager ready
[11:24:01] [INFO] [SoundPropagation] SoundPropagation autoload initialized
[11:24:01] [INFO] [ImpactEffects] Scenes loaded: DustEffect, BloodEffect, SparksEffect, BloodDecal
[11:24:01] [INFO] [ImpactEffects] ImpactEffectsManager ready - FULL VERSION with blood effects enabled
[11:24:01] [INFO] [ImpactEffects] Starting particle shader warmup (Issue #343 fix)...
[11:24:01] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[11:24:01] [INFO] [PenultimateHit] Saturation shader loaded successfully
[11:24:01] [INFO] [PenultimateHit] Starting shader warmup (Issue #343 fix)...
[11:24:01] [INFO] [PenultimateHit] PenultimateHitEffectsManager ready - Configuration:
[11:24:01] [INFO] [PenultimateHit]   Time scale: 0.10 (10x slowdown)
[11:24:01] [INFO] [PenultimateHit]   Saturation boost: 2.0 (3.0x)
[11:24:01] [INFO] [PenultimateHit]   Contrast boost: 1.0 (2.0x)
[11:24:01] [INFO] [PenultimateHit]   Effect duration: 3.0 real seconds
[11:24:01] [INFO] [LastChance] Resetting all effects (scene change detected)
[11:24:01] [INFO] [LastChance] Last chance shader loaded successfully
[11:24:01] [INFO] [LastChance] Starting shader warmup (Issue #343 fix)...
[11:24:01] [INFO] [LastChance] LastChanceEffectsManager ready - Configuration:
[11:24:01] [INFO] [LastChance]   Freeze duration: 6.0 real seconds
[11:24:01] [INFO] [LastChance]   Sepia intensity: 0.70
[11:24:01] [INFO] [LastChance]   Brightness: 0.60
[11:24:01] [INFO] [GrenadeManager] Loaded grenade scene: res://scenes/projectiles/FlashbangGrenade.tscn
[11:24:01] [INFO] [GrenadeManager] Loaded grenade scene: res://scenes/projectiles/FragGrenade.tscn
[11:24:01] [INFO] [GrenadeManager] Loaded grenade scene: res://scenes/projectiles/DefensiveGrenade.tscn
[11:24:01] [INFO] [GrenadeManager] Loaded grenade scene: res://scenes/projectiles/AggressionGasGrenade.tscn
[11:24:01] [INFO] [ExperimentalSettings] ExperimentalSettings initialized - FOV: true, Complex grenades: false, AI prediction: true, Debug: false, Invincibility: true, Realistic visibility: false
[11:24:01] [INFO] [CinemaEffects] CinemaEffectsManager initializing (v5.3 - overlay approach with simplified death circle)...
[11:24:01] [INFO] [CinemaEffects] Scene changed to: LabyrinthLevel
[11:24:01] [INFO] [CinemaEffects] Created effects layer at layer 99
[11:24:01] [INFO] [CinemaEffects] Cinema shader loaded successfully (v5.0 - no screen_texture)
[11:24:01] [INFO] [CinemaEffects] Starting cinema shader warmup (Issue #343 fix)...
[11:24:01] [INFO] [CinemaEffects] Cinema film effect initialized (v5.3) - Configuration:
[11:24:01] [INFO] [CinemaEffects]   Approach: Overlay-based (no screen_texture)
[11:24:01] [INFO] [CinemaEffects]   Grain intensity: 0.15
[11:24:01] [INFO] [CinemaEffects]   Warm tint: 0.12 intensity
[11:24:01] [INFO] [CinemaEffects]   Sunny effect: 0.08 intensity
[11:24:01] [INFO] [CinemaEffects]   Vignette: 0.25 intensity
[11:24:01] [INFO] [CinemaEffects]   Film defects: 1.5% probability
[11:24:01] [INFO] [CinemaEffects]   White specks: 0.70 intensity, 4.0% probability
[11:24:01] [INFO] [CinemaEffects]   Death effects: cigarette burn + expanding spots + end of reel circle (160px, blinks 2x)
[11:24:01] [INFO] [CinemaEffects] Enabling effect after 1 frame(s)...
[11:24:01] [INFO] [GrenadeTimerHelper] Autoload ready
[11:24:01] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[11:24:01] [INFO] [PowerFantasy] Saturation shader loaded successfully
[11:24:01] [INFO] [PowerFantasy] PowerFantasyEffectsManager ready - Configuration:
[11:24:01] [INFO] [PowerFantasy]   Kill effect duration: 300ms
[11:24:01] [INFO] [PowerFantasy]   Grenade effect duration: 2000ms (2.0s)
[11:24:01] [INFO] [ProgressManager] ProgressManager ready, loaded 14 entries
[11:24:01] [INFO] [ReplayManager] ReplayManager ready (C# version loaded and _Ready called)
[11:24:01] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[11:24:01] [INFO] [FlashbangPlayer] Flashbang player shader loaded successfully
[11:24:01] [INFO] [FlashbangPlayer] Starting shader warmup (Issue #343 fix)...
[11:24:01] [INFO] [FlashbangPlayer] FlashbangPlayerEffectsManager ready
[11:24:01] [INFO] [FlashbangPlayer]   Duration range: 1.0-5.0 seconds
[11:24:01] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:24:01] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[11:24:01] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[11:24:01] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[11:24:01] [ENEMY] [Enemy1] Death animation component initialized
[11:24:01] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:24:01] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[11:24:01] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[11:24:01] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[11:24:01] [ENEMY] [Enemy2] Death animation component initialized
[11:24:01] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:24:01] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[11:24:01] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[11:24:01] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[11:24:01] [INFO] [EnemyGrenade] Initialized: 1 grenades
[11:24:01] [ENEMY] [Enemy3] Death animation component initialized
[11:24:01] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:24:01] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[11:24:01] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[11:24:01] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[11:24:01] [ENEMY] [Enemy4] Death animation component initialized
[11:24:01] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:24:01] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[11:24:01] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[11:24:01] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[11:24:01] [ENEMY] [Enemy5] Death animation component initialized
[11:24:01] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:24:01] [INFO] [BloodyFeet:Player] Footprint scene loaded
[11:24:01] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[11:24:01] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[11:24:01] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[11:24:01] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[11:24:01] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[11:24:01] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[11:24:01] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[11:24:01] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[11:24:01] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[11:24:01] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[11:24:01] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[11:24:01] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[11:24:01] [INFO] [Player.Homing] No homing bullets selected in ActiveItemManager
[11:24:01] [INFO] [Player.InvisibilitySuit] No invisibility suit selected in ActiveItemManager
[11:24:01] [INFO] [Player.BreakerBullets] Breaker bullets not selected in ActiveItemManager
[11:24:01] [INFO] [Player] Ready! Ammo: 9/9, Grenades: 1/3, Health: 2/4
[11:24:01] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[11:24:01] [INFO] [BloodDecal] Blood puddle created at (640, 360) (added to group)
[11:24:01] [INFO] [LabyrinthLevel] Found Environment/Enemies node with 5 children
[11:24:01] [INFO] [LabyrinthLevel] Child 'Enemy1': script=true, has_died_signal=true
[11:24:01] [INFO] [LabyrinthLevel] Child 'Enemy2': script=true, has_died_signal=true
[11:24:01] [INFO] [LabyrinthLevel] Child 'Enemy3': script=true, has_died_signal=true
[11:24:01] [INFO] [LabyrinthLevel] Child 'Enemy4': script=true, has_died_signal=true
[11:24:01] [INFO] [LabyrinthLevel] Child 'Enemy5': script=true, has_died_signal=true
[11:24:01] [INFO] [LabyrinthLevel] Enemy tracking complete: 5 enemies registered
[11:24:01] [INFO] [LabyrinthLevel] Setting up weapon: makarov_pm
[11:24:01] [INFO] [ScoreManager] Level started with 5 enemies
[11:24:01] [INFO] [LabyrinthLevel] ReplayManager found as C# autoload - verified OK
[11:24:01] [INFO] [LabyrinthLevel] Starting replay recording - Player: Player, Enemies count: 5
[11:24:01] [INFO] [ReplayManager] Replay data cleared
[11:24:01] [INFO] [LabyrinthLevel] Previous replay data cleared
[11:24:01] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[11:24:01] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[11:24:01] [INFO] [ReplayManager] Level: LabyrinthLevel
[11:24:01] [INFO] [ReplayManager] Player: Player (valid: True)
[11:24:01] [INFO] [ReplayManager] Enemies count: 5
[11:24:01] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[11:24:01] [INFO] [ReplayManager]   Enemy 0: Enemy1
[11:24:01] [INFO] [ReplayManager]   Enemy 1: Enemy2
[11:24:01] [INFO] [ReplayManager]   Enemy 2: Enemy3
[11:24:01] [INFO] [ReplayManager]   Enemy 3: Enemy4
[11:24:01] [INFO] [ReplayManager]   Enemy 4: Enemy5
[11:24:01] [INFO] [LabyrinthLevel] Replay recording started successfully
[11:24:01] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=5
[11:24:02] [INFO] [CinemaEffects] Found player node: Player
[11:24:02] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[11:24:02] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[11:24:02] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 1)
[11:24:02] [ENEMY] [Enemy1] Registered as sound listener
[11:24:02] [ENEMY] [Enemy1] Spawned at (400, 300), hp: 2, behavior: GUARD
[11:24:02] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[11:24:02] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 2)
[11:24:02] [ENEMY] [Enemy2] Registered as sound listener
[11:24:02] [ENEMY] [Enemy2] Spawned at (900, 950), hp: 1, behavior: GUARD
[11:24:02] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[11:24:02] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 3)
[11:24:02] [ENEMY] [Enemy3] Registered as sound listener
[11:24:02] [ENEMY] [Enemy3] Spawned at (1200, 1000), hp: 2, behavior: PATROL
[11:24:02] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[11:24:02] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 4)
[11:24:02] [ENEMY] [Enemy4] Registered as sound listener
[11:24:02] [ENEMY] [Enemy4] Spawned at (1650, 650), hp: 2, behavior: GUARD
[11:24:02] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[11:24:02] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 5)
[11:24:02] [ENEMY] [Enemy5] Registered as sound listener
[11:24:02] [ENEMY] [Enemy5] Spawned at (1500, 300), hp: 4, behavior: GUARD
[11:24:02] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[11:24:02] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(150,1000), corner_timer=0.00
[11:24:02] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=45.0°, current=0.0°, player=(150,1000), corner_timer=0.00
[11:24:02] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(150,1000), corner_timer=0.00
[11:24:02] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=33.8°, current=0.0°, player=(150,1000), corner_timer=0.00
[11:24:02] [INFO] [Player] Detecting weapon pose (frame 3)...
[11:24:02] [INFO] [Player] Detected weapon: Makarov PM (Pistol pose)
[11:24:02] [INFO] [Player] Applied Pistol arm pose: Left=(16, 6), Right=(4, 6)
[11:24:02] [INFO] [PenultimateHit] Shader warmup complete in 518 ms
[11:24:02] [INFO] [LastChance] Shader warmup complete in 517 ms
[11:24:02] [INFO] [CinemaEffects] Cinema shader warmup complete in 441 ms
[11:24:02] [INFO] [FlashbangPlayer] Shader warmup complete in 431 ms
[11:24:02] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[11:24:02] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[11:24:02] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[11:24:02] [INFO] [LastChance] Found player: Player
[11:24:02] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[11:24:02] [INFO] [LastChance] Connected to player Damaged signal (C#)
[11:24:02] [INFO] [LastChance] Connected to player Died signal (C#)
[11:24:02] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[11:24:02] [INFO] [ImpactEffects] Particle shader warmup complete: 7 effects warmed up in 806 ms
[11:24:03] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=5
[11:24:03] [ENEMY] [Enemy3] PATROL corner check: angle -90.0°
[11:24:03] [ENEMY] [Enemy3] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-90.0°, current=0.0°, player=(150,1000), corner_timer=0.30
[11:24:04] [ENEMY] [Enemy3] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=0.0°, current=-54.4°, player=(150,1000), corner_timer=-0.02
[11:24:04] [ENEMY] [Enemy3] PATROL corner check: angle -90.0°
[11:24:04] [ENEMY] [Enemy3] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=-51.6°, player=(150,1000), corner_timer=0.30
[11:24:04] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=5
[11:24:05] [INFO] [PauseMenu] Armory button pressed
[11:24:05] [INFO] [PauseMenu] Creating new armory menu instance
[11:24:05] [INFO] [PauseMenu] armory_menu_scene resource path: res://scenes/ui/ArmoryMenu.tscn
[11:24:05] [INFO] [PauseMenu] Instance created, class: CanvasLayer, name: ArmoryMenu
[11:24:05] [INFO] [PauseMenu] Script attached: res://scripts/ui/armory_menu.gd
[11:24:05] [INFO] [PauseMenu] back_pressed signal exists on instance
[11:24:05] [INFO] [PauseMenu] back_pressed signal connected
[11:24:05] [INFO] [PauseMenu] Armory menu instance added as child, is_inside_tree: true
[11:24:05] [INFO] [PauseMenu] _populate_weapon_grid method exists
[11:24:05] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=5
[11:24:06] [INFO] [ReplayManager] Recording frame 240 (4,0s): player_valid=True, enemies=5
[11:24:07] [INFO] [ReplayManager] Recording frame 300 (5,0s): player_valid=True, enemies=5
[11:24:08] [INFO] [ReplayManager] Recording frame 360 (6,0s): player_valid=True, enemies=5
[11:24:08] [INFO] [GameManager] Weapon selected: shotgun
[11:24:08] [INFO] [ActiveItemManager] Active item changed from None to Breaker Bullets
[11:24:08] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[11:24:08] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:24:08] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[11:24:08] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[11:24:08] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[11:24:08] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[11:24:08] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[11:24:08] [INFO] [LastChance] Resetting all effects (scene change detected)
[11:24:08] [INFO] [CinemaEffects] Scene changed to: LabyrinthLevel
[11:24:08] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[11:24:08] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[11:24:08] [ENEMY] [Enemy1] Death animation component initialized
[11:24:08] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:24:08] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[11:24:08] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[11:24:08] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[11:24:08] [ENEMY] [Enemy2] Death animation component initialized
[11:24:08] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:24:08] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[11:24:08] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[11:24:08] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[11:24:08] [ENEMY] [Enemy3] Death animation component initialized
[11:24:08] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:24:08] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[11:24:08] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[11:24:08] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[11:24:08] [ENEMY] [Enemy4] Death animation component initialized
[11:24:08] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:24:08] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[11:24:08] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[11:24:08] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[11:24:08] [ENEMY] [Enemy5] Death animation component initialized
[11:24:08] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:24:08] [INFO] [BloodyFeet:Player] Footprint scene loaded
[11:24:08] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[11:24:08] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[11:24:08] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[11:24:08] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[11:24:08] [INFO] [Player.Weapon] GameManager weapon selection: shotgun (Shotgun)
[11:24:08] [INFO] [Player.Weapon] Removed default MakarovPM
[11:24:08] [INFO] [Player.Weapon] Equipped Shotgun (ammo: 0/8)
[11:24:08] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[11:24:08] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[11:24:08] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[11:24:08] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[11:24:08] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[11:24:08] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[11:24:08] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[11:24:08] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[11:24:08] [INFO] [Player.Homing] No homing bullets selected in ActiveItemManager
[11:24:08] [INFO] [Player.InvisibilitySuit] No invisibility suit selected in ActiveItemManager
[11:24:08] [INFO] [Player.BreakerBullets] Breaker bullets active — bullets will detonate 60px before walls
[11:24:08] [INFO] [Player.BreakerBullets] Set IsBreakerBulletActive on weapon: Shotgun
[11:24:08] [INFO] [Player] Ready! Ammo: 0/8, Grenades: 1/3, Health: 2/4
[11:24:08] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[11:24:08] [INFO] [LabyrinthLevel] Found Environment/Enemies node with 5 children
[11:24:08] [INFO] [LabyrinthLevel] Child 'Enemy1': script=true, has_died_signal=true
[11:24:08] [INFO] [LabyrinthLevel] Child 'Enemy2': script=true, has_died_signal=true
[11:24:08] [INFO] [LabyrinthLevel] Child 'Enemy3': script=true, has_died_signal=true
[11:24:08] [INFO] [LabyrinthLevel] Child 'Enemy4': script=true, has_died_signal=true
[11:24:08] [INFO] [LabyrinthLevel] Child 'Enemy5': script=true, has_died_signal=true
[11:24:08] [INFO] [LabyrinthLevel] Enemy tracking complete: 5 enemies registered
[11:24:08] [INFO] [LabyrinthLevel] Setting up weapon: shotgun
[11:24:08] [INFO] [LabyrinthLevel] Shotgun already equipped by C# Player - skipping GDScript weapon swap
[11:24:08] [INFO] [ScoreManager] Level started with 5 enemies
[11:24:08] [INFO] [LabyrinthLevel] ReplayManager found as C# autoload - verified OK
[11:24:08] [INFO] [LabyrinthLevel] Starting replay recording - Player: Player, Enemies count: 5
[11:24:08] [INFO] [ReplayManager] Replay data cleared
[11:24:08] [INFO] [LabyrinthLevel] Previous replay data cleared
[11:24:08] [INFO] [ReplayManager] Detected player weapon: Shotgun
[11:24:08] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[11:24:08] [INFO] [ReplayManager] Level: LabyrinthLevel
[11:24:08] [INFO] [ReplayManager] Player: Player (valid: True)
[11:24:08] [INFO] [ReplayManager] Enemies count: 5
[11:24:08] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/shotgun_topdown.png
[11:24:08] [INFO] [ReplayManager]   Enemy 0: Enemy1
[11:24:08] [INFO] [ReplayManager]   Enemy 1: Enemy2
[11:24:08] [INFO] [ReplayManager]   Enemy 2: Enemy3
[11:24:08] [INFO] [ReplayManager]   Enemy 3: Enemy4
[11:24:08] [INFO] [ReplayManager]   Enemy 4: Enemy5
[11:24:08] [INFO] [LabyrinthLevel] Replay recording started successfully
[11:24:08] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[11:24:08] [INFO] [CinemaEffects] Found player node: Player
[11:24:08] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[11:24:08] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 6)
[11:24:08] [ENEMY] [Enemy1] Registered as sound listener
[11:24:08] [ENEMY] [Enemy1] Spawned at (400, 300), hp: 2, behavior: GUARD
[11:24:08] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[11:24:08] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 7)
[11:24:08] [ENEMY] [Enemy2] Registered as sound listener
[11:24:08] [ENEMY] [Enemy2] Spawned at (900, 950), hp: 1, behavior: GUARD
[11:24:08] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[11:24:08] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 8)
[11:24:08] [ENEMY] [Enemy3] Registered as sound listener
[11:24:08] [ENEMY] [Enemy3] Spawned at (1200, 1000), hp: 2, behavior: PATROL
[11:24:08] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[11:24:08] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 9)
[11:24:08] [ENEMY] [Enemy4] Registered as sound listener
[11:24:08] [ENEMY] [Enemy4] Spawned at (1650, 650), hp: 2, behavior: GUARD
[11:24:08] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[11:24:08] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 10)
[11:24:08] [ENEMY] [Enemy5] Registered as sound listener
[11:24:08] [ENEMY] [Enemy5] Spawned at (1500, 300), hp: 2, behavior: GUARD
[11:24:08] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[11:24:08] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=5
[11:24:08] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(150,1000), corner_timer=0.00
[11:24:08] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(150,1000), corner_timer=0.00
[11:24:08] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(150,1000), corner_timer=0.00
[11:24:08] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(150,1000), corner_timer=0.00
[11:24:08] [INFO] [Player] Detecting weapon pose (frame 3)...
[11:24:08] [INFO] [Player] Detected weapon: Shotgun (Shotgun pose)
[11:24:08] [INFO] [Player] Applied Shotgun arm pose: Left=(21, 6), Right=(-1, 6)
[11:24:08] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[11:24:08] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[11:24:08] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[11:24:08] [INFO] [LastChance] Found player: Player
[11:24:08] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[11:24:08] [INFO] [LastChance] Connected to player Damaged signal (C#)
[11:24:08] [INFO] [LastChance] Connected to player Died signal (C#)
[11:24:08] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[11:24:09] [ENEMY] [Enemy1] Player ammo empty: false -> true
[11:24:09] [ENEMY] [Enemy2] Player ammo empty: false -> true
[11:24:09] [ENEMY] [Enemy3] Player ammo empty: false -> true
[11:24:09] [ENEMY] [Enemy4] Player ammo empty: false -> true
[11:24:09] [ENEMY] [Enemy5] Player ammo empty: false -> true
[11:24:09] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(150, 1000), source=PLAYER (Player), range=600, listeners=10
[11:24:09] [INFO] [SoundPropagation] Cleaned up 5 invalid listeners
[11:24:09] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[11:24:09] [INFO] [Shotgun.FIX#212] Firing 14 pellets with 15° spread at pos=(150, 1000)
[11:24:09] [INFO] [Shotgun.FIX#212] Normal pellet 1/14: extraOffset=5,2, distance=57,2px, pos=(207.11394, 1002.07556)
[11:24:09] [INFO] [Shotgun.FIX#212] Normal pellet 2/14: extraOffset=10,3, distance=62,3px, pos=(212.21933, 1002.5182)
[11:24:09] [INFO] [Shotgun.FIX#212] Normal pellet 3/14: extraOffset=12,5, distance=64,5px, pos=(214.36884, 1004.4916)
[11:24:09] [INFO] [Shotgun.FIX#212] Normal pellet 4/14: extraOffset=5,0, distance=57,0px, pos=(206.82213, 1004.95465)
[11:24:09] [INFO] [Shotgun.FIX#212] Normal pellet 5/14: extraOffset=-0,9, distance=51,1px, pos=(200.77432, 1005.75934)
[11:24:09] [INFO] [Shotgun.FIX#212] Normal pellet 6/14: extraOffset=-14,3, distance=37,7px, pos=(187.32358, 1005.4774)
[11:24:09] [INFO] [Shotgun.FIX#212] Normal pellet 7/14: extraOffset=4,7, distance=56,7px, pos=(205.92447, 1009.1712)
[11:24:09] [INFO] [Shotgun.FIX#212] Normal pellet 8/14: extraOffset=1,5, distance=53,5px, pos=(202.65588, 1009.63806)
[11:24:09] [INFO] [Shotgun.FIX#212] Normal pellet 9/14: extraOffset=-12,4, distance=39,6px, pos=(188.69855, 1008.2933)
[11:24:09] [INFO] [Shotgun.FIX#212] Normal pellet 10/14: extraOffset=6,8, distance=58,8px, pos=(207.69606, 1011.3387)
[11:24:09] [INFO] [Shotgun.FIX#212] Normal pellet 11/14: extraOffset=12,2, distance=64,2px, pos=(212.1236, 1016.24097)
[11:24:09] [INFO] [Shotgun.FIX#212] Normal pellet 12/14: extraOffset=-13,8, distance=38,2px, pos=(186.75839, 1010.4711)
[11:24:09] [INFO] [Shotgun.FIX#212] Normal pellet 13/14: extraOffset=5,4, distance=57,4px, pos=(205.37167, 1015.214)
[11:24:09] [INFO] [Shotgun.FIX#212] Normal pellet 14/14: extraOffset=4,5, distance=56,5px, pos=(204.03876, 1016.6632)
[11:24:09] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 1000), source=PLAYER (Shotgun), range=1469, listeners=5
[11:24:09] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=3
[11:24:09] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=743), can_see=false
[11:24:09] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=752), can_see=false
[11:24:09] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1050), can_see=false
[11:24:09] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1540), can_see=false
[11:24:09] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1521), can_see=false
[11:24:09] [INFO] [ImpactEffects] Spawning explosion visual effect at (290.3923, 1005.102) (radius=15) - using shadow-based wall occlusion
[11:24:09] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(290.3923, 1005.102), source=PLAYER (ShotgunPellet), range=500, listeners=5
[11:24:09] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[11:24:09] [INFO] [ImpactEffects] Spawning explosion visual effect at (295.4845, 1005.888) (radius=15) - using shadow-based wall occlusion
[11:24:09] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(295.4845, 1005.888), source=PLAYER (@Area2D@410), range=500, listeners=5
[11:24:09] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[11:24:09] [INFO] [ImpactEffects] Spawning explosion visual effect at (297.5, 1010.292) (radius=15) - using shadow-based wall occlusion
[11:24:09] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(297.5, 1010.292), source=PLAYER (@Area2D@411), range=500, listeners=5
[11:24:09] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[11:24:09] [INFO] [ImpactEffects] Spawning explosion visual effect at (289.8405, 1012.194) (radius=15) - using shadow-based wall occlusion
[11:24:09] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(289.8405, 1012.194), source=PLAYER (@Area2D@412), range=500, listeners=5
[11:24:09] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[11:24:09] [INFO] [ImpactEffects] Spawning explosion visual effect at (283.5767, 1015.152) (radius=15) - using shadow-based wall occlusion
[11:24:09] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(283.5767, 1015.152), source=PLAYER (@Area2D@413), range=500, listeners=5
[11:24:09] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[11:24:09] [INFO] [ImpactEffects] Spawning explosion visual effect at (288.1594, 1022.657) (radius=15) - using shadow-based wall occlusion
[11:24:09] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(288.1594, 1022.657), source=PLAYER (@Area2D@415), range=500, listeners=5
[11:24:09] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[11:24:09] [INFO] [ImpactEffects] Spawning explosion visual effect at (284.6274, 1024.642) (radius=15) - using shadow-based wall occlusion
[11:24:09] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(284.6274, 1024.642), source=PLAYER (@Area2D@416), range=500, listeners=5
[11:24:09] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[11:24:09] [INFO] [ImpactEffects] Spawning explosion visual effect at (289.4653, 1027.408) (radius=15) - using shadow-based wall occlusion
[11:24:09] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(289.4653, 1027.408), source=PLAYER (@Area2D@418), range=500, listeners=5
[11:24:09] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[11:24:09] [INFO] [ImpactEffects] Spawning explosion visual effect at (292.7473, 1037.318) (radius=15) - using shadow-based wall occlusion
[11:24:09] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(292.7473, 1037.318), source=PLAYER (@Area2D@419), range=500, listeners=5
[11:24:09] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[11:24:09] [INFO] [ImpactEffects] Spawning explosion visual effect at (285.7271, 1037.293) (radius=15) - using shadow-based wall occlusion
[11:24:09] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(285.7271, 1037.293), source=PLAYER (@Area2D@421), range=500, listeners=5
[11:24:09] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[11:24:09] [INFO] [ImpactEffects] Spawning explosion visual effect at (283.6721, 1041.219) (radius=15) - using shadow-based wall occlusion
[11:24:09] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(283.6721, 1041.219), source=PLAYER (@Area2D@422), range=500, listeners=5
[11:24:09] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[11:24:09] [INFO] [ImpactEffects] Spawning explosion visual effect at (310.9989, 1023.627) (radius=15) - using shadow-based wall occlusion
[11:24:09] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(310.9989, 1023.627), source=PLAYER (@Area2D@414), range=500, listeners=5
[11:24:09] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[11:24:09] [INFO] [ImpactEffects] Spawning explosion visual effect at (310.9234, 1034.487) (radius=15) - using shadow-based wall occlusion
[11:24:09] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(310.9234, 1034.487), source=PLAYER (@Area2D@417), range=500, listeners=5
[11:24:09] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[11:24:09] [INFO] [ImpactEffects] Spawning explosion visual effect at (306.9759, 1044.717) (radius=15) - using shadow-based wall occlusion
[11:24:09] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(306.9759, 1044.717), source=PLAYER (@Area2D@420), range=500, listeners=5
[11:24:09] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[11:24:10] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=5
[11:24:10] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=743), can_see=false
[11:24:10] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=752), can_see=false
[11:24:10] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1050), can_see=false
[11:24:10] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1540), can_see=false
[11:24:10] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1521), can_see=false
[11:24:10] [ENEMY] [Enemy3] PATROL corner check: angle -90.0°
[11:24:10] [ENEMY] [Enemy3] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-90.0°, current=0.0°, player=(150,1000), corner_timer=0.30
[11:24:10] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[11:24:10] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:24:10] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[11:24:10] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[11:24:10] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[11:24:10] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[11:24:10] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[11:24:10] [INFO] [LastChance] Resetting all effects (scene change detected)
[11:24:10] [INFO] [CinemaEffects] Scene changed to: LabyrinthLevel
[11:24:10] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[11:24:10] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[11:24:10] [ENEMY] [Enemy1] Death animation component initialized
[11:24:10] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:24:10] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[11:24:10] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[11:24:10] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[11:24:10] [ENEMY] [Enemy2] Death animation component initialized
[11:24:10] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:24:10] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[11:24:10] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[11:24:10] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[11:24:10] [ENEMY] [Enemy3] Death animation component initialized
[11:24:10] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:24:10] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[11:24:10] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[11:24:10] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[11:24:10] [ENEMY] [Enemy4] Death animation component initialized
[11:24:10] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:24:10] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[11:24:10] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[11:24:10] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[11:24:10] [ENEMY] [Enemy5] Death animation component initialized
[11:24:10] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:24:10] [INFO] [BloodyFeet:Player] Footprint scene loaded
[11:24:10] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[11:24:10] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[11:24:10] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[11:24:10] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[11:24:10] [INFO] [Player.Weapon] GameManager weapon selection: shotgun (Shotgun)
[11:24:10] [INFO] [Player.Weapon] Removed default MakarovPM
[11:24:10] [INFO] [Player.Weapon] Equipped Shotgun (ammo: 0/8)
[11:24:10] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[11:24:10] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[11:24:10] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[11:24:10] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[11:24:10] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[11:24:10] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[11:24:10] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[11:24:10] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[11:24:10] [INFO] [Player.Homing] No homing bullets selected in ActiveItemManager
[11:24:10] [INFO] [Player.InvisibilitySuit] No invisibility suit selected in ActiveItemManager
[11:24:10] [INFO] [Player.BreakerBullets] Breaker bullets active — bullets will detonate 60px before walls
[11:24:10] [INFO] [Player.BreakerBullets] Set IsBreakerBulletActive on weapon: Shotgun
[11:24:10] [INFO] [Player] Ready! Ammo: 0/8, Grenades: 1/3, Health: 4/4
[11:24:10] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[11:24:10] [INFO] [LabyrinthLevel] Found Environment/Enemies node with 5 children
[11:24:10] [INFO] [LabyrinthLevel] Child 'Enemy1': script=true, has_died_signal=true
[11:24:10] [INFO] [LabyrinthLevel] Child 'Enemy2': script=true, has_died_signal=true
[11:24:10] [INFO] [LabyrinthLevel] Child 'Enemy3': script=true, has_died_signal=true
[11:24:10] [INFO] [LabyrinthLevel] Child 'Enemy4': script=true, has_died_signal=true
[11:24:10] [INFO] [LabyrinthLevel] Child 'Enemy5': script=true, has_died_signal=true
[11:24:10] [INFO] [LabyrinthLevel] Enemy tracking complete: 5 enemies registered
[11:24:10] [INFO] [LabyrinthLevel] Setting up weapon: shotgun
[11:24:10] [INFO] [LabyrinthLevel] Shotgun already equipped by C# Player - skipping GDScript weapon swap
[11:24:10] [INFO] [ScoreManager] Level started with 5 enemies
[11:24:10] [INFO] [LabyrinthLevel] ReplayManager found as C# autoload - verified OK
[11:24:10] [INFO] [LabyrinthLevel] Starting replay recording - Player: Player, Enemies count: 5
[11:24:10] [INFO] [ReplayManager] Replay data cleared
[11:24:10] [INFO] [LabyrinthLevel] Previous replay data cleared
[11:24:10] [INFO] [ReplayManager] Detected player weapon: Shotgun
[11:24:10] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[11:24:10] [INFO] [ReplayManager] Level: LabyrinthLevel
[11:24:10] [INFO] [ReplayManager] Player: Player (valid: True)
[11:24:10] [INFO] [ReplayManager] Enemies count: 5
[11:24:10] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/shotgun_topdown.png
[11:24:10] [INFO] [ReplayManager]   Enemy 0: Enemy1
[11:24:10] [INFO] [ReplayManager]   Enemy 1: Enemy2
[11:24:10] [INFO] [ReplayManager]   Enemy 2: Enemy3
[11:24:10] [INFO] [ReplayManager]   Enemy 3: Enemy4
[11:24:10] [INFO] [ReplayManager]   Enemy 4: Enemy5
[11:24:10] [INFO] [LabyrinthLevel] Replay recording started successfully
[11:24:10] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[11:24:10] [INFO] [CinemaEffects] Found player node: Player
[11:24:10] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[11:24:10] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 6)
[11:24:10] [ENEMY] [Enemy1] Registered as sound listener
[11:24:10] [ENEMY] [Enemy1] Spawned at (400, 300), hp: 2, behavior: GUARD
[11:24:10] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[11:24:10] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 7)
[11:24:10] [ENEMY] [Enemy2] Registered as sound listener
[11:24:10] [ENEMY] [Enemy2] Spawned at (900, 950), hp: 1, behavior: GUARD
[11:24:10] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[11:24:10] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 8)
[11:24:10] [ENEMY] [Enemy3] Registered as sound listener
[11:24:10] [ENEMY] [Enemy3] Spawned at (1200, 1000), hp: 2, behavior: PATROL
[11:24:10] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[11:24:10] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 9)
[11:24:10] [ENEMY] [Enemy4] Registered as sound listener
[11:24:10] [ENEMY] [Enemy4] Spawned at (1650, 650), hp: 2, behavior: GUARD
[11:24:10] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[11:24:10] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 10)
[11:24:10] [ENEMY] [Enemy5] Registered as sound listener
[11:24:10] [ENEMY] [Enemy5] Spawned at (1500, 300), hp: 2, behavior: GUARD
[11:24:10] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[11:24:11] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=5
[11:24:11] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(150,1000), corner_timer=0.00
[11:24:11] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(150,1000), corner_timer=0.00
[11:24:11] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(150,1000), corner_timer=0.00
[11:24:11] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=33.8°, current=0.0°, player=(150,1000), corner_timer=0.00
[11:24:11] [INFO] [Player] Detecting weapon pose (frame 3)...
[11:24:11] [INFO] [Player] Detected weapon: Shotgun (Shotgun pose)
[11:24:11] [INFO] [Player] Applied Shotgun arm pose: Left=(21, 6), Right=(-1, 6)
[11:24:11] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[11:24:11] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[11:24:11] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[11:24:11] [INFO] [LastChance] Found player: Player
[11:24:11] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[11:24:11] [INFO] [LastChance] Connected to player Damaged signal (C#)
[11:24:11] [INFO] [LastChance] Connected to player Died signal (C#)
[11:24:11] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[11:24:11] [ENEMY] [Enemy1] Player ammo empty: false -> true
[11:24:11] [ENEMY] [Enemy2] Player ammo empty: false -> true
[11:24:11] [ENEMY] [Enemy3] Player ammo empty: false -> true
[11:24:11] [ENEMY] [Enemy4] Player ammo empty: false -> true
[11:24:11] [ENEMY] [Enemy5] Player ammo empty: false -> true
[11:24:11] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(151.8477, 1083.068), source=PLAYER (Player), range=600, listeners=10
[11:24:11] [INFO] [SoundPropagation] Cleaned up 5 invalid listeners
[11:24:11] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[11:24:11] [INFO] [Shotgun.FIX#212] Firing 14 pellets with 15° spread at pos=(151.84775, 1083.068)
[11:24:11] [INFO] [Shotgun.FIX#212] Normal pellet 1/14: extraOffset=-13,0, distance=39,0px, pos=(189.71812, 1073.7726)
[11:24:11] [INFO] [Shotgun.FIX#212] Normal pellet 2/14: extraOffset=6,3, distance=58,3px, pos=(208.679, 1070.1783)
[11:24:11] [INFO] [Shotgun.FIX#212] Normal pellet 3/14: extraOffset=1,7, distance=53,7px, pos=(204.45209, 1072.1964)
[11:24:11] [INFO] [Shotgun.FIX#212] Normal pellet 4/14: extraOffset=-13,2, distance=38,8px, pos=(189.95782, 1075.8119)
[11:24:11] [INFO] [Shotgun.FIX#212] Normal pellet 5/14: extraOffset=-1,8, distance=50,2px, pos=(201.33484, 1074.427)
[11:24:11] [INFO] [Shotgun.FIX#212] Normal pellet 6/14: extraOffset=5,7, distance=57,7px, pos=(208.59726, 1072.8235)
[11:24:11] [INFO] [Shotgun.FIX#212] Normal pellet 7/14: extraOffset=14,6, distance=66,6px, pos=(217.85312, 1074.2054)
[11:24:11] [INFO] [Shotgun.FIX#212] Normal pellet 8/14: extraOffset=14,8, distance=66,8px, pos=(218.27145, 1075.8143)
[11:24:11] [INFO] [Shotgun.FIX#212] Normal pellet 9/14: extraOffset=-2,0, distance=50,0px, pos=(201.50879, 1076.9668)
[11:24:11] [INFO] [Shotgun.FIX#212] Normal pellet 10/14: extraOffset=-2,5, distance=49,5px, pos=(201.16061, 1078.283)
[11:24:11] [INFO] [Shotgun.FIX#212] Normal pellet 11/14: extraOffset=9,9, distance=61,9px, pos=(213.62573, 1078.4739)
[11:24:11] [INFO] [Shotgun.FIX#212] Normal pellet 12/14: extraOffset=-7,2, distance=44,8px, pos=(196.51959, 1080.2545)
[11:24:11] [INFO] [Shotgun.FIX#212] Normal pellet 13/14: extraOffset=13,1, distance=65,1px, pos=(216.90881, 1082.0764)
[11:24:11] [INFO] [Shotgun.FIX#212] Normal pellet 14/14: extraOffset=9,8, distance=61,8px, pos=(213.65709, 1081.4504)
[11:24:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(151.8477, 1083.068), source=PLAYER (Shotgun), range=1469, listeners=5
[11:24:11] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=3
[11:24:11] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=821), can_see=false
[11:24:11] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=760), can_see=false
[11:24:11] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1051), can_see=false
[11:24:11] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1559), can_see=false
[11:24:11] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1559), can_see=false
[11:24:11] [INFO] [ImpactEffects] Spawning explosion visual effect at (289.9483, 1051.746) (radius=15) - using shadow-based wall occlusion
[11:24:11] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(289.9483, 1051.746), source=PLAYER (@Area2D@895), range=500, listeners=5
[11:24:11] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[11:24:11] [INFO] [ImpactEffects] Spawning explosion visual effect at (286.0609, 1055.331) (radius=15) - using shadow-based wall occlusion
[11:24:11] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(286.0609, 1055.331), source=PLAYER (@Area2D@896), range=500, listeners=5
[11:24:11] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[11:24:11] [INFO] [ImpactEffects] Spawning explosion visual effect at (283.4261, 1060.093) (radius=15) - using shadow-based wall occlusion
[11:24:11] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(283.4261, 1060.093), source=PLAYER (@Area2D@898), range=500, listeners=5
[11:24:11] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[11:24:11] [INFO] [ImpactEffects] Spawning explosion visual effect at (290.6051, 1058.019) (radius=15) - using shadow-based wall occlusion
[11:24:11] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(290.6051, 1058.019), source=PLAYER (@Area2D@899), range=500, listeners=5
[11:24:11] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[11:24:11] [INFO] [ImpactEffects] Spawning explosion visual effect at (300.4453, 1063.116) (radius=15) - using shadow-based wall occlusion
[11:24:11] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(300.4453, 1063.116), source=PLAYER (@Area2D@900), range=500, listeners=5
[11:24:11] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[11:24:11] [INFO] [ImpactEffects] Spawning explosion visual effect at (284.2202, 1066.805) (radius=15) - using shadow-based wall occlusion
[11:24:11] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(284.2202, 1066.805), source=PLAYER (@Area2D@902), range=500, listeners=5
[11:24:11] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[11:24:11] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=169.2°, current=-149.0°, player=(154,1092), corner_timer=0.00
[11:24:11] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) - pursuing to attack (dist=759)
[11:24:11] [ENEMY] [Enemy2] State: IDLE -> PURSUING
[11:24:11] [INFO] [ImpactEffects] Spawning explosion visual effect at (311.1147, 1043.975) (radius=15) - using shadow-based wall occlusion
[11:24:11] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(311.1147, 1043.975), source=PLAYER (ShotgunPellet), range=500, listeners=5
[11:24:11] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[11:24:11] [INFO] [ImpactEffects] Spawning explosion visual effect at (312.7519, 1052.432) (radius=15) - using shadow-based wall occlusion
[11:24:11] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(312.7519, 1052.432), source=PLAYER (@Area2D@897), range=500, listeners=5
[11:24:11] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[11:24:11] [ENEMY] [Enemy2] PURSUING corner check: angle 28.0°
[11:24:11] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=PURSUING, target=168.8°, current=-36.7°, player=(156,1100), corner_timer=0.30
[11:24:11] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=5
[11:24:11] [ENEMY] [Enemy3] Memory: high confidence (0.89) - transitioning to PURSUING
[11:24:11] [ENEMY] [Enemy3] State: IDLE -> PURSUING
[11:24:11] [ENEMY] [Enemy3] ROT_CHANGE: none -> P2:combat_state, state=PURSUING, target=173.8°, current=0.0°, player=(161,1111), corner_timer=0.00
[11:24:12] [ENEMY] [Enemy3] PURSUING corner check: angle -64.3°
[11:24:12] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=173.7°, current=-148.6°, player=(161,1111), corner_timer=0.30
[11:24:12] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) - pursuing to attack (dist=1040)
[11:24:12] [INFO] [ImpactEffects] Spawning explosion visual effect at (1113.542, 989.7507) (radius=15) - using shadow-based wall occlusion
[11:24:12] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1113.542, 989.7507), source=PLAYER (@Area2D@903), range=500, listeners=5
[11:24:12] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=0
[11:24:12] [ENEMY] [Enemy3] Hit: dmg=1, hp=2/2->1/2
[11:24:12] [INFO] [ImpactEffects] spawn_blood_effect called at (1147.144, 974.5424), dir=(0.971015, 0.239018), lethal=false
[11:24:12] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[11:24:12] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[11:24:12] [INFO] [ImpactEffects] Blood effect spawned at (1147.144, 974.5424) (scale=1)
[11:24:12] [ENEMY] [Enemy3] Hit: dmg=1, hp=1/2->0/2
[11:24:12] [INFO] [ImpactEffects] spawn_blood_effect called at (1147.144, 974.5424), dir=(0.99566, -0.093063), lethal=true
[11:24:12] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[11:24:12] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[11:24:12] [INFO] [ImpactEffects] Blood effect spawned at (1147.144, 974.5424) (scale=1.5)
[11:24:12] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[11:24:12] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[11:24:12] [ENEMY] [Enemy3] [AllyDeath] Notified 1 enemies
[11:24:12] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 4)
[11:24:12] [INFO] [DeathAnim] Started - Angle: -5.3 deg, Index: 11
[11:24:12] [ENEMY] [Enemy3] Death animation started with hit direction: (0.99566, -0.093063)
[11:24:12] [ENEMY] [Enemy2] PURSUING corner check: angle 40.2°
[11:24:12] [ENEMY] [Enemy2] State: PURSUING -> RETREATING
[11:24:12] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=40.2°, current=35.6°, player=(161,1111), corner_timer=0.27
[11:24:12] [INFO] [ImpactEffects] Spawning explosion visual effect at (1383.44, 1064.296) (radius=15) - using shadow-based wall occlusion
[11:24:12] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1383.44, 1064.296), source=PLAYER (@Area2D@906), range=500, listeners=4
[11:24:12] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=0
[11:24:12] [INFO] [ImpactEffects] Spawning explosion visual effect at (1379.925, 1050.931) (radius=15) - using shadow-based wall occlusion
[11:24:12] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1379.925, 1050.931), source=PLAYER (@Area2D@907), range=500, listeners=4
[11:24:12] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=0
[11:24:12] [INFO] [ImpactEffects] Spawning explosion visual effect at (1418.631, 988.8641) (radius=15) - using shadow-based wall occlusion
[11:24:12] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1418.631, 988.8641), source=PLAYER (@Area2D@904), range=500, listeners=4
[11:24:12] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=0
[11:24:12] [INFO] [ImpactEffects] Spawning explosion visual effect at (1402.463, 1004.302) (radius=15) - using shadow-based wall occlusion
[11:24:12] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1402.463, 1004.302), source=PLAYER (@Area2D@905), range=500, listeners=4
[11:24:12] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=0
[11:24:12] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=846), can_see=false
[11:24:12] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=654), can_see=false
[11:24:12] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1558), can_see=false
[11:24:12] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1565), can_see=false
[11:24:12] [INFO] [BloodDecal] Blood puddle created at (1213.542, 987.8362) (added to group)
[11:24:12] [INFO] [BloodDecal] Blood puddle created at (1216.74, 1008.864) (added to group)
[11:24:12] [INFO] [BloodDecal] Blood puddle created at (1229.173, 1011.574) (added to group)
[11:24:12] [INFO] [BloodDecal] Blood puddle created at (1215.031, 969.7331) (added to group)
[11:24:12] [INFO] [BloodDecal] Blood puddle created at (1239.045, 980.9411) (added to group)
[11:24:12] [INFO] [BloodDecal] Blood puddle created at (1188.275, 985.2877) (added to group)
[11:24:12] [INFO] [BloodDecal] Blood puddle created at (1198.031, 1006.76) (added to group)
[11:24:12] [INFO] [BloodDecal] Blood puddle created at (1205.903, 992.5333) (added to group)
[11:24:12] [INFO] [BloodDecal] Blood puddle created at (1238.518, 986.1026) (added to group)
[11:24:12] [INFO] [BloodDecal] Blood puddle created at (1268.765, 1031.777) (added to group)
[11:24:12] [INFO] [BloodDecal] Blood puddle created at (1258.95, 992.4504) (added to group)
[11:24:12] [INFO] [BloodDecal] Blood puddle created at (1208.539, 1067.067) (added to group)
[11:24:12] [INFO] [BloodDecal] Blood puddle created at (1283.478, 988.4863) (added to group)
[11:24:12] [INFO] [BloodDecal] Blood puddle created at (1215.337, 1039.064) (added to group)
[11:24:12] [INFO] [BloodDecal] Blood puddle created at (1256.292, 1059.072) (added to group)
[11:24:12] [INFO] [BloodDecal] Blood puddle created at (1288.983, 1008.763) (added to group)
[11:24:12] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[11:24:12] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:24:12] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[11:24:12] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[11:24:12] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[11:24:12] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[11:24:12] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[11:24:12] [INFO] [LastChance] Resetting all effects (scene change detected)
[11:24:12] [INFO] [CinemaEffects] Scene changed to: LabyrinthLevel
[11:24:12] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[11:24:12] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[11:24:12] [ENEMY] [Enemy1] Death animation component initialized
[11:24:12] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:24:12] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[11:24:12] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[11:24:12] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[11:24:12] [ENEMY] [Enemy2] Death animation component initialized
[11:24:12] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:24:12] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[11:24:12] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[11:24:12] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[11:24:12] [ENEMY] [Enemy3] Death animation component initialized
[11:24:12] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:24:12] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[11:24:12] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[11:24:12] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[11:24:12] [ENEMY] [Enemy4] Death animation component initialized
[11:24:12] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:24:12] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[11:24:12] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[11:24:12] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[11:24:12] [INFO] [EnemyGrenade] Initialized: 1 grenades
[11:24:12] [ENEMY] [Enemy5] Death animation component initialized
[11:24:12] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:24:12] [INFO] [BloodyFeet:Player] Footprint scene loaded
[11:24:12] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[11:24:12] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[11:24:12] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[11:24:12] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[11:24:12] [INFO] [Player.Weapon] GameManager weapon selection: shotgun (Shotgun)
[11:24:12] [INFO] [Player.Weapon] Removed default MakarovPM
[11:24:12] [INFO] [Player.Weapon] Equipped Shotgun (ammo: 0/8)
[11:24:12] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[11:24:12] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[11:24:12] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[11:24:12] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[11:24:12] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[11:24:12] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[11:24:12] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[11:24:12] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[11:24:12] [INFO] [Player.Homing] No homing bullets selected in ActiveItemManager
[11:24:12] [INFO] [Player.InvisibilitySuit] No invisibility suit selected in ActiveItemManager
[11:24:12] [INFO] [Player.BreakerBullets] Breaker bullets active — bullets will detonate 60px before walls
[11:24:12] [INFO] [Player.BreakerBullets] Set IsBreakerBulletActive on weapon: Shotgun
[11:24:12] [INFO] [Player] Ready! Ammo: 0/8, Grenades: 1/3, Health: 4/4
[11:24:12] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[11:24:12] [INFO] [LabyrinthLevel] Found Environment/Enemies node with 5 children
[11:24:12] [INFO] [LabyrinthLevel] Child 'Enemy1': script=true, has_died_signal=true
[11:24:12] [INFO] [LabyrinthLevel] Child 'Enemy2': script=true, has_died_signal=true
[11:24:12] [INFO] [LabyrinthLevel] Child 'Enemy3': script=true, has_died_signal=true
[11:24:12] [INFO] [LabyrinthLevel] Child 'Enemy4': script=true, has_died_signal=true
[11:24:12] [INFO] [LabyrinthLevel] Child 'Enemy5': script=true, has_died_signal=true
[11:24:12] [INFO] [LabyrinthLevel] Enemy tracking complete: 5 enemies registered
[11:24:12] [INFO] [LabyrinthLevel] Setting up weapon: shotgun
[11:24:12] [INFO] [LabyrinthLevel] Shotgun already equipped by C# Player - skipping GDScript weapon swap
[11:24:12] [INFO] [ScoreManager] Level started with 5 enemies
[11:24:12] [INFO] [LabyrinthLevel] ReplayManager found as C# autoload - verified OK
[11:24:12] [INFO] [LabyrinthLevel] Starting replay recording - Player: Player, Enemies count: 5
[11:24:12] [INFO] [ReplayManager] Replay data cleared
[11:24:12] [INFO] [LabyrinthLevel] Previous replay data cleared
[11:24:12] [INFO] [ReplayManager] Detected player weapon: Shotgun
[11:24:12] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[11:24:12] [INFO] [ReplayManager] Level: LabyrinthLevel
[11:24:12] [INFO] [ReplayManager] Player: Player (valid: True)
[11:24:12] [INFO] [ReplayManager] Enemies count: 5
[11:24:12] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/shotgun_topdown.png
[11:24:12] [INFO] [ReplayManager]   Enemy 0: Enemy1
[11:24:12] [INFO] [ReplayManager]   Enemy 1: Enemy2
[11:24:12] [INFO] [ReplayManager]   Enemy 2: Enemy3
[11:24:12] [INFO] [ReplayManager]   Enemy 3: Enemy4
[11:24:12] [INFO] [ReplayManager]   Enemy 4: Enemy5
[11:24:12] [INFO] [LabyrinthLevel] Replay recording started successfully
[11:24:12] [INFO] [BloodDecal] Blood puddle created at (1278.684, 1008.546) (added to group)
[11:24:12] [INFO] [BloodDecal] Blood puddle created at (1329.559, 1034.486) (added to group)
[11:24:12] [INFO] [BloodDecal] Blood puddle created at (1270.183, 1026.389) (added to group)
[11:24:12] [INFO] [BloodDecal] Blood puddle created at (1267.322, 1044.43) (added to group)
[11:24:12] [INFO] [BloodDecal] Blood puddle created at (1301.863, 997.5916) (added to group)
[11:24:12] [INFO] [BloodDecal] Blood puddle created at (1242.218, 1067.499) (added to group)
[11:24:12] [INFO] [BloodDecal] Blood puddle created at (1274.525, 1038.57) (added to group)
[11:24:12] [INFO] [BloodDecal] Blood puddle created at (1225.899, 1068.53) (added to group)
[11:24:12] [INFO] [BloodDecal] Blood puddle created at (1308.158, 994.5848) (added to group)
[11:24:12] [INFO] [BloodDecal] Blood puddle created at (1318.889, 1071.602) (added to group)
[11:24:12] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[11:24:12] [INFO] [CinemaEffects] Found player node: Player
[11:24:12] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[11:24:12] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 5)
[11:24:12] [ENEMY] [Enemy1] Registered as sound listener
[11:24:12] [ENEMY] [Enemy1] Spawned at (400, 300), hp: 1, behavior: GUARD
[11:24:12] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[11:24:12] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 6)
[11:24:12] [ENEMY] [Enemy2] Registered as sound listener
[11:24:12] [ENEMY] [Enemy2] Spawned at (900, 950), hp: 1, behavior: GUARD
[11:24:12] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[11:24:12] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 7)
[11:24:12] [ENEMY] [Enemy3] Registered as sound listener
[11:24:12] [ENEMY] [Enemy3] Spawned at (1200, 1000), hp: 1, behavior: PATROL
[11:24:12] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[11:24:12] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 8)
[11:24:12] [ENEMY] [Enemy4] Registered as sound listener
[11:24:12] [ENEMY] [Enemy4] Spawned at (1650, 650), hp: 1, behavior: GUARD
[11:24:12] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[11:24:12] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 9)
[11:24:12] [ENEMY] [Enemy5] Registered as sound listener
[11:24:12] [ENEMY] [Enemy5] Spawned at (1500, 300), hp: 3, behavior: GUARD
[11:24:12] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[11:24:12] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=5
[11:24:12] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(150,1000), corner_timer=0.00
[11:24:12] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=337.5°, current=0.0°, player=(150,1000), corner_timer=0.00
[11:24:12] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=315.0°, current=0.0°, player=(150,1000), corner_timer=0.00
[11:24:12] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=236.3°, current=0.0°, player=(150,1000), corner_timer=0.00
[11:24:12] [INFO] [Player] Detecting weapon pose (frame 3)...
[11:24:12] [INFO] [Player] Detected weapon: Shotgun (Shotgun pose)
[11:24:12] [INFO] [Player] Applied Shotgun arm pose: Left=(21, 6), Right=(-1, 6)
[11:24:12] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[11:24:12] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[11:24:12] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[11:24:12] [INFO] [LastChance] Found player: Player
[11:24:12] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[11:24:12] [INFO] [LastChance] Connected to player Damaged signal (C#)
[11:24:12] [INFO] [LastChance] Connected to player Died signal (C#)
[11:24:12] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[11:24:12] [INFO] [BloodDecal] Blood puddle created at (1294.858, 1077.618) (added to group)
[11:24:12] [INFO] [BloodDecal] Blood puddle created at (1316.321, 1028.325) (added to group)
[11:24:13] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=5
[11:24:13] [ENEMY] [Enemy1] Player ammo empty: false -> true
[11:24:13] [ENEMY] [Enemy2] Player ammo empty: false -> true
[11:24:13] [ENEMY] [Enemy3] Player ammo empty: false -> true
[11:24:13] [ENEMY] [Enemy4] Player ammo empty: false -> true
[11:24:13] [ENEMY] [Enemy5] Player ammo empty: false -> true
[11:24:13] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(166.8058, 1111.932), source=PLAYER (Player), range=600, listeners=9
[11:24:13] [INFO] [SoundPropagation] Cleaned up 4 invalid listeners
[11:24:13] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[11:24:13] [INFO] [Shotgun.FIX#212] Firing 13 pellets with 15° spread at pos=(166.80576, 1111.9319)
[11:24:13] [INFO] [Shotgun.FIX#212] Normal pellet 1/13: extraOffset=13,1, distance=65,1px, pos=(227.9755, 1089.7726)
[11:24:13] [INFO] [Shotgun.FIX#212] Normal pellet 2/13: extraOffset=-6,4, distance=45,6px, pos=(209.62982, 1096.3489)
[11:24:13] [INFO] [Shotgun.FIX#212] Normal pellet 3/13: extraOffset=-13,4, distance=38,6px, pos=(203.65862, 1100.3241)
[11:24:13] [INFO] [Shotgun.FIX#212] Normal pellet 4/13: extraOffset=11,7, distance=63,7px, pos=(227.5646, 1092.6532)
[11:24:13] [INFO] [Shotgun.FIX#212] Normal pellet 5/13: extraOffset=-5,5, distance=46,5px, pos=(211.56767, 1099.4685)
[11:24:13] [INFO] [Shotgun.FIX#212] Normal pellet 6/13: extraOffset=-4,5, distance=47,5px, pos=(212.7982, 1100.2444)
[11:24:13] [INFO] [Shotgun.FIX#212] Normal pellet 7/13: extraOffset=4,6, distance=56,6px, pos=(222.04126, 1099.7194)
[11:24:13] [INFO] [Shotgun.FIX#212] Normal pellet 8/13: extraOffset=3,3, distance=55,3px, pos=(221.0899, 1101.2397)
[11:24:13] [INFO] [Shotgun.FIX#212] Normal pellet 9/13: extraOffset=-6,0, distance=46,0px, pos=(211.89487, 1102.6859)
[11:24:13] [INFO] [Shotgun.FIX#212] Normal pellet 10/13: extraOffset=4,2, distance=56,2px, pos=(222.15988, 1102.2534)
[11:24:13] [INFO] [Shotgun.FIX#212] Normal pellet 11/13: extraOffset=-1,0, distance=51,0px, pos=(217.40088, 1105.5411)
[11:24:13] [INFO] [Shotgun.FIX#212] Normal pellet 12/13: extraOffset=-10,8, distance=41,2px, pos=(207.57428, 1105.9757)
[11:24:13] [INFO] [Shotgun.FIX#212] Normal pellet 13/13: extraOffset=-11,7, distance=40,3px, pos=(206.80019, 1107.3645)
[11:24:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(166.8058, 1111.932), source=PLAYER (Shotgun), range=1469, listeners=5
[11:24:13] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=3
[11:24:13] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=845), can_see=false
[11:24:13] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=751), can_see=false
[11:24:13] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1039), can_see=false
[11:24:13] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1553), can_see=false
[11:24:13] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1561), can_see=false
[11:24:13] [INFO] [ImpactEffects] Spawning explosion visual effect at (306.3263, 1061.389) (radius=15) - using shadow-based wall occlusion
[11:24:13] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(306.3263, 1061.389), source=PLAYER (ShotgunPellet), range=500, listeners=5
[11:24:13] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[11:24:13] [INFO] [ImpactEffects] Spawning explosion visual effect at (287.9397, 1067.853) (radius=15) - using shadow-based wall occlusion
[11:24:13] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(287.9397, 1067.853), source=PLAYER (@Area2D@1354), range=500, listeners=5
[11:24:13] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[11:24:13] [INFO] [ImpactEffects] Spawning explosion visual effect at (283.1424, 1075.288) (radius=15) - using shadow-based wall occlusion
[11:24:13] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(283.1424, 1075.288), source=PLAYER (@Area2D@1355), range=500, listeners=5
[11:24:13] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[11:24:13] [INFO] [ImpactEffects] Spawning explosion visual effect at (306.9953, 1067.45) (radius=15) - using shadow-based wall occlusion
[11:24:13] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(306.9953, 1067.45), source=PLAYER (@Area2D@1356), range=500, listeners=5
[11:24:13] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[11:24:13] [INFO] [ImpactEffects] Spawning explosion visual effect at (331.987, 1065.939) (radius=15) - using shadow-based wall occlusion
[11:24:13] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(331.987, 1065.939), source=PLAYER (@Area2D@1357), range=500, listeners=5
[11:24:13] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[11:24:14] [INFO] [ImpactEffects] Spawning explosion visual effect at (832.3032, 964.7908) (radius=15) - using shadow-based wall occlusion
[11:24:14] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(832.3032, 964.7908), source=PLAYER (@Area2D@1359), range=500, listeners=5
[11:24:14] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=0
[11:24:14] [INFO] [ImpactEffects] Spawning explosion visual effect at (834.308, 980.4561) (radius=15) - using shadow-based wall occlusion
[11:24:14] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(834.308, 980.4561), source=PLAYER (@Area2D@1360), range=500, listeners=5
[11:24:14] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=0
[11:24:14] [INFO] [ImpactEffects] Spawning explosion visual effect at (824.1549, 977.1364) (radius=15) - using shadow-based wall occlusion
[11:24:14] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(824.1549, 977.1364), source=PLAYER (@Area2D@1361), range=500, listeners=5
[11:24:14] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=0
[11:24:14] [INFO] [ImpactEffects] Spawning explosion visual effect at (858.9291, 936.051) (radius=15) - using shadow-based wall occlusion
[11:24:14] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(858.9291, 936.051), source=PLAYER (@Area2D@1358), range=500, listeners=5
[11:24:14] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=0
[11:24:14] [ENEMY] [Enemy2] Hit: dmg=1, hp=1/1->0/1
[11:24:14] [INFO] [ImpactEffects] spawn_blood_effect called at (900, 950), dir=(0.998469, 0.055322), lethal=true
[11:24:14] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[11:24:14] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[11:24:14] [INFO] [ImpactEffects] Blood effect spawned at (900, 950) (scale=1.5)
[11:24:14] [ENEMY] [Enemy2] Enemy died (ricochet: false, penetration: false)
[11:24:14] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[11:24:14] [ENEMY] [Enemy2] [AllyDeath] Notified 1 enemies
[11:24:14] [INFO] [SoundPropagation] Unregistered listener: Enemy2 (remaining: 4)
[11:24:14] [INFO] [DeathAnim] Started - Angle: 3.2 deg, Index: 12
[11:24:14] [ENEMY] [Enemy2] Death animation started with hit direction: (0.998469, 0.055322)
[11:24:14] [INFO] [ImpactEffects] Spawning explosion visual effect at (1126.841, 990.6691) (radius=15) - using shadow-based wall occlusion
[11:24:14] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1126.841, 990.6691), source=PLAYER (@Area2D@1363), range=500, listeners=4
[11:24:14] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=0
[11:24:14] [INFO] [ImpactEffects] Spawning explosion visual effect at (1117.547, 1003.356) (radius=15) - using shadow-based wall occlusion
[11:24:14] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1117.547, 1003.356), source=PLAYER (@Area2D@1365), range=500, listeners=4
[11:24:14] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=0
[11:24:14] [ENEMY] [Enemy3] Hit: dmg=1, hp=1/1->0/1
[11:24:14] [INFO] [ImpactEffects] spawn_blood_effect called at (1200, 1000), dir=(0.935446, 0.35347), lethal=true
[11:24:14] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[11:24:14] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[11:24:14] [INFO] [ImpactEffects] Blood effect spawned at (1200, 1000) (scale=1.5)
[11:24:14] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[11:24:14] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[11:24:14] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 3)
[11:24:14] [INFO] [DeathAnim] Started - Angle: 20.7 deg, Index: 13
[11:24:14] [ENEMY] [Enemy3] Death animation started with hit direction: (0.935446, 0.35347)
[11:24:14] [INFO] [ImpactEffects] Spawning explosion visual effect at (1412.435, 894.1381) (radius=15) - using shadow-based wall occlusion
[11:24:14] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1412.435, 894.1381), source=PLAYER (@Area2D@1362), range=500, listeners=3
[11:24:14] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[11:24:14] [INFO] [ImpactEffects] Spawning explosion visual effect at (1403.215, 931.296) (radius=15) - using shadow-based wall occlusion
[11:24:14] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1403.215, 931.296), source=PLAYER (@Area2D@1364), range=500, listeners=3
[11:24:14] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[11:24:14] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=839), can_see=false
[11:24:14] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1533), can_see=false
[11:24:14] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1543), can_see=false
[11:24:14] [INFO] [BloodDecal] Blood puddle created at (966.8582, 944.4167) (added to group)
[11:24:14] [INFO] [BloodDecal] Blood puddle created at (978.4672, 957.4916) (added to group)
[11:24:14] [INFO] [BloodDecal] Blood puddle created at (968.0218, 950.6823) (added to group)
[11:24:14] [INFO] [BloodDecal] Blood puddle created at (988.9454, 980.9359) (added to group)
[11:24:14] [INFO] [BloodDecal] Blood puddle created at (984.1576, 959.8481) (added to group)
[11:24:14] [INFO] [BloodDecal] Blood puddle created at (995.7296, 1019.841) (added to group)
[11:24:14] [INFO] [BloodDecal] Blood puddle created at (965.7888, 970.3171) (added to group)
[11:24:14] [INFO] [BloodDecal] Blood puddle created at (978.0681, 965.6036) (added to group)
[11:24:14] [INFO] [BloodDecal] Blood puddle created at (1000.284, 974.0711) (added to group)
[11:24:14] [INFO] [BloodDecal] Blood puddle created at (964.4382, 996.826) (added to group)
[11:24:14] [INFO] [BloodDecal] Blood puddle created at (948.8583, 996.3007) (added to group)
[11:24:14] [INFO] [BloodDecal] Blood puddle created at (976.2902, 948.7805) (added to group)
[11:24:14] [INFO] [BloodDecal] Blood puddle created at (1289.044, 1061.093) (added to group)
[11:24:14] [INFO] [BloodDecal] Blood puddle created at (1266.035, 1027.927) (added to group)
[11:24:14] [INFO] [BloodDecal] Blood puddle created at (1262.576, 1029.232) (added to group)
[11:24:14] [INFO] [BloodDecal] Blood puddle created at (1245.803, 1027.633) (added to group)
[11:24:14] [INFO] [BloodDecal] Blood puddle created at (1251.376, 1070.729) (added to group)
[11:24:14] [INFO] [BloodDecal] Blood puddle created at (1258.749, 1023.104) (added to group)
[11:24:14] [INFO] [BloodDecal] Blood puddle created at (1268.861, 1020.507) (added to group)
[11:24:14] [INFO] [BloodDecal] Blood puddle created at (1297.089, 1085.539) (added to group)
[11:24:14] [INFO] [BloodDecal] Blood puddle created at (1253.133, 1032.058) (added to group)
[11:24:14] [INFO] [BloodDecal] Blood puddle created at (1302.655, 1049.056) (added to group)
[11:24:14] [ENEMY] [Enemy2] Ragdoll activated
[11:24:14] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[11:24:14] [ENEMY] [Enemy3] Ragdoll activated
[11:24:14] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[11:24:14] [INFO] [BloodDecal] Blood puddle created at (1030.819, 1045.913) (added to group)
[11:24:14] [INFO] [BloodDecal] Blood puddle created at (1067.095, 1075.15) (added to group)
[11:24:14] [INFO] [BloodDecal] Blood puddle created at (1021.228, 1080.371) (added to group)
[11:24:14] [INFO] [BloodDecal] Blood puddle created at (1015.385, 1029.626) (added to group)
[11:24:14] [INFO] [BloodDecal] Blood puddle created at (1030.977, 1036.961) (added to group)
[11:24:14] [INFO] [BloodDecal] Blood puddle created at (1017.06, 1092.405) (added to group)
[11:24:14] [INFO] [BloodDecal] Blood puddle created at (1302.371, 1064.363) (added to group)
[11:24:14] [INFO] [BloodDecal] Blood puddle created at (1263.405, 1097.848) (added to group)
[11:24:14] [INFO] [BloodDecal] Blood puddle created at (1091.42, 1079.505) (added to group)
[11:24:14] [INFO] [BloodDecal] Blood puddle created at (1068.204, 1009.04) (added to group)
[11:24:14] [INFO] [BloodDecal] Blood puddle created at (1357.612, 1108.612) (added to group)
[11:24:14] [INFO] [BloodDecal] Blood puddle created at (1301.646, 1110.292) (added to group)
[11:24:14] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=5
[11:24:14] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=839), can_see=false
[11:24:14] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1533), can_see=false
[11:24:14] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1543), can_see=false
[11:24:14] [INFO] [BloodDecal] Blood puddle created at (1317.854, 1078.184) (added to group)
[11:24:14] [INFO] [BloodDecal] Blood puddle created at (1333.783, 1111.32) (added to group)
[11:24:15] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=806), can_see=false
[11:24:15] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1523), can_see=false
[11:24:15] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1525), can_see=false
[11:24:15] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[11:24:15] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:24:15] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[11:24:15] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[11:24:15] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[11:24:15] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[11:24:15] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[11:24:15] [INFO] [LastChance] Resetting all effects (scene change detected)
[11:24:15] [INFO] [CinemaEffects] Scene changed to: LabyrinthLevel
[11:24:15] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[11:24:15] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[11:24:15] [ENEMY] [Enemy1] Death animation component initialized
[11:24:15] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:24:15] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[11:24:15] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[11:24:15] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[11:24:15] [ENEMY] [Enemy2] Death animation component initialized
[11:24:15] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:24:15] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[11:24:15] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[11:24:15] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[11:24:15] [ENEMY] [Enemy3] Death animation component initialized
[11:24:15] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:24:15] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[11:24:15] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[11:24:15] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[11:24:15] [ENEMY] [Enemy4] Death animation component initialized
[11:24:15] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:24:15] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[11:24:15] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[11:24:15] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[11:24:15] [ENEMY] [Enemy5] Death animation component initialized
[11:24:15] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:24:15] [INFO] [BloodyFeet:Player] Footprint scene loaded
[11:24:15] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[11:24:15] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[11:24:15] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[11:24:15] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[11:24:15] [INFO] [Player.Weapon] GameManager weapon selection: shotgun (Shotgun)
[11:24:15] [INFO] [Player.Weapon] Removed default MakarovPM
[11:24:15] [INFO] [Player.Weapon] Equipped Shotgun (ammo: 0/8)
[11:24:15] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[11:24:15] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[11:24:15] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[11:24:15] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[11:24:15] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[11:24:15] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[11:24:15] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[11:24:15] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[11:24:15] [INFO] [Player.Homing] No homing bullets selected in ActiveItemManager
[11:24:15] [INFO] [Player.InvisibilitySuit] No invisibility suit selected in ActiveItemManager
[11:24:15] [INFO] [Player.BreakerBullets] Breaker bullets active — bullets will detonate 60px before walls
[11:24:15] [INFO] [Player.BreakerBullets] Set IsBreakerBulletActive on weapon: Shotgun
[11:24:15] [INFO] [Player] Ready! Ammo: 0/8, Grenades: 1/3, Health: 3/4
[11:24:15] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[11:24:15] [INFO] [LabyrinthLevel] Found Environment/Enemies node with 5 children
[11:24:15] [INFO] [LabyrinthLevel] Child 'Enemy1': script=true, has_died_signal=true
[11:24:15] [INFO] [LabyrinthLevel] Child 'Enemy2': script=true, has_died_signal=true
[11:24:15] [INFO] [LabyrinthLevel] Child 'Enemy3': script=true, has_died_signal=true
[11:24:15] [INFO] [LabyrinthLevel] Child 'Enemy4': script=true, has_died_signal=true
[11:24:15] [INFO] [LabyrinthLevel] Child 'Enemy5': script=true, has_died_signal=true
[11:24:15] [INFO] [LabyrinthLevel] Enemy tracking complete: 5 enemies registered
[11:24:15] [INFO] [LabyrinthLevel] Setting up weapon: shotgun
[11:24:15] [INFO] [LabyrinthLevel] Shotgun already equipped by C# Player - skipping GDScript weapon swap
[11:24:15] [INFO] [ScoreManager] Level started with 5 enemies
[11:24:15] [INFO] [LabyrinthLevel] ReplayManager found as C# autoload - verified OK
[11:24:15] [INFO] [LabyrinthLevel] Starting replay recording - Player: Player, Enemies count: 5
[11:24:15] [INFO] [ReplayManager] Replay data cleared
[11:24:15] [INFO] [LabyrinthLevel] Previous replay data cleared
[11:24:15] [INFO] [ReplayManager] Detected player weapon: Shotgun
[11:24:15] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[11:24:15] [INFO] [ReplayManager] Level: LabyrinthLevel
[11:24:15] [INFO] [ReplayManager] Player: Player (valid: True)
[11:24:15] [INFO] [ReplayManager] Enemies count: 5
[11:24:15] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/shotgun_topdown.png
[11:24:15] [INFO] [ReplayManager]   Enemy 0: Enemy1
[11:24:15] [INFO] [ReplayManager]   Enemy 1: Enemy2
[11:24:15] [INFO] [ReplayManager]   Enemy 2: Enemy3
[11:24:15] [INFO] [ReplayManager]   Enemy 3: Enemy4
[11:24:15] [INFO] [ReplayManager]   Enemy 4: Enemy5
[11:24:15] [INFO] [LabyrinthLevel] Replay recording started successfully
[11:24:15] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[11:24:15] [INFO] [CinemaEffects] Found player node: Player
[11:24:15] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[11:24:15] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 4)
[11:24:15] [ENEMY] [Enemy1] Registered as sound listener
[11:24:15] [ENEMY] [Enemy1] Spawned at (400, 300), hp: 2, behavior: GUARD
[11:24:15] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[11:24:15] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 5)
[11:24:15] [ENEMY] [Enemy2] Registered as sound listener
[11:24:15] [ENEMY] [Enemy2] Spawned at (900, 950), hp: 1, behavior: GUARD
[11:24:15] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[11:24:15] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 6)
[11:24:15] [ENEMY] [Enemy3] Registered as sound listener
[11:24:15] [ENEMY] [Enemy3] Spawned at (1200, 1000), hp: 2, behavior: PATROL
[11:24:15] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[11:24:15] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 7)
[11:24:15] [ENEMY] [Enemy4] Registered as sound listener
[11:24:15] [ENEMY] [Enemy4] Spawned at (1650, 650), hp: 1, behavior: GUARD
[11:24:15] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[11:24:15] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 8)
[11:24:15] [ENEMY] [Enemy5] Registered as sound listener
[11:24:15] [ENEMY] [Enemy5] Spawned at (1500, 300), hp: 4, behavior: GUARD
[11:24:15] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[11:24:15] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=5
[11:24:15] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(150,1000), corner_timer=0.00
[11:24:15] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=337.5°, current=0.0°, player=(150,1000), corner_timer=0.00
[11:24:15] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=315.0°, current=0.0°, player=(150,1000), corner_timer=0.00
[11:24:15] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=236.3°, current=0.0°, player=(150,1000), corner_timer=0.00
[11:24:15] [INFO] [Player] Detecting weapon pose (frame 3)...
[11:24:15] [INFO] [Player] Detected weapon: Shotgun (Shotgun pose)
[11:24:15] [INFO] [Player] Applied Shotgun arm pose: Left=(21, 6), Right=(-1, 6)
[11:24:15] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[11:24:15] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[11:24:15] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[11:24:15] [INFO] [LastChance] Found player: Player
[11:24:15] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[11:24:15] [INFO] [LastChance] Connected to player Damaged signal (C#)
[11:24:15] [INFO] [LastChance] Connected to player Died signal (C#)
[11:24:15] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[11:24:16] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=5
[11:24:16] [ENEMY] [Enemy1] Player ammo empty: false -> true
[11:24:16] [ENEMY] [Enemy2] Player ammo empty: false -> true
[11:24:16] [ENEMY] [Enemy3] Player ammo empty: false -> true
[11:24:16] [ENEMY] [Enemy4] Player ammo empty: false -> true
[11:24:16] [ENEMY] [Enemy5] Player ammo empty: false -> true
[11:24:16] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(199.9421, 1084.492), source=PLAYER (Player), range=600, listeners=8
[11:24:16] [INFO] [SoundPropagation] Cleaned up 3 invalid listeners
[11:24:16] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[11:24:16] [INFO] [Shotgun.FIX#212] Firing 10 pellets with 15° spread at pos=(199.94214, 1084.4916)
[11:24:16] [INFO] [Shotgun.FIX#212] Normal pellet 1/10: extraOffset=-3,4, distance=48,6px, pos=(245.73846, 1068.2861)
[11:24:16] [INFO] [Shotgun.FIX#212] Normal pellet 2/10: extraOffset=1,8, distance=53,8px, pos=(250.60016, 1066.3336)
[11:24:16] [INFO] [Shotgun.FIX#212] Normal pellet 3/10: extraOffset=-8,9, distance=43,1px, pos=(241.2276, 1072.1022)
[11:24:16] [INFO] [Shotgun.FIX#212] Normal pellet 4/10: extraOffset=3,8, distance=55,8px, pos=(253.39532, 1068.5157)
[11:24:16] [INFO] [Shotgun.FIX#212] Normal pellet 5/10: extraOffset=5,0, distance=57,0px, pos=(255.17754, 1070.386)
[11:24:16] [INFO] [Shotgun.FIX#212] Normal pellet 6/10: extraOffset=9,9, distance=61,9px, pos=(260.36893, 1070.8618)
[11:24:16] [INFO] [Shotgun.FIX#212] Normal pellet 7/10: extraOffset=-12,1, distance=39,9px, pos=(239.19382, 1077.075)
[11:24:16] [INFO] [Shotgun.FIX#212] Normal pellet 8/10: extraOffset=-13,2, distance=38,8px, pos=(238.25546, 1078.0758)
[11:24:16] [INFO] [Shotgun.FIX#212] Normal pellet 9/10: extraOffset=6,2, distance=58,2px, pos=(257.44342, 1075.4055)
[11:24:16] [INFO] [Shotgun.FIX#212] Normal pellet 10/10: extraOffset=-3,9, distance=48,1px, pos=(247.77863, 1079.9532)
[11:24:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(199.9421, 1084.492), source=PLAYER (Shotgun), range=1469, listeners=5
[11:24:16] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=3
[11:24:16] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=810), can_see=false
[11:24:16] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=713), can_see=false
[11:24:16] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1004), can_see=false
[11:24:16] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1514), can_see=false
[11:24:16] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1518), can_see=false
[11:24:16] [INFO] [ImpactEffects] Spawning explosion visual effect at (285.0184, 1054.386) (radius=15) - using shadow-based wall occlusion
[11:24:16] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(285.0184, 1054.386), source=PLAYER (ShotgunPellet), range=500, listeners=5
[11:24:16] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[11:24:16] [INFO] [ImpactEffects] Spawning explosion visual effect at (289.8232, 1052.274) (radius=15) - using shadow-based wall occlusion
[11:24:16] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(289.8232, 1052.274), source=PLAYER (@Area2D@1814), range=500, listeners=5
[11:24:16] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[11:24:16] [INFO] [ImpactEffects] Spawning explosion visual effect at (281.136, 1060.126) (radius=15) - using shadow-based wall occlusion
[11:24:16] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(281.136, 1060.126), source=PLAYER (@Area2D@1815), range=500, listeners=5
[11:24:16] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[11:24:16] [INFO] [ImpactEffects] Spawning explosion visual effect at (293.3171, 1056.584) (radius=15) - using shadow-based wall occlusion
[11:24:16] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(293.3171, 1056.584), source=PLAYER (@Area2D@1816), range=500, listeners=5
[11:24:16] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[11:24:16] [INFO] [ImpactEffects] Spawning explosion visual effect at (295.5486, 1060.076) (radius=15) - using shadow-based wall occlusion
[11:24:16] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(295.5486, 1060.076), source=PLAYER (@Area2D@1817), range=500, listeners=5
[11:24:16] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[11:24:16] [INFO] [ImpactEffects] Spawning explosion visual effect at (301.0145, 1061.694) (radius=15) - using shadow-based wall occlusion
[11:24:16] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(301.0145, 1061.694), source=PLAYER (@Area2D@1818), range=500, listeners=5
[11:24:16] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[11:24:16] [INFO] [ImpactEffects] Spawning explosion visual effect at (280.136, 1069.339) (radius=15) - using shadow-based wall occlusion
[11:24:16] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(280.136, 1069.339), source=PLAYER (@Area2D@1819), range=500, listeners=5
[11:24:16] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[11:24:16] [INFO] [ImpactEffects] Spawning explosion visual effect at (298.5995, 1068.902) (radius=15) - using shadow-based wall occlusion
[11:24:16] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(298.5995, 1068.902), source=PLAYER (@Area2D@1821), range=500, listeners=5
[11:24:16] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[11:24:16] [INFO] [ImpactEffects] Spawning explosion visual effect at (320.4444, 1064.313) (radius=15) - using shadow-based wall occlusion
[11:24:16] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(320.4444, 1064.313), source=PLAYER (@Area2D@1820), range=500, listeners=5
[11:24:16] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[11:24:17] [INFO] [ImpactEffects] Spawning explosion visual effect at (1118.867, 997.3123) (radius=15) - using shadow-based wall occlusion
[11:24:17] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1118.867, 997.3123), source=PLAYER (@Area2D@1822), range=500, listeners=5
[11:24:17] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=0
[11:24:17] [ENEMY] [Enemy3] Hit: dmg=1, hp=2/2->1/2
[11:24:17] [INFO] [ImpactEffects] spawn_blood_effect called at (1200, 1000), dir=(0.997766, -0.066798), lethal=false
[11:24:17] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[11:24:17] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[11:24:17] [INFO] [ImpactEffects] Blood effect spawned at (1200, 1000) (scale=1)
[11:24:17] [ENEMY] [Enemy3] Hit: dmg=1, hp=1/2->0/2
[11:24:17] [INFO] [ImpactEffects] spawn_blood_effect called at (1200, 1000), dir=(0.999008, -0.044524), lethal=true
[11:24:17] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[11:24:17] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[11:24:17] [INFO] [ImpactEffects] Blood effect spawned at (1200, 1000) (scale=1.5)
[11:24:17] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[11:24:17] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[11:24:17] [ENEMY] [Enemy2] [AllyDeath] Witnessed at (1200, 1000), entering SEARCHING
[11:24:17] [ENEMY] [Enemy2] SEARCHING started: center=(1200, 1000), radius=100, waypoints=5
[11:24:17] [ENEMY] [Enemy3] [AllyDeath] Notified 1 enemies
[11:24:17] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 4)
[11:24:17] [INFO] [DeathAnim] Started - Angle: -2.6 deg, Index: 11
[11:24:17] [ENEMY] [Enemy3] Death animation started with hit direction: (0.999008, -0.044524)
[11:24:17] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=SEARCHING, target=168.0°, current=-22.5°, player=(228,1092), corner_timer=0.00
[11:24:17] [ENEMY] [Enemy2] SEARCHING corner check: angle 99.5°
[11:24:17] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=774), can_see=false
[11:24:17] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=717), can_see=false
[11:24:17] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1476), can_see=false
[11:24:17] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1477), can_see=false
[11:24:17] [INFO] [BloodDecal] Blood puddle created at (1272.909, 979.2532) (added to group)
[11:24:17] [INFO] [BloodDecal] Blood puddle created at (1278.658, 983.2892) (added to group)
[11:24:17] [INFO] [BloodDecal] Blood puddle created at (1297.503, 1041.582) (added to group)
[11:24:17] [ENEMY] [Enemy2] SEARCHING corner check: angle -80.5°
[11:24:17] [INFO] [BloodDecal] Blood puddle created at (1277.304, 1015.209) (added to group)
[11:24:17] [INFO] [BloodDecal] Blood puddle created at (1298.205, 1014.081) (added to group)
[11:24:17] [INFO] [BloodDecal] Blood puddle created at (1284.023, 1040.801) (added to group)
[11:24:17] [ENEMY] [Enemy3] Ragdoll activated
[11:24:17] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[11:24:17] [INFO] [BloodDecal] Blood puddle created at (1299.358, 1072.317) (added to group)
[11:24:17] [INFO] [BloodDecal] Blood puddle created at (1278.444, 1009.202) (added to group)
[11:24:17] [INFO] [BloodDecal] Blood puddle created at (1324.003, 1021.114) (added to group)
[11:24:17] [INFO] [BloodDecal] Blood puddle created at (1296.248, 1076.07) (added to group)
[11:24:17] [INFO] [BloodDecal] Blood puddle created at (1341.843, 1059.048) (added to group)
[11:24:17] [INFO] [BloodDecal] Blood puddle created at (1283.215, 1035.466) (added to group)
[11:24:17] [INFO] [BloodDecal] Blood puddle created at (1333.191, 989.7534) (added to group)
[11:24:17] [INFO] [BloodDecal] Blood puddle created at (1296.209, 1037.715) (added to group)
[11:24:17] [INFO] [BloodDecal] Blood puddle created at (1318.316, 1047.595) (added to group)
[11:24:17] [INFO] [BloodDecal] Blood puddle created at (1305.066, 1042.982) (added to group)
[11:24:17] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=5
[11:24:17] [INFO] [BloodDecal] Blood puddle created at (1326.487, 1003.208) (added to group)
[11:24:17] [INFO] [BloodDecal] Blood puddle created at (1325.794, 1101.114) (added to group)
[11:24:17] [INFO] [BloodDecal] Blood puddle created at (1310.219, 1045.407) (added to group)
[11:24:17] [INFO] [BloodDecal] Blood puddle created at (1303.124, 1047.507) (added to group)
[11:24:17] [INFO] [BloodDecal] Blood puddle created at (1380.444, 1045.098) (added to group)
[11:24:17] [INFO] [BloodDecal] Blood puddle created at (1329.067, 1114.191) (added to group)
[11:24:17] [INFO] [BloodDecal] Blood puddle created at (1277.361, 1086.57) (added to group)
[11:24:17] [INFO] [BloodDecal] Blood puddle created at (1298.146, 1079.601) (added to group)
[11:24:17] [INFO] [BloodDecal] Blood puddle created at (1336.313, 1106.458) (added to group)
[11:24:17] [INFO] [BloodDecal] Blood puddle created at (1400.291, 1027.457) (added to group)
[11:24:17] [INFO] [BloodDecal] Blood puddle created at (1381.165, 1075.653) (added to group)
[11:24:17] [INFO] [BloodDecal] Blood puddle created at (1307.32, 1096.052) (added to group)
[11:24:17] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=628), can_see=false
[11:24:17] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=899), can_see=false
[11:24:17] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1468), can_see=false
[11:24:17] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1428), can_see=false
[11:24:18] [ENEMY] [Enemy2] SEARCHING corner check: angle -80.5°
[11:24:18] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[11:24:18] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:24:18] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[11:24:18] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[11:24:18] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[11:24:18] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[11:24:18] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[11:24:18] [INFO] [LastChance] Resetting all effects (scene change detected)
[11:24:18] [INFO] [CinemaEffects] Scene changed to: LabyrinthLevel
[11:24:18] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[11:24:18] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[11:24:18] [ENEMY] [Enemy1] Death animation component initialized
[11:24:18] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:24:18] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[11:24:18] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[11:24:18] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[11:24:18] [ENEMY] [Enemy2] Death animation component initialized
[11:24:18] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:24:18] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[11:24:18] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[11:24:18] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[11:24:18] [ENEMY] [Enemy3] Death animation component initialized
[11:24:18] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:24:18] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[11:24:18] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[11:24:18] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[11:24:18] [ENEMY] [Enemy4] Death animation component initialized
[11:24:18] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:24:18] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[11:24:18] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[11:24:18] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[11:24:18] [ENEMY] [Enemy5] Death animation component initialized
[11:24:18] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:24:18] [INFO] [BloodyFeet:Player] Footprint scene loaded
[11:24:18] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[11:24:18] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[11:24:18] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[11:24:18] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[11:24:18] [INFO] [Player.Weapon] GameManager weapon selection: shotgun (Shotgun)
[11:24:18] [INFO] [Player.Weapon] Removed default MakarovPM
[11:24:18] [INFO] [Player.Weapon] Equipped Shotgun (ammo: 0/8)
[11:24:18] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[11:24:18] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[11:24:18] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[11:24:18] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[11:24:18] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[11:24:18] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[11:24:18] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[11:24:18] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[11:24:18] [INFO] [Player.Homing] No homing bullets selected in ActiveItemManager
[11:24:18] [INFO] [Player.InvisibilitySuit] No invisibility suit selected in ActiveItemManager
[11:24:18] [INFO] [Player.BreakerBullets] Breaker bullets active — bullets will detonate 60px before walls
[11:24:18] [INFO] [Player.BreakerBullets] Set IsBreakerBulletActive on weapon: Shotgun
[11:24:18] [INFO] [Player] Ready! Ammo: 0/8, Grenades: 1/3, Health: 2/4
[11:24:18] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[11:24:18] [INFO] [LabyrinthLevel] Found Environment/Enemies node with 5 children
[11:24:18] [INFO] [LabyrinthLevel] Child 'Enemy1': script=true, has_died_signal=true
[11:24:18] [INFO] [LabyrinthLevel] Child 'Enemy2': script=true, has_died_signal=true
[11:24:18] [INFO] [LabyrinthLevel] Child 'Enemy3': script=true, has_died_signal=true
[11:24:18] [INFO] [LabyrinthLevel] Child 'Enemy4': script=true, has_died_signal=true
[11:24:18] [INFO] [LabyrinthLevel] Child 'Enemy5': script=true, has_died_signal=true
[11:24:18] [INFO] [LabyrinthLevel] Enemy tracking complete: 5 enemies registered
[11:24:18] [INFO] [LabyrinthLevel] Setting up weapon: shotgun
[11:24:18] [INFO] [LabyrinthLevel] Shotgun already equipped by C# Player - skipping GDScript weapon swap
[11:24:18] [INFO] [ScoreManager] Level started with 5 enemies
[11:24:18] [INFO] [LabyrinthLevel] ReplayManager found as C# autoload - verified OK
[11:24:18] [INFO] [LabyrinthLevel] Starting replay recording - Player: Player, Enemies count: 5
[11:24:18] [INFO] [ReplayManager] Replay data cleared
[11:24:18] [INFO] [LabyrinthLevel] Previous replay data cleared
[11:24:18] [INFO] [ReplayManager] Detected player weapon: Shotgun
[11:24:18] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[11:24:18] [INFO] [ReplayManager] Level: LabyrinthLevel
[11:24:18] [INFO] [ReplayManager] Player: Player (valid: True)
[11:24:18] [INFO] [ReplayManager] Enemies count: 5
[11:24:18] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/shotgun_topdown.png
[11:24:18] [INFO] [ReplayManager]   Enemy 0: Enemy1
[11:24:18] [INFO] [ReplayManager]   Enemy 1: Enemy2
[11:24:18] [INFO] [ReplayManager]   Enemy 2: Enemy3
[11:24:18] [INFO] [ReplayManager]   Enemy 3: Enemy4
[11:24:18] [INFO] [ReplayManager]   Enemy 4: Enemy5
[11:24:18] [INFO] [LabyrinthLevel] Replay recording started successfully
[11:24:18] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[11:24:18] [INFO] [CinemaEffects] Found player node: Player
[11:24:18] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[11:24:18] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 5)
[11:24:18] [ENEMY] [Enemy1] Registered as sound listener
[11:24:18] [ENEMY] [Enemy1] Spawned at (400, 300), hp: 2, behavior: GUARD
[11:24:18] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[11:24:18] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 6)
[11:24:18] [ENEMY] [Enemy2] Registered as sound listener
[11:24:18] [ENEMY] [Enemy2] Spawned at (900, 950), hp: 2, behavior: GUARD
[11:24:18] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[11:24:18] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 7)
[11:24:18] [ENEMY] [Enemy3] Registered as sound listener
[11:24:18] [ENEMY] [Enemy3] Spawned at (1200, 1000), hp: 1, behavior: PATROL
[11:24:18] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[11:24:18] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 8)
[11:24:18] [ENEMY] [Enemy4] Registered as sound listener
[11:24:18] [ENEMY] [Enemy4] Spawned at (1650, 650), hp: 1, behavior: GUARD
[11:24:18] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[11:24:18] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 9)
[11:24:18] [ENEMY] [Enemy5] Registered as sound listener
[11:24:18] [ENEMY] [Enemy5] Spawned at (1500, 300), hp: 2, behavior: GUARD
[11:24:18] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[11:24:18] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=5
[11:24:18] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(150,1000), corner_timer=0.00
[11:24:18] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(150,1000), corner_timer=0.00
[11:24:18] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(150,1000), corner_timer=0.00
[11:24:18] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(150,1000), corner_timer=0.00
[11:24:18] [INFO] [Player] Detecting weapon pose (frame 3)...
[11:24:18] [INFO] [Player] Detected weapon: Shotgun (Shotgun pose)
[11:24:18] [INFO] [Player] Applied Shotgun arm pose: Left=(21, 6), Right=(-1, 6)
[11:24:18] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[11:24:18] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[11:24:18] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[11:24:18] [INFO] [LastChance] Found player: Player
[11:24:18] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[11:24:18] [INFO] [LastChance] Connected to player Damaged signal (C#)
[11:24:18] [INFO] [LastChance] Connected to player Died signal (C#)
[11:24:18] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[11:24:19] [ENEMY] [Enemy1] Player ammo empty: false -> true
[11:24:19] [ENEMY] [Enemy2] Player ammo empty: false -> true
[11:24:19] [ENEMY] [Enemy3] Player ammo empty: false -> true
[11:24:19] [ENEMY] [Enemy4] Player ammo empty: false -> true
[11:24:19] [ENEMY] [Enemy5] Player ammo empty: false -> true
[11:24:19] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(202.7741, 1106.419), source=PLAYER (Player), range=600, listeners=9
[11:24:19] [INFO] [SoundPropagation] Cleaned up 4 invalid listeners
[11:24:19] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[11:24:19] [INFO] [Shotgun.FIX#212] Firing 16 pellets with 15° spread at pos=(202.77412, 1106.4192)
[11:24:19] [INFO] [Shotgun.FIX#212] Normal pellet 1/16: extraOffset=-2,6, distance=49,4px, pos=(249.06996, 1089.0555)
[11:24:19] [INFO] [Shotgun.FIX#212] Normal pellet 2/16: extraOffset=2,5, distance=54,5px, pos=(253.7332, 1087.1227)
[11:24:19] [INFO] [Shotgun.FIX#212] Normal pellet 3/16: extraOffset=0,4, distance=52,4px, pos=(252.20422, 1088.8826)
[11:24:19] [INFO] [Shotgun.FIX#212] Normal pellet 4/16: extraOffset=7,7, distance=59,7px, pos=(259.8236, 1088.7032)
[11:24:19] [INFO] [Shotgun.FIX#212] Normal pellet 5/16: extraOffset=-13,4, distance=38,6px, pos=(239.43243, 1094.2612)
[11:24:19] [INFO] [Shotgun.FIX#212] Normal pellet 6/16: extraOffset=-14,3, distance=37,7px, pos=(238.87006, 1095.699)
[11:24:19] [INFO] [Shotgun.FIX#212] Normal pellet 7/16: extraOffset=14,3, distance=66,3px, pos=(266.71088, 1088.8403)
[11:24:19] [INFO] [Shotgun.FIX#212] Normal pellet 8/16: extraOffset=2,8, distance=54,8px, pos=(255.77371, 1092.2997)
[11:24:19] [INFO] [Shotgun.FIX#212] Normal pellet 9/16: extraOffset=-8,5, distance=43,5px, pos=(244.99252, 1095.9319)
[11:24:19] [INFO] [Shotgun.FIX#212] Normal pellet 10/16: extraOffset=11,3, distance=63,3px, pos=(264.70782, 1093.4666)
[11:24:19] [INFO] [Shotgun.FIX#212] Normal pellet 11/16: extraOffset=-7,7, distance=44,3px, pos=(246.00894, 1096.5886)
[11:24:19] [INFO] [Shotgun.FIX#212] Normal pellet 12/16: extraOffset=-2,7, distance=49,3px, pos=(251.15916, 1096.9076)
[11:24:19] [INFO] [Shotgun.FIX#212] Normal pellet 13/16: extraOffset=7,4, distance=59,4px, pos=(261.2645, 1096.1501)
[11:24:19] [INFO] [Shotgun.FIX#212] Normal pellet 14/16: extraOffset=-14,2, distance=37,8px, pos=(240.26833, 1101.3441)
[11:24:19] [INFO] [Shotgun.FIX#212] Normal pellet 15/16: extraOffset=-1,5, distance=50,5px, pos=(252.7674, 1099.1105)
[11:24:19] [INFO] [Shotgun.FIX#212] Normal pellet 16/16: extraOffset=14,5, distance=66,5px, pos=(269.003, 1100.4323)
[11:24:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(202.7741, 1106.419), source=PLAYER (Shotgun), range=1469, listeners=5
[11:24:19] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=3
[11:24:19] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=830), can_see=false
[11:24:19] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=715), can_see=false
[11:24:19] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1003), can_see=false
[11:24:19] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1517), can_see=false
[11:24:19] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1527), can_see=false
[11:24:19] [INFO] [ImpactEffects] Spawning explosion visual effect at (288.0829, 1074.423) (radius=15) - using shadow-based wall occlusion
[11:24:19] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(288.0829, 1074.423), source=PLAYER (ShotgunPellet), range=500, listeners=5
[11:24:19] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[11:24:19] [INFO] [ImpactEffects] Spawning explosion visual effect at (292.6997, 1072.367) (radius=15) - using shadow-based wall occlusion
[11:24:19] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(292.6997, 1072.367), source=PLAYER (@Area2D@2182), range=500, listeners=5
[11:24:19] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[11:24:19] [INFO] [ImpactEffects] Spawning explosion visual effect at (291.4728, 1074.951) (radius=15) - using shadow-based wall occlusion
[11:24:19] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(291.4728, 1074.951), source=PLAYER (@Area2D@2183), range=500, listeners=5
[11:24:19] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[11:24:19] [INFO] [ImpactEffects] Spawning explosion visual effect at (299.6158, 1076.346) (radius=15) - using shadow-based wall occlusion
[11:24:19] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(299.6158, 1076.346), source=PLAYER (@Area2D@2184), range=500, listeners=5
[11:24:19] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[11:24:19] [INFO] [ImpactEffects] Spawning explosion visual effect at (318.5291, 1068.028) (radius=15) - using shadow-based wall occlusion
[11:24:19] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(318.5291, 1068.028), source=PLAYER (@Area2D@2185), range=500, listeners=5
[11:24:19] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[11:24:19] [INFO] [ImpactEffects] Spawning explosion visual effect at (318.7547, 1071.974) (radius=15) - using shadow-based wall occlusion
[11:24:19] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(318.7547, 1071.974), source=PLAYER (@Area2D@2186), range=500, listeners=5
[11:24:19] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[11:24:19] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=166.7°, current=-146.1°, player=(226,1108), corner_timer=0.00
[11:24:19] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) - pursuing to attack (dist=692)
[11:24:19] [ENEMY] [Enemy2] State: IDLE -> PURSUING
[11:24:19] [ENEMY] [Enemy2] PURSUING corner check: angle 28.0°
[11:24:19] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=PURSUING, target=167.3°, current=-33.8°, player=(229,1105), corner_timer=0.30
[11:24:19] [INFO] [ImpactEffects] Spawning explosion visual effect at (829.1727, 934.196) (radius=15) - using shadow-based wall occlusion
[11:24:19] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(829.1727, 934.196), source=PLAYER (@Area2D@2187), range=500, listeners=5
[11:24:19] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=0
[11:24:19] [INFO] [ImpactEffects] Spawning explosion visual effect at (811.1207, 955.3017) (radius=15) - using shadow-based wall occlusion
[11:24:19] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(811.1207, 955.3017), source=PLAYER (@Area2D@2189), range=500, listeners=5
[11:24:19] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=0
[11:24:19] [INFO] [ImpactEffects] Spawning explosion visual effect at (835.688, 974.053) (radius=15) - using shadow-based wall occlusion
[11:24:19] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(835.688, 974.053), source=PLAYER (@Area2D@2190), range=500, listeners=5
[11:24:19] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=0
[11:24:19] [INFO] [ImpactEffects] Spawning explosion visual effect at (814.8239, 967.2544) (radius=15) - using shadow-based wall occlusion
[11:24:19] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(814.8239, 967.2544), source=PLAYER (@Area2D@2191), range=500, listeners=5
[11:24:19] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=0
[11:24:19] [INFO] [ImpactEffects] Spawning explosion visual effect at (823.538, 984.3895) (radius=15) - using shadow-based wall occlusion
[11:24:19] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(823.538, 984.3895), source=PLAYER (@Area2D@2192), range=500, listeners=5
[11:24:19] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=0
[11:24:19] [INFO] [ImpactEffects] Spawning explosion visual effect at (859.7095, 931.4067) (radius=15) - using shadow-based wall occlusion
[11:24:19] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(859.7095, 931.4067), source=PLAYER (@Area2D@2188), range=500, listeners=5
[11:24:19] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=0
[11:24:19] [ENEMY] [Enemy2] Hit: dmg=1, hp=2/2->1/2
[11:24:19] [INFO] [ImpactEffects] spawn_blood_effect called at (876.4595, 957.3052), dir=(0.985672, 0.168672), lethal=false
[11:24:19] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[11:24:19] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[11:24:19] [INFO] [ImpactEffects] Blood effect spawned at (876.4595, 957.3052) (scale=1)
[11:24:19] [ENEMY] [Enemy2] Hit: dmg=1, hp=1/2->0/2
[11:24:19] [INFO] [ImpactEffects] spawn_blood_effect called at (876.4595, 957.3052), dir=(0.984863, 0.173335), lethal=true
[11:24:19] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[11:24:19] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[11:24:19] [INFO] [ImpactEffects] Blood effect spawned at (876.4595, 957.3052) (scale=1.5)
[11:24:19] [ENEMY] [Enemy2] Enemy died (ricochet: false, penetration: false)
[11:24:19] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[11:24:19] [ENEMY] [Enemy2] [AllyDeath] Notified 1 enemies
[11:24:19] [INFO] [SoundPropagation] Unregistered listener: Enemy2 (remaining: 4)
[11:24:19] [INFO] [DeathAnim] Started - Angle: 10.0 deg, Index: 12
[11:24:19] [ENEMY] [Enemy2] Death animation started with hit direction: (0.984863, 0.173335)
[11:24:19] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=5
[11:24:19] [INFO] [ImpactEffects] Spawning explosion visual effect at (1140.449, 1021.657) (radius=15) - using shadow-based wall occlusion
[11:24:19] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1140.449, 1021.657), source=PLAYER (@Area2D@2196), range=500, listeners=4
[11:24:19] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=0
[11:24:19] [ENEMY] [Enemy3] Hit: dmg=1, hp=1/1->0/1
[11:24:19] [INFO] [ImpactEffects] spawn_blood_effect called at (1200, 1000), dir=(0.90643, -0.422357), lethal=true
[11:24:19] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[11:24:19] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[11:24:19] [INFO] [ImpactEffects] Blood effect spawned at (1200, 1000) (scale=1.5)
[11:24:19] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[11:24:19] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[11:24:19] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 3)
[11:24:19] [INFO] [DeathAnim] Started - Angle: -25.0 deg, Index: 10
[11:24:19] [ENEMY] [Enemy3] Death animation started with hit direction: (0.90643, -0.422357)
[11:24:19] [INFO] [ImpactEffects] Spawning explosion visual effect at (1410.355, 894.4045) (radius=15) - using shadow-based wall occlusion
[11:24:19] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1410.355, 894.4045), source=PLAYER (@Area2D@2193), range=500, listeners=3
[11:24:19] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[11:24:19] [INFO] [ImpactEffects] Spawning explosion visual effect at (1396.393, 944.8549) (radius=15) - using shadow-based wall occlusion
[11:24:19] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1396.393, 944.8549), source=PLAYER (@Area2D@2194), range=500, listeners=3
[11:24:19] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[11:24:19] [INFO] [ImpactEffects] Spawning explosion visual effect at (1407.163, 930.3448) (radius=15) - using shadow-based wall occlusion
[11:24:19] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1407.163, 930.3448), source=PLAYER (@Area2D@2195), range=500, listeners=3
[11:24:19] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[11:24:19] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=734), can_see=false
[11:24:19] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1458), can_see=false
[11:24:19] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1450), can_see=false
[11:24:19] [INFO] [BloodDecal] Blood puddle created at (928.1527, 970.9645) (added to group)
[11:24:19] [INFO] [BloodDecal] Blood puddle created at (963.7169, 969.7706) (added to group)
[11:24:19] [INFO] [BloodDecal] Blood puddle created at (929.4532, 1007.55) (added to group)
[11:24:19] [INFO] [BloodDecal] Blood puddle created at (927.6597, 1006.042) (added to group)
[11:24:19] [INFO] [BloodDecal] Blood puddle created at (954.1882, 992.1793) (added to group)
[11:24:19] [INFO] [BloodDecal] Blood puddle created at (918.0543, 992.7145) (added to group)
[11:24:19] [INFO] [BloodDecal] Blood puddle created at (1246.505, 977.7994) (added to group)
[11:24:20] [ENEMY] [Enemy2] Ragdoll activated
[11:24:20] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[11:24:20] [INFO] [BloodDecal] Blood puddle created at (971.4463, 1020.99) (added to group)
[11:24:20] [INFO] [BloodDecal] Blood puddle created at (984.3812, 1004.796) (added to group)
[11:24:20] [INFO] [BloodDecal] Blood puddle created at (940.3458, 1007.315) (added to group)
[11:24:20] [INFO] [BloodDecal] Blood puddle created at (954.5266, 1004.777) (added to group)
[11:24:20] [INFO] [BloodDecal] Blood puddle created at (973.5662, 1065.719) (added to group)
[11:24:20] [INFO] [BloodDecal] Blood puddle created at (996.0458, 1015.083) (added to group)
[11:24:20] [INFO] [BloodDecal] Blood puddle created at (925.1113, 1003.795) (added to group)
[11:24:20] [INFO] [BloodDecal] Blood puddle created at (1261.542, 996.2898) (added to group)
[11:24:20] [INFO] [BloodDecal] Blood puddle created at (1289.193, 1011.754) (added to group)
[11:24:20] [INFO] [BloodDecal] Blood puddle created at (1300.554, 1026.986) (added to group)
[11:24:20] [INFO] [BloodDecal] Blood puddle created at (1244.539, 1002.946) (added to group)
[11:24:20] [ENEMY] [Enemy3] Ragdoll activated
[11:24:20] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[11:24:20] [INFO] [BloodDecal] Blood puddle created at (952.725, 1053.752) (added to group)
[11:24:20] [INFO] [BloodDecal] Blood puddle created at (1068.342, 1078.994) (added to group)
[11:24:20] [INFO] [BloodDecal] Blood puddle created at (1015.369, 1024.998) (added to group)
[11:24:20] [INFO] [BloodDecal] Blood puddle created at (1024.629, 984.9462) (added to group)
[11:24:20] [INFO] [BloodDecal] Blood puddle created at (1054.866, 1008.886) (added to group)
[11:24:20] [INFO] [BloodDecal] Blood puddle created at (966.2036, 1012.609) (added to group)
[11:24:20] [INFO] [BloodDecal] Blood puddle created at (984.0574, 1032.461) (added to group)
[11:24:20] [INFO] [BloodDecal] Blood puddle created at (1025.91, 1108.627) (added to group)
[11:24:20] [INFO] [BloodDecal] Blood puddle created at (999.7368, 1097.598) (added to group)
[11:24:20] [INFO] [BloodDecal] Blood puddle created at (1339.457, 1034.622) (added to group)
[11:24:20] [INFO] [BloodDecal] Blood puddle created at (1284.465, 970.295) (added to group)
[11:24:20] [INFO] [BloodDecal] Blood puddle created at (1309.757, 972.5931) (added to group)
[11:24:20] [INFO] [BloodDecal] Blood puddle created at (1347.754, 1024.038) (added to group)
[11:24:20] [INFO] [BloodDecal] Blood puddle created at (1357.072, 1068.337) (added to group)
[11:24:20] [INFO] [BloodDecal] Blood puddle created at (1254.198, 986.5797) (added to group)
[11:24:20] [INFO] [BloodDecal] Blood puddle created at (1309.102, 941.8677) (added to group)
[11:24:20] [INFO] [BloodDecal] Blood puddle created at (1289.756, 1037.238) (added to group)
[11:24:20] [INFO] [BloodDecal] Blood puddle created at (999.4208, 1099.835) (added to group)
[11:24:20] [INFO] [BloodDecal] Blood puddle created at (978.5475, 1046.811) (added to group)
[11:24:20] [INFO] [BloodDecal] Blood puddle created at (980.6415, 1070.053) (added to group)
[11:24:20] [INFO] [BloodDecal] Blood puddle created at (1060.422, 1061.656) (added to group)
[11:24:20] [INFO] [BloodDecal] Blood puddle created at (1095.51, 1067.547) (added to group)
[11:24:20] [INFO] [BloodDecal] Blood puddle created at (1077.569, 1111.444) (added to group)
[11:24:20] [INFO] [BloodDecal] Blood puddle created at (1324.647, 969.235) (added to group)
[11:24:20] [INFO] [BloodDecal] Blood puddle created at (1348.474, 975.4686) (added to group)
[11:24:20] [INFO] [BloodDecal] Blood puddle created at (1325.045, 951.7404) (added to group)
[11:24:20] [INFO] [BloodDecal] Blood puddle created at (1362.707, 1016.696) (added to group)
[11:24:20] [INFO] [BloodDecal] Blood puddle created at (1338.45, 1005.248) (added to group)
[11:24:20] [INFO] [BloodDecal] Blood puddle created at (1373.407, 989.8812) (added to group)
[11:24:20] [INFO] [BloodDecal] Blood puddle created at (1421.445, 1099.989) (added to group)
[11:24:20] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=638), can_see=false
[11:24:20] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1523), can_see=false
[11:24:20] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1476), can_see=false
[11:24:20] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=5
[11:24:20] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=543), can_see=false
[11:24:20] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1553), can_see=false
[11:24:20] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1471), can_see=false
[11:24:20] [ENEMY] [Enemy2] Death animation completed
[11:24:21] [ENEMY] [Enemy3] Death animation completed
[11:24:21] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=396), can_see=false
[11:24:21] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1511), can_see=false
[11:24:21] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1393), can_see=false
[11:24:21] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=5
[11:24:21] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=141.5°, current=-168.8°, player=(205,455), corner_timer=0.00
[11:24:21] [ENEMY] [Enemy1] Player empty ammo - priority attack triggered
[11:24:21] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 300), source=ENEMY (Enemy1), range=1469, listeners=3
[11:24:21] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=2
[11:24:21] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1458), can_see=false
[11:24:21] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1304), can_see=false
[11:24:21] [INFO] [LastChance] Threat detected: Bullet
[11:24:21] [INFO] [LastChance] Not in hard mode - effect disabled
[11:24:21] [INFO] [LastChance] Cannot trigger effect - conditions not met
[11:24:22] [ENEMY] [Enemy1] Player empty ammo - priority attack triggered
[11:24:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 300), source=ENEMY (Enemy1), range=1469, listeners=3
[11:24:22] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=2
[11:24:22] [INFO] [LastChance] Threat detected: @Area2D@2601
[11:24:22] [INFO] [LastChance] Not in hard mode - effect disabled
[11:24:22] [INFO] [LastChance] Cannot trigger effect - conditions not met
[11:24:22] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(351.99106, 348.22592), shooter_id=340007061572, bullet_pos=(27.475182, 609.5697)
[11:24:22] [INFO] [Bullet] Using shooter_position, distance=416,6667
[11:24:22] [INFO] [Bullet] Distance to wall: 416,6667 (28,371603% of viewport)
[11:24:22] [INFO] [Bullet] Within ricochet range - trying ricochet first
[11:24:22] [ENEMY] [Enemy1] State: COMBAT -> RETREATING
[11:24:22] [ENEMY] [Enemy1] Player empty ammo - priority attack triggered
[11:24:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 300), source=ENEMY (Enemy1), range=1469, listeners=3
[11:24:22] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=2
[11:24:22] [INFO] [LastChance] Threat detected: @Area2D@2605
[11:24:22] [INFO] [LastChance] Not in hard mode - effect disabled
[11:24:22] [INFO] [LastChance] Cannot trigger effect - conditions not met
[11:24:22] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(380.9146, 293.8228), source=NEUTRAL (null), range=900, listeners=3
[11:24:22] [ENEMY] [Enemy1] Heard CASING_KICK at (380.9146, 293.8228), intensity=1.00, dist=19
[11:24:22] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[11:24:22] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(379.6046, 292.3749), source=NEUTRAL (null), range=900, listeners=3
[11:24:22] [ENEMY] [Enemy1] Heard CASING_KICK at (379.6046, 292.3749), intensity=1.00, dist=20
[11:24:22] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[11:24:22] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(346.0185, 341.4318), shooter_id=340007061572, bullet_pos=(23.660378, 533.0309)
[11:24:22] [INFO] [Bullet] Using shooter_position, distance=374,99997
[11:24:22] [INFO] [Bullet] Distance to wall: 374,99997 (25,53444% of viewport)
[11:24:22] [INFO] [Bullet] Within ricochet range - trying ricochet first
[11:24:22] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(377.6543, 290.996), source=NEUTRAL (null), range=900, listeners=3
[11:24:22] [ENEMY] [Enemy1] Heard CASING_KICK at (377.6543, 290.996), intensity=1.00, dist=22
[11:24:22] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[11:24:22] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(375.1002, 289.7587), source=NEUTRAL (null), range=900, listeners=3
[11:24:22] [ENEMY] [Enemy1] Heard CASING_KICK at (375.1002, 289.7587), intensity=1.00, dist=25
[11:24:22] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[11:24:22] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[11:24:22] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=NeedsPumpUp, ReloadState=NotReloading
[11:24:22] [INFO] [Shotgun.FIX#445] dragStartPos=(844, 380), aimDir=(1,00, 0,04)
[11:24:22] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(371.9828, 288.7195), source=NEUTRAL (null), range=900, listeners=3
[11:24:22] [ENEMY] [Enemy1] Heard CASING_KICK at (371.9828, 288.7195), intensity=1.00, dist=28
[11:24:22] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[11:24:22] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[11:24:22] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(368.3429, 287.9189), source=NEUTRAL (null), range=900, listeners=3
[11:24:22] [ENEMY] [Enemy1] Heard CASING_KICK at (368.3429, 287.9189), intensity=1.00, dist=32
[11:24:22] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[11:24:22] [INFO] [Shotgun.FIX#243] RMB released after 1 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[11:24:22] [INFO] [Shotgun.FIX#445v7] ProcessDragGesture - dragVector=(-2,0, -27,6), length=27,6, ActionState=NeedsPumpUp
[11:24:22] [INFO] [Shotgun.FIX#445v7] Drag too short: 27,6 < 30
[11:24:22] [ENEMY] [Enemy1] Player empty ammo - priority attack triggered
[11:24:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(399.0464, 277.6203), source=ENEMY (Enemy1), range=1469, listeners=3
[11:24:22] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=2
[11:24:22] [INFO] [LastChance] Threat detected: @Area2D@2609
[11:24:22] [INFO] [LastChance] Not in hard mode - effect disabled
[11:24:22] [INFO] [LastChance] Cannot trigger effect - conditions not met
[11:24:22] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(377.9668, 292.5383), source=NEUTRAL (null), range=900, listeners=3
[11:24:22] [ENEMY] [Enemy1] Heard CASING_KICK at (377.9668, 292.5383), intensity=1.00, dist=31
[11:24:22] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[11:24:22] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(340.1702, 332.41907), shooter_id=340007061572, bullet_pos=(29.969845, 454.4308)
[11:24:22] [INFO] [Bullet] Using shooter_position, distance=333,33334
[11:24:22] [INFO] [Bullet] Distance to wall: 333,33334 (22,69728% of viewport)
[11:24:22] [INFO] [Bullet] Within ricochet range - trying ricochet first
[11:24:22] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(376.6923, 291.7821), source=NEUTRAL (null), range=900, listeners=3
[11:24:22] [ENEMY] [Enemy1] Heard CASING_KICK at (376.6923, 291.7821), intensity=1.00, dist=33
[11:24:22] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[11:24:22] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(375.0211, 291.601), source=NEUTRAL (null), range=900, listeners=3
[11:24:22] [ENEMY] [Enemy1] Heard CASING_KICK at (375.0211, 291.601), intensity=1.00, dist=37
[11:24:22] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[11:24:22] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(351.99106, 348.22592), shooter_id=340007061572, bullet_pos=(460.53018, 861.15906)
[11:24:22] [INFO] [Bullet] Using shooter_position, distance=524,2911
[11:24:22] [INFO] [Bullet] Distance to wall: 524,2911 (35,699947% of viewport)
[11:24:22] [INFO] [Bullet] Within ricochet range - trying ricochet first
[11:24:22] [INFO] [Bullet] Starting wall penetration at (460.53018, 861.15906)
[11:24:22] [INFO] [Bullet] Raycast backward hit penetrating body at distance 38,716797
[11:24:22] [INFO] [Bullet] Body exited signal received for penetrating body
[11:24:22] [INFO] [Bullet] Exiting penetration at (495.4772, 881.46204) after traveling 35,416668 pixels through wall
[11:24:22] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[11:24:22] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[11:24:22] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:24:22] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[11:24:22] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[11:24:22] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[11:24:22] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[11:24:22] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[11:24:22] [INFO] [LastChance] Resetting all effects (scene change detected)
[11:24:22] [INFO] [CinemaEffects] Scene changed to: LabyrinthLevel
[11:24:22] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[11:24:22] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[11:24:22] [INFO] [EnemyGrenade] Initialized: 1 grenades
[11:24:22] [ENEMY] [Enemy1] Death animation component initialized
[11:24:22] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:24:22] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[11:24:22] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[11:24:22] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[11:24:22] [ENEMY] [Enemy2] Death animation component initialized
[11:24:22] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:24:22] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[11:24:22] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[11:24:22] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[11:24:22] [ENEMY] [Enemy3] Death animation component initialized
[11:24:22] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:24:22] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[11:24:22] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[11:24:22] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[11:24:22] [ENEMY] [Enemy4] Death animation component initialized
[11:24:22] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:24:22] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[11:24:22] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[11:24:22] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[11:24:22] [ENEMY] [Enemy5] Death animation component initialized
[11:24:22] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:24:22] [INFO] [BloodyFeet:Player] Footprint scene loaded
[11:24:22] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[11:24:22] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[11:24:22] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[11:24:22] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[11:24:22] [INFO] [Player.Weapon] GameManager weapon selection: shotgun (Shotgun)
[11:24:22] [INFO] [Player.Weapon] Removed default MakarovPM
[11:24:22] [INFO] [Player.Weapon] Equipped Shotgun (ammo: 0/8)
[11:24:22] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[11:24:22] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[11:24:22] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[11:24:22] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[11:24:22] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[11:24:22] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[11:24:22] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[11:24:22] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[11:24:22] [INFO] [Player.Homing] No homing bullets selected in ActiveItemManager
[11:24:22] [INFO] [Player.InvisibilitySuit] No invisibility suit selected in ActiveItemManager
[11:24:22] [INFO] [Player.BreakerBullets] Breaker bullets active — bullets will detonate 60px before walls
[11:24:22] [INFO] [Player.BreakerBullets] Set IsBreakerBulletActive on weapon: Shotgun
[11:24:22] [INFO] [Player] Ready! Ammo: 0/8, Grenades: 1/3, Health: 2/4
[11:24:22] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[11:24:22] [INFO] [LabyrinthLevel] Found Environment/Enemies node with 5 children
[11:24:22] [INFO] [LabyrinthLevel] Child 'Enemy1': script=true, has_died_signal=true
[11:24:22] [INFO] [LabyrinthLevel] Child 'Enemy2': script=true, has_died_signal=true
[11:24:22] [INFO] [LabyrinthLevel] Child 'Enemy3': script=true, has_died_signal=true
[11:24:22] [INFO] [LabyrinthLevel] Child 'Enemy4': script=true, has_died_signal=true
[11:24:22] [INFO] [LabyrinthLevel] Child 'Enemy5': script=true, has_died_signal=true
[11:24:22] [INFO] [LabyrinthLevel] Enemy tracking complete: 5 enemies registered
[11:24:22] [INFO] [LabyrinthLevel] Setting up weapon: shotgun
[11:24:22] [INFO] [LabyrinthLevel] Shotgun already equipped by C# Player - skipping GDScript weapon swap
[11:24:22] [INFO] [ScoreManager] Level started with 5 enemies
[11:24:22] [INFO] [LabyrinthLevel] ReplayManager found as C# autoload - verified OK
[11:24:22] [INFO] [LabyrinthLevel] Starting replay recording - Player: Player, Enemies count: 5
[11:24:22] [INFO] [ReplayManager] Replay data cleared
[11:24:22] [INFO] [LabyrinthLevel] Previous replay data cleared
[11:24:22] [INFO] [ReplayManager] Detected player weapon: Shotgun
[11:24:22] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[11:24:22] [INFO] [ReplayManager] Level: LabyrinthLevel
[11:24:22] [INFO] [ReplayManager] Player: Player (valid: True)
[11:24:22] [INFO] [ReplayManager] Enemies count: 5
[11:24:22] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/shotgun_topdown.png
[11:24:22] [INFO] [ReplayManager]   Enemy 0: Enemy1
[11:24:22] [INFO] [ReplayManager]   Enemy 1: Enemy2
[11:24:22] [INFO] [ReplayManager]   Enemy 2: Enemy3
[11:24:22] [INFO] [ReplayManager]   Enemy 3: Enemy4
[11:24:22] [INFO] [ReplayManager]   Enemy 4: Enemy5
[11:24:22] [INFO] [LabyrinthLevel] Replay recording started successfully
[11:24:22] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[11:24:22] [INFO] [CinemaEffects] Found player node: Player
[11:24:22] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[11:24:22] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 4)
[11:24:22] [ENEMY] [Enemy1] Registered as sound listener
[11:24:22] [ENEMY] [Enemy1] Spawned at (400, 300), hp: 1, behavior: GUARD
[11:24:22] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[11:24:22] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 5)
[11:24:22] [ENEMY] [Enemy2] Registered as sound listener
[11:24:22] [ENEMY] [Enemy2] Spawned at (900, 950), hp: 2, behavior: GUARD
[11:24:22] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[11:24:22] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 6)
[11:24:22] [ENEMY] [Enemy3] Registered as sound listener
[11:24:22] [ENEMY] [Enemy3] Spawned at (1200, 1000), hp: 2, behavior: PATROL
[11:24:22] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[11:24:22] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 7)
[11:24:22] [ENEMY] [Enemy4] Registered as sound listener
[11:24:22] [ENEMY] [Enemy4] Spawned at (1650, 650), hp: 2, behavior: GUARD
[11:24:22] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[11:24:22] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 8)
[11:24:22] [ENEMY] [Enemy5] Registered as sound listener
[11:24:22] [ENEMY] [Enemy5] Spawned at (1500, 300), hp: 2, behavior: GUARD
[11:24:22] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[11:24:22] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=5
[11:24:22] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:22] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(150,1000), corner_timer=0.00
[11:24:22] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:22] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(150,1000), corner_timer=0.00
[11:24:22] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=315.0°, current=0.0°, player=(150,1000), corner_timer=0.00
[11:24:22] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(150,1000), corner_timer=0.00
[11:24:22] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:22] [INFO] [Player] Detecting weapon pose (frame 3)...
[11:24:22] [INFO] [Player] Detected weapon: Shotgun (Shotgun pose)
[11:24:22] [INFO] [Player] Applied Shotgun arm pose: Left=(21, 6), Right=(-1, 6)
[11:24:22] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:22] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:22] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:22] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:22] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:22] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[11:24:22] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[11:24:22] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[11:24:22] [INFO] [LastChance] Found player: Player
[11:24:22] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[11:24:22] [INFO] [LastChance] Connected to player Damaged signal (C#)
[11:24:22] [INFO] [LastChance] Connected to player Died signal (C#)
[11:24:22] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[11:24:22] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:22] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:22] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:22] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:22] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:22] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:22] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:22] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:22] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:22] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:22] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:22] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:22] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:22] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:22] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:22] [INFO] [EnemyGrenade] Throw path blocked to (198.2834, 865.0755)
[11:24:22] [INFO] [EnemyGrenade] Throw path blocked to (198.4535, 865.1363)
[11:24:22] [INFO] [EnemyGrenade] Throw path blocked to (198.7083, 865.2271)
[11:24:22] [INFO] [EnemyGrenade] Throw path blocked to (199.0471, 865.3476)
[11:24:22] [INFO] [EnemyGrenade] Throw path blocked to (199.469, 865.4974)
[11:24:22] [INFO] [EnemyGrenade] Throw path blocked to (199.9732, 865.6759)
[11:24:22] [INFO] [EnemyGrenade] Throw path blocked to (200.5583, 865.8825)
[11:24:22] [INFO] [EnemyGrenade] Throw path blocked to (201.2232, 866.1164)
[11:24:22] [INFO] [EnemyGrenade] Throw path blocked to (201.9662, 866.3768)
[11:24:22] [INFO] [EnemyGrenade] Throw path blocked to (202.7856, 866.6626)
[11:24:22] [INFO] [EnemyGrenade] Throw path blocked to (203.6797, 866.973)
[11:24:23] [INFO] [EnemyGrenade] Throw path blocked to (204.6464, 867.3068)
[11:24:23] [INFO] [EnemyGrenade] Throw path blocked to (205.6837, 867.6629)
[11:24:23] [INFO] [EnemyGrenade] Throw path blocked to (206.7891, 868.0401)
[11:24:23] [INFO] [EnemyGrenade] Throw path blocked to (207.9604, 868.4371)
[11:24:23] [INFO] [EnemyGrenade] Throw path blocked to (209.1952, 868.8528)
[11:24:23] [INFO] [EnemyGrenade] Throw path blocked to (210.4529, 869.2731)
[11:24:23] [INFO] [EnemyGrenade] Throw path blocked to (211.6951, 869.6852)
[11:24:23] [INFO] [EnemyGrenade] Throw path blocked to (212.9219, 870.0893)
[11:24:23] [INFO] [EnemyGrenade] Throw path blocked to (214.1338, 870.4855)
[11:24:23] [INFO] [EnemyGrenade] Throw path blocked to (215.3308, 870.8741)
[11:24:23] [INFO] [EnemyGrenade] Throw path blocked to (216.5133, 871.2553)
[11:24:23] [INFO] [EnemyGrenade] Throw path blocked to (217.6815, 871.6292)
[11:24:23] [INFO] [EnemyGrenade] Throw path blocked to (218.8357, 871.996)
[11:24:23] [INFO] [EnemyGrenade] Throw path blocked to (220.1517, 872.4112)
[11:24:23] [INFO] [EnemyGrenade] Throw path blocked to (221.6278, 872.8729)
[11:24:23] [INFO] [EnemyGrenade] Throw path blocked to (223.2629, 873.3794)
[11:24:23] [INFO] [EnemyGrenade] Throw path blocked to (225.0559, 873.9291)
[11:24:23] [INFO] [EnemyGrenade] Throw path blocked to (226.4227, 874.3439)
[11:24:23] [INFO] [EnemyGrenade] Throw path blocked to (227.5339, 874.6785)
[11:24:23] [INFO] [EnemyGrenade] Throw path blocked to (228.7522, 875.0428)
[11:24:23] [INFO] [EnemyGrenade] Throw path blocked to (230.0731, 875.4345)
[11:24:23] [INFO] [EnemyGrenade] Throw path blocked to (231.6144, 875.8874)
[11:24:23] [INFO] [EnemyGrenade] Throw path blocked to (233.3777, 876.4)
[11:24:23] [INFO] [EnemyGrenade] Throw path blocked to (235.3646, 876.9707)
[11:24:23] [INFO] [EnemyGrenade] Throw path blocked to (237.5755, 877.597)
[11:24:23] [INFO] [EnemyGrenade] Throw path blocked to (240.0158, 878.2776)
[11:24:23] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=5
[11:24:23] [INFO] [EnemyGrenade] Throw path blocked to (242.6859, 879.0098)
[11:24:23] [INFO] [EnemyGrenade] Throw path blocked to (245.5884, 879.7905)
[11:24:23] [INFO] [EnemyGrenade] Throw path blocked to (248.7257, 880.6169)
[11:24:23] [INFO] [EnemyGrenade] Throw path blocked to (252.1004, 881.4858)
[11:24:23] [INFO] [EnemyGrenade] Throw path blocked to (255.7155, 882.3933)
[11:24:23] [INFO] [EnemyGrenade] Throw path blocked to (259.4411, 883.3036)
[11:24:23] [INFO] [EnemyGrenade] Throw path blocked to (263.0479, 884.1611)
[11:24:23] [INFO] [EnemyGrenade] Throw path blocked to (266.5376, 884.9682)
[11:24:23] [INFO] [EnemyGrenade] Throw path blocked to (269.912, 885.7278)
[11:24:23] [INFO] [EnemyGrenade] Throw path blocked to (273.1726, 886.4425)
[11:24:23] [INFO] [EnemyGrenade] Throw path blocked to (276.3211, 887.1146)
[11:24:23] [INFO] [EnemyGrenade] Throw path blocked to (279.3589, 887.7463)
[11:24:23] [INFO] [EnemyGrenade] Throw path blocked to (282.2873, 888.3398)
[11:24:23] [INFO] [EnemyGrenade] Throw path blocked to (285.1073, 888.897)
[11:24:23] [ENEMY] [Enemy1] Player ammo empty: false -> true
[11:24:23] [ENEMY] [Enemy2] Player ammo empty: false -> true
[11:24:23] [ENEMY] [Enemy3] Player ammo empty: false -> true
[11:24:23] [ENEMY] [Enemy4] Player ammo empty: false -> true
[11:24:23] [ENEMY] [Enemy5] Player ammo empty: false -> true
[11:24:23] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(248.11, 1098.066), source=PLAYER (Player), range=600, listeners=8
[11:24:23] [INFO] [SoundPropagation] Cleaned up 3 invalid listeners
[11:24:23] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[11:24:23] [INFO] [Shotgun.FIX#212] Firing 11 pellets with 15° spread at pos=(248.11005, 1098.066)
[11:24:23] [INFO] [Shotgun.FIX#212] Normal pellet 1/11: extraOffset=8,2, distance=60,2px, pos=(305.62885, 1080.2728)
[11:24:23] [INFO] [Shotgun.FIX#212] Normal pellet 2/11: extraOffset=5,9, distance=57,9px, pos=(303.91705, 1082.7184)
[11:24:23] [INFO] [Shotgun.FIX#212] Normal pellet 3/11: extraOffset=-2,9, distance=49,1px, pos=(295.8929, 1086.8616)
[11:24:23] [INFO] [Shotgun.FIX#212] Normal pellet 4/11: extraOffset=-8,8, distance=43,2px, pos=(290.59973, 1090.1671)
[11:24:23] [INFO] [Shotgun.FIX#212] Normal pellet 5/11: extraOffset=-3,3, distance=48,7px, pos=(296.05173, 1089.767)
[11:24:23] [INFO] [Shotgun.FIX#212] Normal pellet 6/11: extraOffset=-5,7, distance=46,3px, pos=(293.89508, 1091.335)
[11:24:23] [INFO] [Shotgun.FIX#212] Normal pellet 7/11: extraOffset=4,6, distance=56,6px, pos=(304.14575, 1090.3247)
[11:24:23] [INFO] [Shotgun.FIX#212] Normal pellet 8/11: extraOffset=9,4, distance=61,4px, pos=(309.03198, 1090.7467)
[11:24:23] [INFO] [Shotgun.FIX#212] Normal pellet 9/11: extraOffset=4,7, distance=56,7px, pos=(304.6192, 1093.9073)
[11:24:23] [INFO] [Shotgun.FIX#212] Normal pellet 10/11: extraOffset=14,6, distance=66,6px, pos=(314.65244, 1095.1891)
[11:24:23] [INFO] [Shotgun.FIX#212] Normal pellet 11/11: extraOffset=6,3, distance=58,3px, pos=(306.37152, 1096.2847)
[11:24:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(248.11, 1098.066), source=PLAYER (Shotgun), range=1469, listeners=5
[11:24:23] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=3
[11:24:23] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=812), can_see=false
[11:24:23] [INFO] [EnemyGrenade] Throw path blocked to (287.8201, 889.4198)
[11:24:23] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=668), can_see=false
[11:24:23] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=957), can_see=false
[11:24:23] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1472), can_see=false
[11:24:23] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1485), can_see=false
[11:24:23] [INFO] [EnemyGrenade] Throw path blocked to (290.333, 889.8925)
[11:24:23] [INFO] [EnemyGrenade] Throw path blocked to (292.7296, 890.333)
[11:24:23] [INFO] [EnemyGrenade] Throw path blocked to (295.0065, 890.7422)
[11:24:23] [INFO] [EnemyGrenade] Throw path blocked to (297.1599, 891.1209)
[11:24:23] [INFO] [EnemyGrenade] Throw path blocked to (299.1866, 891.4699)
[11:24:23] [INFO] [EnemyGrenade] Throw path blocked to (301.0833, 891.7901)
[11:24:23] [INFO] [EnemyGrenade] Throw path blocked to (302.847, 892.0822)
[11:24:23] [INFO] [EnemyGrenade] Throw path blocked to (304.4751, 892.347)
[11:24:23] [INFO] [EnemyGrenade] Throw path blocked to (305.9649, 892.5854)
[11:24:23] [INFO] [EnemyGrenade] Throw path blocked to (307.314, 892.7979)
[11:24:23] [INFO] [EnemyGrenade] Throw path blocked to (308.5202, 892.9852)
[11:24:23] [INFO] [EnemyGrenade] Throw path blocked to (309.4926, 893.1344)
[11:24:23] [INFO] [ImpactEffects] Spawning explosion visual effect at (823.1011, 920.1945) (radius=15) - using shadow-based wall occlusion
[11:24:23] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(823.1011, 920.1945), source=PLAYER (ShotgunPellet), range=500, listeners=5
[11:24:23] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=0
[11:24:23] [INFO] [ImpactEffects] Spawning explosion visual effect at (823.2554, 963.2017) (radius=15) - using shadow-based wall occlusion
[11:24:23] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(823.2554, 963.2017), source=PLAYER (@Area2D@2747), range=500, listeners=5
[11:24:23] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=0
[11:24:23] [INFO] [EnemyGrenade] Throw path blocked to (310.2291, 893.2463)
[11:24:23] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[11:24:23] [INFO] [ImpactEffects] Spawning explosion visual effect at (866.3686, 928.037) (radius=15) - using shadow-based wall occlusion
[11:24:23] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(866.3686, 928.037), source=PLAYER (@Area2D@2746), range=500, listeners=5
[11:24:23] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=0
[11:24:23] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=NeedsPumpUp, ReloadState=NotReloading
[11:24:23] [INFO] [Shotgun.FIX#445] dragStartPos=(816, 992), aimDir=(0,99, -0,15)
[11:24:23] [INFO] [EnemyGrenade] Throw path blocked to (310.7281, 893.3216)
[11:24:23] [ENEMY] [Enemy2] Hit: dmg=1, hp=2/2->1/2
[11:24:23] [INFO] [ImpactEffects] spawn_blood_effect called at (900, 950), dir=(1, 0), lethal=false
[11:24:23] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[11:24:23] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[11:24:23] [INFO] [ImpactEffects] Blood effect spawned at (900, 950) (scale=1)
[11:24:23] [ENEMY] [Enemy2] Hit: dmg=1, hp=1/2->0/2
[11:24:23] [INFO] [ImpactEffects] spawn_blood_effect called at (900, 950), dir=(0.994803, 0.101821), lethal=true
[11:24:23] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[11:24:23] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[11:24:23] [INFO] [ImpactEffects] Blood effect spawned at (900, 950) (scale=1.5)
[11:24:23] [ENEMY] [Enemy2] Enemy died (ricochet: false, penetration: false)
[11:24:23] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[11:24:23] [ENEMY] [Enemy2] [AllyDeath] Notified 1 enemies
[11:24:23] [INFO] [SoundPropagation] Unregistered listener: Enemy2 (remaining: 4)
[11:24:23] [INFO] [DeathAnim] Started - Angle: 5.8 deg, Index: 12
[11:24:23] [ENEMY] [Enemy2] Death animation started with hit direction: (0.994803, 0.101821)
[11:24:23] [INFO] [EnemyGrenade] Throw path blocked to (310.9882, 893.3607)
[11:24:23] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[11:24:23] [INFO] [Shotgun.FIX#445v7] Mouse at top edge (Y=21), need PumpUp - recentering cursor
[11:24:23] [INFO] [Shotgun.FIX#445v7] Cursor recentered to (640, 360)
[11:24:24] [INFO] [EnemyGrenade] Throw path blocked to (311.0081, 893.3637)
[11:24:24] [INFO] [EnemyGrenade] Throw path blocked to (310.8698, 893.3428)
[11:24:24] [INFO] [EnemyGrenade] Throw path blocked to (310.5767, 893.2988)
[11:24:24] [ENEMY] [Enemy3] PATROL corner check: angle -90.0°
[11:24:24] [INFO] [EnemyGrenade] Throw path blocked to (310.1287, 893.2311)
[11:24:24] [ENEMY] [Enemy3] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-90.0°, current=0.0°, player=(283,1066), corner_timer=0.30
[11:24:24] [INFO] [EnemyGrenade] Throw path blocked to (309.5254, 893.1394)
[11:24:24] [INFO] [ImpactEffects] Spawning explosion visual effect at (1136.415, 991.3426) (radius=15) - using shadow-based wall occlusion
[11:24:24] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1136.415, 991.3426), source=PLAYER (@Area2D@2752), range=500, listeners=4
[11:24:24] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=0
[11:24:24] [INFO] [EnemyGrenade] Throw path blocked to (308.7668, 893.0232)
[11:24:24] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[11:24:24] [INFO] [EnemyGrenade] Throw path blocked to (307.853, 892.8819)
[11:24:24] [ENEMY] [Enemy3] Hit: dmg=1, hp=2/2->1/2
[11:24:24] [INFO] [ImpactEffects] spawn_blood_effect called at (1214.667, 1000), dir=(0.997938, 0.064189), lethal=false
[11:24:24] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[11:24:24] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[11:24:24] [INFO] [ImpactEffects] Blood effect spawned at (1214.667, 1000) (scale=1)
[11:24:24] [ENEMY] [Enemy3] Hit: dmg=1, hp=1/2->0/2
[11:24:24] [INFO] [ImpactEffects] spawn_blood_effect called at (1214.667, 1000), dir=(0.941439, 0.337183), lethal=true
[11:24:24] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[11:24:24] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[11:24:24] [INFO] [ImpactEffects] Blood effect spawned at (1214.667, 1000) (scale=1.5)
[11:24:24] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[11:24:24] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[11:24:24] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 3)
[11:24:24] [INFO] [DeathAnim] Started - Angle: 19.7 deg, Index: 13
[11:24:24] [ENEMY] [Enemy3] Death animation started with hit direction: (0.941439, 0.337183)
[11:24:24] [INFO] [EnemyGrenade] Throw path blocked to (306.784, 892.7148)
[11:24:24] [INFO] [EnemyGrenade] Throw path blocked to (305.56, 892.5209)
[11:24:24] [INFO] [EnemyGrenade] Throw path blocked to (304.1814, 892.2996)
[11:24:24] [INFO] [EnemyGrenade] Throw path blocked to (302.6487, 892.0496)
[11:24:24] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[11:24:24] [INFO] [EnemyGrenade] Throw path blocked to (300.9623, 891.7698)
[11:24:24] [INFO] [ImpactEffects] Spawning explosion visual effect at (1380.324, 1049.114) (radius=15) - using shadow-based wall occlusion
[11:24:24] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1380.324, 1049.114), source=PLAYER (@Area2D@2754), range=500, listeners=3
[11:24:24] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[11:24:24] [INFO] [EnemyGrenade] Throw path blocked to (299.1231, 891.4591)
[11:24:24] [INFO] [ImpactEffects] Spawning explosion visual effect at (1379.931, 902.1376) (radius=15) - using shadow-based wall occlusion
[11:24:24] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1379.931, 902.1376), source=PLAYER (@Area2D@2749), range=500, listeners=3
[11:24:24] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[11:24:24] [INFO] [ImpactEffects] Spawning explosion visual effect at (1382.198, 931.3399) (radius=15) - using shadow-based wall occlusion
[11:24:24] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1382.198, 931.3399), source=PLAYER (@Area2D@2750), range=500, listeners=3
[11:24:24] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[11:24:24] [INFO] [ImpactEffects] Spawning explosion visual effect at (1393.797, 939.7881) (radius=15) - using shadow-based wall occlusion
[11:24:24] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1393.797, 939.7881), source=PLAYER (@Area2D@2751), range=500, listeners=3
[11:24:24] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[11:24:24] [INFO] [ImpactEffects] Spawning explosion visual effect at (1401.653, 1013.174) (radius=15) - using shadow-based wall occlusion
[11:24:24] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1401.653, 1013.174), source=PLAYER (@Area2D@2753), range=500, listeners=3
[11:24:24] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[11:24:24] [INFO] [ImpactEffects] Spawning explosion visual effect at (1405.858, 1062.665) (radius=15) - using shadow-based wall occlusion
[11:24:24] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1405.858, 1062.665), source=PLAYER (@Area2D@2755), range=500, listeners=3
[11:24:24] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[11:24:24] [INFO] [EnemyGrenade] Throw path blocked to (297.1319, 891.116)
[11:24:24] [INFO] [EnemyGrenade] Throw path blocked to (294.9896, 890.7392)
[11:24:24] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=774), can_see=false
[11:24:24] [INFO] [EnemyGrenade] Throw path blocked to (292.6973, 890.3271)
[11:24:24] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1448), can_see=false
[11:24:24] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1454), can_see=false
[11:24:24] [INFO] [EnemyGrenade] Throw path blocked to (290.2563, 889.8782)
[11:24:24] [INFO] [EnemyGrenade] Throw path blocked to (287.6679, 889.3908)
[11:24:24] [INFO] [EnemyGrenade] Throw path blocked to (284.9338, 888.8632)
[11:24:24] [INFO] [BloodDecal] Blood puddle created at (954.2513, 956.8088) (added to group)
[11:24:24] [INFO] [BloodDecal] Blood puddle created at (945.7335, 957.6066) (added to group)
[11:24:24] [INFO] [BloodDecal] Blood puddle created at (952.7572, 948.5892) (added to group)
[11:24:24] [INFO] [EnemyGrenade] Throw path blocked to (282.0556, 888.2935)
[11:24:24] [INFO] [EnemyGrenade] Throw path blocked to (279.0352, 887.6798)
[11:24:24] [INFO] [EnemyGrenade] Throw path blocked to (275.8746, 887.0204)
[11:24:24] [INFO] [EnemyGrenade] Throw path blocked to (272.6292, 886.3247)
[11:24:24] [INFO] [EnemyGrenade] Throw path blocked to (269.3953, 885.6129)
[11:24:24] [INFO] [EnemyGrenade] Throw path blocked to (266.1734, 884.885)
[11:24:24] [INFO] [EnemyGrenade] Throw path blocked to (262.9636, 884.1413)
[11:24:24] [INFO] [EnemyGrenade] Throw path blocked to (259.7662, 883.3819)
[11:24:24] [INFO] [BloodDecal] Blood puddle created at (979.1608, 984.7116) (added to group)
[11:24:24] [INFO] [BloodDecal] Blood puddle created at (965.2246, 1011.306) (added to group)
[11:24:24] [INFO] [BloodDecal] Blood puddle created at (1010.244, 967.11) (added to group)
[11:24:24] [INFO] [BloodDecal] Blood puddle created at (1007.804, 974.4492) (added to group)
[11:24:24] [INFO] [BloodDecal] Blood puddle created at (989.4647, 957.1534) (added to group)
[11:24:24] [INFO] [BloodDecal] Blood puddle created at (991.6849, 950.9766) (added to group)
[11:24:24] [INFO] [BloodDecal] Blood puddle created at (971.2991, 995.8396) (added to group)
[11:24:24] [INFO] [BloodDecal] Blood puddle created at (1250.708, 1006.638) (added to group)
[11:24:24] [INFO] [BloodDecal] Blood puddle created at (1249.04, 1042.023) (added to group)
[11:24:24] [INFO] [EnemyGrenade] Throw path blocked to (256.5814, 882.6072)
[11:24:24] [INFO] [EnemyGrenade] Throw path blocked to (253.5038, 881.8409)
[11:24:24] [INFO] [EnemyGrenade] Throw path blocked to (250.5349, 881.0853)
[11:24:24] [INFO] [ReplayManager] Recording frame 120 (1,9s): player_valid=True, enemies=5
[11:24:24] [INFO] [EnemyGrenade] Throw path blocked to (247.6757, 880.3424)
[11:24:24] [INFO] [EnemyGrenade] Throw path blocked to (244.9274, 879.6141)
[11:24:24] [INFO] [EnemyGrenade] Throw path blocked to (242.2907, 878.9022)
[11:24:24] [INFO] [BloodDecal] Blood puddle created at (968.8597, 1021.865) (added to group)
[11:24:24] [INFO] [BloodDecal] Blood puddle created at (1009.924, 1040.398) (added to group)
[11:24:24] [INFO] [BloodDecal] Blood puddle created at (1006.22, 995.9462) (added to group)
[11:24:24] [INFO] [BloodDecal] Blood puddle created at (977.353, 989.4863) (added to group)
[11:24:24] [INFO] [BloodDecal] Blood puddle created at (1027.569, 1011.716) (added to group)
[11:24:24] [INFO] [BloodDecal] Blood puddle created at (1261.41, 1046.555) (added to group)
[11:24:24] [INFO] [BloodDecal] Blood puddle created at (1295.691, 1066.179) (added to group)
[11:24:24] [INFO] [BloodDecal] Blood puddle created at (1318.363, 1074.734) (added to group)
[11:24:24] [INFO] [EnemyGrenade] Throw path blocked to (239.7662, 878.2086)
[11:24:24] [INFO] [EnemyGrenade] Throw path blocked to (237.3545, 877.5348)
[11:24:24] [INFO] [EnemyGrenade] Throw path blocked to (235.0557, 876.8824)
[11:24:24] [INFO] [EnemyGrenade] Throw path blocked to (232.8701, 876.2531)
[11:24:24] [ENEMY] [Enemy2] Ragdoll activated
[11:24:24] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[11:24:24] [INFO] [BloodDecal] Blood puddle created at (1024.283, 1006.194) (added to group)
[11:24:24] [INFO] [BloodDecal] Blood puddle created at (1001.424, 1016.75) (added to group)
[11:24:24] [INFO] [BloodDecal] Blood puddle created at (1264.109, 1056.743) (added to group)
[11:24:24] [INFO] [BloodDecal] Blood puddle created at (1334.974, 1046.196) (added to group)
[11:24:24] [INFO] [BloodDecal] Blood puddle created at (1281.84, 1032.244) (added to group)
[11:24:24] [INFO] [BloodDecal] Blood puddle created at (1310.141, 1100.259) (added to group)
[11:24:24] [INFO] [EnemyGrenade] Throw path blocked to (230.7976, 875.6479)
[11:24:24] [INFO] [EnemyGrenade] Throw path blocked to (228.838, 875.0684)
[11:24:24] [INFO] [BloodDecal] Blood puddle created at (1352.698, 1007.893) (added to group)
[11:24:24] [INFO] [BloodDecal] Blood puddle created at (1357.9, 1032.99) (added to group)
[11:24:24] [INFO] [EnemyGrenade] Throw path blocked to (226.991, 874.5153)
[11:24:24] [INFO] [EnemyGrenade] Throw path blocked to (225.3067, 874.0054)
[11:24:24] [INFO] [Shotgun.FIX#445v7] TryProcessMidDragGesture - dragVector=(5,2, 221,2), length=221,2, isDragUp=False, isDragDown=True, ActionState=NeedsPumpUp
[11:24:24] [INFO] [BloodDecal] Blood puddle created at (1030.055, 1073.321) (added to group)
[11:24:24] [INFO] [BloodDecal] Blood puddle created at (1030.199, 1063.306) (added to group)
[11:24:24] [INFO] [BloodDecal] Blood puddle created at (1076.045, 969.4425) (added to group)
[11:24:24] [INFO] [BloodDecal] Blood puddle created at (1315.082, 1087.661) (added to group)
[11:24:24] [INFO] [BloodDecal] Blood puddle created at (1312.559, 1074.036) (added to group)
[11:24:24] [INFO] [EnemyGrenade] Throw path blocked to (223.7831, 873.5396)
[11:24:24] [INFO] [EnemyGrenade] Throw path blocked to (222.3932, 873.1107)
[11:24:24] [ENEMY] [Enemy3] Ragdoll activated
[11:24:24] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[11:24:24] [INFO] [BloodDecal] Blood puddle created at (1051.684, 981.0112) (added to group)
[11:24:24] [INFO] [BloodDecal] Blood puddle created at (1338.815, 1106.321) (added to group)
[11:24:24] [INFO] [BloodDecal] Blood puddle created at (1307.631, 1051.872) (added to group)
[11:24:24] [INFO] [BloodDecal] Blood puddle created at (1360.152, 1097.534) (added to group)
[11:24:24] [INFO] [EnemyGrenade] Throw path blocked to (221.1348, 872.7191)
[11:24:24] [INFO] [BloodDecal] Blood puddle created at (1024.698, 1045.612) (added to group)
[11:24:24] [INFO] [BloodDecal] Blood puddle created at (1067.989, 1019.206) (added to group)
[11:24:24] [INFO] [EnemyGrenade] Throw path blocked to (220.0052, 872.3652)
[11:24:24] [INFO] [EnemyGrenade] Throw path blocked to (219.0027, 872.0489)
[11:24:24] [INFO] [BloodDecal] Blood puddle created at (1012.766, 982.4789) (added to group)
[11:24:24] [INFO] [BloodDecal] Blood puddle created at (1359.29, 1051.44) (added to group)
[11:24:24] [INFO] [BloodDecal] Blood puddle created at (1304.695, 1080.815) (added to group)
[11:24:24] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=832), can_see=false
[11:24:24] [INFO] [EnemyGrenade] Throw path blocked to (218.125, 871.7705)
[11:24:24] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1566), can_see=false
[11:24:24] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1567), can_see=false
[11:24:24] [INFO] [EnemyGrenade] Throw path blocked to (217.3705, 871.5299)
[11:24:24] [INFO] [BloodDecal] Blood puddle created at (1013.015, 1077.519) (added to group)
[11:24:24] [INFO] [BloodDecal] Blood puddle created at (1001.26, 1107.275) (added to group)
[11:24:24] [INFO] [BloodDecal] Blood puddle created at (1015.024, 1059.373) (added to group)
[11:24:24] [INFO] [EnemyGrenade] Throw path blocked to (216.7374, 871.3273)
[11:24:24] [INFO] [BloodDecal] Blood puddle created at (1037.81, 1110.983) (added to group)
[11:24:24] [INFO] [BloodDecal] Blood puddle created at (1074.907, 1058.784) (added to group)
[11:24:24] [INFO] [EnemyGrenade] Throw path blocked to (216.2244, 871.1624)
[11:24:24] [INFO] [EnemyGrenade] Throw path blocked to (215.7724, 871.0168)
[11:24:24] [INFO] [BloodDecal] Blood puddle created at (1026.979, 1043.732) (added to group)
[11:24:24] [INFO] [BloodDecal] Blood puddle created at (1378.14, 1072.14) (added to group)
[11:24:24] [INFO] [EnemyGrenade] Throw path blocked to (215.3808, 870.8903)
[11:24:24] [INFO] [EnemyGrenade] Throw path blocked to (215.0488, 870.7829)
[11:24:24] [INFO] [BloodDecal] Blood puddle created at (1315.057, 1080.977) (added to group)
[11:24:24] [INFO] [EnemyGrenade] Throw path blocked to (214.7757, 870.6943)
[11:24:24] [INFO] [EnemyGrenade] Throw path blocked to (214.6243, 870.6451)
[11:24:24] [INFO] [BloodDecal] Blood puddle created at (1324.683, 1090.443) (added to group)
[11:24:24] [INFO] [EnemyGrenade] Throw path blocked to (214.5941, 870.6353)
[11:24:24] [INFO] [EnemyGrenade] Throw path blocked to (214.6842, 870.6646)
[11:24:24] [INFO] [EnemyGrenade] Throw path blocked to (214.8944, 870.7328)
[11:24:24] [INFO] [Shotgun.FIX#445v7] TryProcessMidDragGesture - dragVector=(27,9, 158,0), length=160,4, isDragUp=False, isDragDown=True, ActionState=NeedsPumpUp
[11:24:24] [INFO] [BloodDecal] Blood puddle created at (1318.788, 1126.577) (added to group)
[11:24:24] [INFO] [EnemyGrenade] Throw path blocked to (215.2242, 870.8397)
[11:24:24] [INFO] [EnemyGrenade] Throw path blocked to (215.517, 870.9344)
[11:24:25] [INFO] [EnemyGrenade] Throw path blocked to (215.8841, 871.0529)
[11:24:25] [INFO] [EnemyGrenade] Throw path blocked to (216.3874, 871.2148)
[11:24:25] [INFO] [EnemyGrenade] Throw path blocked to (217.0255, 871.4196)
[11:24:25] [INFO] [EnemyGrenade] Throw path blocked to (217.8024, 871.6678)
[11:24:25] [INFO] [EnemyGrenade] Throw path blocked to (218.7169, 871.9584)
[11:24:25] [INFO] [EnemyGrenade] Throw path blocked to (219.7693, 872.2909)
[11:24:25] [INFO] [EnemyGrenade] Throw path blocked to (220.9608, 872.6648)
[11:24:25] [INFO] [EnemyGrenade] Throw path blocked to (222.292, 873.0793)
[11:24:25] [INFO] [EnemyGrenade] Throw path blocked to (223.6297, 873.4924)
[11:24:25] [INFO] [EnemyGrenade] Throw path blocked to (224.9748, 873.9043)
[11:24:25] [INFO] [EnemyGrenade] Throw path blocked to (226.3284, 874.3154)
[11:24:25] [INFO] [EnemyGrenade] Throw path blocked to (227.6915, 874.7259)
[11:24:25] [INFO] [EnemyGrenade] Throw path blocked to (229.0653, 875.1359)
[11:24:25] [INFO] [EnemyGrenade] Throw path blocked to (230.4507, 875.5459)
[11:24:25] [INFO] [EnemyGrenade] Throw path blocked to (231.8491, 875.9559)
[11:24:25] [INFO] [Shotgun.FIX#445v7] TryProcessMidDragGesture - dragVector=(17,9, 332,1), length=332,6, isDragUp=False, isDragDown=True, ActionState=NeedsPumpUp
[11:24:25] [INFO] [EnemyGrenade] Throw path blocked to (233.2614, 876.3664)
[11:24:25] [INFO] [EnemyGrenade] Throw path blocked to (234.6889, 876.7775)
[11:24:25] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=833), can_see=false
[11:24:25] [INFO] [EnemyGrenade] Throw path blocked to (236.0468, 877.1649)
[11:24:25] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1545), can_see=false
[11:24:25] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1551), can_see=false
[11:24:25] [INFO] [EnemyGrenade] Throw path blocked to (237.3338, 877.5289)
[11:24:25] [INFO] [EnemyGrenade] Throw path blocked to (238.5483, 877.8697)
[11:24:25] [INFO] [EnemyGrenade] Throw path blocked to (239.6893, 878.1873)
[11:24:25] [INFO] [EnemyGrenade] Throw path blocked to (240.7553, 878.4818)
[11:24:25] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[11:24:25] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:24:25] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[11:24:25] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[11:24:25] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[11:24:25] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[11:24:25] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[11:24:25] [INFO] [LastChance] Resetting all effects (scene change detected)
[11:24:25] [INFO] [CinemaEffects] Scene changed to: LabyrinthLevel
[11:24:25] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[11:24:25] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[11:24:25] [ENEMY] [Enemy1] Death animation component initialized
[11:24:25] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:24:25] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[11:24:25] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[11:24:25] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[11:24:25] [INFO] [EnemyGrenade] Initialized: 1 grenades
[11:24:25] [ENEMY] [Enemy2] Death animation component initialized
[11:24:25] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:24:25] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[11:24:25] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[11:24:25] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[11:24:25] [INFO] [EnemyGrenade] Initialized: 1 grenades
[11:24:25] [ENEMY] [Enemy3] Death animation component initialized
[11:24:25] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:24:25] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[11:24:25] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[11:24:25] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[11:24:25] [ENEMY] [Enemy4] Death animation component initialized
[11:24:25] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:24:25] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[11:24:25] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[11:24:25] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[11:24:25] [ENEMY] [Enemy5] Death animation component initialized
[11:24:25] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:24:25] [INFO] [BloodyFeet:Player] Footprint scene loaded
[11:24:25] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[11:24:25] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[11:24:25] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[11:24:25] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[11:24:25] [INFO] [Player.Weapon] GameManager weapon selection: shotgun (Shotgun)
[11:24:25] [INFO] [Player.Weapon] Removed default MakarovPM
[11:24:25] [INFO] [Player.Weapon] Equipped Shotgun (ammo: 0/8)
[11:24:25] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[11:24:25] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[11:24:25] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[11:24:25] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[11:24:25] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[11:24:25] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[11:24:25] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[11:24:25] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[11:24:25] [INFO] [Player.Homing] No homing bullets selected in ActiveItemManager
[11:24:25] [INFO] [Player.InvisibilitySuit] No invisibility suit selected in ActiveItemManager
[11:24:25] [INFO] [Player.BreakerBullets] Breaker bullets active — bullets will detonate 60px before walls
[11:24:25] [INFO] [Player.BreakerBullets] Set IsBreakerBulletActive on weapon: Shotgun
[11:24:25] [INFO] [Player] Ready! Ammo: 0/8, Grenades: 1/3, Health: 2/4
[11:24:25] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[11:24:25] [INFO] [LabyrinthLevel] Found Environment/Enemies node with 5 children
[11:24:25] [INFO] [LabyrinthLevel] Child 'Enemy1': script=true, has_died_signal=true
[11:24:25] [INFO] [LabyrinthLevel] Child 'Enemy2': script=true, has_died_signal=true
[11:24:25] [INFO] [LabyrinthLevel] Child 'Enemy3': script=true, has_died_signal=true
[11:24:25] [INFO] [LabyrinthLevel] Child 'Enemy4': script=true, has_died_signal=true
[11:24:25] [INFO] [LabyrinthLevel] Child 'Enemy5': script=true, has_died_signal=true
[11:24:25] [INFO] [LabyrinthLevel] Enemy tracking complete: 5 enemies registered
[11:24:25] [INFO] [LabyrinthLevel] Setting up weapon: shotgun
[11:24:25] [INFO] [LabyrinthLevel] Shotgun already equipped by C# Player - skipping GDScript weapon swap
[11:24:25] [INFO] [ScoreManager] Level started with 5 enemies
[11:24:25] [INFO] [LabyrinthLevel] ReplayManager found as C# autoload - verified OK
[11:24:25] [INFO] [LabyrinthLevel] Starting replay recording - Player: Player, Enemies count: 5
[11:24:25] [INFO] [ReplayManager] Replay data cleared
[11:24:25] [INFO] [LabyrinthLevel] Previous replay data cleared
[11:24:25] [INFO] [ReplayManager] Detected player weapon: Shotgun
[11:24:25] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[11:24:25] [INFO] [ReplayManager] Level: LabyrinthLevel
[11:24:25] [INFO] [ReplayManager] Player: Player (valid: True)
[11:24:25] [INFO] [ReplayManager] Enemies count: 5
[11:24:25] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/shotgun_topdown.png
[11:24:25] [INFO] [ReplayManager]   Enemy 0: Enemy1
[11:24:25] [INFO] [ReplayManager]   Enemy 1: Enemy2
[11:24:25] [INFO] [ReplayManager]   Enemy 2: Enemy3
[11:24:25] [INFO] [ReplayManager]   Enemy 3: Enemy4
[11:24:25] [INFO] [ReplayManager]   Enemy 4: Enemy5
[11:24:25] [INFO] [LabyrinthLevel] Replay recording started successfully
[11:24:25] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[11:24:25] [INFO] [CinemaEffects] Found player node: Player
[11:24:25] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[11:24:25] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 4)
[11:24:25] [ENEMY] [Enemy1] Registered as sound listener
[11:24:25] [ENEMY] [Enemy1] Spawned at (400, 300), hp: 1, behavior: GUARD
[11:24:25] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[11:24:25] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 5)
[11:24:25] [ENEMY] [Enemy2] Registered as sound listener
[11:24:25] [ENEMY] [Enemy2] Spawned at (900, 950), hp: 2, behavior: GUARD
[11:24:25] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[11:24:25] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 6)
[11:24:25] [ENEMY] [Enemy3] Registered as sound listener
[11:24:25] [ENEMY] [Enemy3] Spawned at (1200, 1000), hp: 2, behavior: PATROL
[11:24:25] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[11:24:25] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 7)
[11:24:25] [ENEMY] [Enemy4] Registered as sound listener
[11:24:25] [ENEMY] [Enemy4] Spawned at (1650, 650), hp: 2, behavior: GUARD
[11:24:25] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[11:24:25] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 8)
[11:24:25] [ENEMY] [Enemy5] Registered as sound listener
[11:24:25] [ENEMY] [Enemy5] Spawned at (1500, 300), hp: 4, behavior: GUARD
[11:24:25] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[11:24:25] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=5
[11:24:25] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(150,1000), corner_timer=0.00
[11:24:25] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=337.5°, current=0.0°, player=(150,1000), corner_timer=0.00
[11:24:25] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=315.0°, current=0.0°, player=(150,1000), corner_timer=0.00
[11:24:25] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(150,1000), corner_timer=0.00
[11:24:25] [INFO] [Player] Detecting weapon pose (frame 3)...
[11:24:25] [INFO] [Player] Detected weapon: Shotgun (Shotgun pose)
[11:24:25] [INFO] [Player] Applied Shotgun arm pose: Left=(21, 6), Right=(-1, 6)
[11:24:25] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[11:24:25] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[11:24:25] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[11:24:25] [INFO] [LastChance] Found player: Player
[11:24:25] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[11:24:25] [INFO] [LastChance] Connected to player Damaged signal (C#)
[11:24:25] [INFO] [LastChance] Connected to player Died signal (C#)
[11:24:25] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[11:24:26] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=5
[11:24:26] [ENEMY] [Enemy1] Player ammo empty: false -> true
[11:24:26] [ENEMY] [Enemy2] Player ammo empty: false -> true
[11:24:26] [ENEMY] [Enemy3] Player ammo empty: false -> true
[11:24:26] [ENEMY] [Enemy4] Player ammo empty: false -> true
[11:24:26] [ENEMY] [Enemy5] Player ammo empty: false -> true
[11:24:26] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(232.1197, 1107.322), source=PLAYER (Player), range=600, listeners=8
[11:24:26] [INFO] [SoundPropagation] Cleaned up 3 invalid listeners
[11:24:26] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[11:24:26] [INFO] [Shotgun.FIX#212] Firing 16 pellets with 15° spread at pos=(232.1197, 1107.3217)
[11:24:26] [INFO] [Shotgun.FIX#212] Normal pellet 1/16: extraOffset=3,4, distance=55,4px, pos=(285.10138, 1090.9854)
[11:24:26] [INFO] [Shotgun.FIX#212] Normal pellet 2/16: extraOffset=9,1, distance=61,1px, pos=(290.78366, 1090.1808)
[11:24:26] [INFO] [Shotgun.FIX#212] Normal pellet 3/16: extraOffset=2,6, distance=54,6px, pos=(284.79877, 1092.9684)
[11:24:26] [INFO] [Shotgun.FIX#212] Normal pellet 4/16: extraOffset=-9,5, distance=42,5px, pos=(273.3531, 1096.843)
[11:24:26] [INFO] [Shotgun.FIX#212] Normal pellet 5/16: extraOffset=-9,4, distance=42,6px, pos=(273.6991, 1097.8691)
[11:24:26] [INFO] [Shotgun.FIX#212] Normal pellet 6/16: extraOffset=-10,6, distance=41,4px, pos=(272.8369, 1099.9408)
[11:24:26] [INFO] [Shotgun.FIX#212] Normal pellet 7/16: extraOffset=12,9, distance=64,9px, pos=(296.0397, 1096.2811)
[11:24:26] [INFO] [Shotgun.FIX#212] Normal pellet 8/16: extraOffset=7,3, distance=59,3px, pos=(290.79227, 1098.4652)
[11:24:26] [INFO] [Shotgun.FIX#212] Normal pellet 9/16: extraOffset=-0,9, distance=51,1px, pos=(282.56097, 1099.2546)
[11:24:26] [INFO] [Shotgun.FIX#212] Normal pellet 10/16: extraOffset=-11,4, distance=40,6px, pos=(272.31003, 1101.9198)
[11:24:26] [INFO] [Shotgun.FIX#212] Normal pellet 11/16: extraOffset=4,7, distance=56,7px, pos=(288.35083, 1100.1061)
[11:24:26] [INFO] [Shotgun.FIX#212] Normal pellet 12/16: extraOffset=-9,7, distance=42,3px, pos=(274.316, 1104.3998)
[11:24:26] [INFO] [Shotgun.FIX#212] Normal pellet 13/16: extraOffset=-5,2, distance=46,8px, pos=(278.7726, 1104.1116)
[11:24:26] [INFO] [Shotgun.FIX#212] Normal pellet 14/16: extraOffset=13,3, distance=65,3px, pos=(297.282, 1103.8427)
[11:24:26] [INFO] [Shotgun.FIX#212] Normal pellet 15/16: extraOffset=12,3, distance=64,3px, pos=(296.35217, 1105.7417)
[11:24:26] [INFO] [Shotgun.FIX#212] Normal pellet 16/16: extraOffset=-14,5, distance=37,5px, pos=(269.5437, 1105.8102)
[11:24:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(232.1197, 1107.322), source=PLAYER (Shotgun), range=1469, listeners=5
[11:24:26] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=3
[11:24:26] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=825), can_see=false
[11:24:26] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=686), can_see=false
[11:24:26] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=974), can_see=false
[11:24:26] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1490), can_see=false
[11:24:26] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1503), can_see=false
[11:24:26] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[11:24:26] [INFO] [ImpactEffects] Spawning explosion visual effect at (802.721, 931.3835) (radius=15) - using shadow-based wall occlusion
[11:24:26] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(802.721, 931.3835), source=PLAYER (ShotgunPellet), range=500, listeners=5
[11:24:26] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=0
[11:24:26] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=NeedsPumpUp, ReloadState=NotReloading
[11:24:26] [INFO] [Shotgun.FIX#445] dragStartPos=(666, 1065), aimDir=(0,99, -0,11)
[11:24:26] [INFO] [ImpactEffects] Spawning explosion visual effect at (850.7051, 926.5786) (radius=15) - using shadow-based wall occlusion
[11:24:26] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(850.7051, 926.5786), source=PLAYER (@Area2D@3256), range=500, listeners=5
[11:24:26] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=0
[11:24:26] [INFO] [ImpactEffects] Spawning explosion visual effect at (847.615, 939.6195) (radius=15) - using shadow-based wall occlusion
[11:24:26] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(847.615, 939.6195), source=PLAYER (@Area2D@3257), range=500, listeners=5
[11:24:26] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=0
[11:24:26] [INFO] [ImpactEffects] Spawning explosion visual effect at (838.7159, 953.1683) (radius=15) - using shadow-based wall occlusion
[11:24:26] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(838.7159, 953.1683), source=PLAYER (@Area2D@3258), range=500, listeners=5
[11:24:26] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=0
[11:24:26] [INFO] [ImpactEffects] Spawning explosion visual effect at (842.519, 968.5554) (radius=15) - using shadow-based wall occlusion
[11:24:26] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(842.519, 968.5554), source=PLAYER (@Area2D@3259), range=500, listeners=5
[11:24:26] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=0
[11:24:26] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[11:24:26] [ENEMY] [Enemy2] Hit: dmg=1, hp=2/2->1/2
[11:24:26] [INFO] [ImpactEffects] spawn_blood_effect called at (900, 950), dir=(0.983581, -0.180467), lethal=false
[11:24:26] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[11:24:26] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[11:24:26] [INFO] [ImpactEffects] Blood effect spawned at (900, 950) (scale=1)
[11:24:26] [ENEMY] [Enemy2] Hit: dmg=1, hp=1/2->0/2
[11:24:26] [INFO] [ImpactEffects] spawn_blood_effect called at (900, 950), dir=(0.994004, 0.109345), lethal=true
[11:24:26] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[11:24:26] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[11:24:26] [INFO] [ImpactEffects] Blood effect spawned at (900, 950) (scale=1.5)
[11:24:26] [ENEMY] [Enemy2] Enemy died (ricochet: false, penetration: false)
[11:24:26] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[11:24:26] [ENEMY] [Enemy2] [AllyDeath] Notified 1 enemies
[11:24:26] [INFO] [SoundPropagation] Unregistered listener: Enemy2 (remaining: 4)
[11:24:26] [INFO] [DeathAnim] Started - Angle: 6.3 deg, Index: 12
[11:24:26] [ENEMY] [Enemy2] Death animation started with hit direction: (0.994004, 0.109345)
[11:24:26] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[11:24:26] [INFO] [Shotgun.FIX#445v7] Mouse at top edge (Y=1), need PumpUp - recentering cursor
[11:24:26] [INFO] [Shotgun.FIX#445v7] Cursor recentered to (640, 360)
[11:24:26] [INFO] [ImpactEffects] Spawning explosion visual effect at (1139.512, 985.3632) (radius=15) - using shadow-based wall occlusion
[11:24:26] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1139.512, 985.3632), source=PLAYER (@Area2D@3264), range=500, listeners=4
[11:24:26] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=0
[11:24:26] [INFO] [ImpactEffects] Spawning explosion visual effect at (1156.235, 988.7384) (radius=15) - using shadow-based wall occlusion
[11:24:26] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1156.235, 988.7384), source=PLAYER (@Area2D@3265), range=500, listeners=4
[11:24:26] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=0
[11:24:26] [ENEMY] [Enemy3] Hit: dmg=1, hp=2/2->1/2
[11:24:26] [INFO] [ImpactEffects] spawn_blood_effect called at (1200, 1000), dir=(0.945752, 0.324888), lethal=false
[11:24:26] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[11:24:26] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[11:24:26] [INFO] [ImpactEffects] Blood effect spawned at (1200, 1000) (scale=1)
[11:24:26] [ENEMY] [Enemy3] Hit: dmg=1, hp=1/2->0/2
[11:24:26] [INFO] [ImpactEffects] spawn_blood_effect called at (1200, 1000), dir=(0.998809, -0.048792), lethal=true
[11:24:26] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[11:24:26] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[11:24:26] [INFO] [ImpactEffects] Blood effect spawned at (1200, 1000) (scale=1.5)
[11:24:26] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[11:24:26] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[11:24:26] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 3)
[11:24:26] [INFO] [DeathAnim] Started - Angle: -2.8 deg, Index: 11
[11:24:26] [ENEMY] [Enemy3] Death animation started with hit direction: (0.998809, -0.048792)
[11:24:26] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[11:24:26] [INFO] [Shotgun.FIX#445v7] Mid-drag pump UP - shell ejected, continue dragging DOWN to chamber
[11:24:27] [INFO] [ImpactEffects] Spawning explosion visual effect at (1379.075, 1046.085) (radius=15) - using shadow-based wall occlusion
[11:24:27] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1379.075, 1046.085), source=PLAYER (@Area2D@3268), range=500, listeners=3
[11:24:27] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[11:24:27] [INFO] [ImpactEffects] Spawning explosion visual effect at (1379.358, 1079.104) (radius=15) - using shadow-based wall occlusion
[11:24:27] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1379.358, 1079.104), source=PLAYER (@Area2D@3269), range=500, listeners=3
[11:24:27] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=0
[11:24:27] [INFO] [ImpactEffects] Spawning explosion visual effect at (1379.797, 899.2799) (radius=15) - using shadow-based wall occlusion
[11:24:27] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1379.797, 899.2799), source=PLAYER (@Area2D@3260), range=500, listeners=3
[11:24:27] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[11:24:27] [INFO] [ImpactEffects] Spawning explosion visual effect at (1404.625, 904.8004) (radius=15) - using shadow-based wall occlusion
[11:24:27] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1404.625, 904.8004), source=PLAYER (@Area2D@3261), range=500, listeners=3
[11:24:27] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[11:24:27] [INFO] [ImpactEffects] Spawning explosion visual effect at (1403.191, 930.5524) (radius=15) - using shadow-based wall occlusion
[11:24:27] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1403.191, 930.5524), source=PLAYER (@Area2D@3262), range=500, listeners=3
[11:24:27] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[11:24:27] [INFO] [ImpactEffects] Spawning explosion visual effect at (1393.444, 921.5925) (radius=15) - using shadow-based wall occlusion
[11:24:27] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1393.444, 921.5925), source=PLAYER (@Area2D@3263), range=500, listeners=3
[11:24:27] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[11:24:27] [INFO] [ImpactEffects] Spawning explosion visual effect at (1396.629, 1026.686) (radius=15) - using shadow-based wall occlusion
[11:24:27] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1396.629, 1026.686), source=PLAYER (@Area2D@3266), range=500, listeners=3
[11:24:27] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[11:24:27] [INFO] [ImpactEffects] Spawning explosion visual effect at (1401.119, 1026.885) (radius=15) - using shadow-based wall occlusion
[11:24:27] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1401.119, 1026.885), source=PLAYER (@Area2D@3267), range=500, listeners=3
[11:24:27] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[11:24:27] [INFO] [ImpactEffects] Spawning explosion visual effect at (1393.627, 1060.409) (radius=15) - using shadow-based wall occlusion
[11:24:27] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1393.627, 1060.409), source=PLAYER (@Area2D@3270), range=500, listeners=3
[11:24:27] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[11:24:27] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[11:24:27] [INFO] [Shotgun.FIX#445v7] Mouse at bottom edge (Y=697), need PumpDown - recentering cursor
[11:24:27] [INFO] [Shotgun.FIX#445v7] Cursor recentered to (640, 360)
[11:24:27] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=826), can_see=false
[11:24:27] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1509), can_see=false
[11:24:27] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1520), can_see=false
[11:24:27] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[11:24:27] [INFO] [Shotgun.FIX#445v7] Mid-drag pump DOWN - chambered, ready to fire
[11:24:27] [INFO] [BloodDecal] Blood puddle created at (946.5684, 980.0267) (added to group)
[11:24:27] [INFO] [BloodDecal] Blood puddle created at (989.5437, 923.165) (added to group)
[11:24:27] [INFO] [BloodDecal] Blood puddle created at (964.4304, 960.4729) (added to group)
[11:24:27] [INFO] [BloodDecal] Blood puddle created at (958.8643, 949.0941) (added to group)
[11:24:27] [INFO] [BloodDecal] Blood puddle created at (963.8706, 982.5684) (added to group)
[11:24:27] [INFO] [BloodDecal] Blood puddle created at (981.337, 957.7352) (added to group)
[11:24:27] [INFO] [BloodDecal] Blood puddle created at (956.9434, 1006.571) (added to group)
[11:24:27] [INFO] [BloodDecal] Blood puddle created at (993.2634, 954.1409) (added to group)
[11:24:27] [INFO] [BloodDecal] Blood puddle created at (989.8508, 934.3209) (added to group)
[11:24:27] [INFO] [BloodDecal] Blood puddle created at (1276.175, 1058.028) (added to group)
[11:24:27] [INFO] [BloodDecal] Blood puddle created at (1282.856, 1027.066) (added to group)
[11:24:27] [INFO] [BloodDecal] Blood puddle created at (1269.313, 1079.459) (added to group)
[11:24:27] [INFO] [BloodDecal] Blood puddle created at (1265.158, 1083.681) (added to group)
[11:24:27] [INFO] [BloodDecal] Blood puddle created at (1249.583, 1042.685) (added to group)
[11:24:27] [INFO] [BloodDecal] Blood puddle created at (1279.449, 1033.876) (added to group)
[11:24:27] [INFO] [BloodDecal] Blood puddle created at (1280.88, 1059.701) (added to group)
[11:24:27] [INFO] [BloodDecal] Blood puddle created at (1240.037, 998.336) (added to group)
[11:24:27] [INFO] [BloodDecal] Blood puddle created at (1264.733, 997.1021) (added to group)
[11:24:27] [ENEMY] [Enemy2] Ragdoll activated
[11:24:27] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[11:24:27] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[11:24:27] [INFO] [BloodDecal] Blood puddle created at (1034.633, 1022.922) (added to group)
[11:24:27] [INFO] [BloodDecal] Blood puddle created at (1062.609, 1046.171) (added to group)
[11:24:27] [INFO] [BloodDecal] Blood puddle created at (1007.548, 1003.992) (added to group)
[11:24:27] [INFO] [BloodDecal] Blood puddle created at (987.2894, 987.8003) (added to group)
[11:24:27] [INFO] [BloodDecal] Blood puddle created at (956.2023, 1005.56) (added to group)
[11:24:27] [INFO] [BloodDecal] Blood puddle created at (963.5913, 974.1197) (added to group)
[11:24:27] [INFO] [BloodDecal] Blood puddle created at (1057.361, 964.3467) (added to group)
[11:24:27] [INFO] [BloodDecal] Blood puddle created at (1318.467, 1080.24) (added to group)
[11:24:27] [INFO] [BloodDecal] Blood puddle created at (1336.657, 984.8607) (added to group)
[11:24:27] [INFO] [BloodDecal] Blood puddle created at (1269.944, 1024.537) (added to group)
[11:24:27] [INFO] [BloodDecal] Blood puddle created at (1272.147, 1041.54) (added to group)
[11:24:27] [INFO] [BloodDecal] Blood puddle created at (1277.621, 1056.627) (added to group)
[11:24:27] [INFO] [BloodDecal] Blood puddle created at (1267.161, 1049.709) (added to group)
[11:24:27] [INFO] [BloodDecal] Blood puddle created at (1307.781, 1038.774) (added to group)
[11:24:27] [INFO] [BloodDecal] Blood puddle created at (1273.329, 1034.512) (added to group)
[11:24:27] [INFO] [BloodDecal] Blood puddle created at (1291.279, 1018.374) (added to group)
[11:24:27] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(189.9295, 1058.595), source=PLAYER (Player), range=600, listeners=3
[11:24:27] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=0
[11:24:27] [INFO] [Shotgun.FIX#212] Firing 14 pellets with 15° spread at pos=(189.92953, 1058.5946)
[11:24:27] [INFO] [Shotgun.FIX#212] Normal pellet 1/14: extraOffset=-2,0, distance=50,0px, pos=(238.71231, 1047.6626)
[11:24:27] [INFO] [Shotgun.FIX#212] Normal pellet 2/14: extraOffset=-9,2, distance=42,8px, pos=(231.79443, 1049.5886)
[11:24:27] [INFO] [Shotgun.FIX#212] Normal pellet 3/14: extraOffset=6,8, distance=58,8px, pos=(247.53441, 1046.616)
[11:24:27] [INFO] [Shotgun.FIX#212] Normal pellet 4/14: extraOffset=0,1, distance=52,1px, pos=(241.04471, 1048.3552)
[11:24:27] [INFO] [Shotgun.FIX#212] Normal pellet 5/14: extraOffset=1,5, distance=53,5px, pos=(242.51096, 1048.779)
[11:24:27] [INFO] [Shotgun.FIX#212] Normal pellet 6/14: extraOffset=-6,3, distance=45,7px, pos=(235.19551, 1052.0166)
[11:24:27] [INFO] [Shotgun.FIX#212] Normal pellet 7/14: extraOffset=-3,1, distance=48,9px, pos=(238.46877, 1052.6764)
[11:24:27] [INFO] [Shotgun.FIX#212] Normal pellet 8/14: extraOffset=12,9, distance=64,9px, pos=(254.44849, 1051.8905)
[11:24:27] [INFO] [Shotgun.FIX#212] Normal pellet 9/14: extraOffset=-12,8, distance=39,2px, pos=(228.92648, 1054.612)
[11:24:27] [INFO] [Shotgun.FIX#212] Normal pellet 10/14: extraOffset=-7,9, distance=44,1px, pos=(233.93117, 1056.4473)
[11:24:27] [INFO] [Shotgun.FIX#212] Normal pellet 11/14: extraOffset=-4,6, distance=47,4px, pos=(237.28525, 1057.4457)
[11:24:27] [INFO] [Shotgun.FIX#212] Normal pellet 12/14: extraOffset=-3,7, distance=48,3px, pos=(238.26244, 1057.6813)
[11:24:27] [INFO] [Shotgun.FIX#212] Normal pellet 13/14: extraOffset=0,1, distance=52,1px, pos=(241.9756, 1057.3883)
[11:24:27] [INFO] [Shotgun.FIX#212] Normal pellet 14/14: extraOffset=10,2, distance=62,2px, pos=(252.08438, 1059.3176)
[11:24:27] [INFO] [Shotgun.FIX#445v7] Reset drag start position after firing (continuous pump mode)
[11:24:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(189.9295, 1058.595), source=PLAYER (Shotgun), range=1469, listeners=3
[11:24:27] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=1
[11:24:27] [INFO] [ImpactEffects] Spawning explosion visual effect at (288.3284, 1038.133) (radius=15) - using shadow-based wall occlusion
[11:24:27] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(288.3284, 1038.133), source=PLAYER (@Area2D@3509), range=500, listeners=3
[11:24:27] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=0
[11:24:27] [INFO] [ImpactEffects] Spawning explosion visual effect at (281.8997, 1040.171) (radius=15) - using shadow-based wall occlusion
[11:24:27] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(281.8997, 1040.171), source=PLAYER (@Area2D@3510), range=500, listeners=3
[11:24:27] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=0
[11:24:27] [INFO] [ImpactEffects] Spawning explosion visual effect at (283.4701, 1041.133) (radius=15) - using shadow-based wall occlusion
[11:24:27] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(283.4701, 1041.133), source=PLAYER (@Area2D@3511), range=500, listeners=3
[11:24:27] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=0
[11:24:27] [INFO] [ImpactEffects] Spawning explosion visual effect at (279.8291, 1047.634) (radius=15) - using shadow-based wall occlusion
[11:24:27] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(279.8291, 1047.634), source=PLAYER (@Area2D@3513), range=500, listeners=3
[11:24:27] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=0
[11:24:27] [INFO] [ImpactEffects] Spawning explosion visual effect at (295.892, 1047.584) (radius=15) - using shadow-based wall occlusion
[11:24:27] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(295.892, 1047.584), source=PLAYER (@Area2D@3514), range=500, listeners=3
[11:24:27] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=0
[11:24:27] [INFO] [ImpactEffects] Spawning explosion visual effect at (278.9397, 1056.435) (radius=15) - using shadow-based wall occlusion
[11:24:27] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(278.9397, 1056.435), source=PLAYER (@Area2D@3517), range=500, listeners=3
[11:24:27] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=0
[11:24:27] [INFO] [ImpactEffects] Spawning explosion visual effect at (279.9217, 1056.894) (radius=15) - using shadow-based wall occlusion
[11:24:27] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(279.9217, 1056.894), source=PLAYER (@Area2D@3518), range=500, listeners=3
[11:24:27] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=0
[11:24:27] [INFO] [ImpactEffects] Spawning explosion visual effect at (283.6311, 1056.423) (radius=15) - using shadow-based wall occlusion
[11:24:27] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(283.6311, 1056.423), source=PLAYER (@Area2D@3519), range=500, listeners=3
[11:24:27] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=0
[11:24:27] [INFO] [ImpactEffects] Spawning explosion visual effect at (320.0288, 1029.44) (radius=15) - using shadow-based wall occlusion
[11:24:27] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(320.0288, 1029.44), source=PLAYER (ShotgunPellet), range=500, listeners=3
[11:24:27] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=0
[11:24:27] [INFO] [ImpactEffects] Spawning explosion visual effect at (313.264, 1032.063) (radius=15) - using shadow-based wall occlusion
[11:24:27] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(313.264, 1032.063), source=PLAYER (@Area2D@3508), range=500, listeners=3
[11:24:27] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=0
[11:24:27] [INFO] [ImpactEffects] Spawning explosion visual effect at (317.6627, 1040.032) (radius=15) - using shadow-based wall occlusion
[11:24:27] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(317.6627, 1040.032), source=PLAYER (@Area2D@3512), range=500, listeners=3
[11:24:27] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=0
[11:24:27] [INFO] [ImpactEffects] Spawning explosion visual effect at (311.8286, 1046.146) (radius=15) - using shadow-based wall occlusion
[11:24:27] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(311.8286, 1046.146), source=PLAYER (@Area2D@3515), range=500, listeners=3
[11:24:27] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=0
[11:24:27] [INFO] [ImpactEffects] Spawning explosion visual effect at (317.1655, 1052.385) (radius=15) - using shadow-based wall occlusion
[11:24:27] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(317.1655, 1052.385), source=PLAYER (@Area2D@3516), range=500, listeners=3
[11:24:27] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=0
[11:24:27] [ENEMY] [Enemy3] Ragdoll activated
[11:24:27] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[11:24:27] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[11:24:27] [INFO] [BloodDecal] Blood puddle created at (1012.254, 1016.902) (added to group)
[11:24:27] [INFO] [BloodDecal] Blood puddle created at (1063.929, 924.0103) (added to group)
[11:24:27] [INFO] [BloodDecal] Blood puddle created at (984.2087, 1055.336) (added to group)
[11:24:27] [INFO] [BloodDecal] Blood puddle created at (1036.501, 965.5551) (added to group)
[11:24:27] [INFO] [BloodDecal] Blood puddle created at (992.2939, 1011.971) (added to group)
[11:24:27] [INFO] [BloodDecal] Blood puddle created at (1022.619, 1075.597) (added to group)
[11:24:27] [INFO] [BloodDecal] Blood puddle created at (1319.004, 1075.664) (added to group)
[11:24:27] [INFO] [BloodDecal] Blood puddle created at (1337.163, 1024.235) (added to group)
[11:24:27] [INFO] [BloodDecal] Blood puddle created at (1299.951, 1079.56) (added to group)
[11:24:27] [INFO] [BloodDecal] Blood puddle created at (1336.728, 996.3365) (added to group)
[11:24:27] [INFO] [BloodDecal] Blood puddle created at (1340.568, 1085.55) (added to group)
[11:24:27] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=5
[11:24:27] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[11:24:27] [INFO] [Shotgun.FIX#445v7] Mid-drag pump UP - shell ejected, continue dragging DOWN to chamber
[11:24:27] [INFO] [BloodDecal] Blood puddle created at (1002.55, 1060.648) (added to group)
[11:24:27] [INFO] [BloodDecal] Blood puddle created at (1028.906, 1110.476) (added to group)
[11:24:27] [INFO] [BloodDecal] Blood puddle created at (1002.495, 1117.773) (added to group)
[11:24:27] [INFO] [BloodDecal] Blood puddle created at (1001.464, 1042.938) (added to group)
[11:24:27] [INFO] [BloodDecal] Blood puddle created at (1132.536, 1068.255) (added to group)
[11:24:27] [INFO] [BloodDecal] Blood puddle created at (1100.006, 1032.156) (added to group)
[11:24:27] [INFO] [BloodDecal] Blood puddle created at (1299.306, 1110.117) (added to group)
[11:24:27] [INFO] [BloodDecal] Blood puddle created at (1321.019, 1058.026) (added to group)
[11:24:27] [INFO] [BloodDecal] Blood puddle created at (1323.136, 1092.326) (added to group)
[11:24:27] [INFO] [BloodDecal] Blood puddle created at (1281.213, 1094.686) (added to group)
[11:24:27] [INFO] [BloodDecal] Blood puddle created at (1293.213, 1053.252) (added to group)
[11:24:27] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=803), can_see=false
[11:24:27] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1524), can_see=false
[11:24:27] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1524), can_see=false
[11:24:27] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(210.7503, 1077.703), source=NEUTRAL (null), range=900, listeners=3
[11:24:27] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=1
[11:24:27] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[11:24:27] [INFO] [Shotgun.FIX#445v7] Mid-drag pump DOWN - chambered, ready to fire
[11:24:27] [INFO] [BloodDecal] Blood puddle created at (1353.682, 1095.664) (added to group)
[11:24:28] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(211.1679, 1079.108), source=NEUTRAL (null), range=900, listeners=3
[11:24:28] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=1
[11:24:28] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(212.0748, 1080.27), source=NEUTRAL (null), range=900, listeners=3
[11:24:28] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=1
[11:24:28] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(213.4756, 1081.162), source=NEUTRAL (null), range=900, listeners=3
[11:24:28] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=1
[11:24:28] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(215.3702, 1081.744), source=NEUTRAL (null), range=900, listeners=3
[11:24:28] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=1
[11:24:28] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(217.748, 1081.957), source=NEUTRAL (null), range=900, listeners=3
[11:24:28] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=1
[11:24:28] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(220.5774, 1081.719), source=NEUTRAL (null), range=900, listeners=3
[11:24:28] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=1
[11:24:28] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(223.7955, 1080.931), source=NEUTRAL (null), range=900, listeners=3
[11:24:28] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=1
[11:24:28] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(227.3019, 1079.491), source=NEUTRAL (null), range=900, listeners=3
[11:24:28] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=1
[11:24:28] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[11:24:28] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(230.9674, 1077.309), source=NEUTRAL (null), range=900, listeners=3
[11:24:28] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=1
[11:24:28] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(234.6631, 1074.437), source=NEUTRAL (null), range=900, listeners=3
[11:24:28] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=1
[11:24:28] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(238.3144, 1070.949), source=NEUTRAL (null), range=900, listeners=3
[11:24:28] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=1
[11:24:28] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(241.8816, 1066.922), source=NEUTRAL (null), range=900, listeners=3
[11:24:28] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=1
[11:24:28] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(245.3446, 1062.435), source=NEUTRAL (null), range=900, listeners=3
[11:24:28] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=1
[11:24:28] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[11:24:28] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[11:24:28] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=819), can_see=false
[11:24:28] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1456), can_see=false
[11:24:28] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1474), can_see=false
[11:24:28] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(248.5122, 1125.503), source=NEUTRAL (null), range=900, listeners=3
[11:24:28] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=1
[11:24:28] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(248.4586, 1125.505), source=NEUTRAL (null), range=900, listeners=3
[11:24:28] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=1
[11:24:28] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(270.1782, 1111.026), source=PLAYER (Player), range=600, listeners=3
[11:24:28] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=0
[11:24:28] [INFO] [Shotgun.FIX#212] Firing 14 pellets with 15° spread at pos=(270.1782, 1111.026)
[11:24:28] [INFO] [Shotgun.FIX#212] Normal pellet 1/14: extraOffset=1,1, distance=53,1px, pos=(321.49445, 1097.4093)
[11:24:28] [INFO] [Shotgun.FIX#212] Normal pellet 2/14: extraOffset=-3,2, distance=48,8px, pos=(318.03833, 1101.6176)
[11:24:28] [INFO] [Shotgun.FIX#212] Normal pellet 3/14: extraOffset=13,8, distance=65,8px, pos=(334.60233, 1097.3999)
[11:24:28] [INFO] [Shotgun.FIX#212] Normal pellet 4/14: extraOffset=6,9, distance=58,9px, pos=(328.09946, 1100.4119)
[11:24:28] [INFO] [Shotgun.FIX#212] Normal pellet 5/14: extraOffset=12,7, distance=64,7px, pos=(334.1437, 1101.4226)
[11:24:28] [INFO] [Shotgun.FIX#212] Normal pellet 6/14: extraOffset=-9,9, distance=42,1px, pos=(311.8539, 1104.7452)
[11:24:28] [INFO] [Shotgun.FIX#212] Normal pellet 7/14: extraOffset=9,4, distance=61,4px, pos=(331.1994, 1104.6038)
[11:24:28] [INFO] [Shotgun.FIX#212] Normal pellet 8/14: extraOffset=-6,6, distance=45,4px, pos=(315.36923, 1106.4883)
[11:24:28] [INFO] [Shotgun.FIX#212] Normal pellet 9/14: extraOffset=9,5, distance=61,5px, pos=(331.47818, 1106.1052)
[11:24:28] [INFO] [Shotgun.FIX#212] Normal pellet 10/14: extraOffset=-3,0, distance=49,0px, pos=(319.0532, 1106.9188)
[11:24:28] [INFO] [Shotgun.FIX#212] Normal pellet 11/14: extraOffset=4,3, distance=56,3px, pos=(326.39813, 1107.7609)
[11:24:28] [INFO] [Shotgun.FIX#212] Normal pellet 12/14: extraOffset=-8,6, distance=43,4px, pos=(313.53003, 1110.031)
[11:24:28] [INFO] [Shotgun.FIX#212] Normal pellet 13/14: extraOffset=-10,0, distance=42,0px, pos=(312.19467, 1111.0947)
[11:24:28] [INFO] [Shotgun.FIX#212] Normal pellet 14/14: extraOffset=-7,8, distance=44,2px, pos=(314.41003, 1111.725)
[11:24:28] [INFO] [Shotgun.FIX#445v7] Reset drag start position after firing (continuous pump mode)
[11:24:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(270.1782, 1111.026), source=PLAYER (Shotgun), range=1469, listeners=3
[11:24:28] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=0, below_threshold=2
[11:24:28] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(248.4695, 1125.375), source=NEUTRAL (null), range=900, listeners=3
[11:24:28] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=1
[11:24:28] [INFO] [Shotgun.FIX#445v7] Mid-drag pump UP - shell ejected, continue dragging DOWN to chamber
[11:24:28] [ENEMY] [Enemy2] Death animation completed
[11:24:28] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[11:24:28] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(310.1788, 1121.741), source=NEUTRAL (null), range=900, listeners=3
[11:24:28] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=1
[11:24:28] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(311.2184, 1122.105), source=NEUTRAL (null), range=900, listeners=3
[11:24:28] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=1
[11:24:28] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(311.9964, 1122.602), source=NEUTRAL (null), range=900, listeners=3
[11:24:28] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=1
[11:24:28] [ENEMY] [Enemy3] Death animation completed
[11:24:28] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[11:24:28] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=5
[11:24:28] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[11:24:28] [INFO] [ImpactEffects] Spawning explosion visual effect at (1381.026, 892.6527) (radius=15) - using shadow-based wall occlusion
[11:24:28] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1381.026, 892.6527), source=PLAYER (@Area2D@3745), range=500, listeners=3
[11:24:28] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[11:24:28] [INFO] [ImpactEffects] Spawning explosion visual effect at (1394.489, 873.2281) (radius=15) - using shadow-based wall occlusion
[11:24:28] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1394.489, 873.2281), source=PLAYER (@Area2D@3746), range=500, listeners=3
[11:24:28] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[11:24:28] [INFO] [ImpactEffects] Spawning explosion visual effect at (1393.689, 905.1421) (radius=15) - using shadow-based wall occlusion
[11:24:28] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1393.689, 905.1421), source=PLAYER (@Area2D@3747), range=500, listeners=3
[11:24:28] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[11:24:28] [INFO] [ImpactEffects] Spawning explosion visual effect at (1405.47, 940.5802) (radius=15) - using shadow-based wall occlusion
[11:24:28] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1405.47, 940.5802), source=PLAYER (@Area2D@3748), range=500, listeners=3
[11:24:28] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[11:24:28] [INFO] [ImpactEffects] Spawning explosion visual effect at (1383.091, 943.3029) (radius=15) - using shadow-based wall occlusion
[11:24:28] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1383.091, 943.3029), source=PLAYER (@Area2D@3749), range=500, listeners=3
[11:24:28] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[11:24:28] [INFO] [ImpactEffects] Spawning explosion visual effect at (1408.582, 991.2124) (radius=15) - using shadow-based wall occlusion
[11:24:28] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1408.582, 991.2124), source=PLAYER (@Area2D@3750), range=500, listeners=3
[11:24:28] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[11:24:28] [INFO] [ImpactEffects] Spawning explosion visual effect at (1393.283, 998.2544) (radius=15) - using shadow-based wall occlusion
[11:24:28] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1393.283, 998.2544), source=PLAYER (@Area2D@3751), range=500, listeners=3
[11:24:28] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[11:24:28] [INFO] [ImpactEffects] Spawning explosion visual effect at (1411.338, 1019.422) (radius=15) - using shadow-based wall occlusion
[11:24:28] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1411.338, 1019.422), source=PLAYER (@Area2D@3752), range=500, listeners=3
[11:24:28] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[11:24:28] [INFO] [ImpactEffects] Spawning explosion visual effect at (1398.582, 1016.201) (radius=15) - using shadow-based wall occlusion
[11:24:28] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1398.582, 1016.201), source=PLAYER (@Area2D@3753), range=500, listeners=3
[11:24:28] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[11:24:28] [INFO] [ImpactEffects] Spawning explosion visual effect at (1407.909, 1044.951) (radius=15) - using shadow-based wall occlusion
[11:24:28] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1407.909, 1044.951), source=PLAYER (@Area2D@3754), range=500, listeners=3
[11:24:28] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[11:24:28] [INFO] [ImpactEffects] Spawning explosion visual effect at (1396.579, 1085.174) (radius=15) - using shadow-based wall occlusion
[11:24:28] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1396.579, 1085.174), source=PLAYER (@Area2D@3755), range=500, listeners=3
[11:24:28] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=0
[11:24:29] [INFO] [ImpactEffects] Spawning explosion visual effect at (1408.864, 808.8765) (radius=15) - using shadow-based wall occlusion
[11:24:29] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1408.864, 808.8765), source=PLAYER (ShotgunPellet), range=500, listeners=3
[11:24:29] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[11:24:29] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=791), can_see=false
[11:24:29] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1397), can_see=false
[11:24:29] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1416), can_see=false
[11:24:29] [INFO] [Shotgun.FIX#445v7] Mouse at bottom edge (Y=677), need PumpDown - recentering cursor
[11:24:29] [INFO] [Shotgun.FIX#445v7] Cursor recentered to (640, 360)
[11:24:29] [INFO] [ImpactEffects] Spawning explosion visual effect at (1937.193, 1113.751) (radius=15) - using shadow-based wall occlusion
[11:24:29] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1937.193, 1113.751), source=PLAYER (@Area2D@3756), range=500, listeners=3
[11:24:29] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=0
[11:24:29] [INFO] [Shotgun.FIX#445v7] Mid-drag pump DOWN - chambered, ready to fire
[11:24:29] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(284.8353, 1086.471), source=PLAYER (Player), range=600, listeners=3
[11:24:29] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=0
[11:24:29] [INFO] [Shotgun.FIX#212] Firing 14 pellets with 15° spread at pos=(284.8353, 1086.4712)
[11:24:29] [INFO] [Shotgun.FIX#212] Normal pellet 1/14: extraOffset=9,7, distance=61,7px, pos=(344.67285, 1071.3746)
[11:24:29] [INFO] [Shotgun.FIX#212] Normal pellet 2/14: extraOffset=-14,0, distance=38,0px, pos=(322.01364, 1078.4615)
[11:24:29] [INFO] [Shotgun.FIX#212] Normal pellet 3/14: extraOffset=7,9, distance=59,9px, pos=(343.4668, 1074.248)
[11:24:29] [INFO] [Shotgun.FIX#212] Normal pellet 4/14: extraOffset=-13,8, distance=38,2px, pos=(322.21072, 1078.733)
[11:24:29] [INFO] [Shotgun.FIX#212] Normal pellet 5/14: extraOffset=-7,5, distance=44,5px, pos=(328.78452, 1079.757)
[11:24:29] [INFO] [Shotgun.FIX#212] Normal pellet 6/14: extraOffset=14,6, distance=66,6px, pos=(350.9936, 1078.754)
[11:24:29] [INFO] [Shotgun.FIX#212] Normal pellet 7/14: extraOffset=10,6, distance=62,6px, pos=(347.07233, 1079.8961)
[11:24:29] [INFO] [Shotgun.FIX#212] Normal pellet 8/14: extraOffset=-7,3, distance=44,7px, pos=(329.2837, 1081.4105)
[11:24:29] [INFO] [Shotgun.FIX#212] Normal pellet 9/14: extraOffset=2,9, distance=54,9px, pos=(339.61908, 1083.5956)
[11:24:29] [INFO] [Shotgun.FIX#212] Normal pellet 10/14: extraOffset=2,2, distance=54,2px, pos=(338.93198, 1083.6729)
[11:24:29] [INFO] [Shotgun.FIX#212] Normal pellet 11/14: extraOffset=2,2, distance=54,2px, pos=(338.8989, 1083.3065)
[11:24:29] [INFO] [Shotgun.FIX#212] Normal pellet 12/14: extraOffset=6,5, distance=58,5px, pos=(343.30258, 1085.2543)
[11:24:29] [INFO] [Shotgun.FIX#212] Normal pellet 13/14: extraOffset=-13,0, distance=39,0px, pos=(323.7751, 1087.5327)
[11:24:29] [INFO] [Shotgun.FIX#212] Normal pellet 14/14: extraOffset=2,1, distance=54,1px, pos=(338.90283, 1087.8843)
[11:24:29] [INFO] [Shotgun.FIX#445v7] Reset drag start position after firing (continuous pump mode)
[11:24:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(284.8353, 1086.471), source=PLAYER (Shotgun), range=1469, listeners=3
[11:24:29] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=3
[11:24:29] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[11:24:29] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(249.6508, 1120.312), source=NEUTRAL (null), range=900, listeners=3
[11:24:29] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=1
[11:24:29] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(249.8387, 1121.272), source=NEUTRAL (null), range=900, listeners=3
[11:24:29] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=1
[11:24:29] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(250.4903, 1123.074), source=NEUTRAL (null), range=900, listeners=3
[11:24:29] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=1
[11:24:29] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(251.8497, 1125.517), source=NEUTRAL (null), range=900, listeners=3
[11:24:29] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=1
[11:24:29] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(252.2191, 1126.521), source=NEUTRAL (null), range=900, listeners=3
[11:24:29] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=1
[11:24:29] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(252.2191, 1126.344), source=NEUTRAL (null), range=900, listeners=3
[11:24:29] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=1
[11:24:29] [INFO] [ImpactEffects] Spawning explosion visual effect at (910.2827, 928.6755) (radius=15) - using shadow-based wall occlusion
[11:24:29] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(910.2827, 928.6755), source=PLAYER (ShotgunPellet), range=500, listeners=3
[11:24:29] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=0
[11:24:29] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[11:24:29] [INFO] [Shotgun.FIX#445v7] Mid-drag pump UP - shell ejected, continue dragging DOWN to chamber
[11:24:29] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=834), can_see=false
[11:24:29] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1513), can_see=false
[11:24:29] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1525), can_see=false
[11:24:29] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[11:24:30] [INFO] [ImpactEffects] Spawning explosion visual effect at (1385.645, 958.0653) (radius=15) - using shadow-based wall occlusion
[11:24:30] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1385.645, 958.0653), source=PLAYER (@Area2D@4015), range=500, listeners=3
[11:24:30] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[11:24:30] [INFO] [ImpactEffects] Spawning explosion visual effect at (1382.974, 970.457) (radius=15) - using shadow-based wall occlusion
[11:24:30] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1382.974, 970.457), source=PLAYER (@Area2D@4016), range=500, listeners=3
[11:24:30] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[11:24:30] [INFO] [ImpactEffects] Spawning explosion visual effect at (1379.854, 1028.994) (radius=15) - using shadow-based wall occlusion
[11:24:30] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1379.854, 1028.994), source=PLAYER (@Area2D@4018), range=500, listeners=3
[11:24:30] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[11:24:30] [INFO] [ImpactEffects] Spawning explosion visual effect at (1379.208, 1029.861) (radius=15) - using shadow-based wall occlusion
[11:24:30] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1379.208, 1029.861), source=PLAYER (@Area2D@4019), range=500, listeners=3
[11:24:30] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[11:24:30] [INFO] [ImpactEffects] Spawning explosion visual effect at (1378.785, 1022.436) (radius=15) - using shadow-based wall occlusion
[11:24:30] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1378.785, 1022.436), source=PLAYER (@Area2D@4020), range=500, listeners=3
[11:24:30] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[11:24:30] [INFO] [ImpactEffects] Spawning explosion visual effect at (1384.743, 1063.578) (radius=15) - using shadow-based wall occlusion
[11:24:30] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1384.743, 1063.578), source=PLAYER (@Area2D@4021), range=500, listeners=3
[11:24:30] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[11:24:30] [INFO] [ImpactEffects] Spawning explosion visual effect at (1381.049, 850.3058) (radius=15) - using shadow-based wall occlusion
[11:24:30] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1381.049, 850.3058), source=PLAYER (@Area2D@4011), range=500, listeners=3
[11:24:30] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[11:24:30] [INFO] [ImpactEffects] Spawning explosion visual effect at (1403.999, 853.1547) (radius=15) - using shadow-based wall occlusion
[11:24:30] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1403.999, 853.1547), source=PLAYER (@Area2D@4012), range=500, listeners=3
[11:24:30] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[11:24:30] [INFO] [ImpactEffects] Spawning explosion visual effect at (1383.047, 859.0997) (radius=15) - using shadow-based wall occlusion
[11:24:30] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1383.047, 859.0997), source=PLAYER (@Area2D@4013), range=500, listeners=3
[11:24:30] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[11:24:30] [INFO] [ImpactEffects] Spawning explosion visual effect at (1399.692, 916.1514) (radius=15) - using shadow-based wall occlusion
[11:24:30] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1399.692, 916.1514), source=PLAYER (@Area2D@4014), range=500, listeners=3
[11:24:30] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[11:24:30] [INFO] [ImpactEffects] Spawning explosion visual effect at (1405.663, 958.8595) (radius=15) - using shadow-based wall occlusion
[11:24:30] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1405.663, 958.8595), source=PLAYER (@Area2D@4017), range=500, listeners=3
[11:24:30] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[11:24:30] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[11:24:30] [INFO] [ImpactEffects] Spawning explosion visual effect at (1838.391, 1127.075) (radius=15) - using shadow-based wall occlusion
[11:24:30] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1838.391, 1127.075), source=PLAYER (@Area2D@4023), range=500, listeners=3
[11:24:30] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=0
[11:24:30] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[11:24:30] [INFO] [ReplayManager] Recording frame 240 (4,0s): player_valid=True, enemies=5
[11:24:30] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=804), can_see=false
[11:24:30] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1624), can_see=false
[11:24:30] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1606), can_see=false
[11:24:30] [INFO] [Shotgun.FIX#445v7] Mid-drag pump DOWN - chambered, ready to fire
[11:24:30] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(64.06506, 1006.233), source=PLAYER (Player), range=600, listeners=3
[11:24:30] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=0
[11:24:30] [INFO] [Shotgun.FIX#212] Firing 15 pellets with 15° spread at pos=(64.065056, 1006.2332)
[11:24:30] [INFO] [Shotgun.FIX#212] Normal pellet 1/15: extraOffset=-1,0, distance=51,0px, pos=(113.36566, 993.35724)
[11:24:30] [INFO] [Shotgun.FIX#212] Normal pellet 2/15: extraOffset=0,3, distance=52,3px, pos=(115.17699, 994.94586)
[11:24:30] [INFO] [Shotgun.FIX#212] Normal pellet 3/15: extraOffset=-0,6, distance=51,4px, pos=(114.19536, 995.06116)
[11:24:30] [INFO] [Shotgun.FIX#212] Normal pellet 4/15: extraOffset=-13,1, distance=38,9px, pos=(102.19865, 998.40564)
[11:24:30] [INFO] [Shotgun.FIX#212] Normal pellet 5/15: extraOffset=-12,1, distance=39,9px, pos=(103.39195, 999.2794)
[11:24:30] [INFO] [Shotgun.FIX#212] Normal pellet 6/15: extraOffset=-5,2, distance=46,8px, pos=(110.46525, 999.9727)
[11:24:30] [INFO] [Shotgun.FIX#212] Normal pellet 7/15: extraOffset=-0,6, distance=51,4px, pos=(114.99417, 999.17975)
[11:24:30] [INFO] [Shotgun.FIX#212] Normal pellet 8/15: extraOffset=-7,6, distance=44,4px, pos=(108.28653, 1001.762)
[11:24:30] [INFO] [Shotgun.FIX#212] Normal pellet 9/15: extraOffset=13,2, distance=65,2px, pos=(129.06808, 1000.6163)
[11:24:30] [INFO] [Shotgun.FIX#212] Normal pellet 10/15: extraOffset=-7,8, distance=44,2px, pos=(108.13901, 1002.2996)
[11:24:30] [INFO] [Shotgun.FIX#212] Normal pellet 11/15: extraOffset=3,1, distance=55,1px, pos=(119.02348, 1002.8575)
[11:24:30] [INFO] [Shotgun.FIX#212] Normal pellet 12/15: extraOffset=6,1, distance=58,1px, pos=(122.13275, 1004.30994)
[11:24:30] [INFO] [Shotgun.FIX#212] Normal pellet 13/15: extraOffset=-2,2, distance=49,8px, pos=(113.86353, 1004.4435)
[11:24:30] [INFO] [Shotgun.FIX#212] Normal pellet 14/15: extraOffset=-13,7, distance=38,3px, pos=(102.31955, 1007.1318)
[11:24:30] [INFO] [Shotgun.FIX#212] Normal pellet 15/15: extraOffset=14,9, distance=66,9px, pos=(130.92342, 1006.5627)
[11:24:30] [INFO] [Shotgun.FIX#445v7] Reset drag start position after firing (continuous pump mode)
[11:24:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(64.06506, 1006.233), source=PLAYER (Shotgun), range=1469, listeners=3
[11:24:30] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=1
[11:24:30] [INFO] [ImpactEffects] Spawning explosion visual effect at (280.0851, 976.3152) (radius=15) - using shadow-based wall occlusion
[11:24:30] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(280.0851, 976.3152), source=PLAYER (@Area2D@4204), range=500, listeners=3
[11:24:30] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=0
[11:24:30] [INFO] [ImpactEffects] Spawning explosion visual effect at (295.116, 986.2679) (radius=15) - using shadow-based wall occlusion
[11:24:30] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(295.116, 986.2679), source=PLAYER (@Area2D@4206), range=500, listeners=3
[11:24:30] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=0
[11:24:30] [INFO] [ImpactEffects] Spawning explosion visual effect at (285.3766, 992.6395) (radius=15) - using shadow-based wall occlusion
[11:24:30] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(285.3766, 992.6395), source=PLAYER (@Area2D@4208), range=500, listeners=3
[11:24:30] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=0
[11:24:30] [INFO] [ImpactEffects] Spawning explosion visual effect at (288.7081, 998.7928) (radius=15) - using shadow-based wall occlusion
[11:24:30] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(288.7081, 998.7928), source=PLAYER (@Area2D@4209), range=500, listeners=3
[11:24:30] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=0
[11:24:30] [INFO] [ImpactEffects] Spawning explosion visual effect at (280.4227, 998.4574) (radius=15) - using shadow-based wall occlusion
[11:24:30] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(280.4227, 998.4574), source=PLAYER (@Area2D@4210), range=500, listeners=3
[11:24:30] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=0
[11:24:30] [INFO] [ImpactEffects] Spawning explosion visual effect at (297.5881, 1007.384) (radius=15) - using shadow-based wall occlusion
[11:24:30] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(297.5881, 1007.384), source=PLAYER (@Area2D@4212), range=500, listeners=3
[11:24:30] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=0
[11:24:30] [INFO] [ImpactEffects] Spawning explosion visual effect at (314.9377, 940.712) (radius=15) - using shadow-based wall occlusion
[11:24:30] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(314.9377, 940.712), source=PLAYER (ShotgunPellet), range=500, listeners=3
[11:24:30] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=0
[11:24:30] [INFO] [ImpactEffects] Spawning explosion visual effect at (318.6088, 950.0206) (radius=15) - using shadow-based wall occlusion
[11:24:30] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(318.6088, 950.0206), source=PLAYER (@Area2D@4199), range=500, listeners=3
[11:24:30] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=0
[11:24:30] [INFO] [ImpactEffects] Spawning explosion visual effect at (317.5402, 949.7438) (radius=15) - using shadow-based wall occlusion
[11:24:30] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(317.5402, 949.7438), source=PLAYER (@Area2D@4200), range=500, listeners=3
[11:24:30] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=0
[11:24:30] [INFO] [ImpactEffects] Spawning explosion visual effect at (306.277, 956.5151) (radius=15) - using shadow-based wall occlusion
[11:24:30] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(306.277, 956.5151), source=PLAYER (@Area2D@4201), range=500, listeners=3
[11:24:30] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=0
[11:24:30] [INFO] [ImpactEffects] Spawning explosion visual effect at (308.5429, 963.0044) (radius=15) - using shadow-based wall occlusion
[11:24:30] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(308.5429, 963.0044), source=PLAYER (@Area2D@4202), range=500, listeners=3
[11:24:30] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=0
[11:24:30] [INFO] [ImpactEffects] Spawning explosion visual effect at (316.9278, 972.116) (radius=15) - using shadow-based wall occlusion
[11:24:30] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(316.9278, 972.116), source=PLAYER (@Area2D@4203), range=500, listeners=3
[11:24:30] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=0
[11:24:30] [INFO] [ImpactEffects] Spawning explosion visual effect at (315.563, 980.8044) (radius=15) - using shadow-based wall occlusion
[11:24:30] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(315.563, 980.8044), source=PLAYER (@Area2D@4205), range=500, listeners=3
[11:24:30] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=0
[11:24:30] [INFO] [ImpactEffects] Spawning explosion visual effect at (315.6476, 983.7797) (radius=15) - using shadow-based wall occlusion
[11:24:30] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(315.6476, 983.7797), source=PLAYER (@Area2D@4207), range=500, listeners=3
[11:24:30] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=0
[11:24:30] [INFO] [ImpactEffects] Spawning explosion visual effect at (310.5955, 1012.024) (radius=15) - using shadow-based wall occlusion
[11:24:30] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(310.5955, 1012.024), source=PLAYER (@Area2D@4211), range=500, listeners=3
[11:24:30] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=0
[11:24:30] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[11:24:30] [INFO] [Shotgun.FIX#445v7] Mid-drag pump UP - shell ejected, continue dragging DOWN to chamber
[11:24:31] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[11:24:31] [INFO] [Shotgun.FIX#243] RMB released after 1 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[11:24:31] [INFO] [Shotgun.FIX#445v7] ProcessDragGesture - dragVector=(27,3, -75,7), length=80,5, ActionState=NeedsPumpDown
[11:24:31] [INFO] [Shotgun.FIX#445v7] Screen-based pump gesture: isDragUp=True, isDragDown=False
[11:24:31] [INFO] [ReplayManager] Recording frame 300 (5,0s): player_valid=True, enemies=5
[11:24:32] [INFO] [PauseMenu] Armory button pressed
[11:24:32] [INFO] [PauseMenu] Creating new armory menu instance
[11:24:32] [INFO] [PauseMenu] armory_menu_scene resource path: res://scenes/ui/ArmoryMenu.tscn
[11:24:32] [INFO] [PauseMenu] Instance created, class: CanvasLayer, name: ArmoryMenu
[11:24:32] [INFO] [PauseMenu] Script attached: res://scripts/ui/armory_menu.gd
[11:24:32] [INFO] [PauseMenu] back_pressed signal exists on instance
[11:24:32] [INFO] [PauseMenu] back_pressed signal connected
[11:24:32] [INFO] [PauseMenu] Armory menu instance added as child, is_inside_tree: true
[11:24:32] [INFO] [PauseMenu] _populate_weapon_grid method exists
[11:24:32] [INFO] [ReplayManager] Recording frame 360 (6,0s): player_valid=True, enemies=5
[11:24:33] [INFO] [ScoreManager] Combo ended at 2. Max combo: 2
[11:24:33] [INFO] [ReplayManager] Recording frame 420 (7,0s): player_valid=True, enemies=5
[11:24:34] [INFO] [GrenadeManager] Grenade type changed from Flashbang to F-1 Grenade
[11:24:34] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[11:24:34] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:24:34] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[11:24:34] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[11:24:34] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[11:24:34] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[11:24:34] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[11:24:34] [INFO] [LastChance] Resetting all effects (scene change detected)
[11:24:34] [INFO] [CinemaEffects] Scene changed to: LabyrinthLevel
[11:24:34] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[11:24:34] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[11:24:34] [ENEMY] [Enemy1] Death animation component initialized
[11:24:34] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:24:34] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[11:24:34] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[11:24:34] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[11:24:34] [ENEMY] [Enemy2] Death animation component initialized
[11:24:34] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:24:34] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[11:24:34] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[11:24:34] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[11:24:34] [ENEMY] [Enemy3] Death animation component initialized
[11:24:34] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:24:34] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[11:24:34] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[11:24:34] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[11:24:34] [ENEMY] [Enemy4] Death animation component initialized
[11:24:34] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:24:34] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[11:24:34] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[11:24:34] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[11:24:34] [ENEMY] [Enemy5] Death animation component initialized
[11:24:34] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:24:34] [INFO] [BloodyFeet:Player] Footprint scene loaded
[11:24:34] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[11:24:34] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[11:24:34] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: F-1 Grenade
[11:24:34] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[11:24:34] [INFO] [Player.Weapon] GameManager weapon selection: shotgun (Shotgun)
[11:24:34] [INFO] [Player.Weapon] Removed default MakarovPM
[11:24:34] [INFO] [Player.Weapon] Equipped Shotgun (ammo: 0/8)
[11:24:34] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[11:24:34] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[11:24:34] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[11:24:34] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[11:24:34] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[11:24:34] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[11:24:34] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[11:24:34] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[11:24:34] [INFO] [Player.Homing] No homing bullets selected in ActiveItemManager
[11:24:34] [INFO] [Player.InvisibilitySuit] No invisibility suit selected in ActiveItemManager
[11:24:34] [INFO] [Player.BreakerBullets] Breaker bullets active — bullets will detonate 60px before walls
[11:24:34] [INFO] [Player.BreakerBullets] Set IsBreakerBulletActive on weapon: Shotgun
[11:24:34] [INFO] [Player] Ready! Ammo: 0/8, Grenades: 1/3, Health: 2/4
[11:24:34] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[11:24:34] [INFO] [LabyrinthLevel] Found Environment/Enemies node with 5 children
[11:24:34] [INFO] [LabyrinthLevel] Child 'Enemy1': script=true, has_died_signal=true
[11:24:34] [INFO] [LabyrinthLevel] Child 'Enemy2': script=true, has_died_signal=true
[11:24:34] [INFO] [LabyrinthLevel] Child 'Enemy3': script=true, has_died_signal=true
[11:24:34] [INFO] [LabyrinthLevel] Child 'Enemy4': script=true, has_died_signal=true
[11:24:34] [INFO] [LabyrinthLevel] Child 'Enemy5': script=true, has_died_signal=true
[11:24:34] [INFO] [LabyrinthLevel] Enemy tracking complete: 5 enemies registered
[11:24:34] [INFO] [LabyrinthLevel] Setting up weapon: shotgun
[11:24:34] [INFO] [LabyrinthLevel] Shotgun already equipped by C# Player - skipping GDScript weapon swap
[11:24:34] [INFO] [ScoreManager] Level started with 5 enemies
[11:24:34] [INFO] [LabyrinthLevel] ReplayManager found as C# autoload - verified OK
[11:24:34] [INFO] [LabyrinthLevel] Starting replay recording - Player: Player, Enemies count: 5
[11:24:34] [INFO] [ReplayManager] Replay data cleared
[11:24:34] [INFO] [LabyrinthLevel] Previous replay data cleared
[11:24:34] [INFO] [ReplayManager] Detected player weapon: Shotgun
[11:24:34] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[11:24:34] [INFO] [ReplayManager] Level: LabyrinthLevel
[11:24:34] [INFO] [ReplayManager] Player: Player (valid: True)
[11:24:34] [INFO] [ReplayManager] Enemies count: 5
[11:24:34] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/shotgun_topdown.png
[11:24:34] [INFO] [ReplayManager]   Enemy 0: Enemy1
[11:24:34] [INFO] [ReplayManager]   Enemy 1: Enemy2
[11:24:34] [INFO] [ReplayManager]   Enemy 2: Enemy3
[11:24:34] [INFO] [ReplayManager]   Enemy 3: Enemy4
[11:24:34] [INFO] [ReplayManager]   Enemy 4: Enemy5
[11:24:34] [INFO] [LabyrinthLevel] Replay recording started successfully
[11:24:34] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[11:24:34] [INFO] [CinemaEffects] Found player node: Player
[11:24:34] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[11:24:34] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 4)
[11:24:34] [ENEMY] [Enemy1] Registered as sound listener
[11:24:34] [ENEMY] [Enemy1] Spawned at (400, 300), hp: 1, behavior: GUARD
[11:24:34] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[11:24:34] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 5)
[11:24:34] [ENEMY] [Enemy2] Registered as sound listener
[11:24:34] [ENEMY] [Enemy2] Spawned at (900, 950), hp: 2, behavior: GUARD
[11:24:34] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[11:24:34] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 6)
[11:24:34] [ENEMY] [Enemy3] Registered as sound listener
[11:24:34] [ENEMY] [Enemy3] Spawned at (1200, 1000), hp: 1, behavior: PATROL
[11:24:34] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[11:24:34] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 7)
[11:24:34] [ENEMY] [Enemy4] Registered as sound listener
[11:24:34] [ENEMY] [Enemy4] Spawned at (1650, 650), hp: 1, behavior: GUARD
[11:24:34] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[11:24:34] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 8)
[11:24:34] [ENEMY] [Enemy5] Registered as sound listener
[11:24:34] [ENEMY] [Enemy5] Spawned at (1500, 300), hp: 3, behavior: GUARD
[11:24:34] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[11:24:34] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=5
[11:24:34] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(150,1000), corner_timer=0.00
[11:24:34] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(150,1000), corner_timer=0.00
[11:24:34] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(150,1000), corner_timer=0.00
[11:24:34] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=33.8°, current=0.0°, player=(150,1000), corner_timer=0.00
[11:24:34] [INFO] [Player] Detecting weapon pose (frame 3)...
[11:24:34] [INFO] [Player] Detected weapon: Shotgun (Shotgun pose)
[11:24:34] [INFO] [Player] Applied Shotgun arm pose: Left=(21, 6), Right=(-1, 6)
[11:24:34] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[11:24:34] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[11:24:34] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[11:24:34] [INFO] [LastChance] Found player: Player
[11:24:34] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[11:24:34] [INFO] [LastChance] Connected to player Damaged signal (C#)
[11:24:34] [INFO] [LastChance] Connected to player Died signal (C#)
[11:24:34] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[11:24:34] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[11:24:34] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[11:24:34] [INFO] [Player.Grenade] G pressed - starting grab animation
[11:24:35] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[11:24:35] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (559.8662, 1134.9165)
[11:24:35] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=Ready, ReloadState=NotReloading
[11:24:35] [INFO] [Shotgun.FIX#445] dragStartPos=(560, 1135), aimDir=(0,95, 0,31)
[11:24:35] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[11:24:35] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[11:24:35] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[11:24:35] [INFO] [GrenadeBase] CCD enabled (mode: CAST_RAY) to prevent wall tunneling
[11:24:35] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[11:24:35] [INFO] [DefensiveGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[11:24:35] [INFO] [GrenadeTimer] Initialized for Flashbang grenade, effect radius: 700
[11:24:35] [INFO] [Player.Grenade] Added GrenadeTimer component (type: Flashbang)
[11:24:35] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[11:24:35] [INFO] [GrenadeTimer] Timer activated! 4 seconds until explosion
[11:24:35] [INFO] [Player.Grenade] Timer started, grenade created at (150, 1000)
[11:24:35] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[11:24:35] [INFO] [Player.Grenade] Step 1 complete! Drag: (300.1142, -27.384033)
[11:24:35] [INFO] [Shotgun.FIX#243] RMB released after 5 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[11:24:35] [INFO] [Shotgun.FIX#445v7] ProcessDragGesture - dragVector=(406,8, -11,4), length=407,0, ActionState=Ready
[11:24:35] [INFO] [Shotgun.FIX#445v7] Pump drag not vertical: absY=11,4 <= absX=406,8
[11:24:35] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=5
[11:24:35] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[11:24:35] [INFO] [Player.Grenade.Simple] RMB pressed after pin pull - starting trajectory aiming
[11:24:35] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=Ready, ReloadState=NotReloading
[11:24:35] [INFO] [Shotgun.FIX#445] dragStartPos=(958, 1122), aimDir=(0,99, 0,15)
[11:24:35] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[11:24:35] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[11:24:35] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[11:24:35] [ENEMY] [Enemy3] PATROL corner check: angle -90.0°
[11:24:35] [ENEMY] [Enemy3] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-90.0°, current=0.0°, player=(150,1000), corner_timer=0.30
[11:24:36] [ENEMY] [Enemy3] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=0.0°, current=-54.4°, player=(150,1000), corner_timer=-0.02
[11:24:36] [ENEMY] [Enemy3] PATROL corner check: angle -90.0°
[11:24:36] [ENEMY] [Enemy3] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=-51.6°, player=(150,1000), corner_timer=0.30
[11:24:36] [INFO] [Shotgun.FIX#445v7] TryProcessMidDragGesture - dragVector=(76,5, -114,9), length=138,0, isDragUp=True, isDragDown=False, ActionState=Ready
[11:24:36] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=5
[11:24:36] [INFO] [Shotgun.FIX#445v7] TryProcessMidDragGesture - dragVector=(90,6, -130,2), length=158,6, isDragUp=True, isDragDown=False, ActionState=Ready
[11:24:36] [INFO] [Shotgun.FIX#445v7] TryProcessMidDragGesture - dragVector=(107,9, -130,2), length=169,2, isDragUp=True, isDragDown=False, ActionState=Ready
[11:24:36] [INFO] [Shotgun.FIX#445v7] TryProcessMidDragGesture - dragVector=(111,3, -130,2), length=171,3, isDragUp=True, isDragDown=False, ActionState=Ready
[11:24:36] [INFO] [Shotgun.FIX#445v7] TryProcessMidDragGesture - dragVector=(111,3, -130,2), length=171,3, isDragUp=True, isDragDown=False, ActionState=Ready
[11:24:37] [INFO] [Shotgun.FIX#445v7] TryProcessMidDragGesture - dragVector=(111,3, -129,7), length=170,9, isDragUp=True, isDragDown=False, ActionState=Ready
[11:24:37] [INFO] [Shotgun.FIX#445v7] TryProcessMidDragGesture - dragVector=(111,3, -118,2), length=162,3, isDragUp=True, isDragDown=False, ActionState=Ready
[11:24:37] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=5
[11:24:37] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=169.1°, current=-168.8°, player=(150,1094), corner_timer=0.00
[11:24:37] [ENEMY] [Enemy2] State: IDLE -> COMBAT
[11:24:37] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=168.6°, current=-5.7°, player=(150,1103), corner_timer=0.00
[11:24:37] [INFO] [Player.Grenade.Simple] Throwing! Target: (1072.2335, 1057.3835), Distance: 863,8, Speed: 719,9, Friction: 300,0
[11:24:37] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,05913781
[11:24:37] [INFO] [GrenadeTimer] Grenade marked as thrown - impact detection enabled
[11:24:37] [INFO] [Player.Grenade.Simple] C# set velocity directly: dir=(0.9982519, -0.059103347), speed=719,9, spawn=(209.89511, 1108.44)
[11:24:37] [INFO] [GrenadeBase] Simple mode throw! Dir: (0.998252, -0.059103), Speed: 719.9 (clamped from 719.9, max: 1000.0)
[11:24:37] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[11:24:37] [INFO] [Player.Grenade.Simple] Grenade thrown!
[11:24:37] [INFO] [Player.Grenade] State reset to IDLE
[11:24:37] [INFO] [Player.Grenade] State reset to IDLE
[11:24:37] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[11:24:37] [INFO] [Shotgun.FIX#243] RMB released after 126 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[11:24:37] [INFO] [Shotgun.FIX#445v7] ProcessDragGesture - dragVector=(113,9, -61,3), length=129,4, ActionState=Ready
[11:24:37] [INFO] [Shotgun.FIX#445v7] Pump drag not vertical: absY=61,3 <= absX=113,9
[11:24:37] [INFO] [Player.Grenade] Player rotation restored to 0
[11:24:37] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[11:24:37] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[11:24:38] [ENEMY] [Enemy3] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=52.8°, player=(150,1055), corner_timer=-0.02
[11:24:38] [ENEMY] [Enemy3] PATROL corner check: angle -90.0°
[11:24:38] [ENEMY] [Enemy2] GRENADE DANGER: Entering EVADING_GRENADE state from PURSUING
[11:24:38] [ENEMY] [Enemy2] EVADING_GRENADE started: escaping to (290.514, 789.7251)
[11:24:38] [ENEMY] [Enemy3] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=55.6°, player=(150,1050), corner_timer=0.30
[11:24:38] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P4:velocity, state=EVADING_GRENADE, target=173.5°, current=99.0°, player=(150,1039), corner_timer=0.00
[11:24:38] [INFO] [ReplayManager] Recording frame 240 (4,0s): player_valid=True, enemies=5
[11:24:38] [ENEMY] [Enemy3] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.2°, player=(150,945), corner_timer=-0.02
[11:24:38] [ENEMY] [Enemy3] PATROL corner check: angle -90.0°
[11:24:38] [ENEMY] [Enemy3] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=4.1°, player=(150,940), corner_timer=0.30
[11:24:38] [ENEMY] [Enemy2] EVADING_GRENADE: Escaped to safe distance
[11:24:38] [ENEMY] [Enemy2] State: EVADING_GRENADE -> PURSUING
[11:24:39] [ENEMY] [Enemy2] ROT_CHANGE: P4:velocity -> P2:combat_state, state=PURSUING, target=154.8°, current=-124.6°, player=(150,860), corner_timer=0.00
[11:24:39] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=154.8°, current=-156.1°, player=(150,860), corner_timer=0.00
[11:24:39] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[11:24:39] [INFO] [GrenadeBase] EXPLODED at (1010.879, 1061.016)!
[11:24:39] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1010.879, 1061.016), source=NEUTRAL (DefensiveGrenade), range=2937, listeners=8
[11:24:39] [INFO] [SoundPropagation] Cleaned up 3 invalid listeners
[11:24:39] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=4
[11:24:39] [ENEMY] [Enemy3] Hit: dmg=1, hp=1/1->0/1
[11:24:39] [INFO] [ImpactEffects] spawn_blood_effect called at (1104.668, 1000), dir=(0.838224, -0.545326), lethal=true
[11:24:39] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[11:24:39] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[11:24:39] [INFO] [ImpactEffects] Blood effect spawned at (1104.668, 1000) (scale=1.5)
[11:24:39] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[11:24:39] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[11:24:39] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 4)
[11:24:39] [INFO] [DeathAnim] Started - Angle: -33.0 deg, Index: 9
[11:24:39] [ENEMY] [Enemy3] Death animation started with hit direction: (0.838224, -0.545326)
[11:24:39] [INFO] [DefensiveGrenade] Applied 99 HE damage to enemy at distance 111.9
[11:24:39] [INFO] [DefensiveGrenade] Spawned shrapnel #1 at angle -6.2 degrees
[11:24:39] [INFO] [DefensiveGrenade] Spawned shrapnel #2 at angle -0.0 degrees
[11:24:39] [INFO] [DefensiveGrenade] Spawned shrapnel #3 at angle 25.5 degrees
[11:24:39] [INFO] [DefensiveGrenade] Spawned shrapnel #4 at angle 16.0 degrees
[11:24:39] [INFO] [DefensiveGrenade] Spawned shrapnel #5 at angle 27.1 degrees
[11:24:39] [INFO] [DefensiveGrenade] Spawned shrapnel #6 at angle 57.4 degrees
[11:24:39] [INFO] [DefensiveGrenade] Spawned shrapnel #7 at angle 58.0 degrees
[11:24:39] [INFO] [DefensiveGrenade] Spawned shrapnel #8 at angle 71.7 degrees
[11:24:39] [INFO] [DefensiveGrenade] Spawned shrapnel #9 at angle 71.2 degrees
[11:24:39] [INFO] [DefensiveGrenade] Spawned shrapnel #10 at angle 76.9 degrees
[11:24:39] [INFO] [DefensiveGrenade] Spawned shrapnel #11 at angle 98.8 degrees
[11:24:39] [INFO] [DefensiveGrenade] Spawned shrapnel #12 at angle 88.1 degrees
[11:24:39] [INFO] [DefensiveGrenade] Spawned shrapnel #13 at angle 115.2 degrees
[11:24:39] [INFO] [DefensiveGrenade] Spawned shrapnel #14 at angle 103.8 degrees
[11:24:39] [INFO] [DefensiveGrenade] Spawned shrapnel #15 at angle 131.8 degrees
[11:24:39] [INFO] [DefensiveGrenade] Spawned shrapnel #16 at angle 132.2 degrees
[11:24:39] [INFO] [DefensiveGrenade] Spawned shrapnel #17 at angle 147.2 degrees
[11:24:39] [INFO] [DefensiveGrenade] Spawned shrapnel #18 at angle 140.4 degrees
[11:24:39] [INFO] [DefensiveGrenade] Spawned shrapnel #19 at angle 162.0 degrees
[11:24:39] [INFO] [DefensiveGrenade] Spawned shrapnel #20 at angle 167.3 degrees
[11:24:39] [INFO] [DefensiveGrenade] Spawned shrapnel #21 at angle 182.3 degrees
[11:24:39] [INFO] [DefensiveGrenade] Spawned shrapnel #22 at angle 193.6 degrees
[11:24:39] [INFO] [DefensiveGrenade] Spawned shrapnel #23 at angle 212.2 degrees
[11:24:39] [INFO] [DefensiveGrenade] Spawned shrapnel #24 at angle 208.8 degrees
[11:24:39] [INFO] [DefensiveGrenade] Spawned shrapnel #25 at angle 229.9 degrees
[11:24:39] [INFO] [DefensiveGrenade] Spawned shrapnel #26 at angle 231.0 degrees
[11:24:39] [INFO] [DefensiveGrenade] Spawned shrapnel #27 at angle 244.0 degrees
[11:24:39] [INFO] [DefensiveGrenade] Spawned shrapnel #28 at angle 238.5 degrees
[11:24:39] [INFO] [DefensiveGrenade] Spawned shrapnel #29 at angle 243.4 degrees
[11:24:39] [INFO] [DefensiveGrenade] Spawned shrapnel #30 at angle 263.6 degrees
[11:24:39] [INFO] [DefensiveGrenade] Spawned shrapnel #31 at angle 273.5 degrees
[11:24:39] [INFO] [DefensiveGrenade] Spawned shrapnel #32 at angle 290.3 degrees
[11:24:39] [INFO] [DefensiveGrenade] Spawned shrapnel #33 at angle 278.4 degrees
[11:24:39] [INFO] [DefensiveGrenade] Spawned shrapnel #34 at angle 308.9 degrees
[11:24:39] [INFO] [DefensiveGrenade] Spawned shrapnel #35 at angle 301.3 degrees
[11:24:39] [INFO] [DefensiveGrenade] Spawned shrapnel #36 at angle 304.8 degrees
[11:24:39] [INFO] [DefensiveGrenade] Spawned shrapnel #37 at angle 326.4 degrees
[11:24:39] [INFO] [DefensiveGrenade] Spawned shrapnel #38 at angle 336.5 degrees
[11:24:39] [INFO] [DefensiveGrenade] Spawned shrapnel #39 at angle 337.3 degrees
[11:24:39] [INFO] [DefensiveGrenade] Spawned shrapnel #40 at angle 364.9 degrees
[11:24:39] [INFO] [ImpactEffects] Spawning explosion visual effect at (1010.879, 1061.016) (radius=700) - using shadow-based wall occlusion
[11:24:39] [INFO] [GrenadeTimer] Timer expired for Flashbang grenade!
[11:24:39] [INFO] [GrenadeTimer] Flashbang grenade activated at (1010.87885, 1061.0165)!
[11:24:39] [INFO] [GrenadeTimer] Applying flashbang effects (radius: 700, blindness: 12s, stun: 6s)
[11:24:39] [INFO] [FlashbangStatus] Flashbang: blind=10.1s, stun=5.0s
[11:24:39] [INFO] [FlashbangStatus] Status: BLINDED applied
[11:24:39] [INFO] [FlashbangStatus] Status: STUNNED applied
[11:24:39] [INFO] [GrenadeTimer] Applied flashbang to enemy at distance 111,9 (intensity: 0,84)
[11:24:39] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1010.879, 1061.016), source=NEUTRAL (DefensiveGrenade), range=2938, listeners=4
[11:24:39] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=4
[11:24:39] [INFO] [GrenadeTimer] Spawned shadow-enabled flashbang effect at (1010.87885, 1061.0165) (radius: 700)
[11:24:39] [INFO] [ReplayManager] Recording frame 300 (5,0s): player_valid=True, enemies=5
[11:24:39] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=154.0°, current=98.4°, player=(150,864), corner_timer=0.00
[11:24:39] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=153.1°, current=103.4°, player=(150,867), corner_timer=0.00
[11:24:39] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=150.5°, current=112.5°, player=(150,879), corner_timer=0.00
[11:24:39] [INFO] [BloodDecal] Blood puddle created at (1150.804, 946.5735) (added to group)
[11:24:39] [INFO] [BloodDecal] Blood puddle created at (1178.139, 973.9482) (added to group)
[11:24:39] [INFO] [BloodDecal] Blood puddle created at (1144.481, 977.2054) (added to group)
[11:24:39] [INFO] [BloodDecal] Blood puddle created at (1164.158, 931.0472) (added to group)
[11:24:39] [INFO] [BloodDecal] Blood puddle created at (1191.784, 980.9352) (added to group)
[11:24:39] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[11:24:39] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[11:24:39] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[11:24:39] [ENEMY] [Enemy5] Hit: dmg=1, hp=3/3->2/3
[11:24:39] [INFO] [ImpactEffects] spawn_blood_effect called at (1500, 300), dir=(0.119109, 0.992881), lethal=false
[11:24:39] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[11:24:39] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[11:24:39] [INFO] [ImpactEffects] Blood effect spawned at (1500, 300) (scale=1)
[11:24:39] [ENEMY] [Enemy3] Ragdoll activated
[11:24:39] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[11:24:39] [INFO] [BloodDecal] Blood puddle created at (1162.878, 941.0705) (added to group)
[11:24:39] [INFO] [BloodDecal] Blood puddle created at (1235.653, 1000.993) (added to group)
[11:24:39] [INFO] [BloodDecal] Blood puddle created at (1220.879, 973.3382) (added to group)
[11:24:39] [INFO] [BloodDecal] Blood puddle created at (1179.77, 913.6126) (added to group)
[11:24:39] [INFO] [BloodDecal] Blood puddle created at (1166.35, 1018.739) (added to group)
[11:24:39] [INFO] [BloodDecal] Blood puddle created at (1171.042, 927.6495) (added to group)
[11:24:39] [INFO] [BloodDecal] Blood puddle created at (1249.811, 1027.553) (added to group)
[11:24:39] [INFO] [BloodDecal] Blood puddle created at (1170.493, 1002.092) (added to group)
[11:24:40] [INFO] [BloodDecal] Blood puddle created at (1246.409, 1009.605) (added to group)
[11:24:40] [INFO] [BloodDecal] Blood puddle created at (1197.61, 1046.29) (added to group)
[11:24:40] [INFO] [BloodDecal] Blood puddle created at (1291.076, 1020.925) (added to group)
[11:24:40] [INFO] [BloodDecal] Blood puddle created at (1488.579, 359.8484) (added to group)
[11:24:40] [INFO] [BloodDecal] Blood puddle created at (1509.758, 359.5323) (added to group)
[11:24:40] [INFO] [BloodDecal] Blood puddle created at (1226.392, 1035.198) (added to group)
[11:24:40] [INFO] [BloodDecal] Blood puddle created at (1195.721, 1038.091) (added to group)
[11:24:40] [INFO] [BloodDecal] Blood puddle created at (1236.265, 1040.168) (added to group)
[11:24:40] [INFO] [BloodDecal] Blood puddle created at (1178.977, 1017.14) (added to group)
[11:24:40] [INFO] [BloodDecal] Blood puddle created at (1488.846, 372.6792) (added to group)
[11:24:40] [INFO] [BloodDecal] Blood puddle created at (1482.345, 445.3012) (added to group)
[11:24:40] [INFO] [BloodDecal] Blood puddle created at (1498.459, 427.4769) (added to group)
[11:24:40] [INFO] [BloodDecal] Blood puddle created at (1534.622, 375.909) (added to group)
[11:24:40] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[11:24:40] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P4:velocity, state=SEEKING_COVER, target=61.8°, current=60.3°, player=(150,1104), corner_timer=0.00
[11:24:40] [INFO] [BloodDecal] Blood puddle created at (1536.033, 449.3152) (added to group)
[11:24:40] [INFO] [BloodDecal] Blood puddle created at (1501.919, 484.753) (added to group)
[11:24:40] [INFO] [ReplayManager] Recording frame 360 (6,0s): player_valid=True, enemies=5
[11:24:40] [ENEMY] [Enemy3] Death animation completed
[11:24:41] [ENEMY] [Enemy2] State: SEEKING_COVER -> IN_COVER
[11:24:41] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[11:24:41] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[11:24:41] [ENEMY] [Enemy2] State: SEEKING_COVER -> IN_COVER
[11:24:41] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[11:24:41] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[11:24:41] [INFO] [ReplayManager] Recording frame 420 (7,0s): player_valid=True, enemies=5
[11:24:41] [ENEMY] [Enemy2] State: SEEKING_COVER -> IN_COVER
[11:24:41] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[11:24:41] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[11:24:41] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[11:24:41] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:24:41] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[11:24:41] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[11:24:41] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[11:24:41] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[11:24:41] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[11:24:41] [INFO] [LastChance] Resetting all effects (scene change detected)
[11:24:41] [INFO] [CinemaEffects] Scene changed to: LabyrinthLevel
[11:24:41] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[11:24:41] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[11:24:41] [ENEMY] [Enemy1] Death animation component initialized
[11:24:41] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:24:41] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[11:24:41] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[11:24:41] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[11:24:41] [ENEMY] [Enemy2] Death animation component initialized
[11:24:41] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:24:41] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[11:24:41] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[11:24:41] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[11:24:41] [ENEMY] [Enemy3] Death animation component initialized
[11:24:41] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:24:41] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[11:24:41] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[11:24:41] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[11:24:41] [ENEMY] [Enemy4] Death animation component initialized
[11:24:41] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:24:41] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[11:24:41] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[11:24:41] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[11:24:41] [ENEMY] [Enemy5] Death animation component initialized
[11:24:41] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:24:41] [INFO] [BloodyFeet:Player] Footprint scene loaded
[11:24:41] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[11:24:41] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[11:24:41] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: F-1 Grenade
[11:24:41] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[11:24:41] [INFO] [Player.Weapon] GameManager weapon selection: shotgun (Shotgun)
[11:24:41] [INFO] [Player.Weapon] Removed default MakarovPM
[11:24:41] [INFO] [Player.Weapon] Equipped Shotgun (ammo: 0/8)
[11:24:41] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[11:24:41] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[11:24:41] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[11:24:41] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[11:24:41] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[11:24:41] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[11:24:41] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[11:24:41] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[11:24:41] [INFO] [Player.Homing] No homing bullets selected in ActiveItemManager
[11:24:41] [INFO] [Player.InvisibilitySuit] No invisibility suit selected in ActiveItemManager
[11:24:41] [INFO] [Player.BreakerBullets] Breaker bullets active — bullets will detonate 60px before walls
[11:24:41] [INFO] [Player.BreakerBullets] Set IsBreakerBulletActive on weapon: Shotgun
[11:24:41] [INFO] [Player] Ready! Ammo: 0/8, Grenades: 1/3, Health: 4/4
[11:24:41] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[11:24:41] [INFO] [LabyrinthLevel] Found Environment/Enemies node with 5 children
[11:24:41] [INFO] [LabyrinthLevel] Child 'Enemy1': script=true, has_died_signal=true
[11:24:41] [INFO] [LabyrinthLevel] Child 'Enemy2': script=true, has_died_signal=true
[11:24:41] [INFO] [LabyrinthLevel] Child 'Enemy3': script=true, has_died_signal=true
[11:24:41] [INFO] [LabyrinthLevel] Child 'Enemy4': script=true, has_died_signal=true
[11:24:41] [INFO] [LabyrinthLevel] Child 'Enemy5': script=true, has_died_signal=true
[11:24:41] [INFO] [LabyrinthLevel] Enemy tracking complete: 5 enemies registered
[11:24:41] [INFO] [LabyrinthLevel] Setting up weapon: shotgun
[11:24:41] [INFO] [LabyrinthLevel] Shotgun already equipped by C# Player - skipping GDScript weapon swap
[11:24:41] [INFO] [ScoreManager] Level started with 5 enemies
[11:24:41] [INFO] [LabyrinthLevel] ReplayManager found as C# autoload - verified OK
[11:24:41] [INFO] [LabyrinthLevel] Starting replay recording - Player: Player, Enemies count: 5
[11:24:41] [INFO] [ReplayManager] Replay data cleared
[11:24:41] [INFO] [LabyrinthLevel] Previous replay data cleared
[11:24:41] [INFO] [ReplayManager] Detected player weapon: Shotgun
[11:24:41] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[11:24:41] [INFO] [ReplayManager] Level: LabyrinthLevel
[11:24:41] [INFO] [ReplayManager] Player: Player (valid: True)
[11:24:41] [INFO] [ReplayManager] Enemies count: 5
[11:24:41] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/shotgun_topdown.png
[11:24:41] [INFO] [ReplayManager]   Enemy 0: Enemy1
[11:24:41] [INFO] [ReplayManager]   Enemy 1: Enemy2
[11:24:41] [INFO] [ReplayManager]   Enemy 2: Enemy3
[11:24:41] [INFO] [ReplayManager]   Enemy 3: Enemy4
[11:24:41] [INFO] [ReplayManager]   Enemy 4: Enemy5
[11:24:41] [INFO] [LabyrinthLevel] Replay recording started successfully
[11:24:41] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[11:24:41] [INFO] [CinemaEffects] Found player node: Player
[11:24:41] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[11:24:41] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 5)
[11:24:41] [ENEMY] [Enemy1] Registered as sound listener
[11:24:41] [ENEMY] [Enemy1] Spawned at (400, 300), hp: 1, behavior: GUARD
[11:24:41] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[11:24:41] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 6)
[11:24:41] [ENEMY] [Enemy2] Registered as sound listener
[11:24:41] [ENEMY] [Enemy2] Spawned at (900, 950), hp: 1, behavior: GUARD
[11:24:41] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[11:24:41] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 7)
[11:24:41] [ENEMY] [Enemy3] Registered as sound listener
[11:24:41] [ENEMY] [Enemy3] Spawned at (1200, 1000), hp: 2, behavior: PATROL
[11:24:41] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[11:24:41] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 8)
[11:24:41] [ENEMY] [Enemy4] Registered as sound listener
[11:24:41] [ENEMY] [Enemy4] Spawned at (1650, 650), hp: 1, behavior: GUARD
[11:24:41] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[11:24:41] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 9)
[11:24:41] [ENEMY] [Enemy5] Registered as sound listener
[11:24:41] [ENEMY] [Enemy5] Spawned at (1500, 300), hp: 2, behavior: GUARD
[11:24:41] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[11:24:42] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=5
[11:24:42] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(150,1000), corner_timer=0.00
[11:24:42] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=45.0°, current=0.0°, player=(150,1000), corner_timer=0.00
[11:24:42] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(150,1000), corner_timer=0.00
[11:24:42] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=33.8°, current=0.0°, player=(150,1000), corner_timer=0.00
[11:24:42] [INFO] [Player] Detecting weapon pose (frame 3)...
[11:24:42] [INFO] [Player] Detected weapon: Shotgun (Shotgun pose)
[11:24:42] [INFO] [Player] Applied Shotgun arm pose: Left=(21, 6), Right=(-1, 6)
[11:24:42] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[11:24:42] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[11:24:42] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[11:24:42] [INFO] [LastChance] Found player: Player
[11:24:42] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[11:24:42] [INFO] [LastChance] Connected to player Damaged signal (C#)
[11:24:42] [INFO] [LastChance] Connected to player Died signal (C#)
[11:24:42] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[11:24:42] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[11:24:42] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[11:24:42] [INFO] [Player.Grenade] G pressed - starting grab animation
[11:24:42] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[11:24:42] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (843.3664, 1023.3766)
[11:24:42] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=Ready, ReloadState=NotReloading
[11:24:42] [INFO] [Shotgun.FIX#445] dragStartPos=(845, 1023), aimDir=(1,00, 0,03)
[11:24:42] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[11:24:42] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[11:24:42] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[11:24:42] [INFO] [GrenadeBase] CCD enabled (mode: CAST_RAY) to prevent wall tunneling
[11:24:42] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[11:24:42] [INFO] [DefensiveGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[11:24:42] [INFO] [GrenadeTimer] Initialized for Flashbang grenade, effect radius: 700
[11:24:42] [INFO] [Player.Grenade] Added GrenadeTimer component (type: Flashbang)
[11:24:42] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[11:24:42] [INFO] [GrenadeTimer] Timer activated! 4 seconds until explosion
[11:24:42] [INFO] [Player.Grenade] Timer started, grenade created at (150, 1000)
[11:24:42] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[11:24:42] [INFO] [Player.Grenade] Step 1 complete! Drag: (127.35779, 6.0111084)
[11:24:42] [INFO] [Shotgun.FIX#243] RMB released after 3 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[11:24:42] [INFO] [Shotgun.FIX#445v7] ProcessDragGesture - dragVector=(183,8, 14,7), length=184,4, ActionState=Ready
[11:24:42] [INFO] [Shotgun.FIX#445v7] Pump drag not vertical: absY=14,7 <= absX=183,8
[11:24:42] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[11:24:42] [INFO] [Player.Grenade.Simple] RMB pressed after pin pull - starting trajectory aiming
[11:24:42] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=Ready, ReloadState=NotReloading
[11:24:42] [INFO] [Shotgun.FIX#445] dragStartPos=(1159, 1042), aimDir=(1,00, 0,04)
[11:24:42] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[11:24:42] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[11:24:42] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[11:24:42] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=5
[11:24:43] [ENEMY] [Enemy3] PATROL corner check: angle -90.0°
[11:24:43] [ENEMY] [Enemy3] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-90.0°, current=0.0°, player=(150,1030), corner_timer=0.30
[11:24:43] [INFO] [SoundPropagation] Sound emitted: type=GRENADE_LANDING, pos=(150, 1111.995), source=NEUTRAL (DefensiveGrenade), range=112, listeners=9
[11:24:43] [INFO] [SoundPropagation] Cleaned up 4 invalid listeners
[11:24:43] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[11:24:43] [INFO] [GrenadeBase] Grenade landed at (150, 1111.995)
[11:24:43] [ENEMY] [Enemy3] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=0.0°, current=-54.4°, player=(150,1111), corner_timer=-0.02
[11:24:43] [ENEMY] [Enemy3] PATROL corner check: angle -90.0°
[11:24:43] [ENEMY] [Enemy3] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=-51.6°, player=(150,1111), corner_timer=0.30
[11:24:43] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=5
[11:24:44] [INFO] [Player.Grenade.Simple] Throwing! Target: (1010.0998, 1029.5142), Distance: 804,0, Speed: 694,6, Friction: 300,0
[11:24:44] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,095604196
[11:24:44] [INFO] [GrenadeTimer] Grenade marked as thrown - impact detection enabled
[11:24:44] [INFO] [Player.Grenade.Simple] C# set velocity directly: dir=(0.9954334, -0.09545862), speed=694,6, spawn=(209.726, 1106.2672)
[11:24:44] [INFO] [GrenadeBase] Simple mode throw! Dir: (0.995433, -0.095459), Speed: 694.6 (clamped from 694.6, max: 1000.0)
[11:24:44] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[11:24:44] [INFO] [Player.Grenade.Simple] Grenade thrown!
[11:24:44] [INFO] [Player.Grenade] State reset to IDLE
[11:24:44] [INFO] [Player.Grenade] State reset to IDLE
[11:24:44] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[11:24:44] [INFO] [Shotgun.FIX#243] RMB released after 82 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[11:24:44] [INFO] [Shotgun.FIX#445v7] ProcessDragGesture - dragVector=(-148,5, -12,1), length=149,0, ActionState=Ready
[11:24:44] [INFO] [Shotgun.FIX#445v7] Pump drag not vertical: absY=12,1 <= absX=148,5
[11:24:44] [INFO] [Player.Grenade] Player rotation restored to 0
[11:24:44] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[11:24:44] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=5
[11:24:45] [ENEMY] [Enemy2] GRENADE DANGER: Entering EVADING_GRENADE state from IDLE
[11:24:45] [ENEMY] [Enemy2] EVADING_GRENADE started: escaping to (346.4667, 534.8916)
[11:24:45] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P4:velocity, state=EVADING_GRENADE, target=-175.4°, current=15.8°, player=(64,1013), corner_timer=0.00
[11:24:45] [ENEMY] [Enemy3] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=52.8°, player=(64,1002), corner_timer=-0.02
[11:24:45] [ENEMY] [Enemy3] PATROL corner check: angle -90.0°
[11:24:45] [ENEMY] [Enemy3] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=55.6°, player=(64,996), corner_timer=0.30
[11:24:45] [INFO] [ReplayManager] Recording frame 240 (4,0s): player_valid=True, enemies=5
[11:24:46] [ENEMY] [Enemy3] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.2°, player=(64,892), corner_timer=-0.02
[11:24:46] [ENEMY] [Enemy3] PATROL corner check: angle -90.0°
[11:24:46] [ENEMY] [Enemy3] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=4.1°, player=(64,886), corner_timer=0.30
[11:24:46] [INFO] [GrenadeTimer] Flashbang grenade landed at (999.8495, 1030.4965)
[11:24:46] [INFO] [SoundPropagation] Sound emitted: type=GRENADE_LANDING, pos=(999.8495, 1030.496), source=NEUTRAL (DefensiveGrenade), range=112, listeners=5
[11:24:46] [ENEMY] [Enemy3] Heard GRENADE_LANDING at (999.8495, 1030.496), intensity=0.21
[11:24:46] [ENEMY] [Enemy3] EVADING_GRENADE (from sound): escaping from (999.8495, 1030.496)
[11:24:46] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=0, below_threshold=0
[11:24:46] [INFO] [GrenadeTimer] Emitted grenade landing sound at (999.8495, 1030.4965)
[11:24:46] [ENEMY] [Enemy2] ROT_CHANGE: P4:velocity -> P1:visible, state=EVADING_GRENADE, target=162.7°, current=-149.0°, player=(64,742), corner_timer=0.00
[11:24:46] [ENEMY] [Enemy1] Memory: high confidence (0.90) - transitioning to PURSUING
[11:24:46] [ENEMY] [Enemy1] State: IDLE -> PURSUING
[11:24:46] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=127.8°, current=-168.8°, player=(64,733), corner_timer=0.00
[11:24:46] [ENEMY] [Enemy1] PURSUING corner check: angle -0.0°
[11:24:46] [ENEMY] [Enemy2] EVADING_GRENADE: Escaped to safe distance
[11:24:46] [ENEMY] [Enemy2] State: EVADING_GRENADE -> IDLE
[11:24:46] [ENEMY] [Enemy2] State: IDLE -> COMBAT
[11:24:46] [INFO] [GrenadeBase] EXPLODED at (1004.34, 1030.066)!
[11:24:46] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1004.34, 1030.066), source=NEUTRAL (DefensiveGrenade), range=2937, listeners=5
[11:24:46] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=4
[11:24:46] [INFO] [DefensiveGrenade] Spawned shrapnel #1 at angle 12.9 degrees
[11:24:46] [INFO] [DefensiveGrenade] Spawned shrapnel #2 at angle 4.0 degrees
[11:24:46] [INFO] [DefensiveGrenade] Spawned shrapnel #3 at angle 26.2 degrees
[11:24:46] [INFO] [DefensiveGrenade] Spawned shrapnel #4 at angle 12.7 degrees
[11:24:46] [INFO] [DefensiveGrenade] Spawned shrapnel #5 at angle 33.3 degrees
[11:24:46] [INFO] [DefensiveGrenade] Spawned shrapnel #6 at angle 32.8 degrees
[11:24:46] [INFO] [DefensiveGrenade] Spawned shrapnel #7 at angle 53.0 degrees
[11:24:46] [INFO] [DefensiveGrenade] Spawned shrapnel #8 at angle 48.5 degrees
[11:24:46] [INFO] [DefensiveGrenade] Spawned shrapnel #9 at angle 71.6 degrees
[11:24:46] [INFO] [DefensiveGrenade] Spawned shrapnel #10 at angle 76.6 degrees
[11:24:46] [INFO] [DefensiveGrenade] Spawned shrapnel #11 at angle 93.6 degrees
[11:24:46] [INFO] [DefensiveGrenade] Spawned shrapnel #12 at angle 102.3 degrees
[11:24:46] [INFO] [DefensiveGrenade] Spawned shrapnel #13 at angle 110.0 degrees
[11:24:46] [INFO] [DefensiveGrenade] Spawned shrapnel #14 at angle 110.3 degrees
[11:24:46] [INFO] [DefensiveGrenade] Spawned shrapnel #15 at angle 133.0 degrees
[11:24:46] [INFO] [DefensiveGrenade] Spawned shrapnel #16 at angle 138.8 degrees
[11:24:46] [INFO] [DefensiveGrenade] Spawned shrapnel #17 at angle 142.0 degrees
[11:24:46] [INFO] [DefensiveGrenade] Spawned shrapnel #18 at angle 144.6 degrees
[11:24:46] [INFO] [DefensiveGrenade] Spawned shrapnel #19 at angle 157.4 degrees
[11:24:46] [INFO] [DefensiveGrenade] Spawned shrapnel #20 at angle 157.7 degrees
[11:24:46] [INFO] [DefensiveGrenade] Spawned shrapnel #21 at angle 172.0 degrees
[11:24:46] [INFO] [DefensiveGrenade] Spawned shrapnel #22 at angle 200.7 degrees
[11:24:46] [INFO] [DefensiveGrenade] Spawned shrapnel #23 at angle 188.5 degrees
[11:24:46] [INFO] [DefensiveGrenade] Spawned shrapnel #24 at angle 197.4 degrees
[11:24:46] [INFO] [DefensiveGrenade] Spawned shrapnel #25 at angle 227.7 degrees
[11:24:46] [INFO] [DefensiveGrenade] Spawned shrapnel #26 at angle 219.4 degrees
[11:24:46] [INFO] [DefensiveGrenade] Spawned shrapnel #27 at angle 221.0 degrees
[11:24:46] [INFO] [DefensiveGrenade] Spawned shrapnel #28 at angle 249.9 degrees
[11:24:46] [INFO] [DefensiveGrenade] Spawned shrapnel #29 at angle 261.9 degrees
[11:24:46] [INFO] [DefensiveGrenade] Spawned shrapnel #30 at angle 273.8 degrees
[11:24:46] [INFO] [DefensiveGrenade] Spawned shrapnel #31 at angle 281.5 degrees
[11:24:46] [INFO] [DefensiveGrenade] Spawned shrapnel #32 at angle 291.6 degrees
[11:24:46] [INFO] [DefensiveGrenade] Spawned shrapnel #33 at angle 283.9 degrees
[11:24:46] [INFO] [DefensiveGrenade] Spawned shrapnel #34 at angle 290.6 degrees
[11:24:46] [INFO] [DefensiveGrenade] Spawned shrapnel #35 at angle 298.0 degrees
[11:24:46] [INFO] [DefensiveGrenade] Spawned shrapnel #36 at angle 315.8 degrees
[11:24:46] [INFO] [DefensiveGrenade] Spawned shrapnel #37 at angle 336.2 degrees
[11:24:46] [INFO] [DefensiveGrenade] Spawned shrapnel #38 at angle 329.0 degrees
[11:24:46] [INFO] [DefensiveGrenade] Spawned shrapnel #39 at angle 343.1 degrees
[11:24:46] [INFO] [DefensiveGrenade] Spawned shrapnel #40 at angle 361.0 degrees
[11:24:46] [INFO] [ImpactEffects] Spawning explosion visual effect at (1004.34, 1030.066) (radius=700) - using shadow-based wall occlusion
[11:24:46] [INFO] [GrenadeTimer] Timer expired for Flashbang grenade!
[11:24:46] [INFO] [GrenadeTimer] Flashbang grenade activated at (1004.34045, 1030.0657)!
[11:24:46] [INFO] [GrenadeTimer] Applying flashbang effects (radius: 700, blindness: 12s, stun: 6s)
[11:24:46] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1004.34, 1030.066), source=NEUTRAL (DefensiveGrenade), range=2938, listeners=5
[11:24:46] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=4
[11:24:46] [INFO] [GrenadeTimer] Spawned shadow-enabled flashbang effect at (1004.34045, 1030.0657) (radius: 700)
[11:24:46] [ENEMY] [Enemy3] Hit: dmg=1, hp=2/2->1/2
[11:24:46] [INFO] [ImpactEffects] spawn_blood_effect called at (1175.214, 722.2128), dir=(0.469661, -0.882847), lethal=false
[11:24:46] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[11:24:46] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[11:24:46] [INFO] [ImpactEffects] Blood effect spawned at (1175.214, 722.2128) (scale=1)
[11:24:46] [ENEMY] [Enemy3] EVADING_GRENADE: Escaped to safe distance
[11:24:46] [ENEMY] [Enemy3] State: EVADING_GRENADE -> IDLE
[11:24:47] [ENEMY] [Enemy3] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=102.6°, current=-33.4°, player=(64,777), corner_timer=-0.02
[11:24:47] [ENEMY] [Enemy3] PATROL corner check: angle 12.6°
[11:24:47] [ENEMY] [Enemy3] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=12.6°, current=-30.5°, player=(64,782), corner_timer=0.30
[11:24:47] [ENEMY] [Enemy2] Hit: dmg=1, hp=1/1->0/1
[11:24:47] [INFO] [ImpactEffects] spawn_blood_effect called at (279.1073, 601.2071), dir=(-0.725397, -0.68833), lethal=true
[11:24:47] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[11:24:47] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[11:24:47] [INFO] [ImpactEffects] Blood effect spawned at (279.1073, 601.2071) (scale=1.5)
[11:24:47] [ENEMY] [Enemy2] Enemy died (ricochet: false, penetration: false)
[11:24:47] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[11:24:47] [ENEMY] [Enemy2] [AllyDeath] Notified 1 enemies
[11:24:47] [INFO] [SoundPropagation] Unregistered listener: Enemy2 (remaining: 4)
[11:24:47] [INFO] [DeathAnim] Started - Angle: -136.5 deg, Index: 2
[11:24:47] [ENEMY] [Enemy2] Death animation started with hit direction: (-0.725397, -0.68833)
[11:24:47] [INFO] [ReplayManager] Recording frame 300 (5,0s): player_valid=True, enemies=5
[11:24:47] [ENEMY] [Enemy1] PURSUING corner check: angle -0.0°
[11:24:47] [INFO] [BloodDecal] Blood puddle created at (1227.755, 689.4738) (added to group)
[11:24:47] [INFO] [Player] Spawning blood effect at (64.06674, 832.3112), dir=(-0.698882, 0.715237), lethal=False (C#)
[11:24:47] [INFO] [ImpactEffects] spawn_blood_effect called at (64.06674, 832.3112), dir=(-0.698882, 0.715237), lethal=false
[11:24:47] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[11:24:47] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[11:24:47] [INFO] [ImpactEffects] Wall found for blood splatter at (48, 848.7539) (dist=22 px)
[11:24:47] [INFO] [BloodDecal] Blood puddle created at (49, 848.7539) (added to group)
[11:24:47] [INFO] [ImpactEffects] Blood effect spawned at (64.06674, 832.3112) (scale=1)
[11:24:47] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[11:24:47] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[11:24:47] [ENEMY] [Enemy3] Hit: dmg=1, hp=1/2->0/2
[11:24:47] [INFO] [ImpactEffects] spawn_blood_effect called at (1164.158, 713.6375), dir=(0.80004, -0.599947), lethal=true
[11:24:47] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[11:24:47] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[11:24:47] [INFO] [ImpactEffects] Blood effect spawned at (1164.158, 713.6375) (scale=1.5)
[11:24:47] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[11:24:47] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[11:24:47] [ENEMY] [Enemy3] [AllyDeath] Notified 1 enemies
[11:24:47] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 3)
[11:24:47] [INFO] [DeathAnim] Started - Angle: -36.9 deg, Index: 9
[11:24:47] [ENEMY] [Enemy3] Death animation started with hit direction: (0.80004, -0.599947)
[11:24:47] [INFO] [BloodDecal] Blood puddle created at (1187.111, 648.9012) (added to group)
[11:24:47] [INFO] [BloodDecal] Blood puddle created at (1216.743, 674.3826) (added to group)
[11:24:47] [INFO] [BloodDecal] Blood puddle created at (222.7637, 595.7943) (added to group)
[11:24:47] [INFO] [BloodDecal] Blood puddle created at (1190.445, 649.0078) (added to group)
[11:24:47] [INFO] [BloodDecal] Blood puddle created at (1256.192, 711.4167) (added to group)
[11:24:47] [INFO] [BloodDecal] Blood puddle created at (1241.612, 713.0096) (added to group)
[11:24:47] [INFO] [BloodDecal] Blood puddle created at (237.6227, 598.0594) (added to group)
[11:24:47] [INFO] [BloodDecal] Blood puddle created at (245.1326, 565.9224) (added to group)
[11:24:47] [INFO] [BloodDecal] Blood puddle created at (242.7902, 525.4445) (added to group)
[11:24:47] [INFO] [BloodDecal] Blood puddle created at (239.6765, 585.0376) (added to group)
[11:24:47] [INFO] [BloodDecal] Blood puddle created at (219.38, 546.425) (added to group)
[11:24:47] [INFO] [BloodDecal] Blood puddle created at (217.6241, 580.3559) (added to group)
[11:24:47] [ENEMY] [Enemy2] Ragdoll activated
[11:24:47] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[11:24:47] [INFO] [BloodDecal] Blood puddle created at (1244.519, 734.297) (added to group)
[11:24:47] [INFO] [BloodDecal] Blood puddle created at (1227.475, 665.2488) (added to group)
[11:24:47] [INFO] [BloodDecal] Blood puddle created at (1251.538, 727.0803) (added to group)
[11:24:47] [INFO] [BloodDecal] Blood puddle created at (1277.519, 698.0353) (added to group)
[11:24:47] [INFO] [BloodDecal] Blood puddle created at (222.6365, 516.5441) (added to group)
[11:24:47] [INFO] [BloodDecal] Blood puddle created at (204.4102, 540.9097) (added to group)
[11:24:47] [INFO] [BloodDecal] Blood puddle created at (176.3557, 543.887) (added to group)
[11:24:47] [INFO] [BloodDecal] Blood puddle created at (172.1245, 563.0235) (added to group)
[11:24:47] [INFO] [BloodDecal] Blood puddle created at (181.3806, 548.4901) (added to group)
[11:24:47] [INFO] [BloodDecal] Blood puddle created at (235.238, 593.3574) (added to group)
[11:24:47] [INFO] [BloodDecal] Blood puddle created at (1239.297, 695.7902) (added to group)
[11:24:47] [INFO] [BloodDecal] Blood puddle created at (1265.75, 683.8871) (added to group)
[11:24:47] [INFO] [BloodDecal] Blood puddle created at (1260.135, 671.7375) (added to group)
[11:24:47] [ENEMY] [Enemy3] Ragdoll activated
[11:24:47] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[11:24:47] [INFO] [BloodDecal] Blood puddle created at (143.5943, 640.2806) (added to group)
[11:24:47] [INFO] [BloodDecal] Blood puddle created at (135.6058, 575.8422) (added to group)
[11:24:47] [INFO] [BloodDecal] Blood puddle created at (166.4989, 548.7104) (added to group)
[11:24:47] [INFO] [BloodDecal] Blood puddle created at (1220.516, 681.6538) (added to group)
[11:24:47] [INFO] [BloodDecal] Blood puddle created at (1231.697, 671.342) (added to group)
[11:24:47] [INFO] [BloodDecal] Blood puddle created at (1231.371, 669.6288) (added to group)
[11:24:47] [INFO] [BloodDecal] Blood puddle created at (1257.695, 695.1288) (added to group)
[11:24:47] [INFO] [BloodDecal] Blood puddle created at (1274.954, 738.3737) (added to group)
[11:24:47] [INFO] [BloodDecal] Blood puddle created at (1253.089, 694.6409) (added to group)
[11:24:47] [INFO] [BloodDecal] Blood puddle created at (1239.863, 687.091) (added to group)
[11:24:47] [INFO] [BloodDecal] Blood puddle created at (1255.833, 736.3554) (added to group)
[11:24:47] [INFO] [BloodDecal] Blood puddle created at (1213.185, 651.7351) (added to group)
[11:24:47] [INFO] [BloodDecal] Blood puddle created at (1279.199, 729.5008) (added to group)
[11:24:47] [INFO] [BloodDecal] Blood puddle created at (141.4373, 556.9257) (added to group)
[11:24:47] [INFO] [BloodDecal] Blood puddle created at (98.60757, 634.183) (added to group)
[11:24:47] [INFO] [BloodDecal] Blood puddle created at (214.7631, 521.3579) (added to group)
[11:24:47] [INFO] [BloodDecal] Blood puddle created at (146.3808, 620.6475) (added to group)
[11:24:47] [INFO] [BloodDecal] Blood puddle created at (1306.281, 671.7339) (added to group)
[11:24:47] [INFO] [BloodDecal] Blood puddle created at (1257.622, 705.7678) (added to group)
[11:24:47] [INFO] [BloodDecal] Blood puddle created at (1244.684, 718.8511) (added to group)
[11:24:47] [INFO] [BloodDecal] Blood puddle created at (1316.488, 727.2952) (added to group)
[11:24:47] [INFO] [BloodDecal] Blood puddle created at (1311.729, 742.5484) (added to group)
[11:24:47] [INFO] [BloodDecal] Blood puddle created at (1333.829, 758.3718) (added to group)
[11:24:47] [INFO] [BloodDecal] Blood puddle created at (1281.583, 736.5672) (added to group)
[11:24:48] [INFO] [ReplayManager] Recording frame 360 (6,0s): player_valid=True, enemies=5
[11:24:48] [ENEMY] [Enemy2] Death animation completed
[11:24:48] [ENEMY] [Enemy3] Death animation completed
[11:24:48] [ENEMY] [Enemy1] Warning: No valid flank position (both sides behind walls)
[11:24:48] [ENEMY] [Enemy1] FLANKING started: target=(199.9034, 1004.503), side=left, pos=(395.7982, 485.8045)
[11:24:48] [ENEMY] [Enemy1] State: PURSUING -> FLANKING
[11:24:48] [ENEMY] [Enemy1] FLANKING corner check: angle -118.2°
[11:24:49] [INFO] [ReplayManager] Recording frame 420 (7,0s): player_valid=True, enemies=5
[11:24:49] [ENEMY] [Enemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=70.4°, current=87.5°, player=(497,1111), corner_timer=0.03
[11:24:49] [ENEMY] [Enemy1] State: FLANKING -> COMBAT
[11:24:49] [ENEMY] [Enemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=69.3°, current=-20.4°, player=(505,1111), corner_timer=0.03
[11:24:49] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[11:24:50] [INFO] [ReplayManager] Recording frame 480 (8,0s): player_valid=True, enemies=5
[11:24:51] [INFO] [ReplayManager] Recording frame 540 (9,0s): player_valid=True, enemies=5
[11:24:51] [ENEMY] [Enemy1] PURSUING corner check: angle -37.4°
[11:24:51] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[11:24:51] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:24:51] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[11:24:51] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[11:24:51] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[11:24:51] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[11:24:51] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[11:24:51] [INFO] [LastChance] Resetting all effects (scene change detected)
[11:24:51] [INFO] [CinemaEffects] Scene changed to: LabyrinthLevel
[11:24:51] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[11:24:51] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[11:24:51] [INFO] [EnemyGrenade] Initialized: 1 grenades
[11:24:51] [ENEMY] [Enemy1] Death animation component initialized
[11:24:51] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:24:51] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[11:24:51] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[11:24:51] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[11:24:51] [ENEMY] [Enemy2] Death animation component initialized
[11:24:51] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:24:51] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[11:24:51] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[11:24:51] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[11:24:51] [ENEMY] [Enemy3] Death animation component initialized
[11:24:51] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:24:51] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[11:24:51] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[11:24:51] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[11:24:51] [ENEMY] [Enemy4] Death animation component initialized
[11:24:51] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:24:51] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[11:24:51] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[11:24:51] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[11:24:51] [ENEMY] [Enemy5] Death animation component initialized
[11:24:51] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:24:51] [INFO] [BloodyFeet:Player] Footprint scene loaded
[11:24:51] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[11:24:51] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[11:24:51] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: F-1 Grenade
[11:24:51] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[11:24:51] [INFO] [Player.Weapon] GameManager weapon selection: shotgun (Shotgun)
[11:24:51] [INFO] [Player.Weapon] Removed default MakarovPM
[11:24:51] [INFO] [Player.Weapon] Equipped Shotgun (ammo: 0/8)
[11:24:51] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[11:24:51] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[11:24:51] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[11:24:51] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[11:24:51] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[11:24:51] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[11:24:51] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[11:24:51] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[11:24:51] [INFO] [Player.Homing] No homing bullets selected in ActiveItemManager
[11:24:51] [INFO] [Player.InvisibilitySuit] No invisibility suit selected in ActiveItemManager
[11:24:51] [INFO] [Player.BreakerBullets] Breaker bullets active — bullets will detonate 60px before walls
[11:24:51] [INFO] [Player.BreakerBullets] Set IsBreakerBulletActive on weapon: Shotgun
[11:24:51] [INFO] [Player] Ready! Ammo: 0/8, Grenades: 1/3, Health: 4/4
[11:24:51] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[11:24:51] [INFO] [LabyrinthLevel] Found Environment/Enemies node with 5 children
[11:24:51] [INFO] [LabyrinthLevel] Child 'Enemy1': script=true, has_died_signal=true
[11:24:51] [INFO] [LabyrinthLevel] Child 'Enemy2': script=true, has_died_signal=true
[11:24:51] [INFO] [LabyrinthLevel] Child 'Enemy3': script=true, has_died_signal=true
[11:24:51] [INFO] [LabyrinthLevel] Child 'Enemy4': script=true, has_died_signal=true
[11:24:51] [INFO] [LabyrinthLevel] Child 'Enemy5': script=true, has_died_signal=true
[11:24:51] [INFO] [LabyrinthLevel] Enemy tracking complete: 5 enemies registered
[11:24:51] [INFO] [LabyrinthLevel] Setting up weapon: shotgun
[11:24:51] [INFO] [LabyrinthLevel] Shotgun already equipped by C# Player - skipping GDScript weapon swap
[11:24:51] [INFO] [ScoreManager] Level started with 5 enemies
[11:24:51] [INFO] [LabyrinthLevel] ReplayManager found as C# autoload - verified OK
[11:24:51] [INFO] [LabyrinthLevel] Starting replay recording - Player: Player, Enemies count: 5
[11:24:51] [INFO] [ReplayManager] Replay data cleared
[11:24:51] [INFO] [LabyrinthLevel] Previous replay data cleared
[11:24:51] [INFO] [ReplayManager] Detected player weapon: Shotgun
[11:24:51] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[11:24:51] [INFO] [ReplayManager] Level: LabyrinthLevel
[11:24:51] [INFO] [ReplayManager] Player: Player (valid: True)
[11:24:51] [INFO] [ReplayManager] Enemies count: 5
[11:24:51] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/shotgun_topdown.png
[11:24:51] [INFO] [ReplayManager]   Enemy 0: Enemy1
[11:24:51] [INFO] [ReplayManager]   Enemy 1: Enemy2
[11:24:51] [INFO] [ReplayManager]   Enemy 2: Enemy3
[11:24:51] [INFO] [ReplayManager]   Enemy 3: Enemy4
[11:24:51] [INFO] [ReplayManager]   Enemy 4: Enemy5
[11:24:51] [INFO] [LabyrinthLevel] Replay recording started successfully
[11:24:51] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[11:24:51] [INFO] [CinemaEffects] Found player node: Player
[11:24:51] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[11:24:51] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 4)
[11:24:51] [ENEMY] [Enemy1] Registered as sound listener
[11:24:51] [ENEMY] [Enemy1] Spawned at (400, 300), hp: 1, behavior: GUARD
[11:24:51] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[11:24:51] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 5)
[11:24:51] [ENEMY] [Enemy2] Registered as sound listener
[11:24:51] [ENEMY] [Enemy2] Spawned at (900, 950), hp: 2, behavior: GUARD
[11:24:51] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[11:24:51] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 6)
[11:24:51] [ENEMY] [Enemy3] Registered as sound listener
[11:24:51] [ENEMY] [Enemy3] Spawned at (1200, 1000), hp: 1, behavior: PATROL
[11:24:51] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[11:24:51] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 7)
[11:24:51] [ENEMY] [Enemy4] Registered as sound listener
[11:24:51] [ENEMY] [Enemy4] Spawned at (1650, 650), hp: 1, behavior: GUARD
[11:24:51] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[11:24:51] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 8)
[11:24:51] [ENEMY] [Enemy5] Registered as sound listener
[11:24:51] [ENEMY] [Enemy5] Spawned at (1500, 300), hp: 2, behavior: GUARD
[11:24:51] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[11:24:51] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=5
[11:24:51] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:51] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(150,1000), corner_timer=0.00
[11:24:51] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:51] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=45.0°, current=0.0°, player=(150,1000), corner_timer=0.00
[11:24:51] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=315.0°, current=0.0°, player=(150,1000), corner_timer=0.00
[11:24:51] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=281.3°, current=0.0°, player=(150,1000), corner_timer=0.00
[11:24:51] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:51] [INFO] [Player] Detecting weapon pose (frame 3)...
[11:24:51] [INFO] [Player] Detected weapon: Shotgun (Shotgun pose)
[11:24:51] [INFO] [Player] Applied Shotgun arm pose: Left=(21, 6), Right=(-1, 6)
[11:24:51] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:51] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:51] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:51] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:51] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:51] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[11:24:51] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[11:24:51] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[11:24:51] [INFO] [LastChance] Found player: Player
[11:24:51] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[11:24:51] [INFO] [LastChance] Connected to player Damaged signal (C#)
[11:24:51] [INFO] [LastChance] Connected to player Died signal (C#)
[11:24:51] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[11:24:51] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:51] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:51] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:51] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:51] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:51] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:51] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:51] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:51] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:51] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:51] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:51] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:51] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:51] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:51] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:51] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[11:24:51] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[11:24:51] [INFO] [Player.Grenade] G pressed - starting grab animation
[11:24:51] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:51] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:51] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:51] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:51] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:51] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:51] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:51] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:51] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:51] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:51] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:51] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[11:24:51] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (914.8863, 952.57886)
[11:24:51] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=Ready, ReloadState=NotReloading
[11:24:51] [INFO] [Shotgun.FIX#445] dragStartPos=(917, 953), aimDir=(1,00, -0,06)
[11:24:52] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:52] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[11:24:52] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:52] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[11:24:52] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:52] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[11:24:52] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:52] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:52] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:52] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:52] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:52] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:52] [INFO] [Player.Grenade] Step 1 failed: drag not far enough right (21,077942 < 30)
[11:24:52] [INFO] [Shotgun.FIX#243] RMB released after 8 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[11:24:52] [INFO] [Shotgun.FIX#445v7] ProcessDragGesture - dragVector=(19,8, -0,7), length=19,8, ActionState=Ready
[11:24:52] [INFO] [Shotgun.FIX#445v7] Drag too short: 19,8 < 30
[11:24:52] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:52] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:52] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:52] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:52] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:52] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[11:24:52] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1013.2553, 951.91095)
[11:24:52] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=Ready, ReloadState=NotReloading
[11:24:52] [INFO] [Shotgun.FIX#445] dragStartPos=(1014, 952), aimDir=(1,00, -0,06)
[11:24:52] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:52] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[11:24:52] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:52] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[11:24:52] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:52] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[11:24:52] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:52] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:52] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:52] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:52] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:52] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:52] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:52] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:52] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:52] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=5
[11:24:52] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:52] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:52] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:52] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:52] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:52] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:52] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:52] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:52] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:52] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:52] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:52] [INFO] [GrenadeBase] CCD enabled (mode: CAST_RAY) to prevent wall tunneling
[11:24:52] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[11:24:52] [INFO] [DefensiveGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[11:24:52] [INFO] [GrenadeTimer] Initialized for Flashbang grenade, effect radius: 700
[11:24:52] [INFO] [Player.Grenade] Added GrenadeTimer component (type: Flashbang)
[11:24:52] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[11:24:52] [INFO] [GrenadeTimer] Timer activated! 4 seconds until explosion
[11:24:52] [INFO] [Player.Grenade] Timer started, grenade created at (150, 1000)
[11:24:52] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[11:24:52] [INFO] [Player.Grenade] Step 1 complete! Drag: (265.63556, 0)
[11:24:52] [INFO] [Shotgun.FIX#243] RMB released after 22 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[11:24:52] [INFO] [Shotgun.FIX#445v7] ProcessDragGesture - dragVector=(265,0, 0,0), length=265,0, ActionState=Ready
[11:24:52] [INFO] [Shotgun.FIX#445v7] Pump drag not vertical: absY=0,0 <= absX=265,0
[11:24:52] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:52] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:52] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:52] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:52] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:52] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:52] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:52] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:52] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:52] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:52] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:52] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[11:24:52] [INFO] [Player.Grenade.Simple] RMB pressed after pin pull - starting trajectory aiming
[11:24:52] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=Ready, ReloadState=NotReloading
[11:24:52] [INFO] [Shotgun.FIX#445] dragStartPos=(153, 949), aimDir=(0,05, -1,00)
[11:24:52] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:52] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[11:24:52] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:52] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[11:24:52] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:52] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[11:24:52] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:52] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:52] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:52] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:52] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:52] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:52] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:52] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:52] [ENEMY] [Enemy3] PATROL corner check: angle -90.0°
[11:24:52] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:52] [ENEMY] [Enemy3] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-90.0°, current=0.0°, player=(150,1000), corner_timer=0.30
[11:24:53] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:53] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:53] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:53] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:53] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:53] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:53] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:53] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:53] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:53] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:53] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:53] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:53] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:53] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:53] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:53] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:53] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:53] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:53] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:53] [ENEMY] [Enemy3] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=0.0°, current=-54.4°, player=(150,1000), corner_timer=-0.02
[11:24:53] [ENEMY] [Enemy3] PATROL corner check: angle -90.0°
[11:24:53] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:53] [ENEMY] [Enemy3] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=-51.6°, player=(150,1000), corner_timer=0.30
[11:24:53] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:53] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:53] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:53] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:53] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:53] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:53] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=5
[11:24:53] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:53] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:53] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:53] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:53] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:53] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:53] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:53] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:53] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:53] [INFO] [EnemyGrenade] Throw path blocked to (198.1982, 865.0451)
[11:24:53] [INFO] [EnemyGrenade] Throw path blocked to (198.2834, 865.0755)
[11:24:53] [INFO] [EnemyGrenade] Throw path blocked to (198.4535, 865.1363)
[11:24:53] [INFO] [EnemyGrenade] Throw path blocked to (198.7083, 865.2271)
[11:24:53] [INFO] [EnemyGrenade] Throw path blocked to (199.0471, 865.3476)
[11:24:53] [INFO] [EnemyGrenade] Throw path blocked to (199.469, 865.4974)
[11:24:53] [INFO] [EnemyGrenade] Throw path blocked to (199.9732, 865.6759)
[11:24:53] [INFO] [EnemyGrenade] Throw path blocked to (200.5583, 865.8825)
[11:24:53] [INFO] [EnemyGrenade] Throw path blocked to (201.2232, 866.1164)
[11:24:53] [INFO] [EnemyGrenade] Throw path blocked to (201.9662, 866.3768)
[11:24:53] [INFO] [EnemyGrenade] Throw path blocked to (202.7856, 866.6626)
[11:24:53] [INFO] [EnemyGrenade] Throw path blocked to (203.6797, 866.973)
[11:24:53] [INFO] [EnemyGrenade] Throw path blocked to (204.6464, 867.3068)
[11:24:53] [INFO] [EnemyGrenade] Throw path blocked to (205.6837, 867.6629)
[11:24:53] [INFO] [EnemyGrenade] Throw path blocked to (206.9311, 868.0884)
[11:24:53] [INFO] [EnemyGrenade] Throw path blocked to (208.3869, 868.5811)
[11:24:53] [INFO] [EnemyGrenade] Throw path blocked to (210.0491, 869.1385)
[11:24:53] [INFO] [EnemyGrenade] Throw path blocked to (211.9164, 869.7584)
[11:24:53] [INFO] [EnemyGrenade] Throw path blocked to (213.9877, 870.4379)
[11:24:53] [INFO] [EnemyGrenade] Throw path blocked to (216.262, 871.1745)
[11:24:53] [INFO] [EnemyGrenade] Throw path blocked to (218.7386, 871.9653)
[11:24:53] [INFO] [EnemyGrenade] Throw path blocked to (221.4173, 872.8073)
[11:24:53] [INFO] [EnemyGrenade] Throw path blocked to (224.2977, 873.6974)
[11:24:53] [INFO] [EnemyGrenade] Throw path blocked to (227.38, 874.6323)
[11:24:53] [INFO] [EnemyGrenade] Throw path blocked to (230.664, 875.6086)
[11:24:54] [INFO] [EnemyGrenade] Throw path blocked to (234.0941, 876.6066)
[11:24:54] [INFO] [EnemyGrenade] Throw path blocked to (237.5355, 877.5858)
[11:24:54] [INFO] [EnemyGrenade] Throw path blocked to (240.9921, 878.5469)
[11:24:54] [INFO] [EnemyGrenade] Throw path blocked to (244.4676, 879.4909)
[11:24:54] [INFO] [EnemyGrenade] Throw path blocked to (247.966, 880.4185)
[11:24:54] [INFO] [EnemyGrenade] Throw path blocked to (251.491, 881.3304)
[11:24:54] [INFO] [EnemyGrenade] Throw path blocked to (254.8199, 882.1708)
[11:24:54] [INFO] [EnemyGrenade] Throw path blocked to (257.9531, 882.9431)
[11:24:54] [INFO] [EnemyGrenade] Throw path blocked to (260.8911, 883.6512)
[11:24:54] [INFO] [EnemyGrenade] Throw path blocked to (263.6343, 884.2982)
[11:24:54] [INFO] [EnemyGrenade] Throw path blocked to (266.1833, 884.8873)
[11:24:54] [INFO] [EnemyGrenade] Throw path blocked to (268.5387, 885.4211)
[11:24:54] [INFO] [EnemyGrenade] Throw path blocked to (270.7009, 885.9025)
[11:24:54] [INFO] [EnemyGrenade] Throw path blocked to (272.6707, 886.3337)
[11:24:54] [INFO] [EnemyGrenade] Throw path blocked to (274.4485, 886.717)
[11:24:54] [INFO] [EnemyGrenade] Throw path blocked to (276.0349, 887.0542)
[11:24:54] [INFO] [EnemyGrenade] Throw path blocked to (277.4302, 887.3472)
[11:24:54] [INFO] [EnemyGrenade] Throw path blocked to (278.5645, 887.5827)
[11:24:54] [INFO] [EnemyGrenade] Throw path blocked to (279.4606, 887.7672)
[11:24:54] [INFO] [EnemyGrenade] Throw path blocked to (280.1631, 887.9108)
[11:24:54] [INFO] [EnemyGrenade] Throw path blocked to (280.6741, 888.0148)
[11:24:54] [INFO] [SoundPropagation] Sound emitted: type=GRENADE_LANDING, pos=(235.6931, 1111.925), source=NEUTRAL (DefensiveGrenade), range=112, listeners=8
[11:24:54] [INFO] [SoundPropagation] Cleaned up 3 invalid listeners
[11:24:54] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[11:24:54] [INFO] [GrenadeBase] Grenade landed at (235.6931, 1111.925)
[11:24:54] [INFO] [EnemyGrenade] Throw path blocked to (280.9922, 888.0792)
[11:24:54] [INFO] [EnemyGrenade] Throw path blocked to (281.117, 888.1044)
[11:24:54] [INFO] [EnemyGrenade] Throw path blocked to (281.117, 888.1044)
[11:24:54] [INFO] [EnemyGrenade] Throw path blocked to (281.117, 888.1044)
[11:24:54] [INFO] [EnemyGrenade] Throw path blocked to (281.117, 888.1044)
[11:24:54] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=5
[11:24:54] [INFO] [EnemyGrenade] Throw path blocked to (281.349, 888.1513)
[11:24:54] [INFO] [EnemyGrenade] Throw path blocked to (281.8131, 888.2448)
[11:24:54] [INFO] [EnemyGrenade] Throw path blocked to (282.5096, 888.3842)
[11:24:54] [INFO] [EnemyGrenade] Throw path blocked to (283.4392, 888.5691)
[11:24:54] [INFO] [EnemyGrenade] Throw path blocked to (284.6025, 888.7983)
[11:24:54] [INFO] [EnemyGrenade] Throw path blocked to (286.0002, 889.0705)
[11:24:54] [INFO] [EnemyGrenade] Throw path blocked to (287.6332, 889.3842)
[11:24:54] [INFO] [EnemyGrenade] Throw path blocked to (289.5028, 889.7375)
[11:24:54] [INFO] [EnemyGrenade] Throw path blocked to (291.61, 890.1285)
[11:24:54] [INFO] [EnemyGrenade] Throw path blocked to (293.9563, 890.5546)
[11:24:54] [INFO] [EnemyGrenade] Throw path blocked to (296.5429, 891.0132)
[11:24:54] [INFO] [EnemyGrenade] Throw path blocked to (299.3716, 891.5014)
[11:24:54] [INFO] [EnemyGrenade] Throw path blocked to (302.4437, 892.0159)
[11:24:54] [INFO] [EnemyGrenade] Throw path blocked to (305.761, 892.553)
[11:24:54] [INFO] [EnemyGrenade] Throw path blocked to (309.3251, 893.1088)
[11:24:54] [INFO] [EnemyGrenade] Throw path blocked to (313.1376, 893.6792)
[11:24:54] [INFO] [EnemyGrenade] Throw path blocked to (317.0806, 894.2427)
[11:24:54] [INFO] [EnemyGrenade] Throw path blocked to (321.0345, 894.781)
[11:24:54] [INFO] [EnemyGrenade] Throw path blocked to (324.7985, 895.2687)
[11:24:54] [INFO] [EnemyGrenade] Throw path blocked to (328.3706, 895.709)
[11:24:54] [INFO] [EnemyGrenade] Throw path blocked to (331.7491, 896.1055)
[11:24:54] [INFO] [EnemyGrenade] Throw path blocked to (334.9326, 896.4614)
[11:24:54] [INFO] [EnemyGrenade] Throw path blocked to (337.9196, 896.7797)
[11:24:54] [INFO] [EnemyGrenade] Throw path blocked to (340.709, 897.0633)
[11:24:54] [INFO] [EnemyGrenade] Throw path blocked to (343.2998, 897.3149)
[11:24:54] [INFO] [EnemyGrenade] Throw path blocked to (345.691, 897.5371)
[11:24:54] [INFO] [EnemyGrenade] Throw path blocked to (347.8818, 897.7321)
[11:24:54] [INFO] [EnemyGrenade] Throw path blocked to (349.8716, 897.9023)
[11:24:54] [INFO] [EnemyGrenade] Throw path blocked to (351.6599, 898.0496)
[11:24:54] [INFO] [EnemyGrenade] Throw path blocked to (353.2459, 898.1756)
[11:24:54] [INFO] [EnemyGrenade] Throw path blocked to (354.6295, 898.2821)
[11:24:54] [INFO] [EnemyGrenade] Throw path blocked to (355.8101, 898.3705)
[11:24:54] [INFO] [EnemyGrenade] Throw path blocked to (356.7876, 898.4419)
[11:24:54] [INFO] [EnemyGrenade] Throw path blocked to (357.5617, 898.4973)
[11:24:55] [INFO] [EnemyGrenade] Throw path blocked to (358.1322, 898.5375)
[11:24:55] [INFO] [EnemyGrenade] Throw path blocked to (358.499, 898.563)
[11:24:55] [INFO] [EnemyGrenade] Throw path blocked to (358.662, 898.5743)
[11:24:55] [INFO] [EnemyGrenade] Throw path blocked to (358.662, 898.5743)
[11:24:55] [INFO] [EnemyGrenade] Throw path blocked to (358.662, 898.5743)
[11:24:55] [INFO] [Player.Grenade.Simple] Throwing! Target: (1028.1416, 987.33234), Distance: 635,5, Speed: 617,5, Friction: 300,0
[11:24:55] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,1801214
[11:24:55] [INFO] [GrenadeTimer] Grenade marked as thrown - impact detection enabled
[11:24:55] [INFO] [Player.Grenade.Simple] C# set velocity directly: dir=(0.9838219, -0.17914902), speed=617,5, spawn=(402.9573, 1101.1753)
[11:24:55] [INFO] [GrenadeBase] Simple mode throw! Dir: (0.983822, -0.179149), Speed: 617.5 (clamped from 617.5, max: 1000.0)
[11:24:55] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[11:24:55] [INFO] [Player.Grenade.Simple] Grenade thrown!
[11:24:55] [INFO] [Player.Grenade] State reset to IDLE
[11:24:55] [INFO] [Player.Grenade] State reset to IDLE
[11:24:55] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[11:24:55] [INFO] [Shotgun.FIX#243] RMB released after 136 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[11:24:55] [INFO] [Shotgun.FIX#445v7] ProcessDragGesture - dragVector=(875,5, 38,8), length=876,4, ActionState=Ready
[11:24:55] [INFO] [Shotgun.FIX#445v7] Pump drag not vertical: absY=38,8 <= absX=875,5
[11:24:55] [INFO] [EnemyGrenade] Throw path blocked to (358.662, 898.5743)
[11:24:55] [INFO] [EnemyGrenade] Throw path blocked to (358.662, 898.5743)
[11:24:55] [INFO] [EnemyGrenade] Throw path blocked to (358.4175, 898.5574)
[11:24:55] [INFO] [EnemyGrenade] Throw path blocked to (357.9284, 898.5232)
[11:24:55] [INFO] [EnemyGrenade] Throw path blocked to (357.195, 898.4712)
[11:24:55] [INFO] [Player.Grenade] Player rotation restored to 0
[11:24:55] [INFO] [EnemyGrenade] Throw path blocked to (356.2173, 898.4005)
[11:24:55] [ENEMY] [Enemy3] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=52.8°, player=(340,1111), corner_timer=-0.02
[11:24:55] [ENEMY] [Enemy3] PATROL corner check: angle -90.0°
[11:24:55] [INFO] [EnemyGrenade] Throw path blocked to (354.9958, 898.3098)
[11:24:55] [ENEMY] [Enemy3] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=55.6°, player=(338,1111), corner_timer=0.30
[11:24:55] [INFO] [EnemyGrenade] Throw path blocked to (353.5307, 898.1978)
[11:24:55] [INFO] [EnemyGrenade] Throw path blocked to (351.8224, 898.0627)
[11:24:55] [INFO] [EnemyGrenade] Throw path blocked to (349.8716, 897.9023)
[11:24:55] [INFO] [EnemyGrenade] Throw path blocked to (347.6789, 897.7144)
[11:24:55] [INFO] [EnemyGrenade] Throw path blocked to (345.245, 897.4963)
[11:24:55] [INFO] [EnemyGrenade] Throw path blocked to (342.5708, 897.2452)
[11:24:55] [INFO] [EnemyGrenade] Throw path blocked to (339.6575, 896.9579)
[11:24:55] [INFO] [EnemyGrenade] Throw path blocked to (336.5062, 896.631)
[11:24:55] [INFO] [EnemyGrenade] Throw path blocked to (333.1185, 896.2607)
[11:24:55] [INFO] [EnemyGrenade] Throw path blocked to (329.496, 895.8433)
[11:24:55] [INFO] [EnemyGrenade] Throw path blocked to (325.6406, 895.3745)
[11:24:55] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[11:24:55] [INFO] [EnemyGrenade] Throw path blocked to (321.6746, 894.8657)
[11:24:55] [INFO] [EnemyGrenade] Throw path blocked to (317.7189, 894.3315)
[11:24:55] [INFO] [EnemyGrenade] Throw path blocked to (313.7741, 893.7719)
[11:24:55] [INFO] [ReplayManager] Recording frame 240 (4,0s): player_valid=True, enemies=5
[11:24:55] [INFO] [EnemyGrenade] Throw path blocked to (309.8407, 893.1874)
[11:24:55] [INFO] [EnemyGrenade] Throw path blocked to (305.9192, 892.5781)
[11:24:55] [INFO] [EnemyGrenade] Throw path blocked to (302.0099, 891.9442)
[11:24:55] [INFO] [EnemyGrenade] Throw path blocked to (298.1135, 891.286)
[11:24:55] [INFO] [EnemyGrenade] Throw path blocked to (294.2303, 890.6038)
[11:24:55] [ENEMY] [Enemy3] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.2°, player=(254,1111), corner_timer=-0.02
[11:24:55] [ENEMY] [Enemy3] PATROL corner check: angle -90.0°
[11:24:55] [INFO] [EnemyGrenade] Throw path blocked to (290.3608, 889.8976)
[11:24:55] [ENEMY] [Enemy3] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=4.1°, player=(249,1111), corner_timer=0.30
[11:24:55] [INFO] [EnemyGrenade] Throw path blocked to (286.5531, 889.1772)
[11:24:55] [INFO] [EnemyGrenade] Throw path blocked to (282.8029, 888.4427)
[11:24:55] [INFO] [EnemyGrenade] Throw path blocked to (279.106, 887.6943)
[11:24:55] [INFO] [EnemyGrenade] Throw path blocked to (275.4581, 886.9321)
[11:24:55] [INFO] [EnemyGrenade] Throw path blocked to (271.8553, 886.1561)
[11:24:55] [INFO] [EnemyGrenade] Throw path blocked to (268.2935, 885.3661)
[11:24:55] [INFO] [EnemyGrenade] Throw path blocked to (264.769, 884.5619)
[11:24:55] [INFO] [EnemyGrenade] Throw path blocked to (261.2777, 883.7432)
[11:24:55] [INFO] [EnemyGrenade] Throw path blocked to (257.816, 882.9097)
[11:24:55] [INFO] [EnemyGrenade] Throw path blocked to (254.3802, 882.0609)
[11:24:55] [INFO] [EnemyGrenade] Throw path blocked to (251.1163, 881.2346)
[11:24:55] [INFO] [EnemyGrenade] Throw path blocked to (248.0265, 880.4344)
[11:24:55] [INFO] [EnemyGrenade] Throw path blocked to (245.1126, 879.6636)
[11:24:55] [INFO] [EnemyGrenade] Throw path blocked to (242.3761, 878.9255)
[11:24:55] [INFO] [EnemyGrenade] Throw path blocked to (239.8185, 878.223)
[11:24:55] [INFO] [EnemyGrenade] Throw path blocked to (237.4411, 877.5591)
[11:24:55] [INFO] [EnemyGrenade] Throw path blocked to (235.2452, 876.9366)
[11:24:55] [INFO] [EnemyGrenade] Throw path blocked to (233.2318, 876.3578)
[11:24:55] [INFO] [EnemyGrenade] Throw path blocked to (231.4018, 875.8252)
[11:24:55] [INFO] [EnemyGrenade] Throw path blocked to (229.756, 875.3408)
[11:24:55] [INFO] [EnemyGrenade] Throw path blocked to (228.2952, 874.9065)
[11:24:55] [INFO] [EnemyGrenade] Throw path blocked to (227.0199, 874.5241)
[11:24:55] [INFO] [EnemyGrenade] Throw path blocked to (225.7534, 874.1412)
[11:24:55] [INFO] [EnemyGrenade] Throw path blocked to (224.494, 873.7575)
[11:24:55] [INFO] [EnemyGrenade] Throw path blocked to (223.2402, 873.3724)
[11:24:55] [INFO] [EnemyGrenade] Throw path blocked to (221.9904, 872.9857)
[11:24:55] [INFO] [EnemyGrenade] Throw path blocked to (220.7433, 872.5967)
[11:24:55] [INFO] [EnemyGrenade] Throw path blocked to (219.4971, 872.2051)
[11:24:56] [INFO] [EnemyGrenade] Throw path blocked to (218.2504, 871.8104)
[11:24:56] [INFO] [EnemyGrenade] Throw path blocked to (217.0016, 871.4119)
[11:24:56] [INFO] [EnemyGrenade] Throw path blocked to (215.7491, 871.0093)
[11:24:56] [INFO] [EnemyGrenade] Throw path blocked to (214.4912, 870.6019)
[11:24:56] [INFO] [EnemyGrenade] Throw path blocked to (213.2262, 870.189)
[11:24:56] [INFO] [EnemyGrenade] Throw path blocked to (211.9525, 869.7703)
[11:24:56] [INFO] [EnemyGrenade] Throw path blocked to (210.6683, 869.3448)
[11:24:56] [INFO] [EnemyGrenade] Throw path blocked to (209.3714, 868.9119)
[11:24:56] [INFO] [EnemyGrenade] Throw path blocked to (208.0576, 868.47)
[11:24:56] [INFO] [EnemyGrenade] Throw path blocked to (206.7266, 868.0189)
[11:24:56] [INFO] [EnemyGrenade] Throw path blocked to (205.3781, 867.5582)
[11:24:56] [INFO] [EnemyGrenade] Throw path blocked to (204.0118, 867.0878)
[11:24:56] [INFO] [EnemyGrenade] Throw path blocked to (202.6274, 866.6075)
[11:24:56] [ENEMY] [Enemy2] GRENADE DANGER: Entering EVADING_GRENADE state from IDLE
[11:24:56] [ENEMY] [Enemy2] EVADING_GRENADE started: escaping to (235.5536, 749.4289)
[11:24:56] [INFO] [EnemyGrenade] Throw path blocked to (201.2245, 866.1168)
[11:24:56] [INFO] [EnemyGrenade] Throw path blocked to (199.8027, 865.6156)
[11:24:56] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P4:velocity, state=EVADING_GRENADE, target=176.7°, current=74.4°, player=(158,983), corner_timer=0.00
[11:24:56] [INFO] [EnemyGrenade] Throw path blocked to (198.3618, 865.1036)
[11:24:56] [INFO] [EnemyGrenade] Throw path blocked to (196.9013, 864.5803)
[11:24:56] [INFO] [EnemyGrenade] Throw path blocked to (195.4209, 864.0455)
[11:24:56] [INFO] [EnemyGrenade] Throw path blocked to (193.9202, 863.499)
[11:24:56] [INFO] [EnemyGrenade] Throw path blocked to (192.3988, 862.9402)
[11:24:56] [INFO] [EnemyGrenade] Throw path blocked to (190.8564, 862.3691)
[11:24:56] [INFO] [EnemyGrenade] Throw path blocked to (189.2925, 861.785)
[11:24:56] [INFO] [EnemyGrenade] Throw path blocked to (187.7067, 861.1876)
[11:24:56] [INFO] [EnemyGrenade] Throw path blocked to (186.0986, 860.5767)
[11:24:56] [INFO] [EnemyGrenade] Throw path blocked to (184.4678, 859.9517)
[11:24:56] [INFO] [EnemyGrenade] Throw path blocked to (182.8137, 859.3122)
[11:24:56] [INFO] [ReplayManager] Recording frame 300 (5,0s): player_valid=True, enemies=5
[11:24:56] [INFO] [EnemyGrenade] Throw path blocked to (181.1361, 858.6579)
[11:24:56] [INFO] [EnemyGrenade] Throw path blocked to (179.4344, 857.9882)
[11:24:56] [INFO] [EnemyGrenade] Throw path blocked to (177.7081, 857.3027)
[11:24:56] [INFO] [EnemyGrenade] Throw path blocked to (175.9568, 856.601)
[11:24:56] [INFO] [EnemyGrenade] Throw path blocked to (174.1799, 855.8825)
[11:24:56] [INFO] [EnemyGrenade] Throw path blocked to (172.3771, 855.1467)
[11:24:56] [INFO] [EnemyGrenade] Throw path blocked to (170.5477, 854.3931)
[11:24:56] [INFO] [EnemyGrenade] Throw path blocked to (168.6912, 853.621)
[11:24:56] [INFO] [EnemyGrenade] Throw path blocked to (166.8071, 852.8301)
[11:24:56] [INFO] [EnemyGrenade] Throw path blocked to (164.8949, 852.0195)
[11:24:56] [INFO] [EnemyGrenade] Throw path blocked to (162.9539, 851.1889)
[11:24:56] [INFO] [EnemyGrenade] Throw path blocked to (161.2857, 850.4684)
[11:24:56] [INFO] [GrenadeBase] EXPLODED at (986.2072, 994.9681)!
[11:24:56] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(986.2072, 994.9681), source=NEUTRAL (DefensiveGrenade), range=2937, listeners=5
[11:24:56] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=3
[11:24:56] [ENEMY] [Enemy2] Hit: dmg=1, hp=2/2->1/2
[11:24:56] [INFO] [ImpactEffects] spawn_blood_effect called at (633.7799, 965.4327), dir=(-0.996507, -0.083513), lethal=false
[11:24:56] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[11:24:56] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[11:24:56] [INFO] [ImpactEffects] Blood effect spawned at (633.7799, 965.4327) (scale=1)
[11:24:56] [ENEMY] [Enemy2] Hit: dmg=1, hp=1/2->0/2
[11:24:56] [INFO] [ImpactEffects] spawn_blood_effect called at (633.7799, 965.4327), dir=(-0.996507, -0.083513), lethal=true
[11:24:56] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[11:24:56] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[11:24:56] [INFO] [ImpactEffects] Blood effect spawned at (633.7799, 965.4327) (scale=1.5)
[11:24:56] [ENEMY] [Enemy2] Enemy died (ricochet: false, penetration: false)
[11:24:56] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[11:24:56] [ENEMY] [Enemy2] [AllyDeath] Notified 1 enemies
[11:24:56] [INFO] [SoundPropagation] Unregistered listener: Enemy2 (remaining: 4)
[11:24:56] [INFO] [DeathAnim] Started - Angle: -175.2 deg, Index: 0
[11:24:56] [ENEMY] [Enemy2] Death animation started with hit direction: (-0.996507, -0.083513)
[11:24:56] [INFO] [DefensiveGrenade] Applied 99 HE damage to enemy at distance 353.7
[11:24:56] [ENEMY] [Enemy3] Hit: dmg=1, hp=1/1->0/1
[11:24:56] [INFO] [ImpactEffects] spawn_blood_effect called at (1104.668, 1000), dir=(0.999099, 0.042439), lethal=true
[11:24:56] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[11:24:56] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[11:24:56] [INFO] [ImpactEffects] Blood effect spawned at (1104.668, 1000) (scale=1.5)
[11:24:56] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[11:24:56] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[11:24:56] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 3)
[11:24:56] [INFO] [DeathAnim] Started - Angle: 2.4 deg, Index: 12
[11:24:56] [ENEMY] [Enemy3] Death animation started with hit direction: (0.999099, 0.042439)
[11:24:56] [INFO] [DefensiveGrenade] Applied 99 HE damage to enemy at distance 118.6
[11:24:56] [INFO] [DefensiveGrenade] Spawned shrapnel #1 at angle 0.2 degrees
[11:24:56] [INFO] [DefensiveGrenade] Spawned shrapnel #2 at angle 4.5 degrees
[11:24:56] [INFO] [DefensiveGrenade] Spawned shrapnel #3 at angle 31.5 degrees
[11:24:56] [INFO] [DefensiveGrenade] Spawned shrapnel #4 at angle 28.5 degrees
[11:24:56] [INFO] [DefensiveGrenade] Spawned shrapnel #5 at angle 23.6 degrees
[11:24:56] [INFO] [DefensiveGrenade] Spawned shrapnel #6 at angle 41.8 degrees
[11:24:56] [INFO] [DefensiveGrenade] Spawned shrapnel #7 at angle 62.4 degrees
[11:24:56] [INFO] [DefensiveGrenade] Spawned shrapnel #8 at angle 60.9 degrees
[11:24:56] [INFO] [DefensiveGrenade] Spawned shrapnel #9 at angle 75.1 degrees
[11:24:56] [INFO] [DefensiveGrenade] Spawned shrapnel #10 at angle 86.5 degrees
[11:24:56] [INFO] [DefensiveGrenade] Spawned shrapnel #11 at angle 91.3 degrees
[11:24:56] [INFO] [DefensiveGrenade] Spawned shrapnel #12 at angle 102.3 degrees
[11:24:56] [INFO] [DefensiveGrenade] Spawned shrapnel #13 at angle 99.7 degrees
[11:24:56] [INFO] [DefensiveGrenade] Spawned shrapnel #14 at angle 110.0 degrees
[11:24:56] [INFO] [DefensiveGrenade] Spawned shrapnel #15 at angle 113.5 degrees
[11:24:56] [INFO] [DefensiveGrenade] Spawned shrapnel #16 at angle 131.3 degrees
[11:24:56] [INFO] [DefensiveGrenade] Spawned shrapnel #17 at angle 153.8 degrees
[11:24:56] [INFO] [DefensiveGrenade] Spawned shrapnel #18 at angle 166.6 degrees
[11:24:56] [INFO] [DefensiveGrenade] Spawned shrapnel #19 at angle 171.8 degrees
[11:24:56] [INFO] [DefensiveGrenade] Spawned shrapnel #20 at angle 165.6 degrees
[11:24:56] [INFO] [DefensiveGrenade] Spawned shrapnel #21 at angle 174.5 degrees
[11:24:56] [INFO] [DefensiveGrenade] Spawned shrapnel #22 at angle 200.1 degrees
[11:24:56] [INFO] [DefensiveGrenade] Spawned shrapnel #23 at angle 204.4 degrees
[11:24:56] [INFO] [DefensiveGrenade] Spawned shrapnel #24 at angle 193.1 degrees
[11:24:56] [INFO] [DefensiveGrenade] Spawned shrapnel #25 at angle 209.2 degrees
[11:24:56] [INFO] [DefensiveGrenade] Spawned shrapnel #26 at angle 223.9 degrees
[11:24:56] [INFO] [DefensiveGrenade] Spawned shrapnel #27 at angle 246.5 degrees
[11:24:56] [INFO] [DefensiveGrenade] Spawned shrapnel #28 at angle 246.0 degrees
[11:24:56] [INFO] [DefensiveGrenade] Spawned shrapnel #29 at angle 246.4 degrees
[11:24:56] [INFO] [DefensiveGrenade] Spawned shrapnel #30 at angle 273.6 degrees
[11:24:56] [INFO] [DefensiveGrenade] Spawned shrapnel #31 at angle 277.6 degrees
[11:24:56] [INFO] [DefensiveGrenade] Spawned shrapnel #32 at angle 278.4 degrees
[11:24:56] [INFO] [DefensiveGrenade] Spawned shrapnel #33 at angle 289.8 degrees
[11:24:56] [INFO] [DefensiveGrenade] Spawned shrapnel #34 at angle 290.6 degrees
[11:24:56] [INFO] [DefensiveGrenade] Spawned shrapnel #35 at angle 302.0 degrees
[11:24:56] [INFO] [DefensiveGrenade] Spawned shrapnel #36 at angle 322.7 degrees
[11:24:56] [INFO] [DefensiveGrenade] Spawned shrapnel #37 at angle 310.7 degrees
[11:24:56] [INFO] [DefensiveGrenade] Spawned shrapnel #38 at angle 322.8 degrees
[11:24:56] [INFO] [DefensiveGrenade] Spawned shrapnel #39 at angle 343.7 degrees
[11:24:56] [INFO] [DefensiveGrenade] Spawned shrapnel #40 at angle 352.5 degrees
[11:24:56] [INFO] [ImpactEffects] Spawning explosion visual effect at (986.2072, 994.9681) (radius=700) - using shadow-based wall occlusion
[11:24:56] [INFO] [GrenadeTimer] Timer expired for Flashbang grenade!
[11:24:56] [INFO] [GrenadeTimer] Flashbang grenade activated at (986.2072, 994.96814)!
[11:24:56] [INFO] [GrenadeTimer] Applying flashbang effects (radius: 700, blindness: 12s, stun: 6s)
[11:24:56] [INFO] [FlashbangStatus] Flashbang: blind=5.9s, stun=3.0s
[11:24:56] [INFO] [FlashbangStatus] Status: BLINDED applied
[11:24:56] [INFO] [FlashbangStatus] Status: STUNNED applied
[11:24:56] [INFO] [GrenadeTimer] Applied flashbang to enemy at distance 353,7 (intensity: 0,49)
[11:24:56] [INFO] [FlashbangStatus] Flashbang: blind=10.0s, stun=5.0s
[11:24:56] [INFO] [FlashbangStatus] Status: BLINDED applied
[11:24:56] [INFO] [FlashbangStatus] Status: STUNNED applied
[11:24:56] [INFO] [GrenadeTimer] Applied flashbang to enemy at distance 118,6 (intensity: 0,83)
[11:24:56] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(986.2072, 994.9681), source=NEUTRAL (DefensiveGrenade), range=2938, listeners=3
[11:24:56] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=3
[11:24:56] [INFO] [GrenadeTimer] Spawned shadow-enabled flashbang effect at (986.2072, 994.96814) (radius: 700)
[11:24:56] [INFO] [EnemyGrenade] Throw path blocked to (159.8959, 849.8636)
[11:24:56] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (159.7921, 847.0313) - skipping throw
[11:24:56] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (160.8623, 842.2743) - skipping throw
[11:24:56] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (162.1597, 837.7612) - skipping throw
[11:24:56] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (163.6843, 833.4921) - skipping throw
[11:24:56] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (165.436, 829.467) - skipping throw
[11:24:56] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (167.4149, 825.6858) - skipping throw
[11:24:56] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (169.621, 822.1485) - skipping throw
[11:24:56] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (172.0542, 818.8552) - skipping throw
[11:24:56] [INFO] [EnemyGrenade] Throw path blocked to (174.7146, 815.8058)
[11:24:56] [INFO] [Player] Spawning blood effect at (177.6021, 813.00037), dir=(-0.9738754, -0.22708291), lethal=False (C#)
[11:24:56] [INFO] [ImpactEffects] spawn_blood_effect called at (177.6021, 813.0004), dir=(-0.973875, -0.227083), lethal=false
[11:24:56] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[11:24:56] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[11:24:56] [INFO] [ImpactEffects] Blood effect spawned at (177.6021, 813.0004) (scale=1)
[11:24:56] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[11:24:56] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[11:24:56] [INFO] [EnemyGrenade] Throw path blocked to (177.6021, 813.0004)
[11:24:56] [INFO] [EnemyGrenade] Throw path blocked to (180.7168, 810.4388)
[11:24:56] [INFO] [EnemyGrenade] Throw path blocked to (184.0587, 808.1213)
[11:24:56] [INFO] [EnemyGrenade] Throw path blocked to (187.6277, 806.0477)
[11:24:56] [INFO] [EnemyGrenade] Throw path blocked to (191.2146, 804.3069)
[11:24:56] [INFO] [EnemyGrenade] Throw path blocked to (194.8194, 802.899)
[11:24:56] [INFO] [EnemyGrenade] Throw path blocked to (198.442, 801.8239)
[11:24:56] [INFO] [EnemyGrenade] Throw path blocked to (202.0825, 801.0817)
[11:24:56] [INFO] [EnemyGrenade] Throw path blocked to (205.7409, 800.6724)
[11:24:56] [INFO] [BloodDecal] Blood puddle created at (542.7714, 934.2282) (added to group)
[11:24:56] [INFO] [BloodDecal] Blood puddle created at (591.7084, 992.0442) (added to group)
[11:24:56] [INFO] [BloodDecal] Blood puddle created at (542.3008, 1007.588) (added to group)
[11:24:56] [INFO] [BloodDecal] Blood puddle created at (529.9357, 943.0798) (added to group)
[11:24:56] [INFO] [BloodDecal] Blood puddle created at (580.8405, 953.6288) (added to group)
[11:24:56] [INFO] [BloodDecal] Blood puddle created at (592.3398, 973.5954) (added to group)
[11:24:56] [INFO] [BloodDecal] Blood puddle created at (552.1274, 951.2065) (added to group)
[11:24:56] [INFO] [BloodDecal] Blood puddle created at (534.0191, 1001.963) (added to group)
[11:24:56] [INFO] [BloodDecal] Blood puddle created at (574.7621, 961.9848) (added to group)
[11:24:56] [INFO] [BloodDecal] Blood puddle created at (559.0234, 975.0156) (added to group)
[11:24:56] [INFO] [BloodDecal] Blood puddle created at (1144.342, 1018.264) (added to group)
[11:24:57] [INFO] [EnemyGrenade] Throw path blocked to (209.4171, 800.5959)
[11:24:57] [INFO] [EnemyGrenade] Throw path blocked to (212.9099, 800.7977)
[11:24:57] [INFO] [EnemyGrenade] Throw path blocked to (216.2192, 801.2778)
[11:24:57] [INFO] [EnemyGrenade] Throw path blocked to (219.345, 802.0362)
[11:24:57] [INFO] [EnemyGrenade] Throw path blocked to (222.2874, 803.0729)
[11:24:57] [INFO] [EnemyGrenade] Throw path blocked to (225.0462, 804.3879)
[11:24:57] [INFO] [EnemyGrenade] Throw path blocked to (227.6217, 805.9813)
[11:24:57] [INFO] [BloodDecal] Blood puddle created at (521.7781, 986.2492) (added to group)
[11:24:57] [INFO] [BloodDecal] Blood puddle created at (558.0667, 1015.294) (added to group)
[11:24:57] [INFO] [BloodDecal] Blood puddle created at (559.7703, 989.5018) (added to group)
[11:24:57] [INFO] [BloodDecal] Blood puddle created at (510.926, 942.2271) (added to group)
[11:24:57] [INFO] [BloodDecal] Blood puddle created at (525.6023, 1033.769) (added to group)
[11:24:57] [INFO] [BloodDecal] Blood puddle created at (1214.427, 1061.621) (added to group)
[11:24:57] [INFO] [BloodDecal] Blood puddle created at (1241.488, 1052.741) (added to group)
[11:24:57] [INFO] [BloodDecal] Blood puddle created at (1202.527, 1033.697) (added to group)
[11:24:57] [INFO] [BloodDecal] Blood puddle created at (136.8618, 824.2076) (added to group)
[11:24:57] [INFO] [BloodDecal] Blood puddle created at (103.6197, 821.0658) (added to group)
[11:24:57] [INFO] [EnemyGrenade] Throw path blocked to (230.0137, 807.8529)
[11:24:57] [INFO] [EnemyGrenade] Throw path blocked to (232.2222, 810.0028)
[11:24:57] [INFO] [EnemyGrenade] Throw path blocked to (234.2472, 812.431)
[11:24:57] [INFO] [EnemyGrenade] Throw path blocked to (236.0888, 815.1376)
[11:24:57] [INFO] [EnemyGrenade] Throw path blocked to (237.7469, 818.1224)
[11:24:57] [INFO] [EnemyGrenade] Throw path blocked to (239.2215, 821.3855)
[11:24:57] [INFO] [EnemyGrenade] Throw path blocked to (240.5127, 824.9269)
[11:24:57] [ENEMY] [Enemy2] Ragdoll activated
[11:24:57] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[11:24:57] [ENEMY] [Enemy3] Ragdoll activated
[11:24:57] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[11:24:57] [INFO] [BloodDecal] Blood puddle created at (503.1123, 1053.639) (added to group)
[11:24:57] [INFO] [BloodDecal] Blood puddle created at (489.4734, 1026.488) (added to group)
[11:24:57] [INFO] [BloodDecal] Blood puddle created at (489.0719, 956.1971) (added to group)
[11:24:57] [INFO] [BloodDecal] Blood puddle created at (486.2052, 1036.082) (added to group)
[11:24:57] [INFO] [BloodDecal] Blood puddle created at (531.0848, 981.0969) (added to group)
[11:24:57] [INFO] [BloodDecal] Blood puddle created at (1187.553, 1097.521) (added to group)
[11:24:57] [INFO] [BloodDecal] Blood puddle created at (1254.515, 996.3135) (added to group)
[11:24:57] [INFO] [BloodDecal] Blood puddle created at (1174.904, 1086.044) (added to group)
[11:24:57] [INFO] [BloodDecal] Blood puddle created at (1261.923, 1057.268) (added to group)
[11:24:57] [INFO] [BloodDecal] Blood puddle created at (1223.284, 1015.221) (added to group)
[11:24:57] [INFO] [BloodDecal] Blood puddle created at (1181.567, 1074.847) (added to group)
[11:24:57] [INFO] [BloodDecal] Blood puddle created at (1246.691, 1122.274) (added to group)
[11:24:57] [INFO] [BloodDecal] Blood puddle created at (1253.241, 1099.015) (added to group)
[11:24:57] [INFO] [BloodDecal] Blood puddle created at (124.5706, 814.1863) (added to group)
[11:24:57] [INFO] [BloodDecal] Blood puddle created at (86.89261, 795.2329) (added to group)
[11:24:57] [INFO] [BloodDecal] Blood puddle created at (106.583, 828.4508) (added to group)
[11:24:57] [ENEMY] [Enemy1] Hit: dmg=1, hp=1/1->0/1
[11:24:57] [INFO] [ImpactEffects] spawn_blood_effect called at (400, 300), dir=(-0.384603, -0.923082), lethal=true
[11:24:57] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[11:24:57] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[11:24:57] [INFO] [ImpactEffects] Blood effect spawned at (400, 300) (scale=1.5)
[11:24:57] [ENEMY] [Enemy1] Enemy died (ricochet: false, penetration: false)
[11:24:57] [INFO] [ScoreManager] Kill registered. Combo: 3 (points: 3000)
[11:24:57] [INFO] [SoundPropagation] Unregistered listener: Enemy1 (remaining: 2)
[11:24:57] [INFO] [DeathAnim] Started - Angle: -112.6 deg, Index: 4
[11:24:57] [ENEMY] [Enemy1] Death animation started with hit direction: (-0.384603, -0.923082)
[11:24:57] [INFO] [BloodDecal] Blood puddle created at (534.9749, 997.6212) (added to group)
[11:24:57] [INFO] [BloodDecal] Blood puddle created at (442.7732, 996.4922) (added to group)
[11:24:57] [INFO] [BloodDecal] Blood puddle created at (523.5543, 1103.481) (added to group)
[11:24:57] [INFO] [BloodDecal] Blood puddle created at (454.8579, 1007.778) (added to group)
[11:24:57] [INFO] [BloodDecal] Blood puddle created at (483.4043, 1031.598) (added to group)
[11:24:57] [INFO] [BloodDecal] Blood puddle created at (493.9623, 1099.296) (added to group)
[11:24:57] [INFO] [BloodDecal] Blood puddle created at (435.2858, 1092.002) (added to group)
[11:24:57] [INFO] [BloodDecal] Blood puddle created at (1265.119, 1069.266) (added to group)
[11:24:57] [INFO] [BloodDecal] Blood puddle created at (1226.572, 1026.596) (added to group)
[11:24:57] [INFO] [BloodDecal] Blood puddle created at (1248.175, 1122.741) (added to group)
[11:24:57] [INFO] [BloodDecal] Blood puddle created at (60.54437, 799.8726) (added to group)
[11:24:57] [INFO] [BloodDecal] Blood puddle created at (521.5254, 1096.456) (added to group)
[11:24:57] [INFO] [BloodDecal] Blood puddle created at (1324.216, 1032.783) (added to group)
[11:24:57] [INFO] [BloodDecal] Blood puddle created at (1330.586, 1111.547) (added to group)
[11:24:57] [INFO] [BloodDecal] Blood puddle created at (96.19939, 866.231) (added to group)
[11:24:57] [INFO] [BloodDecal] Blood puddle created at (75.71496, 867.5531) (added to group)
[11:24:57] [INFO] [ReplayManager] Recording frame 360 (6,0s): player_valid=True, enemies=5
[11:24:57] [INFO] [BloodDecal] Blood puddle created at (388.7279, 276.7068) (added to group)
[11:24:57] [INFO] [BloodDecal] Blood puddle created at (359.8658, 282.6901) (added to group)
[11:24:57] [INFO] [BloodDecal] Blood puddle created at (362.5679, 288.5469) (added to group)
[11:24:57] [INFO] [BloodDecal] Blood puddle created at (378.2219, 266.0367) (added to group)
[11:24:57] [INFO] [BloodDecal] Blood puddle created at (351.7444, 265.1996) (added to group)
[11:24:57] [INFO] [BloodDecal] Blood puddle created at (370.306, 288.2444) (added to group)
[11:24:57] [INFO] [BloodyFeet:Enemy1] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[11:24:57] [INFO] [BloodDecal] Blood puddle created at (346.5918, 285.7103) (added to group)
[11:24:57] [ENEMY] [Enemy1] Ragdoll activated
[11:24:57] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[11:24:57] [INFO] [BloodDecal] Blood puddle created at (392.6883, 216.5683) (added to group)
[11:24:57] [INFO] [BloodDecal] Blood puddle created at (371.1513, 211.6353) (added to group)
[11:24:57] [INFO] [BloodDecal] Blood puddle created at (381.4678, 226.5874) (added to group)
[11:24:57] [INFO] [BloodDecal] Blood puddle created at (328.8491, 314.8363) (added to group)
[11:24:57] [INFO] [BloodDecal] Blood puddle created at (328.2465, 271.4102) (added to group)
[11:24:57] [INFO] [BloodDecal] Blood puddle created at (356.4459, 206.9534) (added to group)
[11:24:57] [INFO] [BloodDecal] Blood puddle created at (375.116, 260.9925) (added to group)
[11:24:57] [INFO] [BloodDecal] Blood puddle created at (348.6292, 238.6249) (added to group)
[11:24:57] [INFO] [BloodDecal] Blood puddle created at (325.5607, 275.3184) (added to group)
[11:24:57] [INFO] [BloodDecal] Blood puddle created at (264.2891, 247.831) (added to group)
[11:24:57] [INFO] [BloodDecal] Blood puddle created at (232.5732, 248.8353) (added to group)
[11:24:58] [ENEMY] [Enemy2] Death animation completed
[11:24:58] [ENEMY] [Enemy3] Death animation completed
[11:24:58] [INFO] [ReplayManager] Recording frame 420 (7,0s): player_valid=True, enemies=5
[11:24:58] [ENEMY] [Enemy1] Death animation completed
[11:24:59] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[11:24:59] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:24:59] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[11:24:59] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[11:24:59] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[11:24:59] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[11:24:59] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[11:24:59] [INFO] [LastChance] Resetting all effects (scene change detected)
[11:24:59] [INFO] [CinemaEffects] Scene changed to: LabyrinthLevel
[11:24:59] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[11:24:59] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[11:24:59] [ENEMY] [Enemy1] Death animation component initialized
[11:24:59] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:24:59] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[11:24:59] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[11:24:59] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[11:24:59] [ENEMY] [Enemy2] Death animation component initialized
[11:24:59] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:24:59] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[11:24:59] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[11:24:59] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[11:24:59] [INFO] [EnemyGrenade] Initialized: 1 grenades
[11:24:59] [ENEMY] [Enemy3] Death animation component initialized
[11:24:59] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:24:59] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[11:24:59] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[11:24:59] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[11:24:59] [ENEMY] [Enemy4] Death animation component initialized
[11:24:59] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:24:59] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[11:24:59] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[11:24:59] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[11:24:59] [ENEMY] [Enemy5] Death animation component initialized
[11:24:59] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:24:59] [INFO] [BloodyFeet:Player] Footprint scene loaded
[11:24:59] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[11:24:59] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[11:24:59] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: F-1 Grenade
[11:24:59] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[11:24:59] [INFO] [Player.Weapon] GameManager weapon selection: shotgun (Shotgun)
[11:24:59] [INFO] [Player.Weapon] Removed default MakarovPM
[11:24:59] [INFO] [Player.Weapon] Equipped Shotgun (ammo: 0/8)
[11:24:59] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[11:24:59] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[11:24:59] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[11:24:59] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[11:24:59] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[11:24:59] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[11:24:59] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[11:24:59] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[11:24:59] [INFO] [Player.Homing] No homing bullets selected in ActiveItemManager
[11:24:59] [INFO] [Player.InvisibilitySuit] No invisibility suit selected in ActiveItemManager
[11:24:59] [INFO] [Player.BreakerBullets] Breaker bullets active — bullets will detonate 60px before walls
[11:24:59] [INFO] [Player.BreakerBullets] Set IsBreakerBulletActive on weapon: Shotgun
[11:24:59] [INFO] [Player] Ready! Ammo: 0/8, Grenades: 1/3, Health: 3/4
[11:24:59] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[11:24:59] [INFO] [LabyrinthLevel] Found Environment/Enemies node with 5 children
[11:24:59] [INFO] [LabyrinthLevel] Child 'Enemy1': script=true, has_died_signal=true
[11:24:59] [INFO] [LabyrinthLevel] Child 'Enemy2': script=true, has_died_signal=true
[11:24:59] [INFO] [LabyrinthLevel] Child 'Enemy3': script=true, has_died_signal=true
[11:24:59] [INFO] [LabyrinthLevel] Child 'Enemy4': script=true, has_died_signal=true
[11:24:59] [INFO] [LabyrinthLevel] Child 'Enemy5': script=true, has_died_signal=true
[11:24:59] [INFO] [LabyrinthLevel] Enemy tracking complete: 5 enemies registered
[11:24:59] [INFO] [LabyrinthLevel] Setting up weapon: shotgun
[11:24:59] [INFO] [LabyrinthLevel] Shotgun already equipped by C# Player - skipping GDScript weapon swap
[11:24:59] [INFO] [ScoreManager] Level started with 5 enemies
[11:24:59] [INFO] [LabyrinthLevel] ReplayManager found as C# autoload - verified OK
[11:24:59] [INFO] [LabyrinthLevel] Starting replay recording - Player: Player, Enemies count: 5
[11:24:59] [INFO] [ReplayManager] Replay data cleared
[11:24:59] [INFO] [LabyrinthLevel] Previous replay data cleared
[11:24:59] [INFO] [ReplayManager] Detected player weapon: Shotgun
[11:24:59] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[11:24:59] [INFO] [ReplayManager] Level: LabyrinthLevel
[11:24:59] [INFO] [ReplayManager] Player: Player (valid: True)
[11:24:59] [INFO] [ReplayManager] Enemies count: 5
[11:24:59] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/shotgun_topdown.png
[11:24:59] [INFO] [ReplayManager]   Enemy 0: Enemy1
[11:24:59] [INFO] [ReplayManager]   Enemy 1: Enemy2
[11:24:59] [INFO] [ReplayManager]   Enemy 2: Enemy3
[11:24:59] [INFO] [ReplayManager]   Enemy 3: Enemy4
[11:24:59] [INFO] [ReplayManager]   Enemy 4: Enemy5
[11:24:59] [INFO] [LabyrinthLevel] Replay recording started successfully
[11:24:59] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[11:24:59] [INFO] [CinemaEffects] Found player node: Player
[11:24:59] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[11:24:59] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 3)
[11:24:59] [ENEMY] [Enemy1] Registered as sound listener
[11:24:59] [ENEMY] [Enemy1] Spawned at (400, 300), hp: 2, behavior: GUARD
[11:24:59] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[11:24:59] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 4)
[11:24:59] [ENEMY] [Enemy2] Registered as sound listener
[11:24:59] [ENEMY] [Enemy2] Spawned at (900, 950), hp: 1, behavior: GUARD
[11:24:59] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[11:24:59] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 5)
[11:24:59] [ENEMY] [Enemy3] Registered as sound listener
[11:24:59] [ENEMY] [Enemy3] Spawned at (1200, 1000), hp: 2, behavior: PATROL
[11:24:59] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[11:24:59] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 6)
[11:24:59] [ENEMY] [Enemy4] Registered as sound listener
[11:24:59] [ENEMY] [Enemy4] Spawned at (1650, 650), hp: 1, behavior: GUARD
[11:24:59] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[11:24:59] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 7)
[11:24:59] [ENEMY] [Enemy5] Registered as sound listener
[11:24:59] [ENEMY] [Enemy5] Spawned at (1500, 300), hp: 2, behavior: GUARD
[11:24:59] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[11:24:59] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=5
[11:24:59] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(150,1000), corner_timer=0.00
[11:24:59] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=45.0°, current=0.0°, player=(150,1000), corner_timer=0.00
[11:24:59] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(150,1000), corner_timer=0.00
[11:24:59] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=281.3°, current=0.0°, player=(150,1000), corner_timer=0.00
[11:24:59] [INFO] [Player] Detecting weapon pose (frame 3)...
[11:24:59] [INFO] [Player] Detected weapon: Shotgun (Shotgun pose)
[11:24:59] [INFO] [Player] Applied Shotgun arm pose: Left=(21, 6), Right=(-1, 6)
[11:24:59] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[11:24:59] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[11:24:59] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[11:24:59] [INFO] [LastChance] Found player: Player
[11:24:59] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[11:24:59] [INFO] [LastChance] Connected to player Damaged signal (C#)
[11:24:59] [INFO] [LastChance] Connected to player Died signal (C#)
[11:24:59] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[11:24:59] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[11:24:59] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[11:24:59] [INFO] [Player.Grenade] G pressed - starting grab animation
[11:24:59] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[11:24:59] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (702.8531, 949.9072)
[11:24:59] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=Ready, ReloadState=NotReloading
[11:24:59] [INFO] [Shotgun.FIX#445] dragStartPos=(706, 950), aimDir=(1,00, -0,09)
[11:24:59] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[11:24:59] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[11:24:59] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[11:24:59] [INFO] [GrenadeBase] CCD enabled (mode: CAST_RAY) to prevent wall tunneling
[11:24:59] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[11:24:59] [INFO] [DefensiveGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[11:24:59] [INFO] [GrenadeTimer] Initialized for Flashbang grenade, effect radius: 700
[11:24:59] [INFO] [Player.Grenade] Added GrenadeTimer component (type: Flashbang)
[11:24:59] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[11:24:59] [INFO] [GrenadeTimer] Timer activated! 4 seconds until explosion
[11:24:59] [INFO] [Player.Grenade] Timer started, grenade created at (150, 1000)
[11:24:59] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[11:24:59] [INFO] [Player.Grenade] Step 1 complete! Drag: (338.6579, 44.74951)
[11:24:59] [INFO] [Shotgun.FIX#243] RMB released after 5 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[11:24:59] [INFO] [Shotgun.FIX#445v7] ProcessDragGesture - dragVector=(347,5, 44,7), length=350,3, ActionState=Ready
[11:24:59] [INFO] [Shotgun.FIX#445v7] Pump drag not vertical: absY=44,7 <= absX=347,5
[11:24:59] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[11:24:59] [INFO] [Player.Grenade.Simple] RMB pressed after pin pull - starting trajectory aiming
[11:24:59] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=Ready, ReloadState=NotReloading
[11:24:59] [INFO] [Shotgun.FIX#445] dragStartPos=(1060, 995), aimDir=(1,00, -0,01)
[11:24:59] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[11:24:59] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[11:24:59] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[11:25:00] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=5
[11:25:00] [ENEMY] [Enemy3] PATROL corner check: angle -90.0°
[11:25:00] [ENEMY] [Enemy3] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-90.0°, current=0.0°, player=(150,1067), corner_timer=0.30
[11:25:00] [ENEMY] [Enemy3] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=0.0°, current=-54.4°, player=(188,1111), corner_timer=-0.02
[11:25:00] [ENEMY] [Enemy3] PATROL corner check: angle -90.0°
[11:25:00] [ENEMY] [Enemy3] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=-51.6°, player=(192,1111), corner_timer=0.30
[11:25:01] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=5
[11:25:01] [INFO] [SoundPropagation] Sound emitted: type=GRENADE_LANDING, pos=(224.1589, 1111.924), source=NEUTRAL (DefensiveGrenade), range=112, listeners=7
[11:25:01] [INFO] [SoundPropagation] Cleaned up 2 invalid listeners
[11:25:01] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[11:25:01] [INFO] [GrenadeBase] Grenade landed at (224.1589, 1111.924)
[11:25:01] [INFO] [Player.Grenade.Simple] Throwing! Target: (1059.5376, 992.1875), Distance: 783,7, Speed: 685,7, Friction: 300,0
[11:25:01] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,14239174
[11:25:01] [INFO] [GrenadeTimer] Grenade marked as thrown - impact detection enabled
[11:25:01] [INFO] [Player.Grenade.Simple] C# set velocity directly: dir=(0.9898794, -0.14191106), speed=685,7, spawn=(283.7249, 1103.4095)
[11:25:01] [INFO] [GrenadeBase] Simple mode throw! Dir: (0.989879, -0.141911), Speed: 685.7 (clamped from 685.7, max: 1000.0)
[11:25:01] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[11:25:01] [INFO] [Player.Grenade.Simple] Grenade thrown!
[11:25:01] [INFO] [Player.Grenade] State reset to IDLE
[11:25:01] [INFO] [Player.Grenade] State reset to IDLE
[11:25:01] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[11:25:01] [INFO] [Shotgun.FIX#243] RMB released after 97 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[11:25:01] [INFO] [Shotgun.FIX#445v7] ProcessDragGesture - dragVector=(-0,9, -2,3), length=2,5, ActionState=Ready
[11:25:01] [INFO] [Shotgun.FIX#445v7] Drag too short: 2,5 < 30
[11:25:01] [INFO] [Player.Grenade] Player rotation restored to 0
[11:25:01] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[11:25:02] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=5
[11:25:02] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=116.2°, current=146.3°, player=(64,983), corner_timer=0.00
[11:25:02] [ENEMY] [Enemy1] State: IDLE -> COMBAT
[11:25:02] [ENEMY] [Enemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=116.5°, current=-103.1°, player=(64,972), corner_timer=0.00
[11:25:02] [ENEMY] [Enemy2] GRENADE DANGER: Entering EVADING_GRENADE state from IDLE
[11:25:02] [ENEMY] [Enemy2] EVADING_GRENADE started: escaping to (260.468, 775.7272)
[11:25:02] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P4:velocity, state=EVADING_GRENADE, target=176.7°, current=74.4°, player=(77,939), corner_timer=0.00
[11:25:02] [ENEMY] [Enemy3] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=52.8°, player=(83,887), corner_timer=-0.02
[11:25:02] [ENEMY] [Enemy3] PATROL corner check: angle -90.0°
[11:25:02] [ENEMY] [Enemy3] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=55.6°, player=(83,881), corner_timer=0.30
[11:25:03] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[11:25:03] [ENEMY] [Enemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=123.5°, current=170.8°, player=(83,804), corner_timer=0.00
[11:25:03] [INFO] [ReplayManager] Recording frame 240 (4,0s): player_valid=True, enemies=5
[11:25:03] [ENEMY] [Enemy3] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.2°, player=(83,777), corner_timer=-0.02
[11:25:03] [ENEMY] [Enemy3] PATROL corner check: angle -90.0°
[11:25:03] [ENEMY] [Enemy3] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=4.1°, player=(83,771), corner_timer=0.30
[11:25:03] [ENEMY] [Enemy1] State: PURSUING -> COMBAT
[11:25:03] [INFO] [GrenadeTimer] Flashbang grenade landed at (1050.0508, 993.54767)
[11:25:03] [INFO] [SoundPropagation] Sound emitted: type=GRENADE_LANDING, pos=(1050.051, 993.5477), source=NEUTRAL (DefensiveGrenade), range=112, listeners=5
[11:25:03] [ENEMY] [Enemy3] Heard GRENADE_LANDING at (1050.051, 993.5477), intensity=0.83
[11:25:03] [ENEMY] [Enemy3] EVADING_GRENADE (from sound): escaping from (1050.051, 993.5477)
[11:25:03] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=0, below_threshold=0
[11:25:03] [INFO] [GrenadeTimer] Emitted grenade landing sound at (1050.0508, 993.54767)
[11:25:03] [ENEMY] [Enemy2] ROT_CHANGE: P4:velocity -> P1:visible, state=EVADING_GRENADE, target=-141.0°, current=-97.7°, player=(142,658), corner_timer=0.00
[11:25:03] [INFO] [GrenadeBase] EXPLODED at (1053.886, 992.9979)!
[11:25:03] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1053.886, 992.9979), source=NEUTRAL (DefensiveGrenade), range=2937, listeners=5
[11:25:03] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=4
[11:25:03] [ENEMY] [Enemy3] Hit: dmg=1, hp=2/2->1/2
[11:25:03] [INFO] [ImpactEffects] spawn_blood_effect called at (1174.763, 882.2122), dir=(0.737212, -0.675662), lethal=false
[11:25:03] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[11:25:03] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[11:25:03] [INFO] [ImpactEffects] Blood effect spawned at (1174.763, 882.2122) (scale=1)
[11:25:03] [ENEMY] [Enemy3] Hit: dmg=1, hp=1/2->0/2
[11:25:03] [INFO] [ImpactEffects] spawn_blood_effect called at (1174.763, 882.2122), dir=(0.737212, -0.675662), lethal=true
[11:25:03] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[11:25:03] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[11:25:03] [INFO] [ImpactEffects] Blood effect spawned at (1174.763, 882.2122) (scale=1.5)
[11:25:03] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[11:25:03] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[11:25:03] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 4)
[11:25:03] [INFO] [DeathAnim] Started - Angle: -42.5 deg, Index: 9
[11:25:03] [ENEMY] [Enemy3] Death animation started with hit direction: (0.737212, -0.675662)
[11:25:03] [INFO] [DefensiveGrenade] Applied 99 HE damage to enemy at distance 164.0
[11:25:03] [INFO] [DefensiveGrenade] Spawned shrapnel #1 at angle 1.5 degrees
[11:25:03] [INFO] [DefensiveGrenade] Spawned shrapnel #2 at angle -5.2 degrees
[11:25:03] [INFO] [DefensiveGrenade] Spawned shrapnel #3 at angle 12.8 degrees
[11:25:03] [INFO] [DefensiveGrenade] Spawned shrapnel #4 at angle 20.8 degrees
[11:25:03] [INFO] [DefensiveGrenade] Spawned shrapnel #5 at angle 34.7 degrees
[11:25:03] [INFO] [DefensiveGrenade] Spawned shrapnel #6 at angle 53.6 degrees
[11:25:03] [INFO] [DefensiveGrenade] Spawned shrapnel #7 at angle 60.1 degrees
[11:25:03] [INFO] [DefensiveGrenade] Spawned shrapnel #8 at angle 55.8 degrees
[11:25:03] [INFO] [DefensiveGrenade] Spawned shrapnel #9 at angle 60.6 degrees
[11:25:03] [INFO] [DefensiveGrenade] Spawned shrapnel #10 at angle 95.7 degrees
[11:25:03] [INFO] [DefensiveGrenade] Spawned shrapnel #11 at angle 102.6 degrees
[11:25:03] [INFO] [DefensiveGrenade] Spawned shrapnel #12 at angle 87.9 degrees
[11:25:03] [INFO] [DefensiveGrenade] Spawned shrapnel #13 at angle 101.3 degrees
[11:25:03] [INFO] [DefensiveGrenade] Spawned shrapnel #14 at angle 120.8 degrees
[11:25:03] [INFO] [DefensiveGrenade] Spawned shrapnel #15 at angle 113.6 degrees
[11:25:03] [INFO] [DefensiveGrenade] Spawned shrapnel #16 at angle 136.1 degrees
[11:25:03] [INFO] [DefensiveGrenade] Spawned shrapnel #17 at angle 155.6 degrees
[11:25:03] [INFO] [DefensiveGrenade] Spawned shrapnel #18 at angle 161.0 degrees
[11:25:03] [INFO] [DefensiveGrenade] Spawned shrapnel #19 at angle 168.5 degrees
[11:25:03] [INFO] [DefensiveGrenade] Spawned shrapnel #20 at angle 158.5 degrees
[11:25:03] [INFO] [DefensiveGrenade] Spawned shrapnel #21 at angle 191.4 degrees
[11:25:03] [INFO] [DefensiveGrenade] Spawned shrapnel #22 at angle 177.2 degrees
[11:25:03] [INFO] [DefensiveGrenade] Spawned shrapnel #23 at angle 211.1 degrees
[11:25:03] [INFO] [DefensiveGrenade] Spawned shrapnel #24 at angle 211.0 degrees
[11:25:03] [INFO] [DefensiveGrenade] Spawned shrapnel #25 at angle 219.9 degrees
[11:25:03] [INFO] [DefensiveGrenade] Spawned shrapnel #26 at angle 227.7 degrees
[11:25:03] [INFO] [DefensiveGrenade] Spawned shrapnel #27 at angle 237.4 degrees
[11:25:03] [INFO] [DefensiveGrenade] Spawned shrapnel #28 at angle 245.6 degrees
[11:25:03] [INFO] [DefensiveGrenade] Spawned shrapnel #29 at angle 243.8 degrees
[11:25:03] [INFO] [DefensiveGrenade] Spawned shrapnel #30 at angle 274.8 degrees
[11:25:03] [INFO] [DefensiveGrenade] Spawned shrapnel #31 at angle 273.4 degrees
[11:25:03] [INFO] [DefensiveGrenade] Spawned shrapnel #32 at angle 269.2 degrees
[11:25:03] [INFO] [DefensiveGrenade] Spawned shrapnel #33 at angle 276.9 degrees
[11:25:03] [INFO] [DefensiveGrenade] Spawned shrapnel #34 at angle 290.2 degrees
[11:25:03] [INFO] [DefensiveGrenade] Spawned shrapnel #35 at angle 291.3 degrees
[11:25:03] [INFO] [DefensiveGrenade] Spawned shrapnel #36 at angle 313.8 degrees
[11:25:03] [INFO] [DefensiveGrenade] Spawned shrapnel #37 at angle 314.4 degrees
[11:25:03] [INFO] [DefensiveGrenade] Spawned shrapnel #38 at angle 329.9 degrees
[11:25:03] [INFO] [DefensiveGrenade] Spawned shrapnel #39 at angle 346.9 degrees
[11:25:03] [INFO] [DefensiveGrenade] Spawned shrapnel #40 at angle 357.6 degrees
[11:25:03] [INFO] [ImpactEffects] Spawning explosion visual effect at (1053.886, 992.9979) (radius=700) - using shadow-based wall occlusion
[11:25:03] [INFO] [GrenadeTimer] Timer expired for Flashbang grenade!
[11:25:03] [INFO] [GrenadeTimer] Flashbang grenade activated at (1053.8856, 992.99786)!
[11:25:03] [INFO] [GrenadeTimer] Applying flashbang effects (radius: 700, blindness: 12s, stun: 6s)
[11:25:03] [INFO] [FlashbangStatus] Flashbang: blind=9.2s, stun=4.6s
[11:25:03] [INFO] [FlashbangStatus] Status: BLINDED applied
[11:25:03] [INFO] [FlashbangStatus] Status: STUNNED applied
[11:25:03] [INFO] [GrenadeTimer] Applied flashbang to enemy at distance 164,0 (intensity: 0,77)
[11:25:03] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1053.886, 992.9979), source=NEUTRAL (DefensiveGrenade), range=2938, listeners=4
[11:25:03] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=4
[11:25:03] [INFO] [GrenadeTimer] Spawned shadow-enabled flashbang effect at (1053.8856, 992.99786) (radius: 700)
[11:25:03] [ENEMY] [Enemy2] EVADING_GRENADE: Escaped to safe distance
[11:25:03] [ENEMY] [Enemy2] State: EVADING_GRENADE -> IDLE
[11:25:03] [ENEMY] [Enemy2] State: IDLE -> COMBAT
[11:25:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(279.7937, 493.9916), source=ENEMY (Enemy1), range=1469, listeners=4
[11:25:03] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=2
[11:25:03] [INFO] [LastChance] Threat detected: Bullet
[11:25:03] [INFO] [LastChance] Not in hard mode - effect disabled
[11:25:03] [INFO] [LastChance] Cannot trigger effect - conditions not met
[11:25:03] [INFO] [Player] Spawning blood effect at (224.36285, 616.37396), dir=(1, 0), lethal=False (C#)
[11:25:03] [INFO] [ImpactEffects] spawn_blood_effect called at (224.3629, 616.374), dir=(1, 0), lethal=false
[11:25:03] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[11:25:03] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[11:25:03] [INFO] [ImpactEffects] Blood effect spawned at (224.3629, 616.374) (scale=1)
[11:25:03] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[11:25:03] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[11:25:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(279.7937, 493.9916), source=ENEMY (Enemy1), range=1469, listeners=4
[11:25:04] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=2
[11:25:04] [INFO] [LastChance] Threat detected: Bullet
[11:25:04] [INFO] [LastChance] Not in hard mode - effect disabled
[11:25:04] [INFO] [LastChance] Cannot trigger effect - conditions not met
[11:25:04] [INFO] [Player] Spawning blood effect at (257.36285, 616.37396), dir=(1, 0), lethal=False (C#)
[11:25:04] [INFO] [ImpactEffects] spawn_blood_effect called at (257.3629, 616.374), dir=(1, 0), lethal=false
[11:25:04] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[11:25:04] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[11:25:04] [INFO] [ImpactEffects] Blood effect spawned at (257.3629, 616.374) (scale=1)
[11:25:04] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[11:25:04] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[11:25:04] [INFO] [PenultimateHit] Starting penultimate hit effect:
[11:25:04] [INFO] [PenultimateHit]   - Time scale: 0.10
[11:25:04] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[11:25:04] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[11:25:04] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[11:25:04] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[11:25:04] [INFO] [PenultimateHit] Applying saturation to 5 enemies
[11:25:04] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[11:25:04] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[11:25:04] [INFO] [BloodDecal] Blood puddle created at (1223.479, 816.5103) (added to group)
[11:25:04] [INFO] [ReplayManager] Recording frame 300 (5,0s): player_valid=True, enemies=5
[11:25:04] [ENEMY] [Enemy1] State: COMBAT -> RETREATING
[11:25:04] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[11:25:04] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(256.4603, 495.3297), source=NEUTRAL (null), range=900, listeners=4
[11:25:04] [ENEMY] [Enemy1] Heard CASING_KICK at (256.4603, 495.3297), intensity=1.00, dist=24
[11:25:04] [ENEMY] [Enemy2] Heard CASING_KICK at (256.4603, 495.3297), intensity=0.03, dist=289
[11:25:04] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=0
[11:25:04] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(256.3, 495.2701), source=NEUTRAL (null), range=900, listeners=4
[11:25:04] [ENEMY] [Enemy1] Heard CASING_KICK at (256.3, 495.2701), intensity=1.00, dist=24
[11:25:04] [ENEMY] [Enemy2] Heard CASING_KICK at (256.3, 495.2701), intensity=0.03, dist=289
[11:25:04] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=0
[11:25:04] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(256.0663, 495.2137), source=NEUTRAL (null), range=900, listeners=4
[11:25:04] [ENEMY] [Enemy1] Heard CASING_KICK at (256.0663, 495.2137), intensity=1.00, dist=25
[11:25:04] [ENEMY] [Enemy2] Heard CASING_KICK at (256.0663, 495.2137), intensity=0.03, dist=289
[11:25:04] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=0
[11:25:04] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(255.7595, 495.16), source=NEUTRAL (null), range=900, listeners=4
[11:25:04] [ENEMY] [Enemy1] Heard CASING_KICK at (255.7595, 495.16), intensity=1.00, dist=25
[11:25:04] [ENEMY] [Enemy2] Heard CASING_KICK at (255.7595, 495.16), intensity=0.03, dist=289
[11:25:04] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=0
[11:25:04] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(255.38, 495.1084), source=NEUTRAL (null), range=900, listeners=4
[11:25:04] [ENEMY] [Enemy1] Heard CASING_KICK at (255.38, 495.1084), intensity=1.00, dist=26
[11:25:04] [ENEMY] [Enemy2] Heard CASING_KICK at (255.38, 495.1084), intensity=0.03, dist=289
[11:25:04] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=0
[11:25:04] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(254.9283, 495.0582), source=NEUTRAL (null), range=900, listeners=4
[11:25:04] [ENEMY] [Enemy1] Heard CASING_KICK at (254.9283, 495.0582), intensity=1.00, dist=27
[11:25:04] [ENEMY] [Enemy2] Heard CASING_KICK at (254.9283, 495.0582), intensity=0.03, dist=289
[11:25:04] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=0
[11:25:04] [INFO] [BloodDecal] Blood puddle created at (1207.414, 868.0368) (added to group)
[11:25:04] [INFO] [BloodDecal] Blood puddle created at (1222.016, 838.2238) (added to group)
[11:25:04] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(254.4046, 495.0089), source=NEUTRAL (null), range=900, listeners=4
[11:25:04] [ENEMY] [Enemy1] Heard CASING_KICK at (254.4046, 495.0089), intensity=1.00, dist=28
[11:25:04] [ENEMY] [Enemy2] Heard CASING_KICK at (254.4046, 495.0089), intensity=0.03, dist=289
[11:25:04] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=0
[11:25:04] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(253.8093, 494.9598), source=NEUTRAL (null), range=900, listeners=4
[11:25:04] [ENEMY] [Enemy1] Heard CASING_KICK at (253.8093, 494.9598), intensity=1.00, dist=29
[11:25:04] [ENEMY] [Enemy2] Heard CASING_KICK at (253.8093, 494.9598), intensity=0.03, dist=290
[11:25:04] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=0
[11:25:04] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(253.1428, 494.9107), source=NEUTRAL (null), range=900, listeners=4
[11:25:04] [ENEMY] [Enemy1] Heard CASING_KICK at (253.1428, 494.9107), intensity=1.00, dist=30
[11:25:04] [ENEMY] [Enemy2] Heard CASING_KICK at (253.1428, 494.9107), intensity=0.03, dist=290
[11:25:04] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=0
[11:25:04] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(252.4055, 494.861), source=NEUTRAL (null), range=900, listeners=4
[11:25:04] [ENEMY] [Enemy1] Heard CASING_KICK at (252.4055, 494.861), intensity=1.00, dist=31
[11:25:04] [ENEMY] [Enemy2] Heard CASING_KICK at (252.4055, 494.861), intensity=0.03, dist=290
[11:25:04] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=0
[11:25:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(283.2552, 495.3899), source=ENEMY (Enemy1), range=1469, listeners=4
[11:25:04] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=2
[11:25:04] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(251.5977, 494.8102), source=NEUTRAL (null), range=900, listeners=4
[11:25:04] [ENEMY] [Enemy1] Heard CASING_KICK at (251.5977, 494.8102), intensity=1.00, dist=32
[11:25:04] [ENEMY] [Enemy2] Heard CASING_KICK at (251.5977, 494.8102), intensity=0.03, dist=290
[11:25:04] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=0
[11:25:04] [INFO] [LastChance] Threat detected: Bullet
[11:25:04] [INFO] [LastChance] Not in hard mode - effect disabled
[11:25:04] [INFO] [LastChance] Cannot trigger effect - conditions not met
[11:25:04] [ENEMY] [Enemy2] Hit: dmg=1, hp=1/1->0/1
[11:25:04] [INFO] [ImpactEffects] spawn_blood_effect called at (336.8327, 772.1285), dir=(0.898874, -0.438208), lethal=true
[11:25:04] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[11:25:04] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[11:25:04] [INFO] [ImpactEffects] Blood effect spawned at (336.8327, 772.1285) (scale=1.5)
[11:25:04] [ENEMY] [Enemy2] Enemy died (ricochet: false, penetration: false)
[11:25:04] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[11:25:04] [ENEMY] [Enemy2] [AllyDeath] Notified 1 enemies
[11:25:04] [INFO] [SoundPropagation] Unregistered listener: Enemy2 (remaining: 3)
[11:25:04] [INFO] [DeathAnim] Started - Angle: -26.0 deg, Index: 10
[11:25:04] [ENEMY] [Enemy2] Death animation started with hit direction: (0.898874, -0.438208)
[11:25:04] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(250.7199, 494.7581), source=NEUTRAL (null), range=900, listeners=3
[11:25:04] [ENEMY] [Enemy1] Heard CASING_KICK at (250.7199, 494.7581), intensity=1.00, dist=33
[11:25:04] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[11:25:04] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(261.0591, 506.8708), source=NEUTRAL (null), range=900, listeners=3
[11:25:04] [ENEMY] [Enemy1] Heard CASING_KICK at (261.0591, 506.8708), intensity=1.00, dist=25
[11:25:04] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[11:25:04] [INFO] [BloodDecal] Blood puddle created at (1230.865, 853.9884) (added to group)
[11:25:04] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(249.7723, 494.7041), source=NEUTRAL (null), range=900, listeners=3
[11:25:04] [ENEMY] [Enemy1] Heard CASING_KICK at (249.7723, 494.7041), intensity=1.00, dist=35
[11:25:04] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[11:25:04] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(260.8179, 506.8847), source=NEUTRAL (null), range=900, listeners=3
[11:25:04] [ENEMY] [Enemy1] Heard CASING_KICK at (260.8179, 506.8847), intensity=1.00, dist=26
[11:25:04] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[11:25:04] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(248.7554, 494.6482), source=NEUTRAL (null), range=900, listeners=3
[11:25:04] [ENEMY] [Enemy1] Heard CASING_KICK at (248.7554, 494.6482), intensity=1.00, dist=36
[11:25:04] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[11:25:04] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(260.5108, 506.9302), source=NEUTRAL (null), range=900, listeners=3
[11:25:04] [ENEMY] [Enemy1] Heard CASING_KICK at (260.5108, 506.9302), intensity=1.00, dist=27
[11:25:04] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[11:25:04] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(260.1377, 507.0063), source=NEUTRAL (null), range=900, listeners=3
[11:25:04] [ENEMY] [Enemy1] Heard CASING_KICK at (260.1377, 507.0063), intensity=1.00, dist=27
[11:25:04] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[11:25:04] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(259.6985, 507.112), source=NEUTRAL (null), range=900, listeners=3
[11:25:04] [ENEMY] [Enemy1] Heard CASING_KICK at (259.6985, 507.112), intensity=1.00, dist=28
[11:25:04] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[11:25:04] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(259.1932, 507.2462), source=NEUTRAL (null), range=900, listeners=3
[11:25:04] [ENEMY] [Enemy1] Heard CASING_KICK at (259.1932, 507.2462), intensity=1.00, dist=29
[11:25:04] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[11:25:04] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(258.6219, 507.4079), source=NEUTRAL (null), range=900, listeners=3
[11:25:04] [ENEMY] [Enemy1] Heard CASING_KICK at (258.6219, 507.4079), intensity=1.00, dist=30
[11:25:04] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[11:25:04] [INFO] [BloodDecal] Blood puddle created at (1211.773, 857.0836) (added to group)
[11:25:04] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(257.9846, 507.5964), source=NEUTRAL (null), range=900, listeners=3
[11:25:04] [ENEMY] [Enemy1] Heard CASING_KICK at (257.9846, 507.5964), intensity=1.00, dist=30
[11:25:04] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[11:25:04] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(257.2813, 507.8108), source=NEUTRAL (null), range=900, listeners=3
[11:25:04] [ENEMY] [Enemy1] Heard CASING_KICK at (257.2813, 507.8108), intensity=1.00, dist=31
[11:25:04] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[11:25:04] [INFO] [Player] Spawning blood effect at (290.3625, 616.37396), dir=(1, 0), lethal=True (C#)
[11:25:04] [INFO] [ImpactEffects] spawn_blood_effect called at (290.3625, 616.374), dir=(1, 0), lethal=true
[11:25:04] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[11:25:04] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[11:25:04] [INFO] [ImpactEffects] Blood effect spawned at (290.3625, 616.374) (scale=1.5)
[11:25:04] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[11:25:04] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[11:25:04] [INFO] [CinemaEffects] Player died - triggering death effects
[11:25:04] [INFO] [CinemaEffects] Death effects triggered - starting cigarette burn, expanding spots, and end of reel (top-right)
[11:25:04] [INFO] [PenultimateHit] Player died - ending penultimate effect
[11:25:04] [INFO] [PenultimateHit] Ending penultimate hit effect
[11:25:04] [INFO] [PenultimateHit] Starting visual effects fade-out over 400ms
[11:25:04] [INFO] [LastChance] Player died
[11:25:04] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(256.5121, 508.0502), source=NEUTRAL (null), range=900, listeners=3
[11:25:04] [ENEMY] [Enemy1] Heard CASING_KICK at (256.5121, 508.0502), intensity=1.00, dist=33
[11:25:04] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[11:25:04] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(255.6771, 508.3139), source=NEUTRAL (null), range=900, listeners=3
[11:25:04] [ENEMY] [Enemy1] Heard CASING_KICK at (255.6771, 508.3139), intensity=1.00, dist=34
[11:25:04] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[11:25:04] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(254.7764, 508.6012), source=NEUTRAL (null), range=900, listeners=3
[11:25:04] [ENEMY] [Enemy1] Heard CASING_KICK at (254.7764, 508.6012), intensity=1.00, dist=38
[11:25:04] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[11:25:04] [INFO] [BloodDecal] Blood puddle created at (1213.231, 837.5748) (added to group)
[11:25:04] [ENEMY] [Enemy1] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=0.0°, current=83.4°, player=(313,616), corner_timer=0.00
[11:25:04] [INFO] [BloodDecal] Blood puddle created at (1281.905, 859.9646) (added to group)
[11:25:04] [INFO] [BloodDecal] Blood puddle created at (1257.087, 794.6627) (added to group)
[11:25:04] [INFO] [BloodDecal] Blood puddle created at (308.176, 618.2502) (added to group)
[11:25:04] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[11:25:04] [ENEMY] [Enemy1] State: RETREATING -> IN_COVER
[11:25:04] [ENEMY] [Enemy3] Ragdoll activated
[11:25:04] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[11:25:04] [INFO] [BloodDecal] Blood puddle created at (1256.217, 884.0341) (added to group)
[11:25:04] [INFO] [BloodDecal] Blood puddle created at (1282.251, 894.9348) (added to group)
[11:25:04] [INFO] [BloodDecal] Blood puddle created at (1256.359, 875.6942) (added to group)
[11:25:04] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[11:25:04] [INFO] [BloodDecal] Blood puddle created at (1234.409, 852.5724) (added to group)
[11:25:04] [INFO] [BloodDecal] Blood puddle created at (1286.786, 875.9614) (added to group)
[11:25:04] [INFO] [BloodDecal] Blood puddle created at (1225.5, 819.3677) (added to group)
[11:25:04] [INFO] [BloodDecal] Blood puddle created at (333.8166, 664.1382) (added to group)
[11:25:04] [INFO] [BloodDecal] Blood puddle created at (1261.569, 900.8303) (added to group)
[11:25:04] [INFO] [BloodDecal] Blood puddle created at (1258.75, 897.5758) (added to group)
[11:25:04] [INFO] [BloodDecal] Blood puddle created at (321.1023, 663.7426) (added to group)
[11:25:04] [INFO] [BloodDecal] Blood puddle created at (1264.256, 815.3452) (added to group)
[11:25:04] [INFO] [BloodDecal] Blood puddle created at (1270.025, 875.999) (added to group)
[11:25:04] [INFO] [BloodDecal] Blood puddle created at (1283.709, 812.0195) (added to group)
[11:25:04] [INFO] [BloodDecal] Blood puddle created at (1273.541, 779.4509) (added to group)
[11:25:04] [INFO] [BloodDecal] Blood puddle created at (1295.513, 909.3174) (added to group)
[11:25:04] [INFO] [BloodDecal] Blood puddle created at (361.1793, 619.0931) (added to group)
[11:25:04] [INFO] [BloodDecal] Blood puddle created at (324.9283, 619.7491) (added to group)
[11:25:04] [INFO] [BloodDecal] Blood puddle created at (380.4734, 625.8295) (added to group)
[11:25:04] [INFO] [BloodDecal] Blood puddle created at (1269.497, 839.1) (added to group)
[11:25:04] [INFO] [BloodDecal] Blood puddle created at (1328.803, 924.5876) (added to group)
[11:25:04] [INFO] [BloodDecal] Blood puddle created at (1336.213, 891.9801) (added to group)
[11:25:04] [INFO] [BloodDecal] Blood puddle created at (1331.725, 878.5783) (added to group)
[11:25:04] [INFO] [BloodDecal] Blood puddle created at (1329.186, 899.8257) (added to group)
[11:25:04] [INFO] [BloodDecal] Blood puddle created at (354.0253, 679.042) (added to group)
[11:25:04] [INFO] [BloodDecal] Blood puddle created at (384.7213, 626.5178) (added to group)
[11:25:04] [INFO] [BloodDecal] Blood puddle created at (397.0391, 783.1194) (added to group)
[11:25:04] [INFO] [BloodDecal] Blood puddle created at (1287.606, 843.9199) (added to group)
[11:25:04] [INFO] [BloodDecal] Blood puddle created at (1361.371, 831.8668) (added to group)
[11:25:04] [INFO] [BloodDecal] Blood puddle created at (1236.662, 849.6799) (added to group)
[11:25:04] [INFO] [BloodDecal] Blood puddle created at (1262.096, 812.475) (added to group)
[11:25:04] [INFO] [BloodDecal] Blood puddle created at (316.807, 634.7413) (added to group)
[11:25:04] [INFO] [BloodDecal] Blood puddle created at (313.8096, 635.337) (added to group)
[11:25:04] [INFO] [BloodDecal] Blood puddle created at (336.2226, 634.985) (added to group)
[11:25:04] [INFO] [BloodDecal] Blood puddle created at (401.8881, 664.6735) (added to group)
[11:25:04] [INFO] [BloodDecal] Blood puddle created at (377.7745, 766.8696) (added to group)
[11:25:04] [INFO] [BloodDecal] Blood puddle created at (402.9937, 774.9601) (added to group)
[11:25:04] [INFO] [BloodDecal] Blood puddle created at (406.7984, 781.3527) (added to group)
[11:25:04] [INFO] [BloodDecal] Blood puddle created at (404.2654, 749.3439) (added to group)
[11:25:04] [INFO] [BloodDecal] Blood puddle created at (420.0686, 763.9855) (added to group)
[11:25:04] [INFO] [BloodDecal] Blood puddle created at (403.2321, 749.2431) (added to group)
[11:25:04] [INFO] [BloodDecal] Blood puddle created at (354.9524, 629.6817) (added to group)
[11:25:04] [INFO] [BloodDecal] Blood puddle created at (362.7733, 650.7108) (added to group)
[11:25:04] [INFO] [BloodDecal] Blood puddle created at (370.9888, 596.0064) (added to group)
[11:25:04] [INFO] [BloodDecal] Blood puddle created at (366.3568, 617.5788) (added to group)
[11:25:04] [INFO] [PenultimateHit] Visual effects fade-out complete
[11:25:04] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[11:25:04] [INFO] [PenultimateHit] Called player RefreshHealthVisual (C#)
[11:25:04] [INFO] [BloodDecal] Blood puddle created at (313.8548, 704.0195) (added to group)
[11:25:04] [INFO] [BloodDecal] Blood puddle created at (409.2412, 655.2699) (added to group)
[11:25:04] [INFO] [BloodDecal] Blood puddle created at (399.7996, 751.5566) (added to group)
[11:25:04] [INFO] [BloodDecal] Blood puddle created at (370.1157, 610.6465) (added to group)
[11:25:04] [INFO] [BloodDecal] Blood puddle created at (403.0043, 671.5696) (added to group)
[11:25:04] [INFO] [BloodDecal] Blood puddle created at (393.2341, 620.6168) (added to group)
[11:25:05] [INFO] [BloodDecal] Blood puddle created at (412.5682, 621.5372) (added to group)
[11:25:05] [INFO] [BloodDecal] Blood puddle created at (415.6443, 666.4416) (added to group)
[11:25:05] [INFO] [BloodDecal] Blood puddle created at (421.5934, 750.302) (added to group)
[11:25:05] [INFO] [BloodDecal] Blood puddle created at (424.1852, 732.0476) (added to group)
[11:25:05] [INFO] [BloodDecal] Blood puddle created at (390.7844, 762.6668) (added to group)
[11:25:05] [INFO] [BloodDecal] Blood puddle created at (400.5556, 768.4014) (added to group)
[11:25:05] [INFO] [BloodDecal] Blood puddle created at (435.5706, 804.3038) (added to group)
[11:25:05] [INFO] [BloodDecal] Blood puddle created at (344.7957, 671.296) (added to group)
[11:25:05] [INFO] [BloodDecal] Blood puddle created at (361.5189, 642.0377) (added to group)
[11:25:05] [ENEMY] [Enemy2] Ragdoll activated
[11:25:05] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[11:25:05] [INFO] [BloodDecal] Blood puddle created at (426.673, 747.993) (added to group)
[11:25:05] [INFO] [BloodDecal] Blood puddle created at (409.5225, 752.3015) (added to group)
[11:25:05] [INFO] [ReplayManager] Recording frame 360 (5,5s): player_valid=True, enemies=5
[11:25:05] [INFO] [BloodDecal] Blood puddle created at (392.5818, 661.5618) (added to group)
[11:25:05] [INFO] [BloodDecal] Blood puddle created at (364.3833, 729.2171) (added to group)
[11:25:05] [INFO] [BloodDecal] Blood puddle created at (419.903, 791.6998) (added to group)
[11:25:05] [INFO] [BloodDecal] Blood puddle created at (405.7265, 738.4814) (added to group)
[11:25:05] [INFO] [BloodDecal] Blood puddle created at (380.5525, 664.5635) (added to group)
[11:25:05] [INFO] [BloodDecal] Blood puddle created at (423.6933, 629.998) (added to group)
[11:25:05] [INFO] [BloodDecal] Blood puddle created at (390.9328, 650.3253) (added to group)
[11:25:05] [INFO] [BloodDecal] Blood puddle created at (444.8083, 634.5812) (added to group)
[11:25:05] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[11:25:05] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:25:05] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[11:25:05] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[11:25:05] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[11:25:05] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[11:25:05] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[11:25:05] [INFO] [LastChance] Resetting all effects (scene change detected)
[11:25:05] [INFO] [CinemaEffects] Scene changed to: LabyrinthLevel
[11:25:05] [INFO] [CinemaEffects] Death effects reset
[11:25:05] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[11:25:05] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[11:25:05] [ENEMY] [Enemy1] Death animation component initialized
[11:25:05] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:25:05] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[11:25:05] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[11:25:05] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[11:25:05] [ENEMY] [Enemy2] Death animation component initialized
[11:25:05] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:25:05] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[11:25:05] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[11:25:05] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[11:25:05] [ENEMY] [Enemy3] Death animation component initialized
[11:25:05] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:25:05] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[11:25:05] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[11:25:05] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[11:25:05] [ENEMY] [Enemy4] Death animation component initialized
[11:25:05] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:25:05] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[11:25:05] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[11:25:05] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[11:25:05] [ENEMY] [Enemy5] Death animation component initialized
[11:25:05] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:25:05] [INFO] [BloodyFeet:Player] Footprint scene loaded
[11:25:05] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[11:25:05] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[11:25:05] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: F-1 Grenade
[11:25:05] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[11:25:05] [INFO] [Player.Weapon] GameManager weapon selection: shotgun (Shotgun)
[11:25:05] [INFO] [Player.Weapon] Removed default MakarovPM
[11:25:05] [INFO] [Player.Weapon] Equipped Shotgun (ammo: 0/8)
[11:25:05] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[11:25:05] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[11:25:05] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[11:25:05] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[11:25:05] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[11:25:05] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[11:25:05] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[11:25:05] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[11:25:05] [INFO] [Player.Homing] No homing bullets selected in ActiveItemManager
[11:25:05] [INFO] [Player.InvisibilitySuit] No invisibility suit selected in ActiveItemManager
[11:25:05] [INFO] [Player.BreakerBullets] Breaker bullets active — bullets will detonate 60px before walls
[11:25:05] [INFO] [Player.BreakerBullets] Set IsBreakerBulletActive on weapon: Shotgun
[11:25:05] [INFO] [Player] Ready! Ammo: 0/8, Grenades: 1/3, Health: 2/4
[11:25:05] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[11:25:05] [INFO] [LabyrinthLevel] Found Environment/Enemies node with 5 children
[11:25:05] [INFO] [LabyrinthLevel] Child 'Enemy1': script=true, has_died_signal=true
[11:25:05] [INFO] [LabyrinthLevel] Child 'Enemy2': script=true, has_died_signal=true
[11:25:05] [INFO] [LabyrinthLevel] Child 'Enemy3': script=true, has_died_signal=true
[11:25:05] [INFO] [LabyrinthLevel] Child 'Enemy4': script=true, has_died_signal=true
[11:25:05] [INFO] [LabyrinthLevel] Child 'Enemy5': script=true, has_died_signal=true
[11:25:05] [INFO] [LabyrinthLevel] Enemy tracking complete: 5 enemies registered
[11:25:05] [INFO] [LabyrinthLevel] Setting up weapon: shotgun
[11:25:05] [INFO] [LabyrinthLevel] Shotgun already equipped by C# Player - skipping GDScript weapon swap
[11:25:05] [INFO] [ScoreManager] Level started with 5 enemies
[11:25:05] [INFO] [LabyrinthLevel] ReplayManager found as C# autoload - verified OK
[11:25:05] [INFO] [LabyrinthLevel] Starting replay recording - Player: Player, Enemies count: 5
[11:25:05] [INFO] [ReplayManager] Replay data cleared
[11:25:05] [INFO] [LabyrinthLevel] Previous replay data cleared
[11:25:05] [INFO] [ReplayManager] Detected player weapon: Shotgun
[11:25:05] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[11:25:05] [INFO] [ReplayManager] Level: LabyrinthLevel
[11:25:05] [INFO] [ReplayManager] Player: Player (valid: True)
[11:25:05] [INFO] [ReplayManager] Enemies count: 5
[11:25:05] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/shotgun_topdown.png
[11:25:05] [INFO] [ReplayManager]   Enemy 0: Enemy1
[11:25:05] [INFO] [ReplayManager]   Enemy 1: Enemy2
[11:25:05] [INFO] [ReplayManager]   Enemy 2: Enemy3
[11:25:05] [INFO] [ReplayManager]   Enemy 3: Enemy4
[11:25:05] [INFO] [ReplayManager]   Enemy 4: Enemy5
[11:25:05] [INFO] [LabyrinthLevel] Replay recording started successfully
[11:25:05] [INFO] [BloodDecal] Blood puddle created at (429.8197, 757.1766) (added to group)
[11:25:05] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[11:25:05] [INFO] [CinemaEffects] Found player node: Player
[11:25:05] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[11:25:05] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 4)
[11:25:05] [ENEMY] [Enemy1] Registered as sound listener
[11:25:05] [ENEMY] [Enemy1] Spawned at (400, 300), hp: 1, behavior: GUARD
[11:25:05] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[11:25:05] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 5)
[11:25:05] [ENEMY] [Enemy2] Registered as sound listener
[11:25:05] [ENEMY] [Enemy2] Spawned at (900, 950), hp: 2, behavior: GUARD
[11:25:05] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[11:25:05] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 6)
[11:25:05] [ENEMY] [Enemy3] Registered as sound listener
[11:25:05] [ENEMY] [Enemy3] Spawned at (1200, 1000), hp: 2, behavior: PATROL
[11:25:05] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[11:25:05] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 7)
[11:25:05] [ENEMY] [Enemy4] Registered as sound listener
[11:25:05] [ENEMY] [Enemy4] Spawned at (1650, 650), hp: 1, behavior: GUARD
[11:25:05] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[11:25:05] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 8)
[11:25:05] [ENEMY] [Enemy5] Registered as sound listener
[11:25:05] [ENEMY] [Enemy5] Spawned at (1500, 300), hp: 3, behavior: GUARD
[11:25:05] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[11:25:05] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=5
[11:25:05] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(150,1000), corner_timer=0.00
[11:25:05] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(150,1000), corner_timer=0.00
[11:25:05] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=315.0°, current=0.0°, player=(150,1000), corner_timer=0.00
[11:25:05] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(150,1000), corner_timer=0.00
[11:25:05] [INFO] [Player] Detecting weapon pose (frame 3)...
[11:25:05] [INFO] [Player] Detected weapon: Shotgun (Shotgun pose)
[11:25:05] [INFO] [Player] Applied Shotgun arm pose: Left=(21, 6), Right=(-1, 6)
[11:25:05] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[11:25:05] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[11:25:05] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[11:25:05] [INFO] [LastChance] Found player: Player
[11:25:05] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[11:25:05] [INFO] [LastChance] Connected to player Damaged signal (C#)
[11:25:05] [INFO] [LastChance] Connected to player Died signal (C#)
[11:25:05] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[11:25:05] [INFO] [BloodDecal] Blood puddle created at (430.9024, 786.4504) (added to group)
[11:25:05] [INFO] [BloodDecal] Blood puddle created at (422.5498, 771.7728) (added to group)
[11:25:05] [INFO] [BloodDecal] Blood puddle created at (399.5704, 690.9786) (added to group)
[11:25:06] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=5
[11:25:06] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=169.0°, current=-168.8°, player=(212,1083), corner_timer=0.00
[11:25:06] [ENEMY] [Enemy2] State: IDLE -> COMBAT
[11:25:06] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=168.3°, current=-5.9°, player=(212,1094), corner_timer=0.00
[11:25:06] [ENEMY] [Enemy1] Player ammo empty: false -> true
[11:25:06] [ENEMY] [Enemy2] Player ammo empty: false -> true
[11:25:06] [ENEMY] [Enemy3] Player ammo empty: false -> true
[11:25:06] [ENEMY] [Enemy4] Player ammo empty: false -> true
[11:25:06] [ENEMY] [Enemy5] Player ammo empty: false -> true
[11:25:06] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(224.4104, 1111.933), source=PLAYER (Player), range=600, listeners=8
[11:25:06] [INFO] [SoundPropagation] Cleaned up 3 invalid listeners
[11:25:06] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[11:25:06] [INFO] [Shotgun.FIX#212] Firing 13 pellets with 15° spread at pos=(224.41039, 1111.9332)
[11:25:06] [INFO] [Shotgun.FIX#212] Normal pellet 1/13: extraOffset=12,5, distance=64,5px, pos=(285.89194, 1092.531)
[11:25:06] [INFO] [Shotgun.FIX#212] Normal pellet 2/13: extraOffset=-14,1, distance=37,9px, pos=(260.8798, 1101.6405)
[11:25:06] [INFO] [Shotgun.FIX#212] Normal pellet 3/13: extraOffset=-6,8, distance=45,2px, pos=(268.33313, 1101.1481)
[11:25:06] [INFO] [Shotgun.FIX#212] Normal pellet 4/13: extraOffset=6,2, distance=58,2px, pos=(281.23486, 1099.4336)
[11:25:06] [INFO] [Shotgun.FIX#212] Normal pellet 5/13: extraOffset=10,0, distance=62,0px, pos=(285.05884, 1099.2058)
[11:25:06] [INFO] [Shotgun.FIX#212] Normal pellet 6/13: extraOffset=10,8, distance=62,8px, pos=(285.78604, 1098.8551)
[11:25:06] [INFO] [Shotgun.FIX#212] Normal pellet 7/13: extraOffset=-12,6, distance=39,4px, pos=(263.24527, 1105.3987)
[11:25:06] [INFO] [Shotgun.FIX#212] Normal pellet 8/13: extraOffset=7,1, distance=59,1px, pos=(283.04053, 1104.4115)
[11:25:06] [INFO] [Shotgun.FIX#212] Normal pellet 9/13: extraOffset=1,8, distance=53,8px, pos=(277.90506, 1106.0574)
[11:25:06] [INFO] [Shotgun.FIX#212] Normal pellet 10/13: extraOffset=-3,1, distance=48,9px, pos=(273.10852, 1106.9934)
[11:25:06] [INFO] [Shotgun.FIX#212] Normal pellet 11/13: extraOffset=-2,2, distance=49,8px, pos=(274.10187, 1108.6484)
[11:25:06] [INFO] [Shotgun.FIX#212] Normal pellet 12/13: extraOffset=-6,8, distance=45,2px, pos=(269.51367, 1108.8776)
[11:25:06] [INFO] [Shotgun.FIX#212] Normal pellet 13/13: extraOffset=-11,7, distance=40,3px, pos=(264.7171, 1110.5607)
[11:25:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(224.4104, 1111.933), source=PLAYER (Shotgun), range=1469, listeners=5
[11:25:06] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=3
[11:25:06] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=831), can_see=false
[11:25:06] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=651), can_see=false
[11:25:06] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=982), can_see=false
[11:25:06] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1499), can_see=false
[11:25:06] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1512), can_see=false
[11:25:06] [ENEMY] [Enemy3] Memory: high confidence (0.88) - transitioning to PURSUING
[11:25:06] [ENEMY] [Enemy3] State: IDLE -> PURSUING
[11:25:06] [ENEMY] [Enemy3] ROT_CHANGE: none -> P2:combat_state, state=PURSUING, target=173.4°, current=0.0°, player=(232,1111), corner_timer=0.00
[11:25:06] [ENEMY] [Enemy3] PURSUING corner check: angle -64.3°
[11:25:06] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=173.2°, current=-148.6°, player=(238,1111), corner_timer=0.30
[11:25:06] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) - pursuing to attack (dist=964)
[11:25:06] [INFO] [ImpactEffects] Spawning explosion visual effect at (762.7123, 942.0564) (radius=15) - using shadow-based wall occlusion
[11:25:06] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(762.7123, 942.0564), source=PLAYER (ShotgunPellet), range=500, listeners=5
[11:25:06] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=0
[11:25:06] [INFO] [ImpactEffects] Spawning explosion visual effect at (742.0822, 965.8304) (radius=15) - using shadow-based wall occlusion
[11:25:06] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(742.0822, 965.8304), source=PLAYER (@Area2D@6394), range=500, listeners=5
[11:25:06] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=0
[11:25:06] [ENEMY] [Enemy2] Hit: dmg=1, hp=2/2->1/2
[11:25:06] [INFO] [ImpactEffects] spawn_blood_effect called at (790.7747, 938.688), dir=(0.97199, -0.23502), lethal=false
[11:25:06] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[11:25:06] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[11:25:06] [INFO] [ImpactEffects] Wall found for blood splatter at (868.064, 920) (dist=79 px)
[11:25:06] [INFO] [BloodDecal] Blood puddle created at (868.064, 921) (added to group)
[11:25:06] [INFO] [ImpactEffects] Blood effect spawned at (790.7747, 938.688) (scale=1)
[11:25:06] [ENEMY] [Enemy2] Hit: dmg=1, hp=1/2->0/2
[11:25:06] [INFO] [ImpactEffects] spawn_blood_effect called at (790.7747, 938.688), dir=(0.793657, -0.608366), lethal=true
[11:25:06] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[11:25:06] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[11:25:06] [INFO] [ImpactEffects] Wall found for blood splatter at (850, 893.2897) (dist=74 px)
[11:25:06] [INFO] [BloodDecal] Blood puddle created at (849, 893.2897) (added to group)
[11:25:06] [INFO] [ImpactEffects] Blood effect spawned at (790.7747, 938.688) (scale=1.5)
[11:25:06] [ENEMY] [Enemy2] Enemy died (ricochet: false, penetration: false)
[11:25:06] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[11:25:06] [ENEMY] [Enemy2] [AllyDeath] Notified 1 enemies
[11:25:06] [INFO] [SoundPropagation] Unregistered listener: Enemy2 (remaining: 4)
[11:25:06] [INFO] [DeathAnim] Started - Angle: -37.5 deg, Index: 9
[11:25:06] [ENEMY] [Enemy2] Death animation started with hit direction: (0.793657, -0.608366)
[11:25:07] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[11:25:07] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[11:25:07] [INFO] [Player.Grenade] G pressed - starting grab animation
[11:25:07] [INFO] [ImpactEffects] Spawning explosion visual effect at (1085.026, 967.1204) (radius=15) - using shadow-based wall occlusion
[11:25:07] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1085.026, 967.1204), source=PLAYER (@Area2D@6399), range=500, listeners=4
[11:25:07] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=0
[11:25:07] [ENEMY] [Enemy3] State: PURSUING -> COMBAT
[11:25:07] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[11:25:07] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (724.1173, 1008.3086)
[11:25:07] [ENEMY] [Enemy3] Hit: dmg=1, hp=2/2->1/2
[11:25:07] [INFO] [ImpactEffects] spawn_blood_effect called at (1118.314, 960.6564), dir=(0.98349, 0.180965), lethal=false
[11:25:07] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[11:25:07] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[11:25:07] [INFO] [ImpactEffects] Blood effect spawned at (1118.314, 960.6564) (scale=1)
[11:25:07] [ENEMY] [Enemy3] Hit: dmg=1, hp=1/2->0/2
[11:25:07] [INFO] [ImpactEffects] spawn_blood_effect called at (1118.314, 960.6564), dir=(0.984683, 0.174353), lethal=true
[11:25:07] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[11:25:07] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[11:25:07] [INFO] [ImpactEffects] Blood effect spawned at (1118.314, 960.6564) (scale=1.5)
[11:25:07] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[11:25:07] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[11:25:07] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 3)
[11:25:07] [INFO] [DeathAnim] Started - Angle: 10.0 deg, Index: 12
[11:25:07] [ENEMY] [Enemy3] Death animation started with hit direction: (0.984683, 0.174353)
[11:25:07] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=NeedsPumpUp, ReloadState=NotReloading
[11:25:07] [INFO] [Shotgun.FIX#445] dragStartPos=(726, 1009), aimDir=(0,98, -0,21)
[11:25:07] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[11:25:07] [INFO] [GrenadeBase] CCD enabled (mode: CAST_RAY) to prevent wall tunneling
[11:25:07] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[11:25:07] [INFO] [DefensiveGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[11:25:07] [INFO] [GrenadeTimer] Initialized for Flashbang grenade, effect radius: 700
[11:25:07] [INFO] [Player.Grenade] Added GrenadeTimer component (type: Flashbang)
[11:25:07] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[11:25:07] [INFO] [GrenadeTimer] Timer activated! 4 seconds until explosion
[11:25:07] [INFO] [Player.Grenade] Timer started, grenade created at (249.48691, 1111.9242)
[11:25:07] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[11:25:07] [INFO] [Player.Grenade] Step 1 complete! Drag: (431.6676, 0.80578613)
[11:25:07] [INFO] [Shotgun.FIX#243] RMB released after 1 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[11:25:07] [INFO] [Shotgun.FIX#445v7] ProcessDragGesture - dragVector=(505,2, 0,6), length=505,2, ActionState=NeedsPumpUp
[11:25:07] [INFO] [Shotgun.FIX#445v7] Pump drag not vertical: absY=0,6 <= absX=505,2
[11:25:07] [INFO] [ImpactEffects] Spawning explosion visual effect at (1379.968, 857.7465) (radius=15) - using shadow-based wall occlusion
[11:25:07] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1379.968, 857.7465), source=PLAYER (@Area2D@6396), range=500, listeners=3
[11:25:07] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[11:25:07] [INFO] [ImpactEffects] Spawning explosion visual effect at (1386.077, 868.1513) (radius=15) - using shadow-based wall occlusion
[11:25:07] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1386.077, 868.1513), source=PLAYER (@Area2D@6397), range=500, listeners=3
[11:25:07] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[11:25:07] [INFO] [ImpactEffects] Spawning explosion visual effect at (1386.084, 864.4014) (radius=15) - using shadow-based wall occlusion
[11:25:07] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1386.084, 864.4014), source=PLAYER (@Area2D@6398), range=500, listeners=3
[11:25:07] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[11:25:07] [INFO] [ImpactEffects] Spawning explosion visual effect at (1398.896, 961.2574) (radius=15) - using shadow-based wall occlusion
[11:25:07] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1398.896, 961.2574), source=PLAYER (@Area2D@6400), range=500, listeners=3
[11:25:07] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[11:25:07] [INFO] [ImpactEffects] Spawning explosion visual effect at (1396.18, 983.2264) (radius=15) - using shadow-based wall occlusion
[11:25:07] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1396.18, 983.2264), source=PLAYER (@Area2D@6401), range=500, listeners=3
[11:25:07] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[11:25:07] [INFO] [ImpactEffects] Spawning explosion visual effect at (1392.366, 993.4596) (radius=15) - using shadow-based wall occlusion
[11:25:07] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1392.366, 993.4596), source=PLAYER (@Area2D@6402), range=500, listeners=3
[11:25:07] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[11:25:07] [INFO] [ImpactEffects] Spawning explosion visual effect at (1396.652, 1034.445) (radius=15) - using shadow-based wall occlusion
[11:25:07] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1396.652, 1034.445), source=PLAYER (@Area2D@6403), range=500, listeners=3
[11:25:07] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[11:25:07] [INFO] [ImpactEffects] Spawning explosion visual effect at (1391.941, 1032.835) (radius=15) - using shadow-based wall occlusion
[11:25:07] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1391.941, 1032.835), source=PLAYER (@Area2D@6404), range=500, listeners=3
[11:25:07] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[11:25:07] [INFO] [ImpactEffects] Spawning explosion visual effect at (1389.066, 1072.276) (radius=15) - using shadow-based wall occlusion
[11:25:07] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1389.066, 1072.276), source=PLAYER (@Area2D@6405), range=500, listeners=3
[11:25:07] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[11:25:07] [INFO] [ImpactEffects] Spawning explosion visual effect at (1401.343, 822.9391) (radius=15) - using shadow-based wall occlusion
[11:25:07] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1401.343, 822.9391), source=PLAYER (@Area2D@6395), range=500, listeners=3
[11:25:07] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[11:25:07] [INFO] [BloodDecal] Blood puddle created at (857.8471, 926.033) (added to group)
[11:25:07] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[11:25:07] [INFO] [Player.Grenade.Simple] RMB pressed after pin pull - starting trajectory aiming
[11:25:07] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=5
[11:25:07] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=826), can_see=false
[11:25:07] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1475), can_see=false
[11:25:07] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1491), can_see=false
[11:25:07] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=NeedsPumpUp, ReloadState=NotReloading
[11:25:07] [INFO] [Shotgun.FIX#445] dragStartPos=(1260, 1015), aimDir=(1,00, -0,10)
[11:25:07] [INFO] [BloodDecal] Blood puddle created at (846.264, 942.3771) (added to group)
[11:25:07] [INFO] [BloodDecal] Blood puddle created at (846.8906, 933.8616) (added to group)
[11:25:07] [INFO] [BloodDecal] Blood puddle created at (841.1655, 912.4271) (added to group)
[11:25:07] [INFO] [BloodDecal] Blood puddle created at (823.5897, 920.1538) (added to group)
[11:25:07] [INFO] [BloodDecal] Blood puddle created at (834.4293, 919.613) (added to group)
[11:25:07] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[11:25:07] [INFO] [BloodDecal] Blood puddle created at (930.8646, 945.6561) (added to group)
[11:25:07] [INFO] [BloodDecal] Blood puddle created at (924.093, 930.6373) (added to group)
[11:25:07] [INFO] [BloodDecal] Blood puddle created at (884.1879, 923.2607) (added to group)
[11:25:07] [INFO] [BloodDecal] Blood puddle created at (1192.551, 1019.472) (added to group)
[11:25:07] [INFO] [BloodDecal] Blood puddle created at (1172.667, 998.058) (added to group)
[11:25:07] [INFO] [BloodDecal] Blood puddle created at (1183.31, 1019.123) (added to group)
[11:25:07] [INFO] [BloodDecal] Blood puddle created at (1194.657, 974.0192) (added to group)
[11:25:07] [INFO] [BloodDecal] Blood puddle created at (1175.262, 977.0774) (added to group)
[11:25:07] [INFO] [BloodDecal] Blood puddle created at (1216.84, 1002.321) (added to group)
[11:25:07] [INFO] [BloodDecal] Blood puddle created at (1201.589, 960.5454) (added to group)
[11:25:07] [INFO] [BloodDecal] Blood puddle created at (1165.955, 993.0165) (added to group)
[11:25:07] [ENEMY] [Enemy2] Ragdoll activated
[11:25:07] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[11:25:07] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[11:25:07] [INFO] [BloodDecal] Blood puddle created at (927.0918, 963.4819) (added to group)
[11:25:07] [INFO] [BloodDecal] Blood puddle created at (864.3448, 957.6955) (added to group)
[11:25:07] [INFO] [BloodDecal] Blood puddle created at (904.452, 954.9973) (added to group)
[11:25:07] [INFO] [BloodDecal] Blood puddle created at (1216.167, 1002.092) (added to group)
[11:25:07] [INFO] [BloodDecal] Blood puddle created at (1186.981, 976.5761) (added to group)
[11:25:07] [ENEMY] [Enemy3] Ragdoll activated
[11:25:07] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[11:25:07] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[11:25:07] [INFO] [BloodDecal] Blood puddle created at (935.9149, 1032.059) (added to group)
[11:25:07] [INFO] [BloodDecal] Blood puddle created at (875.6526, 992.3021) (added to group)
[11:25:07] [INFO] [BloodDecal] Blood puddle created at (889.208, 967.4156) (added to group)
[11:25:07] [INFO] [BloodDecal] Blood puddle created at (918.4476, 991.4032) (added to group)
[11:25:07] [INFO] [BloodDecal] Blood puddle created at (905.7112, 960.9509) (added to group)
[11:25:07] [INFO] [BloodDecal] Blood puddle created at (1219.77, 1068.83) (added to group)
[11:25:07] [INFO] [BloodDecal] Blood puddle created at (1222.536, 1084.271) (added to group)
[11:25:07] [INFO] [BloodDecal] Blood puddle created at (1216.229, 1043.8) (added to group)
[11:25:07] [INFO] [BloodDecal] Blood puddle created at (901.6687, 924.6899) (added to group)
[11:25:07] [INFO] [BloodDecal] Blood puddle created at (892.8198, 973.511) (added to group)
[11:25:07] [INFO] [BloodDecal] Blood puddle created at (1217.933, 1087.813) (added to group)
[11:25:07] [INFO] [BloodDecal] Blood puddle created at (1217.402, 1030.592) (added to group)
[11:25:07] [INFO] [BloodDecal] Blood puddle created at (1252.293, 1075.701) (added to group)
[11:25:07] [INFO] [BloodDecal] Blood puddle created at (955.8751, 1015.261) (added to group)
[11:25:07] [INFO] [BloodDecal] Blood puddle created at (1273.571, 1072.66) (added to group)
[11:25:07] [INFO] [BloodDecal] Blood puddle created at (1266.641, 1022.746) (added to group)
[11:25:07] [INFO] [BloodDecal] Blood puddle created at (1000.544, 999.7119) (added to group)
[11:25:07] [INFO] [BloodDecal] Blood puddle created at (1231.148, 1024.688) (added to group)
[11:25:07] [INFO] [BloodDecal] Blood puddle created at (1262.139, 1039.469) (added to group)
[11:25:07] [INFO] [BloodDecal] Blood puddle created at (1263.563, 1088.746) (added to group)
[11:25:07] [INFO] [BloodDecal] Blood puddle created at (1231.967, 1046.527) (added to group)
[11:25:07] [INFO] [BloodDecal] Blood puddle created at (1240.948, 1109.892) (added to group)
[11:25:07] [INFO] [BloodDecal] Blood puddle created at (1288.97, 1114.747) (added to group)
[11:25:07] [INFO] [BloodDecal] Blood puddle created at (1237.067, 1046.328) (added to group)
[11:25:07] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=855), can_see=false
[11:25:07] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1586), can_see=false
[11:25:07] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1590), can_see=false
[11:25:07] [INFO] [BloodDecal] Blood puddle created at (1276.469, 1112.855) (added to group)
[11:25:08] [INFO] [SoundPropagation] Sound emitted: type=GRENADE_LANDING, pos=(64.011, 1111.998), source=NEUTRAL (DefensiveGrenade), range=112, listeners=3
[11:25:08] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=0
[11:25:08] [INFO] [GrenadeBase] Grenade landed at (64.011, 1111.998)
[11:25:08] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=5
[11:25:08] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=876), can_see=false
[11:25:08] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1651), can_see=false
[11:25:08] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1648), can_see=false
[11:25:08] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[11:25:08] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:25:08] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[11:25:08] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[11:25:08] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[11:25:08] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[11:25:08] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[11:25:08] [INFO] [LastChance] Resetting all effects (scene change detected)
[11:25:08] [INFO] [CinemaEffects] Scene changed to: LabyrinthLevel
[11:25:08] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[11:25:08] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[11:25:08] [ENEMY] [Enemy1] Death animation component initialized
[11:25:08] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:25:08] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[11:25:08] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[11:25:08] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[11:25:08] [ENEMY] [Enemy2] Death animation component initialized
[11:25:08] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:25:08] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[11:25:08] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[11:25:08] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[11:25:08] [ENEMY] [Enemy3] Death animation component initialized
[11:25:08] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:25:08] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[11:25:08] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[11:25:08] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[11:25:08] [ENEMY] [Enemy4] Death animation component initialized
[11:25:08] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:25:08] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[11:25:08] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[11:25:08] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[11:25:08] [INFO] [EnemyGrenade] Initialized: 1 grenades
[11:25:08] [ENEMY] [Enemy5] Death animation component initialized
[11:25:08] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:25:08] [INFO] [BloodyFeet:Player] Footprint scene loaded
[11:25:08] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[11:25:08] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[11:25:08] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: F-1 Grenade
[11:25:08] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[11:25:08] [INFO] [Player.Weapon] GameManager weapon selection: shotgun (Shotgun)
[11:25:08] [INFO] [Player.Weapon] Removed default MakarovPM
[11:25:08] [INFO] [Player.Weapon] Equipped Shotgun (ammo: 0/8)
[11:25:08] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[11:25:08] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[11:25:08] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[11:25:08] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[11:25:08] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[11:25:08] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[11:25:08] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[11:25:08] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[11:25:08] [INFO] [Player.Homing] No homing bullets selected in ActiveItemManager
[11:25:08] [INFO] [Player.InvisibilitySuit] No invisibility suit selected in ActiveItemManager
[11:25:08] [INFO] [Player.BreakerBullets] Breaker bullets active — bullets will detonate 60px before walls
[11:25:08] [INFO] [Player.BreakerBullets] Set IsBreakerBulletActive on weapon: Shotgun
[11:25:08] [INFO] [Player] Ready! Ammo: 0/8, Grenades: 1/3, Health: 2/4
[11:25:08] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[11:25:08] [INFO] [LabyrinthLevel] Found Environment/Enemies node with 5 children
[11:25:08] [INFO] [LabyrinthLevel] Child 'Enemy1': script=true, has_died_signal=true
[11:25:08] [INFO] [LabyrinthLevel] Child 'Enemy2': script=true, has_died_signal=true
[11:25:08] [INFO] [LabyrinthLevel] Child 'Enemy3': script=true, has_died_signal=true
[11:25:08] [INFO] [LabyrinthLevel] Child 'Enemy4': script=true, has_died_signal=true
[11:25:08] [INFO] [LabyrinthLevel] Child 'Enemy5': script=true, has_died_signal=true
[11:25:08] [INFO] [LabyrinthLevel] Enemy tracking complete: 5 enemies registered
[11:25:08] [INFO] [LabyrinthLevel] Setting up weapon: shotgun
[11:25:08] [INFO] [LabyrinthLevel] Shotgun already equipped by C# Player - skipping GDScript weapon swap
[11:25:08] [INFO] [ScoreManager] Level started with 5 enemies
[11:25:08] [INFO] [LabyrinthLevel] ReplayManager found as C# autoload - verified OK
[11:25:08] [INFO] [LabyrinthLevel] Starting replay recording - Player: Player, Enemies count: 5
[11:25:08] [INFO] [ReplayManager] Replay data cleared
[11:25:08] [INFO] [LabyrinthLevel] Previous replay data cleared
[11:25:08] [INFO] [ReplayManager] Detected player weapon: Shotgun
[11:25:08] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[11:25:08] [INFO] [ReplayManager] Level: LabyrinthLevel
[11:25:08] [INFO] [ReplayManager] Player: Player (valid: True)
[11:25:08] [INFO] [ReplayManager] Enemies count: 5
[11:25:08] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/shotgun_topdown.png
[11:25:08] [INFO] [ReplayManager]   Enemy 0: Enemy1
[11:25:08] [INFO] [ReplayManager]   Enemy 1: Enemy2
[11:25:08] [INFO] [ReplayManager]   Enemy 2: Enemy3
[11:25:08] [INFO] [ReplayManager]   Enemy 3: Enemy4
[11:25:08] [INFO] [ReplayManager]   Enemy 4: Enemy5
[11:25:08] [INFO] [LabyrinthLevel] Replay recording started successfully
[11:25:08] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[11:25:08] [INFO] [CinemaEffects] Found player node: Player
[11:25:08] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[11:25:08] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 4)
[11:25:08] [ENEMY] [Enemy1] Registered as sound listener
[11:25:08] [ENEMY] [Enemy1] Spawned at (400, 300), hp: 2, behavior: GUARD
[11:25:08] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[11:25:08] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 5)
[11:25:08] [ENEMY] [Enemy2] Registered as sound listener
[11:25:08] [ENEMY] [Enemy2] Spawned at (900, 950), hp: 2, behavior: GUARD
[11:25:08] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[11:25:08] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 6)
[11:25:08] [ENEMY] [Enemy3] Registered as sound listener
[11:25:08] [ENEMY] [Enemy3] Spawned at (1200, 1000), hp: 2, behavior: PATROL
[11:25:08] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[11:25:08] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 7)
[11:25:08] [ENEMY] [Enemy4] Registered as sound listener
[11:25:08] [ENEMY] [Enemy4] Spawned at (1650, 650), hp: 2, behavior: GUARD
[11:25:08] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[11:25:08] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 8)
[11:25:08] [ENEMY] [Enemy5] Registered as sound listener
[11:25:08] [ENEMY] [Enemy5] Spawned at (1500, 300), hp: 3, behavior: GUARD
[11:25:08] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[11:25:08] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=5
[11:25:08] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(150,1000), corner_timer=0.00
[11:25:08] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(150,1000), corner_timer=0.00
[11:25:08] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=315.0°, current=0.0°, player=(150,1000), corner_timer=0.00
[11:25:08] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=236.3°, current=0.0°, player=(150,1000), corner_timer=0.00
[11:25:08] [INFO] [Player] Detecting weapon pose (frame 3)...
[11:25:08] [INFO] [Player] Detected weapon: Shotgun (Shotgun pose)
[11:25:08] [INFO] [Player] Applied Shotgun arm pose: Left=(21, 6), Right=(-1, 6)
[11:25:08] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[11:25:08] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[11:25:08] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[11:25:08] [INFO] [LastChance] Found player: Player
[11:25:08] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[11:25:08] [INFO] [LastChance] Connected to player Damaged signal (C#)
[11:25:08] [INFO] [LastChance] Connected to player Died signal (C#)
[11:25:08] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[11:25:09] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[11:25:09] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[11:25:09] [INFO] [Player.Grenade] G pressed - starting grab animation
[11:25:09] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[11:25:09] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (914.4894, 969.94434)
[11:25:09] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=Ready, ReloadState=NotReloading
[11:25:09] [INFO] [Shotgun.FIX#445] dragStartPos=(914, 971), aimDir=(1,00, -0,04)
[11:25:09] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[11:25:09] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[11:25:09] [INFO] [GrenadeBase] CCD enabled (mode: CAST_RAY) to prevent wall tunneling
[11:25:09] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[11:25:09] [INFO] [DefensiveGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[11:25:09] [INFO] [GrenadeTimer] Initialized for Flashbang grenade, effect radius: 700
[11:25:09] [INFO] [Player.Grenade] Added GrenadeTimer component (type: Flashbang)
[11:25:09] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[11:25:09] [INFO] [GrenadeTimer] Timer activated! 4 seconds until explosion
[11:25:09] [INFO] [Player.Grenade] Timer started, grenade created at (150, 1000)
[11:25:09] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[11:25:09] [INFO] [Player.Grenade] Step 1 complete! Drag: (64.405396, 0.6679077)
[11:25:09] [INFO] [Shotgun.FIX#243] RMB released after 2 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[11:25:09] [INFO] [Shotgun.FIX#445v7] ProcessDragGesture - dragVector=(65,0, 0,0), length=65,0, ActionState=Ready
[11:25:09] [INFO] [Shotgun.FIX#445v7] Pump drag not vertical: absY=0,0 <= absX=65,0
[11:25:09] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=5
[11:25:09] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[11:25:09] [INFO] [Player.Grenade.Simple] RMB pressed after pin pull - starting trajectory aiming
[11:25:09] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=Ready, ReloadState=NotReloading
[11:25:09] [INFO] [Shotgun.FIX#445] dragStartPos=(1177, 981), aimDir=(1,00, -0,02)
[11:25:09] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[11:25:09] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[11:25:09] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[11:25:10] [ENEMY] [Enemy3] PATROL corner check: angle -90.0°
[11:25:10] [ENEMY] [Enemy3] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-90.0°, current=0.0°, player=(150,1000), corner_timer=0.30
[11:25:10] [ENEMY] [Enemy3] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=0.0°, current=-54.4°, player=(150,1000), corner_timer=-0.02
[11:25:10] [ENEMY] [Enemy3] PATROL corner check: angle -90.0°
[11:25:10] [ENEMY] [Enemy3] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=-51.6°, player=(150,1000), corner_timer=0.30
[11:25:10] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=5
[11:25:11] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=5
[11:25:11] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=169.1°, current=-168.8°, player=(150,1094), corner_timer=0.00
[11:25:11] [ENEMY] [Enemy2] State: IDLE -> COMBAT
[11:25:11] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=168.4°, current=-5.8°, player=(150,1105), corner_timer=0.00
[11:25:11] [INFO] [Shotgun.FIX#445v7] TryProcessMidDragGesture - dragVector=(-16,8, 29,6), length=34,0, isDragUp=False, isDragDown=True, ActionState=Ready
[11:25:11] [INFO] [SoundPropagation] Sound emitted: type=GRENADE_LANDING, pos=(150, 1111.999), source=NEUTRAL (DefensiveGrenade), range=112, listeners=8
[11:25:11] [INFO] [SoundPropagation] Cleaned up 3 invalid listeners
[11:25:11] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[11:25:11] [INFO] [GrenadeBase] Grenade landed at (150, 1111.999)
[11:25:11] [INFO] [Player.Grenade.Simple] Throwing! Target: (1153.7367, 1008.93604), Distance: 949,0, Speed: 754,6, Friction: 300,0
[11:25:11] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,10232108
[11:25:11] [INFO] [GrenadeTimer] Grenade marked as thrown - impact detection enabled
[11:25:11] [INFO] [Player.Grenade.Simple] C# set velocity directly: dir=(0.99476975, -0.10214263), speed=754,6, spawn=(209.68619, 1105.8708)
[11:25:11] [INFO] [GrenadeBase] Simple mode throw! Dir: (0.99477, -0.102143), Speed: 754.6 (clamped from 754.6, max: 1000.0)
[11:25:11] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[11:25:11] [INFO] [Player.Grenade.Simple] Grenade thrown!
[11:25:11] [INFO] [Player.Grenade] State reset to IDLE
[11:25:11] [INFO] [Player.Grenade] State reset to IDLE
[11:25:11] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[11:25:11] [INFO] [Shotgun.FIX#243] RMB released after 134 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[11:25:11] [INFO] [Shotgun.FIX#445v7] ProcessDragGesture - dragVector=(-23,5, 29,7), length=37,9, ActionState=Ready
[11:25:11] [INFO] [Shotgun.FIX#445v7] Screen-based pump gesture: isDragUp=False, isDragDown=True
[11:25:12] [INFO] [Player.Grenade] Player rotation restored to 0
[11:25:12] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[11:25:12] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[11:25:12] [ENEMY] [Enemy3] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=52.8°, player=(150,1111), corner_timer=-0.02
[11:25:12] [ENEMY] [Enemy3] PATROL corner check: angle -90.0°
[11:25:12] [ENEMY] [Enemy3] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=55.6°, player=(150,1111), corner_timer=0.30
[11:25:12] [ENEMY] [Enemy2] GRENADE DANGER: Entering EVADING_GRENADE state from PURSUING
[11:25:12] [ENEMY] [Enemy2] EVADING_GRENADE started: escaping to (336.6098, 886.1985)
[11:25:12] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P4:velocity, state=EVADING_GRENADE, target=159.1°, current=100.9°, player=(150,1102), corner_timer=0.00
[11:25:12] [INFO] [ReplayManager] Recording frame 240 (4,0s): player_valid=True, enemies=5
[11:25:12] [ENEMY] [Enemy3] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.2°, player=(148,1051), corner_timer=-0.02
[11:25:12] [ENEMY] [Enemy3] PATROL corner check: angle -90.0°
[11:25:12] [ENEMY] [Enemy3] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=-90.0°, current=4.1°, player=(146,1046), corner_timer=0.30
[11:25:13] [ENEMY] [Enemy2] ROT_CHANGE: P4:velocity -> P1:visible, state=EVADING_GRENADE, target=-154.7°, current=159.1°, player=(95,947), corner_timer=0.00
[11:25:13] [ENEMY] [Enemy2] EVADING_GRENADE: Escaped to safe distance
[11:25:13] [ENEMY] [Enemy2] State: EVADING_GRENADE -> PURSUING
[11:25:13] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=PURSUING, target=-139.2°, current=-145.8°, player=(95,848), corner_timer=0.00
[11:25:13] [INFO] [GrenadeBase] EXPLODED at (1046.265, 1019.971)!
[11:25:13] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1046.265, 1019.971), source=NEUTRAL (DefensiveGrenade), range=2937, listeners=5
[11:25:13] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=4
[11:25:13] [ENEMY] [Enemy2] Hit: dmg=1, hp=2/2->1/2
[11:25:13] [INFO] [ImpactEffects] spawn_blood_effect called at (369.0275, 1084.288), dir=(-0.995521, 0.094544), lethal=false
[11:25:13] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[11:25:13] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[11:25:13] [INFO] [ImpactEffects] Blood effect spawned at (369.0275, 1084.288) (scale=1)
[11:25:13] [ENEMY] [Enemy2] Hit: dmg=1, hp=1/2->0/2
[11:25:13] [INFO] [ImpactEffects] spawn_blood_effect called at (369.0275, 1084.288), dir=(-0.995521, 0.094544), lethal=true
[11:25:13] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[11:25:13] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[11:25:13] [INFO] [ImpactEffects] Blood effect spawned at (369.0275, 1084.288) (scale=1.5)
[11:25:13] [ENEMY] [Enemy2] Enemy died (ricochet: false, penetration: false)
[11:25:13] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[11:25:13] [INFO] [SoundPropagation] Unregistered listener: Enemy2 (remaining: 4)
[11:25:13] [INFO] [DeathAnim] Started - Angle: 174.6 deg, Index: 23
[11:25:13] [ENEMY] [Enemy2] Death animation started with hit direction: (-0.995521, 0.094544)
[11:25:13] [INFO] [DefensiveGrenade] Applied 99 HE damage to enemy at distance 680.3
[11:25:13] [ENEMY] [Enemy3] Hit: dmg=1, hp=2/2->1/2
[11:25:13] [INFO] [ImpactEffects] spawn_blood_effect called at (1104.668, 1000), dir=(0.946208, -0.323558), lethal=false
[11:25:13] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[11:25:13] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[11:25:13] [INFO] [ImpactEffects] Blood effect spawned at (1104.668, 1000) (scale=1)
[11:25:13] [ENEMY] [Enemy3] Hit: dmg=1, hp=1/2->0/2
[11:25:13] [INFO] [ImpactEffects] spawn_blood_effect called at (1104.668, 1000), dir=(0.946208, -0.323558), lethal=true
[11:25:13] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[11:25:13] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[11:25:13] [INFO] [ImpactEffects] Blood effect spawned at (1104.668, 1000) (scale=1.5)
[11:25:13] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[11:25:13] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[11:25:13] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 3)
[11:25:13] [INFO] [DeathAnim] Started - Angle: -18.9 deg, Index: 10
[11:25:13] [ENEMY] [Enemy3] Death animation started with hit direction: (0.946208, -0.323558)
[11:25:13] [INFO] [DefensiveGrenade] Applied 99 HE damage to enemy at distance 61.7
[11:25:13] [INFO] [DefensiveGrenade] Spawned shrapnel #1 at angle 8.1 degrees
[11:25:13] [INFO] [DefensiveGrenade] Spawned shrapnel #2 at angle -1.1 degrees
[11:25:13] [INFO] [DefensiveGrenade] Spawned shrapnel #3 at angle 16.1 degrees
[11:25:13] [INFO] [DefensiveGrenade] Spawned shrapnel #4 at angle 21.0 degrees
[11:25:13] [INFO] [DefensiveGrenade] Spawned shrapnel #5 at angle 38.9 degrees
[11:25:13] [INFO] [DefensiveGrenade] Spawned shrapnel #6 at angle 59.5 degrees
[11:25:13] [INFO] [DefensiveGrenade] Spawned shrapnel #7 at angle 53.0 degrees
[11:25:13] [INFO] [DefensiveGrenade] Spawned shrapnel #8 at angle 62.6 degrees
[11:25:13] [INFO] [DefensiveGrenade] Spawned shrapnel #9 at angle 80.1 degrees
[11:25:13] [INFO] [DefensiveGrenade] Spawned shrapnel #10 at angle 72.0 degrees
[11:25:13] [INFO] [DefensiveGrenade] Spawned shrapnel #11 at angle 99.8 degrees
[11:25:13] [INFO] [DefensiveGrenade] Spawned shrapnel #12 at angle 103.4 degrees
[11:25:13] [INFO] [DefensiveGrenade] Spawned shrapnel #13 at angle 105.2 degrees
[11:25:13] [INFO] [DefensiveGrenade] Spawned shrapnel #14 at angle 114.3 degrees
[11:25:13] [INFO] [DefensiveGrenade] Spawned shrapnel #15 at angle 129.3 degrees
[11:25:13] [INFO] [DefensiveGrenade] Spawned shrapnel #16 at angle 141.9 degrees
[11:25:13] [INFO] [DefensiveGrenade] Spawned shrapnel #17 at angle 145.2 degrees
[11:25:13] [INFO] [DefensiveGrenade] Spawned shrapnel #18 at angle 160.4 degrees
[11:25:13] [INFO] [DefensiveGrenade] Spawned shrapnel #19 at angle 153.4 degrees
[11:25:13] [INFO] [DefensiveGrenade] Spawned shrapnel #20 at angle 169.6 degrees
[11:25:13] [INFO] [DefensiveGrenade] Spawned shrapnel #21 at angle 188.5 degrees
[11:25:13] [INFO] [DefensiveGrenade] Spawned shrapnel #22 at angle 181.4 degrees
[11:25:13] [INFO] [DefensiveGrenade] Spawned shrapnel #23 at angle 188.4 degrees
[11:25:13] [INFO] [DefensiveGrenade] Spawned shrapnel #24 at angle 219.9 degrees
[11:25:13] [INFO] [DefensiveGrenade] Spawned shrapnel #25 at angle 202.3 degrees
[11:25:13] [INFO] [DefensiveGrenade] Spawned shrapnel #26 at angle 213.9 degrees
[11:25:13] [INFO] [DefensiveGrenade] Spawned shrapnel #27 at angle 219.0 degrees
[11:25:13] [INFO] [DefensiveGrenade] Spawned shrapnel #28 at angle 232.4 degrees
[11:25:13] [INFO] [DefensiveGrenade] Spawned shrapnel #29 at angle 256.8 degrees
[11:25:13] [INFO] [DefensiveGrenade] Spawned shrapnel #30 at angle 268.7 degrees
[11:25:13] [INFO] [DefensiveGrenade] Spawned shrapnel #31 at angle 271.4 degrees
[11:25:13] [INFO] [DefensiveGrenade] Spawned shrapnel #32 at angle 264.7 degrees
[11:25:13] [INFO] [DefensiveGrenade] Spawned shrapnel #33 at angle 275.5 degrees
[11:25:13] [INFO] [DefensiveGrenade] Spawned shrapnel #34 at angle 296.7 degrees
[11:25:13] [INFO] [DefensiveGrenade] Spawned shrapnel #35 at angle 310.1 degrees
[11:25:13] [INFO] [DefensiveGrenade] Spawned shrapnel #36 at angle 319.0 degrees
[11:25:13] [INFO] [DefensiveGrenade] Spawned shrapnel #37 at angle 321.8 degrees
[11:25:13] [INFO] [DefensiveGrenade] Spawned shrapnel #38 at angle 329.9 degrees
[11:25:13] [INFO] [DefensiveGrenade] Spawned shrapnel #39 at angle 350.1 degrees
[11:25:13] [INFO] [DefensiveGrenade] Spawned shrapnel #40 at angle 345.7 degrees
[11:25:13] [INFO] [ImpactEffects] Spawning explosion visual effect at (1046.265, 1019.971) (radius=700) - using shadow-based wall occlusion
[11:25:13] [INFO] [GrenadeTimer] Timer expired for Flashbang grenade!
[11:25:13] [INFO] [GrenadeTimer] Flashbang grenade activated at (1046.2649, 1019.97095)!
[11:25:13] [INFO] [GrenadeTimer] Applying flashbang effects (radius: 700, blindness: 12s, stun: 6s)
[11:25:13] [INFO] [FlashbangStatus] Flashbang: blind=0.3s, stun=0.2s
[11:25:13] [INFO] [FlashbangStatus] Status: BLINDED applied
[11:25:13] [INFO] [FlashbangStatus] Status: STUNNED applied
[11:25:13] [INFO] [GrenadeTimer] Applied flashbang to enemy at distance 680,3 (intensity: 0,03)
[11:25:13] [INFO] [FlashbangStatus] Flashbang: blind=10.9s, stun=5.5s
[11:25:13] [INFO] [FlashbangStatus] Status: BLINDED applied
[11:25:13] [INFO] [FlashbangStatus] Status: STUNNED applied
[11:25:13] [INFO] [GrenadeTimer] Applied flashbang to enemy at distance 61,7 (intensity: 0,91)
[11:25:13] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1046.265, 1019.971), source=NEUTRAL (DefensiveGrenade), range=2938, listeners=3
[11:25:13] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=3
[11:25:13] [INFO] [GrenadeTimer] Spawned shadow-enabled flashbang effect at (1046.2649, 1019.97095) (radius: 700)
[11:25:13] [INFO] [ReplayManager] Recording frame 300 (5,0s): player_valid=True, enemies=5
[11:25:14] [INFO] [BloodDecal] Blood puddle created at (287.4312, 1124.722) (added to group)
[11:25:14] [INFO] [BloodDecal] Blood puddle created at (276.2964, 1091.611) (added to group)
[11:25:14] [INFO] [BloodDecal] Blood puddle created at (1168.207, 1013.348) (added to group)
[11:25:14] [INFO] [BloodDecal] Blood puddle created at (1183.483, 1010.415) (added to group)
[11:25:14] [INFO] [BloodDecal] Blood puddle created at (1161.935, 971.6398) (added to group)
[11:25:14] [INFO] [BloodDecal] Blood puddle created at (1168.411, 1029.483) (added to group)
[11:25:14] [INFO] [BloodDecal] Blood puddle created at (1150.009, 1013.242) (added to group)
[11:25:14] [INFO] [BloodDecal] Blood puddle created at (1165.717, 969.4721) (added to group)
[11:25:14] [INFO] [BloodDecal] Blood puddle created at (1157.476, 1017.46) (added to group)
[11:25:14] [INFO] [BloodDecal] Blood puddle created at (243.775, 1105.124) (added to group)
[11:25:14] [INFO] [BloodDecal] Blood puddle created at (220.954, 1098.834) (added to group)
[11:25:14] [INFO] [BloodDecal] Blood puddle created at (271.7688, 1091.535) (added to group)
[11:25:14] [INFO] [BloodDecal] Blood puddle created at (1178.531, 1006.628) (added to group)
[11:25:14] [INFO] [BloodDecal] Blood puddle created at (1168.875, 1013.35) (added to group)
[11:25:14] [INFO] [BloodDecal] Blood puddle created at (1189.935, 1008.24) (added to group)
[11:25:14] [INFO] [BloodDecal] Blood puddle created at (1210.128, 1049.086) (added to group)
[11:25:14] [INFO] [BloodDecal] Blood puddle created at (1159.574, 985.6845) (added to group)
[11:25:14] [INFO] [BloodDecal] Blood puddle created at (1214.329, 1041.717) (added to group)
[11:25:14] [INFO] [BloodDecal] Blood puddle created at (1205.494, 1026.236) (added to group)
[11:25:14] [INFO] [BloodDecal] Blood puddle created at (1152.838, 995.3221) (added to group)
[11:25:14] [INFO] [BloodDecal] Blood puddle created at (1201.426, 981.6541) (added to group)
[11:25:14] [ENEMY] [Enemy2] Ragdoll activated
[11:25:14] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[11:25:14] [ENEMY] [Enemy3] Ragdoll activated
[11:25:14] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[11:25:14] [INFO] [BloodDecal] Blood puddle created at (194.9702, 1096.125) (added to group)
[11:25:14] [INFO] [BloodDecal] Blood puddle created at (219.7232, 1101.475) (added to group)
[11:25:14] [INFO] [BloodDecal] Blood puddle created at (237.5507, 1125.719) (added to group)
[11:25:14] [INFO] [BloodDecal] Blood puddle created at (210.269, 1126.439) (added to group)
[11:25:14] [INFO] [BloodDecal] Blood puddle created at (1220.256, 1067.509) (added to group)
[11:25:14] [INFO] [BloodDecal] Blood puddle created at (1220.542, 1019.616) (added to group)
[11:25:14] [INFO] [BloodDecal] Blood puddle created at (1255.585, 1051.468) (added to group)
[11:25:14] [INFO] [BloodDecal] Blood puddle created at (1196.96, 994.3918) (added to group)
[11:25:14] [INFO] [BloodDecal] Blood puddle created at (1220.985, 1004.656) (added to group)
[11:25:14] [INFO] [BloodDecal] Blood puddle created at (1197.798, 1007.777) (added to group)
[11:25:14] [INFO] [BloodDecal] Blood puddle created at (204.1364, 1124.96) (added to group)
[11:25:14] [INFO] [BloodDecal] Blood puddle created at (1300.344, 1099.275) (added to group)
[11:25:14] [INFO] [BloodDecal] Blood puddle created at (1281.575, 1034.871) (added to group)
[11:25:14] [INFO] [BloodDecal] Blood puddle created at (1209.275, 1035.565) (added to group)
[11:25:14] [INFO] [BloodDecal] Blood puddle created at (1248.226, 1091.156) (added to group)
[11:25:14] [INFO] [BloodDecal] Blood puddle created at (1226.02, 1010.665) (added to group)
[11:25:14] [INFO] [BloodDecal] Blood puddle created at (1255.795, 1030.543) (added to group)
[11:25:14] [INFO] [BloodDecal] Blood puddle created at (1235.567, 1047.439) (added to group)
[11:25:14] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=141.7°, current=-168.8°, player=(100,536), corner_timer=0.00
[11:25:14] [ENEMY] [Enemy1] State: IDLE -> COMBAT
[11:25:14] [ENEMY] [Enemy1] State: COMBAT -> RETREATING
[11:25:14] [ENEMY] [Enemy1] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=-90.0°, current=-153.5°, player=(100,520), corner_timer=0.00
[11:25:14] [INFO] [BloodDecal] Blood puddle created at (1302.567, 1093.323) (added to group)
[11:25:14] [INFO] [ReplayManager] Recording frame 360 (6,0s): player_valid=True, enemies=5
[11:25:14] [ENEMY] [Enemy1] Player ammo empty: false -> true
[11:25:14] [ENEMY] [Enemy2] Player ammo empty: false -> true
[11:25:14] [ENEMY] [Enemy3] Player ammo empty: false -> true
[11:25:14] [ENEMY] [Enemy4] Player ammo empty: false -> true
[11:25:14] [ENEMY] [Enemy5] Player ammo empty: false -> true
[11:25:14] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(100.1274, 432.2957), source=PLAYER (Player), range=600, listeners=3
[11:25:14] [ENEMY] [Enemy1] Heard player EMPTY_CLICK at (100.1274, 432.2957), intensity=0.02, distance=358
[11:25:14] [ENEMY] [Enemy1] Vulnerability sound triggered pursuit - transitioning from RETREATING to PURSUING
[11:25:14] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[11:25:14] [INFO] [Shotgun.FIX#212] Firing 11 pellets with 15° spread at pos=(100.12738, 432.29572)
[11:25:14] [INFO] [Shotgun.FIX#212] Normal pellet 1/11: extraOffset=-11,9, distance=40,1px, pos=(137.16728, 416.85394)
[11:25:14] [INFO] [Shotgun.FIX#212] Normal pellet 2/11: extraOffset=-8,0, distance=44,0px, pos=(141.18721, 416.44537)
[11:25:14] [INFO] [Shotgun.FIX#212] Normal pellet 3/11: extraOffset=9,0, distance=61,0px, pos=(158.31601, 414.088)
[11:25:14] [INFO] [Shotgun.FIX#212] Normal pellet 4/11: extraOffset=14,7, distance=66,7px, pos=(163.5756, 411.58893)
[11:25:14] [INFO] [Shotgun.FIX#212] Normal pellet 5/11: extraOffset=-13,5, distance=38,5px, pos=(136.99492, 421.0317)
[11:25:14] [INFO] [Shotgun.FIX#212] Normal pellet 6/11: extraOffset=-2,7, distance=49,3px, pos=(147.73682, 419.62552)
[11:25:14] [INFO] [Shotgun.FIX#212] Normal pellet 7/11: extraOffset=11,5, distance=63,5px, pos=(161.97556, 417.80524)
[11:25:14] [INFO] [Shotgun.FIX#212] Normal pellet 8/11: extraOffset=-3,0, distance=49,0px, pos=(148.34178, 423.6909)
[11:25:14] [INFO] [Shotgun.FIX#212] Normal pellet 9/11: extraOffset=-3,2, distance=48,8px, pos=(148.23236, 424.25186)
[11:25:14] [INFO] [Shotgun.FIX#212] Normal pellet 10/11: extraOffset=-4,2, distance=47,8px, pos=(147.26898, 424.44925)
[11:25:14] [INFO] [Shotgun.FIX#212] Normal pellet 11/11: extraOffset=12,3, distance=64,3px, pos=(163.99963, 425.08344)
[11:25:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(100.1274, 432.2957), source=PLAYER (Shotgun), range=1469, listeners=3
[11:25:14] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=1
[11:25:14] [ENEMY] [Enemy1] ROT_CHANGE: P4:velocity -> P2:combat_state, state=PURSUING, target=146.9°, current=-59.4°, player=(100,432), corner_timer=0.00
[11:25:14] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=358), can_see=false
[11:25:14] [ENEMY] [Enemy1] Pursuing vulnerability sound at (100.1274, 432.2957), distance=358
[11:25:14] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1565), can_see=false
[11:25:14] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1406), can_see=false
[11:25:14] [INFO] [ImpactEffects] Spawning explosion visual effect at (469.8583, 333.8999) (radius=15) - using shadow-based wall occlusion
[11:25:14] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(469.8583, 333.8999), source=PLAYER (@Area2D@7173), range=500, listeners=3
[11:25:14] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[11:25:14] [INFO] [ImpactEffects] Spawning explosion visual effect at (486.5204, 341.7672) (radius=15) - using shadow-based wall occlusion
[11:25:14] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(486.5204, 341.7672), source=PLAYER (@Area2D@7174), range=500, listeners=3
[11:25:14] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[11:25:14] [INFO] [ImpactEffects] Spawning explosion visual effect at (476.4902, 365.1264) (radius=15) - using shadow-based wall occlusion
[11:25:14] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(476.4902, 365.1264), source=PLAYER (@Area2D@7175), range=500, listeners=3
[11:25:14] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[11:25:14] [INFO] [ImpactEffects] Spawning explosion visual effect at (477.0012, 369.277) (radius=15) - using shadow-based wall occlusion
[11:25:14] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(477.0012, 369.277), source=PLAYER (@Area2D@7176), range=500, listeners=3
[11:25:14] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[11:25:14] [INFO] [ImpactEffects] Spawning explosion visual effect at (476.0788, 369.7207) (radius=15) - using shadow-based wall occlusion
[11:25:14] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(476.0788, 369.7207), source=PLAYER (@Area2D@7177), range=500, listeners=3
[11:25:14] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[11:25:14] [INFO] [ImpactEffects] Spawning explosion visual effect at (536.6317, 383.0069) (radius=15) - using shadow-based wall occlusion
[11:25:14] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(536.6317, 383.0069), source=PLAYER (@Area2D@7178), range=500, listeners=3
[11:25:14] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[11:25:15] [INFO] [ImpactEffects] Spawning explosion visual effect at (685.3806, 206.3702) (radius=15) - using shadow-based wall occlusion
[11:25:15] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(685.3806, 206.3702), source=PLAYER (@Area2D@7169), range=500, listeners=3
[11:25:15] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[11:25:15] [INFO] [ImpactEffects] Spawning explosion visual effect at (715.0313, 239.8874) (radius=15) - using shadow-based wall occlusion
[11:25:15] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(715.0313, 239.8874), source=PLAYER (@Area2D@7170), range=500, listeners=3
[11:25:15] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[11:25:15] [INFO] [ImpactEffects] Spawning explosion visual effect at (718.1239, 230.6083) (radius=15) - using shadow-based wall occlusion
[11:25:15] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(718.1239, 230.6083), source=PLAYER (@Area2D@7171), range=500, listeners=3
[11:25:15] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[11:25:15] [INFO] [ImpactEffects] Spawning explosion visual effect at (694.8713, 250.5857) (radius=15) - using shadow-based wall occlusion
[11:25:15] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(694.8713, 250.5857), source=PLAYER (@Area2D@7172), range=500, listeners=3
[11:25:15] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[11:25:15] [INFO] [ImpactEffects] Spawning explosion visual effect at (714.0436, 176.3568) (radius=15) - using shadow-based wall occlusion
[11:25:15] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(714.0436, 176.3568), source=PLAYER (ShotgunPellet), range=500, listeners=3
[11:25:15] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[11:25:15] [ENEMY] [Enemy2] Death animation completed
[11:25:15] [ENEMY] [Enemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-174.1°, current=-151.5°, player=(100,272), corner_timer=0.00
[11:25:15] [ENEMY] [Enemy1] Player empty ammo - priority attack triggered
[11:25:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(256.883, 288.8581), source=ENEMY (Enemy1), range=1469, listeners=3
[11:25:15] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=2
[11:25:15] [INFO] [LastChance] Threat detected: Bullet
[11:25:15] [INFO] [LastChance] Not in hard mode - effect disabled
[11:25:15] [INFO] [LastChance] Cannot trigger effect - conditions not met
[11:25:15] [ENEMY] [Enemy1] State: PURSUING -> COMBAT
[11:25:15] [ENEMY] [Enemy1] State: COMBAT -> RETREATING
[11:25:15] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1598), can_see=false
[11:25:15] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1400), can_see=false
[11:25:15] [ENEMY] [Enemy1] Player empty ammo - priority attack triggered
[11:25:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(256.3136, 289.8212), source=ENEMY (Enemy1), range=1469, listeners=3
[11:25:15] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=2
[11:25:15] [INFO] [LastChance] Threat detected: Bullet
[11:25:15] [INFO] [LastChance] Not in hard mode - effect disabled
[11:25:15] [INFO] [LastChance] Cannot trigger effect - conditions not met
[11:25:15] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(246.3961, 270.1624), source=NEUTRAL (null), range=900, listeners=3
[11:25:15] [ENEMY] [Enemy1] Heard CASING_KICK at (246.3961, 270.1624), intensity=1.00, dist=21
[11:25:15] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[11:25:15] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(246.3158, 267.9973), source=NEUTRAL (null), range=900, listeners=3
[11:25:15] [ENEMY] [Enemy1] Heard CASING_KICK at (246.3158, 267.9973), intensity=1.00, dist=23
[11:25:15] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[11:25:15] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(245.6825, 265.5071), source=NEUTRAL (null), range=900, listeners=3
[11:25:15] [ENEMY] [Enemy1] Heard CASING_KICK at (245.6825, 265.5071), intensity=1.00, dist=26
[11:25:15] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[11:25:15] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(244.4915, 262.7548), source=NEUTRAL (null), range=900, listeners=3
[11:25:15] [ENEMY] [Enemy1] Heard CASING_KICK at (244.4915, 262.7548), intensity=1.00, dist=30
[11:25:15] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[11:25:15] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(190.0062, 274.52658), shooter_id=1286174935188, bullet_pos=(33.38659, 217.53464)
[11:25:15] [INFO] [Bullet] Using shooter_position, distance=166,66667
[11:25:15] [INFO] [Bullet] Distance to wall: 166,66667 (11,34864% of viewport)
[11:25:15] [INFO] [Bullet] Within ricochet range - trying ricochet first
[11:25:15] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(242.7471, 259.7935), source=NEUTRAL (null), range=900, listeners=3
[11:25:15] [ENEMY] [Enemy1] Heard CASING_KICK at (242.7471, 259.7935), intensity=1.00, dist=34
[11:25:15] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[11:25:15] [INFO] [Player] Spawning blood effect at (100.12738, 195.79572), dir=(1, 0), lethal=False (C#)
[11:25:15] [INFO] [ImpactEffects] spawn_blood_effect called at (100.1274, 195.7957), dir=(1, 0), lethal=false
[11:25:15] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[11:25:15] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[11:25:15] [INFO] [ImpactEffects] Blood effect spawned at (100.1274, 195.7957) (scale=1)
[11:25:15] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[11:25:15] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[11:25:15] [INFO] [PenultimateHit] Starting penultimate hit effect:
[11:25:15] [INFO] [PenultimateHit]   - Time scale: 0.10
[11:25:15] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[11:25:15] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[11:25:15] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[11:25:15] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[11:25:15] [INFO] [PenultimateHit] Applying saturation to 5 enemies
[11:25:15] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[11:25:15] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[11:25:15] [ENEMY] [Enemy1] Player empty ammo - priority attack triggered
[11:25:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(275.9742, 272.6045), source=ENEMY (Enemy1), range=1469, listeners=3
[11:25:15] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=2
[11:25:15] [ENEMY] [Enemy3] Death animation completed
[11:25:15] [INFO] [LastChance] Threat detected: @Area2D@7424
[11:25:15] [INFO] [LastChance] Not in hard mode - effect disabled
[11:25:15] [INFO] [LastChance] Cannot trigger effect - conditions not met
[11:25:15] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(245.2356, 271.8208), source=NEUTRAL (null), range=900, listeners=3
[11:25:15] [ENEMY] [Enemy1] Heard CASING_KICK at (245.2356, 271.8208), intensity=1.00, dist=34
[11:25:15] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[11:25:15] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(245.1923, 271.6945), source=NEUTRAL (null), range=900, listeners=3
[11:25:15] [ENEMY] [Enemy1] Heard CASING_KICK at (245.1923, 271.6945), intensity=1.00, dist=35
[11:25:15] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[11:25:16] [INFO] [ReplayManager] Recording frame 420 (6,8s): player_valid=True, enemies=5
[11:25:16] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1619), can_see=false
[11:25:16] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1405), can_see=false
[11:25:16] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[11:25:16] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:25:16] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[11:25:16] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[11:25:16] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[11:25:16] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[11:25:16] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[11:25:16] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[11:25:16] [INFO] [LastChance] Resetting all effects (scene change detected)
[11:25:16] [INFO] [CinemaEffects] Scene changed to: LabyrinthLevel
[11:25:16] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[11:25:16] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[11:25:16] [ENEMY] [Enemy1] Death animation component initialized
[11:25:16] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:25:16] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[11:25:16] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[11:25:16] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[11:25:16] [ENEMY] [Enemy2] Death animation component initialized
[11:25:16] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:25:16] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[11:25:16] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[11:25:16] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[11:25:16] [ENEMY] [Enemy3] Death animation component initialized
[11:25:16] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:25:16] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[11:25:16] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[11:25:16] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[11:25:16] [ENEMY] [Enemy4] Death animation component initialized
[11:25:16] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:25:16] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[11:25:16] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[11:25:16] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[11:25:16] [ENEMY] [Enemy5] Death animation component initialized
[11:25:16] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:25:16] [INFO] [BloodyFeet:Player] Footprint scene loaded
[11:25:16] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[11:25:16] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[11:25:16] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: F-1 Grenade
[11:25:16] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[11:25:16] [INFO] [Player.Weapon] GameManager weapon selection: shotgun (Shotgun)
[11:25:16] [INFO] [Player.Weapon] Removed default MakarovPM
[11:25:16] [INFO] [Player.Weapon] Equipped Shotgun (ammo: 0/8)
[11:25:16] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[11:25:16] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[11:25:16] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[11:25:16] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[11:25:16] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[11:25:16] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[11:25:16] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[11:25:16] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[11:25:16] [INFO] [Player.Homing] No homing bullets selected in ActiveItemManager
[11:25:16] [INFO] [Player.InvisibilitySuit] No invisibility suit selected in ActiveItemManager
[11:25:16] [INFO] [Player.BreakerBullets] Breaker bullets active — bullets will detonate 60px before walls
[11:25:16] [INFO] [Player.BreakerBullets] Set IsBreakerBulletActive on weapon: Shotgun
[11:25:16] [INFO] [Player] Ready! Ammo: 0/8, Grenades: 1/3, Health: 3/4
[11:25:16] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[11:25:16] [INFO] [LabyrinthLevel] Found Environment/Enemies node with 5 children
[11:25:16] [INFO] [LabyrinthLevel] Child 'Enemy1': script=true, has_died_signal=true
[11:25:16] [INFO] [LabyrinthLevel] Child 'Enemy2': script=true, has_died_signal=true
[11:25:16] [INFO] [LabyrinthLevel] Child 'Enemy3': script=true, has_died_signal=true
[11:25:16] [INFO] [LabyrinthLevel] Child 'Enemy4': script=true, has_died_signal=true
[11:25:16] [INFO] [LabyrinthLevel] Child 'Enemy5': script=true, has_died_signal=true
[11:25:16] [INFO] [LabyrinthLevel] Enemy tracking complete: 5 enemies registered
[11:25:16] [INFO] [LabyrinthLevel] Setting up weapon: shotgun
[11:25:16] [INFO] [LabyrinthLevel] Shotgun already equipped by C# Player - skipping GDScript weapon swap
[11:25:16] [INFO] [ScoreManager] Level started with 5 enemies
[11:25:16] [INFO] [LabyrinthLevel] ReplayManager found as C# autoload - verified OK
[11:25:16] [INFO] [LabyrinthLevel] Starting replay recording - Player: Player, Enemies count: 5
[11:25:16] [INFO] [ReplayManager] Replay data cleared
[11:25:16] [INFO] [LabyrinthLevel] Previous replay data cleared
[11:25:16] [INFO] [ReplayManager] Detected player weapon: Shotgun
[11:25:16] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[11:25:16] [INFO] [ReplayManager] Level: LabyrinthLevel
[11:25:16] [INFO] [ReplayManager] Player: Player (valid: True)
[11:25:16] [INFO] [ReplayManager] Enemies count: 5
[11:25:16] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/shotgun_topdown.png
[11:25:16] [INFO] [ReplayManager]   Enemy 0: Enemy1
[11:25:16] [INFO] [ReplayManager]   Enemy 1: Enemy2
[11:25:16] [INFO] [ReplayManager]   Enemy 2: Enemy3
[11:25:16] [INFO] [ReplayManager]   Enemy 3: Enemy4
[11:25:16] [INFO] [ReplayManager]   Enemy 4: Enemy5
[11:25:16] [INFO] [LabyrinthLevel] Replay recording started successfully
[11:25:16] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[11:25:16] [INFO] [CinemaEffects] Found player node: Player
[11:25:16] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[11:25:16] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 4)
[11:25:16] [ENEMY] [Enemy1] Registered as sound listener
[11:25:16] [ENEMY] [Enemy1] Spawned at (400, 300), hp: 2, behavior: GUARD
[11:25:16] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[11:25:16] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 5)
[11:25:16] [ENEMY] [Enemy2] Registered as sound listener
[11:25:16] [ENEMY] [Enemy2] Spawned at (900, 950), hp: 2, behavior: GUARD
[11:25:16] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[11:25:16] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 6)
[11:25:16] [ENEMY] [Enemy3] Registered as sound listener
[11:25:16] [ENEMY] [Enemy3] Spawned at (1200, 1000), hp: 2, behavior: PATROL
[11:25:16] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[11:25:16] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 7)
[11:25:16] [ENEMY] [Enemy4] Registered as sound listener
[11:25:16] [ENEMY] [Enemy4] Spawned at (1650, 650), hp: 2, behavior: GUARD
[11:25:16] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[11:25:16] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 8)
[11:25:16] [ENEMY] [Enemy5] Registered as sound listener
[11:25:16] [ENEMY] [Enemy5] Spawned at (1500, 300), hp: 4, behavior: GUARD
[11:25:16] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[11:25:16] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=5
[11:25:16] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(150,1000), corner_timer=0.00
[11:25:16] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(150,1000), corner_timer=0.00
[11:25:16] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(150,1000), corner_timer=0.00
[11:25:16] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=236.3°, current=0.0°, player=(150,1000), corner_timer=0.00
[11:25:16] [INFO] [Player] Detecting weapon pose (frame 3)...
[11:25:16] [INFO] [Player] Detected weapon: Shotgun (Shotgun pose)
[11:25:16] [INFO] [Player] Applied Shotgun arm pose: Left=(21, 6), Right=(-1, 6)
[11:25:16] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[11:25:16] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[11:25:16] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[11:25:16] [INFO] [LastChance] Found player: Player
[11:25:16] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[11:25:16] [INFO] [LastChance] Connected to player Damaged signal (C#)
[11:25:16] [INFO] [LastChance] Connected to player Died signal (C#)
[11:25:16] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[11:25:16] [INFO] [BloodDecal] Blood puddle created at (137.3676, 206.6417) (added to group)
[11:25:16] [INFO] [BloodDecal] Blood puddle created at (166.1943, 247.0725) (added to group)
[11:25:16] [INFO] [BloodDecal] Blood puddle created at (171.8897, 247.7146) (added to group)
[11:25:16] [INFO] [BloodDecal] Blood puddle created at (247.3554, 241.0367) (added to group)
[11:25:16] [INFO] [BloodDecal] Blood puddle created at (176.146, 266.2944) (added to group)
[11:25:16] [INFO] [BloodDecal] Blood puddle created at (197.1979, 253.4722) (added to group)
[11:25:16] [INFO] [BloodDecal] Blood puddle created at (307.8713, 288.26) (added to group)
[11:25:16] [INFO] [BloodDecal] Blood puddle created at (282.9482, 309.382) (added to group)
[11:25:16] [INFO] [BloodDecal] Blood puddle created at (214.5005, 266.6039) (added to group)
[11:25:17] [ENEMY] [Enemy1] Player ammo empty: false -> true
[11:25:17] [ENEMY] [Enemy2] Player ammo empty: false -> true
[11:25:17] [ENEMY] [Enemy3] Player ammo empty: false -> true
[11:25:17] [ENEMY] [Enemy4] Player ammo empty: false -> true
[11:25:17] [ENEMY] [Enemy5] Player ammo empty: false -> true
[11:25:17] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(150, 1056.333), source=PLAYER (Player), range=600, listeners=8
[11:25:17] [INFO] [SoundPropagation] Cleaned up 3 invalid listeners
[11:25:17] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[11:25:17] [INFO] [Shotgun.FIX#212] Firing 15 pellets with 15° spread at pos=(150, 1056.3334)
[11:25:17] [INFO] [Shotgun.FIX#212] Normal pellet 1/15: extraOffset=-8,8, distance=43,2px, pos=(193.22002, 1055.4395)
[11:25:17] [INFO] [Shotgun.FIX#212] Normal pellet 2/15: extraOffset=0,7, distance=52,7px, pos=(202.6902, 1054.6562)
[11:25:17] [INFO] [Shotgun.FIX#212] Normal pellet 3/15: extraOffset=-11,9, distance=40,1px, pos=(190.03592, 1055.1458)
[11:25:17] [INFO] [Shotgun.FIX#212] Normal pellet 4/15: extraOffset=0,5, distance=52,5px, pos=(202.53493, 1056.9512)
[11:25:17] [INFO] [Shotgun.FIX#212] Normal pellet 5/15: extraOffset=2,0, distance=54,0px, pos=(203.98477, 1056.8472)
[11:25:17] [INFO] [Shotgun.FIX#212] Normal pellet 6/15: extraOffset=6,0, distance=58,0px, pos=(207.932, 1059.8097)
[11:25:17] [INFO] [Shotgun.FIX#212] Normal pellet 7/15: extraOffset=12,8, distance=64,8px, pos=(214.6541, 1060.7008)
[11:25:17] [INFO] [Shotgun.FIX#212] Normal pellet 8/15: extraOffset=11,1, distance=63,1px, pos=(212.73495, 1062.8832)
[11:25:17] [INFO] [Shotgun.FIX#212] Normal pellet 9/15: extraOffset=6,6, distance=58,6px, pos=(208.16785, 1063.6753)
[11:25:17] [INFO] [Shotgun.FIX#212] Normal pellet 10/15: extraOffset=5,5, distance=57,5px, pos=(206.96924, 1063.9719)
[11:25:17] [INFO] [Shotgun.FIX#212] Normal pellet 11/15: extraOffset=-9,9, distance=42,1px, pos=(191.61594, 1062.4204)
[11:25:17] [INFO] [Shotgun.FIX#212] Normal pellet 12/15: extraOffset=-0,7, distance=51,3px, pos=(200.50044, 1065.1859)
[11:25:17] [INFO] [Shotgun.FIX#212] Normal pellet 13/15: extraOffset=-12,1, distance=39,9px, pos=(189.31863, 1062.9694)
[11:25:17] [INFO] [Shotgun.FIX#212] Normal pellet 14/15: extraOffset=0,2, distance=52,2px, pos=(201.03625, 1067.4004)
[11:25:17] [INFO] [Shotgun.FIX#212] Normal pellet 15/15: extraOffset=-0,9, distance=51,1px, pos=(199.84969, 1067.6586)
[11:25:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 1056.333), source=PLAYER (Shotgun), range=1469, listeners=5
[11:25:17] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=3
[11:25:17] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=797), can_see=false
[11:25:17] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=758), can_see=false
[11:25:17] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1052), can_see=false
[11:25:17] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1554), can_see=false
[11:25:17] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1547), can_see=false
[11:25:17] [INFO] [ImpactEffects] Spawning explosion visual effect at (285.9814, 1052.005) (radius=15) - using shadow-based wall occlusion
[11:25:17] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(285.9814, 1052.005), source=PLAYER (@Area2D@7567), range=500, listeners=5
[11:25:17] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[11:25:17] [INFO] [ImpactEffects] Spawning explosion visual effect at (285.8625, 1057.931) (radius=15) - using shadow-based wall occlusion
[11:25:17] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(285.8625, 1057.931), source=PLAYER (@Area2D@7569), range=500, listeners=5
[11:25:17] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[11:25:17] [INFO] [ImpactEffects] Spawning explosion visual effect at (287.3143, 1057.64) (radius=15) - using shadow-based wall occlusion
[11:25:17] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(287.3143, 1057.64), source=PLAYER (@Area2D@7570), range=500, listeners=5
[11:25:17] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[11:25:17] [INFO] [ImpactEffects] Spawning explosion visual effect at (318.1933, 1052.855) (radius=15) - using shadow-based wall occlusion
[11:25:17] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(318.1933, 1052.855), source=PLAYER (ShotgunPellet), range=500, listeners=5
[11:25:17] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[11:25:17] [INFO] [ImpactEffects] Spawning explosion visual effect at (314.981, 1051.439) (radius=15) - using shadow-based wall occlusion
[11:25:17] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(314.981, 1051.439), source=PLAYER (@Area2D@7568), range=500, listeners=5
[11:25:17] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[11:25:17] [INFO] [ImpactEffects] Spawning explosion visual effect at (445.358, 1120.381) (radius=15) - using shadow-based wall occlusion
[11:25:17] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(445.358, 1120.381), source=PLAYER (@Area2D@7579), range=500, listeners=5
[11:25:17] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=0, below_threshold=0
[11:25:17] [INFO] [ImpactEffects] Spawning explosion visual effect at (443.6375, 1123.044) (radius=15) - using shadow-based wall occlusion
[11:25:17] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(443.6375, 1123.044), source=PLAYER (@Area2D@7580), range=500, listeners=5
[11:25:17] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=0, below_threshold=0
[11:25:17] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=5
[11:25:17] [INFO] [ImpactEffects] Spawning explosion visual effect at (528.8274, 1122.741) (radius=15) - using shadow-based wall occlusion
[11:25:17] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(528.8274, 1122.741), source=PLAYER (@Area2D@7577), range=500, listeners=5
[11:25:17] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=0, below_threshold=0
[11:25:17] [INFO] [ImpactEffects] Spawning explosion visual effect at (518.0037, 1118.443) (radius=15) - using shadow-based wall occlusion
[11:25:17] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(518.0037, 1118.443), source=PLAYER (@Area2D@7578), range=500, listeners=5
[11:25:17] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=0, below_threshold=0
[11:25:17] [INFO] [ImpactEffects] Spawning explosion visual effect at (603.8956, 1122.724) (radius=15) - using shadow-based wall occlusion
[11:25:17] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(603.8956, 1122.724), source=PLAYER (@Area2D@7576), range=500, listeners=5
[11:25:17] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=0, below_threshold=0
[11:25:17] [INFO] [ImpactEffects] Spawning explosion visual effect at (662.8934, 1121.071) (radius=15) - using shadow-based wall occlusion
[11:25:17] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(662.8934, 1121.071), source=PLAYER (@Area2D@7574), range=500, listeners=5
[11:25:17] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=0, below_threshold=0
[11:25:17] [INFO] [ImpactEffects] Spawning explosion visual effect at (661.2375, 1124.881) (radius=15) - using shadow-based wall occlusion
[11:25:17] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(661.2375, 1124.881), source=PLAYER (@Area2D@7575), range=500, listeners=5
[11:25:17] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=0, below_threshold=0
[11:25:17] [INFO] [ImpactEffects] Spawning explosion visual effect at (792.9149, 1123.456) (radius=15) - using shadow-based wall occlusion
[11:25:17] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(792.9149, 1123.456), source=PLAYER (@Area2D@7573), range=500, listeners=5
[11:25:17] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=0
[11:25:18] [INFO] [ImpactEffects] Spawning explosion visual effect at (1170.808, 1125.29) (radius=15) - using shadow-based wall occlusion
[11:25:18] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1170.808, 1125.29), source=PLAYER (@Area2D@7572), range=500, listeners=5
[11:25:18] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=0
[11:25:18] [INFO] [ImpactEffects] Spawning explosion visual effect at (1289.32, 1124.699) (radius=15) - using shadow-based wall occlusion
[11:25:18] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1289.32, 1124.699), source=PLAYER (@Area2D@7571), range=500, listeners=5
[11:25:18] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=0
[11:25:18] [ENEMY] [Enemy3] Hit: dmg=1, hp=2/2->1/2
[11:25:18] [INFO] [ImpactEffects] spawn_blood_effect called at (1200, 1000), dir=(0.968963, -0.247206), lethal=false
[11:25:18] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[11:25:18] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[11:25:18] [INFO] [ImpactEffects] Blood effect spawned at (1200, 1000) (scale=1)
[11:25:18] [ENEMY] [Enemy3] ROT_CHANGE: none -> P1:visible, state=IDLE, target=174.4°, current=165.7°, player=(150,1102), corner_timer=0.00
[11:25:18] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) - pursuing to attack (dist=1055)
[11:25:18] [ENEMY] [Enemy3] State: IDLE -> PURSUING
[11:25:18] [ENEMY] [Enemy3] Hit: dmg=1, hp=1/2->0/2
[11:25:18] [INFO] [ImpactEffects] spawn_blood_effect called at (1200, 1000), dir=(0.986855, -0.16161), lethal=true
[11:25:18] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[11:25:18] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[11:25:18] [INFO] [ImpactEffects] Blood effect spawned at (1200, 1000) (scale=1.5)
[11:25:18] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[11:25:18] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[11:25:18] [ENEMY] [Enemy2] [AllyDeath] Witnessed at (1200, 1000), entering SEARCHING
[11:25:18] [ENEMY] [Enemy2] SEARCHING started: center=(1200, 1000), radius=100, waypoints=5
[11:25:18] [ENEMY] [Enemy3] [AllyDeath] Notified 1 enemies
[11:25:18] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 4)
[11:25:18] [INFO] [DeathAnim] Started - Angle: -9.3 deg, Index: 11
[11:25:18] [ENEMY] [Enemy3] Death animation started with hit direction: (0.986855, -0.16161)
[11:25:18] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=SEARCHING, target=168.7°, current=11.3°, player=(150,1099), corner_timer=0.00
[11:25:18] [ENEMY] [Enemy2] SEARCHING corner check: angle 99.5°
[11:25:18] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=829), can_see=false
[11:25:18] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=777), can_see=false
[11:25:18] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1563), can_see=false
[11:25:18] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1564), can_see=false
[11:25:18] [INFO] [BloodDecal] Blood puddle created at (1237.489, 986.17) (added to group)
[11:25:18] [INFO] [BloodDecal] Blood puddle created at (1287.156, 959.8552) (added to group)
[11:25:18] [INFO] [BloodDecal] Blood puddle created at (1281.574, 1036.88) (added to group)
[11:25:18] [INFO] [BloodDecal] Blood puddle created at (1247.964, 997.7595) (added to group)
[11:25:18] [ENEMY] [Enemy2] SEARCHING corner check: angle -80.5°
[11:25:18] [INFO] [BloodDecal] Blood puddle created at (1312.197, 1020.471) (added to group)
[11:25:18] [INFO] [BloodDecal] Blood puddle created at (1287.479, 1032.12) (added to group)
[11:25:18] [INFO] [BloodDecal] Blood puddle created at (1296.09, 1062.315) (added to group)
[11:25:18] [INFO] [BloodDecal] Blood puddle created at (1285.317, 978.4851) (added to group)
[11:25:18] [INFO] [BloodDecal] Blood puddle created at (1268.823, 1009.321) (added to group)
[11:25:18] [INFO] [BloodDecal] Blood puddle created at (1319.967, 1070.245) (added to group)
[11:25:18] [INFO] [BloodDecal] Blood puddle created at (1282.844, 1007.914) (added to group)
[11:25:18] [INFO] [BloodDecal] Blood puddle created at (1293.41, 1026.868) (added to group)
[11:25:18] [INFO] [BloodDecal] Blood puddle created at (1306.811, 1028.197) (added to group)
[11:25:18] [ENEMY] [Enemy3] Ragdoll activated
[11:25:18] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[11:25:18] [INFO] [BloodDecal] Blood puddle created at (1385.46, 1064.083) (added to group)
[11:25:18] [INFO] [BloodDecal] Blood puddle created at (1341.946, 1033.428) (added to group)
[11:25:18] [INFO] [BloodDecal] Blood puddle created at (1405.212, 1033.035) (added to group)
[11:25:18] [INFO] [BloodDecal] Blood puddle created at (1347.393, 994.3185) (added to group)
[11:25:18] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=673), can_see=false
[11:25:18] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=924), can_see=false
[11:25:18] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1525), can_see=false
[11:25:18] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1487), can_see=false
[11:25:18] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=5
[11:25:18] [INFO] [BloodDecal] Blood puddle created at (1368.36, 1063.668) (added to group)
[11:25:18] [INFO] [BloodDecal] Blood puddle created at (1307.46, 1047.759) (added to group)
[11:25:18] [INFO] [BloodDecal] Blood puddle created at (1398.689, 1074.511) (added to group)
[11:25:18] [INFO] [BloodDecal] Blood puddle created at (1419.877, 1113.986) (added to group)
[11:25:18] [INFO] [BloodDecal] Blood puddle created at (1325.065, 1030.305) (added to group)
[11:25:18] [INFO] [BloodDecal] Blood puddle created at (1305.563, 1032.763) (added to group)
[11:25:18] [INFO] [BloodDecal] Blood puddle created at (1391.182, 1007.249) (added to group)
[11:25:18] [INFO] [BloodDecal] Blood puddle created at (1361.806, 1024.418) (added to group)
[11:25:18] [ENEMY] [Enemy2] SEARCHING corner check: angle -80.5°
[11:25:18] [INFO] [BloodDecal] Blood puddle created at (1343.367, 1004.667) (added to group)
[11:25:18] [INFO] [BloodDecal] Blood puddle created at (1397.207, 1061.684) (added to group)
[11:25:18] [INFO] [BloodDecal] Blood puddle created at (1409.68, 1042.152) (added to group)
[11:25:18] [INFO] [BloodDecal] Blood puddle created at (1400.753, 1111.498) (added to group)
[11:25:18] [INFO] [BloodDecal] Blood puddle created at (1311.803, 1032.558) (added to group)
[11:25:19] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[11:25:19] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:25:19] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[11:25:19] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[11:25:19] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[11:25:19] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[11:25:19] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[11:25:19] [INFO] [LastChance] Resetting all effects (scene change detected)
[11:25:19] [INFO] [CinemaEffects] Scene changed to: LabyrinthLevel
[11:25:19] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[11:25:19] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[11:25:19] [ENEMY] [Enemy1] Death animation component initialized
[11:25:19] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:25:19] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[11:25:19] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[11:25:19] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[11:25:19] [ENEMY] [Enemy2] Death animation component initialized
[11:25:19] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:25:19] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[11:25:19] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[11:25:19] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[11:25:19] [ENEMY] [Enemy3] Death animation component initialized
[11:25:19] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:25:19] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[11:25:19] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[11:25:19] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[11:25:19] [INFO] [EnemyGrenade] Initialized: 1 grenades
[11:25:19] [ENEMY] [Enemy4] Death animation component initialized
[11:25:19] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:25:19] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[11:25:19] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[11:25:19] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[11:25:19] [ENEMY] [Enemy5] Death animation component initialized
[11:25:19] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:25:19] [INFO] [BloodyFeet:Player] Footprint scene loaded
[11:25:19] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[11:25:19] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[11:25:19] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: F-1 Grenade
[11:25:19] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[11:25:19] [INFO] [Player.Weapon] GameManager weapon selection: shotgun (Shotgun)
[11:25:19] [INFO] [Player.Weapon] Removed default MakarovPM
[11:25:19] [INFO] [Player.Weapon] Equipped Shotgun (ammo: 0/8)
[11:25:19] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[11:25:19] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[11:25:19] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[11:25:19] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[11:25:19] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[11:25:19] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[11:25:19] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[11:25:19] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[11:25:19] [INFO] [Player.Homing] No homing bullets selected in ActiveItemManager
[11:25:19] [INFO] [Player.InvisibilitySuit] No invisibility suit selected in ActiveItemManager
[11:25:19] [INFO] [Player.BreakerBullets] Breaker bullets active — bullets will detonate 60px before walls
[11:25:19] [INFO] [Player.BreakerBullets] Set IsBreakerBulletActive on weapon: Shotgun
[11:25:19] [INFO] [Player] Ready! Ammo: 0/8, Grenades: 1/3, Health: 3/4
[11:25:19] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[11:25:19] [INFO] [LabyrinthLevel] Found Environment/Enemies node with 5 children
[11:25:19] [INFO] [LabyrinthLevel] Child 'Enemy1': script=true, has_died_signal=true
[11:25:19] [INFO] [LabyrinthLevel] Child 'Enemy2': script=true, has_died_signal=true
[11:25:19] [INFO] [LabyrinthLevel] Child 'Enemy3': script=true, has_died_signal=true
[11:25:19] [INFO] [LabyrinthLevel] Child 'Enemy4': script=true, has_died_signal=true
[11:25:19] [INFO] [LabyrinthLevel] Child 'Enemy5': script=true, has_died_signal=true
[11:25:19] [INFO] [LabyrinthLevel] Enemy tracking complete: 5 enemies registered
[11:25:19] [INFO] [LabyrinthLevel] Setting up weapon: shotgun
[11:25:19] [INFO] [LabyrinthLevel] Shotgun already equipped by C# Player - skipping GDScript weapon swap
[11:25:19] [INFO] [ScoreManager] Level started with 5 enemies
[11:25:19] [INFO] [LabyrinthLevel] ReplayManager found as C# autoload - verified OK
[11:25:19] [INFO] [LabyrinthLevel] Starting replay recording - Player: Player, Enemies count: 5
[11:25:19] [INFO] [ReplayManager] Replay data cleared
[11:25:19] [INFO] [LabyrinthLevel] Previous replay data cleared
[11:25:19] [INFO] [ReplayManager] Detected player weapon: Shotgun
[11:25:19] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[11:25:19] [INFO] [ReplayManager] Level: LabyrinthLevel
[11:25:19] [INFO] [ReplayManager] Player: Player (valid: True)
[11:25:19] [INFO] [ReplayManager] Enemies count: 5
[11:25:19] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/shotgun_topdown.png
[11:25:19] [INFO] [ReplayManager]   Enemy 0: Enemy1
[11:25:19] [INFO] [ReplayManager]   Enemy 1: Enemy2
[11:25:19] [INFO] [ReplayManager]   Enemy 2: Enemy3
[11:25:19] [INFO] [ReplayManager]   Enemy 3: Enemy4
[11:25:19] [INFO] [ReplayManager]   Enemy 4: Enemy5
[11:25:19] [INFO] [LabyrinthLevel] Replay recording started successfully
[11:25:19] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[11:25:19] [INFO] [CinemaEffects] Found player node: Player
[11:25:19] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[11:25:19] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 5)
[11:25:19] [ENEMY] [Enemy1] Registered as sound listener
[11:25:19] [ENEMY] [Enemy1] Spawned at (400, 300), hp: 1, behavior: GUARD
[11:25:19] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[11:25:19] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 6)
[11:25:19] [ENEMY] [Enemy2] Registered as sound listener
[11:25:19] [ENEMY] [Enemy2] Spawned at (900, 950), hp: 2, behavior: GUARD
[11:25:19] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[11:25:19] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 7)
[11:25:19] [ENEMY] [Enemy3] Registered as sound listener
[11:25:19] [ENEMY] [Enemy3] Spawned at (1200, 1000), hp: 2, behavior: PATROL
[11:25:19] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[11:25:19] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 8)
[11:25:19] [ENEMY] [Enemy4] Registered as sound listener
[11:25:19] [ENEMY] [Enemy4] Spawned at (1650, 650), hp: 2, behavior: GUARD
[11:25:19] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[11:25:19] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 9)
[11:25:19] [ENEMY] [Enemy5] Registered as sound listener
[11:25:19] [ENEMY] [Enemy5] Spawned at (1500, 300), hp: 3, behavior: GUARD
[11:25:19] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[11:25:19] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=5
[11:25:19] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(150,1000), corner_timer=0.00
[11:25:19] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=337.5°, current=0.0°, player=(150,1000), corner_timer=0.00
[11:25:19] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=315.0°, current=0.0°, player=(150,1000), corner_timer=0.00
[11:25:19] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(150,1000), corner_timer=0.00
[11:25:19] [INFO] [Player] Detecting weapon pose (frame 3)...
[11:25:19] [INFO] [Player] Detected weapon: Shotgun (Shotgun pose)
[11:25:19] [INFO] [Player] Applied Shotgun arm pose: Left=(21, 6), Right=(-1, 6)
[11:25:19] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[11:25:19] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[11:25:19] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[11:25:19] [INFO] [LastChance] Found player: Player
[11:25:19] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[11:25:19] [INFO] [LastChance] Connected to player Damaged signal (C#)
[11:25:19] [INFO] [LastChance] Connected to player Died signal (C#)
[11:25:19] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[11:25:20] [ENEMY] [Enemy1] Player ammo empty: false -> true
[11:25:20] [ENEMY] [Enemy2] Player ammo empty: false -> true
[11:25:20] [ENEMY] [Enemy3] Player ammo empty: false -> true
[11:25:20] [ENEMY] [Enemy4] Player ammo empty: false -> true
[11:25:20] [ENEMY] [Enemy5] Player ammo empty: false -> true
[11:25:20] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(150, 1111.973), source=PLAYER (Player), range=600, listeners=9
[11:25:20] [INFO] [SoundPropagation] Cleaned up 4 invalid listeners
[11:25:20] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[11:25:20] [INFO] [Shotgun.FIX#212] Firing 14 pellets with 15° spread at pos=(150, 1111.973)
[11:25:20] [INFO] [Shotgun.FIX#212] Normal pellet 1/14: extraOffset=7,2, distance=59,2px, pos=(200.50742, 1081.1545)
[11:25:20] [INFO] [Shotgun.FIX#212] Normal pellet 2/14: extraOffset=-7,6, distance=44,4px, pos=(188.17609, 1089.2341)
[11:25:20] [INFO] [Shotgun.FIX#212] Normal pellet 3/14: extraOffset=3,9, distance=55,9px, pos=(198.58875, 1084.4025)
[11:25:20] [INFO] [Shotgun.FIX#212] Normal pellet 4/14: extraOffset=4,6, distance=56,6px, pos=(200.72946, 1086.817)
[11:25:20] [INFO] [Shotgun.FIX#212] Normal pellet 5/14: extraOffset=12,7, distance=64,7px, pos=(208.49065, 1084.3429)
[11:25:20] [INFO] [Shotgun.FIX#212] Normal pellet 6/14: extraOffset=1,5, distance=53,5px, pos=(198.7401, 1089.9923)
[11:25:20] [INFO] [Shotgun.FIX#212] Normal pellet 7/14: extraOffset=-15,0, distance=37,0px, pos=(184.172, 1097.7039)
[11:25:20] [INFO] [Shotgun.FIX#212] Normal pellet 8/14: extraOffset=-13,0, distance=39,0px, pos=(185.59009, 1096.0613)
[11:25:20] [INFO] [Shotgun.FIX#212] Normal pellet 9/14: extraOffset=-3,3, distance=48,7px, pos=(194.84172, 1092.9374)
[11:25:20] [INFO] [Shotgun.FIX#212] Normal pellet 10/14: extraOffset=3,7, distance=55,7px, pos=(202.60678, 1093.7395)
[11:25:20] [INFO] [Shotgun.FIX#212] Normal pellet 11/14: extraOffset=-14,9, distance=37,1px, pos=(185.2677, 1100.5056)
[11:25:20] [INFO] [Shotgun.FIX#212] Normal pellet 12/14: extraOffset=4,6, distance=56,6px, pos=(204.01399, 1095.177)
[11:25:20] [INFO] [Shotgun.FIX#212] Normal pellet 13/14: extraOffset=6,3, distance=58,3px, pos=(205.38765, 1093.8589)
[11:25:20] [INFO] [Shotgun.FIX#212] Normal pellet 14/14: extraOffset=13,3, distance=65,3px, pos=(213.14336, 1095.2338)
[11:25:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 1111.973), source=PLAYER (Shotgun), range=1469, listeners=5
[11:25:20] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=3
[11:25:20] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=850), can_see=false
[11:25:20] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=767), can_see=false
[11:25:20] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1056), can_see=false
[11:25:20] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1570), can_see=false
[11:25:20] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1575), can_see=false
[11:25:20] [INFO] [ImpactEffects] Spawning explosion visual effect at (283.84, 1048.749) (radius=15) - using shadow-based wall occlusion
[11:25:20] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(283.84, 1048.749), source=PLAYER (@Area2D@8068), range=500, listeners=5
[11:25:20] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[11:25:20] [INFO] [ImpactEffects] Spawning explosion visual effect at (281.3448, 1066.449) (radius=15) - using shadow-based wall occlusion
[11:25:20] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(281.3448, 1066.449), source=PLAYER (@Area2D@8073), range=500, listeners=5
[11:25:20] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[11:25:20] [INFO] [ImpactEffects] Spawning explosion visual effect at (283.5889, 1070.433) (radius=15) - using shadow-based wall occlusion
[11:25:20] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(283.5889, 1070.433), source=PLAYER (@Area2D@8075), range=500, listeners=5
[11:25:20] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[11:25:20] [INFO] [ImpactEffects] Spawning explosion visual effect at (284.5928, 1067.955) (radius=15) - using shadow-based wall occlusion
[11:25:20] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(284.5928, 1067.955), source=PLAYER (@Area2D@8076), range=500, listeners=5
[11:25:20] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[11:25:20] [INFO] [ImpactEffects] Spawning explosion visual effect at (293.6943, 1073.88) (radius=15) - using shadow-based wall occlusion
[11:25:20] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(293.6943, 1073.88), source=PLAYER (@Area2D@8077), range=500, listeners=5
[11:25:20] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[11:25:20] [INFO] [ImpactEffects] Spawning explosion visual effect at (307.212, 1016.046) (radius=15) - using shadow-based wall occlusion
[11:25:20] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(307.212, 1016.046), source=PLAYER (ShotgunPellet), range=500, listeners=5
[11:25:20] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[11:25:20] [INFO] [ImpactEffects] Spawning explosion visual effect at (295.5692, 1025.268) (radius=15) - using shadow-based wall occlusion
[11:25:20] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(295.5692, 1025.268), source=PLAYER (@Area2D@8065), range=500, listeners=5
[11:25:20] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[11:25:20] [INFO] [ImpactEffects] Spawning explosion visual effect at (307.3061, 1022.713) (radius=15) - using shadow-based wall occlusion
[11:25:20] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(307.3061, 1022.713), source=PLAYER (@Area2D@8066), range=500, listeners=5
[11:25:20] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[11:25:20] [INFO] [ImpactEffects] Spawning explosion visual effect at (312.7166, 1031.284) (radius=15) - using shadow-based wall occlusion
[11:25:20] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(312.7166, 1031.284), source=PLAYER (@Area2D@8067), range=500, listeners=5
[11:25:20] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[11:25:20] [INFO] [ImpactEffects] Spawning explosion visual effect at (312.6886, 1038.604) (radius=15) - using shadow-based wall occlusion
[11:25:20] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(312.6886, 1038.604), source=PLAYER (@Area2D@8069), range=500, listeners=5
[11:25:20] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[11:25:20] [INFO] [ImpactEffects] Spawning explosion visual effect at (299.5196, 1049.538) (radius=15) - using shadow-based wall occlusion
[11:25:20] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(299.5196, 1049.538), source=PLAYER (@Area2D@8070), range=500, listeners=5
[11:25:20] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[11:25:20] [INFO] [ImpactEffects] Spawning explosion visual effect at (299.7044, 1045.043) (radius=15) - using shadow-based wall occlusion
[11:25:20] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(299.7044, 1045.043), source=PLAYER (@Area2D@8071), range=500, listeners=5
[11:25:20] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[11:25:20] [INFO] [ImpactEffects] Spawning explosion visual effect at (309.9035, 1044.093) (radius=15) - using shadow-based wall occlusion
[11:25:20] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(309.9035, 1044.093), source=PLAYER (@Area2D@8072), range=500, listeners=5
[11:25:20] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[11:25:20] [INFO] [ImpactEffects] Spawning explosion visual effect at (304.1417, 1061.854) (radius=15) - using shadow-based wall occlusion
[11:25:20] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(304.1417, 1061.854), source=PLAYER (@Area2D@8074), range=500, listeners=5
[11:25:20] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[11:25:20] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=5
[11:25:20] [ENEMY] [Enemy2] Hit: dmg=1, hp=2/2->1/2
[11:25:20] [INFO] [ImpactEffects] spawn_blood_effect called at (900, 950), dir=(0.995884, -0.090637), lethal=false
[11:25:20] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[11:25:20] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[11:25:20] [INFO] [ImpactEffects] Blood effect spawned at (900, 950) (scale=1)
[11:25:20] [ENEMY] [Enemy3] Hit: dmg=1, hp=2/2->1/2
[11:25:20] [INFO] [ImpactEffects] spawn_blood_effect called at (1200, 1000), dir=(0.99889, -0.047096), lethal=false
[11:25:20] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[11:25:20] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[11:25:20] [INFO] [ImpactEffects] Blood effect spawned at (1200, 1000) (scale=1)
[11:25:20] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=775), can_see=false
[11:25:20] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=755), can_see=false
[11:25:20] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1051), can_see=false
[11:25:20] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1548), can_see=false
[11:25:20] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1536), can_see=false
[11:25:21] [ENEMY] [Enemy3] Hit: dmg=1, hp=1/2->0/2
[11:25:21] [INFO] [ImpactEffects] spawn_blood_effect called at (1200, 1000), dir=(0.999303, -0.037318), lethal=true
[11:25:21] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[11:25:21] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[11:25:21] [INFO] [ImpactEffects] Blood effect spawned at (1200, 1000) (scale=1.5)
[11:25:21] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[11:25:21] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[11:25:21] [ENEMY] [Enemy3] [AllyDeath] Notified 1 enemies
[11:25:21] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 4)
[11:25:21] [INFO] [DeathAnim] Started - Angle: -2.1 deg, Index: 11
[11:25:21] [ENEMY] [Enemy3] Death animation started with hit direction: (0.999303, -0.037318)
[11:25:21] [INFO] [BloodDecal] Blood puddle created at (949.1794, 987.0313) (added to group)
[11:25:21] [INFO] [BloodDecal] Blood puddle created at (984.6929, 964.2351) (added to group)
[11:25:21] [INFO] [BloodDecal] Blood puddle created at (977.0953, 963.0779) (added to group)
[11:25:21] [INFO] [BloodDecal] Blood puddle created at (998.4089, 1034.553) (added to group)
[11:25:21] [INFO] [BloodDecal] Blood puddle created at (980.7708, 936.4164) (added to group)
[11:25:21] [INFO] [BloodDecal] Blood puddle created at (1018.113, 1019.954) (added to group)
[11:25:21] [INFO] [BloodDecal] Blood puddle created at (991.3234, 946.6025) (added to group)
[11:25:21] [INFO] [BloodDecal] Blood puddle created at (1272.034, 986.124) (added to group)
[11:25:21] [INFO] [BloodDecal] Blood puddle created at (1270.736, 1047.871) (added to group)
[11:25:21] [INFO] [BloodDecal] Blood puddle created at (1243.275, 1023.045) (added to group)
[11:25:21] [INFO] [BloodDecal] Blood puddle created at (1243.361, 1013.668) (added to group)
[11:25:21] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[11:25:21] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:25:21] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[11:25:21] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[11:25:21] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[11:25:21] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[11:25:21] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[11:25:21] [INFO] [LastChance] Resetting all effects (scene change detected)
[11:25:21] [INFO] [CinemaEffects] Scene changed to: LabyrinthLevel
[11:25:21] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[11:25:21] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[11:25:21] [ENEMY] [Enemy1] Death animation component initialized
[11:25:21] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:25:21] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[11:25:21] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[11:25:21] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[11:25:21] [ENEMY] [Enemy2] Death animation component initialized
[11:25:21] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:25:21] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[11:25:21] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[11:25:21] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[11:25:21] [ENEMY] [Enemy3] Death animation component initialized
[11:25:21] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:25:21] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[11:25:21] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[11:25:21] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[11:25:21] [ENEMY] [Enemy4] Death animation component initialized
[11:25:21] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:25:21] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[11:25:21] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[11:25:21] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[11:25:21] [ENEMY] [Enemy5] Death animation component initialized
[11:25:21] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:25:21] [INFO] [BloodyFeet:Player] Footprint scene loaded
[11:25:21] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[11:25:21] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[11:25:21] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: F-1 Grenade
[11:25:21] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[11:25:21] [INFO] [Player.Weapon] GameManager weapon selection: shotgun (Shotgun)
[11:25:21] [INFO] [Player.Weapon] Removed default MakarovPM
[11:25:21] [INFO] [Player.Weapon] Equipped Shotgun (ammo: 0/8)
[11:25:21] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[11:25:21] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[11:25:21] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[11:25:21] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[11:25:21] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[11:25:21] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[11:25:21] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[11:25:21] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[11:25:21] [INFO] [Player.Homing] No homing bullets selected in ActiveItemManager
[11:25:21] [INFO] [Player.InvisibilitySuit] No invisibility suit selected in ActiveItemManager
[11:25:21] [INFO] [Player.BreakerBullets] Breaker bullets active — bullets will detonate 60px before walls
[11:25:21] [INFO] [Player.BreakerBullets] Set IsBreakerBulletActive on weapon: Shotgun
[11:25:21] [INFO] [Player] Ready! Ammo: 0/8, Grenades: 1/3, Health: 3/4
[11:25:21] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[11:25:21] [INFO] [LabyrinthLevel] Found Environment/Enemies node with 5 children
[11:25:21] [INFO] [LabyrinthLevel] Child 'Enemy1': script=true, has_died_signal=true
[11:25:21] [INFO] [LabyrinthLevel] Child 'Enemy2': script=true, has_died_signal=true
[11:25:21] [INFO] [LabyrinthLevel] Child 'Enemy3': script=true, has_died_signal=true
[11:25:21] [INFO] [LabyrinthLevel] Child 'Enemy4': script=true, has_died_signal=true
[11:25:21] [INFO] [LabyrinthLevel] Child 'Enemy5': script=true, has_died_signal=true
[11:25:21] [INFO] [LabyrinthLevel] Enemy tracking complete: 5 enemies registered
[11:25:21] [INFO] [LabyrinthLevel] Setting up weapon: shotgun
[11:25:21] [INFO] [LabyrinthLevel] Shotgun already equipped by C# Player - skipping GDScript weapon swap
[11:25:21] [INFO] [ScoreManager] Level started with 5 enemies
[11:25:21] [INFO] [LabyrinthLevel] ReplayManager found as C# autoload - verified OK
[11:25:21] [INFO] [LabyrinthLevel] Starting replay recording - Player: Player, Enemies count: 5
[11:25:21] [INFO] [ReplayManager] Replay data cleared
[11:25:21] [INFO] [LabyrinthLevel] Previous replay data cleared
[11:25:21] [INFO] [ReplayManager] Detected player weapon: Shotgun
[11:25:21] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[11:25:21] [INFO] [ReplayManager] Level: LabyrinthLevel
[11:25:21] [INFO] [ReplayManager] Player: Player (valid: True)
[11:25:21] [INFO] [ReplayManager] Enemies count: 5
[11:25:21] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/shotgun_topdown.png
[11:25:21] [INFO] [ReplayManager]   Enemy 0: Enemy1
[11:25:21] [INFO] [ReplayManager]   Enemy 1: Enemy2
[11:25:21] [INFO] [ReplayManager]   Enemy 2: Enemy3
[11:25:21] [INFO] [ReplayManager]   Enemy 3: Enemy4
[11:25:21] [INFO] [ReplayManager]   Enemy 4: Enemy5
[11:25:21] [INFO] [LabyrinthLevel] Replay recording started successfully
[11:25:21] [INFO] [BloodDecal] Blood puddle created at (1029.606, 943.7488) (added to group)
[11:25:21] [INFO] [BloodDecal] Blood puddle created at (1086.799, 973.5471) (added to group)
[11:25:21] [INFO] [BloodDecal] Blood puddle created at (1047.913, 990.8522) (added to group)
[11:25:21] [INFO] [BloodDecal] Blood puddle created at (1316.624, 1053.783) (added to group)
[11:25:21] [INFO] [BloodDecal] Blood puddle created at (1297.087, 1073.183) (added to group)
[11:25:21] [INFO] [BloodDecal] Blood puddle created at (1346.134, 1074.44) (added to group)
[11:25:21] [INFO] [BloodDecal] Blood puddle created at (1293.035, 974.4861) (added to group)
[11:25:21] [INFO] [BloodDecal] Blood puddle created at (1254.321, 993.391) (added to group)
[11:25:21] [INFO] [BloodDecal] Blood puddle created at (1289.83, 991.8344) (added to group)
[11:25:21] [INFO] [BloodDecal] Blood puddle created at (1265.617, 992.6305) (added to group)
[11:25:21] [INFO] [BloodDecal] Blood puddle created at (1309.207, 1037.52) (added to group)
[11:25:21] [INFO] [BloodDecal] Blood puddle created at (1242.504, 1005.558) (added to group)
[11:25:21] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[11:25:21] [INFO] [CinemaEffects] Found player node: Player
[11:25:21] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[11:25:21] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 5)
[11:25:21] [ENEMY] [Enemy1] Registered as sound listener
[11:25:21] [ENEMY] [Enemy1] Spawned at (400, 300), hp: 1, behavior: GUARD
[11:25:21] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[11:25:21] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 6)
[11:25:21] [ENEMY] [Enemy2] Registered as sound listener
[11:25:21] [ENEMY] [Enemy2] Spawned at (900, 950), hp: 1, behavior: GUARD
[11:25:21] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[11:25:21] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 7)
[11:25:21] [ENEMY] [Enemy3] Registered as sound listener
[11:25:21] [ENEMY] [Enemy3] Spawned at (1200, 1000), hp: 1, behavior: PATROL
[11:25:21] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[11:25:21] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 8)
[11:25:21] [ENEMY] [Enemy4] Registered as sound listener
[11:25:21] [ENEMY] [Enemy4] Spawned at (1650, 650), hp: 2, behavior: GUARD
[11:25:21] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[11:25:21] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 9)
[11:25:21] [ENEMY] [Enemy5] Registered as sound listener
[11:25:21] [ENEMY] [Enemy5] Spawned at (1500, 300), hp: 3, behavior: GUARD
[11:25:21] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[11:25:21] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=5
[11:25:21] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(150,1000), corner_timer=0.00
[11:25:21] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(150,1000), corner_timer=0.00
[11:25:21] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=315.0°, current=0.0°, player=(150,1000), corner_timer=0.00
[11:25:21] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=281.3°, current=0.0°, player=(150,1000), corner_timer=0.00
[11:25:21] [INFO] [Player] Detecting weapon pose (frame 3)...
[11:25:21] [INFO] [Player] Detected weapon: Shotgun (Shotgun pose)
[11:25:21] [INFO] [Player] Applied Shotgun arm pose: Left=(21, 6), Right=(-1, 6)
[11:25:21] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[11:25:21] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[11:25:21] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[11:25:21] [INFO] [LastChance] Found player: Player
[11:25:21] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[11:25:21] [INFO] [LastChance] Connected to player Damaged signal (C#)
[11:25:21] [INFO] [LastChance] Connected to player Died signal (C#)
[11:25:21] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[11:25:21] [INFO] [BloodDecal] Blood puddle created at (1302.553, 1104.019) (added to group)
[11:25:21] [INFO] [BloodDecal] Blood puddle created at (1363.579, 990.1963) (added to group)
[11:25:21] [INFO] [BloodDecal] Blood puddle created at (1331.828, 1046.516) (added to group)
[11:25:21] [INFO] [BloodDecal] Blood puddle created at (1282.225, 999.8172) (added to group)
[11:25:21] [INFO] [BloodDecal] Blood puddle created at (1315.895, 1048.747) (added to group)
[11:25:21] [INFO] [BloodDecal] Blood puddle created at (1307.002, 1037.08) (added to group)
[11:25:21] [INFO] [BloodDecal] Blood puddle created at (1403.331, 1123.157) (added to group)
[11:25:21] [INFO] [BloodDecal] Blood puddle created at (1378.873, 1067.424) (added to group)
[11:25:21] [INFO] [BloodDecal] Blood puddle created at (1378.81, 1062.883) (added to group)
[11:25:21] [INFO] [BloodDecal] Blood puddle created at (1380.174, 1066.13) (added to group)
[11:25:21] [INFO] [BloodDecal] Blood puddle created at (1362.143, 1014.784) (added to group)
[11:25:22] [ENEMY] [Enemy1] Player ammo empty: false -> true
[11:25:22] [ENEMY] [Enemy2] Player ammo empty: false -> true
[11:25:22] [ENEMY] [Enemy3] Player ammo empty: false -> true
[11:25:22] [ENEMY] [Enemy4] Player ammo empty: false -> true
[11:25:22] [ENEMY] [Enemy5] Player ammo empty: false -> true
[11:25:22] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(150, 1108.556), source=PLAYER (Player), range=600, listeners=9
[11:25:22] [INFO] [SoundPropagation] Cleaned up 4 invalid listeners
[11:25:22] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[11:25:22] [INFO] [Shotgun.FIX#212] Firing 10 pellets with 15° spread at pos=(150, 1108.5555)
[11:25:22] [INFO] [Shotgun.FIX#212] Normal pellet 1/10: extraOffset=11,0, distance=63,0px, pos=(207.39949, 1082.6088)
[11:25:22] [INFO] [Shotgun.FIX#212] Normal pellet 2/10: extraOffset=0,7, distance=52,7px, pos=(198.53217, 1087.9806)
[11:25:22] [INFO] [Shotgun.FIX#212] Normal pellet 3/10: extraOffset=5,2, distance=57,2px, pos=(203.78828, 1089.0845)
[11:25:22] [INFO] [Shotgun.FIX#212] Normal pellet 4/10: extraOffset=6,4, distance=58,4px, pos=(204.5579, 1087.6312)
[11:25:22] [INFO] [Shotgun.FIX#212] Normal pellet 5/10: extraOffset=13,6, distance=65,6px, pos=(212.66583, 1089.177)
[11:25:22] [INFO] [Shotgun.FIX#212] Normal pellet 6/10: extraOffset=5,7, distance=57,7px, pos=(205.47617, 1092.5856)
[11:25:22] [INFO] [Shotgun.FIX#212] Normal pellet 7/10: extraOffset=7,2, distance=59,2px, pos=(207.52542, 1094.774)
[11:25:22] [INFO] [Shotgun.FIX#212] Normal pellet 8/10: extraOffset=-12,3, distance=39,7px, pos=(188.82922, 1100.1222)
[11:25:22] [INFO] [Shotgun.FIX#212] Normal pellet 9/10: extraOffset=6,2, distance=58,2px, pos=(206.89725, 1096.3988)
[11:25:22] [INFO] [Shotgun.FIX#212] Normal pellet 10/10: extraOffset=8,2, distance=60,2px, pos=(209.32196, 1098.3536)
[11:25:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 1108.556), source=PLAYER (Shotgun), range=1469, listeners=5
[11:25:22] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=3
[11:25:22] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=846), can_see=false
[11:25:22] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=767), can_see=false
[11:25:22] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1056), can_see=false
[11:25:22] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1569), can_see=false
[11:25:22] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1574), can_see=false
[11:25:22] [INFO] [ImpactEffects] Spawning explosion visual effect at (283.3349, 1048.283) (radius=15) - using shadow-based wall occlusion
[11:25:22] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(283.3349, 1048.283), source=PLAYER (ShotgunPellet), range=500, listeners=5
[11:25:22] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[11:25:22] [INFO] [ImpactEffects] Spawning explosion visual effect at (282.1456, 1060.719) (radius=15) - using shadow-based wall occlusion
[11:25:22] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(282.1456, 1060.719), source=PLAYER (@Area2D@8629), range=500, listeners=5
[11:25:22] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[11:25:22] [INFO] [ImpactEffects] Spawning explosion visual effect at (282.3651, 1057.79) (radius=15) - using shadow-based wall occlusion
[11:25:22] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(282.3651, 1057.79), source=PLAYER (@Area2D@8630), range=500, listeners=5
[11:25:22] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[11:25:22] [INFO] [ImpactEffects] Spawning explosion visual effect at (292.2794, 1064.558) (radius=15) - using shadow-based wall occlusion
[11:25:22] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(292.2794, 1064.558), source=PLAYER (@Area2D@8631), range=500, listeners=5
[11:25:22] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[11:25:22] [INFO] [ImpactEffects] Spawning explosion visual effect at (285.5574, 1069.533) (radius=15) - using shadow-based wall occlusion
[11:25:22] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(285.5574, 1069.533), source=PLAYER (@Area2D@8632), range=500, listeners=5
[11:25:22] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[11:25:22] [INFO] [ImpactEffects] Spawning explosion visual effect at (313.6172, 1039.191) (radius=15) - using shadow-based wall occlusion
[11:25:22] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(313.6172, 1039.191), source=PLAYER (@Area2D@8628), range=500, listeners=5
[11:25:22] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[11:25:22] [INFO] [ImpactEffects] Spawning explosion visual effect at (329.0857, 1065.652) (radius=15) - using shadow-based wall occlusion
[11:25:22] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(329.0857, 1065.652), source=PLAYER (@Area2D@8633), range=500, listeners=5
[11:25:22] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[11:25:22] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=167.8°, current=120.3°, player=(150,1111), corner_timer=0.00
[11:25:22] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) - pursuing to attack (dist=767)
[11:25:22] [ENEMY] [Enemy2] State: IDLE -> PURSUING
[11:25:22] [ENEMY] [Enemy2] PURSUING corner check: angle 28.0°
[11:25:22] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=PURSUING, target=168.1°, current=-115.9°, player=(150,1111), corner_timer=0.30
[11:25:22] [INFO] [ImpactEffects] Spawning explosion visual effect at (799.5901, 967.471) (radius=15) - using shadow-based wall occlusion
[11:25:22] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(799.5901, 967.471), source=PLAYER (@Area2D@8634), range=500, listeners=5
[11:25:22] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=0
[11:25:22] [INFO] [ImpactEffects] Spawning explosion visual effect at (818.1022, 965.808) (radius=15) - using shadow-based wall occlusion
[11:25:22] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(818.1022, 965.808), source=PLAYER (@Area2D@8635), range=500, listeners=5
[11:25:22] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=0
[11:25:22] [ENEMY] [Enemy2] Hit: dmg=1, hp=1/1->0/1
[11:25:22] [INFO] [ImpactEffects] spawn_blood_effect called at (845.217, 964.144), dir=(0.999634, -0.027052), lethal=true
[11:25:22] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[11:25:22] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[11:25:22] [INFO] [ImpactEffects] Blood effect spawned at (845.217, 964.144) (scale=1.5)
[11:25:22] [ENEMY] [Enemy2] Enemy died (ricochet: false, penetration: false)
[11:25:22] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[11:25:22] [ENEMY] [Enemy2] [AllyDeath] Notified 1 enemies
[11:25:22] [INFO] [SoundPropagation] Unregistered listener: Enemy2 (remaining: 4)
[11:25:22] [INFO] [DeathAnim] Started - Angle: -1.6 deg, Index: 11
[11:25:22] [ENEMY] [Enemy2] Death animation started with hit direction: (0.999634, -0.027052)
[11:25:22] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=5
[11:25:22] [ENEMY] [Enemy3] Hit: dmg=1, hp=1/1->0/1
[11:25:22] [INFO] [ImpactEffects] spawn_blood_effect called at (1200, 1000), dir=(0.988943, 0.148295), lethal=true
[11:25:22] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[11:25:22] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[11:25:22] [INFO] [ImpactEffects] Blood effect spawned at (1200, 1000) (scale=1.5)
[11:25:22] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[11:25:22] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[11:25:22] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 3)
[11:25:22] [INFO] [DeathAnim] Started - Angle: 8.5 deg, Index: 12
[11:25:22] [ENEMY] [Enemy3] Death animation started with hit direction: (0.988943, 0.148295)
[11:25:22] [INFO] [ImpactEffects] Spawning explosion visual effect at (1400.173, 893.5553) (radius=15) - using shadow-based wall occlusion
[11:25:22] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1400.173, 893.5553), source=PLAYER (@Area2D@8636), range=500, listeners=3
[11:25:22] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[11:25:22] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=801), can_see=false
[11:25:22] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1555), can_see=false
[11:25:22] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1550), can_see=false
[11:25:22] [INFO] [BloodDecal] Blood puddle created at (902.7014, 973.9721) (added to group)
[11:25:22] [INFO] [BloodDecal] Blood puddle created at (920.1531, 945.6378) (added to group)
[11:25:22] [INFO] [BloodDecal] Blood puddle created at (901.062, 969.212) (added to group)
[11:25:22] [INFO] [BloodDecal] Blood puddle created at (938.5718, 1029.596) (added to group)
[11:25:22] [INFO] [BloodDecal] Blood puddle created at (943.7686, 994.9625) (added to group)
[11:25:22] [INFO] [BloodDecal] Blood puddle created at (978.4181, 976.6716) (added to group)
[11:25:22] [INFO] [BloodDecal] Blood puddle created at (932.7478, 976.8662) (added to group)
[11:25:22] [ENEMY] [Enemy2] Ragdoll activated
[11:25:22] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[11:25:22] [INFO] [BloodDecal] Blood puddle created at (984.7858, 973.1177) (added to group)
[11:25:22] [INFO] [BloodDecal] Blood puddle created at (951.116, 999.3958) (added to group)
[11:25:22] [INFO] [BloodDecal] Blood puddle created at (945.6003, 1032.642) (added to group)
[11:25:22] [INFO] [BloodDecal] Blood puddle created at (961.6024, 993.8056) (added to group)
[11:25:22] [INFO] [BloodDecal] Blood puddle created at (930.3894, 969.0509) (added to group)
[11:25:22] [INFO] [BloodDecal] Blood puddle created at (997.9839, 1030.241) (added to group)
[11:25:22] [INFO] [BloodDecal] Blood puddle created at (991.7595, 1047.231) (added to group)
[11:25:22] [INFO] [BloodDecal] Blood puddle created at (1296.637, 1047.911) (added to group)
[11:25:22] [INFO] [BloodDecal] Blood puddle created at (1255.655, 1036.183) (added to group)
[11:25:22] [INFO] [BloodDecal] Blood puddle created at (1268.219, 1060.717) (added to group)
[11:25:22] [INFO] [BloodDecal] Blood puddle created at (1257.248, 1018.311) (added to group)
[11:25:22] [INFO] [BloodDecal] Blood puddle created at (1266.877, 1038.032) (added to group)
[11:25:23] [INFO] [BloodDecal] Blood puddle created at (1008.967, 1118.674) (added to group)
[11:25:23] [INFO] [BloodDecal] Blood puddle created at (1022.189, 1068.741) (added to group)
[11:25:23] [INFO] [BloodDecal] Blood puddle created at (954.0571, 1103.054) (added to group)
[11:25:23] [INFO] [BloodDecal] Blood puddle created at (1300.323, 1044.466) (added to group)
[11:25:23] [INFO] [BloodDecal] Blood puddle created at (1274.442, 1033.945) (added to group)
[11:25:23] [INFO] [BloodDecal] Blood puddle created at (1306.073, 1026.879) (added to group)
[11:25:23] [INFO] [BloodDecal] Blood puddle created at (1341.361, 1021.083) (added to group)
[11:25:23] [INFO] [BloodDecal] Blood puddle created at (1264.817, 1053.212) (added to group)
[11:25:23] [INFO] [BloodDecal] Blood puddle created at (1261.376, 1037.91) (added to group)
[11:25:23] [INFO] [BloodDecal] Blood puddle created at (1282.53, 1063.495) (added to group)
[11:25:23] [INFO] [BloodDecal] Blood puddle created at (1321.053, 1059.224) (added to group)
[11:25:23] [ENEMY] [Enemy3] Ragdoll activated
[11:25:23] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[11:25:23] [INFO] [BloodDecal] Blood puddle created at (1038.051, 1062.02) (added to group)
[11:25:23] [INFO] [BloodDecal] Blood puddle created at (999.624, 1116.622) (added to group)
[11:25:23] [INFO] [BloodDecal] Blood puddle created at (949.8238, 1024.708) (added to group)
[11:25:23] [INFO] [BloodDecal] Blood puddle created at (1317.193, 1048.269) (added to group)
[11:25:23] [INFO] [BloodDecal] Blood puddle created at (1302.425, 1061.796) (added to group)
[11:25:23] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=641), can_see=false
[11:25:23] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1519), can_see=false
[11:25:23] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1474), can_see=false
[11:25:23] [INFO] [BloodDecal] Blood puddle created at (1338.993, 1059.909) (added to group)
[11:25:23] [INFO] [BloodDecal] Blood puddle created at (1393.541, 1079.057) (added to group)
[11:25:23] [INFO] [BloodDecal] Blood puddle created at (1320.9, 1089.893) (added to group)
[11:25:23] [INFO] [BloodDecal] Blood puddle created at (1424.099, 1124.78) (added to group)
[11:25:23] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[11:25:23] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:25:23] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[11:25:23] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[11:25:23] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[11:25:23] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[11:25:23] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[11:25:23] [INFO] [LastChance] Resetting all effects (scene change detected)
[11:25:23] [INFO] [CinemaEffects] Scene changed to: LabyrinthLevel
[11:25:23] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[11:25:23] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[11:25:23] [ENEMY] [Enemy1] Death animation component initialized
[11:25:23] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:25:23] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[11:25:23] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[11:25:23] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[11:25:23] [ENEMY] [Enemy2] Death animation component initialized
[11:25:23] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:25:23] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[11:25:23] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[11:25:23] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[11:25:23] [ENEMY] [Enemy3] Death animation component initialized
[11:25:23] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:25:23] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[11:25:23] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[11:25:23] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[11:25:23] [ENEMY] [Enemy4] Death animation component initialized
[11:25:23] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:25:23] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[11:25:23] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[11:25:23] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[11:25:23] [ENEMY] [Enemy5] Death animation component initialized
[11:25:23] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:25:23] [INFO] [BloodyFeet:Player] Footprint scene loaded
[11:25:23] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[11:25:23] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[11:25:23] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: F-1 Grenade
[11:25:23] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[11:25:23] [INFO] [Player.Weapon] GameManager weapon selection: shotgun (Shotgun)
[11:25:23] [INFO] [Player.Weapon] Removed default MakarovPM
[11:25:23] [INFO] [Player.Weapon] Equipped Shotgun (ammo: 0/8)
[11:25:23] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[11:25:23] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[11:25:23] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[11:25:23] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[11:25:23] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[11:25:23] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[11:25:23] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[11:25:23] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[11:25:23] [INFO] [Player.Homing] No homing bullets selected in ActiveItemManager
[11:25:23] [INFO] [Player.InvisibilitySuit] No invisibility suit selected in ActiveItemManager
[11:25:23] [INFO] [Player.BreakerBullets] Breaker bullets active — bullets will detonate 60px before walls
[11:25:23] [INFO] [Player.BreakerBullets] Set IsBreakerBulletActive on weapon: Shotgun
[11:25:23] [INFO] [Player] Ready! Ammo: 0/8, Grenades: 1/3, Health: 3/4
[11:25:23] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[11:25:23] [INFO] [LabyrinthLevel] Found Environment/Enemies node with 5 children
[11:25:23] [INFO] [LabyrinthLevel] Child 'Enemy1': script=true, has_died_signal=true
[11:25:23] [INFO] [LabyrinthLevel] Child 'Enemy2': script=true, has_died_signal=true
[11:25:23] [INFO] [LabyrinthLevel] Child 'Enemy3': script=true, has_died_signal=true
[11:25:23] [INFO] [LabyrinthLevel] Child 'Enemy4': script=true, has_died_signal=true
[11:25:23] [INFO] [LabyrinthLevel] Child 'Enemy5': script=true, has_died_signal=true
[11:25:23] [INFO] [LabyrinthLevel] Enemy tracking complete: 5 enemies registered
[11:25:23] [INFO] [LabyrinthLevel] Setting up weapon: shotgun
[11:25:23] [INFO] [LabyrinthLevel] Shotgun already equipped by C# Player - skipping GDScript weapon swap
[11:25:23] [INFO] [ScoreManager] Level started with 5 enemies
[11:25:23] [INFO] [LabyrinthLevel] ReplayManager found as C# autoload - verified OK
[11:25:23] [INFO] [LabyrinthLevel] Starting replay recording - Player: Player, Enemies count: 5
[11:25:23] [INFO] [ReplayManager] Replay data cleared
[11:25:23] [INFO] [LabyrinthLevel] Previous replay data cleared
[11:25:23] [INFO] [ReplayManager] Detected player weapon: Shotgun
[11:25:23] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[11:25:23] [INFO] [ReplayManager] Level: LabyrinthLevel
[11:25:23] [INFO] [ReplayManager] Player: Player (valid: True)
[11:25:23] [INFO] [ReplayManager] Enemies count: 5
[11:25:23] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/shotgun_topdown.png
[11:25:23] [INFO] [ReplayManager]   Enemy 0: Enemy1
[11:25:23] [INFO] [ReplayManager]   Enemy 1: Enemy2
[11:25:23] [INFO] [ReplayManager]   Enemy 2: Enemy3
[11:25:23] [INFO] [ReplayManager]   Enemy 3: Enemy4
[11:25:23] [INFO] [ReplayManager]   Enemy 4: Enemy5
[11:25:23] [INFO] [LabyrinthLevel] Replay recording started successfully
[11:25:23] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[11:25:23] [INFO] [CinemaEffects] Found player node: Player
[11:25:23] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[11:25:23] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 4)
[11:25:23] [ENEMY] [Enemy1] Registered as sound listener
[11:25:23] [ENEMY] [Enemy1] Spawned at (400, 300), hp: 1, behavior: GUARD
[11:25:23] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[11:25:23] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 5)
[11:25:23] [ENEMY] [Enemy2] Registered as sound listener
[11:25:23] [ENEMY] [Enemy2] Spawned at (900, 950), hp: 1, behavior: GUARD
[11:25:23] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[11:25:23] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 6)
[11:25:23] [ENEMY] [Enemy3] Registered as sound listener
[11:25:23] [ENEMY] [Enemy3] Spawned at (1200, 1000), hp: 2, behavior: PATROL
[11:25:23] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[11:25:23] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 7)
[11:25:23] [ENEMY] [Enemy4] Registered as sound listener
[11:25:23] [ENEMY] [Enemy4] Spawned at (1650, 650), hp: 1, behavior: GUARD
[11:25:23] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[11:25:23] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 8)
[11:25:23] [ENEMY] [Enemy5] Registered as sound listener
[11:25:23] [ENEMY] [Enemy5] Spawned at (1500, 300), hp: 4, behavior: GUARD
[11:25:23] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[11:25:23] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=5
[11:25:23] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(150,1000), corner_timer=0.00
[11:25:23] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=337.5°, current=0.0°, player=(150,1000), corner_timer=0.00
[11:25:23] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=315.0°, current=0.0°, player=(150,1000), corner_timer=0.00
[11:25:23] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=281.3°, current=0.0°, player=(150,1000), corner_timer=0.00
[11:25:23] [INFO] [Player] Detecting weapon pose (frame 3)...
[11:25:23] [INFO] [Player] Detected weapon: Shotgun (Shotgun pose)
[11:25:23] [INFO] [Player] Applied Shotgun arm pose: Left=(21, 6), Right=(-1, 6)
[11:25:23] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[11:25:23] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[11:25:23] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[11:25:23] [INFO] [LastChance] Found player: Player
[11:25:23] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[11:25:23] [INFO] [LastChance] Connected to player Damaged signal (C#)
[11:25:23] [INFO] [LastChance] Connected to player Died signal (C#)
[11:25:23] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[11:25:24] [ENEMY] [Enemy1] Player ammo empty: false -> true
[11:25:24] [ENEMY] [Enemy2] Player ammo empty: false -> true
[11:25:24] [ENEMY] [Enemy3] Player ammo empty: false -> true
[11:25:24] [ENEMY] [Enemy4] Player ammo empty: false -> true
[11:25:24] [ENEMY] [Enemy5] Player ammo empty: false -> true
[11:25:24] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(150, 1106.833), source=PLAYER (Player), range=600, listeners=8
[11:25:24] [INFO] [SoundPropagation] Cleaned up 3 invalid listeners
[11:25:24] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[11:25:24] [INFO] [Shotgun.FIX#212] Firing 12 pellets with 15° spread at pos=(150, 1106.8334)
[11:25:24] [INFO] [Shotgun.FIX#212] Normal pellet 1/12: extraOffset=5,9, distance=57,9px, pos=(206.1799, 1092.8008)
[11:25:24] [INFO] [Shotgun.FIX#212] Normal pellet 2/12: extraOffset=2,1, distance=54,1px, pos=(203.20404, 1096.8634)
[11:25:24] [INFO] [Shotgun.FIX#212] Normal pellet 3/12: extraOffset=-8,9, distance=43,1px, pos=(192.34302, 1098.9249)
[11:25:24] [INFO] [Shotgun.FIX#212] Normal pellet 4/12: extraOffset=9,8, distance=61,8px, pos=(210.8753, 1096.4572)
[11:25:24] [INFO] [Shotgun.FIX#212] Normal pellet 5/12: extraOffset=-11,7, distance=40,3px, pos=(189.94383, 1101.4797)
[11:25:24] [INFO] [Shotgun.FIX#212] Normal pellet 6/12: extraOffset=-8,8, distance=43,2px, pos=(192.82846, 1101.4424)
[11:25:24] [INFO] [Shotgun.FIX#212] Normal pellet 7/12: extraOffset=6,0, distance=58,0px, pos=(207.6966, 1101.0626)
[11:25:24] [INFO] [Shotgun.FIX#212] Normal pellet 8/12: extraOffset=-7,5, distance=44,5px, pos=(194.45625, 1105.1188)
[11:25:24] [INFO] [Shotgun.FIX#212] Normal pellet 9/12: extraOffset=13,5, distance=65,5px, pos=(215.52963, 1106.3866)
[11:25:24] [INFO] [Shotgun.FIX#212] Normal pellet 10/12: extraOffset=11,8, distance=63,8px, pos=(213.78085, 1107.9119)
[11:25:24] [INFO] [Shotgun.FIX#212] Normal pellet 11/12: extraOffset=5,7, distance=57,7px, pos=(207.62656, 1109.0105)
[11:25:24] [INFO] [Shotgun.FIX#212] Normal pellet 12/12: extraOffset=1,0, distance=53,0px, pos=(202.94926, 1107.9507)
[11:25:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 1106.833), source=PLAYER (Shotgun), range=1469, listeners=5
[11:25:24] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=3
[11:25:24] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=845), can_see=false
[11:25:24] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=766), can_see=false
[11:25:24] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1055), can_see=false
[11:25:24] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1568), can_see=false
[11:25:24] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1573), can_see=false
[11:25:24] [INFO] [ImpactEffects] Spawning explosion visual effect at (287.0293, 1072.606) (radius=15) - using shadow-based wall occlusion
[11:25:24] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(287.0293, 1072.606), source=PLAYER (ShotgunPellet), range=500, listeners=5
[11:25:24] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[11:25:24] [INFO] [ImpactEffects] Spawning explosion visual effect at (665.6332, 1126.313) (radius=15) - using shadow-based wall occlusion
[11:25:24] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(665.6332, 1126.313), source=PLAYER (@Area2D@9041), range=500, listeners=5
[11:25:24] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=0, below_threshold=0
[11:25:24] [INFO] [ImpactEffects] Spawning explosion visual effect at (858.465, 974.0739) (radius=15) - using shadow-based wall occlusion
[11:25:24] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(858.465, 974.0739), source=PLAYER (@Area2D@9032), range=500, listeners=5
[11:25:24] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=0
[11:25:24] [INFO] [ImpactEffects] Spawning explosion visual effect at (847.6772, 976.5265) (radius=15) - using shadow-based wall occlusion
[11:25:24] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(847.6772, 976.5265), source=PLAYER (@Area2D@9033), range=500, listeners=5
[11:25:24] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=0
[11:25:24] [ENEMY] [Enemy2] Hit: dmg=1, hp=1/1->0/1
[11:25:24] [INFO] [ImpactEffects] spawn_blood_effect called at (900, 950), dir=(0.999963, 0.008651), lethal=true
[11:25:24] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[11:25:24] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[11:25:24] [INFO] [ImpactEffects] Blood effect spawned at (900, 950) (scale=1.5)
[11:25:24] [ENEMY] [Enemy2] Enemy died (ricochet: false, penetration: false)
[11:25:24] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[11:25:24] [ENEMY] [Enemy2] [AllyDeath] Notified 1 enemies
[11:25:24] [INFO] [SoundPropagation] Unregistered listener: Enemy2 (remaining: 4)
[11:25:24] [INFO] [DeathAnim] Started - Angle: 0.5 deg, Index: 12
[11:25:24] [ENEMY] [Enemy2] Death animation started with hit direction: (0.999963, 0.008651)
[11:25:24] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=5
[11:25:24] [INFO] [ImpactEffects] Spawning explosion visual effect at (1119.812, 1009.832) (radius=15) - using shadow-based wall occlusion
[11:25:24] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1119.812, 1009.832), source=PLAYER (@Area2D@9037), range=500, listeners=4
[11:25:24] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=0
[11:25:24] [ENEMY] [Enemy3] Hit: dmg=1, hp=2/2->1/2
[11:25:24] [INFO] [ImpactEffects] spawn_blood_effect called at (1200, 1000), dir=(0.923271, -0.384148), lethal=false
[11:25:24] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[11:25:24] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[11:25:24] [INFO] [ImpactEffects] Blood effect spawned at (1200, 1000) (scale=1)
[11:25:24] [ENEMY] [Enemy3] Hit: dmg=1, hp=1/2->0/2
[11:25:24] [INFO] [ImpactEffects] spawn_blood_effect called at (1200, 1000), dir=(0.986719, 0.162435), lethal=true
[11:25:24] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[11:25:24] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[11:25:24] [INFO] [ImpactEffects] Blood effect spawned at (1200, 1000) (scale=1.5)
[11:25:24] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[11:25:24] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[11:25:24] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 3)
[11:25:24] [INFO] [DeathAnim] Started - Angle: 9.3 deg, Index: 12
[11:25:24] [ENEMY] [Enemy3] Death animation started with hit direction: (0.986719, 0.162435)
[11:25:24] [INFO] [ImpactEffects] Spawning explosion visual effect at (1382.169, 1098.433) (radius=15) - using shadow-based wall occlusion
[11:25:24] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1382.169, 1098.433), source=PLAYER (@Area2D@9039), range=500, listeners=3
[11:25:24] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=0
[11:25:24] [INFO] [ImpactEffects] Spawning explosion visual effect at (1402.029, 893.4241) (radius=15) - using shadow-based wall occlusion
[11:25:24] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1402.029, 893.4241), source=PLAYER (@Area2D@9034), range=500, listeners=3
[11:25:24] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[11:25:24] [INFO] [ImpactEffects] Spawning explosion visual effect at (1387.568, 940.9637) (radius=15) - using shadow-based wall occlusion
[11:25:24] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1387.568, 940.9637), source=PLAYER (@Area2D@9035), range=500, listeners=3
[11:25:24] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[11:25:24] [INFO] [ImpactEffects] Spawning explosion visual effect at (1391.702, 950.535) (radius=15) - using shadow-based wall occlusion
[11:25:24] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1391.702, 950.535), source=PLAYER (@Area2D@9036), range=500, listeners=3
[11:25:24] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[11:25:24] [INFO] [ImpactEffects] Spawning explosion visual effect at (1401.892, 1058.55) (radius=15) - using shadow-based wall occlusion
[11:25:24] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1401.892, 1058.55), source=PLAYER (@Area2D@9038), range=500, listeners=3
[11:25:24] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[11:25:24] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=850), can_see=false
[11:25:24] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1570), can_see=false
[11:25:24] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1575), can_see=false
[11:25:24] [INFO] [BloodDecal] Blood puddle created at (941.2451, 947.8646) (added to group)
[11:25:24] [INFO] [BloodDecal] Blood puddle created at (964.3423, 976.957) (added to group)
[11:25:24] [INFO] [BloodDecal] Blood puddle created at (952.5972, 957.113) (added to group)
[11:25:24] [INFO] [BloodDecal] Blood puddle created at (987.2395, 999.085) (added to group)
[11:25:24] [INFO] [BloodDecal] Blood puddle created at (951.0822, 954.912) (added to group)
[11:25:24] [INFO] [BloodDecal] Blood puddle created at (1029.29, 984.9733) (added to group)
[11:25:24] [INFO] [BloodDecal] Blood puddle created at (999.8337, 1027.586) (added to group)
[11:25:24] [INFO] [BloodDecal] Blood puddle created at (991.0242, 1032.568) (added to group)
[11:25:24] [INFO] [BloodDecal] Blood puddle created at (1261.394, 1052.659) (added to group)
[11:25:24] [INFO] [BloodDecal] Blood puddle created at (1262.011, 1042.851) (added to group)
[11:25:24] [INFO] [BloodDecal] Blood puddle created at (1237.892, 1008.208) (added to group)
[11:25:25] [ENEMY] [Enemy2] Ragdoll activated
[11:25:25] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[11:25:25] [INFO] [BloodDecal] Blood puddle created at (1008.413, 1000.461) (added to group)
[11:25:25] [INFO] [BloodDecal] Blood puddle created at (1001.348, 1053.035) (added to group)
[11:25:25] [INFO] [BloodDecal] Blood puddle created at (986.149, 992.1207) (added to group)
[11:25:25] [INFO] [BloodDecal] Blood puddle created at (1276.366, 953.8135) (added to group)
[11:25:25] [INFO] [BloodDecal] Blood puddle created at (1239.465, 978.7584) (added to group)
[11:25:25] [INFO] [BloodDecal] Blood puddle created at (1326.556, 1034.217) (added to group)
[11:25:25] [INFO] [BloodDecal] Blood puddle created at (1303.602, 1069.615) (added to group)
[11:25:25] [INFO] [BloodDecal] Blood puddle created at (1259.108, 1037.36) (added to group)
[11:25:25] [INFO] [BloodDecal] Blood puddle created at (1290.065, 1055.54) (added to group)
[11:25:25] [INFO] [BloodDecal] Blood puddle created at (1259.607, 1011.278) (added to group)
[11:25:25] [INFO] [BloodDecal] Blood puddle created at (1292.674, 1089.956) (added to group)
[11:25:25] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[11:25:25] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:25:25] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[11:25:25] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[11:25:25] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[11:25:25] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[11:25:25] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[11:25:25] [INFO] [LastChance] Resetting all effects (scene change detected)
[11:25:25] [INFO] [CinemaEffects] Scene changed to: LabyrinthLevel
[11:25:25] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[11:25:25] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[11:25:25] [ENEMY] [Enemy1] Death animation component initialized
[11:25:25] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:25:25] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[11:25:25] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[11:25:25] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[11:25:25] [ENEMY] [Enemy2] Death animation component initialized
[11:25:25] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:25:25] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[11:25:25] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[11:25:25] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[11:25:25] [ENEMY] [Enemy3] Death animation component initialized
[11:25:25] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:25:25] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[11:25:25] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[11:25:25] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[11:25:25] [ENEMY] [Enemy4] Death animation component initialized
[11:25:25] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:25:25] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[11:25:25] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[11:25:25] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[11:25:25] [ENEMY] [Enemy5] Death animation component initialized
[11:25:25] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:25:25] [INFO] [BloodyFeet:Player] Footprint scene loaded
[11:25:25] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[11:25:25] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[11:25:25] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: F-1 Grenade
[11:25:25] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[11:25:25] [INFO] [Player.Weapon] GameManager weapon selection: shotgun (Shotgun)
[11:25:25] [INFO] [Player.Weapon] Removed default MakarovPM
[11:25:25] [INFO] [Player.Weapon] Equipped Shotgun (ammo: 0/8)
[11:25:25] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[11:25:25] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[11:25:25] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[11:25:25] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[11:25:25] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[11:25:25] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[11:25:25] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[11:25:25] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[11:25:25] [INFO] [Player.Homing] No homing bullets selected in ActiveItemManager
[11:25:25] [INFO] [Player.InvisibilitySuit] No invisibility suit selected in ActiveItemManager
[11:25:25] [INFO] [Player.BreakerBullets] Breaker bullets active — bullets will detonate 60px before walls
[11:25:25] [INFO] [Player.BreakerBullets] Set IsBreakerBulletActive on weapon: Shotgun
[11:25:25] [INFO] [Player] Ready! Ammo: 0/8, Grenades: 1/3, Health: 4/4
[11:25:25] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[11:25:25] [INFO] [LabyrinthLevel] Found Environment/Enemies node with 5 children
[11:25:25] [INFO] [LabyrinthLevel] Child 'Enemy1': script=true, has_died_signal=true
[11:25:25] [INFO] [LabyrinthLevel] Child 'Enemy2': script=true, has_died_signal=true
[11:25:25] [INFO] [LabyrinthLevel] Child 'Enemy3': script=true, has_died_signal=true
[11:25:25] [INFO] [LabyrinthLevel] Child 'Enemy4': script=true, has_died_signal=true
[11:25:25] [INFO] [LabyrinthLevel] Child 'Enemy5': script=true, has_died_signal=true
[11:25:25] [INFO] [LabyrinthLevel] Enemy tracking complete: 5 enemies registered
[11:25:25] [INFO] [LabyrinthLevel] Setting up weapon: shotgun
[11:25:25] [INFO] [LabyrinthLevel] Shotgun already equipped by C# Player - skipping GDScript weapon swap
[11:25:25] [INFO] [ScoreManager] Level started with 5 enemies
[11:25:25] [INFO] [LabyrinthLevel] ReplayManager found as C# autoload - verified OK
[11:25:25] [INFO] [LabyrinthLevel] Starting replay recording - Player: Player, Enemies count: 5
[11:25:25] [INFO] [ReplayManager] Replay data cleared
[11:25:25] [INFO] [LabyrinthLevel] Previous replay data cleared
[11:25:25] [INFO] [ReplayManager] Detected player weapon: Shotgun
[11:25:25] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[11:25:25] [INFO] [ReplayManager] Level: LabyrinthLevel
[11:25:25] [INFO] [ReplayManager] Player: Player (valid: True)
[11:25:25] [INFO] [ReplayManager] Enemies count: 5
[11:25:25] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/shotgun_topdown.png
[11:25:25] [INFO] [ReplayManager]   Enemy 0: Enemy1
[11:25:25] [INFO] [ReplayManager]   Enemy 1: Enemy2
[11:25:25] [INFO] [ReplayManager]   Enemy 2: Enemy3
[11:25:25] [INFO] [ReplayManager]   Enemy 3: Enemy4
[11:25:25] [INFO] [ReplayManager]   Enemy 4: Enemy5
[11:25:25] [INFO] [LabyrinthLevel] Replay recording started successfully
[11:25:25] [INFO] [BloodDecal] Blood puddle created at (1063.48, 1081.866) (added to group)
[11:25:25] [INFO] [BloodDecal] Blood puddle created at (1029.076, 966.8946) (added to group)
[11:25:25] [INFO] [BloodDecal] Blood puddle created at (1106.261, 1063.905) (added to group)
[11:25:25] [INFO] [BloodDecal] Blood puddle created at (1015.301, 990.8917) (added to group)
[11:25:25] [INFO] [BloodDecal] Blood puddle created at (1075.761, 1040.172) (added to group)
[11:25:25] [INFO] [BloodDecal] Blood puddle created at (1060.931, 970.3349) (added to group)
[11:25:25] [INFO] [BloodDecal] Blood puddle created at (1300.316, 1022.194) (added to group)
[11:25:25] [INFO] [BloodDecal] Blood puddle created at (1352.391, 1033.796) (added to group)
[11:25:25] [INFO] [BloodDecal] Blood puddle created at (1285.524, 995.1176) (added to group)
[11:25:25] [INFO] [BloodDecal] Blood puddle created at (1298.436, 1030.912) (added to group)
[11:25:25] [INFO] [BloodDecal] Blood puddle created at (1263.843, 969.0573) (added to group)
[11:25:25] [INFO] [BloodDecal] Blood puddle created at (1362.81, 1026.037) (added to group)
[11:25:25] [INFO] [BloodDecal] Blood puddle created at (1322.75, 1041.529) (added to group)
[11:25:25] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[11:25:25] [INFO] [CinemaEffects] Found player node: Player
[11:25:25] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[11:25:25] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 4)
[11:25:25] [ENEMY] [Enemy1] Registered as sound listener
[11:25:25] [ENEMY] [Enemy1] Spawned at (400, 300), hp: 1, behavior: GUARD
[11:25:25] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[11:25:25] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 5)
[11:25:25] [ENEMY] [Enemy2] Registered as sound listener
[11:25:25] [ENEMY] [Enemy2] Spawned at (900, 950), hp: 1, behavior: GUARD
[11:25:25] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[11:25:25] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 6)
[11:25:25] [ENEMY] [Enemy3] Registered as sound listener
[11:25:25] [ENEMY] [Enemy3] Spawned at (1200, 1000), hp: 2, behavior: PATROL
[11:25:25] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[11:25:25] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 7)
[11:25:25] [ENEMY] [Enemy4] Registered as sound listener
[11:25:25] [ENEMY] [Enemy4] Spawned at (1650, 650), hp: 2, behavior: GUARD
[11:25:25] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[11:25:25] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 8)
[11:25:25] [ENEMY] [Enemy5] Registered as sound listener
[11:25:25] [ENEMY] [Enemy5] Spawned at (1500, 300), hp: 2, behavior: GUARD
[11:25:25] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[11:25:25] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=5
[11:25:25] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(150,1000), corner_timer=0.00
[11:25:25] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=45.0°, current=0.0°, player=(150,1000), corner_timer=0.00
[11:25:25] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(150,1000), corner_timer=0.00
[11:25:25] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(150,1000), corner_timer=0.00
[11:25:25] [INFO] [Player] Detecting weapon pose (frame 3)...
[11:25:25] [INFO] [Player] Detected weapon: Shotgun (Shotgun pose)
[11:25:25] [INFO] [Player] Applied Shotgun arm pose: Left=(21, 6), Right=(-1, 6)
[11:25:25] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[11:25:25] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[11:25:25] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[11:25:25] [INFO] [LastChance] Found player: Player
[11:25:25] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[11:25:25] [INFO] [LastChance] Connected to player Damaged signal (C#)
[11:25:25] [INFO] [LastChance] Connected to player Died signal (C#)
[11:25:25] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[11:25:25] [INFO] [BloodDecal] Blood puddle created at (1035.811, 1057.729) (added to group)
[11:25:25] [INFO] [BloodDecal] Blood puddle created at (1010.628, 1022.711) (added to group)
[11:25:25] [INFO] [BloodDecal] Blood puddle created at (1048.917, 992.7003) (added to group)
[11:25:25] [INFO] [BloodDecal] Blood puddle created at (1361.697, 1013.396) (added to group)
[11:25:25] [INFO] [BloodDecal] Blood puddle created at (1352.981, 1055.534) (added to group)
[11:25:25] [INFO] [BloodDecal] Blood puddle created at (1364.525, 1048.366) (added to group)
[11:25:25] [INFO] [BloodDecal] Blood puddle created at (1370.335, 1046.375) (added to group)
[11:25:25] [INFO] [BloodDecal] Blood puddle created at (1286.468, 1060.728) (added to group)
[11:25:25] [INFO] [BloodDecal] Blood puddle created at (1315.308, 1092.253) (added to group)
[11:25:25] [INFO] [BloodDecal] Blood puddle created at (1353.322, 1039.9) (added to group)
[11:25:25] [ENEMY] [Enemy1] Player ammo empty: false -> true
[11:25:25] [ENEMY] [Enemy2] Player ammo empty: false -> true
[11:25:25] [ENEMY] [Enemy3] Player ammo empty: false -> true
[11:25:25] [ENEMY] [Enemy4] Player ammo empty: false -> true
[11:25:25] [ENEMY] [Enemy5] Player ammo empty: false -> true
[11:25:25] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(150, 1094), source=PLAYER (Player), range=600, listeners=8
[11:25:25] [INFO] [SoundPropagation] Cleaned up 3 invalid listeners
[11:25:25] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[11:25:25] [INFO] [Shotgun.FIX#212] Firing 16 pellets with 15° spread at pos=(150, 1094)
[11:25:25] [INFO] [Shotgun.FIX#212] Normal pellet 1/16: extraOffset=-12,9, distance=39,1px, pos=(184.77438, 1076.1262)
[11:25:25] [INFO] [Shotgun.FIX#212] Normal pellet 2/16: extraOffset=-4,6, distance=47,4px, pos=(192.53864, 1073.0851)
[11:25:25] [INFO] [Shotgun.FIX#212] Normal pellet 3/16: extraOffset=10,6, distance=62,6px, pos=(206.58923, 1067.1501)
[11:25:25] [INFO] [Shotgun.FIX#212] Normal pellet 4/16: extraOffset=7,9, distance=59,9px, pos=(204.0921, 1068.1699)
[11:25:25] [INFO] [Shotgun.FIX#212] Normal pellet 5/16: extraOffset=11,8, distance=63,8px, pos=(207.74448, 1066.8147)
[11:25:25] [INFO] [Shotgun.FIX#212] Normal pellet 6/16: extraOffset=-6,3, distance=45,7px, pos=(192.2161, 1076.503)
[11:25:25] [INFO] [Shotgun.FIX#212] Normal pellet 7/16: extraOffset=6,5, distance=58,5px, pos=(204.05646, 1071.7234)
[11:25:25] [INFO] [Shotgun.FIX#212] Normal pellet 8/16: extraOffset=1,6, distance=53,6px, pos=(199.59375, 1073.7866)
[11:25:25] [INFO] [Shotgun.FIX#212] Normal pellet 9/16: extraOffset=5,6, distance=57,6px, pos=(203.82877, 1073.4202)
[11:25:25] [INFO] [Shotgun.FIX#212] Normal pellet 10/16: extraOffset=-9,6, distance=42,4px, pos=(190.13098, 1080.4652)
[11:25:25] [INFO] [Shotgun.FIX#212] Normal pellet 11/16: extraOffset=-0,3, distance=51,7px, pos=(198.8731, 1077.0709)
[11:25:25] [INFO] [Shotgun.FIX#212] Normal pellet 12/16: extraOffset=-14,2, distance=37,8px, pos=(186.32712, 1083.4672)
[11:25:25] [INFO] [Shotgun.FIX#212] Normal pellet 13/16: extraOffset=-9,9, distance=42,1px, pos=(190.07727, 1081.2029)
[11:25:25] [INFO] [Shotgun.FIX#212] Normal pellet 14/16: extraOffset=1,2, distance=53,2px, pos=(201.10495, 1079.2853)
[11:25:25] [INFO] [Shotgun.FIX#212] Normal pellet 15/16: extraOffset=8,1, distance=60,1px, pos=(208.02954, 1078.1785)
[11:25:25] [INFO] [Shotgun.FIX#212] Normal pellet 16/16: extraOffset=-13,5, distance=38,5px, pos=(187.42801, 1085.1407)
[11:25:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 1094), source=PLAYER (Shotgun), range=1469, listeners=5
[11:25:25] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=3
[11:25:25] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=832), can_see=false
[11:25:25] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=764), can_see=false
[11:25:25] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1054), can_see=false
[11:25:25] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1564), can_see=false
[11:25:25] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1566), can_see=false
[11:25:25] [INFO] [ImpactEffects] Spawning explosion visual effect at (281.1849, 1056.228) (radius=15) - using shadow-based wall occlusion
[11:25:25] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(281.1849, 1056.228), source=PLAYER (@Area2D@9446), range=500, listeners=5
[11:25:25] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[11:25:25] [INFO] [ImpactEffects] Spawning explosion visual effect at (288.4282, 1056.258) (radius=15) - using shadow-based wall occlusion
[11:25:25] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(288.4282, 1056.258), source=PLAYER (@Area2D@9447), range=500, listeners=5
[11:25:25] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[11:25:26] [INFO] [ImpactEffects] Spawning explosion visual effect at (295.9487, 1018.984) (radius=15) - using shadow-based wall occlusion
[11:25:26] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(295.9487, 1018.984), source=PLAYER (ShotgunPellet), range=500, listeners=5
[11:25:26] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[11:25:26] [INFO] [ImpactEffects] Spawning explosion visual effect at (304.7133, 1017.932) (radius=15) - using shadow-based wall occlusion
[11:25:26] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(304.7133, 1017.932), source=PLAYER (@Area2D@9434), range=500, listeners=5
[11:25:26] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[11:25:26] [INFO] [ImpactEffects] Spawning explosion visual effect at (319.5222, 1013.567) (radius=15) - using shadow-based wall occlusion
[11:25:26] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(319.5222, 1013.567), source=PLAYER (@Area2D@9435), range=500, listeners=5
[11:25:26] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[11:25:26] [INFO] [ImpactEffects] Spawning explosion visual effect at (316.8914, 1014.306) (radius=15) - using shadow-based wall occlusion
[11:25:26] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(316.8914, 1014.306), source=PLAYER (@Area2D@9436), range=500, listeners=5
[11:25:26] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[11:25:26] [INFO] [ImpactEffects] Spawning explosion visual effect at (320.8381, 1013.572) (radius=15) - using shadow-based wall occlusion
[11:25:26] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(320.8381, 1013.572), source=PLAYER (@Area2D@9437), range=500, listeners=5
[11:25:26] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[11:25:26] [INFO] [ImpactEffects] Spawning explosion visual effect at (307.6909, 1028.643) (radius=15) - using shadow-based wall occlusion
[11:25:26] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(307.6909, 1028.643), source=PLAYER (@Area2D@9438), range=500, listeners=5
[11:25:26] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[11:25:26] [INFO] [ImpactEffects] Spawning explosion visual effect at (319.6277, 1024.097) (radius=15) - using shadow-based wall occlusion
[11:25:26] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(319.6277, 1024.097), source=PLAYER (@Area2D@9439), range=500, listeners=5
[11:25:26] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[11:25:26] [INFO] [ImpactEffects] Spawning explosion visual effect at (315.3484, 1026.608) (radius=15) - using shadow-based wall occlusion
[11:25:26] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(315.3484, 1026.608), source=PLAYER (@Area2D@9440), range=500, listeners=5
[11:25:26] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[11:25:26] [INFO] [ImpactEffects] Spawning explosion visual effect at (320.5865, 1028.781) (radius=15) - using shadow-based wall occlusion
[11:25:26] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(320.5865, 1028.781), source=PLAYER (@Area2D@9441), range=500, listeners=5
[11:25:26] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[11:25:26] [INFO] [ImpactEffects] Spawning explosion visual effect at (308.576, 1040.518) (radius=15) - using shadow-based wall occlusion
[11:25:26] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(308.576, 1040.518), source=PLAYER (@Area2D@9442), range=500, listeners=5
[11:25:26] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[11:25:26] [INFO] [ImpactEffects] Spawning explosion visual effect at (316.9878, 1036.157) (radius=15) - using shadow-based wall occlusion
[11:25:26] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(316.9878, 1036.157), source=PLAYER (@Area2D@9443), range=500, listeners=5
[11:25:26] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[11:25:26] [INFO] [ImpactEffects] Spawning explosion visual effect at (306.3825, 1048.658) (radius=15) - using shadow-based wall occlusion
[11:25:26] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(306.3825, 1048.658), source=PLAYER (@Area2D@9444), range=500, listeners=5
[11:25:26] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[11:25:26] [INFO] [ImpactEffects] Spawning explosion visual effect at (309.1541, 1043.18) (radius=15) - using shadow-based wall occlusion
[11:25:26] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(309.1541, 1043.18), source=PLAYER (@Area2D@9445), range=500, listeners=5
[11:25:26] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[11:25:26] [INFO] [ImpactEffects] Spawning explosion visual effect at (309.0669, 1056.349) (radius=15) - using shadow-based wall occlusion
[11:25:26] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(309.0669, 1056.349), source=PLAYER (@Area2D@9448), range=500, listeners=5
[11:25:26] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[11:25:26] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=5
[11:25:26] [ENEMY] [Enemy2] Hit: dmg=1, hp=1/1->0/1
[11:25:26] [INFO] [ImpactEffects] spawn_blood_effect called at (900, 950), dir=(0.996553, -0.082961), lethal=true
[11:25:26] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[11:25:26] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[11:25:26] [INFO] [ImpactEffects] Blood effect spawned at (900, 950) (scale=1.5)
[11:25:26] [ENEMY] [Enemy2] Enemy died (ricochet: false, penetration: false)
[11:25:26] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[11:25:26] [ENEMY] [Enemy2] [AllyDeath] Notified 1 enemies
[11:25:26] [INFO] [SoundPropagation] Unregistered listener: Enemy2 (remaining: 4)
[11:25:26] [INFO] [DeathAnim] Started - Angle: -4.8 deg, Index: 11
[11:25:26] [ENEMY] [Enemy2] Death animation started with hit direction: (0.996553, -0.082961)
[11:25:26] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=850), can_see=false
[11:25:26] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1056), can_see=false
[11:25:26] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1570), can_see=false
[11:25:26] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1575), can_see=false
[11:25:27] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[11:25:27] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:25:27] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[11:25:27] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[11:25:27] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[11:25:27] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[11:25:27] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[11:25:27] [INFO] [LastChance] Resetting all effects (scene change detected)
[11:25:27] [INFO] [CinemaEffects] Scene changed to: LabyrinthLevel
[11:25:27] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[11:25:27] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[11:25:27] [INFO] [EnemyGrenade] Initialized: 1 grenades
[11:25:27] [ENEMY] [Enemy1] Death animation component initialized
[11:25:27] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:25:27] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[11:25:27] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[11:25:27] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[11:25:27] [ENEMY] [Enemy2] Death animation component initialized
[11:25:27] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:25:27] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[11:25:27] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[11:25:27] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[11:25:27] [INFO] [EnemyGrenade] Initialized: 1 grenades
[11:25:27] [ENEMY] [Enemy3] Death animation component initialized
[11:25:27] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:25:27] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[11:25:27] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[11:25:27] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[11:25:27] [ENEMY] [Enemy4] Death animation component initialized
[11:25:27] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:25:27] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[11:25:27] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[11:25:27] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[11:25:27] [ENEMY] [Enemy5] Death animation component initialized
[11:25:27] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:25:27] [INFO] [BloodyFeet:Player] Footprint scene loaded
[11:25:27] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[11:25:27] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[11:25:27] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: F-1 Grenade
[11:25:27] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[11:25:27] [INFO] [Player.Weapon] GameManager weapon selection: shotgun (Shotgun)
[11:25:27] [INFO] [Player.Weapon] Removed default MakarovPM
[11:25:27] [INFO] [Player.Weapon] Equipped Shotgun (ammo: 0/8)
[11:25:27] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[11:25:27] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[11:25:27] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[11:25:27] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[11:25:27] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[11:25:27] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[11:25:27] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[11:25:27] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[11:25:27] [INFO] [Player.Homing] No homing bullets selected in ActiveItemManager
[11:25:27] [INFO] [Player.InvisibilitySuit] No invisibility suit selected in ActiveItemManager
[11:25:27] [INFO] [Player.BreakerBullets] Breaker bullets active — bullets will detonate 60px before walls
[11:25:27] [INFO] [Player.BreakerBullets] Set IsBreakerBulletActive on weapon: Shotgun
[11:25:27] [INFO] [Player] Ready! Ammo: 0/8, Grenades: 1/3, Health: 3/4
[11:25:27] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[11:25:27] [INFO] [LabyrinthLevel] Found Environment/Enemies node with 5 children
[11:25:27] [INFO] [LabyrinthLevel] Child 'Enemy1': script=true, has_died_signal=true
[11:25:27] [INFO] [LabyrinthLevel] Child 'Enemy2': script=true, has_died_signal=true
[11:25:27] [INFO] [LabyrinthLevel] Child 'Enemy3': script=true, has_died_signal=true
[11:25:27] [INFO] [LabyrinthLevel] Child 'Enemy4': script=true, has_died_signal=true
[11:25:27] [INFO] [LabyrinthLevel] Child 'Enemy5': script=true, has_died_signal=true
[11:25:27] [INFO] [LabyrinthLevel] Enemy tracking complete: 5 enemies registered
[11:25:27] [INFO] [LabyrinthLevel] Setting up weapon: shotgun
[11:25:27] [INFO] [LabyrinthLevel] Shotgun already equipped by C# Player - skipping GDScript weapon swap
[11:25:27] [INFO] [ScoreManager] Level started with 5 enemies
[11:25:27] [INFO] [LabyrinthLevel] ReplayManager found as C# autoload - verified OK
[11:25:27] [INFO] [LabyrinthLevel] Starting replay recording - Player: Player, Enemies count: 5
[11:25:27] [INFO] [ReplayManager] Replay data cleared
[11:25:27] [INFO] [LabyrinthLevel] Previous replay data cleared
[11:25:27] [INFO] [ReplayManager] Detected player weapon: Shotgun
[11:25:27] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[11:25:27] [INFO] [ReplayManager] Level: LabyrinthLevel
[11:25:27] [INFO] [ReplayManager] Player: Player (valid: True)
[11:25:27] [INFO] [ReplayManager] Enemies count: 5
[11:25:27] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/shotgun_topdown.png
[11:25:27] [INFO] [ReplayManager]   Enemy 0: Enemy1
[11:25:27] [INFO] [ReplayManager]   Enemy 1: Enemy2
[11:25:27] [INFO] [ReplayManager]   Enemy 2: Enemy3
[11:25:27] [INFO] [ReplayManager]   Enemy 3: Enemy4
[11:25:27] [INFO] [ReplayManager]   Enemy 4: Enemy5
[11:25:27] [INFO] [LabyrinthLevel] Replay recording started successfully
[11:25:27] [INFO] [BloodDecal] Blood puddle created at (981.5134, 932.1185) (added to group)
[11:25:27] [INFO] [BloodDecal] Blood puddle created at (1026.247, 943.8682) (added to group)
[11:25:27] [INFO] [BloodDecal] Blood puddle created at (1004.839, 1012.772) (added to group)
[11:25:27] [INFO] [BloodDecal] Blood puddle created at (1000.658, 1000.418) (added to group)
[11:25:27] [INFO] [BloodDecal] Blood puddle created at (968.0728, 931.596) (added to group)
[11:25:27] [INFO] [BloodDecal] Blood puddle created at (979.3492, 992.2583) (added to group)
[11:25:27] [INFO] [BloodDecal] Blood puddle created at (1022.161, 935.7137) (added to group)
[11:25:27] [INFO] [BloodDecal] Blood puddle created at (968.5782, 980.5931) (added to group)
[11:25:27] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[11:25:27] [INFO] [CinemaEffects] Found player node: Player
[11:25:27] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[11:25:27] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 5)
[11:25:27] [ENEMY] [Enemy1] Registered as sound listener
[11:25:27] [ENEMY] [Enemy1] Spawned at (400, 300), hp: 2, behavior: GUARD
[11:25:27] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[11:25:27] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 6)
[11:25:27] [ENEMY] [Enemy2] Registered as sound listener
[11:25:27] [ENEMY] [Enemy2] Spawned at (900, 950), hp: 2, behavior: GUARD
[11:25:27] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[11:25:27] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 7)
[11:25:27] [ENEMY] [Enemy3] Registered as sound listener
[11:25:27] [ENEMY] [Enemy3] Spawned at (1200, 1000), hp: 1, behavior: PATROL
[11:25:27] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[11:25:27] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 8)
[11:25:27] [ENEMY] [Enemy4] Registered as sound listener
[11:25:27] [ENEMY] [Enemy4] Spawned at (1650, 650), hp: 1, behavior: GUARD
[11:25:27] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[11:25:27] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 9)
[11:25:27] [ENEMY] [Enemy5] Registered as sound listener
[11:25:27] [ENEMY] [Enemy5] Spawned at (1500, 300), hp: 3, behavior: GUARD
[11:25:27] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[11:25:27] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=5
[11:25:27] [INFO] [EnemyGrenade] Target (600, 1000) not in enemy FOV - skipping throw
[11:25:27] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (600, 1000) - skipping throw
[11:25:27] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(150,1000), corner_timer=0.00
[11:25:27] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=337.5°, current=0.0°, player=(150,1000), corner_timer=0.00
[11:25:27] [INFO] [EnemyGrenade] Target (600, 1000) not in enemy FOV - skipping throw
[11:25:27] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (600, 1000) - skipping throw
[11:25:27] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(150,1000), corner_timer=0.00
[11:25:27] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=281.3°, current=0.0°, player=(150,1000), corner_timer=0.00
[11:25:27] [INFO] [EnemyGrenade] Target (600, 1000) not in enemy FOV - skipping throw
[11:25:27] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (600, 1000) - skipping throw
[11:25:27] [INFO] [Player] Detecting weapon pose (frame 3)...
[11:25:27] [INFO] [Player] Detected weapon: Shotgun (Shotgun pose)
[11:25:27] [INFO] [Player] Applied Shotgun arm pose: Left=(21, 6), Right=(-1, 6)
[11:25:27] [INFO] [EnemyGrenade] Target (600, 1000) not in enemy FOV - skipping throw
[11:25:27] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (600, 1000) - skipping throw
[11:25:27] [INFO] [EnemyGrenade] Target (600, 1000) not in enemy FOV - skipping throw
[11:25:27] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (600, 1000) - skipping throw
[11:25:27] [INFO] [EnemyGrenade] Target (600, 1000) not in enemy FOV - skipping throw
[11:25:27] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (600, 1000) - skipping throw
[11:25:27] [INFO] [EnemyGrenade] Target (600, 1000) not in enemy FOV - skipping throw
[11:25:27] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (600, 1000) - skipping throw
[11:25:27] [INFO] [EnemyGrenade] Target (600, 1000) not in enemy FOV - skipping throw
[11:25:27] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (600, 1000) - skipping throw
[11:25:27] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[11:25:27] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[11:25:27] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[11:25:27] [INFO] [LastChance] Found player: Player
[11:25:27] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[11:25:27] [INFO] [LastChance] Connected to player Damaged signal (C#)
[11:25:27] [INFO] [LastChance] Connected to player Died signal (C#)
[11:25:27] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[11:25:27] [INFO] [BloodDecal] Blood puddle created at (973.1021, 968.332) (added to group)
[11:25:27] [INFO] [BloodDecal] Blood puddle created at (985.3749, 983.3312) (added to group)
[11:25:27] [INFO] [BloodDecal] Blood puddle created at (1050.253, 1022.554) (added to group)
[11:25:27] [INFO] [BloodDecal] Blood puddle created at (1012.554, 1038.174) (added to group)
[11:25:27] [INFO] [BloodDecal] Blood puddle created at (1018.335, 1007.442) (added to group)
[11:25:27] [INFO] [BloodDecal] Blood puddle created at (1043.297, 985.5734) (added to group)
[11:25:27] [INFO] [BloodDecal] Blood puddle created at (1065.733, 960.3898) (added to group)
[11:25:27] [INFO] [EnemyGrenade] Target (600, 1000) not in enemy FOV - skipping throw
[11:25:27] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (600, 1000) - skipping throw
[11:25:27] [INFO] [EnemyGrenade] Target (600, 1000) not in enemy FOV - skipping throw
[11:25:27] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (600, 1000) - skipping throw
[11:25:27] [INFO] [BloodDecal] Blood puddle created at (1036.449, 1037.072) (added to group)
[11:25:27] [INFO] [EnemyGrenade] Target (600, 1000.19) not in enemy FOV - skipping throw
[11:25:27] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (600, 1000.19) - skipping throw
[11:25:27] [INFO] [EnemyGrenade] Target (600.0003, 1000.571) not in enemy FOV - skipping throw
[11:25:27] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (600.0003, 1000.571) - skipping throw
[11:25:27] [INFO] [EnemyGrenade] Target (600.0011, 1001.143) not in enemy FOV - skipping throw
[11:25:27] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (600.0011, 1001.143) - skipping throw
[11:25:27] [INFO] [BloodDecal] Blood puddle created at (1014.732, 995.2137) (added to group)
[11:25:27] [INFO] [EnemyGrenade] Target (600.003, 1001.905) not in enemy FOV - skipping throw
[11:25:27] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (600.003, 1001.905) - skipping throw
[11:25:27] [INFO] [EnemyGrenade] Target (600.0068, 1002.857) not in enemy FOV - skipping throw
[11:25:27] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (600.0068, 1002.857) - skipping throw
[11:25:27] [INFO] [EnemyGrenade] Target (600.0134, 1004) not in enemy FOV - skipping throw
[11:25:27] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (600.0134, 1004) - skipping throw
[11:25:27] [INFO] [BloodDecal] Blood puddle created at (1088.661, 958.8629) (added to group)
[11:25:27] [INFO] [BloodDecal] Blood puddle created at (1023.217, 1082.897) (added to group)
[11:25:27] [INFO] [EnemyGrenade] Target (600.0237, 1005.333) not in enemy FOV - skipping throw
[11:25:27] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (600.0237, 1005.333) - skipping throw
[11:25:27] [INFO] [BloodDecal] Blood puddle created at (1031.815, 1094.081) (added to group)
[11:25:27] [INFO] [EnemyGrenade] Target (600.0392, 1006.857) not in enemy FOV - skipping throw
[11:25:27] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (600.0392, 1006.857) - skipping throw
[11:25:27] [INFO] [EnemyGrenade] Target (600.0612, 1008.571) not in enemy FOV - skipping throw
[11:25:27] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (600.0612, 1008.571) - skipping throw
[11:25:27] [INFO] [EnemyGrenade] Target (600.0854, 1010.126) not in enemy FOV - skipping throw
[11:25:27] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (600.0854, 1010.126) - skipping throw
[11:25:27] [INFO] [EnemyGrenade] Target (600.1107, 1011.522) not in enemy FOV - skipping throw
[11:25:27] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (600.1107, 1011.522) - skipping throw
[11:25:27] [INFO] [EnemyGrenade] Target (600.1356, 1012.759) not in enemy FOV - skipping throw
[11:25:27] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (600.1356, 1012.759) - skipping throw
[11:25:27] [INFO] [EnemyGrenade] Target (600.1596, 1013.838) not in enemy FOV - skipping throw
[11:25:27] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (600.1596, 1013.838) - skipping throw
[11:25:27] [INFO] [EnemyGrenade] Target (600.1815, 1014.757) not in enemy FOV - skipping throw
[11:25:27] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (600.1815, 1014.757) - skipping throw
[11:25:27] [INFO] [EnemyGrenade] Target (600.2007, 1015.519) not in enemy FOV - skipping throw
[11:25:27] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (600.2007, 1015.519) - skipping throw
[11:25:27] [INFO] [EnemyGrenade] Target (600.2167, 1016.121) not in enemy FOV - skipping throw
[11:25:27] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (600.2167, 1016.121) - skipping throw
[11:25:27] [INFO] [EnemyGrenade] Target (600.2287, 1016.565) not in enemy FOV - skipping throw
[11:25:27] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (600.2287, 1016.565) - skipping throw
[11:25:27] [INFO] [EnemyGrenade] Target (600.2366, 1016.851) not in enemy FOV - skipping throw
[11:25:27] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (600.2366, 1016.851) - skipping throw
[11:25:27] [INFO] [EnemyGrenade] Target (600.2402, 1016.977) not in enemy FOV - skipping throw
[11:25:27] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (600.2402, 1016.977) - skipping throw
[11:25:27] [INFO] [EnemyGrenade] Target (600.2402, 1016.977) not in enemy FOV - skipping throw
[11:25:27] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (600.2402, 1016.977) - skipping throw
[11:25:27] [INFO] [EnemyGrenade] Target (600.2402, 1016.977) not in enemy FOV - skipping throw
[11:25:27] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (600.2402, 1016.977) - skipping throw
[11:25:27] [INFO] [EnemyGrenade] Target (600.2402, 1016.977) not in enemy FOV - skipping throw
[11:25:27] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (600.2402, 1016.977) - skipping throw
[11:25:27] [INFO] [EnemyGrenade] Target (600.2402, 1016.977) not in enemy FOV - skipping throw
[11:25:27] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (600.2402, 1016.977) - skipping throw
[11:25:27] [INFO] [EnemyGrenade] Target (600.2402, 1016.977) not in enemy FOV - skipping throw
[11:25:27] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (600.2402, 1016.977) - skipping throw
[11:25:27] [INFO] [EnemyGrenade] Target (600.2402, 1016.977) not in enemy FOV - skipping throw
[11:25:27] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (600.2402, 1016.977) - skipping throw
[11:25:27] [INFO] [EnemyGrenade] Target (600.2402, 1016.977) not in enemy FOV - skipping throw
[11:25:27] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (600.2402, 1016.977) - skipping throw
[11:25:27] [INFO] [EnemyGrenade] Target (600.2402, 1016.977) not in enemy FOV - skipping throw
[11:25:27] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (600.2402, 1016.977) - skipping throw
[11:25:27] [INFO] [EnemyGrenade] Target (600.2402, 1016.977) not in enemy FOV - skipping throw
[11:25:27] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (600.2402, 1016.977) - skipping throw
[11:25:27] [INFO] [EnemyGrenade] Target (600.2402, 1016.977) not in enemy FOV - skipping throw
[11:25:27] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (600.2402, 1016.977) - skipping throw
[11:25:27] [INFO] [EnemyGrenade] Target (600.2402, 1016.977) not in enemy FOV - skipping throw
[11:25:27] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (600.2402, 1016.977) - skipping throw
[11:25:27] [INFO] [EnemyGrenade] Target (600.2457, 1017.168) not in enemy FOV - skipping throw
[11:25:27] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (600.2457, 1017.168) - skipping throw
[11:25:27] [INFO] [EnemyGrenade] Target (600.2567, 1017.548) not in enemy FOV - skipping throw
[11:25:27] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (600.2567, 1017.548) - skipping throw
[11:25:27] [INFO] [EnemyGrenade] Target (600.2736, 1018.119) not in enemy FOV - skipping throw
[11:25:27] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (600.2736, 1018.119) - skipping throw
[11:25:27] [INFO] [EnemyGrenade] Target (600.2971, 1018.88) not in enemy FOV - skipping throw
[11:25:27] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (600.2971, 1018.88) - skipping throw
[11:25:27] [INFO] [EnemyGrenade] Target (600.3278, 1019.83) not in enemy FOV - skipping throw
[11:25:27] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (600.3278, 1019.83) - skipping throw
[11:25:27] [INFO] [EnemyGrenade] Target (600.3666, 1020.971) not in enemy FOV - skipping throw
[11:25:27] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (600.3666, 1020.971) - skipping throw
[11:25:28] [INFO] [EnemyGrenade] Target (600.4146, 1022.302) not in enemy FOV - skipping throw
[11:25:28] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (600.4146, 1022.302) - skipping throw
[11:25:28] [INFO] [EnemyGrenade] Target (600.4687, 1023.71) not in enemy FOV - skipping throw
[11:25:28] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (600.4687, 1023.71) - skipping throw
[11:25:28] [INFO] [EnemyGrenade] Target (600.5293, 1025.197) not in enemy FOV - skipping throw
[11:25:28] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (600.5293, 1025.197) - skipping throw
[11:25:28] [INFO] [EnemyGrenade] Target (600.5971, 1026.763) not in enemy FOV - skipping throw
[11:25:28] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (600.5971, 1026.763) - skipping throw
[11:25:28] [INFO] [EnemyGrenade] Target (600.673, 1028.41) not in enemy FOV - skipping throw
[11:25:28] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (600.673, 1028.41) - skipping throw
[11:25:28] [INFO] [EnemyGrenade] Target (600.7576, 1030.141) not in enemy FOV - skipping throw
[11:25:28] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (600.7576, 1030.141) - skipping throw
[11:25:28] [INFO] [EnemyGrenade] Target (600.8516, 1031.956) not in enemy FOV - skipping throw
[11:25:28] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (600.8516, 1031.956) - skipping throw
[11:25:28] [INFO] [EnemyGrenade] Target (600.9561, 1033.858) not in enemy FOV - skipping throw
[11:25:28] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (600.9561, 1033.858) - skipping throw
[11:25:28] [INFO] [EnemyGrenade] Target (601.0718, 1035.848) not in enemy FOV - skipping throw
[11:25:28] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (601.0718, 1035.848) - skipping throw
[11:25:28] [INFO] [EnemyGrenade] Target (601.2001, 1037.929) not in enemy FOV - skipping throw
[11:25:28] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (601.2001, 1037.929) - skipping throw
[11:25:28] [INFO] [EnemyGrenade] Target (601.3417, 1040.104) not in enemy FOV - skipping throw
[11:25:28] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (601.3417, 1040.104) - skipping throw
[11:25:28] [INFO] [EnemyGrenade] Target (601.4982, 1042.374) not in enemy FOV - skipping throw
[11:25:28] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (601.4982, 1042.374) - skipping throw
[11:25:28] [INFO] [EnemyGrenade] Target (601.6705, 1044.742) not in enemy FOV - skipping throw
[11:25:28] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (601.6705, 1044.742) - skipping throw
[11:25:28] [INFO] [EnemyGrenade] Target (601.8574, 1047.175) not in enemy FOV - skipping throw
[11:25:28] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (601.8574, 1047.175) - skipping throw
[11:25:28] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=5
[11:25:28] [INFO] [EnemyGrenade] Target (602.0556, 1049.623) not in enemy FOV - skipping throw
[11:25:28] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (602.0556, 1049.623) - skipping throw
[11:25:28] [INFO] [EnemyGrenade] Target (602.2653, 1052.088) not in enemy FOV - skipping throw
[11:25:28] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (602.2653, 1052.088) - skipping throw
[11:25:28] [INFO] [EnemyGrenade] Target (602.4708, 1054.396) not in enemy FOV - skipping throw
[11:25:28] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (602.4708, 1054.396) - skipping throw
[11:25:28] [INFO] [EnemyGrenade] Target (602.6703, 1056.545) not in enemy FOV - skipping throw
[11:25:28] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (602.6703, 1056.545) - skipping throw
[11:25:28] [INFO] [EnemyGrenade] Target (602.868, 1058.596) not in enemy FOV - skipping throw
[11:25:28] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (602.868, 1058.596) - skipping throw
[11:25:28] [ENEMY] [Enemy1] Player ammo empty: false -> true
[11:25:28] [ENEMY] [Enemy2] Player ammo empty: false -> true
[11:25:28] [ENEMY] [Enemy3] Player ammo empty: false -> true
[11:25:28] [ENEMY] [Enemy4] Player ammo empty: false -> true
[11:25:28] [ENEMY] [Enemy5] Player ammo empty: false -> true
[11:25:28] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(201.6027, 1101.264), source=PLAYER (Player), range=600, listeners=9
[11:25:28] [INFO] [SoundPropagation] Cleaned up 4 invalid listeners
[11:25:28] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[11:25:28] [INFO] [Shotgun.FIX#212] Firing 10 pellets with 15° spread at pos=(201.6027, 1101.2638)
[11:25:28] [INFO] [Shotgun.FIX#212] Normal pellet 1/10: extraOffset=-5,6, distance=46,4px, pos=(247.14806, 1092.5825)
[11:25:28] [INFO] [Shotgun.FIX#212] Normal pellet 2/10: extraOffset=-9,7, distance=42,3px, pos=(243.50476, 1095.2437)
[11:25:28] [INFO] [Shotgun.FIX#212] Normal pellet 3/10: extraOffset=-2,8, distance=49,2px, pos=(250.30093, 1094.3441)
[11:25:28] [INFO] [Shotgun.FIX#212] Normal pellet 4/10: extraOffset=-3,7, distance=48,3px, pos=(249.66922, 1096.081)
[11:25:28] [INFO] [Shotgun.FIX#212] Normal pellet 5/10: extraOffset=-8,8, distance=43,2px, pos=(244.72481, 1098.7709)
[11:25:28] [INFO] [Shotgun.FIX#212] Normal pellet 6/10: extraOffset=1,5, distance=53,5px, pos=(255.08813, 1098.6533)
[11:25:28] [INFO] [Shotgun.FIX#212] Normal pellet 7/10: extraOffset=14,9, distance=66,9px, pos=(268.4623, 1102.9519)
[11:25:28] [INFO] [Shotgun.FIX#212] Normal pellet 8/10: extraOffset=-5,9, distance=46,1px, pos=(247.66188, 1103.3577)
[11:25:28] [INFO] [Shotgun.FIX#212] Normal pellet 9/10: extraOffset=-8,0, distance=44,0px, pos=(245.45233, 1104.5559)
[11:25:28] [INFO] [Shotgun.FIX#212] Normal pellet 10/10: extraOffset=-11,0, distance=41,0px, pos=(242.41455, 1105.6373)
[11:25:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(201.6027, 1101.264), source=PLAYER (Shotgun), range=1469, listeners=5
[11:25:28] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=3
[11:25:28] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=825), can_see=false
[11:25:28] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=715), can_see=false
[11:25:28] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1004), can_see=false
[11:25:28] [INFO] [EnemyGrenade] Target (603.0626, 1060.545) not in enemy FOV - skipping throw
[11:25:28] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (603.0626, 1060.545) - skipping throw
[11:25:28] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1517), can_see=false
[11:25:28] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1526), can_see=false
[11:25:28] [INFO] [EnemyGrenade] Target (603.2527, 1062.392) not in enemy FOV - skipping throw
[11:25:28] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (603.2527, 1062.392) - skipping throw
[11:25:28] [INFO] [EnemyGrenade] Target (603.4374, 1064.133) not in enemy FOV - skipping throw
[11:25:28] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (603.4374, 1064.133) - skipping throw
[11:25:28] [INFO] [EnemyGrenade] Target (603.6154, 1065.767) not in enemy FOV - skipping throw
[11:25:28] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (603.6154, 1065.767) - skipping throw
[11:25:28] [INFO] [ImpactEffects] Spawning explosion visual effect at (408.1324, 1123.396) (radius=15) - using shadow-based wall occlusion
[11:25:28] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(408.1324, 1123.396), source=PLAYER (@Area2D@9959), range=500, listeners=5
[11:25:28] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[11:25:28] [INFO] [EnemyGrenade] Target (603.7856, 1067.293) not in enemy FOV - skipping throw
[11:25:28] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (603.7856, 1067.293) - skipping throw
[11:25:28] [INFO] [EnemyGrenade] Target (603.8515, 1067.875) not in enemy FOV - skipping throw
[11:25:28] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (603.8515, 1067.875) - skipping throw
[11:25:28] [INFO] [EnemyGrenade] Target (603.8691, 1068.029) not in enemy FOV - skipping throw
[11:25:28] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (603.8691, 1068.029) - skipping throw
[11:25:28] [INFO] [ImpactEffects] Spawning explosion visual effect at (536.3005, 1126.392) (radius=15) - using shadow-based wall occlusion
[11:25:28] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(536.3005, 1126.392), source=PLAYER (@Area2D@9958), range=500, listeners=5
[11:25:28] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=0, below_threshold=0
[11:25:28] [INFO] [EnemyGrenade] Target (603.8849, 1068.167) not in enemy FOV - skipping throw
[11:25:28] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (603.8849, 1068.167) - skipping throw
[11:25:28] [INFO] [EnemyGrenade] Target (603.8981, 1068.282) not in enemy FOV - skipping throw
[11:25:28] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (603.8981, 1068.282) - skipping throw
[11:25:28] [INFO] [EnemyGrenade] Target (603.9087, 1068.375) not in enemy FOV - skipping throw
[11:25:28] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (603.9087, 1068.375) - skipping throw
[11:25:28] [INFO] [EnemyGrenade] Target (603.9167, 1068.445) not in enemy FOV - skipping throw
[11:25:28] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (603.9167, 1068.445) - skipping throw
[11:25:28] [INFO] [EnemyGrenade] Target (603.9221, 1068.491) not in enemy FOV - skipping throw
[11:25:28] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (603.9221, 1068.491) - skipping throw
[11:25:28] [INFO] [ImpactEffects] Spawning explosion visual effect at (747.1459, 1126.064) (radius=15) - using shadow-based wall occlusion
[11:25:28] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(747.1459, 1126.064), source=PLAYER (@Area2D@9957), range=500, listeners=5
[11:25:28] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=0
[11:25:28] [INFO] [EnemyGrenade] Target (603.9247, 1068.514) not in enemy FOV - skipping throw
[11:25:28] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (603.9247, 1068.514) - skipping throw
[11:25:28] [INFO] [EnemyGrenade] Target (603.9247, 1068.515) not in enemy FOV - skipping throw
[11:25:28] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (603.9247, 1068.515) - skipping throw
[11:25:28] [INFO] [EnemyGrenade] Target (603.9221, 1068.492) not in enemy FOV - skipping throw
[11:25:28] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (603.9221, 1068.492) - skipping throw
[11:25:28] [INFO] [ImpactEffects] Spawning explosion visual effect at (861.095, 975.5598) (radius=15) - using shadow-based wall occlusion
[11:25:28] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(861.095, 975.5598), source=PLAYER (ShotgunPellet), range=500, listeners=5
[11:25:28] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=0
[11:25:28] [INFO] [EnemyGrenade] Target (603.9169, 1068.446) not in enemy FOV - skipping throw
[11:25:28] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (603.9169, 1068.446) - skipping throw
[11:25:28] [ENEMY] [Enemy2] Hit: dmg=1, hp=2/2->1/2
[11:25:28] [INFO] [ImpactEffects] spawn_blood_effect called at (900, 950), dir=(1, -0.000255), lethal=false
[11:25:28] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[11:25:28] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[11:25:28] [INFO] [ImpactEffects] Blood effect spawned at (900, 950) (scale=1)
[11:25:28] [ENEMY] [Enemy2] Hit: dmg=1, hp=1/2->0/2
[11:25:28] [INFO] [ImpactEffects] spawn_blood_effect called at (900, 950), dir=(0.781462, -0.623953), lethal=true
[11:25:28] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[11:25:28] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[11:25:28] [INFO] [ImpactEffects] Wall found for blood splatter at (937.5732, 920) (dist=48 px)
[11:25:28] [INFO] [BloodDecal] Blood puddle created at (937.5732, 921) (added to group)
[11:25:28] [INFO] [ImpactEffects] Blood effect spawned at (900, 950) (scale=1.5)
[11:25:28] [ENEMY] [Enemy2] Enemy died (ricochet: false, penetration: false)
[11:25:28] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[11:25:28] [ENEMY] [Enemy2] [AllyDeath] Notified 1 enemies
[11:25:28] [INFO] [SoundPropagation] Unregistered listener: Enemy2 (remaining: 4)
[11:25:28] [INFO] [DeathAnim] Started - Angle: -38.6 deg, Index: 9
[11:25:28] [ENEMY] [Enemy2] Death animation started with hit direction: (0.781462, -0.623953)
[11:25:28] [INFO] [EnemyGrenade] Target (603.909, 1068.378) not in enemy FOV - skipping throw
[11:25:28] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (603.909, 1068.378) - skipping throw
[11:25:28] [INFO] [EnemyGrenade] Target (603.8811, 1068.134) not in enemy FOV - skipping throw
[11:25:28] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (603.8811, 1068.134) - skipping throw
[11:25:28] [INFO] [EnemyGrenade] Target (603.8336, 1067.717) not in enemy FOV - skipping throw
[11:25:28] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (603.8336, 1067.717) - skipping throw
[11:25:28] [INFO] [EnemyGrenade] Target (603.7668, 1067.127) not in enemy FOV - skipping throw
[11:25:28] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (603.7668, 1067.127) - skipping throw
[11:25:28] [INFO] [EnemyGrenade] Target (603.6815, 1066.364) not in enemy FOV - skipping throw
[11:25:28] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (603.6815, 1066.364) - skipping throw
[11:25:28] [INFO] [ImpactEffects] Spawning explosion visual effect at (1119.627, 1002.278) (radius=15) - using shadow-based wall occlusion
[11:25:28] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1119.627, 1002.278), source=PLAYER (@Area2D@9953), range=500, listeners=4
[11:25:28] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=0
[11:25:28] [INFO] [EnemyGrenade] Target (603.5784, 1065.431) not in enemy FOV - skipping throw
[11:25:28] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (603.5784, 1065.431) - skipping throw
[11:25:28] [INFO] [EnemyGrenade] Target (603.4584, 1064.329) not in enemy FOV - skipping throw
[11:25:28] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (603.4584, 1064.329) - skipping throw
[11:25:28] [ENEMY] [Enemy3] Hit: dmg=1, hp=1/1->0/1
[11:25:28] [INFO] [ImpactEffects] spawn_blood_effect called at (1200, 1000), dir=(0.998612, -0.05267), lethal=true
[11:25:28] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[11:25:28] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[11:25:28] [INFO] [ImpactEffects] Blood effect spawned at (1200, 1000) (scale=1.5)
[11:25:28] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[11:25:28] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[11:25:28] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 3)
[11:25:28] [INFO] [DeathAnim] Started - Angle: -3.0 deg, Index: 11
[11:25:28] [ENEMY] [Enemy3] Death animation started with hit direction: (0.998612, -0.05267)
[11:25:28] [INFO] [ImpactEffects] Spawning explosion visual effect at (1378.751, 1043.81) (radius=15) - using shadow-based wall occlusion
[11:25:28] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1378.751, 1043.81), source=PLAYER (@Area2D@9955), range=500, listeners=3
[11:25:28] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[11:25:28] [INFO] [ImpactEffects] Spawning explosion visual effect at (1398.314, 929.3311) (radius=15) - using shadow-based wall occlusion
[11:25:28] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1398.314, 929.3311), source=PLAYER (@Area2D@9951), range=500, listeners=3
[11:25:28] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[11:25:28] [INFO] [ImpactEffects] Spawning explosion visual effect at (1405.366, 930.2177) (radius=15) - using shadow-based wall occlusion
[11:25:28] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1405.366, 930.2177), source=PLAYER (@Area2D@9952), range=500, listeners=3
[11:25:28] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[11:25:28] [INFO] [ImpactEffects] Spawning explosion visual effect at (1409.447, 1031.437) (radius=15) - using shadow-based wall occlusion
[11:25:28] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1409.447, 1031.437), source=PLAYER (@Area2D@9954), range=500, listeners=3
[11:25:28] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[11:25:28] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=809), can_see=false
[11:25:28] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1526), can_see=false
[11:25:28] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1528), can_see=false
[11:25:28] [INFO] [BloodDecal] Blood puddle created at (982.0347, 937.6615) (added to group)
[11:25:29] [INFO] [BloodDecal] Blood puddle created at (948.9135, 955.6569) (added to group)
[11:25:29] [INFO] [BloodDecal] Blood puddle created at (992.6249, 931.1044) (added to group)
[11:25:29] [INFO] [BloodDecal] Blood puddle created at (977.2393, 993.1663) (added to group)
[11:25:29] [INFO] [BloodDecal] Blood puddle created at (967.2435, 930.7672) (added to group)
[11:25:29] [INFO] [BloodDecal] Blood puddle created at (969.495, 945.8792) (added to group)
[11:25:29] [INFO] [BloodDecal] Blood puddle created at (952.9365, 944.4755) (added to group)
[11:25:29] [INFO] [BloodDecal] Blood puddle created at (952.9317, 936.9342) (added to group)
[11:25:29] [INFO] [BloodDecal] Blood puddle created at (976.2597, 943.1514) (added to group)
[11:25:29] [INFO] [BloodDecal] Blood puddle created at (958.0809, 951.9713) (added to group)
[11:25:29] [INFO] [BloodDecal] Blood puddle created at (1271.038, 1035.25) (added to group)
[11:25:29] [INFO] [BloodDecal] Blood puddle created at (1278.49, 1007.836) (added to group)
[11:25:29] [INFO] [BloodDecal] Blood puddle created at (1263.088, 986.9443) (added to group)
[11:25:29] [ENEMY] [Enemy2] Ragdoll activated
[11:25:29] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[11:25:29] [INFO] [BloodDecal] Blood puddle created at (1024.793, 1028.623) (added to group)
[11:25:29] [INFO] [BloodDecal] Blood puddle created at (1032.413, 949.9357) (added to group)
[11:25:29] [INFO] [BloodDecal] Blood puddle created at (1007.941, 1029.091) (added to group)
[11:25:29] [INFO] [BloodDecal] Blood puddle created at (953.0799, 953.3542) (added to group)
[11:25:29] [INFO] [BloodDecal] Blood puddle created at (1006.563, 958.1837) (added to group)
[11:25:29] [INFO] [BloodDecal] Blood puddle created at (963.6058, 961.2247) (added to group)
[11:25:29] [INFO] [BloodDecal] Blood puddle created at (1020.241, 921.6678) (added to group)
[11:25:29] [INFO] [BloodDecal] Blood puddle created at (961.5305, 964.0856) (added to group)
[11:25:29] [INFO] [BloodDecal] Blood puddle created at (1256.827, 995.9334) (added to group)
[11:25:29] [INFO] [BloodDecal] Blood puddle created at (1304.946, 1081.333) (added to group)
[11:25:29] [INFO] [BloodDecal] Blood puddle created at (1252.77, 998.236) (added to group)
[11:25:29] [ENEMY] [Enemy3] Ragdoll activated
[11:25:29] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[11:25:29] [INFO] [BloodDecal] Blood puddle created at (1037.231, 1004.052) (added to group)
[11:25:29] [INFO] [BloodDecal] Blood puddle created at (1320.601, 1097.528) (added to group)
[11:25:29] [INFO] [BloodDecal] Blood puddle created at (1354.866, 1072.878) (added to group)
[11:25:29] [INFO] [BloodDecal] Blood puddle created at (1292.457, 1080.016) (added to group)
[11:25:29] [INFO] [BloodDecal] Blood puddle created at (1001.846, 976.2354) (added to group)
[11:25:29] [INFO] [BloodDecal] Blood puddle created at (1028.029, 943.4931) (added to group)
[11:25:29] [INFO] [BloodDecal] Blood puddle created at (1322.168, 1034.048) (added to group)
[11:25:29] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=5
[11:25:29] [INFO] [BloodDecal] Blood puddle created at (1115.622, 974.3041) (added to group)
[11:25:29] [INFO] [BloodDecal] Blood puddle created at (1004.199, 1060.813) (added to group)
[11:25:29] [INFO] [BloodDecal] Blood puddle created at (1049.221, 935.9642) (added to group)
[11:25:29] [INFO] [BloodDecal] Blood puddle created at (1369.163, 989.1103) (added to group)
[11:25:29] [INFO] [BloodDecal] Blood puddle created at (1369.546, 1048.841) (added to group)
[11:25:29] [INFO] [BloodDecal] Blood puddle created at (1309.84, 1082.241) (added to group)
[11:25:29] [INFO] [BloodDecal] Blood puddle created at (1088.947, 1093.048) (added to group)
[11:25:29] [INFO] [BloodDecal] Blood puddle created at (1017.046, 1001.143) (added to group)
[11:25:29] [INFO] [BloodDecal] Blood puddle created at (1337.976, 1068.568) (added to group)
[11:25:29] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=749), can_see=false
[11:25:29] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1599), can_see=false
[11:25:29] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1569), can_see=false
[11:25:29] [INFO] [BloodDecal] Blood puddle created at (1366.405, 1050.11) (added to group)
[11:25:29] [INFO] [BloodDecal] Blood puddle created at (1357.729, 1055.64) (added to group)
[11:25:29] [INFO] [BloodDecal] Blood puddle created at (1376.523, 1056.082) (added to group)
[11:25:29] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[11:25:29] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=NeedsPumpUp, ReloadState=NotReloading
[11:25:29] [INFO] [Shotgun.FIX#445] dragStartPos=(665, 974), aimDir=(1,00, -0,05)
[11:25:29] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[11:25:29] [INFO] [Shotgun.FIX#445v7] Mid-drag pump UP - shell ejected, continue dragging DOWN to chamber
[11:25:29] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[11:25:29] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[11:25:29] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[11:25:29] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(105.138, 1026.276), source=NEUTRAL (null), range=900, listeners=3
[11:25:29] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=1
[11:25:29] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(106.0854, 1026.958), source=NEUTRAL (null), range=900, listeners=3
[11:25:29] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=1
[11:25:29] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(107.4028, 1026.775), source=NEUTRAL (null), range=900, listeners=3
[11:25:29] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=1
[11:25:29] [INFO] [Shotgun.FIX#445v7] Mid-drag pump DOWN - chambered, ready to fire
[11:25:29] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[11:25:29] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=816), can_see=false
[11:25:29] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1595), can_see=false
[11:25:29] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1586), can_see=false
[11:25:29] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[11:25:29] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[11:25:30] [INFO] [Shotgun.FIX#445v7] TryProcessMidDragGesture - dragVector=(0,7, 279,2), length=279,2, isDragUp=False, isDragDown=True, ActionState=Ready
[11:25:30] [ENEMY] [Enemy2] Death animation completed
[11:25:30] [INFO] [Shotgun.FIX#243] RMB released after 10 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[11:25:30] [INFO] [Shotgun.FIX#445v7] ProcessDragGesture - dragVector=(0,7, 280,8), length=280,8, ActionState=Ready
[11:25:30] [INFO] [Shotgun.FIX#445v7] Screen-based pump gesture: isDragUp=False, isDragDown=True
[11:25:30] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=5
[11:25:30] [ENEMY] [Enemy3] Death animation completed
[11:25:30] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=785), can_see=false
[11:25:30] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1454), can_see=false
[11:25:30] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1462), can_see=false
[11:25:30] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[11:25:30] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:25:30] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[11:25:30] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[11:25:30] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[11:25:30] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[11:25:30] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[11:25:30] [INFO] [LastChance] Resetting all effects (scene change detected)
[11:25:30] [INFO] [CinemaEffects] Scene changed to: LabyrinthLevel
[11:25:30] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[11:25:30] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[11:25:30] [INFO] [EnemyGrenade] Initialized: 1 grenades
[11:25:30] [ENEMY] [Enemy1] Death animation component initialized
[11:25:30] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:25:30] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[11:25:30] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[11:25:30] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[11:25:30] [ENEMY] [Enemy2] Death animation component initialized
[11:25:30] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:25:30] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[11:25:30] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[11:25:30] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[11:25:30] [ENEMY] [Enemy3] Death animation component initialized
[11:25:30] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:25:30] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[11:25:30] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[11:25:30] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[11:25:30] [ENEMY] [Enemy4] Death animation component initialized
[11:25:30] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:25:30] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[11:25:30] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[11:25:30] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[11:25:30] [ENEMY] [Enemy5] Death animation component initialized
[11:25:30] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:25:30] [INFO] [BloodyFeet:Player] Footprint scene loaded
[11:25:30] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[11:25:30] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[11:25:30] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: F-1 Grenade
[11:25:30] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[11:25:30] [INFO] [Player.Weapon] GameManager weapon selection: shotgun (Shotgun)
[11:25:30] [INFO] [Player.Weapon] Removed default MakarovPM
[11:25:30] [INFO] [Player.Weapon] Equipped Shotgun (ammo: 0/8)
[11:25:30] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[11:25:30] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[11:25:30] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[11:25:30] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[11:25:30] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[11:25:30] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[11:25:30] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[11:25:30] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[11:25:30] [INFO] [Player.Homing] No homing bullets selected in ActiveItemManager
[11:25:30] [INFO] [Player.InvisibilitySuit] No invisibility suit selected in ActiveItemManager
[11:25:30] [INFO] [Player.BreakerBullets] Breaker bullets active — bullets will detonate 60px before walls
[11:25:30] [INFO] [Player.BreakerBullets] Set IsBreakerBulletActive on weapon: Shotgun
[11:25:30] [INFO] [Player] Ready! Ammo: 0/8, Grenades: 1/3, Health: 4/4
[11:25:30] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[11:25:30] [INFO] [LabyrinthLevel] Found Environment/Enemies node with 5 children
[11:25:30] [INFO] [LabyrinthLevel] Child 'Enemy1': script=true, has_died_signal=true
[11:25:30] [INFO] [LabyrinthLevel] Child 'Enemy2': script=true, has_died_signal=true
[11:25:30] [INFO] [LabyrinthLevel] Child 'Enemy3': script=true, has_died_signal=true
[11:25:30] [INFO] [LabyrinthLevel] Child 'Enemy4': script=true, has_died_signal=true
[11:25:30] [INFO] [LabyrinthLevel] Child 'Enemy5': script=true, has_died_signal=true
[11:25:30] [INFO] [LabyrinthLevel] Enemy tracking complete: 5 enemies registered
[11:25:30] [INFO] [LabyrinthLevel] Setting up weapon: shotgun
[11:25:30] [INFO] [LabyrinthLevel] Shotgun already equipped by C# Player - skipping GDScript weapon swap
[11:25:30] [INFO] [ScoreManager] Level started with 5 enemies
[11:25:30] [INFO] [LabyrinthLevel] ReplayManager found as C# autoload - verified OK
[11:25:30] [INFO] [LabyrinthLevel] Starting replay recording - Player: Player, Enemies count: 5
[11:25:30] [INFO] [ReplayManager] Replay data cleared
[11:25:30] [INFO] [LabyrinthLevel] Previous replay data cleared
[11:25:30] [INFO] [ReplayManager] Detected player weapon: Shotgun
[11:25:30] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[11:25:30] [INFO] [ReplayManager] Level: LabyrinthLevel
[11:25:30] [INFO] [ReplayManager] Player: Player (valid: True)
[11:25:30] [INFO] [ReplayManager] Enemies count: 5
[11:25:30] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/shotgun_topdown.png
[11:25:30] [INFO] [ReplayManager]   Enemy 0: Enemy1
[11:25:30] [INFO] [ReplayManager]   Enemy 1: Enemy2
[11:25:30] [INFO] [ReplayManager]   Enemy 2: Enemy3
[11:25:30] [INFO] [ReplayManager]   Enemy 3: Enemy4
[11:25:30] [INFO] [ReplayManager]   Enemy 4: Enemy5
[11:25:30] [INFO] [LabyrinthLevel] Replay recording started successfully
[11:25:30] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[11:25:30] [INFO] [CinemaEffects] Found player node: Player
[11:25:30] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[11:25:30] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 4)
[11:25:30] [ENEMY] [Enemy1] Registered as sound listener
[11:25:30] [ENEMY] [Enemy1] Spawned at (400, 300), hp: 2, behavior: GUARD
[11:25:30] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[11:25:30] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 5)
[11:25:30] [ENEMY] [Enemy2] Registered as sound listener
[11:25:30] [ENEMY] [Enemy2] Spawned at (900, 950), hp: 2, behavior: GUARD
[11:25:30] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[11:25:30] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 6)
[11:25:30] [ENEMY] [Enemy3] Registered as sound listener
[11:25:30] [ENEMY] [Enemy3] Spawned at (1200, 1000), hp: 2, behavior: PATROL
[11:25:30] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[11:25:30] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 7)
[11:25:30] [ENEMY] [Enemy4] Registered as sound listener
[11:25:30] [ENEMY] [Enemy4] Spawned at (1650, 650), hp: 1, behavior: GUARD
[11:25:30] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[11:25:30] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 8)
[11:25:30] [ENEMY] [Enemy5] Registered as sound listener
[11:25:30] [ENEMY] [Enemy5] Spawned at (1500, 300), hp: 3, behavior: GUARD
[11:25:30] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[11:25:30] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=5
[11:25:30] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(150,1000), corner_timer=0.00
[11:25:30] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(150,1000), corner_timer=0.00
[11:25:30] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(150,1000), corner_timer=0.00
[11:25:30] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(150,1000), corner_timer=0.00
[11:25:30] [INFO] [Player] Detecting weapon pose (frame 3)...
[11:25:30] [INFO] [Player] Detected weapon: Shotgun (Shotgun pose)
[11:25:30] [INFO] [Player] Applied Shotgun arm pose: Left=(21, 6), Right=(-1, 6)
[11:25:30] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[11:25:30] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[11:25:30] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[11:25:30] [INFO] [LastChance] Found player: Player
[11:25:30] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[11:25:30] [INFO] [LastChance] Connected to player Damaged signal (C#)
[11:25:30] [INFO] [LastChance] Connected to player Died signal (C#)
[11:25:30] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[11:25:31] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=168.6°, current=-143.2°, player=(195,1092), corner_timer=0.00
[11:25:31] [ENEMY] [Enemy2] State: IDLE -> COMBAT
[11:25:31] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=168.0°, current=19.2°, player=(203,1100), corner_timer=0.00
[11:25:31] [ENEMY] [Enemy1] Player ammo empty: false -> true
[11:25:31] [ENEMY] [Enemy2] Player ammo empty: false -> true
[11:25:31] [ENEMY] [Enemy3] Player ammo empty: false -> true
[11:25:31] [ENEMY] [Enemy4] Player ammo empty: false -> true
[11:25:31] [ENEMY] [Enemy5] Player ammo empty: false -> true
[11:25:31] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(222.7279, 1111.933), source=PLAYER (Player), range=600, listeners=8
[11:25:31] [INFO] [SoundPropagation] Cleaned up 3 invalid listeners
[11:25:31] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[11:25:31] [INFO] [Shotgun.FIX#212] Firing 15 pellets with 15° spread at pos=(222.7279, 1111.9329)
[11:25:31] [INFO] [Shotgun.FIX#212] Normal pellet 1/15: extraOffset=6,3, distance=58,3px, pos=(277.59073, 1092.1707)
[11:25:31] [INFO] [Shotgun.FIX#212] Normal pellet 2/15: extraOffset=-6,4, distance=45,6px, pos=(265.95782, 1097.3138)
[11:25:31] [INFO] [Shotgun.FIX#212] Normal pellet 3/15: extraOffset=-2,2, distance=49,8px, pos=(270.1796, 1096.9512)
[11:25:31] [INFO] [Shotgun.FIX#212] Normal pellet 4/15: extraOffset=5,1, distance=57,1px, pos=(277.70657, 1096.6527)
[11:25:31] [INFO] [Shotgun.FIX#212] Normal pellet 5/15: extraOffset=6,7, distance=58,7px, pos=(279.39246, 1096.572)
[11:25:31] [INFO] [Shotgun.FIX#212] Normal pellet 6/15: extraOffset=-6,6, distance=45,4px, pos=(266.8991, 1101.3717)
[11:25:31] [INFO] [Shotgun.FIX#212] Normal pellet 7/15: extraOffset=9,2, distance=61,2px, pos=(282.44205, 1098.6882)
[11:25:31] [INFO] [Shotgun.FIX#212] Normal pellet 8/15: extraOffset=12,0, distance=64,0px, pos=(285.35974, 1098.8472)
[11:25:31] [INFO] [Shotgun.FIX#212] Normal pellet 9/15: extraOffset=-4,9, distance=47,1px, pos=(269.01233, 1103.4442)
[11:25:31] [INFO] [Shotgun.FIX#212] Normal pellet 10/15: extraOffset=9,4, distance=61,4px, pos=(282.87, 1099.7397)
[11:25:31] [INFO] [Shotgun.FIX#212] Normal pellet 11/15: extraOffset=8,6, distance=60,6px, pos=(282.3614, 1101.2227)
[11:25:31] [INFO] [Shotgun.FIX#212] Normal pellet 12/15: extraOffset=8,4, distance=60,4px, pos=(282.5791, 1103.6794)
[11:25:31] [INFO] [Shotgun.FIX#212] Normal pellet 13/15: extraOffset=7,9, distance=59,9px, pos=(282.32556, 1105.7949)
[11:25:31] [INFO] [Shotgun.FIX#212] Normal pellet 14/15: extraOffset=-1,3, distance=50,7px, pos=(273.22122, 1106.8809)
[11:25:31] [INFO] [Shotgun.FIX#212] Normal pellet 15/15: extraOffset=-8,5, distance=43,5px, pos=(266.03537, 1108.0614)
[11:25:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(222.7279, 1111.933), source=PLAYER (Shotgun), range=1469, listeners=5
[11:25:31] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=3
[11:25:31] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=831), can_see=false
[11:25:31] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=667), can_see=false
[11:25:31] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=984), can_see=false
[11:25:31] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1500), can_see=false
[11:25:31] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1513), can_see=false
[11:25:31] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=5
[11:25:31] [ENEMY] [Enemy3] Memory: high confidence (0.88) - transitioning to PURSUING
[11:25:31] [ENEMY] [Enemy3] State: IDLE -> PURSUING
[11:25:31] [ENEMY] [Enemy3] ROT_CHANGE: none -> P2:combat_state, state=PURSUING, target=173.4°, current=0.0°, player=(234,1111), corner_timer=0.00
[11:25:31] [ENEMY] [Enemy3] PURSUING corner check: angle -64.3°
[11:25:31] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=173.2°, current=-148.6°, player=(238,1111), corner_timer=0.30
[11:25:31] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) - pursuing to attack (dist=963)
[11:25:31] [INFO] [ImpactEffects] Spawning explosion visual effect at (739.6077, 937.1401) (radius=15) - using shadow-based wall occlusion
[11:25:31] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(739.6077, 937.1401), source=PLAYER (@Area2D@10340), range=500, listeners=5
[11:25:31] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=0
[11:25:31] [INFO] [ImpactEffects] Spawning explosion visual effect at (746.9797, 946.4136) (radius=15) - using shadow-based wall occlusion
[11:25:31] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(746.9797, 946.4136), source=PLAYER (@Area2D@10341), range=500, listeners=5
[11:25:31] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=0
[11:25:31] [INFO] [ImpactEffects] Spawning explosion visual effect at (759.4468, 962.7634) (radius=15) - using shadow-based wall occlusion
[11:25:31] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(759.4468, 962.7634), source=PLAYER (@Area2D@10342), range=500, listeners=5
[11:25:31] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=0
[11:25:31] [INFO] [ImpactEffects] Spawning explosion visual effect at (761.975, 965.7512) (radius=15) - using shadow-based wall occlusion
[11:25:31] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(761.975, 965.7512), source=PLAYER (@Area2D@10343), range=500, listeners=5
[11:25:31] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=0
[11:25:31] [ENEMY] [Enemy2] Hit: dmg=1, hp=2/2->1/2
[11:25:31] [INFO] [ImpactEffects] spawn_blood_effect called at (805.0377, 933.6958), dir=(0.98515, -0.171695), lethal=false
[11:25:31] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[11:25:31] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[11:25:31] [INFO] [ImpactEffects] Wall found for blood splatter at (883.621, 920) (dist=79 px)
[11:25:31] [INFO] [BloodDecal] Blood puddle created at (883.621, 921) (added to group)
[11:25:31] [INFO] [ImpactEffects] Blood effect spawned at (805.0377, 933.6958) (scale=1)
[11:25:31] [ENEMY] [Enemy2] Hit: dmg=1, hp=1/2->0/2
[11:25:31] [INFO] [ImpactEffects] spawn_blood_effect called at (805.0377, 933.6958), dir=(0.997164, -0.075261), lethal=true
[11:25:31] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[11:25:31] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[11:25:31] [INFO] [ImpactEffects] Blood effect spawned at (805.0377, 933.6958) (scale=1.5)
[11:25:31] [ENEMY] [Enemy2] Enemy died (ricochet: false, penetration: false)
[11:25:31] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[11:25:31] [ENEMY] [Enemy2] [AllyDeath] Notified 1 enemies
[11:25:31] [INFO] [SoundPropagation] Unregistered listener: Enemy2 (remaining: 4)
[11:25:31] [INFO] [DeathAnim] Started - Angle: -4.3 deg, Index: 11
[11:25:31] [ENEMY] [Enemy2] Death animation started with hit direction: (0.997164, -0.075261)
[11:25:31] [INFO] [ImpactEffects] Spawning explosion visual effect at (826.4047, 894.4822) (radius=15) - using shadow-based wall occlusion
[11:25:31] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(826.4047, 894.4822), source=PLAYER (ShotgunPellet), range=500, listeners=4
[11:25:31] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=0
[11:25:32] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[11:25:32] [INFO] [ImpactEffects] Spawning explosion visual effect at (1066.824, 995.5315) (radius=15) - using shadow-based wall occlusion
[11:25:32] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1066.824, 995.5315), source=PLAYER (@Area2D@10350), range=500, listeners=4
[11:25:32] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=0
[11:25:32] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=NeedsPumpUp, ReloadState=NotReloading
[11:25:32] [INFO] [Shotgun.FIX#445] dragStartPos=(721, 822), aimDir=(0,86, -0,51)
[11:25:32] [INFO] [ImpactEffects] Spawning explosion visual effect at (1088.674, 953.1171) (radius=15) - using shadow-based wall occlusion
[11:25:32] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1088.674, 953.1171), source=PLAYER (@Area2D@10347), range=500, listeners=4
[11:25:32] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=0
[11:25:32] [INFO] [ImpactEffects] Spawning explosion visual effect at (1102.571, 953.9131) (radius=15) - using shadow-based wall occlusion
[11:25:32] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1102.571, 953.9131), source=PLAYER (@Area2D@10349), range=500, listeners=4
[11:25:32] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=0
[11:25:32] [ENEMY] [Enemy3] Hit: dmg=1, hp=2/2->1/2
[11:25:32] [INFO] [ImpactEffects] spawn_blood_effect called at (1127.924, 965.285), dir=(0.999919, 0.012696), lethal=false
[11:25:32] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[11:25:32] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[11:25:32] [INFO] [ImpactEffects] Blood effect spawned at (1127.924, 965.285) (scale=1)
[11:25:32] [ENEMY] [Enemy3] Hit: dmg=1, hp=1/2->0/2
[11:25:32] [INFO] [ImpactEffects] spawn_blood_effect called at (1127.924, 965.285), dir=(0.996926, 0.078348), lethal=true
[11:25:32] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[11:25:32] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[11:25:32] [INFO] [ImpactEffects] Blood effect spawned at (1127.924, 965.285) (scale=1.5)
[11:25:32] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[11:25:32] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[11:25:32] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 3)
[11:25:32] [INFO] [DeathAnim] Started - Angle: 4.5 deg, Index: 12
[11:25:32] [ENEMY] [Enemy3] Death animation started with hit direction: (0.996926, 0.078348)
[11:25:32] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[11:25:32] [INFO] [Shotgun.FIX#445v7] Mouse at top edge (Y=0), need PumpUp - recentering cursor
[11:25:32] [INFO] [Shotgun.FIX#445v7] Cursor recentered to (640, 360)
[11:25:32] [INFO] [ImpactEffects] Spawning explosion visual effect at (1380.751, 855.0818) (radius=15) - using shadow-based wall occlusion
[11:25:32] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1380.751, 855.0818), source=PLAYER (@Area2D@10345), range=500, listeners=3
[11:25:32] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[11:25:32] [INFO] [ImpactEffects] Spawning explosion visual effect at (1386.582, 868.7671) (radius=15) - using shadow-based wall occlusion
[11:25:32] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1386.582, 868.7671), source=PLAYER (@Area2D@10346), range=500, listeners=3
[11:25:32] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[11:25:32] [INFO] [ImpactEffects] Spawning explosion visual effect at (1385.439, 876.2075) (radius=15) - using shadow-based wall occlusion
[11:25:32] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1385.439, 876.2075), source=PLAYER (@Area2D@10348), range=500, listeners=3
[11:25:32] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[11:25:32] [INFO] [ImpactEffects] Spawning explosion visual effect at (1401.406, 990.5411) (radius=15) - using shadow-based wall occlusion
[11:25:32] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1401.406, 990.5411), source=PLAYER (@Area2D@10351), range=500, listeners=3
[11:25:32] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[11:25:32] [INFO] [ImpactEffects] Spawning explosion visual effect at (1392.632, 994.8796) (radius=15) - using shadow-based wall occlusion
[11:25:32] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1392.632, 994.8796), source=PLAYER (@Area2D@10352), range=500, listeners=3
[11:25:32] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[11:25:32] [INFO] [ImpactEffects] Spawning explosion visual effect at (1386.567, 1007.892) (radius=15) - using shadow-based wall occlusion
[11:25:32] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1386.567, 1007.892), source=PLAYER (@Area2D@10353), range=500, listeners=3
[11:25:32] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[11:25:32] [INFO] [ImpactEffects] Spawning explosion visual effect at (1401.583, 830.0739) (radius=15) - using shadow-based wall occlusion
[11:25:32] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1401.583, 830.0739), source=PLAYER (@Area2D@10344), range=500, listeners=3
[11:25:32] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[11:25:32] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[11:25:32] [INFO] [BloodDecal] Blood puddle created at (892.5078, 935.0015) (added to group)
[11:25:32] [INFO] [BloodDecal] Blood puddle created at (873.722, 942.0281) (added to group)
[11:25:32] [INFO] [BloodDecal] Blood puddle created at (875.7143, 964.6084) (added to group)
[11:25:32] [INFO] [BloodDecal] Blood puddle created at (848.532, 961.3139) (added to group)
[11:25:32] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=799), can_see=false
[11:25:32] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1511), can_see=false
[11:25:32] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1513), can_see=false
[11:25:32] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[11:25:32] [INFO] [BloodDecal] Blood puddle created at (913.9669, 931.7489) (added to group)
[11:25:32] [INFO] [BloodDecal] Blood puddle created at (862.4628, 977.7761) (added to group)
[11:25:32] [INFO] [BloodDecal] Blood puddle created at (884.1373, 947.9876) (added to group)
[11:25:32] [INFO] [BloodDecal] Blood puddle created at (945.1844, 949.5534) (added to group)
[11:25:32] [INFO] [BloodDecal] Blood puddle created at (900.5834, 967.5914) (added to group)
[11:25:32] [INFO] [BloodDecal] Blood puddle created at (869.1432, 941.8422) (added to group)
[11:25:32] [INFO] [BloodDecal] Blood puddle created at (927.2804, 962.8483) (added to group)
[11:25:32] [INFO] [BloodDecal] Blood puddle created at (901.4039, 940.0099) (added to group)
[11:25:32] [INFO] [BloodDecal] Blood puddle created at (1197.551, 984.6701) (added to group)
[11:25:32] [INFO] [BloodDecal] Blood puddle created at (1219.518, 1013.642) (added to group)
[11:25:32] [ENEMY] [Enemy2] Ragdoll activated
[11:25:32] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[11:25:32] [INFO] [Shotgun.FIX#243] RMB released after 3 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[11:25:32] [INFO] [Shotgun.FIX#445v7] ProcessDragGesture - dragVector=(-30,0, 308,2), length=309,7, ActionState=NeedsPumpUp
[11:25:32] [INFO] [Shotgun.FIX#445v7] Screen-based pump gesture: isDragUp=False, isDragDown=True
[11:25:32] [INFO] [BloodDecal] Blood puddle created at (934.3291, 984.9236) (added to group)
[11:25:32] [INFO] [BloodDecal] Blood puddle created at (905.0578, 976.5109) (added to group)
[11:25:32] [INFO] [BloodDecal] Blood puddle created at (954.6845, 1014.891) (added to group)
[11:25:32] [INFO] [BloodDecal] Blood puddle created at (964.0532, 968.7314) (added to group)
[11:25:32] [INFO] [BloodDecal] Blood puddle created at (933.1202, 1030.765) (added to group)
[11:25:32] [INFO] [BloodDecal] Blood puddle created at (938.0753, 976.9548) (added to group)
[11:25:32] [INFO] [BloodDecal] Blood puddle created at (969.3071, 1005.103) (added to group)
[11:25:32] [INFO] [BloodDecal] Blood puddle created at (1196.312, 976.4401) (added to group)
[11:25:32] [INFO] [BloodDecal] Blood puddle created at (1255.364, 975.6271) (added to group)
[11:25:32] [INFO] [BloodDecal] Blood puddle created at (1204.936, 988.6181) (added to group)
[11:25:32] [INFO] [BloodDecal] Blood puddle created at (1196.764, 1016.757) (added to group)
[11:25:32] [INFO] [BloodDecal] Blood puddle created at (1211.209, 965.3157) (added to group)
[11:25:32] [ENEMY] [Enemy3] Ragdoll activated
[11:25:32] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[11:25:32] [INFO] [BloodDecal] Blood puddle created at (974.485, 917.7137) (added to group)
[11:25:32] [INFO] [BloodDecal] Blood puddle created at (899.9591, 959.7366) (added to group)
[11:25:32] [INFO] [BloodDecal] Blood puddle created at (976.5206, 1090.885) (added to group)
[11:25:32] [INFO] [BloodDecal] Blood puddle created at (1000.901, 1053.562) (added to group)
[11:25:32] [INFO] [BloodDecal] Blood puddle created at (1003.369, 960.5057) (added to group)
[11:25:32] [INFO] [BloodDecal] Blood puddle created at (983.9887, 994.4466) (added to group)
[11:25:32] [INFO] [BloodDecal] Blood puddle created at (963.7087, 1001.872) (added to group)
[11:25:32] [INFO] [BloodDecal] Blood puddle created at (1232.421, 1023.209) (added to group)
[11:25:32] [INFO] [BloodDecal] Blood puddle created at (1256.563, 1012.406) (added to group)
[11:25:32] [INFO] [BloodDecal] Blood puddle created at (1215.543, 989.1787) (added to group)
[11:25:32] [INFO] [BloodDecal] Blood puddle created at (1279.389, 1024.94) (added to group)
[11:25:32] [INFO] [BloodDecal] Blood puddle created at (1198.386, 983.4596) (added to group)
[11:25:32] [INFO] [BloodDecal] Blood puddle created at (1250.632, 1082.972) (added to group)
[11:25:32] [INFO] [BloodDecal] Blood puddle created at (1217.558, 1078.068) (added to group)
[11:25:32] [INFO] [BloodDecal] Blood puddle created at (1258.177, 1087.655) (added to group)
[11:25:32] [INFO] [BloodDecal] Blood puddle created at (1270.692, 973.6702) (added to group)
[11:25:32] [INFO] [BloodDecal] Blood puddle created at (973.6021, 1032.234) (added to group)
[11:25:32] [INFO] [BloodDecal] Blood puddle created at (994.5515, 1073.908) (added to group)
[11:25:32] [INFO] [BloodDecal] Blood puddle created at (1285.909, 1054.926) (added to group)
[11:25:32] [INFO] [BloodDecal] Blood puddle created at (1292.522, 1052.31) (added to group)
[11:25:32] [INFO] [BloodDecal] Blood puddle created at (1256.019, 1069.101) (added to group)
[11:25:32] [INFO] [BloodDecal] Blood puddle created at (1221.386, 1003.439) (added to group)
[11:25:32] [INFO] [BloodDecal] Blood puddle created at (1276.515, 999.3413) (added to group)
[11:25:32] [INFO] [BloodDecal] Blood puddle created at (1261.811, 1073.986) (added to group)
[11:25:32] [INFO] [BloodDecal] Blood puddle created at (1292.67, 1053.686) (added to group)
[11:25:32] [INFO] [BloodDecal] Blood puddle created at (1332.955, 1089.071) (added to group)
[11:25:32] [INFO] [BloodDecal] Blood puddle created at (1353.657, 1039.522) (added to group)
[11:25:32] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=5
[11:25:32] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=757), can_see=false
[11:25:32] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1557), can_see=false
[11:25:32] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1538), can_see=false
[11:25:32] [INFO] [BloodDecal] Blood puddle created at (1324.926, 1048.578) (added to group)
[11:25:33] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=757), can_see=false
[11:25:33] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1557), can_see=false
[11:25:33] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1538), can_see=false
[11:25:33] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[11:25:33] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:25:33] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[11:25:33] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[11:25:33] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[11:25:33] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[11:25:33] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[11:25:33] [INFO] [LastChance] Resetting all effects (scene change detected)
[11:25:33] [INFO] [CinemaEffects] Scene changed to: LabyrinthLevel
[11:25:33] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[11:25:33] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[11:25:33] [ENEMY] [Enemy1] Death animation component initialized
[11:25:33] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:25:33] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[11:25:33] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[11:25:33] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[11:25:33] [ENEMY] [Enemy2] Death animation component initialized
[11:25:33] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:25:33] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[11:25:33] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[11:25:33] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[11:25:33] [INFO] [EnemyGrenade] Initialized: 1 grenades
[11:25:33] [ENEMY] [Enemy3] Death animation component initialized
[11:25:33] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:25:33] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[11:25:33] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[11:25:33] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[11:25:33] [ENEMY] [Enemy4] Death animation component initialized
[11:25:33] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:25:33] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[11:25:33] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[11:25:33] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[11:25:33] [INFO] [EnemyGrenade] Initialized: 1 grenades
[11:25:33] [ENEMY] [Enemy5] Death animation component initialized
[11:25:33] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:25:33] [INFO] [BloodyFeet:Player] Footprint scene loaded
[11:25:33] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[11:25:33] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[11:25:33] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: F-1 Grenade
[11:25:33] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[11:25:33] [INFO] [Player.Weapon] GameManager weapon selection: shotgun (Shotgun)
[11:25:33] [INFO] [Player.Weapon] Removed default MakarovPM
[11:25:33] [INFO] [Player.Weapon] Equipped Shotgun (ammo: 0/8)
[11:25:33] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[11:25:33] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[11:25:33] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[11:25:33] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[11:25:33] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[11:25:33] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[11:25:33] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[11:25:33] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[11:25:33] [INFO] [Player.Homing] No homing bullets selected in ActiveItemManager
[11:25:33] [INFO] [Player.InvisibilitySuit] No invisibility suit selected in ActiveItemManager
[11:25:33] [INFO] [Player.BreakerBullets] Breaker bullets active — bullets will detonate 60px before walls
[11:25:33] [INFO] [Player.BreakerBullets] Set IsBreakerBulletActive on weapon: Shotgun
[11:25:33] [INFO] [Player] Ready! Ammo: 0/8, Grenades: 1/3, Health: 2/4
[11:25:33] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[11:25:33] [INFO] [LabyrinthLevel] Found Environment/Enemies node with 5 children
[11:25:33] [INFO] [LabyrinthLevel] Child 'Enemy1': script=true, has_died_signal=true
[11:25:33] [INFO] [LabyrinthLevel] Child 'Enemy2': script=true, has_died_signal=true
[11:25:33] [INFO] [LabyrinthLevel] Child 'Enemy3': script=true, has_died_signal=true
[11:25:33] [INFO] [LabyrinthLevel] Child 'Enemy4': script=true, has_died_signal=true
[11:25:33] [INFO] [LabyrinthLevel] Child 'Enemy5': script=true, has_died_signal=true
[11:25:33] [INFO] [LabyrinthLevel] Enemy tracking complete: 5 enemies registered
[11:25:33] [INFO] [LabyrinthLevel] Setting up weapon: shotgun
[11:25:33] [INFO] [LabyrinthLevel] Shotgun already equipped by C# Player - skipping GDScript weapon swap
[11:25:33] [INFO] [ScoreManager] Level started with 5 enemies
[11:25:33] [INFO] [LabyrinthLevel] ReplayManager found as C# autoload - verified OK
[11:25:33] [INFO] [LabyrinthLevel] Starting replay recording - Player: Player, Enemies count: 5
[11:25:33] [INFO] [ReplayManager] Replay data cleared
[11:25:33] [INFO] [LabyrinthLevel] Previous replay data cleared
[11:25:33] [INFO] [ReplayManager] Detected player weapon: Shotgun
[11:25:33] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[11:25:33] [INFO] [ReplayManager] Level: LabyrinthLevel
[11:25:33] [INFO] [ReplayManager] Player: Player (valid: True)
[11:25:33] [INFO] [ReplayManager] Enemies count: 5
[11:25:33] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/shotgun_topdown.png
[11:25:33] [INFO] [ReplayManager]   Enemy 0: Enemy1
[11:25:33] [INFO] [ReplayManager]   Enemy 1: Enemy2
[11:25:33] [INFO] [ReplayManager]   Enemy 2: Enemy3
[11:25:33] [INFO] [ReplayManager]   Enemy 3: Enemy4
[11:25:33] [INFO] [ReplayManager]   Enemy 4: Enemy5
[11:25:33] [INFO] [LabyrinthLevel] Replay recording started successfully
[11:25:33] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[11:25:33] [INFO] [CinemaEffects] Found player node: Player
[11:25:33] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[11:25:33] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 4)
[11:25:33] [ENEMY] [Enemy1] Registered as sound listener
[11:25:33] [ENEMY] [Enemy1] Spawned at (400, 300), hp: 1, behavior: GUARD
[11:25:33] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[11:25:33] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 5)
[11:25:33] [ENEMY] [Enemy2] Registered as sound listener
[11:25:33] [ENEMY] [Enemy2] Spawned at (900, 950), hp: 2, behavior: GUARD
[11:25:33] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[11:25:33] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 6)
[11:25:33] [ENEMY] [Enemy3] Registered as sound listener
[11:25:33] [ENEMY] [Enemy3] Spawned at (1200, 1000), hp: 1, behavior: PATROL
[11:25:33] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[11:25:33] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 7)
[11:25:33] [ENEMY] [Enemy4] Registered as sound listener
[11:25:33] [ENEMY] [Enemy4] Spawned at (1650, 650), hp: 2, behavior: GUARD
[11:25:33] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[11:25:33] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 8)
[11:25:33] [ENEMY] [Enemy5] Registered as sound listener
[11:25:33] [ENEMY] [Enemy5] Spawned at (1500, 300), hp: 2, behavior: GUARD
[11:25:33] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[11:25:33] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=5
[11:25:33] [INFO] [EnemyGrenade] Target (600, 1000) not in enemy FOV - skipping throw
[11:25:33] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (600, 1000) - skipping throw
[11:25:33] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(150,1000), corner_timer=0.00
[11:25:33] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(150,1000), corner_timer=0.00
[11:25:33] [INFO] [EnemyGrenade] Target (600, 1000) not in enemy FOV - skipping throw
[11:25:33] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (600, 1000) - skipping throw
[11:25:33] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(150,1000), corner_timer=0.00
[11:25:33] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=281.3°, current=0.0°, player=(150,1000), corner_timer=0.00
[11:25:33] [INFO] [EnemyGrenade] Target (600, 1000) not in enemy FOV - skipping throw
[11:25:33] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (600, 1000) - skipping throw
[11:25:33] [INFO] [Player] Detecting weapon pose (frame 3)...
[11:25:33] [INFO] [Player] Detected weapon: Shotgun (Shotgun pose)
[11:25:33] [INFO] [Player] Applied Shotgun arm pose: Left=(21, 6), Right=(-1, 6)
[11:25:33] [INFO] [EnemyGrenade] Target (600, 1000) not in enemy FOV - skipping throw
[11:25:33] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (600, 1000) - skipping throw
[11:25:33] [INFO] [EnemyGrenade] Target (600, 1000) not in enemy FOV - skipping throw
[11:25:33] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (600, 1000) - skipping throw
[11:25:33] [INFO] [EnemyGrenade] Target (600, 1000) not in enemy FOV - skipping throw
[11:25:33] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (600, 1000) - skipping throw
[11:25:33] [INFO] [EnemyGrenade] Target (600, 1000) not in enemy FOV - skipping throw
[11:25:33] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (600, 1000) - skipping throw
[11:25:33] [INFO] [EnemyGrenade] Target (600, 1000) not in enemy FOV - skipping throw
[11:25:33] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (600, 1000) - skipping throw
[11:25:33] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[11:25:33] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[11:25:33] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[11:25:33] [INFO] [LastChance] Found player: Player
[11:25:33] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[11:25:33] [INFO] [LastChance] Connected to player Damaged signal (C#)
[11:25:33] [INFO] [LastChance] Connected to player Died signal (C#)
[11:25:33] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[11:25:33] [INFO] [EnemyGrenade] Target (600, 1000) not in enemy FOV - skipping throw
[11:25:33] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (600, 1000) - skipping throw
[11:25:33] [INFO] [EnemyGrenade] Target (600, 1000) not in enemy FOV - skipping throw
[11:25:33] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (600, 1000) - skipping throw
[11:25:33] [INFO] [EnemyGrenade] Target (600, 1000) not in enemy FOV - skipping throw
[11:25:33] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (600, 1000) - skipping throw
[11:25:33] [INFO] [EnemyGrenade] Target (600, 1000) not in enemy FOV - skipping throw
[11:25:33] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (600, 1000) - skipping throw
[11:25:33] [INFO] [EnemyGrenade] Target (600, 1000) not in enemy FOV - skipping throw
[11:25:33] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (600, 1000) - skipping throw
[11:25:33] [INFO] [EnemyGrenade] Target (600, 1000) not in enemy FOV - skipping throw
[11:25:33] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (600, 1000) - skipping throw
[11:25:33] [INFO] [EnemyGrenade] Target (600, 1000) not in enemy FOV - skipping throw
[11:25:33] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (600, 1000) - skipping throw
[11:25:33] [INFO] [EnemyGrenade] Target (600, 1000) not in enemy FOV - skipping throw
[11:25:33] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (600, 1000) - skipping throw
[11:25:33] [INFO] [EnemyGrenade] Target (600, 1000) not in enemy FOV - skipping throw
[11:25:33] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (600, 1000) - skipping throw
[11:25:33] [INFO] [EnemyGrenade] Target (600, 1000) not in enemy FOV - skipping throw
[11:25:33] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (600, 1000) - skipping throw
[11:25:34] [INFO] [EnemyGrenade] Target (600, 1000) not in enemy FOV - skipping throw
[11:25:34] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (600, 1000) - skipping throw
[11:25:34] [INFO] [EnemyGrenade] Target (600, 1000) not in enemy FOV - skipping throw
[11:25:34] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (600, 1000) - skipping throw
[11:25:34] [INFO] [EnemyGrenade] Target (600, 1000) not in enemy FOV - skipping throw
[11:25:34] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (600, 1000) - skipping throw
[11:25:34] [INFO] [EnemyGrenade] Target (600, 1000) not in enemy FOV - skipping throw
[11:25:34] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (600, 1000) - skipping throw
[11:25:34] [INFO] [EnemyGrenade] Target (600, 1000) not in enemy FOV - skipping throw
[11:25:34] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (600, 1000) - skipping throw
[11:25:34] [INFO] [EnemyGrenade] Target (600, 1000) not in enemy FOV - skipping throw
[11:25:34] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (600, 1000) - skipping throw
[11:25:34] [INFO] [EnemyGrenade] Target (600, 1000.19) not in enemy FOV - skipping throw
[11:25:34] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (600, 1000.19) - skipping throw
[11:25:34] [INFO] [EnemyGrenade] Target (600.0003, 1000.571) not in enemy FOV - skipping throw
[11:25:34] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (600.0003, 1000.571) - skipping throw
[11:25:34] [INFO] [EnemyGrenade] Target (600.0011, 1001.143) not in enemy FOV - skipping throw
[11:25:34] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (600.0011, 1001.143) - skipping throw
[11:25:34] [INFO] [EnemyGrenade] Target (600.003, 1001.905) not in enemy FOV - skipping throw
[11:25:34] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (600.003, 1001.905) - skipping throw
[11:25:34] [INFO] [EnemyGrenade] Target (600.0068, 1002.857) not in enemy FOV - skipping throw
[11:25:34] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (600.0068, 1002.857) - skipping throw
[11:25:34] [INFO] [EnemyGrenade] Target (600.0134, 1004) not in enemy FOV - skipping throw
[11:25:34] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (600.0134, 1004) - skipping throw
[11:25:34] [INFO] [EnemyGrenade] Target (600.0237, 1005.333) not in enemy FOV - skipping throw
[11:25:34] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (600.0237, 1005.333) - skipping throw
[11:25:34] [INFO] [EnemyGrenade] Target (600.0378, 1006.739) not in enemy FOV - skipping throw
[11:25:34] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (600.0378, 1006.739) - skipping throw
[11:25:34] [INFO] [EnemyGrenade] Target (600.0563, 1008.219) not in enemy FOV - skipping throw
[11:25:34] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (600.0563, 1008.219) - skipping throw
[11:25:34] [INFO] [EnemyGrenade] Target (600.0797, 1009.774) not in enemy FOV - skipping throw
[11:25:34] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (600.0797, 1009.774) - skipping throw
[11:25:34] [INFO] [EnemyGrenade] Target (600.1085, 1011.406) not in enemy FOV - skipping throw
[11:25:34] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (600.1085, 1011.406) - skipping throw
[11:25:34] [INFO] [EnemyGrenade] Target (600.1434, 1013.116) not in enemy FOV - skipping throw
[11:25:34] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (600.1434, 1013.116) - skipping throw
[11:25:34] [INFO] [EnemyGrenade] Target (600.1852, 1014.907) not in enemy FOV - skipping throw
[11:25:34] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (600.1852, 1014.907) - skipping throw
[11:25:34] [INFO] [EnemyGrenade] Target (600.2347, 1016.779) not in enemy FOV - skipping throw
[11:25:34] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (600.2347, 1016.779) - skipping throw
[11:25:34] [INFO] [EnemyGrenade] Target (600.2927, 1018.737) not in enemy FOV - skipping throw
[11:25:34] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (600.2927, 1018.737) - skipping throw
[11:25:34] [INFO] [EnemyGrenade] Target (600.3599, 1020.78) not in enemy FOV - skipping throw
[11:25:34] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (600.3599, 1020.78) - skipping throw
[11:25:34] [INFO] [EnemyGrenade] Target (600.4377, 1022.913) not in enemy FOV - skipping throw
[11:25:34] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (600.4377, 1022.913) - skipping throw
[11:25:34] [INFO] [EnemyGrenade] Target (600.5268, 1025.137) not in enemy FOV - skipping throw
[11:25:34] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (600.5268, 1025.137) - skipping throw
[11:25:34] [INFO] [EnemyGrenade] Target (600.6285, 1027.455) not in enemy FOV - skipping throw
[11:25:34] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (600.6285, 1027.455) - skipping throw
[11:25:34] [INFO] [EnemyGrenade] Target (600.7422, 1029.834) not in enemy FOV - skipping throw
[11:25:34] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (600.7422, 1029.834) - skipping throw
[11:25:34] [INFO] [EnemyGrenade] Target (600.8663, 1032.231) not in enemy FOV - skipping throw
[11:25:34] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (600.8663, 1032.231) - skipping throw
[11:25:34] [INFO] [EnemyGrenade] Target (601.001, 1034.644) not in enemy FOV - skipping throw
[11:25:34] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (601.001, 1034.644) - skipping throw
[11:25:34] [INFO] [EnemyGrenade] Target (601.1465, 1037.074) not in enemy FOV - skipping throw
[11:25:34] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (601.1465, 1037.074) - skipping throw
[11:25:34] [INFO] [EnemyGrenade] Target (601.303, 1039.521) not in enemy FOV - skipping throw
[11:25:34] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (601.303, 1039.521) - skipping throw
[11:25:34] [INFO] [EnemyGrenade] Target (601.4708, 1041.985) not in enemy FOV - skipping throw
[11:25:34] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (601.4708, 1041.985) - skipping throw
[11:25:34] [INFO] [EnemyGrenade] Target (601.65, 1044.466) not in enemy FOV - skipping throw
[11:25:34] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (601.65, 1044.466) - skipping throw
[11:25:34] [INFO] [EnemyGrenade] Target (601.8409, 1046.964) not in enemy FOV - skipping throw
[11:25:34] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (601.8409, 1046.964) - skipping throw
[11:25:34] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=169.2°, current=143.2°, player=(209,1081), corner_timer=0.00
[11:25:34] [ENEMY] [Enemy2] State: IDLE -> COMBAT
[11:25:34] [INFO] [EnemyGrenade] Target (602.0437, 1049.48) not in enemy FOV - skipping throw
[11:25:34] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (602.0437, 1049.48) - skipping throw
[11:25:34] [INFO] [EnemyGrenade] Target (602.2586, 1052.012) not in enemy FOV - skipping throw
[11:25:34] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (602.2586, 1052.012) - skipping throw
[11:25:34] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=168.6°, current=-42.2°, player=(216,1089), corner_timer=0.00
[11:25:34] [INFO] [EnemyGrenade] Target (602.486, 1054.562) not in enemy FOV - skipping throw
[11:25:34] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (602.486, 1054.562) - skipping throw
[11:25:34] [INFO] [EnemyGrenade] Target (602.726, 1057.129) not in enemy FOV - skipping throw
[11:25:34] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (602.726, 1057.129) - skipping throw
[11:25:34] [INFO] [EnemyGrenade] Target (602.9787, 1059.713) not in enemy FOV - skipping throw
[11:25:34] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (602.9787, 1059.713) - skipping throw
[11:25:34] [INFO] [EnemyGrenade] Target (603.2507, 1062.372) not in enemy FOV - skipping throw
[11:25:34] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (603.2507, 1062.372) - skipping throw
[11:25:34] [INFO] [EnemyGrenade] Target (603.5427, 1065.105) not in enemy FOV - skipping throw
[11:25:34] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (603.5427, 1065.105) - skipping throw
[11:25:34] [INFO] [EnemyGrenade] Target (603.8325, 1067.707) not in enemy FOV - skipping throw
[11:25:34] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (603.8325, 1067.707) - skipping throw
[11:25:34] [INFO] [EnemyGrenade] Target (604.0173, 1069.315) not in enemy FOV - skipping throw
[11:25:34] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (604.0173, 1069.315) - skipping throw
[11:25:34] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=5
[11:25:34] [INFO] [EnemyGrenade] Target (604.0392, 1069.504) not in enemy FOV - skipping throw
[11:25:34] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (604.0392, 1069.504) - skipping throw
[11:25:34] [INFO] [EnemyGrenade] Target (604.0586, 1069.669) not in enemy FOV - skipping throw
[11:25:34] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (604.0586, 1069.669) - skipping throw
[11:25:34] [ENEMY] [Enemy3] Memory: high confidence (0.88) - transitioning to PURSUING
[11:25:34] [ENEMY] [Enemy3] State: IDLE -> PURSUING
[11:25:34] [ENEMY] [Enemy3] ROT_CHANGE: none -> P2:combat_state, state=PURSUING, target=173.3°, current=0.0°, player=(244,1111), corner_timer=0.00
[11:25:34] [INFO] [EnemyGrenade] Target (604.0761, 1069.819) not in enemy FOV - skipping throw
[11:25:34] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (604.0761, 1069.819) - skipping throw
[11:25:34] [INFO] [EnemyGrenade] Target (604.0915, 1069.951) not in enemy FOV - skipping throw
[11:25:34] [INFO] [EnemyGrenade] Target not visible to enemy (in wall/unseen area) at (604.0915, 1069.951) - skipping throw
[11:25:34] [ENEMY] [Enemy3] PURSUING corner check: angle -64.3°
[11:25:34] [ENEMY] [Enemy1] Player ammo empty: false -> true
[11:25:34] [ENEMY] [Enemy2] Player ammo empty: false -> true
[11:25:34] [ENEMY] [Enemy3] Player ammo empty: false -> true
[11:25:34] [ENEMY] [Enemy4] Player ammo empty: false -> true
[11:25:34] [ENEMY] [Enemy5] Player ammo empty: false -> true
[11:25:34] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(248.0596, 1111.924), source=PLAYER (Player), range=600, listeners=8
[11:25:34] [INFO] [SoundPropagation] Cleaned up 3 invalid listeners
[11:25:34] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[11:25:34] [INFO] [Shotgun.FIX#212] Firing 12 pellets with 15° spread at pos=(248.05962, 1111.9242)
[11:25:34] [INFO] [Shotgun.FIX#212] Normal pellet 1/12: extraOffset=5,0, distance=57,0px, pos=(299.97723, 1088.4099)
[11:25:34] [INFO] [Shotgun.FIX#212] Normal pellet 2/12: extraOffset=-10,8, distance=41,2px, pos=(285.5735, 1094.826)
[11:25:34] [INFO] [Shotgun.FIX#212] Normal pellet 3/12: extraOffset=3,6, distance=55,6px, pos=(299.0979, 1089.8677)
[11:25:34] [INFO] [Shotgun.FIX#212] Normal pellet 4/12: extraOffset=-3,9, distance=48,1px, pos=(292.85526, 1094.3468)
[11:25:34] [INFO] [Shotgun.FIX#212] Normal pellet 5/12: extraOffset=3,1, distance=55,1px, pos=(300.1471, 1094.1005)
[11:25:34] [INFO] [Shotgun.FIX#212] Normal pellet 6/12: extraOffset=15,0, distance=67,0px, pos=(311.90555, 1091.6969)
[11:25:34] [INFO] [Shotgun.FIX#212] Normal pellet 7/12: extraOffset=4,2, distance=56,2px, pos=(301.92792, 1095.9921)
[11:25:34] [INFO] [Shotgun.FIX#212] Normal pellet 8/12: extraOffset=-1,0, distance=51,0px, pos=(297.04486, 1097.8057)
[11:25:34] [INFO] [Shotgun.FIX#212] Normal pellet 9/12: extraOffset=-14,4, distance=37,6px, pos=(284.4928, 1102.6377)
[11:25:34] [INFO] [Shotgun.FIX#212] Normal pellet 10/12: extraOffset=14,3, distance=66,3px, pos=(312.62485, 1096.7004)
[11:25:34] [INFO] [Shotgun.FIX#212] Normal pellet 11/12: extraOffset=9,5, distance=61,5px, pos=(308.19766, 1099.1694)
[11:25:34] [INFO] [Shotgun.FIX#212] Normal pellet 12/12: extraOffset=-2,2, distance=49,8px, pos=(296.84387, 1101.9565)
[11:25:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(248.0596, 1111.924), source=PLAYER (Shotgun), range=1469, listeners=5
[11:25:34] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=3
[11:25:34] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=826), can_see=false
[11:25:34] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=614), can_see=false
[11:25:34] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=173.1°, current=-148.6°, player=(248,1111), corner_timer=0.30
[11:25:34] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=954), can_see=true
[11:25:34] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) - pursuing to attack (dist=954)
[11:25:34] [INFO] [EnemyGrenade] Facing throw direction: (-0.992804, 0.119747) (waiting 0.3s)
[11:25:34] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1476), can_see=false
[11:25:34] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1492), can_see=false
[11:25:34] [INFO] [ImpactEffects] Spawning explosion visual effect at (323.4878, 1077.545) (radius=15) - using shadow-based wall occlusion
[11:25:34] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(323.4878, 1077.545), source=PLAYER (@Area2D@10964), range=500, listeners=5
[11:25:34] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=0
[11:25:34] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P0:grenade_throw, state=PURSUING, target=173.1°, current=-151.4°, player=(249,1111), corner_timer=0.30
[11:25:34] [INFO] [ImpactEffects] Spawning explosion visual effect at (733.7944, 945.7109) (radius=15) - using shadow-based wall occlusion
[11:25:34] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(733.7944, 945.7109), source=PLAYER (@Area2D@10967), range=500, listeners=5
[11:25:34] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=0
[11:25:34] [INFO] [ImpactEffects] Spawning explosion visual effect at (748.8354, 953.2714) (radius=15) - using shadow-based wall occlusion
[11:25:34] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(748.8354, 953.2714), source=PLAYER (@Area2D@10968), range=500, listeners=5
[11:25:34] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=0
[11:25:34] [INFO] [ImpactEffects] Spawning explosion visual effect at (741.4412, 966.0019) (radius=15) - using shadow-based wall occlusion
[11:25:34] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(741.4412, 966.0019), source=PLAYER (@Area2D@10969), range=500, listeners=5
[11:25:34] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=0
[11:25:34] [INFO] [ImpactEffects] Spawning explosion visual effect at (737.4506, 970.8719) (radius=15) - using shadow-based wall occlusion
[11:25:34] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(737.4506, 970.8719), source=PLAYER (@Area2D@10970), range=500, listeners=5
[11:25:34] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=0
[11:25:35] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[11:25:35] [ENEMY] [Enemy2] Hit: dmg=1, hp=2/2->1/2
[11:25:35] [INFO] [ImpactEffects] spawn_blood_effect called at (780.8127, 941.8735), dir=(0.999571, 0.029305), lethal=false
[11:25:35] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[11:25:35] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[11:25:35] [INFO] [ImpactEffects] Blood effect spawned at (780.8127, 941.8735) (scale=1)
[11:25:35] [ENEMY] [Enemy2] Hit: dmg=1, hp=1/2->0/2
[11:25:35] [INFO] [ImpactEffects] spawn_blood_effect called at (780.8127, 941.8735), dir=(0.953969, -0.299904), lethal=true
[11:25:35] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[11:25:35] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[11:25:35] [INFO] [ImpactEffects] Wall found for blood splatter at (850.3904, 920) (dist=72 px)
[11:25:35] [INFO] [BloodDecal] Blood puddle created at (850.3904, 921) (added to group)
[11:25:35] [INFO] [ImpactEffects] Blood effect spawned at (780.8127, 941.8735) (scale=1.5)
[11:25:35] [ENEMY] [Enemy2] Enemy died (ricochet: false, penetration: false)
[11:25:35] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[11:25:35] [ENEMY] [Enemy2] [AllyDeath] Notified 1 enemies
[11:25:35] [INFO] [SoundPropagation] Unregistered listener: Enemy2 (remaining: 4)
[11:25:35] [INFO] [DeathAnim] Started - Angle: -17.5 deg, Index: 10
[11:25:35] [ENEMY] [Enemy2] Death animation started with hit direction: (0.953969, -0.299904)
[11:25:35] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=NeedsPumpUp, ReloadState=NotReloading
[11:25:35] [INFO] [Shotgun.FIX#445] dragStartPos=(655, 1001), aimDir=(0,97, -0,24)
[11:25:35] [ENEMY] [Enemy3] State: PURSUING -> COMBAT
[11:25:35] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[11:25:35] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[11:25:35] [INFO] [Shotgun.FIX#445v7] Mid-drag pump UP - shell ejected, continue dragging DOWN to chamber
[11:25:35] [INFO] [ImpactEffects] Spawning explosion visual effect at (1072.485, 943.4763) (radius=15) - using shadow-based wall occlusion
[11:25:35] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1072.485, 943.4763), source=PLAYER (@Area2D@10974), range=500, listeners=4
[11:25:35] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=0
[11:25:35] [ENEMY] [Enemy3] Hit: dmg=1, hp=1/1->0/1
[11:25:35] [INFO] [ImpactEffects] spawn_blood_effect called at (1100.13, 962.3734), dir=(0.999908, 0.013585), lethal=true
[11:25:35] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[11:25:35] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[11:25:35] [INFO] [ImpactEffects] Blood effect spawned at (1100.13, 962.3734) (scale=1.5)
[11:25:35] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[11:25:35] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[11:25:35] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 3)
[11:25:35] [INFO] [DeathAnim] Started - Angle: 0.8 deg, Index: 12
[11:25:35] [ENEMY] [Enemy3] Death animation started with hit direction: (0.999908, 0.013585)
[11:25:35] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[11:25:35] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[11:25:35] [INFO] [ImpactEffects] Spawning explosion visual effect at (1407.598, 838.5175) (radius=15) - using shadow-based wall occlusion
[11:25:35] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1407.598, 838.5175), source=PLAYER (@Area2D@10972), range=500, listeners=3
[11:25:35] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[11:25:35] [INFO] [ImpactEffects] Spawning explosion visual effect at (1408.718, 865.7572) (radius=15) - using shadow-based wall occlusion
[11:25:35] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1408.718, 865.7572), source=PLAYER (@Area2D@10973), range=500, listeners=3
[11:25:35] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[11:25:35] [INFO] [ImpactEffects] Spawning explosion visual effect at (1415.013, 814.479) (radius=15) - using shadow-based wall occlusion
[11:25:35] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1415.013, 814.479), source=PLAYER (@Area2D@10971), range=500, listeners=3
[11:25:35] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[11:25:35] [INFO] [ImpactEffects] Spawning explosion visual effect at (1456.479, 637.7513) (radius=15) - using shadow-based wall occlusion
[11:25:35] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1456.479, 637.7513), source=PLAYER (@Area2D@10966), range=500, listeners=3
[11:25:35] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=0
[11:25:35] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[11:25:35] [INFO] [Shotgun.FIX#445v7] Mid-drag pump DOWN - chambered, ready to fire
[11:25:35] [INFO] [ImpactEffects] Spawning explosion visual effect at (1476.589, 555.5045) (radius=15) - using shadow-based wall occlusion
[11:25:35] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1476.589, 555.5045), source=PLAYER (ShotgunPellet), range=500, listeners=3
[11:25:35] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=0
[11:25:35] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=783), can_see=false
[11:25:35] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1524), can_see=false
[11:25:35] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1519), can_see=false
[11:25:35] [INFO] [ImpactEffects] Spawning explosion visual effect at (1523.031, 560.938) (radius=15) - using shadow-based wall occlusion
[11:25:35] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1523.031, 560.938), source=PLAYER (@Area2D@10965), range=500, listeners=3
[11:25:35] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=0
[11:25:35] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[11:25:35] [INFO] [BloodDecal] Blood puddle created at (861.8805, 964.8748) (added to group)
[11:25:35] [INFO] [BloodDecal] Blood puddle created at (875.8916, 951.7985) (added to group)
[11:25:35] [INFO] [BloodDecal] Blood puddle created at (865.6833, 1005.995) (added to group)
[11:25:35] [INFO] [BloodDecal] Blood puddle created at (865.7678, 983.4381) (added to group)
[11:25:35] [INFO] [BloodDecal] Blood puddle created at (855.9679, 988.5446) (added to group)
[11:25:35] [INFO] [BloodDecal] Blood puddle created at (863.7625, 939.9008) (added to group)
[11:25:35] [INFO] [BloodDecal] Blood puddle created at (868.6772, 983.6656) (added to group)
[11:25:35] [INFO] [BloodDecal] Blood puddle created at (827.9493, 936.0339) (added to group)
[11:25:35] [INFO] [BloodDecal] Blood puddle created at (860.8671, 989.7949) (added to group)
[11:25:35] [INFO] [BloodDecal] Blood puddle created at (848.4808, 990.4835) (added to group)
[11:25:35] [INFO] [BloodDecal] Blood puddle created at (1170.724, 999.0818) (added to group)
[11:25:35] [INFO] [BloodDecal] Blood puddle created at (1137.47, 992.451) (added to group)
[11:25:35] [INFO] [BloodDecal] Blood puddle created at (1154.321, 961.5007) (added to group)
[11:25:35] [ENEMY] [Enemy2] Ragdoll activated
[11:25:35] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[11:25:35] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[11:25:35] [INFO] [BloodDecal] Blood puddle created at (880.6296, 976.636) (added to group)
[11:25:35] [INFO] [BloodDecal] Blood puddle created at (874.9921, 995.4329) (added to group)
[11:25:35] [INFO] [BloodDecal] Blood puddle created at (958.6775, 1038.519) (added to group)
[11:25:35] [INFO] [BloodDecal] Blood puddle created at (873.0814, 965.9558) (added to group)
[11:25:35] [INFO] [BloodDecal] Blood puddle created at (874.1477, 995.1627) (added to group)
[11:25:35] [INFO] [BloodDecal] Blood puddle created at (863.999, 935.9601) (added to group)
[11:25:35] [INFO] [BloodDecal] Blood puddle created at (1257.972, 994.6382) (added to group)
[11:25:35] [INFO] [BloodDecal] Blood puddle created at (1176.363, 1017.729) (added to group)
[11:25:35] [INFO] [BloodDecal] Blood puddle created at (1155.165, 1021.687) (added to group)
[11:25:35] [INFO] [BloodDecal] Blood puddle created at (1195.275, 1006.837) (added to group)
[11:25:35] [INFO] [BloodDecal] Blood puddle created at (1209.761, 1044.555) (added to group)
[11:25:35] [ENEMY] [Enemy3] Ragdoll activated
[11:25:35] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[11:25:35] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[11:25:35] [INFO] [BloodDecal] Blood puddle created at (956.0402, 1040.084) (added to group)
[11:25:35] [INFO] [BloodDecal] Blood puddle created at (876.517, 987.5714) (added to group)
[11:25:35] [INFO] [BloodDecal] Blood puddle created at (891.7768, 954.1609) (added to group)
[11:25:35] [INFO] [BloodDecal] Blood puddle created at (984.6036, 975.2345) (added to group)
[11:25:35] [INFO] [BloodDecal] Blood puddle created at (970.4429, 947.3937) (added to group)
[11:25:35] [INFO] [BloodDecal] Blood puddle created at (945.2958, 1000.815) (added to group)
[11:25:35] [INFO] [BloodDecal] Blood puddle created at (1201.315, 1032.643) (added to group)
[11:25:35] [INFO] [BloodDecal] Blood puddle created at (1268.446, 981.0513) (added to group)
[11:25:35] [INFO] [BloodDecal] Blood puddle created at (1180.454, 1050.695) (added to group)
[11:25:35] [INFO] [BloodDecal] Blood puddle created at (1249.386, 1027.072) (added to group)
[11:25:35] [INFO] [GrenadeBase] CCD enabled (mode: CAST_RAY) to prevent wall tunneling
[11:25:35] [INFO] [GrenadeBase] Grenade created at (1062.059, 974.6434) (frozen)
[11:25:35] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[11:25:35] [INFO] [GrenadeTimer] Initialized for Frag grenade, effect radius: 225
[11:25:35] [INFO] [GrenadeTimerHelper] Attached GrenadeTimer to FragGrenade (type: Frag)
[11:25:35] [INFO] [EnemyGrenade] Attached C# GrenadeTimer to grenade (type: Frag)
[11:25:35] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[11:25:35] [INFO] [GrenadeTimer] Timer activated! 4 seconds until explosion
[11:25:35] [INFO] [GrenadeBase] LEGACY throw_grenade() called! Direction: (-0.95179, 0.306751), Speed: 1023.9 (unfrozen)
[11:25:35] [INFO] [GrenadeBase] NOTE: Using DRAG-BASED system. If velocity-based is expected, ensure grenade has throw_grenade_velocity_based() method.
[11:25:35] [INFO] [FragGrenade] Grenade thrown (legacy) - impact detection enabled
[11:25:35] [INFO] [GrenadeTimer] Grenade marked as thrown - impact detection enabled
[11:25:35] [INFO] [GrenadeTimer] Thrower set to instance ID: 1819388417796
[11:25:35] [INFO] [EnemyGrenade] Enemy grenade thrown! Target: (599.5123, 1069.534), Distance: 512
[11:25:35] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=5
[11:25:35] [INFO] [BloodDecal] Blood puddle created at (967.2571, 1098.166) (added to group)
[11:25:35] [INFO] [BloodDecal] Blood puddle created at (930.8353, 1001.016) (added to group)
[11:25:35] [INFO] [BloodDecal] Blood puddle created at (891.4725, 969.455) (added to group)
[11:25:35] [INFO] [BloodDecal] Blood puddle created at (896.0929, 946.7188) (added to group)
[11:25:35] [INFO] [BloodDecal] Blood puddle created at (919.9132, 960.9839) (added to group)
[11:25:35] [INFO] [BloodDecal] Blood puddle created at (1263.071, 989.8311) (added to group)
[11:25:35] [INFO] [BloodDecal] Blood puddle created at (1270.689, 1004.623) (added to group)
[11:25:35] [INFO] [BloodDecal] Blood puddle created at (1205.818, 1066.454) (added to group)
[11:25:35] [INFO] [BloodDecal] Blood puddle created at (1262.217, 1042.262) (added to group)
[11:25:35] [INFO] [BloodDecal] Blood puddle created at (1274.817, 1020.613) (added to group)
[11:25:35] [INFO] [BloodDecal] Blood puddle created at (1242.034, 1116.856) (added to group)
[11:25:35] [INFO] [BloodDecal] Blood puddle created at (1279.258, 1088.302) (added to group)
[11:25:35] [INFO] [BloodDecal] Blood puddle created at (1221.603, 1013.048) (added to group)
[11:25:35] [INFO] [Shotgun.FIX#243] Bolt opened for loading - ReloadState=Loading, ShellsInTube=7/8
[11:25:35] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=721), can_see=false
[11:25:35] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1608), can_see=false
[11:25:35] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1569), can_see=false
[11:25:35] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[11:25:35] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[11:25:36] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[11:25:36] [INFO] [Shotgun.FIX#243] RMB released after 8 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[11:25:36] [INFO] [Shotgun.FIX#445v7] ProcessDragGesture - dragVector=(0,0, -36,7), length=36,7, ActionState=Ready
[11:25:36] [INFO] [GrenadeBase] Collision detected with WallBottom (type: StaticBody2D)
[11:25:36] [INFO] [FragGrenade] Impact detected! Body: WallBottom (type: StaticBody2D), triggering explosion
[11:25:36] [INFO] [FragGrenade] Impact detected - exploding immediately!
[11:25:36] [INFO] [GrenadeBase] EXPLODED at (597.1438, 1118.562)!
[11:25:36] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(597.1438, 1118.562), source=NEUTRAL (FragGrenade), range=2937, listeners=3
[11:25:36] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=3
[11:25:36] [INFO] [FragGrenade] Skipping all enemies - enemy-thrown grenade (thrower ID: 1819388417796)
[11:25:36] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(265.6866, 1126.281), source=NEUTRAL (null), range=900, listeners=3
[11:25:36] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=1
[11:25:36] [INFO] [GrenadeBase] Scattered 0 casings (lethal zone) + 1 casings (proximity) from explosion
[11:25:36] [INFO] [FragGrenade] Spawned shrapnel #1 at angle 19.9 degrees
[11:25:36] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 97.9 degrees
[11:25:36] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 163.2 degrees
[11:25:36] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 273.2 degrees
[11:25:36] [INFO] [ImpactEffects] Spawning explosion visual effect at (597.1438, 1118.562) (radius=225) - using shadow-based wall occlusion
[11:25:36] [INFO] [GrenadeTimer] Impact detected with WallBottom - EXPLODING!
[11:25:36] [INFO] [GrenadeTimer] Frag grenade activated at (597.1438, 1118.5619)!
[11:25:36] [INFO] [GrenadeTimer] Applying frag explosion damage (radius: 225, damage: 99)
[11:25:36] [INFO] [GrenadeTimer] Skipping all enemies - enemy-thrown grenade (thrower ID: 1819388417796)
[11:25:36] [INFO] [GrenadeTimer] Spawned 4 shrapnel pieces (source_id: 1883309608703, thrower_id: 1819388417796)
[11:25:36] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(597.1438, 1118.562), source=NEUTRAL (FragGrenade), range=2938, listeners=3
[11:25:36] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=3
[11:25:36] [INFO] [GrenadeTimer] Spawned PointLight2D frag explosion flash at (597.1438, 1118.5619) (shadow-based wall occlusion)
[11:25:36] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(265.6866, 1126.281), source=NEUTRAL (null), range=900, listeners=3
[11:25:36] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=1
[11:25:36] [INFO] [GrenadeTimer] Scattered 1 casings
[11:25:36] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=715), can_see=false
[11:25:36] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1611), can_see=false
[11:25:36] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1569), can_see=false
[11:25:36] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=118.9°, current=168.8°, player=(64,909), corner_timer=0.00
[11:25:36] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) - pursuing to attack (dist=696)
[11:25:36] [ENEMY] [Enemy1] State: IDLE -> PURSUING
[11:25:36] [ENEMY] [Enemy1] PURSUING corner check: angle -0.0°
[11:25:36] [ENEMY] [Enemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=PURSUING, target=119.4°, current=-107.0°, player=(64,900), corner_timer=0.30
[11:25:36] [ENEMY] [Enemy2] Death animation completed
[11:25:36] [ENEMY] [Enemy3] Death animation completed
[11:25:36] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=5
[11:25:36] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=558), can_see=false
[11:25:36] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1596), can_see=false
[11:25:36] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1529), can_see=false
[11:25:37] [ENEMY] [Enemy1] PURSUING corner check: angle -0.0°
[11:25:37] [ENEMY] [Enemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=134.9°, current=-175.7°, player=(64,770), corner_timer=0.23
[11:25:37] [ENEMY] [Enemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=PURSUING, target=135.8°, current=-178.6°, player=(64,764), corner_timer=0.22
[11:25:37] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=372), can_see=false
[11:25:37] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1586), can_see=false
[11:25:37] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1479), can_see=false
[11:25:37] [ENEMY] [Enemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=154.5°, current=153.7°, player=(64,643), corner_timer=0.08
[11:25:37] [ENEMY] [Enemy1] Player empty ammo - priority attack triggered
[11:25:37] [ENEMY] [Enemy1] Player empty ammo - priority attack triggered
[11:25:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(395.7982, 485.8045), source=ENEMY (Enemy1), range=1469, listeners=3
[11:25:37] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=2
[11:25:37] [ENEMY] [Enemy1] State: PURSUING -> COMBAT
[11:25:37] [ENEMY] [Enemy1] Player empty ammo - priority attack triggered
[11:25:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(371.1585, 495.231), source=ENEMY (Enemy1), range=1469, listeners=3
[11:25:37] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=2
[11:25:37] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(376.8697, 477.2477), source=NEUTRAL (null), range=900, listeners=3
[11:25:37] [ENEMY] [Enemy1] Heard CASING_KICK at (376.8697, 477.2477), intensity=1.00, dist=28
[11:25:37] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[11:25:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(334.8554, 516.07947), shooter_id=1818683774665, bullet_pos=(21.65049, 630.1576)
[11:25:37] [INFO] [Bullet] Using shooter_position, distance=333,3334
[11:25:37] [INFO] [Bullet] Distance to wall: 333,3334 (22,697285% of viewport)
[11:25:37] [INFO] [Bullet] Within ricochet range - trying ricochet first
[11:25:37] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(376.9119, 475.0423), source=NEUTRAL (null), range=900, listeners=3
[11:25:37] [ENEMY] [Enemy1] Heard CASING_KICK at (376.9119, 475.0423), intensity=1.00, dist=34
[11:25:37] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[11:25:37] [INFO] [LastChance] Threat detected: @Area2D@11314
[11:25:37] [INFO] [LastChance] Not in hard mode - effect disabled
[11:25:37] [INFO] [LastChance] Cannot trigger effect - conditions not met
[11:25:37] [INFO] [ReplayManager] Recording frame 240 (4,0s): player_valid=True, enemies=5
[11:25:37] [ENEMY] [Enemy1] State: COMBAT -> RETREATING
[11:25:37] [ENEMY] [Enemy1] Player empty ammo - priority attack triggered
[11:25:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(339.8395, 503.9336), source=ENEMY (Enemy1), range=1469, listeners=3
[11:25:37] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=2
[11:25:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(307.10486, 518.20337), shooter_id=1818683774665, bullet_pos=(22.852142, 583.54767)
[11:25:37] [INFO] [Bullet] Using shooter_position, distance=291,66675
[11:25:37] [INFO] [Bullet] Distance to wall: 291,66675 (19,860126% of viewport)
[11:25:37] [INFO] [Bullet] Within ricochet range - trying ricochet first
[11:25:37] [INFO] [Bullet] Starting wall penetration at (22.852142, 583.54767)
[11:25:37] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(353.7207, 482.6298), source=NEUTRAL (null), range=900, listeners=3
[11:25:37] [ENEMY] [Enemy1] Heard CASING_KICK at (353.7207, 482.6298), intensity=1.00, dist=26
[11:25:37] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[11:25:37] [INFO] [Bullet] Raycast backward hit penetrating body at distance 39,635803
[11:25:37] [INFO] [Bullet] Body exited signal received for penetrating body
[11:25:37] [INFO] [Bullet] Exiting penetration at (-22.62829, 594.00275) after traveling 41,66667 pixels through wall
[11:25:37] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[11:25:37] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(353.8472, 480.4827), source=NEUTRAL (null), range=900, listeners=3
[11:25:37] [ENEMY] [Enemy1] Heard CASING_KICK at (353.8472, 480.4827), intensity=1.00, dist=26
[11:25:37] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[11:25:37] [INFO] [LastChance] Threat detected: @Area2D@11318
[11:25:37] [INFO] [LastChance] Not in hard mode - effect disabled
[11:25:37] [INFO] [LastChance] Cannot trigger effect - conditions not met
[11:25:37] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(354.2765, 477.8096), source=NEUTRAL (null), range=900, listeners=3
[11:25:37] [ENEMY] [Enemy1] Heard CASING_KICK at (354.2765, 477.8096), intensity=1.00, dist=26
[11:25:37] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[11:25:37] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(354.9042, 474.6017), source=NEUTRAL (null), range=900, listeners=3
[11:25:37] [ENEMY] [Enemy1] Heard CASING_KICK at (354.9042, 474.6017), intensity=1.00, dist=27
[11:25:37] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[11:25:37] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(355.6335, 470.8644), source=NEUTRAL (null), range=900, listeners=3
[11:25:37] [ENEMY] [Enemy1] Heard CASING_KICK at (355.6335, 470.8644), intensity=1.00, dist=29
[11:25:37] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[11:25:37] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(356.3809, 466.6142), source=NEUTRAL (null), range=900, listeners=3
[11:25:37] [ENEMY] [Enemy1] Heard CASING_KICK at (356.3809, 466.6142), intensity=1.00, dist=32
[11:25:37] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[11:25:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(273.19653, 517.6927), shooter_id=1818683774665, bullet_pos=(24.330105, 541.4733)
[11:25:38] [INFO] [Bullet] Using shooter_position, distance=250,00003
[11:25:38] [INFO] [Bullet] Distance to wall: 250,00003 (17,022963% of viewport)
[11:25:38] [INFO] [Bullet] Within ricochet range - trying ricochet first
[11:25:38] [INFO] [Bullet] Starting wall penetration at (24.330105, 541.4733)
[11:25:38] [ENEMY] [Enemy1] Player empty ammo - priority attack triggered
[11:25:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(356.8839, 498.8925), source=ENEMY (Enemy1), range=1469, listeners=3
[11:25:38] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=2
[11:25:38] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(357.0785, 461.8756), source=NEUTRAL (null), range=900, listeners=3
[11:25:38] [ENEMY] [Enemy1] Heard CASING_KICK at (357.0785, 461.8756), intensity=1.00, dist=36
[11:25:38] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[11:25:38] [INFO] [Bullet] Raycast backward hit penetrating body at distance 38,29863
[11:25:38] [INFO] [Bullet] Body exited signal received for penetrating body
[11:25:38] [INFO] [Bullet] Exiting penetration at (-22.124966, 545.91235) after traveling 41,666676 pixels through wall
[11:25:38] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[11:25:38] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(326.4656, 489.5777), source=NEUTRAL (null), range=900, listeners=3
[11:25:38] [ENEMY] [Enemy1] Heard CASING_KICK at (326.4656, 489.5777), intensity=1.00, dist=38
[11:25:38] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[11:25:38] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1595), can_see=false
[11:25:38] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1448), can_see=false
[11:25:38] [INFO] [LastChance] Threat detected: Bullet
[11:25:38] [INFO] [LastChance] Not in hard mode - effect disabled
[11:25:38] [INFO] [LastChance] Cannot trigger effect - conditions not met
[11:25:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(289.07758, 504.6289), shooter_id=1818683774665, bullet_pos=(39.198124, 496.8645)
[11:25:38] [INFO] [Bullet] Using shooter_position, distance=250,00006
[11:25:38] [INFO] [Bullet] Distance to wall: 250,00006 (17,022964% of viewport)
[11:25:38] [INFO] [Bullet] Within ricochet range - trying ricochet first
[11:25:38] [INFO] [Bullet] Starting wall penetration at (39.198124, 496.8645)
[11:25:38] [ENEMY] [Enemy1] Player empty ammo - priority attack triggered
[11:25:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(381.747, 490.8441), source=ENEMY (Enemy1), range=1469, listeners=3
[11:25:38] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=2
[11:25:38] [INFO] [Bullet] Raycast backward hit penetrating body at distance 23,457354
[11:25:38] [INFO] [Bullet] Body exited signal received for penetrating body
[11:25:38] [INFO] [Bullet] Exiting penetration at (-7.4460373, 495.41516) after traveling 41,66667 pixels through wall
[11:25:38] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[11:25:38] [INFO] [LastChance] Threat detected: @Area2D@11326
[11:25:38] [INFO] [LastChance] Not in hard mode - effect disabled
[11:25:38] [INFO] [LastChance] Cannot trigger effect - conditions not met
[11:25:38] [ENEMY] [Enemy1] Player empty ammo - priority attack triggered
[11:25:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(384.2212, 499.8874), source=ENEMY (Enemy1), range=1469, listeners=3
[11:25:38] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=2
[11:25:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(313.70096, 490.2687), shooter_id=1818683774665, bullet_pos=(24.034733, 456.16656)
[11:25:38] [INFO] [Bullet] Using shooter_position, distance=291,66672
[11:25:38] [INFO] [Bullet] Distance to wall: 291,66672 (19,860123% of viewport)
[11:25:38] [INFO] [Bullet] Within ricochet range - trying ricochet first
[11:25:38] [INFO] [Bullet] Starting wall penetration at (24.034733, 456.16656)
[11:25:38] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(370.4423, 476.1454), source=NEUTRAL (null), range=900, listeners=3
[11:25:38] [ENEMY] [Enemy1] Heard CASING_KICK at (370.4423, 476.1454), intensity=1.00, dist=28
[11:25:38] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[11:25:38] [INFO] [Bullet] Raycast backward hit penetrating body at distance 38,576447
[11:25:38] [INFO] [Bullet] Body exited signal received for penetrating body
[11:25:38] [INFO] [Bullet] Exiting penetration at (-22.31186, 450.71024) after traveling 41,66667 pixels through wall
[11:25:38] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[11:25:38] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(370.4316, 474.2799), source=NEUTRAL (null), range=900, listeners=3
[11:25:38] [ENEMY] [Enemy1] Heard CASING_KICK at (370.4316, 474.2799), intensity=1.00, dist=29
[11:25:38] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[11:25:38] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(370.0062, 471.9372), source=NEUTRAL (null), range=900, listeners=3
[11:25:38] [ENEMY] [Enemy1] Heard CASING_KICK at (370.0062, 471.9372), intensity=1.00, dist=30
[11:25:38] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[11:25:38] [INFO] [LastChance] Threat detected: Bullet
[11:25:38] [INFO] [LastChance] Not in hard mode - effect disabled
[11:25:38] [INFO] [LastChance] Cannot trigger effect - conditions not met
[11:25:38] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(369.1393, 469.1803), source=NEUTRAL (null), range=900, listeners=3
[11:25:38] [ENEMY] [Enemy1] Heard CASING_KICK at (369.1393, 469.1803), intensity=1.00, dist=33
[11:25:38] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[11:25:38] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[11:25:38] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:25:38] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[11:25:38] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[11:25:38] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[11:25:38] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[11:25:38] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[11:25:38] [INFO] [LastChance] Resetting all effects (scene change detected)
[11:25:38] [INFO] [CinemaEffects] Scene changed to: LabyrinthLevel
[11:25:38] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[11:25:38] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[11:25:38] [ENEMY] [Enemy1] Death animation component initialized
[11:25:38] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:25:38] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[11:25:38] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[11:25:38] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[11:25:38] [ENEMY] [Enemy2] Death animation component initialized
[11:25:38] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:25:38] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[11:25:38] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[11:25:38] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[11:25:38] [ENEMY] [Enemy3] Death animation component initialized
[11:25:38] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:25:38] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[11:25:38] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[11:25:38] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[11:25:38] [ENEMY] [Enemy4] Death animation component initialized
[11:25:38] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:25:38] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[11:25:38] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[11:25:38] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[11:25:38] [ENEMY] [Enemy5] Death animation component initialized
[11:25:38] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:25:38] [INFO] [BloodyFeet:Player] Footprint scene loaded
[11:25:38] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[11:25:38] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[11:25:38] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: F-1 Grenade
[11:25:38] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[11:25:38] [INFO] [Player.Weapon] GameManager weapon selection: shotgun (Shotgun)
[11:25:38] [INFO] [Player.Weapon] Removed default MakarovPM
[11:25:38] [INFO] [Player.Weapon] Equipped Shotgun (ammo: 0/8)
[11:25:38] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[11:25:38] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[11:25:38] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[11:25:38] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[11:25:38] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[11:25:38] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[11:25:38] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[11:25:38] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[11:25:38] [INFO] [Player.Homing] No homing bullets selected in ActiveItemManager
[11:25:38] [INFO] [Player.InvisibilitySuit] No invisibility suit selected in ActiveItemManager
[11:25:38] [INFO] [Player.BreakerBullets] Breaker bullets active — bullets will detonate 60px before walls
[11:25:38] [INFO] [Player.BreakerBullets] Set IsBreakerBulletActive on weapon: Shotgun
[11:25:38] [INFO] [Player] Ready! Ammo: 0/8, Grenades: 1/3, Health: 2/4
[11:25:38] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[11:25:38] [INFO] [LabyrinthLevel] Found Environment/Enemies node with 5 children
[11:25:38] [INFO] [LabyrinthLevel] Child 'Enemy1': script=true, has_died_signal=true
[11:25:38] [INFO] [LabyrinthLevel] Child 'Enemy2': script=true, has_died_signal=true
[11:25:38] [INFO] [LabyrinthLevel] Child 'Enemy3': script=true, has_died_signal=true
[11:25:38] [INFO] [LabyrinthLevel] Child 'Enemy4': script=true, has_died_signal=true
[11:25:38] [INFO] [LabyrinthLevel] Child 'Enemy5': script=true, has_died_signal=true
[11:25:38] [INFO] [LabyrinthLevel] Enemy tracking complete: 5 enemies registered
[11:25:38] [INFO] [LabyrinthLevel] Setting up weapon: shotgun
[11:25:38] [INFO] [LabyrinthLevel] Shotgun already equipped by C# Player - skipping GDScript weapon swap
[11:25:38] [INFO] [ScoreManager] Level started with 5 enemies
[11:25:38] [INFO] [LabyrinthLevel] ReplayManager found as C# autoload - verified OK
[11:25:38] [INFO] [LabyrinthLevel] Starting replay recording - Player: Player, Enemies count: 5
[11:25:38] [INFO] [ReplayManager] Replay data cleared
[11:25:38] [INFO] [LabyrinthLevel] Previous replay data cleared
[11:25:38] [INFO] [ReplayManager] Detected player weapon: Shotgun
[11:25:38] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[11:25:38] [INFO] [ReplayManager] Level: LabyrinthLevel
[11:25:38] [INFO] [ReplayManager] Player: Player (valid: True)
[11:25:38] [INFO] [ReplayManager] Enemies count: 5
[11:25:38] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/shotgun_topdown.png
[11:25:38] [INFO] [ReplayManager]   Enemy 0: Enemy1
[11:25:38] [INFO] [ReplayManager]   Enemy 1: Enemy2
[11:25:38] [INFO] [ReplayManager]   Enemy 2: Enemy3
[11:25:38] [INFO] [ReplayManager]   Enemy 3: Enemy4
[11:25:38] [INFO] [ReplayManager]   Enemy 4: Enemy5
[11:25:38] [INFO] [LabyrinthLevel] Replay recording started successfully
[11:25:38] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[11:25:38] [INFO] [CinemaEffects] Found player node: Player
[11:25:38] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[11:25:38] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 4)
[11:25:38] [ENEMY] [Enemy1] Registered as sound listener
[11:25:38] [ENEMY] [Enemy1] Spawned at (400, 300), hp: 2, behavior: GUARD
[11:25:38] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[11:25:38] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 5)
[11:25:38] [ENEMY] [Enemy2] Registered as sound listener
[11:25:38] [ENEMY] [Enemy2] Spawned at (900, 950), hp: 2, behavior: GUARD
[11:25:38] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[11:25:38] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 6)
[11:25:38] [ENEMY] [Enemy3] Registered as sound listener
[11:25:38] [ENEMY] [Enemy3] Spawned at (1200, 1000), hp: 1, behavior: PATROL
[11:25:38] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[11:25:38] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 7)
[11:25:38] [ENEMY] [Enemy4] Registered as sound listener
[11:25:38] [ENEMY] [Enemy4] Spawned at (1650, 650), hp: 2, behavior: GUARD
[11:25:38] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[11:25:38] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 8)
[11:25:38] [ENEMY] [Enemy5] Registered as sound listener
[11:25:38] [ENEMY] [Enemy5] Spawned at (1500, 300), hp: 2, behavior: GUARD
[11:25:38] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[11:25:38] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=5
[11:25:38] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(150,1000), corner_timer=0.00
[11:25:38] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(150,1000), corner_timer=0.00
[11:25:38] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(150,1000), corner_timer=0.00
[11:25:38] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(150,1000), corner_timer=0.00
[11:25:38] [INFO] [Player] Detecting weapon pose (frame 3)...
[11:25:38] [INFO] [Player] Detected weapon: Shotgun (Shotgun pose)
[11:25:38] [INFO] [Player] Applied Shotgun arm pose: Left=(21, 6), Right=(-1, 6)
[11:25:38] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[11:25:38] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[11:25:38] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[11:25:38] [INFO] [LastChance] Found player: Player
[11:25:38] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[11:25:38] [INFO] [LastChance] Connected to player Damaged signal (C#)
[11:25:38] [INFO] [LastChance] Connected to player Died signal (C#)
[11:25:38] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[11:25:39] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=167.2°, current=-143.2°, player=(185,1111), corner_timer=0.00
[11:25:39] [ENEMY] [Enemy2] State: IDLE -> COMBAT
[11:25:39] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=167.2°, current=18.2°, player=(194,1111), corner_timer=0.00
[11:25:39] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=5
[11:25:39] [ENEMY] [Enemy3] Memory: high confidence (0.88) - transitioning to PURSUING
[11:25:39] [ENEMY] [Enemy3] State: IDLE -> PURSUING
[11:25:39] [ENEMY] [Enemy3] ROT_CHANGE: none -> P2:combat_state, state=PURSUING, target=173.3°, current=0.0°, player=(244,1111), corner_timer=0.00
[11:25:39] [ENEMY] [Enemy3] PURSUING corner check: angle -64.3°
[11:25:39] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=173.1°, current=-148.6°, player=(254,1111), corner_timer=0.30
[11:25:39] [ENEMY] [Enemy1] Player ammo empty: false -> true
[11:25:39] [ENEMY] [Enemy2] Player ammo empty: false -> true
[11:25:39] [ENEMY] [Enemy3] Player ammo empty: false -> true
[11:25:39] [ENEMY] [Enemy4] Player ammo empty: false -> true
[11:25:39] [ENEMY] [Enemy5] Player ammo empty: false -> true
[11:25:39] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(264.3907, 1111.924), source=PLAYER (Player), range=600, listeners=8
[11:25:39] [INFO] [SoundPropagation] Cleaned up 3 invalid listeners
[11:25:39] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=0, below_threshold=1
[11:25:39] [INFO] [Shotgun.FIX#212] Firing 11 pellets with 15° spread at pos=(264.39072, 1111.9243)
[11:25:39] [INFO] [Shotgun.FIX#212] Normal pellet 1/11: extraOffset=-3,7, distance=48,3px, pos=(306.80396, 1088.8142)
[11:25:39] [INFO] [Shotgun.FIX#212] Normal pellet 2/11: extraOffset=9,6, distance=61,6px, pos=(319.4824, 1084.4376)
[11:25:39] [INFO] [Shotgun.FIX#212] Normal pellet 3/11: extraOffset=-13,0, distance=39,0px, pos=(300.17386, 1096.4365)
[11:25:39] [INFO] [Shotgun.FIX#212] Normal pellet 4/11: extraOffset=2,5, distance=54,5px, pos=(314.2698, 1090.0825)
[11:25:39] [INFO] [Shotgun.FIX#212] Normal pellet 5/11: extraOffset=-5,2, distance=46,8px, pos=(307.8038, 1094.5513)
[11:25:39] [INFO] [Shotgun.FIX#212] Normal pellet 6/11: extraOffset=-12,1, distance=39,9px, pos=(302.08044, 1098.8256)
[11:25:39] [INFO] [Shotgun.FIX#212] Normal pellet 7/11: extraOffset=13,7, distance=65,7px, pos=(326.4262, 1090.3)
[11:25:39] [INFO] [Shotgun.FIX#212] Normal pellet 8/11: extraOffset=3,5, distance=55,5px, pos=(317.4757, 1095.6106)
[11:25:39] [INFO] [Shotgun.FIX#212] Normal pellet 9/11: extraOffset=-6,0, distance=46,0px, pos=(308.8385, 1099.981)
[11:25:39] [INFO] [Shotgun.FIX#212] Normal pellet 10/11: extraOffset=-1,1, distance=50,9px, pos=(313.75836, 1099.6748)
[11:25:39] [INFO] [Shotgun.FIX#212] Normal pellet 11/11: extraOffset=11,7, distance=63,7px, pos=(326.41922, 1097.6212)
[11:25:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(264.3907, 1111.924), source=PLAYER (Shotgun), range=1469, listeners=5
[11:25:39] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=0, below_threshold=4
[11:25:39] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=823), can_see=false
[11:25:39] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=590), can_see=false
[11:25:39] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=929), can_see=true
[11:25:39] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) - pursuing to attack (dist=929)
[11:25:39] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1461), can_see=false
[11:25:39] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1478), can_see=false
[11:25:39] [INFO] [ImpactEffects] Spawning explosion visual effect at (343.3918, 1068.878) (radius=15) - using shadow-based wall occlusion
[11:25:39] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(343.3918, 1068.878), source=PLAYER (ShotgunPellet), range=500, listeners=5
[11:25:39] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=0, below_threshold=0
[11:25:39] [INFO] [ImpactEffects] Spawning explosion visual effect at (719.8747, 953.1525) (radius=15) - using shadow-based wall occlusion
[11:25:39] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(719.8747, 953.1525), source=PLAYER (@Area2D@11468), range=500, listeners=5
[11:25:39] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=0
[11:25:39] [INFO] [ImpactEffects] Spawning explosion visual effect at (715.7594, 973.2128) (radius=15) - using shadow-based wall occlusion
[11:25:39] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(715.7594, 973.2128), source=PLAYER (@Area2D@11469), range=500, listeners=5
[11:25:39] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=0
[11:25:39] [INFO] [ImpactEffects] Spawning explosion visual effect at (735.0132, 948.3638) (radius=15) - using shadow-based wall occlusion
[11:25:39] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(735.0132, 948.3638), source=PLAYER (@Area2D@11467), range=500, listeners=5
[11:25:39] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=0
[11:25:39] [ENEMY] [Enemy2] Hit: dmg=1, hp=2/2->1/2
[11:25:39] [INFO] [ImpactEffects] spawn_blood_effect called at (777.3271, 948.2721), dir=(0.906419, -0.42238), lethal=false
[11:25:39] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[11:25:39] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[11:25:39] [INFO] [ImpactEffects] Wall found for blood splatter at (850, 914.4074) (dist=80 px)
[11:25:39] [INFO] [BloodDecal] Blood puddle created at (849, 914.4074) (added to group)
[11:25:39] [INFO] [ImpactEffects] Blood effect spawned at (777.3271, 948.2721) (scale=1)
[11:25:39] [ENEMY] [Enemy2] Hit: dmg=1, hp=1/2->0/2
[11:25:39] [INFO] [ImpactEffects] spawn_blood_effect called at (777.3271, 948.2721), dir=(0.999516, -0.031123), lethal=true
[11:25:39] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[11:25:39] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[11:25:39] [INFO] [ImpactEffects] Blood effect spawned at (777.3271, 948.2721) (scale=1.5)
[11:25:39] [ENEMY] [Enemy2] Enemy died (ricochet: false, penetration: false)
[11:25:39] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[11:25:39] [ENEMY] [Enemy2] [AllyDeath] Notified 1 enemies
[11:25:39] [INFO] [SoundPropagation] Unregistered listener: Enemy2 (remaining: 4)
[11:25:39] [INFO] [DeathAnim] Started - Angle: -1.8 deg, Index: 11
[11:25:39] [ENEMY] [Enemy2] Death animation started with hit direction: (0.999516, -0.031123)
[11:25:39] [ENEMY] [Enemy3] State: PURSUING -> COMBAT
[11:25:39] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[11:25:39] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P2:combat_state, state=PURSUING, target=169.5°, current=107.2°, player=(300,1111), corner_timer=0.03
[11:25:39] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[11:25:39] [ENEMY] [Enemy3] PURSUING corner check: angle 53.6°
[11:25:39] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=NeedsPumpUp, ReloadState=NotReloading
[11:25:39] [INFO] [Shotgun.FIX#445] dragStartPos=(756, 956), aimDir=(0,95, -0,32)
[11:25:39] [ENEMY] [Enemy3] Hit: dmg=1, hp=1/1->0/1
[11:25:39] [INFO] [ImpactEffects] spawn_blood_effect called at (1092.052, 974.1764), dir=(0.999895, -0.014472), lethal=true
[11:25:39] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[11:25:39] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[11:25:39] [INFO] [ImpactEffects] Blood effect spawned at (1092.052, 974.1764) (scale=1.5)
[11:25:39] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[11:25:39] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[11:25:39] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 3)
[11:25:39] [INFO] [DeathAnim] Started - Angle: -0.8 deg, Index: 11
[11:25:39] [ENEMY] [Enemy3] Death animation started with hit direction: (0.999895, -0.014472)
[11:25:39] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[11:25:39] [INFO] [ImpactEffects] Spawning explosion visual effect at (1382.051, 854.2045) (radius=15) - using shadow-based wall occlusion
[11:25:39] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1382.051, 854.2045), source=PLAYER (@Area2D@11472), range=500, listeners=3
[11:25:39] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[11:25:39] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[11:25:39] [INFO] [Shotgun.FIX#445v7] Mouse at top edge (Y=0), need PumpUp - recentering cursor
[11:25:39] [INFO] [Shotgun.FIX#445v7] Cursor recentered to (640, 360)
[11:25:39] [INFO] [BloodDecal] Blood puddle created at (849.5757, 929.1492) (added to group)
[11:25:39] [INFO] [ImpactEffects] Spawning explosion visual effect at (1395.3, 808.0435) (radius=15) - using shadow-based wall occlusion
[11:25:39] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1395.3, 808.0435), source=PLAYER (@Area2D@11470), range=500, listeners=3
[11:25:39] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[11:25:39] [INFO] [ImpactEffects] Spawning explosion visual effect at (1405.648, 828.7454) (radius=15) - using shadow-based wall occlusion
[11:25:39] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1405.648, 828.7454), source=PLAYER (@Area2D@11471), range=500, listeners=3
[11:25:39] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=0
[11:25:40] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[11:25:40] [INFO] [Shotgun.FIX#445v7] Mid-drag pump UP - shell ejected, continue dragging DOWN to chamber
[11:25:40] [INFO] [BloodDecal] Blood puddle created at (877.121, 1005.445) (added to group)
[11:25:40] [INFO] [ImpactEffects] Spawning explosion visual effect at (1497.468, 571.9657) (radius=15) - using shadow-based wall occlusion
[11:25:40] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1497.468, 571.9657), source=PLAYER (@Area2D@11465), range=500, listeners=3
[11:25:40] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=0
[11:25:40] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=812), can_see=false
[11:25:40] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1455), can_see=false
[11:25:40] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1471), can_see=false
[11:25:40] [INFO] [ImpactEffects] Spawning explosion visual effect at (1523.808, 566.8171) (radius=15) - using shadow-based wall occlusion
[11:25:40] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1523.808, 566.8171), source=PLAYER (@Area2D@11464), range=500, listeners=3
[11:25:40] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=0
[11:25:40] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[11:25:40] [INFO] [Shotgun.FIX#445v7] Mid-drag pump DOWN - chambered, ready to fire
[11:25:40] [INFO] [BloodDecal] Blood puddle created at (825.2996, 954.9716) (added to group)
[11:25:40] [INFO] [BloodDecal] Blood puddle created at (850.6918, 973.7775) (added to group)
[11:25:40] [INFO] [BloodDecal] Blood puddle created at (838.2458, 954.3029) (added to group)
[11:25:40] [INFO] [BloodDecal] Blood puddle created at (915.4086, 987.1801) (added to group)
[11:25:40] [INFO] [BloodDecal] Blood puddle created at (842.746, 961.9103) (added to group)
[11:25:40] [INFO] [BloodDecal] Blood puddle created at (883.2428, 929.7908) (added to group)
[11:25:40] [INFO] [BloodDecal] Blood puddle created at (831.73, 973.68) (added to group)
[11:25:40] [INFO] [BloodDecal] Blood puddle created at (842.5477, 935.278) (added to group)
[11:25:40] [INFO] [BloodDecal] Blood puddle created at (842.2431, 937.53) (added to group)
[11:25:40] [INFO] [BloodDecal] Blood puddle created at (901.9649, 1017.312) (added to group)
[11:25:40] [INFO] [BloodDecal] Blood puddle created at (892.6399, 947.1085) (added to group)
[11:25:40] [INFO] [ImpactEffects] Spawning explosion visual effect at (1922.686, 284.5571) (radius=15) - using shadow-based wall occlusion
[11:25:40] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1922.686, 284.5571), source=PLAYER (@Area2D@11463), range=500, listeners=3
[11:25:40] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=0
[11:25:40] [ENEMY] [Enemy2] Ragdoll activated
[11:25:40] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[11:25:40] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[11:25:40] [INFO] [BloodDecal] Blood puddle created at (822.4929, 939.648) (added to group)
[11:25:40] [INFO] [BloodDecal] Blood puddle created at (846.9133, 974.7382) (added to group)
[11:25:40] [INFO] [BloodDecal] Blood puddle created at (855.1136, 995.6722) (added to group)
[11:25:40] [INFO] [BloodDecal] Blood puddle created at (917.4692, 949.6832) (added to group)
[11:25:40] [INFO] [BloodDecal] Blood puddle created at (892.4375, 943.7009) (added to group)
[11:25:40] [INFO] [BloodDecal] Blood puddle created at (1192.302, 962.4432) (added to group)
[11:25:40] [INFO] [BloodDecal] Blood puddle created at (1181.239, 1042.806) (added to group)
[11:25:40] [INFO] [BloodDecal] Blood puddle created at (1180.546, 972.5859) (added to group)
[11:25:40] [INFO] [BloodDecal] Blood puddle created at (1150.625, 1014.959) (added to group)
[11:25:40] [ENEMY] [Enemy3] Ragdoll activated
[11:25:40] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[11:25:40] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[11:25:40] [INFO] [BloodDecal] Blood puddle created at (860.3481, 990.1487) (added to group)
[11:25:40] [INFO] [BloodDecal] Blood puddle created at (965.267, 1110.099) (added to group)
[11:25:40] [INFO] [BloodDecal] Blood puddle created at (978.0766, 1020.339) (added to group)
[11:25:40] [INFO] [BloodDecal] Blood puddle created at (923.8538, 1042.005) (added to group)
[11:25:40] [INFO] [BloodDecal] Blood puddle created at (916.3702, 1004.502) (added to group)
[11:25:40] [INFO] [BloodDecal] Blood puddle created at (1176.016, 1046.57) (added to group)
[11:25:40] [INFO] [BloodDecal] Blood puddle created at (1208.863, 1043.062) (added to group)
[11:25:40] [INFO] [BloodDecal] Blood puddle created at (1222.093, 1021.555) (added to group)
[11:25:40] [INFO] [BloodDecal] Blood puddle created at (1213.443, 982.1149) (added to group)
[11:25:40] [INFO] [BloodDecal] Blood puddle created at (1189.663, 962.2906) (added to group)
[11:25:40] [INFO] [BloodDecal] Blood puddle created at (1235.557, 1009.204) (added to group)
[11:25:40] [INFO] [BloodDecal] Blood puddle created at (1169.333, 976.2886) (added to group)
[11:25:40] [INFO] [BloodDecal] Blood puddle created at (1164.207, 982.9655) (added to group)
[11:25:40] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=5
[11:25:40] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[11:25:40] [INFO] [BloodDecal] Blood puddle created at (963.9261, 982.9745) (added to group)
[11:25:40] [INFO] [BloodDecal] Blood puddle created at (1002.318, 1007.658) (added to group)
[11:25:40] [INFO] [BloodDecal] Blood puddle created at (886.9457, 1100.462) (added to group)
[11:25:40] [INFO] [BloodDecal] Blood puddle created at (1194.142, 1030.709) (added to group)
[11:25:40] [INFO] [BloodDecal] Blood puddle created at (1253.07, 995.3573) (added to group)
[11:25:40] [INFO] [BloodDecal] Blood puddle created at (1204.487, 1062.342) (added to group)
[11:25:40] [INFO] [BloodDecal] Blood puddle created at (1183.693, 1065.073) (added to group)
[11:25:40] [INFO] [BloodDecal] Blood puddle created at (1205.843, 1086.193) (added to group)
[11:25:40] [INFO] [BloodDecal] Blood puddle created at (1226.029, 1108.82) (added to group)
[11:25:40] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=728), can_see=false
[11:25:40] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1540), can_see=false
[11:25:40] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1516), can_see=false
[11:25:40] [INFO] [BloodDecal] Blood puddle created at (1317.604, 1058.558) (added to group)
[11:25:40] [INFO] [Shotgun.FIX#445v7] TryProcessMidDragGesture - dragVector=(1,4, 305,3), length=305,3, isDragUp=False, isDragDown=True, ActionState=Ready
[11:25:40] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=116.1°, current=146.3°, player=(88,935), corner_timer=0.00
[11:25:40] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) - pursuing to attack (dist=708)
[11:25:40] [ENEMY] [Enemy1] State: IDLE -> PURSUING
[11:25:40] [INFO] [Shotgun.FIX#243] RMB released after 13 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[11:25:40] [INFO] [Shotgun.FIX#445v7] ProcessDragGesture - dragVector=(1,4, 278,8), length=278,8, ActionState=Ready
[11:25:40] [INFO] [Shotgun.FIX#445v7] Screen-based pump gesture: isDragUp=False, isDragDown=True
[11:25:40] [ENEMY] [Enemy1] PURSUING corner check: angle -0.0°
[11:25:40] [ENEMY] [Enemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=PURSUING, target=116.9°, current=-129.5°, player=(82,932), corner_timer=0.30
[11:25:41] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=647), can_see=false
[11:25:41] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1610), can_see=false
[11:25:41] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1568), can_see=false
[11:25:41] [ENEMY] [Enemy1] PURSUING corner check: angle -0.0°
[11:25:41] [ENEMY] [Enemy2] Death animation completed
[11:25:41] [ENEMY] [Enemy3] Death animation completed
[11:25:41] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=5
[11:25:41] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=597), can_see=false
[11:25:41] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1529), can_see=false
[11:25:41] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1520), can_see=false
[11:25:42] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=589), can_see=false
[11:25:42] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1522), can_see=false
[11:25:42] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1512), can_see=false
[11:25:42] [INFO] [ReplayManager] Recording frame 240 (4,0s): player_valid=True, enemies=5
[11:25:42] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=445), can_see=false
[11:25:42] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1497), can_see=false
[11:25:42] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1448), can_see=false
[11:25:42] [ENEMY] [Enemy1] FLANKING started: target=(81.36796, 598.5271), side=left, pos=(395.7982, 485.8045)
[11:25:42] [ENEMY] [Enemy1] State: PURSUING -> FLANKING
[11:25:43] [INFO] [ReplayManager] Recording frame 300 (5,0s): player_valid=True, enemies=5
[11:25:44] [INFO] [ReplayManager] Recording frame 360 (6,0s): player_valid=True, enemies=5
[11:25:44] [INFO] [ScoreManager] Combo ended at 2. Max combo: 2
[11:25:45] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[11:25:45] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:25:45] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[11:25:45] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[11:25:45] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[11:25:45] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[11:25:45] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[11:25:45] [INFO] [LastChance] Resetting all effects (scene change detected)
[11:25:45] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[11:25:45] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[11:25:45] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[11:25:45] [ENEMY] [Enemy1] Death animation component initialized
[11:25:45] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:25:45] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[11:25:45] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[11:25:45] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[11:25:45] [ENEMY] [Enemy2] Death animation component initialized
[11:25:45] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:25:45] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[11:25:45] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[11:25:45] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[11:25:45] [ENEMY] [Enemy3] Death animation component initialized
[11:25:45] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:25:45] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[11:25:45] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[11:25:45] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[11:25:45] [ENEMY] [Enemy4] Death animation component initialized
[11:25:45] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:25:45] [INFO] [BloodyFeet:Grenadier] Footprint scene loaded
[11:25:45] [INFO] [BloodyFeet:Grenadier] Found EnemyModel for facing direction
[11:25:45] [INFO] [BloodyFeet:Grenadier] BloodyFeetComponent ready on Grenadier
[11:25:45] [INFO] [EnemyGrenade] Grenade bag built (normal): [Flashbang, Flashbang, Flashbang, Offensive, Offensive, Offensive, Offensive, Offensive]
[11:25:45] [INFO] [EnemyGrenade] Grenadier initialized: 8 grenades in bag
[11:25:45] [ENEMY] [Grenadier] Death animation component initialized
[11:25:45] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:25:45] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[11:25:45] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[11:25:45] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[11:25:45] [ENEMY] [Enemy6] Death animation component initialized
[11:25:45] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:25:45] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[11:25:45] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[11:25:45] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[11:25:45] [INFO] [EnemyGrenade] Initialized: 1 grenades
[11:25:45] [ENEMY] [Enemy7] Death animation component initialized
[11:25:45] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:25:45] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[11:25:45] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[11:25:45] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[11:25:45] [ENEMY] [Enemy8] Death animation component initialized
[11:25:45] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:25:45] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[11:25:45] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[11:25:45] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[11:25:45] [ENEMY] [Enemy9] Death animation component initialized
[11:25:45] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:25:45] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[11:25:45] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[11:25:45] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[11:25:45] [ENEMY] [Enemy10] Death animation component initialized
[11:25:45] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:25:45] [INFO] [BloodyFeet:Player] Footprint scene loaded
[11:25:45] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[11:25:45] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[11:25:45] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: F-1 Grenade
[11:25:45] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[11:25:45] [INFO] [Player.Weapon] GameManager weapon selection: shotgun (Shotgun)
[11:25:45] [INFO] [Player.Weapon] Removed default MakarovPM
[11:25:45] [INFO] [Player.Weapon] Equipped Shotgun (ammo: 0/8)
[11:25:45] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[11:25:45] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[11:25:45] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[11:25:45] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[11:25:45] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[11:25:45] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[11:25:45] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[11:25:45] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[11:25:45] [INFO] [Player.Homing] No homing bullets selected in ActiveItemManager
[11:25:45] [INFO] [Player.InvisibilitySuit] No invisibility suit selected in ActiveItemManager
[11:25:45] [INFO] [Player.BreakerBullets] Breaker bullets active — bullets will detonate 60px before walls
[11:25:45] [INFO] [Player.BreakerBullets] Set IsBreakerBulletActive on weapon: Shotgun
[11:25:45] [INFO] [Player] Ready! Ammo: 0/8, Grenades: 1/3, Health: 4/4
[11:25:45] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[11:25:45] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[11:25:45] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[11:25:45] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[11:25:45] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[11:25:45] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[11:25:45] [INFO] [BuildingLevel] Child 'Grenadier': script=true, has_died_signal=true
[11:25:45] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[11:25:45] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[11:25:45] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[11:25:45] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[11:25:45] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[11:25:45] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[11:25:45] [INFO] [BuildingLevel] Setting up weapon: shotgun
[11:25:45] [INFO] [BuildingLevel] Shotgun already equipped by C# Player - skipping GDScript weapon swap
[11:25:45] [INFO] [ScoreManager] Level started with 10 enemies
[11:25:45] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[11:25:45] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[11:25:45] [INFO] [ReplayManager] Replay data cleared
[11:25:45] [INFO] [BuildingLevel] Previous replay data cleared
[11:25:45] [INFO] [ReplayManager] Detected player weapon: Shotgun
[11:25:45] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[11:25:45] [INFO] [ReplayManager] Level: BuildingLevel
[11:25:45] [INFO] [ReplayManager] Player: Player (valid: True)
[11:25:45] [INFO] [ReplayManager] Enemies count: 10
[11:25:45] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/shotgun_topdown.png
[11:25:45] [INFO] [ReplayManager]   Enemy 0: Enemy1
[11:25:45] [INFO] [ReplayManager]   Enemy 1: Enemy2
[11:25:45] [INFO] [ReplayManager]   Enemy 2: Enemy3
[11:25:45] [INFO] [ReplayManager]   Enemy 3: Enemy4
[11:25:45] [INFO] [ReplayManager]   Enemy 4: Grenadier
[11:25:45] [INFO] [ReplayManager]   Enemy 5: Enemy6
[11:25:45] [INFO] [ReplayManager]   Enemy 6: Enemy7
[11:25:45] [INFO] [ReplayManager]   Enemy 7: Enemy8
[11:25:45] [INFO] [ReplayManager]   Enemy 8: Enemy9
[11:25:45] [INFO] [ReplayManager]   Enemy 9: Enemy10
[11:25:45] [INFO] [BuildingLevel] Replay recording started successfully
[11:25:45] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[11:25:45] [INFO] [CinemaEffects] Found player node: Player
[11:25:45] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[11:25:45] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 4)
[11:25:45] [ENEMY] [Enemy1] Registered as sound listener
[11:25:45] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 4, behavior: GUARD
[11:25:45] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[11:25:45] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 5)
[11:25:45] [ENEMY] [Enemy2] Registered as sound listener
[11:25:45] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 4, behavior: GUARD
[11:25:45] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[11:25:45] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 6)
[11:25:45] [ENEMY] [Enemy3] Registered as sound listener
[11:25:45] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 4, behavior: GUARD
[11:25:45] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[11:25:45] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 7)
[11:25:45] [ENEMY] [Enemy4] Registered as sound listener
[11:25:45] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 2, behavior: GUARD
[11:25:45] [INFO] [BloodyFeet:Grenadier] Blood detector created and attached to Grenadier
[11:25:45] [INFO] [SoundPropagation] Registered listener: Grenadier (total: 8)
[11:25:45] [ENEMY] [Grenadier] Registered as sound listener
[11:25:45] [ENEMY] [Grenadier] Spawned at (1700, 350), hp: 2, behavior: GUARD
[11:25:45] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[11:25:45] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 9)
[11:25:45] [ENEMY] [Enemy6] Registered as sound listener
[11:25:45] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 2, behavior: GUARD
[11:25:45] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[11:25:45] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 10)
[11:25:45] [ENEMY] [Enemy7] Registered as sound listener
[11:25:45] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 2, behavior: PATROL
[11:25:45] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[11:25:45] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 11)
[11:25:45] [ENEMY] [Enemy8] Registered as sound listener
[11:25:45] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 3, behavior: GUARD
[11:25:45] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[11:25:45] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 12)
[11:25:45] [ENEMY] [Enemy9] Registered as sound listener
[11:25:45] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 4, behavior: GUARD
[11:25:45] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[11:25:45] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 13)
[11:25:45] [ENEMY] [Enemy10] Registered as sound listener
[11:25:45] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 2, behavior: PATROL
[11:25:45] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[11:25:45] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[11:25:45] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[11:25:45] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[11:25:45] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[11:25:45] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[11:25:45] [ENEMY] [Grenadier] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[11:25:45] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[11:25:45] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=123.7°, current=0.0°, player=(450,1250), corner_timer=0.00
[11:25:45] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[11:25:45] [INFO] [Player] Detecting weapon pose (frame 3)...
[11:25:45] [INFO] [Player] Detected weapon: Shotgun (Shotgun pose)
[11:25:45] [INFO] [Player] Applied Shotgun arm pose: Left=(21, 6), Right=(-1, 6)
[11:25:45] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[11:25:45] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[11:25:45] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[11:25:45] [INFO] [LastChance] Found player: Player
[11:25:45] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[11:25:45] [INFO] [LastChance] Connected to player Damaged signal (C#)
[11:25:45] [INFO] [LastChance] Connected to player Died signal (C#)
[11:25:45] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[11:25:46] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[11:25:46] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[11:25:46] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[11:25:46] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,1012), corner_timer=0.30
[11:25:46] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,1012), corner_timer=0.30
[11:25:47] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(450,907), corner_timer=-0.02
[11:25:47] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[11:25:47] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(450,907), corner_timer=-0.02
[11:25:47] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[11:25:47] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(450,902), corner_timer=0.30
[11:25:47] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(450,902), corner_timer=0.30
[11:25:47] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[11:25:47] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=164.3°, current=-168.8°, player=(446,820), corner_timer=0.00
[11:25:47] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[11:25:47] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=166.6°, current=-9.0°, player=(443,811), corner_timer=0.00
[11:25:47] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(439,802), corner_timer=-0.02
[11:25:47] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[11:25:47] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(436,798), corner_timer=0.30
[11:25:47] [ENEMY] [Enemy1] Player ammo empty: false -> true
[11:25:47] [ENEMY] [Enemy2] Player ammo empty: false -> true
[11:25:47] [ENEMY] [Enemy3] Player ammo empty: false -> true
[11:25:47] [ENEMY] [Enemy4] Player ammo empty: false -> true
[11:25:47] [ENEMY] [Grenadier] Player ammo empty: false -> true
[11:25:47] [ENEMY] [Enemy6] Player ammo empty: false -> true
[11:25:47] [ENEMY] [Enemy7] Player ammo empty: false -> true
[11:25:47] [ENEMY] [Enemy8] Player ammo empty: false -> true
[11:25:47] [ENEMY] [Enemy9] Player ammo empty: false -> true
[11:25:47] [ENEMY] [Enemy10] Player ammo empty: false -> true
[11:25:47] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(434.1059, 795.0463), source=PLAYER (Player), range=600, listeners=13
[11:25:47] [INFO] [SoundPropagation] Cleaned up 3 invalid listeners
[11:25:47] [ENEMY] [Enemy1] Heard player EMPTY_CLICK at (434.1059, 795.0463), intensity=0.01, distance=465
[11:25:47] [ENEMY] [Enemy1] Vulnerability sound triggered pursuit - transitioning from IDLE to PURSUING
[11:25:47] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (434.1059, 795.0463), intensity=0.04, distance=247
[11:25:47] [ENEMY] [Enemy2] Vulnerability sound triggered pursuit - transitioning from IDLE to PURSUING
[11:25:47] [ENEMY] [Enemy3] Heard player EMPTY_CLICK at (434.1059, 795.0463), intensity=0.04, distance=243
[11:25:47] [ENEMY] [Enemy4] Heard player EMPTY_CLICK at (434.1059, 795.0463), intensity=0.02, distance=381
[11:25:47] [ENEMY] [Enemy4] Vulnerability sound triggered pursuit - transitioning from IDLE to PURSUING
[11:25:47] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=6, self=0, below_threshold=0
[11:25:47] [INFO] [Shotgun.FIX#212] Firing 15 pellets with 15° spread at pos=(434.10587, 795.04626)
[11:25:47] [INFO] [Shotgun.FIX#212] Normal pellet 1/15: extraOffset=-1,7, distance=50,3px, pos=(478.73846, 771.7482)
[11:25:47] [INFO] [Shotgun.FIX#212] Normal pellet 2/15: extraOffset=13,9, distance=65,9px, pos=(492.5875, 764.7014)
[11:25:47] [INFO] [Shotgun.FIX#212] Normal pellet 3/15: extraOffset=-6,5, distance=45,5px, pos=(474.5538, 774.2941)
[11:25:47] [INFO] [Shotgun.FIX#212] Normal pellet 4/15: extraOffset=3,5, distance=55,5px, pos=(484.27484, 771.20044)
[11:25:47] [INFO] [Shotgun.FIX#212] Normal pellet 5/15: extraOffset=-12,9, distance=39,1px, pos=(469.9635, 779.5734)
[11:25:47] [INFO] [Shotgun.FIX#212] Normal pellet 6/15: extraOffset=-9,6, distance=42,4px, pos=(473.28647, 778.8092)
[11:25:47] [INFO] [Shotgun.FIX#212] Normal pellet 7/15: extraOffset=-2,5, distance=49,5px, pos=(480.17368, 776.81604)
[11:25:47] [INFO] [Shotgun.FIX#212] Normal pellet 8/15: extraOffset=-11,5, distance=40,5px, pos=(471.6868, 779.8532)
[11:25:47] [INFO] [Shotgun.FIX#212] Normal pellet 9/15: extraOffset=-1,4, distance=50,6px, pos=(481.6309, 777.656)
[11:25:47] [INFO] [Shotgun.FIX#212] Normal pellet 10/15: extraOffset=2,4, distance=54,4px, pos=(485.22363, 776.4172)
[11:25:47] [INFO] [Shotgun.FIX#212] Normal pellet 11/15: extraOffset=-13,7, distance=38,3px, pos=(470.51617, 783.2002)
[11:25:47] [INFO] [Shotgun.FIX#212] Normal pellet 12/15: extraOffset=11,2, distance=63,2px, pos=(494.83017, 777.6303)
[11:25:47] [INFO] [Shotgun.FIX#212] Normal pellet 13/15: extraOffset=5,2, distance=57,2px, pos=(489.0302, 779.019)
[11:25:47] [INFO] [Shotgun.FIX#212] Normal pellet 14/15: extraOffset=5,2, distance=57,2px, pos=(489.76114, 781.912)
[11:25:47] [INFO] [Shotgun.FIX#212] Normal pellet 15/15: extraOffset=-13,8, distance=38,2px, pos=(471.287, 786.17255)
[11:25:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(434.1059, 795.0463), source=PLAYER (Shotgun), range=1469, listeners=10
[11:25:47] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[11:25:47] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=73.2°, current=-33.8°, player=(434,795), corner_timer=0.00
[11:25:47] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=465), can_see=false
[11:25:47] [ENEMY] [Enemy1] Pursuing vulnerability sound at (434.1059, 795.0463), distance=465
[11:25:47] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=82.1°, current=-157.5°, player=(434,795), corner_timer=0.00
[11:25:47] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=247), can_see=false
[11:25:47] [ENEMY] [Enemy2] Pursuing vulnerability sound at (434.1059, 795.0463), distance=247
[11:25:47] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=243), can_see=false
[11:25:47] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=-164.0°, current=-67.5°, player=(434,795), corner_timer=0.00
[11:25:47] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=381), can_see=false
[11:25:47] [ENEMY] [Enemy4] Pursuing vulnerability sound at (434.1059, 795.0463), distance=381
[11:25:47] [ENEMY] [Grenadier] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1342), can_see=false
[11:25:47] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1555), can_see=false
[11:25:47] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1269), can_see=false
[11:25:47] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1606), can_see=false
[11:25:47] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1829), can_see=false
[11:25:47] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1092), can_see=false
[11:25:47] [INFO] [ImpactEffects] Spawning explosion visual effect at (611.4193, 753.2014) (radius=15) - using shadow-based wall occlusion
[11:25:47] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(611.4193, 753.2014), source=PLAYER (@Area2D@12149), range=500, listeners=10
[11:25:47] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=6, self=0, below_threshold=0
[11:25:47] [INFO] [ImpactEffects] Spawning explosion visual effect at (633.4007, 747.4824) (radius=15) - using shadow-based wall occlusion
[11:25:47] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(633.4007, 747.4824), source=PLAYER (@Area2D@12150), range=500, listeners=10
[11:25:47] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=6, self=0, below_threshold=0
[11:25:47] [ENEMY] [Enemy3] Hit: dmg=1, hp=4/4->3/4
[11:25:47] [INFO] [ImpactEffects] spawn_blood_effect called at (673.9798, 755.8064), dir=(0.997599, -0.069257), lethal=false
[11:25:47] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[11:25:47] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[11:25:47] [INFO] [ImpactEffects] Blood effect spawned at (673.9798, 755.8064) (scale=1)
[11:25:47] [ENEMY] [Enemy3] Hit: dmg=1, hp=3/4->2/4
[11:25:47] [INFO] [ImpactEffects] spawn_blood_effect called at (673.9798, 755.8064), dir=(0.996932, 0.078275), lethal=false
[11:25:47] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[11:25:47] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[11:25:47] [INFO] [ImpactEffects] Blood effect spawned at (673.9798, 755.8064) (scale=1)
[11:25:47] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=173.9°, current=-175.5°, player=(421,782), corner_timer=0.00
[11:25:47] [ENEMY] [Enemy3] Player empty ammo - priority attack triggered
[11:25:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(673.9798, 755.8064), source=ENEMY (Enemy3), range=1469, listeners=10
[11:25:47] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[11:25:47] [ENEMY] [Enemy3] Hit: dmg=1, hp=2/4->1/4
[11:25:47] [INFO] [ImpactEffects] spawn_blood_effect called at (673.9798, 755.8064), dir=(0.93875, -0.344599), lethal=false
[11:25:47] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[11:25:47] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[11:25:47] [INFO] [ImpactEffects] Blood effect spawned at (673.9798, 755.8064) (scale=1)
[11:25:47] [ENEMY] [Enemy3] Hit: dmg=1, hp=1/4->0/4
[11:25:47] [INFO] [ImpactEffects] spawn_blood_effect called at (673.9798, 755.8064), dir=(0.978076, 0.208248), lethal=true
[11:25:47] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[11:25:47] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[11:25:47] [INFO] [ImpactEffects] Blood effect spawned at (673.9798, 755.8064) (scale=1.5)
[11:25:47] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[11:25:47] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[11:25:47] [ENEMY] [Enemy3] [AllyDeath] Notified 2 enemies
[11:25:47] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[11:25:47] [INFO] [DeathAnim] Started - Angle: 12.0 deg, Index: 12
[11:25:47] [ENEMY] [Enemy3] Death animation started with hit direction: (0.978076, 0.208248)
[11:25:47] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[11:25:47] [INFO] [LastChance] Threat detected: Bullet
[11:25:47] [INFO] [LastChance] Not in hard mode - effect disabled
[11:25:47] [INFO] [LastChance] Cannot trigger effect - conditions not met
[11:25:47] [INFO] [ImpactEffects] Spawning explosion visual effect at (855.2977, 674.2468) (radius=15) - using shadow-based wall occlusion
[11:25:47] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(855.2977, 674.2468), source=PLAYER (@Area2D@12147), range=500, listeners=9
[11:25:47] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=7, self=0, below_threshold=0
[11:25:47] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=NeedsPumpUp, ReloadState=NotReloading
[11:25:47] [INFO] [Shotgun.FIX#445] dragStartPos=(733, 703), aimDir=(0,98, -0,21)
[11:25:47] [INFO] [ImpactEffects] Spawning explosion visual effect at (867.6072, 623.4982) (radius=15) - using shadow-based wall occlusion
[11:25:47] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(867.6072, 623.4982), source=PLAYER (@Area2D@12142), range=500, listeners=9
[11:25:47] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=7, self=0, below_threshold=0
[11:25:47] [INFO] [ImpactEffects] Spawning explosion visual effect at (857.9801, 623.6844) (radius=15) - using shadow-based wall occlusion
[11:25:47] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(857.9801, 623.6844), source=PLAYER (@Area2D@12143), range=500, listeners=9
[11:25:47] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=7, self=0, below_threshold=0
[11:25:47] [INFO] [ImpactEffects] Spawning explosion visual effect at (872.9237, 634.4749) (radius=15) - using shadow-based wall occlusion
[11:25:47] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(872.9237, 634.4749), source=PLAYER (@Area2D@12144), range=500, listeners=9
[11:25:47] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=7, self=0, below_threshold=0
[11:25:47] [INFO] [ImpactEffects] Spawning explosion visual effect at (876.7037, 633.7481) (radius=15) - using shadow-based wall occlusion
[11:25:47] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(876.7037, 633.7481), source=PLAYER (@Area2D@12145), range=500, listeners=9
[11:25:47] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=7, self=0, below_threshold=0
[11:25:47] [INFO] [ImpactEffects] Spawning explosion visual effect at (866.7399, 654.2897) (radius=15) - using shadow-based wall occlusion
[11:25:47] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(866.7399, 654.2897), source=PLAYER (@Area2D@12146), range=500, listeners=9
[11:25:47] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=7, self=0, below_threshold=0
[11:25:47] [INFO] [ImpactEffects] Spawning explosion visual effect at (889.015, 662.3008) (radius=15) - using shadow-based wall occlusion
[11:25:47] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(889.015, 662.3008), source=PLAYER (@Area2D@12148), range=500, listeners=9
[11:25:47] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=7, self=0, below_threshold=0
[11:25:47] [INFO] [Player] Spawning blood effect at (399.1736, 773.8117), dir=(1, 0), lethal=False (C#)
[11:25:47] [INFO] [ImpactEffects] spawn_blood_effect called at (399.1736, 773.8117), dir=(1, 0), lethal=false
[11:25:47] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[11:25:47] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[11:25:47] [INFO] [ImpactEffects] Blood effect spawned at (399.1736, 773.8117) (scale=1)
[11:25:47] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[11:25:47] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[11:25:48] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[11:25:48] [INFO] [Shotgun.FIX#445v7] Mid-drag pump UP - shell ejected, continue dragging DOWN to chamber
[11:25:48] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(368,780), corner_timer=-0.02
[11:25:48] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[11:25:48] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.6°, player=(365,782), corner_timer=0.30
[11:25:48] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[11:25:48] [INFO] [Shotgun.FIX#445v7] Mid-drag pump DOWN - chambered, ready to fire
[11:25:48] [INFO] [BloodDecal] Blood puddle created at (762.2906, 787.1906) (added to group)
[11:25:48] [INFO] [BloodDecal] Blood puddle created at (721.4942, 792.4002) (added to group)
[11:25:48] [INFO] [BloodDecal] Blood puddle created at (715.7579, 778.3553) (added to group)
[11:25:48] [INFO] [BloodDecal] Blood puddle created at (725.4433, 789.9058) (added to group)
[11:25:48] [INFO] [BloodDecal] Blood puddle created at (722.4698, 783.1154) (added to group)
[11:25:48] [INFO] [BloodDecal] Blood puddle created at (719.0362, 762.3152) (added to group)
[11:25:48] [INFO] [BloodDecal] Blood puddle created at (740.6613, 807.9921) (added to group)
[11:25:48] [INFO] [BloodDecal] Blood puddle created at (751.1644, 788.3124) (added to group)
[11:25:48] [INFO] [ImpactEffects] Spawning explosion visual effect at (1312.18, 377.6886) (radius=15) - using shadow-based wall occlusion
[11:25:48] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1312.18, 377.6886), source=PLAYER (@Area2D@12139), range=500, listeners=9
[11:25:48] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=8, self=0, below_threshold=0
[11:25:48] [INFO] [ImpactEffects] Spawning explosion visual effect at (1311.616, 416.3948) (radius=15) - using shadow-based wall occlusion
[11:25:48] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1311.616, 416.3948), source=PLAYER (@Area2D@12140), range=500, listeners=9
[11:25:48] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=8, self=0, below_threshold=0
[11:25:48] [INFO] [ImpactEffects] Spawning explosion visual effect at (1320.115, 427.87) (radius=15) - using shadow-based wall occlusion
[11:25:48] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1320.115, 427.87), source=PLAYER (@Area2D@12141), range=500, listeners=9
[11:25:48] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=8, self=0, below_threshold=0
[11:25:48] [INFO] [ImpactEffects] Spawning explosion visual effect at (1328.293, 328.284) (radius=15) - using shadow-based wall occlusion
[11:25:48] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1328.293, 328.284), source=PLAYER (ShotgunPellet), range=500, listeners=9
[11:25:48] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=8, self=0, below_threshold=0
[11:25:48] [INFO] [ImpactEffects] Spawning explosion visual effect at (1343.227, 323.3229) (radius=15) - using shadow-based wall occlusion
[11:25:48] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1343.227, 323.3229), source=PLAYER (@Area2D@12137), range=500, listeners=9
[11:25:48] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=8, self=0, below_threshold=0
[11:25:48] [INFO] [ImpactEffects] Spawning explosion visual effect at (1327.213, 336.8298) (radius=15) - using shadow-based wall occlusion
[11:25:48] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1327.213, 336.8298), source=PLAYER (@Area2D@12138), range=500, listeners=9
[11:25:48] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=8, self=0, below_threshold=0
[11:25:48] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[11:25:48] [INFO] [BloodDecal] Blood puddle created at (725.1345, 787.0554) (added to group)
[11:25:48] [INFO] [BloodDecal] Blood puddle created at (740.7267, 763.8652) (added to group)
[11:25:48] [INFO] [BloodDecal] Blood puddle created at (736.101, 762.4313) (added to group)
[11:25:48] [INFO] [BloodDecal] Blood puddle created at (768.5144, 758.1072) (added to group)
[11:25:48] [INFO] [BloodDecal] Blood puddle created at (775.3723, 742.5162) (added to group)
[11:25:48] [INFO] [BloodDecal] Blood puddle created at (782.3375, 788.4025) (added to group)
[11:25:48] [INFO] [BloodDecal] Blood puddle created at (770.2422, 778.412) (added to group)
[11:25:48] [INFO] [BloodDecal] Blood puddle created at (748.2078, 799.8986) (added to group)
[11:25:48] [INFO] [BloodDecal] Blood puddle created at (754.5515, 802.7328) (added to group)
[11:25:48] [INFO] [BloodDecal] Blood puddle created at (749.4136, 798.1387) (added to group)
[11:25:48] [INFO] [BloodDecal] Blood puddle created at (731.2133, 767.2459) (added to group)
[11:25:48] [INFO] [BloodDecal] Blood puddle created at (473.6129, 757.1825) (added to group)
[11:25:48] [INFO] [BloodDecal] Blood puddle created at (456.8601, 772.8731) (added to group)
[11:25:48] [INFO] [BloodDecal] Blood puddle created at (452.2548, 817.5798) (added to group)
[11:25:48] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=425), can_see=false
[11:25:48] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=180), can_see=false
[11:25:48] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=466), can_see=false
[11:25:48] [ENEMY] [Grenadier] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1461), can_see=false
[11:25:48] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1674), can_see=false
[11:25:48] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1382), can_see=false
[11:25:48] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1700), can_see=false
[11:25:48] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1923), can_see=false
[11:25:48] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1146), can_see=false
[11:25:48] [ENEMY] [Enemy3] Ragdoll activated
[11:25:48] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[11:25:48] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[11:25:48] [INFO] [BloodDecal] Blood puddle created at (754.0552, 786.8531) (added to group)
[11:25:48] [INFO] [BloodDecal] Blood puddle created at (848.1556, 806.3693) (added to group)
[11:25:48] [INFO] [BloodDecal] Blood puddle created at (743.7198, 786.6027) (added to group)
[11:25:48] [INFO] [BloodDecal] Blood puddle created at (744.6766, 754.9395) (added to group)
[11:25:48] [INFO] [BloodDecal] Blood puddle created at (750.1667, 758.9536) (added to group)
[11:25:48] [INFO] [BloodDecal] Blood puddle created at (780.6465, 754.3977) (added to group)
[11:25:48] [INFO] [BloodDecal] Blood puddle created at (797.4906, 778.0543) (added to group)
[11:25:48] [INFO] [BloodDecal] Blood puddle created at (807.6057, 787.2745) (added to group)
[11:25:48] [INFO] [BloodDecal] Blood puddle created at (475.8625, 818.78) (added to group)
[11:25:48] [INFO] [BloodDecal] Blood puddle created at (494.5225, 769.1074) (added to group)
[11:25:48] [INFO] [BloodDecal] Blood puddle created at (475.3596, 807.5042) (added to group)
[11:25:48] [INFO] [BloodDecal] Blood puddle created at (491.3887, 823.0783) (added to group)
[11:25:48] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(291,853), corner_timer=-0.02
[11:25:48] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[11:25:48] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.8°, current=6.3°, player=(287,857), corner_timer=0.30
[11:25:48] [ENEMY] [Enemy6] Hit: dmg=1, hp=2/2->1/2
[11:25:48] [INFO] [ImpactEffects] spawn_blood_effect called at (1950, 450), dir=(0.999858, 0.016841), lethal=false
[11:25:48] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[11:25:48] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[11:25:48] [INFO] [ImpactEffects] Blood effect spawned at (1950, 450) (scale=1)
[11:25:48] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[11:25:48] [INFO] [BloodDecal] Blood puddle created at (820.5632, 844.6175) (added to group)
[11:25:48] [INFO] [BloodDecal] Blood puddle created at (901.4898, 846.9811) (added to group)
[11:25:48] [INFO] [BloodDecal] Blood puddle created at (881.6822, 811.7476) (added to group)
[11:25:48] [INFO] [BloodDecal] Blood puddle created at (773.2797, 761.1791) (added to group)
[11:25:48] [INFO] [BloodDecal] Blood puddle created at (808.678, 795.5087) (added to group)
[11:25:48] [INFO] [BloodDecal] Blood puddle created at (861.9733, 817.4144) (added to group)
[11:25:48] [INFO] [BloodDecal] Blood puddle created at (530.2888, 787.3488) (added to group)
[11:25:48] [INFO] [BloodDecal] Blood puddle created at (474.1126, 864.8976) (added to group)
[11:25:48] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=10
[11:25:48] [INFO] [BloodDecal] Blood puddle created at (829.4902, 755.8405) (added to group)
[11:25:48] [INFO] [BloodDecal] Blood puddle created at (875.9985, 860.1672) (added to group)
[11:25:48] [INFO] [BloodyFeet:Enemy4] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[11:25:48] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.8°, player=(211,926), corner_timer=-0.02
[11:25:48] [ENEMY] [Enemy10] PATROL corner check: angle 0.9°
[11:25:48] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=0.9°, current=4.6°, player=(206,928), corner_timer=0.30
[11:25:48] [INFO] [Shotgun.FIX#243] RMB released after 4 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[11:25:48] [INFO] [Shotgun.FIX#445v7] ProcessDragGesture - dragVector=(10,0, 158,4), length=158,7, ActionState=Ready
[11:25:48] [INFO] [Shotgun.FIX#445v7] Screen-based pump gesture: isDragUp=False, isDragDown=True
[11:25:48] [INFO] [BloodDecal] Blood puddle created at (2018.982, 464.7934) (added to group)
[11:25:48] [INFO] [BloodDecal] Blood puddle created at (1999.057, 492.8666) (added to group)
[11:25:48] [INFO] [BloodDecal] Blood puddle created at (2017.646, 507.8749) (added to group)
[11:25:49] [ENEMY] [Enemy1] Pursuing vulnerability sound at (434.1059, 795.0463), distance=420
[11:25:49] [ENEMY] [Enemy2] Pursuing vulnerability sound at (434.1059, 795.0463), distance=140
[11:25:49] [ENEMY] [Enemy4] Pursuing vulnerability sound at (434.1059, 795.0463), distance=351
[11:25:49] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=540), can_see=false
[11:25:49] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=330), can_see=false
[11:25:49] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=602), can_see=false
[11:25:49] [ENEMY] [Grenadier] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1616), can_see=false
[11:25:49] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1822), can_see=false
[11:25:49] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1505), can_see=false
[11:25:49] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1783), can_see=false
[11:25:49] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2004), can_see=false
[11:25:49] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1175), can_see=false
[11:25:49] [INFO] [BloodDecal] Blood puddle created at (2042.922, 498.8527) (added to group)
[11:25:49] [INFO] [BloodDecal] Blood puddle created at (2038.636, 487.7806) (added to group)
[11:25:49] [INFO] [BloodDecal] Blood puddle created at (2046.656, 489.1936) (added to group)
[11:25:49] [INFO] [BloodDecal] Blood puddle created at (2078.031, 578.8058) (added to group)
[11:25:49] [INFO] [BloodDecal] Blood puddle created at (2137.485, 593.0651) (added to group)
[11:25:49] [INFO] [BloodDecal] Blood puddle created at (2170.057, 515.6941) (added to group)
[11:25:49] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[11:25:49] [INFO] [BloodDecal] Blood puddle created at (2134.855, 470.6305) (added to group)
[11:25:49] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 450 safe, blast=400) for Flashbang - skipping
[11:25:49] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 450 safe, blast=400) for Flashbang - skipping
[11:25:49] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 450 safe, blast=400) for Flashbang - skipping
[11:25:49] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 450 safe, blast=400) for Flashbang - skipping
[11:25:49] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 450 safe, blast=400) for Flashbang - skipping
[11:25:49] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=-130.1°, player=(149,895), corner_timer=-0.02
[11:25:49] [ENEMY] [Enemy7] PATROL corner check: angle 90.0°
[11:25:49] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 450 safe, blast=400) for Flashbang - skipping
[11:25:49] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=-133.0°, player=(149,890), corner_timer=0.30
[11:25:49] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 450 safe, blast=400) for Flashbang - skipping
[11:25:49] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=495), can_see=false
[11:25:49] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=316), can_see=false
[11:25:49] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=639), can_see=false
[11:25:49] [ENEMY] [Grenadier] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1639), can_see=false
[11:25:49] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 450 safe, blast=400) for Flashbang - skipping
[11:25:49] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1851), can_see=false
[11:25:49] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1483), can_see=false
[11:25:49] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1842), can_see=false
[11:25:49] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2063), can_see=false
[11:25:49] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1242), can_see=false
[11:25:49] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 450 safe, blast=400) for Flashbang - skipping
[11:25:49] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 450 safe, blast=400) for Flashbang - skipping
[11:25:49] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 450 safe, blast=400) for Flashbang - skipping
[11:25:49] [ENEMY] [Enemy3] Death animation completed
[11:25:49] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 450 safe, blast=400) for Flashbang - skipping
[11:25:49] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 450 safe, blast=400) for Flashbang - skipping
[11:25:49] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[11:25:49] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 450 safe, blast=400) for Flashbang - skipping
[11:25:49] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 450 safe, blast=400) for Flashbang - skipping
[11:25:49] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 450 safe, blast=400) for Flashbang - skipping
[11:25:49] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 450 safe, blast=400) for Flashbang - skipping
[11:25:49] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 450 safe, blast=400) for Flashbang - skipping
[11:25:49] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 450 safe, blast=400) for Flashbang - skipping
[11:25:49] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 450 safe, blast=400) for Flashbang - skipping
[11:25:49] [INFO] [ReplayManager] Recording frame 240 (4,0s): player_valid=True, enemies=10
[11:25:49] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 450 safe, blast=400) for Flashbang - skipping
[11:25:49] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-179.8°, current=179.7°, player=(148,802), corner_timer=0.00
[11:25:49] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) - pursuing to attack (dist=635)
[11:25:49] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 450 safe, blast=400) for Flashbang - skipping
[11:25:49] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=179.1°, current=172.4°, player=(144,787), corner_timer=-0.02
[11:25:49] [ENEMY] [Enemy7] PATROL corner check: angle 89.8°
[11:25:49] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.8°, current=175.3°, player=(142,783), corner_timer=0.30
[11:25:49] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[11:25:49] [ENEMY] [Enemy4] Warning: No valid flank position (both sides behind walls)
[11:25:49] [ENEMY] [Enemy4] FLANKING started: target=(246.0721, 605.6028), side=left, pos=(783.3641, 804.2301)
[11:25:49] [ENEMY] [Enemy4] State: COMBAT -> FLANKING
[11:25:49] [ENEMY] [Enemy4] Warning: No valid flank position (both sides behind walls)
[11:25:49] [ENEMY] [Enemy4] FLANKING started: target=(244.3449, 601.9257), side=left, pos=(783.3251, 804.0457)
[11:25:49] [ENEMY] [Enemy4] Warning: No valid flank position (both sides behind walls)
[11:25:49] [ENEMY] [Enemy4] FLANKING started: target=(242.2599, 598.3525), side=left, pos=(783.2809, 803.8655)
[11:25:49] [ENEMY] [Enemy4] Warning: No valid flank position (both sides behind walls)
[11:25:49] [ENEMY] [Enemy4] FLANKING started: target=(217.4019, 940.5658), side=right, pos=(783.233, 803.6856)
[11:25:49] [ENEMY] [Enemy4] Warning: No valid flank position (both sides behind walls)
[11:25:49] [ENEMY] [Enemy4] FLANKING started: target=(237.0132, 591.5114), side=left, pos=(783.1835, 803.506)
[11:25:49] [ENEMY] [Enemy4] Warning: No valid flank position (both sides behind walls)
[11:25:49] [ENEMY] [Enemy4] FLANKING started: target=(207.9216, 933.6315), side=right, pos=(783.1339, 803.3265)
[11:25:49] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[11:25:49] [ENEMY] [Enemy4] Warning: No valid flank position (both sides behind walls)
[11:25:49] [ENEMY] [Enemy4] FLANKING started: target=(230.9325, 584.8915), side=left, pos=(783.0844, 803.1469)
[11:25:49] [ENEMY] [Enemy4] Warning: No valid flank position (both sides behind walls)
[11:25:49] [ENEMY] [Enemy4] FLANKING started: target=(227.8721, 581.5774), side=left, pos=(783.0348, 802.9672)
[11:25:50] [ENEMY] [Enemy4] Warning: No valid flank position (both sides behind walls)
[11:25:50] [ENEMY] [Enemy4] FLANKING started: target=(224.7988, 578.2603), side=left, pos=(782.9852, 802.7876)
[11:25:50] [ENEMY] [Enemy1] Pursuing vulnerability sound at (434.1059, 795.0463), distance=424
[11:25:50] [ENEMY] [Enemy2] Pursuing vulnerability sound at (434.1059, 795.0463), distance=142
[11:25:50] [ENEMY] [Enemy4] Warning: No valid flank position (both sides behind walls)
[11:25:50] [ENEMY] [Enemy4] FLANKING started: target=(188.7342, 919.777), side=right, pos=(782.9357, 802.608)
[11:25:50] [ENEMY] [Enemy4] Warning: No valid flank position (both sides behind walls)
[11:25:50] [ENEMY] [Enemy4] FLANKING started: target=(218.6139, 571.6169), side=left, pos=(782.8861, 802.4283)
[11:25:50] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=373), can_see=false
[11:25:50] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=289), can_see=false
[11:25:50] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=689), can_see=true
[11:25:50] [ENEMY] [Enemy4] Warning: No valid flank position (both sides behind walls)
[11:25:50] [ENEMY] [Enemy4] FLANKING started: target=(179.1943, 912.7927), side=right, pos=(782.8365, 802.2487)
[11:25:50] [ENEMY] [Grenadier] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1647), can_see=false
[11:25:50] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1873), can_see=false
[11:25:50] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1523), can_see=false
[11:25:50] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1941), can_see=false
[11:25:50] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2163), can_see=false
[11:25:50] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1373), can_see=false
[11:25:50] [ENEMY] [Enemy4] Warning: No valid flank position (both sides behind walls)
[11:25:50] [ENEMY] [Enemy4] FLANKING started: target=(174.3998, 909.9036), side=right, pos=(782.787, 802.0691)
[11:25:50] [ENEMY] [Enemy4] Warning: No valid flank position (both sides behind walls)
[11:25:50] [ENEMY] [Enemy4] FLANKING started: target=(207.6931, 563.8979), side=left, pos=(782.7374, 801.8895)
[11:25:50] [ENEMY] [Enemy4] Warning: No valid flank position (both sides behind walls)
[11:25:50] [ENEMY] [Enemy4] FLANKING started: target=(203.5768, 561.9936), side=left, pos=(782.6879, 801.7098)
[11:25:50] [ENEMY] [Enemy4] Warning: No valid flank position (both sides behind walls)
[11:25:50] [ENEMY] [Enemy4] FLANKING started: target=(199.6331, 559.825), side=left, pos=(782.6383, 801.5302)
[11:25:50] [ENEMY] [Enemy4] Warning: No valid flank position (both sides behind walls)
[11:25:50] [ENEMY] [Enemy4] FLANKING started: target=(199.8616, 557.4691), side=left, pos=(782.5887, 801.3506)
[11:25:50] [ENEMY] [Enemy4] Warning: No valid flank position (both sides behind walls)
[11:25:50] [ENEMY] [Enemy4] FLANKING started: target=(158.1681, 898.8642), side=right, pos=(782.5392, 801.171)
[11:25:50] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=178.4°, current=120.7°, player=(80,714), corner_timer=-0.02
[11:25:50] [ENEMY] [Enemy7] PATROL corner check: angle 89.7°
[11:25:50] [ENEMY] [Enemy4] Warning: No valid flank position (both sides behind walls)
[11:25:50] [ENEMY] [Enemy4] FLANKING started: target=(157.4463, 896.2058), side=right, pos=(782.4896, 800.9913)
[11:25:50] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.7°, current=123.6°, player=(80,711), corner_timer=0.30
[11:25:50] [ENEMY] [Enemy4] Warning: No valid flank position (both sides behind walls)
[11:25:50] [ENEMY] [Enemy4] FLANKING started: target=(201.7304, 550.0035), side=left, pos=(782.4401, 800.8117)
[11:25:50] [ENEMY] [Enemy4] Warning: No valid flank position (both sides behind walls)
[11:25:50] [ENEMY] [Enemy4] FLANKING started: target=(202.3819, 547.3942), side=left, pos=(782.3905, 800.6321)
[11:25:50] [ENEMY] [Enemy4] Warning: No valid flank position (both sides behind walls)
[11:25:50] [ENEMY] [Enemy4] FLANKING started: target=(203.0374, 544.7327), side=left, pos=(782.3409, 800.4525)
[11:25:50] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=173.3°, current=172.7°, player=(80,699), corner_timer=0.00
[11:25:50] [ENEMY] [Enemy2] Player empty ammo - priority attack triggered
[11:25:50] [ENEMY] [Enemy4] Warning: No valid flank position (both sides behind walls)
[11:25:50] [ENEMY] [Enemy4] FLANKING started: target=(203.7118, 542.0238), side=left, pos=(782.2914, 800.2728)
[11:25:50] [ENEMY] [Enemy4] ROT_CHANGE: P1:visible -> P2:combat_state, state=FLANKING, target=-171.6°, current=-171.8°, player=(80,695), corner_timer=0.00
[11:25:50] [ENEMY] [Enemy4] FLANKING corner check: angle -65.7°
[11:25:50] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[11:25:50] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[11:25:50] [ENEMY] [Enemy2] Player empty ammo - priority attack triggered
[11:25:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(351.168, 663.9335), source=ENEMY (Enemy2), range=1469, listeners=9
[11:25:50] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=3
[11:25:50] [INFO] [LastChance] Threat detected: Bullet
[11:25:50] [INFO] [LastChance] Not in hard mode - effect disabled
[11:25:50] [INFO] [LastChance] Cannot trigger effect - conditions not met
[11:25:50] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(80.07541, 665.4274), source=PLAYER (Player), range=600, listeners=9
[11:25:50] [ENEMY] [Enemy1] Heard player EMPTY_CLICK at (80.07541, 665.4274), intensity=0.02, distance=324
[11:25:50] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (80.07541, 665.4274), intensity=0.04, distance=252
[11:25:50] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=7, self=0, below_threshold=0
[11:25:50] [INFO] [Shotgun.FIX#212] Firing 15 pellets with 15° spread at pos=(80.07541, 665.4274)
[11:25:50] [INFO] [Shotgun.FIX#212] Normal pellet 1/15: extraOffset=-7,4, distance=44,6px, pos=(124.49468, 660.99603)
[11:25:50] [INFO] [Shotgun.FIX#212] Normal pellet 2/15: extraOffset=-0,3, distance=51,7px, pos=(131.61334, 661.4833)
[11:25:50] [INFO] [Shotgun.FIX#212] Normal pellet 3/15: extraOffset=-7,3, distance=44,7px, pos=(124.604935, 661.6707)
[11:25:50] [INFO] [Shotgun.FIX#212] Normal pellet 4/15: extraOffset=10,8, distance=62,8px, pos=(142.75363, 661.65924)
[11:25:50] [INFO] [Shotgun.FIX#212] Normal pellet 5/15: extraOffset=7,3, distance=59,3px, pos=(139.35706, 662.86664)
[11:25:50] [INFO] [Shotgun.FIX#212] Normal pellet 6/15: extraOffset=11,4, distance=63,4px, pos=(143.45824, 665.2793)
[11:25:50] [INFO] [Shotgun.FIX#212] Normal pellet 7/15: extraOffset=-9,2, distance=42,8px, pos=(122.89909, 666.21735)
[11:25:50] [INFO] [Shotgun.FIX#212] Normal pellet 8/15: extraOffset=7,9, distance=59,9px, pos=(139.94075, 667.55365)
[11:25:50] [INFO] [Shotgun.FIX#212] Normal pellet 9/15: extraOffset=-3,8, distance=48,2px, pos=(128.29315, 666.7515)
[11:25:50] [INFO] [Shotgun.FIX#212] Normal pellet 10/15: extraOffset=8,7, distance=60,7px, pos=(140.7352, 668.3589)
[11:25:50] [INFO] [Shotgun.FIX#212] Normal pellet 11/15: extraOffset=0,7, distance=52,7px, pos=(132.59505, 670.23785)
[11:25:50] [INFO] [Shotgun.FIX#212] Normal pellet 12/15: extraOffset=-10,4, distance=41,6px, pos=(121.49438, 669.3378)
[11:25:50] [INFO] [Shotgun.FIX#212] Normal pellet 13/15: extraOffset=11,2, distance=63,2px, pos=(142.7297, 673.4541)
[11:25:50] [INFO] [Shotgun.FIX#212] Normal pellet 14/15: extraOffset=-12,2, distance=39,8px, pos=(119.61644, 670.2715)
[11:25:50] [INFO] [Shotgun.FIX#212] Normal pellet 15/15: extraOffset=-8,3, distance=43,7px, pos=(123.37671, 671.0649)
[11:25:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(80.07541, 665.4274), source=PLAYER (Shotgun), range=1469, listeners=9
[11:25:50] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=2
[11:25:50] [INFO] [ImpactEffects] Spawning explosion visual effect at (225.3875, 684.0435) (radius=15) - using shadow-based wall occlusion
[11:25:50] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(225.3875, 684.0435), source=PLAYER (@Area2D@12584), range=500, listeners=9
[11:25:50] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=7, self=0, below_threshold=0
[11:25:50] [INFO] [ImpactEffects] Spawning explosion visual effect at (206.0127, 681.8233) (radius=15) - using shadow-based wall occlusion
[11:25:50] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(206.0127, 681.8233), source=PLAYER (@Area2D@12586), range=500, listeners=9
[11:25:50] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=7, self=0, below_threshold=0
[11:25:50] [INFO] [ImpactEffects] Spawning explosion visual effect at (256.2489, 651.9451) (radius=15) - using shadow-based wall occlusion
[11:25:50] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(256.2489, 651.9451), source=PLAYER (@Area2D@12573), range=500, listeners=9
[11:25:50] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=7, self=0, below_threshold=0
[11:25:50] [INFO] [ImpactEffects] Spawning explosion visual effect at (249.1625, 651.1625) (radius=15) - using shadow-based wall occlusion
[11:25:50] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(249.1625, 651.1625), source=PLAYER (@Area2D@12574), range=500, listeners=9
[11:25:50] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=7, self=0, below_threshold=0
[11:25:50] [INFO] [ImpactEffects] Spawning explosion visual effect at (267.5284, 654.1578) (radius=15) - using shadow-based wall occlusion
[11:25:50] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(267.5284, 654.1578), source=PLAYER (@Area2D@12575), range=500, listeners=9
[11:25:50] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[11:25:50] [INFO] [ImpactEffects] Spawning explosion visual effect at (264.2406, 657.472) (radius=15) - using shadow-based wall occlusion
[11:25:50] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(264.2406, 657.472), source=PLAYER (@Area2D@12576), range=500, listeners=9
[11:25:50] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=7, self=0, below_threshold=0
[11:25:50] [INFO] [ImpactEffects] Spawning explosion visual effect at (268.4579, 664.9871) (radius=15) - using shadow-based wall occlusion
[11:25:50] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(268.4579, 664.9871), source=PLAYER (@Area2D@12577), range=500, listeners=9
[11:25:50] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[11:25:50] [INFO] [ImpactEffects] Spawning explosion visual effect at (247.8778, 668.5226) (radius=15) - using shadow-based wall occlusion
[11:25:50] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(247.8778, 668.5226), source=PLAYER (@Area2D@12578), range=500, listeners=9
[11:25:50] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=7, self=0, below_threshold=0
[11:25:50] [INFO] [ImpactEffects] Spawning explosion visual effect at (264.862, 671.9905) (radius=15) - using shadow-based wall occlusion
[11:25:50] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(264.862, 671.9905), source=PLAYER (@Area2D@12579), range=500, listeners=9
[11:25:50] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[11:25:50] [INFO] [ImpactEffects] Spawning explosion visual effect at (253.2461, 670.1827) (radius=15) - using shadow-based wall occlusion
[11:25:50] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(253.2461, 670.1827), source=PLAYER (@Area2D@12580), range=500, listeners=9
[11:25:50] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=7, self=0, below_threshold=0
[11:25:50] [INFO] [ImpactEffects] Spawning explosion visual effect at (265.5895, 674.3926) (radius=15) - using shadow-based wall occlusion
[11:25:50] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(265.5895, 674.3926), source=PLAYER (@Area2D@12581), range=500, listeners=9
[11:25:50] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[11:25:50] [INFO] [ImpactEffects] Spawning explosion visual effect at (257.074, 681.6391) (radius=15) - using shadow-based wall occlusion
[11:25:50] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(257.074, 681.6391), source=PLAYER (@Area2D@12582), range=500, listeners=9
[11:25:50] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=7, self=0, below_threshold=0
[11:25:50] [INFO] [ImpactEffects] Spawning explosion visual effect at (243.6889, 685.4713) (radius=15) - using shadow-based wall occlusion
[11:25:50] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(243.6889, 685.4713), source=PLAYER (@Area2D@12585), range=500, listeners=9
[11:25:50] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=7, self=0, below_threshold=0
[11:25:50] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(283.96432, 674.6232), shooter_id=2039589374602, bullet_pos=(34.288486, 687.35126)
[11:25:50] [INFO] [Bullet] Using shooter_position, distance=250,00006
[11:25:50] [INFO] [Bullet] Distance to wall: 250,00006 (17,022964% of viewport)
[11:25:50] [INFO] [Bullet] Within ricochet range - trying ricochet first
[11:25:50] [INFO] [Bullet] Starting wall penetration at (34.288486, 687.35126)
[11:25:50] [ENEMY] [Enemy2] Player empty ammo - priority attack triggered
[11:25:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(322.0518, 663.9318), source=ENEMY (Enemy2), range=1469, listeners=9
[11:25:50] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=3
[11:25:50] [INFO] [Bullet] Raycast backward hit penetrating body at distance 44,375214
[11:25:50] [INFO] [ImpactEffects] Spawning explosion visual effect at (290.3381, 644.4509) (radius=15) - using shadow-based wall occlusion
[11:25:50] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(290.3381, 644.4509), source=PLAYER (ShotgunPellet), range=500, listeners=9
[11:25:50] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[11:25:50] [INFO] [ImpactEffects] Spawning explosion visual effect at (287.4232, 685.0034) (radius=15) - using shadow-based wall occlusion
[11:25:50] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(287.4232, 685.0034), source=PLAYER (@Area2D@12583), range=500, listeners=9
[11:25:50] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[11:25:50] [INFO] [Bullet] Body exited signal received for penetrating body
[11:25:50] [INFO] [Bullet] Exiting penetration at (-12.317665, 689.7272) after traveling 41,666676 pixels through wall
[11:25:50] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[11:25:50] [ENEMY] [Enemy2] Hit: dmg=1, hp=4/4->3/4
[11:25:50] [INFO] [ImpactEffects] spawn_blood_effect called at (322.0518, 663.9318), dir=(0.945783, -0.3248), lethal=false
[11:25:50] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[11:25:50] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[11:25:50] [INFO] [ImpactEffects] Blood effect spawned at (322.0518, 663.9318) (scale=1)
[11:25:50] [ENEMY] [Enemy2] Hit: dmg=1, hp=3/4->2/4
[11:25:50] [INFO] [ImpactEffects] spawn_blood_effect called at (322.0518, 663.9318), dir=(0.99549, 0.094872), lethal=false
[11:25:50] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[11:25:50] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[11:25:50] [INFO] [ImpactEffects] Blood effect spawned at (322.0518, 663.9318) (scale=1)
[11:25:50] [ENEMY] [Enemy2] Hit: dmg=1, hp=2/4->1/4
[11:25:50] [INFO] [ImpactEffects] spawn_blood_effect called at (322.0518, 663.9318), dir=(0.976501, 0.215512), lethal=false
[11:25:50] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[11:25:50] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[11:25:50] [INFO] [ImpactEffects] Blood effect spawned at (322.0518, 663.9318) (scale=1)
[11:25:50] [ENEMY] [Enemy2] Hit: dmg=1, hp=1/4->0/4
[11:25:50] [INFO] [ImpactEffects] spawn_blood_effect called at (322.0518, 663.9318), dir=(0.999865, 0.016426), lethal=true
[11:25:50] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[11:25:50] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[11:25:50] [INFO] [ImpactEffects] Blood effect spawned at (322.0518, 663.9318) (scale=1.5)
[11:25:50] [ENEMY] [Enemy2] Enemy died (ricochet: false, penetration: false)
[11:25:50] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[11:25:50] [ENEMY] [Enemy2] [AllyDeath] Notified 2 enemies
[11:25:50] [INFO] [SoundPropagation] Unregistered listener: Enemy2 (remaining: 8)
[11:25:50] [INFO] [DeathAnim] Started - Angle: 0.9 deg, Index: 12
[11:25:50] [ENEMY] [Enemy2] Death animation started with hit direction: (0.999865, 0.016426)
[11:25:50] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.9°, current=89.7°, player=(80,659), corner_timer=-0.02
[11:25:50] [ENEMY] [Enemy7] PATROL corner check: angle 89.6°
[11:25:50] [INFO] [LastChance] Threat detected: @Area2D@12742
[11:25:50] [INFO] [LastChance] Not in hard mode - effect disabled
[11:25:50] [INFO] [LastChance] Cannot trigger effect - conditions not met
[11:25:50] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.6°, current=92.5°, player=(80,659), corner_timer=0.30
[11:25:50] [INFO] [Player] Spawning blood effect at (80.07541, 659.3252), dir=(1, 0), lethal=False (C#)
[11:25:50] [INFO] [ImpactEffects] spawn_blood_effect called at (80.07541, 659.3252), dir=(1, 0), lethal=false
[11:25:50] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[11:25:50] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[11:25:50] [INFO] [ImpactEffects] Blood effect spawned at (80.07541, 659.3252) (scale=1)
[11:25:50] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[11:25:50] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[11:25:50] [ENEMY] [Enemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=121.0°, current=152.4°, player=(80,659), corner_timer=0.00
[11:25:50] [ENEMY] [Enemy1] State: PURSUING -> COMBAT
[11:25:50] [ENEMY] [Enemy1] Player empty ammo - priority attack triggered
[11:25:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(230.3735, 401.9334), source=ENEMY (Enemy1), range=1469, listeners=8
[11:25:50] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=2
[11:25:50] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=649), can_see=false
[11:25:50] [ENEMY] [Grenadier] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1649), can_see=false
[11:25:50] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1882), can_see=false
[11:25:50] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1550), can_see=false
[11:25:50] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1984), can_see=false
[11:25:50] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2207), can_see=false
[11:25:50] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1432), can_see=false
[11:25:50] [ENEMY] [Enemy4] FLANKING corner check: angle -84.6°
[11:25:50] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[11:25:50] [INFO] [LastChance] Threat detected: Bullet
[11:25:50] [INFO] [LastChance] Not in hard mode - effect disabled
[11:25:50] [INFO] [LastChance] Cannot trigger effect - conditions not met
[11:25:50] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[11:25:51] [INFO] [Player] Spawning blood effect at (80.07541, 674.3898), dir=(1, 0), lethal=False (C#)
[11:25:51] [INFO] [ImpactEffects] spawn_blood_effect called at (80.07541, 674.3898), dir=(1, 0), lethal=false
[11:25:51] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[11:25:51] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[11:25:51] [INFO] [ImpactEffects] Blood effect spawned at (80.07541, 674.3898) (scale=1)
[11:25:51] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[11:25:51] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[11:25:51] [INFO] [PenultimateHit] Starting penultimate hit effect:
[11:25:51] [INFO] [PenultimateHit]   - Time scale: 0.10
[11:25:51] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[11:25:51] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[11:25:51] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[11:25:51] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[11:25:51] [INFO] [PenultimateHit] Applying saturation to 9 enemies
[11:25:51] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[11:25:51] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[11:25:51] [ENEMY] [Enemy1] Player empty ammo - priority attack triggered
[11:25:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(201.8574, 410.0246), source=ENEMY (Enemy1), range=1469, listeners=8
[11:25:51] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=1
[11:25:51] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(207.1941, 404.9591), source=NEUTRAL (null), range=900, listeners=8
[11:25:51] [ENEMY] [Enemy1] Heard CASING_KICK at (207.1941, 404.9591), intensity=1.00, dist=15
[11:25:51] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=0, below_threshold=1
[11:25:51] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(206.4186, 403.3117), source=NEUTRAL (null), range=900, listeners=8
[11:25:51] [ENEMY] [Enemy1] Heard CASING_KICK at (206.4186, 403.3117), intensity=1.00, dist=21
[11:25:51] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=0, below_threshold=1
[11:25:51] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=NeedsPumpUp, ReloadState=NotReloading
[11:25:51] [INFO] [Shotgun.FIX#445] dragStartPos=(987, 899), aimDir=(0,97, 0,23)
[11:25:51] [INFO] [BloodDecal] Blood puddle created at (391.6942, 661.4941) (added to group)
[11:25:51] [INFO] [BloodDecal] Blood puddle created at (395.0024, 658.1343) (added to group)
[11:25:51] [INFO] [BloodDecal] Blood puddle created at (400.5283, 679.9252) (added to group)
[11:25:51] [INFO] [BloodDecal] Blood puddle created at (400.649, 646.1376) (added to group)
[11:25:51] [INFO] [BloodDecal] Blood puddle created at (391.5239, 661.2001) (added to group)
[11:25:51] [INFO] [LastChance] Threat detected: @Area2D@12827
[11:25:51] [INFO] [LastChance] Not in hard mode - effect disabled
[11:25:51] [INFO] [LastChance] Cannot trigger effect - conditions not met
[11:25:51] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(206.2919, 400.9414), source=NEUTRAL (null), range=900, listeners=8
[11:25:51] [ENEMY] [Enemy1] Heard CASING_KICK at (206.2919, 400.9414), intensity=1.00, dist=23
[11:25:51] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=0, below_threshold=1
[11:25:51] [INFO] [ReplayManager] Recording frame 300 (5,0s): player_valid=True, enemies=10
[11:25:51] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(206.3369, 400.6165), source=NEUTRAL (null), range=900, listeners=8
[11:25:51] [ENEMY] [Enemy1] Heard CASING_KICK at (206.3369, 400.6165), intensity=1.00, dist=24
[11:25:51] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=0, below_threshold=1
[11:25:51] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(206.4383, 400.2035), source=NEUTRAL (null), range=900, listeners=8
[11:25:51] [ENEMY] [Enemy1] Heard CASING_KICK at (206.4383, 400.2035), intensity=1.00, dist=25
[11:25:51] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=0, below_threshold=1
[11:25:51] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(206.5952, 399.7025), source=NEUTRAL (null), range=900, listeners=8
[11:25:51] [ENEMY] [Enemy1] Heard CASING_KICK at (206.5952, 399.7025), intensity=1.00, dist=26
[11:25:51] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=0, below_threshold=1
[11:25:51] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(206.8065, 399.1135), source=NEUTRAL (null), range=900, listeners=8
[11:25:51] [ENEMY] [Enemy1] Heard CASING_KICK at (206.8065, 399.1135), intensity=1.00, dist=27
[11:25:51] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=0, below_threshold=1
[11:25:51] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(207.0712, 398.4365), source=NEUTRAL (null), range=900, listeners=8
[11:25:51] [ENEMY] [Enemy1] Heard CASING_KICK at (207.0712, 398.4365), intensity=1.00, dist=28
[11:25:51] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=0, below_threshold=1
[11:25:51] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(207.3884, 397.6716), source=NEUTRAL (null), range=900, listeners=8
[11:25:51] [ENEMY] [Enemy1] Heard CASING_KICK at (207.3884, 397.6716), intensity=1.00, dist=30
[11:25:51] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=0, below_threshold=1
[11:25:51] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(207.7573, 396.8188), source=NEUTRAL (null), range=900, listeners=8
[11:25:51] [ENEMY] [Enemy1] Heard CASING_KICK at (207.7573, 396.8188), intensity=1.00, dist=31
[11:25:51] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=0, below_threshold=1
[11:25:51] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[11:25:51] [INFO] [BloodDecal] Blood puddle created at (383.5669, 678.4663) (added to group)
[11:25:51] [INFO] [Shotgun.FIX#243] RMB released after 1 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[11:25:51] [INFO] [Shotgun.FIX#445v7] ProcessDragGesture - dragVector=(5,5, 22,9), length=23,6, ActionState=NeedsPumpUp
[11:25:51] [INFO] [Shotgun.FIX#445v7] Drag too short: 23,6 < 30
[11:25:51] [INFO] [BloodDecal] Blood puddle created at (418.1093, 679.0439) (added to group)
[11:25:51] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=579), can_see=false
[11:25:51] [ENEMY] [Grenadier] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1656), can_see=false
[11:25:51] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1886), can_see=false
[11:25:51] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1545), can_see=false
[11:25:51] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1970), can_see=false
[11:25:51] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2193), can_see=false
[11:25:51] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1410), can_see=false
[11:25:51] [INFO] [BloodDecal] Blood puddle created at (394.6393, 654.1299) (added to group)
[11:25:51] [ENEMY] [Enemy1] State: COMBAT -> RETREATING
[11:25:51] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=-171.9°, current=-172.0°, player=(80,698), corner_timer=0.12
[11:25:51] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) - pursuing to attack (dist=574)
[11:25:51] [ENEMY] [Enemy4] State: FLANKING -> PURSUING
[11:25:51] [INFO] [BloodDecal] Blood puddle created at (405.7654, 679.2468) (added to group)
[11:25:51] [INFO] [Player] Spawning blood effect at (80.07541, 701.8131), dir=(1, 0), lethal=True (C#)
[11:25:51] [INFO] [ImpactEffects] spawn_blood_effect called at (80.07541, 701.8131), dir=(1, 0), lethal=true
[11:25:51] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[11:25:51] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[11:25:51] [INFO] [ImpactEffects] Wall found for blood splatter at (100, 701.8131) (dist=19 px)
[11:25:51] [INFO] [BloodDecal] Blood puddle created at (99, 701.8131) (added to group)
[11:25:51] [INFO] [ImpactEffects] Blood effect spawned at (80.07541, 701.8131) (scale=1.5)
[11:25:51] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[11:25:51] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[11:25:51] [INFO] [CinemaEffects] Player died - triggering death effects
[11:25:51] [INFO] [CinemaEffects] Death effects triggered - starting cigarette burn, expanding spots, and end of reel (top-right)
[11:25:51] [INFO] [PenultimateHit] Player died - ending penultimate effect
[11:25:51] [INFO] [PenultimateHit] Ending penultimate hit effect
[11:25:51] [INFO] [PenultimateHit] Starting visual effects fade-out over 400ms
[11:25:51] [INFO] [LastChance] Player died
[11:25:51] [INFO] [BloodDecal] Blood puddle created at (409.8658, 676.1803) (added to group)
[11:25:51] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[11:25:51] [ENEMY] [Enemy1] Player empty ammo - priority attack triggered
[11:25:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(188.8103, 436.565), source=ENEMY (Enemy1), range=1469, listeners=8
[11:25:51] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=1, below_threshold=1
[11:25:51] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(180.6049, 417.6417), source=NEUTRAL (null), range=900, listeners=8
[11:25:51] [ENEMY] [Enemy1] Heard CASING_KICK at (180.6049, 417.6417), intensity=1.00, dist=28
[11:25:51] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=0, below_threshold=1
[11:25:51] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=175.9°, current=89.6°, player=(80,707), corner_timer=-0.01
[11:25:51] [ENEMY] [Enemy7] PATROL corner check: angle 89.0°
[11:25:51] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(178.8071, 416.3597), source=NEUTRAL (null), range=900, listeners=8
[11:25:51] [ENEMY] [Enemy1] Heard CASING_KICK at (178.8071, 416.3597), intensity=1.00, dist=33
[11:25:51] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=0, below_threshold=1
[11:25:51] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.0°, current=92.4°, player=(80,712), corner_timer=0.30
[11:25:51] [INFO] [LastChance] Threat detected: Bullet
[11:25:51] [INFO] [LastChance] Not in hard mode - effect disabled
[11:25:51] [INFO] [LastChance] Cannot trigger effect - conditions not met
[11:25:51] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(176.8512, 414.4818), source=NEUTRAL (null), range=900, listeners=8
[11:25:51] [ENEMY] [Enemy1] Heard CASING_KICK at (176.8512, 414.4818), intensity=1.00, dist=39
[11:25:51] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=0, below_threshold=1
[11:25:51] [INFO] [BloodDecal] Blood puddle created at (441.0177, 672.934) (added to group)
[11:25:51] [INFO] [BloodDecal] Blood puddle created at (402.7253, 676.9374) (added to group)
[11:25:51] [INFO] [BloodDecal] Blood puddle created at (441.3372, 672.1882) (added to group)
[11:25:51] [INFO] [BloodDecal] Blood puddle created at (444.045, 662.4231) (added to group)
[11:25:51] [INFO] [BloodDecal] Blood puddle created at (192.9709, 685.8444) (added to group)
[11:25:51] [INFO] [BloodDecal] Blood puddle created at (148.8128, 669.5299) (added to group)
[11:25:51] [INFO] [BloodDecal] Blood puddle created at (126.4282, 681.2073) (added to group)
[11:25:51] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[11:25:52] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:25:52] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[11:25:52] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[11:25:52] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[11:25:52] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[11:25:52] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[11:25:52] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[11:25:52] [INFO] [LastChance] Resetting all effects (scene change detected)
[11:25:52] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[11:25:52] [INFO] [CinemaEffects] Death effects reset
[11:25:52] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[11:25:52] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[11:25:52] [ENEMY] [Enemy1] Death animation component initialized
[11:25:52] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:25:52] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[11:25:52] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[11:25:52] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[11:25:52] [ENEMY] [Enemy2] Death animation component initialized
[11:25:52] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:25:52] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[11:25:52] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[11:25:52] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[11:25:52] [ENEMY] [Enemy3] Death animation component initialized
[11:25:52] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:25:52] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[11:25:52] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[11:25:52] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[11:25:52] [ENEMY] [Enemy4] Death animation component initialized
[11:25:52] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:25:52] [INFO] [BloodyFeet:Grenadier] Footprint scene loaded
[11:25:52] [INFO] [BloodyFeet:Grenadier] Found EnemyModel for facing direction
[11:25:52] [INFO] [BloodyFeet:Grenadier] BloodyFeetComponent ready on Grenadier
[11:25:52] [INFO] [EnemyGrenade] Grenade bag built (normal): [Flashbang, Flashbang, Flashbang, Offensive, Offensive, Offensive, Offensive, Offensive]
[11:25:52] [INFO] [EnemyGrenade] Grenadier initialized: 8 grenades in bag
[11:25:52] [ENEMY] [Grenadier] Death animation component initialized
[11:25:52] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:25:52] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[11:25:52] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[11:25:52] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[11:25:52] [ENEMY] [Enemy6] Death animation component initialized
[11:25:52] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:25:52] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[11:25:52] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[11:25:52] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[11:25:52] [INFO] [EnemyGrenade] Initialized: 1 grenades
[11:25:52] [ENEMY] [Enemy7] Death animation component initialized
[11:25:52] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:25:52] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[11:25:52] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[11:25:52] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[11:25:52] [ENEMY] [Enemy8] Death animation component initialized
[11:25:52] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:25:52] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[11:25:52] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[11:25:52] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[11:25:52] [ENEMY] [Enemy9] Death animation component initialized
[11:25:52] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:25:52] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[11:25:52] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[11:25:52] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[11:25:52] [ENEMY] [Enemy10] Death animation component initialized
[11:25:52] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:25:52] [INFO] [BloodyFeet:Player] Footprint scene loaded
[11:25:52] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[11:25:52] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[11:25:52] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: F-1 Grenade
[11:25:52] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[11:25:52] [INFO] [Player.Weapon] GameManager weapon selection: shotgun (Shotgun)
[11:25:52] [INFO] [Player.Weapon] Removed default MakarovPM
[11:25:52] [INFO] [Player.Weapon] Equipped Shotgun (ammo: 0/8)
[11:25:52] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[11:25:52] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[11:25:52] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[11:25:52] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[11:25:52] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[11:25:52] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[11:25:52] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[11:25:52] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[11:25:52] [INFO] [Player.Homing] No homing bullets selected in ActiveItemManager
[11:25:52] [INFO] [Player.InvisibilitySuit] No invisibility suit selected in ActiveItemManager
[11:25:52] [INFO] [Player.BreakerBullets] Breaker bullets active — bullets will detonate 60px before walls
[11:25:52] [INFO] [Player.BreakerBullets] Set IsBreakerBulletActive on weapon: Shotgun
[11:25:52] [INFO] [Player] Ready! Ammo: 0/8, Grenades: 1/3, Health: 4/4
[11:25:52] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[11:25:52] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[11:25:52] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[11:25:52] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[11:25:52] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[11:25:52] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[11:25:52] [INFO] [BuildingLevel] Child 'Grenadier': script=true, has_died_signal=true
[11:25:52] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[11:25:52] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[11:25:52] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[11:25:52] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[11:25:52] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[11:25:52] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[11:25:52] [INFO] [BuildingLevel] Setting up weapon: shotgun
[11:25:52] [INFO] [BuildingLevel] Shotgun already equipped by C# Player - skipping GDScript weapon swap
[11:25:52] [INFO] [ScoreManager] Level started with 10 enemies
[11:25:52] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[11:25:52] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[11:25:52] [INFO] [ReplayManager] Replay data cleared
[11:25:52] [INFO] [BuildingLevel] Previous replay data cleared
[11:25:52] [INFO] [ReplayManager] Detected player weapon: Shotgun
[11:25:52] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[11:25:52] [INFO] [ReplayManager] Level: BuildingLevel
[11:25:52] [INFO] [ReplayManager] Player: Player (valid: True)
[11:25:52] [INFO] [ReplayManager] Enemies count: 10
[11:25:52] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/shotgun_topdown.png
[11:25:52] [INFO] [ReplayManager]   Enemy 0: Enemy1
[11:25:52] [INFO] [ReplayManager]   Enemy 1: Enemy2
[11:25:52] [INFO] [ReplayManager]   Enemy 2: Enemy3
[11:25:52] [INFO] [ReplayManager]   Enemy 3: Enemy4
[11:25:52] [INFO] [ReplayManager]   Enemy 4: Grenadier
[11:25:52] [INFO] [ReplayManager]   Enemy 5: Enemy6
[11:25:52] [INFO] [ReplayManager]   Enemy 6: Enemy7
[11:25:52] [INFO] [ReplayManager]   Enemy 7: Enemy8
[11:25:52] [INFO] [ReplayManager]   Enemy 8: Enemy9
[11:25:52] [INFO] [ReplayManager]   Enemy 9: Enemy10
[11:25:52] [INFO] [BuildingLevel] Replay recording started successfully
[11:25:52] [INFO] [BloodDecal] Blood puddle created at (434.2115, 682.085) (added to group)
[11:25:52] [INFO] [BloodDecal] Blood puddle created at (448.549, 670.6722) (added to group)
[11:25:52] [INFO] [BloodDecal] Blood puddle created at (200.2642, 669.3455) (added to group)
[11:25:52] [INFO] [BloodDecal] Blood puddle created at (197.1698, 666.4615) (added to group)
[11:25:52] [INFO] [BloodDecal] Blood puddle created at (176.8215, 687.6247) (added to group)
[11:25:52] [INFO] [BloodDecal] Blood puddle created at (149.9971, 675.6049) (added to group)
[11:25:52] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[11:25:52] [INFO] [CinemaEffects] Found player node: Player
[11:25:52] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[11:25:52] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 9)
[11:25:52] [ENEMY] [Enemy1] Registered as sound listener
[11:25:52] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 3, behavior: GUARD
[11:25:52] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[11:25:52] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 10)
[11:25:52] [ENEMY] [Enemy2] Registered as sound listener
[11:25:52] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 4, behavior: GUARD
[11:25:52] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[11:25:52] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 11)
[11:25:52] [ENEMY] [Enemy3] Registered as sound listener
[11:25:52] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 3, behavior: GUARD
[11:25:52] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[11:25:52] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 12)
[11:25:52] [ENEMY] [Enemy4] Registered as sound listener
[11:25:52] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 2, behavior: GUARD
[11:25:52] [INFO] [BloodyFeet:Grenadier] Blood detector created and attached to Grenadier
[11:25:52] [INFO] [SoundPropagation] Registered listener: Grenadier (total: 13)
[11:25:52] [ENEMY] [Grenadier] Registered as sound listener
[11:25:52] [ENEMY] [Grenadier] Spawned at (1700, 350), hp: 2, behavior: GUARD
[11:25:52] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[11:25:52] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 14)
[11:25:52] [ENEMY] [Enemy6] Registered as sound listener
[11:25:52] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 2, behavior: GUARD
[11:25:52] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[11:25:52] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 15)
[11:25:52] [ENEMY] [Enemy7] Registered as sound listener
[11:25:52] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 2, behavior: PATROL
[11:25:52] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[11:25:52] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 16)
[11:25:52] [ENEMY] [Enemy8] Registered as sound listener
[11:25:52] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 2, behavior: GUARD
[11:25:52] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[11:25:52] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 17)
[11:25:52] [ENEMY] [Enemy9] Registered as sound listener
[11:25:52] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 4, behavior: GUARD
[11:25:52] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[11:25:52] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 18)
[11:25:52] [ENEMY] [Enemy10] Registered as sound listener
[11:25:52] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 2, behavior: PATROL
[11:25:52] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[11:25:52] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[11:25:52] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[11:25:52] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[11:25:52] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[11:25:52] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[11:25:52] [ENEMY] [Grenadier] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[11:25:52] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[11:25:52] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=157.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[11:25:52] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[11:25:52] [INFO] [Player] Detecting weapon pose (frame 3)...
[11:25:52] [INFO] [Player] Detected weapon: Shotgun (Shotgun pose)
[11:25:52] [INFO] [Player] Applied Shotgun arm pose: Left=(21, 6), Right=(-1, 6)
[11:25:52] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[11:25:52] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[11:25:52] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[11:25:52] [INFO] [LastChance] Found player: Player
[11:25:52] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[11:25:52] [INFO] [LastChance] Connected to player Damaged signal (C#)
[11:25:52] [INFO] [LastChance] Connected to player Died signal (C#)
[11:25:52] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[11:25:52] [INFO] [BloodDecal] Blood puddle created at (457.1027, 665.3957) (added to group)
[11:25:52] [INFO] [BloodDecal] Blood puddle created at (452.6653, 644.6312) (added to group)
[11:25:52] [INFO] [BloodDecal] Blood puddle created at (157.8444, 749.9656) (added to group)
[11:25:52] [INFO] [BloodDecal] Blood puddle created at (123.276, 739.3123) (added to group)
[11:25:52] [INFO] [BloodDecal] Blood puddle created at (263.3823, 683.1167) (added to group)
[11:25:52] [INFO] [BloodDecal] Blood puddle created at (202.5219, 681.8522) (added to group)
[11:25:52] [INFO] [BloodDecal] Blood puddle created at (177.9433, 764.2927) (added to group)
[11:25:52] [INFO] [BloodDecal] Blood puddle created at (154.8967, 767.6307) (added to group)
[11:25:52] [INFO] [BloodDecal] Blood puddle created at (152.4643, 755.1213) (added to group)
[11:25:52] [INFO] [BloodDecal] Blood puddle created at (233.2723, 821.7532) (added to group)
[11:25:52] [INFO] [BloodDecal] Blood puddle created at (235.6439, 845.1401) (added to group)
[11:25:52] [INFO] [BloodDecal] Blood puddle created at (164.8305, 745.6008) (added to group)
[11:25:52] [INFO] [BloodDecal] Blood puddle created at (212.1976, 805.6381) (added to group)
[11:25:53] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[11:25:53] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[11:25:53] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[11:25:53] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,940), corner_timer=0.30
[11:25:53] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,940), corner_timer=0.30
[11:25:54] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(441,839), corner_timer=-0.02
[11:25:54] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[11:25:54] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(441,839), corner_timer=-0.02
[11:25:54] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[11:25:54] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(438,835), corner_timer=0.30
[11:25:54] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(438,835), corner_timer=0.30
[11:25:54] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[11:25:54] [ENEMY] [Enemy1] Player ammo empty: false -> true
[11:25:54] [ENEMY] [Enemy2] Player ammo empty: false -> true
[11:25:54] [ENEMY] [Enemy3] Player ammo empty: false -> true
[11:25:54] [ENEMY] [Enemy4] Player ammo empty: false -> true
[11:25:54] [ENEMY] [Grenadier] Player ammo empty: false -> true
[11:25:54] [ENEMY] [Enemy6] Player ammo empty: false -> true
[11:25:54] [ENEMY] [Enemy7] Player ammo empty: false -> true
[11:25:54] [ENEMY] [Enemy8] Player ammo empty: false -> true
[11:25:54] [ENEMY] [Enemy9] Player ammo empty: false -> true
[11:25:54] [ENEMY] [Enemy10] Player ammo empty: false -> true
[11:25:54] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(394.8663, 787.5038), source=PLAYER (Player), range=600, listeners=18
[11:25:54] [INFO] [SoundPropagation] Cleaned up 8 invalid listeners
[11:25:54] [ENEMY] [Enemy1] Heard player EMPTY_CLICK at (394.8663, 787.5038), intensity=0.01, distance=448
[11:25:54] [ENEMY] [Enemy1] Vulnerability sound triggered pursuit - transitioning from IDLE to PURSUING
[11:25:54] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (394.8663, 787.5038), intensity=0.04, distance=238
[11:25:54] [ENEMY] [Enemy2] Vulnerability sound triggered pursuit - transitioning from IDLE to PURSUING
[11:25:54] [ENEMY] [Enemy3] Heard player EMPTY_CLICK at (394.8663, 787.5038), intensity=0.03, distance=307
[11:25:54] [ENEMY] [Enemy3] Vulnerability sound triggered pursuit - transitioning from IDLE to PURSUING
[11:25:54] [ENEMY] [Enemy4] Heard player EMPTY_CLICK at (394.8663, 787.5038), intensity=0.01, distance=420
[11:25:54] [ENEMY] [Enemy4] Vulnerability sound triggered pursuit - transitioning from IDLE to PURSUING
[11:25:54] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=6, self=0, below_threshold=0
[11:25:54] [INFO] [Shotgun.FIX#212] Firing 13 pellets with 15° spread at pos=(394.86633, 787.5038)
[11:25:54] [INFO] [Shotgun.FIX#212] Normal pellet 1/13: extraOffset=7,3, distance=59,3px, pos=(451.4744, 769.76917)
[11:25:54] [INFO] [Shotgun.FIX#212] Normal pellet 2/13: extraOffset=-0,8, distance=51,2px, pos=(443.89362, 772.834)
[11:25:54] [INFO] [Shotgun.FIX#212] Normal pellet 3/13: extraOffset=-5,3, distance=46,7px, pos=(439.949, 775.23663)
[11:25:54] [INFO] [Shotgun.FIX#212] Normal pellet 4/13: extraOffset=-10,0, distance=42,0px, pos=(435.61313, 777.2064)
[11:25:54] [INFO] [Shotgun.FIX#212] Normal pellet 5/13: extraOffset=2,9, distance=54,9px, pos=(448.38223, 775.36896)
[11:25:54] [INFO] [Shotgun.FIX#212] Normal pellet 6/13: extraOffset=9,0, distance=61,0px, pos=(454.32352, 774.0791)
[11:25:54] [INFO] [Shotgun.FIX#212] Normal pellet 7/13: extraOffset=3,6, distance=55,6px, pos=(449.26752, 775.8378)
[11:25:54] [INFO] [Shotgun.FIX#212] Normal pellet 8/13: extraOffset=7,4, distance=59,4px, pos=(453.2692, 776.66943)
[11:25:54] [INFO] [Shotgun.FIX#212] Normal pellet 9/13: extraOffset=-12,9, distance=39,1px, pos=(433.62634, 782.3159)
[11:25:54] [INFO] [Shotgun.FIX#212] Normal pellet 10/13: extraOffset=12,8, distance=64,8px, pos=(459.148, 779.0837)
[11:25:54] [INFO] [Shotgun.FIX#212] Normal pellet 11/13: extraOffset=13,8, distance=65,8px, pos=(460.51907, 782.599)
[11:25:54] [INFO] [Shotgun.FIX#212] Normal pellet 12/13: extraOffset=-4,7, distance=47,3px, pos=(441.89255, 782.70514)
[11:25:54] [INFO] [Shotgun.FIX#212] Normal pellet 13/13: extraOffset=-11,4, distance=40,6px, pos=(435.44232, 785.89374)
[11:25:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(394.8663, 787.5038), source=PLAYER (Shotgun), range=1469, listeners=10
[11:25:54] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[11:25:54] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=77.8°, current=-157.5°, player=(394,787), corner_timer=0.00
[11:25:54] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=448), can_see=false
[11:25:54] [ENEMY] [Enemy1] Pursuing vulnerability sound at (394.8663, 787.5038), distance=448
[11:25:54] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=91.2°, current=-67.5°, player=(394,787), corner_timer=0.00
[11:25:54] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=238), can_see=false
[11:25:54] [ENEMY] [Enemy2] Pursuing vulnerability sound at (394.8663, 787.5038), distance=238
[11:25:54] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=173.0°, current=11.3°, player=(394,787), corner_timer=0.00
[11:25:54] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=307), can_see=false
[11:25:54] [ENEMY] [Enemy3] Pursuing vulnerability sound at (394.8663, 787.5038), distance=307
[11:25:54] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=-164.5°, current=-101.3°, player=(394,787), corner_timer=0.00
[11:25:54] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=420), can_see=false
[11:25:54] [ENEMY] [Enemy4] Pursuing vulnerability sound at (394.8663, 787.5038), distance=420
[11:25:54] [ENEMY] [Grenadier] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1377), can_see=false
[11:25:54] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1591), can_see=false
[11:25:54] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1308), can_see=false
[11:25:54] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1644), can_see=false
[11:25:54] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1868), can_see=false
[11:25:54] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1128), can_see=false
[11:25:54] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=173.8°, current=-172.5°, player=(390,783), corner_timer=0.00
[11:25:54] [ENEMY] [Enemy3] Player empty ammo - priority attack triggered
[11:25:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(694.7022, 750.6149), source=ENEMY (Enemy3), range=1469, listeners=10
[11:25:54] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[11:25:54] [INFO] [ImpactEffects] Spawning explosion visual effect at (617.14, 746.2698) (radius=15) - using shadow-based wall occlusion
[11:25:54] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(617.14, 746.2698), source=PLAYER (@Area2D@13148), range=500, listeners=10
[11:25:54] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=6, self=0, below_threshold=0
[11:25:54] [INFO] [ImpactEffects] Spawning explosion visual effect at (624.403, 757.4372) (radius=15) - using shadow-based wall occlusion
[11:25:54] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(624.403, 757.4372), source=PLAYER (@Area2D@13150), range=500, listeners=10
[11:25:54] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=6, self=0, below_threshold=0
[11:25:54] [INFO] [ImpactEffects] Spawning explosion visual effect at (626.7227, 770.1823) (radius=15) - using shadow-based wall occlusion
[11:25:54] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(626.7227, 770.1823), source=PLAYER (@Area2D@13151), range=500, listeners=10
[11:25:54] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=7, self=0, below_threshold=0
[11:25:54] [INFO] [ImpactEffects] Spawning explosion visual effect at (607.6982, 765.7859) (radius=15) - using shadow-based wall occlusion
[11:25:54] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(607.6982, 765.7859), source=PLAYER (@Area2D@13152), range=500, listeners=10
[11:25:54] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=6, self=0, below_threshold=0
[11:25:54] [INFO] [ImpactEffects] Spawning explosion visual effect at (640.1183, 754.678) (radius=15) - using shadow-based wall occlusion
[11:25:54] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(640.1183, 754.678), source=PLAYER (@Area2D@13149), range=500, listeners=10
[11:25:54] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=7, self=0, below_threshold=0
[11:25:54] [INFO] [LastChance] Threat detected: Bullet
[11:25:54] [INFO] [LastChance] Not in hard mode - effect disabled
[11:25:54] [INFO] [LastChance] Cannot trigger effect - conditions not met
[11:25:54] [ENEMY] [Enemy3] Hit: dmg=1, hp=3/3->2/3
[11:25:54] [INFO] [ImpactEffects] spawn_blood_effect called at (673.4581, 752.529), dir=(0.977411, -0.211346), lethal=false
[11:25:54] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[11:25:54] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[11:25:54] [INFO] [ImpactEffects] Blood effect spawned at (673.4581, 752.529) (scale=1)
[11:25:54] [ENEMY] [Enemy3] Hit: dmg=1, hp=2/3->1/3
[11:25:54] [INFO] [ImpactEffects] spawn_blood_effect called at (673.4581, 752.529), dir=(0.957305, -0.289081), lethal=false
[11:25:54] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[11:25:54] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[11:25:54] [INFO] [ImpactEffects] Blood effect spawned at (673.4581, 752.529) (scale=1)
[11:25:54] [ENEMY] [Enemy3] Hit: dmg=1, hp=1/3->0/3
[11:25:54] [INFO] [ImpactEffects] spawn_blood_effect called at (673.4581, 752.529), dir=(0.95118, 0.308638), lethal=true
[11:25:54] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[11:25:54] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[11:25:54] [INFO] [ImpactEffects] Blood effect spawned at (673.4581, 752.529) (scale=1.5)
[11:25:54] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[11:25:54] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[11:25:54] [ENEMY] [Enemy4] [AllyDeath] Witnessed at (673.4581, 752.529), entering SEARCHING
[11:25:54] [ENEMY] [Enemy4] SEARCHING started: center=(673.4581, 752.529), radius=100, waypoints=5
[11:25:54] [ENEMY] [Enemy3] [AllyDeath] Notified 2 enemies
[11:25:54] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[11:25:54] [INFO] [DeathAnim] Started - Angle: 18.0 deg, Index: 13
[11:25:54] [ENEMY] [Enemy3] Death animation started with hit direction: (0.95118, 0.308638)
[11:25:54] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(365,764), corner_timer=-0.02
[11:25:54] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[11:25:54] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(361,762), corner_timer=0.30
[11:25:54] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[11:25:54] [INFO] [ImpactEffects] Spawning explosion visual effect at (854.7335, 683.2285) (radius=15) - using shadow-based wall occlusion
[11:25:54] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(854.7335, 683.2285), source=PLAYER (@Area2D@13145), range=500, listeners=9
[11:25:54] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=7, self=0, below_threshold=0
[11:25:54] [INFO] [ImpactEffects] Spawning explosion visual effect at (860.759, 682.3109) (radius=15) - using shadow-based wall occlusion
[11:25:54] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(860.759, 682.3109), source=PLAYER (@Area2D@13146), range=500, listeners=9
[11:25:54] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=7, self=0, below_threshold=0
[11:25:54] [INFO] [ImpactEffects] Spawning explosion visual effect at (856.6722, 688.4727) (radius=15) - using shadow-based wall occlusion
[11:25:54] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(856.6722, 688.4727), source=PLAYER (@Area2D@13147), range=500, listeners=9
[11:25:54] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=7, self=0, below_threshold=0
[11:25:54] [INFO] [ImpactEffects] Spawning explosion visual effect at (888.8459, 632.7458) (radius=15) - using shadow-based wall occlusion
[11:25:54] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(888.8459, 632.7458), source=PLAYER (ShotgunPellet), range=500, listeners=9
[11:25:54] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=7, self=0, below_threshold=0
[11:25:54] [INFO] [ImpactEffects] Spawning explosion visual effect at (882.9919, 641.4483) (radius=15) - using shadow-based wall occlusion
[11:25:54] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(882.9919, 641.4483), source=PLAYER (@Area2D@13142), range=500, listeners=9
[11:25:54] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=7, self=0, below_threshold=0
[11:25:54] [INFO] [ImpactEffects] Spawning explosion visual effect at (882.2022, 654.8979) (radius=15) - using shadow-based wall occlusion
[11:25:54] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(882.2022, 654.8979), source=PLAYER (@Area2D@13143), range=500, listeners=9
[11:25:54] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=7, self=0, below_threshold=0
[11:25:54] [INFO] [ImpactEffects] Spawning explosion visual effect at (879.9764, 664.9089) (radius=15) - using shadow-based wall occlusion
[11:25:54] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(879.9764, 664.9089), source=PLAYER (@Area2D@13144), range=500, listeners=9
[11:25:54] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=7, self=0, below_threshold=0
[11:25:54] [INFO] [ImpactEffects] Spawning explosion visual effect at (893.4153, 767.7213) (radius=15) - using shadow-based wall occlusion
[11:25:54] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(893.4153, 767.7213), source=PLAYER (@Area2D@13153), range=500, listeners=9
[11:25:54] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=7, self=0, below_threshold=0
[11:25:54] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=NeedsPumpUp, ReloadState=NotReloading
[11:25:54] [INFO] [Shotgun.FIX#445] dragStartPos=(1050, 489), aimDir=(0,93, -0,36)
[11:25:54] [ENEMY] [Enemy4] Hit: dmg=1, hp=2/2->1/2
[11:25:54] [INFO] [ImpactEffects] spawn_blood_effect called at (799.3746, 840.4195), dir=(0.951164, 0.308685), lethal=false
[11:25:54] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[11:25:54] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[11:25:54] [INFO] [ImpactEffects] Blood effect spawned at (799.3746, 840.4195) (scale=1)
[11:25:54] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(628.3403, 765.671), shooter_id=2201841834826, bullet_pos=(48.38666, 828.37366)
[11:25:54] [INFO] [Bullet] Using shooter_position, distance=583,3334
[11:25:54] [INFO] [Bullet] Distance to wall: 583,3334 (39,72024% of viewport)
[11:25:54] [INFO] [Bullet] Within ricochet range - trying ricochet first
[11:25:54] [INFO] [Bullet] Starting wall penetration at (48.38666, 828.37366)
[11:25:54] [INFO] [Bullet] Raycast backward hit penetrating body at distance 30,18451
[11:25:54] [INFO] [Bullet] Body exited signal received for penetrating body
[11:25:54] [INFO] [Bullet] Exiting penetration at (1.9903717, 833.3899) after traveling 41,666668 pixels through wall
[11:25:54] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[11:25:54] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[11:25:54] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=SEARCHING, target=-174.0°, current=-174.2°, player=(316,760), corner_timer=0.00
[11:25:54] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) - pursuing to attack (dist=477)
[11:25:54] [ENEMY] [Enemy4] State: SEARCHING -> PURSUING
[11:25:54] [ENEMY] [Enemy4] ROT_CHANGE: P1:visible -> P2:combat_state, state=PURSUING, target=-177.0°, current=103.4°, player=(300,768), corner_timer=0.00
[11:25:54] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-177.7°, current=135.3°, player=(296,771), corner_timer=0.00
[11:25:54] [ENEMY] [Enemy4] ROT_CHANGE: P1:visible -> P2:combat_state, state=PURSUING, target=-178.8°, current=81.7°, player=(288,778), corner_timer=0.00
[11:25:54] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[11:25:54] [INFO] [BloodDecal] Blood puddle created at (767.0196, 770.2095) (added to group)
[11:25:54] [INFO] [BloodDecal] Blood puddle created at (756.7861, 786.338) (added to group)
[11:25:54] [INFO] [BloodDecal] Blood puddle created at (758.3557, 755.1843) (added to group)
[11:25:54] [INFO] [BloodDecal] Blood puddle created at (742.3249, 722.7903) (added to group)
[11:25:54] [INFO] [BloodDecal] Blood puddle created at (727.9895, 795.5473) (added to group)
[11:25:54] [INFO] [BloodyFeet:Enemy4] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[11:25:54] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(280,786), corner_timer=-0.02
[11:25:54] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[11:25:54] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.6°, player=(276,790), corner_timer=0.30
[11:25:54] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=371), can_see=false
[11:25:54] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=293), can_see=false
[11:25:54] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=480), can_see=false
[11:25:54] [ENEMY] [Grenadier] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1504), can_see=false
[11:25:54] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1721), can_see=false
[11:25:54] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1437), can_see=false
[11:25:54] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1759), can_see=false
[11:25:54] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1981), can_see=false
[11:25:54] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1203), can_see=false
[11:25:54] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[11:25:54] [INFO] [BloodDecal] Blood puddle created at (767.5202, 722.1622) (added to group)
[11:25:54] [INFO] [BloodDecal] Blood puddle created at (748.4331, 745.7957) (added to group)
[11:25:54] [INFO] [BloodDecal] Blood puddle created at (810.7701, 773.2822) (added to group)
[11:25:54] [INFO] [BloodDecal] Blood puddle created at (771.7421, 704.8077) (added to group)
[11:25:54] [INFO] [BloodDecal] Blood puddle created at (745.6395, 785.1083) (added to group)
[11:25:54] [INFO] [BloodDecal] Blood puddle created at (803.8078, 785.0994) (added to group)
[11:25:54] [INFO] [BloodDecal] Blood puddle created at (800.2747, 773.7759) (added to group)
[11:25:54] [INFO] [BloodDecal] Blood puddle created at (816.1399, 780.9022) (added to group)
[11:25:54] [INFO] [BloodDecal] Blood puddle created at (878.2612, 868.4838) (added to group)
[11:25:54] [INFO] [BloodDecal] Blood puddle created at (866.0029, 866.6907) (added to group)
[11:25:54] [INFO] [BloodDecal] Blood puddle created at (871.9992, 867.612) (added to group)
[11:25:55] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[11:25:55] [ENEMY] [Enemy3] Ragdoll activated
[11:25:55] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[11:25:55] [INFO] [BloodDecal] Blood puddle created at (770.0432, 794.4338) (added to group)
[11:25:55] [INFO] [BloodDecal] Blood puddle created at (792.9723, 772.4444) (added to group)
[11:25:55] [INFO] [BloodDecal] Blood puddle created at (768.0084, 766.0162) (added to group)
[11:25:55] [INFO] [BloodDecal] Blood puddle created at (855.4933, 809.7153) (added to group)
[11:25:55] [INFO] [BloodDecal] Blood puddle created at (803.9451, 827.3624) (added to group)
[11:25:55] [INFO] [BloodDecal] Blood puddle created at (810.8342, 819.6989) (added to group)
[11:25:55] [INFO] [BloodDecal] Blood puddle created at (853.2287, 824.0301) (added to group)
[11:25:55] [INFO] [BloodDecal] Blood puddle created at (856.1779, 866.3562) (added to group)
[11:25:55] [INFO] [BloodDecal] Blood puddle created at (878.1443, 890.0322) (added to group)
[11:25:55] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=154.6°, current=153.9°, player=(226,840), corner_timer=0.00
[11:25:55] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[11:25:55] [ENEMY] [Enemy2] Player empty ammo - priority attack triggered
[11:25:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(524.0659, 704.6005), source=ENEMY (Enemy2), range=1469, listeners=9
[11:25:55] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=4
[11:25:55] [INFO] [BloodDecal] Blood puddle created at (880.2444, 822.0817) (added to group)
[11:25:55] [INFO] [BloodDecal] Blood puddle created at (789.158, 769.9583) (added to group)
[11:25:55] [INFO] [BloodDecal] Blood puddle created at (858.8317, 751.7828) (added to group)
[11:25:55] [INFO] [BloodDecal] Blood puddle created at (873.7541, 861.6777) (added to group)
[11:25:55] [INFO] [LastChance] Threat detected: Bullet
[11:25:55] [INFO] [LastChance] Not in hard mode - effect disabled
[11:25:55] [INFO] [LastChance] Cannot trigger effect - conditions not met
[11:25:55] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(202,864), corner_timer=-0.02
[11:25:55] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[11:25:55] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.8°, current=6.3°, player=(199,868), corner_timer=0.30
[11:25:55] [ENEMY] [Enemy2] Player empty ammo - priority attack triggered
[11:25:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(521.8295, 722.3267), source=ENEMY (Enemy2), range=1469, listeners=9
[11:25:55] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=4
[11:25:55] [INFO] [Player] Spawning blood effect at (191.24974, 875.9636), dir=(1, 0), lethal=False (C#)
[11:25:55] [INFO] [ImpactEffects] spawn_blood_effect called at (191.2497, 875.9636), dir=(1, 0), lethal=false
[11:25:55] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[11:25:55] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[11:25:55] [INFO] [ImpactEffects] Blood effect spawned at (191.2497, 875.9636) (scale=1)
[11:25:55] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[11:25:55] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[11:25:55] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(506.1769, 698.5997), source=NEUTRAL (null), range=900, listeners=9
[11:25:55] [ENEMY] [Enemy1] Heard CASING_KICK at (506.1769, 698.5997), intensity=0.11, dist=148
[11:25:55] [ENEMY] [Enemy2] Heard CASING_KICK at (506.1769, 698.5997), intensity=1.00, dist=31
[11:25:55] [ENEMY] [Enemy4] Heard CASING_KICK at (506.1769, 698.5997), intensity=0.09, dist=170
[11:25:55] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[11:25:55] [INFO] [BloodDecal] Blood puddle created at (876.7231, 806.2643) (added to group)
[11:25:55] [INFO] [BloodDecal] Blood puddle created at (848.5987, 745.8554) (added to group)
[11:25:55] [INFO] [BloodDecal] Blood puddle created at (893.7207, 984.139) (added to group)
[11:25:55] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(506.6726, 697.4186), source=NEUTRAL (null), range=900, listeners=9
[11:25:55] [ENEMY] [Enemy1] Heard CASING_KICK at (506.6726, 697.4186), intensity=0.12, dist=142
[11:25:55] [ENEMY] [Enemy2] Heard CASING_KICK at (506.6726, 697.4186), intensity=1.00, dist=32
[11:25:55] [ENEMY] [Enemy4] Heard CASING_KICK at (506.6726, 697.4186), intensity=0.09, dist=166
[11:25:55] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[11:25:55] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(507.0363, 696.2091), source=NEUTRAL (null), range=900, listeners=9
[11:25:55] [ENEMY] [Enemy1] Heard CASING_KICK at (507.0363, 696.2091), intensity=0.14, dist=135
[11:25:55] [ENEMY] [Enemy2] Heard CASING_KICK at (507.0363, 696.2091), intensity=1.00, dist=33
[11:25:55] [ENEMY] [Enemy4] Heard CASING_KICK at (507.0363, 696.2091), intensity=0.10, dist=162
[11:25:55] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[11:25:55] [INFO] [LastChance] Threat detected: @Area2D@13366
[11:25:55] [INFO] [LastChance] Not in hard mode - effect disabled
[11:25:55] [INFO] [LastChance] Cannot trigger effect - conditions not met
[11:25:55] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=10
[11:25:55] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[11:25:55] [ENEMY] [Enemy2] Player empty ammo - priority attack triggered
[11:25:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(518.7971, 727.0288), source=ENEMY (Enemy2), range=1469, listeners=9
[11:25:55] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=4
[11:25:55] [INFO] [Shotgun.FIX#243] RMB released after 6 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[11:25:55] [INFO] [Shotgun.FIX#445v7] ProcessDragGesture - dragVector=(88,7, 590,3), length=596,9, ActionState=NeedsPumpUp
[11:25:55] [INFO] [Shotgun.FIX#445v7] Screen-based pump gesture: isDragUp=False, isDragDown=True
[11:25:55] [INFO] [BloodDecal] Blood puddle created at (900.8827, 972.9966) (added to group)
[11:25:55] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(503.0844, 711.4489), source=NEUTRAL (null), range=900, listeners=9
[11:25:55] [ENEMY] [Enemy1] Heard CASING_KICK at (503.0844, 711.4489), intensity=0.17, dist=122
[11:25:55] [ENEMY] [Enemy2] Heard CASING_KICK at (503.0844, 711.4489), intensity=1.00, dist=24
[11:25:55] [ENEMY] [Enemy4] Heard CASING_KICK at (503.0844, 711.4489), intensity=0.14, dist=132
[11:25:55] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[11:25:55] [INFO] [Player] Spawning blood effect at (160.13707, 907.0764), dir=(1, 0), lethal=False (C#)
[11:25:55] [INFO] [ImpactEffects] spawn_blood_effect called at (160.1371, 907.0764), dir=(1, 0), lethal=false
[11:25:55] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[11:25:55] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[11:25:55] [INFO] [ImpactEffects] Blood effect spawned at (160.1371, 907.0764) (scale=1)
[11:25:55] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[11:25:55] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[11:25:55] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) - pursuing to attack (dist=405)
[11:25:55] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(502.0194, 709.349), source=NEUTRAL (null), range=900, listeners=9
[11:25:55] [ENEMY] [Enemy1] Heard CASING_KICK at (502.0194, 709.349), intensity=0.19, dist=114
[11:25:55] [ENEMY] [Enemy2] Heard CASING_KICK at (502.0194, 709.349), intensity=1.00, dist=28
[11:25:55] [ENEMY] [Enemy4] Heard CASING_KICK at (502.0194, 709.349), intensity=0.15, dist=128
[11:25:55] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[11:25:55] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=162.9°, current=-175.2°, player=(160,907), corner_timer=0.00
[11:25:55] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(500.4632, 707.0292), source=NEUTRAL (null), range=900, listeners=9
[11:25:55] [ENEMY] [Enemy1] Heard CASING_KICK at (500.4632, 707.0292), intensity=0.22, dist=106
[11:25:55] [ENEMY] [Enemy2] Heard CASING_KICK at (500.4632, 707.0292), intensity=1.00, dist=33
[11:25:55] [ENEMY] [Enemy4] Heard CASING_KICK at (500.4632, 707.0292), intensity=0.16, dist=126
[11:25:55] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[11:25:55] [ENEMY] [Enemy1] Pursuing vulnerability sound at (152.3589, 914.8546), distance=440
[11:25:55] [ENEMY] [Enemy4] Pursuing vulnerability sound at (148.4698, 918.7437), distance=477
[11:25:55] [INFO] [LastChance] Threat detected: Bullet
[11:25:55] [INFO] [LastChance] Not in hard mode - effect disabled
[11:25:55] [INFO] [LastChance] Cannot trigger effect - conditions not met
[11:25:55] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=449), can_see=false
[11:25:55] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=441), can_see=true
[11:25:55] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=477), can_see=true
[11:25:55] [ENEMY] [Grenadier] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1657), can_see=false
[11:25:55] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1866), can_see=false
[11:25:55] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1554), can_see=false
[11:25:55] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1833), can_see=false
[11:25:55] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2054), can_see=false
[11:25:55] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1222), can_see=false
[11:25:55] [INFO] [Player] Spawning blood effect at (129.0244, 938.1892), dir=(1, 0), lethal=False (C#)
[11:25:55] [INFO] [ImpactEffects] spawn_blood_effect called at (129.0244, 938.1892), dir=(1, 0), lethal=false
[11:25:55] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[11:25:55] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[11:25:55] [INFO] [ImpactEffects] Blood effect spawned at (129.0244, 938.1892) (scale=1)
[11:25:55] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[11:25:55] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[11:25:55] [INFO] [PenultimateHit] Starting penultimate hit effect:
[11:25:55] [INFO] [PenultimateHit]   - Time scale: 0.10
[11:25:55] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[11:25:55] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[11:25:55] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[11:25:55] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[11:25:55] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[11:25:55] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[11:25:55] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[11:25:55] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[11:25:55] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[11:25:55] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.8°, player=(125,942), corner_timer=-0.02
[11:25:55] [ENEMY] [Enemy10] PATROL corner check: angle 0.9°
[11:25:55] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=0.9°, current=4.6°, player=(121,945), corner_timer=0.30
[11:25:55] [INFO] [BloodDecal] Blood puddle created at (260.5027, 929.5878) (added to group)
[11:25:55] [INFO] [BloodDecal] Blood puddle created at (251.1535, 876.3257) (added to group)
[11:25:55] [INFO] [BloodDecal] Blood puddle created at (252.0126, 882.2184) (added to group)
[11:25:55] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(508.7451, 678.7795), source=NEUTRAL (null), range=900, listeners=9
[11:25:55] [ENEMY] [Enemy1] Heard CASING_KICK at (508.7451, 678.7795), intensity=1.00, dist=34
[11:25:55] [ENEMY] [Enemy2] Heard CASING_KICK at (508.7451, 678.7795), intensity=0.69, dist=60
[11:25:55] [ENEMY] [Enemy4] Heard CASING_KICK at (508.7451, 678.7795), intensity=0.23, dist=104
[11:25:55] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[11:25:55] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(508.7968, 678.8125), source=NEUTRAL (null), range=900, listeners=9
[11:25:55] [ENEMY] [Enemy1] Heard CASING_KICK at (508.7968, 678.8125), intensity=1.00, dist=34
[11:25:55] [ENEMY] [Enemy2] Heard CASING_KICK at (508.7968, 678.8125), intensity=0.68, dist=60
[11:25:55] [ENEMY] [Enemy4] Heard CASING_KICK at (508.7968, 678.8125), intensity=0.23, dist=103
[11:25:55] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[11:25:55] [ENEMY] [Enemy1] PURSUING corner check: angle 63.9°
[11:25:55] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(508.894, 678.9411), source=NEUTRAL (null), range=900, listeners=9
[11:25:55] [ENEMY] [Enemy1] Heard CASING_KICK at (508.894, 678.9411), intensity=1.00, dist=34
[11:25:55] [ENEMY] [Enemy2] Heard CASING_KICK at (508.894, 678.9411), intensity=0.68, dist=61
[11:25:55] [ENEMY] [Enemy4] Heard CASING_KICK at (508.894, 678.9411), intensity=0.24, dist=103
[11:25:55] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[11:25:55] [INFO] [BloodDecal] Blood puddle created at (269.2833, 916.7182) (added to group)
[11:25:55] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(509.0378, 679.1641), source=NEUTRAL (null), range=900, listeners=9
[11:25:55] [ENEMY] [Enemy1] Heard CASING_KICK at (509.0378, 679.1641), intensity=1.00, dist=34
[11:25:55] [ENEMY] [Enemy2] Heard CASING_KICK at (509.0378, 679.1641), intensity=0.68, dist=61
[11:25:55] [ENEMY] [Enemy4] Heard CASING_KICK at (509.0378, 679.1641), intensity=0.24, dist=102
[11:25:55] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[11:25:55] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(509.2293, 679.4803), source=NEUTRAL (null), range=900, listeners=9
[11:25:55] [ENEMY] [Enemy1] Heard CASING_KICK at (509.2293, 679.4803), intensity=1.00, dist=35
[11:25:55] [ENEMY] [Enemy2] Heard CASING_KICK at (509.2293, 679.4803), intensity=0.68, dist=60
[11:25:55] [ENEMY] [Enemy4] Heard CASING_KICK at (509.2293, 679.4803), intensity=0.24, dist=102
[11:25:55] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[11:25:55] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(509.4696, 679.8887), source=NEUTRAL (null), range=900, listeners=9
[11:25:55] [ENEMY] [Enemy1] Heard CASING_KICK at (509.4696, 679.8887), intensity=1.00, dist=36
[11:25:55] [ENEMY] [Enemy2] Heard CASING_KICK at (509.4696, 679.8887), intensity=0.69, dist=60
[11:25:55] [ENEMY] [Enemy4] Heard CASING_KICK at (509.4696, 679.8887), intensity=0.24, dist=101
[11:25:55] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[11:25:55] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) - pursuing to attack (dist=476)
[11:25:55] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[11:25:55] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:25:55] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[11:25:55] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[11:25:55] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[11:25:55] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[11:25:55] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[11:25:55] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[11:25:55] [INFO] [LastChance] Resetting all effects (scene change detected)
[11:25:55] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[11:25:55] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[11:25:55] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[11:25:55] [ENEMY] [Enemy1] Death animation component initialized
[11:25:55] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:25:55] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[11:25:55] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[11:25:55] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[11:25:55] [ENEMY] [Enemy2] Death animation component initialized
[11:25:55] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:25:55] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[11:25:55] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[11:25:55] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[11:25:55] [ENEMY] [Enemy3] Death animation component initialized
[11:25:55] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:25:55] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[11:25:55] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[11:25:55] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[11:25:55] [INFO] [EnemyGrenade] Initialized: 1 grenades
[11:25:55] [ENEMY] [Enemy4] Death animation component initialized
[11:25:55] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:25:55] [INFO] [BloodyFeet:Grenadier] Footprint scene loaded
[11:25:55] [INFO] [BloodyFeet:Grenadier] Found EnemyModel for facing direction
[11:25:55] [INFO] [BloodyFeet:Grenadier] BloodyFeetComponent ready on Grenadier
[11:25:55] [INFO] [EnemyGrenade] Grenade bag built (normal): [Flashbang, Flashbang, Flashbang, Offensive, Offensive, Offensive, Offensive, Offensive]
[11:25:55] [INFO] [EnemyGrenade] Grenadier initialized: 8 grenades in bag
[11:25:55] [ENEMY] [Grenadier] Death animation component initialized
[11:25:55] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:25:55] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[11:25:55] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[11:25:55] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[11:25:55] [ENEMY] [Enemy6] Death animation component initialized
[11:25:55] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:25:55] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[11:25:55] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[11:25:55] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[11:25:55] [ENEMY] [Enemy7] Death animation component initialized
[11:25:55] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:25:55] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[11:25:55] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[11:25:55] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[11:25:55] [INFO] [EnemyGrenade] Initialized: 1 grenades
[11:25:55] [ENEMY] [Enemy8] Death animation component initialized
[11:25:55] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:25:55] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[11:25:55] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[11:25:55] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[11:25:55] [ENEMY] [Enemy9] Death animation component initialized
[11:25:55] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:25:55] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[11:25:55] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[11:25:55] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[11:25:55] [ENEMY] [Enemy10] Death animation component initialized
[11:25:55] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:25:55] [INFO] [BloodyFeet:Player] Footprint scene loaded
[11:25:55] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[11:25:55] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[11:25:55] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: F-1 Grenade
[11:25:55] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[11:25:55] [INFO] [Player.Weapon] GameManager weapon selection: shotgun (Shotgun)
[11:25:55] [INFO] [Player.Weapon] Removed default MakarovPM
[11:25:55] [INFO] [Player.Weapon] Equipped Shotgun (ammo: 0/8)
[11:25:55] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[11:25:55] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[11:25:55] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[11:25:55] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[11:25:55] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[11:25:55] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[11:25:55] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[11:25:55] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[11:25:55] [INFO] [Player.Homing] No homing bullets selected in ActiveItemManager
[11:25:55] [INFO] [Player.InvisibilitySuit] No invisibility suit selected in ActiveItemManager
[11:25:55] [INFO] [Player.BreakerBullets] Breaker bullets active — bullets will detonate 60px before walls
[11:25:55] [INFO] [Player.BreakerBullets] Set IsBreakerBulletActive on weapon: Shotgun
[11:25:55] [INFO] [Player] Ready! Ammo: 0/8, Grenades: 1/3, Health: 2/4
[11:25:55] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[11:25:55] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[11:25:55] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[11:25:55] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[11:25:55] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[11:25:55] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[11:25:55] [INFO] [BuildingLevel] Child 'Grenadier': script=true, has_died_signal=true
[11:25:55] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[11:25:55] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[11:25:55] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[11:25:55] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[11:25:55] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[11:25:55] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[11:25:55] [INFO] [BuildingLevel] Setting up weapon: shotgun
[11:25:55] [INFO] [BuildingLevel] Shotgun already equipped by C# Player - skipping GDScript weapon swap
[11:25:55] [INFO] [ScoreManager] Level started with 10 enemies
[11:25:55] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[11:25:55] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[11:25:55] [INFO] [ReplayManager] Replay data cleared
[11:25:55] [INFO] [BuildingLevel] Previous replay data cleared
[11:25:55] [INFO] [ReplayManager] Detected player weapon: Shotgun
[11:25:55] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[11:25:55] [INFO] [ReplayManager] Level: BuildingLevel
[11:25:55] [INFO] [ReplayManager] Player: Player (valid: True)
[11:25:55] [INFO] [ReplayManager] Enemies count: 10
[11:25:55] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/shotgun_topdown.png
[11:25:55] [INFO] [ReplayManager]   Enemy 0: Enemy1
[11:25:55] [INFO] [ReplayManager]   Enemy 1: Enemy2
[11:25:55] [INFO] [ReplayManager]   Enemy 2: Enemy3
[11:25:55] [INFO] [ReplayManager]   Enemy 3: Enemy4
[11:25:55] [INFO] [ReplayManager]   Enemy 4: Grenadier
[11:25:55] [INFO] [ReplayManager]   Enemy 5: Enemy6
[11:25:55] [INFO] [ReplayManager]   Enemy 6: Enemy7
[11:25:55] [INFO] [ReplayManager]   Enemy 7: Enemy8
[11:25:55] [INFO] [ReplayManager]   Enemy 8: Enemy9
[11:25:55] [INFO] [ReplayManager]   Enemy 9: Enemy10
[11:25:55] [INFO] [BuildingLevel] Replay recording started successfully
[11:25:55] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[11:25:55] [INFO] [CinemaEffects] Found player node: Player
[11:25:55] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[11:25:55] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[11:25:55] [ENEMY] [Enemy1] Registered as sound listener
[11:25:55] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 4, behavior: GUARD
[11:25:55] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[11:25:55] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[11:25:55] [ENEMY] [Enemy2] Registered as sound listener
[11:25:55] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 4, behavior: GUARD
[11:25:55] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[11:25:55] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[11:25:55] [ENEMY] [Enemy3] Registered as sound listener
[11:25:55] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 3, behavior: GUARD
[11:25:55] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[11:25:55] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[11:25:55] [ENEMY] [Enemy4] Registered as sound listener
[11:25:55] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 3, behavior: GUARD
[11:25:55] [INFO] [BloodyFeet:Grenadier] Blood detector created and attached to Grenadier
[11:25:55] [INFO] [SoundPropagation] Registered listener: Grenadier (total: 14)
[11:25:55] [ENEMY] [Grenadier] Registered as sound listener
[11:25:55] [ENEMY] [Grenadier] Spawned at (1700, 350), hp: 2, behavior: GUARD
[11:25:55] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[11:25:55] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[11:25:55] [ENEMY] [Enemy6] Registered as sound listener
[11:25:55] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 4, behavior: GUARD
[11:25:55] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[11:25:55] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[11:25:55] [ENEMY] [Enemy7] Registered as sound listener
[11:25:55] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 4, behavior: PATROL
[11:25:55] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[11:25:55] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[11:25:55] [ENEMY] [Enemy8] Registered as sound listener
[11:25:55] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 4, behavior: GUARD
[11:25:55] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[11:25:55] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[11:25:55] [ENEMY] [Enemy9] Registered as sound listener
[11:25:55] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 2, behavior: GUARD
[11:25:55] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[11:25:55] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[11:25:55] [ENEMY] [Enemy10] Registered as sound listener
[11:25:55] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 4, behavior: PATROL
[11:25:55] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[11:25:56] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[11:25:56] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[11:25:56] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[11:25:56] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=123.7°, current=0.0°, player=(450,1249), corner_timer=0.00
[11:25:56] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[11:25:56] [ENEMY] [Grenadier] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[11:25:56] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[11:25:56] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[11:25:56] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[11:25:56] [INFO] [Player] Detecting weapon pose (frame 3)...
[11:25:56] [INFO] [Player] Detected weapon: Shotgun (Shotgun pose)
[11:25:56] [INFO] [Player] Applied Shotgun arm pose: Left=(21, 6), Right=(-1, 6)
[11:25:56] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[11:25:56] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[11:25:56] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[11:25:56] [INFO] [LastChance] Found player: Player
[11:25:56] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[11:25:56] [INFO] [LastChance] Connected to player Damaged signal (C#)
[11:25:56] [INFO] [LastChance] Connected to player Died signal (C#)
[11:25:56] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[11:25:56] [INFO] [BloodDecal] Blood puddle created at (347.5651, 951.3239) (added to group)
[11:25:56] [INFO] [BloodDecal] Blood puddle created at (297.5949, 963.7685) (added to group)
[11:25:56] [INFO] [BloodDecal] Blood puddle created at (376.0827, 896.709) (added to group)
[11:25:56] [INFO] [BloodDecal] Blood puddle created at (307.7555, 954.1649) (added to group)
[11:25:56] [INFO] [BloodDecal] Blood puddle created at (222.8302, 933.5336) (added to group)
[11:25:56] [INFO] [BloodDecal] Blood puddle created at (227.115, 896.6176) (added to group)
[11:25:56] [INFO] [BloodDecal] Blood puddle created at (251.3843, 894.6827) (added to group)
[11:25:56] [INFO] [BloodDecal] Blood puddle created at (228.795, 924.389) (added to group)
[11:25:56] [INFO] [BloodDecal] Blood puddle created at (170.6972, 938.6078) (added to group)
[11:25:56] [INFO] [BloodDecal] Blood puddle created at (244.6927, 952.8637) (added to group)
[11:25:56] [INFO] [BloodDecal] Blood puddle created at (296.2276, 988.9606) (added to group)
[11:25:56] [INFO] [BloodDecal] Blood puddle created at (198.6819, 927.4249) (added to group)
[11:25:56] [INFO] [BloodDecal] Blood puddle created at (302.8903, 956.9976) (added to group)
[11:25:56] [INFO] [BloodDecal] Blood puddle created at (385.3329, 987.7451) (added to group)
[11:25:56] [INFO] [BloodDecal] Blood puddle created at (231.2171, 992.1885) (added to group)
[11:25:56] [INFO] [BloodDecal] Blood puddle created at (261.1761, 999.4344) (added to group)
[11:25:56] [INFO] [BloodDecal] Blood puddle created at (265.2637, 1002.072) (added to group)
[11:25:56] [INFO] [BloodDecal] Blood puddle created at (198.0497, 1001.104) (added to group)
[11:25:56] [INFO] [BloodDecal] Blood puddle created at (280.938, 1022.842) (added to group)
[11:25:56] [INFO] [BloodDecal] Blood puddle created at (212.7985, 1002.453) (added to group)
[11:25:56] [INFO] [BloodDecal] Blood puddle created at (267.5818, 1001.853) (added to group)
[11:25:56] [INFO] [BloodDecal] Blood puddle created at (245.1633, 1039.941) (added to group)
[11:25:56] [INFO] [BloodDecal] Blood puddle created at (321.2825, 991.4752) (added to group)
[11:25:56] [INFO] [BloodDecal] Blood puddle created at (240.9744, 969.8995) (added to group)
[11:25:56] [INFO] [BloodDecal] Blood puddle created at (327.8221, 960.4458) (added to group)
[11:25:56] [INFO] [BloodDecal] Blood puddle created at (247.3737, 1035.482) (added to group)
[11:25:56] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[11:25:57] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=164.4°, current=123.7°, player=(450,819), corner_timer=0.00
[11:25:57] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[11:25:57] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=166.8°, current=-64.9°, player=(449,808), corner_timer=0.00
[11:25:57] [ENEMY] [Enemy4] Memory: high confidence (0.89) - transitioning to PURSUING
[11:25:57] [ENEMY] [Enemy4] State: IDLE -> PURSUING
[11:25:57] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[11:25:57] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[11:25:57] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=-162.0°, current=-67.5°, player=(443,783), corner_timer=0.00
[11:25:57] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(443,783), corner_timer=0.30
[11:25:57] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(443,783), corner_timer=0.30
[11:25:57] [ENEMY] [Enemy1] Player ammo empty: false -> true
[11:25:57] [ENEMY] [Enemy2] Player ammo empty: false -> true
[11:25:57] [ENEMY] [Enemy3] Player ammo empty: false -> true
[11:25:57] [ENEMY] [Enemy4] Player ammo empty: false -> true
[11:25:57] [ENEMY] [Grenadier] Player ammo empty: false -> true
[11:25:57] [ENEMY] [Enemy6] Player ammo empty: false -> true
[11:25:57] [ENEMY] [Enemy7] Player ammo empty: false -> true
[11:25:57] [ENEMY] [Enemy8] Player ammo empty: false -> true
[11:25:57] [ENEMY] [Enemy9] Player ammo empty: false -> true
[11:25:57] [ENEMY] [Enemy10] Player ammo empty: false -> true
[11:25:57] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(439.4982, 775.5442), source=PLAYER (Player), range=600, listeners=19
[11:25:57] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[11:25:57] [ENEMY] [Enemy1] Heard player EMPTY_CLICK at (439.4982, 775.5442), intensity=0.01, distance=448
[11:25:57] [ENEMY] [Enemy1] Vulnerability sound triggered pursuit - transitioning from IDLE to PURSUING
[11:25:57] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (439.4982, 775.5442), intensity=0.05, distance=229
[11:25:57] [ENEMY] [Enemy2] Vulnerability sound triggered pursuit - transitioning from IDLE to PURSUING
[11:25:57] [ENEMY] [Enemy3] Heard player EMPTY_CLICK at (439.4982, 775.5442), intensity=0.04, distance=246
[11:25:57] [ENEMY] [Enemy4] Heard player EMPTY_CLICK at (439.4982, 775.5442), intensity=0.02, distance=381
[11:25:57] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=6, self=0, below_threshold=0
[11:25:57] [INFO] [Shotgun.FIX#212] Firing 12 pellets with 15° spread at pos=(439.49817, 775.5442)
[11:25:57] [INFO] [Shotgun.FIX#212] Normal pellet 1/12: extraOffset=-13,6, distance=38,4px, pos=(476.4824, 765.1982)
[11:25:57] [INFO] [Shotgun.FIX#212] Normal pellet 2/12: extraOffset=-8,4, distance=43,6px, pos=(481.64105, 764.36255)
[11:25:57] [INFO] [Shotgun.FIX#212] Normal pellet 3/12: extraOffset=1,7, distance=53,7px, pos=(491.9925, 764.35443)
[11:25:57] [INFO] [Shotgun.FIX#212] Normal pellet 4/12: extraOffset=-7,1, distance=44,9px, pos=(483.40213, 766.23175)
[11:25:57] [INFO] [Shotgun.FIX#212] Normal pellet 5/12: extraOffset=-4,6, distance=47,4px, pos=(486.04056, 766.4009)
[11:25:57] [INFO] [Shotgun.FIX#212] Normal pellet 6/12: extraOffset=-11,1, distance=40,9px, pos=(479.9537, 769.54297)
[11:25:57] [INFO] [Shotgun.FIX#212] Normal pellet 7/12: extraOffset=13,2, distance=65,2px, pos=(504.2094, 767.40814)
[11:25:57] [INFO] [Shotgun.FIX#212] Normal pellet 8/12: extraOffset=-13,8, distance=38,2px, pos=(477.54422, 772.49225)
[11:25:57] [INFO] [Shotgun.FIX#212] Normal pellet 9/12: extraOffset=-13,8, distance=38,2px, pos=(477.53494, 772.26874)
[11:25:57] [INFO] [Shotgun.FIX#212] Normal pellet 10/12: extraOffset=14,2, distance=66,2px, pos=(505.5448, 771.16425)
[11:25:57] [INFO] [Shotgun.FIX#212] Normal pellet 11/12: extraOffset=-6,0, distance=46,0px, pos=(485.47446, 774.0386)
[11:25:57] [INFO] [Shotgun.FIX#212] Normal pellet 12/12: extraOffset=-8,6, distance=43,4px, pos=(482.90796, 775.93225)
[11:25:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(439.4982, 775.5442), source=PLAYER (Shotgun), range=1469, listeners=10
[11:25:57] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[11:25:57] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=71.9°, current=168.8°, player=(439,775), corner_timer=0.00
[11:25:57] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=448), can_see=false
[11:25:57] [ENEMY] [Enemy1] Pursuing vulnerability sound at (439.4982, 775.5442), distance=448
[11:25:57] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=80.1°, current=168.8°, player=(439,775), corner_timer=0.00
[11:25:57] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=229), can_see=false
[11:25:57] [ENEMY] [Enemy2] Pursuing vulnerability sound at (439.4982, 775.5442), distance=229
[11:25:57] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=246), can_see=false
[11:25:57] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=381), can_see=false
[11:25:57] [INFO] [EnemyGrenade] Throw path blocked to (439.4982, 775.5442)
[11:25:57] [ENEMY] [Enemy4] Pursuing vulnerability sound at (439.4982, 775.5442), distance=381
[11:25:57] [ENEMY] [Grenadier] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1330), can_see=false
[11:25:57] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1545), can_see=false
[11:25:57] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1184), can_see=false
[11:25:57] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1609), can_see=false
[11:25:57] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1832), can_see=false
[11:25:57] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1093), can_see=false
[11:25:57] [INFO] [EnemyGrenade] Throw path blocked to (439.4982, 775.5442)
[11:25:57] [INFO] [EnemyGrenade] Throw path blocked to (439.4982, 775.5442)
[11:25:57] [INFO] [ImpactEffects] Spawning explosion visual effect at (628.233, 751.8149) (radius=15) - using shadow-based wall occlusion
[11:25:57] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(628.233, 751.8149), source=PLAYER (@Area2D@13684), range=500, listeners=10
[11:25:57] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=7, self=0, below_threshold=0
[11:25:57] [INFO] [ImpactEffects] Spawning explosion visual effect at (602.144, 762.4973) (radius=15) - using shadow-based wall occlusion
[11:25:57] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(602.144, 762.4973), source=PLAYER (@Area2D@13685), range=500, listeners=10
[11:25:57] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=6, self=0, below_threshold=0
[11:25:57] [INFO] [ImpactEffects] Spawning explosion visual effect at (602.0741, 761.5444) (radius=15) - using shadow-based wall occlusion
[11:25:57] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(602.0741, 761.5444), source=PLAYER (@Area2D@13686), range=500, listeners=10
[11:25:57] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=6, self=0, below_threshold=0
[11:25:57] [INFO] [ImpactEffects] Spawning explosion visual effect at (630.2708, 762.893) (radius=15) - using shadow-based wall occlusion
[11:25:57] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(630.2708, 762.893), source=PLAYER (@Area2D@13687), range=500, listeners=10
[11:25:57] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=7, self=0, below_threshold=0
[11:25:57] [INFO] [ImpactEffects] Spawning explosion visual effect at (610.4075, 769.9473) (radius=15) - using shadow-based wall occlusion
[11:25:57] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(610.4075, 769.9473), source=PLAYER (@Area2D@13688), range=500, listeners=10
[11:25:57] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=7, self=0, below_threshold=0
[11:25:57] [INFO] [EnemyGrenade] Throw path blocked to (439.4982, 775.5442)
[11:25:57] [INFO] [ImpactEffects] Spawning explosion visual effect at (644.8163, 745.0869) (radius=15) - using shadow-based wall occlusion
[11:25:57] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(644.8163, 745.0869), source=PLAYER (@Area2D@13683), range=500, listeners=10
[11:25:57] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=7, self=0, below_threshold=0
[11:25:57] [INFO] [ImpactEffects] Spawning explosion visual effect at (649.5679, 777.4222) (radius=15) - using shadow-based wall occlusion
[11:25:57] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(649.5679, 777.4222), source=PLAYER (@Area2D@13689), range=500, listeners=10
[11:25:57] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=7, self=0, below_threshold=0
[11:25:57] [ENEMY] [Enemy3] Hit: dmg=1, hp=3/3->2/3
[11:25:57] [INFO] [ImpactEffects] spawn_blood_effect called at (684.449, 753.7605), dir=(0.998099, 0.061633), lethal=false
[11:25:57] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[11:25:57] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[11:25:57] [INFO] [ImpactEffects] Blood effect spawned at (684.449, 753.7605) (scale=1)
[11:25:57] [ENEMY] [Enemy3] Hit: dmg=1, hp=2/3->1/3
[11:25:57] [INFO] [ImpactEffects] spawn_blood_effect called at (684.449, 753.7605), dir=(0.997167, -0.075217), lethal=false
[11:25:57] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[11:25:57] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[11:25:57] [INFO] [ImpactEffects] Blood effect spawned at (684.449, 753.7605) (scale=1)
[11:25:57] [ENEMY] [Enemy3] Hit: dmg=1, hp=1/3->0/3
[11:25:57] [INFO] [ImpactEffects] spawn_blood_effect called at (684.449, 753.7605), dir=(0.966012, -0.258498), lethal=true
[11:25:57] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[11:25:57] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[11:25:57] [INFO] [ImpactEffects] Blood effect spawned at (684.449, 753.7605) (scale=1.5)
[11:25:57] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[11:25:57] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[11:25:57] [ENEMY] [Enemy3] [AllyDeath] Notified 2 enemies
[11:25:57] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[11:25:57] [INFO] [DeathAnim] Started - Angle: -15.0 deg, Index: 11
[11:25:57] [ENEMY] [Enemy3] Death animation started with hit direction: (0.966012, -0.258498)
[11:25:57] [INFO] [EnemyGrenade] Throw path blocked to (439.4982, 775.5442)
[11:25:57] [INFO] [EnemyGrenade] Throw path blocked to (439.4982, 775.5442)
[11:25:57] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[11:25:57] [INFO] [EnemyGrenade] Throw path blocked to (439.4982, 775.5442)
[11:25:57] [INFO] [EnemyGrenade] Throw path blocked to (439.4982, 775.5442)
[11:25:57] [INFO] [EnemyGrenade] Throw path blocked to (439.4982, 775.5442)
[11:25:57] [INFO] [ImpactEffects] Spawning explosion visual effect at (858.7529, 686.1752) (radius=15) - using shadow-based wall occlusion
[11:25:57] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(858.7529, 686.1752), source=PLAYER (@Area2D@13680), range=500, listeners=9
[11:25:57] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=7, self=0, below_threshold=0
[11:25:57] [INFO] [ImpactEffects] Spawning explosion visual effect at (854.0073, 694.1136) (radius=15) - using shadow-based wall occlusion
[11:25:57] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(854.0073, 694.1136), source=PLAYER (@Area2D@13682), range=500, listeners=9
[11:25:57] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=7, self=0, below_threshold=0
[11:25:57] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=NeedsPumpUp, ReloadState=NotReloading
[11:25:57] [INFO] [Shotgun.FIX#445] dragStartPos=(1143, 658), aimDir=(0,99, -0,13)
[11:25:57] [INFO] [EnemyGrenade] Throw path blocked to (439.4982, 775.5442)
[11:25:57] [INFO] [ImpactEffects] Spawning explosion visual effect at (877.7446, 652.949) (radius=15) - using shadow-based wall occlusion
[11:25:57] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(877.7446, 652.949), source=PLAYER (ShotgunPellet), range=500, listeners=9
[11:25:57] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=7, self=0, below_threshold=0
[11:25:57] [INFO] [ImpactEffects] Spawning explosion visual effect at (884.373, 657.5071) (radius=15) - using shadow-based wall occlusion
[11:25:57] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(884.373, 657.5071), source=PLAYER (@Area2D@13679), range=500, listeners=9
[11:25:57] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=7, self=0, below_threshold=0
[11:25:57] [INFO] [ImpactEffects] Spawning explosion visual effect at (891.0004, 679.7761) (radius=15) - using shadow-based wall occlusion
[11:25:57] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(891.0004, 679.7761), source=PLAYER (@Area2D@13681), range=500, listeners=9
[11:25:57] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=7, self=0, below_threshold=0
[11:25:57] [INFO] [EnemyGrenade] Throw path blocked to (439.4982, 775.5442)
[11:25:57] [INFO] [EnemyGrenade] Throw path blocked to (439.4982, 775.5442)
[11:25:57] [INFO] [EnemyGrenade] Throw path blocked to (439.4982, 775.5442)
[11:25:57] [INFO] [EnemyGrenade] Throw path blocked to (439.4982, 775.5442)
[11:25:57] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[11:25:57] [INFO] [Shotgun.FIX#445v7] Mouse at top edge (Y=7), need PumpUp - recentering cursor
[11:25:57] [INFO] [Shotgun.FIX#445v7] Cursor recentered to (640, 360)
[11:25:57] [INFO] [EnemyGrenade] Throw path blocked to (439.4982, 775.5442)
[11:25:57] [INFO] [EnemyGrenade] Throw path blocked to (439.4982, 775.5442)
[11:25:57] [INFO] [EnemyGrenade] Throw path blocked to (439.4982, 775.5442)
[11:25:58] [INFO] [EnemyGrenade] Throw path blocked to (439.4982, 775.5442)
[11:25:58] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(384,751), corner_timer=-0.02
[11:25:58] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[11:25:58] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(384,751), corner_timer=-0.02
[11:25:58] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[11:25:58] [INFO] [EnemyGrenade] Throw path blocked to (439.4982, 775.5442)
[11:25:58] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(380,752), corner_timer=0.30
[11:25:58] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(380,752), corner_timer=0.30
[11:25:58] [INFO] [EnemyGrenade] Throw path blocked to (439.4982, 775.5442)
[11:25:58] [INFO] [EnemyGrenade] Throw path blocked to (439.4982, 775.5442)
[11:25:58] [INFO] [EnemyGrenade] Throw path blocked to (439.4982, 775.5442)
[11:25:58] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[11:25:58] [INFO] [BloodDecal] Blood puddle created at (760.2277, 749.9131) (added to group)
[11:25:58] [INFO] [BloodDecal] Blood puddle created at (743.222, 783.1852) (added to group)
[11:25:58] [INFO] [BloodDecal] Blood puddle created at (772.4433, 722.9133) (added to group)
[11:25:58] [INFO] [BloodDecal] Blood puddle created at (745.7113, 794.7717) (added to group)
[11:25:58] [INFO] [BloodDecal] Blood puddle created at (731.3405, 726.5703) (added to group)
[11:25:58] [INFO] [BloodDecal] Blood puddle created at (754.2103, 746.5099) (added to group)
[11:25:58] [INFO] [BloodDecal] Blood puddle created at (770.6794, 746.0967) (added to group)
[11:25:58] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-173.2°, current=-172.2°, player=(365,762), corner_timer=0.00
[11:25:58] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) - pursuing to attack (dist=421)
[11:25:58] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[11:25:58] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[11:25:58] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[11:25:58] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[11:25:58] [INFO] [BloodDecal] Blood puddle created at (791.899, 755.7791) (added to group)
[11:25:58] [INFO] [BloodDecal] Blood puddle created at (780.9318, 799.4575) (added to group)
[11:25:58] [INFO] [BloodDecal] Blood puddle created at (761.6476, 788.2433) (added to group)
[11:25:58] [INFO] [BloodDecal] Blood puddle created at (820.0112, 794.6163) (added to group)
[11:25:58] [INFO] [BloodDecal] Blood puddle created at (754.7582, 777.3936) (added to group)
[11:25:58] [INFO] [BloodDecal] Blood puddle created at (827.9982, 775.5005) (added to group)
[11:25:58] [INFO] [BloodDecal] Blood puddle created at (770.3749, 797.379) (added to group)
[11:25:58] [INFO] [BloodDecal] Blood puddle created at (784.3472, 755.6518) (added to group)
[11:25:58] [INFO] [BloodDecal] Blood puddle created at (738.56, 787.9141) (added to group)
[11:25:58] [INFO] [BloodDecal] Blood puddle created at (755.502, 738.364) (added to group)
[11:25:58] [INFO] [BloodDecal] Blood puddle created at (728.3404, 751.1219) (added to group)
[11:25:58] [INFO] [BloodDecal] Blood puddle created at (766.1271, 713.4906) (added to group)
[11:25:58] [INFO] [BloodyFeet:Enemy4] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[11:25:58] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=344), can_see=false
[11:25:58] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=235), can_see=false
[11:25:58] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=454), can_see=true
[11:25:58] [ENEMY] [Grenadier] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1440), can_see=false
[11:25:58] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1656), can_see=false
[11:25:58] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1372), can_see=false
[11:25:58] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1700), can_see=false
[11:25:58] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1923), can_see=false
[11:25:58] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1167), can_see=false
[11:25:58] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(307,819), corner_timer=-0.02
[11:25:58] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[11:25:58] [ENEMY] [Enemy3] Ragdoll activated
[11:25:58] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[11:25:58] [INFO] [BloodDecal] Blood puddle created at (780.6873, 771.1973) (added to group)
[11:25:58] [INFO] [BloodDecal] Blood puddle created at (846.7574, 808.6506) (added to group)
[11:25:58] [INFO] [BloodDecal] Blood puddle created at (767.8494, 787.2088) (added to group)
[11:25:58] [INFO] [BloodDecal] Blood puddle created at (863.4588, 813.1194) (added to group)
[11:25:58] [INFO] [BloodDecal] Blood puddle created at (833.3691, 828.0962) (added to group)
[11:25:58] [INFO] [BloodDecal] Blood puddle created at (817.2266, 749.1073) (added to group)
[11:25:58] [INFO] [BloodDecal] Blood puddle created at (841.5192, 720.5115) (added to group)
[11:25:58] [INFO] [BloodDecal] Blood puddle created at (803.0037, 814.6138) (added to group)
[11:25:58] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(303,823), corner_timer=0.30
[11:25:58] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=149.8°, current=-168.0°, player=(291,834), corner_timer=0.00
[11:25:58] [ENEMY] [Enemy2] Player empty ammo - priority attack triggered
[11:25:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(524.0659, 699.7018), source=ENEMY (Enemy2), range=1469, listeners=9
[11:25:58] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=4
[11:25:58] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[11:25:58] [INFO] [LastChance] Threat detected: Bullet
[11:25:58] [INFO] [LastChance] Not in hard mode - effect disabled
[11:25:58] [INFO] [LastChance] Cannot trigger effect - conditions not met
[11:25:58] [INFO] [BloodDecal] Blood puddle created at (828.4223, 827.3488) (added to group)
[11:25:58] [INFO] [BloodDecal] Blood puddle created at (834.3845, 776.447) (added to group)
[11:25:58] [INFO] [BloodDecal] Blood puddle created at (797.3552, 778.0039) (added to group)
[11:25:58] [INFO] [BloodDecal] Blood puddle created at (789.5705, 818.6858) (added to group)
[11:25:58] [INFO] [BloodDecal] Blood puddle created at (880.4876, 879.7033) (added to group)
[11:25:58] [INFO] [BloodDecal] Blood puddle created at (908.7867, 873.6747) (added to group)
[11:25:58] [ENEMY] [Enemy2] Player empty ammo - priority attack triggered
[11:25:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(522.6593, 720.1233), source=ENEMY (Enemy2), range=1469, listeners=9
[11:25:58] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=4
[11:25:58] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[11:25:58] [INFO] [BloodDecal] Blood puddle created at (885.3376, 867.3247) (added to group)
[11:25:58] [INFO] [BloodDecal] Blood puddle created at (895.3047, 852.6757) (added to group)
[11:25:58] [INFO] [BloodDecal] Blood puddle created at (784.6719, 818.1208) (added to group)
[11:25:58] [INFO] [LastChance] Threat detected: Bullet
[11:25:58] [INFO] [LastChance] Not in hard mode - effect disabled
[11:25:58] [INFO] [LastChance] Cannot trigger effect - conditions not met
[11:25:58] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[11:25:58] [INFO] [Player] Spawning blood effect at (237.40102, 889.42426), dir=(1, 0), lethal=False (C#)
[11:25:58] [INFO] [ImpactEffects] spawn_blood_effect called at (237.401, 889.4243), dir=(1, 0), lethal=false
[11:25:58] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[11:25:58] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[11:25:58] [INFO] [ImpactEffects] Blood effect spawned at (237.401, 889.4243) (scale=1)
[11:25:58] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[11:25:58] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[11:25:58] [INFO] [PenultimateHit] Starting penultimate hit effect:
[11:25:58] [INFO] [PenultimateHit]   - Time scale: 0.10
[11:25:58] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[11:25:58] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[11:25:58] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[11:25:58] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[11:25:58] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[11:25:58] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[11:25:58] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[11:25:58] [ENEMY] [Enemy2] Player empty ammo - priority attack triggered
[11:25:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(521.0317, 723.7087), source=ENEMY (Enemy2), range=1469, listeners=9
[11:25:58] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=4
[11:25:58] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(498.1082, 714.206), source=NEUTRAL (null), range=900, listeners=9
[11:25:58] [ENEMY] [Enemy1] Heard CASING_KICK at (498.1082, 714.206), intensity=0.15, dist=128
[11:25:58] [ENEMY] [Enemy2] Heard CASING_KICK at (498.1082, 714.206), intensity=1.00, dist=25
[11:25:58] [ENEMY] [Enemy4] Heard CASING_KICK at (498.1082, 714.206), intensity=0.03, dist=288
[11:25:58] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[11:25:58] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(496.819, 713.5763), source=NEUTRAL (null), range=900, listeners=9
[11:25:58] [ENEMY] [Enemy1] Heard CASING_KICK at (496.819, 713.5763), intensity=0.16, dist=127
[11:25:58] [ENEMY] [Enemy2] Heard CASING_KICK at (496.819, 713.5763), intensity=1.00, dist=27
[11:25:58] [ENEMY] [Enemy4] Heard CASING_KICK at (496.819, 713.5763), intensity=0.03, dist=290
[11:25:58] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[11:25:58] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(229,897), corner_timer=-0.02
[11:25:58] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[11:25:58] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(496.738, 713.693), source=NEUTRAL (null), range=900, listeners=9
[11:25:58] [ENEMY] [Enemy1] Heard CASING_KICK at (496.738, 713.693), intensity=0.16, dist=126
[11:25:58] [ENEMY] [Enemy2] Heard CASING_KICK at (496.738, 713.693), intensity=1.00, dist=27
[11:25:58] [ENEMY] [Enemy4] Heard CASING_KICK at (496.738, 713.693), intensity=0.03, dist=290
[11:25:58] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[11:25:58] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=7.0°, player=(229,897), corner_timer=0.30
[11:25:58] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(496.6052, 713.7163), source=NEUTRAL (null), range=900, listeners=9
[11:25:58] [ENEMY] [Enemy1] Heard CASING_KICK at (496.6052, 713.7163), intensity=0.16, dist=126
[11:25:58] [ENEMY] [Enemy2] Heard CASING_KICK at (496.6052, 713.7163), intensity=1.00, dist=27
[11:25:58] [ENEMY] [Enemy4] Heard CASING_KICK at (496.6052, 713.7163), intensity=0.03, dist=290
[11:25:58] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[11:25:58] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(496.4196, 713.7209), source=NEUTRAL (null), range=900, listeners=9
[11:25:58] [ENEMY] [Enemy1] Heard CASING_KICK at (496.4196, 713.7209), intensity=0.16, dist=125
[11:25:58] [ENEMY] [Enemy2] Heard CASING_KICK at (496.4196, 713.7209), intensity=1.00, dist=27
[11:25:58] [ENEMY] [Enemy4] Heard CASING_KICK at (496.4196, 713.7209), intensity=0.03, dist=290
[11:25:58] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[11:25:58] [ENEMY] [Enemy1] Pursuing vulnerability sound at (496.4196, 713.7209), distance=125
[11:25:58] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(496.1814, 713.7234), source=NEUTRAL (null), range=900, listeners=9
[11:25:58] [ENEMY] [Enemy1] Heard CASING_KICK at (496.1814, 713.7234), intensity=0.16, dist=124
[11:25:58] [ENEMY] [Enemy2] Heard CASING_KICK at (496.1814, 713.7234), intensity=1.00, dist=27
[11:25:58] [ENEMY] [Enemy4] Heard CASING_KICK at (496.1814, 713.7234), intensity=0.03, dist=291
[11:25:58] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[11:25:58] [INFO] [Shotgun.FIX#243] RMB released after 7 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[11:25:58] [INFO] [Shotgun.FIX#445v7] ProcessDragGesture - dragVector=(23,6, 402,5), length=403,2, ActionState=NeedsPumpUp
[11:25:58] [INFO] [Shotgun.FIX#445v7] Screen-based pump gesture: isDragUp=False, isDragDown=True
[11:25:58] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=386), can_see=false
[11:25:58] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(495.9327, 713.7693), source=NEUTRAL (null), range=900, listeners=9
[11:25:58] [ENEMY] [Enemy1] Heard CASING_KICK at (495.9327, 713.7693), intensity=0.16, dist=124
[11:25:58] [ENEMY] [Enemy2] Heard CASING_KICK at (495.9327, 713.7693), intensity=1.00, dist=28
[11:25:58] [ENEMY] [Enemy4] Heard CASING_KICK at (495.9327, 713.7693), intensity=0.03, dist=291
[11:25:58] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[11:25:58] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=600), can_see=true
[11:25:58] [ENEMY] [Grenadier] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1571), can_see=false
[11:25:58] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1780), can_see=false
[11:25:58] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1471), can_see=false
[11:25:58] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1761), can_see=false
[11:25:58] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1982), can_see=false
[11:25:58] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1171), can_see=false
[11:25:58] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(495.6264, 713.8138), source=NEUTRAL (null), range=900, listeners=9
[11:25:58] [ENEMY] [Enemy1] Heard CASING_KICK at (495.6264, 713.8138), intensity=0.16, dist=123
[11:25:58] [ENEMY] [Enemy2] Heard CASING_KICK at (495.6264, 713.8138), intensity=1.00, dist=28
[11:25:58] [ENEMY] [Enemy4] Heard CASING_KICK at (495.6264, 713.8138), intensity=0.03, dist=291
[11:25:58] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[11:25:58] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(495.2749, 713.8702), source=NEUTRAL (null), range=900, listeners=9
[11:25:58] [ENEMY] [Enemy1] Heard CASING_KICK at (495.2749, 713.8702), intensity=0.17, dist=123
[11:25:58] [ENEMY] [Enemy2] Heard CASING_KICK at (495.2749, 713.8702), intensity=1.00, dist=28
[11:25:58] [ENEMY] [Enemy4] Heard CASING_KICK at (495.2749, 713.8702), intensity=0.03, dist=292
[11:25:58] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[11:25:58] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(494.8798, 713.9417), source=NEUTRAL (null), range=900, listeners=9
[11:25:58] [ENEMY] [Enemy1] Heard CASING_KICK at (494.8798, 713.9417), intensity=0.17, dist=122
[11:25:58] [ENEMY] [Enemy2] Heard CASING_KICK at (494.8798, 713.9417), intensity=1.00, dist=29
[11:25:58] [ENEMY] [Enemy4] Heard CASING_KICK at (494.8798, 713.9417), intensity=0.03, dist=292
[11:25:58] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[11:25:58] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(494.4133, 714.0013), source=NEUTRAL (null), range=900, listeners=9
[11:25:58] [ENEMY] [Enemy1] Heard CASING_KICK at (494.4133, 714.0013), intensity=0.17, dist=122
[11:25:58] [ENEMY] [Enemy2] Heard CASING_KICK at (494.4133, 714.0013), intensity=1.00, dist=29
[11:25:58] [ENEMY] [Enemy4] Heard CASING_KICK at (494.4133, 714.0013), intensity=0.03, dist=293
[11:25:58] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[11:25:58] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(493.9012, 714.0762), source=NEUTRAL (null), range=900, listeners=9
[11:25:58] [ENEMY] [Enemy1] Heard CASING_KICK at (493.9012, 714.0762), intensity=0.17, dist=121
[11:25:58] [ENEMY] [Enemy2] Heard CASING_KICK at (493.9012, 714.0762), intensity=1.00, dist=30
[11:25:58] [ENEMY] [Enemy4] Heard CASING_KICK at (493.9012, 714.0762), intensity=0.03, dist=293
[11:25:58] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[11:25:58] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(493.3179, 714.1419), source=NEUTRAL (null), range=900, listeners=9
[11:25:58] [ENEMY] [Enemy1] Heard CASING_KICK at (493.3179, 714.1419), intensity=0.17, dist=120
[11:25:58] [ENEMY] [Enemy2] Heard CASING_KICK at (493.3179, 714.1419), intensity=1.00, dist=30
[11:25:58] [ENEMY] [Enemy4] Heard CASING_KICK at (493.3179, 714.1419), intensity=0.03, dist=294
[11:25:58] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[11:25:58] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(492.6638, 714.1996), source=NEUTRAL (null), range=900, listeners=9
[11:25:58] [ENEMY] [Enemy1] Heard CASING_KICK at (492.6638, 714.1996), intensity=0.17, dist=120
[11:25:58] [ENEMY] [Enemy2] Heard CASING_KICK at (492.6638, 714.1996), intensity=1.00, dist=31
[11:25:58] [ENEMY] [Enemy4] Heard CASING_KICK at (492.6638, 714.1996), intensity=0.03, dist=295
[11:25:58] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[11:25:58] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(491.9391, 714.2505), source=NEUTRAL (null), range=900, listeners=9
[11:25:58] [ENEMY] [Enemy1] Heard CASING_KICK at (491.9391, 714.2505), intensity=0.18, dist=119
[11:25:58] [ENEMY] [Enemy2] Heard CASING_KICK at (491.9391, 714.2505), intensity=1.00, dist=32
[11:25:58] [ENEMY] [Enemy4] Heard CASING_KICK at (491.9391, 714.2505), intensity=0.03, dist=295
[11:25:58] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[11:25:58] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(491.144, 714.2959), source=NEUTRAL (null), range=900, listeners=9
[11:25:58] [ENEMY] [Enemy1] Heard CASING_KICK at (491.144, 714.2959), intensity=0.18, dist=119
[11:25:58] [ENEMY] [Enemy2] Heard CASING_KICK at (491.144, 714.2959), intensity=1.00, dist=33
[11:25:58] [ENEMY] [Enemy4] Heard CASING_KICK at (491.144, 714.2959), intensity=0.03, dist=296
[11:25:58] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[11:25:58] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(490.2789, 714.3367), source=NEUTRAL (null), range=900, listeners=9
[11:25:58] [ENEMY] [Enemy1] Heard CASING_KICK at (490.2789, 714.3367), intensity=0.18, dist=118
[11:25:58] [ENEMY] [Enemy2] Heard CASING_KICK at (490.2789, 714.3367), intensity=1.00, dist=34
[11:25:58] [ENEMY] [Enemy4] Heard CASING_KICK at (490.2789, 714.3367), intensity=0.03, dist=297
[11:25:58] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[11:25:58] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(489.344, 714.3741), source=NEUTRAL (null), range=900, listeners=9
[11:25:58] [ENEMY] [Enemy1] Heard CASING_KICK at (489.344, 714.3741), intensity=0.18, dist=117
[11:25:58] [ENEMY] [Enemy2] Heard CASING_KICK at (489.344, 714.3741), intensity=1.00, dist=34
[11:25:58] [ENEMY] [Enemy4] Heard CASING_KICK at (489.344, 714.3741), intensity=0.03, dist=298
[11:25:58] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[11:25:58] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(488.3398, 714.4089), source=NEUTRAL (null), range=900, listeners=9
[11:25:58] [ENEMY] [Enemy1] Heard CASING_KICK at (488.3398, 714.4089), intensity=0.18, dist=117
[11:25:58] [ENEMY] [Enemy2] Heard CASING_KICK at (488.3398, 714.4089), intensity=1.00, dist=36
[11:25:58] [ENEMY] [Enemy4] Heard CASING_KICK at (488.3398, 714.4089), intensity=0.03, dist=299
[11:25:58] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[11:25:58] [INFO] [LastChance] Threat detected: @Area2D@13892
[11:25:58] [INFO] [LastChance] Not in hard mode - effect disabled
[11:25:58] [INFO] [LastChance] Cannot trigger effect - conditions not met
[11:25:59] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) - pursuing to attack (dist=614)
[11:25:59] [INFO] [ReplayManager] Recording frame 180 (2,6s): player_valid=True, enemies=10
[11:25:59] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(502.0876, 684.0016), source=NEUTRAL (null), range=900, listeners=9
[11:25:59] [ENEMY] [Enemy1] Heard CASING_KICK at (502.0876, 684.0016), intensity=0.34, dist=85
[11:25:59] [ENEMY] [Enemy2] Heard CASING_KICK at (502.0876, 684.0016), intensity=1.00, dist=35
[11:25:59] [ENEMY] [Enemy4] Heard CASING_KICK at (502.0876, 684.0016), intensity=0.03, dist=283
[11:25:59] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[11:25:59] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[11:25:59] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:25:59] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[11:25:59] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[11:25:59] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[11:25:59] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[11:25:59] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[11:25:59] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[11:25:59] [INFO] [LastChance] Resetting all effects (scene change detected)
[11:25:59] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[11:25:59] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[11:25:59] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[11:25:59] [ENEMY] [Enemy1] Death animation component initialized
[11:25:59] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:25:59] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[11:25:59] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[11:25:59] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[11:25:59] [INFO] [EnemyGrenade] Initialized: 1 grenades
[11:25:59] [ENEMY] [Enemy2] Death animation component initialized
[11:25:59] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:25:59] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[11:25:59] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[11:25:59] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[11:25:59] [ENEMY] [Enemy3] Death animation component initialized
[11:25:59] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:25:59] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[11:25:59] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[11:25:59] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[11:25:59] [ENEMY] [Enemy4] Death animation component initialized
[11:25:59] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:25:59] [INFO] [BloodyFeet:Grenadier] Footprint scene loaded
[11:25:59] [INFO] [BloodyFeet:Grenadier] Found EnemyModel for facing direction
[11:25:59] [INFO] [BloodyFeet:Grenadier] BloodyFeetComponent ready on Grenadier
[11:25:59] [INFO] [EnemyGrenade] Grenade bag built (normal): [Flashbang, Flashbang, Flashbang, Offensive, Offensive, Offensive, Offensive, Offensive]
[11:25:59] [INFO] [EnemyGrenade] Grenadier initialized: 8 grenades in bag
[11:25:59] [ENEMY] [Grenadier] Death animation component initialized
[11:25:59] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:25:59] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[11:25:59] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[11:25:59] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[11:25:59] [ENEMY] [Enemy6] Death animation component initialized
[11:25:59] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:25:59] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[11:25:59] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[11:25:59] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[11:25:59] [ENEMY] [Enemy7] Death animation component initialized
[11:25:59] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:25:59] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[11:25:59] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[11:25:59] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[11:25:59] [ENEMY] [Enemy8] Death animation component initialized
[11:25:59] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:25:59] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[11:25:59] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[11:25:59] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[11:25:59] [ENEMY] [Enemy9] Death animation component initialized
[11:25:59] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:25:59] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[11:25:59] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[11:25:59] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[11:25:59] [ENEMY] [Enemy10] Death animation component initialized
[11:25:59] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:25:59] [INFO] [BloodyFeet:Player] Footprint scene loaded
[11:25:59] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[11:25:59] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[11:25:59] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: F-1 Grenade
[11:25:59] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[11:25:59] [INFO] [Player.Weapon] GameManager weapon selection: shotgun (Shotgun)
[11:25:59] [INFO] [Player.Weapon] Removed default MakarovPM
[11:25:59] [INFO] [Player.Weapon] Equipped Shotgun (ammo: 0/8)
[11:25:59] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[11:25:59] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[11:25:59] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[11:25:59] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[11:25:59] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[11:25:59] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[11:25:59] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[11:25:59] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[11:25:59] [INFO] [Player.Homing] No homing bullets selected in ActiveItemManager
[11:25:59] [INFO] [Player.InvisibilitySuit] No invisibility suit selected in ActiveItemManager
[11:25:59] [INFO] [Player.BreakerBullets] Breaker bullets active — bullets will detonate 60px before walls
[11:25:59] [INFO] [Player.BreakerBullets] Set IsBreakerBulletActive on weapon: Shotgun
[11:25:59] [INFO] [Player] Ready! Ammo: 0/8, Grenades: 1/3, Health: 2/4
[11:25:59] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[11:25:59] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[11:25:59] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[11:25:59] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[11:25:59] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[11:25:59] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[11:25:59] [INFO] [BuildingLevel] Child 'Grenadier': script=true, has_died_signal=true
[11:25:59] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[11:25:59] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[11:25:59] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[11:25:59] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[11:25:59] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[11:25:59] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[11:25:59] [INFO] [BuildingLevel] Setting up weapon: shotgun
[11:25:59] [INFO] [BuildingLevel] Shotgun already equipped by C# Player - skipping GDScript weapon swap
[11:25:59] [INFO] [ScoreManager] Level started with 10 enemies
[11:25:59] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[11:25:59] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[11:25:59] [INFO] [ReplayManager] Replay data cleared
[11:25:59] [INFO] [BuildingLevel] Previous replay data cleared
[11:25:59] [INFO] [ReplayManager] Detected player weapon: Shotgun
[11:25:59] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[11:25:59] [INFO] [ReplayManager] Level: BuildingLevel
[11:25:59] [INFO] [ReplayManager] Player: Player (valid: True)
[11:25:59] [INFO] [ReplayManager] Enemies count: 10
[11:25:59] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/shotgun_topdown.png
[11:25:59] [INFO] [ReplayManager]   Enemy 0: Enemy1
[11:25:59] [INFO] [ReplayManager]   Enemy 1: Enemy2
[11:25:59] [INFO] [ReplayManager]   Enemy 2: Enemy3
[11:25:59] [INFO] [ReplayManager]   Enemy 3: Enemy4
[11:25:59] [INFO] [ReplayManager]   Enemy 4: Grenadier
[11:25:59] [INFO] [ReplayManager]   Enemy 5: Enemy6
[11:25:59] [INFO] [ReplayManager]   Enemy 6: Enemy7
[11:25:59] [INFO] [ReplayManager]   Enemy 7: Enemy8
[11:25:59] [INFO] [ReplayManager]   Enemy 8: Enemy9
[11:25:59] [INFO] [ReplayManager]   Enemy 9: Enemy10
[11:25:59] [INFO] [BuildingLevel] Replay recording started successfully
[11:25:59] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[11:25:59] [INFO] [CinemaEffects] Found player node: Player
[11:25:59] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[11:25:59] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[11:25:59] [ENEMY] [Enemy1] Registered as sound listener
[11:25:59] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 2, behavior: GUARD
[11:25:59] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[11:25:59] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[11:25:59] [ENEMY] [Enemy2] Registered as sound listener
[11:25:59] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 2, behavior: GUARD
[11:25:59] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[11:25:59] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[11:25:59] [ENEMY] [Enemy3] Registered as sound listener
[11:25:59] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 4, behavior: GUARD
[11:25:59] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[11:25:59] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[11:25:59] [ENEMY] [Enemy4] Registered as sound listener
[11:25:59] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 4, behavior: GUARD
[11:25:59] [INFO] [BloodyFeet:Grenadier] Blood detector created and attached to Grenadier
[11:25:59] [INFO] [SoundPropagation] Registered listener: Grenadier (total: 14)
[11:25:59] [ENEMY] [Grenadier] Registered as sound listener
[11:25:59] [ENEMY] [Grenadier] Spawned at (1700, 350), hp: 2, behavior: GUARD
[11:25:59] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[11:25:59] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[11:25:59] [ENEMY] [Enemy6] Registered as sound listener
[11:25:59] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 3, behavior: GUARD
[11:25:59] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[11:25:59] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[11:25:59] [ENEMY] [Enemy7] Registered as sound listener
[11:25:59] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 3, behavior: PATROL
[11:25:59] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[11:25:59] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[11:25:59] [ENEMY] [Enemy8] Registered as sound listener
[11:25:59] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 2, behavior: GUARD
[11:25:59] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[11:25:59] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[11:25:59] [ENEMY] [Enemy9] Registered as sound listener
[11:25:59] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 4, behavior: GUARD
[11:25:59] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[11:25:59] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[11:25:59] [ENEMY] [Enemy10] Registered as sound listener
[11:25:59] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 2, behavior: PATROL
[11:25:59] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[11:25:59] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[11:25:59] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[11:25:59] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[11:25:59] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=236.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[11:25:59] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[11:25:59] [ENEMY] [Grenadier] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=180.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[11:25:59] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=337.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[11:25:59] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[11:25:59] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[11:25:59] [INFO] [Player] Detecting weapon pose (frame 3)...
[11:25:59] [INFO] [Player] Detected weapon: Shotgun (Shotgun pose)
[11:25:59] [INFO] [Player] Applied Shotgun arm pose: Left=(21, 6), Right=(-1, 6)
[11:25:59] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[11:25:59] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[11:25:59] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[11:25:59] [INFO] [LastChance] Found player: Player
[11:25:59] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[11:25:59] [INFO] [LastChance] Connected to player Damaged signal (C#)
[11:25:59] [INFO] [LastChance] Connected to player Died signal (C#)
[11:25:59] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[11:25:59] [INFO] [BloodDecal] Blood puddle created at (314.0011, 888.0745) (added to group)
[11:25:59] [INFO] [BloodDecal] Blood puddle created at (331.1363, 958.3188) (added to group)
[11:25:59] [INFO] [BloodDecal] Blood puddle created at (291.2988, 886.9987) (added to group)
[11:25:59] [INFO] [BloodDecal] Blood puddle created at (324.8152, 886.7921) (added to group)
[11:25:59] [INFO] [BloodDecal] Blood puddle created at (364.1551, 909.96) (added to group)
[11:25:59] [INFO] [BloodDecal] Blood puddle created at (301.6354, 939.4995) (added to group)
[11:25:59] [INFO] [BloodDecal] Blood puddle created at (335.5175, 965.458) (added to group)
[11:25:59] [INFO] [BloodDecal] Blood puddle created at (352.5083, 1012.184) (added to group)
[11:25:59] [INFO] [BloodDecal] Blood puddle created at (450.5439, 1058.971) (added to group)
[11:25:59] [INFO] [BloodDecal] Blood puddle created at (444.1168, 927.9848) (added to group)
[11:26:00] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[11:26:00] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[11:26:00] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[11:26:00] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[11:26:00] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,924), corner_timer=0.30
[11:26:00] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,924), corner_timer=0.30
[11:26:01] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(449,819), corner_timer=-0.02
[11:26:01] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[11:26:01] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(449,819), corner_timer=-0.02
[11:26:01] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[11:26:01] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(449,814), corner_timer=0.30
[11:26:01] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(449,814), corner_timer=0.30
[11:26:01] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[11:26:01] [ENEMY] [Enemy1] Player ammo empty: false -> true
[11:26:01] [ENEMY] [Enemy2] Player ammo empty: false -> true
[11:26:01] [ENEMY] [Enemy3] Player ammo empty: false -> true
[11:26:01] [ENEMY] [Enemy4] Player ammo empty: false -> true
[11:26:01] [ENEMY] [Grenadier] Player ammo empty: false -> true
[11:26:01] [ENEMY] [Enemy6] Player ammo empty: false -> true
[11:26:01] [ENEMY] [Enemy7] Player ammo empty: false -> true
[11:26:01] [ENEMY] [Enemy8] Player ammo empty: false -> true
[11:26:01] [ENEMY] [Enemy9] Player ammo empty: false -> true
[11:26:01] [ENEMY] [Enemy10] Player ammo empty: false -> true
[11:26:01] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(427.1885, 770.6), source=PLAYER (Player), range=600, listeners=19
[11:26:01] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[11:26:01] [ENEMY] [Enemy1] Heard player EMPTY_CLICK at (427.1885, 770.6), intensity=0.01, distance=439
[11:26:01] [ENEMY] [Enemy1] Vulnerability sound triggered pursuit - transitioning from IDLE to PURSUING
[11:26:01] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (427.1885, 770.6), intensity=0.05, distance=222
[11:26:01] [ENEMY] [Enemy2] Vulnerability sound triggered pursuit - transitioning from IDLE to PURSUING
[11:26:01] [ENEMY] [Enemy3] Heard player EMPTY_CLICK at (427.1885, 770.6), intensity=0.03, distance=274
[11:26:01] [ENEMY] [Enemy3] Vulnerability sound triggered pursuit - transitioning from IDLE to PURSUING
[11:26:01] [ENEMY] [Enemy4] Heard player EMPTY_CLICK at (427.1885, 770.6), intensity=0.02, distance=395
[11:26:01] [ENEMY] [Enemy4] Vulnerability sound triggered pursuit - transitioning from IDLE to PURSUING
[11:26:01] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=6, self=0, below_threshold=0
[11:26:01] [INFO] [Shotgun.FIX#212] Firing 16 pellets with 15° spread at pos=(427.18848, 770.60004)
[11:26:01] [INFO] [Shotgun.FIX#212] Normal pellet 1/16: extraOffset=-4,4, distance=47,6px, pos=(472.6468, 756.52)
[11:26:01] [INFO] [Shotgun.FIX#212] Normal pellet 2/16: extraOffset=-2,2, distance=49,8px, pos=(474.77072, 755.8197)
[11:26:01] [INFO] [Shotgun.FIX#212] Normal pellet 3/16: extraOffset=-7,8, distance=44,2px, pos=(469.6691, 758.54083)
[11:26:01] [INFO] [Shotgun.FIX#212] Normal pellet 4/16: extraOffset=4,1, distance=56,1px, pos=(481.78085, 757.61584)
[11:26:01] [INFO] [Shotgun.FIX#212] Normal pellet 5/16: extraOffset=-0,5, distance=51,5px, pos=(477.15082, 758.09033)
[11:26:01] [INFO] [Shotgun.FIX#212] Normal pellet 6/16: extraOffset=5,8, distance=57,8px, pos=(483.50827, 757.6202)
[11:26:01] [INFO] [Shotgun.FIX#212] Normal pellet 7/16: extraOffset=-13,4, distance=38,6px, pos=(465.0804, 763.0575)
[11:26:01] [INFO] [Shotgun.FIX#212] Normal pellet 8/16: extraOffset=3,7, distance=55,7px, pos=(482.18634, 761.8746)
[11:26:01] [INFO] [Shotgun.FIX#212] Normal pellet 9/16: extraOffset=2,2, distance=54,2px, pos=(480.5754, 761.1211)
[11:26:01] [INFO] [Shotgun.FIX#212] Normal pellet 10/16: extraOffset=-1,6, distance=50,4px, pos=(477.1102, 763.90106)
[11:26:01] [INFO] [Shotgun.FIX#212] Normal pellet 11/16: extraOffset=14,8, distance=66,8px, pos=(493.2026, 760.29333)
[11:26:01] [INFO] [Shotgun.FIX#212] Normal pellet 12/16: extraOffset=-0,1, distance=51,9px, pos=(478.7785, 764.9625)
[11:26:01] [INFO] [Shotgun.FIX#212] Normal pellet 13/16: extraOffset=5,6, distance=57,6px, pos=(484.6305, 765.9181)
[11:26:01] [INFO] [Shotgun.FIX#212] Normal pellet 14/16: extraOffset=3,2, distance=55,2px, pos=(482.0758, 765.18726)
[11:26:01] [INFO] [Shotgun.FIX#212] Normal pellet 15/16: extraOffset=-12,2, distance=39,8px, pos=(466.84665, 767.8465)
[11:26:01] [INFO] [Shotgun.FIX#212] Normal pellet 16/16: extraOffset=1,7, distance=53,7px, pos=(480.85605, 767.87506)
[11:26:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(427.1885, 770.6), source=PLAYER (Shotgun), range=1469, listeners=10
[11:26:01] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[11:26:01] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=73.2°, current=168.8°, player=(427,770), corner_timer=0.00
[11:26:01] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=439), can_see=false
[11:26:01] [ENEMY] [Enemy1] Pursuing vulnerability sound at (427.1885, 770.6), distance=439
[11:26:01] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=83.0°, current=-101.3°, player=(427,770), corner_timer=0.00
[11:26:01] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=222), can_see=false
[11:26:01] [INFO] [EnemyGrenade] Unsafe throw distance (222 < 275 safe distance, blast=225, margin=50) - skipping throw
[11:26:01] [ENEMY] [Enemy2] Pursuing vulnerability sound at (427.1885, 770.6), distance=222
[11:26:01] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=175.7°, current=-123.8°, player=(427,770), corner_timer=0.00
[11:26:01] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=274), can_see=false
[11:26:01] [ENEMY] [Enemy3] Pursuing vulnerability sound at (427.1885, 770.6), distance=274
[11:26:01] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=-160.9°, current=-67.5°, player=(427,770), corner_timer=0.00
[11:26:01] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=395), can_see=false
[11:26:01] [ENEMY] [Enemy4] Pursuing vulnerability sound at (427.1885, 770.6), distance=395
[11:26:01] [ENEMY] [Grenadier] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1341), can_see=false
[11:26:01] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1556), can_see=false
[11:26:01] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1278), can_see=false
[11:26:01] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1622), can_see=false
[11:26:01] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1845), can_see=false
[11:26:01] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1119), can_see=false
[11:26:01] [INFO] [EnemyGrenade] Unsafe throw distance (218 < 275 safe distance, blast=225, margin=50) - skipping throw
[11:26:01] [INFO] [EnemyGrenade] Unsafe throw distance (214 < 275 safe distance, blast=225, margin=50) - skipping throw
[11:26:01] [INFO] [ImpactEffects] Spawning explosion visual effect at (616.7064, 741.0109) (radius=15) - using shadow-based wall occlusion
[11:26:01] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(616.7064, 741.0109), source=PLAYER (@Area2D@14202), range=500, listeners=10
[11:26:01] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=6, self=0, below_threshold=0
[11:26:01] [INFO] [ImpactEffects] Spawning explosion visual effect at (609.2173, 755.7632) (radius=15) - using shadow-based wall occlusion
[11:26:01] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(609.2173, 755.7632), source=PLAYER (@Area2D@14204), range=500, listeners=10
[11:26:01] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=6, self=0, below_threshold=0
[11:26:01] [INFO] [ImpactEffects] Spawning explosion visual effect at (606.4724, 752.9197) (radius=15) - using shadow-based wall occlusion
[11:26:01] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(606.4724, 752.9197), source=PLAYER (@Area2D@14205), range=500, listeners=10
[11:26:01] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=6, self=0, below_threshold=0
[11:26:01] [INFO] [EnemyGrenade] Unsafe throw distance (210 < 275 safe distance, blast=225, margin=50) - skipping throw
[11:26:01] [INFO] [ImpactEffects] Spawning explosion visual effect at (646.7943, 735.7593) (radius=15) - using shadow-based wall occlusion
[11:26:01] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(646.7943, 735.7593), source=PLAYER (@Area2D@14199), range=500, listeners=10
[11:26:01] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=6, self=0, below_threshold=0
[11:26:01] [INFO] [ImpactEffects] Spawning explosion visual effect at (642.2963, 741.7348) (radius=15) - using shadow-based wall occlusion
[11:26:01] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(642.2963, 741.7348), source=PLAYER (@Area2D@14201), range=500, listeners=10
[11:26:01] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=6, self=0, below_threshold=0
[11:26:01] [INFO] [ImpactEffects] Spawning explosion visual effect at (644.4589, 746.8578) (radius=15) - using shadow-based wall occlusion
[11:26:01] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(644.4589, 746.8578), source=PLAYER (@Area2D@14203), range=500, listeners=10
[11:26:01] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=7, self=0, below_threshold=0
[11:26:01] [INFO] [ImpactEffects] Spawning explosion visual effect at (633.113, 756.3023) (radius=15) - using shadow-based wall occlusion
[11:26:01] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(633.113, 756.3023), source=PLAYER (@Area2D@14206), range=500, listeners=10
[11:26:01] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=7, self=0, below_threshold=0
[11:26:01] [INFO] [ImpactEffects] Spawning explosion visual effect at (647.3082, 759.4234) (radius=15) - using shadow-based wall occlusion
[11:26:01] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(647.3082, 759.4234), source=PLAYER (@Area2D@14207), range=500, listeners=10
[11:26:01] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=7, self=0, below_threshold=0
[11:26:01] [INFO] [EnemyGrenade] Unsafe throw distance (206 < 275 safe distance, blast=225, margin=50) - skipping throw
[11:26:01] [ENEMY] [Enemy3] Hit: dmg=1, hp=4/4->3/4
[11:26:01] [INFO] [ImpactEffects] spawn_blood_effect called at (673.4091, 752.0078), dir=(0.966887, 0.255205), lethal=false
[11:26:01] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[11:26:01] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[11:26:01] [INFO] [ImpactEffects] Blood effect spawned at (673.4091, 752.0078) (scale=1)
[11:26:01] [ENEMY] [Enemy3] Hit: dmg=1, hp=3/4->2/4
[11:26:01] [INFO] [ImpactEffects] spawn_blood_effect called at (673.4091, 752.0078), dir=(0.952669, 0.30401), lethal=false
[11:26:01] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[11:26:01] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[11:26:01] [INFO] [ImpactEffects] Blood effect spawned at (673.4091, 752.0078) (scale=1)
[11:26:01] [ENEMY] [Enemy3] Hit: dmg=1, hp=2/4->1/4
[11:26:01] [INFO] [ImpactEffects] spawn_blood_effect called at (673.4091, 752.0078), dir=(0.908187, -0.418565), lethal=false
[11:26:01] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[11:26:01] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[11:26:01] [INFO] [ImpactEffects] Blood effect spawned at (673.4091, 752.0078) (scale=1)
[11:26:01] [ENEMY] [Enemy3] Hit: dmg=1, hp=1/4->0/4
[11:26:01] [INFO] [ImpactEffects] spawn_blood_effect called at (673.4091, 752.0078), dir=(0.9558, -0.294018), lethal=true
[11:26:01] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[11:26:01] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[11:26:01] [INFO] [ImpactEffects] Blood effect spawned at (673.4091, 752.0078) (scale=1.5)
[11:26:01] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[11:26:01] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[11:26:01] [ENEMY] [Enemy4] [AllyDeath] Witnessed at (673.4091, 752.0078), entering SEARCHING
[11:26:01] [ENEMY] [Enemy4] SEARCHING started: center=(673.4091, 752.0078), radius=100, waypoints=5
[11:26:01] [ENEMY] [Enemy3] [AllyDeath] Notified 2 enemies
[11:26:01] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[11:26:01] [INFO] [DeathAnim] Started - Angle: -17.1 deg, Index: 10
[11:26:01] [ENEMY] [Enemy3] Death animation started with hit direction: (0.9558, -0.294018)
[11:26:01] [INFO] [EnemyGrenade] Unsafe throw distance (202 < 275 safe distance, blast=225, margin=50) - skipping throw
[11:26:01] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[11:26:01] [INFO] [EnemyGrenade] Unsafe throw distance (198 < 275 safe distance, blast=225, margin=50) - skipping throw
[11:26:01] [INFO] [EnemyGrenade] Unsafe throw distance (195 < 275 safe distance, blast=225, margin=50) - skipping throw
[11:26:01] [INFO] [EnemyGrenade] Unsafe throw distance (191 < 275 safe distance, blast=225, margin=50) - skipping throw
[11:26:01] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=NeedsPumpUp, ReloadState=NotReloading
[11:26:01] [INFO] [Shotgun.FIX#445] dragStartPos=(676, 684), aimDir=(0,97, -0,24)
[11:26:01] [INFO] [EnemyGrenade] Unsafe throw distance (187 < 275 safe distance, blast=225, margin=50) - skipping throw
[11:26:01] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(391,753), corner_timer=-0.02
[11:26:01] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[11:26:01] [INFO] [ImpactEffects] Spawning explosion visual effect at (870.6589, 633.2418) (radius=15) - using shadow-based wall occlusion
[11:26:01] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(870.6589, 633.2418), source=PLAYER (ShotgunPellet), range=500, listeners=9
[11:26:01] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=7, self=0, below_threshold=0
[11:26:01] [INFO] [ImpactEffects] Spawning explosion visual effect at (872.6821, 632.2174) (radius=15) - using shadow-based wall occlusion
[11:26:01] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(872.6821, 632.2174), source=PLAYER (@Area2D@14193), range=500, listeners=9
[11:26:01] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=7, self=0, below_threshold=0
[11:26:01] [INFO] [ImpactEffects] Spawning explosion visual effect at (870.498, 644.7554) (radius=15) - using shadow-based wall occlusion
[11:26:01] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(870.498, 644.7554), source=PLAYER (@Area2D@14194), range=500, listeners=9
[11:26:01] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=7, self=0, below_threshold=0
[11:26:01] [INFO] [ImpactEffects] Spawning explosion visual effect at (887.1403, 661.2053) (radius=15) - using shadow-based wall occlusion
[11:26:01] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(887.1403, 661.2053), source=PLAYER (@Area2D@14195), range=500, listeners=9
[11:26:01] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=7, self=0, below_threshold=0
[11:26:01] [INFO] [ImpactEffects] Spawning explosion visual effect at (881.3403, 656.8879) (radius=15) - using shadow-based wall occlusion
[11:26:01] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(881.3403, 656.8879), source=PLAYER (@Area2D@14196), range=500, listeners=9
[11:26:01] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=7, self=0, below_threshold=0
[11:26:01] [INFO] [ImpactEffects] Spawning explosion visual effect at (889.5313, 664.0453) (radius=15) - using shadow-based wall occlusion
[11:26:01] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(889.5313, 664.0453), source=PLAYER (@Area2D@14197), range=500, listeners=9
[11:26:01] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=7, self=0, below_threshold=0
[11:26:01] [INFO] [ImpactEffects] Spawning explosion visual effect at (873.7297, 681.7141) (radius=15) - using shadow-based wall occlusion
[11:26:01] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(873.7297, 681.7141), source=PLAYER (@Area2D@14198), range=500, listeners=9
[11:26:01] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=7, self=0, below_threshold=0
[11:26:01] [INFO] [ImpactEffects] Spawning explosion visual effect at (890.8257, 688.2805) (radius=15) - using shadow-based wall occlusion
[11:26:01] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(890.8257, 688.2805), source=PLAYER (@Area2D@14200), range=500, listeners=9
[11:26:01] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=7, self=0, below_threshold=0
[11:26:01] [ENEMY] [Enemy4] Hit: dmg=1, hp=4/4->3/4
[11:26:01] [INFO] [ImpactEffects] spawn_blood_effect called at (802.1659, 850.2994), dir=(0.912349, 0.409413), lethal=false
[11:26:01] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[11:26:01] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[11:26:01] [INFO] [ImpactEffects] Blood effect spawned at (802.1659, 850.2994) (scale=1)
[11:26:01] [INFO] [EnemyGrenade] Unsafe throw distance (184 < 275 safe distance, blast=225, margin=50) - skipping throw
[11:26:01] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(387,752), corner_timer=0.30
[11:26:01] [ENEMY] [Enemy4] Hit: dmg=1, hp=3/4->2/4
[11:26:01] [INFO] [ImpactEffects] spawn_blood_effect called at (800.7703, 845.3594), dir=(0.931226, 0.364443), lethal=false
[11:26:01] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[11:26:01] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[11:26:01] [INFO] [ImpactEffects] Blood effect spawned at (800.7703, 845.3594) (scale=1)
[11:26:01] [INFO] [EnemyGrenade] Unsafe throw distance (180 < 275 safe distance, blast=225, margin=50) - skipping throw
[11:26:01] [INFO] [EnemyGrenade] Unsafe throw distance (177 < 275 safe distance, blast=225, margin=50) - skipping throw
[11:26:01] [INFO] [EnemyGrenade] Unsafe throw distance (174 < 275 safe distance, blast=225, margin=50) - skipping throw
[11:26:01] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[11:26:01] [INFO] [Shotgun.FIX#445v7] Mid-drag pump UP - shell ejected, continue dragging DOWN to chamber
[11:26:01] [INFO] [EnemyGrenade] Unsafe throw distance (171 < 275 safe distance, blast=225, margin=50) - skipping throw
[11:26:01] [INFO] [EnemyGrenade] Unsafe throw distance (168 < 275 safe distance, blast=225, margin=50) - skipping throw
[11:26:01] [INFO] [EnemyGrenade] Unsafe throw distance (165 < 275 safe distance, blast=225, margin=50) - skipping throw
[11:26:01] [INFO] [EnemyGrenade] Unsafe throw distance (162 < 275 safe distance, blast=225, margin=50) - skipping throw
[11:26:01] [INFO] [EnemyGrenade] Unsafe throw distance (159 < 275 safe distance, blast=225, margin=50) - skipping throw
[11:26:01] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=SEARCHING, target=-173.6°, current=-173.6°, player=(355,762), corner_timer=0.00
[11:26:01] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) - pursuing to attack (dist=438)
[11:26:01] [ENEMY] [Enemy4] State: SEARCHING -> PURSUING
[11:26:01] [INFO] [EnemyGrenade] Unsafe throw distance (157 < 275 safe distance, blast=225, margin=50) - skipping throw
[11:26:01] [INFO] [EnemyGrenade] Unsafe throw distance (154 < 275 safe distance, blast=225, margin=50) - skipping throw
[11:26:01] [INFO] [EnemyGrenade] Unsafe throw distance (152 < 275 safe distance, blast=225, margin=50) - skipping throw
[11:26:01] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[11:26:01] [INFO] [Shotgun.FIX#445v7] Mid-drag pump DOWN - chambered, ready to fire
[11:26:01] [INFO] [BloodDecal] Blood puddle created at (729.2202, 794.7282) (added to group)
[11:26:01] [INFO] [BloodDecal] Blood puddle created at (728.0771, 740.9413) (added to group)
[11:26:01] [INFO] [EnemyGrenade] Unsafe throw distance (151 < 275 safe distance, blast=225, margin=50) - skipping throw
[11:26:01] [ENEMY] [Enemy4] ROT_CHANGE: P1:visible -> P2:combat_state, state=PURSUING, target=-177.5°, current=103.3°, player=(340,774), corner_timer=0.00
[11:26:01] [INFO] [EnemyGrenade] Unsafe throw distance (152 < 275 safe distance, blast=225, margin=50) - skipping throw
[11:26:01] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-178.4°, current=135.2°, player=(336,778), corner_timer=0.00
[11:26:01] [INFO] [EnemyGrenade] Unsafe throw distance (152 < 275 safe distance, blast=225, margin=50) - skipping throw
[11:26:01] [INFO] [EnemyGrenade] Unsafe throw distance (153 < 275 safe distance, blast=225, margin=50) - skipping throw
[11:26:01] [ENEMY] [Enemy4] ROT_CHANGE: P1:visible -> P2:combat_state, state=PURSUING, target=-179.7°, current=81.6°, player=(328,786), corner_timer=0.00
[11:26:01] [INFO] [EnemyGrenade] Unsafe throw distance (153 < 275 safe distance, blast=225, margin=50) - skipping throw
[11:26:01] [INFO] [EnemyGrenade] Unsafe throw distance (153 < 275 safe distance, blast=225, margin=50) - skipping throw
[11:26:01] [INFO] [EnemyGrenade] Unsafe throw distance (153 < 275 safe distance, blast=225, margin=50) - skipping throw
[11:26:01] [INFO] [BloodyFeet:Enemy4] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[11:26:01] [INFO] [EnemyGrenade] Unsafe throw distance (153 < 275 safe distance, blast=225, margin=50) - skipping throw
[11:26:01] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(312,802), corner_timer=-0.02
[11:26:01] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[11:26:01] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[11:26:01] [INFO] [BloodDecal] Blood puddle created at (733.399, 769.1475) (added to group)
[11:26:01] [INFO] [BloodDecal] Blood puddle created at (790.6198, 790.1112) (added to group)
[11:26:01] [INFO] [BloodDecal] Blood puddle created at (775.8137, 770.2529) (added to group)
[11:26:01] [INFO] [BloodDecal] Blood puddle created at (772.0953, 718.4966) (added to group)
[11:26:01] [INFO] [BloodDecal] Blood puddle created at (760.3441, 764.7028) (added to group)
[11:26:01] [INFO] [BloodDecal] Blood puddle created at (743.3306, 727.7723) (added to group)
[11:26:01] [INFO] [BloodDecal] Blood puddle created at (729.5137, 759.2061) (added to group)
[11:26:01] [INFO] [BloodDecal] Blood puddle created at (763.5604, 793.9935) (added to group)
[11:26:01] [INFO] [BloodDecal] Blood puddle created at (784.254, 758.7497) (added to group)
[11:26:01] [INFO] [BloodDecal] Blood puddle created at (770.0841, 745.9133) (added to group)
[11:26:01] [INFO] [BloodDecal] Blood puddle created at (887.5233, 923.4445) (added to group)
[11:26:01] [INFO] [BloodDecal] Blood puddle created at (867.7492, 914.4524) (added to group)
[11:26:01] [INFO] [BloodDecal] Blood puddle created at (850.8545, 922.7794) (added to group)
[11:26:01] [INFO] [BloodDecal] Blood puddle created at (834.9281, 882.7529) (added to group)
[11:26:02] [INFO] [EnemyGrenade] Unsafe throw distance (152 < 275 safe distance, blast=225, margin=50) - skipping throw
[11:26:02] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.6°, player=(308,805), corner_timer=0.30
[11:26:02] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=365), can_see=false
[11:26:02] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=264), can_see=false
[11:26:02] [INFO] [EnemyGrenade] Unsafe throw distance (147 < 275 safe distance, blast=225, margin=50) - skipping throw
[11:26:02] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=441), can_see=false
[11:26:02] [ENEMY] [Grenadier] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1469), can_see=false
[11:26:02] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1684), can_see=false
[11:26:02] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1396), can_see=false
[11:26:02] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1719), can_see=false
[11:26:02] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1942), can_see=false
[11:26:02] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1169), can_see=false
[11:26:02] [INFO] [EnemyGrenade] Unsafe throw distance (143 < 275 safe distance, blast=225, margin=50) - skipping throw
[11:26:02] [INFO] [EnemyGrenade] Unsafe throw distance (147 < 275 safe distance, blast=225, margin=50) - skipping throw
[11:26:02] [INFO] [EnemyGrenade] Unsafe throw distance (145 < 275 safe distance, blast=225, margin=50) - skipping throw
[11:26:02] [INFO] [EnemyGrenade] Unsafe throw distance (140 < 275 safe distance, blast=225, margin=50) - skipping throw
[11:26:02] [INFO] [EnemyGrenade] Unsafe throw distance (135 < 275 safe distance, blast=225, margin=50) - skipping throw
[11:26:02] [INFO] [EnemyGrenade] Unsafe throw distance (131 < 275 safe distance, blast=225, margin=50) - skipping throw
[11:26:02] [ENEMY] [Enemy3] Ragdoll activated
[11:26:02] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[11:26:02] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[11:26:02] [INFO] [BloodDecal] Blood puddle created at (778.4951, 786.6266) (added to group)
[11:26:02] [INFO] [BloodDecal] Blood puddle created at (854.3016, 825.3226) (added to group)
[11:26:02] [INFO] [BloodDecal] Blood puddle created at (786.5648, 796.7012) (added to group)
[11:26:02] [INFO] [BloodDecal] Blood puddle created at (750.176, 763.7629) (added to group)
[11:26:02] [INFO] [BloodDecal] Blood puddle created at (764.2399, 715.7905) (added to group)
[11:26:02] [INFO] [BloodDecal] Blood puddle created at (732.8401, 758.6535) (added to group)
[11:26:02] [INFO] [BloodDecal] Blood puddle created at (778.0018, 795.3629) (added to group)
[11:26:02] [INFO] [BloodDecal] Blood puddle created at (755.8834, 777.6472) (added to group)
[11:26:02] [INFO] [BloodDecal] Blood puddle created at (892.8029, 953.9946) (added to group)
[11:26:02] [INFO] [BloodDecal] Blood puddle created at (887.3641, 971.6844) (added to group)
[11:26:02] [INFO] [BloodDecal] Blood puddle created at (887.7494, 939.6628) (added to group)
[11:26:02] [INFO] [BloodDecal] Blood puddle created at (885.9561, 878.6833) (added to group)
[11:26:02] [INFO] [BloodDecal] Blood puddle created at (893.7112, 898.3477) (added to group)
[11:26:02] [INFO] [EnemyGrenade] Unsafe throw distance (129 < 275 safe distance, blast=225, margin=50) - skipping throw
[11:26:02] [INFO] [EnemyGrenade] Unsafe throw distance (126 < 275 safe distance, blast=225, margin=50) - skipping throw
[11:26:02] [INFO] [EnemyGrenade] Unsafe throw distance (123 < 275 safe distance, blast=225, margin=50) - skipping throw
[11:26:02] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=150.0°, current=123.8°, player=(266,848), corner_timer=0.00
[11:26:02] [ENEMY] [Enemy2] Player empty ammo - priority attack triggered
[11:26:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(524.0659, 699.7018), source=ENEMY (Enemy2), range=1469, listeners=9
[11:26:02] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=4
[11:26:02] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[11:26:02] [INFO] [LastChance] Threat detected: Bullet
[11:26:02] [INFO] [LastChance] Not in hard mode - effect disabled
[11:26:02] [INFO] [LastChance] Cannot trigger effect - conditions not met
[11:26:02] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[11:26:02] [INFO] [BloodDecal] Blood puddle created at (852.288, 808.7526) (added to group)
[11:26:02] [INFO] [BloodDecal] Blood puddle created at (876.2347, 816.3062) (added to group)
[11:26:02] [INFO] [BloodDecal] Blood puddle created at (852.254, 864.0787) (added to group)
[11:26:02] [INFO] [BloodDecal] Blood puddle created at (854.0828, 711.9724) (added to group)
[11:26:02] [INFO] [BloodDecal] Blood puddle created at (787.0763, 748.9539) (added to group)
[11:26:02] [INFO] [BloodDecal] Blood puddle created at (783.2868, 763.7463) (added to group)
[11:26:02] [INFO] [BloodDecal] Blood puddle created at (783.4564, 794.2145) (added to group)
[11:26:02] [INFO] [BloodDecal] Blood puddle created at (813.3804, 812.9871) (added to group)
[11:26:02] [INFO] [BloodDecal] Blood puddle created at (784.6802, 738.1498) (added to group)
[11:26:02] [INFO] [BloodDecal] Blood puddle created at (757.5073, 797.4709) (added to group)
[11:26:02] [INFO] [BloodDecal] Blood puddle created at (784.9941, 734.5836) (added to group)
[11:26:02] [INFO] [BloodDecal] Blood puddle created at (841.7795, 719.5972) (added to group)
[11:26:02] [INFO] [BloodDecal] Blood puddle created at (795.005, 737.9291) (added to group)
[11:26:02] [INFO] [BloodDecal] Blood puddle created at (891.9378, 935.0466) (added to group)
[11:26:02] [INFO] [BloodDecal] Blood puddle created at (891.9509, 906.6724) (added to group)
[11:26:02] [INFO] [BloodDecal] Blood puddle created at (866.0981, 953.226) (added to group)
[11:26:02] [INFO] [BloodyFeet:Player] Blood ran out - no more footprints
[11:26:02] [INFO] [Player] Spawning blood effect at (238.94221, 875.9917), dir=(1, 0), lethal=False (C#)
[11:26:02] [INFO] [ImpactEffects] spawn_blood_effect called at (238.9422, 875.9917), dir=(1, 0), lethal=false
[11:26:02] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[11:26:02] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[11:26:02] [INFO] [ImpactEffects] Blood effect spawned at (238.9422, 875.9917) (scale=1)
[11:26:02] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[11:26:02] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[11:26:02] [INFO] [PenultimateHit] Starting penultimate hit effect:
[11:26:02] [INFO] [PenultimateHit]   - Time scale: 0.10
[11:26:02] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[11:26:02] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[11:26:02] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[11:26:02] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[11:26:02] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[11:26:02] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[11:26:02] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[11:26:02] [ENEMY] [Enemy2] Player empty ammo - priority attack triggered
[11:26:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(522.6659, 720.1045), source=ENEMY (Enemy2), range=1469, listeners=9
[11:26:02] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=4
[11:26:02] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(503.6754, 694.7253), source=NEUTRAL (null), range=900, listeners=9
[11:26:02] [ENEMY] [Enemy1] Heard CASING_KICK at (503.6754, 694.7253), intensity=0.11, dist=149
[11:26:02] [ENEMY] [Enemy2] Heard CASING_KICK at (503.6754, 694.7253), intensity=1.00, dist=32
[11:26:02] [ENEMY] [Enemy4] Heard CASING_KICK at (503.6754, 694.7253), intensity=0.08, dist=178
[11:26:02] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[11:26:02] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(235,879), corner_timer=-0.02
[11:26:02] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[11:26:02] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(502.8409, 693.3482), source=NEUTRAL (null), range=900, listeners=9
[11:26:02] [ENEMY] [Enemy1] Heard CASING_KICK at (502.8409, 693.3482), intensity=0.12, dist=142
[11:26:02] [ENEMY] [Enemy2] Heard CASING_KICK at (502.8409, 693.3482), intensity=1.00, dist=34
[11:26:02] [ENEMY] [Enemy4] Heard CASING_KICK at (502.8409, 693.3482), intensity=0.08, dist=175
[11:26:02] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[11:26:02] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.8°, current=6.3°, player=(231,883), corner_timer=0.30
[11:26:02] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(501.9312, 691.869), source=NEUTRAL (null), range=900, listeners=9
[11:26:02] [ENEMY] [Enemy1] Heard CASING_KICK at (501.9312, 691.869), intensity=0.14, dist=135
[11:26:02] [ENEMY] [Enemy2] Heard CASING_KICK at (501.9312, 691.869), intensity=1.00, dist=36
[11:26:02] [ENEMY] [Enemy4] Heard CASING_KICK at (501.9312, 691.869), intensity=0.08, dist=172
[11:26:02] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[11:26:02] [INFO] [LastChance] Threat detected: @Area2D@14458
[11:26:02] [INFO] [LastChance] Not in hard mode - effect disabled
[11:26:02] [INFO] [LastChance] Cannot trigger effect - conditions not met
[11:26:02] [INFO] [BloodDecal] Blood puddle created at (875.0557, 848.279) (added to group)
[11:26:02] [INFO] [BloodDecal] Blood puddle created at (765.2835, 782.4951) (added to group)
[11:26:02] [INFO] [BloodDecal] Blood puddle created at (897.8803, 843.6659) (added to group)
[11:26:02] [INFO] [BloodDecal] Blood puddle created at (873.443, 854.7378) (added to group)
[11:26:02] [INFO] [ReplayManager] Recording frame 180 (2,9s): player_valid=True, enemies=10
[11:26:02] [ENEMY] [Enemy1] Pursuing vulnerability sound at (501.9312, 691.869), distance=125
[11:26:02] [ENEMY] [Enemy4] Pursuing vulnerability sound at (501.9312, 691.869), distance=158
[11:26:02] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=403), can_see=false
[11:26:02] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[11:26:02] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=441), can_see=false
[11:26:02] [ENEMY] [Grenadier] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1582), can_see=false
[11:26:02] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1791), can_see=false
[11:26:02] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1482), can_see=false
[11:26:02] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1772), can_see=false
[11:26:02] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1993), can_see=false
[11:26:02] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1178), can_see=false
[11:26:02] [INFO] [Shotgun.FIX#243] RMB released after 9 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[11:26:02] [INFO] [Shotgun.FIX#445v7] ProcessDragGesture - dragVector=(6,7, 98,8), length=99,0, ActionState=Ready
[11:26:02] [INFO] [Shotgun.FIX#445v7] Screen-based pump gesture: isDragUp=False, isDragDown=True
[11:26:02] [ENEMY] [Enemy2] Player empty ammo - priority attack triggered
[11:26:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(522.5967, 720.2789), source=ENEMY (Enemy2), range=1469, listeners=9
[11:26:02] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=4
[11:26:02] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(501.8491, 717.8182), source=NEUTRAL (null), range=900, listeners=9
[11:26:02] [ENEMY] [Enemy1] Heard CASING_KICK at (501.8491, 717.8182), intensity=0.12, dist=142
[11:26:02] [ENEMY] [Enemy2] Heard CASING_KICK at (501.8491, 717.8182), intensity=1.00, dist=21
[11:26:02] [ENEMY] [Enemy4] Heard CASING_KICK at (501.8491, 717.8182), intensity=0.13, dist=140
[11:26:02] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[11:26:02] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(501.9059, 718.3007), source=NEUTRAL (null), range=900, listeners=9
[11:26:02] [ENEMY] [Enemy1] Heard CASING_KICK at (501.9059, 718.3007), intensity=0.12, dist=142
[11:26:02] [ENEMY] [Enemy2] Heard CASING_KICK at (501.9059, 718.3007), intensity=1.00, dist=21
[11:26:02] [ENEMY] [Enemy4] Heard CASING_KICK at (501.9059, 718.3007), intensity=0.13, dist=140
[11:26:02] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[11:26:02] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(501.7941, 718.4351), source=NEUTRAL (null), range=900, listeners=9
[11:26:02] [ENEMY] [Enemy1] Heard CASING_KICK at (501.7941, 718.4351), intensity=0.12, dist=142
[11:26:02] [ENEMY] [Enemy2] Heard CASING_KICK at (501.7941, 718.4351), intensity=1.00, dist=21
[11:26:02] [ENEMY] [Enemy4] Heard CASING_KICK at (501.7941, 718.4351), intensity=0.13, dist=139
[11:26:02] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[11:26:02] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(501.6151, 718.5103), source=NEUTRAL (null), range=900, listeners=9
[11:26:02] [ENEMY] [Enemy1] Heard CASING_KICK at (501.6151, 718.5103), intensity=0.13, dist=141
[11:26:02] [ENEMY] [Enemy2] Heard CASING_KICK at (501.6151, 718.5103), intensity=1.00, dist=22
[11:26:02] [ENEMY] [Enemy4] Heard CASING_KICK at (501.6151, 718.5103), intensity=0.13, dist=139
[11:26:02] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[11:26:02] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(501.373, 718.5792), source=NEUTRAL (null), range=900, listeners=9
[11:26:02] [ENEMY] [Enemy1] Heard CASING_KICK at (501.373, 718.5792), intensity=0.13, dist=141
[11:26:02] [ENEMY] [Enemy2] Heard CASING_KICK at (501.373, 718.5792), intensity=1.00, dist=22
[11:26:02] [ENEMY] [Enemy4] Heard CASING_KICK at (501.373, 718.5792), intensity=0.13, dist=138
[11:26:02] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[11:26:02] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(501.0826, 718.6595), source=NEUTRAL (null), range=900, listeners=9
[11:26:02] [ENEMY] [Enemy1] Heard CASING_KICK at (501.0826, 718.6595), intensity=0.13, dist=140
[11:26:02] [ENEMY] [Enemy2] Heard CASING_KICK at (501.0826, 718.6595), intensity=1.00, dist=22
[11:26:02] [ENEMY] [Enemy4] Heard CASING_KICK at (501.0826, 718.6595), intensity=0.13, dist=138
[11:26:02] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[11:26:02] [INFO] [Player] Spawning blood effect at (209.01573, 905.9183), dir=(1, 0), lethal=True (C#)
[11:26:02] [INFO] [ImpactEffects] spawn_blood_effect called at (209.0157, 905.9183), dir=(1, 0), lethal=true
[11:26:02] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[11:26:02] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[11:26:02] [INFO] [ImpactEffects] Blood effect spawned at (209.0157, 905.9183) (scale=1.5)
[11:26:02] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[11:26:02] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[11:26:02] [INFO] [CinemaEffects] Player died - triggering death effects
[11:26:02] [INFO] [CinemaEffects] Death effects triggered - starting cigarette burn, expanding spots, and end of reel (top-right)
[11:26:02] [INFO] [PenultimateHit] Player died - ending penultimate effect
[11:26:02] [INFO] [PenultimateHit] Ending penultimate hit effect
[11:26:02] [INFO] [PenultimateHit] Starting visual effects fade-out over 400ms
[11:26:02] [INFO] [LastChance] Player died
[11:26:02] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(500.7212, 718.7429), source=NEUTRAL (null), range=900, listeners=9
[11:26:02] [ENEMY] [Enemy1] Heard CASING_KICK at (500.7212, 718.7429), intensity=0.13, dist=140
[11:26:02] [ENEMY] [Enemy2] Heard CASING_KICK at (500.7212, 718.7429), intensity=1.00, dist=23
[11:26:02] [ENEMY] [Enemy4] Heard CASING_KICK at (500.7212, 718.7429), intensity=0.13, dist=138
[11:26:02] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[11:26:02] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(500.3052, 718.8404), source=NEUTRAL (null), range=900, listeners=9
[11:26:02] [ENEMY] [Enemy1] Heard CASING_KICK at (500.3052, 718.8404), intensity=0.13, dist=139
[11:26:02] [ENEMY] [Enemy2] Heard CASING_KICK at (500.3052, 718.8404), intensity=1.00, dist=23
[11:26:02] [ENEMY] [Enemy4] Heard CASING_KICK at (500.3052, 718.8404), intensity=0.13, dist=138
[11:26:02] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[11:26:02] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(499.8183, 718.9433), source=NEUTRAL (null), range=900, listeners=9
[11:26:02] [ENEMY] [Enemy1] Heard CASING_KICK at (499.8183, 718.9433), intensity=0.14, dist=134
[11:26:02] [ENEMY] [Enemy2] Heard CASING_KICK at (499.8183, 718.9433), intensity=1.00, dist=25
[11:26:02] [ENEMY] [Enemy4] Heard CASING_KICK at (499.8183, 718.9433), intensity=0.13, dist=138
[11:26:02] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[11:26:02] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(494.7698, 720.2336), source=NEUTRAL (null), range=900, listeners=9
[11:26:02] [ENEMY] [Enemy1] Heard CASING_KICK at (494.7698, 720.2336), intensity=0.15, dist=128
[11:26:02] [ENEMY] [Enemy2] Heard CASING_KICK at (494.7698, 720.2336), intensity=1.00, dist=31
[11:26:02] [ENEMY] [Enemy4] Heard CASING_KICK at (494.7698, 720.2336), intensity=0.13, dist=137
[11:26:02] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[11:26:02] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(501.7285, 687.3307), source=NEUTRAL (null), range=900, listeners=9
[11:26:02] [ENEMY] [Enemy1] Heard CASING_KICK at (501.7285, 687.3307), intensity=0.26, dist=99
[11:26:02] [ENEMY] [Enemy2] Heard CASING_KICK at (501.7285, 687.3307), intensity=1.00, dist=32
[11:26:02] [ENEMY] [Enemy4] Heard CASING_KICK at (501.7285, 687.3307), intensity=0.12, dist=145
[11:26:02] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[11:26:02] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(501.5598, 686.5835), source=NEUTRAL (null), range=900, listeners=9
[11:26:02] [ENEMY] [Enemy1] Heard CASING_KICK at (501.5598, 686.5835), intensity=0.29, dist=93
[11:26:02] [ENEMY] [Enemy2] Heard CASING_KICK at (501.5598, 686.5835), intensity=1.00, dist=30
[11:26:02] [ENEMY] [Enemy4] Heard CASING_KICK at (501.5598, 686.5835), intensity=0.13, dist=140
[11:26:02] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[11:26:02] [INFO] [LastChance] Threat detected: Bullet
[11:26:02] [INFO] [LastChance] Not in hard mode - effect disabled
[11:26:02] [INFO] [LastChance] Cannot trigger effect - conditions not met
[11:26:02] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(501.1508, 685.5817), source=NEUTRAL (null), range=900, listeners=9
[11:26:02] [ENEMY] [Enemy1] Heard CASING_KICK at (501.1508, 685.5817), intensity=0.33, dist=86
[11:26:02] [ENEMY] [Enemy2] Heard CASING_KICK at (501.1508, 685.5817), intensity=1.00, dist=29
[11:26:02] [ENEMY] [Enemy4] Heard CASING_KICK at (501.1508, 685.5817), intensity=0.14, dist=136
[11:26:02] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[11:26:02] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=159.3°, current=-176.9°, player=(198,916), corner_timer=0.00
[11:26:02] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) - pursuing to attack (dist=446)
[11:26:02] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(500.1909, 684.2144), source=NEUTRAL (null), range=900, listeners=9
[11:26:02] [ENEMY] [Enemy1] Heard CASING_KICK at (500.1909, 684.2144), intensity=0.40, dist=80
[11:26:02] [ENEMY] [Enemy2] Heard CASING_KICK at (500.1909, 684.2144), intensity=1.00, dist=28
[11:26:02] [ENEMY] [Enemy4] Heard CASING_KICK at (500.1909, 684.2144), intensity=0.14, dist=133
[11:26:02] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[11:26:02] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=400), can_see=true
[11:26:02] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) - pursuing to attack (dist=400)
[11:26:02] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(499.7972, 682.9948), source=NEUTRAL (null), range=900, listeners=9
[11:26:02] [ENEMY] [Enemy1] Heard CASING_KICK at (499.7972, 682.9948), intensity=0.47, dist=73
[11:26:02] [ENEMY] [Enemy2] Heard CASING_KICK at (499.7972, 682.9948), intensity=1.00, dist=27
[11:26:02] [ENEMY] [Enemy4] Heard CASING_KICK at (499.7972, 682.9948), intensity=0.15, dist=130
[11:26:02] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[11:26:02] [INFO] [BloodDecal] Blood puddle created at (286.9207, 896.3947) (added to group)
[11:26:02] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[11:26:02] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:26:02] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[11:26:02] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[11:26:02] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[11:26:02] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[11:26:02] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[11:26:02] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[11:26:02] [INFO] [LastChance] Resetting all effects (scene change detected)
[11:26:02] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[11:26:02] [INFO] [CinemaEffects] Death effects reset
[11:26:02] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[11:26:02] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[11:26:03] [ENEMY] [Enemy1] Death animation component initialized
[11:26:03] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:26:03] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[11:26:03] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[11:26:03] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[11:26:03] [ENEMY] [Enemy2] Death animation component initialized
[11:26:03] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:26:03] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[11:26:03] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[11:26:03] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[11:26:03] [ENEMY] [Enemy3] Death animation component initialized
[11:26:03] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:26:03] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[11:26:03] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[11:26:03] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[11:26:03] [ENEMY] [Enemy4] Death animation component initialized
[11:26:03] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:26:03] [INFO] [BloodyFeet:Grenadier] Footprint scene loaded
[11:26:03] [INFO] [BloodyFeet:Grenadier] Found EnemyModel for facing direction
[11:26:03] [INFO] [BloodyFeet:Grenadier] BloodyFeetComponent ready on Grenadier
[11:26:03] [INFO] [EnemyGrenade] Grenade bag built (normal): [Flashbang, Flashbang, Flashbang, Offensive, Offensive, Offensive, Offensive, Offensive]
[11:26:03] [INFO] [EnemyGrenade] Grenadier initialized: 8 grenades in bag
[11:26:03] [ENEMY] [Grenadier] Death animation component initialized
[11:26:03] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:26:03] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[11:26:03] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[11:26:03] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[11:26:03] [ENEMY] [Enemy6] Death animation component initialized
[11:26:03] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:26:03] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[11:26:03] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[11:26:03] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[11:26:03] [ENEMY] [Enemy7] Death animation component initialized
[11:26:03] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:26:03] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[11:26:03] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[11:26:03] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[11:26:03] [ENEMY] [Enemy8] Death animation component initialized
[11:26:03] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:26:03] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[11:26:03] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[11:26:03] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[11:26:03] [ENEMY] [Enemy9] Death animation component initialized
[11:26:03] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:26:03] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[11:26:03] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[11:26:03] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[11:26:03] [ENEMY] [Enemy10] Death animation component initialized
[11:26:03] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[11:26:03] [INFO] [BloodyFeet:Player] Footprint scene loaded
[11:26:03] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[11:26:03] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[11:26:03] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: F-1 Grenade
[11:26:03] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[11:26:03] [INFO] [Player.Weapon] GameManager weapon selection: shotgun (Shotgun)
[11:26:03] [INFO] [Player.Weapon] Removed default MakarovPM
[11:26:03] [INFO] [Player.Weapon] Equipped Shotgun (ammo: 0/8)
[11:26:03] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[11:26:03] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[11:26:03] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[11:26:03] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[11:26:03] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[11:26:03] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[11:26:03] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[11:26:03] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[11:26:03] [INFO] [Player.Homing] No homing bullets selected in ActiveItemManager
[11:26:03] [INFO] [Player.InvisibilitySuit] No invisibility suit selected in ActiveItemManager
[11:26:03] [INFO] [Player.BreakerBullets] Breaker bullets active — bullets will detonate 60px before walls
[11:26:03] [INFO] [Player.BreakerBullets] Set IsBreakerBulletActive on weapon: Shotgun
[11:26:03] [INFO] [Player] Ready! Ammo: 0/8, Grenades: 1/3, Health: 4/4
[11:26:03] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[11:26:03] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[11:26:03] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[11:26:03] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[11:26:03] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[11:26:03] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[11:26:03] [INFO] [BuildingLevel] Child 'Grenadier': script=true, has_died_signal=true
[11:26:03] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[11:26:03] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[11:26:03] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[11:26:03] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[11:26:03] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[11:26:03] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[11:26:03] [INFO] [BuildingLevel] Setting up weapon: shotgun
[11:26:03] [INFO] [BuildingLevel] Shotgun already equipped by C# Player - skipping GDScript weapon swap
[11:26:03] [INFO] [ScoreManager] Level started with 10 enemies
[11:26:03] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[11:26:03] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[11:26:03] [INFO] [ReplayManager] Replay data cleared
[11:26:03] [INFO] [BuildingLevel] Previous replay data cleared
[11:26:03] [INFO] [ReplayManager] Detected player weapon: Shotgun
[11:26:03] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[11:26:03] [INFO] [ReplayManager] Level: BuildingLevel
[11:26:03] [INFO] [ReplayManager] Player: Player (valid: True)
[11:26:03] [INFO] [ReplayManager] Enemies count: 10
[11:26:03] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/shotgun_topdown.png
[11:26:03] [INFO] [ReplayManager]   Enemy 0: Enemy1
[11:26:03] [INFO] [ReplayManager]   Enemy 1: Enemy2
[11:26:03] [INFO] [ReplayManager]   Enemy 2: Enemy3
[11:26:03] [INFO] [ReplayManager]   Enemy 3: Enemy4
[11:26:03] [INFO] [ReplayManager]   Enemy 4: Grenadier
[11:26:03] [INFO] [ReplayManager]   Enemy 5: Enemy6
[11:26:03] [INFO] [ReplayManager]   Enemy 6: Enemy7
[11:26:03] [INFO] [ReplayManager]   Enemy 7: Enemy8
[11:26:03] [INFO] [ReplayManager]   Enemy 8: Enemy9
[11:26:03] [INFO] [ReplayManager]   Enemy 9: Enemy10
[11:26:03] [INFO] [BuildingLevel] Replay recording started successfully
[11:26:03] [INFO] [BloodDecal] Blood puddle created at (336.2401, 895.9972) (added to group)
[11:26:03] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[11:26:03] [INFO] [CinemaEffects] Found player node: Player
[11:26:03] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[11:26:03] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[11:26:03] [ENEMY] [Enemy1] Registered as sound listener
[11:26:03] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 4, behavior: GUARD
[11:26:03] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[11:26:03] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[11:26:03] [ENEMY] [Enemy2] Registered as sound listener
[11:26:03] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 3, behavior: GUARD
[11:26:03] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[11:26:03] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[11:26:03] [ENEMY] [Enemy3] Registered as sound listener
[11:26:03] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 4, behavior: GUARD
[11:26:03] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[11:26:03] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[11:26:03] [ENEMY] [Enemy4] Registered as sound listener
[11:26:03] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 4, behavior: GUARD
[11:26:03] [INFO] [BloodyFeet:Grenadier] Blood detector created and attached to Grenadier
[11:26:03] [INFO] [SoundPropagation] Registered listener: Grenadier (total: 14)
[11:26:03] [ENEMY] [Grenadier] Registered as sound listener
[11:26:03] [ENEMY] [Grenadier] Spawned at (1700, 350), hp: 2, behavior: GUARD
[11:26:03] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[11:26:03] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[11:26:03] [ENEMY] [Enemy6] Registered as sound listener
[11:26:03] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 3, behavior: GUARD
[11:26:03] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[11:26:03] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[11:26:03] [ENEMY] [Enemy7] Registered as sound listener
[11:26:03] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 2, behavior: PATROL
[11:26:03] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[11:26:03] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[11:26:03] [ENEMY] [Enemy8] Registered as sound listener
[11:26:03] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 3, behavior: GUARD
[11:26:03] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[11:26:03] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[11:26:03] [ENEMY] [Enemy9] Registered as sound listener
[11:26:03] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 3, behavior: GUARD
[11:26:03] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[11:26:03] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[11:26:03] [ENEMY] [Enemy10] Registered as sound listener
[11:26:03] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 4, behavior: PATROL
[11:26:03] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[11:26:03] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[11:26:03] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[11:26:03] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[11:26:03] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[11:26:03] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[11:26:03] [ENEMY] [Grenadier] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[11:26:03] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[11:26:03] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[11:26:03] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[11:26:03] [INFO] [Player] Detecting weapon pose (frame 3)...
[11:26:03] [INFO] [Player] Detected weapon: Shotgun (Shotgun pose)
[11:26:03] [INFO] [Player] Applied Shotgun arm pose: Left=(21, 6), Right=(-1, 6)
[11:26:03] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[11:26:03] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[11:26:03] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[11:26:03] [INFO] [LastChance] Found player: Player
[11:26:03] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[11:26:03] [INFO] [LastChance] Connected to player Damaged signal (C#)
[11:26:03] [INFO] [LastChance] Connected to player Died signal (C#)
[11:26:03] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[11:26:03] [INFO] [BloodDecal] Blood puddle created at (357.0557, 973.114) (added to group)
[11:26:03] [INFO] [BloodDecal] Blood puddle created at (344.2377, 973.7748) (added to group)
[11:26:03] [INFO] [BloodDecal] Blood puddle created at (347.0223, 886.6061) (added to group)
[11:26:03] [INFO] [BloodDecal] Blood puddle created at (298.5157, 902.9286) (added to group)
[11:26:03] [INFO] [BloodDecal] Blood puddle created at (268.7745, 906.9546) (added to group)
[11:26:03] [INFO] [BloodDecal] Blood puddle created at (260.8618, 947.3637) (added to group)
[11:26:03] [INFO] [BloodDecal] Blood puddle created at (277.6982, 903.2902) (added to group)
[11:26:03] [INFO] [BloodDecal] Blood puddle created at (359.1102, 940.201) (added to group)
[11:26:03] [INFO] [BloodDecal] Blood puddle created at (276.0687, 962.6802) (added to group)
[11:26:03] [INFO] [BloodDecal] Blood puddle created at (325.8253, 995.723) (added to group)
[11:26:03] [INFO] [BloodDecal] Blood puddle created at (305.9044, 909.2531) (added to group)
[11:26:03] [INFO] [BloodDecal] Blood puddle created at (397.6587, 964.1232) (added to group)
[11:26:03] [INFO] [BloodDecal] Blood puddle created at (296.3416, 911.2481) (added to group)
[11:26:03] [INFO] [BloodDecal] Blood puddle created at (314.7109, 950.4717) (added to group)
[11:26:03] [INFO] [BloodDecal] Blood puddle created at (342.9548, 937.6755) (added to group)
[11:26:03] [INFO] [BloodDecal] Blood puddle created at (335.2994, 916.6344) (added to group)
[11:26:03] [INFO] [BloodDecal] Blood puddle created at (439.8459, 1018.015) (added to group)
[11:26:03] [INFO] [BloodDecal] Blood puddle created at (355.6018, 938.6369) (added to group)
[11:26:03] [INFO] [BloodDecal] Blood puddle created at (347.167, 887.198) (added to group)
[11:26:03] [INFO] [BloodDecal] Blood puddle created at (412.0262, 964.1756) (added to group)
[11:26:03] [INFO] [BloodDecal] Blood puddle created at (315.8918, 986.1274) (added to group)
[11:26:03] [INFO] [BloodDecal] Blood puddle created at (384.4649, 894.4492) (added to group)
[11:26:03] [INFO] [BloodDecal] Blood puddle created at (335.6721, 970.4667) (added to group)
[11:26:03] [INFO] [BloodDecal] Blood puddle created at (409.4891, 993.763) (added to group)
[11:26:03] [INFO] [BloodDecal] Blood puddle created at (402.3056, 1076.802) (added to group)
[11:26:03] [INFO] [BloodDecal] Blood puddle created at (316.7069, 1068.888) (added to group)
[11:26:03] [INFO] [BloodDecal] Blood puddle created at (390.4418, 1008.249) (added to group)
[11:26:03] [INFO] [BloodDecal] Blood puddle created at (381.9584, 1093.156) (added to group)
[11:26:03] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[11:26:04] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[11:26:04] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[11:26:04] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[11:26:04] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(429,789), corner_timer=0.30
[11:26:04] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(429,789), corner_timer=0.30
[11:26:04] [ENEMY] [Enemy1] Player ammo empty: false -> true
[11:26:04] [ENEMY] [Enemy2] Player ammo empty: false -> true
[11:26:04] [ENEMY] [Enemy3] Player ammo empty: false -> true
[11:26:04] [ENEMY] [Enemy4] Player ammo empty: false -> true
[11:26:04] [ENEMY] [Grenadier] Player ammo empty: false -> true
[11:26:04] [ENEMY] [Enemy6] Player ammo empty: false -> true
[11:26:04] [ENEMY] [Enemy7] Player ammo empty: false -> true
[11:26:04] [ENEMY] [Enemy8] Player ammo empty: false -> true
[11:26:04] [ENEMY] [Enemy9] Player ammo empty: false -> true
[11:26:04] [ENEMY] [Enemy10] Player ammo empty: false -> true
[11:26:04] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(425.9791, 785.6166), source=PLAYER (Player), range=600, listeners=19
[11:26:04] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[11:26:04] [ENEMY] [Enemy1] Heard player EMPTY_CLICK at (425.9791, 785.6166), intensity=0.01, distance=453
[11:26:04] [ENEMY] [Enemy1] Vulnerability sound triggered pursuit - transitioning from IDLE to PURSUING
[11:26:04] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (425.9791, 785.6166), intensity=0.04, distance=237
[11:26:04] [ENEMY] [Enemy2] Vulnerability sound triggered pursuit - transitioning from IDLE to PURSUING
[11:26:04] [ENEMY] [Enemy3] Heard player EMPTY_CLICK at (425.9791, 785.6166), intensity=0.03, distance=276
[11:26:04] [ENEMY] [Enemy3] Vulnerability sound triggered pursuit - transitioning from IDLE to PURSUING
[11:26:04] [ENEMY] [Enemy4] Heard player EMPTY_CLICK at (425.9791, 785.6166), intensity=0.02, distance=391
[11:26:04] [ENEMY] [Enemy4] Vulnerability sound triggered pursuit - transitioning from IDLE to PURSUING
[11:26:04] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=6, self=0, below_threshold=0
[11:26:04] [INFO] [Shotgun.FIX#212] Firing 10 pellets with 15° spread at pos=(425.97913, 785.6166)
[11:26:04] [INFO] [Shotgun.FIX#212] Normal pellet 1/10: extraOffset=1,4, distance=53,4px, pos=(477.14566, 770.3111)
[11:26:04] [INFO] [Shotgun.FIX#212] Normal pellet 2/10: extraOffset=-1,9, distance=50,1px, pos=(473.86908, 770.8394)
[11:26:04] [INFO] [Shotgun.FIX#212] Normal pellet 3/10: extraOffset=4,2, distance=56,2px, pos=(480.6247, 772.69934)
[11:26:04] [INFO] [Shotgun.FIX#212] Normal pellet 4/10: extraOffset=14,1, distance=66,1px, pos=(490.54395, 771.5884)
[11:26:04] [INFO] [Shotgun.FIX#212] Normal pellet 5/10: extraOffset=10,6, distance=62,6px, pos=(487.5802, 774.5218)
[11:26:04] [INFO] [Shotgun.FIX#212] Normal pellet 6/10: extraOffset=7,2, distance=59,2px, pos=(484.38757, 775.7238)
[11:26:04] [INFO] [Shotgun.FIX#212] Normal pellet 7/10: extraOffset=-1,7, distance=50,3px, pos=(475.85492, 779.3609)
[11:26:04] [INFO] [Shotgun.FIX#212] Normal pellet 8/10: extraOffset=11,5, distance=63,5px, pos=(489.18613, 779.3794)
[11:26:04] [INFO] [Shotgun.FIX#212] Normal pellet 9/10: extraOffset=1,1, distance=53,1px, pos=(478.84662, 780.7687)
[11:26:04] [INFO] [Shotgun.FIX#212] Normal pellet 10/10: extraOffset=7,3, distance=59,3px, pos=(485.22702, 782.7719)
[11:26:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(425.9791, 785.6166), source=PLAYER (Shotgun), range=1469, listeners=10
[11:26:04] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[11:26:04] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=73.9°, current=168.8°, player=(425,785), corner_timer=0.00
[11:26:04] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=453), can_see=false
[11:26:04] [ENEMY] [Enemy1] Pursuing vulnerability sound at (425.9791, 785.6166), distance=453
[11:26:04] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=83.7°, current=-157.5°, player=(425,785), corner_timer=0.00
[11:26:04] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=237), can_see=false
[11:26:04] [ENEMY] [Enemy2] Pursuing vulnerability sound at (425.9791, 785.6166), distance=237
[11:26:04] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=172.6°, current=-33.8°, player=(425,785), corner_timer=0.00
[11:26:04] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=276), can_see=false
[11:26:04] [ENEMY] [Enemy3] Pursuing vulnerability sound at (425.9791, 785.6166), distance=276
[11:26:04] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=-163.0°, current=-101.3°, player=(425,785), corner_timer=0.00
[11:26:04] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=391), can_see=false
[11:26:04] [ENEMY] [Enemy4] Pursuing vulnerability sound at (425.9791, 785.6166), distance=391
[11:26:04] [ENEMY] [Grenadier] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1346), can_see=false
[11:26:04] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1561), can_see=false
[11:26:04] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1193), can_see=false
[11:26:04] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1617), can_see=false
[11:26:04] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1840), can_see=false
[11:26:04] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1093), can_see=false
[11:26:04] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=173.5°, current=136.8°, player=(422,781), corner_timer=0.00
[11:26:04] [ENEMY] [Enemy3] Player empty ammo - priority attack triggered
[11:26:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(694.7022, 750.6149), source=ENEMY (Enemy3), range=1469, listeners=10
[11:26:04] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[11:26:04] [INFO] [ImpactEffects] Spawning explosion visual effect at (610.6009, 752.3649) (radius=15) - using shadow-based wall occlusion
[11:26:04] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(610.6009, 752.3649), source=PLAYER (@Area2D@14786), range=500, listeners=10
[11:26:04] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=6, self=0, below_threshold=0
[11:26:04] [INFO] [ImpactEffects] Spawning explosion visual effect at (607.6324, 754.8496) (radius=15) - using shadow-based wall occlusion
[11:26:04] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(607.6324, 754.8496), source=PLAYER (@Area2D@14787), range=500, listeners=10
[11:26:04] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=6, self=0, below_threshold=0
[11:26:04] [INFO] [ImpactEffects] Spawning explosion visual effect at (613.582, 767.1042) (radius=15) - using shadow-based wall occlusion
[11:26:04] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(613.582, 767.1042), source=PLAYER (@Area2D@14789), range=500, listeners=10
[11:26:04] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=7, self=0, below_threshold=0
[11:26:04] [INFO] [ImpactEffects] Spawning explosion visual effect at (653.4106, 736.2019) (radius=15) - using shadow-based wall occlusion
[11:26:04] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(653.4106, 736.2019), source=PLAYER (@Area2D@14785), range=500, listeners=10
[11:26:04] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=7, self=0, below_threshold=0
[11:26:04] [INFO] [ImpactEffects] Spawning explosion visual effect at (641.226, 758.6192) (radius=15) - using shadow-based wall occlusion
[11:26:04] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(641.226, 758.6192), source=PLAYER (@Area2D@14788), range=500, listeners=10
[11:26:04] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=7, self=0, below_threshold=0
[11:26:04] [INFO] [ImpactEffects] Spawning explosion visual effect at (644.8169, 765.5492) (radius=15) - using shadow-based wall occlusion
[11:26:04] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(644.8169, 765.5492), source=PLAYER (@Area2D@14790), range=500, listeners=10
[11:26:04] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=7, self=0, below_threshold=0
[11:26:04] [INFO] [ImpactEffects] Spawning explosion visual effect at (651.7019, 774.779) (radius=15) - using shadow-based wall occlusion
[11:26:04] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(651.7019, 774.779), source=PLAYER (@Area2D@14791), range=500, listeners=10
[11:26:04] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=7, self=0, below_threshold=0
[11:26:04] [INFO] [LastChance] Threat detected: Bullet
[11:26:04] [INFO] [LastChance] Not in hard mode - effect disabled
[11:26:04] [INFO] [LastChance] Cannot trigger effect - conditions not met
[11:26:04] [ENEMY] [Enemy3] Hit: dmg=1, hp=4/4->3/4
[11:26:04] [INFO] [ImpactEffects] spawn_blood_effect called at (678.7832, 752.2111), dir=(0.9776, 0.210469), lethal=false
[11:26:04] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[11:26:04] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[11:26:04] [INFO] [ImpactEffects] Blood effect spawned at (678.7832, 752.2111) (scale=1)
[11:26:04] [ENEMY] [Enemy3] Hit: dmg=1, hp=3/4->2/4
[11:26:04] [INFO] [ImpactEffects] spawn_blood_effect called at (673.4641, 752.6003), dir=(0.998666, -0.05164), lethal=false
[11:26:04] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[11:26:04] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[11:26:04] [INFO] [ImpactEffects] Blood effect spawned at (673.4641, 752.6003) (scale=1)
[11:26:04] [ENEMY] [Enemy3] Hit: dmg=1, hp=2/4->1/4
[11:26:04] [INFO] [ImpactEffects] spawn_blood_effect called at (673.4641, 752.6003), dir=(0.958952, 0.283568), lethal=false
[11:26:04] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[11:26:04] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[11:26:04] [INFO] [ImpactEffects] Blood effect spawned at (673.4641, 752.6003) (scale=1)
[11:26:04] [ENEMY] [Enemy3] Hit: dmg=1, hp=1/4->0/4
[11:26:04] [INFO] [ImpactEffects] spawn_blood_effect called at (673.4641, 752.6003), dir=(0.959244, -0.28258), lethal=true
[11:26:04] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[11:26:04] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[11:26:04] [INFO] [ImpactEffects] Blood effect spawned at (673.4641, 752.6003) (scale=1.5)
[11:26:04] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[11:26:04] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[11:26:04] [ENEMY] [Enemy4] [AllyDeath] Witnessed at (673.4641, 752.6003), entering SEARCHING
[11:26:04] [ENEMY] [Enemy4] SEARCHING started: center=(673.4641, 752.6003), radius=100, waypoints=5
[11:26:04] [ENEMY] [Enemy3] [AllyDeath] Notified 2 enemies
[11:26:04] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[11:26:04] [INFO] [DeathAnim] Started - Angle: -16.4 deg, Index: 10
[11:26:04] [ENEMY] [Enemy3] Death animation started with hit direction: (0.959244, -0.28258)
[11:26:04] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[11:26:04] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=NeedsPumpUp, ReloadState=NotReloading
[11:26:04] [INFO] [Shotgun.FIX#445] dragStartPos=(812, 712), aimDir=(0,99, -0,12)
[11:26:04] [INFO] [ImpactEffects] Spawning explosion visual effect at (876.3351, 650.9013) (radius=15) - using shadow-based wall occlusion
[11:26:04] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(876.3351, 650.9013), source=PLAYER (ShotgunPellet), range=500, listeners=9
[11:26:04] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=7, self=0, below_threshold=0
[11:26:04] [INFO] [ImpactEffects] Spawning explosion visual effect at (872.0124, 647.9866) (radius=15) - using shadow-based wall occlusion
[11:26:04] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(872.0124, 647.9866), source=PLAYER (@Area2D@14783), range=500, listeners=9
[11:26:04] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=7, self=0, below_threshold=0
[11:26:04] [INFO] [ImpactEffects] Spawning explosion visual effect at (886.1166, 676.8485) (radius=15) - using shadow-based wall occlusion
[11:26:04] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(886.1166, 676.8485), source=PLAYER (@Area2D@14784), range=500, listeners=9
[11:26:04] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=7, self=0, below_threshold=0
[11:26:04] [ENEMY] [Enemy4] Hit: dmg=1, hp=4/4->3/4
[11:26:04] [INFO] [ImpactEffects] spawn_blood_effect called at (800.7703, 845.3594), dir=(0.933755, 0.357913), lethal=false
[11:26:04] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[11:26:04] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[11:26:04] [INFO] [ImpactEffects] Blood effect spawned at (800.7703, 845.3594) (scale=1)
[11:26:04] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[11:26:04] [INFO] [Shotgun.FIX#445v7] Mid-drag pump UP - shell ejected, continue dragging DOWN to chamber
[11:26:05] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(628.42267, 766.0299), shooter_id=2546580065904, bullet_pos=(48.613552, 830.05615)
[11:26:05] [INFO] [Bullet] Using shooter_position, distance=583,33356
[11:26:05] [INFO] [Bullet] Distance to wall: 583,33356 (39,720257% of viewport)
[11:26:05] [INFO] [Bullet] Within ricochet range - trying ricochet first
[11:26:05] [INFO] [Bullet] Starting wall penetration at (48.613552, 830.05615)
[11:26:05] [INFO] [Bullet] Raycast backward hit penetrating body at distance 29,952135
[11:26:05] [INFO] [Bullet] Body exited signal received for penetrating body
[11:26:05] [INFO] [Bullet] Exiting penetration at (2.2288246, 835.1782) after traveling 41,666676 pixels through wall
[11:26:05] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[11:26:05] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=SEARCHING, target=-174.1°, current=-174.2°, player=(350,764), corner_timer=0.00
[11:26:05] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) - pursuing to attack (dist=443)
[11:26:05] [ENEMY] [Enemy4] State: SEARCHING -> PURSUING
[11:26:05] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(350,764), corner_timer=-0.02
[11:26:05] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[11:26:05] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(350,764), corner_timer=-0.02
[11:26:05] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[11:26:05] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[11:26:05] [INFO] [Shotgun.FIX#445v7] Mid-drag pump DOWN - chambered, ready to fire
[11:26:05] [INFO] [BloodDecal] Blood puddle created at (745.0071, 789.5949) (added to group)
[11:26:05] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(346,766), corner_timer=0.30
[11:26:05] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(346,766), corner_timer=0.30
[11:26:05] [ENEMY] [Enemy4] ROT_CHANGE: P1:visible -> P2:combat_state, state=PURSUING, target=-177.5°, current=103.1°, player=(334,774), corner_timer=0.00
[11:26:05] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-178.4°, current=135.0°, player=(330,778), corner_timer=0.00
[11:26:05] [ENEMY] [Enemy4] ROT_CHANGE: P1:visible -> P2:combat_state, state=PURSUING, target=-179.6°, current=81.4°, player=(322,785), corner_timer=0.00
[11:26:05] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[11:26:05] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[11:26:05] [INFO] [BloodDecal] Blood puddle created at (777.0874, 803.9615) (added to group)
[11:26:05] [INFO] [BloodDecal] Blood puddle created at (736.8846, 781.06) (added to group)
[11:26:05] [INFO] [BloodDecal] Blood puddle created at (743.4393, 794.0462) (added to group)
[11:26:05] [INFO] [BloodDecal] Blood puddle created at (748.6172, 771.8936) (added to group)
[11:26:05] [INFO] [BloodDecal] Blood puddle created at (740.8423, 793.772) (added to group)
[11:26:05] [INFO] [BloodDecal] Blood puddle created at (759.0199, 803.1912) (added to group)
[11:26:05] [INFO] [BloodDecal] Blood puddle created at (732.2338, 773.1382) (added to group)
[11:26:05] [INFO] [BloodDecal] Blood puddle created at (738.7446, 713.5012) (added to group)
[11:26:05] [INFO] [BloodDecal] Blood puddle created at (736.2194, 722.5009) (added to group)
[11:26:05] [INFO] [BloodDecal] Blood puddle created at (733.4407, 778.2897) (added to group)
[11:26:05] [INFO] [BloodDecal] Blood puddle created at (740.8657, 777.4839) (added to group)
[11:26:05] [INFO] [BloodyFeet:Enemy4] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[11:26:05] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=363), can_see=false
[11:26:05] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=267), can_see=false
[11:26:05] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=448), can_see=false
[11:26:05] [ENEMY] [Grenadier] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1474), can_see=false
[11:26:05] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1690), can_see=false
[11:26:05] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1403), can_see=false
[11:26:05] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1726), can_see=false
[11:26:05] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1949), can_see=false
[11:26:05] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1184), can_see=false
[11:26:05] [INFO] [BloodyFeet:Player] Blood ran out - no more footprints
[11:26:05] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[11:26:05] [INFO] [BloodDecal] Blood puddle created at (823.4592, 815.838) (added to group)
[11:26:05] [INFO] [BloodDecal] Blood puddle created at (759.0617, 772.5809) (added to group)
[11:26:05] [INFO] [BloodDecal] Blood puddle created at (740.8475, 799.1895) (added to group)
[11:26:05] [INFO] [BloodDecal] Blood puddle created at (765.6612, 772.6483) (added to group)
[11:26:05] [INFO] [BloodDecal] Blood puddle created at (772.2759, 705.1901) (added to group)
[11:26:05] [INFO] [BloodDecal] Blood puddle created at (768.1576, 712.0832) (added to group)
[11:26:05] [INFO] [BloodDecal] Blood puddle created at (736.2023, 766.4532) (added to group)
[11:26:05] [INFO] [BloodDecal] Blood puddle created at (860.631, 884.2596) (added to group)
[11:26:05] [INFO] [BloodDecal] Blood puddle created at (882.7868, 887.9869) (added to group)
[11:26:05] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(263,816), corner_timer=-0.02
[11:26:05] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[11:26:05] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(258,816), corner_timer=0.30
[11:26:05] [ENEMY] [Enemy3] Ragdoll activated
[11:26:05] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[11:26:05] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[11:26:05] [INFO] [BloodDecal] Blood puddle created at (772.9813, 809.8179) (added to group)
[11:26:05] [INFO] [BloodDecal] Blood puddle created at (843.551, 749.3479) (added to group)
[11:26:05] [INFO] [BloodDecal] Blood puddle created at (786.8787, 748.1471) (added to group)
[11:26:05] [INFO] [BloodDecal] Blood puddle created at (804.8129, 716.9872) (added to group)
[11:26:05] [INFO] [BloodDecal] Blood puddle created at (823.9481, 759.1512) (added to group)
[11:26:05] [INFO] [BloodDecal] Blood puddle created at (799.8625, 719.3796) (added to group)
[11:26:05] [INFO] [BloodDecal] Blood puddle created at (748.2308, 764.214) (added to group)
[11:26:05] [INFO] [BloodDecal] Blood puddle created at (811.3015, 837.2985) (added to group)
[11:26:05] [INFO] [BloodDecal] Blood puddle created at (844.3057, 931.4766) (added to group)
[11:26:05] [INFO] [BloodDecal] Blood puddle created at (886.8969, 883.1534) (added to group)
[11:26:05] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=176.1°, current=128.1°, player=(247,816), corner_timer=0.00
[11:26:05] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=159.4°, current=-161.6°, player=(236,816), corner_timer=0.00
[11:26:05] [ENEMY] [Enemy2] Player empty ammo - priority attack triggered
[11:26:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(524.0657, 708.1693), source=ENEMY (Enemy2), range=1469, listeners=9
[11:26:05] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=4
[11:26:05] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[11:26:05] [INFO] [BloodDecal] Blood puddle created at (787.6956, 795.7781) (added to group)
[11:26:05] [INFO] [BloodDecal] Blood puddle created at (806.3668, 797.8184) (added to group)
[11:26:05] [INFO] [BloodDecal] Blood puddle created at (769.5155, 781.015) (added to group)
[11:26:05] [INFO] [BloodDecal] Blood puddle created at (825.9368, 762.6326) (added to group)
[11:26:05] [INFO] [BloodDecal] Blood puddle created at (769.1959, 783.36) (added to group)
[11:26:05] [INFO] [LastChance] Threat detected: Bullet
[11:26:05] [INFO] [LastChance] Not in hard mode - effect disabled
[11:26:05] [INFO] [LastChance] Cannot trigger effect - conditions not met
[11:26:05] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(208.8062, 816.2202), source=PLAYER (Player), range=600, listeners=9
[11:26:05] [ENEMY] [Enemy1] Heard player EMPTY_CLICK at (208.8062, 816.2202), intensity=0.02, distance=359
[11:26:05] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (208.8062, 816.2202), intensity=0.02, distance=327
[11:26:05] [ENEMY] [Enemy4] Heard player EMPTY_CLICK at (208.8062, 816.2202), intensity=0.01, distance=451
[11:26:05] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[11:26:05] [INFO] [Shotgun.FIX#212] Firing 14 pellets with 15° spread at pos=(208.80615, 816.2202)
[11:26:05] [INFO] [Shotgun.FIX#212] Normal pellet 1/14: extraOffset=4,1, distance=56,1px, pos=(263.1984, 802.28156)
[11:26:05] [INFO] [Shotgun.FIX#212] Normal pellet 2/14: extraOffset=9,0, distance=61,0px, pos=(268.1032, 802.0514)
[11:26:05] [INFO] [Shotgun.FIX#212] Normal pellet 3/14: extraOffset=9,9, distance=61,9px, pos=(269.45966, 803.9257)
[11:26:05] [INFO] [Shotgun.FIX#212] Normal pellet 4/14: extraOffset=0,6, distance=52,6px, pos=(260.4732, 806.58234)
[11:26:05] [INFO] [Shotgun.FIX#212] Normal pellet 5/14: extraOffset=-1,0, distance=51,0px, pos=(258.92932, 807.0467)
[11:26:05] [INFO] [Shotgun.FIX#212] Normal pellet 6/14: extraOffset=4,6, distance=56,6px, pos=(264.93793, 809.0936)
[11:26:05] [INFO] [Shotgun.FIX#212] Normal pellet 7/14: extraOffset=2,1, distance=54,1px, pos=(262.56778, 810.1011)
[11:26:05] [INFO] [Shotgun.FIX#212] Normal pellet 8/14: extraOffset=-4,7, distance=47,3px, pos=(255.86093, 811.2654)
[11:26:05] [INFO] [Shotgun.FIX#212] Normal pellet 9/14: extraOffset=-9,8, distance=42,2px, pos=(250.74812, 811.8006)
[11:26:05] [INFO] [Shotgun.FIX#212] Normal pellet 10/14: extraOffset=1,4, distance=53,4px, pos=(262.1719, 813.7064)
[11:26:05] [INFO] [Shotgun.FIX#212] Normal pellet 11/14: extraOffset=-6,8, distance=45,2px, pos=(253.90186, 813.9905)
[11:26:05] [INFO] [Shotgun.FIX#212] Normal pellet 12/14: extraOffset=4,2, distance=56,2px, pos=(265.04004, 816.14124)
[11:26:05] [INFO] [Shotgun.FIX#212] Normal pellet 13/14: extraOffset=3,3, distance=55,3px, pos=(264.13644, 816.2234)
[11:26:05] [INFO] [Shotgun.FIX#212] Normal pellet 14/14: extraOffset=10,0, distance=62,0px, pos=(270.76947, 817.332)
[11:26:05] [INFO] [Shotgun.FIX#445v7] Reset drag start position after firing (continuous pump mode)
[11:26:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(208.8062, 816.2202), source=PLAYER (Shotgun), range=1469, listeners=9
[11:26:05] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=5, self=0, below_threshold=1
[11:26:05] [ENEMY] [Enemy2] Player empty ammo - priority attack triggered
[11:26:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(520.3814, 724.8595), source=ENEMY (Enemy2), range=1469, listeners=9
[11:26:05] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=4
[11:26:05] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(506.8464, 700.6572), source=NEUTRAL (null), range=900, listeners=9
[11:26:05] [ENEMY] [Enemy1] Heard CASING_KICK at (506.8464, 700.6572), intensity=0.12, dist=145
[11:26:05] [ENEMY] [Enemy2] Heard CASING_KICK at (506.8464, 700.6572), intensity=1.00, dist=29
[11:26:05] [ENEMY] [Enemy4] Heard CASING_KICK at (506.8464, 700.6572), intensity=0.09, dist=165
[11:26:05] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[11:26:05] [INFO] [BloodDecal] Blood puddle created at (850.372, 836.616) (added to group)
[11:26:05] [INFO] [BloodDecal] Blood puddle created at (803.8273, 762.3512) (added to group)
[11:26:05] [INFO] [BloodDecal] Blood puddle created at (845.794, 756.2305) (added to group)
[11:26:05] [INFO] [BloodDecal] Blood puddle created at (868.4094, 710.9485) (added to group)
[11:26:05] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(506.7088, 699.2621), source=NEUTRAL (null), range=900, listeners=9
[11:26:05] [ENEMY] [Enemy1] Heard CASING_KICK at (506.7088, 699.2621), intensity=0.13, dist=138
[11:26:05] [ENEMY] [Enemy2] Heard CASING_KICK at (506.7088, 699.2621), intensity=1.00, dist=31
[11:26:05] [ENEMY] [Enemy4] Heard CASING_KICK at (506.7088, 699.2621), intensity=0.09, dist=162
[11:26:05] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[11:26:05] [INFO] [ImpactEffects] Spawning explosion visual effect at (465.0105, 750.5646) (radius=15) - using shadow-based wall occlusion
[11:26:05] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(465.0105, 750.5646), source=PLAYER (ShotgunPellet), range=500, listeners=9
[11:26:05] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[11:26:05] [INFO] [ImpactEffects] Spawning explosion visual effect at (470.7323, 753.6337) (radius=15) - using shadow-based wall occlusion
[11:26:05] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(470.7323, 753.6337), source=PLAYER (@Area2D@14996), range=500, listeners=9
[11:26:05] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[11:26:05] [INFO] [ImpactEffects] Spawning explosion visual effect at (470.2745, 803.9036) (radius=15) - using shadow-based wall occlusion
[11:26:05] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(470.2745, 803.9036), source=PLAYER (@Area2D@15004), range=500, listeners=9
[11:26:05] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[11:26:05] [INFO] [ImpactEffects] Spawning explosion visual effect at (461.9811, 803.7021) (radius=15) - using shadow-based wall occlusion
[11:26:05] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(461.9811, 803.7021), source=PLAYER (@Area2D@15005), range=500, listeners=9
[11:26:05] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[11:26:05] [INFO] [ImpactEffects] Spawning explosion visual effect at (473.3732, 815.8486) (radius=15) - using shadow-based wall occlusion
[11:26:05] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(473.3732, 815.8486), source=PLAYER (@Area2D@15006), range=500, listeners=9
[11:26:05] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[11:26:05] [INFO] [ImpactEffects] Spawning explosion visual effect at (472.4697, 816.2353) (radius=15) - using shadow-based wall occlusion
[11:26:05] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(472.4697, 816.2353), source=PLAYER (@Area2D@15007), range=500, listeners=9
[11:26:05] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[11:26:05] [INFO] [ImpactEffects] Spawning explosion visual effect at (479.0693, 821.0692) (radius=15) - using shadow-based wall occlusion
[11:26:05] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(479.0693, 821.0692), source=PLAYER (@Area2D@15008), range=500, listeners=9
[11:26:05] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[11:26:05] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(507.0931, 697.869), source=NEUTRAL (null), range=900, listeners=9
[11:26:05] [ENEMY] [Enemy1] Heard CASING_KICK at (507.0931, 697.869), intensity=0.14, dist=132
[11:26:05] [ENEMY] [Enemy2] Heard CASING_KICK at (507.0931, 697.869), intensity=1.00, dist=32
[11:26:05] [ENEMY] [Enemy4] Heard CASING_KICK at (507.0931, 697.869), intensity=0.10, dist=159
[11:26:05] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[11:26:05] [ENEMY] [Enemy2] Hit: dmg=1, hp=3/3->2/3
[11:26:05] [INFO] [ImpactEffects] spawn_blood_effect called at (517.3702, 728.6869), dir=(1, 0), lethal=false
[11:26:05] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[11:26:05] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[11:26:05] [INFO] [ImpactEffects] Blood effect spawned at (517.3702, 728.6869) (scale=1)
[11:26:05] [ENEMY] [Enemy2] Hit: dmg=1, hp=2/3->1/3
[11:26:05] [INFO] [ImpactEffects] spawn_blood_effect called at (517.3702, 728.6869), dir=(0.964314, -0.264762), lethal=false
[11:26:05] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[11:26:05] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[11:26:05] [INFO] [ImpactEffects] Blood effect spawned at (517.3702, 728.6869) (scale=1)
[11:26:05] [ENEMY] [Enemy2] Hit: dmg=1, hp=1/3->0/3
[11:26:05] [INFO] [ImpactEffects] spawn_blood_effect called at (517.3702, 728.6869), dir=(0.90775, -0.419511), lethal=true
[11:26:05] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[11:26:05] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[11:26:05] [INFO] [ImpactEffects] Blood effect spawned at (517.3702, 728.6869) (scale=1.5)
[11:26:05] [ENEMY] [Enemy2] Enemy died (ricochet: false, penetration: false)
[11:26:05] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[11:26:05] [ENEMY] [Enemy2] [AllyDeath] Notified 2 enemies
[11:26:05] [INFO] [SoundPropagation] Unregistered listener: Enemy2 (remaining: 8)
[11:26:05] [INFO] [DeathAnim] Started - Angle: -24.8 deg, Index: 10
[11:26:05] [ENEMY] [Enemy2] Death animation started with hit direction: (0.90775, -0.419511)
[11:26:05] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(463.52197, 739.23456), shooter_id=2546227747852, bullet_pos=(35.534332, 903.2342)
[11:26:05] [INFO] [Bullet] Using shooter_position, distance=458,33316
[11:26:05] [INFO] [Bullet] Distance to wall: 458,33316 (31,208748% of viewport)
[11:26:05] [INFO] [Bullet] Within ricochet range - trying ricochet first
[11:26:05] [INFO] [LastChance] Threat detected: @Area2D@15010
[11:26:05] [INFO] [LastChance] Not in hard mode - effect disabled
[11:26:05] [INFO] [LastChance] Cannot trigger effect - conditions not met
[11:26:05] [ENEMY] [Enemy4] Hit: dmg=1, hp=3/4->2/4
[11:26:05] [INFO] [ImpactEffects] spawn_blood_effect called at (612.195, 794.4149), dir=(0.970114, 0.24265), lethal=false
[11:26:05] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[11:26:05] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[11:26:05] [INFO] [ImpactEffects] Wall found for blood splatter at (680, 811.3746) (dist=69 px)
[11:26:05] [INFO] [BloodDecal] Blood puddle created at (679, 811.3746) (added to group)
[11:26:05] [INFO] [ImpactEffects] Blood effect spawned at (612.195, 794.4149) (scale=1)
[11:26:05] [ENEMY] [Enemy4] Hit: dmg=1, hp=2/4->1/4
[11:26:05] [INFO] [ImpactEffects] spawn_blood_effect called at (612.195, 794.4149), dir=(0.999973, -0.007397), lethal=false
[11:26:05] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[11:26:05] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[11:26:05] [INFO] [ImpactEffects] Blood effect spawned at (612.195, 794.4149) (scale=1)
[11:26:05] [ENEMY] [Enemy4] Hit: dmg=1, hp=1/4->0/4
[11:26:05] [INFO] [ImpactEffects] spawn_blood_effect called at (612.195, 794.4149), dir=(1, 0), lethal=true
[11:26:05] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[11:26:05] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[11:26:05] [INFO] [ImpactEffects] Blood effect spawned at (612.195, 794.4149) (scale=1.5)
[11:26:05] [ENEMY] [Enemy4] Enemy died (ricochet: false, penetration: false)
[11:26:05] [INFO] [ScoreManager] Kill registered. Combo: 3 (points: 3000)
[11:26:05] [ENEMY] [Enemy4] [AllyDeath] Notified 1 enemies
[11:26:05] [INFO] [SoundPropagation] Unregistered listener: Enemy4 (remaining: 7)
[11:26:05] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[11:26:05] [ENEMY] [Enemy4] Death animation started with hit direction: (1, 0)
[11:26:05] [INFO] [Shotgun.FIX#445v7] Mouse at top edge (Y=5), need PumpUp - recentering cursor
[11:26:05] [INFO] [Shotgun.FIX#445v7] Cursor recentered to (640, 360)
[11:26:05] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(153,816), corner_timer=-0.02
[11:26:05] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[11:26:05] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.0°, player=(149,816), corner_timer=0.30
[11:26:06] [ENEMY] [Enemy1] Pursuing vulnerability sound at (507.0931, 697.869), distance=97
[11:26:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(457.46533, 750.7856), shooter_id=2546227747852, bullet_pos=(49.19071, 868.84)
[11:26:06] [INFO] [Bullet] Using shooter_position, distance=425,00003
[11:26:06] [INFO] [Bullet] Distance to wall: 425,00003 (28,939035% of viewport)
[11:26:06] [INFO] [Bullet] Within ricochet range - trying ricochet first
[11:26:06] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=391), can_see=false
[11:26:06] [ENEMY] [Grenadier] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1630), can_see=false
[11:26:06] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1849), can_see=false
[11:26:06] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1564), can_see=false
[11:26:06] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1874), can_see=false
[11:26:06] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2096), can_see=false
[11:26:06] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1294), can_see=false
[11:26:06] [INFO] [ImpactEffects] Spawning explosion visual effect at (866.6834, 693.5012) (radius=15) - using shadow-based wall occlusion
[11:26:06] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(866.6834, 693.5012), source=PLAYER (@Area2D@14998), range=500, listeners=7
[11:26:06] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=0, below_threshold=0
[11:26:06] [INFO] [BloodDecal] Blood puddle created at (581.7042, 727.9916) (added to group)
[11:26:06] [INFO] [BloodDecal] Blood puddle created at (567.0521, 704.4458) (added to group)
[11:26:06] [INFO] [BloodDecal] Blood puddle created at (591.4368, 755.0415) (added to group)
[11:26:06] [INFO] [BloodDecal] Blood puddle created at (595.085, 729.4786) (added to group)
[11:26:06] [INFO] [BloodDecal] Blood puddle created at (677.3508, 858.0031) (added to group)
[11:26:06] [INFO] [BloodDecal] Blood puddle created at (674.8121, 809.7349) (added to group)
[11:26:06] [INFO] [BloodDecal] Blood puddle created at (675.8232, 839.1798) (added to group)
[11:26:06] [INFO] [BloodDecal] Blood puddle created at (654.5008, 794.8712) (added to group)
[11:26:06] [INFO] [BloodDecal] Blood puddle created at (702.4371, 790.0765) (added to group)
[11:26:06] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(509.0728, 674.6588), source=NEUTRAL (null), range=900, listeners=7
[11:26:06] [ENEMY] [Enemy1] Heard CASING_KICK at (509.0728, 674.6588), intensity=1.00, dist=29
[11:26:06] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=0, below_threshold=0
[11:26:06] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(508.9133, 674.8738), source=NEUTRAL (null), range=900, listeners=7
[11:26:06] [ENEMY] [Enemy1] Heard CASING_KICK at (508.9133, 674.8738), intensity=1.00, dist=28
[11:26:06] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=0, below_threshold=0
[11:26:06] [ENEMY] [Enemy1] PURSUING corner check: angle 63.9°
[11:26:06] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(508.442, 675.8334), source=NEUTRAL (null), range=900, listeners=7
[11:26:06] [ENEMY] [Enemy1] Heard CASING_KICK at (508.442, 675.8334), intensity=1.00, dist=26
[11:26:06] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=0, below_threshold=0
[11:26:06] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(507.7523, 677.536), source=NEUTRAL (null), range=900, listeners=7
[11:26:06] [ENEMY] [Enemy1] Heard CASING_KICK at (507.7523, 677.536), intensity=1.00, dist=29
[11:26:06] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=0, below_threshold=0
[11:26:06] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(506.9674, 679.9769), source=NEUTRAL (null), range=900, listeners=7
[11:26:06] [ENEMY] [Enemy1] Heard CASING_KICK at (506.9674, 679.9769), intensity=1.00, dist=31
[11:26:06] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=0, below_threshold=0
[11:26:06] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(506.1921, 683.1347), source=NEUTRAL (null), range=900, listeners=7
[11:26:06] [ENEMY] [Enemy1] Heard CASING_KICK at (506.1921, 683.1347), intensity=1.00, dist=35
[11:26:06] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=0, below_threshold=0
[11:26:06] [INFO] [BloodDecal] Blood puddle created at (651.3027, 768.9932) (added to group)
[11:26:06] [INFO] [BloodDecal] Blood puddle created at (605.3427, 683.7665) (added to group)
[11:26:06] [INFO] [BloodDecal] Blood puddle created at (611.2488, 761.7081) (added to group)
[11:26:06] [INFO] [BloodDecal] Blood puddle created at (593.1383, 703.2321) (added to group)
[11:26:06] [INFO] [BloodDecal] Blood puddle created at (604.4831, 732.5542) (added to group)
[11:26:06] [INFO] [BloodDecal] Blood puddle created at (588.2276, 669.9398) (added to group)
[11:26:06] [INFO] [BloodDecal] Blood puddle created at (673.1324, 879.7852) (added to group)
[11:26:06] [INFO] [BloodDecal] Blood puddle created at (694.4697, 800.1072) (added to group)
[11:26:06] [INFO] [BloodDecal] Blood puddle created at (739.4224, 797.946) (added to group)
[11:26:06] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(80,771), corner_timer=-0.01
[11:26:06] [ENEMY] [Enemy10] PATROL corner check: angle 1.9°
[11:26:06] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.9°, current=5.7°, player=(80,769), corner_timer=0.30
[11:26:06] [INFO] [ReplayManager] Recording frame 180 (2,9s): player_valid=True, enemies=10
[11:26:06] [ENEMY] [Enemy2] Ragdoll activated
[11:26:06] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[11:26:06] [ENEMY] [Enemy4] Ragdoll activated
[11:26:06] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[11:26:06] [INFO] [Shotgun.FIX#445v7] TryProcessMidDragGesture - dragVector=(122,7, 325,0), length=347,4, isDragUp=False, isDragDown=True, ActionState=NeedsPumpUp
[11:26:06] [INFO] [BloodDecal] Blood puddle created at (632.6531, 760.7088) (added to group)
[11:26:06] [INFO] [BloodDecal] Blood puddle created at (626.4834, 729.6051) (added to group)
[11:26:06] [INFO] [BloodDecal] Blood puddle created at (608.0109, 758.8479) (added to group)
[11:26:06] [INFO] [BloodDecal] Blood puddle created at (589.1691, 730.4835) (added to group)
[11:26:06] [INFO] [BloodDecal] Blood puddle created at (616.2639, 661.1634) (added to group)
[11:26:06] [INFO] [BloodDecal] Blood puddle created at (601.3089, 746.8766) (added to group)
[11:26:06] [INFO] [BloodDecal] Blood puddle created at (623.0129, 762.6788) (added to group)
[11:26:06] [INFO] [BloodDecal] Blood puddle created at (693.9111, 806.7992) (added to group)
[11:26:06] [INFO] [BloodDecal] Blood puddle created at (704.2657, 809.2793) (added to group)
[11:26:06] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=390), can_see=false
[11:26:06] [ENEMY] [Grenadier] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1670), can_see=false
[11:26:06] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1895), can_see=false
[11:26:06] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1625), can_see=false
[11:26:06] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1948), can_see=false
[11:26:06] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2170), can_see=false
[11:26:06] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1372), can_see=false
[11:26:06] [INFO] [Shotgun.FIX#445v7] Mouse at top edge (Y=12), need PumpUp - recentering cursor
[11:26:06] [INFO] [Shotgun.FIX#445v7] Cursor recentered to (640, 360)
[11:26:06] [INFO] [BloodDecal] Blood puddle created at (640.085, 842.7201) (added to group)
[11:26:06] [INFO] [BloodDecal] Blood puddle created at (611.236, 807.1013) (added to group)
[11:26:06] [INFO] [BloodDecal] Blood puddle created at (637.5785, 794.8253) (added to group)
[11:26:06] [INFO] [BloodDecal] Blood puddle created at (617.3632, 797.0423) (added to group)
[11:26:06] [INFO] [BloodDecal] Blood puddle created at (637.3663, 801.6623) (added to group)
[11:26:06] [INFO] [BloodDecal] Blood puddle created at (627.9872, 716.7698) (added to group)
[11:26:06] [INFO] [BloodDecal] Blood puddle created at (651.1499, 798.5057) (added to group)
[11:26:06] [INFO] [BloodDecal] Blood puddle created at (611.7721, 817.9656) (added to group)
[11:26:06] [INFO] [BloodDecal] Blood puddle created at (669.8295, 731.8317) (added to group)
[11:26:06] [INFO] [BloodDecal] Blood puddle created at (625.6433, 761.1151) (added to group)
[11:26:06] [INFO] [BloodDecal] Blood puddle created at (691.6322, 720.7943) (added to group)
[11:26:06] [INFO] [BloodDecal] Blood puddle created at (669.3526, 748.1193) (added to group)
[11:26:06] [INFO] [BloodDecal] Blood puddle created at (671.7394, 681.6353) (added to group)
[11:26:06] [INFO] [BloodDecal] Blood puddle created at (682.8461, 734.6151) (added to group)
[11:26:06] [INFO] [BloodDecal] Blood puddle created at (759.6985, 795.7364) (added to group)
[11:26:06] [INFO] [BloodDecal] Blood puddle created at (780.6304, 811.0457) (added to group)
[11:26:06] [INFO] [BloodyFeet:Enemy3] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[11:26:06] [INFO] [BloodDecal] Blood puddle created at (624.2596, 838.7598) (added to group)
[11:26:06] [INFO] [BloodDecal] Blood puddle created at (641.5833, 897.8733) (added to group)
[11:26:06] [INFO] [BloodDecal] Blood puddle created at (672.6722, 819.6591) (added to group)
[11:26:06] [INFO] [BloodDecal] Blood puddle created at (704.3471, 798.9333) (added to group)
[11:26:06] [INFO] [BloodDecal] Blood puddle created at (667.5671, 742.5013) (added to group)
[11:26:06] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.8°, player=(80,762), corner_timer=-0.01
[11:26:06] [ENEMY] [Enemy10] PATROL corner check: angle 1.0°
[11:26:06] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.0°, current=4.1°, player=(80,764), corner_timer=0.30
[11:26:06] [ENEMY] [Enemy3] Death animation completed
[11:26:07] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=386), can_see=false
[11:26:07] [ENEMY] [Grenadier] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1674), can_see=false
[11:26:07] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1897), can_see=false
[11:26:07] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1624), can_see=false
[11:26:07] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1943), can_see=false
[11:26:07] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2165), can_see=false
[11:26:07] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1362), can_see=false
[11:26:07] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[11:26:07] [INFO] [ReplayManager] Recording frame 240 (3,7s): player_valid=True, enemies=10
[11:26:07] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=-129.0°, player=(80,770), corner_timer=-0.01
[11:26:07] [ENEMY] [Enemy7] PATROL corner check: angle 90.0°
[11:26:07] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=-131.3°, player=(80,770), corner_timer=0.30
[11:26:07] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[11:26:07] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=386), can_see=false
[11:26:07] [ENEMY] [Grenadier] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1674), can_see=false
[11:26:07] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1897), can_see=false
[11:26:07] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1545), can_see=false
[11:26:07] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1943), can_see=false
[11:26:07] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2165), can_see=false
[11:26:07] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1362), can_see=false
[11:26:07] [ENEMY] [Enemy4] Death animation completed
[11:26:07] [INFO] [Shotgun.FIX#445v7] TryProcessMidDragGesture - dragVector=(-38,7, 68,8), length=79,0, isDragUp=False, isDragDown=True, ActionState=NeedsPumpUp
[11:26:08] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=179.0°, current=175.9°, player=(80,770), corner_timer=-0.01
[11:26:08] [ENEMY] [Enemy7] PATROL corner check: angle 89.8°
[11:26:08] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.8°, current=178.1°, player=(80,770), corner_timer=0.30
[11:26:08] [ENEMY] [Enemy2] Death animation completed
[11:26:08] [INFO] [Shotgun.FIX#445v7] Mouse at top edge (Y=0), need PumpUp - recentering cursor
[11:26:08] [INFO] [Shotgun.FIX#445v7] Cursor recentered to (640, 360)
[11:26:08] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[11:26:08] [INFO] [Shotgun.FIX#445v7] Mid-drag pump UP - shell ejected, continue dragging DOWN to chamber
[11:26:08] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=386), can_see=false
[11:26:08] [ENEMY] [Grenadier] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1674), can_see=false
[11:26:08] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1897), can_see=false
[11:26:08] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1537), can_see=false
[11:26:08] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1943), can_see=false
[11:26:08] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2165), can_see=false
[11:26:08] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1362), can_see=false
[11:26:08] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[11:26:08] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=178.0°, current=125.2°, player=(80,770), corner_timer=-0.01
[11:26:08] [ENEMY] [Enemy7] PATROL corner check: angle 89.6°
[11:26:08] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.6°, current=127.5°, player=(80,770), corner_timer=0.30
[11:26:08] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[11:26:08] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[11:26:08] [INFO] [ReplayManager] Recording frame 300 (4,5s): player_valid=True, enemies=10
[11:26:08] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[11:26:08] [ENEMY] [Enemy1] PURSUING corner check: angle -95.6°
[11:26:08] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=348), can_see=false
[11:26:08] [ENEMY] [Grenadier] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1674), can_see=false
[11:26:08] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1897), can_see=false
[11:26:08] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1537), can_see=false
[11:26:08] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1943), can_see=false
[11:26:08] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2165), can_see=false
[11:26:08] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1362), can_see=false
[11:26:08] [INFO] [Shotgun.FIX#445v7] Mid-drag pump DOWN - chambered, ready to fire
[11:26:08] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.5°, current=89.6°, player=(80,770), corner_timer=-0.01
[11:26:08] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[11:26:08] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(80.07472, 770.3763), source=PLAYER (Player), range=600, listeners=7
[11:26:08] [ENEMY] [Enemy1] Heard player EMPTY_CLICK at (80.07472, 770.3763), intensity=0.02, distance=340
[11:26:08] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=0, below_threshold=0
[11:26:08] [INFO] [Shotgun.FIX#212] Firing 10 pellets with 15° spread at pos=(80.07472, 770.3763)
[11:26:08] [INFO] [Shotgun.FIX#212] Normal pellet 1/10: extraOffset=-2,2, distance=49,8px, pos=(128.07397, 757.0131)
[11:26:08] [INFO] [Shotgun.FIX#212] Normal pellet 2/10: extraOffset=-10,4, distance=41,6px, pos=(120.77858, 761.7002)
[11:26:08] [INFO] [Shotgun.FIX#212] Normal pellet 3/10: extraOffset=-6,3, distance=45,7px, pos=(125.08078, 762.72864)
[11:26:08] [INFO] [Shotgun.FIX#212] Normal pellet 4/10: extraOffset=-13,2, distance=38,8px, pos=(118.346405, 764.264)
[11:26:08] [INFO] [Shotgun.FIX#212] Normal pellet 5/10: extraOffset=4,3, distance=56,3px, pos=(135.79962, 762.61304)
[11:26:08] [INFO] [Shotgun.FIX#212] Normal pellet 6/10: extraOffset=-12,9, distance=39,1px, pos=(118.87529, 765.581)
[11:26:08] [INFO] [Shotgun.FIX#212] Normal pellet 7/10: extraOffset=10,7, distance=62,7px, pos=(142.67447, 767.0373)
[11:26:08] [INFO] [Shotgun.FIX#212] Normal pellet 8/10: extraOffset=-8,4, distance=43,6px, pos=(123.67687, 768.5521)
[11:26:08] [INFO] [Shotgun.FIX#212] Normal pellet 9/10: extraOffset=8,7, distance=60,7px, pos=(140.78772, 770.07477)
[11:26:08] [INFO] [Shotgun.FIX#212] Normal pellet 10/10: extraOffset=12,5, distance=64,5px, pos=(144.5507, 772.3838)
[11:26:08] [INFO] [Shotgun.FIX#445v7] Reset drag start position after firing (continuous pump mode)
[11:26:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(80.07472, 770.3763), source=PLAYER (Shotgun), range=1469, listeners=7
[11:26:08] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=1
[11:26:08] [ENEMY] [Enemy1] Pursuing vulnerability sound at (80.07472, 770.3763), distance=340
[11:26:08] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=91.9°, player=(80,770), corner_timer=0.30
[11:26:08] [INFO] [ImpactEffects] Spawning explosion visual effect at (256.5223, 721.2526) (radius=15) - using shadow-based wall occlusion
[11:26:08] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(256.5223, 721.2526), source=PLAYER (ShotgunPellet), range=500, listeners=7
[11:26:08] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=0, below_threshold=0
[11:26:08] [INFO] [ImpactEffects] Spawning explosion visual effect at (316.3845, 720.0067) (radius=15) - using shadow-based wall occlusion
[11:26:08] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(316.3845, 720.0067), source=PLAYER (@Area2D@15275), range=500, listeners=7
[11:26:08] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=0, below_threshold=0
[11:26:08] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[11:26:09] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[11:26:09] [INFO] [ImpactEffects] Spawning explosion visual effect at (387.979, 718.0558) (radius=15) - using shadow-based wall occlusion
[11:26:09] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(387.979, 718.0558), source=PLAYER (@Area2D@15276), range=500, listeners=7
[11:26:09] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=0, below_threshold=0
[11:26:09] [INFO] [ImpactEffects] Spawning explosion visual effect at (414.5921, 716.9514) (radius=15) - using shadow-based wall occlusion
[11:26:09] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(414.5921, 716.9514), source=PLAYER (@Area2D@15277), range=500, listeners=7
[11:26:09] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=0, below_threshold=0
[11:26:09] [INFO] [ImpactEffects] Spawning explosion visual effect at (465.9446, 716.6194) (radius=15) - using shadow-based wall occlusion
[11:26:09] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(465.9446, 716.6194), source=PLAYER (@Area2D@15278), range=500, listeners=7
[11:26:09] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=0, below_threshold=0
[11:26:09] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[11:26:09] [INFO] [ImpactEffects] Spawning explosion visual effect at (852.5411, 794.4276) (radius=15) - using shadow-based wall occlusion
[11:26:09] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(852.5411, 794.4276), source=PLAYER (@Area2D@15283), range=500, listeners=7
[11:26:09] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=0, below_threshold=0
[11:26:09] [INFO] [ImpactEffects] Spawning explosion visual effect at (863.2123, 673.5895) (radius=15) - using shadow-based wall occlusion
[11:26:09] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(863.2123, 673.5895), source=PLAYER (@Area2D@15279), range=500, listeners=7
[11:26:09] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=0, below_threshold=0
[11:26:09] [INFO] [ImpactEffects] Spawning explosion visual effect at (891.6099, 727.0897) (radius=15) - using shadow-based wall occlusion
[11:26:09] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(891.6099, 727.0897), source=PLAYER (@Area2D@15280), range=500, listeners=7
[11:26:09] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=0, below_threshold=0
[11:26:09] [INFO] [ImpactEffects] Spawning explosion visual effect at (873.0214, 737.2026) (radius=15) - using shadow-based wall occlusion
[11:26:09] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(873.0214, 737.2026), source=PLAYER (@Area2D@15281), range=500, listeners=7
[11:26:09] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=0, below_threshold=0
[11:26:09] [INFO] [ImpactEffects] Spawning explosion visual effect at (890.7784, 766.3504) (radius=15) - using shadow-based wall occlusion
[11:26:09] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(890.7784, 766.3504), source=PLAYER (@Area2D@15282), range=500, listeners=7
[11:26:09] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=0, below_threshold=0
[11:26:09] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.5°, player=(80,770), corner_timer=-0.02
[11:26:09] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[11:26:09] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[11:26:09] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(80,770), corner_timer=0.30
[11:26:09] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[11:26:09] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=451), can_see=false
[11:26:09] [ENEMY] [Grenadier] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1674), can_see=false
[11:26:09] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1897), can_see=false
[11:26:09] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1537), can_see=false
[11:26:09] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1943), can_see=false
[11:26:09] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2165), can_see=false
[11:26:09] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1362), can_see=false
[11:26:09] [INFO] [Shotgun.FIX#243] RMB released after 3 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[11:26:09] [INFO] [Shotgun.FIX#445v7] ProcessDragGesture - dragVector=(-0,4, -4,6), length=4,6, ActionState=NeedsPumpUp
[11:26:09] [INFO] [Shotgun.FIX#445v7] Drag too short: 4,6 < 30
[11:26:10] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(495.7934, 718.887), source=NEUTRAL (null), range=900, listeners=7
[11:26:10] [ENEMY] [Enemy1] Heard CASING_KICK at (495.7934, 718.887), intensity=1.00, dist=31
[11:26:10] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=0, below_threshold=0
[11:26:10] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(495.1801, 719.1736), source=NEUTRAL (null), range=900, listeners=7
[11:26:10] [ENEMY] [Enemy1] Heard CASING_KICK at (495.1801, 719.1736), intensity=1.00, dist=34
[11:26:10] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=0, below_threshold=0
[11:26:10] [ENEMY] [Enemy1] State: PURSUING -> RETREATING
[11:26:10] [ENEMY] [Enemy1] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=-95.6°, current=-146.6°, player=(80,770), corner_timer=0.24
[11:26:10] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(80,770), corner_timer=-0.02
[11:26:10] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[11:26:10] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(80,770), corner_timer=0.30
[11:26:10] [ENEMY] [Enemy1] State: RETREATING -> IN_COVER
[11:26:10] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[11:26:10] [INFO] [ReplayManager] Recording frame 360 (5,4s): player_valid=True, enemies=10
[11:26:10] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[11:26:10] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=452), can_see=false
[11:26:10] [ENEMY] [Grenadier] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1674), can_see=false
[11:26:10] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1897), can_see=false
[11:26:10] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1537), can_see=false
[11:26:10] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1943), can_see=false
[11:26:10] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2165), can_see=false
[11:26:10] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1362), can_see=false
[11:26:10] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(80,770), corner_timer=-0.02
[11:26:10] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[11:26:10] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(80,770), corner_timer=0.30
[11:26:10] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[11:26:10] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[11:26:10] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(80,770), corner_timer=-0.02
[11:26:10] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[11:26:10] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(80,770), corner_timer=0.30
[11:26:10] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=NeedsPumpUp, ReloadState=NotReloading
[11:26:10] [INFO] [Shotgun.FIX#445] dragStartPos=(683, 707), aimDir=(0,99, -0,10)
[11:26:11] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[11:26:11] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=452), can_see=false
[11:26:11] [ENEMY] [Grenadier] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1674), can_see=false
[11:26:11] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1897), can_see=false
[11:26:11] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1537), can_see=false
[11:26:11] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1943), can_see=false
[11:26:11] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2165), can_see=false
[11:26:11] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1362), can_see=false
[11:26:11] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[11:26:11] [INFO] [Shotgun.FIX#445v7] Mid-drag pump UP - shell ejected, continue dragging DOWN to chamber
[11:26:11] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[11:26:11] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(80,770), corner_timer=-0.02
[11:26:11] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[11:26:11] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(80,770), corner_timer=0.30
[11:26:11] [INFO] [ReplayManager] Recording frame 420 (6,4s): player_valid=True, enemies=10
[11:26:11] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[11:26:11] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[11:26:11] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[11:26:11] [INFO] [Shotgun.FIX#445v7] Mid-drag pump DOWN - chambered, ready to fire
[11:26:11] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=452), can_see=false
[11:26:11] [ENEMY] [Grenadier] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1674), can_see=false
[11:26:11] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1897), can_see=false
[11:26:11] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(80,770), corner_timer=-0.02
[11:26:11] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1537), can_see=false
[11:26:11] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[11:26:11] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1943), can_see=false
[11:26:11] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2165), can_see=false
[11:26:11] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1362), can_see=false
[11:26:11] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(80,770), corner_timer=0.30
[11:26:11] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[11:26:11] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[11:26:11] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[11:26:11] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[11:26:11] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(80,770), corner_timer=-0.02
[11:26:11] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[11:26:11] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(80,770), corner_timer=0.30
[11:26:12] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[11:26:12] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=452), can_see=false
[11:26:12] [ENEMY] [Grenadier] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1674), can_see=false
[11:26:12] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1897), can_see=false
[11:26:12] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1537), can_see=false
[11:26:12] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1943), can_see=false
[11:26:12] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2165), can_see=false
[11:26:12] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1362), can_see=false
[11:26:12] [INFO] [Shotgun.FIX#243] RMB released after 5 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[11:26:12] [INFO] [Shotgun.FIX#445v7] ProcessDragGesture - dragVector=(1,3, 275,2), length=275,2, ActionState=Ready
[11:26:12] [INFO] [Shotgun.FIX#445v7] Screen-based pump gesture: isDragUp=False, isDragDown=True
[11:26:12] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(80,770), corner_timer=-0.02
[11:26:12] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[11:26:12] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(80,770), corner_timer=0.30
[11:26:12] [INFO] [ReplayManager] Recording frame 480 (7,4s): player_valid=True, enemies=10
[11:26:12] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[11:26:12] [INFO] [ScoreManager] Combo ended at 3. Max combo: 3
[11:26:12] [ENEMY] [Enemy1] State: SUPPRESSED -> IN_COVER
[11:26:12] [ENEMY] [Enemy1] State: IN_COVER -> PURSUING
[11:26:12] [ENEMY] [Enemy1] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=169.2°, current=-95.6°, player=(80,770), corner_timer=0.24
[11:26:12] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(80,770), corner_timer=-0.02
[11:26:12] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[11:26:12] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(80,770), corner_timer=0.30
[11:26:12] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=452), can_see=false
[11:26:12] [ENEMY] [Grenadier] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1674), can_see=false
[11:26:12] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1897), can_see=false
[11:26:12] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1537), can_see=false
[11:26:12] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1943), can_see=false
[11:26:12] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2165), can_see=false
[11:26:12] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1362), can_see=false
[11:26:12] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[11:26:12] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(80,785), corner_timer=-0.02
[11:26:12] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[11:26:12] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(80,788), corner_timer=0.30
[11:26:13] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[11:26:13] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=451), can_see=false
[11:26:13] [ENEMY] [Grenadier] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1674), can_see=false
[11:26:13] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1891), can_see=false
[11:26:13] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1514), can_see=false
[11:26:13] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1903), can_see=false
[11:26:13] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2125), can_see=false
[11:26:13] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1308), can_see=false
[11:26:13] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(125,863), corner_timer=-0.02
[11:26:13] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[11:26:13] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(129,866), corner_timer=0.30
[11:26:13] [INFO] [ReplayManager] Recording frame 540 (8,4s): player_valid=True, enemies=10
[11:26:13] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[11:26:13] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(152.6239, 890.3076), source=PLAYER (Player), range=600, listeners=7
[11:26:13] [ENEMY] [Enemy1] Heard player EMPTY_CLICK at (152.6239, 890.3076), intensity=0.01, distance=424
[11:26:13] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=0, below_threshold=0
[11:26:13] [INFO] [Shotgun.FIX#212] Firing 11 pellets with 15° spread at pos=(152.62393, 890.30756)
[11:26:13] [INFO] [Shotgun.FIX#212] Normal pellet 1/11: extraOffset=2,5, distance=54,5px, pos=(197.33109, 859.1687)
[11:26:13] [INFO] [Shotgun.FIX#212] Normal pellet 2/11: extraOffset=10,9, distance=62,9px, pos=(204.79988, 855.12933)
[11:26:13] [INFO] [Shotgun.FIX#212] Normal pellet 3/11: extraOffset=12,4, distance=64,4px, pos=(205.96393, 854.2385)
[11:26:13] [INFO] [Shotgun.FIX#212] Normal pellet 4/11: extraOffset=3,8, distance=55,8px, pos=(199.6693, 860.32916)
[11:26:13] [INFO] [Shotgun.FIX#212] Normal pellet 5/11: extraOffset=6,1, distance=58,1px, pos=(202.64246, 860.7367)
[11:26:13] [INFO] [Shotgun.FIX#212] Normal pellet 6/11: extraOffset=13,3, distance=65,3px, pos=(210.40044, 859.8019)
[11:26:13] [INFO] [Shotgun.FIX#212] Normal pellet 7/11: extraOffset=-7,7, distance=44,3px, pos=(191.98247, 869.91846)
[11:26:13] [INFO] [Shotgun.FIX#212] Normal pellet 8/11: extraOffset=-12,0, distance=40,0px, pos=(188.52072, 872.6975)
[11:26:13] [INFO] [Shotgun.FIX#212] Normal pellet 9/11: extraOffset=14,9, distance=66,9px, pos=(214.04506, 863.913)
[11:26:13] [INFO] [Shotgun.FIX#212] Normal pellet 10/11: extraOffset=5,5, distance=57,5px, pos=(205.78148, 868.49084)
[11:26:13] [INFO] [Shotgun.FIX#212] Normal pellet 11/11: extraOffset=-13,0, distance=39,0px, pos=(188.82211, 875.65967)
[11:26:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(152.6239, 890.3076), source=PLAYER (Shotgun), range=1469, listeners=7
[11:26:13] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=0, below_threshold=2
[11:26:13] [ENEMY] [Enemy1] Pursuing vulnerability sound at (152.6239, 890.3076), distance=424
[11:26:13] [INFO] [ImpactEffects] Spawning explosion visual effect at (368.2845, 740.0983) (radius=15) - using shadow-based wall occlusion
[11:26:13] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(368.2845, 740.0983), source=PLAYER (ShotgunPellet), range=500, listeners=7
[11:26:13] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=0, below_threshold=0
[11:26:13] [INFO] [ImpactEffects] Spawning explosion visual effect at (377.539, 738.6648) (radius=15) - using shadow-based wall occlusion
[11:26:13] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(377.539, 738.6648), source=PLAYER (@Area2D@15583), range=500, listeners=7
[11:26:13] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=0, below_threshold=0
[11:26:13] [INFO] [ImpactEffects] Spawning explosion visual effect at (378.5439, 737.5384) (radius=15) - using shadow-based wall occlusion
[11:26:13] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(378.5439, 737.5384), source=PLAYER (@Area2D@15584), range=500, listeners=7
[11:26:13] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=0, below_threshold=0
[11:26:13] [INFO] [ImpactEffects] Spawning explosion visual effect at (410.5026, 725.9814) (radius=15) - using shadow-based wall occlusion
[11:26:13] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(410.5026, 725.9814), source=PLAYER (@Area2D@15585), range=500, listeners=7
[11:26:13] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=0, below_threshold=0
[11:26:13] [INFO] [ImpactEffects] Spawning explosion visual effect at (417.8469, 733.5084) (radius=15) - using shadow-based wall occlusion
[11:26:13] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(417.8469, 733.5084), source=PLAYER (@Area2D@15586), range=500, listeners=7
[11:26:13] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=0, below_threshold=0
[11:26:13] [INFO] [ImpactEffects] Spawning explosion visual effect at (468.3229, 723.6202) (radius=15) - using shadow-based wall occlusion
[11:26:13] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(468.3229, 723.6202), source=PLAYER (@Area2D@15587), range=500, listeners=7
[11:26:13] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=0, below_threshold=0
[11:26:13] [INFO] [ImpactEffects] Spawning explosion visual effect at (450.9622, 735.7581) (radius=15) - using shadow-based wall occlusion
[11:26:13] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(450.9622, 735.7581), source=PLAYER (@Area2D@15588), range=500, listeners=7
[11:26:13] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=0, below_threshold=0
[11:26:13] [INFO] [ImpactEffects] Spawning explosion visual effect at (450.3751, 744.2383) (radius=15) - using shadow-based wall occlusion
[11:26:13] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(450.3751, 744.2383), source=PLAYER (@Area2D@15589), range=500, listeners=7
[11:26:13] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=0, below_threshold=0
[11:26:13] [INFO] [ImpactEffects] Spawning explosion visual effect at (482.0164, 748.7574) (radius=15) - using shadow-based wall occlusion
[11:26:13] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(482.0164, 748.7574), source=PLAYER (@Area2D@15590), range=500, listeners=7
[11:26:13] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=0, below_threshold=0
[11:26:13] [INFO] [SoundPropagation] Sound emitted: type=CASING_KICK, pos=(521.5056, 748.5112), source=NEUTRAL (null), range=900, listeners=7
[11:26:13] [ENEMY] [Enemy1] Heard CASING_KICK at (521.5056, 748.5112), intensity=1.00, dist=29
[11:26:13] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=0, below_threshold=0
[11:26:13] [INFO] [ImpactEffects] Spawning explosion visual effect at (514.1537, 741.9298) (radius=15) - using shadow-based wall occlusion
[11:26:13] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(514.1537, 741.9298), source=PLAYER (@Area2D@15591), range=500, listeners=7
[11:26:13] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=0, below_threshold=0
[11:26:13] [INFO] [ImpactEffects] Spawning explosion visual effect at (497.8155, 750.623) (radius=15) - using shadow-based wall occlusion
[11:26:13] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(497.8155, 750.623), source=PLAYER (@Area2D@15592), range=500, listeners=7
[11:26:13] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=0, below_threshold=0
[11:26:13] [ENEMY] [Enemy1] Hit: dmg=1, hp=4/4->3/4
[11:26:13] [INFO] [ImpactEffects] spawn_blood_effect called at (522.9935, 719.7187), dir=(0.99393, -0.110014), lethal=false
[11:26:13] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[11:26:13] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[11:26:13] [INFO] [ImpactEffects] Blood effect spawned at (522.9935, 719.7187) (scale=1)
[11:26:13] [ENEMY] [Enemy1] Hit: dmg=1, hp=3/4->2/4
[11:26:13] [INFO] [ImpactEffects] spawn_blood_effect called at (522.9935, 719.7187), dir=(0.940996, -0.338419), lethal=false
[11:26:13] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[11:26:13] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[11:26:13] [INFO] [ImpactEffects] Blood effect spawned at (522.9935, 719.7187) (scale=1)
[11:26:13] [ENEMY] [Enemy1] Hit: dmg=1, hp=2/4->1/4
[11:26:13] [INFO] [ImpactEffects] spawn_blood_effect called at (522.9935, 719.7187), dir=(0.997529, -0.070252), lethal=false
[11:26:13] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[11:26:13] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[11:26:13] [INFO] [ImpactEffects] Blood effect spawned at (522.9935, 719.7187) (scale=1)
[11:26:13] [ENEMY] [Enemy1] Hit: dmg=1, hp=1/4->0/4
[11:26:13] [INFO] [ImpactEffects] spawn_blood_effect called at (522.9935, 719.7187), dir=(0.896393, -0.44326), lethal=true
[11:26:13] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[11:26:13] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[11:26:13] [INFO] [ImpactEffects] Blood effect spawned at (522.9935, 719.7187) (scale=1.5)
[11:26:13] [ENEMY] [Enemy1] Enemy died (ricochet: false, penetration: false)
[11:26:13] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[11:26:13] [INFO] [SoundPropagation] Unregistered listener: Enemy1 (remaining: 6)
[11:26:13] [INFO] [DeathAnim] Started - Angle: -26.3 deg, Index: 10
[11:26:13] [ENEMY] [Enemy1] Death animation started with hit direction: (0.896393, -0.44326)
[11:26:13] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(204,933), corner_timer=-0.02
[11:26:13] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[11:26:13] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(208,935), corner_timer=0.30
[11:26:13] [ENEMY] [Grenadier] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1596), can_see=false
[11:26:13] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1801), can_see=false
[11:26:13] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1395), can_see=false
[11:26:13] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1758), can_see=false
[11:26:13] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1979), can_see=false
[11:26:13] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1151), can_see=false
[11:26:13] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[11:26:13] [INFO] [BloodDecal] Blood puddle created at (584.1127, 702.1329) (added to group)
[11:26:13] [INFO] [BloodDecal] Blood puddle created at (584.3965, 761.0999) (added to group)
[11:26:13] [INFO] [BloodDecal] Blood puddle created at (571.5043, 724.9333) (added to group)
[11:26:13] [INFO] [BloodDecal] Blood puddle created at (565.9724, 747.0172) (added to group)
[11:26:13] [INFO] [BloodDecal] Blood puddle created at (576.9186, 742.1695) (added to group)
[11:26:13] [INFO] [BloodDecal] Blood puddle created at (608.0427, 712.3575) (added to group)
[11:26:13] [INFO] [BloodDecal] Blood puddle created at (572.7902, 741.4813) (added to group)
[11:26:13] [INFO] [BloodDecal] Blood puddle created at (598.8724, 716.4767) (added to group)
[11:26:13] [INFO] [BloodDecal] Blood puddle created at (573.1508, 732.7026) (added to group)
[11:26:13] [INFO] [BloodDecal] Blood puddle created at (595.1926, 697.004) (added to group)
[11:26:13] [INFO] [BloodDecal] Blood puddle created at (596.0981, 731.2969) (added to group)
[11:26:13] [INFO] [BloodDecal] Blood puddle created at (607.2176, 730.967) (added to group)
[11:26:13] [INFO] [BloodDecal] Blood puddle created at (607.73, 737.5433) (added to group)
[11:26:14] [INFO] [BloodDecal] Blood puddle created at (617.7203, 709.7946) (added to group)
[11:26:14] [INFO] [BloodDecal] Blood puddle created at (584.6848, 711.8289) (added to group)
[11:26:14] [INFO] [BloodDecal] Blood puddle created at (614.548, 735.4138) (added to group)
[11:26:14] [INFO] [BloodDecal] Blood puddle created at (616.4463, 712.5126) (added to group)
[11:26:14] [INFO] [BloodDecal] Blood puddle created at (637.7586, 697.3658) (added to group)
[11:26:14] [INFO] [BloodDecal] Blood puddle created at (582.375, 707.6292) (added to group)
[11:26:14] [INFO] [BloodDecal] Blood puddle created at (644.7211, 769.0854) (added to group)
[11:26:14] [INFO] [BloodDecal] Blood puddle created at (586.2544, 700.5418) (added to group)
[11:26:14] [INFO] [BloodDecal] Blood puddle created at (631.2396, 774.1019) (added to group)
[11:26:14] [INFO] [BloodDecal] Blood puddle created at (610.5899, 781.2582) (added to group)
[11:26:14] [INFO] [BloodDecal] Blood puddle created at (619.6082, 793.2106) (added to group)
[11:26:14] [INFO] [BloodDecal] Blood puddle created at (634.6681, 743.6482) (added to group)
[11:26:14] [INFO] [BloodDecal] Blood puddle created at (591.951, 755.8056) (added to group)
[11:26:14] [INFO] [BloodDecal] Blood puddle created at (579.5649, 727.6456) (added to group)
[11:26:14] [INFO] [BloodDecal] Blood puddle created at (586.7389, 701.6302) (added to group)
[11:26:14] [INFO] [BloodDecal] Blood puddle created at (651.5146, 727.732) (added to group)
[11:26:14] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(231,949), corner_timer=-0.02
[11:26:14] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[11:26:14] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(231,949), corner_timer=0.30
[11:26:14] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[11:26:14] [ENEMY] [Enemy1] Ragdoll activated
[11:26:14] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[11:26:14] [INFO] [BloodDecal] Blood puddle created at (669.1288, 763.8534) (added to group)
[11:26:14] [INFO] [BloodDecal] Blood puddle created at (631.1694, 683.8364) (added to group)
[11:26:14] [INFO] [BloodDecal] Blood puddle created at (600.9471, 737.0927) (added to group)
[11:26:14] [INFO] [BloodDecal] Blood puddle created at (689.6376, 719.1302) (added to group)
[11:26:14] [INFO] [BloodDecal] Blood puddle created at (664.6429, 710.5925) (added to group)
[11:26:14] [INFO] [BloodDecal] Blood puddle created at (593.9921, 707.14) (added to group)
[11:26:14] [INFO] [BloodDecal] Blood puddle created at (602.1754, 742.9133) (added to group)
[11:26:14] [INFO] [BloodDecal] Blood puddle created at (682.5717, 728.1504) (added to group)
[11:26:14] [INFO] [BloodDecal] Blood puddle created at (595.0196, 732.7653) (added to group)
[11:26:14] [INFO] [BloodDecal] Blood puddle created at (680.0192, 753.4193) (added to group)
[11:26:14] [INFO] [BloodDecal] Blood puddle created at (634.2523, 723.9761) (added to group)
[11:26:14] [INFO] [BloodDecal] Blood puddle created at (641.7296, 718.8074) (added to group)
[11:26:14] [INFO] [BloodDecal] Blood puddle created at (649.9463, 674.8174) (added to group)
[11:26:14] [INFO] [BloodDecal] Blood puddle created at (666.56, 825.3396) (added to group)
[11:26:14] [INFO] [BloodDecal] Blood puddle created at (703.802, 797.5989) (added to group)
[11:26:14] [INFO] [BloodDecal] Blood puddle created at (754.4764, 781.014) (added to group)
[11:26:14] [INFO] [BloodDecal] Blood puddle created at (678.9987, 757.7826) (added to group)
[11:26:14] [INFO] [BloodDecal] Blood puddle created at (657.392, 765.8788) (added to group)
[11:26:14] [INFO] [BloodDecal] Blood puddle created at (715.3676, 761.8946) (added to group)
[11:26:14] [INFO] [BloodDecal] Blood puddle created at (618.3297, 726.124) (added to group)
[11:26:14] [INFO] [BloodDecal] Blood puddle created at (667.0856, 746.1019) (added to group)
[11:26:14] [ENEMY] [Grenadier] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1586), can_see=false
[11:26:14] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1790), can_see=false
[11:26:14] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1381), can_see=false
[11:26:14] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1742), can_see=false
[11:26:14] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1963), can_see=false
[11:26:14] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1134), can_see=false
[11:26:14] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(231,949), corner_timer=-0.02
[11:26:14] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[11:26:14] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(231,949), corner_timer=0.30
[11:26:14] [INFO] [ReplayManager] Recording frame 600 (9,4s): player_valid=True, enemies=10
[11:26:14] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[11:26:14] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(231,949), corner_timer=-0.02
[11:26:14] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[11:26:14] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(231,949), corner_timer=0.30
[11:26:14] [ENEMY] [Grenadier] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1586), can_see=false
[11:26:14] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1790), can_see=false
[11:26:14] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1381), can_see=false
[11:26:14] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1742), can_see=false
[11:26:14] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1963), can_see=false
[11:26:14] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1134), can_see=false
[11:26:14] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[11:26:14] [ENEMY] [Enemy1] Death animation completed
[11:26:15] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(231,949), corner_timer=-0.02
[11:26:15] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[11:26:15] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(231,949), corner_timer=0.30
[11:26:15] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[11:26:15] [ENEMY] [Grenadier] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1586), can_see=false
[11:26:15] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1790), can_see=false
[11:26:15] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1381), can_see=false
[11:26:15] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1742), can_see=false
[11:26:15] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1963), can_see=false
[11:26:15] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1134), can_see=false
[11:26:15] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(231,949), corner_timer=-0.02
[11:26:15] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[11:26:15] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(231,949), corner_timer=0.30
[11:26:15] [INFO] ------------------------------------------------------------
[11:26:15] [INFO] GAME LOG ENDED: 2026-02-14T11:26:15
[11:26:15] [INFO] ============================================================
