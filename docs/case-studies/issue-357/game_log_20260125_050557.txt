[05:05:57] [INFO] ============================================================
[05:05:57] [INFO] GAME LOG STARTED
[05:05:57] [INFO] ============================================================
[05:05:57] [INFO] Timestamp: 2026-01-25T05:05:57
[05:05:57] [INFO] Log file: I:/Загрузки/godot exe/game_log_20260125_050557.txt
[05:05:57] [INFO] Executable: I:/Загрузки/godot exe/Godot-Top-Down-Template.exe
[05:05:57] [INFO] OS: Windows
[05:05:57] [INFO] Debug build: false
[05:05:57] [INFO] Engine version: 4.3-stable (official)
[05:05:57] [INFO] Project: Godot Top-Down Template
[05:05:57] [INFO] ------------------------------------------------------------
[05:05:57] [INFO] [GameManager] GameManager ready
[05:05:57] [INFO] [ScoreManager] ScoreManager ready
[05:05:57] [INFO] [SoundPropagation] SoundPropagation autoload initialized
[05:05:57] [INFO] [ImpactEffects] Scenes loaded: DustEffect, BloodEffect, SparksEffect, BloodDecal
[05:05:57] [INFO] [ImpactEffects] ImpactEffectsManager ready - FULL VERSION with blood effects enabled
[05:05:57] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[05:05:57] [INFO] [PenultimateHit] Saturation shader loaded successfully
[05:05:57] [INFO] [PenultimateHit] PenultimateHitEffectsManager ready - Configuration:
[05:05:57] [INFO] [PenultimateHit]   Time scale: 0.10 (10x slowdown)
[05:05:57] [INFO] [PenultimateHit]   Saturation boost: 2.0 (3.0x)
[05:05:57] [INFO] [PenultimateHit]   Contrast boost: 1.0 (2.0x)
[05:05:57] [INFO] [PenultimateHit]   Effect duration: 3.0 real seconds
[05:05:57] [INFO] [LastChance] Resetting all effects (scene change detected)
[05:05:57] [INFO] [LastChance] Last chance shader loaded successfully
[05:05:57] [INFO] [LastChance] LastChanceEffectsManager ready - Configuration:
[05:05:57] [INFO] [LastChance]   Freeze duration: 6.0 real seconds
[05:05:57] [INFO] [LastChance]   Sepia intensity: 0.70
[05:05:57] [INFO] [LastChance]   Brightness: 0.60
[05:05:57] [INFO] [GrenadeManager] Loaded grenade scene: res://scenes/projectiles/FlashbangGrenade.tscn
[05:05:57] [INFO] [GrenadeManager] Loaded grenade scene: res://scenes/projectiles/FragGrenade.tscn
[05:05:57] [INFO] [ExperimentalSettings] ExperimentalSettings initialized - FOV enabled: true
[05:05:57] [ENEMY] [Enemy1] Death animation component initialized
[05:05:57] [ENEMY] [Enemy2] Death animation component initialized
[05:05:57] [ENEMY] [Enemy3] Death animation component initialized
[05:05:57] [ENEMY] [Enemy4] Death animation component initialized
[05:05:57] [ENEMY] [Enemy5] Death animation component initialized
[05:05:57] [ENEMY] [Enemy6] Death animation component initialized
[05:05:57] [ENEMY] [Enemy7] Death animation component initialized
[05:05:57] [ENEMY] [Enemy8] Death animation component initialized
[05:05:57] [ENEMY] [Enemy9] Death animation component initialized
[05:05:57] [ENEMY] [Enemy10] Death animation component initialized
[05:05:57] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[05:05:57] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[05:05:57] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[05:05:57] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[05:05:57] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[05:05:57] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[05:05:57] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[05:05:57] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[05:05:57] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[05:05:57] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[05:05:57] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[05:05:57] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[05:05:57] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[05:05:57] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[05:05:57] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[05:05:57] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[05:05:57] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[05:05:57] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[05:05:57] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[05:05:57] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[05:05:57] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[05:05:57] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[05:05:57] [INFO] [ScoreManager] Level started with 10 enemies
[05:05:57] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 1)
[05:05:57] [ENEMY] [Enemy1] Registered as sound listener
[05:05:57] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[05:05:57] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 2)
[05:05:57] [ENEMY] [Enemy2] Registered as sound listener
[05:05:57] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[05:05:57] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 3)
[05:05:57] [ENEMY] [Enemy3] Registered as sound listener
[05:05:57] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[05:05:57] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 4)
[05:05:57] [ENEMY] [Enemy4] Registered as sound listener
[05:05:57] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[05:05:57] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 5)
[05:05:57] [ENEMY] [Enemy5] Registered as sound listener
[05:05:57] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[05:05:57] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 6)
[05:05:57] [ENEMY] [Enemy6] Registered as sound listener
[05:05:57] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[05:05:57] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 7)
[05:05:57] [ENEMY] [Enemy7] Registered as sound listener
[05:05:57] [ENEMY] [Enemy7] Enemy spawned at (1606.114, 893.8859), health: 3, behavior: PATROL, player_found: yes
[05:05:57] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 8)
[05:05:57] [ENEMY] [Enemy8] Registered as sound listener
[05:05:57] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[05:05:57] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 9)
[05:05:57] [ENEMY] [Enemy9] Registered as sound listener
[05:05:57] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[05:05:57] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 10)
[05:05:57] [ENEMY] [Enemy10] Registered as sound listener
[05:05:57] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[05:05:57] [INFO] [Player] Detecting weapon pose (frame 3)...
[05:05:57] [INFO] [Player] Detected weapon: Rifle (default pose)
[05:05:57] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[05:05:57] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[05:05:57] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[05:05:57] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[05:05:57] [INFO] [LastChance] Found player: Player
[05:05:57] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[05:05:57] [INFO] [LastChance] Connected to player Damaged signal (C#)
[05:05:57] [INFO] [LastChance] Connected to player Died signal (C#)
[05:05:59] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[05:05:59] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[05:06:00] [ENEMY] [Enemy10] PATROL corner check: angle 3.4°
[05:06:01] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[05:06:01] [INFO] [Player.Debug] Debug mode toggled: ON
[05:06:01] [INFO] [GameManager] Debug mode toggled: ON
[05:06:01] [ENEMY] [Enemy7] PATROL corner check: angle 89.8°
[05:06:02] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[05:06:02] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[05:06:02] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[05:06:02] [ENEMY] [Enemy4] Memory: high confidence (0.89) - transitioning to PURSUING
[05:06:02] [ENEMY] [Enemy4] State: IDLE -> PURSUING
[05:06:02] [ENEMY] [Enemy4] PURSUING corner check: angle -113.2°
[05:06:03] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[05:06:03] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[05:06:03] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[05:06:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(780.9274, 901.8837), source=ENEMY (Enemy4), range=1469, listeners=10
[05:06:03] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=7
[05:06:03] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(756.2081, 838.4837), shooter_id=43922753066, bullet_pos=(756.2081, 838.4837)
[05:06:03] [INFO] [Bullet] Using shooter_position, distance=0
[05:06:03] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[05:06:03] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[05:06:03] [INFO] [Bullet] Starting wall penetration at (756.2081, 838.4837)
[05:06:03] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[05:06:03] [INFO] [Bullet] Raycast backward hit penetrating body at distance 17.2165718078613
[05:06:03] [INFO] [Bullet] Body exited signal received for penetrating body
[05:06:03] [INFO] [Bullet] Exiting penetration at (744.3513, 793.3484) after traveling 41.6666641235352 pixels through wall
[05:06:03] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[05:06:03] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[05:06:03] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[05:06:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(784.0659, 881.7941), source=ENEMY (Enemy4), range=1469, listeners=10
[05:06:03] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=7
[05:06:03] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[05:06:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=10
[05:06:03] [ENEMY] [Enemy2] Heard gunshot at (700, 750), source_type=1, intensity=0.02, distance=361
[05:06:03] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[05:06:03] [INFO] [LastChance] Threat detected: @Area2D@287
[05:06:03] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[05:06:03] [INFO] [LastChance] Cannot trigger effect - conditions not met
[05:06:03] [ENEMY] [Enemy3] State: PURSUING -> COMBAT
[05:06:03] [INFO] [LastChance] Threat detected: Bullet
[05:06:03] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[05:06:03] [INFO] [LastChance] Cannot trigger effect - conditions not met
[05:06:03] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[05:06:03] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[05:06:03] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[05:06:03] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[05:06:03] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[05:06:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(784.0668, 859.3898), source=ENEMY (Enemy4), range=1469, listeners=10
[05:06:03] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[05:06:03] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[05:06:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=10
[05:06:03] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[05:06:03] [INFO] [LastChance] Threat detected: @Area2D@291
[05:06:03] [INFO] [LastChance] Triggering last chance effect!
[05:06:03] [INFO] [LastChance] Starting last chance effect:
[05:06:03] [INFO] [LastChance]   - Time will be frozen (except player)
[05:06:03] [INFO] [LastChance]   - Duration: 6.0 real seconds
[05:06:03] [INFO] [LastChance]   - Sepia intensity: 0.70
[05:06:03] [INFO] [LastChance]   - Brightness: 0.60
[05:06:03] [INFO] [LastChance] Pushed bullet Bullet from distance 100.3 to 200.0
[05:06:03] [INFO] [LastChance] Pushed bullet @Area2D@291 from distance 136.6 to 200.0
[05:06:03] [INFO] [LastChance] Pushed 2 threatening bullets away from player
[05:06:03] [INFO] [LastChance] Set player Player and all 19 children to PROCESS_MODE_ALWAYS
[05:06:03] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[05:06:03] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[05:06:03] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[05:06:03] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[05:06:03] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[05:06:03] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[05:06:03] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[05:06:03] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[05:06:03] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[05:06:03] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[05:06:03] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[05:06:03] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[05:06:03] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[05:06:03] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[05:06:03] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[05:06:03] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[05:06:03] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[05:06:03] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[05:06:03] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[05:06:03] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[05:06:03] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[05:06:03] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[05:06:03] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[05:06:03] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[05:06:03] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[05:06:03] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[05:06:03] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[05:06:03] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[05:06:03] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[05:06:03] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[05:06:03] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[05:06:03] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[05:06:03] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[05:06:03] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[05:06:03] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[05:06:03] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[05:06:03] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[05:06:03] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[05:06:03] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[05:06:03] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[05:06:03] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[05:06:03] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[05:06:03] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[05:06:03] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[05:06:03] [INFO] [LastChance] Skipping player node: Player
[05:06:03] [INFO] [LastChance] Froze existing bullet casing: Casing
[05:06:03] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@286
[05:06:03] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@288
[05:06:03] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@290
[05:06:03] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@292
[05:06:03] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[05:06:03] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[05:06:03] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[05:06:04] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[05:06:04] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[05:06:04] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[05:06:04] [INFO] [LastChance] Resetting all effects (scene change detected)
[05:06:04] [INFO] [LastChance] Ending last chance effect
[05:06:04] [ENEMY] [Enemy1] Memory reset: confusion=2.0s, had_target=false
[05:06:04] [ENEMY] [Enemy2] Memory reset: confusion=2.0s, had_target=false
[05:06:04] [ENEMY] [Enemy3] Memory reset: confusion=2.0s, had_target=false
[05:06:04] [ENEMY] [Enemy4] Memory reset: confusion=2.0s, had_target=false
[05:06:04] [ENEMY] [Enemy5] Memory reset: confusion=2.0s, had_target=false
[05:06:04] [ENEMY] [Enemy6] Memory reset: confusion=2.0s, had_target=false
[05:06:04] [ENEMY] [Enemy7] Memory reset: confusion=2.0s, had_target=false
[05:06:04] [ENEMY] [Enemy8] Memory reset: confusion=2.0s, had_target=false
[05:06:04] [ENEMY] [Enemy9] Memory reset: confusion=2.0s, had_target=false
[05:06:04] [ENEMY] [Enemy10] Memory reset: confusion=2.0s, had_target=false
[05:06:04] [INFO] [LastChance] Reset memory for 10 enemies (player teleport effect)
[05:06:04] [INFO] [LastChance] All process modes restored
[05:06:04] [INFO] [LastChance] Restored original colors to 5 player sprites
[05:06:04] [ENEMY] [Enemy1] Death animation component initialized
[05:06:04] [ENEMY] [Enemy2] Death animation component initialized
[05:06:04] [ENEMY] [Enemy3] Death animation component initialized
[05:06:04] [ENEMY] [Enemy4] Death animation component initialized
[05:06:04] [ENEMY] [Enemy5] Death animation component initialized
[05:06:04] [ENEMY] [Enemy6] Death animation component initialized
[05:06:04] [ENEMY] [Enemy7] Death animation component initialized
[05:06:04] [ENEMY] [Enemy8] Death animation component initialized
[05:06:04] [ENEMY] [Enemy9] Death animation component initialized
[05:06:04] [ENEMY] [Enemy10] Death animation component initialized
[05:06:04] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[05:06:04] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[05:06:04] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[05:06:04] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[05:06:04] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[05:06:04] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[05:06:04] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[05:06:04] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[05:06:04] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[05:06:04] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[05:06:04] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[05:06:04] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[05:06:04] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[05:06:04] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[05:06:04] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[05:06:04] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[05:06:04] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[05:06:04] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[05:06:04] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[05:06:04] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[05:06:04] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[05:06:04] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[05:06:04] [INFO] [ScoreManager] Level started with 10 enemies
[05:06:04] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[05:06:04] [ENEMY] [Enemy1] Registered as sound listener
[05:06:04] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[05:06:04] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[05:06:04] [ENEMY] [Enemy2] Registered as sound listener
[05:06:04] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[05:06:04] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[05:06:04] [ENEMY] [Enemy3] Registered as sound listener
[05:06:04] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[05:06:04] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[05:06:04] [ENEMY] [Enemy4] Registered as sound listener
[05:06:04] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[05:06:04] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[05:06:04] [ENEMY] [Enemy5] Registered as sound listener
[05:06:04] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[05:06:04] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[05:06:04] [ENEMY] [Enemy6] Registered as sound listener
[05:06:04] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[05:06:04] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[05:06:04] [ENEMY] [Enemy7] Registered as sound listener
[05:06:04] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[05:06:04] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[05:06:04] [ENEMY] [Enemy8] Registered as sound listener
[05:06:04] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[05:06:04] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[05:06:04] [ENEMY] [Enemy9] Registered as sound listener
[05:06:04] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[05:06:04] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[05:06:04] [ENEMY] [Enemy10] Registered as sound listener
[05:06:04] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[05:06:04] [INFO] [Player] Detecting weapon pose (frame 3)...
[05:06:04] [INFO] [Player] Detected weapon: Rifle (default pose)
[05:06:04] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[05:06:04] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[05:06:04] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[05:06:04] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[05:06:04] [INFO] [LastChance] Found player: Player
[05:06:04] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[05:06:04] [INFO] [LastChance] Connected to player Damaged signal (C#)
[05:06:04] [INFO] [LastChance] Connected to player Died signal (C#)
[05:06:06] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[05:06:06] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[05:06:06] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[05:06:06] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[05:06:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=20
[05:06:06] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[05:06:06] [ENEMY] [Enemy2] Heard gunshot at (700, 750), source_type=1, intensity=0.02, distance=361
[05:06:06] [ENEMY] [Enemy4] Heard gunshot at (700, 750), source_type=1, intensity=0.08, distance=180
[05:06:06] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[05:06:06] [INFO] [LastChance] Threat detected: Bullet
[05:06:06] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[05:06:06] [INFO] [LastChance] Cannot trigger effect - conditions not met
[05:06:06] [ENEMY] [Enemy1] Memory: medium confidence (0.63) - transitioning to PURSUING
[05:06:06] [ENEMY] [Enemy1] State: IDLE -> PURSUING
[05:06:06] [ENEMY] [Enemy1] PURSUING corner check: angle -63.3°
[05:06:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(632.0843, 745.7514), shooter_id=929927531311, bullet_pos=(427.0188, 708.9963)
[05:06:06] [INFO] [Bullet] Using shooter_position, distance=208.33332824707
[05:06:06] [INFO] [Bullet] Distance to wall: 208.33332824707 (14.1857994115535% of viewport)
[05:06:06] [INFO] [Bullet] Within ricochet range - trying ricochet first
[05:06:06] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[05:06:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=10
[05:06:06] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[05:06:06] [INFO] [LastChance] Threat detected: @Area2D@545
[05:06:06] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[05:06:06] [INFO] [LastChance] Cannot trigger effect - conditions not met
[05:06:07] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[05:06:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=10
[05:06:07] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[05:06:07] [INFO] [LastChance] Threat detected: @Area2D@547
[05:06:07] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[05:06:07] [INFO] [LastChance] Cannot trigger effect - conditions not met
[05:06:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(632.0843, 745.7514), shooter_id=929927531311, bullet_pos=(34.03161, 744.4524)
[05:06:07] [INFO] [Bullet] Using shooter_position, distance=598.054077148438
[05:06:07] [INFO] [Bullet] Distance to wall: 598.054077148438 (40.7226018375138% of viewport)
[05:06:07] [INFO] [Bullet] Distance-based penetration chance: 99.1569645229006%
[05:06:07] [INFO] [Bullet] Starting wall penetration at (34.03161, 744.4524)
[05:06:07] [INFO] [Bullet] Raycast backward hit penetrating body at distance 38.3768081665039
[05:06:07] [INFO] [Bullet] Body exited signal received for penetrating body
[05:06:07] [INFO] [Bullet] Exiting penetration at (-6.221565, 748.0841) after traveling 35.4166679382324 pixels through wall
[05:06:07] [INFO] [Bullet] Damage multiplier after penetration: 0.45
[05:06:07] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[05:06:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=10
[05:06:07] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[05:06:07] [INFO] [LastChance] Threat detected: Bullet
[05:06:07] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[05:06:07] [INFO] [LastChance] Cannot trigger effect - conditions not met
[05:06:07] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[05:06:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=10
[05:06:07] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[05:06:07] [INFO] [LastChance] Threat detected: Bullet
[05:06:07] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[05:06:07] [INFO] [LastChance] Cannot trigger effect - conditions not met
[05:06:07] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[05:06:07] [ENEMY] [Enemy10] PATROL corner check: angle 3.4°
[05:06:07] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[05:06:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(784.0662, 814.1559), source=ENEMY (Enemy4), range=1469, listeners=10
[05:06:07] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[05:06:07] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[05:06:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=10
[05:06:07] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[05:06:07] [INFO] [LastChance] Threat detected: @Area2D@553
[05:06:07] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[05:06:07] [INFO] [LastChance] Cannot trigger effect - conditions not met
[05:06:07] [INFO] [LastChance] Threat detected: Bullet
[05:06:07] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[05:06:07] [INFO] [LastChance] Cannot trigger effect - conditions not met
[05:06:07] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[05:06:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(781.0718, 798.2264), source=ENEMY (Enemy4), range=1469, listeners=10
[05:06:07] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[05:06:07] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[05:06:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700, 750), source=ENEMY (Enemy3), range=1469, listeners=10
[05:06:07] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[05:06:07] [INFO] [LastChance] Threat detected: @Area2D@557
[05:06:07] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[05:06:07] [INFO] [LastChance] Cannot trigger effect - conditions not met
[05:06:07] [INFO] [LastChance] Threat detected: @Area2D@555
[05:06:07] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[05:06:07] [INFO] [LastChance] Cannot trigger effect - conditions not met
[05:06:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(744.2911, 758.9423), shooter_id=930212744000, bullet_pos=(520.7831, 358.8004)
[05:06:07] [INFO] [Bullet] Using shooter_position, distance=458.333282470703
[05:06:07] [INFO] [Bullet] Distance to wall: 458.333282470703 (31.2087560040204% of viewport)
[05:06:07] [INFO] [Bullet] Within ricochet range - trying ricochet first
[05:06:07] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[05:06:07] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[05:06:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(786.7036, 781.9311), source=ENEMY (Enemy4), range=1469, listeners=10
[05:06:07] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[05:06:07] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[05:06:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(699.6389, 753.7158), source=ENEMY (Enemy3), range=1469, listeners=10
[05:06:07] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[05:06:07] [INFO] [LastChance] Threat detected: @Area2D@560
[05:06:07] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[05:06:07] [INFO] [LastChance] Cannot trigger effect - conditions not met
[05:06:07] [INFO] [LastChance] Threat detected: @Area2D@562
[05:06:07] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[05:06:07] [INFO] [LastChance] Cannot trigger effect - conditions not met
[05:06:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(676.9691, 685.9674), shooter_id=929927531311, bullet_pos=(524.7298, 36.91601)
[05:06:07] [INFO] [Bullet] Using shooter_position, distance=666.666687011719
[05:06:07] [INFO] [Bullet] Distance to wall: 666.666687011719 (45.3945606105689% of viewport)
[05:06:07] [INFO] [Bullet] Distance-based penetration chance: 93.7063459543362%
[05:06:07] [INFO] [Bullet] Penetration failed (distance roll)
[05:06:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(744.2911, 758.9423), shooter_id=930212744000, bullet_pos=(642.3579, 58.74423)
[05:06:07] [INFO] [Bullet] Using shooter_position, distance=707.578796386719
[05:06:07] [INFO] [Bullet] Distance to wall: 707.578796386719 (48.1803413686482% of viewport)
[05:06:07] [INFO] [Bullet] Distance-based penetration chance: 90.4562684032438%
[05:06:07] [INFO] [Bullet] Starting wall penetration at (642.3579, 58.74423)
[05:06:07] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[05:06:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(786.7036, 781.9311), source=ENEMY (Enemy4), range=1469, listeners=10
[05:06:07] [ENEMY] [Enemy3] Heard gunshot at (786.7036, 781.9311), source_type=1, intensity=0.35, distance=85
[05:06:07] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[05:06:07] [INFO] [Bullet] Raycast backward hit penetrating body at distance 11.5605916976929
[05:06:07] [INFO] [Bullet] Body exited signal received for penetrating body
[05:06:07] [INFO] [Bullet] Exiting penetration at (657.5352, 21.28548) after traveling 35.4166679382324 pixels through wall
[05:06:07] [INFO] [Bullet] Damage multiplier after penetration: 0.45
[05:06:07] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[05:06:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(702.2195, 779.5408), source=ENEMY (Enemy3), range=1469, listeners=10
[05:06:07] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[05:06:07] [INFO] [LastChance] Threat detected: @Area2D@566
[05:06:07] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[05:06:07] [INFO] [LastChance] Cannot trigger effect - conditions not met
[05:06:07] [ENEMY] [Enemy1] State: PURSUING -> RETREATING
[05:06:07] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[05:06:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(688.4089, 682.9459), shooter_id=929927531311, bullet_pos=(653.2444, 58.93596)
[05:06:07] [INFO] [Bullet] Using shooter_position, distance=624.999938964844
[05:06:07] [INFO] [Bullet] Distance to wall: 624.999938964844 (42.5573951176636% of viewport)
[05:06:07] [INFO] [Bullet] Distance-based penetration chance: 97.0163723627258%
[05:06:07] [INFO] [Bullet] Starting wall penetration at (653.2444, 58.93596)
[05:06:07] [INFO] [LastChance] Threat detected: @Area2D@568
[05:06:07] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[05:06:07] [INFO] [LastChance] Cannot trigger effect - conditions not met
[05:06:07] [ENEMY] [Enemy1] State: RETREATING -> IN_COVER
[05:06:07] [INFO] [Bullet] Raycast backward hit penetrating body at distance 19.6879787445068
[05:06:07] [INFO] [Bullet] Body exited signal received for penetrating body
[05:06:07] [INFO] [Bullet] Exiting penetration at (650.6188, 12.34321) after traveling 41.6666679382324 pixels through wall
[05:06:07] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[05:06:07] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[05:06:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(748.4278, 738.519), shooter_id=930212744000, bullet_pos=(466.4418, 43.54847)
[05:06:07] [INFO] [Bullet] Using shooter_position, distance=750.000122070313
[05:06:07] [INFO] [Bullet] Distance to wall: 750.000122070313 (51.0688874403836% of viewport)
[05:06:07] [INFO] [Bullet] Distance-based penetration chance: 87.0862979862191%
[05:06:07] [INFO] [Bullet] Starting wall penetration at (466.4418, 43.54847)
[05:06:07] [INFO] [Bullet] Raycast backward hit penetrating body at distance 34.2037582397461
[05:06:07] [INFO] [Bullet] Body exited signal received for penetrating body
[05:06:07] [INFO] [Bullet] Exiting penetration at (448.896, 0.305859) after traveling 41.6666679382324 pixels through wall
[05:06:07] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[05:06:07] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[05:06:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(786.7036, 781.9311), source=ENEMY (Enemy4), range=1469, listeners=10
[05:06:07] [ENEMY] [Enemy3] Heard gunshot at (786.7036, 781.9311), source_type=1, intensity=0.40, distance=79
[05:06:07] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[05:06:07] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[05:06:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(708.4446, 768.15), source=ENEMY (Enemy3), range=1469, listeners=10
[05:06:07] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[05:06:07] [INFO] [LastChance] Threat detected: Bullet
[05:06:07] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[05:06:07] [INFO] [LastChance] Cannot trigger effect - conditions not met
[05:06:07] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[05:06:07] [INFO] [LastChance] Threat detected: @Area2D@573
[05:06:07] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[05:06:07] [INFO] [LastChance] Cannot trigger effect - conditions not met
[05:06:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(760.1783, 719.2652), shooter_id=930212744000, bullet_pos=(560.6608, 39.61175)
[05:06:07] [INFO] [Bullet] Using shooter_position, distance=708.333312988281
[05:06:07] [INFO] [Bullet] Distance to wall: 708.333312988281 (48.2317177914822% of viewport)
[05:06:07] [INFO] [Bullet] Distance-based penetration chance: 90.3963292432707%
[05:06:07] [INFO] [Bullet] Penetration failed (distance roll)
[05:06:07] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[05:06:07] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[05:06:07] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[05:06:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(786.7036, 781.9311), source=ENEMY (Enemy4), range=1469, listeners=10
[05:06:07] [ENEMY] [Enemy3] Heard gunshot at (786.7036, 781.9311), source_type=1, intensity=0.48, distance=72
[05:06:07] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[05:06:08] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[05:06:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(714.4581, 779.2999), source=ENEMY (Enemy3), range=1469, listeners=10
[05:06:08] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[05:06:08] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[05:06:08] [INFO] [LastChance] Threat detected: Bullet
[05:06:08] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[05:06:08] [INFO] [LastChance] Cannot trigger effect - conditions not met
[05:06:08] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[05:06:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(770.3026, 715.8886), shooter_id=930212744000, bullet_pos=(684.8466, 54.72162)
[05:06:08] [INFO] [Bullet] Using shooter_position, distance=666.666748046875
[05:06:08] [INFO] [Bullet] Distance to wall: 666.666748046875 (45.394564766565% of viewport)
[05:06:08] [INFO] [Bullet] Distance-based penetration chance: 93.7063411056742%
[05:06:08] [INFO] [Bullet] Starting wall penetration at (684.8466, 54.72162)
[05:06:08] [INFO] [Bullet] Raycast backward hit penetrating body at distance 23.7560424804688
[05:06:08] [INFO] [Bullet] Body exited signal received for penetrating body
[05:06:08] [INFO] [Bullet] Exiting penetration at (678.8646, 8.439938) after traveling 41.6666717529297 pixels through wall
[05:06:08] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[05:06:08] [INFO] [LastChance] Threat detected: @Area2D@577
[05:06:08] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[05:06:08] [INFO] [LastChance] Cannot trigger effect - conditions not met
[05:06:08] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[05:06:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(772.4697, 775.3463), source=ENEMY (Enemy4), range=1469, listeners=10
[05:06:08] [ENEMY] [Enemy3] Heard gunshot at (772.4697, 775.3463), source_type=1, intensity=0.82, distance=55
[05:06:08] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[05:06:08] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[05:06:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(717.6853, 767.359), source=ENEMY (Enemy3), range=1469, listeners=10
[05:06:08] [ENEMY] [Enemy4] Heard gunshot at (717.6853, 767.359), source_type=1, intensity=0.91, distance=52
[05:06:08] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[05:06:08] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[05:06:08] [INFO] [LastChance] Threat detected: Bullet
[05:06:08] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[05:06:08] [INFO] [LastChance] Cannot trigger effect - conditions not met
[05:06:08] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[05:06:08] [INFO] [LastChance] Threat detected: @Area2D@581
[05:06:08] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[05:06:08] [INFO] [LastChance] Cannot trigger effect - conditions not met
[05:06:08] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[05:06:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(751.2905, 766.0513), source=ENEMY (Enemy4), range=1469, listeners=10
[05:06:08] [ENEMY] [Enemy3] Heard gunshot at (751.2905, 766.0513), source_type=1, intensity=1.00, distance=22
[05:06:08] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[05:06:08] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[05:06:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(731.0891, 773.6515), source=ENEMY (Enemy3), range=1469, listeners=10
[05:06:08] [ENEMY] [Enemy4] Heard gunshot at (731.0891, 773.6515), source_type=1, intensity=1.00, distance=19
[05:06:08] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[05:06:08] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[05:06:08] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[05:06:08] [INFO] [LastChance] Threat detected: @Area2D@583
[05:06:08] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[05:06:08] [INFO] [LastChance] Cannot trigger effect - conditions not met
[05:06:08] [INFO] [LastChance] Threat detected: @Area2D@585
[05:06:08] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[05:06:08] [INFO] [LastChance] Cannot trigger effect - conditions not met
[05:06:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(806.7338, 716.5536), shooter_id=930212744000, bullet_pos=(990.6045, 296.7192)
[05:06:08] [INFO] [Bullet] Using shooter_position, distance=458.333251953125
[05:06:08] [INFO] [Bullet] Distance to wall: 458.333251953125 (31.2087539260224% of viewport)
[05:06:08] [INFO] [Bullet] Within ricochet range - trying ricochet first
[05:06:08] [INFO] [Bullet] Starting wall penetration at (990.6045, 296.7192)
[05:06:08] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[05:06:08] [INFO] [Bullet] Exiting penetration at (1009.326, 253.9724) after traveling 41.6666679382324 pixels through wall
[05:06:08] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[05:06:08] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[05:06:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(759.2537, 770.2217), source=ENEMY (Enemy4), range=1469, listeners=10
[05:06:08] [ENEMY] [Enemy3] Heard gunshot at (759.2537, 770.2217), source_type=1, intensity=1.00, distance=13
[05:06:08] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[05:06:08] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[05:06:08] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[05:06:08] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[05:06:08] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[05:06:08] [INFO] [LastChance] Threat detected: Bullet
[05:06:08] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[05:06:08] [INFO] [LastChance] Cannot trigger effect - conditions not met
[05:06:08] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[05:06:08] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[05:06:08] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[05:06:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(809.5618, 724.3993), shooter_id=930212744000, bullet_pos=(919.1019, 598.7858)
[05:06:08] [INFO] [Bullet] Using shooter_position, distance=166.66667175293
[05:06:08] [INFO] [Bullet] Distance to wall: 166.66667175293 (11.3486401526422% of viewport)
[05:06:08] [INFO] [Bullet] Within ricochet range - trying ricochet first
[05:06:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(779.9953, 726.3358), shooter_id=929927531311, bullet_pos=(1334.973, 49.85523)
[05:06:08] [INFO] [Bullet] Using shooter_position, distance=875.000366210938
[05:06:08] [INFO] [Bullet] Distance to wall: 875.000366210938 (59.5803839190996% of viewport)
[05:06:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(809.5618, 724.3993), shooter_id=930212744000, bullet_pos=(469.0528, 45.34155)
[05:06:08] [INFO] [Bullet] Using shooter_position, distance=759.648498535156
[05:06:08] [INFO] [Bullet] Distance to wall: 759.648498535156 (51.7258631356747% of viewport)
[05:06:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(779.9953, 726.3358), shooter_id=929927531311, bullet_pos=(1554.726, 287.6003)
[05:06:08] [INFO] [Bullet] Using shooter_position, distance=890.334777832031
[05:06:08] [INFO] [Bullet] Distance to wall: 890.334777832031 (60.6245322038765% of viewport)
[05:06:08] [INFO] [Bullet] Distance-based penetration chance: 75.9380457621441%
[05:06:08] [INFO] [Bullet] Starting wall penetration at (1554.726, 287.6003)
[05:06:08] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[05:06:08] [INFO] [Bullet] Exiting penetration at (1582.16, 317.2802) after traveling 35.4166717529297 pixels through wall
[05:06:08] [INFO] [Bullet] Damage multiplier after penetration: 0.45
[05:06:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(809.5618, 724.3993), shooter_id=930212744000, bullet_pos=(302.4095, 226.0736)
[05:06:08] [INFO] [Bullet] Using shooter_position, distance=711.007690429688
[05:06:08] [INFO] [Bullet] Distance to wall: 711.007690429688 (48.4138210692141% of viewport)
[05:06:08] [INFO] [Bullet] Distance-based penetration chance: 90.1838754192503%
[05:06:08] [INFO] [Bullet] Starting wall penetration at (302.4095, 226.0736)
[05:06:08] [ENEMY] [Enemy2] PURSUING corner check: angle 139.1°
[05:06:08] [ENEMY] [Enemy7] PATROL corner check: angle 89.8°
[05:06:08] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[05:06:08] [INFO] [Bullet] Exiting penetration at (278.6135, 251.8815) after traveling 30.1041641235352 pixels through wall
[05:06:08] [INFO] [Bullet] Damage multiplier after penetration: 0.225
[05:06:09] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[05:06:09] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[05:06:10] [ENEMY] [Enemy1] State: SUPPRESSED -> IN_COVER
[05:06:10] [ENEMY] [Enemy1] State: IN_COVER -> PURSUING
[05:06:10] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[05:06:10] [ENEMY] [Enemy4] State: SUPPRESSED -> IN_COVER
[05:06:10] [ENEMY] [Enemy4] State: IN_COVER -> PURSUING
[05:06:10] [ENEMY] [Enemy3] State: SUPPRESSED -> IN_COVER
[05:06:10] [ENEMY] [Enemy3] State: IN_COVER -> PURSUING
[05:06:10] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[05:06:11] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[05:06:11] [ENEMY] [Enemy2] PURSUING corner check: angle -31.5°
[05:06:11] [ENEMY] [Enemy1] FLANKING started: target=(936.9166, 473.0996), side=right, pos=(456.5407, 434.3517)
[05:06:11] [ENEMY] [Enemy1] State: PURSUING -> FLANKING
[05:06:11] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[05:06:12] [ENEMY] [Enemy1] FLANKING corner check: angle 171.5°
[05:06:12] [ENEMY] [Enemy4] PURSUING corner check: angle -146.2°
[05:06:12] [ENEMY] [Enemy3] PURSUING corner check: angle -146.3°
[05:06:12] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[05:06:12] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[05:06:13] [ENEMY] [Enemy2] FLANKING started: target=(937.0917, 871.9735), side=left, pos=(641.6719, 822.0474)
[05:06:13] [ENEMY] [Enemy2] State: PURSUING -> FLANKING
[05:06:13] [ENEMY] [Enemy1] FLANKING corner check: angle -109.8°
[05:06:13] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[05:06:13] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[05:06:13] [ENEMY] [Enemy2] FLANKING corner check: angle -156.0°
[05:06:14] [ENEMY] [Enemy1] FLANKING corner check: angle -173.7°
[05:06:14] [ENEMY] [Enemy1] Player distracted - priority attack triggered
[05:06:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1113.51, 591.1569), source=ENEMY (Enemy1), range=1469, listeners=10
[05:06:14] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=1, below_threshold=6
[05:06:14] [INFO] [LastChance] Threat detected: Bullet
[05:06:14] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[05:06:14] [INFO] [LastChance] Cannot trigger effect - conditions not met
[05:06:14] [ENEMY] [Enemy1] State: FLANKING -> COMBAT
[05:06:14] [ENEMY] [Enemy4] FLANKING started: target=(976.9575, 474.0932), side=right, pos=(874.1055, 613.4722)
[05:06:14] [ENEMY] [Enemy4] State: PURSUING -> FLANKING
[05:06:14] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[05:06:14] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[05:06:14] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[05:06:14] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[05:06:14] [ENEMY] [Enemy1] Player distracted - priority attack triggered
[05:06:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1129.016, 595.0997), source=ENEMY (Enemy1), range=1469, listeners=10
[05:06:14] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=1, below_threshold=6
[05:06:14] [INFO] [LastChance] Threat detected: Bullet
[05:06:14] [INFO] [LastChance] Triggering last chance effect!
[05:06:14] [INFO] [LastChance] Starting last chance effect:
[05:06:14] [INFO] [LastChance]   - Time will be frozen (except player)
[05:06:14] [INFO] [LastChance]   - Duration: 6.0 real seconds
[05:06:14] [INFO] [LastChance]   - Sepia intensity: 0.70
[05:06:14] [INFO] [LastChance]   - Brightness: 0.60
[05:06:14] [INFO] [LastChance] Pushed bullet Bullet from distance 125.9 to 200.0
[05:06:14] [INFO] [LastChance] Pushed 1 threatening bullets away from player
[05:06:14] [INFO] [LastChance] Set player Player and all 19 children to PROCESS_MODE_ALWAYS
[05:06:14] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[05:06:14] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[05:06:14] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[05:06:14] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[05:06:14] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[05:06:14] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[05:06:14] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[05:06:14] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[05:06:14] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[05:06:14] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[05:06:14] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[05:06:14] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[05:06:14] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[05:06:14] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[05:06:14] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[05:06:14] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[05:06:14] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[05:06:14] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[05:06:14] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[05:06:14] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[05:06:14] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[05:06:14] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[05:06:14] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[05:06:14] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[05:06:14] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[05:06:14] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[05:06:14] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[05:06:14] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[05:06:14] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[05:06:14] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[05:06:14] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[05:06:14] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[05:06:14] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[05:06:14] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[05:06:14] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[05:06:14] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[05:06:14] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[05:06:14] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[05:06:14] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[05:06:14] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[05:06:14] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[05:06:14] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[05:06:14] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[05:06:14] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[05:06:14] [INFO] [LastChance] Skipping player node: Player
[05:06:14] [INFO] [LastChance] Froze existing bullet casing: Casing
[05:06:14] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@546
[05:06:14] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@548
[05:06:14] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@550
[05:06:14] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@551
[05:06:14] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@552
[05:06:14] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@554
[05:06:14] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@556
[05:06:14] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@558
[05:06:14] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@561
[05:06:14] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@563
[05:06:14] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@567
[05:06:14] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@569
[05:06:14] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@572
[05:06:14] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@574
[05:06:14] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@576
[05:06:14] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@578
[05:06:14] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@580
[05:06:14] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@582
[05:06:14] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@584
[05:06:14] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@586
[05:06:14] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@588
[05:06:14] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@594
[05:06:14] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@595
[05:06:14] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[05:06:14] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[05:06:14] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[05:06:15] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[05:06:15] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[05:06:15] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[05:06:15] [INFO] [LastChance] Resetting all effects (scene change detected)
[05:06:15] [INFO] [LastChance] Ending last chance effect
[05:06:15] [ENEMY] [Enemy1] Memory reset: confusion=2.0s, had_target=false
[05:06:15] [ENEMY] [Enemy2] Memory reset: confusion=2.0s, had_target=false
[05:06:15] [ENEMY] [Enemy3] Memory reset: confusion=2.0s, had_target=false
[05:06:15] [ENEMY] [Enemy4] Memory reset: confusion=2.0s, had_target=false
[05:06:15] [ENEMY] [Enemy5] Memory reset: confusion=2.0s, had_target=false
[05:06:15] [ENEMY] [Enemy6] Memory reset: confusion=2.0s, had_target=false
[05:06:15] [ENEMY] [Enemy7] Memory reset: confusion=2.0s, had_target=false
[05:06:15] [ENEMY] [Enemy8] Memory reset: confusion=2.0s, had_target=false
[05:06:15] [ENEMY] [Enemy9] Memory reset: confusion=2.0s, had_target=false
[05:06:15] [ENEMY] [Enemy10] Memory reset: confusion=2.0s, had_target=false
[05:06:15] [INFO] [LastChance] Reset memory for 10 enemies (player teleport effect)
[05:06:15] [INFO] [LastChance] All process modes restored
[05:06:15] [INFO] [LastChance] Restored original colors to 5 player sprites
[05:06:15] [ENEMY] [Enemy1] Death animation component initialized
[05:06:15] [ENEMY] [Enemy2] Death animation component initialized
[05:06:15] [ENEMY] [Enemy3] Death animation component initialized
[05:06:15] [ENEMY] [Enemy4] Death animation component initialized
[05:06:15] [ENEMY] [Enemy5] Death animation component initialized
[05:06:15] [ENEMY] [Enemy6] Death animation component initialized
[05:06:15] [ENEMY] [Enemy7] Death animation component initialized
[05:06:15] [ENEMY] [Enemy8] Death animation component initialized
[05:06:15] [ENEMY] [Enemy9] Death animation component initialized
[05:06:15] [ENEMY] [Enemy10] Death animation component initialized
[05:06:15] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[05:06:15] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[05:06:15] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[05:06:15] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[05:06:15] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[05:06:15] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[05:06:15] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[05:06:15] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[05:06:15] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[05:06:15] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[05:06:15] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[05:06:15] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[05:06:15] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[05:06:15] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[05:06:15] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[05:06:15] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[05:06:15] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[05:06:15] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[05:06:15] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[05:06:15] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[05:06:15] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[05:06:15] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[05:06:15] [INFO] [ScoreManager] Level started with 10 enemies
[05:06:15] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[05:06:15] [ENEMY] [Enemy1] Registered as sound listener
[05:06:15] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[05:06:15] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[05:06:15] [ENEMY] [Enemy2] Registered as sound listener
[05:06:15] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[05:06:15] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[05:06:15] [ENEMY] [Enemy3] Registered as sound listener
[05:06:15] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[05:06:15] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[05:06:15] [ENEMY] [Enemy4] Registered as sound listener
[05:06:15] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[05:06:15] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[05:06:15] [ENEMY] [Enemy5] Registered as sound listener
[05:06:15] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[05:06:15] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[05:06:15] [ENEMY] [Enemy6] Registered as sound listener
[05:06:15] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[05:06:15] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[05:06:15] [ENEMY] [Enemy7] Registered as sound listener
[05:06:15] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[05:06:15] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[05:06:15] [ENEMY] [Enemy8] Registered as sound listener
[05:06:15] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[05:06:15] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[05:06:15] [ENEMY] [Enemy9] Registered as sound listener
[05:06:15] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[05:06:15] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[05:06:15] [ENEMY] [Enemy10] Registered as sound listener
[05:06:15] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[05:06:15] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[05:06:15] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[05:06:15] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[05:06:15] [INFO] [LastChance] Found player: Player
[05:06:15] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[05:06:15] [INFO] [LastChance] Connected to player Damaged signal (C#)
[05:06:15] [INFO] [LastChance] Connected to player Died signal (C#)
[05:06:15] [INFO] [Player] Detecting weapon pose (frame 3)...
[05:06:15] [INFO] [Player] Detected weapon: Rifle (default pose)
[05:06:15] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[05:06:17] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[05:06:17] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[05:06:18] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[05:06:18] [ENEMY] [Enemy10] PATROL corner check: angle 3.4°
[05:06:18] [ENEMY] [Enemy3] Memory: high confidence (0.90) - transitioning to PURSUING
[05:06:18] [ENEMY] [Enemy3] State: IDLE -> PURSUING
[05:06:18] [ENEMY] [Enemy3] PURSUING corner check: angle 141.3°
[05:06:18] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[05:06:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(784.0668, 877.2967), source=ENEMY (Enemy4), range=1469, listeners=20
[05:06:18] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[05:06:18] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=7
[05:06:18] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(755.6773, 815.453), shooter_id=4349627467753, bullet_pos=(755.6773, 815.453)
[05:06:18] [INFO] [Bullet] Using shooter_position, distance=0
[05:06:18] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[05:06:18] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[05:06:18] [INFO] [Bullet] Starting wall penetration at (755.6773, 815.453)
[05:06:18] [INFO] [Bullet] Raycast backward hit penetrating body at distance 40.930549621582
[05:06:18] [INFO] [Bullet] Body exited signal received for penetrating body
[05:06:18] [INFO] [Bullet] Exiting penetration at (741.1979, 771.0895) after traveling 41.6666717529297 pixels through wall
[05:06:18] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[05:06:18] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[05:06:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(784.0662, 856.5964), source=ENEMY (Enemy4), range=1469, listeners=10
[05:06:18] [ENEMY] [Enemy2] Heard gunshot at (784.0662, 856.5964), source_type=1, intensity=0.01, distance=491
[05:06:18] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[05:06:18] [INFO] [LastChance] Threat detected: Bullet
[05:06:18] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[05:06:18] [INFO] [LastChance] Cannot trigger effect - conditions not met
[05:06:18] [ENEMY] [Enemy3] State: PURSUING -> RETREATING
[05:06:18] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[05:06:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(787.5129, 836.062), source=ENEMY (Enemy4), range=1469, listeners=10
[05:06:18] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[05:06:18] [INFO] [LastChance] Threat detected: @Area2D@849
[05:06:18] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[05:06:18] [INFO] [LastChance] Cannot trigger effect - conditions not met
[05:06:18] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[05:06:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(802.1958, 806.9583), source=ENEMY (Enemy4), range=1469, listeners=10
[05:06:18] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[05:06:18] [INFO] [LastChance] Threat detected: @Area2D@851
[05:06:18] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[05:06:18] [INFO] [LastChance] Cannot trigger effect - conditions not met
[05:06:18] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(761.3796, 792.441), shooter_id=4349627467753, bullet_pos=(594.0359, 61.34843)
[05:06:18] [INFO] [Bullet] Using shooter_position, distance=750.000183105469
[05:06:18] [INFO] [Bullet] Distance to wall: 750.000183105469 (51.0688915963796% of viewport)
[05:06:18] [ENEMY] [Enemy1] Memory: medium confidence (0.76) - transitioning to PURSUING
[05:06:18] [ENEMY] [Enemy1] State: IDLE -> PURSUING
[05:06:18] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[05:06:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(812.1299, 771.8735), source=ENEMY (Enemy4), range=1469, listeners=10
[05:06:18] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[05:06:18] [ENEMY] [Enemy1] PURSUING corner check: angle -50.9°
[05:06:18] [INFO] [LastChance] Threat detected: @Area2D@854
[05:06:18] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[05:06:18] [INFO] [LastChance] Cannot trigger effect - conditions not met
[05:06:18] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(769.9855, 770.3095), shooter_id=4349627467753, bullet_pos=(661.1473, 28.24887)
[05:06:18] [INFO] [Bullet] Using shooter_position, distance=749.999877929688
[05:06:18] [INFO] [Bullet] Distance to wall: 749.999877929688 (51.0688708163995% of viewport)
[05:06:18] [INFO] [Bullet] Distance-based penetration chance: 87.0863173808672%
[05:06:18] [INFO] [Bullet] Starting wall penetration at (661.1473, 28.24887)
[05:06:18] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[05:06:18] [INFO] [Bullet] Exiting penetration at (654.3751, -17.9238) after traveling 41.6666679382324 pixels through wall
[05:06:18] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[05:06:18] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[05:06:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(812.6721, 745.2256), source=ENEMY (Enemy4), range=1469, listeners=10
[05:06:18] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[05:06:18] [INFO] [LastChance] Threat detected: Bullet
[05:06:18] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[05:06:18] [INFO] [LastChance] Cannot trigger effect - conditions not met
[05:06:18] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[05:06:18] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(787.7125, 740.469), shooter_id=4349627467753, bullet_pos=(717.2772, 35.64645)
[05:06:18] [INFO] [Bullet] Using shooter_position, distance=708.333190917969
[05:06:18] [INFO] [Bullet] Distance to wall: 708.333190917969 (48.2317094794902% of viewport)
[05:06:18] [INFO] [Bullet] Distance-based penetration chance: 90.3963389405948%
[05:06:18] [INFO] [Bullet] Starting wall penetration at (717.2772, 35.64645)
[05:06:18] [INFO] [Bullet] Raycast backward hit penetrating body at distance 43.0020484924316
[05:06:18] [INFO] [Bullet] Body exited signal received for penetrating body
[05:06:18] [INFO] [Bullet] Exiting penetration at (712.6368, -10.78893) after traveling 41.6666679382324 pixels through wall
[05:06:18] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[05:06:18] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[05:06:18] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[05:06:18] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[05:06:18] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[05:06:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(812.6721, 745.2256), source=ENEMY (Enemy4), range=1469, listeners=10
[05:06:18] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[05:06:18] [INFO] [LastChance] Threat detected: Bullet
[05:06:18] [INFO] [LastChance] Triggering last chance effect!
[05:06:18] [INFO] [LastChance] Starting last chance effect:
[05:06:18] [INFO] [LastChance]   - Time will be frozen (except player)
[05:06:18] [INFO] [LastChance]   - Duration: 6.0 real seconds
[05:06:18] [INFO] [LastChance]   - Sepia intensity: 0.70
[05:06:18] [INFO] [LastChance]   - Brightness: 0.60
[05:06:18] [INFO] [LastChance] Pushed bullet Bullet from distance 129.7 to 200.0
[05:06:18] [INFO] [LastChance] Pushed 1 threatening bullets away from player
[05:06:18] [INFO] [LastChance] Set player Player and all 19 children to PROCESS_MODE_ALWAYS
[05:06:18] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[05:06:18] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[05:06:18] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[05:06:18] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[05:06:18] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[05:06:18] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[05:06:18] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[05:06:18] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[05:06:18] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[05:06:18] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[05:06:18] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[05:06:18] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[05:06:18] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[05:06:18] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[05:06:18] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[05:06:18] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[05:06:18] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[05:06:18] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[05:06:18] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[05:06:18] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[05:06:18] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[05:06:18] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[05:06:18] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[05:06:18] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[05:06:18] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[05:06:18] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[05:06:18] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[05:06:18] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[05:06:18] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[05:06:18] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[05:06:18] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[05:06:18] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[05:06:18] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[05:06:18] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[05:06:18] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[05:06:18] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[05:06:18] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[05:06:18] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[05:06:18] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[05:06:18] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[05:06:18] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[05:06:18] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[05:06:18] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[05:06:18] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[05:06:18] [INFO] [LastChance] Skipping player node: Player
[05:06:18] [INFO] [LastChance] Froze existing bullet casing: Casing
[05:06:18] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@848
[05:06:18] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@850
[05:06:18] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@852
[05:06:18] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@855
[05:06:18] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@857
[05:06:18] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@859
[05:06:18] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[05:06:18] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[05:06:18] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[05:06:19] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[05:06:19] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[05:06:19] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[05:06:19] [INFO] [LastChance] Resetting all effects (scene change detected)
[05:06:19] [INFO] [LastChance] Ending last chance effect
[05:06:19] [ENEMY] [Enemy1] Memory reset: confusion=2.0s, had_target=false
[05:06:19] [ENEMY] [Enemy2] Memory reset: confusion=2.0s, had_target=false
[05:06:19] [ENEMY] [Enemy3] Memory reset: confusion=2.0s, had_target=false
[05:06:19] [ENEMY] [Enemy4] Memory reset: confusion=2.0s, had_target=false
[05:06:19] [ENEMY] [Enemy5] Memory reset: confusion=2.0s, had_target=false
[05:06:19] [ENEMY] [Enemy6] Memory reset: confusion=2.0s, had_target=false
[05:06:19] [ENEMY] [Enemy7] Memory reset: confusion=2.0s, had_target=false
[05:06:19] [ENEMY] [Enemy8] Memory reset: confusion=2.0s, had_target=false
[05:06:19] [ENEMY] [Enemy9] Memory reset: confusion=2.0s, had_target=false
[05:06:19] [ENEMY] [Enemy10] Memory reset: confusion=2.0s, had_target=false
[05:06:19] [INFO] [LastChance] Reset memory for 10 enemies (player teleport effect)
[05:06:19] [INFO] [LastChance] All process modes restored
[05:06:19] [INFO] [LastChance] Restored original colors to 5 player sprites
[05:06:19] [ENEMY] [Enemy1] Death animation component initialized
[05:06:19] [ENEMY] [Enemy2] Death animation component initialized
[05:06:19] [ENEMY] [Enemy3] Death animation component initialized
[05:06:19] [ENEMY] [Enemy4] Death animation component initialized
[05:06:19] [ENEMY] [Enemy5] Death animation component initialized
[05:06:19] [ENEMY] [Enemy6] Death animation component initialized
[05:06:19] [ENEMY] [Enemy7] Death animation component initialized
[05:06:19] [ENEMY] [Enemy8] Death animation component initialized
[05:06:19] [ENEMY] [Enemy9] Death animation component initialized
[05:06:19] [ENEMY] [Enemy10] Death animation component initialized
[05:06:19] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[05:06:19] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[05:06:19] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[05:06:19] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[05:06:19] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[05:06:19] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[05:06:19] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[05:06:19] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[05:06:19] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[05:06:19] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[05:06:19] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[05:06:19] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[05:06:19] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[05:06:19] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[05:06:19] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[05:06:19] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[05:06:19] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[05:06:19] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[05:06:19] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[05:06:19] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[05:06:19] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[05:06:19] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[05:06:19] [INFO] [ScoreManager] Level started with 10 enemies
[05:06:19] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[05:06:19] [ENEMY] [Enemy1] Registered as sound listener
[05:06:19] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[05:06:19] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[05:06:19] [ENEMY] [Enemy2] Registered as sound listener
[05:06:19] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[05:06:19] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[05:06:19] [ENEMY] [Enemy3] Registered as sound listener
[05:06:19] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[05:06:19] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[05:06:19] [ENEMY] [Enemy4] Registered as sound listener
[05:06:19] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[05:06:19] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[05:06:19] [ENEMY] [Enemy5] Registered as sound listener
[05:06:19] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[05:06:19] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[05:06:19] [ENEMY] [Enemy6] Registered as sound listener
[05:06:19] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[05:06:19] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[05:06:19] [ENEMY] [Enemy7] Registered as sound listener
[05:06:19] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[05:06:19] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[05:06:19] [ENEMY] [Enemy8] Registered as sound listener
[05:06:19] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[05:06:19] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[05:06:19] [ENEMY] [Enemy9] Registered as sound listener
[05:06:19] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[05:06:19] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[05:06:19] [ENEMY] [Enemy10] Registered as sound listener
[05:06:19] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[05:06:19] [INFO] [Player] Detecting weapon pose (frame 3)...
[05:06:19] [INFO] [Player] Detected weapon: Rifle (default pose)
[05:06:19] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[05:06:19] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[05:06:19] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[05:06:19] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[05:06:19] [INFO] [LastChance] Found player: Player
[05:06:19] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[05:06:19] [INFO] [LastChance] Connected to player Damaged signal (C#)
[05:06:19] [INFO] [LastChance] Connected to player Died signal (C#)
[05:06:21] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[05:06:21] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[05:06:22] [ENEMY] [Enemy10] PATROL corner check: angle 3.4°
[05:06:23] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[05:06:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(952.0007, 683.3585), source=PLAYER (AssaultRifle), range=1469, listeners=20
[05:06:23] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[05:06:23] [ENEMY] [Enemy3] Heard gunshot at (952.0007, 683.3585), source_type=0, intensity=0.04, distance=261
[05:06:23] [ENEMY] [Enemy4] Heard gunshot at (952.0007, 683.3585), source_type=0, intensity=0.04, distance=265
[05:06:23] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=8
[05:06:23] [ENEMY] [Enemy7] PATROL corner check: angle 89.8°
[05:06:23] [ENEMY] [Enemy1] Memory: medium confidence (0.62) - transitioning to PURSUING
[05:06:23] [ENEMY] [Enemy1] State: IDLE -> PURSUING
[05:06:23] [ENEMY] [Enemy2] Memory: medium confidence (0.62) - transitioning to PURSUING
[05:06:23] [ENEMY] [Enemy2] State: IDLE -> PURSUING
[05:06:23] [ENEMY] [Enemy2] PURSUING corner check: angle -57.5°
[05:06:23] [ENEMY] [Enemy1] PURSUING corner check: angle -63.3°
[05:06:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(952.00073, 683.3585), shooter_id=5528830871283, bullet_pos=(1087.0006, 262.82953)
[05:06:23] [INFO] [Bullet] Using shooter_position, distance=441,66684
[05:06:23] [INFO] [Bullet] Distance to wall: 441,66684 (30,073908% of viewport)
[05:06:23] [INFO] [Bullet] Within ricochet range - trying ricochet first
[05:06:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(952.00073, 683.3585), shooter_id=5528830871283, bullet_pos=(1007.1609, 60.513145)
[05:06:23] [INFO] [Bullet] Using shooter_position, distance=625,28314
[05:06:23] [INFO] [Bullet] Distance to wall: 625,28314 (42,57668% of viewport)
[05:06:23] [INFO] [Bullet] Distance-based penetration chance: 96,99387%
[05:06:23] [INFO] [Bullet] Starting wall penetration at (1007.1609, 60.513145)
[05:06:23] [INFO] [Bullet] Raycast backward hit penetrating body at distance 9,763629
[05:06:23] [INFO] [Bullet] Body exited signal received for penetrating body
[05:06:23] [INFO] [Bullet] Exiting penetration at (992.3248, 22.917957) after traveling 35,416668 pixels through wall
[05:06:23] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[05:06:24] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[05:06:24] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[05:06:24] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[05:06:24] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[05:06:25] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[05:06:25] [ENEMY] [Enemy2] FLANKING started: target=(882.8099, 489.674), side=right, pos=(454.4616, 591.8137)
[05:06:25] [ENEMY] [Enemy2] State: PURSUING -> FLANKING
[05:06:25] [ENEMY] [Enemy3] PURSUING corner check: angle -109.4°
[05:06:25] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[05:06:25] [ENEMY] [Enemy4] PURSUING corner check: angle -158.7°
[05:06:26] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[05:06:26] [ENEMY] [Enemy2] FLANKING corner check: angle 22.4°
[05:06:26] [ENEMY] [Enemy1] PURSUING corner check: angle 176.9°
[05:06:26] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[05:06:27] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[05:06:27] [ENEMY] [Enemy2] FLANKING corner check: angle 108.6°
[05:06:27] [ENEMY] [Enemy3] FLANKING started: target=(833.916, 515.9175), side=right, pos=(868.8843, 686.3432)
[05:06:27] [ENEMY] [Enemy3] State: PURSUING -> FLANKING
[05:06:27] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[05:06:28] [ENEMY] [Enemy3] FLANKING corner check: angle 86.2°
[05:06:28] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[05:06:28] [ENEMY] [Enemy2] FLANKING corner check: angle 171.1°
[05:06:28] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[05:06:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1312.26, 630.1912), source=ENEMY (Enemy2), range=1469, listeners=10
[05:06:28] [ENEMY] [Enemy5] Heard gunshot at (1312.26, 630.1912), source_type=1, intensity=0.01, distance=478
[05:06:28] [ENEMY] [Enemy7] Heard gunshot at (1312.26, 630.1912), source_type=1, intensity=0.02, distance=402
[05:06:28] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=0, self=1, below_threshold=5
[05:06:28] [ENEMY] [Enemy6] Memory: medium confidence (0.63) - transitioning to PURSUING
[05:06:28] [ENEMY] [Enemy6] State: IDLE -> PURSUING
[05:06:28] [ENEMY] [Enemy2] State: FLANKING -> COMBAT
[05:06:28] [ENEMY] [Enemy6] PURSUING corner check: angle 164.2°
[05:06:28] [INFO] [LastChance] Threat detected: Bullet
[05:06:28] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[05:06:28] [INFO] [LastChance] Cannot trigger effect - conditions not met
[05:06:28] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[05:06:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1295.976, 633.3109), source=ENEMY (Enemy2), range=1469, listeners=10
[05:06:28] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=0, self=1, below_threshold=5
[05:06:28] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[05:06:28] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[05:06:28] [INFO] [LastChance] Threat detected: @Area2D@1114
[05:06:28] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[05:06:28] [INFO] [LastChance] Cannot trigger effect - conditions not met
[05:06:28] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[05:06:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1258.945, 638.0485), source=ENEMY (Enemy2), range=1469, listeners=10
[05:06:28] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=0, self=1, below_threshold=5
[05:06:28] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[05:06:28] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[05:06:28] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[05:06:28] [INFO] [LastChance] Threat detected: Bullet
[05:06:28] [INFO] [LastChance] Triggering last chance effect!
[05:06:28] [INFO] [LastChance] Starting last chance effect:
[05:06:28] [INFO] [LastChance]   - Time will be frozen (except player)
[05:06:28] [INFO] [LastChance]   - Duration: 6.0 real seconds
[05:06:28] [INFO] [LastChance]   - Sepia intensity: 0.70
[05:06:28] [INFO] [LastChance]   - Brightness: 0.60
[05:06:28] [INFO] [LastChance] Pushed bullet Bullet from distance 117.1 to 200.0
[05:06:28] [INFO] [LastChance] Pushed 1 threatening bullets away from player
[05:06:28] [INFO] [LastChance] Set player Player and all 19 children to PROCESS_MODE_ALWAYS
[05:06:28] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[05:06:28] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[05:06:28] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[05:06:28] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[05:06:28] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[05:06:28] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[05:06:28] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[05:06:28] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[05:06:28] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[05:06:28] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[05:06:28] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[05:06:28] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[05:06:28] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[05:06:28] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[05:06:28] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[05:06:28] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[05:06:28] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[05:06:28] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[05:06:28] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[05:06:28] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[05:06:28] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[05:06:28] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[05:06:28] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[05:06:28] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[05:06:28] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[05:06:28] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[05:06:28] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[05:06:28] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[05:06:28] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[05:06:28] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[05:06:28] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[05:06:28] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[05:06:28] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[05:06:28] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[05:06:28] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[05:06:28] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[05:06:28] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[05:06:28] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[05:06:28] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[05:06:28] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[05:06:28] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[05:06:28] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[05:06:28] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[05:06:28] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[05:06:28] [INFO] [LastChance] Skipping player node: Player
[05:06:28] [INFO] [LastChance] Froze existing bullet casing: Casing
[05:06:28] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1113
[05:06:28] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1115
[05:06:28] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1116
[05:06:28] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[05:06:28] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[05:06:28] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[05:06:29] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[05:06:29] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[05:06:29] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[05:06:29] [INFO] [LastChance] Resetting all effects (scene change detected)
[05:06:29] [INFO] [LastChance] Ending last chance effect
[05:06:29] [ENEMY] [Enemy1] Memory reset: confusion=2.0s, had_target=false
[05:06:29] [ENEMY] [Enemy2] Memory reset: confusion=2.0s, had_target=false
[05:06:29] [ENEMY] [Enemy3] Memory reset: confusion=2.0s, had_target=false
[05:06:29] [ENEMY] [Enemy4] Memory reset: confusion=2.0s, had_target=false
[05:06:29] [ENEMY] [Enemy5] Memory reset: confusion=2.0s, had_target=false
[05:06:29] [ENEMY] [Enemy6] Memory reset: confusion=2.0s, had_target=false
[05:06:29] [ENEMY] [Enemy7] Memory reset: confusion=2.0s, had_target=false
[05:06:29] [ENEMY] [Enemy8] Memory reset: confusion=2.0s, had_target=false
[05:06:29] [ENEMY] [Enemy9] Memory reset: confusion=2.0s, had_target=false
[05:06:29] [ENEMY] [Enemy10] Memory reset: confusion=2.0s, had_target=false
[05:06:29] [INFO] [LastChance] Reset memory for 10 enemies (player teleport effect)
[05:06:29] [INFO] [LastChance] All process modes restored
[05:06:29] [INFO] [LastChance] Restored original colors to 5 player sprites
[05:06:29] [ENEMY] [Enemy1] Death animation component initialized
[05:06:29] [ENEMY] [Enemy2] Death animation component initialized
[05:06:29] [ENEMY] [Enemy3] Death animation component initialized
[05:06:29] [ENEMY] [Enemy4] Death animation component initialized
[05:06:29] [ENEMY] [Enemy5] Death animation component initialized
[05:06:29] [ENEMY] [Enemy6] Death animation component initialized
[05:06:29] [ENEMY] [Enemy7] Death animation component initialized
[05:06:29] [ENEMY] [Enemy8] Death animation component initialized
[05:06:29] [ENEMY] [Enemy9] Death animation component initialized
[05:06:29] [ENEMY] [Enemy10] Death animation component initialized
[05:06:29] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[05:06:29] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[05:06:29] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[05:06:29] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[05:06:29] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[05:06:29] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[05:06:29] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[05:06:29] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[05:06:29] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[05:06:29] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[05:06:29] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[05:06:29] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[05:06:29] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[05:06:29] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[05:06:29] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[05:06:29] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[05:06:29] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[05:06:29] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[05:06:29] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[05:06:29] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[05:06:29] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[05:06:29] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[05:06:29] [INFO] [ScoreManager] Level started with 10 enemies
[05:06:29] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[05:06:29] [ENEMY] [Enemy1] Registered as sound listener
[05:06:29] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[05:06:29] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[05:06:29] [ENEMY] [Enemy2] Registered as sound listener
[05:06:29] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[05:06:29] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[05:06:29] [ENEMY] [Enemy3] Registered as sound listener
[05:06:29] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[05:06:29] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[05:06:29] [ENEMY] [Enemy4] Registered as sound listener
[05:06:29] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[05:06:29] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[05:06:29] [ENEMY] [Enemy5] Registered as sound listener
[05:06:29] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[05:06:29] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[05:06:29] [ENEMY] [Enemy6] Registered as sound listener
[05:06:29] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[05:06:29] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[05:06:29] [ENEMY] [Enemy7] Registered as sound listener
[05:06:29] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[05:06:29] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[05:06:29] [ENEMY] [Enemy8] Registered as sound listener
[05:06:29] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[05:06:29] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[05:06:29] [ENEMY] [Enemy9] Registered as sound listener
[05:06:29] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[05:06:29] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[05:06:29] [ENEMY] [Enemy10] Registered as sound listener
[05:06:29] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[05:06:29] [INFO] [Player] Detecting weapon pose (frame 3)...
[05:06:29] [INFO] [Player] Detected weapon: Rifle (default pose)
[05:06:29] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[05:06:29] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[05:06:29] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[05:06:29] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[05:06:29] [INFO] [LastChance] Found player: Player
[05:06:29] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[05:06:29] [INFO] [LastChance] Connected to player Damaged signal (C#)
[05:06:29] [INFO] [LastChance] Connected to player Died signal (C#)
[05:06:30] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[05:06:30] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[05:06:31] [ENEMY] [Enemy1] Player distracted - priority attack triggered
[05:06:31] [ENEMY] [Enemy2] Memory: high confidence (0.90) - transitioning to PURSUING
[05:06:31] [ENEMY] [Enemy2] State: IDLE -> PURSUING
[05:06:31] [ENEMY] [Enemy3] Memory: high confidence (0.81) - transitioning to PURSUING
[05:06:31] [ENEMY] [Enemy3] State: IDLE -> PURSUING
[05:06:31] [ENEMY] [Enemy4] Memory: medium confidence (0.72) - transitioning to PURSUING
[05:06:31] [ENEMY] [Enemy4] State: IDLE -> PURSUING
[05:06:31] [ENEMY] [Enemy2] PURSUING corner check: angle 53.0°
[05:06:31] [ENEMY] [Enemy3] PURSUING corner check: angle -175.0°
[05:06:31] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[05:06:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(695.2625, 752.4495), source=ENEMY (Enemy3), range=1469, listeners=20
[05:06:31] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[05:06:31] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[05:06:31] [ENEMY] [Enemy4] PURSUING corner check: angle -100.7°
[05:06:31] [INFO] [LastChance] Threat detected: Bullet
[05:06:31] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[05:06:31] [INFO] [LastChance] Cannot trigger effect - conditions not met
[05:06:31] [ENEMY] [Enemy1] Player distracted - priority attack triggered
[05:06:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(312.943, 378.6916), source=ENEMY (Enemy1), range=1469, listeners=10
[05:06:31] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=1, below_threshold=3
[05:06:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(627.4243, 747.1031), shooter_id=8628186647318, bullet_pos=(463.8689, 715.0499)
[05:06:31] [INFO] [Bullet] Using shooter_position, distance=166.666687011719
[05:06:31] [INFO] [Bullet] Distance to wall: 166.666687011719 (11.3486411916412% of viewport)
[05:06:31] [INFO] [Bullet] Within ricochet range - trying ricochet first
[05:06:31] [INFO] [Bullet] Starting wall penetration at (463.8689, 715.0499)
[05:06:31] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[05:06:31] [INFO] [Bullet] Exiting penetration at (418.0734, 706.075) after traveling 41.6666679382324 pixels through wall
[05:06:31] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[05:06:31] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[05:06:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 619.3331), source=ENEMY (Enemy2), range=1469, listeners=10
[05:06:31] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=1, below_threshold=3
[05:06:31] [INFO] [LastChance] Threat detected: Bullet
[05:06:31] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[05:06:31] [INFO] [LastChance] Cannot trigger effect - conditions not met
[05:06:31] [ENEMY] [Enemy2] State: PURSUING -> RETREATING
[05:06:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(345.7302, 438.3204), shooter_id=8627616220759, bullet_pos=(755.9164, 1015.801)
[05:06:31] [INFO] [Bullet] Using shooter_position, distance=708.333312988281
[05:06:31] [INFO] [Bullet] Distance to wall: 708.333312988281 (48.2317177914822% of viewport)
[05:06:31] [INFO] [Bullet] Distance-based penetration chance: 90.3963292432707%
[05:06:31] [INFO] [Bullet] Starting wall penetration at (755.9164, 1015.801)
[05:06:31] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[05:06:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(404.549, 630.668), source=ENEMY (Enemy2), range=1469, listeners=10
[05:06:31] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=1, below_threshold=3
[05:06:31] [INFO] [Bullet] Raycast backward hit penetrating body at distance 36.6094627380371
[05:06:31] [INFO] [Bullet] Body exited signal received for penetrating body
[05:06:31] [INFO] [Bullet] Exiting penetration at (782.9404, 1053.846) after traveling 41.6666679382324 pixels through wall
[05:06:31] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[05:06:31] [INFO] [LastChance] Threat detected: @Area2D@1373
[05:06:31] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[05:06:31] [INFO] [LastChance] Cannot trigger effect - conditions not met
[05:06:31] [ENEMY] [Enemy3] State: PURSUING -> RETREATING
[05:06:31] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[05:06:31] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[05:06:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(418.5436, 608.5977), source=ENEMY (Enemy2), range=1469, listeners=10
[05:06:31] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=1, below_threshold=3
[05:06:31] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[05:06:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(570.4479, 812.6288), source=ENEMY (Enemy3), range=1469, listeners=10
[05:06:31] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=1, below_threshold=4
[05:06:31] [ENEMY] [Enemy4] State: PURSUING -> RETREATING
[05:06:31] [ENEMY] [Enemy10] PATROL corner check: angle 3.4°
[05:06:31] [INFO] [LastChance] Threat detected: @Area2D@1375
[05:06:31] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[05:06:31] [INFO] [LastChance] Cannot trigger effect - conditions not met
[05:06:31] [INFO] [LastChance] Threat detected: @Area2D@1377
[05:06:31] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[05:06:31] [INFO] [LastChance] Cannot trigger effect - conditions not met
[05:06:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(471.1857, 644.4573), shooter_id=8627901434604, bullet_pos=(927.6978, 685.2763)
[05:06:31] [INFO] [Bullet] Using shooter_position, distance=458.333374023438
[05:06:31] [INFO] [Bullet] Distance to wall: 458.333374023438 (31.2087622380144% of viewport)
[05:06:31] [INFO] [Bullet] Within ricochet range - trying ricochet first
[05:06:31] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[05:06:31] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[05:06:31] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[05:06:31] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[05:06:31] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[05:06:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(575.7183, 827.2565), source=ENEMY (Enemy3), range=1469, listeners=10
[05:06:31] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[05:06:31] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[05:06:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(462.6574, 645.8784), shooter_id=8627901434604, bullet_pos=(1382.102, 916.1102)
[05:06:31] [INFO] [Bullet] Using shooter_position, distance=958.333374023438
[05:06:31] [INFO] [Bullet] Distance to wall: 958.333374023438 (65.2546816569421% of viewport)
[05:06:31] [INFO] [LastChance] Threat detected: @Area2D@1380
[05:06:31] [INFO] [LastChance] Triggering last chance effect!
[05:06:31] [INFO] [LastChance] Starting last chance effect:
[05:06:31] [INFO] [LastChance]   - Time will be frozen (except player)
[05:06:31] [INFO] [LastChance]   - Duration: 6.0 real seconds
[05:06:31] [INFO] [LastChance]   - Sepia intensity: 0.70
[05:06:31] [INFO] [LastChance]   - Brightness: 0.60
[05:06:31] [INFO] [LastChance] Pushed bullet @Area2D@1380 from distance 123.5 to 200.0
[05:06:31] [INFO] [LastChance] Pushed 1 threatening bullets away from player
[05:06:31] [INFO] [LastChance] Set player Player and all 19 children to PROCESS_MODE_ALWAYS
[05:06:31] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[05:06:31] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[05:06:31] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[05:06:31] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[05:06:31] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[05:06:31] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[05:06:31] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[05:06:31] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[05:06:31] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[05:06:31] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[05:06:31] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[05:06:31] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[05:06:31] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[05:06:31] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[05:06:31] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[05:06:31] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[05:06:31] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[05:06:31] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[05:06:31] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[05:06:31] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[05:06:31] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[05:06:31] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[05:06:31] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[05:06:31] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[05:06:31] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[05:06:31] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[05:06:31] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[05:06:31] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[05:06:31] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[05:06:31] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[05:06:31] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[05:06:31] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[05:06:31] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[05:06:31] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[05:06:31] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[05:06:31] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[05:06:31] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[05:06:31] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[05:06:31] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[05:06:31] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[05:06:31] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[05:06:31] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[05:06:31] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[05:06:31] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[05:06:31] [INFO] [LastChance] Skipping player node: Player
[05:06:31] [INFO] [LastChance] Froze existing bullet casing: Casing
[05:06:31] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1370
[05:06:31] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1371
[05:06:31] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1374
[05:06:31] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1376
[05:06:31] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1378
[05:06:31] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1381
[05:06:31] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[05:06:31] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[05:06:31] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[05:06:32] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[05:06:32] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[05:06:32] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[05:06:32] [INFO] [LastChance] Resetting all effects (scene change detected)
[05:06:32] [INFO] [LastChance] Ending last chance effect
[05:06:32] [ENEMY] [Enemy1] Memory reset: confusion=2.0s, had_target=false
[05:06:32] [ENEMY] [Enemy2] Memory reset: confusion=2.0s, had_target=false
[05:06:32] [ENEMY] [Enemy3] Memory reset: confusion=2.0s, had_target=false
[05:06:32] [ENEMY] [Enemy4] Memory reset: confusion=2.0s, had_target=false
[05:06:32] [ENEMY] [Enemy5] Memory reset: confusion=2.0s, had_target=false
[05:06:32] [ENEMY] [Enemy6] Memory reset: confusion=2.0s, had_target=false
[05:06:32] [ENEMY] [Enemy7] Memory reset: confusion=2.0s, had_target=false
[05:06:32] [ENEMY] [Enemy8] Memory reset: confusion=2.0s, had_target=false
[05:06:32] [ENEMY] [Enemy9] Memory reset: confusion=2.0s, had_target=false
[05:06:32] [ENEMY] [Enemy10] Memory reset: confusion=2.0s, had_target=false
[05:06:32] [INFO] [LastChance] Reset memory for 10 enemies (player teleport effect)
[05:06:32] [INFO] [LastChance] All process modes restored
[05:06:32] [INFO] [LastChance] Restored original colors to 5 player sprites
[05:06:32] [ENEMY] [Enemy1] Death animation component initialized
[05:06:32] [ENEMY] [Enemy2] Death animation component initialized
[05:06:32] [ENEMY] [Enemy3] Death animation component initialized
[05:06:32] [ENEMY] [Enemy4] Death animation component initialized
[05:06:32] [ENEMY] [Enemy5] Death animation component initialized
[05:06:32] [ENEMY] [Enemy6] Death animation component initialized
[05:06:32] [ENEMY] [Enemy7] Death animation component initialized
[05:06:32] [ENEMY] [Enemy8] Death animation component initialized
[05:06:32] [ENEMY] [Enemy9] Death animation component initialized
[05:06:32] [ENEMY] [Enemy10] Death animation component initialized
[05:06:32] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[05:06:32] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[05:06:32] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[05:06:32] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[05:06:32] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[05:06:32] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[05:06:32] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[05:06:32] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[05:06:32] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[05:06:32] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[05:06:32] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[05:06:32] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[05:06:32] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[05:06:32] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[05:06:32] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[05:06:32] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[05:06:32] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[05:06:32] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[05:06:32] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[05:06:32] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[05:06:32] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[05:06:32] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[05:06:32] [INFO] [ScoreManager] Level started with 10 enemies
[05:06:32] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[05:06:32] [ENEMY] [Enemy1] Registered as sound listener
[05:06:32] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[05:06:32] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[05:06:32] [ENEMY] [Enemy2] Registered as sound listener
[05:06:32] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[05:06:32] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[05:06:32] [ENEMY] [Enemy3] Registered as sound listener
[05:06:32] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[05:06:32] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[05:06:32] [ENEMY] [Enemy4] Registered as sound listener
[05:06:32] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[05:06:32] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[05:06:32] [ENEMY] [Enemy5] Registered as sound listener
[05:06:32] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[05:06:32] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[05:06:32] [ENEMY] [Enemy6] Registered as sound listener
[05:06:32] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[05:06:32] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[05:06:32] [ENEMY] [Enemy7] Registered as sound listener
[05:06:32] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[05:06:32] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[05:06:32] [ENEMY] [Enemy8] Registered as sound listener
[05:06:32] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[05:06:32] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[05:06:32] [ENEMY] [Enemy9] Registered as sound listener
[05:06:32] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[05:06:32] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[05:06:32] [ENEMY] [Enemy10] Registered as sound listener
[05:06:32] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[05:06:32] [INFO] [Player] Detecting weapon pose (frame 3)...
[05:06:32] [INFO] [Player] Detected weapon: Rifle (default pose)
[05:06:32] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[05:06:32] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[05:06:32] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[05:06:32] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[05:06:32] [INFO] [LastChance] Found player: Player
[05:06:32] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[05:06:32] [INFO] [LastChance] Connected to player Damaged signal (C#)
[05:06:32] [INFO] [LastChance] Connected to player Died signal (C#)
[05:06:37] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[05:06:37] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[05:06:37] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[05:06:37] [INFO] [LastChance] Resetting all effects (scene change detected)
[05:06:37] [ENEMY] [Enemy1] Death animation component initialized
[05:06:37] [ENEMY] [Enemy2] Death animation component initialized
[05:06:37] [ENEMY] [Enemy3] Death animation component initialized
[05:06:37] [ENEMY] [Enemy4] Death animation component initialized
[05:06:37] [ENEMY] [Enemy5] Death animation component initialized
[05:06:37] [ENEMY] [Enemy6] Death animation component initialized
[05:06:37] [ENEMY] [Enemy7] Death animation component initialized
[05:06:37] [ENEMY] [Enemy8] Death animation component initialized
[05:06:37] [ENEMY] [Enemy9] Death animation component initialized
[05:06:37] [ENEMY] [Enemy10] Death animation component initialized
[05:06:37] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[05:06:37] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[05:06:37] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[05:06:37] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[05:06:37] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[05:06:37] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[05:06:37] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[05:06:37] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[05:06:37] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[05:06:37] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[05:06:37] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[05:06:37] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[05:06:37] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[05:06:37] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[05:06:37] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[05:06:37] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[05:06:37] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[05:06:37] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[05:06:37] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[05:06:37] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[05:06:37] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[05:06:37] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[05:06:37] [INFO] [ScoreManager] Level started with 10 enemies
[05:06:37] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 21)
[05:06:37] [ENEMY] [Enemy1] Registered as sound listener
[05:06:37] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[05:06:37] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 22)
[05:06:37] [ENEMY] [Enemy2] Registered as sound listener
[05:06:37] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[05:06:37] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 23)
[05:06:37] [ENEMY] [Enemy3] Registered as sound listener
[05:06:37] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[05:06:37] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 24)
[05:06:37] [ENEMY] [Enemy4] Registered as sound listener
[05:06:37] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[05:06:37] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 25)
[05:06:37] [ENEMY] [Enemy5] Registered as sound listener
[05:06:37] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[05:06:37] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 26)
[05:06:37] [ENEMY] [Enemy6] Registered as sound listener
[05:06:37] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[05:06:37] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 27)
[05:06:37] [ENEMY] [Enemy7] Registered as sound listener
[05:06:37] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[05:06:37] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 28)
[05:06:37] [ENEMY] [Enemy8] Registered as sound listener
[05:06:37] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[05:06:37] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 29)
[05:06:37] [ENEMY] [Enemy9] Registered as sound listener
[05:06:37] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[05:06:37] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 30)
[05:06:37] [ENEMY] [Enemy10] Registered as sound listener
[05:06:37] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[05:06:37] [INFO] [Player] Detecting weapon pose (frame 3)...
[05:06:37] [INFO] [Player] Detected weapon: Rifle (default pose)
[05:06:37] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[05:06:37] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[05:06:37] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[05:06:37] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[05:06:37] [INFO] [LastChance] Found player: Player
[05:06:37] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[05:06:37] [INFO] [LastChance] Connected to player Damaged signal (C#)
[05:06:37] [INFO] [LastChance] Connected to player Died signal (C#)
[05:06:38] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[05:06:38] [ENEMY] [Enemy4] Memory: high confidence (0.89) - transitioning to PURSUING
[05:06:38] [ENEMY] [Enemy4] State: IDLE -> PURSUING
[05:06:38] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[05:06:38] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[05:06:38] [ENEMY] [Enemy4] PURSUING corner check: angle -100.7°
[05:06:39] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[05:06:39] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[05:06:39] [ENEMY] [Enemy10] PATROL corner check: angle 3.4°
[05:06:40] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[05:06:40] [ENEMY] [Enemy3] PURSUING corner check: angle -71.4°
[05:06:40] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[05:06:41] [ENEMY] [Enemy1] Memory: medium confidence (0.74) - transitioning to PURSUING
[05:06:41] [ENEMY] [Enemy1] State: IDLE -> PURSUING
[05:06:41] [ENEMY] [Enemy2] Memory: medium confidence (0.74) - transitioning to PURSUING
[05:06:41] [ENEMY] [Enemy2] State: IDLE -> PURSUING
[05:06:41] [ENEMY] [Enemy2] PURSUING corner check: angle -90.0°
[05:06:41] [ENEMY] [Enemy1] PURSUING corner check: angle -63.3°
[05:06:41] [ENEMY] [Enemy7] PATROL corner check: angle 89.8°
[05:06:41] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[05:06:42] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[05:06:42] [ENEMY] [Enemy2] FLANKING started: target=(814.9368, 817.9222), side=left, pos=(457.5765, 555.7547)
[05:06:42] [ENEMY] [Enemy2] State: PURSUING -> FLANKING
[05:06:43] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[05:06:43] [ENEMY] [Enemy1] FLANKING started: target=(786.8783, 785.1215), side=left, pos=(456.5407, 434.3517)
[05:06:43] [ENEMY] [Enemy1] State: PURSUING -> FLANKING
[05:06:43] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[05:06:43] [ENEMY] [Enemy2] FLANKING corner check: angle -60.2°
[05:06:43] [ENEMY] [Enemy1] FLANKING corner check: angle 171.5°
[05:06:44] [ENEMY] [Enemy4] PURSUING corner check: angle -86.5°
[05:06:44] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[05:06:44] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[05:06:44] [ENEMY] [Enemy2] FLANKING corner check: angle -110.6°
[05:06:44] [ENEMY] [Enemy1] FLANKING corner check: angle -80.3°
[05:06:44] [ENEMY] [Enemy3] FLANKING started: target=(965.5759, 472.7348), side=right, pos=(875.8314, 621.1053)
[05:06:44] [ENEMY] [Enemy3] State: PURSUING -> FLANKING
[05:06:44] [ENEMY] [Enemy3] FLANKING corner check: angle -161.2°
[05:06:45] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[05:06:45] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[05:06:45] [ENEMY] [Enemy2] FLANKING corner check: angle -117.3°
[05:06:45] [ENEMY] [Enemy1] FLANKING corner check: angle -114.8°
[05:06:45] [ENEMY] [Enemy3] State: FLANKING -> COMBAT
[05:06:46] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[05:06:46] [ENEMY] [Enemy7] Memory: high confidence (0.87) - transitioning to PURSUING
[05:06:46] [ENEMY] [Enemy7] State: IDLE -> PURSUING
[05:06:46] [ENEMY] [Enemy5] Memory: medium confidence (0.78) - transitioning to PURSUING
[05:06:46] [ENEMY] [Enemy5] State: IDLE -> PURSUING
[05:06:46] [ENEMY] [Enemy5] PURSUING corner check: angle 156.7°
[05:06:46] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[05:06:46] [ENEMY] [Enemy7] PURSUING corner check: angle 95.4°
[05:06:46] [ENEMY] [Enemy2] FLANKING corner check: angle 141.2°
[05:06:46] [ENEMY] [Enemy1] FLANKING corner check: angle -119.2°
[05:06:46] [ENEMY] [Enemy3] State: PURSUING -> COMBAT
[05:06:47] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[05:06:47] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[05:06:47] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[05:06:47] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[05:06:47] [INFO] [LastChance] Resetting all effects (scene change detected)
[05:06:47] [ENEMY] [Enemy1] Death animation component initialized
[05:06:47] [ENEMY] [Enemy2] Death animation component initialized
[05:06:47] [ENEMY] [Enemy3] Death animation component initialized
[05:06:47] [ENEMY] [Enemy4] Death animation component initialized
[05:06:47] [ENEMY] [Enemy5] Death animation component initialized
[05:06:47] [ENEMY] [Enemy6] Death animation component initialized
[05:06:47] [ENEMY] [Enemy7] Death animation component initialized
[05:06:47] [ENEMY] [Enemy8] Death animation component initialized
[05:06:47] [ENEMY] [Enemy9] Death animation component initialized
[05:06:47] [ENEMY] [Enemy10] Death animation component initialized
[05:06:47] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[05:06:47] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[05:06:47] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[05:06:47] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[05:06:47] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[05:06:47] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[05:06:47] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[05:06:47] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[05:06:47] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[05:06:47] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[05:06:47] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[05:06:47] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[05:06:47] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[05:06:47] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[05:06:47] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[05:06:47] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[05:06:47] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[05:06:47] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[05:06:47] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[05:06:47] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[05:06:47] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[05:06:47] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[05:06:47] [INFO] [ScoreManager] Level started with 10 enemies
[05:06:47] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 31)
[05:06:47] [ENEMY] [Enemy1] Registered as sound listener
[05:06:47] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[05:06:47] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 32)
[05:06:47] [ENEMY] [Enemy2] Registered as sound listener
[05:06:47] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[05:06:47] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 33)
[05:06:47] [ENEMY] [Enemy3] Registered as sound listener
[05:06:47] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[05:06:47] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 34)
[05:06:47] [ENEMY] [Enemy4] Registered as sound listener
[05:06:47] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[05:06:47] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 35)
[05:06:47] [ENEMY] [Enemy5] Registered as sound listener
[05:06:47] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[05:06:47] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 36)
[05:06:47] [ENEMY] [Enemy6] Registered as sound listener
[05:06:47] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[05:06:47] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 37)
[05:06:47] [ENEMY] [Enemy7] Registered as sound listener
[05:06:47] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[05:06:47] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 38)
[05:06:47] [ENEMY] [Enemy8] Registered as sound listener
[05:06:47] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[05:06:47] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 39)
[05:06:47] [ENEMY] [Enemy9] Registered as sound listener
[05:06:47] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[05:06:47] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 40)
[05:06:47] [ENEMY] [Enemy10] Registered as sound listener
[05:06:47] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[05:06:47] [INFO] [Player] Detecting weapon pose (frame 3)...
[05:06:47] [INFO] [Player] Detected weapon: Rifle (default pose)
[05:06:47] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[05:06:47] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[05:06:47] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[05:06:47] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[05:06:47] [INFO] [LastChance] Found player: Player
[05:06:47] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[05:06:47] [INFO] [LastChance] Connected to player Damaged signal (C#)
[05:06:47] [INFO] [LastChance] Connected to player Died signal (C#)
[05:06:48] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[05:06:48] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[05:06:48] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[05:06:49] [ENEMY] [Enemy4] Memory: high confidence (0.86) - transitioning to PURSUING
[05:06:49] [ENEMY] [Enemy4] State: IDLE -> PURSUING
[05:06:49] [ENEMY] [Enemy4] PURSUING corner check: angle -100.7°
[05:06:49] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[05:06:49] [ENEMY] [Enemy10] PATROL corner check: angle 3.4°
[05:06:49] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[05:06:49] [ENEMY] [Enemy3] State: PURSUING -> COMBAT
[05:06:50] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[05:06:50] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[05:06:50] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[05:06:50] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[05:06:50] [ENEMY] [Enemy1] Memory: high confidence (0.83) - transitioning to PURSUING
[05:06:50] [ENEMY] [Enemy1] State: IDLE -> PURSUING
[05:06:50] [ENEMY] [Enemy2] Memory: high confidence (0.90) - transitioning to PURSUING
[05:06:50] [ENEMY] [Enemy2] State: IDLE -> PURSUING
[05:06:50] [ENEMY] [Enemy2] PURSUING corner check: angle -90.0°
[05:06:50] [ENEMY] [Enemy1] PURSUING corner check: angle -63.3°
[05:06:51] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[05:06:51] [ENEMY] [Enemy7] PATROL corner check: angle 89.8°
[05:06:51] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[05:06:51] [ENEMY] [Enemy3] PURSUING corner check: angle -107.6°
[05:06:52] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[05:06:52] [ENEMY] [Enemy2] FLANKING started: target=(813.5942, 821.6315), side=left, pos=(457.5765, 555.7547)
[05:06:52] [ENEMY] [Enemy2] State: PURSUING -> FLANKING
[05:06:52] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[05:06:52] [ENEMY] [Enemy1] FLANKING started: target=(938.5131, 477.7634), side=right, pos=(456.5407, 434.3517)
[05:06:52] [ENEMY] [Enemy1] State: PURSUING -> FLANKING
[05:06:53] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[05:06:53] [ENEMY] [Enemy2] FLANKING corner check: angle -22.1°
[05:06:53] [ENEMY] [Enemy1] FLANKING corner check: angle 171.5°
[05:06:53] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[05:06:54] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[05:06:54] [ENEMY] [Enemy2] FLANKING corner check: angle 166.5°
[05:06:54] [ENEMY] [Enemy1] FLANKING corner check: angle -109.2°
[05:06:54] [ENEMY] [Enemy4] PURSUING corner check: angle 164.4°
[05:06:54] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[05:06:55] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[05:06:55] [ENEMY] [Enemy2] FLANKING corner check: angle -142.4°
[05:06:55] [ENEMY] [Enemy1] FLANKING corner check: angle 175.8°
[05:06:55] [ENEMY] [Enemy1] State: FLANKING -> COMBAT
[05:06:55] [ENEMY] [Enemy3] FLANKING started: target=(945.4555, 477.4135), side=right, pos=(876.1244, 636.7465)
[05:06:55] [ENEMY] [Enemy3] State: PURSUING -> FLANKING
[05:06:55] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[05:06:55] [ENEMY] [Enemy7] Memory: high confidence (0.87) - transitioning to PURSUING
[05:06:55] [ENEMY] [Enemy7] State: IDLE -> PURSUING
[05:06:55] [ENEMY] [Enemy5] Memory: medium confidence (0.79) - transitioning to PURSUING
[05:06:55] [ENEMY] [Enemy5] State: IDLE -> PURSUING
[05:06:55] [ENEMY] [Enemy5] PURSUING corner check: angle 156.4°
[05:06:56] [ENEMY] [Enemy3] FLANKING corner check: angle -105.6°
[05:06:56] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[05:06:56] [ENEMY] [Enemy7] PURSUING corner check: angle 95.4°
[05:06:56] [ENEMY] [Enemy2] FLANKING corner check: angle 140.7°
[05:06:56] [ENEMY] [Enemy1] State: PURSUING -> COMBAT
[05:06:56] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[05:06:56] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[05:06:56] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[05:06:56] [INFO] [LastChance] Resetting all effects (scene change detected)
[05:06:56] [ENEMY] [Enemy1] Death animation component initialized
[05:06:56] [ENEMY] [Enemy2] Death animation component initialized
[05:06:56] [ENEMY] [Enemy3] Death animation component initialized
[05:06:56] [ENEMY] [Enemy4] Death animation component initialized
[05:06:56] [ENEMY] [Enemy5] Death animation component initialized
[05:06:56] [ENEMY] [Enemy6] Death animation component initialized
[05:06:56] [ENEMY] [Enemy7] Death animation component initialized
[05:06:56] [ENEMY] [Enemy8] Death animation component initialized
[05:06:56] [ENEMY] [Enemy9] Death animation component initialized
[05:06:56] [ENEMY] [Enemy10] Death animation component initialized
[05:06:56] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[05:06:56] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[05:06:56] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[05:06:56] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[05:06:56] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[05:06:56] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[05:06:56] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[05:06:56] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[05:06:56] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[05:06:56] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[05:06:56] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[05:06:56] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[05:06:56] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[05:06:56] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[05:06:56] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[05:06:56] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[05:06:56] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[05:06:56] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[05:06:56] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[05:06:56] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[05:06:56] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[05:06:56] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[05:06:56] [INFO] [ScoreManager] Level started with 10 enemies
[05:06:56] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 41)
[05:06:56] [ENEMY] [Enemy1] Registered as sound listener
[05:06:56] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[05:06:56] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 42)
[05:06:56] [ENEMY] [Enemy2] Registered as sound listener
[05:06:56] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[05:06:56] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 43)
[05:06:56] [ENEMY] [Enemy3] Registered as sound listener
[05:06:56] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[05:06:56] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 44)
[05:06:56] [ENEMY] [Enemy4] Registered as sound listener
[05:06:56] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[05:06:56] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 45)
[05:06:56] [ENEMY] [Enemy5] Registered as sound listener
[05:06:56] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[05:06:56] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 46)
[05:06:56] [ENEMY] [Enemy6] Registered as sound listener
[05:06:56] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[05:06:56] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 47)
[05:06:56] [ENEMY] [Enemy7] Registered as sound listener
[05:06:56] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[05:06:56] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 48)
[05:06:56] [ENEMY] [Enemy8] Registered as sound listener
[05:06:56] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[05:06:56] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 49)
[05:06:56] [ENEMY] [Enemy9] Registered as sound listener
[05:06:56] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[05:06:56] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 50)
[05:06:56] [ENEMY] [Enemy10] Registered as sound listener
[05:06:56] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[05:06:56] [INFO] [Player] Detecting weapon pose (frame 3)...
[05:06:56] [INFO] [Player] Detected weapon: Rifle (default pose)
[05:06:56] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[05:06:56] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[05:06:56] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[05:06:56] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[05:06:56] [INFO] [LastChance] Found player: Player
[05:06:56] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[05:06:56] [INFO] [LastChance] Connected to player Damaged signal (C#)
[05:06:56] [INFO] [LastChance] Connected to player Died signal (C#)
[05:06:58] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[05:06:58] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[05:06:59] [ENEMY] [Enemy10] PATROL corner check: angle 3.4°
[05:07:00] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[05:07:00] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[05:07:00] [ENEMY] [Enemy7] PATROL corner check: angle 89.8°
[05:07:00] [ENEMY] [Enemy4] Memory: high confidence (0.86) - transitioning to PURSUING
[05:07:00] [ENEMY] [Enemy4] State: IDLE -> PURSUING
[05:07:00] [ENEMY] [Enemy2] Memory: high confidence (0.86) - transitioning to PURSUING
[05:07:00] [ENEMY] [Enemy2] State: IDLE -> PURSUING
[05:07:00] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[05:07:00] [ENEMY] [Enemy2] PURSUING corner check: angle -90.0°
[05:07:01] [ENEMY] [Enemy4] PURSUING corner check: angle -167.3°
[05:07:01] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[05:07:01] [ENEMY] [Enemy1] Memory: medium confidence (0.73) - transitioning to PURSUING
[05:07:01] [ENEMY] [Enemy1] State: IDLE -> PURSUING
[05:07:01] [ENEMY] [Enemy1] PURSUING corner check: angle -63.3°
[05:07:01] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[05:07:02] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[05:07:02] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[05:07:02] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[05:07:02] [INFO] [LastChance] Resetting all effects (scene change detected)
[05:07:02] [ENEMY] [Enemy1] Death animation component initialized
[05:07:02] [ENEMY] [Enemy2] Death animation component initialized
[05:07:02] [ENEMY] [Enemy3] Death animation component initialized
[05:07:02] [ENEMY] [Enemy4] Death animation component initialized
[05:07:02] [ENEMY] [Enemy5] Death animation component initialized
[05:07:02] [ENEMY] [Enemy6] Death animation component initialized
[05:07:02] [ENEMY] [Enemy7] Death animation component initialized
[05:07:02] [ENEMY] [Enemy8] Death animation component initialized
[05:07:02] [ENEMY] [Enemy9] Death animation component initialized
[05:07:02] [ENEMY] [Enemy10] Death animation component initialized
[05:07:02] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[05:07:02] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[05:07:02] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[05:07:02] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[05:07:02] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[05:07:02] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[05:07:02] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[05:07:02] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[05:07:02] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[05:07:02] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[05:07:02] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[05:07:02] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[05:07:02] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[05:07:02] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[05:07:02] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[05:07:02] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[05:07:02] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[05:07:02] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[05:07:02] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[05:07:02] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[05:07:02] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[05:07:02] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[05:07:02] [INFO] [ScoreManager] Level started with 10 enemies
[05:07:02] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 51)
[05:07:02] [ENEMY] [Enemy1] Registered as sound listener
[05:07:02] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[05:07:02] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 52)
[05:07:02] [ENEMY] [Enemy2] Registered as sound listener
[05:07:02] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[05:07:02] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 53)
[05:07:02] [ENEMY] [Enemy3] Registered as sound listener
[05:07:02] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[05:07:02] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 54)
[05:07:02] [ENEMY] [Enemy4] Registered as sound listener
[05:07:02] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[05:07:02] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 55)
[05:07:02] [ENEMY] [Enemy5] Registered as sound listener
[05:07:02] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[05:07:02] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 56)
[05:07:02] [ENEMY] [Enemy6] Registered as sound listener
[05:07:02] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[05:07:02] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 57)
[05:07:02] [ENEMY] [Enemy7] Registered as sound listener
[05:07:02] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[05:07:02] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 58)
[05:07:02] [ENEMY] [Enemy8] Registered as sound listener
[05:07:02] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[05:07:02] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 59)
[05:07:02] [ENEMY] [Enemy9] Registered as sound listener
[05:07:02] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[05:07:02] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 60)
[05:07:02] [ENEMY] [Enemy10] Registered as sound listener
[05:07:02] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[05:07:02] [INFO] [Player] Detecting weapon pose (frame 3)...
[05:07:02] [INFO] [Player] Detected weapon: Rifle (default pose)
[05:07:02] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[05:07:02] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[05:07:02] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[05:07:02] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[05:07:02] [INFO] [LastChance] Found player: Player
[05:07:02] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[05:07:02] [INFO] [LastChance] Connected to player Damaged signal (C#)
[05:07:02] [INFO] [LastChance] Connected to player Died signal (C#)
[05:07:03] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[05:07:03] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[05:07:04] [ENEMY] [Enemy10] PATROL corner check: angle 3.4°
[05:07:04] [ENEMY] [Enemy4] State: IDLE -> COMBAT
[05:07:05] [ENEMY] [Enemy3] Memory: high confidence (0.86) - transitioning to PURSUING
[05:07:05] [ENEMY] [Enemy3] State: IDLE -> PURSUING
[05:07:05] [ENEMY] [Enemy3] PURSUING corner check: angle 117.8°
[05:07:05] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[05:07:05] [ENEMY] [Enemy3] State: PURSUING -> COMBAT
[05:07:05] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[05:07:05] [ENEMY] [Enemy1] Memory: high confidence (0.90) - transitioning to PURSUING
[05:07:05] [ENEMY] [Enemy1] State: IDLE -> PURSUING
[05:07:05] [ENEMY] [Enemy2] Memory: high confidence (0.90) - transitioning to PURSUING
[05:07:05] [ENEMY] [Enemy2] State: IDLE -> PURSUING
[05:07:05] [ENEMY] [Enemy1] PURSUING corner check: angle -50.9°
[05:07:05] [ENEMY] [Enemy2] PURSUING corner check: angle 151.0°
[05:07:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(614.724, 794.0904), source=ENEMY (Enemy3), range=1469, listeners=60
[05:07:06] [INFO] [SoundPropagation] Cleaned up 50 invalid listeners
[05:07:06] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[05:07:06] [INFO] [LastChance] Threat detected: Bullet
[05:07:06] [INFO] [LastChance] Not in hard mode - effect disabled
[05:07:06] [INFO] [LastChance] Cannot trigger effect - conditions not met
[05:07:06] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[05:07:06] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[05:07:06] [INFO] [PenultimateHit] Starting penultimate hit effect:
[05:07:06] [INFO] [PenultimateHit]   - Time scale: 0.10
[05:07:06] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[05:07:06] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[05:07:06] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[05:07:06] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[05:07:06] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[05:07:06] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[05:07:06] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[05:07:06] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[05:07:06] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[05:07:06] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[05:07:06] [INFO] [PenultimateHit] Ending penultimate hit effect
[05:07:06] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[05:07:06] [INFO] [LastChance] Resetting all effects (scene change detected)
[05:07:06] [ENEMY] [Enemy1] Death animation component initialized
[05:07:06] [ENEMY] [Enemy2] Death animation component initialized
[05:07:06] [ENEMY] [Enemy3] Death animation component initialized
[05:07:06] [ENEMY] [Enemy4] Death animation component initialized
[05:07:06] [ENEMY] [Enemy5] Death animation component initialized
[05:07:06] [ENEMY] [Enemy6] Death animation component initialized
[05:07:06] [ENEMY] [Enemy7] Death animation component initialized
[05:07:06] [ENEMY] [Enemy8] Death animation component initialized
[05:07:06] [ENEMY] [Enemy9] Death animation component initialized
[05:07:06] [ENEMY] [Enemy10] Death animation component initialized
[05:07:06] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[05:07:06] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[05:07:06] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[05:07:06] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[05:07:06] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[05:07:06] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[05:07:06] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[05:07:06] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[05:07:06] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[05:07:06] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[05:07:06] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[05:07:06] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[05:07:06] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[05:07:06] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[05:07:06] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[05:07:06] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[05:07:06] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[05:07:06] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[05:07:06] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[05:07:06] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[05:07:06] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[05:07:06] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[05:07:06] [INFO] [ScoreManager] Level started with 10 enemies
[05:07:06] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[05:07:06] [ENEMY] [Enemy1] Registered as sound listener
[05:07:06] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[05:07:06] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[05:07:06] [ENEMY] [Enemy2] Registered as sound listener
[05:07:06] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[05:07:06] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[05:07:06] [ENEMY] [Enemy3] Registered as sound listener
[05:07:06] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[05:07:06] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[05:07:06] [ENEMY] [Enemy4] Registered as sound listener
[05:07:06] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[05:07:06] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[05:07:06] [ENEMY] [Enemy5] Registered as sound listener
[05:07:06] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[05:07:06] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[05:07:06] [ENEMY] [Enemy6] Registered as sound listener
[05:07:06] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[05:07:06] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[05:07:06] [ENEMY] [Enemy7] Registered as sound listener
[05:07:06] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[05:07:06] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[05:07:06] [ENEMY] [Enemy8] Registered as sound listener
[05:07:06] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[05:07:06] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[05:07:06] [ENEMY] [Enemy9] Registered as sound listener
[05:07:06] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[05:07:06] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[05:07:06] [ENEMY] [Enemy10] Registered as sound listener
[05:07:06] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[05:07:06] [INFO] [Player] Detecting weapon pose (frame 3)...
[05:07:06] [INFO] [Player] Detected weapon: Rifle (default pose)
[05:07:06] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[05:07:06] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[05:07:06] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[05:07:06] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[05:07:06] [INFO] [LastChance] Found player: Player
[05:07:06] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[05:07:06] [INFO] [LastChance] Connected to player Damaged signal (C#)
[05:07:06] [INFO] [LastChance] Connected to player Died signal (C#)
[05:07:08] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[05:07:08] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[05:07:08] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[05:07:09] [ENEMY] [Enemy10] PATROL corner check: angle 3.4°
[05:07:09] [ENEMY] [Enemy4] Memory: high confidence (0.90) - transitioning to PURSUING
[05:07:09] [ENEMY] [Enemy4] State: IDLE -> PURSUING
[05:07:09] [ENEMY] [Enemy4] PURSUING corner check: angle 139.7°
[05:07:09] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[05:07:09] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[05:07:09] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[05:07:09] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[05:07:09] [INFO] [LastChance] Resetting all effects (scene change detected)
[05:07:09] [ENEMY] [Enemy1] Death animation component initialized
[05:07:09] [ENEMY] [Enemy2] Death animation component initialized
[05:07:09] [ENEMY] [Enemy3] Death animation component initialized
[05:07:09] [ENEMY] [Enemy4] Death animation component initialized
[05:07:09] [ENEMY] [Enemy5] Death animation component initialized
[05:07:09] [ENEMY] [Enemy6] Death animation component initialized
[05:07:09] [ENEMY] [Enemy7] Death animation component initialized
[05:07:09] [ENEMY] [Enemy8] Death animation component initialized
[05:07:09] [ENEMY] [Enemy9] Death animation component initialized
[05:07:09] [ENEMY] [Enemy10] Death animation component initialized
[05:07:09] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[05:07:09] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[05:07:09] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[05:07:09] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[05:07:09] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[05:07:09] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[05:07:09] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[05:07:09] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[05:07:09] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[05:07:09] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[05:07:09] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[05:07:09] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[05:07:09] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[05:07:09] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[05:07:09] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[05:07:09] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[05:07:09] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[05:07:09] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[05:07:09] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[05:07:09] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[05:07:09] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[05:07:09] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[05:07:09] [INFO] [ScoreManager] Level started with 10 enemies
[05:07:09] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 21)
[05:07:09] [ENEMY] [Enemy1] Registered as sound listener
[05:07:09] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[05:07:09] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 22)
[05:07:09] [ENEMY] [Enemy2] Registered as sound listener
[05:07:09] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[05:07:09] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 23)
[05:07:09] [ENEMY] [Enemy3] Registered as sound listener
[05:07:09] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[05:07:09] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 24)
[05:07:09] [ENEMY] [Enemy4] Registered as sound listener
[05:07:09] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[05:07:09] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 25)
[05:07:09] [ENEMY] [Enemy5] Registered as sound listener
[05:07:09] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[05:07:09] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 26)
[05:07:09] [ENEMY] [Enemy6] Registered as sound listener
[05:07:09] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[05:07:09] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 27)
[05:07:09] [ENEMY] [Enemy7] Registered as sound listener
[05:07:09] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[05:07:09] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 28)
[05:07:09] [ENEMY] [Enemy8] Registered as sound listener
[05:07:09] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[05:07:09] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 29)
[05:07:09] [ENEMY] [Enemy9] Registered as sound listener
[05:07:09] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[05:07:09] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 30)
[05:07:09] [ENEMY] [Enemy10] Registered as sound listener
[05:07:09] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[05:07:09] [INFO] [Player] Detecting weapon pose (frame 3)...
[05:07:09] [INFO] [Player] Detected weapon: Rifle (default pose)
[05:07:09] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[05:07:09] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[05:07:09] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[05:07:09] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[05:07:09] [INFO] [LastChance] Found player: Player
[05:07:09] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[05:07:09] [INFO] [LastChance] Connected to player Damaged signal (C#)
[05:07:09] [INFO] [LastChance] Connected to player Died signal (C#)
[05:07:11] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[05:07:11] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[05:07:11] [ENEMY] [Enemy1] State: IDLE -> COMBAT
[05:07:11] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[05:07:11] [ENEMY] [Enemy2] Memory: high confidence (0.90) - transitioning to PURSUING
[05:07:11] [ENEMY] [Enemy2] State: IDLE -> PURSUING
[05:07:11] [ENEMY] [Enemy4] Memory: high confidence (0.90) - transitioning to PURSUING
[05:07:11] [ENEMY] [Enemy4] State: IDLE -> PURSUING
[05:07:11] [ENEMY] [Enemy2] PURSUING corner check: angle 52.1°
[05:07:11] [ENEMY] [Enemy4] PURSUING corner check: angle -100.7°
[05:07:11] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[05:07:12] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[05:07:12] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[05:07:12] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[05:07:12] [ENEMY] [Enemy10] PATROL corner check: angle 3.4°
[05:07:12] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[05:07:12] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[05:07:12] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[05:07:12] [INFO] [LastChance] Resetting all effects (scene change detected)
[05:07:12] [ENEMY] [Enemy1] Death animation component initialized
[05:07:12] [ENEMY] [Enemy2] Death animation component initialized
[05:07:12] [ENEMY] [Enemy3] Death animation component initialized
[05:07:12] [ENEMY] [Enemy4] Death animation component initialized
[05:07:12] [ENEMY] [Enemy5] Death animation component initialized
[05:07:12] [ENEMY] [Enemy6] Death animation component initialized
[05:07:12] [ENEMY] [Enemy7] Death animation component initialized
[05:07:12] [ENEMY] [Enemy8] Death animation component initialized
[05:07:12] [ENEMY] [Enemy9] Death animation component initialized
[05:07:12] [ENEMY] [Enemy10] Death animation component initialized
[05:07:12] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[05:07:12] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[05:07:12] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[05:07:12] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[05:07:12] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[05:07:12] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[05:07:12] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[05:07:12] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[05:07:12] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[05:07:12] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[05:07:12] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[05:07:12] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[05:07:12] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[05:07:12] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[05:07:12] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[05:07:12] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[05:07:12] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[05:07:12] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[05:07:12] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[05:07:12] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[05:07:12] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[05:07:12] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[05:07:12] [INFO] [ScoreManager] Level started with 10 enemies
[05:07:12] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 31)
[05:07:12] [ENEMY] [Enemy1] Registered as sound listener
[05:07:12] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[05:07:12] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 32)
[05:07:12] [ENEMY] [Enemy2] Registered as sound listener
[05:07:12] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[05:07:12] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 33)
[05:07:12] [ENEMY] [Enemy3] Registered as sound listener
[05:07:12] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[05:07:12] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 34)
[05:07:12] [ENEMY] [Enemy4] Registered as sound listener
[05:07:12] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[05:07:12] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 35)
[05:07:12] [ENEMY] [Enemy5] Registered as sound listener
[05:07:12] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[05:07:12] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 36)
[05:07:12] [ENEMY] [Enemy6] Registered as sound listener
[05:07:12] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[05:07:12] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 37)
[05:07:12] [ENEMY] [Enemy7] Registered as sound listener
[05:07:12] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[05:07:12] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 38)
[05:07:12] [ENEMY] [Enemy8] Registered as sound listener
[05:07:12] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[05:07:12] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 39)
[05:07:12] [ENEMY] [Enemy9] Registered as sound listener
[05:07:12] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[05:07:12] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 40)
[05:07:12] [ENEMY] [Enemy10] Registered as sound listener
[05:07:12] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[05:07:12] [INFO] [Player] Detecting weapon pose (frame 3)...
[05:07:12] [INFO] [Player] Detected weapon: Rifle (default pose)
[05:07:12] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[05:07:12] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[05:07:12] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[05:07:12] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[05:07:12] [INFO] [LastChance] Found player: Player
[05:07:12] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[05:07:12] [INFO] [LastChance] Connected to player Damaged signal (C#)
[05:07:12] [INFO] [LastChance] Connected to player Died signal (C#)
[05:07:13] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[05:07:13] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[05:07:14] [ENEMY] [Enemy2] State: IDLE -> COMBAT
[05:07:14] [ENEMY] [Enemy10] PATROL corner check: angle 3.4°
[05:07:14] [ENEMY] [Enemy1] Memory: high confidence (0.90) - transitioning to PURSUING
[05:07:14] [ENEMY] [Enemy1] State: IDLE -> PURSUING
[05:07:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(409.1617, 563.1169), source=ENEMY (Enemy2), range=1469, listeners=40
[05:07:14] [INFO] [SoundPropagation] Cleaned up 30 invalid listeners
[05:07:14] [ENEMY] [Enemy3] Heard gunshot at (409.1617, 563.1169), source_type=1, intensity=0.02, distance=346
[05:07:14] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=4
[05:07:14] [ENEMY] [Enemy1] PURSUING corner check: angle -63.3°
[05:07:14] [INFO] [LastChance] Threat detected: Bullet
[05:07:14] [INFO] [LastChance] Not in hard mode - effect disabled
[05:07:14] [INFO] [LastChance] Cannot trigger effect - conditions not met
[05:07:14] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[05:07:14] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[05:07:14] [INFO] [PenultimateHit] Starting penultimate hit effect:
[05:07:14] [INFO] [PenultimateHit]   - Time scale: 0.10
[05:07:14] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[05:07:14] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[05:07:14] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[05:07:14] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[05:07:14] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[05:07:14] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[05:07:14] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[05:07:15] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[05:07:15] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[05:07:15] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[05:07:15] [INFO] [PenultimateHit] Ending penultimate hit effect
[05:07:15] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[05:07:15] [INFO] [LastChance] Resetting all effects (scene change detected)
[05:07:15] [ENEMY] [Enemy1] Death animation component initialized
[05:07:15] [ENEMY] [Enemy2] Death animation component initialized
[05:07:15] [ENEMY] [Enemy3] Death animation component initialized
[05:07:15] [ENEMY] [Enemy4] Death animation component initialized
[05:07:15] [ENEMY] [Enemy5] Death animation component initialized
[05:07:15] [ENEMY] [Enemy6] Death animation component initialized
[05:07:15] [ENEMY] [Enemy7] Death animation component initialized
[05:07:15] [ENEMY] [Enemy8] Death animation component initialized
[05:07:15] [ENEMY] [Enemy9] Death animation component initialized
[05:07:15] [ENEMY] [Enemy10] Death animation component initialized
[05:07:15] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[05:07:15] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[05:07:15] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[05:07:15] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[05:07:15] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[05:07:15] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[05:07:15] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[05:07:15] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[05:07:15] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[05:07:15] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[05:07:15] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[05:07:15] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[05:07:15] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[05:07:15] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[05:07:15] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[05:07:15] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[05:07:15] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[05:07:15] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[05:07:15] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[05:07:15] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[05:07:15] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[05:07:15] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[05:07:15] [INFO] [ScoreManager] Level started with 10 enemies
[05:07:15] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[05:07:15] [ENEMY] [Enemy1] Registered as sound listener
[05:07:15] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[05:07:15] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[05:07:15] [ENEMY] [Enemy2] Registered as sound listener
[05:07:15] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[05:07:15] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[05:07:15] [ENEMY] [Enemy3] Registered as sound listener
[05:07:15] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[05:07:15] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[05:07:15] [ENEMY] [Enemy4] Registered as sound listener
[05:07:15] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[05:07:15] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[05:07:15] [ENEMY] [Enemy5] Registered as sound listener
[05:07:15] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[05:07:15] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[05:07:15] [ENEMY] [Enemy6] Registered as sound listener
[05:07:15] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[05:07:15] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[05:07:15] [ENEMY] [Enemy7] Registered as sound listener
[05:07:15] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[05:07:15] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[05:07:15] [ENEMY] [Enemy8] Registered as sound listener
[05:07:15] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[05:07:15] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[05:07:15] [ENEMY] [Enemy9] Registered as sound listener
[05:07:15] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[05:07:15] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[05:07:15] [ENEMY] [Enemy10] Registered as sound listener
[05:07:15] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[05:07:15] [INFO] [Player] Detecting weapon pose (frame 3)...
[05:07:15] [INFO] [Player] Detected weapon: Rifle (default pose)
[05:07:15] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[05:07:15] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[05:07:15] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[05:07:15] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[05:07:15] [INFO] [LastChance] Found player: Player
[05:07:15] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[05:07:15] [INFO] [LastChance] Connected to player Damaged signal (C#)
[05:07:15] [INFO] [LastChance] Connected to player Died signal (C#)
[05:07:16] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[05:07:16] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[05:07:17] [ENEMY] [Enemy1] State: IDLE -> COMBAT
[05:07:17] [ENEMY] [Enemy10] PATROL corner check: angle 3.4°
[05:07:17] [ENEMY] [Enemy2] Memory: high confidence (0.89) - transitioning to PURSUING
[05:07:17] [ENEMY] [Enemy2] State: IDLE -> PURSUING
[05:07:17] [ENEMY] [Enemy3] Memory: medium confidence (0.80) - transitioning to PURSUING
[05:07:17] [ENEMY] [Enemy3] State: IDLE -> PURSUING
[05:07:17] [ENEMY] [Enemy4] Memory: medium confidence (0.72) - transitioning to PURSUING
[05:07:17] [ENEMY] [Enemy4] State: IDLE -> PURSUING
[05:07:17] [ENEMY] [Enemy2] PURSUING corner check: angle 54.8°
[05:07:17] [ENEMY] [Enemy3] PURSUING corner check: angle -117.3°
[05:07:17] [ENEMY] [Enemy4] PURSUING corner check: angle -100.7°
[05:07:17] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[05:07:17] [ENEMY] [Enemy3] State: PURSUING -> COMBAT
[05:07:18] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[05:07:18] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[05:07:18] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[05:07:18] [INFO] [LastChance] Resetting all effects (scene change detected)
[05:07:18] [ENEMY] [Enemy1] Death animation component initialized
[05:07:18] [ENEMY] [Enemy2] Death animation component initialized
[05:07:18] [ENEMY] [Enemy3] Death animation component initialized
[05:07:18] [ENEMY] [Enemy4] Death animation component initialized
[05:07:18] [ENEMY] [Enemy5] Death animation component initialized
[05:07:18] [ENEMY] [Enemy6] Death animation component initialized
[05:07:18] [ENEMY] [Enemy7] Death animation component initialized
[05:07:18] [ENEMY] [Enemy8] Death animation component initialized
[05:07:18] [ENEMY] [Enemy9] Death animation component initialized
[05:07:18] [ENEMY] [Enemy10] Death animation component initialized
[05:07:18] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[05:07:18] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[05:07:18] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[05:07:18] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[05:07:18] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[05:07:18] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[05:07:18] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[05:07:18] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[05:07:18] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[05:07:18] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[05:07:18] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[05:07:18] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[05:07:18] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[05:07:18] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[05:07:18] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[05:07:18] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[05:07:18] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[05:07:18] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[05:07:18] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[05:07:18] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[05:07:18] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[05:07:18] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[05:07:18] [INFO] [ScoreManager] Level started with 10 enemies
[05:07:18] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 21)
[05:07:18] [ENEMY] [Enemy1] Registered as sound listener
[05:07:18] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[05:07:18] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 22)
[05:07:18] [ENEMY] [Enemy2] Registered as sound listener
[05:07:18] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[05:07:18] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 23)
[05:07:18] [ENEMY] [Enemy3] Registered as sound listener
[05:07:18] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[05:07:18] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 24)
[05:07:18] [ENEMY] [Enemy4] Registered as sound listener
[05:07:18] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[05:07:18] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 25)
[05:07:18] [ENEMY] [Enemy5] Registered as sound listener
[05:07:18] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[05:07:18] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 26)
[05:07:18] [ENEMY] [Enemy6] Registered as sound listener
[05:07:18] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[05:07:18] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 27)
[05:07:18] [ENEMY] [Enemy7] Registered as sound listener
[05:07:18] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[05:07:18] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 28)
[05:07:18] [ENEMY] [Enemy8] Registered as sound listener
[05:07:18] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[05:07:18] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 29)
[05:07:18] [ENEMY] [Enemy9] Registered as sound listener
[05:07:18] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[05:07:18] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 30)
[05:07:18] [ENEMY] [Enemy10] Registered as sound listener
[05:07:18] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[05:07:18] [INFO] [Player] Detecting weapon pose (frame 3)...
[05:07:18] [INFO] [Player] Detected weapon: Rifle (default pose)
[05:07:18] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[05:07:18] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[05:07:18] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[05:07:18] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[05:07:18] [INFO] [LastChance] Found player: Player
[05:07:18] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[05:07:18] [INFO] [LastChance] Connected to player Damaged signal (C#)
[05:07:18] [INFO] [LastChance] Connected to player Died signal (C#)
[05:07:19] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[05:07:19] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[05:07:20] [ENEMY] [Enemy10] PATROL corner check: angle 3.4°
[05:07:21] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[05:07:22] [ENEMY] [Enemy7] PATROL corner check: angle 89.8°
[05:07:22] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[05:07:22] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[05:07:23] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[05:07:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1159.099, 1601.934), source=ENEMY (Enemy10), range=1469, listeners=30
[05:07:23] [INFO] [SoundPropagation] Cleaned up 20 invalid listeners
[05:07:23] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=8
[05:07:23] [INFO] [LastChance] Threat detected: Bullet
[05:07:23] [INFO] [LastChance] Not in hard mode - effect disabled
[05:07:23] [INFO] [LastChance] Cannot trigger effect - conditions not met
[05:07:23] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[05:07:23] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[05:07:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1159.099, 1601.934), source=ENEMY (Enemy10), range=1469, listeners=10
[05:07:23] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=8
[05:07:23] [INFO] [LastChance] Threat detected: Bullet
[05:07:23] [INFO] [LastChance] Not in hard mode - effect disabled
[05:07:23] [INFO] [LastChance] Cannot trigger effect - conditions not met
[05:07:23] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[05:07:23] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[05:07:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1159.099, 1601.934), source=ENEMY (Enemy10), range=1469, listeners=10
[05:07:23] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=8
[05:07:23] [INFO] [LastChance] Threat detected: Bullet
[05:07:23] [INFO] [LastChance] Not in hard mode - effect disabled
[05:07:23] [INFO] [LastChance] Cannot trigger effect - conditions not met
[05:07:23] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[05:07:23] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[05:07:23] [INFO] [PenultimateHit] Starting penultimate hit effect:
[05:07:23] [INFO] [PenultimateHit]   - Time scale: 0.10
[05:07:23] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[05:07:23] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[05:07:23] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[05:07:23] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[05:07:23] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[05:07:23] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[05:07:23] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[05:07:23] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[05:07:23] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[05:07:23] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[05:07:23] [INFO] [PenultimateHit] Ending penultimate hit effect
[05:07:23] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[05:07:23] [INFO] [LastChance] Resetting all effects (scene change detected)
[05:07:23] [ENEMY] [Enemy1] Death animation component initialized
[05:07:23] [ENEMY] [Enemy2] Death animation component initialized
[05:07:23] [ENEMY] [Enemy3] Death animation component initialized
[05:07:23] [ENEMY] [Enemy4] Death animation component initialized
[05:07:23] [ENEMY] [Enemy5] Death animation component initialized
[05:07:23] [ENEMY] [Enemy6] Death animation component initialized
[05:07:23] [ENEMY] [Enemy7] Death animation component initialized
[05:07:23] [ENEMY] [Enemy8] Death animation component initialized
[05:07:23] [ENEMY] [Enemy9] Death animation component initialized
[05:07:23] [ENEMY] [Enemy10] Death animation component initialized
[05:07:23] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[05:07:23] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[05:07:23] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[05:07:23] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[05:07:23] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[05:07:23] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[05:07:23] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[05:07:23] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[05:07:23] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[05:07:23] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[05:07:23] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[05:07:23] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[05:07:23] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[05:07:23] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[05:07:23] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[05:07:23] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[05:07:23] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[05:07:23] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[05:07:23] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[05:07:23] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[05:07:23] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[05:07:23] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[05:07:23] [INFO] [ScoreManager] Level started with 10 enemies
[05:07:23] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[05:07:23] [ENEMY] [Enemy1] Registered as sound listener
[05:07:23] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[05:07:23] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[05:07:23] [ENEMY] [Enemy2] Registered as sound listener
[05:07:23] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[05:07:23] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[05:07:23] [ENEMY] [Enemy3] Registered as sound listener
[05:07:23] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[05:07:23] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[05:07:23] [ENEMY] [Enemy4] Registered as sound listener
[05:07:23] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[05:07:23] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[05:07:23] [ENEMY] [Enemy5] Registered as sound listener
[05:07:23] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[05:07:23] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[05:07:23] [ENEMY] [Enemy6] Registered as sound listener
[05:07:23] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[05:07:23] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[05:07:23] [ENEMY] [Enemy7] Registered as sound listener
[05:07:23] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[05:07:23] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[05:07:23] [ENEMY] [Enemy8] Registered as sound listener
[05:07:23] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[05:07:23] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[05:07:23] [ENEMY] [Enemy9] Registered as sound listener
[05:07:23] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[05:07:23] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[05:07:23] [ENEMY] [Enemy10] Registered as sound listener
[05:07:23] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[05:07:23] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[05:07:23] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[05:07:23] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[05:07:23] [INFO] [LastChance] Found player: Player
[05:07:23] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[05:07:23] [INFO] [LastChance] Connected to player Damaged signal (C#)
[05:07:23] [INFO] [LastChance] Connected to player Died signal (C#)
[05:07:23] [INFO] [Player] Detecting weapon pose (frame 3)...
[05:07:23] [INFO] [Player] Detected weapon: Rifle (default pose)
[05:07:23] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[05:07:25] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[05:07:25] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[05:07:26] [ENEMY] [Enemy10] PATROL corner check: angle 3.4°
[05:07:27] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[05:07:27] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[05:07:27] [ENEMY] [Enemy7] PATROL corner check: angle 89.8°
[05:07:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1159.099, 1601.934), source=ENEMY (Enemy10), range=1469, listeners=20
[05:07:27] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[05:07:27] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=8
[05:07:27] [INFO] [LastChance] Threat detected: Bullet
[05:07:27] [INFO] [LastChance] Not in hard mode - effect disabled
[05:07:27] [INFO] [LastChance] Cannot trigger effect - conditions not met
[05:07:27] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[05:07:27] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[05:07:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1159.099, 1601.934), source=ENEMY (Enemy10), range=1469, listeners=10
[05:07:28] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=8
[05:07:28] [INFO] [LastChance] Threat detected: Bullet
[05:07:28] [INFO] [LastChance] Not in hard mode - effect disabled
[05:07:28] [INFO] [LastChance] Cannot trigger effect - conditions not met
[05:07:28] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[05:07:28] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[05:07:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1159.099, 1601.934), source=ENEMY (Enemy10), range=1469, listeners=10
[05:07:28] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=8
[05:07:28] [INFO] [LastChance] Threat detected: Bullet
[05:07:28] [INFO] [LastChance] Not in hard mode - effect disabled
[05:07:28] [INFO] [LastChance] Cannot trigger effect - conditions not met
[05:07:28] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[05:07:28] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[05:07:28] [INFO] [PenultimateHit] Starting penultimate hit effect:
[05:07:28] [INFO] [PenultimateHit]   - Time scale: 0.10
[05:07:28] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[05:07:28] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[05:07:28] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[05:07:28] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[05:07:28] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[05:07:28] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[05:07:28] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[05:07:28] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[05:07:28] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[05:07:28] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[05:07:28] [INFO] [PenultimateHit] Ending penultimate hit effect
[05:07:28] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[05:07:28] [INFO] [LastChance] Resetting all effects (scene change detected)
[05:07:28] [ENEMY] [Enemy1] Death animation component initialized
[05:07:28] [ENEMY] [Enemy2] Death animation component initialized
[05:07:28] [ENEMY] [Enemy3] Death animation component initialized
[05:07:28] [ENEMY] [Enemy4] Death animation component initialized
[05:07:28] [ENEMY] [Enemy5] Death animation component initialized
[05:07:28] [ENEMY] [Enemy6] Death animation component initialized
[05:07:28] [ENEMY] [Enemy7] Death animation component initialized
[05:07:28] [ENEMY] [Enemy8] Death animation component initialized
[05:07:28] [ENEMY] [Enemy9] Death animation component initialized
[05:07:28] [ENEMY] [Enemy10] Death animation component initialized
[05:07:28] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[05:07:28] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[05:07:28] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[05:07:28] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[05:07:28] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[05:07:28] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[05:07:28] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[05:07:28] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[05:07:28] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[05:07:28] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[05:07:28] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[05:07:28] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[05:07:28] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[05:07:28] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[05:07:28] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[05:07:28] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[05:07:28] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[05:07:28] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[05:07:28] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[05:07:28] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[05:07:28] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[05:07:28] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[05:07:28] [INFO] [ScoreManager] Level started with 10 enemies
[05:07:28] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[05:07:28] [ENEMY] [Enemy1] Registered as sound listener
[05:07:28] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[05:07:28] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[05:07:28] [ENEMY] [Enemy2] Registered as sound listener
[05:07:28] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[05:07:28] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[05:07:28] [ENEMY] [Enemy3] Registered as sound listener
[05:07:28] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[05:07:28] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[05:07:28] [ENEMY] [Enemy4] Registered as sound listener
[05:07:28] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[05:07:28] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[05:07:28] [ENEMY] [Enemy5] Registered as sound listener
[05:07:28] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[05:07:28] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[05:07:28] [ENEMY] [Enemy6] Registered as sound listener
[05:07:28] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[05:07:28] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[05:07:28] [ENEMY] [Enemy7] Registered as sound listener
[05:07:28] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[05:07:28] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[05:07:28] [ENEMY] [Enemy8] Registered as sound listener
[05:07:28] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[05:07:28] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[05:07:28] [ENEMY] [Enemy9] Registered as sound listener
[05:07:28] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[05:07:28] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[05:07:28] [ENEMY] [Enemy10] Registered as sound listener
[05:07:28] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[05:07:28] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[05:07:28] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[05:07:28] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[05:07:28] [INFO] [LastChance] Found player: Player
[05:07:28] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[05:07:28] [INFO] [LastChance] Connected to player Damaged signal (C#)
[05:07:28] [INFO] [LastChance] Connected to player Died signal (C#)
[05:07:28] [INFO] [Player] Detecting weapon pose (frame 3)...
[05:07:28] [INFO] [Player] Detected weapon: Rifle (default pose)
[05:07:28] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[05:07:30] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[05:07:30] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[05:07:31] [ENEMY] [Enemy10] PATROL corner check: angle 3.4°
[05:07:32] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[05:07:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1159.025, 1601.934), source=ENEMY (Enemy10), range=1469, listeners=20
[05:07:32] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[05:07:32] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=8
[05:07:32] [INFO] [LastChance] Threat detected: Bullet
[05:07:32] [INFO] [LastChance] Not in hard mode - effect disabled
[05:07:32] [INFO] [LastChance] Cannot trigger effect - conditions not met
[05:07:32] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[05:07:32] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[05:07:32] [INFO] [PenultimateHit] Starting penultimate hit effect:
[05:07:32] [INFO] [PenultimateHit]   - Time scale: 0.10
[05:07:32] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[05:07:32] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[05:07:32] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[05:07:32] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[05:07:32] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[05:07:32] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[05:07:32] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[05:07:33] [ENEMY] [Enemy7] PATROL corner check: angle 89.6°
[05:07:33] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[05:07:33] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[05:07:33] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[05:07:33] [INFO] [PenultimateHit] Ending penultimate hit effect
[05:07:33] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[05:07:33] [INFO] [LastChance] Resetting all effects (scene change detected)
[05:07:33] [ENEMY] [Enemy1] Death animation component initialized
[05:07:33] [ENEMY] [Enemy2] Death animation component initialized
[05:07:33] [ENEMY] [Enemy3] Death animation component initialized
[05:07:33] [ENEMY] [Enemy4] Death animation component initialized
[05:07:33] [ENEMY] [Enemy5] Death animation component initialized
[05:07:33] [ENEMY] [Enemy6] Death animation component initialized
[05:07:33] [ENEMY] [Enemy7] Death animation component initialized
[05:07:33] [ENEMY] [Enemy8] Death animation component initialized
[05:07:33] [ENEMY] [Enemy9] Death animation component initialized
[05:07:33] [ENEMY] [Enemy10] Death animation component initialized
[05:07:33] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[05:07:33] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[05:07:33] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[05:07:33] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[05:07:33] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[05:07:33] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[05:07:33] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[05:07:33] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[05:07:33] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[05:07:33] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[05:07:33] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[05:07:33] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[05:07:33] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[05:07:33] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[05:07:33] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[05:07:33] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[05:07:33] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[05:07:33] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[05:07:33] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[05:07:33] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[05:07:33] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[05:07:33] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[05:07:33] [INFO] [ScoreManager] Level started with 10 enemies
[05:07:33] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[05:07:33] [ENEMY] [Enemy1] Registered as sound listener
[05:07:33] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[05:07:33] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[05:07:33] [ENEMY] [Enemy2] Registered as sound listener
[05:07:33] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[05:07:33] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[05:07:33] [ENEMY] [Enemy3] Registered as sound listener
[05:07:33] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[05:07:33] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[05:07:33] [ENEMY] [Enemy4] Registered as sound listener
[05:07:33] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[05:07:33] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[05:07:33] [ENEMY] [Enemy5] Registered as sound listener
[05:07:33] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[05:07:33] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[05:07:33] [ENEMY] [Enemy6] Registered as sound listener
[05:07:33] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[05:07:33] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[05:07:33] [ENEMY] [Enemy7] Registered as sound listener
[05:07:33] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[05:07:33] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[05:07:33] [ENEMY] [Enemy8] Registered as sound listener
[05:07:33] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[05:07:33] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[05:07:33] [ENEMY] [Enemy9] Registered as sound listener
[05:07:33] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[05:07:33] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[05:07:33] [ENEMY] [Enemy10] Registered as sound listener
[05:07:33] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[05:07:33] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[05:07:33] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[05:07:33] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[05:07:33] [INFO] [LastChance] Found player: Player
[05:07:33] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[05:07:33] [INFO] [LastChance] Connected to player Damaged signal (C#)
[05:07:33] [INFO] [LastChance] Connected to player Died signal (C#)
[05:07:33] [INFO] [Player] Detecting weapon pose (frame 3)...
[05:07:33] [INFO] [Player] Detected weapon: Rifle (default pose)
[05:07:33] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[05:07:34] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[05:07:34] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[05:07:34] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[05:07:35] [ENEMY] [Enemy1] State: IDLE -> COMBAT
[05:07:35] [ENEMY] [Enemy2] Memory: high confidence (0.90) - transitioning to PURSUING
[05:07:35] [ENEMY] [Enemy2] State: IDLE -> PURSUING
[05:07:35] [ENEMY] [Enemy4] Memory: high confidence (0.86) - transitioning to PURSUING
[05:07:35] [ENEMY] [Enemy4] State: IDLE -> PURSUING
[05:07:35] [ENEMY] [Enemy2] PURSUING corner check: angle 54.5°
[05:07:35] [ENEMY] [Enemy4] PURSUING corner check: angle -100.7°
[05:07:35] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[05:07:35] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[05:07:35] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[05:07:35] [ENEMY] [Enemy10] PATROL corner check: angle 3.4°
[05:07:35] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[05:07:35] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[05:07:35] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[05:07:35] [INFO] [LastChance] Resetting all effects (scene change detected)
[05:07:35] [ENEMY] [Enemy1] Death animation component initialized
[05:07:35] [ENEMY] [Enemy2] Death animation component initialized
[05:07:35] [ENEMY] [Enemy3] Death animation component initialized
[05:07:35] [ENEMY] [Enemy4] Death animation component initialized
[05:07:35] [ENEMY] [Enemy5] Death animation component initialized
[05:07:35] [ENEMY] [Enemy6] Death animation component initialized
[05:07:35] [ENEMY] [Enemy7] Death animation component initialized
[05:07:35] [ENEMY] [Enemy8] Death animation component initialized
[05:07:35] [ENEMY] [Enemy9] Death animation component initialized
[05:07:35] [ENEMY] [Enemy10] Death animation component initialized
[05:07:35] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[05:07:35] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[05:07:35] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[05:07:35] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[05:07:35] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[05:07:35] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[05:07:35] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[05:07:35] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[05:07:35] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[05:07:35] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[05:07:35] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[05:07:35] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[05:07:35] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[05:07:35] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[05:07:35] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[05:07:35] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[05:07:35] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[05:07:35] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[05:07:35] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[05:07:35] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[05:07:35] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[05:07:35] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[05:07:35] [INFO] [ScoreManager] Level started with 10 enemies
[05:07:35] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 21)
[05:07:35] [ENEMY] [Enemy1] Registered as sound listener
[05:07:35] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[05:07:35] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 22)
[05:07:35] [ENEMY] [Enemy2] Registered as sound listener
[05:07:35] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[05:07:35] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 23)
[05:07:35] [ENEMY] [Enemy3] Registered as sound listener
[05:07:35] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[05:07:35] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 24)
[05:07:35] [ENEMY] [Enemy4] Registered as sound listener
[05:07:35] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[05:07:35] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 25)
[05:07:35] [ENEMY] [Enemy5] Registered as sound listener
[05:07:35] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[05:07:35] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 26)
[05:07:35] [ENEMY] [Enemy6] Registered as sound listener
[05:07:35] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[05:07:35] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 27)
[05:07:35] [ENEMY] [Enemy7] Registered as sound listener
[05:07:35] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[05:07:35] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 28)
[05:07:35] [ENEMY] [Enemy8] Registered as sound listener
[05:07:35] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[05:07:35] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 29)
[05:07:35] [ENEMY] [Enemy9] Registered as sound listener
[05:07:35] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[05:07:35] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 30)
[05:07:35] [ENEMY] [Enemy10] Registered as sound listener
[05:07:35] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[05:07:35] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[05:07:35] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[05:07:35] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[05:07:35] [INFO] [LastChance] Found player: Player
[05:07:35] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[05:07:35] [INFO] [LastChance] Connected to player Damaged signal (C#)
[05:07:35] [INFO] [LastChance] Connected to player Died signal (C#)
[05:07:35] [INFO] [Player] Detecting weapon pose (frame 3)...
[05:07:35] [INFO] [Player] Detected weapon: Rifle (default pose)
[05:07:35] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[05:07:37] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[05:07:37] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[05:07:37] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[05:07:37] [ENEMY] [Enemy4] Memory: high confidence (0.85) - transitioning to PURSUING
[05:07:37] [ENEMY] [Enemy4] State: IDLE -> PURSUING
[05:07:37] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[05:07:37] [ENEMY] [Enemy4] PURSUING corner check: angle -100.7°
[05:07:38] [ENEMY] [Enemy10] PATROL corner check: angle 3.4°
[05:07:38] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[05:07:38] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[05:07:38] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[05:07:38] [INFO] [LastChance] Resetting all effects (scene change detected)
[05:07:38] [ENEMY] [Enemy1] Death animation component initialized
[05:07:38] [ENEMY] [Enemy2] Death animation component initialized
[05:07:38] [ENEMY] [Enemy3] Death animation component initialized
[05:07:38] [ENEMY] [Enemy4] Death animation component initialized
[05:07:38] [ENEMY] [Enemy5] Death animation component initialized
[05:07:38] [ENEMY] [Enemy6] Death animation component initialized
[05:07:38] [ENEMY] [Enemy7] Death animation component initialized
[05:07:38] [ENEMY] [Enemy8] Death animation component initialized
[05:07:38] [ENEMY] [Enemy9] Death animation component initialized
[05:07:38] [ENEMY] [Enemy10] Death animation component initialized
[05:07:38] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[05:07:38] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[05:07:38] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[05:07:38] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[05:07:38] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[05:07:38] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[05:07:38] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[05:07:38] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[05:07:38] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[05:07:38] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[05:07:38] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[05:07:38] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[05:07:38] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[05:07:38] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[05:07:38] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[05:07:38] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[05:07:38] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[05:07:38] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[05:07:38] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[05:07:38] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[05:07:38] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[05:07:38] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[05:07:38] [INFO] [ScoreManager] Level started with 10 enemies
[05:07:38] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 31)
[05:07:38] [ENEMY] [Enemy1] Registered as sound listener
[05:07:38] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[05:07:38] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 32)
[05:07:38] [ENEMY] [Enemy2] Registered as sound listener
[05:07:38] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[05:07:38] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 33)
[05:07:38] [ENEMY] [Enemy3] Registered as sound listener
[05:07:38] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[05:07:38] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 34)
[05:07:38] [ENEMY] [Enemy4] Registered as sound listener
[05:07:38] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[05:07:38] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 35)
[05:07:38] [ENEMY] [Enemy5] Registered as sound listener
[05:07:38] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[05:07:38] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 36)
[05:07:38] [ENEMY] [Enemy6] Registered as sound listener
[05:07:38] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[05:07:38] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 37)
[05:07:38] [ENEMY] [Enemy7] Registered as sound listener
[05:07:38] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[05:07:38] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 38)
[05:07:38] [ENEMY] [Enemy8] Registered as sound listener
[05:07:38] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[05:07:38] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 39)
[05:07:38] [ENEMY] [Enemy9] Registered as sound listener
[05:07:38] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[05:07:38] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 40)
[05:07:38] [ENEMY] [Enemy10] Registered as sound listener
[05:07:38] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[05:07:38] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[05:07:38] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[05:07:38] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[05:07:38] [INFO] [LastChance] Found player: Player
[05:07:38] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[05:07:38] [INFO] [LastChance] Connected to player Damaged signal (C#)
[05:07:38] [INFO] [LastChance] Connected to player Died signal (C#)
[05:07:38] [INFO] [Player] Detecting weapon pose (frame 3)...
[05:07:38] [INFO] [Player] Detected weapon: Rifle (default pose)
[05:07:38] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[05:07:40] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[05:07:40] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[05:07:40] [ENEMY] [Enemy1] State: IDLE -> COMBAT
[05:07:40] [ENEMY] [Enemy2] State: IDLE -> COMBAT
[05:07:41] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[05:07:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=40
[05:07:41] [INFO] [SoundPropagation] Cleaned up 30 invalid listeners
[05:07:41] [ENEMY] [Enemy3] Heard gunshot at (400, 550), source_type=1, intensity=0.02, distance=361
[05:07:41] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=4
[05:07:41] [INFO] [LastChance] Threat detected: Bullet
[05:07:41] [INFO] [LastChance] Not in hard mode - effect disabled
[05:07:41] [INFO] [LastChance] Cannot trigger effect - conditions not met
[05:07:41] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[05:07:41] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[05:07:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=10
[05:07:41] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=4
[05:07:41] [ENEMY] [Enemy10] PATROL corner check: angle 3.4°
[05:07:41] [INFO] [LastChance] Threat detected: Bullet
[05:07:41] [INFO] [LastChance] Not in hard mode - effect disabled
[05:07:41] [INFO] [LastChance] Cannot trigger effect - conditions not met
[05:07:41] [ENEMY] [Enemy4] Memory: high confidence (0.89) - transitioning to PURSUING
[05:07:41] [ENEMY] [Enemy4] State: IDLE -> PURSUING
[05:07:41] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[05:07:41] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[05:07:41] [INFO] [PenultimateHit] Starting penultimate hit effect:
[05:07:41] [INFO] [PenultimateHit]   - Time scale: 0.10
[05:07:41] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[05:07:41] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[05:07:41] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[05:07:41] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[05:07:41] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[05:07:41] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[05:07:41] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[05:07:41] [ENEMY] [Enemy4] PURSUING corner check: angle -100.7°
[05:07:41] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[05:07:41] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[05:07:41] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[05:07:41] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[05:07:41] [INFO] [PenultimateHit] Ending penultimate hit effect
[05:07:41] [INFO] [PenultimateHit] Restored original colors to 5 player sprites
[05:07:41] [INFO] [LastChance] Resetting all effects (scene change detected)
[05:07:41] [ENEMY] [Enemy1] Death animation component initialized
[05:07:41] [ENEMY] [Enemy2] Death animation component initialized
[05:07:41] [ENEMY] [Enemy3] Death animation component initialized
[05:07:41] [ENEMY] [Enemy4] Death animation component initialized
[05:07:41] [ENEMY] [Enemy5] Death animation component initialized
[05:07:41] [ENEMY] [Enemy6] Death animation component initialized
[05:07:41] [ENEMY] [Enemy7] Death animation component initialized
[05:07:41] [ENEMY] [Enemy8] Death animation component initialized
[05:07:41] [ENEMY] [Enemy9] Death animation component initialized
[05:07:41] [ENEMY] [Enemy10] Death animation component initialized
[05:07:41] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[05:07:41] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[05:07:41] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[05:07:41] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[05:07:41] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[05:07:41] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[05:07:41] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[05:07:41] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[05:07:41] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[05:07:41] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[05:07:41] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[05:07:41] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[05:07:41] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[05:07:41] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[05:07:41] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[05:07:41] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[05:07:41] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[05:07:41] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[05:07:41] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[05:07:41] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[05:07:41] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[05:07:41] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[05:07:41] [INFO] [ScoreManager] Level started with 10 enemies
[05:07:41] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[05:07:41] [ENEMY] [Enemy1] Registered as sound listener
[05:07:41] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[05:07:41] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[05:07:41] [ENEMY] [Enemy2] Registered as sound listener
[05:07:41] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[05:07:41] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[05:07:41] [ENEMY] [Enemy3] Registered as sound listener
[05:07:41] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[05:07:41] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[05:07:41] [ENEMY] [Enemy4] Registered as sound listener
[05:07:41] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[05:07:41] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[05:07:41] [ENEMY] [Enemy5] Registered as sound listener
[05:07:41] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[05:07:41] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[05:07:41] [ENEMY] [Enemy6] Registered as sound listener
[05:07:41] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[05:07:41] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[05:07:41] [ENEMY] [Enemy7] Registered as sound listener
[05:07:41] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[05:07:41] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[05:07:41] [ENEMY] [Enemy8] Registered as sound listener
[05:07:41] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[05:07:41] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[05:07:41] [ENEMY] [Enemy9] Registered as sound listener
[05:07:41] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[05:07:41] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[05:07:41] [ENEMY] [Enemy10] Registered as sound listener
[05:07:41] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[05:07:41] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[05:07:41] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[05:07:41] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[05:07:41] [INFO] [LastChance] Found player: Player
[05:07:41] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[05:07:41] [INFO] [LastChance] Connected to player Damaged signal (C#)
[05:07:41] [INFO] [LastChance] Connected to player Died signal (C#)
[05:07:41] [INFO] [Player] Detecting weapon pose (frame 3)...
[05:07:41] [INFO] [Player] Detected weapon: Rifle (default pose)
[05:07:41] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[05:07:43] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[05:07:43] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[05:07:43] [ENEMY] [Enemy1] State: IDLE -> COMBAT
[05:07:43] [ENEMY] [Enemy2] Memory: high confidence (0.90) - transitioning to PURSUING
[05:07:43] [ENEMY] [Enemy2] State: IDLE -> PURSUING
[05:07:43] [ENEMY] [Enemy3] Memory: high confidence (0.81) - transitioning to PURSUING
[05:07:43] [ENEMY] [Enemy3] State: IDLE -> PURSUING
[05:07:43] [ENEMY] [Enemy4] Memory: medium confidence (0.72) - transitioning to PURSUING
[05:07:43] [ENEMY] [Enemy4] State: IDLE -> PURSUING
[05:07:43] [ENEMY] [Enemy2] PURSUING corner check: angle 56.7°
[05:07:43] [ENEMY] [Enemy3] PURSUING corner check: angle -174.7°
[05:07:43] [ENEMY] [Enemy4] PURSUING corner check: angle -100.7°
[05:07:43] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[05:07:44] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[05:07:44] [ENEMY] [Enemy10] PATROL corner check: angle 3.4°
[05:07:44] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[05:07:44] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[05:07:44] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[05:07:44] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[05:07:45] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[05:07:45] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[05:07:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(554.8653, 631.8915), source=ENEMY (Enemy2), range=1469, listeners=20
[05:07:45] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[05:07:45] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=1, below_threshold=4
[05:07:45] [INFO] [LastChance] Threat detected: Bullet
[05:07:45] [INFO] [LastChance] Not in hard mode - effect disabled
[05:07:45] [INFO] [LastChance] Cannot trigger effect - conditions not met
[05:07:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(590.4387, 620.5854), source=ENEMY (Enemy2), range=1469, listeners=10
[05:07:45] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=1, below_threshold=4
[05:07:45] [INFO] [LastChance] Threat detected: @Area2D@5420
[05:07:45] [INFO] [LastChance] Not in hard mode - effect disabled
[05:07:45] [INFO] [LastChance] Cannot trigger effect - conditions not met
[05:07:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(626.8024, 612.1923), source=ENEMY (Enemy2), range=1469, listeners=10
[05:07:45] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=1, below_threshold=4
[05:07:45] [INFO] [LastChance] Threat detected: @Area2D@5422
[05:07:45] [INFO] [LastChance] Not in hard mode - effect disabled
[05:07:45] [INFO] [LastChance] Cannot trigger effect - conditions not met
[05:07:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(621.2321, 617.1083), shooter_id=32404018300434, bullet_pos=(1369.114, 357.476)
[05:07:45] [INFO] [Bullet] Using shooter_position, distance=791.666381835938
[05:07:45] [INFO] [Bullet] Distance to wall: 791.666381835938 (53.9060196853208% of viewport)
[05:07:45] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[05:07:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(663.8084, 607.3837), source=ENEMY (Enemy2), range=1469, listeners=10
[05:07:45] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=1, below_threshold=4
[05:07:45] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[05:07:45] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[05:07:45] [ENEMY] [Enemy7] PATROL corner check: angle 89.8°
[05:07:45] [ENEMY] [Enemy1] PURSUING corner check: angle -74.1°
[05:07:45] [INFO] [LastChance] Threat detected: @Area2D@5424
[05:07:45] [INFO] [LastChance] Not in hard mode - effect disabled
[05:07:45] [INFO] [LastChance] Cannot trigger effect - conditions not met
[05:07:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(657.6198, 610.3409), shooter_id=32404018300434, bullet_pos=(1381.174, 412.9345)
[05:07:45] [INFO] [Bullet] Using shooter_position, distance=750.000427246094
[05:07:45] [INFO] [Bullet] Distance to wall: 750.000427246094 (51.0689082203637% of viewport)
[05:07:45] [INFO] [Bullet] Distance-based penetration chance: 87.086273742909%
[05:07:45] [INFO] [Bullet] Starting wall penetration at (1381.174, 412.9345)
[05:07:45] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[05:07:45] [INFO] [Bullet] Raycast backward hit penetrating body at distance 39.5917282104492
[05:07:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(621.2321, 617.1083), shooter_id=32404018300434, bullet_pos=(1123.534, 297.0011)
[05:07:45] [INFO] [Bullet] Using shooter_position, distance=595.630249023438
[05:07:45] [INFO] [Bullet] Distance to wall: 595.630249023438 (40.5575589234556% of viewport)
[05:07:45] [INFO] [Bullet] Body exited signal received for penetrating body
[05:07:45] [INFO] [Bullet] Exiting penetration at (1426.196, 400.6515) after traveling 41.6666679382324 pixels through wall
[05:07:45] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[05:07:46] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[05:07:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(731.6566, 610.5793), shooter_id=32404018300434, bullet_pos=(2477.61, 491.6542)
[05:07:46] [INFO] [Bullet] Using shooter_position, distance=1749.9990234375
[05:07:46] [INFO] [Bullet] Distance to wall: 1749.9990234375 (119.160651470311% of viewport)
[05:07:46] [INFO] [Bullet] Distance-based penetration chance: 26.1678697059379%
[05:07:46] [INFO] [Bullet] Starting wall penetration at (2477.61, 491.6542)
[05:07:46] [INFO] [Bullet] Raycast backward hit penetrating body at distance 28.2339725494385
[05:07:46] [INFO] [Bullet] Body exited signal received for penetrating body
[05:07:46] [INFO] [Bullet] Exiting penetration at (2524.169, 488.4829) after traveling 41.6666679382324 pixels through wall
[05:07:46] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[05:07:46] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[05:07:47] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[05:07:47] [ENEMY] [Enemy1] FLANKING started: target=(787.6003, 791.2358), side=left, pos=(458.1457, 444.0033)
[05:07:47] [ENEMY] [Enemy1] State: PURSUING -> FLANKING
[05:07:47] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[05:07:47] [ENEMY] [Enemy3] PURSUING corner check: angle -17.0°
[05:07:48] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[05:07:48] [ENEMY] [Enemy4] State: SUPPRESSED -> IN_COVER
[05:07:48] [ENEMY] [Enemy4] State: IN_COVER -> PURSUING
[05:07:48] [ENEMY] [Enemy1] FLANKING corner check: angle 96.1°
[05:07:48] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[05:07:49] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[05:07:49] [ENEMY] [Enemy2] FLANKING started: target=(766.0374, 750.933), side=left, pos=(870.6471, 612.8332)
[05:07:49] [ENEMY] [Enemy2] State: PURSUING -> FLANKING
[05:07:49] [ENEMY] [Enemy1] FLANKING corner check: angle -35.4°
[05:07:49] [ENEMY] [Enemy2] FLANKING corner check: angle 178.9°
[05:07:49] [ENEMY] [Enemy3] FLANKING started: target=(940.7321, 877.0347), side=left, pos=(641.2554, 834.104)
[05:07:49] [ENEMY] [Enemy3] State: PURSUING -> FLANKING
[05:07:49] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[05:07:50] [ENEMY] [Enemy4] PURSUING corner check: angle -70.4°
[05:07:50] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[05:07:50] [ENEMY] [Enemy3] FLANKING corner check: angle -147.9°
[05:07:50] [ENEMY] [Enemy1] FLANKING corner check: angle -143.4°
[05:07:50] [ENEMY] [Enemy2] FLANKING corner check: angle -134.3°
[05:07:50] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[05:07:51] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[05:07:51] [ENEMY] [Enemy3] FLANKING corner check: angle -155.0°
[05:07:51] [ENEMY] [Enemy1] FLANKING corner check: angle 135.2°
[05:07:51] [ENEMY] [Enemy2] FLANKING corner check: angle 141.0°
[05:07:51] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[05:07:52] [ENEMY] [Enemy2] FLANKING stuck (2.0s no progress), target=(933.1584, 876.4625), pos=(879.4573, 704.8555), fail_count=1
[05:07:52] [ENEMY] [Enemy2] State: FLANKING -> PURSUING
[05:07:52] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[05:07:52] [ENEMY] [Enemy3] FLANKING corner check: angle -141.9°
[05:07:52] [ENEMY] [Enemy1] FLANKING corner check: angle 141.7°
[05:07:52] [ENEMY] [Enemy1] FLANKING timeout (5.0s), target=(932.7736, 876.4257), pos=(879.4437, 704.6995)
[05:07:52] [ENEMY] [Enemy1] State: FLANKING -> PURSUING
[05:07:52] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[05:07:53] [ENEMY] [Enemy4] FLANKING started: target=(958.9611, 477.4738), side=right, pos=(875.2791, 629.4215)
[05:07:53] [ENEMY] [Enemy4] State: PURSUING -> FLANKING
[05:07:53] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[05:07:53] [ENEMY] [Enemy3] FLANKING corner check: angle -141.9°
[05:07:53] [ENEMY] [Enemy3] FLANKING stuck (2.0s no progress), target=(927.4807, 875.843), pos=(882.5041, 703.9963), fail_count=1
[05:07:53] [ENEMY] [Enemy3] State: FLANKING -> PURSUING
[05:07:53] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[05:07:53] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[05:07:54] [ENEMY] [Enemy4] FLANKING corner check: angle 179.2°
[05:07:54] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[05:07:54] [ENEMY] [Enemy1] FLANKING started: target=(932.5385, 478.3031), side=right, pos=(876.5588, 643.1062)
[05:07:54] [ENEMY] [Enemy1] State: PURSUING -> FLANKING
[05:07:54] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[05:07:54] [ENEMY] [Enemy4] State: FLANKING -> COMBAT
[05:07:54] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[05:07:55] [ENEMY] [Enemy1] FLANKING corner check: angle -59.9°
[05:07:55] [ENEMY] [Enemy1] State: FLANKING -> COMBAT
[05:07:55] [ENEMY] [Enemy7] Memory: high confidence (0.86) - transitioning to PURSUING
[05:07:55] [ENEMY] [Enemy7] State: IDLE -> PURSUING
[05:07:55] [ENEMY] [Enemy5] Memory: medium confidence (0.77) - transitioning to PURSUING
[05:07:55] [ENEMY] [Enemy5] State: IDLE -> PURSUING
[05:07:55] [ENEMY] [Enemy5] PURSUING corner check: angle 156.4°
[05:07:55] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[05:07:55] [ENEMY] [Enemy3] State: PURSUING -> COMBAT
[05:07:55] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[05:07:55] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[05:07:55] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[05:07:55] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[05:07:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1191.237, 633.8665), source=ENEMY (Enemy4), range=1469, listeners=10
[05:07:55] [INFO] [SoundPropagation] Sound result: notified=5, out_of_range=0, self=1, below_threshold=4
[05:07:55] [INFO] [LastChance] Threat detected: Bullet
[05:07:55] [INFO] [LastChance] Not in hard mode - effect disabled
[05:07:55] [INFO] [LastChance] Cannot trigger effect - conditions not met
[05:07:56] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[05:07:56] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[05:07:56] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[05:07:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1191.237, 633.8665), source=ENEMY (Enemy4), range=1469, listeners=10
[05:07:56] [INFO] [SoundPropagation] Sound result: notified=5, out_of_range=0, self=1, below_threshold=4
[05:07:56] [INFO] [LastChance] Threat detected: Bullet
[05:07:56] [INFO] [LastChance] Not in hard mode - effect disabled
[05:07:56] [INFO] [LastChance] Cannot trigger effect - conditions not met
[05:07:56] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[05:07:56] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[05:07:56] [ENEMY] [Enemy1] State: PURSUING -> RETREATING
[05:07:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1191.237, 633.8665), source=ENEMY (Enemy4), range=1469, listeners=10
[05:07:56] [INFO] [SoundPropagation] Sound result: notified=5, out_of_range=0, self=1, below_threshold=4
[05:07:56] [INFO] [LastChance] Threat detected: Bullet
[05:07:56] [INFO] [LastChance] Not in hard mode - effect disabled
[05:07:56] [INFO] [LastChance] Cannot trigger effect - conditions not met
[05:07:56] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[05:07:56] [ENEMY] [Enemy3] State: PURSUING -> RETREATING
[05:07:56] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[05:07:56] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[05:07:56] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[05:07:56] [INFO] [PenultimateHit] Triggering penultimate hit effect (HP: 1.0)
[05:07:56] [INFO] [PenultimateHit] Starting penultimate hit effect:
[05:07:56] [INFO] [PenultimateHit]   - Time scale: 0.10
[05:07:56] [INFO] [PenultimateHit]   - Saturation boost: 2.00 (3.0x)
[05:07:56] [INFO] [PenultimateHit]   - Contrast boost: 1.00 (2.0x)
[05:07:56] [INFO] [PenultimateHit]   - Duration: 3.0 real seconds
[05:07:56] [INFO] [PenultimateHit] Applied shader parameters: saturation=2.00, contrast=1.00
[05:07:56] [INFO] [PenultimateHit] Applying saturation to 10 enemies
[05:07:56] [INFO] [PenultimateHit] Applied 4.0x saturation to 6 player sprites
[05:07:56] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[05:07:56] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[05:07:56] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[05:07:56] [INFO] ------------------------------------------------------------
[05:07:56] [INFO] GAME LOG ENDED: 2026-01-25T05:07:56
[05:07:56] [INFO] ============================================================
