[05:50:32] [INFO] ============================================================
[05:50:32] [INFO] GAME LOG STARTED
[05:50:32] [INFO] ============================================================
[05:50:32] [INFO] Timestamp: 2026-02-07T05:50:32
[05:50:32] [INFO] Log file: I:/Рабочий стол/godot old version game/25. винтовка/game_log_20260207_055032.txt
[05:50:32] [INFO] Executable: I:/Рабочий стол/godot old version game/25. винтовка/Godot-Top-Down-Template.exe
[05:50:32] [INFO] OS: Windows
[05:50:32] [INFO] Debug build: false
[05:50:32] [INFO] Engine version: 4.3-stable (official)
[05:50:32] [INFO] Project: Godot Top-Down Template
[05:50:32] [INFO] ------------------------------------------------------------
[05:50:32] [INFO] [GameManager] GameManager ready
[05:50:32] [INFO] [ScoreManager] ScoreManager ready
[05:50:32] [INFO] [SoundPropagation] SoundPropagation autoload initialized
[05:50:32] [INFO] [ImpactEffects] Scenes loaded: DustEffect, BloodEffect, SparksEffect, BloodDecal
[05:50:32] [INFO] [ImpactEffects] ImpactEffectsManager ready - FULL VERSION with blood effects enabled
[05:50:32] [INFO] [ImpactEffects] Starting particle shader warmup (Issue #343 fix)...
[05:50:32] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[05:50:32] [INFO] [PenultimateHit] Saturation shader loaded successfully
[05:50:32] [INFO] [PenultimateHit] Starting shader warmup (Issue #343 fix)...
[05:50:32] [INFO] [PenultimateHit] PenultimateHitEffectsManager ready - Configuration:
[05:50:32] [INFO] [PenultimateHit]   Time scale: 0.10 (10x slowdown)
[05:50:32] [INFO] [PenultimateHit]   Saturation boost: 2.0 (3.0x)
[05:50:32] [INFO] [PenultimateHit]   Contrast boost: 1.0 (2.0x)
[05:50:32] [INFO] [PenultimateHit]   Effect duration: 3.0 real seconds
[05:50:32] [INFO] [LastChance] Resetting all effects (scene change detected)
[05:50:32] [INFO] [LastChance] Last chance shader loaded successfully
[05:50:32] [INFO] [LastChance] Starting shader warmup (Issue #343 fix)...
[05:50:32] [INFO] [LastChance] LastChanceEffectsManager ready - Configuration:
[05:50:32] [INFO] [LastChance]   Freeze duration: 6.0 real seconds
[05:50:32] [INFO] [LastChance]   Sepia intensity: 0.70
[05:50:32] [INFO] [LastChance]   Brightness: 0.60
[05:50:32] [INFO] [GrenadeManager] Loaded grenade scene: res://scenes/projectiles/FlashbangGrenade.tscn
[05:50:32] [INFO] [GrenadeManager] Loaded grenade scene: res://scenes/projectiles/FragGrenade.tscn
[05:50:33] [INFO] [GrenadeManager] Loaded grenade scene: res://scenes/projectiles/DefensiveGrenade.tscn
[05:50:33] [INFO] [ExperimentalSettings] ExperimentalSettings initialized - FOV enabled: true, Complex grenade throwing: false, AI prediction: true
[05:50:33] [INFO] [CinemaEffects] CinemaEffectsManager initializing (v5.3 - overlay approach with simplified death circle)...
[05:50:33] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[05:50:33] [INFO] [CinemaEffects] Created effects layer at layer 99
[05:50:33] [INFO] [CinemaEffects] Cinema shader loaded successfully (v5.0 - no screen_texture)
[05:50:33] [INFO] [CinemaEffects] Starting cinema shader warmup (Issue #343 fix)...
[05:50:33] [INFO] [CinemaEffects] Cinema film effect initialized (v5.3) - Configuration:
[05:50:33] [INFO] [CinemaEffects]   Approach: Overlay-based (no screen_texture)
[05:50:33] [INFO] [CinemaEffects]   Grain intensity: 0.15
[05:50:33] [INFO] [CinemaEffects]   Warm tint: 0.12 intensity
[05:50:33] [INFO] [CinemaEffects]   Sunny effect: 0.08 intensity
[05:50:33] [INFO] [CinemaEffects]   Vignette: 0.25 intensity
[05:50:33] [INFO] [CinemaEffects]   Film defects: 1.5% probability
[05:50:33] [INFO] [CinemaEffects]   White specks: 0.70 intensity, 4.0% probability
[05:50:33] [INFO] [CinemaEffects]   Death effects: cigarette burn + expanding spots + end of reel circle (160px, blinks 2x)
[05:50:33] [INFO] [CinemaEffects] Enabling effect after 1 frame(s)...
[05:50:33] [INFO] [GrenadeTimerHelper] Autoload ready
[05:50:33] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[05:50:33] [INFO] [PowerFantasy] Saturation shader loaded successfully
[05:50:33] [INFO] [PowerFantasy] PowerFantasyEffectsManager ready - Configuration:
[05:50:33] [INFO] [PowerFantasy]   Kill effect duration: 300ms
[05:50:33] [INFO] [PowerFantasy]   Grenade effect duration: 2000ms (2.0s)
[05:50:33] [INFO] [ReplayManager] ReplayManager ready (C# version loaded and _Ready called)
[05:50:33] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[05:50:33] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[05:50:33] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[05:50:33] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[05:50:33] [ENEMY] [Enemy1] Death animation component initialized
[05:50:33] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[05:50:33] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[05:50:33] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[05:50:33] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[05:50:33] [ENEMY] [Enemy2] Death animation component initialized
[05:50:33] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[05:50:33] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[05:50:33] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[05:50:33] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[05:50:33] [ENEMY] [Enemy3] Death animation component initialized
[05:50:33] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[05:50:33] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[05:50:33] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[05:50:33] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[05:50:33] [ENEMY] [Enemy4] Death animation component initialized
[05:50:33] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[05:50:33] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[05:50:33] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[05:50:33] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[05:50:33] [ENEMY] [Enemy5] Death animation component initialized
[05:50:33] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[05:50:33] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[05:50:33] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[05:50:33] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[05:50:33] [ENEMY] [Enemy6] Death animation component initialized
[05:50:33] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[05:50:33] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[05:50:33] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[05:50:33] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[05:50:33] [ENEMY] [Enemy7] Death animation component initialized
[05:50:33] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[05:50:33] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[05:50:33] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[05:50:33] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[05:50:33] [INFO] [EnemyGrenade] Initialized: 1 grenades
[05:50:33] [ENEMY] [Enemy8] Death animation component initialized
[05:50:33] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[05:50:33] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[05:50:33] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[05:50:33] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[05:50:33] [ENEMY] [Enemy9] Death animation component initialized
[05:50:33] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[05:50:33] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[05:50:33] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[05:50:33] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[05:50:33] [ENEMY] [Enemy10] Death animation component initialized
[05:50:33] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[05:50:33] [INFO] [BloodyFeet:Player] Footprint scene loaded
[05:50:33] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[05:50:33] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[05:50:33] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[05:50:33] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[05:50:33] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[05:50:33] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[05:50:33] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[05:50:33] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[05:50:33] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[05:50:33] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[05:50:33] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 10/10
[05:50:33] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[05:50:33] [INFO] [BloodDecal] Blood puddle created at (640, 360) (added to group)
[05:50:33] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[05:50:33] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[05:50:33] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[05:50:33] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[05:50:33] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[05:50:33] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[05:50:33] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[05:50:33] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[05:50:33] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[05:50:33] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[05:50:33] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[05:50:33] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[05:50:33] [INFO] [ScoreManager] Level started with 10 enemies
[05:50:33] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[05:50:33] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[05:50:33] [INFO] [ReplayManager] Replay data cleared
[05:50:33] [INFO] [BuildingLevel] Previous replay data cleared
[05:50:33] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[05:50:33] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[05:50:33] [INFO] [ReplayManager] Level: BuildingLevel
[05:50:33] [INFO] [ReplayManager] Player: Player (valid: True)
[05:50:33] [INFO] [ReplayManager] Enemies count: 10
[05:50:33] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[05:50:33] [INFO] [ReplayManager]   Enemy 0: Enemy1
[05:50:33] [INFO] [ReplayManager]   Enemy 1: Enemy2
[05:50:33] [INFO] [ReplayManager]   Enemy 2: Enemy3
[05:50:33] [INFO] [ReplayManager]   Enemy 3: Enemy4
[05:50:33] [INFO] [ReplayManager]   Enemy 4: Enemy5
[05:50:33] [INFO] [ReplayManager]   Enemy 5: Enemy6
[05:50:33] [INFO] [ReplayManager]   Enemy 6: Enemy7
[05:50:33] [INFO] [ReplayManager]   Enemy 7: Enemy8
[05:50:33] [INFO] [ReplayManager]   Enemy 8: Enemy9
[05:50:33] [INFO] [ReplayManager]   Enemy 9: Enemy10
[05:50:33] [INFO] [BuildingLevel] Replay recording started successfully
[05:50:33] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[05:50:33] [INFO] [CinemaEffects] Found player node: Player
[05:50:33] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[05:50:33] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[05:50:33] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 1)
[05:50:33] [ENEMY] [Enemy1] Registered as sound listener
[05:50:33] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 2, behavior: GUARD
[05:50:33] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[05:50:33] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 2)
[05:50:33] [ENEMY] [Enemy2] Registered as sound listener
[05:50:33] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 3, behavior: GUARD
[05:50:33] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[05:50:33] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 3)
[05:50:33] [ENEMY] [Enemy3] Registered as sound listener
[05:50:33] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 2, behavior: GUARD
[05:50:33] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[05:50:33] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 4)
[05:50:33] [ENEMY] [Enemy4] Registered as sound listener
[05:50:33] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 2, behavior: GUARD
[05:50:33] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[05:50:33] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 5)
[05:50:33] [ENEMY] [Enemy5] Registered as sound listener
[05:50:33] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 3, behavior: GUARD
[05:50:33] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[05:50:33] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 6)
[05:50:33] [ENEMY] [Enemy6] Registered as sound listener
[05:50:33] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 2, behavior: GUARD
[05:50:33] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[05:50:33] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 7)
[05:50:33] [ENEMY] [Enemy7] Registered as sound listener
[05:50:33] [ENEMY] [Enemy7] Spawned at (1606.114, 893.8859), hp: 3, behavior: PATROL
[05:50:33] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[05:50:33] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 8)
[05:50:33] [ENEMY] [Enemy8] Registered as sound listener
[05:50:33] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 4, behavior: GUARD
[05:50:33] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[05:50:33] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 9)
[05:50:33] [ENEMY] [Enemy9] Registered as sound listener
[05:50:33] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 4, behavior: GUARD
[05:50:33] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[05:50:33] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 10)
[05:50:33] [ENEMY] [Enemy10] Registered as sound listener
[05:50:33] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 4, behavior: PATROL
[05:50:33] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[05:50:33] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[05:50:33] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[05:50:33] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=236.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[05:50:33] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[05:50:33] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[05:50:33] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[05:50:33] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[05:50:33] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[05:50:33] [INFO] [Player] Detecting weapon pose (frame 3)...
[05:50:33] [INFO] [Player] Detected weapon: Rifle (default pose)
[05:50:33] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[05:50:33] [INFO] [PenultimateHit] Shader warmup complete in 377 ms
[05:50:33] [INFO] [LastChance] Shader warmup complete in 376 ms
[05:50:33] [INFO] [CinemaEffects] Cinema shader warmup complete in 324 ms
[05:50:33] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[05:50:33] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[05:50:33] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[05:50:33] [INFO] [LastChance] Found player: Player
[05:50:33] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[05:50:33] [INFO] [LastChance] Connected to player Damaged signal (C#)
[05:50:33] [INFO] [LastChance] Connected to player Died signal (C#)
[05:50:33] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[05:50:33] [INFO] [ImpactEffects] Particle shader warmup complete: 7 effects warmed up in 681 ms
[05:50:34] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[05:50:34] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[05:50:34] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[05:50:34] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,1250), corner_timer=0.30
[05:50:34] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,1250), corner_timer=0.30
[05:50:35] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(450,1250), corner_timer=-0.02
[05:50:35] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[05:50:35] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(450,1250), corner_timer=-0.02
[05:50:35] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[05:50:35] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(450,1250), corner_timer=0.30
[05:50:35] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(450,1250), corner_timer=0.30
[05:50:35] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[05:50:36] [INFO] [PauseMenu] Armory button pressed
[05:50:36] [INFO] [PauseMenu] Creating new armory menu instance
[05:50:36] [INFO] [PauseMenu] armory_menu_scene resource path: res://scenes/ui/ArmoryMenu.tscn
[05:50:36] [INFO] [PauseMenu] Instance created, class: CanvasLayer, name: ArmoryMenu
[05:50:36] [INFO] [PauseMenu] Script attached: res://scripts/ui/armory_menu.gd
[05:50:36] [INFO] [PauseMenu] back_pressed signal exists on instance
[05:50:36] [INFO] [PauseMenu] back_pressed signal connected
[05:50:36] [INFO] [PauseMenu] Armory menu instance added as child, is_inside_tree: true
[05:50:36] [INFO] [PauseMenu] _populate_weapon_grid method exists
[05:50:36] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=10
[05:50:37] [INFO] [ReplayManager] Recording frame 240 (4,0s): player_valid=True, enemies=10
[05:50:38] [INFO] [ReplayManager] Recording frame 300 (5,0s): player_valid=True, enemies=10
[05:50:39] [INFO] [ReplayManager] Recording frame 360 (6,0s): player_valid=True, enemies=10
[05:50:40] [INFO] [ReplayManager] Recording frame 420 (7,0s): player_valid=True, enemies=10
[05:50:41] [INFO] [GameManager] Weapon selected: silenced_pistol
[05:50:41] [INFO] [GrenadeManager] Grenade type changed from Flashbang to Frag Grenade
[05:50:41] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[05:50:41] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[05:50:41] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[05:50:41] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[05:50:41] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[05:50:41] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[05:50:41] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[05:50:41] [INFO] [LastChance] Resetting all effects (scene change detected)
[05:50:41] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[05:50:41] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[05:50:41] [ENEMY] [Enemy1] Death animation component initialized
[05:50:41] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[05:50:41] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[05:50:41] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[05:50:41] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[05:50:41] [ENEMY] [Enemy2] Death animation component initialized
[05:50:41] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[05:50:41] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[05:50:41] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[05:50:41] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[05:50:41] [INFO] [EnemyGrenade] Initialized: 1 grenades
[05:50:41] [ENEMY] [Enemy3] Death animation component initialized
[05:50:41] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[05:50:41] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[05:50:41] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[05:50:41] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[05:50:41] [ENEMY] [Enemy4] Death animation component initialized
[05:50:41] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[05:50:41] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[05:50:41] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[05:50:41] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[05:50:41] [ENEMY] [Enemy5] Death animation component initialized
[05:50:41] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[05:50:41] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[05:50:41] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[05:50:41] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[05:50:41] [ENEMY] [Enemy6] Death animation component initialized
[05:50:41] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[05:50:41] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[05:50:41] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[05:50:41] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[05:50:41] [ENEMY] [Enemy7] Death animation component initialized
[05:50:41] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[05:50:41] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[05:50:41] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[05:50:41] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[05:50:41] [ENEMY] [Enemy8] Death animation component initialized
[05:50:41] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[05:50:41] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[05:50:41] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[05:50:41] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[05:50:41] [ENEMY] [Enemy9] Death animation component initialized
[05:50:41] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[05:50:41] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[05:50:41] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[05:50:41] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[05:50:41] [ENEMY] [Enemy10] Death animation component initialized
[05:50:41] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[05:50:41] [INFO] [BloodyFeet:Player] Footprint scene loaded
[05:50:41] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[05:50:41] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[05:50:41] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[05:50:41] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[05:50:41] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[05:50:41] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[05:50:41] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[05:50:41] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[05:50:41] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[05:50:41] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[05:50:41] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 10/10
[05:50:41] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[05:50:41] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[05:50:41] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[05:50:41] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[05:50:41] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[05:50:41] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[05:50:41] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[05:50:41] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[05:50:41] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[05:50:41] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[05:50:41] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[05:50:41] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[05:50:41] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[05:50:41] [INFO] [ScoreManager] Level started with 10 enemies
[05:50:41] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[05:50:41] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[05:50:41] [INFO] [ReplayManager] Replay data cleared
[05:50:41] [INFO] [BuildingLevel] Previous replay data cleared
[05:50:41] [INFO] [ReplayManager] Detected player weapon: Silenced Pistol
[05:50:41] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[05:50:41] [INFO] [ReplayManager] Level: BuildingLevel
[05:50:41] [INFO] [ReplayManager] Player: Player (valid: True)
[05:50:41] [INFO] [ReplayManager] Enemies count: 10
[05:50:41] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/silenced_pistol_topdown.png
[05:50:41] [INFO] [ReplayManager]   Enemy 0: Enemy1
[05:50:41] [INFO] [ReplayManager]   Enemy 1: Enemy2
[05:50:41] [INFO] [ReplayManager]   Enemy 2: Enemy3
[05:50:41] [INFO] [ReplayManager]   Enemy 3: Enemy4
[05:50:41] [INFO] [ReplayManager]   Enemy 4: Enemy5
[05:50:41] [INFO] [ReplayManager]   Enemy 5: Enemy6
[05:50:41] [INFO] [ReplayManager]   Enemy 6: Enemy7
[05:50:41] [INFO] [ReplayManager]   Enemy 7: Enemy8
[05:50:41] [INFO] [ReplayManager]   Enemy 8: Enemy9
[05:50:41] [INFO] [ReplayManager]   Enemy 9: Enemy10
[05:50:41] [INFO] [BuildingLevel] Replay recording started successfully
[05:50:41] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[05:50:41] [INFO] [CinemaEffects] Found player node: Player
[05:50:41] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[05:50:41] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[05:50:41] [ENEMY] [Enemy1] Registered as sound listener
[05:50:41] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 4, behavior: GUARD
[05:50:41] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[05:50:41] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[05:50:41] [ENEMY] [Enemy2] Registered as sound listener
[05:50:41] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 3, behavior: GUARD
[05:50:41] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[05:50:41] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[05:50:41] [ENEMY] [Enemy3] Registered as sound listener
[05:50:41] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 4, behavior: GUARD
[05:50:41] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[05:50:41] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[05:50:41] [ENEMY] [Enemy4] Registered as sound listener
[05:50:41] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 3, behavior: GUARD
[05:50:41] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[05:50:41] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[05:50:41] [ENEMY] [Enemy5] Registered as sound listener
[05:50:41] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 2, behavior: GUARD
[05:50:41] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[05:50:41] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[05:50:41] [ENEMY] [Enemy6] Registered as sound listener
[05:50:41] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 4, behavior: GUARD
[05:50:41] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[05:50:41] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[05:50:41] [ENEMY] [Enemy7] Registered as sound listener
[05:50:41] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 2, behavior: PATROL
[05:50:41] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[05:50:41] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[05:50:41] [ENEMY] [Enemy8] Registered as sound listener
[05:50:41] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 4, behavior: GUARD
[05:50:41] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[05:50:41] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[05:50:41] [ENEMY] [Enemy9] Registered as sound listener
[05:50:41] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 4, behavior: GUARD
[05:50:41] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[05:50:41] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[05:50:41] [ENEMY] [Enemy10] Registered as sound listener
[05:50:41] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 4, behavior: PATROL
[05:50:41] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[05:50:41] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[05:50:41] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[05:50:41] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=45.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[05:50:41] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[05:50:41] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[05:50:41] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[05:50:41] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[05:50:41] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[05:50:41] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=180.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[05:50:41] [INFO] [Player] Detecting weapon pose (frame 3)...
[05:50:41] [INFO] [Player] Detected weapon: Silenced Pistol (Pistol pose)
[05:50:41] [INFO] [Player] Applied Pistol arm pose: Left=(10, 6), Right=(2, 6)
[05:50:41] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[05:50:41] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[05:50:41] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[05:50:41] [INFO] [LastChance] Found player: Player
[05:50:41] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[05:50:41] [INFO] [LastChance] Connected to player Damaged signal (C#)
[05:50:41] [INFO] [LastChance] Connected to player Died signal (C#)
[05:50:41] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[05:50:42] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[05:50:43] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[05:50:43] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[05:50:43] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[05:50:43] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[05:50:43] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[05:50:43] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[05:50:43] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[05:50:43] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[05:50:43] [INFO] [LastChance] Resetting all effects (scene change detected)
[05:50:43] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[05:50:43] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[05:50:43] [ENEMY] [Enemy1] Death animation component initialized
[05:50:43] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[05:50:43] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[05:50:43] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[05:50:43] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[05:50:43] [ENEMY] [Enemy2] Death animation component initialized
[05:50:43] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[05:50:43] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[05:50:43] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[05:50:43] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[05:50:43] [ENEMY] [Enemy3] Death animation component initialized
[05:50:43] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[05:50:43] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[05:50:43] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[05:50:43] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[05:50:43] [ENEMY] [Enemy4] Death animation component initialized
[05:50:43] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[05:50:43] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[05:50:43] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[05:50:43] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[05:50:43] [ENEMY] [Enemy5] Death animation component initialized
[05:50:43] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[05:50:43] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[05:50:43] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[05:50:43] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[05:50:43] [ENEMY] [Enemy6] Death animation component initialized
[05:50:43] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[05:50:43] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[05:50:43] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[05:50:43] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[05:50:43] [ENEMY] [Enemy7] Death animation component initialized
[05:50:43] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[05:50:43] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[05:50:43] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[05:50:43] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[05:50:43] [ENEMY] [Enemy8] Death animation component initialized
[05:50:43] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[05:50:43] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[05:50:43] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[05:50:43] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[05:50:43] [ENEMY] [Enemy9] Death animation component initialized
[05:50:43] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[05:50:43] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[05:50:43] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[05:50:43] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[05:50:43] [INFO] [EnemyGrenade] Initialized: 1 grenades
[05:50:43] [ENEMY] [Enemy10] Death animation component initialized
[05:50:43] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[05:50:43] [INFO] [BloodyFeet:Player] Footprint scene loaded
[05:50:43] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[05:50:43] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[05:50:43] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[05:50:43] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[05:50:43] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[05:50:43] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[05:50:43] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[05:50:43] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[05:50:43] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[05:50:43] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[05:50:43] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 10/10
[05:50:43] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[05:50:43] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[05:50:43] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[05:50:43] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[05:50:43] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[05:50:43] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[05:50:43] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[05:50:43] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[05:50:43] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[05:50:43] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[05:50:43] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[05:50:43] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[05:50:43] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[05:50:43] [INFO] [ScoreManager] Level started with 10 enemies
[05:50:43] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[05:50:43] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[05:50:43] [INFO] [ReplayManager] Replay data cleared
[05:50:43] [INFO] [BuildingLevel] Previous replay data cleared
[05:50:43] [INFO] [ReplayManager] Detected player weapon: Silenced Pistol
[05:50:43] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[05:50:43] [INFO] [ReplayManager] Level: BuildingLevel
[05:50:43] [INFO] [ReplayManager] Player: Player (valid: True)
[05:50:43] [INFO] [ReplayManager] Enemies count: 10
[05:50:43] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/silenced_pistol_topdown.png
[05:50:43] [INFO] [ReplayManager]   Enemy 0: Enemy1
[05:50:43] [INFO] [ReplayManager]   Enemy 1: Enemy2
[05:50:43] [INFO] [ReplayManager]   Enemy 2: Enemy3
[05:50:43] [INFO] [ReplayManager]   Enemy 3: Enemy4
[05:50:43] [INFO] [ReplayManager]   Enemy 4: Enemy5
[05:50:43] [INFO] [ReplayManager]   Enemy 5: Enemy6
[05:50:43] [INFO] [ReplayManager]   Enemy 6: Enemy7
[05:50:43] [INFO] [ReplayManager]   Enemy 7: Enemy8
[05:50:43] [INFO] [ReplayManager]   Enemy 8: Enemy9
[05:50:43] [INFO] [ReplayManager]   Enemy 9: Enemy10
[05:50:43] [INFO] [BuildingLevel] Replay recording started successfully
[05:50:43] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[05:50:43] [INFO] [CinemaEffects] Found player node: Player
[05:50:43] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[05:50:43] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 21)
[05:50:43] [ENEMY] [Enemy1] Registered as sound listener
[05:50:43] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 2, behavior: GUARD
[05:50:43] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[05:50:43] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 22)
[05:50:43] [ENEMY] [Enemy2] Registered as sound listener
[05:50:43] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 3, behavior: GUARD
[05:50:43] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[05:50:43] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 23)
[05:50:43] [ENEMY] [Enemy3] Registered as sound listener
[05:50:43] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 3, behavior: GUARD
[05:50:43] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[05:50:43] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 24)
[05:50:43] [ENEMY] [Enemy4] Registered as sound listener
[05:50:43] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 2, behavior: GUARD
[05:50:43] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[05:50:43] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 25)
[05:50:43] [ENEMY] [Enemy5] Registered as sound listener
[05:50:43] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 3, behavior: GUARD
[05:50:43] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[05:50:43] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 26)
[05:50:43] [ENEMY] [Enemy6] Registered as sound listener
[05:50:43] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 2, behavior: GUARD
[05:50:43] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[05:50:43] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 27)
[05:50:43] [ENEMY] [Enemy7] Registered as sound listener
[05:50:43] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 3, behavior: PATROL
[05:50:43] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[05:50:43] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 28)
[05:50:43] [ENEMY] [Enemy8] Registered as sound listener
[05:50:43] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 2, behavior: GUARD
[05:50:43] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[05:50:43] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 29)
[05:50:43] [ENEMY] [Enemy9] Registered as sound listener
[05:50:43] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 3, behavior: GUARD
[05:50:43] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[05:50:43] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 30)
[05:50:43] [ENEMY] [Enemy10] Registered as sound listener
[05:50:43] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 2, behavior: PATROL
[05:50:43] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[05:50:43] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[05:50:43] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[05:50:43] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[05:50:43] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[05:50:43] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[05:50:43] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[05:50:43] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[05:50:43] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=78.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[05:50:43] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[05:50:43] [INFO] [Player] Detecting weapon pose (frame 3)...
[05:50:43] [INFO] [Player] Detected weapon: Silenced Pistol (Pistol pose)
[05:50:43] [INFO] [Player] Applied Pistol arm pose: Left=(10, 6), Right=(2, 6)
[05:50:43] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[05:50:43] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[05:50:43] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[05:50:43] [INFO] [LastChance] Found player: Player
[05:50:43] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[05:50:43] [INFO] [LastChance] Connected to player Damaged signal (C#)
[05:50:43] [INFO] [LastChance] Connected to player Died signal (C#)
[05:50:43] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[05:50:44] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[05:50:45] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[05:50:45] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[05:50:45] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,781), corner_timer=0.30
[05:50:45] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,781), corner_timer=0.30
[05:50:45] [ENEMY] [Enemy3] Hit taken, damage: 10, health: 3/3 -> -7/3
[05:50:45] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[05:50:45] [INFO] [ImpactEffects] spawn_blood_effect called at (700, 750), dir=(0.999825, 0.01868), lethal=true
[05:50:45] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[05:50:45] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[05:50:45] [INFO] [ImpactEffects] Blood effect spawned at (700, 750) (scale=0.75)
[05:50:45] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[05:50:45] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[05:50:45] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[05:50:45] [INFO] [PowerFantasy] Starting power fantasy effect:
[05:50:45] [INFO] [PowerFantasy]   - Time scale: 0.10
[05:50:45] [INFO] [PowerFantasy]   - Duration: 300ms
[05:50:45] [ENEMY] [Enemy3] [AllyDeath] Notified 2 enemies
[05:50:45] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 29)
[05:50:45] [INFO] [DeathAnim] Started - Angle: 1.1 deg, Index: 12
[05:50:45] [ENEMY] [Enemy3] Death animation started with hit direction: (0.999825, 0.01868)
[05:50:45] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(491,732), corner_timer=-0.02
[05:50:45] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[05:50:45] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(491,732), corner_timer=-0.02
[05:50:45] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[05:50:45] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(494,734), corner_timer=0.30
[05:50:45] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(494,734), corner_timer=0.30
[05:50:45] [INFO] [ReplayManager] Recording frame 120 (1,9s): player_valid=True, enemies=10
[05:50:45] [INFO] [PowerFantasy] Effect duration expired after 300.00 ms
[05:50:45] [INFO] [PowerFantasy] Ending power fantasy effect
[05:50:46] [INFO] [BloodDecal] Blood puddle created at (771.6717, 772.0868) (added to group)
[05:50:46] [INFO] [BloodDecal] Blood puddle created at (779.2393, 778.8143) (added to group)
[05:50:46] [INFO] [BloodDecal] Blood puddle created at (770.5292, 750.5973) (added to group)
[05:50:46] [INFO] [BloodDecal] Blood puddle created at (762.2325, 739.0869) (added to group)
[05:50:46] [INFO] [BloodDecal] Blood puddle created at (799.4929, 789.0483) (added to group)
[05:50:46] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(531,785), corner_timer=-0.01
[05:50:46] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[05:50:46] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(533,785), corner_timer=0.30
[05:50:46] [INFO] [BloodDecal] Blood puddle created at (800.6637, 766.2025) (added to group)
[05:50:46] [INFO] [BloodDecal] Blood puddle created at (805.088, 783.309) (added to group)
[05:50:46] [INFO] [BloodDecal] Blood puddle created at (795.167, 755.4449) (added to group)
[05:50:46] [INFO] [BloodDecal] Blood puddle created at (768.0656, 786.2053) (added to group)
[05:50:46] [INFO] [BloodDecal] Blood puddle created at (790.5415, 828.7803) (added to group)
[05:50:46] [INFO] [BloodDecal] Blood puddle created at (803.4102, 803.3248) (added to group)
[05:50:46] [INFO] [BloodDecal] Blood puddle created at (847.9773, 777.8961) (added to group)
[05:50:46] [ENEMY] [Enemy3] Ragdoll activated
[05:50:46] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[05:50:46] [INFO] [BloodDecal] Blood puddle created at (806.9409, 832.7311) (added to group)
[05:50:46] [INFO] [BloodDecal] Blood puddle created at (816.4609, 833.2516) (added to group)
[05:50:46] [INFO] [BloodDecal] Blood puddle created at (844.3931, 891.893) (added to group)
[05:50:46] [INFO] [BloodDecal] Blood puddle created at (828.0289, 845.9603) (added to group)
[05:50:46] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(598,840), corner_timer=-0.02
[05:50:46] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[05:50:46] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.6°, player=(602,844), corner_timer=0.30
[05:50:46] [INFO] [ReplayManager] Recording frame 180 (2,7s): player_valid=True, enemies=10
[05:50:46] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(676,918), corner_timer=-0.02
[05:50:46] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[05:50:46] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.8°, current=6.3°, player=(680,922), corner_timer=0.30
[05:50:46] [ENEMY] [Enemy4] Hit taken, damage: 10, health: 2/2 -> -8/2
[05:50:46] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[05:50:46] [INFO] [ImpactEffects] spawn_blood_effect called at (800, 900), dir=(0.89183, -0.452371), lethal=true
[05:50:46] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[05:50:46] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[05:50:46] [INFO] [ImpactEffects] Blood effect spawned at (800, 900) (scale=0.75)
[05:50:46] [ENEMY] [Enemy4] Enemy died (ricochet: false, penetration: false)
[05:50:46] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[05:50:46] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[05:50:46] [INFO] [PowerFantasy] Starting power fantasy effect:
[05:50:46] [INFO] [PowerFantasy]   - Time scale: 0.10
[05:50:46] [INFO] [PowerFantasy]   - Duration: 300ms
[05:50:46] [INFO] [SoundPropagation] Unregistered listener: Enemy4 (remaining: 28)
[05:50:46] [INFO] [DeathAnim] Started - Angle: -26.9 deg, Index: 10
[05:50:46] [ENEMY] [Enemy4] Death animation started with hit direction: (0.89183, -0.452371)
[05:50:47] [INFO] [PowerFantasy] Effect duration expired after 300.00 ms
[05:50:47] [INFO] [PowerFantasy] Ending power fantasy effect
[05:50:47] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.8°, player=(706,971), corner_timer=-0.01
[05:50:47] [ENEMY] [Enemy10] PATROL corner check: angle 1.0°
[05:50:47] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.0°, current=4.6°, player=(705,971), corner_timer=0.30
[05:50:47] [INFO] [BloodDecal] Blood puddle created at (842.8445, 884.4219) (added to group)
[05:50:47] [INFO] [BloodDecal] Blood puddle created at (884.6398, 876.2399) (added to group)
[05:50:47] [INFO] [BloodDecal] Blood puddle created at (848.2507, 858.6755) (added to group)
[05:50:47] [INFO] [BloodDecal] Blood puddle created at (850.2492, 879.0932) (added to group)
[05:50:47] [INFO] [BloodDecal] Blood puddle created at (858.6354, 880.5372) (added to group)
[05:50:47] [INFO] [BloodDecal] Blood puddle created at (860.2857, 914.9025) (added to group)
[05:50:47] [INFO] [BloodDecal] Blood puddle created at (865.8234, 865.2567) (added to group)
[05:50:47] [INFO] [BloodDecal] Blood puddle created at (862.6352, 921.9924) (added to group)
[05:50:47] [ENEMY] [Enemy3] Death animation completed
[05:50:47] [INFO] [BloodDecal] Blood puddle created at (882.6479, 899.7324) (added to group)
[05:50:47] [INFO] [BloodDecal] Blood puddle created at (906.5071, 913.766) (added to group)
[05:50:47] [INFO] [BloodDecal] Blood puddle created at (903.0593, 928.8295) (added to group)
[05:50:47] [INFO] [BloodDecal] Blood puddle created at (845.1317, 884.1615) (added to group)
[05:50:47] [INFO] [ReplayManager] Recording frame 240 (3,5s): player_valid=True, enemies=10
[05:50:47] [INFO] [BloodDecal] Blood puddle created at (911.3851, 858.9077) (added to group)
[05:50:47] [ENEMY] [Enemy4] Ragdoll activated
[05:50:47] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[05:50:47] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[05:50:47] [INFO] [BloodDecal] Blood puddle created at (877.9893, 894.1445) (added to group)
[05:50:47] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=179.9°, current=-130.2°, player=(627,871), corner_timer=-0.01
[05:50:47] [ENEMY] [Enemy7] PATROL corner check: angle 89.9°
[05:50:47] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.9°, current=-133.0°, player=(627,866), corner_timer=0.30
[05:50:48] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[05:50:48] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=179.1°, current=172.4°, player=(625,762), corner_timer=-0.02
[05:50:48] [ENEMY] [Enemy7] PATROL corner check: angle 89.8°
[05:50:48] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.8°, current=175.3°, player=(624,757), corner_timer=0.30
[05:50:48] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[05:50:48] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=178.3°, current=120.7°, player=(560,679), corner_timer=-0.02
[05:50:48] [ENEMY] [Enemy7] PATROL corner check: angle 89.7°
[05:50:48] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.7°, current=123.6°, player=(556,675), corner_timer=0.30
[05:50:48] [ENEMY] [Enemy2] Hit taken, damage: 10, health: 3/3 -> -7/3
[05:50:48] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[05:50:48] [INFO] [ImpactEffects] spawn_blood_effect called at (400, 550), dir=(-0.780834, -0.624738), lethal=true
[05:50:48] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[05:50:48] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[05:50:48] [INFO] [ImpactEffects] Blood effect spawned at (400, 550) (scale=0.75)
[05:50:48] [ENEMY] [Enemy2] Enemy died (ricochet: false, penetration: false)
[05:50:48] [INFO] [ScoreManager] Kill registered. Combo: 3 (points: 3000)
[05:50:48] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[05:50:48] [INFO] [PowerFantasy] Starting power fantasy effect:
[05:50:48] [INFO] [PowerFantasy]   - Time scale: 0.10
[05:50:48] [INFO] [PowerFantasy]   - Duration: 300ms
[05:50:48] [ENEMY] [Enemy2] [AllyDeath] Notified 1 enemies
[05:50:48] [INFO] [SoundPropagation] Unregistered listener: Enemy2 (remaining: 27)
[05:50:48] [INFO] [DeathAnim] Started - Angle: -141.3 deg, Index: 2
[05:50:48] [ENEMY] [Enemy2] Death animation started with hit direction: (-0.780834, -0.624738)
[05:50:48] [INFO] [ReplayManager] Recording frame 300 (4,5s): player_valid=True, enemies=10
[05:50:48] [ENEMY] [Enemy4] Death animation completed
[05:50:48] [INFO] [PowerFantasy] Effect duration expired after 301.00 ms
[05:50:48] [INFO] [PowerFantasy] Ending power fantasy effect
[05:50:48] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[05:50:49] [INFO] [BloodDecal] Blood puddle created at (368.6656, 533.6929) (added to group)
[05:50:49] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.1°, current=89.7°, player=(481,608), corner_timer=-0.01
[05:50:49] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[05:50:49] [INFO] [BloodDecal] Blood puddle created at (327.1249, 525.0018) (added to group)
[05:50:49] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.5°, player=(477,604), corner_timer=0.30
[05:50:49] [INFO] [BloodDecal] Blood puddle created at (321.2466, 539.0937) (added to group)
[05:50:49] [INFO] [BloodDecal] Blood puddle created at (351.8087, 525.9766) (added to group)
[05:50:49] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[05:50:49] [INFO] [BloodDecal] Blood puddle created at (344.8204, 537.3169) (added to group)
[05:50:49] [INFO] [BloodDecal] Blood puddle created at (332.4816, 511.7421) (added to group)
[05:50:49] [ENEMY] [Enemy2] Ragdoll activated
[05:50:49] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[05:50:49] [INFO] [BloodDecal] Blood puddle created at (315.5406, 479.5481) (added to group)
[05:50:49] [INFO] [BloodDecal] Blood puddle created at (300.4668, 534.7326) (added to group)
[05:50:49] [INFO] [BloodDecal] Blood puddle created at (277.9249, 549.8036) (added to group)
[05:50:49] [INFO] [BloodDecal] Blood puddle created at (303.9979, 496.1224) (added to group)
[05:50:49] [INFO] [BloodDecal] Blood puddle created at (232.9046, 552.9451) (added to group)
[05:50:49] [INFO] [BloodDecal] Blood puddle created at (303.0268, 488.3512) (added to group)
[05:50:49] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(412,527), corner_timer=-0.02
[05:50:49] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[05:50:49] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(410,522), corner_timer=0.30
[05:50:49] [INFO] [BloodDecal] Blood puddle created at (236.6114, 516.8547) (added to group)
[05:50:49] [INFO] [BloodDecal] Blood puddle created at (301.0877, 505.385) (added to group)
[05:50:49] [INFO] [BloodDecal] Blood puddle created at (262.5061, 560.5465) (added to group)
[05:50:49] [INFO] [BloodDecal] Blood puddle created at (284.3893, 502.5697) (added to group)
[05:50:49] [INFO] [BloodDecal] Blood puddle created at (305.598, 518.0816) (added to group)
[05:50:49] [INFO] [BloodDecal] Blood puddle created at (304.0351, 539.8128) (added to group)
[05:50:49] [INFO] [ReplayManager] Recording frame 360 (5,2s): player_valid=True, enemies=10
[05:50:49] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[05:50:49] [ENEMY] [Enemy1] Hit taken, damage: 10, health: 2/2 -> -8/2
[05:50:49] [ENEMY] [Enemy1] ImpactEffectsManager found, calling spawn_blood_effect
[05:50:49] [INFO] [ImpactEffects] spawn_blood_effect called at (300, 350), dir=(-0.79756, -0.60324), lethal=true
[05:50:49] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[05:50:49] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[05:50:49] [INFO] [ImpactEffects] Blood effect spawned at (300, 350) (scale=0.75)
[05:50:49] [ENEMY] [Enemy1] Enemy died (ricochet: false, penetration: false)
[05:50:49] [INFO] [ScoreManager] Kill registered. Combo: 4 (points: 5000)
[05:50:49] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[05:50:49] [INFO] [PowerFantasy] Starting power fantasy effect:
[05:50:49] [INFO] [PowerFantasy]   - Time scale: 0.10
[05:50:49] [INFO] [PowerFantasy]   - Duration: 300ms
[05:50:49] [INFO] [SoundPropagation] Unregistered listener: Enemy1 (remaining: 26)
[05:50:49] [INFO] [DeathAnim] Started - Angle: -142.9 deg, Index: 2
[05:50:49] [ENEMY] [Enemy1] Death animation started with hit direction: (-0.79756, -0.60324)
[05:50:49] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(408,418), corner_timer=-0.02
[05:50:49] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[05:50:49] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=89.7°, player=(408,418), corner_timer=0.30
[05:50:50] [INFO] [PowerFantasy] Effect duration expired after 302.00 ms
[05:50:50] [INFO] [PowerFantasy] Ending power fantasy effect
[05:50:50] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[05:50:50] [INFO] [BloodDecal] Blood puddle created at (266.5235, 333.824) (added to group)
[05:50:50] [INFO] [BloodDecal] Blood puddle created at (236.8765, 347.6109) (added to group)
[05:50:50] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.6°, current=89.4°, player=(408,315), corner_timer=-0.01
[05:50:50] [ENEMY] [Enemy7] PATROL corner check: angle 89.2°
[05:50:50] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.2°, current=92.3°, player=(408,309), corner_timer=0.30
[05:50:50] [INFO] [BloodDecal] Blood puddle created at (237.0539, 321.3239) (added to group)
[05:50:50] [INFO] [BloodDecal] Blood puddle created at (264.2234, 321.9815) (added to group)
[05:50:50] [INFO] [BloodDecal] Blood puddle created at (226.398, 291.0692) (added to group)
[05:50:50] [INFO] [BloodDecal] Blood puddle created at (225.5909, 326.6591) (added to group)
[05:50:50] [INFO] [BloodDecal] Blood puddle created at (206.4936, 358.565) (added to group)
[05:50:50] [INFO] [BloodDecal] Blood puddle created at (187.4699, 362.4202) (added to group)
[05:50:50] [INFO] [BloodDecal] Blood puddle created at (160.582, 325.6221) (added to group)
[05:50:50] [INFO] [BloodDecal] Blood puddle created at (211.1669, 267.7896) (added to group)
[05:50:50] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[05:50:50] [ENEMY] [Enemy1] Ragdoll activated
[05:50:50] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[05:50:50] [INFO] [BloodDecal] Blood puddle created at (195.9202, 302.5218) (added to group)
[05:50:50] [ENEMY] [Enemy2] Death animation completed
[05:50:50] [INFO] [ReplayManager] Recording frame 420 (5,9s): player_valid=True, enemies=10
[05:50:50] [INFO] [BloodDecal] Blood puddle created at (165.7435, 378.1321) (added to group)
[05:50:50] [INFO] [BloodDecal] Blood puddle created at (229.187, 331.5854) (added to group)
[05:50:50] [INFO] [BloodDecal] Blood puddle created at (102.7642, 381.0483) (added to group)
[05:50:50] [INFO] [BloodDecal] Blood puddle created at (175.3904, 272.1075) (added to group)
[05:50:50] [INFO] [BloodDecal] Blood puddle created at (184.8585, 365.2332) (added to group)
[05:50:50] [INFO] [BloodDecal] Blood puddle created at (229.0488, 320.6638) (added to group)
[05:50:50] [INFO] [BloodDecal] Blood puddle created at (248.3087, 333.4258) (added to group)
[05:50:50] [INFO] [BloodDecal] Blood puddle created at (161.6025, 385.3426) (added to group)
[05:50:50] [INFO] [BloodDecal] Blood puddle created at (174.3087, 416.8852) (added to group)
[05:50:50] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.8°, current=89.2°, player=(408,205), corner_timer=-0.02
[05:50:50] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[05:50:50] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=92.1°, player=(408,199), corner_timer=0.30
[05:50:50] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[05:50:51] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.9°, current=89.3°, player=(461,124), corner_timer=-0.02
[05:50:51] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[05:50:51] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=92.2°, player=(466,123), corner_timer=0.30
[05:50:51] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[05:50:51] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.1°, current=89.3°, player=(569,119), corner_timer=-0.02
[05:50:51] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[05:50:51] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.2°, player=(575,119), corner_timer=0.30
[05:50:51] [ENEMY] [Enemy1] Death animation completed
[05:50:51] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[05:50:51] [INFO] [ReplayManager] Recording frame 480 (6,9s): player_valid=True, enemies=10
[05:50:51] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.1°, current=89.4°, player=(679,119), corner_timer=-0.02
[05:50:51] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[05:50:51] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.2°, player=(685,119), corner_timer=0.30
[05:50:51] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[05:50:52] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(789,119), corner_timer=-0.02
[05:50:52] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[05:50:52] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(795,119), corner_timer=0.30
[05:50:52] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[05:50:52] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(899,119), corner_timer=-0.02
[05:50:52] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[05:50:52] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(905,119), corner_timer=0.30
[05:50:52] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[05:50:52] [INFO] [ReplayManager] Recording frame 540 (7,9s): player_valid=True, enemies=10
[05:50:52] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1009,119), corner_timer=-0.02
[05:50:52] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[05:50:52] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1015,119), corner_timer=0.30
[05:50:52] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[05:50:53] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1119,119), corner_timer=-0.02
[05:50:53] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[05:50:53] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1125,119), corner_timer=0.30
[05:50:53] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[05:50:53] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1229,119), corner_timer=-0.02
[05:50:53] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[05:50:53] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1235,119), corner_timer=0.30
[05:50:53] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[05:50:53] [INFO] [ReplayManager] Recording frame 600 (8,9s): player_valid=True, enemies=10
[05:50:53] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1339,119), corner_timer=-0.02
[05:50:53] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[05:50:53] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1345,119), corner_timer=0.30
[05:50:53] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[05:50:54] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1449,119), corner_timer=-0.02
[05:50:54] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[05:50:54] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1455,119), corner_timer=0.30
[05:50:54] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[05:50:54] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1558,121), corner_timer=-0.02
[05:50:54] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[05:50:54] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1563,122), corner_timer=0.30
[05:50:54] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[05:50:54] [INFO] [ReplayManager] Recording frame 660 (9,9s): player_valid=True, enemies=10
[05:50:54] [ENEMY] [Enemy6] Hit taken, damage: 10, health: 2/2 -> -8/2
[05:50:54] [ENEMY] [Enemy6] ImpactEffectsManager found, calling spawn_blood_effect
[05:50:54] [INFO] [ImpactEffects] spawn_blood_effect called at (1950, 450), dir=(0.76037, 0.64949), lethal=true
[05:50:54] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[05:50:54] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[05:50:54] [INFO] [ImpactEffects] Blood effect spawned at (1950, 450) (scale=0.75)
[05:50:54] [ENEMY] [Enemy6] Enemy died (ricochet: false, penetration: false)
[05:50:54] [INFO] [ScoreManager] Kill registered. Combo: 5 (points: 7500)
[05:50:54] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[05:50:54] [INFO] [PowerFantasy] Starting power fantasy effect:
[05:50:54] [INFO] [PowerFantasy]   - Time scale: 0.10
[05:50:54] [INFO] [PowerFantasy]   - Duration: 300ms
[05:50:54] [ENEMY] [Enemy5] [AllyDeath] Witnessed at (1950, 450), entering SEARCHING
[05:50:54] [ENEMY] [Enemy5] SEARCHING started: center=(1950, 450), radius=100, waypoints=5
[05:50:54] [ENEMY] [Enemy6] [AllyDeath] Notified 1 enemies
[05:50:54] [INFO] [SoundPropagation] Unregistered listener: Enemy6 (remaining: 25)
[05:50:54] [INFO] [DeathAnim] Started - Angle: 40.5 deg, Index: 14
[05:50:54] [ENEMY] [Enemy6] Death animation started with hit direction: (0.76037, 0.64949)
[05:50:54] [ENEMY] [Enemy5] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=SEARCHING, target=-117.7°, current=14.1°, player=(1604,167), corner_timer=0.00
[05:50:54] [ENEMY] [Enemy5] SEARCHING corner check: angle -68.2°
[05:50:54] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1604,172), corner_timer=-0.02
[05:50:54] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[05:50:54] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=89.7°, player=(1604,172), corner_timer=0.30
[05:50:55] [INFO] [PowerFantasy] Effect duration expired after 317.00 ms
[05:50:55] [INFO] [PowerFantasy] Ending power fantasy effect
[05:50:55] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[05:50:55] [INFO] [BloodDecal] Blood puddle created at (1997.287, 485.694) (added to group)
[05:50:55] [INFO] [BloodDecal] Blood puddle created at (1973.405, 504.7513) (added to group)
[05:50:55] [INFO] [BloodDecal] Blood puddle created at (1989.687, 528.8563) (added to group)
[05:50:55] [INFO] [BloodDecal] Blood puddle created at (2026.053, 496.1526) (added to group)
[05:50:55] [INFO] [BloodDecal] Blood puddle created at (2000.639, 512.2835) (added to group)
[05:50:55] [ENEMY] [Enemy5] SEARCHING corner check: angle 111.8°
[05:50:55] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.5°, current=89.4°, player=(1659,249), corner_timer=-0.01
[05:50:55] [ENEMY] [Enemy7] PATROL corner check: angle 89.2°
[05:50:55] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.2°, current=92.3°, player=(1663,253), corner_timer=0.30
[05:50:55] [INFO] [BloodDecal] Blood puddle created at (2025.983, 572.0867) (added to group)
[05:50:55] [INFO] [BloodDecal] Blood puddle created at (1989.955, 572.4366) (added to group)
[05:50:55] [INFO] [BloodDecal] Blood puddle created at (2022.71, 603.5668) (added to group)
[05:50:55] [ENEMY] [Enemy6] Ragdoll activated
[05:50:55] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[05:50:55] [INFO] [BloodDecal] Blood puddle created at (2048.207, 583.9114) (added to group)
[05:50:55] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[05:50:55] [INFO] [BloodDecal] Blood puddle created at (2080.977, 582.5437) (added to group)
[05:50:55] [INFO] [BloodDecal] Blood puddle created at (2032.009, 568.6262) (added to group)
[05:50:55] [INFO] [BloodDecal] Blood puddle created at (2095.319, 598.2054) (added to group)
[05:50:55] [INFO] [BloodDecal] Blood puddle created at (2018.965, 595.8095) (added to group)
[05:50:55] [INFO] [BloodDecal] Blood puddle created at (2034.096, 717.2345) (added to group)
[05:50:55] [INFO] [BloodDecal] Blood puddle created at (2058.539, 583.6253) (added to group)
[05:50:55] [INFO] [BloodDecal] Blood puddle created at (2051.476, 660.9996) (added to group)
[05:50:55] [INFO] [BloodDecal] Blood puddle created at (2042.997, 656.0214) (added to group)
[05:50:55] [INFO] [ReplayManager] Recording frame 720 (10,7s): player_valid=True, enemies=10
[05:50:55] [INFO] [BloodDecal] Blood puddle created at (2124.115, 665.8513) (added to group)
[05:50:55] [INFO] [BloodDecal] Blood puddle created at (2077.311, 603.4158) (added to group)
[05:50:55] [ENEMY] [Enemy5] SEARCHING corner check: angle 111.8°
[05:50:55] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.8°, current=89.2°, player=(1722,327), corner_timer=-0.02
[05:50:55] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[05:50:55] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=92.1°, player=(1723,331), corner_timer=0.30
[05:50:55] [INFO] [BloodDecal] Blood puddle created at (2141.213, 685.8981) (added to group)
[05:50:55] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[05:50:56] [ENEMY] [Enemy5] ROT_CHANGE: P2:combat_state -> P1:visible, state=SEARCHING, target=-169.7°, current=-120.2°, player=(1682,402), corner_timer=0.17
[05:50:56] [ENEMY] [Enemy5] SEARCHING: Player spotted! Transitioning to COMBAT
[05:50:56] [ENEMY] [Enemy5] State: SEARCHING -> COMBAT
[05:50:56] [ENEMY] [Enemy5] State: COMBAT -> RETREATING
[05:50:56] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.9°, current=89.3°, player=(1679,407), corner_timer=-0.02
[05:50:56] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[05:50:56] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=92.2°, player=(1676,411), corner_timer=0.30
[05:50:56] [ENEMY] [Enemy5] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=111.8°, current=-105.0°, player=(1674,415), corner_timer=0.17
[05:50:56] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[05:50:56] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.0°, current=89.3°, player=(1665,511), corner_timer=-0.02
[05:50:56] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[05:50:56] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.2°, player=(1664,516), corner_timer=0.30
[05:50:56] [ENEMY] [Enemy6] Death animation completed
[05:50:56] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[05:50:56] [INFO] [ReplayManager] Recording frame 780 (11,7s): player_valid=True, enemies=10
[05:50:56] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.1°, current=89.4°, player=(1603,569), corner_timer=-0.02
[05:50:56] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[05:50:56] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.2°, player=(1598,569), corner_timer=0.30
[05:50:56] [ENEMY] [Enemy5] ROT_CHANGE: P3:corner -> P1:visible, state=RETREATING, target=150.7°, current=101.4°, player=(1576,564), corner_timer=0.17
[05:50:56] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[05:50:56] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[05:50:56] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[05:50:56] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[05:50:56] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[05:50:56] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[05:50:56] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[05:50:56] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[05:50:56] [INFO] [LastChance] Resetting all effects (scene change detected)
[05:50:56] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[05:50:56] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[05:50:56] [ENEMY] [Enemy1] Death animation component initialized
[05:50:56] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[05:50:56] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[05:50:56] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[05:50:56] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[05:50:56] [ENEMY] [Enemy2] Death animation component initialized
[05:50:56] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[05:50:56] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[05:50:56] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[05:50:56] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[05:50:56] [ENEMY] [Enemy3] Death animation component initialized
[05:50:56] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[05:50:56] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[05:50:56] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[05:50:56] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[05:50:56] [ENEMY] [Enemy4] Death animation component initialized
[05:50:56] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[05:50:56] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[05:50:56] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[05:50:56] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[05:50:56] [ENEMY] [Enemy5] Death animation component initialized
[05:50:56] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[05:50:56] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[05:50:56] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[05:50:56] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[05:50:56] [INFO] [EnemyGrenade] Initialized: 1 grenades
[05:50:56] [ENEMY] [Enemy6] Death animation component initialized
[05:50:56] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[05:50:56] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[05:50:56] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[05:50:56] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[05:50:56] [ENEMY] [Enemy7] Death animation component initialized
[05:50:56] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[05:50:56] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[05:50:56] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[05:50:56] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[05:50:56] [ENEMY] [Enemy8] Death animation component initialized
[05:50:56] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[05:50:56] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[05:50:56] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[05:50:56] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[05:50:56] [ENEMY] [Enemy9] Death animation component initialized
[05:50:56] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[05:50:56] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[05:50:56] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[05:50:56] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[05:50:56] [ENEMY] [Enemy10] Death animation component initialized
[05:50:56] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[05:50:56] [INFO] [BloodyFeet:Player] Footprint scene loaded
[05:50:56] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[05:50:56] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[05:50:56] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[05:50:56] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[05:50:56] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[05:50:56] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[05:50:56] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[05:50:56] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[05:50:56] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[05:50:56] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[05:50:56] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 10/10
[05:50:56] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[05:50:56] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[05:50:56] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[05:50:56] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[05:50:56] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[05:50:56] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[05:50:56] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[05:50:56] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[05:50:56] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[05:50:56] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[05:50:56] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[05:50:56] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[05:50:56] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[05:50:57] [INFO] [ScoreManager] Level started with 10 enemies
[05:50:57] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[05:50:57] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[05:50:57] [INFO] [ReplayManager] Replay data cleared
[05:50:57] [INFO] [BuildingLevel] Previous replay data cleared
[05:50:57] [INFO] [ReplayManager] Detected player weapon: Silenced Pistol
[05:50:57] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[05:50:57] [INFO] [ReplayManager] Level: BuildingLevel
[05:50:57] [INFO] [ReplayManager] Player: Player (valid: True)
[05:50:57] [INFO] [ReplayManager] Enemies count: 10
[05:50:57] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/silenced_pistol_topdown.png
[05:50:57] [INFO] [ReplayManager]   Enemy 0: Enemy1
[05:50:57] [INFO] [ReplayManager]   Enemy 1: Enemy2
[05:50:57] [INFO] [ReplayManager]   Enemy 2: Enemy3
[05:50:57] [INFO] [ReplayManager]   Enemy 3: Enemy4
[05:50:57] [INFO] [ReplayManager]   Enemy 4: Enemy5
[05:50:57] [INFO] [ReplayManager]   Enemy 5: Enemy6
[05:50:57] [INFO] [ReplayManager]   Enemy 6: Enemy7
[05:50:57] [INFO] [ReplayManager]   Enemy 7: Enemy8
[05:50:57] [INFO] [ReplayManager]   Enemy 8: Enemy9
[05:50:57] [INFO] [ReplayManager]   Enemy 9: Enemy10
[05:50:57] [INFO] [BuildingLevel] Replay recording started successfully
[05:50:57] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[05:50:57] [INFO] [CinemaEffects] Found player node: Player
[05:50:57] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[05:50:57] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 26)
[05:50:57] [ENEMY] [Enemy1] Registered as sound listener
[05:50:57] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 4, behavior: GUARD
[05:50:57] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[05:50:57] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 27)
[05:50:57] [ENEMY] [Enemy2] Registered as sound listener
[05:50:57] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 3, behavior: GUARD
[05:50:57] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[05:50:57] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 28)
[05:50:57] [ENEMY] [Enemy3] Registered as sound listener
[05:50:57] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 4, behavior: GUARD
[05:50:57] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[05:50:57] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 29)
[05:50:57] [ENEMY] [Enemy4] Registered as sound listener
[05:50:57] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 4, behavior: GUARD
[05:50:57] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[05:50:57] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 30)
[05:50:57] [ENEMY] [Enemy5] Registered as sound listener
[05:50:57] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 4, behavior: GUARD
[05:50:57] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[05:50:57] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 31)
[05:50:57] [ENEMY] [Enemy6] Registered as sound listener
[05:50:57] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 3, behavior: GUARD
[05:50:57] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[05:50:57] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 32)
[05:50:57] [ENEMY] [Enemy7] Registered as sound listener
[05:50:57] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 4, behavior: PATROL
[05:50:57] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[05:50:57] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 33)
[05:50:57] [ENEMY] [Enemy8] Registered as sound listener
[05:50:57] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 3, behavior: GUARD
[05:50:57] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[05:50:57] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 34)
[05:50:57] [ENEMY] [Enemy9] Registered as sound listener
[05:50:57] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 2, behavior: GUARD
[05:50:57] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[05:50:57] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 35)
[05:50:57] [ENEMY] [Enemy10] Registered as sound listener
[05:50:57] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 2, behavior: PATROL
[05:50:57] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[05:50:57] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[05:50:57] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[05:50:57] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[05:50:57] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[05:50:57] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[05:50:57] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=180.0°, current=0.0°, player=(450,1249), corner_timer=0.00
[05:50:57] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[05:50:57] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[05:50:57] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[05:50:57] [INFO] [Player] Detecting weapon pose (frame 3)...
[05:50:57] [INFO] [Player] Detected weapon: Silenced Pistol (Pistol pose)
[05:50:57] [INFO] [Player] Applied Pistol arm pose: Left=(10, 6), Right=(2, 6)
[05:50:57] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[05:50:57] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[05:50:57] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[05:50:57] [INFO] [LastChance] Found player: Player
[05:50:57] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[05:50:57] [INFO] [LastChance] Connected to player Damaged signal (C#)
[05:50:57] [INFO] [LastChance] Connected to player Died signal (C#)
[05:50:57] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[05:50:57] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[05:50:58] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[05:50:58] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[05:50:58] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(453,782), corner_timer=0.30
[05:50:58] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(453,782), corner_timer=0.30
[05:50:58] [ENEMY] [Enemy3] Hit taken, damage: 10, health: 4/4 -> -6/4
[05:50:58] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[05:50:58] [INFO] [ImpactEffects] spawn_blood_effect called at (700, 750), dir=(0.993047, -0.117719), lethal=true
[05:50:58] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[05:50:58] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[05:50:58] [INFO] [ImpactEffects] Blood effect spawned at (700, 750) (scale=0.75)
[05:50:58] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[05:50:58] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[05:50:58] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[05:50:58] [INFO] [PowerFantasy] Starting power fantasy effect:
[05:50:58] [INFO] [PowerFantasy]   - Time scale: 0.10
[05:50:58] [INFO] [PowerFantasy]   - Duration: 300ms
[05:50:58] [ENEMY] [Enemy3] [AllyDeath] Notified 2 enemies
[05:50:58] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 34)
[05:50:58] [INFO] [DeathAnim] Started - Angle: -6.8 deg, Index: 11
[05:50:58] [ENEMY] [Enemy3] Death animation started with hit direction: (0.993047, -0.117719)
[05:50:58] [INFO] [ReplayManager] Recording frame 120 (1,8s): player_valid=True, enemies=10
[05:50:59] [INFO] [PowerFantasy] Effect duration expired after 301.00 ms
[05:50:59] [INFO] [PowerFantasy] Ending power fantasy effect
[05:50:59] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.2°, player=(509,735), corner_timer=-0.01
[05:50:59] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[05:50:59] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=51.1°, player=(509,735), corner_timer=-0.01
[05:50:59] [ENEMY] [Enemy10] PATROL corner check: angle 14.4°
[05:50:59] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.3°, player=(512,735), corner_timer=0.30
[05:50:59] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.4°, current=53.4°, player=(512,735), corner_timer=0.30
[05:50:59] [INFO] [BloodDecal] Blood puddle created at (742.4821, 760.0771) (added to group)
[05:50:59] [INFO] [BloodDecal] Blood puddle created at (800.0067, 749.5665) (added to group)
[05:50:59] [INFO] [BloodDecal] Blood puddle created at (774.0905, 788.6005) (added to group)
[05:50:59] [INFO] [BloodDecal] Blood puddle created at (783.1267, 770.9833) (added to group)
[05:50:59] [INFO] [BloodDecal] Blood puddle created at (778.9244, 783.4113) (added to group)
[05:50:59] [INFO] [BloodDecal] Blood puddle created at (819.0203, 811.8555) (added to group)
[05:50:59] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.2°, player=(581,794), corner_timer=-0.02
[05:50:59] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[05:50:59] [INFO] [BloodDecal] Blood puddle created at (820.251, 793.4644) (added to group)
[05:50:59] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.8°, player=(584,799), corner_timer=0.30
[05:50:59] [ENEMY] [Enemy3] Ragdoll activated
[05:50:59] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[05:50:59] [INFO] [BloodDecal] Blood puddle created at (784.5734, 789.4802) (added to group)
[05:50:59] [INFO] [BloodDecal] Blood puddle created at (864.0272, 840.3851) (added to group)
[05:50:59] [INFO] [BloodDecal] Blood puddle created at (815.3547, 842.4672) (added to group)
[05:50:59] [INFO] [BloodDecal] Blood puddle created at (777.7053, 816.8293) (added to group)
[05:50:59] [INFO] [BloodDecal] Blood puddle created at (834.0345, 739.5245) (added to group)
[05:50:59] [INFO] [BloodDecal] Blood puddle created at (810.9619, 811.7387) (added to group)
[05:50:59] [INFO] [BloodDecal] Blood puddle created at (873.1946, 788.4614) (added to group)
[05:50:59] [INFO] [BloodDecal] Blood puddle created at (872.4923, 749.5489) (added to group)
[05:50:59] [INFO] [BloodDecal] Blood puddle created at (891.7714, 773.9507) (added to group)
[05:50:59] [INFO] [BloodDecal] Blood puddle created at (908.2847, 847.963) (added to group)
[05:50:59] [INFO] [BloodDecal] Blood puddle created at (883.7753, 901.2285) (added to group)
[05:50:59] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(594,899), corner_timer=-0.02
[05:50:59] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[05:50:59] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.6°, player=(594,905), corner_timer=0.30
[05:50:59] [INFO] [ReplayManager] Recording frame 180 (2,7s): player_valid=True, enemies=10
[05:51:00] [ENEMY] [Enemy4] Hit taken, damage: 10, health: 4/4 -> -6/4
[05:51:00] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[05:51:00] [INFO] [ImpactEffects] spawn_blood_effect called at (800, 900), dir=(0.992602, -0.121416), lethal=true
[05:51:00] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[05:51:00] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[05:51:00] [INFO] [ImpactEffects] Blood effect spawned at (800, 900) (scale=0.75)
[05:51:00] [ENEMY] [Enemy4] Enemy died (ricochet: false, penetration: false)
[05:51:00] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[05:51:00] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[05:51:00] [INFO] [PowerFantasy] Starting power fantasy effect:
[05:51:00] [INFO] [PowerFantasy]   - Time scale: 0.10
[05:51:00] [INFO] [PowerFantasy]   - Duration: 300ms
[05:51:00] [INFO] [SoundPropagation] Unregistered listener: Enemy4 (remaining: 33)
[05:51:00] [INFO] [DeathAnim] Started - Angle: -7.0 deg, Index: 11
[05:51:00] [ENEMY] [Enemy4] Death animation started with hit direction: (0.992602, -0.121416)
[05:51:00] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(574,982), corner_timer=-0.00
[05:51:00] [ENEMY] [Enemy10] PATROL corner check: angle 1.9°
[05:51:00] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.9°, current=3.8°, player=(574,982), corner_timer=0.30
[05:51:00] [INFO] [PowerFantasy] Effect duration expired after 301.00 ms
[05:51:00] [INFO] [PowerFantasy] Ending power fantasy effect
[05:51:00] [INFO] [BloodDecal] Blood puddle created at (852.5057, 885.9651) (added to group)
[05:51:00] [INFO] [BloodDecal] Blood puddle created at (849.3848, 894.9984) (added to group)
[05:51:00] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.8°, player=(553,936), corner_timer=-0.01
[05:51:00] [ENEMY] [Enemy10] PATROL corner check: angle 1.0°
[05:51:00] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.0°, current=4.7°, player=(553,930), corner_timer=0.30
[05:51:00] [INFO] [BloodDecal] Blood puddle created at (861.6802, 940.6221) (added to group)
[05:51:00] [INFO] [BloodDecal] Blood puddle created at (868.8665, 911.345) (added to group)
[05:51:00] [ENEMY] [Enemy4] Ragdoll activated
[05:51:00] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[05:51:00] [INFO] [BloodDecal] Blood puddle created at (881.7094, 903.2568) (added to group)
[05:51:00] [ENEMY] [Enemy3] Death animation completed
[05:51:00] [INFO] [ReplayManager] Recording frame 240 (3,5s): player_valid=True, enemies=10
[05:51:00] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[05:51:01] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=179.9°, current=-130.2°, player=(553,749), corner_timer=-0.02
[05:51:01] [ENEMY] [Enemy7] PATROL corner check: angle 89.9°
[05:51:01] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.9°, current=-133.0°, player=(553,743), corner_timer=0.30
[05:51:01] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[05:51:01] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=179.1°, current=172.4°, player=(545,642), corner_timer=-0.02
[05:51:01] [ENEMY] [Enemy7] PATROL corner check: angle 89.8°
[05:51:01] [ENEMY] [Enemy2] Hit taken, damage: 10, health: 3/3 -> -7/3
[05:51:01] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[05:51:01] [INFO] [ImpactEffects] spawn_blood_effect called at (400, 550), dir=(-0.742288, -0.670081), lethal=true
[05:51:01] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[05:51:01] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[05:51:01] [INFO] [ImpactEffects] Blood effect spawned at (400, 550) (scale=0.75)
[05:51:01] [ENEMY] [Enemy2] Enemy died (ricochet: false, penetration: false)
[05:51:01] [INFO] [ScoreManager] Kill registered. Combo: 3 (points: 3000)
[05:51:01] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[05:51:01] [INFO] [PowerFantasy] Starting power fantasy effect:
[05:51:01] [INFO] [PowerFantasy]   - Time scale: 0.10
[05:51:01] [INFO] [PowerFantasy]   - Duration: 300ms
[05:51:01] [ENEMY] [Enemy2] [AllyDeath] Notified 1 enemies
[05:51:01] [INFO] [SoundPropagation] Unregistered listener: Enemy2 (remaining: 32)
[05:51:01] [INFO] [DeathAnim] Started - Angle: -137.9 deg, Index: 2
[05:51:01] [ENEMY] [Enemy2] Death animation started with hit direction: (-0.742288, -0.670081)
[05:51:01] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.8°, current=175.3°, player=(542,638), corner_timer=0.30
[05:51:01] [INFO] [PowerFantasy] Effect duration expired after 301.00 ms
[05:51:01] [INFO] [PowerFantasy] Ending power fantasy effect
[05:51:01] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[05:51:01] [INFO] [ReplayManager] Recording frame 300 (4,2s): player_valid=True, enemies=10
[05:51:02] [ENEMY] [Enemy4] Death animation completed
[05:51:02] [INFO] [BloodDecal] Blood puddle created at (377.4543, 510.53) (added to group)
[05:51:02] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.6°, current=121.1°, player=(475,609), corner_timer=-0.01
[05:51:02] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[05:51:02] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=124.0°, player=(472,606), corner_timer=0.30
[05:51:02] [INFO] [BloodDecal] Blood puddle created at (302.048, 549.3823) (added to group)
[05:51:02] [INFO] [BloodDecal] Blood puddle created at (315.54, 536.6967) (added to group)
[05:51:02] [INFO] [BloodDecal] Blood puddle created at (329.7558, 496.2332) (added to group)
[05:51:02] [INFO] [BloodDecal] Blood puddle created at (355.1476, 513.8997) (added to group)
[05:51:02] [INFO] [BloodDecal] Blood puddle created at (351.6765, 490.7184) (added to group)
[05:51:02] [INFO] [BloodDecal] Blood puddle created at (306.7734, 512.803) (added to group)
[05:51:02] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[05:51:02] [INFO] [BloodDecal] Blood puddle created at (316.247, 503.7453) (added to group)
[05:51:02] [ENEMY] [Enemy2] Ragdoll activated
[05:51:02] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[05:51:02] [INFO] [BloodDecal] Blood puddle created at (266.6036, 536.6387) (added to group)
[05:51:02] [INFO] [BloodDecal] Blood puddle created at (336.8889, 494.5495) (added to group)
[05:51:02] [INFO] [BloodDecal] Blood puddle created at (316.6907, 542.8173) (added to group)
[05:51:02] [INFO] [BloodDecal] Blood puddle created at (258.9828, 516.5535) (added to group)
[05:51:02] [INFO] [BloodDecal] Blood puddle created at (306.4917, 563.1316) (added to group)
[05:51:02] [INFO] [BloodDecal] Blood puddle created at (252.0939, 524.4492) (added to group)
[05:51:02] [INFO] [BloodDecal] Blood puddle created at (291.802, 478.0251) (added to group)
[05:51:02] [INFO] [BloodDecal] Blood puddle created at (256.9646, 515.6367) (added to group)
[05:51:02] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.5°, current=89.5°, player=(430,522), corner_timer=-0.02
[05:51:02] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[05:51:02] [INFO] [BloodDecal] Blood puddle created at (301.4193, 579.8777) (added to group)
[05:51:02] [INFO] [BloodDecal] Blood puddle created at (290.5428, 584.5311) (added to group)
[05:51:02] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.4°, player=(430,517), corner_timer=0.30
[05:51:02] [INFO] [BloodDecal] Blood puddle created at (311.2613, 557.6414) (added to group)
[05:51:02] [INFO] [BloodDecal] Blood puddle created at (303.2367, 561.6327) (added to group)
[05:51:02] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[05:51:02] [ENEMY] [Enemy1] Hit taken, damage: 10, health: 4/4 -> -6/4
[05:51:02] [ENEMY] [Enemy1] ImpactEffectsManager found, calling spawn_blood_effect
[05:51:02] [INFO] [ImpactEffects] spawn_blood_effect called at (300, 350), dir=(-0.822987, -0.568061), lethal=true
[05:51:02] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[05:51:02] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[05:51:02] [INFO] [ImpactEffects] Blood effect spawned at (300, 350) (scale=0.75)
[05:51:02] [ENEMY] [Enemy1] Enemy died (ricochet: false, penetration: false)
[05:51:02] [INFO] [ScoreManager] Kill registered. Combo: 4 (points: 5000)
[05:51:02] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[05:51:02] [INFO] [PowerFantasy] Starting power fantasy effect:
[05:51:02] [INFO] [PowerFantasy]   - Time scale: 0.10
[05:51:02] [INFO] [PowerFantasy]   - Duration: 300ms
[05:51:02] [INFO] [SoundPropagation] Unregistered listener: Enemy1 (remaining: 31)
[05:51:02] [INFO] [DeathAnim] Started - Angle: -145.4 deg, Index: 2
[05:51:02] [ENEMY] [Enemy1] Death animation started with hit direction: (-0.822987, -0.568061)
[05:51:02] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.4°, current=89.5°, player=(430,417), corner_timer=-0.00
[05:51:02] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[05:51:02] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=89.7°, player=(430,416), corner_timer=0.30
[05:51:02] [INFO] [ReplayManager] Recording frame 360 (5,1s): player_valid=True, enemies=10
[05:51:03] [INFO] [PowerFantasy] Effect duration expired after 304.00 ms
[05:51:03] [INFO] [PowerFantasy] Ending power fantasy effect
[05:51:03] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[05:51:03] [INFO] [BloodDecal] Blood puddle created at (279.3864, 329.9086) (added to group)
[05:51:03] [INFO] [BloodDecal] Blood puddle created at (218.367, 356.1094) (added to group)
[05:51:03] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.7°, current=89.4°, player=(430,315), corner_timer=-0.01
[05:51:03] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[05:51:03] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=92.3°, player=(430,309), corner_timer=0.30
[05:51:03] [INFO] [BloodDecal] Blood puddle created at (217.6167, 343.0767) (added to group)
[05:51:03] [INFO] [BloodDecal] Blood puddle created at (220.2041, 373.9044) (added to group)
[05:51:03] [INFO] [BloodDecal] Blood puddle created at (204.0936, 369.2762) (added to group)
[05:51:03] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[05:51:03] [ENEMY] [Enemy2] Death animation completed
[05:51:03] [ENEMY] [Enemy1] Ragdoll activated
[05:51:03] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[05:51:03] [INFO] [BloodDecal] Blood puddle created at (203.523, 333.0416) (added to group)
[05:51:03] [INFO] [BloodDecal] Blood puddle created at (136.6881, 382.7501) (added to group)
[05:51:03] [INFO] [BloodDecal] Blood puddle created at (147.4664, 326.9319) (added to group)
[05:51:03] [INFO] [BloodDecal] Blood puddle created at (210.1242, 274.0897) (added to group)
[05:51:03] [INFO] [BloodDecal] Blood puddle created at (231.5612, 300.8464) (added to group)
[05:51:03] [INFO] [BloodDecal] Blood puddle created at (222.9451, 303.4085) (added to group)
[05:51:03] [INFO] [BloodDecal] Blood puddle created at (190.9183, 394.1715) (added to group)
[05:51:03] [INFO] [BloodDecal] Blood puddle created at (91.18748, 385.5038) (added to group)
[05:51:03] [INFO] [BloodDecal] Blood puddle created at (180.5977, 331.5119) (added to group)
[05:51:03] [INFO] [BloodDecal] Blood puddle created at (189.5096, 400.3547) (added to group)
[05:51:03] [INFO] [BloodDecal] Blood puddle created at (225.5803, 332.7593) (added to group)
[05:51:03] [INFO] [BloodDecal] Blood puddle created at (217.6603, 354.133) (added to group)
[05:51:03] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.9°, current=89.3°, player=(438,208), corner_timer=-0.02
[05:51:03] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[05:51:03] [INFO] [BloodDecal] Blood puddle created at (175.9054, 281.3763) (added to group)
[05:51:03] [INFO] [BloodDecal] Blood puddle created at (218.0129, 295.2941) (added to group)
[05:51:03] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=92.1°, player=(441,204), corner_timer=0.30
[05:51:03] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[05:51:03] [INFO] [ReplayManager] Recording frame 420 (6,0s): player_valid=True, enemies=10
[05:51:04] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.0°, current=89.3°, player=(516,140), corner_timer=-0.02
[05:51:04] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[05:51:04] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.2°, player=(521,139), corner_timer=0.30
[05:51:04] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[05:51:04] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.1°, current=89.4°, player=(625,137), corner_timer=-0.02
[05:51:04] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[05:51:04] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.2°, player=(631,137), corner_timer=0.30
[05:51:04] [ENEMY] [Enemy1] Death animation completed
[05:51:04] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[05:51:04] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.1°, current=89.4°, player=(735,137), corner_timer=-0.02
[05:51:04] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[05:51:04] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.2°, player=(741,137), corner_timer=0.30
[05:51:04] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[05:51:04] [INFO] [ReplayManager] Recording frame 480 (7,0s): player_valid=True, enemies=10
[05:51:05] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(845,137), corner_timer=-0.02
[05:51:05] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[05:51:05] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(851,137), corner_timer=0.30
[05:51:05] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[05:51:05] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(955,137), corner_timer=-0.02
[05:51:05] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[05:51:05] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(961,137), corner_timer=0.30
[05:51:05] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[05:51:05] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1065,137), corner_timer=-0.02
[05:51:05] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[05:51:05] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1071,137), corner_timer=0.30
[05:51:05] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[05:51:05] [INFO] [ReplayManager] Recording frame 540 (8,0s): player_valid=True, enemies=10
[05:51:06] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1175,137), corner_timer=-0.02
[05:51:06] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[05:51:06] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1181,137), corner_timer=0.30
[05:51:06] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[05:51:06] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1285,137), corner_timer=-0.02
[05:51:06] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[05:51:06] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1291,137), corner_timer=0.30
[05:51:06] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[05:51:06] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1395,137), corner_timer=-0.02
[05:51:06] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[05:51:06] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1401,137), corner_timer=0.30
[05:51:06] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[05:51:06] [INFO] [ReplayManager] Recording frame 600 (9,0s): player_valid=True, enemies=10
[05:51:07] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1492,169), corner_timer=-0.02
[05:51:07] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[05:51:07] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1496,173), corner_timer=0.30
[05:51:07] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[05:51:07] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1577,229), corner_timer=-0.02
[05:51:07] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[05:51:07] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1582,232), corner_timer=0.30
[05:51:07] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[05:51:07] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1622,259), corner_timer=-0.02
[05:51:07] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[05:51:07] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1622,259), corner_timer=0.30
[05:51:07] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[05:51:07] [INFO] [ReplayManager] Recording frame 660 (10,0s): player_valid=True, enemies=10
[05:51:08] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1627,257), corner_timer=-0.02
[05:51:08] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[05:51:08] [INFO] [ScoreManager] Combo ended at 4. Max combo: 4
[05:51:08] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1629,256), corner_timer=0.30
[05:51:08] [ENEMY] [Enemy5] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=-124.4°, current=-168.5°, player=(1633,252), corner_timer=0.00
[05:51:08] [ENEMY] [Enemy5] State: IDLE -> COMBAT
[05:51:08] [ENEMY] [Enemy5] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-120.7°, current=176.2°, player=(1637,245), corner_timer=0.00
[05:51:08] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[05:51:08] [ENEMY] [Enemy6] Memory: high confidence (0.88) - transitioning to PURSUING
[05:51:08] [ENEMY] [Enemy6] State: IDLE -> PURSUING
[05:51:08] [ENEMY] [Enemy6] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=-144.4°, current=-22.5°, player=(1644,231), corner_timer=0.00
[05:51:08] [ENEMY] [Enemy6] PURSUING corner check: angle 150.2°
[05:51:08] [ENEMY] [Enemy6] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-144.8°, current=-148.1°, player=(1644,231), corner_timer=0.30
[05:51:08] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1644,231), corner_timer=-0.02
[05:51:08] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[05:51:08] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1644,231), corner_timer=0.30
[05:51:08] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[05:51:08] [ENEMY] [Enemy5] State: COMBAT -> PURSUING
[05:51:08] [ENEMY] [Enemy6] State: PURSUING -> COMBAT
[05:51:08] [ENEMY] [Enemy5] State: PURSUING -> RETREATING
[05:51:08] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1644,231), corner_timer=-0.02
[05:51:08] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[05:51:08] [ENEMY] [Enemy5] ROT_CHANGE: P2:combat_state -> P4:velocity, state=RETREATING, target=172.8°, current=-177.6°, player=(1644,231), corner_timer=0.00
[05:51:08] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1644,231), corner_timer=0.30
[05:51:08] [ENEMY] [Enemy6] State: COMBAT -> RETREATING
[05:51:08] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[05:51:08] [INFO] [EnemyGrenade] Unsafe throw distance (120 < 275 safe distance, blast=225, margin=50) - skipping throw
[05:51:08] [ENEMY] [Enemy5] State: RETREATING -> IN_COVER
[05:51:08] [INFO] [EnemyGrenade] Unsafe throw distance (118 < 275 safe distance, blast=225, margin=50) - skipping throw
[05:51:08] [ENEMY] [Enemy5] State: IN_COVER -> SUPPRESSED
[05:51:08] [INFO] [EnemyGrenade] Unsafe throw distance (117 < 275 safe distance, blast=225, margin=50) - skipping throw
[05:51:08] [INFO] [EnemyGrenade] Unsafe throw distance (115 < 275 safe distance, blast=225, margin=50) - skipping throw
[05:51:08] [INFO] [EnemyGrenade] Unsafe throw distance (114 < 275 safe distance, blast=225, margin=50) - skipping throw
[05:51:08] [INFO] [EnemyGrenade] Unsafe throw distance (112 < 275 safe distance, blast=225, margin=50) - skipping throw
[05:51:08] [INFO] [ReplayManager] Recording frame 720 (11,0s): player_valid=True, enemies=10
[05:51:08] [INFO] [EnemyGrenade] Unsafe throw distance (111 < 275 safe distance, blast=225, margin=50) - skipping throw
[05:51:08] [INFO] [EnemyGrenade] Unsafe throw distance (109 < 275 safe distance, blast=225, margin=50) - skipping throw
[05:51:08] [INFO] [EnemyGrenade] Unsafe throw distance (107 < 275 safe distance, blast=225, margin=50) - skipping throw
[05:51:09] [INFO] [EnemyGrenade] Unsafe throw distance (105 < 275 safe distance, blast=225, margin=50) - skipping throw
[05:51:09] [INFO] [EnemyGrenade] Unsafe throw distance (104 < 275 safe distance, blast=225, margin=50) - skipping throw
[05:51:09] [INFO] [EnemyGrenade] Unsafe throw distance (102 < 275 safe distance, blast=225, margin=50) - skipping throw
[05:51:09] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1644,231), corner_timer=-0.02
[05:51:09] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[05:51:09] [INFO] [EnemyGrenade] Unsafe throw distance (100 < 275 safe distance, blast=225, margin=50) - skipping throw
[05:51:09] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1644,231), corner_timer=0.30
[05:51:09] [INFO] [EnemyGrenade] Unsafe throw distance (98 < 275 safe distance, blast=225, margin=50) - skipping throw
[05:51:09] [INFO] [EnemyGrenade] Unsafe throw distance (97 < 275 safe distance, blast=225, margin=50) - skipping throw
[05:51:09] [INFO] [EnemyGrenade] Unsafe throw distance (95 < 275 safe distance, blast=225, margin=50) - skipping throw
[05:51:09] [INFO] [EnemyGrenade] Unsafe throw distance (93 < 275 safe distance, blast=225, margin=50) - skipping throw
[05:51:09] [INFO] [EnemyGrenade] Unsafe throw distance (91 < 275 safe distance, blast=225, margin=50) - skipping throw
[05:51:09] [INFO] [EnemyGrenade] Unsafe throw distance (90 < 275 safe distance, blast=225, margin=50) - skipping throw
[05:51:09] [INFO] [EnemyGrenade] Unsafe throw distance (88 < 275 safe distance, blast=225, margin=50) - skipping throw
[05:51:09] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[05:51:09] [INFO] [EnemyGrenade] Unsafe throw distance (86 < 275 safe distance, blast=225, margin=50) - skipping throw
[05:51:09] [INFO] [EnemyGrenade] Unsafe throw distance (84 < 275 safe distance, blast=225, margin=50) - skipping throw
[05:51:09] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1644.681, 231.7103), shooter_id=268334794371, bullet_pos=(2471.029, 834.7652)
[05:51:09] [INFO] [Bullet] Using shooter_position, distance=1022.99859619141
[05:51:09] [INFO] [Bullet] Distance to wall: 1022.99859619141 (69.6578555432176% of viewport)
[05:51:09] [INFO] [Bullet] Distance-based penetration chance: 65.3991685329129%
[05:51:09] [INFO] [Bullet] Caliber cannot penetrate walls
[05:51:09] [INFO] [EnemyGrenade] Unsafe throw distance (83 < 275 safe distance, blast=225, margin=50) - skipping throw
[05:51:09] [INFO] [EnemyGrenade] Unsafe throw distance (82 < 275 safe distance, blast=225, margin=50) - skipping throw
[05:51:09] [INFO] [EnemyGrenade] Unsafe throw distance (81 < 275 safe distance, blast=225, margin=50) - skipping throw
[05:51:09] [INFO] [EnemyGrenade] Unsafe throw distance (80 < 275 safe distance, blast=225, margin=50) - skipping throw
[05:51:09] [INFO] [EnemyGrenade] Unsafe throw distance (78 < 275 safe distance, blast=225, margin=50) - skipping throw
[05:51:09] [INFO] [EnemyGrenade] Unsafe throw distance (77 < 275 safe distance, blast=225, margin=50) - skipping throw
[05:51:09] [INFO] [EnemyGrenade] Unsafe throw distance (76 < 275 safe distance, blast=225, margin=50) - skipping throw
[05:51:09] [INFO] [EnemyGrenade] Unsafe throw distance (75 < 275 safe distance, blast=225, margin=50) - skipping throw
[05:51:09] [ENEMY] [Enemy7] Memory: medium confidence (0.79) - transitioning to PURSUING
[05:51:09] [ENEMY] [Enemy7] State: IDLE -> PURSUING
[05:51:09] [INFO] [EnemyGrenade] Unsafe throw distance (74 < 275 safe distance, blast=225, margin=50) - skipping throw
[05:51:09] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=-87.1°, current=89.4°, player=(1644,231), corner_timer=0.02
[05:51:09] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[05:51:09] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[05:51:09] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[05:51:09] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[05:51:09] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[05:51:09] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[05:51:09] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[05:51:09] [INFO] [LastChance] Resetting all effects (scene change detected)
[05:51:09] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[05:51:09] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[05:51:09] [ENEMY] [Enemy1] Death animation component initialized
[05:51:09] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[05:51:09] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[05:51:09] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[05:51:09] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[05:51:09] [ENEMY] [Enemy2] Death animation component initialized
[05:51:09] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[05:51:09] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[05:51:09] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[05:51:09] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[05:51:09] [ENEMY] [Enemy3] Death animation component initialized
[05:51:09] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[05:51:09] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[05:51:09] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[05:51:09] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[05:51:09] [ENEMY] [Enemy4] Death animation component initialized
[05:51:09] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[05:51:09] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[05:51:09] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[05:51:09] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[05:51:09] [ENEMY] [Enemy5] Death animation component initialized
[05:51:09] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[05:51:09] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[05:51:09] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[05:51:09] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[05:51:09] [ENEMY] [Enemy6] Death animation component initialized
[05:51:09] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[05:51:09] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[05:51:09] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[05:51:09] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[05:51:09] [ENEMY] [Enemy7] Death animation component initialized
[05:51:09] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[05:51:09] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[05:51:09] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[05:51:09] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[05:51:09] [ENEMY] [Enemy8] Death animation component initialized
[05:51:09] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[05:51:09] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[05:51:09] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[05:51:09] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[05:51:09] [ENEMY] [Enemy9] Death animation component initialized
[05:51:09] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[05:51:09] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[05:51:09] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[05:51:09] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[05:51:09] [ENEMY] [Enemy10] Death animation component initialized
[05:51:09] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[05:51:09] [INFO] [BloodyFeet:Player] Footprint scene loaded
[05:51:09] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[05:51:09] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[05:51:09] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[05:51:09] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[05:51:09] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[05:51:09] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[05:51:09] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[05:51:09] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[05:51:09] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[05:51:09] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[05:51:09] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 10/10
[05:51:09] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[05:51:09] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[05:51:09] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[05:51:09] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[05:51:09] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[05:51:09] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[05:51:09] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[05:51:09] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[05:51:09] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[05:51:09] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[05:51:09] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[05:51:09] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[05:51:09] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[05:51:09] [INFO] [ScoreManager] Level started with 10 enemies
[05:51:09] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[05:51:09] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[05:51:09] [INFO] [ReplayManager] Replay data cleared
[05:51:09] [INFO] [BuildingLevel] Previous replay data cleared
[05:51:09] [INFO] [ReplayManager] Detected player weapon: Silenced Pistol
[05:51:09] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[05:51:09] [INFO] [ReplayManager] Level: BuildingLevel
[05:51:09] [INFO] [ReplayManager] Player: Player (valid: True)
[05:51:09] [INFO] [ReplayManager] Enemies count: 10
[05:51:09] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/silenced_pistol_topdown.png
[05:51:09] [INFO] [ReplayManager]   Enemy 0: Enemy1
[05:51:09] [INFO] [ReplayManager]   Enemy 1: Enemy2
[05:51:09] [INFO] [ReplayManager]   Enemy 2: Enemy3
[05:51:09] [INFO] [ReplayManager]   Enemy 3: Enemy4
[05:51:09] [INFO] [ReplayManager]   Enemy 4: Enemy5
[05:51:09] [INFO] [ReplayManager]   Enemy 5: Enemy6
[05:51:09] [INFO] [ReplayManager]   Enemy 6: Enemy7
[05:51:09] [INFO] [ReplayManager]   Enemy 7: Enemy8
[05:51:09] [INFO] [ReplayManager]   Enemy 8: Enemy9
[05:51:09] [INFO] [ReplayManager]   Enemy 9: Enemy10
[05:51:09] [INFO] [BuildingLevel] Replay recording started successfully
[05:51:09] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[05:51:09] [INFO] [CinemaEffects] Found player node: Player
[05:51:09] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[05:51:09] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 32)
[05:51:09] [ENEMY] [Enemy1] Registered as sound listener
[05:51:09] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 4, behavior: GUARD
[05:51:09] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[05:51:09] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 33)
[05:51:09] [ENEMY] [Enemy2] Registered as sound listener
[05:51:09] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 3, behavior: GUARD
[05:51:09] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[05:51:09] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 34)
[05:51:09] [ENEMY] [Enemy3] Registered as sound listener
[05:51:09] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 3, behavior: GUARD
[05:51:09] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[05:51:09] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 35)
[05:51:09] [ENEMY] [Enemy4] Registered as sound listener
[05:51:09] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 2, behavior: GUARD
[05:51:09] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[05:51:09] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 36)
[05:51:09] [ENEMY] [Enemy5] Registered as sound listener
[05:51:09] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 4, behavior: GUARD
[05:51:09] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[05:51:09] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 37)
[05:51:09] [ENEMY] [Enemy6] Registered as sound listener
[05:51:09] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 2, behavior: GUARD
[05:51:09] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[05:51:09] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 38)
[05:51:09] [ENEMY] [Enemy7] Registered as sound listener
[05:51:09] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 4, behavior: PATROL
[05:51:09] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[05:51:09] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 39)
[05:51:09] [ENEMY] [Enemy8] Registered as sound listener
[05:51:09] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 4, behavior: GUARD
[05:51:09] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[05:51:09] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 40)
[05:51:09] [ENEMY] [Enemy9] Registered as sound listener
[05:51:09] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 4, behavior: GUARD
[05:51:09] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[05:51:09] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 41)
[05:51:09] [ENEMY] [Enemy10] Registered as sound listener
[05:51:09] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 3, behavior: PATROL
[05:51:09] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[05:51:09] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[05:51:09] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[05:51:09] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[05:51:09] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[05:51:09] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[05:51:09] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=180.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[05:51:09] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[05:51:09] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[05:51:09] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[05:51:09] [INFO] [Player] Detecting weapon pose (frame 3)...
[05:51:09] [INFO] [Player] Detected weapon: Silenced Pistol (Pistol pose)
[05:51:09] [INFO] [Player] Applied Pistol arm pose: Left=(10, 6), Right=(2, 6)
[05:51:09] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[05:51:09] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[05:51:09] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[05:51:09] [INFO] [LastChance] Found player: Player
[05:51:09] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[05:51:09] [INFO] [LastChance] Connected to player Damaged signal (C#)
[05:51:09] [INFO] [LastChance] Connected to player Died signal (C#)
[05:51:09] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[05:51:10] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[05:51:10] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[05:51:10] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[05:51:10] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,825), corner_timer=0.30
[05:51:10] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,825), corner_timer=0.30
[05:51:11] [ENEMY] [Enemy3] Hit taken, damage: 10, health: 3/3 -> -7/3
[05:51:11] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[05:51:11] [INFO] [ImpactEffects] spawn_blood_effect called at (700, 750), dir=(0.998034, -0.062674), lethal=true
[05:51:11] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[05:51:11] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[05:51:11] [INFO] [ImpactEffects] Blood effect spawned at (700, 750) (scale=0.75)
[05:51:11] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[05:51:11] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[05:51:11] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[05:51:11] [INFO] [PowerFantasy] Starting power fantasy effect:
[05:51:11] [INFO] [PowerFantasy]   - Time scale: 0.10
[05:51:11] [INFO] [PowerFantasy]   - Duration: 300ms
[05:51:11] [ENEMY] [Enemy3] [AllyDeath] Notified 2 enemies
[05:51:11] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 40)
[05:51:11] [INFO] [DeathAnim] Started - Angle: -3.6 deg, Index: 11
[05:51:11] [ENEMY] [Enemy3] Death animation started with hit direction: (0.998034, -0.062674)
[05:51:11] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(485,746), corner_timer=-0.02
[05:51:11] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[05:51:11] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(485,746), corner_timer=-0.02
[05:51:11] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[05:51:11] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(489,744), corner_timer=0.30
[05:51:11] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(489,744), corner_timer=0.30
[05:51:11] [INFO] [ReplayManager] Recording frame 120 (1,9s): player_valid=True, enemies=10
[05:51:11] [INFO] [PowerFantasy] Effect duration expired after 317.00 ms
[05:51:11] [INFO] [PowerFantasy] Ending power fantasy effect
[05:51:11] [INFO] [BloodDecal] Blood puddle created at (767.1198, 764.8262) (added to group)
[05:51:11] [INFO] [BloodDecal] Blood puddle created at (768.5089, 761.5389) (added to group)
[05:51:11] [INFO] [BloodDecal] Blood puddle created at (769.7319, 778.8596) (added to group)
[05:51:11] [INFO] [BloodDecal] Blood puddle created at (757.3529, 773.4106) (added to group)
[05:51:11] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(563,773), corner_timer=-0.01
[05:51:11] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[05:51:11] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(566,777), corner_timer=0.30
[05:51:11] [INFO] [BloodDecal] Blood puddle created at (806.5164, 747.3187) (added to group)
[05:51:11] [INFO] [BloodDecal] Blood puddle created at (797.287, 737.9711) (added to group)
[05:51:11] [INFO] [BloodDecal] Blood puddle created at (820.412, 777.5489) (added to group)
[05:51:11] [INFO] [BloodDecal] Blood puddle created at (850.2361, 784.3053) (added to group)
[05:51:11] [INFO] [BloodDecal] Blood puddle created at (818.1572, 745.5837) (added to group)
[05:51:12] [INFO] [BloodDecal] Blood puddle created at (812.9599, 770.3071) (added to group)
[05:51:12] [INFO] [BloodDecal] Blood puddle created at (854.5738, 803.3353) (added to group)
[05:51:12] [ENEMY] [Enemy3] Ragdoll activated
[05:51:12] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[05:51:12] [INFO] [BloodDecal] Blood puddle created at (781.2202, 790.4919) (added to group)
[05:51:12] [INFO] [BloodDecal] Blood puddle created at (797.7727, 775.8868) (added to group)
[05:51:12] [INFO] [BloodDecal] Blood puddle created at (857.5827, 773.3667) (added to group)
[05:51:12] [INFO] [BloodDecal] Blood puddle created at (829.1681, 863.4488) (added to group)
[05:51:12] [INFO] [BloodDecal] Blood puddle created at (874.1592, 837.0544) (added to group)
[05:51:12] [INFO] [BloodDecal] Blood puddle created at (838.8447, 812.9495) (added to group)
[05:51:12] [INFO] [BloodDecal] Blood puddle created at (825.4578, 851.42) (added to group)
[05:51:12] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(579,876), corner_timer=-0.02
[05:51:12] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[05:51:12] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.6°, player=(579,882), corner_timer=0.30
[05:51:12] [INFO] [BloodDecal] Blood puddle created at (887.6115, 757.2495) (added to group)
[05:51:12] [INFO] [ReplayManager] Recording frame 180 (2,7s): player_valid=True, enemies=10
[05:51:12] [ENEMY] [Enemy4] Hit taken, damage: 10, health: 2/2 -> -8/2
[05:51:12] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[05:51:12] [INFO] [ImpactEffects] spawn_blood_effect called at (800, 900), dir=(0.99507, -0.099178), lethal=true
[05:51:12] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[05:51:12] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[05:51:12] [INFO] [ImpactEffects] Blood effect spawned at (800, 900) (scale=0.75)
[05:51:12] [ENEMY] [Enemy4] Enemy died (ricochet: false, penetration: false)
[05:51:12] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[05:51:12] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[05:51:12] [INFO] [PowerFantasy] Starting power fantasy effect:
[05:51:12] [INFO] [PowerFantasy]   - Time scale: 0.10
[05:51:12] [INFO] [PowerFantasy]   - Duration: 300ms
[05:51:12] [INFO] [SoundPropagation] Unregistered listener: Enemy4 (remaining: 39)
[05:51:12] [INFO] [DeathAnim] Started - Angle: -5.7 deg, Index: 11
[05:51:12] [ENEMY] [Enemy4] Death animation started with hit direction: (0.99507, -0.099178)
[05:51:12] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(579,958), corner_timer=-0.00
[05:51:12] [ENEMY] [Enemy10] PATROL corner check: angle 1.9°
[05:51:12] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.9°, current=3.7°, player=(579,959), corner_timer=0.30
[05:51:12] [INFO] [PowerFantasy] Effect duration expired after 301.00 ms
[05:51:12] [INFO] [PowerFantasy] Ending power fantasy effect
[05:51:13] [INFO] [BloodDecal] Blood puddle created at (849.3292, 883.4099) (added to group)
[05:51:13] [INFO] [BloodDecal] Blood puddle created at (858.4841, 934.3077) (added to group)
[05:51:13] [INFO] [BloodDecal] Blood puddle created at (885.3323, 945.9088) (added to group)
[05:51:13] [INFO] [BloodDecal] Blood puddle created at (896.3162, 906.2433) (added to group)
[05:51:13] [INFO] [BloodDecal] Blood puddle created at (845.6696, 889.7332) (added to group)
[05:51:13] [INFO] [BloodDecal] Blood puddle created at (870.2209, 914.8806) (added to group)
[05:51:13] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.8°, player=(579,932), corner_timer=-0.01
[05:51:13] [ENEMY] [Enemy10] PATROL corner check: angle 1.0°
[05:51:13] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.0°, current=4.7°, player=(579,927), corner_timer=0.30
[05:51:13] [INFO] [BloodDecal] Blood puddle created at (906.2622, 930.0584) (added to group)
[05:51:13] [INFO] [BloodDecal] Blood puddle created at (864.6746, 946.8077) (added to group)
[05:51:13] [INFO] [BloodDecal] Blood puddle created at (905.4754, 900.0561) (added to group)
[05:51:13] [INFO] [BloodDecal] Blood puddle created at (879.5793, 931.4345) (added to group)
[05:51:13] [ENEMY] [Enemy4] Ragdoll activated
[05:51:13] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[05:51:13] [INFO] [BloodDecal] Blood puddle created at (910.0779, 952.9702) (added to group)
[05:51:13] [ENEMY] [Enemy3] Death animation completed
[05:51:13] [INFO] [ReplayManager] Recording frame 240 (3,5s): player_valid=True, enemies=10
[05:51:13] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[05:51:13] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=-130.1°, player=(579,746), corner_timer=-0.01
[05:51:13] [ENEMY] [Enemy7] PATROL corner check: angle 90.0°
[05:51:13] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=-133.0°, player=(579,741), corner_timer=0.30
[05:51:13] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[05:51:13] [ENEMY] [Enemy2] Hit taken, damage: 10, health: 3/3 -> -7/3
[05:51:13] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[05:51:13] [INFO] [ImpactEffects] spawn_blood_effect called at (400, 550), dir=(-0.711072, -0.703119), lethal=true
[05:51:13] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[05:51:13] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[05:51:13] [INFO] [ImpactEffects] Blood effect spawned at (400, 550) (scale=0.75)
[05:51:13] [ENEMY] [Enemy2] Enemy died (ricochet: false, penetration: false)
[05:51:13] [INFO] [ScoreManager] Kill registered. Combo: 3 (points: 3000)
[05:51:13] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[05:51:13] [INFO] [PowerFantasy] Starting power fantasy effect:
[05:51:13] [INFO] [PowerFantasy]   - Time scale: 0.10
[05:51:13] [INFO] [PowerFantasy]   - Duration: 300ms
[05:51:13] [ENEMY] [Enemy2] [AllyDeath] Notified 1 enemies
[05:51:13] [INFO] [SoundPropagation] Unregistered listener: Enemy2 (remaining: 38)
[05:51:13] [INFO] [DeathAnim] Started - Angle: -135.3 deg, Index: 2
[05:51:13] [ENEMY] [Enemy2] Death animation started with hit direction: (-0.711072, -0.703119)
[05:51:14] [INFO] [PowerFantasy] Effect duration expired after 301.00 ms
[05:51:14] [INFO] [PowerFantasy] Ending power fantasy effect
[05:51:14] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=178.0°, current=172.8°, player=(549,652), corner_timer=-0.01
[05:51:14] [ENEMY] [Enemy7] PATROL corner check: angle 89.6°
[05:51:14] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.6°, current=175.6°, player=(546,650), corner_timer=0.30
[05:51:14] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[05:51:14] [INFO] [ReplayManager] Recording frame 300 (4,2s): player_valid=True, enemies=10
[05:51:14] [INFO] [BloodDecal] Blood puddle created at (345.6927, 533.669) (added to group)
[05:51:14] [INFO] [BloodDecal] Blood puddle created at (358.8001, 550.241) (added to group)
[05:51:14] [INFO] [BloodDecal] Blood puddle created at (371.3693, 520.9881) (added to group)
[05:51:14] [INFO] [BloodDecal] Blood puddle created at (360.4544, 507.3868) (added to group)
[05:51:14] [INFO] [BloodDecal] Blood puddle created at (294.312, 538.7688) (added to group)
[05:51:14] [INFO] [BloodDecal] Blood puddle created at (376.9259, 526.5114) (added to group)
[05:51:14] [INFO] [BloodDecal] Blood puddle created at (373.7454, 522.9216) (added to group)
[05:51:14] [ENEMY] [Enemy4] Death animation completed
[05:51:14] [INFO] [BloodDecal] Blood puddle created at (318.4355, 492.1749) (added to group)
[05:51:14] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.7°, current=121.1°, player=(453,627), corner_timer=-0.02
[05:51:14] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[05:51:14] [INFO] [BloodDecal] Blood puddle created at (293.0572, 506.4156) (added to group)
[05:51:14] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=124.0°, player=(449,624), corner_timer=0.30
[05:51:14] [INFO] [BloodDecal] Blood puddle created at (268.2345, 529.3237) (added to group)
[05:51:14] [INFO] [BloodDecal] Blood puddle created at (340.046, 551.4149) (added to group)
[05:51:14] [INFO] [BloodDecal] Blood puddle created at (360.1907, 488.2423) (added to group)
[05:51:14] [INFO] [BloodDecal] Blood puddle created at (333.6128, 547.1349) (added to group)
[05:51:14] [ENEMY] [Enemy2] Ragdoll activated
[05:51:14] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[05:51:14] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[05:51:14] [INFO] [BloodDecal] Blood puddle created at (293.229, 579.4756) (added to group)
[05:51:14] [INFO] [BloodDecal] Blood puddle created at (358.6861, 523.8067) (added to group)
[05:51:14] [INFO] [BloodDecal] Blood puddle created at (318.3036, 563.6478) (added to group)
[05:51:14] [INFO] [BloodDecal] Blood puddle created at (236.6241, 508.9578) (added to group)
[05:51:14] [INFO] [BloodDecal] Blood puddle created at (291.5621, 553.314) (added to group)
[05:51:14] [INFO] [BloodDecal] Blood puddle created at (247.2672, 560.8442) (added to group)
[05:51:14] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.5°, current=89.5°, player=(417,539), corner_timer=-0.02
[05:51:14] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[05:51:14] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.4°, player=(417,534), corner_timer=0.30
[05:51:15] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[05:51:15] [ENEMY] [Enemy1] Hit taken, damage: 10, health: 4/4 -> -6/4
[05:51:15] [ENEMY] [Enemy1] ImpactEffectsManager found, calling spawn_blood_effect
[05:51:15] [INFO] [ImpactEffects] spawn_blood_effect called at (300, 350), dir=(-0.670756, -0.741678), lethal=true
[05:51:15] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[05:51:15] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[05:51:15] [INFO] [ImpactEffects] Blood effect spawned at (300, 350) (scale=0.75)
[05:51:15] [ENEMY] [Enemy1] Enemy died (ricochet: false, penetration: false)
[05:51:15] [INFO] [ScoreManager] Kill registered. Combo: 4 (points: 5000)
[05:51:15] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[05:51:15] [INFO] [PowerFantasy] Starting power fantasy effect:
[05:51:15] [INFO] [PowerFantasy]   - Time scale: 0.10
[05:51:15] [INFO] [PowerFantasy]   - Duration: 300ms
[05:51:15] [INFO] [SoundPropagation] Unregistered listener: Enemy1 (remaining: 37)
[05:51:15] [INFO] [DeathAnim] Started - Angle: -132.1 deg, Index: 3
[05:51:15] [ENEMY] [Enemy1] Death animation started with hit direction: (-0.670756, -0.741678)
[05:51:15] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.4°, current=89.5°, player=(417,429), corner_timer=-0.02
[05:51:15] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[05:51:15] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=89.8°, player=(417,429), corner_timer=0.30
[05:51:15] [INFO] [ReplayManager] Recording frame 360 (5,1s): player_valid=True, enemies=10
[05:51:15] [INFO] [PowerFantasy] Effect duration expired after 317.00 ms
[05:51:15] [INFO] [PowerFantasy] Ending power fantasy effect
[05:51:15] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[05:51:15] [INFO] [BloodDecal] Blood puddle created at (274.1739, 320.4647) (added to group)
[05:51:15] [INFO] [BloodDecal] Blood puddle created at (272.9094, 326.0282) (added to group)
[05:51:15] [INFO] [BloodDecal] Blood puddle created at (207.9922, 325.5865) (added to group)
[05:51:15] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.6°, current=89.5°, player=(417,325), corner_timer=-0.01
[05:51:15] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[05:51:15] [INFO] [BloodDecal] Blood puddle created at (229.6989, 334.5141) (added to group)
[05:51:15] [INFO] [BloodDecal] Blood puddle created at (270.9354, 284.9932) (added to group)
[05:51:15] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=92.3°, player=(417,320), corner_timer=0.30
[05:51:15] [ENEMY] [Enemy2] Death animation completed
[05:51:15] [INFO] [BloodDecal] Blood puddle created at (230.8427, 345.3139) (added to group)
[05:51:15] [INFO] [BloodDecal] Blood puddle created at (278.1202, 321.7452) (added to group)
[05:51:15] [INFO] [BloodDecal] Blood puddle created at (213.074, 347.5789) (added to group)
[05:51:15] [INFO] [BloodDecal] Blood puddle created at (272.8829, 301.7922) (added to group)
[05:51:15] [INFO] [BloodDecal] Blood puddle created at (268.5777, 301.8817) (added to group)
[05:51:16] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[05:51:16] [INFO] [BloodDecal] Blood puddle created at (263.4694, 306.3442) (added to group)
[05:51:16] [INFO] [BloodDecal] Blood puddle created at (216.171, 335.8972) (added to group)
[05:51:16] [ENEMY] [Enemy1] Ragdoll activated
[05:51:16] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[05:51:16] [INFO] [BloodDecal] Blood puddle created at (201.6901, 355.5372) (added to group)
[05:51:16] [INFO] [BloodDecal] Blood puddle created at (182.6879, 300.3746) (added to group)
[05:51:16] [INFO] [BloodDecal] Blood puddle created at (231.9758, 357.9727) (added to group)
[05:51:16] [INFO] [BloodDecal] Blood puddle created at (197.2307, 355.7168) (added to group)
[05:51:16] [INFO] [BloodDecal] Blood puddle created at (209.0828, 350.0861) (added to group)
[05:51:16] [INFO] [BloodDecal] Blood puddle created at (119.3469, 375.9775) (added to group)
[05:51:16] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.9°, current=89.3°, player=(424,218), corner_timer=-0.02
[05:51:16] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[05:51:16] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=92.1°, player=(426,213), corner_timer=0.30
[05:51:16] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[05:51:16] [INFO] [ReplayManager] Recording frame 420 (5,9s): player_valid=True, enemies=10
[05:51:16] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.0°, current=89.3°, player=(500,149), corner_timer=-0.02
[05:51:16] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[05:51:16] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.2°, player=(505,148), corner_timer=0.30
[05:51:16] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[05:51:16] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.1°, current=89.4°, player=(609,146), corner_timer=-0.02
[05:51:16] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[05:51:16] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.2°, player=(615,146), corner_timer=0.30
[05:51:17] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[05:51:17] [ENEMY] [Enemy1] Death animation completed
[05:51:17] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.1°, current=89.4°, player=(719,146), corner_timer=-0.02
[05:51:17] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[05:51:17] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.2°, player=(725,146), corner_timer=0.30
[05:51:17] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[05:51:17] [INFO] [ReplayManager] Recording frame 480 (6,9s): player_valid=True, enemies=10
[05:51:17] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(829,146), corner_timer=-0.02
[05:51:17] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[05:51:17] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(835,146), corner_timer=0.30
[05:51:17] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[05:51:17] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(939,146), corner_timer=-0.02
[05:51:17] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[05:51:17] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(945,146), corner_timer=0.30
[05:51:18] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[05:51:18] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1049,146), corner_timer=-0.02
[05:51:18] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[05:51:18] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1055,146), corner_timer=0.30
[05:51:18] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[05:51:18] [INFO] [ReplayManager] Recording frame 540 (7,9s): player_valid=True, enemies=10
[05:51:18] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1159,146), corner_timer=-0.02
[05:51:18] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[05:51:18] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1165,146), corner_timer=0.30
[05:51:18] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[05:51:18] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1269,146), corner_timer=-0.02
[05:51:18] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[05:51:18] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1275,146), corner_timer=0.30
[05:51:19] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[05:51:19] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1379,146), corner_timer=-0.02
[05:51:19] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[05:51:19] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1385,146), corner_timer=0.30
[05:51:19] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[05:51:19] [INFO] [ReplayManager] Recording frame 600 (8,9s): player_valid=True, enemies=10
[05:51:19] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1489,146), corner_timer=-0.02
[05:51:19] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[05:51:19] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1495,146), corner_timer=0.30
[05:51:19] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[05:51:19] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1584,171), corner_timer=-0.02
[05:51:19] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[05:51:19] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1586,175), corner_timer=0.30
[05:51:20] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[05:51:20] [ENEMY] [Enemy6] Hit taken, damage: 10, health: 2/2 -> -8/2
[05:51:20] [ENEMY] [Enemy6] ImpactEffectsManager found, calling spawn_blood_effect
[05:51:20] [INFO] [ImpactEffects] spawn_blood_effect called at (1950, 450), dir=(0.834334, 0.551259), lethal=true
[05:51:20] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[05:51:20] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[05:51:20] [INFO] [ImpactEffects] Blood effect spawned at (1950, 450) (scale=0.75)
[05:51:20] [ENEMY] [Enemy6] Enemy died (ricochet: false, penetration: false)
[05:51:20] [INFO] [ScoreManager] Kill registered. Combo: 5 (points: 7500)
[05:51:20] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[05:51:20] [INFO] [PowerFantasy] Starting power fantasy effect:
[05:51:20] [INFO] [PowerFantasy]   - Time scale: 0.10
[05:51:20] [INFO] [PowerFantasy]   - Duration: 300ms
[05:51:20] [ENEMY] [Enemy6] [AllyDeath] Notified 1 enemies
[05:51:20] [INFO] [SoundPropagation] Unregistered listener: Enemy6 (remaining: 36)
[05:51:20] [INFO] [DeathAnim] Started - Angle: 33.5 deg, Index: 14
[05:51:20] [ENEMY] [Enemy6] Death animation started with hit direction: (0.834334, 0.551259)
[05:51:20] [INFO] [PowerFantasy] Effect duration expired after 300.00 ms
[05:51:20] [INFO] [PowerFantasy] Ending power fantasy effect
[05:51:20] [INFO] [ReplayManager] Recording frame 660 (9,6s): player_valid=True, enemies=10
[05:51:20] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.4°, current=89.4°, player=(1602,259), corner_timer=-0.01
[05:51:20] [ENEMY] [Enemy7] PATROL corner check: angle 89.2°
[05:51:20] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.2°, current=92.3°, player=(1604,259), corner_timer=0.30
[05:51:20] [INFO] [BloodDecal] Blood puddle created at (1992.339, 537.6583) (added to group)
[05:51:20] [INFO] [BloodDecal] Blood puddle created at (2003.326, 484.9818) (added to group)
[05:51:20] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[05:51:20] [INFO] [BloodDecal] Blood puddle created at (1985.384, 530.7555) (added to group)
[05:51:20] [INFO] [BloodDecal] Blood puddle created at (2005.152, 527.1196) (added to group)
[05:51:20] [INFO] [BloodDecal] Blood puddle created at (2005.599, 534.7449) (added to group)
[05:51:20] [INFO] [BloodDecal] Blood puddle created at (2065.54, 511.3242) (added to group)
[05:51:20] [INFO] [BloodDecal] Blood puddle created at (2037.416, 531.1193) (added to group)
[05:51:20] [INFO] [BloodDecal] Blood puddle created at (2015.912, 501.731) (added to group)
[05:51:20] [INFO] [BloodDecal] Blood puddle created at (2026.381, 502.5847) (added to group)
[05:51:20] [INFO] [BloodDecal] Blood puddle created at (2042.142, 580.4919) (added to group)
[05:51:20] [INFO] [BloodDecal] Blood puddle created at (2047.614, 530.4333) (added to group)
[05:51:20] [INFO] [BloodDecal] Blood puddle created at (2041.941, 568.6422) (added to group)
[05:51:20] [INFO] [BloodDecal] Blood puddle created at (2033.979, 584.5984) (added to group)
[05:51:20] [ENEMY] [Enemy6] Ragdoll activated
[05:51:20] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[05:51:20] [INFO] [BloodDecal] Blood puddle created at (2027.923, 588.551) (added to group)
[05:51:20] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.7°, current=89.2°, player=(1688,260), corner_timer=-0.02
[05:51:20] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[05:51:20] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=92.1°, player=(1694,260), corner_timer=0.30
[05:51:20] [INFO] [BloodDecal] Blood puddle created at (2013.124, 611.073) (added to group)
[05:51:20] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[05:51:20] [INFO] [BloodDecal] Blood puddle created at (2133.464, 653.7308) (added to group)
[05:51:20] [INFO] [BloodDecal] Blood puddle created at (2040.395, 615.2923) (added to group)
[05:51:20] [INFO] [BloodDecal] Blood puddle created at (2082.466, 621.6829) (added to group)
[05:51:20] [INFO] [BloodDecal] Blood puddle created at (2059.967, 562.9136) (added to group)
[05:51:21] [INFO] [BloodDecal] Blood puddle created at (2102.854, 675.4867) (added to group)
[05:51:21] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.9°, current=89.3°, player=(1773,260), corner_timer=-0.02
[05:51:21] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[05:51:21] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=92.1°, player=(1775,260), corner_timer=0.30
[05:51:21] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[05:51:21] [ENEMY] [Enemy5] Hit taken, damage: 10, health: 4/4 -> -6/4
[05:51:21] [ENEMY] [Enemy5] ImpactEffectsManager found, calling spawn_blood_effect
[05:51:21] [INFO] [ImpactEffects] spawn_blood_effect called at (1700, 350), dir=(-0.701976, 0.7122), lethal=true
[05:51:21] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[05:51:21] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[05:51:21] [INFO] [ImpactEffects] Blood effect spawned at (1700, 350) (scale=0.75)
[05:51:21] [ENEMY] [Enemy5] Enemy died (ricochet: false, penetration: false)
[05:51:21] [INFO] [ScoreManager] Kill registered. Combo: 6 (points: 10500)
[05:51:21] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[05:51:21] [INFO] [PowerFantasy] Starting power fantasy effect:
[05:51:21] [INFO] [PowerFantasy]   - Time scale: 0.10
[05:51:21] [INFO] [PowerFantasy]   - Duration: 300ms
[05:51:21] [INFO] [SoundPropagation] Unregistered listener: Enemy5 (remaining: 35)
[05:51:21] [INFO] [DeathAnim] Started - Angle: 134.6 deg, Index: 20
[05:51:21] [ENEMY] [Enemy5] Death animation started with hit direction: (-0.701976, 0.7122)
[05:51:21] [INFO] [ReplayManager] Recording frame 720 (10,5s): player_valid=True, enemies=10
[05:51:21] [INFO] [PowerFantasy] Effect duration expired after 301.00 ms
[05:51:21] [INFO] [PowerFantasy] Ending power fantasy effect
[05:51:21] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.3°, current=89.3°, player=(1779,280), corner_timer=-0.01
[05:51:21] [ENEMY] [Enemy7] PATROL corner check: angle 89.1°
[05:51:21] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.1°, current=92.2°, player=(1779,284), corner_timer=0.30
[05:51:21] [INFO] [BloodDecal] Blood puddle created at (1680.648, 404.1029) (added to group)
[05:51:21] [INFO] [BloodDecal] Blood puddle created at (1630.515, 390.4586) (added to group)
[05:51:21] [INFO] [BloodDecal] Blood puddle created at (1668.68, 406.7379) (added to group)
[05:51:21] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[05:51:21] [INFO] [BloodDecal] Blood puddle created at (1663.735, 436.1497) (added to group)
[05:51:21] [INFO] [BloodDecal] Blood puddle created at (1643.11, 441.1873) (added to group)
[05:51:21] [INFO] [BloodDecal] Blood puddle created at (1640.732, 424.2373) (added to group)
[05:51:21] [INFO] [BloodDecal] Blood puddle created at (1623.749, 465.9509) (added to group)
[05:51:21] [INFO] [BloodDecal] Blood puddle created at (1641.86, 447.8661) (added to group)
[05:51:21] [INFO] [BloodDecal] Blood puddle created at (1621.449, 491.9807) (added to group)
[05:51:21] [ENEMY] [Enemy6] Death animation completed
[05:51:21] [INFO] [BloodDecal] Blood puddle created at (1653.216, 464.2335) (added to group)
[05:51:21] [INFO] [BloodDecal] Blood puddle created at (1647.145, 492.8282) (added to group)
[05:51:22] [ENEMY] [Enemy5] Ragdoll activated
[05:51:22] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[05:51:22] [INFO] [BloodDecal] Blood puddle created at (1599.485, 446.0069) (added to group)
[05:51:22] [INFO] [BloodDecal] Blood puddle created at (1656.992, 504.8776) (added to group)
[05:51:22] [INFO] [BloodDecal] Blood puddle created at (1565.035, 483.4962) (added to group)
[05:51:22] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.6°, current=89.1°, player=(1779,385), corner_timer=-0.02
[05:51:22] [ENEMY] [Enemy7] PATROL corner check: angle 89.2°
[05:51:22] [INFO] [BloodDecal] Blood puddle created at (1609.749, 583.1517) (added to group)
[05:51:22] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.2°, current=92.0°, player=(1780,390), corner_timer=0.30
[05:51:22] [INFO] [BloodDecal] Blood puddle created at (1665.513, 503.045) (added to group)
[05:51:22] [INFO] [BloodDecal] Blood puddle created at (1623.515, 561.5832) (added to group)
[05:51:22] [INFO] [BloodDecal] Blood puddle created at (1660.589, 534.8217) (added to group)
[05:51:22] [INFO] [BloodDecal] Blood puddle created at (1641.089, 565.9846) (added to group)
[05:51:22] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[05:51:22] [INFO] [ReplayManager] Recording frame 780 (11,4s): player_valid=True, enemies=10
[05:51:22] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.8°, current=89.2°, player=(1841,469), corner_timer=-0.02
[05:51:22] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[05:51:22] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=92.1°, player=(1845,473), corner_timer=0.30
[05:51:22] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[05:51:22] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.0°, current=89.3°, player=(1913,549), corner_timer=-0.02
[05:51:22] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[05:51:22] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=92.2°, player=(1914,554), corner_timer=0.30
[05:51:22] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[05:51:22] [ENEMY] [Enemy5] Death animation completed
[05:51:23] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.1°, current=89.3°, player=(1919,657), corner_timer=-0.02
[05:51:23] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[05:51:23] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.2°, player=(1919,662), corner_timer=0.30
[05:51:23] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[05:51:23] [INFO] [ReplayManager] Recording frame 840 (12,4s): player_valid=True, enemies=10
[05:51:23] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.1°, current=89.4°, player=(1919,765), corner_timer=-0.02
[05:51:23] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[05:51:23] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.2°, player=(1919,770), corner_timer=0.30
[05:51:23] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[05:51:23] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1919,802), corner_timer=-0.02
[05:51:23] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[05:51:23] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1919,802), corner_timer=0.30
[05:51:23] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[05:51:24] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1919,807), corner_timer=-0.02
[05:51:24] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[05:51:24] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1919,809), corner_timer=0.30
[05:51:24] [ENEMY] [Enemy7] Hit taken, damage: 10, health: 4/4 -> -6/4
[05:51:24] [ENEMY] [Enemy7] ImpactEffectsManager found, calling spawn_blood_effect
[05:51:24] [INFO] [ImpactEffects] spawn_blood_effect called at (1611.324, 898.8436), dir=(-0.954205, 0.299153), lethal=true
[05:51:24] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[05:51:24] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[05:51:24] [INFO] [ImpactEffects] Wall found for blood splatter at (1575.738, 910) (dist=37 px)
[05:51:24] [INFO] [BloodDecal] Blood puddle created at (1575.738, 909) (added to group)
[05:51:24] [INFO] [ImpactEffects] Blood effect spawned at (1611.324, 898.8436) (scale=0.75)
[05:51:24] [ENEMY] [Enemy7] Enemy died (ricochet: false, penetration: false)
[05:51:24] [INFO] [ScoreManager] Kill registered. Combo: 7 (points: 14000)
[05:51:24] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[05:51:24] [INFO] [PowerFantasy] Starting power fantasy effect:
[05:51:24] [INFO] [PowerFantasy]   - Time scale: 0.10
[05:51:24] [INFO] [PowerFantasy]   - Duration: 300ms
[05:51:24] [INFO] [SoundPropagation] Unregistered listener: Enemy7 (remaining: 34)
[05:51:24] [INFO] [DeathAnim] Started - Angle: 162.6 deg, Index: 22
[05:51:24] [ENEMY] [Enemy7] Death animation started with hit direction: (-0.954205, 0.299153)
[05:51:24] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[05:51:24] [INFO] [ReplayManager] Recording frame 900 (13,1s): player_valid=True, enemies=10
[05:51:24] [INFO] [PowerFantasy] Effect duration expired after 317.00 ms
[05:51:24] [INFO] [PowerFantasy] Ending power fantasy effect
[05:51:24] [INFO] [BloodDecal] Blood puddle created at (1556.725, 905.2532) (added to group)
[05:51:24] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[05:51:24] [ENEMY] [Enemy7] Ragdoll activated
[05:51:24] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[05:51:24] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P1:visible, state=IDLE, target=-39.3°, current=0.6°, player=(1919,979), corner_timer=0.15
[05:51:24] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[05:51:24] [ENEMY] [Enemy10] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-38.6°, current=-134.8°, player=(1919,990), corner_timer=0.15
[05:51:25] [INFO] [ReplayManager] Recording frame 960 (14,1s): player_valid=True, enemies=10
[05:51:25] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[05:51:25] [ENEMY] [Enemy7] Death animation completed
[05:51:25] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[05:51:25] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[05:51:25] [INFO] [Player.Grenade] G pressed - starting grab animation
[05:51:25] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[05:51:25] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1921.0103, 1490.3293)
[05:51:25] [INFO] [GrenadeBase] CCD enabled (mode: CAST_RAY) to prevent wall tunneling
[05:51:25] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[05:51:25] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[05:51:25] [INFO] [GrenadeTimer] Initialized for Frag grenade, effect radius: 225
[05:51:25] [INFO] [Player.Grenade] Added GrenadeTimer component (type: Frag)
[05:51:25] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[05:51:25] [INFO] [GrenadeTimer] Timer activated! 4 seconds until explosion
[05:51:25] [INFO] [Player.Grenade] Timer started, grenade created at (1919.0067, 1171.9941)
[05:51:25] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[05:51:25] [INFO] [Player.Grenade] Step 1 complete! Drag: (112.901855, 14.64917)
[05:51:26] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[05:51:26] [INFO] [Player.Grenade.Simple] RMB pressed after pin pull - starting trajectory aiming
[05:51:26] [INFO] [ReplayManager] Recording frame 1020 (15,1s): player_valid=True, enemies=10
[05:51:27] [ENEMY] [Enemy10] PURSUING corner check: angle 48.9°
[05:51:27] [INFO] [Player.Grenade.Simple] Throwing! Target: (1959.3663, 1516.0564), Distance: 447,3, Speed: 500,5, Friction: 280,0
[05:51:27] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 2,0875297
[05:51:27] [INFO] [GrenadeTimer] Grenade marked as thrown - impact detection enabled
[05:51:27] [INFO] [Player.Grenade.Simple] C# set velocity directly: dir=(-0.49404252, 0.86943775), speed=500,5, spawn=(2149.8677, 1180.8037)
[05:51:27] [INFO] [GrenadeBase] Simple mode throw! Dir: (-0.494043, 0.869438), Speed: 500.5 (clamped from 500.5, max: 1186.5)
[05:51:27] [INFO] [FragGrenade] Grenade thrown (simple mode) - impact detection enabled
[05:51:27] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[05:51:27] [INFO] [Player.Grenade.Simple] Grenade thrown!
[05:51:27] [INFO] [Player.Grenade] State reset to IDLE
[05:51:27] [INFO] [Player.Grenade] State reset to IDLE
[05:51:27] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[05:51:27] [INFO] [Player.Grenade] Player rotation restored to 0
[05:51:27] [INFO] [ReplayManager] Recording frame 1080 (16,1s): player_valid=True, enemies=10
[05:51:27] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[05:51:28] [INFO] [GrenadeTimer] Frag grenade landed - EXPLODING!
[05:51:28] [INFO] [GrenadeTimer] EXPLODED at (2019.276, 1410.6243)!
[05:51:28] [INFO] [GrenadeTimer] Applying frag explosion damage (radius: 225, damage: 99)
[05:51:28] [ENEMY] [Enemy8] Hit taken, damage: 1, health: 4/4 -> 3/4
[05:51:28] [ENEMY] [Enemy8] ImpactEffectsManager found, calling spawn_blood_effect
[05:51:28] [INFO] [ImpactEffects] spawn_blood_effect called at (1900, 1450), dir=(-0.949594, 0.313483), lethal=false
[05:51:28] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[05:51:28] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[05:51:28] [INFO] [ImpactEffects] Blood effect spawned at (1900, 1450) (scale=1)
[05:51:28] [ENEMY] [Enemy8] Hit taken, damage: 1, health: 3/4 -> 2/4
[05:51:28] [ENEMY] [Enemy8] ImpactEffectsManager found, calling spawn_blood_effect
[05:51:28] [INFO] [ImpactEffects] spawn_blood_effect called at (1900, 1450), dir=(-0.949594, 0.313483), lethal=false
[05:51:28] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[05:51:28] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[05:51:28] [INFO] [ImpactEffects] Blood effect spawned at (1900, 1450) (scale=1)
[05:51:28] [ENEMY] [Enemy8] Hit taken, damage: 1, health: 2/4 -> 1/4
[05:51:28] [ENEMY] [Enemy8] ImpactEffectsManager found, calling spawn_blood_effect
[05:51:28] [INFO] [ImpactEffects] spawn_blood_effect called at (1900, 1450), dir=(-0.949594, 0.313483), lethal=false
[05:51:28] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[05:51:28] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[05:51:28] [INFO] [ImpactEffects] Blood effect spawned at (1900, 1450) (scale=1)
[05:51:28] [ENEMY] [Enemy8] Hit taken, damage: 1, health: 1/4 -> 0/4
[05:51:28] [ENEMY] [Enemy8] ImpactEffectsManager found, calling spawn_blood_effect
[05:51:28] [INFO] [ImpactEffects] spawn_blood_effect called at (1900, 1450), dir=(-0.949594, 0.313483), lethal=true
[05:51:28] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[05:51:28] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[05:51:28] [INFO] [ImpactEffects] Blood effect spawned at (1900, 1450) (scale=1.5)
[05:51:28] [ENEMY] [Enemy8] Enemy died (ricochet: false, penetration: false)
[05:51:28] [INFO] [ScoreManager] Kill registered. Combo: 8 (points: 18000)
[05:51:28] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[05:51:28] [INFO] [PowerFantasy] Starting power fantasy effect:
[05:51:28] [INFO] [PowerFantasy]   - Time scale: 0.10
[05:51:28] [INFO] [PowerFantasy]   - Duration: 300ms
[05:51:28] [ENEMY] [Enemy8] [AllyDeath] Notified 1 enemies
[05:51:28] [INFO] [SoundPropagation] Unregistered listener: Enemy8 (remaining: 33)
[05:51:28] [INFO] [DeathAnim] Started - Angle: 161.7 deg, Index: 22
[05:51:28] [ENEMY] [Enemy8] Death animation started with hit direction: (-0.949594, 0.313483)
[05:51:28] [INFO] [GrenadeTimer] Damaged enemy at distance 125,6
[05:51:28] [ENEMY] [Enemy9] Hit taken, damage: 1, health: 4/4 -> 3/4
[05:51:28] [ENEMY] [Enemy9] ImpactEffectsManager found, calling spawn_blood_effect
[05:51:28] [INFO] [ImpactEffects] spawn_blood_effect called at (2100, 1550), dir=(0.501189, 0.865338), lethal=false
[05:51:28] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[05:51:28] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[05:51:28] [INFO] [ImpactEffects] Blood effect spawned at (2100, 1550) (scale=1)
[05:51:28] [ENEMY] [Enemy9] Hit taken, damage: 1, health: 3/4 -> 2/4
[05:51:28] [ENEMY] [Enemy9] ImpactEffectsManager found, calling spawn_blood_effect
[05:51:28] [INFO] [ImpactEffects] spawn_blood_effect called at (2100, 1550), dir=(0.501189, 0.865338), lethal=false
[05:51:28] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[05:51:28] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[05:51:28] [INFO] [ImpactEffects] Blood effect spawned at (2100, 1550) (scale=1)
[05:51:28] [ENEMY] [Enemy9] Hit taken, damage: 1, health: 2/4 -> 1/4
[05:51:28] [ENEMY] [Enemy9] ImpactEffectsManager found, calling spawn_blood_effect
[05:51:28] [INFO] [ImpactEffects] spawn_blood_effect called at (2100, 1550), dir=(0.501189, 0.865338), lethal=false
[05:51:28] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[05:51:28] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[05:51:28] [INFO] [ImpactEffects] Blood effect spawned at (2100, 1550) (scale=1)
[05:51:28] [ENEMY] [Enemy9] Hit taken, damage: 1, health: 1/4 -> 0/4
[05:51:28] [ENEMY] [Enemy9] ImpactEffectsManager found, calling spawn_blood_effect
[05:51:28] [INFO] [ImpactEffects] spawn_blood_effect called at (2100, 1550), dir=(0.501189, 0.865338), lethal=true
[05:51:28] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[05:51:28] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[05:51:28] [INFO] [ImpactEffects] Blood effect spawned at (2100, 1550) (scale=1.5)
[05:51:28] [ENEMY] [Enemy9] Enemy died (ricochet: false, penetration: false)
[05:51:28] [INFO] [ScoreManager] Kill registered. Combo: 9 (points: 22500)
[05:51:28] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[05:51:28] [INFO] [PowerFantasy] Effect timer reset to 300ms
[05:51:28] [INFO] [SoundPropagation] Unregistered listener: Enemy9 (remaining: 32)
[05:51:28] [INFO] [DeathAnim] Started - Angle: 59.9 deg, Index: 15
[05:51:28] [ENEMY] [Enemy9] Death animation started with hit direction: (0.501189, 0.865338)
[05:51:28] [INFO] [GrenadeTimer] Damaged enemy at distance 161,1
[05:51:28] [INFO] [GrenadeTimer] Spawned 4 shrapnel pieces
[05:51:28] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(2019.276, 1410.624), source=NEUTRAL (FragGrenade), range=2938, listeners=32
[05:51:28] [INFO] [SoundPropagation] Cleaned up 31 invalid listeners
[05:51:28] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=1
[05:51:28] [INFO] [GrenadeTimer] Spawned PointLight2D frag explosion flash at (2019.276, 1410.6243) (shadow-based wall occlusion)
[05:51:28] [INFO] [ReplayManager] Recording frame 1140 (16,9s): player_valid=True, enemies=10
[05:51:28] [INFO] [PowerFantasy] Effect duration expired after 304.00 ms
[05:51:28] [INFO] [PowerFantasy] Ending power fantasy effect
[05:51:28] [INFO] [BloodDecal] Blood puddle created at (1832.573, 1454.487) (added to group)
[05:51:28] [INFO] [BloodDecal] Blood puddle created at (1848.398, 1498.403) (added to group)
[05:51:28] [INFO] [BloodDecal] Blood puddle created at (2117.298, 1613.567) (added to group)
[05:51:28] [INFO] [BloodDecal] Blood puddle created at (2112.924, 1614.011) (added to group)
[05:51:28] [INFO] [BloodDecal] Blood puddle created at (1828.219, 1490.483) (added to group)
[05:51:28] [INFO] [BloodDecal] Blood puddle created at (1866.375, 1499.645) (added to group)
[05:51:28] [INFO] [BloodDecal] Blood puddle created at (2124.199, 1649.442) (added to group)
[05:51:28] [INFO] [BloodDecal] Blood puddle created at (2144.479, 1627.213) (added to group)
[05:51:28] [INFO] [BloodDecal] Blood puddle created at (1810.689, 1479.762) (added to group)
[05:51:28] [INFO] [BloodDecal] Blood puddle created at (1825.408, 1478.078) (added to group)
[05:51:28] [INFO] [BloodDecal] Blood puddle created at (2121.967, 1624.741) (added to group)
[05:51:28] [INFO] [BloodDecal] Blood puddle created at (2118.74, 1632.481) (added to group)
[05:51:28] [INFO] [BloodDecal] Blood puddle created at (2124.61, 1601.833) (added to group)
[05:51:28] [INFO] [BloodDecal] Blood puddle created at (2135.768, 1663.756) (added to group)
[05:51:28] [INFO] [BloodDecal] Blood puddle created at (2109.723, 1643.966) (added to group)
[05:51:28] [INFO] [BloodDecal] Blood puddle created at (2119.52, 1680.332) (added to group)
[05:51:28] [INFO] [BloodDecal] Blood puddle created at (1795.086, 1516.932) (added to group)
[05:51:28] [INFO] [BloodDecal] Blood puddle created at (2179.182, 1665.368) (added to group)
[05:51:28] [INFO] [BloodDecal] Blood puddle created at (2139.552, 1615.51) (added to group)
[05:51:28] [INFO] [BloodDecal] Blood puddle created at (2151.99, 1638.594) (added to group)
[05:51:28] [INFO] [BloodDecal] Blood puddle created at (1823.635, 1491.978) (added to group)
[05:51:28] [INFO] [BloodDecal] Blood puddle created at (2115.278, 1676.726) (added to group)
[05:51:28] [INFO] [BloodDecal] Blood puddle created at (2149.942, 1651.227) (added to group)
[05:51:28] [INFO] [BloodDecal] Blood puddle created at (2140.61, 1689.092) (added to group)
[05:51:28] [INFO] [BloodDecal] Blood puddle created at (1825.613, 1517.324) (added to group)
[05:51:28] [INFO] [BloodDecal] Blood puddle created at (1809.561, 1508.4) (added to group)
[05:51:28] [INFO] [BloodDecal] Blood puddle created at (2144.107, 1689.637) (added to group)
[05:51:28] [INFO] [BloodDecal] Blood puddle created at (1821.889, 1537.641) (added to group)
[05:51:28] [INFO] [BloodDecal] Blood puddle created at (1779.755, 1564.074) (added to group)
[05:51:28] [INFO] [BloodDecal] Blood puddle created at (2133.516, 1698.397) (added to group)
[05:51:28] [INFO] [BloodDecal] Blood puddle created at (2169.093, 1685.545) (added to group)
[05:51:28] [INFO] [BloodDecal] Blood puddle created at (2146.858, 1664.646) (added to group)
[05:51:28] [INFO] [BloodDecal] Blood puddle created at (1803.517, 1586.499) (added to group)
[05:51:28] [INFO] [BloodDecal] Blood puddle created at (1791.01, 1497.114) (added to group)
[05:51:28] [INFO] [BloodDecal] Blood puddle created at (1850.742, 1532.254) (added to group)
[05:51:28] [INFO] [BloodDecal] Blood puddle created at (2201.453, 1681.773) (added to group)
[05:51:28] [INFO] [BloodDecal] Blood puddle created at (2112.719, 1693.112) (added to group)
[05:51:28] [INFO] [BloodDecal] Blood puddle created at (2187.544, 1684.493) (added to group)
[05:51:28] [INFO] [BloodDecal] Blood puddle created at (2142.21, 1644.098) (added to group)
[05:51:28] [INFO] [BloodDecal] Blood puddle created at (1794.101, 1605.52) (added to group)
[05:51:28] [INFO] [BloodDecal] Blood puddle created at (1773.43, 1575.997) (added to group)
[05:51:28] [INFO] [BloodDecal] Blood puddle created at (2161.193, 1671.428) (added to group)
[05:51:28] [INFO] [BloodDecal] Blood puddle created at (2151.572, 1721.307) (added to group)
[05:51:28] [INFO] [BloodDecal] Blood puddle created at (2179.333, 1675.777) (added to group)
[05:51:28] [INFO] [BloodDecal] Blood puddle created at (2164.174, 1722.583) (added to group)
[05:51:28] [ENEMY] [Enemy8] Ragdoll activated
[05:51:28] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[05:51:28] [ENEMY] [Enemy9] Ragdoll activated
[05:51:28] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[05:51:28] [INFO] [BloodDecal] Blood puddle created at (1804.151, 1501.207) (added to group)
[05:51:28] [INFO] [BloodDecal] Blood puddle created at (1757.721, 1540.873) (added to group)
[05:51:28] [INFO] [BloodDecal] Blood puddle created at (2223.147, 1693.223) (added to group)
[05:51:29] [INFO] [BloodDecal] Blood puddle created at (1770.397, 1531.891) (added to group)
[05:51:29] [INFO] [BloodDecal] Blood puddle created at (1816.531, 1576.759) (added to group)
[05:51:29] [INFO] [BloodDecal] Blood puddle created at (1826.314, 1545.61) (added to group)
[05:51:29] [INFO] [BloodDecal] Blood puddle created at (2119.571, 1686.869) (added to group)
[05:51:29] [INFO] [BloodDecal] Blood puddle created at (2120.02, 1673.673) (added to group)
[05:51:29] [INFO] [BloodDecal] Blood puddle created at (2115.553, 1737.732) (added to group)
[05:51:29] [INFO] [BloodDecal] Blood puddle created at (2125.352, 1757.748) (added to group)
[05:51:29] [INFO] [BloodDecal] Blood puddle created at (1820.727, 1499.152) (added to group)
[05:51:29] [INFO] [BloodDecal] Blood puddle created at (1813.376, 1496.438) (added to group)
[05:51:29] [INFO] [BloodDecal] Blood puddle created at (1788.907, 1606.24) (added to group)
[05:51:29] [INFO] [BloodDecal] Blood puddle created at (2233.107, 1712.108) (added to group)
[05:51:29] [INFO] [BloodDecal] Blood puddle created at (2155.224, 1728.87) (added to group)
[05:51:29] [INFO] [BloodDecal] Blood puddle created at (1824.125, 1546.646) (added to group)
[05:51:29] [INFO] [BloodDecal] Blood puddle created at (1729.155, 1529.69) (added to group)
[05:51:29] [INFO] [BloodDecal] Blood puddle created at (1825.563, 1561.391) (added to group)
[05:51:29] [INFO] [BloodDecal] Blood puddle created at (2206.83, 1761.913) (added to group)
[05:51:29] [INFO] [BloodDecal] Blood puddle created at (2146.417, 1696.956) (added to group)
[05:51:29] [INFO] [BloodDecal] Blood puddle created at (1724.763, 1499.826) (added to group)
[05:51:29] [INFO] [BloodDecal] Blood puddle created at (2169.237, 1758.999) (added to group)
[05:51:29] [INFO] [BloodDecal] Blood puddle created at (1768.822, 1614.522) (added to group)
[05:51:29] [INFO] [BloodDecal] Blood puddle created at (2162.401, 1795.728) (added to group)
[05:51:29] [ENEMY] [Enemy10] State: PURSUING -> RETREATING
[05:51:29] [INFO] [BloodDecal] Blood puddle created at (1801.464, 1623.262) (added to group)
[05:51:29] [INFO] [BloodDecal] Blood puddle created at (2248.387, 1742.813) (added to group)
[05:51:29] [ENEMY] [Enemy10] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=48.9°, current=-32.0°, player=(1814,1165), corner_timer=0.17
[05:51:29] [ENEMY] [Enemy10] State: RETREATING -> IN_COVER
[05:51:29] [INFO] [BloodDecal] Blood puddle created at (1750.929, 1640.38) (added to group)
[05:51:29] [INFO] [BloodDecal] Blood puddle created at (1797.344, 1576.055) (added to group)
[05:51:29] [INFO] [BloodDecal] Blood puddle created at (1751.12, 1553.712) (added to group)
[05:51:29] [INFO] [BloodDecal] Blood puddle created at (1715.257, 1526.206) (added to group)
[05:51:29] [INFO] [BloodDecal] Blood puddle created at (1778.894, 1645.998) (added to group)
[05:51:29] [INFO] [BloodDecal] Blood puddle created at (2138.741, 1827.271) (added to group)
[05:51:29] [ENEMY] [Enemy10] State: IN_COVER -> SUPPRESSED
[05:51:29] [INFO] [BloodDecal] Blood puddle created at (1816.636, 1604.513) (added to group)
[05:51:29] [INFO] [BloodDecal] Blood puddle created at (1801.717, 1547.955) (added to group)
[05:51:29] [INFO] [BloodDecal] Blood puddle created at (1718.793, 1649.456) (added to group)
[05:51:29] [INFO] [BloodDecal] Blood puddle created at (2139.815, 1770.1) (added to group)
[05:51:29] [INFO] [BloodDecal] Blood puddle created at (1778.681, 1550.807) (added to group)
[05:51:29] [INFO] [BloodDecal] Blood puddle created at (2166.865, 1717.842) (added to group)
[05:51:29] [INFO] [BloodDecal] Blood puddle created at (2259.953, 1793.318) (added to group)
[05:51:29] [INFO] [BloodDecal] Blood puddle created at (1749.146, 1606.032) (added to group)
[05:51:29] [INFO] [BloodDecal] Blood puddle created at (2149.253, 1818.971) (added to group)
[05:51:29] [INFO] [BloodDecal] Blood puddle created at (1772.515, 1677.622) (added to group)
[05:51:29] [INFO] [BloodDecal] Blood puddle created at (1800.871, 1611.848) (added to group)
[05:51:29] [INFO] [BloodDecal] Blood puddle created at (1725.216, 1532.405) (added to group)
[05:51:29] [INFO] [BloodDecal] Blood puddle created at (2137.586, 1745.778) (added to group)
[05:51:29] [INFO] [BloodDecal] Blood puddle created at (1756.693, 1651.4) (added to group)
[05:51:29] [INFO] [BloodDecal] Blood puddle created at (1780.313, 1540.346) (added to group)
[05:51:29] [INFO] [BloodDecal] Blood puddle created at (2262.904, 1763.841) (added to group)
[05:51:29] [INFO] [BloodDecal] Blood puddle created at (2122.638, 1898.854) (added to group)
[05:51:29] [INFO] [BloodDecal] Blood puddle created at (2106.684, 1801.779) (added to group)
[05:51:29] [INFO] [BloodDecal] Blood puddle created at (2180.959, 1790.767) (added to group)
[05:51:29] [INFO] [BloodDecal] Blood puddle created at (1748.583, 1679.37) (added to group)
[05:51:29] [INFO] [BloodDecal] Blood puddle created at (1772.598, 1576.357) (added to group)
[05:51:29] [INFO] [BloodDecal] Blood puddle created at (1772.203, 1567.695) (added to group)
[05:51:29] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P1:visible, state=SUPPRESSED, target=-36.6°, current=2.4°, player=(1748,1165), corner_timer=0.17
[05:51:29] [INFO] [ReplayManager] Recording frame 1200 (17,8s): player_valid=True, enemies=10
[05:51:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1375.934, 1442.485), source=ENEMY (Enemy10), range=1469, listeners=1
[05:51:29] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=0
[05:51:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(1514.4214, 1406.4692)
[05:51:29] [INFO] [Bullet] WARNING: Unable to determine shooter position
[05:51:29] [INFO] [Bullet] Using shooter_position, distance=2066,7917
[05:51:29] [INFO] [Bullet] Distance to wall: 2066,7917 (140,73166% of viewport)
[05:51:29] [INFO] [Bullet] Distance-based penetration chance: 21,85367%
[05:51:29] [INFO] [Bullet] Penetration failed (distance roll)
[05:51:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1375.934, 1442.485), source=ENEMY (Enemy10), range=1469, listeners=1
[05:51:29] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=0
[05:51:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(1514.5078, 1403.8232)
[05:51:29] [INFO] [Bullet] WARNING: Unable to determine shooter position
[05:51:29] [INFO] [Bullet] Using shooter_position, distance=2065,0554
[05:51:29] [INFO] [Bullet] Distance to wall: 2065,0554 (140,61342% of viewport)
[05:51:29] [INFO] [Bullet] Distance-based penetration chance: 21,877316%
[05:51:29] [INFO] [Bullet] Penetration failed (distance roll)
[05:51:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1375.934, 1442.485), source=ENEMY (Enemy10), range=1469, listeners=1
[05:51:29] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=0
[05:51:29] [ENEMY] [Enemy10] State: SUPPRESSED -> SEEKING_COVER
[05:51:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(0, 0), shooter_id=0, bullet_pos=(1513.7322, 1401.2227)
[05:51:29] [INFO] [Bullet] WARNING: Unable to determine shooter position
[05:51:29] [INFO] [Bullet] Using shooter_position, distance=2062,719
[05:51:29] [INFO] [Bullet] Distance to wall: 2062,719 (140,45433% of viewport)
[05:51:29] [INFO] [Bullet] Distance-based penetration chance: 21,909136%
[05:51:29] [INFO] [Bullet] Penetration failed (distance roll)
[05:51:29] [ENEMY] [Enemy10] ROT_CHANGE: P1:visible -> P3:corner, state=SEEKING_COVER, target=48.9°, current=-170.7°, player=(1649,1165), corner_timer=0.17
[05:51:29] [ENEMY] [Enemy10] State: SEEKING_COVER -> IN_COVER
[05:51:29] [ENEMY] [Enemy10] State: IN_COVER -> SUPPRESSED
[05:51:29] [ENEMY] [Enemy8] Death animation completed
[05:51:29] [ENEMY] [Enemy9] Death animation completed
[05:51:30] [INFO] [ReplayManager] Recording frame 1260 (18,8s): player_valid=True, enemies=10
[05:51:31] [INFO] [ReplayManager] Recording frame 1320 (19,8s): player_valid=True, enemies=10
[05:51:32] [ENEMY] [Enemy10] State: SUPPRESSED -> IN_COVER
[05:51:32] [ENEMY] [Enemy10] State: IN_COVER -> PURSUING
[05:51:32] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=-49.9°, current=48.9°, player=(1570,1165), corner_timer=0.17
[05:51:32] [INFO] [ReplayManager] Recording frame 1380 (20,8s): player_valid=True, enemies=10
[05:51:33] [INFO] [ReplayManager] Recording frame 1440 (21,8s): player_valid=True, enemies=10
[05:51:33] [INFO] [ScoreManager] Combo ended at 9. Max combo: 9
[05:51:33] [ENEMY] [Enemy10] PURSUING corner check: angle 78.6°
[05:51:34] [ENEMY] [Enemy10] State: PURSUING -> RETREATING
[05:51:34] [INFO] [ReplayManager] Recording frame 1500 (22,8s): player_valid=True, enemies=10
[05:51:34] [ENEMY] [Enemy10] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=78.6°, current=12.3°, player=(1631,1165), corner_timer=0.18
[05:51:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1570.029, 1165.554), shooter_id=450686356016, bullet_pos=(1257.425, 1645.771)
[05:51:34] [INFO] [Bullet] Using shooter_position, distance=573.00048828125
[05:51:34] [INFO] [Bullet] Distance to wall: 573.00048828125 (39.0166569020593% of viewport)
[05:51:34] [INFO] [Bullet] Within ricochet range - trying ricochet first
[05:51:34] [INFO] [Bullet] Caliber cannot penetrate walls
[05:51:34] [ENEMY] [Enemy10] State: RETREATING -> IN_COVER
[05:51:34] [ENEMY] [Enemy10] State: IN_COVER -> SUPPRESSED
[05:51:35] [INFO] [ReplayManager] Recording frame 1560 (23,8s): player_valid=True, enemies=10
[05:51:35] [ENEMY] [Enemy10] State: SUPPRESSED -> SEEKING_COVER
[05:51:35] [ENEMY] [Enemy10] State: SEEKING_COVER -> IN_COVER
[05:51:35] [ENEMY] [Enemy10] State: IN_COVER -> SUPPRESSED
[05:51:35] [ENEMY] [Enemy10] State: SUPPRESSED -> SEEKING_COVER
[05:51:36] [INFO] [ReplayManager] Recording frame 1620 (24,8s): player_valid=True, enemies=10
[05:51:36] [ENEMY] [Enemy10] State: SEEKING_COVER -> IN_COVER
[05:51:36] [ENEMY] [Enemy10] State: IN_COVER -> SUPPRESSED
[05:51:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1418.251, 1165.554), shooter_id=450686356016, bullet_pos=(1430.042, 2075.979)
[05:51:37] [INFO] [Bullet] Using shooter_position, distance=910.502014160156
[05:51:37] [INFO] [Bullet] Distance to wall: 910.502014160156 (61.9977564097361% of viewport)
[05:51:37] [INFO] [Bullet] Distance-based penetration chance: 74.3359508553079%
[05:51:37] [INFO] [Bullet] Caliber cannot penetrate walls
[05:51:37] [INFO] [ReplayManager] Recording frame 1680 (25,8s): player_valid=True, enemies=10
[05:51:38] [INFO] [ReplayManager] Recording frame 1740 (26,8s): player_valid=True, enemies=10
[05:51:38] [ENEMY] [Enemy10] State: SUPPRESSED -> SEEKING_COVER
[05:51:38] [ENEMY] [Enemy10] State: SEEKING_COVER -> IN_COVER
[05:51:38] [ENEMY] [Enemy10] State: IN_COVER -> SUPPRESSED
[05:51:39] [INFO] [ReplayManager] Recording frame 1800 (27,8s): player_valid=True, enemies=10
[05:51:39] [ENEMY] [Enemy10] State: SUPPRESSED -> IN_COVER
[05:51:39] [ENEMY] [Enemy10] State: IN_COVER -> PURSUING
[05:51:39] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=-169.4°, current=78.6°, player=(1037,1637), corner_timer=0.18
[05:51:40] [INFO] [ReplayManager] Recording frame 1860 (28,8s): player_valid=True, enemies=10
[05:51:40] [ENEMY] [Enemy10] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-156.9°, current=-157.6°, player=(1135,1579), corner_timer=0.18
[05:51:40] [ENEMY] [Enemy10] State: PURSUING -> COMBAT
[05:51:40] [ENEMY] [Enemy10] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-151.3°, current=-29.4°, player=(1157,1556), corner_timer=0.18
[05:51:41] [ENEMY] [Enemy10] Hit taken, damage: 10, health: 3/3 -> -7/3
[05:51:41] [ENEMY] [Enemy10] ImpactEffectsManager found, calling spawn_blood_effect
[05:51:41] [INFO] [ImpactEffects] spawn_blood_effect called at (1396.12, 1666.783), dir=(0.817873, 0.575399), lethal=true
[05:51:41] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[05:51:41] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[05:51:41] [INFO] [ImpactEffects] Blood effect spawned at (1396.12, 1666.783) (scale=0.75)
[05:51:41] [ENEMY] [Enemy10] Enemy died (ricochet: false, penetration: false)
[05:51:41] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[05:51:41] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[05:51:41] [INFO] [PowerFantasy] Starting power fantasy effect:
[05:51:41] [INFO] [PowerFantasy]   - Time scale: 0.10
[05:51:41] [INFO] [PowerFantasy]   - Duration: 300ms
[05:51:41] [INFO] [SoundPropagation] Unregistered listener: Enemy10 (remaining: 0)
[05:51:41] [INFO] [DeathAnim] Started - Angle: 35.1 deg, Index: 14
[05:51:41] [ENEMY] [Enemy10] Death animation started with hit direction: (0.817873, 0.575399)
[05:51:41] [INFO] [ReplayManager] Recording frame 1920 (29,7s): player_valid=True, enemies=10
[05:51:41] [INFO] [PowerFantasy] Effect duration expired after 300.00 ms
[05:51:41] [INFO] [PowerFantasy] Ending power fantasy effect
[05:51:41] [INFO] [BloodDecal] Blood puddle created at (1434.527, 1706.7) (added to group)
[05:51:41] [INFO] [BloodDecal] Blood puddle created at (1444.236, 1761.122) (added to group)
[05:51:41] [INFO] [BloodDecal] Blood puddle created at (1439.972, 1740.738) (added to group)
[05:51:41] [INFO] [BloodDecal] Blood puddle created at (1463.845, 1736.983) (added to group)
[05:51:41] [INFO] [BloodDecal] Blood puddle created at (1473.209, 1739.241) (added to group)
[05:51:41] [INFO] [BloodDecal] Blood puddle created at (1465.59, 1756.729) (added to group)
[05:51:41] [INFO] [BloodDecal] Blood puddle created at (1463.428, 1774.613) (added to group)
[05:51:41] [INFO] [BloodDecal] Blood puddle created at (1459.296, 1725.365) (added to group)
[05:51:41] [INFO] [BloodDecal] Blood puddle created at (1486.307, 1797.567) (added to group)
[05:51:42] [ENEMY] [Enemy10] Ragdoll activated
[05:51:42] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[05:51:42] [INFO] [BloodDecal] Blood puddle created at (1448.565, 1821.465) (added to group)
[05:51:42] [INFO] [BloodDecal] Blood puddle created at (1456.548, 1812.798) (added to group)
[05:51:42] [INFO] [BloodDecal] Blood puddle created at (1451.485, 1822.918) (added to group)
[05:51:42] [INFO] [BloodDecal] Blood puddle created at (1513.787, 1864.309) (added to group)
[05:51:42] [INFO] [ReplayManager] Recording frame 1980 (30,5s): player_valid=True, enemies=10
[05:51:42] [ENEMY] [Enemy10] Death animation completed
[05:51:43] [INFO] [ReplayManager] Recording frame 2040 (31,5s): player_valid=True, enemies=10
[05:51:44] [INFO] [ReplayManager] Recording frame 2100 (32,5s): player_valid=True, enemies=10
[05:51:45] [INFO] [ReplayManager] Recording frame 2160 (33,5s): player_valid=True, enemies=10
[05:51:46] [INFO] [ReplayManager] Recording frame 2220 (34,5s): player_valid=True, enemies=10
[05:51:46] [INFO] [ScoreManager] Combo ended at 1. Max combo: 9
[05:51:46] [INFO] [BuildingLevel] Player controls disabled (level completed)
[05:51:46] [INFO] [ReplayManager] === REPLAY RECORDING STOPPED ===
[05:51:46] [INFO] [ReplayManager] Total frames recorded: 2234
[05:51:46] [INFO] [ReplayManager] Total duration: 34,74s
[05:51:46] [INFO] [ReplayManager] Impact events recorded: 0
[05:51:46] [INFO] [ReplayManager] has_replay() will return: True
[05:51:46] [INFO] [BuildingLevel] Replay recording stopped
[05:51:46] [INFO] [BuildingLevel] Replay status: has_replay=true, duration=34.74s
[05:51:46] [INFO] [ScoreManager] Level completed! Final score: 90650, Rank: S
[05:51:58] [INFO] [BuildingLevel] Watch Replay button created (replay data available)
[05:52:01] [INFO] [BuildingLevel] Watch Replay triggered
[05:52:01] [INFO] [ReplayManager] Added weapon sprite to ghost player: res://assets/sprites/weapons/silenced_pistol_topdown.png
[05:52:01] [INFO] [ReplayManager] Ghost player Camera2D activated for replay
[05:52:01] [INFO] [ReplayManager] Hidden CanvasLayer (score screen) for replay visibility
[05:52:01] [INFO] [ReplayManager] Ghost filter overlay created
[05:52:01] [INFO] [ReplayManager] Started replay playback. Frames: 2234, Duration: 34,74s, Mode: Ghost
[05:52:03] [INFO] [ReplayManager] Replay mode changed to: Memory
[05:52:03] [INFO] [ReplayManager] Memory mode: CinemaEffects enabled
[05:52:39] [INFO] ------------------------------------------------------------
[05:52:39] [INFO] GAME LOG ENDED: 2026-02-07T05:52:39
[05:52:39] [INFO] ============================================================
