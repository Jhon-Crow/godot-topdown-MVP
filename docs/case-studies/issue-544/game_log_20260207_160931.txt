[16:09:31] [INFO] ============================================================
[16:09:31] [INFO] GAME LOG STARTED
[16:09:31] [INFO] ============================================================
[16:09:31] [INFO] Timestamp: 2026-02-07T16:09:31
[16:09:31] [INFO] Log file: I:/Загрузки/godot exe/повтор/game_log_20260207_160931.txt
[16:09:31] [INFO] Executable: I:/Загрузки/godot exe/повтор/Godot-Top-Down-Template.exe
[16:09:31] [INFO] OS: Windows
[16:09:31] [INFO] Debug build: false
[16:09:31] [INFO] Engine version: 4.3-stable (official)
[16:09:31] [INFO] Project: Godot Top-Down Template
[16:09:31] [INFO] ------------------------------------------------------------
[16:09:31] [INFO] [GameManager] GameManager ready
[16:09:31] [INFO] [ScoreManager] ScoreManager ready
[16:09:31] [INFO] [SoundPropagation] SoundPropagation autoload initialized
[16:09:31] [INFO] [ImpactEffects] Scenes loaded: DustEffect, BloodEffect, SparksEffect, BloodDecal
[16:09:31] [INFO] [ImpactEffects] ImpactEffectsManager ready - FULL VERSION with blood effects enabled
[16:09:31] [INFO] [ImpactEffects] Starting particle shader warmup (Issue #343 fix)...
[16:09:31] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[16:09:31] [INFO] [PenultimateHit] Saturation shader loaded successfully
[16:09:31] [INFO] [PenultimateHit] Starting shader warmup (Issue #343 fix)...
[16:09:31] [INFO] [PenultimateHit] PenultimateHitEffectsManager ready - Configuration:
[16:09:31] [INFO] [PenultimateHit]   Time scale: 0.10 (10x slowdown)
[16:09:31] [INFO] [PenultimateHit]   Saturation boost: 2.0 (3.0x)
[16:09:31] [INFO] [PenultimateHit]   Contrast boost: 1.0 (2.0x)
[16:09:31] [INFO] [PenultimateHit]   Effect duration: 3.0 real seconds
[16:09:31] [INFO] [LastChance] Resetting all effects (scene change detected)
[16:09:31] [INFO] [LastChance] Last chance shader loaded successfully
[16:09:31] [INFO] [LastChance] Starting shader warmup (Issue #343 fix)...
[16:09:31] [INFO] [LastChance] LastChanceEffectsManager ready - Configuration:
[16:09:31] [INFO] [LastChance]   Freeze duration: 6.0 real seconds
[16:09:31] [INFO] [LastChance]   Sepia intensity: 0.70
[16:09:31] [INFO] [LastChance]   Brightness: 0.60
[16:09:31] [INFO] [GrenadeManager] Loaded grenade scene: res://scenes/projectiles/FlashbangGrenade.tscn
[16:09:31] [INFO] [GrenadeManager] Loaded grenade scene: res://scenes/projectiles/FragGrenade.tscn
[16:09:31] [INFO] [GrenadeManager] Loaded grenade scene: res://scenes/projectiles/DefensiveGrenade.tscn
[16:09:31] [INFO] [ExperimentalSettings] ExperimentalSettings initialized - FOV enabled: true, Complex grenade throwing: false, AI prediction: true, Realistic visibility: false
[16:09:31] [INFO] [CinemaEffects] CinemaEffectsManager initializing (v5.3 - overlay approach with simplified death circle)...
[16:09:31] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[16:09:31] [INFO] [CinemaEffects] Created effects layer at layer 99
[16:09:31] [INFO] [CinemaEffects] Cinema shader loaded successfully (v5.0 - no screen_texture)
[16:09:31] [INFO] [CinemaEffects] Starting cinema shader warmup (Issue #343 fix)...
[16:09:31] [INFO] [CinemaEffects] Cinema film effect initialized (v5.3) - Configuration:
[16:09:31] [INFO] [CinemaEffects]   Approach: Overlay-based (no screen_texture)
[16:09:31] [INFO] [CinemaEffects]   Grain intensity: 0.15
[16:09:31] [INFO] [CinemaEffects]   Warm tint: 0.12 intensity
[16:09:31] [INFO] [CinemaEffects]   Sunny effect: 0.08 intensity
[16:09:31] [INFO] [CinemaEffects]   Vignette: 0.25 intensity
[16:09:31] [INFO] [CinemaEffects]   Film defects: 1.5% probability
[16:09:31] [INFO] [CinemaEffects]   White specks: 0.70 intensity, 4.0% probability
[16:09:31] [INFO] [CinemaEffects]   Death effects: cigarette burn + expanding spots + end of reel circle (160px, blinks 2x)
[16:09:31] [INFO] [CinemaEffects] Enabling effect after 1 frame(s)...
[16:09:31] [INFO] [GrenadeTimerHelper] Autoload ready
[16:09:31] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[16:09:31] [INFO] [PowerFantasy] Saturation shader loaded successfully
[16:09:31] [INFO] [PowerFantasy] PowerFantasyEffectsManager ready - Configuration:
[16:09:31] [INFO] [PowerFantasy]   Kill effect duration: 300ms
[16:09:31] [INFO] [PowerFantasy]   Grenade effect duration: 2000ms (2.0s)
[16:09:31] [INFO] [ProgressManager] ProgressManager ready, loaded 4 entries
[16:09:31] [INFO] [ReplayManager] ReplayManager ready (C# version loaded and _Ready called)
[16:09:31] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:09:31] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[16:09:31] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[16:09:31] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[16:09:31] [ENEMY] [Enemy1] Death animation component initialized
[16:09:31] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:09:31] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[16:09:31] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[16:09:31] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[16:09:31] [ENEMY] [Enemy2] Death animation component initialized
[16:09:31] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:09:31] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[16:09:31] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[16:09:31] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[16:09:31] [ENEMY] [Enemy3] Death animation component initialized
[16:09:31] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:09:31] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[16:09:31] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[16:09:31] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[16:09:31] [ENEMY] [Enemy4] Death animation component initialized
[16:09:31] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:09:31] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[16:09:31] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[16:09:31] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[16:09:31] [ENEMY] [Enemy5] Death animation component initialized
[16:09:31] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:09:31] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[16:09:31] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[16:09:31] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[16:09:31] [ENEMY] [Enemy6] Death animation component initialized
[16:09:31] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:09:31] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[16:09:31] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[16:09:31] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[16:09:31] [ENEMY] [Enemy7] Death animation component initialized
[16:09:31] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:09:31] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[16:09:31] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[16:09:31] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[16:09:31] [ENEMY] [Enemy8] Death animation component initialized
[16:09:31] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:09:31] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[16:09:31] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[16:09:31] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[16:09:31] [ENEMY] [Enemy9] Death animation component initialized
[16:09:31] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:09:31] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[16:09:31] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[16:09:31] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[16:09:31] [ENEMY] [Enemy10] Death animation component initialized
[16:09:31] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:09:31] [INFO] [BloodyFeet:Player] Footprint scene loaded
[16:09:31] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[16:09:31] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[16:09:31] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[16:09:31] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[16:09:31] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[16:09:31] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[16:09:31] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[16:09:31] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[16:09:31] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[16:09:31] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[16:09:31] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[16:09:31] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[16:09:31] [INFO] [BloodDecal] Blood puddle created at (640, 360) (added to group)
[16:09:31] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[16:09:31] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[16:09:31] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[16:09:31] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[16:09:31] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[16:09:31] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[16:09:31] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[16:09:31] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[16:09:31] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[16:09:31] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[16:09:31] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[16:09:31] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[16:09:31] [INFO] [ScoreManager] Level started with 10 enemies
[16:09:31] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[16:09:31] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[16:09:31] [INFO] [ReplayManager] Replay data cleared
[16:09:31] [INFO] [BuildingLevel] Previous replay data cleared
[16:09:31] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[16:09:31] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[16:09:31] [INFO] [ReplayManager] Level: BuildingLevel
[16:09:31] [INFO] [ReplayManager] Player: Player (valid: True)
[16:09:31] [INFO] [ReplayManager] Enemies count: 10
[16:09:31] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[16:09:31] [INFO] [ReplayManager]   Enemy 0: Enemy1
[16:09:31] [INFO] [ReplayManager]   Enemy 1: Enemy2
[16:09:31] [INFO] [ReplayManager]   Enemy 2: Enemy3
[16:09:31] [INFO] [ReplayManager]   Enemy 3: Enemy4
[16:09:31] [INFO] [ReplayManager]   Enemy 4: Enemy5
[16:09:31] [INFO] [ReplayManager]   Enemy 5: Enemy6
[16:09:31] [INFO] [ReplayManager]   Enemy 6: Enemy7
[16:09:31] [INFO] [ReplayManager]   Enemy 7: Enemy8
[16:09:31] [INFO] [ReplayManager]   Enemy 8: Enemy9
[16:09:31] [INFO] [ReplayManager]   Enemy 9: Enemy10
[16:09:31] [INFO] [BuildingLevel] Replay recording started successfully
[16:09:31] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[16:09:31] [INFO] [CinemaEffects] Found player node: Player
[16:09:31] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[16:09:31] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[16:09:31] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 1)
[16:09:31] [ENEMY] [Enemy1] Registered as sound listener
[16:09:31] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 3, behavior: GUARD
[16:09:31] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[16:09:31] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 2)
[16:09:31] [ENEMY] [Enemy2] Registered as sound listener
[16:09:31] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 3, behavior: GUARD
[16:09:31] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[16:09:31] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 3)
[16:09:31] [ENEMY] [Enemy3] Registered as sound listener
[16:09:31] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 3, behavior: GUARD
[16:09:31] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[16:09:31] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 4)
[16:09:31] [ENEMY] [Enemy4] Registered as sound listener
[16:09:31] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 4, behavior: GUARD
[16:09:31] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[16:09:31] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 5)
[16:09:31] [ENEMY] [Enemy5] Registered as sound listener
[16:09:31] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 4, behavior: GUARD
[16:09:31] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[16:09:31] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 6)
[16:09:31] [ENEMY] [Enemy6] Registered as sound listener
[16:09:31] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 4, behavior: GUARD
[16:09:31] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[16:09:31] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 7)
[16:09:31] [ENEMY] [Enemy7] Registered as sound listener
[16:09:31] [ENEMY] [Enemy7] Spawned at (1606.114, 893.8859), hp: 3, behavior: PATROL
[16:09:31] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[16:09:31] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 8)
[16:09:31] [ENEMY] [Enemy8] Registered as sound listener
[16:09:31] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 4, behavior: GUARD
[16:09:31] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[16:09:31] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 9)
[16:09:31] [ENEMY] [Enemy9] Registered as sound listener
[16:09:31] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 3, behavior: GUARD
[16:09:31] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[16:09:31] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 10)
[16:09:31] [ENEMY] [Enemy10] Registered as sound listener
[16:09:31] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 3, behavior: PATROL
[16:09:31] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[16:09:31] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=33.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:09:31] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:09:31] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:09:31] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:09:31] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:09:31] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:09:31] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=78.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:09:31] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:09:31] [INFO] [Player] Detecting weapon pose (frame 3)...
[16:09:31] [INFO] [Player] Detected weapon: Rifle (default pose)
[16:09:31] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[16:09:32] [INFO] [PenultimateHit] Shader warmup complete in 457 ms
[16:09:32] [INFO] [LastChance] Shader warmup complete in 456 ms
[16:09:32] [INFO] [CinemaEffects] Cinema shader warmup complete in 402 ms
[16:09:32] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[16:09:32] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[16:09:32] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[16:09:32] [INFO] [LastChance] Found player: Player
[16:09:32] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[16:09:32] [INFO] [LastChance] Connected to player Damaged signal (C#)
[16:09:32] [INFO] [LastChance] Connected to player Died signal (C#)
[16:09:32] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[16:09:32] [INFO] [ImpactEffects] Particle shader warmup complete: 7 effects warmed up in 766 ms
[16:09:33] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[16:09:33] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[16:09:33] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[16:09:33] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,1045), corner_timer=0.30
[16:09:33] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,1045), corner_timer=0.30
[16:09:33] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(450,940), corner_timer=-0.02
[16:09:33] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[16:09:33] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(450,940), corner_timer=-0.02
[16:09:33] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[16:09:33] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(450,935), corner_timer=0.30
[16:09:33] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(450,935), corner_timer=0.30
[16:09:34] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[16:09:35] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=10
[16:09:36] [INFO] [ReplayManager] Recording frame 240 (4,0s): player_valid=True, enemies=10
[16:09:37] [INFO] [ReplayManager] Recording frame 300 (5,0s): player_valid=True, enemies=10
[16:09:37] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(450,873), corner_timer=-0.02
[16:09:37] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[16:09:37] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(450,872), corner_timer=0.30
[16:09:37] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[16:09:37] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:09:37] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[16:09:37] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[16:09:37] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[16:09:37] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[16:09:37] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[16:09:37] [INFO] [LastChance] Resetting all effects (scene change detected)
[16:09:37] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[16:09:37] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[16:09:37] [ENEMY] [Enemy1] Death animation component initialized
[16:09:37] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:09:37] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[16:09:37] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[16:09:37] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[16:09:37] [ENEMY] [Enemy2] Death animation component initialized
[16:09:37] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:09:37] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[16:09:37] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[16:09:37] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[16:09:37] [ENEMY] [Enemy3] Death animation component initialized
[16:09:37] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:09:37] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[16:09:37] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[16:09:37] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[16:09:37] [ENEMY] [Enemy4] Death animation component initialized
[16:09:37] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:09:37] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[16:09:37] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[16:09:37] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[16:09:37] [ENEMY] [Enemy5] Death animation component initialized
[16:09:37] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:09:37] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[16:09:37] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[16:09:37] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[16:09:37] [ENEMY] [Enemy6] Death animation component initialized
[16:09:37] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:09:37] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[16:09:37] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[16:09:37] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[16:09:37] [ENEMY] [Enemy7] Death animation component initialized
[16:09:37] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:09:37] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[16:09:37] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[16:09:37] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[16:09:37] [ENEMY] [Enemy8] Death animation component initialized
[16:09:37] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:09:37] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[16:09:37] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[16:09:37] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[16:09:37] [ENEMY] [Enemy9] Death animation component initialized
[16:09:37] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:09:37] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[16:09:37] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[16:09:37] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[16:09:37] [ENEMY] [Enemy10] Death animation component initialized
[16:09:37] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[16:09:37] [INFO] [BloodyFeet:Player] Footprint scene loaded
[16:09:37] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[16:09:37] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[16:09:37] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[16:09:37] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[16:09:37] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[16:09:37] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[16:09:37] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[16:09:37] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[16:09:37] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[16:09:37] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[16:09:37] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 10/10
[16:09:37] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[16:09:37] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[16:09:37] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[16:09:37] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[16:09:37] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[16:09:37] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[16:09:37] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[16:09:37] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[16:09:37] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[16:09:37] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[16:09:37] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[16:09:37] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[16:09:37] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[16:09:37] [INFO] [ScoreManager] Level started with 10 enemies
[16:09:37] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[16:09:37] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[16:09:37] [INFO] [ReplayManager] Replay data cleared
[16:09:37] [INFO] [BuildingLevel] Previous replay data cleared
[16:09:37] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[16:09:37] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[16:09:37] [INFO] [ReplayManager] Level: BuildingLevel
[16:09:37] [INFO] [ReplayManager] Player: Player (valid: True)
[16:09:37] [INFO] [ReplayManager] Enemies count: 10
[16:09:37] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[16:09:37] [INFO] [ReplayManager]   Enemy 0: Enemy1
[16:09:37] [INFO] [ReplayManager]   Enemy 1: Enemy2
[16:09:37] [INFO] [ReplayManager]   Enemy 2: Enemy3
[16:09:37] [INFO] [ReplayManager]   Enemy 3: Enemy4
[16:09:37] [INFO] [ReplayManager]   Enemy 4: Enemy5
[16:09:37] [INFO] [ReplayManager]   Enemy 5: Enemy6
[16:09:37] [INFO] [ReplayManager]   Enemy 6: Enemy7
[16:09:37] [INFO] [ReplayManager]   Enemy 7: Enemy8
[16:09:37] [INFO] [ReplayManager]   Enemy 8: Enemy9
[16:09:37] [INFO] [ReplayManager]   Enemy 9: Enemy10
[16:09:37] [INFO] [BuildingLevel] Replay recording started successfully
[16:09:37] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[16:09:37] [INFO] [CinemaEffects] Found player node: Player
[16:09:37] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[16:09:37] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[16:09:37] [ENEMY] [Enemy1] Registered as sound listener
[16:09:37] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 2, behavior: GUARD
[16:09:37] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[16:09:37] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[16:09:37] [ENEMY] [Enemy2] Registered as sound listener
[16:09:37] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 4, behavior: GUARD
[16:09:37] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[16:09:37] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[16:09:37] [ENEMY] [Enemy3] Registered as sound listener
[16:09:37] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 4, behavior: GUARD
[16:09:37] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[16:09:37] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[16:09:37] [ENEMY] [Enemy4] Registered as sound listener
[16:09:37] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 4, behavior: GUARD
[16:09:37] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[16:09:37] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[16:09:37] [ENEMY] [Enemy5] Registered as sound listener
[16:09:37] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 3, behavior: GUARD
[16:09:37] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[16:09:37] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[16:09:37] [ENEMY] [Enemy6] Registered as sound listener
[16:09:37] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 3, behavior: GUARD
[16:09:37] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[16:09:37] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[16:09:37] [ENEMY] [Enemy7] Registered as sound listener
[16:09:37] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 2, behavior: PATROL
[16:09:37] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[16:09:37] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[16:09:37] [ENEMY] [Enemy8] Registered as sound listener
[16:09:37] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 3, behavior: GUARD
[16:09:37] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[16:09:37] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[16:09:37] [ENEMY] [Enemy9] Registered as sound listener
[16:09:37] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 4, behavior: GUARD
[16:09:37] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[16:09:37] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[16:09:37] [ENEMY] [Enemy10] Registered as sound listener
[16:09:37] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 2, behavior: PATROL
[16:09:37] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[16:09:38] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[16:09:38] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:09:38] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:09:38] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=123.7°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:09:38] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:09:38] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:09:38] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:09:38] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:09:38] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=337.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[16:09:38] [INFO] [Player] Detecting weapon pose (frame 3)...
[16:09:38] [INFO] [Player] Detected weapon: Rifle (default pose)
[16:09:38] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[16:09:38] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[16:09:38] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[16:09:38] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[16:09:38] [INFO] [LastChance] Found player: Player
[16:09:38] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[16:09:38] [INFO] [LastChance] Connected to player Damaged signal (C#)
[16:09:38] [INFO] [LastChance] Connected to player Died signal (C#)
[16:09:38] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[16:09:38] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[16:09:39] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[16:09:39] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[16:09:39] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(451,825), corner_timer=0.30
[16:09:39] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(451,825), corner_timer=0.30
[16:09:39] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=164.0°, current=123.7°, player=(453,820), corner_timer=0.00
[16:09:39] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[16:09:39] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=165.9°, current=-65.6°, player=(456,811), corner_timer=0.00
[16:09:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(470.1831, 795.7474), source=PLAYER (AssaultRifle), range=1469, listeners=20
[16:09:39] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[16:09:39] [ENEMY] [Enemy1] Heard gunshot at (470.1831, 795.7474), source_type=0, intensity=0.01, distance=477
[16:09:39] [ENEMY] [Enemy2] Heard gunshot at (470.1831, 795.7474), source_type=0, intensity=0.04, distance=256
[16:09:39] [ENEMY] [Enemy4] Heard gunshot at (470.1831, 795.7474), source_type=0, intensity=0.02, distance=346
[16:09:39] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[16:09:39] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=68.8°, current=168.8°, player=(470,789), corner_timer=0.00
[16:09:39] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=73.7°, current=-67.5°, player=(470,789), corner_timer=0.00
[16:09:39] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=-161.5°, current=-101.3°, player=(470,789), corner_timer=0.00
[16:09:39] [ENEMY] [Enemy3] Hit taken, damage: 1, health: 4/4 -> 3/4
[16:09:39] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[16:09:39] [INFO] [ImpactEffects] spawn_blood_effect called at (689.7003, 752.7737), dir=(1, 0), lethal=false
[16:09:39] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[16:09:39] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[16:09:39] [INFO] [ImpactEffects] Blood effect spawned at (689.7003, 752.7737) (scale=1)
[16:09:39] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=173.3°, current=180.0°, player=(484,776), corner_timer=0.00
[16:09:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(499.309, 775.5469), source=PLAYER (AssaultRifle), range=1469, listeners=10
[16:09:39] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[16:09:39] [ENEMY] [Enemy3] Hit taken, damage: 1, health: 3/4 -> 2/4
[16:09:39] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[16:09:39] [INFO] [ImpactEffects] spawn_blood_effect called at (689.7003, 752.7737), dir=(1, 0), lethal=false
[16:09:39] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[16:09:39] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[16:09:39] [INFO] [ImpactEffects] Blood effect spawned at (689.7003, 752.7737) (scale=1)
[16:09:39] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=57.6°, player=(514,765), corner_timer=-0.01
[16:09:39] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[16:09:39] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=51.7°, player=(514,765), corner_timer=-0.01
[16:09:39] [ENEMY] [Enemy10] PATROL corner check: angle 14.5°
[16:09:39] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.3°, player=(518,765), corner_timer=0.30
[16:09:39] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.5°, current=53.5°, player=(518,765), corner_timer=0.30
[16:09:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(531.7195, 770.6782), source=PLAYER (AssaultRifle), range=1469, listeners=10
[16:09:39] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=2, self=0, below_threshold=4
[16:09:39] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[16:09:39] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=56.8°, current=34.2°, player=(540,764), corner_timer=0.00
[16:09:39] [ENEMY] [Enemy3] Hit taken, damage: 1, health: 2/4 -> 1/4
[16:09:39] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[16:09:39] [INFO] [ImpactEffects] spawn_blood_effect called at (690.4917, 756.9663), dir=(1, 0), lethal=false
[16:09:39] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[16:09:39] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[16:09:39] [INFO] [ImpactEffects] Blood effect spawned at (690.4917, 756.9663) (scale=1)
[16:09:39] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[16:09:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(691.2831, 761.1589), source=ENEMY (Enemy3), range=1469, listeners=10
[16:09:39] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[16:09:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(566.6747, 771.2695), source=PLAYER (AssaultRifle), range=1469, listeners=10
[16:09:39] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=2, self=0, below_threshold=4
[16:09:39] [ENEMY] [Enemy3] Hit taken, damage: 1, health: 1/4 -> 0/4
[16:09:39] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[16:09:39] [INFO] [ImpactEffects] spawn_blood_effect called at (695.9909, 769.858), dir=(1, 0), lethal=true
[16:09:39] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[16:09:39] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[16:09:39] [INFO] [ImpactEffects] Blood effect spawned at (695.9909, 769.858) (scale=1.5)
[16:09:39] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[16:09:39] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[16:09:39] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[16:09:39] [INFO] [PowerFantasy] Starting power fantasy effect:
[16:09:39] [INFO] [PowerFantasy]   - Time scale: 0.10
[16:09:39] [INFO] [PowerFantasy]   - Duration: 300ms
[16:09:39] [ENEMY] [Enemy3] [AllyDeath] Notified 2 enemies
[16:09:39] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[16:09:39] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[16:09:39] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[16:09:40] [INFO] [PowerFantasy] Effect duration expired after 300.00 ms
[16:09:40] [INFO] [PowerFantasy] Ending power fantasy effect
[16:09:40] [INFO] [BloodDecal] Blood puddle created at (788.574, 798.6083) (added to group)
[16:09:40] [INFO] [BloodDecal] Blood puddle created at (753.3411, 779.4891) (added to group)
[16:09:40] [INFO] [BloodDecal] Blood puddle created at (757.1507, 799.7813) (added to group)
[16:09:40] [INFO] [BloodDecal] Blood puddle created at (778.8689, 812.5076) (added to group)
[16:09:40] [INFO] [BloodDecal] Blood puddle created at (783.1097, 756.2836) (added to group)
[16:09:40] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[16:09:40] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[16:09:40] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.3°, player=(609,784), corner_timer=-0.02
[16:09:40] [ENEMY] [Enemy10] PATROL corner check: angle 7.1°
[16:09:40] [INFO] [BloodDecal] Blood puddle created at (758.8082, 774.768) (added to group)
[16:09:40] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.1°, current=16.9°, player=(612,787), corner_timer=0.30
[16:09:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(623.90466, 770.6852), shooter_id=122607897482, bullet_pos=(64.65614, 904.349)
[16:09:40] [INFO] [Bullet] Using shooter_position, distance=574,99994
[16:09:40] [INFO] [Bullet] Distance to wall: 574,99994 (39,152805% of viewport)
[16:09:40] [INFO] [Bullet] Within ricochet range - trying ricochet first
[16:09:40] [INFO] [Bullet] Starting wall penetration at (64.65614, 904.349)
[16:09:40] [INFO] [Bullet] Raycast backward hit penetrating body at distance 13,090755
[16:09:40] [INFO] [BloodDecal] Blood puddle created at (775.9012, 769.0018) (added to group)
[16:09:40] [INFO] [BloodDecal] Blood puddle created at (782.5095, 751.2325) (added to group)
[16:09:40] [INFO] [Bullet] Body exited signal received for penetrating body
[16:09:40] [INFO] [Bullet] Exiting penetration at (19.267857, 915.1971) after traveling 41,666668 pixels through wall
[16:09:40] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[16:09:40] [INFO] [BloodDecal] Blood puddle created at (814.6856, 817.2102) (added to group)
[16:09:40] [INFO] [BloodDecal] Blood puddle created at (820.4106, 751.5398) (added to group)
[16:09:40] [INFO] [BloodDecal] Blood puddle created at (791.7004, 761.5717) (added to group)
[16:09:40] [INFO] [BloodDecal] Blood puddle created at (744.9886, 771.4277) (added to group)
[16:09:40] [INFO] [BloodDecal] Blood puddle created at (781.0987, 822.2402) (added to group)
[16:09:40] [INFO] [BloodDecal] Blood puddle created at (806.1253, 779.9238) (added to group)
[16:09:40] [INFO] [BloodDecal] Blood puddle created at (849.1201, 877.2819) (added to group)
[16:09:40] [INFO] [BloodDecal] Blood puddle created at (777.8194, 783.9544) (added to group)
[16:09:40] [INFO] [BloodDecal] Blood puddle created at (796.0389, 817.4536) (added to group)
[16:09:40] [INFO] [BloodDecal] Blood puddle created at (752.6841, 782.7281) (added to group)
[16:09:40] [INFO] [BloodDecal] Blood puddle created at (761.6789, 804.122) (added to group)
[16:09:40] [INFO] [BloodDecal] Blood puddle created at (777.9979, 750.8594) (added to group)
[16:09:40] [INFO] [BloodDecal] Blood puddle created at (868.7516, 760.9847) (added to group)
[16:09:40] [INFO] [BloodDecal] Blood puddle created at (822.1099, 856.2813) (added to group)
[16:09:40] [INFO] [BloodDecal] Blood puddle created at (900.0115, 849.4398) (added to group)
[16:09:40] [INFO] [BloodDecal] Blood puddle created at (871.1573, 842.34) (added to group)
[16:09:40] [INFO] [BloodDecal] Blood puddle created at (887.8715, 876.2601) (added to group)
[16:09:40] [INFO] [BloodDecal] Blood puddle created at (844.6384, 780.6215) (added to group)
[16:09:40] [INFO] [BloodDecal] Blood puddle created at (807.8723, 765.988) (added to group)
[16:09:40] [INFO] [BloodDecal] Blood puddle created at (752.4428, 770.9653) (added to group)
[16:09:40] [INFO] [BloodDecal] Blood puddle created at (792.675, 788.9882) (added to group)
[16:09:40] [INFO] [BloodDecal] Blood puddle created at (760.7151, 806.6816) (added to group)
[16:09:40] [INFO] [BloodDecal] Blood puddle created at (780.2263, 818.2102) (added to group)
[16:09:40] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-160.9°, current=-158.9°, player=(625,863), corner_timer=0.00
[16:09:40] [INFO] [BloodDecal] Blood puddle created at (834.2353, 828.8441) (added to group)
[16:09:40] [INFO] [BloodDecal] Blood puddle created at (812.4008, 774.4864) (added to group)
[16:09:40] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[16:09:40] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=7.0°, player=(625,880), corner_timer=-0.02
[16:09:40] [ENEMY] [Enemy10] PATROL corner check: angle 3.6°
[16:09:40] [ENEMY] [Enemy3] Ragdoll activated
[16:09:40] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[16:09:40] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=56.1°, current=56.1°, player=(625,885), corner_timer=0.00
[16:09:40] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[16:09:40] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.6°, current=9.8°, player=(625,885), corner_timer=0.30
[16:09:40] [INFO] [BloodDecal] Blood puddle created at (854.7585, 799.6314) (added to group)
[16:09:40] [INFO] [BloodDecal] Blood puddle created at (803.387, 826.1625) (added to group)
[16:09:40] [INFO] [ReplayManager] Recording frame 180 (2,7s): player_valid=True, enemies=10
[16:09:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(614.9891, 930.9434), source=PLAYER (AssaultRifle), range=1469, listeners=9
[16:09:40] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[16:09:40] [INFO] [BloodDecal] Blood puddle created at (859.5167, 842.5164) (added to group)
[16:09:40] [INFO] [BloodDecal] Blood puddle created at (901.8722, 890.6296) (added to group)
[16:09:40] [INFO] [BloodDecal] Blood puddle created at (886.4301, 769.5082) (added to group)
[16:09:40] [ENEMY] [Enemy4] Hit taken, damage: 1, health: 4/4 -> 3/4
[16:09:40] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[16:09:40] [INFO] [ImpactEffects] spawn_blood_effect called at (767.2221, 913.0175), dir=(1, 0), lethal=false
[16:09:40] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[16:09:40] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[16:09:40] [INFO] [ImpactEffects] Blood effect spawned at (767.2221, 913.0175) (scale=1)
[16:09:40] [INFO] [BloodDecal] Blood puddle created at (843.442, 858.2845) (added to group)
[16:09:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(597.3573, 950.5734), source=PLAYER (AssaultRifle), range=1469, listeners=9
[16:09:40] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[16:09:41] [ENEMY] [Enemy4] Hit taken, damage: 1, health: 3/4 -> 2/4
[16:09:41] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[16:09:41] [INFO] [ImpactEffects] spawn_blood_effect called at (767.2221, 913.0175), dir=(1, 0), lethal=false
[16:09:41] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[16:09:41] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[16:09:41] [INFO] [ImpactEffects] Blood effect spawned at (767.2221, 913.0175) (scale=1)
[16:09:41] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(582,952), corner_timer=-0.02
[16:09:41] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[16:09:41] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[16:09:41] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.8°, current=6.3°, player=(580,953), corner_timer=0.30
[16:09:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(577.7766, 959.8237), source=PLAYER (AssaultRifle), range=1469, listeners=9
[16:09:41] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[16:09:41] [ENEMY] [Enemy4] Hit taken, damage: 1, health: 2/4 -> 1/4
[16:09:41] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[16:09:41] [INFO] [ImpactEffects] spawn_blood_effect called at (774.8179, 910.5197), dir=(1, 0), lethal=false
[16:09:41] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[16:09:41] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[16:09:41] [INFO] [ImpactEffects] Blood effect spawned at (774.8179, 910.5197) (scale=1)
[16:09:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(774.8179, 910.5197), source=ENEMY (Enemy4), range=1469, listeners=9
[16:09:41] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=7
[16:09:41] [INFO] [LastChance] Threat detected: @Area2D@616
[16:09:41] [INFO] [LastChance] Not in hard mode - effect disabled
[16:09:41] [INFO] [LastChance] Cannot trigger effect - conditions not met
[16:09:41] [INFO] [BloodDecal] Blood puddle created at (822.2612, 931.8387) (added to group)
[16:09:41] [INFO] [BloodDecal] Blood puddle created at (823.3034, 931.4899) (added to group)
[16:09:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(564.3927, 953.9619), source=PLAYER (AssaultRifle), range=1469, listeners=9
[16:09:41] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=5
[16:09:41] [INFO] [BloodDecal] Blood puddle created at (810.0702, 942.347) (added to group)
[16:09:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(781.1805, 915.4465), source=ENEMY (Enemy4), range=1469, listeners=9
[16:09:41] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=8
[16:09:41] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(709.0442, 932.17163), shooter_id=122960219039, bullet_pos=(555.4773, 996.9407)
[16:09:41] [INFO] [Bullet] Using shooter_position, distance=166,6668
[16:09:41] [INFO] [Bullet] Distance to wall: 166,6668 (11,348649% of viewport)
[16:09:41] [INFO] [Bullet] Within ricochet range - trying ricochet first
[16:09:41] [INFO] [LastChance] Threat detected: @Area2D@624
[16:09:41] [INFO] [LastChance] Not in hard mode - effect disabled
[16:09:41] [INFO] [LastChance] Cannot trigger effect - conditions not met
[16:09:41] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(709.0442, 932.17163), shooter_id=122960219039, bullet_pos=(516.43256, 986.4996)
[16:09:41] [INFO] [Bullet] Using shooter_position, distance=200,12688
[16:09:41] [INFO] [Bullet] Distance to wall: 200,12688 (13,6270075% of viewport)
[16:09:41] [INFO] [Bullet] Within ricochet range - trying ricochet first
[16:09:41] [INFO] [Bullet] Starting wall penetration at (516.43256, 986.4996)
[16:09:41] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(709.0442, 932.17163), shooter_id=122960219039, bullet_pos=(511.6023, 985.2079)
[16:09:41] [INFO] [Bullet] Using shooter_position, distance=204,44106
[16:09:41] [INFO] [Bullet] Distance to wall: 204,44106 (13,920768% of viewport)
[16:09:41] [INFO] [Bullet] Within ricochet range - trying ricochet first
[16:09:41] [INFO] [Bullet] Already penetrating, cannot start new penetration
[16:09:41] [INFO] [Bullet] Raycast backward hit penetrating body at distance 23,406694
[16:09:41] [INFO] [Bullet] Body exited signal received for penetrating body
[16:09:41] [INFO] [Bullet] Exiting penetration at (477.38785, 976.0585) after traveling 35,416668 pixels through wall
[16:09:41] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[16:09:41] [INFO] [BloodDecal] Blood puddle created at (839.1998, 967.212) (added to group)
[16:09:41] [ENEMY] [Enemy4] Hit taken, damage: 1, health: 1/4 -> 0/4
[16:09:41] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[16:09:41] [INFO] [ImpactEffects] spawn_blood_effect called at (784.5923, 905.3508), dir=(1, 0), lethal=true
[16:09:41] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[16:09:41] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[16:09:41] [INFO] [ImpactEffects] Blood effect spawned at (784.5923, 905.3508) (scale=1.5)
[16:09:41] [ENEMY] [Enemy4] Enemy died (ricochet: false, penetration: false)
[16:09:41] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[16:09:41] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[16:09:41] [INFO] [PowerFantasy] Starting power fantasy effect:
[16:09:41] [INFO] [PowerFantasy]   - Time scale: 0.10
[16:09:41] [INFO] [PowerFantasy]   - Duration: 300ms
[16:09:41] [INFO] [SoundPropagation] Unregistered listener: Enemy4 (remaining: 8)
[16:09:41] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[16:09:41] [ENEMY] [Enemy4] Death animation started with hit direction: (1, 0)
[16:09:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(558.5383, 940.189), source=PLAYER (AssaultRifle), range=1469, listeners=8
[16:09:41] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=5
[16:09:41] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(712.6657, 933.0942), shooter_id=122960219039, bullet_pos=(527.1702, 981.3393)
[16:09:41] [INFO] [Bullet] Using shooter_position, distance=191,66681
[16:09:41] [INFO] [Bullet] Distance to wall: 191,66681 (13,050946% of viewport)
[16:09:41] [INFO] [Bullet] Within ricochet range - trying ricochet first
[16:09:41] [INFO] [Bullet] Starting wall penetration at (527.1702, 981.3393)
[16:09:41] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[16:09:41] [INFO] [Bullet] Exiting penetration at (518.2987, 983.64667) after traveling 4,1666665 pixels through wall
[16:09:41] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[16:09:41] [INFO] [PowerFantasy] Effect duration expired after 315.00 ms
[16:09:41] [INFO] [PowerFantasy] Ending power fantasy effect
[16:09:41] [INFO] [BloodDecal] Blood puddle created at (904.3219, 986.2181) (added to group)
[16:09:41] [INFO] [BloodDecal] Blood puddle created at (845.4603, 902.3876) (added to group)
[16:09:41] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.8°, player=(556,909), corner_timer=-0.02
[16:09:41] [ENEMY] [Enemy10] PATROL corner check: angle 1.0°
[16:09:41] [INFO] [BloodDecal] Blood puddle created at (859.4837, 976.7848) (added to group)
[16:09:41] [INFO] [BloodDecal] Blood puddle created at (848.0113, 906.3578) (added to group)
[16:09:41] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.0°, current=4.6°, player=(556,905), corner_timer=0.30
[16:09:41] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(558.53827, 940.18896), shooter_id=125963340882, bullet_pos=(937.57214, 899.9208)
[16:09:41] [INFO] [Bullet] Using shooter_position, distance=381,1669
[16:09:41] [INFO] [Bullet] Distance to wall: 381,1669 (25,954357% of viewport)
[16:09:41] [INFO] [Bullet] Within ricochet range - trying ricochet first
[16:09:41] [INFO] [Bullet] Starting wall penetration at (937.57214, 899.9208)
[16:09:41] [INFO] [Bullet] Raycast backward hit penetrating body at distance 48,247658
[16:09:41] [INFO] [BloodDecal] Blood puddle created at (844.3593, 961.0298) (added to group)
[16:09:41] [INFO] [Bullet] Body exited signal received for penetrating body
[16:09:41] [INFO] [Bullet] Exiting penetration at (983.97766, 894.9907) after traveling 41,66667 pixels through wall
[16:09:41] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[16:09:41] [INFO] [BloodDecal] Blood puddle created at (861.3991, 924.1696) (added to group)
[16:09:41] [INFO] [BloodDecal] Blood puddle created at (848.7914, 973.8637) (added to group)
[16:09:41] [INFO] [BloodDecal] Blood puddle created at (859.6348, 956.0201) (added to group)
[16:09:41] [INFO] [BloodDecal] Blood puddle created at (844.4937, 988.1265) (added to group)
[16:09:41] [INFO] [BloodDecal] Blood puddle created at (900.7704, 910.1334) (added to group)
[16:09:41] [INFO] [BloodDecal] Blood puddle created at (823.4897, 942.323) (added to group)
[16:09:41] [INFO] [ReplayManager] Recording frame 240 (3,4s): player_valid=True, enemies=10
[16:09:41] [INFO] [BloodDecal] Blood puddle created at (887.349, 926.192) (added to group)
[16:09:41] [INFO] [BloodDecal] Blood puddle created at (852.8156, 929.8022) (added to group)
[16:09:41] [INFO] [BloodDecal] Blood puddle created at (906.5792, 889.195) (added to group)
[16:09:41] [INFO] [BloodDecal] Blood puddle created at (868.0151, 925.2682) (added to group)
[16:09:41] [INFO] [BloodDecal] Blood puddle created at (859.6836, 967.8433) (added to group)
[16:09:41] [INFO] [BloodDecal] Blood puddle created at (848.3454, 975.3861) (added to group)
[16:09:41] [INFO] [BloodDecal] Blood puddle created at (872.7296, 961.374) (added to group)
[16:09:41] [INFO] [BloodDecal] Blood puddle created at (893.639, 921.0641) (added to group)
[16:09:41] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=55.8°, current=56.6°, player=(600,844), corner_timer=0.00
[16:09:42] [INFO] [BloodDecal] Blood puddle created at (903.9346, 981.1755) (added to group)
[16:09:42] [INFO] [BloodDecal] Blood puddle created at (896.5084, 964.1807) (added to group)
[16:09:42] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[16:09:42] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:09:42] [ENEMY] [Enemy3] Death animation completed
[16:09:42] [ENEMY] [Enemy4] Ragdoll activated
[16:09:42] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[16:09:42] [INFO] [BloodDecal] Blood puddle created at (887.3409, 985.9297) (added to group)
[16:09:42] [INFO] [BloodDecal] Blood puddle created at (897.7798, 973.3659) (added to group)
[16:09:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(647.155, 803.9301), source=PLAYER (AssaultRifle), range=1469, listeners=8
[16:09:42] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=6
[16:09:42] [INFO] [BloodDecal] Blood puddle created at (907.4728, 978.3143) (added to group)
[16:09:42] [INFO] [BloodDecal] Blood puddle created at (908.6085, 963.973) (added to group)
[16:09:42] [ENEMY] [Enemy1] PURSUING corner check: angle -132.5°
[16:09:42] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=179.9°, current=-130.2°, player=(657,785), corner_timer=-0.02
[16:09:42] [ENEMY] [Enemy7] PATROL corner check: angle 89.9°
[16:09:42] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.9°, current=-133.1°, player=(660,781), corner_timer=0.30
[16:09:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(665.7192, 779.5187), source=PLAYER (AssaultRifle), range=1469, listeners=8
[16:09:42] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=6
[16:09:42] [ENEMY] [Enemy2] Hit taken, damage: 1, health: 4/4 -> 3/4
[16:09:42] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[16:09:42] [INFO] [ImpactEffects] spawn_blood_effect called at (469.7354, 615.4339), dir=(1, 0), lethal=false
[16:09:42] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[16:09:42] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[16:09:42] [INFO] [ImpactEffects] Blood effect spawned at (469.7354, 615.4339) (scale=1)
[16:09:42] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=34.2°, current=180.0°, player=(672,753), corner_timer=0.00
[16:09:42] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:09:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(672.3084, 751.0906), source=PLAYER (AssaultRifle), range=1469, listeners=8
[16:09:42] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=6
[16:09:42] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[16:09:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(647.155, 803.93005), shooter_id=125963340882, bullet_pos=(39.14556, 347.38702)
[16:09:42] [INFO] [Bullet] Using shooter_position, distance=760,3335
[16:09:42] [INFO] [Bullet] Distance to wall: 760,3335 (51,772507% of viewport)
[16:09:42] [INFO] [Bullet] Distance-based penetration chance: 86,26541%
[16:09:42] [INFO] [Bullet] Starting wall penetration at (39.14556, 347.38702)
[16:09:42] [ENEMY] [Enemy2] Hit taken, damage: 1, health: 3/4 -> 2/4
[16:09:42] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[16:09:42] [INFO] [ImpactEffects] spawn_blood_effect called at (474.0991, 618.5003), dir=(1, 0), lethal=false
[16:09:42] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[16:09:42] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[16:09:42] [INFO] [ImpactEffects] Blood effect spawned at (474.0991, 618.5003) (scale=1)
[16:09:42] [INFO] [Bullet] Raycast backward hit penetrating body at distance 37,730938
[16:09:42] [INFO] [Bullet] Body exited signal received for penetrating body
[16:09:42] [INFO] [Bullet] Exiting penetration at (1.8280182, 319.36597) after traveling 41,666668 pixels through wall
[16:09:42] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[16:09:42] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P4:velocity, state=RETREATING, target=-116.2°, current=157.3°, player=(667,727), corner_timer=0.00
[16:09:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(661.4892, 722.9628), source=PLAYER (AssaultRifle), range=1469, listeners=8
[16:09:42] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=5
[16:09:42] [ENEMY] [Enemy1] PURSUING corner check: angle 81.4°
[16:09:42] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=178.9°, current=172.4°, player=(655,709), corner_timer=-0.02
[16:09:42] [ENEMY] [Enemy7] PATROL corner check: angle 89.8°
[16:09:42] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.8°, current=175.3°, player=(652,706), corner_timer=0.30
[16:09:42] [ENEMY] [Enemy2] Hit taken, damage: 1, health: 2/4 -> 1/4
[16:09:42] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[16:09:42] [INFO] [ImpactEffects] spawn_blood_effect called at (465.1016, 599.1598), dir=(1, 0), lethal=false
[16:09:42] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[16:09:42] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[16:09:42] [INFO] [ImpactEffects] Wall found for blood splatter at (500, 599.1598) (dist=34 px)
[16:09:42] [INFO] [BloodDecal] Blood puddle created at (499, 599.1598) (added to group)
[16:09:42] [INFO] [ImpactEffects] Blood effect spawned at (465.1016, 599.1598) (scale=1)
[16:09:42] [INFO] [BloodDecal] Blood puddle created at (526.8336, 607.8862) (added to group)
[16:09:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(641.6932, 703.9342), source=PLAYER (AssaultRifle), range=1469, listeners=8
[16:09:42] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=5
[16:09:42] [INFO] [BloodDecal] Blood puddle created at (525.0806, 609.929) (added to group)
[16:09:42] [INFO] [BloodDecal] Blood puddle created at (570.1947, 631.295) (added to group)
[16:09:42] [ENEMY] [Enemy2] Hit taken, damage: 1, health: 1/4 -> 0/4
[16:09:42] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[16:09:42] [INFO] [ImpactEffects] spawn_blood_effect called at (462.2727, 578.4563), dir=(1, 0), lethal=true
[16:09:42] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[16:09:42] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[16:09:42] [INFO] [ImpactEffects] Wall found for blood splatter at (500, 578.4563) (dist=37 px)
[16:09:42] [INFO] [BloodDecal] Blood puddle created at (499, 578.4563) (added to group)
[16:09:42] [INFO] [ImpactEffects] Blood effect spawned at (462.2727, 578.4563) (scale=1.5)
[16:09:42] [ENEMY] [Enemy2] Enemy died (ricochet: false, penetration: false)
[16:09:42] [INFO] [ScoreManager] Kill registered. Combo: 3 (points: 3000)
[16:09:42] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[16:09:42] [INFO] [PowerFantasy] Starting power fantasy effect:
[16:09:42] [INFO] [PowerFantasy]   - Time scale: 0.10
[16:09:42] [INFO] [PowerFantasy]   - Duration: 300ms
[16:09:42] [ENEMY] [Enemy1] [AllyDeath] Witnessed at (462.2727, 578.4563), entering SEARCHING
[16:09:42] [ENEMY] [Enemy1] SEARCHING started: center=(462.2727, 578.4563), radius=100, waypoints=5
[16:09:42] [ENEMY] [Enemy2] [AllyDeath] Notified 1 enemies
[16:09:42] [INFO] [SoundPropagation] Unregistered listener: Enemy2 (remaining: 7)
[16:09:42] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[16:09:42] [ENEMY] [Enemy2] Death animation started with hit direction: (1, 0)
[16:09:42] [INFO] [BloodDecal] Blood puddle created at (548.5943, 662.442) (added to group)
[16:09:42] [INFO] [BloodDecal] Blood puddle created at (528.0938, 638.3092) (added to group)
[16:09:42] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:09:42] [INFO] [BloodDecal] Blood puddle created at (542.3774, 622.8378) (added to group)
[16:09:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(617.575, 694.8342), source=PLAYER (AssaultRifle), range=1469, listeners=7
[16:09:42] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=4
[16:09:42] [INFO] [BloodDecal] Blood puddle created at (531.7641, 643.6969) (added to group)
[16:09:42] [INFO] [ReplayManager] Recording frame 300 (4,2s): player_valid=True, enemies=10
[16:09:42] [INFO] [BloodDecal] Blood puddle created at (553.8037, 661.7773) (added to group)
[16:09:43] [INFO] [PowerFantasy] Effect duration expired after 315.00 ms
[16:09:43] [INFO] [PowerFantasy] Ending power fantasy effect
[16:09:43] [INFO] [BloodDecal] Blood puddle created at (575.7305, 691.8913) (added to group)
[16:09:43] [INFO] [BloodDecal] Blood puddle created at (551.2325, 645.1379) (added to group)
[16:09:43] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[16:09:43] [INFO] [BloodDecal] Blood puddle created at (568.0826, 701.9682) (added to group)
[16:09:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(617.57495, 694.83417), shooter_id=125963340882, bullet_pos=(276.0816, 474.93896)
[16:09:43] [INFO] [Bullet] Using shooter_position, distance=406,16696
[16:09:43] [INFO] [Bullet] Distance to wall: 406,16696 (27,656656% of viewport)
[16:09:43] [INFO] [Bullet] Within ricochet range - trying ricochet first
[16:09:43] [INFO] [BloodDecal] Blood puddle created at (614.8082, 650.7845) (added to group)
[16:09:43] [INFO] [BloodDecal] Blood puddle created at (567.4277, 644.8362) (added to group)
[16:09:43] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=123.3°, player=(572,673), corner_timer=-0.00
[16:09:43] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:09:43] [INFO] [BloodDecal] Blood puddle created at (526.6658, 614.7038) (added to group)
[16:09:43] [ENEMY] [Enemy1] SEARCHING corner check: angle 159.2°
[16:09:43] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=126.2°, player=(567,672), corner_timer=0.30
[16:09:43] [INFO] [BloodDecal] Blood puddle created at (575.0684, 657.6662) (added to group)
[16:09:43] [INFO] [BloodDecal] Blood puddle created at (541.0812, 612.251) (added to group)
[16:09:43] [INFO] [BloodDecal] Blood puddle created at (620.0945, 731.0482) (added to group)
[16:09:43] [ENEMY] [Enemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=SEARCHING, target=56.9°, current=57.6°, player=(557,672), corner_timer=0.28
[16:09:43] [ENEMY] [Enemy1] SEARCHING: Player spotted! Transitioning to COMBAT
[16:09:43] [ENEMY] [Enemy1] State: SEARCHING -> COMBAT
[16:09:43] [INFO] [BloodDecal] Blood puddle created at (606.3897, 675.1737) (added to group)
[16:09:43] [INFO] [BloodDecal] Blood puddle created at (555.5834, 640.2126) (added to group)
[16:09:43] [INFO] [BloodDecal] Blood puddle created at (672.7032, 639.27) (added to group)
[16:09:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(617.57495, 694.83417), shooter_id=125963340882, bullet_pos=(55.092686, 660.1417)
[16:09:43] [INFO] [Bullet] Using shooter_position, distance=563,5511
[16:09:43] [INFO] [Bullet] Distance to wall: 563,5511 (38,37323% of viewport)
[16:09:43] [INFO] [Bullet] Within ricochet range - trying ricochet first
[16:09:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(617.57495, 694.83417), shooter_id=125963340882, bullet_pos=(100.62934, 706.8166)
[16:09:43] [INFO] [Bullet] Using shooter_position, distance=517,0845
[16:09:43] [INFO] [Bullet] Distance to wall: 517,0845 (35,209232% of viewport)
[16:09:43] [INFO] [Bullet] Within ricochet range - trying ricochet first
[16:09:43] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:09:43] [ENEMY] [Enemy4] Death animation completed
[16:09:43] [INFO] [BloodDecal] Blood puddle created at (617.1373, 625.7208) (added to group)
[16:09:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(617.57495, 694.83417), shooter_id=125963340882, bullet_pos=(57.597412, 742.9292)
[16:09:43] [INFO] [Bullet] Using shooter_position, distance=562,0391
[16:09:43] [INFO] [Bullet] Distance to wall: 562,0391 (38,27028% of viewport)
[16:09:43] [INFO] [Bullet] Within ricochet range - trying ricochet first
[16:09:43] [INFO] [BloodDecal] Blood puddle created at (578.442, 680.4103) (added to group)
[16:09:43] [INFO] [BloodDecal] Blood puddle created at (537.5589, 654.922) (added to group)
[16:09:43] [INFO] [BloodDecal] Blood puddle created at (521.5322, 634.2642) (added to group)
[16:09:43] [INFO] [BloodDecal] Blood puddle created at (581.5934, 737.53) (added to group)
[16:09:43] [INFO] [BloodDecal] Blood puddle created at (597.5844, 683.8082) (added to group)
[16:09:43] [INFO] [BloodDecal] Blood puddle created at (539.3734, 643.6766) (added to group)
[16:09:43] [INFO] [BloodDecal] Blood puddle created at (585.0056, 672.6805) (added to group)
[16:09:43] [INFO] [BloodDecal] Blood puddle created at (637.3918, 715.3749) (added to group)
[16:09:43] [ENEMY] [Enemy2] Ragdoll activated
[16:09:43] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[16:09:43] [INFO] [BloodDecal] Blood puddle created at (617.6529, 679.7686) (added to group)
[16:09:43] [INFO] [BloodDecal] Blood puddle created at (633.2026, 726.8427) (added to group)
[16:09:43] [INFO] [BloodDecal] Blood puddle created at (585.0118, 728.9001) (added to group)
[16:09:43] [INFO] [BloodDecal] Blood puddle created at (554.7368, 661.0866) (added to group)
[16:09:43] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(473,648), corner_timer=-0.02
[16:09:43] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:09:43] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(469,644), corner_timer=0.30
[16:09:43] [INFO] [BloodDecal] Blood puddle created at (611.8055, 642.5554) (added to group)
[16:09:43] [INFO] [BloodDecal] Blood puddle created at (590.326, 704.9081) (added to group)
[16:09:43] [INFO] [BloodDecal] Blood puddle created at (582.3228, 687.4651) (added to group)
[16:09:43] [INFO] [BloodDecal] Blood puddle created at (577.6219, 667.1608) (added to group)
[16:09:43] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:09:43] [INFO] [BloodDecal] Blood puddle created at (614.744, 764.1051) (added to group)
[16:09:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(422.9363, 603.462), source=PLAYER (AssaultRifle), range=1469, listeners=7
[16:09:43] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=3
[16:09:43] [ENEMY] [Enemy1] Hit taken, damage: 1, health: 2/2 -> 1/2
[16:09:43] [ENEMY] [Enemy1] ImpactEffectsManager found, calling spawn_blood_effect
[16:09:43] [INFO] [ImpactEffects] spawn_blood_effect called at (421.7758, 466.1034), dir=(1, 0), lethal=false
[16:09:43] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[16:09:43] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[16:09:43] [INFO] [ImpactEffects] Wall found for blood splatter at (500, 466.1034) (dist=78 px)
[16:09:43] [INFO] [BloodDecal] Blood puddle created at (499, 466.1034) (added to group)
[16:09:43] [INFO] [ImpactEffects] Blood effect spawned at (421.7758, 466.1034) (scale=1)
[16:09:43] [ENEMY] [Enemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=92.9°, current=180.0°, player=(415,589), corner_timer=0.28
[16:09:43] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[16:09:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(402.1799, 573.5594), source=PLAYER (AssaultRifle), range=1469, listeners=7
[16:09:43] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=3
[16:09:43] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(402,567), corner_timer=-0.02
[16:09:43] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:09:43] [ENEMY] [Enemy1] Hit taken, damage: 1, health: 1/2 -> 0/2
[16:09:43] [ENEMY] [Enemy1] ImpactEffectsManager found, calling spawn_blood_effect
[16:09:43] [INFO] [ImpactEffects] spawn_blood_effect called at (421.7758, 466.1034), dir=(1, 0), lethal=true
[16:09:43] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[16:09:43] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[16:09:43] [INFO] [ImpactEffects] Wall found for blood splatter at (500, 466.1034) (dist=78 px)
[16:09:43] [INFO] [BloodDecal] Blood puddle created at (499, 466.1034) (added to group)
[16:09:43] [INFO] [ImpactEffects] Blood effect spawned at (421.7758, 466.1034) (scale=1.5)
[16:09:43] [ENEMY] [Enemy1] Enemy died (ricochet: false, penetration: false)
[16:09:43] [INFO] [ScoreManager] Kill registered. Combo: 4 (points: 5000)
[16:09:43] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[16:09:43] [INFO] [PowerFantasy] Starting power fantasy effect:
[16:09:43] [INFO] [PowerFantasy]   - Time scale: 0.10
[16:09:43] [INFO] [PowerFantasy]   - Duration: 300ms
[16:09:43] [INFO] [SoundPropagation] Unregistered listener: Enemy1 (remaining: 6)
[16:09:43] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[16:09:43] [ENEMY] [Enemy1] Death animation started with hit direction: (1, 0)
[16:09:43] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(400,562), corner_timer=0.30
[16:09:43] [INFO] [ReplayManager] Recording frame 360 (5,1s): player_valid=True, enemies=10
[16:09:44] [INFO] [PowerFantasy] Effect duration expired after 301.00 ms
[16:09:44] [INFO] [PowerFantasy] Ending power fantasy effect
[16:09:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(396.1638, 538.6514), source=PLAYER (AssaultRifle), range=1469, listeners=6
[16:09:44] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=3
[16:09:44] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:09:44] [INFO] [BloodDecal] Blood puddle created at (474.841, 484.8382) (added to group)
[16:09:44] [INFO] [BloodDecal] Blood puddle created at (479.2735, 474.303) (added to group)
[16:09:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(396.16376, 538.6514), shooter_id=125963340882, bullet_pos=(502.0831, 39.430782)
[16:09:44] [INFO] [Bullet] Using shooter_position, distance=510,33337
[16:09:44] [INFO] [Bullet] Distance to wall: 510,33337 (34,74954% of viewport)
[16:09:44] [INFO] [Bullet] Within ricochet range - trying ricochet first
[16:09:44] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.6°, current=89.4°, player=(396,461), corner_timer=-0.01
[16:09:44] [ENEMY] [Enemy7] PATROL corner check: angle 89.2°
[16:09:44] [INFO] [BloodDecal] Blood puddle created at (474.1737, 474.5466) (added to group)
[16:09:44] [INFO] [BloodDecal] Blood puddle created at (485.8391, 475.7739) (added to group)
[16:09:44] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.2°, current=92.3°, player=(396,455), corner_timer=0.30
[16:09:44] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[16:09:44] [ENEMY] [Enemy1] Player reloading: false -> true
[16:09:44] [ENEMY] [Enemy2] Player reloading: false -> true
[16:09:44] [ENEMY] [Enemy5] Player reloading: false -> true
[16:09:44] [ENEMY] [Enemy6] Player reloading: false -> true
[16:09:44] [ENEMY] [Enemy7] Player reloading: false -> true
[16:09:44] [ENEMY] [Enemy8] Player reloading: false -> true
[16:09:44] [ENEMY] [Enemy9] Player reloading: false -> true
[16:09:44] [ENEMY] [Enemy10] Player reloading: false -> true
[16:09:44] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(396.1638, 450.1514), source=PLAYER (Player), range=900, listeners=6
[16:09:44] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=0, below_threshold=0
[16:09:44] [ENEMY] [Enemy5] Player vulnerable (reloading) but cannot attack: close=false (dist=1308), can_see=false
[16:09:44] [ENEMY] [Enemy6] Player vulnerable (reloading) but cannot attack: close=false (dist=1554), can_see=false
[16:09:44] [ENEMY] [Enemy7] Player vulnerable (reloading) but cannot attack: close=false (dist=1295), can_see=false
[16:09:44] [ENEMY] [Enemy8] Player vulnerable (reloading) but cannot attack: close=false (dist=1806), can_see=false
[16:09:44] [ENEMY] [Enemy9] Player vulnerable (reloading) but cannot attack: close=false (dist=2028), can_see=false
[16:09:44] [ENEMY] [Enemy10] Player vulnerable (reloading) but cannot attack: close=false (dist=1382), can_see=false
[16:09:44] [INFO] [BloodDecal] Blood puddle created at (471.9229, 474.4532) (added to group)
[16:09:44] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:09:44] [ENEMY] [Enemy1] Ragdoll activated
[16:09:44] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[16:09:44] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[16:09:44] [INFO] [BloodDecal] Blood puddle created at (497.9331, 509.832) (added to group)
[16:09:44] [INFO] [BloodyFeet:Player] Blood ran out - no more footprints
[16:09:44] [ENEMY] [Enemy2] Death animation completed
[16:09:44] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.8°, current=89.2°, player=(396,351), corner_timer=-0.02
[16:09:44] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[16:09:44] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=92.1°, player=(396,345), corner_timer=0.30
[16:09:44] [INFO] [Player.Reload.Anim] Phase changed to: PullBolt (duration: 0,35s)
[16:09:44] [ENEMY] [Enemy1] Player reloading: true -> false
[16:09:44] [ENEMY] [Enemy2] Player reloading: true -> false
[16:09:44] [ENEMY] [Enemy5] Player reloading: true -> false
[16:09:44] [ENEMY] [Enemy6] Player reloading: true -> false
[16:09:44] [ENEMY] [Enemy7] Player reloading: true -> false
[16:09:44] [ENEMY] [Enemy8] Player reloading: true -> false
[16:09:44] [ENEMY] [Enemy9] Player reloading: true -> false
[16:09:44] [ENEMY] [Enemy10] Player reloading: true -> false
[16:09:44] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[16:09:44] [INFO] [ReplayManager] Recording frame 420 (5,8s): player_valid=True, enemies=10
[16:09:44] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:09:45] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[16:09:45] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.0°, current=89.3°, player=(396,241), corner_timer=-0.02
[16:09:45] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[16:09:45] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=92.2°, player=(396,235), corner_timer=0.30
[16:09:45] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:09:45] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[16:09:45] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[16:09:45] [INFO] [Player.Grenade] G pressed - starting grab animation
[16:09:45] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[16:09:45] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (557.82916, 170.88414)
[16:09:45] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.1°, current=89.3°, player=(396,131), corner_timer=-0.02
[16:09:45] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:09:45] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.2°, player=(396,125), corner_timer=0.30
[16:09:45] [INFO] [GrenadeBase] CCD enabled (mode: CAST_RAY) to prevent wall tunneling
[16:09:45] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[16:09:45] [INFO] [GrenadeTimer] Initialized for Flashbang grenade, effect radius: 400
[16:09:45] [INFO] [Player.Grenade] Added GrenadeTimer component (type: Flashbang)
[16:09:45] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[16:09:45] [INFO] [GrenadeTimer] Timer activated! 4 seconds until explosion
[16:09:45] [INFO] [Player.Grenade] Timer started, grenade created at (396.16376, 114.65143)
[16:09:45] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[16:09:45] [INFO] [Player.Grenade] Step 1 complete! Drag: (381.46136, 34.839066)
[16:09:45] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[16:09:45] [INFO] [Player.Grenade.Simple] RMB pressed after pin pull - starting trajectory aiming
[16:09:45] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:09:45] [ENEMY] [Enemy1] Death animation completed
[16:09:45] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.1°, current=89.4°, player=(396,80), corner_timer=-0.02
[16:09:45] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:09:45] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.2°, player=(396,80), corner_timer=0.30
[16:09:45] [INFO] [ReplayManager] Recording frame 480 (6,8s): player_valid=True, enemies=10
[16:09:45] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:09:46] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(414,80), corner_timer=-0.02
[16:09:46] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:09:46] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(415,80), corner_timer=0.30
[16:09:46] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:09:46] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(492,80), corner_timer=-0.02
[16:09:46] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:09:46] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(497,80), corner_timer=0.30
[16:09:46] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:09:46] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(602,80), corner_timer=-0.02
[16:09:46] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:09:46] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(607,80), corner_timer=0.30
[16:09:46] [INFO] [ReplayManager] Recording frame 540 (7,8s): player_valid=True, enemies=10
[16:09:46] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:09:47] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(699,110), corner_timer=-0.02
[16:09:47] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:09:47] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(705,110), corner_timer=0.30
[16:09:47] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:09:47] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(809,110), corner_timer=-0.02
[16:09:47] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:09:47] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(815,110), corner_timer=0.30
[16:09:47] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:09:47] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(919,110), corner_timer=-0.02
[16:09:47] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:09:47] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(925,110), corner_timer=0.30
[16:09:47] [INFO] [ReplayManager] Recording frame 600 (8,8s): player_valid=True, enemies=10
[16:09:47] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:09:48] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1029,110), corner_timer=-0.02
[16:09:48] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:09:48] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1035,110), corner_timer=0.30
[16:09:48] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:09:48] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1139,110), corner_timer=-0.02
[16:09:48] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:09:48] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1145,110), corner_timer=0.30
[16:09:48] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:09:48] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1249,110), corner_timer=-0.02
[16:09:48] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:09:48] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1255,110), corner_timer=0.30
[16:09:48] [INFO] [ReplayManager] Recording frame 660 (9,8s): player_valid=True, enemies=10
[16:09:48] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:09:49] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1359,110), corner_timer=-0.02
[16:09:49] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:09:49] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1365,110), corner_timer=0.30
[16:09:49] [INFO] [ScoreManager] Combo ended at 4. Max combo: 4
[16:09:49] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:09:49] [INFO] [Player.Grenade.Simple] Throwing! Target: (1925.9149, 385.38052), Distance: 561,2, Speed: 580,3, Friction: 300,0
[16:09:49] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 0,510078
[16:09:49] [INFO] [GrenadeTimer] Grenade marked as thrown - impact detection enabled
[16:09:49] [INFO] [Player.Grenade.Simple] C# set velocity directly: dir=(0.8727064, 0.4882453), speed=580,3, spawn=(1503.6743, 149.15329)
[16:09:49] [INFO] [GrenadeBase] Simple mode throw! Dir: (0.872706, 0.488245), Speed: 580.3 (clamped from 580.3, max: 1352.8)
[16:09:49] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[16:09:49] [INFO] [Player.Grenade.Simple] Grenade thrown!
[16:09:49] [INFO] [Player.Grenade] State reset to IDLE
[16:09:49] [INFO] [Player.Grenade] State reset to IDLE
[16:09:49] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[16:09:49] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1457,123), corner_timer=-0.02
[16:09:49] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[16:09:49] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1460,125), corner_timer=0.30
[16:09:49] [INFO] [Player.Grenade] Player rotation restored to 0
[16:09:49] [INFO] [GrenadeBase] EXPLODED at (1551.742, 176.0453)!
[16:09:49] [INFO] [PowerFantasy] Grenade exploded - triggering last chance time-freeze effect for 2000ms
[16:09:49] [INFO] [LastChance] Grenade explosion triggering last chance effect for 2.00 seconds
[16:09:49] [INFO] [LastChance] Starting last chance effect:
[16:09:49] [INFO] [LastChance]   - Time will be frozen (except player)
[16:09:49] [INFO] [LastChance]   - Duration: 2.00 real seconds
[16:09:49] [INFO] [LastChance]   - Trigger: grenade explosion
[16:09:49] [INFO] [LastChance]   - Sepia intensity: 0.70
[16:09:49] [INFO] [LastChance]   - Brightness: 0.60
[16:09:49] [INFO] [LastChance] Set player Player and all 27 children to PROCESS_MODE_ALWAYS
[16:09:49] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[16:09:49] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[16:09:49] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[16:09:49] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[16:09:49] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[16:09:49] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[16:09:49] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[16:09:49] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[16:09:49] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[16:09:49] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[16:09:49] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[16:09:49] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[16:09:49] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[16:09:49] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[16:09:49] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[16:09:49] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[16:09:49] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[16:09:49] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[16:09:49] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[16:09:49] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[16:09:49] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[16:09:49] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[16:09:49] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[16:09:49] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[16:09:49] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[16:09:49] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[16:09:49] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[16:09:49] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[16:09:49] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[16:09:49] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[16:09:49] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[16:09:49] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[16:09:49] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[16:09:49] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[16:09:49] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[16:09:49] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[16:09:49] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[16:09:49] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[16:09:49] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[16:09:49] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[16:09:49] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[16:09:49] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[16:09:49] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[16:09:49] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[16:09:49] [INFO] [LastChance] Skipping player node: Player
[16:09:49] [INFO] [LastChance] Froze existing bullet casing: Casing
[16:09:49] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@539
[16:09:49] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@542
[16:09:49] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@547
[16:09:49] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@603
[16:09:49] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@610
[16:09:49] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@613
[16:09:49] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@622
[16:09:49] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@637
[16:09:49] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@676
[16:09:49] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@681
[16:09:49] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@685
[16:09:49] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@689
[16:09:49] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@692
[16:09:49] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@705
[16:09:49] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@764
[16:09:49] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@770
[16:09:49] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@777
[16:09:49] [INFO] [LastChance] Froze existing grenade: FlashbangGrenade
[16:09:49] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[16:09:49] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[16:09:49] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[16:09:49] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1551.742, 176.0453), source=NEUTRAL (FlashbangGrenade), range=2937, listeners=6
[16:09:49] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=4
[16:09:49] [INFO] [LastChance] Freezing newly created explosion visual effect (Node2D): FlashbangEffect
[16:09:49] [INFO] [LastChance] Registered frozen explosion visual: FlashbangEffect
[16:09:49] [INFO] [LastChance] Freezing newly created explosion effect: PointLight2D
[16:09:49] [INFO] [LastChance] Registered frozen explosion effect: PointLight2D
[16:09:49] [INFO] [ImpactEffects] Flashbang effect spawned at (1551.742, 176.0453) (radius=400)
[16:09:49] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[16:09:49] [INFO] [ReplayManager] Recording frame 720 (10,8s): player_valid=True, enemies=10
[16:09:50] [INFO] [LastChance] Freezing newly fired player bullet: Bullet
[16:09:50] [INFO] [LastChance] Registered frozen player bullet: Bullet
[16:09:50] [INFO] [LastChance] Freezing newly created explosion effect: PointLight2D
[16:09:50] [INFO] [LastChance] Registered frozen explosion effect: PointLight2D
[16:09:50] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@802
[16:09:50] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@802
[16:09:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1479.132, 425.8922), source=PLAYER (AssaultRifle), range=1469, listeners=6
[16:09:50] [ENEMY] [Enemy5] Heard gunshot at (1479.132, 425.8922), source_type=0, intensity=0.05, distance=234
[16:09:50] [ENEMY] [Enemy6] Heard gunshot at (1479.132, 425.8922), source_type=0, intensity=0.01, distance=471
[16:09:50] [ENEMY] [Enemy7] Heard gunshot at (1479.132, 425.8922), source_type=0, intensity=0.01, distance=491
[16:09:50] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=0, below_threshold=3
[16:09:50] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@803
[16:09:50] [INFO] [LastChance] Registered frozen player bullet: @Area2D@803
[16:09:50] [INFO] [LastChance] Freezing newly created explosion effect: PointLight2D
[16:09:50] [INFO] [LastChance] Registered frozen explosion effect: PointLight2D
[16:09:50] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@805
[16:09:50] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@805
[16:09:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1514.392, 433.7143), source=PLAYER (AssaultRifle), range=1469, listeners=6
[16:09:50] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=0, below_threshold=3
[16:09:50] [INFO] [ReplayManager] Recording frame 780 (11,8s): player_valid=True, enemies=10
[16:09:50] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@806
[16:09:50] [INFO] [LastChance] Registered frozen player bullet: @Area2D@806
[16:09:50] [INFO] [LastChance] Freezing newly created explosion effect: PointLight2D
[16:09:50] [INFO] [LastChance] Registered frozen explosion effect: PointLight2D
[16:09:50] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@808
[16:09:50] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@808
[16:09:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1552.892, 433.7143), source=PLAYER (AssaultRifle), range=1469, listeners=6
[16:09:50] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=0, below_threshold=3
[16:09:51] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@809
[16:09:51] [INFO] [LastChance] Registered frozen player bullet: @Area2D@809
[16:09:51] [INFO] [LastChance] Freezing newly created explosion effect: PointLight2D
[16:09:51] [INFO] [LastChance] Registered frozen explosion effect: PointLight2D
[16:09:51] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@811
[16:09:51] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@811
[16:09:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1591.392, 433.7143), source=PLAYER (AssaultRifle), range=1469, listeners=6
[16:09:51] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=0, below_threshold=3
[16:09:51] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@812
[16:09:51] [INFO] [LastChance] Registered frozen player bullet: @Area2D@812
[16:09:51] [INFO] [LastChance] Freezing newly created explosion effect: PointLight2D
[16:09:51] [INFO] [LastChance] Registered frozen explosion effect: PointLight2D
[16:09:51] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@813
[16:09:51] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@813
[16:09:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1629.892, 433.7143), source=PLAYER (AssaultRifle), range=1469, listeners=6
[16:09:51] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=0, below_threshold=3
[16:09:51] [INFO] [LastChance] Effect duration expired after 2.02 real seconds
[16:09:51] [INFO] [LastChance] Ending last chance effect
[16:09:51] [ENEMY] [Enemy5] Memory reset: confusion=2.0s, had_target=true
[16:09:51] [ENEMY] [Enemy5] Search mode: COMBAT -> SEARCHING at (1479.132, 425.8922)
[16:09:51] [ENEMY] [Enemy5] SEARCHING started: center=(1479.132, 425.8922), radius=100, waypoints=5
[16:09:51] [ENEMY] [Enemy6] Memory reset: confusion=2.0s, had_target=true
[16:09:51] [ENEMY] [Enemy6] Search mode: COMBAT -> SEARCHING at (1479.132, 425.8922)
[16:09:51] [ENEMY] [Enemy6] SEARCHING started: center=(1479.132, 425.8922), radius=100, waypoints=5
[16:09:51] [ENEMY] [Enemy7] Memory reset: confusion=2.0s, had_target=true
[16:09:51] [ENEMY] [Enemy7] Search mode: COMBAT -> SEARCHING at (1479.132, 425.8922)
[16:09:51] [ENEMY] [Enemy7] SEARCHING started: center=(1479.132, 425.8922), radius=100, waypoints=5
[16:09:51] [ENEMY] [Enemy8] Memory reset: confusion=2.0s, had_target=false
[16:09:51] [ENEMY] [Enemy9] Memory reset: confusion=2.0s, had_target=false
[16:09:51] [ENEMY] [Enemy10] Memory reset: confusion=2.0s, had_target=false
[16:09:51] [INFO] [LastChance] Reset memory for 6 enemies (player teleport effect)
[16:09:51] [INFO] [LastChance] All process modes restored
[16:09:51] [INFO] [LastChance] Unfroze player bullet: Bullet
[16:09:51] [INFO] [LastChance] Unfroze player bullet: @Area2D@803
[16:09:51] [INFO] [LastChance] Unfroze player bullet: @Area2D@806
[16:09:51] [INFO] [LastChance] Unfroze player bullet: @Area2D@809
[16:09:51] [INFO] [LastChance] Unfroze player bullet: @Area2D@812
[16:09:51] [INFO] [LastChance] Unfroze bullet casing: Casing
[16:09:51] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@539
[16:09:51] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@542
[16:09:51] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@547
[16:09:51] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@603
[16:09:51] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@610
[16:09:51] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@613
[16:09:51] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@622
[16:09:51] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@637
[16:09:51] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@676
[16:09:51] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@681
[16:09:51] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@685
[16:09:51] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@689
[16:09:51] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@692
[16:09:51] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@705
[16:09:51] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@764
[16:09:51] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@770
[16:09:51] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@777
[16:09:51] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@802
[16:09:51] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@805
[16:09:51] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@808
[16:09:51] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@811
[16:09:51] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@813
[16:09:51] [INFO] [LastChance] Unfroze explosion effect: PointLight2D
[16:09:51] [INFO] [LastChance] Unfroze explosion effect: PointLight2D
[16:09:51] [INFO] [LastChance] Unfroze explosion effect: PointLight2D
[16:09:51] [INFO] [LastChance] Unfroze explosion visual: FlashbangEffect
[16:09:51] [INFO] [LastChance] Starting visual effects fade-out over 400ms
[16:09:51] [ENEMY] [Enemy5] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=SEARCHING, target=76.8°, current=56.2°, player=(1724,452), corner_timer=0.00
[16:09:51] [ENEMY] [Enemy5] SEARCHING corner check: angle 71.0°
[16:09:51] [ENEMY] [Enemy6] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=SEARCHING, target=179.3°, current=-22.5°, player=(1724,452), corner_timer=0.00
[16:09:51] [ENEMY] [Enemy6] SEARCHING corner check: angle 92.9°
[16:09:51] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P2:combat_state, state=SEARCHING, target=-75.8°, current=89.4°, player=(1724,452), corner_timer=0.25
[16:09:51] [ENEMY] [Enemy5] Hit taken, damage: 1, health: 3/3 -> 2/3
[16:09:51] [ENEMY] [Enemy5] ImpactEffectsManager found, calling spawn_blood_effect
[16:09:51] [INFO] [ImpactEffects] spawn_blood_effect called at (1690.291, 353.3363), dir=(1, 0), lethal=false
[16:09:51] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[16:09:51] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[16:09:51] [INFO] [ImpactEffects] Blood effect spawned at (1690.291, 353.3363) (scale=1)
[16:09:51] [ENEMY] [Enemy5] Hit taken, damage: 1, health: 2/3 -> 1/3
[16:09:51] [ENEMY] [Enemy5] ImpactEffectsManager found, calling spawn_blood_effect
[16:09:51] [INFO] [ImpactEffects] spawn_blood_effect called at (1690.291, 353.3363), dir=(1, 0), lethal=false
[16:09:51] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[16:09:51] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[16:09:51] [INFO] [ImpactEffects] Blood effect spawned at (1690.291, 353.3363) (scale=1)
[16:09:51] [ENEMY] [Enemy5] Hit taken, damage: 1, health: 1/3 -> 0/3
[16:09:51] [ENEMY] [Enemy5] ImpactEffectsManager found, calling spawn_blood_effect
[16:09:51] [INFO] [ImpactEffects] spawn_blood_effect called at (1685.436, 355.0045), dir=(1, 0), lethal=true
[16:09:51] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[16:09:51] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[16:09:51] [INFO] [ImpactEffects] Blood effect spawned at (1685.436, 355.0045) (scale=1.5)
[16:09:51] [ENEMY] [Enemy5] Enemy died (ricochet: false, penetration: false)
[16:09:51] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[16:09:51] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[16:09:51] [INFO] [PowerFantasy] Starting power fantasy effect:
[16:09:51] [INFO] [PowerFantasy]   - Time scale: 0.10
[16:09:51] [INFO] [PowerFantasy]   - Duration: 300ms
[16:09:51] [ENEMY] [Enemy5] [AllyDeath] Notified 1 enemies
[16:09:51] [INFO] [SoundPropagation] Unregistered listener: Enemy5 (remaining: 5)
[16:09:51] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[16:09:51] [ENEMY] [Enemy5] Death animation started with hit direction: (1, 0)
[16:09:51] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:09:51] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1629.8916, 433.71432), shooter_id=125963340882, bullet_pos=(1838.7023, 292.64044)
[16:09:51] [INFO] [Bullet] Using shooter_position, distance=251,99947
[16:09:51] [INFO] [Bullet] Distance to wall: 251,99947 (17,159107% of viewport)
[16:09:51] [INFO] [Bullet] Within ricochet range - trying ricochet first
[16:09:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1753.585, 459.0779), source=PLAYER (AssaultRifle), range=1469, listeners=5
[16:09:51] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=3
[16:09:51] [INFO] [ReplayManager] Recording frame 840 (12,5s): player_valid=True, enemies=10
[16:09:51] [INFO] [PowerFantasy] Effect duration expired after 302.00 ms
[16:09:51] [INFO] [PowerFantasy] Ending power fantasy effect
[16:09:51] [INFO] [LastChance] Visual effects fade-out complete
[16:09:51] [INFO] [LastChance] Restored original colors to 5 player sprites
[16:09:51] [INFO] [LastChance] Called player RefreshHealthVisual (C#)
[16:09:51] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1479.1318, 425.89218), shooter_id=125963340882, bullet_pos=(1872.0632, 307.65967)
[16:09:51] [INFO] [Bullet] Using shooter_position, distance=410,334
[16:09:51] [INFO] [Bullet] Distance to wall: 410,334 (27,9404% of viewport)
[16:09:51] [INFO] [Bullet] Within ricochet range - trying ricochet first
[16:09:51] [INFO] [Bullet] Starting wall penetration at (1872.0632, 307.65967)
[16:09:51] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[16:09:51] [INFO] [Bullet] Exiting penetration at (1916.7507, 294.2132) after traveling 41,66667 pixels through wall
[16:09:51] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[16:09:51] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1753.5854, 459.0779), shooter_id=125963340882, bullet_pos=(1918.3542, 302.93622)
[16:09:51] [INFO] [Bullet] Using shooter_position, distance=226,99997
[16:09:51] [INFO] [Bullet] Distance to wall: 226,99997 (15,456846% of viewport)
[16:09:51] [INFO] [Bullet] Within ricochet range - trying ricochet first
[16:09:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1787.962, 471.6889), source=PLAYER (AssaultRifle), range=1469, listeners=5
[16:09:51] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=3
[16:09:52] [ENEMY] [Enemy7] SEARCHING corner check: angle 68.4°
[16:09:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1787.9618, 471.68887), shooter_id=125963340882, bullet_pos=(1947.4786, 322.12457)
[16:09:52] [INFO] [Bullet] Using shooter_position, distance=218,66666
[16:09:52] [INFO] [Bullet] Distance to wall: 218,66666 (14,889415% of viewport)
[16:09:52] [INFO] [Bullet] Within ricochet range - trying ricochet first
[16:09:52] [INFO] [BloodDecal] Blood puddle created at (1746.297, 341.7776) (added to group)
[16:09:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1629.8916, 433.71432), shooter_id=125963340882, bullet_pos=(1442.4908, 62.235962)
[16:09:52] [INFO] [Bullet] Using shooter_position, distance=416,07117
[16:09:52] [INFO] [Bullet] Distance to wall: 416,07117 (28,33105% of viewport)
[16:09:52] [INFO] [Bullet] Within ricochet range - trying ricochet first
[16:09:52] [INFO] [BloodDecal] Blood puddle created at (1761.6, 341.8594) (added to group)
[16:09:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1815.885, 497.2232), source=PLAYER (AssaultRifle), range=1469, listeners=5
[16:09:52] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=3
[16:09:52] [INFO] [BloodDecal] Blood puddle created at (1776.143, 368.0453) (added to group)
[16:09:52] [INFO] [BloodDecal] Blood puddle created at (1740.941, 378.2183) (added to group)
[16:09:52] [ENEMY] [Enemy6] Hit taken, damage: 1, health: 3/3 -> 2/3
[16:09:52] [ENEMY] [Enemy6] ImpactEffectsManager found, calling spawn_blood_effect
[16:09:52] [INFO] [ImpactEffects] spawn_blood_effect called at (1849.516, 444.8557), dir=(1, 0), lethal=false
[16:09:52] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[16:09:52] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[16:09:52] [INFO] [ImpactEffects] Blood effect spawned at (1849.516, 444.8557) (scale=1)
[16:09:52] [ENEMY] [Enemy6] SEARCHING corner check: angle 92.9°
[16:09:52] [INFO] [BloodDecal] Blood puddle created at (1771.667, 334.4503) (added to group)
[16:09:52] [INFO] [BloodDecal] Blood puddle created at (1769.611, 410.4427) (added to group)
[16:09:52] [INFO] [BloodDecal] Blood puddle created at (1784.97, 358.0662) (added to group)
[16:09:52] [INFO] [BloodDecal] Blood puddle created at (1757.897, 411.3076) (added to group)
[16:09:52] [INFO] [BloodDecal] Blood puddle created at (1743.296, 360.6641) (added to group)
[16:09:52] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:09:52] [INFO] [BloodDecal] Blood puddle created at (1803.465, 365.9409) (added to group)
[16:09:52] [INFO] [BloodDecal] Blood puddle created at (1763.202, 348.0933) (added to group)
[16:09:52] [INFO] [BloodDecal] Blood puddle created at (1752.255, 359.9011) (added to group)
[16:09:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1843.108, 524.4468), source=PLAYER (AssaultRifle), range=1469, listeners=5
[16:09:52] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=3
[16:09:52] [INFO] [BloodDecal] Blood puddle created at (1804.613, 345.9276) (added to group)
[16:09:52] [INFO] [BloodDecal] Blood puddle created at (1769.21, 358.5084) (added to group)
[16:09:52] [INFO] [BloodDecal] Blood puddle created at (1750.595, 388.3653) (added to group)
[16:09:52] [INFO] [BloodDecal] Blood puddle created at (1780.375, 437.3599) (added to group)
[16:09:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1629.8916, 433.71432), shooter_id=125963340882, bullet_pos=(1123.9463, 242.98007)
[16:09:52] [INFO] [Bullet] Using shooter_position, distance=540,7034
[16:09:52] [INFO] [Bullet] Distance to wall: 540,7034 (36,81749% of viewport)
[16:09:52] [INFO] [Bullet] Within ricochet range - trying ricochet first
[16:09:52] [INFO] [Bullet] Starting wall penetration at (1123.9463, 242.98007)
[16:09:52] [INFO] [BloodyFeet:Enemy6] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[16:09:52] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[16:09:52] [INFO] [Bullet] Exiting penetration at (1093.4146, 260.30396) after traveling 30,10417 pixels through wall
[16:09:52] [INFO] [Bullet] Damage multiplier after penetration: 0,225
[16:09:52] [ENEMY] [Enemy5] Ragdoll activated
[16:09:52] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[16:09:52] [INFO] [BloodDecal] Blood puddle created at (1834.083, 482.6459) (added to group)
[16:09:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1865.638, 553.1455), source=PLAYER (AssaultRifle), range=1469, listeners=5
[16:09:52] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=3
[16:09:52] [INFO] [BloodDecal] Blood puddle created at (1825.235, 454.4478) (added to group)
[16:09:52] [INFO] [BloodDecal] Blood puddle created at (1817.446, 374.2227) (added to group)
[16:09:52] [INFO] [BloodDecal] Blood puddle created at (1825.363, 361.6791) (added to group)
[16:09:52] [INFO] [BloodDecal] Blood puddle created at (1848.448, 411.8929) (added to group)
[16:09:52] [INFO] [BloodDecal] Blood puddle created at (1798.543, 431.7179) (added to group)
[16:09:52] [INFO] [BloodDecal] Blood puddle created at (1796.348, 370.8521) (added to group)
[16:09:52] [INFO] [BloodDecal] Blood puddle created at (1790.41, 367.8917) (added to group)
[16:09:52] [ENEMY] [Enemy7] SEARCHING corner check: angle 68.4°
[16:09:52] [INFO] [BloodDecal] Blood puddle created at (1871.12, 471.5487) (added to group)
[16:09:52] [INFO] [BloodDecal] Blood puddle created at (1768.911, 445.3148) (added to group)
[16:09:52] [INFO] [BloodDecal] Blood puddle created at (1770.554, 430.5641) (added to group)
[16:09:52] [INFO] [BloodDecal] Blood puddle created at (1895.196, 458.5131) (added to group)
[16:09:52] [INFO] [BloodDecal] Blood puddle created at (1832.393, 459.4095) (added to group)
[16:09:52] [INFO] [BloodDecal] Blood puddle created at (1868.736, 447.0316) (added to group)
[16:09:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1865.6378, 553.1455), shooter_id=125963340882, bullet_pos=(1913.8699, 297.31918)
[16:09:52] [INFO] [Bullet] Using shooter_position, distance=260,3333
[16:09:52] [INFO] [Bullet] Distance to wall: 260,3333 (17,726574% of viewport)
[16:09:52] [INFO] [Bullet] Within ricochet range - trying ricochet first
[16:09:52] [INFO] [BloodDecal] Blood puddle created at (1928.767, 464.8906) (added to group)
[16:09:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1843.1082, 524.44684), shooter_id=125963340882, bullet_pos=(2199.7717, 49.861633)
[16:09:52] [INFO] [Bullet] Using shooter_position, distance=593,66656
[16:09:52] [INFO] [Bullet] Distance to wall: 593,66656 (40,42385% of viewport)
[16:09:52] [ENEMY] [Enemy6] SEARCHING corner check: angle 92.9°
[16:09:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1872.416, 582.2675), source=PLAYER (AssaultRifle), range=1469, listeners=5
[16:09:52] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=3
[16:09:52] [INFO] [BloodDecal] Blood puddle created at (1890.381, 361.4632) (added to group)
[16:09:52] [INFO] [BloodDecal] Blood puddle created at (1778.329, 406.4666) (added to group)
[16:09:52] [INFO] [BloodDecal] Blood puddle created at (1860.995, 384.2818) (added to group)
[16:09:52] [INFO] [BloodDecal] Blood puddle created at (1781.419, 415.0791) (added to group)
[16:09:52] [INFO] [BloodDecal] Blood puddle created at (1833.582, 510.5194) (added to group)
[16:09:52] [INFO] [BloodDecal] Blood puddle created at (1957.782, 522.846) (added to group)
[16:09:52] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:09:52] [INFO] [BloodDecal] Blood puddle created at (1866.622, 492.9733) (added to group)
[16:09:52] [INFO] [BloodDecal] Blood puddle created at (1944.045, 498.7016) (added to group)
[16:09:52] [INFO] [BloodDecal] Blood puddle created at (1795.225, 504.651) (added to group)
[16:09:52] [INFO] [BloodDecal] Blood puddle created at (1876.152, 487.8311) (added to group)
[16:09:52] [INFO] [BloodDecal] Blood puddle created at (1815.893, 482.513) (added to group)
[16:09:52] [INFO] [BloodDecal] Blood puddle created at (1941.764, 477.5224) (added to group)
[16:09:52] [INFO] [BloodDecal] Blood puddle created at (1939.698, 455.427) (added to group)
[16:09:52] [INFO] [BloodDecal] Blood puddle created at (1997.01, 501.179) (added to group)
[16:09:52] [INFO] [BloodDecal] Blood puddle created at (1847.902, 450.3167) (added to group)
[16:09:52] [INFO] [BloodDecal] Blood puddle created at (1804.14, 442.4951) (added to group)
[16:09:52] [INFO] [BloodDecal] Blood puddle created at (1939.389, 504.8172) (added to group)
[16:09:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1874.731, 626.5352), source=PLAYER (AssaultRifle), range=1469, listeners=5
[16:09:52] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=3
[16:09:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1872.416, 582.2675), shooter_id=125963340882, bullet_pos=(1718.3547, 52.202118)
[16:09:52] [INFO] [Bullet] Using shooter_position, distance=552,00024
[16:09:52] [INFO] [Bullet] Distance to wall: 552,00024 (37,58671% of viewport)
[16:09:52] [INFO] [Bullet] Within ricochet range - trying ricochet first
[16:09:52] [INFO] [Bullet] Starting wall penetration at (1718.3547, 52.202118)
[16:09:52] [INFO] [Bullet] Raycast backward hit penetrating body at distance 25,628567
[16:09:52] [INFO] [Bullet] Body exited signal received for penetrating body
[16:09:52] [INFO] [Bullet] Exiting penetration at (1705.3302, 7.3898315) after traveling 41,66667 pixels through wall
[16:09:52] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[16:09:52] [INFO] [BloodDecal] Blood puddle created at (1939.064, 538.7687) (added to group)
[16:09:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1843.1082, 524.44684), shooter_id=125963340882, bullet_pos=(2467.5552, 554.92993)
[16:09:52] [INFO] [Bullet] Using shooter_position, distance=625,1906
[16:09:52] [INFO] [Bullet] Distance to wall: 625,1906 (42,57038% of viewport)
[16:09:52] [ENEMY] [Enemy7] SEARCHING corner check: angle 179.9°
[16:09:52] [INFO] [BloodDecal] Blood puddle created at (2015.964, 460.3725) (added to group)
[16:09:52] [ENEMY] [Enemy6] SEARCHING corner check: angle 92.9°
[16:09:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1892.37, 638.7823), source=PLAYER (AssaultRifle), range=1469, listeners=5
[16:09:52] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=3
[16:09:52] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:09:52] [INFO] [ReplayManager] Recording frame 900 (13,5s): player_valid=True, enemies=10
[16:09:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1912.998, 632.7867), source=PLAYER (AssaultRifle), range=1469, listeners=5
[16:09:52] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=3
[16:09:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1874.7308, 626.53516), shooter_id=125963340882, bullet_pos=(1516.8842, 51.83956)
[16:09:52] [INFO] [Bullet] Using shooter_position, distance=677,00024
[16:09:52] [INFO] [Bullet] Distance to wall: 677,00024 (46,098194% of viewport)
[16:09:52] [INFO] [Bullet] Distance-based penetration chance: 92,88544%
[16:09:52] [INFO] [Bullet] Starting wall penetration at (1516.8842, 51.83956)
[16:09:52] [INFO] [Bullet] Raycast backward hit penetrating body at distance 23,295345
[16:09:52] [INFO] [Bullet] Body exited signal received for penetrating body
[16:09:52] [INFO] [Bullet] Exiting penetration at (1492.2172, 12.224903) after traveling 41,666668 pixels through wall
[16:09:52] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[16:09:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1892.3702, 638.7823), shooter_id=125963340882, bullet_pos=(1612.5568, 316.24026)
[16:09:52] [INFO] [Bullet] Using shooter_position, distance=426,99994
[16:09:52] [INFO] [Bullet] Distance to wall: 426,99994 (29,07521% of viewport)
[16:09:52] [INFO] [Bullet] Within ricochet range - trying ricochet first
[16:09:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1942.314, 607.4551), source=PLAYER (AssaultRifle), range=1469, listeners=5
[16:09:53] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=3
[16:09:53] [ENEMY] [Enemy6] Hit taken, damage: 1, health: 2/3 -> 1/3
[16:09:53] [ENEMY] [Enemy6] ImpactEffectsManager found, calling spawn_blood_effect
[16:09:53] [INFO] [ImpactEffects] spawn_blood_effect called at (1562.42, 430.1566), dir=(1, 0), lethal=false
[16:09:53] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[16:09:53] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[16:09:53] [INFO] [ImpactEffects] Blood effect spawned at (1562.42, 430.1566) (scale=1)
[16:09:53] [ENEMY] [Enemy7] SEARCHING corner check: angle 179.9°
[16:09:53] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1892.3702, 638.7823), shooter_id=125963340882, bullet_pos=(1383.1522, 592.5993)
[16:09:53] [INFO] [Bullet] Using shooter_position, distance=511,30798
[16:09:53] [INFO] [Bullet] Distance to wall: 511,30798 (34,815903% of viewport)
[16:09:53] [INFO] [Bullet] Within ricochet range - trying ricochet first
[16:09:53] [ENEMY] [Enemy6] SEARCHING corner check: angle 92.9°
[16:09:53] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1892.3702, 638.7823), shooter_id=125963340882, bullet_pos=(1405.4238, 619.7338)
[16:09:53] [INFO] [Bullet] Using shooter_position, distance=487,31885
[16:09:53] [INFO] [Bullet] Distance to wall: 487,31885 (33,182438% of viewport)
[16:09:53] [INFO] [Bullet] Within ricochet range - trying ricochet first
[16:09:53] [INFO] [Bullet] Starting wall penetration at (1405.4238, 619.7338)
[16:09:53] [INFO] [Bullet] Raycast backward hit penetrating body at distance 29,584969
[16:09:53] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1843.1082, 524.44684), shooter_id=125963340882, bullet_pos=(2013.9927, 1198.9536)
[16:09:53] [INFO] [Bullet] Using shooter_position, distance=695,8167
[16:09:53] [INFO] [Bullet] Distance to wall: 695,8167 (47,37944% of viewport)
[16:09:53] [INFO] [Bullet] Body exited signal received for penetrating body
[16:09:53] [INFO] [Bullet] Exiting penetration at (1427.6954, 646.86835) after traveling 30,104166 pixels through wall
[16:09:53] [INFO] [Bullet] Damage multiplier after penetration: 0,225
[16:09:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1969.537, 580.2314), source=PLAYER (AssaultRifle), range=1469, listeners=5
[16:09:53] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=3
[16:09:53] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:09:53] [ENEMY] [Enemy6] Hit taken, damage: 1, health: 1/3 -> 0/3
[16:09:53] [ENEMY] [Enemy6] ImpactEffectsManager found, calling spawn_blood_effect
[16:09:53] [INFO] [ImpactEffects] spawn_blood_effect called at (1511.153, 427.5317), dir=(1, 0), lethal=true
[16:09:53] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[16:09:53] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[16:09:53] [INFO] [ImpactEffects] Blood effect spawned at (1511.153, 427.5317) (scale=1.5)
[16:09:53] [ENEMY] [Enemy6] Enemy died (ricochet: false, penetration: false)
[16:09:53] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[16:09:53] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[16:09:53] [INFO] [PowerFantasy] Starting power fantasy effect:
[16:09:53] [INFO] [PowerFantasy]   - Time scale: 0.10
[16:09:53] [INFO] [PowerFantasy]   - Duration: 300ms
[16:09:53] [ENEMY] [Enemy6] [AllyDeath] Notified 1 enemies
[16:09:53] [INFO] [SoundPropagation] Unregistered listener: Enemy6 (remaining: 4)
[16:09:53] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[16:09:53] [ENEMY] [Enemy6] Death animation started with hit direction: (1, 0)
[16:09:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1990.15, 559.6223), source=PLAYER (AssaultRifle), range=1469, listeners=4
[16:09:53] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=3
[16:09:53] [ENEMY] [Enemy5] Death animation completed
[16:09:53] [INFO] [PowerFantasy] Effect duration expired after 301.00 ms
[16:09:53] [INFO] [PowerFantasy] Ending power fantasy effect
[16:09:53] [ENEMY] [Enemy7] SEARCHING corner check: angle -64.7°
[16:09:53] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1969.5371, 580.2314), shooter_id=125963340882, bullet_pos=(1380.5903, 353.26862)
[16:09:53] [INFO] [Bullet] Using shooter_position, distance=631,1659
[16:09:53] [INFO] [Bullet] Distance to wall: 631,1659 (42,977245% of viewport)
[16:09:53] [INFO] [BloodDecal] Blood puddle created at (1617.186, 470.101) (added to group)
[16:09:53] [INFO] [BloodDecal] Blood puddle created at (1671.759, 430.0561) (added to group)
[16:09:53] [INFO] [BloodDecal] Blood puddle created at (1671.789, 467.0616) (added to group)
[16:09:53] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1969.5371, 580.2314), shooter_id=125963340882, bullet_pos=(1557.7639, 311.27094)
[16:09:53] [INFO] [Bullet] Using shooter_position, distance=491,83014
[16:09:53] [INFO] [Bullet] Distance to wall: 491,83014 (33,48962% of viewport)
[16:09:53] [INFO] [Bullet] Within ricochet range - trying ricochet first
[16:09:53] [INFO] [Bullet] Starting wall penetration at (1557.7639, 311.27094)
[16:09:53] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[16:09:53] [INFO] [Bullet] Exiting penetration at (1597.0908, 301.9488) after traveling 35,416664 pixels through wall
[16:09:53] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[16:09:53] [INFO] [BloodDecal] Blood puddle created at (1556.952, 437.3718) (added to group)
[16:09:53] [INFO] [BloodDecal] Blood puddle created at (1583.802, 423.4103) (added to group)
[16:09:53] [INFO] [BloodDecal] Blood puddle created at (1577.078, 461.5536) (added to group)
[16:09:53] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1990.1503, 559.62225), shooter_id=125963340882, bullet_pos=(1360.8153, 359.67645)
[16:09:53] [INFO] [Bullet] Using shooter_position, distance=660,33386
[16:09:53] [INFO] [Bullet] Distance to wall: 660,33386 (44,96335% of viewport)
[16:09:53] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1843.1082, 524.44684), shooter_id=125963340882, bullet_pos=(1666.8499, 785.5786)
[16:09:53] [INFO] [Bullet] Using shooter_position, distance=315,05048
[16:09:53] [INFO] [Bullet] Distance to wall: 315,05048 (21,452368% of viewport)
[16:09:53] [INFO] [Bullet] Within ricochet range - trying ricochet first
[16:09:53] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:09:53] [INFO] [BloodDecal] Blood puddle created at (1647.906, 440.3077) (added to group)
[16:09:53] [INFO] [BloodDecal] Blood puddle created at (1675.048, 437.0403) (added to group)
[16:09:53] [INFO] [BloodDecal] Blood puddle created at (1580.9, 433.4742) (added to group)
[16:09:53] [INFO] [BloodDecal] Blood puddle created at (1572.911, 448.7993) (added to group)
[16:09:53] [INFO] [BloodDecal] Blood puddle created at (1647.63, 499.9741) (added to group)
[16:09:53] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1990.1503, 559.62225), shooter_id=125963340882, bullet_pos=(1538.7545, 321.04922)
[16:09:53] [INFO] [Bullet] Using shooter_position, distance=510,56363
[16:09:53] [INFO] [Bullet] Distance to wall: 510,56363 (34,765217% of viewport)
[16:09:53] [INFO] [Bullet] Within ricochet range - trying ricochet first
[16:09:53] [INFO] [Bullet] Starting wall penetration at (1538.7545, 321.04922)
[16:09:53] [INFO] [ReplayManager] Recording frame 960 (14,2s): player_valid=True, enemies=10
[16:09:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2080.564, 549.4561), source=PLAYER (AssaultRifle), range=1469, listeners=4
[16:09:53] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=3
[16:09:53] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[16:09:53] [INFO] [Bullet] Exiting penetration at (1578.2513, 312.47522) after traveling 35,416668 pixels through wall
[16:09:53] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[16:09:53] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1843.1082, 524.44684), shooter_id=125963340882, bullet_pos=(1583.1537, 918.70703)
[16:09:53] [INFO] [Bullet] Using shooter_position, distance=472,2472
[16:09:53] [INFO] [Bullet] Distance to wall: 472,2472 (32,15618% of viewport)
[16:09:53] [INFO] [Bullet] Within ricochet range - trying ricochet first
[16:09:53] [INFO] [Bullet] Starting wall penetration at (1583.1537, 918.70703)
[16:09:53] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[16:09:53] [INFO] [Bullet] Exiting penetration at (1568.916, 941.35364) after traveling 21,750261 pixels through wall
[16:09:53] [INFO] [Bullet] Damage multiplier after penetration: 0,05625
[16:09:53] [INFO] [BloodDecal] Blood puddle created at (1620.275, 496.7744) (added to group)
[16:09:53] [INFO] [BloodDecal] Blood puddle created at (1596.467, 430.3866) (added to group)
[16:09:53] [INFO] [BloodDecal] Blood puddle created at (1643.727, 544.1592) (added to group)
[16:09:53] [INFO] [BloodDecal] Blood puddle created at (1624.464, 526.0098) (added to group)
[16:09:53] [INFO] [BloodDecal] Blood puddle created at (1645.423, 507.0158) (added to group)
[16:09:54] [INFO] [BloodyFeet:Enemy7] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[16:09:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2095.586, 567.3712), source=PLAYER (AssaultRifle), range=1469, listeners=4
[16:09:54] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=3
[16:09:54] [ENEMY] [Enemy7] SEARCHING corner check: angle -64.7°
[16:09:54] [ENEMY] [Enemy6] Ragdoll activated
[16:09:54] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[16:09:54] [INFO] [BloodDecal] Blood puddle created at (1704.083, 512.1699) (added to group)
[16:09:54] [INFO] [BloodDecal] Blood puddle created at (1756.934, 513.4374) (added to group)
[16:09:54] [INFO] [BloodDecal] Blood puddle created at (1643.751, 495.4669) (added to group)
[16:09:54] [INFO] [BloodDecal] Blood puddle created at (1632.713, 473.2156) (added to group)
[16:09:54] [ENEMY] [Enemy7] ROT_CHANGE: P2:combat_state -> P1:visible, state=SEARCHING, target=8.4°, current=7.4°, player=(2097,573), corner_timer=0.25
[16:09:54] [ENEMY] [Enemy7] SEARCHING: Player spotted! Transitioning to COMBAT
[16:09:54] [ENEMY] [Enemy7] State: SEARCHING -> COMBAT
[16:09:54] [INFO] [BloodDecal] Blood puddle created at (1762.25, 441.5487) (added to group)
[16:09:54] [INFO] [BloodDecal] Blood puddle created at (1657.604, 441.1022) (added to group)
[16:09:54] [INFO] [BloodDecal] Blood puddle created at (1594.133, 509.442) (added to group)
[16:09:54] [INFO] [BloodDecal] Blood puddle created at (1623.31, 522.6394) (added to group)
[16:09:54] [ENEMY] [Enemy7] State: COMBAT -> RETREATING
[16:09:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2095.767, 585.5244), source=PLAYER (AssaultRifle), range=1469, listeners=4
[16:09:54] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=3
[16:09:54] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:09:54] [INFO] [BloodDecal] Blood puddle created at (1719.055, 539.2141) (added to group)
[16:09:54] [INFO] [BloodDecal] Blood puddle created at (1628.02, 562.0391) (added to group)
[16:09:54] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2080.5645, 549.4561), shooter_id=125963340882, bullet_pos=(1371.2678, 433.78168)
[16:09:54] [INFO] [Bullet] Using shooter_position, distance=718,667
[16:09:54] [INFO] [Bullet] Distance to wall: 718,667 (48,93536% of viewport)
[16:09:54] [INFO] [Bullet] Distance-based penetration chance: 89,57542%
[16:09:54] [INFO] [Bullet] Starting wall penetration at (1371.2678, 433.78168)
[16:09:54] [ENEMY] [Enemy7] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=-64.7°, current=75.3°, player=(2091,589), corner_timer=0.25
[16:09:54] [INFO] [Bullet] Raycast backward hit penetrating body at distance 39,302856
[16:09:54] [INFO] [Bullet] Body exited signal received for penetrating body
[16:09:54] [INFO] [Bullet] Exiting penetration at (1325.2096, 426.2704) after traveling 41,666668 pixels through wall
[16:09:54] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[16:09:54] [INFO] [BloodDecal] Blood puddle created at (1680.848, 479.1996) (added to group)
[16:09:54] [INFO] [BloodDecal] Blood puddle created at (1673.491, 516.5242) (added to group)
[16:09:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2084.229, 606.2596), source=PLAYER (AssaultRifle), range=1469, listeners=4
[16:09:54] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=3
[16:09:54] [INFO] [BloodDecal] Blood puddle created at (1725.02, 546.5478) (added to group)
[16:09:54] [INFO] [BloodDecal] Blood puddle created at (1740.857, 569.5342) (added to group)
[16:09:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2062.398, 629.2629), source=PLAYER (AssaultRifle), range=1469, listeners=4
[16:09:54] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=3
[16:09:54] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2095.767, 585.52435), shooter_id=125963340882, bullet_pos=(1388.8517, 456.09778)
[16:09:54] [INFO] [Bullet] Using shooter_position, distance=718,6659
[16:09:54] [INFO] [Bullet] Distance to wall: 718,6659 (48,935284% of viewport)
[16:09:54] [INFO] [Bullet] Distance-based penetration chance: 89,57551%
[16:09:54] [INFO] [Bullet] Starting wall penetration at (1388.8517, 456.09778)
[16:09:54] [INFO] [Bullet] Raycast backward hit penetrating body at distance 21,401808
[16:09:54] [INFO] [Bullet] Body exited signal received for penetrating body
[16:09:54] [INFO] [Bullet] Exiting penetration at (1342.9481, 447.69345) after traveling 41,666668 pixels through wall
[16:09:54] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[16:09:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2039.063, 652.5975), source=PLAYER (AssaultRifle), range=1469, listeners=4
[16:09:54] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=3
[16:09:54] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:09:54] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2084.229, 606.25964), shooter_id=125963340882, bullet_pos=(1381.1877, 457.21454)
[16:09:54] [INFO] [Bullet] Using shooter_position, distance=718,66644
[16:09:54] [INFO] [Bullet] Distance to wall: 718,66644 (48,93532% of viewport)
[16:09:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2015.729, 675.9321), source=PLAYER (AssaultRifle), range=1469, listeners=4
[16:09:54] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=3
[16:09:54] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2062.3977, 629.26294), shooter_id=125963340882, bullet_pos=(1366.8267, 448.53265)
[16:09:54] [INFO] [Bullet] Using shooter_position, distance=718,6672
[16:09:54] [INFO] [Bullet] Distance to wall: 718,6672 (48,93537% of viewport)
[16:09:54] [INFO] [Bullet] Distance-based penetration chance: 89,5754%
[16:09:54] [INFO] [Bullet] Starting wall penetration at (1366.8267, 448.53265)
[16:09:54] [ENEMY] [Enemy7] State: RETREATING -> IN_COVER
[16:09:54] [INFO] [Bullet] Raycast backward hit penetrating body at distance 43,74623
[16:09:54] [INFO] [Bullet] Body exited signal received for penetrating body
[16:09:54] [INFO] [Bullet] Exiting penetration at (1321.6597, 436.79694) after traveling 41,666668 pixels through wall
[16:09:54] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[16:09:54] [ENEMY] [Enemy7] State: IN_COVER -> SUPPRESSED
[16:09:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1992.395, 699.2667), source=PLAYER (AssaultRifle), range=1469, listeners=4
[16:09:54] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=3
[16:09:54] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2039.0631, 652.59753), shooter_id=125963340882, bullet_pos=(1379.4807, 367.23465)
[16:09:54] [INFO] [Bullet] Using shooter_position, distance=718,6661
[16:09:54] [INFO] [Bullet] Distance to wall: 718,6661 (48,9353% of viewport)
[16:09:54] [INFO] [Bullet] Distance-based penetration chance: 89,575485%
[16:09:54] [INFO] [Bullet] Starting wall penetration at (1379.4807, 367.23465)
[16:09:54] [INFO] [Bullet] Raycast backward hit penetrating body at distance 29,799242
[16:09:54] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1992.3947, 699.2667), shooter_id=125963340882, bullet_pos=(1752.6956, 597.68945)
[16:09:54] [INFO] [Bullet] Using shooter_position, distance=260,33362
[16:09:54] [INFO] [Bullet] Distance to wall: 260,33362 (17,726595% of viewport)
[16:09:54] [INFO] [Bullet] Within ricochet range - trying ricochet first
[16:09:54] [INFO] [Bullet] Body exited signal received for penetrating body
[16:09:54] [INFO] [Bullet] Exiting penetration at (1336.6506, 348.7046) after traveling 41,66667 pixels through wall
[16:09:54] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[16:09:54] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:09:54] [INFO] [ReplayManager] Recording frame 1020 (15,2s): player_valid=True, enemies=10
[16:09:55] [ENEMY] [Enemy6] Death animation completed
[16:09:55] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:09:55] [ENEMY] [Enemy7] State: SUPPRESSED -> SEEKING_COVER
[16:09:55] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P1:visible, state=SEEKING_COVER, target=11.5°, current=60.4°, player=(1992,647), corner_timer=0.25
[16:09:55] [ENEMY] [Enemy7] ROT_CHANGE: P1:visible -> P3:corner, state=SEEKING_COVER, target=-64.7°, current=61.9°, player=(1995,643), corner_timer=0.25
[16:09:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2003.68, 641.4693), source=PLAYER (AssaultRifle), range=1469, listeners=4
[16:09:55] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=3
[16:09:55] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P1:visible, state=SEEKING_COVER, target=7.0°, current=49.6°, player=(2011,627), corner_timer=0.25
[16:09:55] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:09:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2003.6804, 641.4693), shooter_id=125963340882, bullet_pos=(1746.3394, 602.1108)
[16:09:55] [INFO] [Bullet] Using shooter_position, distance=260,33347
[16:09:55] [INFO] [Bullet] Distance to wall: 260,33347 (17,726585% of viewport)
[16:09:55] [INFO] [Bullet] Within ricochet range - trying ricochet first
[16:09:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2027.015, 618.1347), source=PLAYER (AssaultRifle), range=1469, listeners=4
[16:09:55] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=3
[16:09:55] [INFO] [LastChance] Threat detected: Bullet
[16:09:55] [INFO] [LastChance] Not in hard mode - effect disabled
[16:09:55] [INFO] [LastChance] Cannot trigger effect - conditions not met
[16:09:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2045.73, 592.8867), source=PLAYER (AssaultRifle), range=1469, listeners=4
[16:09:55] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=4
[16:09:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2053.242, 564.1889), source=PLAYER (AssaultRifle), range=1469, listeners=4
[16:09:55] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=4
[16:09:55] [ENEMY] [Enemy7] Hit taken, damage: 1, health: 2/2 -> 1/2
[16:09:55] [ENEMY] [Enemy7] ImpactEffectsManager found, calling spawn_blood_effect
[16:09:55] [INFO] [ImpactEffects] spawn_blood_effect called at (1480.114, 575.9337), dir=(1, 0), lethal=false
[16:09:55] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[16:09:55] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[16:09:55] [INFO] [ImpactEffects] Blood effect spawned at (1480.114, 575.9337) (scale=1)
[16:09:55] [ENEMY] [Enemy7] ROT_CHANGE: P1:visible -> P3:corner, state=SEEKING_COVER, target=-64.7°, current=180.0°, player=(2053,558), corner_timer=0.25
[16:09:55] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:09:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2050.089, 539.4321), source=PLAYER (AssaultRifle), range=1469, listeners=4
[16:09:55] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=4
[16:09:55] [ENEMY] [Enemy7] Player ammo empty: false -> true
[16:09:55] [ENEMY] [Enemy8] Player ammo empty: false -> true
[16:09:55] [ENEMY] [Enemy9] Player ammo empty: false -> true
[16:09:55] [ENEMY] [Enemy10] Player ammo empty: false -> true
[16:09:55] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(2048.666, 530.0508), source=PLAYER (Player), range=600, listeners=4
[16:09:55] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=0, below_threshold=0
[16:09:55] [ENEMY] [Enemy7] Hit taken, damage: 1, health: 1/2 -> 0/2
[16:09:55] [ENEMY] [Enemy7] ImpactEffectsManager found, calling spawn_blood_effect
[16:09:55] [INFO] [ImpactEffects] spawn_blood_effect called at (1445.824, 575.9337), dir=(1, 0), lethal=true
[16:09:55] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[16:09:55] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[16:09:55] [INFO] [ImpactEffects] Blood effect spawned at (1445.824, 575.9337) (scale=1.5)
[16:09:55] [ENEMY] [Enemy7] Enemy died (ricochet: false, penetration: false)
[16:09:55] [INFO] [ScoreManager] Kill registered. Combo: 3 (points: 3000)
[16:09:55] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[16:09:55] [INFO] [PowerFantasy] Starting power fantasy effect:
[16:09:55] [INFO] [PowerFantasy]   - Time scale: 0.10
[16:09:55] [INFO] [PowerFantasy]   - Duration: 300ms
[16:09:55] [INFO] [SoundPropagation] Unregistered listener: Enemy7 (remaining: 3)
[16:09:55] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[16:09:55] [ENEMY] [Enemy7] Death animation started with hit direction: (1, 0)
[16:09:55] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=932), can_see=false
[16:09:55] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1021), can_see=false
[16:09:55] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1393), can_see=false
[16:09:55] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(2046.986, 526.8823), source=PLAYER (Player), range=600, listeners=3
[16:09:55] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=0
[16:09:55] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(2045.05, 523.9266), source=PLAYER (Player), range=600, listeners=3
[16:09:55] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=0
[16:09:55] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(2044.853, 523.6332), source=PLAYER (Player), range=600, listeners=3
[16:09:55] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=0
[16:09:55] [INFO] [ReplayManager] Recording frame 1080 (16,2s): player_valid=True, enemies=10
[16:09:55] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(2044.655, 523.3419), source=PLAYER (Player), range=600, listeners=3
[16:09:55] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=0
[16:09:55] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(2044.453, 523.0527), source=PLAYER (Player), range=600, listeners=3
[16:09:55] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=0
[16:09:55] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(2044.25, 522.7656), source=PLAYER (Player), range=600, listeners=3
[16:09:55] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=0
[16:09:55] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(2044.043, 522.4807), source=PLAYER (Player), range=600, listeners=3
[16:09:55] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=0
[16:09:55] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(2043.834, 522.1979), source=PLAYER (Player), range=600, listeners=3
[16:09:55] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=0
[16:09:55] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(2043.622, 521.9172), source=PLAYER (Player), range=600, listeners=3
[16:09:55] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=0
[16:09:55] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(2043.408, 521.6387), source=PLAYER (Player), range=600, listeners=3
[16:09:55] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=0
[16:09:56] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(2043.193, 521.3633), source=PLAYER (Player), range=600, listeners=3
[16:09:56] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=0
[16:09:56] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(2042.977, 521.0912), source=PLAYER (Player), range=600, listeners=3
[16:09:56] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=0
[16:09:56] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(2042.761, 520.8224), source=PLAYER (Player), range=600, listeners=3
[16:09:56] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=0
[16:09:56] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(2042.543, 520.5568), source=PLAYER (Player), range=600, listeners=3
[16:09:56] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=0
[16:09:56] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(2042.325, 520.2943), source=PLAYER (Player), range=600, listeners=3
[16:09:56] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=0
[16:09:56] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(2042.105, 520.0351), source=PLAYER (Player), range=600, listeners=3
[16:09:56] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=0
[16:09:56] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(2041.885, 519.7791), source=PLAYER (Player), range=600, listeners=3
[16:09:56] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=0
[16:09:56] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(2041.664, 519.5264), source=PLAYER (Player), range=600, listeners=3
[16:09:56] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=0
[16:09:56] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(2041.443, 519.2769), source=PLAYER (Player), range=600, listeners=3
[16:09:56] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=0
[16:09:56] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(2041.22, 519.0306), source=PLAYER (Player), range=600, listeners=3
[16:09:56] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=0
[16:09:56] [INFO] [PowerFantasy] Effect duration expired after 306.00 ms
[16:09:56] [INFO] [PowerFantasy] Ending power fantasy effect
[16:09:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2053.242, 564.1889), shooter_id=125963340882, bullet_pos=(1427.1266, 597.4754)
[16:09:56] [INFO] [Bullet] Using shooter_position, distance=626,9996
[16:09:56] [INFO] [Bullet] Distance to wall: 626,9996 (42,693554% of viewport)
[16:09:56] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[16:09:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2053.242, 564.1889), shooter_id=125963340882, bullet_pos=(1373.6932, 695.05334)
[16:09:56] [INFO] [Bullet] Using shooter_position, distance=692,0346
[16:09:56] [INFO] [Bullet] Distance to wall: 692,0346 (47,12191% of viewport)
[16:09:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2050.0894, 539.4321), shooter_id=125963340882, bullet_pos=(1467.8827, 599.8483)
[16:09:56] [INFO] [Bullet] Using shooter_position, distance=585,333
[16:09:56] [INFO] [Bullet] Distance to wall: 585,333 (39,8564% of viewport)
[16:09:56] [INFO] [Bullet] Within ricochet range - trying ricochet first
[16:09:56] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[16:09:56] [ENEMY] [Enemy7] Player reloading: false -> true
[16:09:56] [ENEMY] [Enemy8] Player reloading: false -> true
[16:09:56] [ENEMY] [Enemy9] Player reloading: false -> true
[16:09:56] [ENEMY] [Enemy10] Player reloading: false -> true
[16:09:56] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(2009.198, 505.8815), source=PLAYER (Player), range=900, listeners=3
[16:09:56] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=0
[16:09:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2053.242, 564.1889), shooter_id=125963340882, bullet_pos=(1422.4692, 776.93976)
[16:09:56] [INFO] [Bullet] Using shooter_position, distance=665,6855
[16:09:56] [INFO] [Bullet] Distance to wall: 665,6855 (45,32775% of viewport)
[16:09:56] [ENEMY] [Enemy8] Player vulnerable (reloading) but cannot attack: close=false (dist=950), can_see=false
[16:09:56] [ENEMY] [Enemy9] Player vulnerable (reloading) but cannot attack: close=false (dist=1050), can_see=false
[16:09:56] [ENEMY] [Enemy10] Player vulnerable (reloading) but cannot attack: close=false (dist=1382), can_see=false
[16:09:56] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:09:56] [INFO] [BloodDecal] Blood puddle created at (1531.725, 554.3328) (added to group)
[16:09:56] [INFO] [BloodDecal] Blood puddle created at (1520.716, 583.645) (added to group)
[16:09:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2053.242, 564.1889), shooter_id=125963340882, bullet_pos=(1505.5739, 612.6423)
[16:09:56] [INFO] [Bullet] Using shooter_position, distance=549,8073
[16:09:56] [INFO] [Bullet] Distance to wall: 549,8073 (37,437393% of viewport)
[16:09:56] [INFO] [Bullet] Within ricochet range - trying ricochet first
[16:09:56] [INFO] [BloodDecal] Blood puddle created at (1561.077, 595.9479) (added to group)
[16:09:56] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[16:09:56] [INFO] [BloodDecal] Blood puddle created at (1526.886, 564.5362) (added to group)
[16:09:56] [INFO] [BloodDecal] Blood puddle created at (1652.738, 592.8832) (added to group)
[16:09:56] [ENEMY] [Enemy7] Ragdoll activated
[16:09:56] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[16:09:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2053.242, 564.1889), shooter_id=125963340882, bullet_pos=(1610.6337, 783.7095)
[16:09:56] [INFO] [Bullet] Using shooter_position, distance=494,05603
[16:09:56] [INFO] [Bullet] Distance to wall: 494,05603 (33,641182% of viewport)
[16:09:56] [INFO] [Bullet] Within ricochet range - trying ricochet first
[16:09:56] [INFO] [BloodDecal] Blood puddle created at (1558.287, 596.9058) (added to group)
[16:09:56] [INFO] [BloodDecal] Blood puddle created at (1605.807, 580.8552) (added to group)
[16:09:56] [INFO] [Player.Reload.Anim] Phase changed to: PullBolt (duration: 0,35s)
[16:09:56] [ENEMY] [Enemy7] Player reloading: true -> false
[16:09:56] [ENEMY] [Enemy8] Player reloading: true -> false
[16:09:56] [ENEMY] [Enemy9] Player reloading: true -> false
[16:09:56] [ENEMY] [Enemy10] Player reloading: true -> false
[16:09:56] [ENEMY] [Enemy7] Player ammo empty: true -> false
[16:09:56] [ENEMY] [Enemy8] Player ammo empty: true -> false
[16:09:56] [ENEMY] [Enemy9] Player ammo empty: true -> false
[16:09:56] [ENEMY] [Enemy10] Player ammo empty: true -> false
[16:09:56] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[16:09:56] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:09:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2050.0894, 539.4321), shooter_id=125963340882, bullet_pos=(510.54666, 513.18506)
[16:09:56] [INFO] [Bullet] Using shooter_position, distance=1539,7665
[16:09:56] [INFO] [Bullet] Distance to wall: 1539,7665 (104,845535% of viewport)
[16:09:56] [INFO] [Bullet] Distance-based penetration chance: 29,030895%
[16:09:56] [INFO] [Bullet] Penetration failed (distance roll)
[16:09:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2053.242, 564.1889), shooter_id=125963340882, bullet_pos=(1732.3771, 614.6101)
[16:09:56] [INFO] [Bullet] Using shooter_position, distance=324,80234
[16:09:56] [INFO] [Bullet] Distance to wall: 324,80234 (22,116388% of viewport)
[16:09:56] [INFO] [Bullet] Within ricochet range - trying ricochet first
[16:09:56] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[16:09:56] [INFO] [ReplayManager] Recording frame 1140 (17,0s): player_valid=True, enemies=10
[16:09:57] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:09:57] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:09:57] [ENEMY] [Enemy7] Death animation completed
[16:09:57] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:09:57] [INFO] [ReplayManager] Recording frame 1200 (18,0s): player_valid=True, enemies=10
[16:09:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1908.668, 535.1265), source=PLAYER (AssaultRifle), range=1469, listeners=3
[16:09:57] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=3
[16:09:58] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:09:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1935.891, 562.3502), source=PLAYER (AssaultRifle), range=1469, listeners=3
[16:09:58] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=3
[16:09:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1963.114, 589.5739), source=PLAYER (AssaultRifle), range=1469, listeners=3
[16:09:58] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=3
[16:09:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1935.8909, 562.3502), shooter_id=125963340882, bullet_pos=(1742.6007, 1211.1707)
[16:09:58] [INFO] [Bullet] Using shooter_position, distance=677,00006
[16:09:58] [INFO] [Bullet] Distance to wall: 677,00006 (46,098183% of viewport)
[16:09:58] [INFO] [Bullet] Distance-based penetration chance: 92,88546%
[16:09:58] [INFO] [Bullet] Penetration failed (distance roll)
[16:09:58] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:09:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1908.6676, 535.1265), shooter_id=125963340882, bullet_pos=(1511.6357, 1598.7756)
[16:09:58] [INFO] [Bullet] Using shooter_position, distance=1135,3342
[16:09:58] [INFO] [Bullet] Distance to wall: 1135,3342 (77,307% of viewport)
[16:09:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1963.1141, 589.5739), shooter_id=125963340882, bullet_pos=(1805.2903, 1204.9923)
[16:09:58] [INFO] [Bullet] Using shooter_position, distance=635,3331
[16:09:58] [INFO] [Bullet] Distance to wall: 635,3331 (43,261% of viewport)
[16:09:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1908.6676, 535.1265), shooter_id=125963340882, bullet_pos=(1750.3514, 2078.9626)
[16:09:58] [INFO] [Bullet] Using shooter_position, distance=1551,9324
[16:09:58] [INFO] [Bullet] Distance to wall: 1551,9324 (105,673935% of viewport)
[16:09:58] [INFO] [Bullet] Distance-based penetration chance: 28,865215%
[16:09:58] [INFO] [Bullet] Penetration failed (distance roll)
[16:09:58] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:09:58] [INFO] [ReplayManager] Recording frame 1260 (19,0s): player_valid=True, enemies=10
[16:09:59] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[16:09:59] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P1:visible, state=IDLE, target=-39.2°, current=0.6°, player=(1988,925), corner_timer=0.02
[16:09:59] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[16:09:59] [INFO] [BloodyFeet:Player] Blood ran out - no more footprints
[16:09:59] [ENEMY] [Enemy10] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-38.5°, current=-134.7°, player=(1988,936), corner_timer=0.02
[16:09:59] [INFO] [ReplayManager] Recording frame 1320 (20,0s): player_valid=True, enemies=10
[16:09:59] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[16:10:00] [ENEMY] [Enemy8] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=-51.6°, current=-56.3°, player=(2120,1172), corner_timer=0.00
[16:10:00] [ENEMY] [Enemy8] State: IDLE -> COMBAT
[16:10:00] [ENEMY] [Enemy8] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-50.2°, current=-101.7°, player=(2131,1172), corner_timer=0.00
[16:10:00] [ENEMY] [Enemy8] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-49.5°, current=-98.2°, player=(2136,1172), corner_timer=0.00
[16:10:00] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2147.86, 1178.468), source=PLAYER (AssaultRifle), range=1469, listeners=3
[16:10:00] [ENEMY] [Enemy9] Heard gunshot at (2147.86, 1178.468), source_type=0, intensity=0.02, distance=375
[16:10:00] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=1
[16:10:00] [ENEMY] [Enemy9] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=-82.8°, current=11.3°, player=(2147,1172), corner_timer=0.00
[16:10:00] [ENEMY] [Enemy9] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-81.9°, current=-74.4°, player=(2153,1172), corner_timer=0.00
[16:10:00] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2186.36, 1178.468), source=PLAYER (AssaultRifle), range=1469, listeners=3
[16:10:00] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=1
[16:10:00] [ENEMY] [Enemy9] Hit taken, damage: 1, health: 4/4 -> 3/4
[16:10:00] [ENEMY] [Enemy9] ImpactEffectsManager found, calling spawn_blood_effect
[16:10:00] [INFO] [ImpactEffects] spawn_blood_effect called at (2114.852, 1482.392), dir=(1, 0), lethal=false
[16:10:00] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[16:10:00] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[16:10:00] [INFO] [ImpactEffects] Blood effect spawned at (2114.852, 1482.392) (scale=1)
[16:10:00] [ENEMY] [Enemy9] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-71.4°, current=180.0°, player=(2219,1172), corner_timer=0.00
[16:10:00] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2224.86, 1178.468), source=PLAYER (AssaultRifle), range=1469, listeners=3
[16:10:00] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=1
[16:10:00] [ENEMY] [Enemy9] State: COMBAT -> RETREATING
[16:10:00] [ENEMY] [Enemy9] ROT_CHANGE: P2:combat_state -> P4:velocity, state=RETREATING, target=-69.0°, current=-164.6°, player=(2242,1172), corner_timer=0.00
[16:10:00] [ENEMY] [Enemy9] Hit taken, damage: 1, health: 3/4 -> 2/4
[16:10:00] [ENEMY] [Enemy9] ImpactEffectsManager found, calling spawn_blood_effect
[16:10:00] [INFO] [ImpactEffects] spawn_blood_effect called at (2116.18, 1462.159), dir=(1, 0), lethal=false
[16:10:00] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[16:10:00] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[16:10:00] [INFO] [ImpactEffects] Blood effect spawned at (2116.18, 1462.159) (scale=1)
[16:10:00] [INFO] [ReplayManager] Recording frame 1380 (20,9s): player_valid=True, enemies=10
[16:10:00] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2260.059, 1178.468), source=PLAYER (AssaultRifle), range=1469, listeners=3
[16:10:00] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=1
[16:10:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2147.8596, 1178.4684), shooter_id=125963340882, bullet_pos=(1923.9639, 2086.6094)
[16:10:00] [INFO] [Bullet] Using shooter_position, distance=935,3338
[16:10:00] [INFO] [Bullet] Distance to wall: 935,3338 (63,6886% of viewport)
[16:10:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2295.013, 1177.877), source=PLAYER (AssaultRifle), range=1469, listeners=3
[16:10:01] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=1
[16:10:01] [ENEMY] [Enemy9] Hit taken, damage: 1, health: 2/4 -> 1/4
[16:10:01] [ENEMY] [Enemy9] ImpactEffectsManager found, calling spawn_blood_effect
[16:10:01] [INFO] [ImpactEffects] spawn_blood_effect called at (2097.134, 1464.581), dir=(1, 0), lethal=false
[16:10:01] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[16:10:01] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[16:10:01] [INFO] [ImpactEffects] Blood effect spawned at (2097.134, 1464.581) (scale=1)
[16:10:01] [INFO] [BloodDecal] Blood puddle created at (2203.009, 1534.173) (added to group)
[16:10:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2325.968, 1167.628), source=PLAYER (AssaultRifle), range=1469, listeners=3
[16:10:01] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=1
[16:10:01] [INFO] [ScoreManager] Combo ended at 3. Max combo: 4
[16:10:01] [INFO] [BloodDecal] Blood puddle created at (2235.56, 1470.367) (added to group)
[16:10:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2351.995, 1145.483), source=PLAYER (AssaultRifle), range=1469, listeners=3
[16:10:01] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=1
[16:10:01] [INFO] [BloodDecal] Blood puddle created at (2260.194, 1543.313) (added to group)
[16:10:01] [INFO] [BloodDecal] Blood puddle created at (2216.424, 1520.302) (added to group)
[16:10:01] [ENEMY] [Enemy9] Hit taken, damage: 1, health: 1/4 -> 0/4
[16:10:01] [ENEMY] [Enemy9] ImpactEffectsManager found, calling spawn_blood_effect
[16:10:01] [INFO] [ImpactEffects] spawn_blood_effect called at (2082.264, 1507.806), dir=(1, 0), lethal=true
[16:10:01] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[16:10:01] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[16:10:01] [INFO] [ImpactEffects] Blood effect spawned at (2082.264, 1507.806) (scale=1.5)
[16:10:01] [ENEMY] [Enemy9] Enemy died (ricochet: false, penetration: false)
[16:10:01] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[16:10:01] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[16:10:01] [INFO] [PowerFantasy] Starting power fantasy effect:
[16:10:01] [INFO] [PowerFantasy]   - Time scale: 0.10
[16:10:01] [INFO] [PowerFantasy]   - Duration: 300ms
[16:10:01] [ENEMY] [Enemy9] [AllyDeath] Notified 1 enemies
[16:10:01] [INFO] [SoundPropagation] Unregistered listener: Enemy9 (remaining: 2)
[16:10:01] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[16:10:01] [ENEMY] [Enemy9] Death animation started with hit direction: (1, 0)
[16:10:01] [INFO] [BloodDecal] Blood puddle created at (2214.948, 1450.101) (added to group)
[16:10:01] [INFO] [BloodDecal] Blood puddle created at (2271.05, 1566.398) (added to group)
[16:10:01] [INFO] [BloodDecal] Blood puddle created at (2154.698, 1469.264) (added to group)
[16:10:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2101.219, 1294.393), source=ENEMY (Enemy8), range=1469, listeners=2
[16:10:01] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=1
[16:10:01] [INFO] [BloodDecal] Blood puddle created at (2157.094, 1510.949) (added to group)
[16:10:01] [INFO] [BloodDecal] Blood puddle created at (2206.116, 1515.96) (added to group)
[16:10:01] [INFO] [PowerFantasy] Effect duration expired after 302.00 ms
[16:10:01] [INFO] [PowerFantasy] Ending power fantasy effect
[16:10:01] [INFO] [BloodDecal] Blood puddle created at (2260.922, 1494.841) (added to group)
[16:10:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2377.037, 1118.868), source=PLAYER (AssaultRifle), range=1469, listeners=2
[16:10:01] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=1
[16:10:01] [INFO] [BloodDecal] Blood puddle created at (2236.626, 1519.755) (added to group)
[16:10:01] [INFO] [BloodDecal] Blood puddle created at (2164.406, 1486.42) (added to group)
[16:10:01] [INFO] [LastChance] Threat detected: Bullet
[16:10:01] [INFO] [LastChance] Not in hard mode - effect disabled
[16:10:01] [INFO] [LastChance] Cannot trigger effect - conditions not met
[16:10:01] [INFO] [BloodDecal] Blood puddle created at (2210.137, 1564.857) (added to group)
[16:10:01] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2351.9954, 1145.483), shooter_id=125963340882, bullet_pos=(2040.4147, 1495.5768)
[16:10:01] [INFO] [Bullet] Using shooter_position, distance=468,66635
[16:10:01] [INFO] [Bullet] Distance to wall: 468,66635 (31,912354% of viewport)
[16:10:01] [INFO] [Bullet] Within ricochet range - trying ricochet first
[16:10:01] [INFO] [Bullet] Starting wall penetration at (2040.4147, 1495.5768)
[16:10:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2126.184, 1278), source=ENEMY (Enemy8), range=1469, listeners=2
[16:10:01] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=1
[16:10:01] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[16:10:01] [INFO] [Bullet] Exiting penetration at (2009.3895, 1530.4366) after traveling 41,666668 pixels through wall
[16:10:01] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[16:10:01] [INFO] [BloodDecal] Blood puddle created at (2214.746, 1533.098) (added to group)
[16:10:01] [INFO] [Player] Spawning blood effect at (2386.292, 1101.4884), dir=(1, 0), lethal=False (C#)
[16:10:01] [INFO] [ImpactEffects] spawn_blood_effect called at (2386.292, 1101.488), dir=(1, 0), lethal=false
[16:10:01] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[16:10:01] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[16:10:01] [INFO] [ImpactEffects] Wall found for blood splatter at (2464, 1101.488) (dist=77 px)
[16:10:01] [INFO] [BloodDecal] Blood puddle created at (2463, 1101.488) (added to group)
[16:10:01] [INFO] [ImpactEffects] Blood effect spawned at (2386.292, 1101.488) (scale=1)
[16:10:01] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 9.0
[16:10:01] [INFO] [LastChance] Player health updated (C# Damaged): 9.0
[16:10:01] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2295.0134, 1177.8771), shooter_id=125963340882, bullet_pos=(1699.3864, 2085.1658)
[16:10:01] [INFO] [Bullet] Using shooter_position, distance=1085,3314
[16:10:01] [INFO] [Bullet] Distance to wall: 1085,3314 (73,902214% of viewport)
[16:10:01] [INFO] [Bullet] Distance-based penetration chance: 60,44742%
[16:10:01] [INFO] [Bullet] Penetration failed (distance roll)
[16:10:01] [INFO] [BloodDecal] Blood puddle created at (2273.3, 1537.719) (added to group)
[16:10:01] [INFO] [BloodDecal] Blood puddle created at (2249.69, 1485.008) (added to group)
[16:10:01] [INFO] [BloodDecal] Blood puddle created at (2201.264, 1518.757) (added to group)
[16:10:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2391.022, 1101.609), source=PLAYER (AssaultRifle), range=1469, listeners=2
[16:10:01] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=1
[16:10:01] [INFO] [LastChance] Threat detected: @Area2D@1246
[16:10:01] [INFO] [LastChance] Not in hard mode - effect disabled
[16:10:01] [INFO] [LastChance] Cannot trigger effect - conditions not met
[16:10:01] [ENEMY] [Enemy10] PURSUING corner check: angle 80.0°
[16:10:01] [INFO] [BloodDecal] Blood puddle created at (2318.794, 1541.543) (added to group)
[16:10:01] [INFO] [BloodDecal] Blood puddle created at (2274.583, 1669.273) (added to group)
[16:10:01] [ENEMY] [Enemy8] State: COMBAT -> RETREATING
[16:10:01] [INFO] [BloodDecal] Blood puddle created at (2205.327, 1501.124) (added to group)
[16:10:01] [INFO] [BloodDecal] Blood puddle created at (2145.346, 1510.999) (added to group)
[16:10:01] [INFO] [Player] Spawning blood effect at (2394.9937, 1092.5889), dir=(1, 0), lethal=False (C#)
[16:10:01] [INFO] [ImpactEffects] spawn_blood_effect called at (2394.994, 1092.589), dir=(1, 0), lethal=false
[16:10:01] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[16:10:01] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[16:10:01] [INFO] [ImpactEffects] Wall found for blood splatter at (2464, 1092.589) (dist=69 px)
[16:10:01] [INFO] [BloodDecal] Blood puddle created at (2463, 1092.589) (added to group)
[16:10:01] [INFO] [ImpactEffects] Blood effect spawned at (2394.994, 1092.589) (scale=1)
[16:10:01] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 8.0
[16:10:01] [INFO] [LastChance] Player health updated (C# Damaged): 8.0
[16:10:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2156.988, 1256.908), source=ENEMY (Enemy8), range=1469, listeners=2
[16:10:01] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=1
[16:10:01] [INFO] [ReplayManager] Recording frame 1440 (21,6s): player_valid=True, enemies=10
[16:10:01] [INFO] [BloodDecal] Blood puddle created at (2290.45, 1578.136) (added to group)
[16:10:01] [INFO] [BloodDecal] Blood puddle created at (2227.386, 1557.95) (added to group)
[16:10:01] [INFO] [BloodDecal] Blood puddle created at (2276.875, 1485.56) (added to group)
[16:10:01] [INFO] [BloodDecal] Blood puddle created at (2144.929, 1547.104) (added to group)
[16:10:01] [INFO] [BloodDecal] Blood puddle created at (2141.839, 1498.895) (added to group)
[16:10:01] [INFO] [LastChance] Threat detected: @Area2D@1264
[16:10:01] [INFO] [LastChance] Not in hard mode - effect disabled
[16:10:01] [INFO] [LastChance] Cannot trigger effect - conditions not met
[16:10:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2399.359, 1099.134), source=PLAYER (AssaultRifle), range=1469, listeners=2
[16:10:01] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=1
[16:10:01] [INFO] [BloodDecal] Blood puddle created at (2308.394, 1613.312) (added to group)
[16:10:01] [INFO] [BloodDecal] Blood puddle created at (2229.227, 1507.529) (added to group)
[16:10:01] [INFO] [BloodDecal] Blood puddle created at (2227.642, 1542.458) (added to group)
[16:10:01] [INFO] [BloodDecal] Blood puddle created at (2168.116, 1564.662) (added to group)
[16:10:01] [INFO] [BloodDecal] Blood puddle created at (2139.572, 1531.471) (added to group)
[16:10:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2130.873, 1255.938), source=ENEMY (Enemy8), range=1469, listeners=2
[16:10:02] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=1
[16:10:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2217.0474, 1224.9215), shooter_id=124369505267, bullet_pos=(2477.5974, 1093.8356)
[16:10:02] [INFO] [Bullet] Using shooter_position, distance=291,66736
[16:10:02] [INFO] [Bullet] Distance to wall: 291,66736 (19,860168% of viewport)
[16:10:02] [INFO] [Bullet] Within ricochet range - trying ricochet first
[16:10:02] [INFO] [BloodDecal] Blood puddle created at (2266.131, 1479.758) (added to group)
[16:10:02] [INFO] [BloodDecal] Blood puddle created at (2276.199, 1583.356) (added to group)
[16:10:02] [INFO] [BloodDecal] Blood puddle created at (2155.146, 1521.059) (added to group)
[16:10:02] [INFO] [BloodDecal] Blood puddle created at (2434.948, 1108.189) (added to group)
[16:10:02] [INFO] [BloodDecal] Blood puddle created at (2260.997, 1568.972) (added to group)
[16:10:02] [INFO] [BloodDecal] Blood puddle created at (2201.738, 1550.22) (added to group)
[16:10:02] [INFO] [BloodDecal] Blood puddle created at (2168.32, 1535.876) (added to group)
[16:10:02] [INFO] [BloodDecal] Blood puddle created at (2432.448, 1134.473) (added to group)
[16:10:02] [INFO] [BloodDecal] Blood puddle created at (2463.865, 1131.334) (added to group)
[16:10:02] [INFO] [LastChance] Threat detected: @Area2D@1278
[16:10:02] [INFO] [LastChance] Not in hard mode - effect disabled
[16:10:02] [INFO] [LastChance] Cannot trigger effect - conditions not met
[16:10:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2404.9, 1115.904), source=PLAYER (AssaultRifle), range=1469, listeners=2
[16:10:02] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=1
[16:10:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2105.005, 1256.448), source=ENEMY (Enemy8), range=1469, listeners=2
[16:10:02] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=1
[16:10:02] [ENEMY] [Enemy9] Ragdoll activated
[16:10:02] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[16:10:02] [INFO] [BloodDecal] Blood puddle created at (2225.791, 1504.464) (added to group)
[16:10:02] [INFO] [BloodDecal] Blood puddle created at (2163.264, 1536.504) (added to group)
[16:10:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2377.0366, 1118.868), shooter_id=125963340882, bullet_pos=(1504.5854, 1778.3651)
[16:10:02] [INFO] [Bullet] Using shooter_position, distance=1093,667
[16:10:02] [INFO] [Bullet] Distance to wall: 1093,667 (74,469795% of viewport)
[16:10:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2193.0486, 1228.5164), shooter_id=124369505267, bullet_pos=(2465.3103, 1036.2019)
[16:10:02] [INFO] [Bullet] Using shooter_position, distance=333,33362
[16:10:02] [INFO] [Bullet] Distance to wall: 333,33362 (22,6973% of viewport)
[16:10:02] [INFO] [Bullet] Within ricochet range - trying ricochet first
[16:10:02] [INFO] [Bullet] Starting wall penetration at (2465.3103, 1036.2019)
[16:10:02] [INFO] [Bullet] Raycast backward hit penetrating body at distance 9,092957
[16:10:02] [INFO] [BloodDecal] Blood puddle created at (2188.63, 1559.122) (added to group)
[16:10:02] [INFO] [BloodDecal] Blood puddle created at (2443.452, 1091.155) (added to group)
[16:10:02] [INFO] [Bullet] Body exited signal received for penetrating body
[16:10:02] [INFO] [Bullet] Exiting penetration at (2503.427, 1009.2779) after traveling 41,666668 pixels through wall
[16:10:02] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[16:10:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2391.0217, 1101.6095), shooter_id=125963340882, bullet_pos=(1692.3018, 1645.3062)
[16:10:02] [INFO] [Bullet] Using shooter_position, distance=885,3336
[16:10:02] [INFO] [Bullet] Distance to wall: 885,3336 (60,283997% of viewport)
[16:10:02] [INFO] [Bullet] Distance-based penetration chance: 76,33534%
[16:10:02] [INFO] [Bullet] Penetration failed (distance roll)
[16:10:02] [INFO] [LastChance] Threat detected: @Area2D@1293
[16:10:02] [INFO] [LastChance] Not in hard mode - effect disabled
[16:10:02] [INFO] [LastChance] Cannot trigger effect - conditions not met
[16:10:02] [ENEMY] [Enemy10] PURSUING corner check: angle 80.0°
[16:10:02] [INFO] [BloodDecal] Blood puddle created at (2219.134, 1605.685) (added to group)
[16:10:02] [INFO] [BloodDecal] Blood puddle created at (2166.596, 1614.208) (added to group)
[16:10:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2404.644, 1151.143), source=PLAYER (AssaultRifle), range=1469, listeners=2
[16:10:02] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=1
[16:10:02] [INFO] [BloodDecal] Blood puddle created at (2201.263, 1544.026) (added to group)
[16:10:02] [INFO] [BloodDecal] Blood puddle created at (2454.318, 1144.54) (added to group)
[16:10:02] [INFO] [Player] Spawning blood effect at (2403.476, 1149.6984), dir=(1, 0), lethal=False (C#)
[16:10:02] [INFO] [ImpactEffects] spawn_blood_effect called at (2403.476, 1149.698), dir=(1, 0), lethal=false
[16:10:02] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[16:10:02] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[16:10:02] [INFO] [ImpactEffects] Wall found for blood splatter at (2464, 1149.698) (dist=60 px)
[16:10:02] [INFO] [BloodDecal] Blood puddle created at (2463, 1149.698) (added to group)
[16:10:02] [INFO] [ImpactEffects] Blood effect spawned at (2403.476, 1149.698) (scale=1)
[16:10:02] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 7.0
[16:10:02] [INFO] [LastChance] Player health updated (C# Damaged): 7.0
[16:10:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2079.798, 1260.914), source=ENEMY (Enemy8), range=1469, listeners=2
[16:10:02] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=1
[16:10:02] [INFO] [BloodDecal] Blood puddle created at (2183.385, 1600.393) (added to group)
[16:10:02] [INFO] [BloodDecal] Blood puddle created at (2175.105, 1609.599) (added to group)
[16:10:02] [INFO] [BloodDecal] Blood puddle created at (2275.023, 1556.89) (added to group)
[16:10:02] [INFO] [BloodDecal] Blood puddle created at (2451.66, 1131.484) (added to group)
[16:10:02] [INFO] [BloodDecal] Blood puddle created at (2457.77, 1137.624) (added to group)
[16:10:02] [INFO] [BloodDecal] Blood puddle created at (2450.646, 1140.845) (added to group)
[16:10:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2399.3591, 1099.1343), shooter_id=125963340882, bullet_pos=(1696.0586, 1636.8938)
[16:10:02] [INFO] [Bullet] Using shooter_position, distance=885,3344
[16:10:02] [INFO] [Bullet] Distance to wall: 885,3344 (60,28405% of viewport)
[16:10:02] [INFO] [BloodDecal] Blood puddle created at (2205.186, 1628.181) (added to group)
[16:10:02] [INFO] [LastChance] Threat detected: @Area2D@1321
[16:10:02] [INFO] [LastChance] Not in hard mode - effect disabled
[16:10:02] [INFO] [LastChance] Cannot trigger effect - conditions not met
[16:10:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2377.0366, 1118.868), shooter_id=125963340882, bullet_pos=(1874.5051, 2060.8042)
[16:10:02] [INFO] [Bullet] Using shooter_position, distance=1067,6056
[16:10:02] [INFO] [Bullet] Distance to wall: 1067,6056 (72,69523% of viewport)
[16:10:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2054.469, 1264.569), source=ENEMY (Enemy8), range=1469, listeners=2
[16:10:02] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=1
[16:10:02] [INFO] [BloodDecal] Blood puddle created at (2222.239, 1679.799) (added to group)
[16:10:02] [INFO] [BloodDecal] Blood puddle created at (2184.153, 1617.27) (added to group)
[16:10:02] [INFO] [BloodDecal] Blood puddle created at (2241.17, 1632.789) (added to group)
[16:10:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2380.344, 1190.255), source=PLAYER (AssaultRifle), range=1469, listeners=2
[16:10:02] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=1
[16:10:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2146.1467, 1246.3633), shooter_id=124369505267, bullet_pos=(2492.438, 1102.461)
[16:10:02] [INFO] [Bullet] Using shooter_position, distance=375,00064
[16:10:02] [INFO] [Bullet] Distance to wall: 375,00064 (25,534483% of viewport)
[16:10:02] [INFO] [Bullet] Within ricochet range - trying ricochet first
[16:10:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2404.9001, 1115.9038), shooter_id=125963340882, bullet_pos=(1691.2766, 1639.888)
[16:10:02] [INFO] [Bullet] Using shooter_position, distance=885,3349
[16:10:02] [INFO] [Bullet] Distance to wall: 885,3349 (60,284084% of viewport)
[16:10:02] [INFO] [LastChance] Threat detected: @Area2D@1332
[16:10:02] [INFO] [LastChance] Not in hard mode - effect disabled
[16:10:02] [INFO] [LastChance] Cannot trigger effect - conditions not met
[16:10:02] [INFO] [Player] Spawning blood effect at (2360.2644, 1194.6099), dir=(1, 0), lethal=False (C#)
[16:10:02] [INFO] [ImpactEffects] spawn_blood_effect called at (2360.264, 1194.61), dir=(1, 0), lethal=false
[16:10:02] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[16:10:02] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[16:10:02] [INFO] [ImpactEffects] Blood effect spawned at (2360.264, 1194.61) (scale=1)
[16:10:02] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 6.0
[16:10:02] [INFO] [LastChance] Player health updated (C# Damaged): 6.0
[16:10:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2029.023, 1267.353), source=ENEMY (Enemy8), range=1469, listeners=2
[16:10:02] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=1
[16:10:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2350.874, 1202.855), source=PLAYER (AssaultRifle), range=1469, listeners=2
[16:10:02] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=1
[16:10:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2404.6436, 1151.1428), shooter_id=125963340882, bullet_pos=(1693.4722, 1605.0248)
[16:10:02] [INFO] [Bullet] Using shooter_position, distance=843,66675
[16:10:02] [INFO] [Bullet] Distance to wall: 843,66675 (57,44682% of viewport)
[16:10:02] [INFO] [LastChance] Threat detected: @Area2D@1342
[16:10:02] [INFO] [LastChance] Not in hard mode - effect disabled
[16:10:02] [INFO] [LastChance] Cannot trigger effect - conditions not met
[16:10:02] [INFO] [Player] Spawning blood effect at (2327.0295, 1203.5862), dir=(1, 0), lethal=False (C#)
[16:10:02] [INFO] [ImpactEffects] spawn_blood_effect called at (2327.03, 1203.586), dir=(1, 0), lethal=false
[16:10:02] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[16:10:02] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[16:10:02] [INFO] [ImpactEffects] Blood effect spawned at (2327.03, 1203.586) (scale=1)
[16:10:02] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 5.0
[16:10:02] [INFO] [LastChance] Player health updated (C# Damaged): 5.0
[16:10:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2003.431, 1267.675), source=ENEMY (Enemy8), range=1469, listeners=2
[16:10:02] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=1
[16:10:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2380.3438, 1190.2554), shooter_id=125963340882, bullet_pos=(1703.3712, 1431.481)
[16:10:02] [INFO] [Bullet] Using shooter_position, distance=718,66656
[16:10:02] [INFO] [Bullet] Distance to wall: 718,66656 (48,93533% of viewport)
[16:10:02] [INFO] [Bullet] Distance-based penetration chance: 89,575455%
[16:10:02] [INFO] [Bullet] Starting wall penetration at (1703.3712, 1431.481)
[16:10:02] [INFO] [LastChance] Threat detected: @Area2D@1348
[16:10:02] [INFO] [LastChance] Not in hard mode - effect disabled
[16:10:02] [INFO] [LastChance] Cannot trigger effect - conditions not met
[16:10:02] [INFO] [Bullet] Raycast backward hit penetrating body at distance 17,609793
[16:10:02] [INFO] [Bullet] Body exited signal received for penetrating body
[16:10:02] [INFO] [Bullet] Exiting penetration at (1659.4119, 1447.1449) after traveling 41,66667 pixels through wall
[16:10:02] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[16:10:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1977.835, 1269.71), source=ENEMY (Enemy8), range=1469, listeners=2
[16:10:02] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=1
[16:10:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2377.0366, 1118.868), shooter_id=125963340882, bullet_pos=(2481.008, 1716.5422)
[16:10:02] [INFO] [Bullet] Using shooter_position, distance=606,6502
[16:10:02] [INFO] [Bullet] Distance to wall: 606,6502 (41,30793% of viewport)
[16:10:02] [INFO] [Bullet] Distance-based penetration chance: 98,47408%
[16:10:02] [INFO] [Bullet] Starting wall penetration at (2481.008, 1716.5422)
[16:10:02] [INFO] [Bullet] Raycast backward hit penetrating body at distance 17,865559
[16:10:02] [INFO] [Bullet] Body exited signal received for penetrating body
[16:10:02] [INFO] [Bullet] Exiting penetration at (2511.537, 1699.2134) after traveling 30,104166 pixels through wall
[16:10:02] [INFO] [Bullet] Damage multiplier after penetration: 0,225
[16:10:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2277.439, 1234.715), source=PLAYER (AssaultRifle), range=1469, listeners=2
[16:10:02] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=1
[16:10:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2071.2026, 1262.2042), shooter_id=124369505267, bullet_pos=(2484.755, 1211.357)
[16:10:02] [INFO] [Bullet] Using shooter_position, distance=416,6664
[16:10:02] [INFO] [Bullet] Distance to wall: 416,6664 (28,371584% of viewport)
[16:10:02] [INFO] [Bullet] Within ricochet range - trying ricochet first
[16:10:02] [INFO] [Bullet] Starting wall penetration at (2484.755, 1211.357)
[16:10:02] [INFO] [LastChance] Threat detected: @Area2D@1351
[16:10:02] [INFO] [LastChance] Not in hard mode - effect disabled
[16:10:02] [INFO] [LastChance] Cannot trigger effect - conditions not met
[16:10:02] [INFO] [Bullet] Raycast backward hit penetrating body at distance 35,33686
[16:10:02] [INFO] [Bullet] Body exited signal received for penetrating body
[16:10:02] [INFO] [Bullet] Exiting penetration at (2531.0728, 1205.6622) after traveling 41,666668 pixels through wall
[16:10:02] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[16:10:02] [INFO] [BloodDecal] Blood puddle created at (2459.081, 1223.281) (added to group)
[16:10:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1952.012, 1270.935), source=ENEMY (Enemy8), range=1469, listeners=2
[16:10:02] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=1
[16:10:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2350.8735, 1202.8551), shooter_id=125963340882, bullet_pos=(1513.6682, 1490.7847)
[16:10:02] [INFO] [Bullet] Using shooter_position, distance=885,3339
[16:10:02] [INFO] [Bullet] Distance to wall: 885,3339 (60,28402% of viewport)
[16:10:02] [INFO] [BloodDecal] Blood puddle created at (2427.679, 1240.914) (added to group)
[16:10:02] [INFO] [LastChance] Threat detected: Bullet
[16:10:02] [INFO] [LastChance] Not in hard mode - effect disabled
[16:10:02] [INFO] [LastChance] Cannot trigger effect - conditions not met
[16:10:02] [INFO] [BloodDecal] Blood puddle created at (2372.8, 1212.643) (added to group)
[16:10:02] [ENEMY] [Enemy8] Hit taken, damage: 1, health: 3/3 -> 2/3
[16:10:02] [ENEMY] [Enemy8] ImpactEffectsManager found, calling spawn_blood_effect
[16:10:02] [INFO] [ImpactEffects] spawn_blood_effect called at (1937.084, 1270.898), dir=(1, 0), lethal=false
[16:10:02] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[16:10:02] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[16:10:02] [INFO] [ImpactEffects] Blood effect spawned at (1937.084, 1270.898) (scale=1)
[16:10:02] [ENEMY] [Enemy8] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=-177.7°, current=180.0°, player=(2239,1230), corner_timer=0.00
[16:10:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2234.053, 1236.15), source=PLAYER (AssaultRifle), range=1469, listeners=2
[16:10:02] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=1
[16:10:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2045.8112, 1267.5355), shooter_id=124369505267, bullet_pos=(2485.7576, 1139.0214)
[16:10:02] [INFO] [Bullet] Using shooter_position, distance=458,33255
[16:10:02] [INFO] [Bullet] Distance to wall: 458,33255 (31,208706% of viewport)
[16:10:02] [INFO] [Bullet] Within ricochet range - trying ricochet first
[16:10:02] [INFO] [ReplayManager] Recording frame 1500 (22,6s): player_valid=True, enemies=10
[16:10:02] [INFO] [BloodDecal] Blood puddle created at (2406.577, 1256.372) (added to group)
[16:10:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2350.8735, 1202.8551), shooter_id=125963340882, bullet_pos=(1688.794, 1540.6382)
[16:10:02] [INFO] [Bullet] Using shooter_position, distance=743,26764
[16:10:02] [INFO] [Bullet] Distance to wall: 743,26764 (50,61046% of viewport)
[16:10:02] [INFO] [Bullet] Distance-based penetration chance: 87,62113%
[16:10:02] [INFO] [Bullet] Starting wall penetration at (1688.794, 1540.6382)
[16:10:02] [INFO] [Bullet] Raycast backward hit penetrating body at distance 28,765415
[16:10:02] [INFO] [Bullet] Body exited signal received for penetrating body
[16:10:02] [INFO] [Bullet] Exiting penetration at (1727.6663, 1551.7041) after traveling 35,416668 pixels through wall
[16:10:02] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[16:10:02] [INFO] [BloodDecal] Blood puddle created at (2395.263, 1239.153) (added to group)
[16:10:02] [INFO] [BloodDecal] Blood puddle created at (2454.661, 1227.027) (added to group)
[16:10:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2201.819, 1237.998), source=PLAYER (AssaultRifle), range=1469, listeners=2
[16:10:02] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=1
[16:10:02] [ENEMY] [Enemy8] Hit taken, damage: 1, health: 2/3 -> 1/3
[16:10:02] [ENEMY] [Enemy8] ImpactEffectsManager found, calling spawn_blood_effect
[16:10:02] [INFO] [ImpactEffects] spawn_blood_effect called at (1911.407, 1266.437), dir=(1, 0), lethal=false
[16:10:02] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[16:10:02] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[16:10:02] [INFO] [ImpactEffects] Blood effect spawned at (1911.407, 1266.437) (scale=1)
[16:10:03] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2020.0579, 1269.837), shooter_id=124369505267, bullet_pos=(2477.992, 1250.6891)
[16:10:03] [INFO] [Bullet] Using shooter_position, distance=458,33423
[16:10:03] [INFO] [Bullet] Distance to wall: 458,33423 (31,208822% of viewport)
[16:10:03] [INFO] [Bullet] Within ricochet range - trying ricochet first
[16:10:03] [INFO] [Bullet] Starting wall penetration at (2477.992, 1250.6891)
[16:10:03] [INFO] [Bullet] Raycast backward hit penetrating body at distance 28,642923
[16:10:03] [INFO] [Bullet] Body exited signal received for penetrating body
[16:10:03] [INFO] [Bullet] Exiting penetration at (2524.618, 1248.7395) after traveling 41,666668 pixels through wall
[16:10:03] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[16:10:03] [ENEMY] [Enemy10] State: PURSUING -> RETREATING
[16:10:03] [ENEMY] [Enemy10] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=80.0°, current=-17.7°, player=(2187,1236), corner_timer=0.20
[16:10:03] [ENEMY] [Enemy10] State: RETREATING -> IN_COVER
[16:10:03] [ENEMY] [Enemy10] State: IN_COVER -> SUPPRESSED
[16:10:03] [ENEMY] [Enemy8] Hit taken, damage: 1, health: 1/3 -> 0/3
[16:10:03] [ENEMY] [Enemy8] ImpactEffectsManager found, calling spawn_blood_effect
[16:10:03] [INFO] [ImpactEffects] spawn_blood_effect called at (1891.979, 1255.596), dir=(1, 0), lethal=true
[16:10:03] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[16:10:03] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[16:10:03] [INFO] [ImpactEffects] Blood effect spawned at (1891.979, 1255.596) (scale=1.5)
[16:10:03] [ENEMY] [Enemy8] Enemy died (ricochet: false, penetration: false)
[16:10:03] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[16:10:03] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[16:10:03] [INFO] [PowerFantasy] Starting power fantasy effect:
[16:10:03] [INFO] [PowerFantasy]   - Time scale: 0.10
[16:10:03] [INFO] [PowerFantasy]   - Duration: 300ms
[16:10:03] [ENEMY] [Enemy8] [AllyDeath] Notified 1 enemies
[16:10:03] [INFO] [SoundPropagation] Unregistered listener: Enemy8 (remaining: 1)
[16:10:03] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[16:10:03] [ENEMY] [Enemy8] Death animation started with hit direction: (1, 0)
[16:10:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2169.569, 1253.088), source=PLAYER (AssaultRifle), range=1469, listeners=1
[16:10:03] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=1
[16:10:03] [ENEMY] [Enemy9] Death animation completed
[16:10:03] [INFO] [BloodDecal] Blood puddle created at (2426.942, 1318.097) (added to group)
[16:10:03] [INFO] [BloodDecal] Blood puddle created at (2409.696, 1220.795) (added to group)
[16:10:03] [INFO] [PowerFantasy] Effect duration expired after 302.00 ms
[16:10:03] [INFO] [PowerFantasy] Ending power fantasy effect
[16:10:03] [INFO] [BloodDecal] Blood puddle created at (2027.406, 1307.25) (added to group)
[16:10:03] [INFO] [BloodDecal] Blood puddle created at (2012.388, 1327.32) (added to group)
[16:10:03] [INFO] [BloodDecal] Blood puddle created at (2018.772, 1291.883) (added to group)
[16:10:03] [INFO] [BloodDecal] Blood puddle created at (2447.14, 1305.719) (added to group)
[16:10:03] [INFO] [BloodDecal] Blood puddle created at (2443.372, 1245.76) (added to group)
[16:10:03] [INFO] [BloodDecal] Blood puddle created at (2418.646, 1346.232) (added to group)
[16:10:03] [INFO] [BloodDecal] Blood puddle created at (2000.64, 1295.22) (added to group)
[16:10:03] [INFO] [BloodDecal] Blood puddle created at (2005.432, 1246.99) (added to group)
[16:10:03] [INFO] [BloodDecal] Blood puddle created at (2080.487, 1307.164) (added to group)
[16:10:03] [INFO] [BloodDecal] Blood puddle created at (2084.881, 1325.207) (added to group)
[16:10:03] [INFO] [BloodDecal] Blood puddle created at (1986.86, 1326.784) (added to group)
[16:10:03] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[16:10:03] [INFO] [BloodDecal] Blood puddle created at (1973.86, 1258.275) (added to group)
[16:10:03] [INFO] [BloodDecal] Blood puddle created at (2051.2, 1283.698) (added to group)
[16:10:03] [INFO] [BloodDecal] Blood puddle created at (2046.759, 1395.918) (added to group)
[16:10:03] [INFO] [BloodDecal] Blood puddle created at (2098.536, 1377.402) (added to group)
[16:10:03] [INFO] [BloodDecal] Blood puddle created at (2031.685, 1280.432) (added to group)
[16:10:03] [INFO] [BloodDecal] Blood puddle created at (2055.019, 1351.922) (added to group)
[16:10:03] [INFO] [BloodDecal] Blood puddle created at (1990.261, 1350.023) (added to group)
[16:10:03] [INFO] [BloodDecal] Blood puddle created at (2057.951, 1266.422) (added to group)
[16:10:03] [INFO] [BloodDecal] Blood puddle created at (1972.779, 1256.861) (added to group)
[16:10:03] [INFO] [BloodDecal] Blood puddle created at (2131.987, 1372.312) (added to group)
[16:10:03] [INFO] [BloodDecal] Blood puddle created at (2002.752, 1347.234) (added to group)
[16:10:03] [INFO] [BloodDecal] Blood puddle created at (1966.466, 1291.003) (added to group)
[16:10:03] [ENEMY] [Enemy8] Ragdoll activated
[16:10:03] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[16:10:03] [INFO] [BloodDecal] Blood puddle created at (2039.935, 1284.848) (added to group)
[16:10:03] [INFO] [BloodDecal] Blood puddle created at (2050.958, 1293.233) (added to group)
[16:10:03] [INFO] [BloodDecal] Blood puddle created at (2034.274, 1366.404) (added to group)
[16:10:03] [INFO] [BloodDecal] Blood puddle created at (2005.492, 1329.37) (added to group)
[16:10:03] [INFO] [ReplayManager] Recording frame 1560 (23,3s): player_valid=True, enemies=10
[16:10:03] [INFO] [BloodDecal] Blood puddle created at (2087.696, 1328.732) (added to group)
[16:10:03] [INFO] [BloodDecal] Blood puddle created at (1997.978, 1269.942) (added to group)
[16:10:03] [INFO] [BloodDecal] Blood puddle created at (2022.643, 1282.494) (added to group)
[16:10:03] [INFO] [BloodDecal] Blood puddle created at (2118.512, 1323.304) (added to group)
[16:10:03] [INFO] [BloodDecal] Blood puddle created at (2020.793, 1324.428) (added to group)
[16:10:03] [INFO] [BloodDecal] Blood puddle created at (2033.421, 1341.811) (added to group)
[16:10:03] [INFO] [BloodDecal] Blood puddle created at (2060.001, 1298.378) (added to group)
[16:10:03] [INFO] [BloodDecal] Blood puddle created at (2014.752, 1356.639) (added to group)
[16:10:04] [INFO] [BloodDecal] Blood puddle created at (1998.5, 1377.534) (added to group)
[16:10:04] [INFO] [BloodDecal] Blood puddle created at (2034.576, 1360.534) (added to group)
[16:10:04] [INFO] [BloodDecal] Blood puddle created at (2009.552, 1385.105) (added to group)
[16:10:04] [INFO] [BloodDecal] Blood puddle created at (2023.976, 1370.567) (added to group)
[16:10:04] [INFO] [BloodDecal] Blood puddle created at (2015.635, 1374.878) (added to group)
[16:10:04] [INFO] [BloodDecal] Blood puddle created at (2014.859, 1391.119) (added to group)
[16:10:04] [INFO] [BloodDecal] Blood puddle created at (2037.825, 1375.471) (added to group)
[16:10:04] [INFO] [BloodDecal] Blood puddle created at (2013.726, 1298.706) (added to group)
[16:10:04] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2169.5688, 1253.0878), shooter_id=125963340882, bullet_pos=(42.84522, 1218.8772)
[16:10:04] [INFO] [Bullet] Using shooter_position, distance=2126,9988
[16:10:04] [INFO] [Bullet] Distance to wall: 2126,9988 (144,83127% of viewport)
[16:10:04] [INFO] [Bullet] Distance-based penetration chance: 21,033749%
[16:10:04] [INFO] [Bullet] Penetration failed (distance roll)
[16:10:04] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[16:10:04] [ENEMY] [Enemy8] Player reloading: false -> true
[16:10:04] [ENEMY] [Enemy10] Player reloading: false -> true
[16:10:04] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(1954.228, 1441.575), source=PLAYER (Player), range=900, listeners=1
[16:10:04] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=1
[16:10:04] [ENEMY] [Enemy10] Player vulnerable (reloading) but cannot attack: close=false (dist=508), can_see=false
[16:10:04] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[16:10:04] [INFO] [Player.Reload.Anim] Phase changed to: PullBolt (duration: 0,35s)
[16:10:04] [ENEMY] [Enemy8] Player reloading: true -> false
[16:10:04] [ENEMY] [Enemy10] Player reloading: true -> false
[16:10:04] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[16:10:04] [INFO] [Player.Reload.Anim] LeftArm: pos=(21.819225, 5.977461), target=(24, 6), base=(24, 6)
[16:10:04] [INFO] [Player.Reload.Anim] RightArm: pos=(-2.000008, 6.3446817), target=(-2, 6), base=(-2, 6)
[16:10:04] [ENEMY] [Enemy8] Death animation completed
[16:10:04] [INFO] [ReplayManager] Recording frame 1620 (24,3s): player_valid=True, enemies=10
[16:10:04] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[16:10:05] [INFO] [BloodyFeet:Player] Blood ran out - no more footprints
[16:10:05] [ENEMY] [Enemy10] State: SUPPRESSED -> IN_COVER
[16:10:05] [ENEMY] [Enemy10] State: IN_COVER -> PURSUING
[16:10:05] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=-42.8°, current=80.0°, player=(1690,1247), corner_timer=0.20
[16:10:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1659.458, 1222.791), source=PLAYER (AssaultRifle), range=1469, listeners=1
[16:10:05] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=0
[16:10:05] [INFO] [ReplayManager] Recording frame 1680 (25,3s): player_valid=True, enemies=10
[16:10:05] [ENEMY] [Enemy10] Hit taken, damage: 1, health: 2/2 -> 1/2
[16:10:05] [ENEMY] [Enemy10] ImpactEffectsManager found, calling spawn_blood_effect
[16:10:05] [INFO] [ImpactEffects] spawn_blood_effect called at (1447.059, 1473.153), dir=(1, 0), lethal=false
[16:10:05] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[16:10:05] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[16:10:05] [INFO] [ImpactEffects] Wall found for blood splatter at (1488, 1473.153) (dist=40 px)
[16:10:05] [INFO] [BloodDecal] Blood puddle created at (1487, 1473.153) (added to group)
[16:10:05] [INFO] [ImpactEffects] Blood effect spawned at (1447.059, 1473.153) (scale=1)
[16:10:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1625.153, 1188.765), source=PLAYER (AssaultRifle), range=1469, listeners=1
[16:10:05] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=0
[16:10:06] [ENEMY] [Enemy10] Hit taken, damage: 1, health: 1/2 -> 0/2
[16:10:06] [ENEMY] [Enemy10] ImpactEffectsManager found, calling spawn_blood_effect
[16:10:06] [INFO] [ImpactEffects] spawn_blood_effect called at (1447.059, 1473.153), dir=(1, 0), lethal=true
[16:10:06] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[16:10:06] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[16:10:06] [INFO] [ImpactEffects] Wall found for blood splatter at (1488, 1473.153) (dist=40 px)
[16:10:06] [INFO] [BloodDecal] Blood puddle created at (1487, 1473.153) (added to group)
[16:10:06] [INFO] [ImpactEffects] Blood effect spawned at (1447.059, 1473.153) (scale=1.5)
[16:10:06] [ENEMY] [Enemy10] Enemy died (ricochet: false, penetration: false)
[16:10:06] [INFO] [ScoreManager] Kill registered. Combo: 3 (points: 3000)
[16:10:06] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[16:10:06] [INFO] [PowerFantasy] Starting power fantasy effect:
[16:10:06] [INFO] [PowerFantasy]   - Time scale: 0.10
[16:10:06] [INFO] [PowerFantasy]   - Duration: 300ms
[16:10:06] [INFO] [SoundPropagation] Unregistered listener: Enemy10 (remaining: 0)
[16:10:06] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[16:10:06] [ENEMY] [Enemy10] Death animation started with hit direction: (1, 0)
[16:10:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1592.743, 1171.406), source=PLAYER (AssaultRifle), range=1469, listeners=0
[16:10:06] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[16:10:06] [INFO] [PowerFantasy] Effect duration expired after 301.00 ms
[16:10:06] [INFO] [PowerFantasy] Ending power fantasy effect
[16:10:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1556.526, 1168.549), source=PLAYER (AssaultRifle), range=1469, listeners=0
[16:10:06] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[16:10:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1592.7429, 1171.4061), shooter_id=125963340882, bullet_pos=(1085.3008, 2083.4045)
[16:10:06] [INFO] [Bullet] Using shooter_position, distance=1043,666
[16:10:06] [INFO] [Bullet] Distance to wall: 1043,666 (71,06514% of viewport)
[16:10:06] [ENEMY] [Enemy10] Ragdoll activated
[16:10:06] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[16:10:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1556.5265, 1168.5487), shooter_id=125963340882, bullet_pos=(1248.5614, 2086.9556)
[16:10:06] [INFO] [Bullet] Using shooter_position, distance=968,66595
[16:10:06] [INFO] [Bullet] Distance to wall: 968,66595 (65,95825% of viewport)
[16:10:06] [INFO] [Bullet] Distance-based penetration chance: 69,71538%
[16:10:06] [INFO] [Bullet] Starting wall penetration at (1248.5614, 2086.9556)
[16:10:06] [INFO] [Bullet] Raycast backward hit penetrating body at distance 37,127254
[16:10:06] [INFO] [Bullet] Body exited signal received for penetrating body
[16:10:06] [INFO] [Bullet] Exiting penetration at (1233.7249, 2131.201) after traveling 41,666668 pixels through wall
[16:10:06] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[16:10:06] [INFO] [ReplayManager] Recording frame 1740 (26,0s): player_valid=True, enemies=10
[16:10:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1592.7429, 1171.4061), shooter_id=125963340882, bullet_pos=(900.85925, 1694.97)
[16:10:06] [INFO] [Bullet] Using shooter_position, distance=867,6532
[16:10:06] [INFO] [Bullet] Distance to wall: 867,6532 (59,080105% of viewport)
[16:10:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1592.7429, 1171.4061), shooter_id=125963340882, bullet_pos=(986.06726, 1401.0295)
[16:10:07] [INFO] [Bullet] Using shooter_position, distance=648,6773
[16:10:07] [INFO] [Bullet] Distance to wall: 648,6773 (44,169632% of viewport)
[16:10:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1592.7429, 1171.4061), shooter_id=125963340882, bullet_pos=(851.5112, 1009.066)
[16:10:07] [INFO] [Bullet] Using shooter_position, distance=758,80084
[16:10:07] [INFO] [Bullet] Distance to wall: 758,80084 (51,668144% of viewport)
[16:10:07] [INFO] [Bullet] Distance-based penetration chance: 86,38717%
[16:10:07] [INFO] [Bullet] Starting wall penetration at (851.5112, 1009.066)
[16:10:07] [INFO] [Bullet] Raycast backward hit penetrating body at distance 21,00329
[16:10:07] [INFO] [Bullet] Body exited signal received for penetrating body
[16:10:07] [INFO] [Bullet] Exiting penetration at (841.5795, 980.13464) after traveling 25,588545 pixels through wall
[16:10:07] [INFO] [Bullet] Damage multiplier after penetration: 0,1125
[16:10:07] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[16:10:07] [ENEMY] [Enemy10] Player reloading: false -> true
[16:10:07] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(1188.026, 1162.549), source=PLAYER (Player), range=900, listeners=0
[16:10:07] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[16:10:07] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[16:10:07] [ENEMY] [Enemy10] Death animation completed
[16:10:07] [INFO] [ReplayManager] Recording frame 1800 (27,0s): player_valid=True, enemies=10
[16:10:07] [INFO] [Player.Reload.Anim] Phase changed to: PullBolt (duration: 0,35s)
[16:10:07] [ENEMY] [Enemy10] Player reloading: true -> false
[16:10:07] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[16:10:07] [INFO] [Player.Reload.Anim] LeftArm: pos=(14.811855, 5.9054046), target=(24, 6), base=(24, 6)
[16:10:07] [INFO] [Player.Reload.Anim] RightArm: pos=(-1.9997456, 7.4524856), target=(-2, 6), base=(-2, 6)
[16:10:08] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[16:10:08] [INFO] [ReplayManager] Recording frame 1860 (28,0s): player_valid=True, enemies=10
[16:10:09] [INFO] [ReplayManager] Recording frame 1920 (29,0s): player_valid=True, enemies=10
[16:10:10] [INFO] [BuildingLevel] Player controls disabled (level completed)
[16:10:10] [INFO] [ReplayManager] === REPLAY RECORDING STOPPED ===
[16:10:10] [INFO] [ReplayManager] Total frames recorded: 1974
[16:10:10] [INFO] [ReplayManager] Total duration: 29,89s
[16:10:10] [INFO] [ReplayManager] Impact events recorded: 634
[16:10:10] [INFO] [ReplayManager] Casings recorded: 75
[16:10:10] [INFO] [ReplayManager] Footprints recorded: 51
[16:10:10] [INFO] [ReplayManager] has_replay() will return: True
[16:10:10] [INFO] [BuildingLevel] Replay recording stopped
[16:10:10] [INFO] [BuildingLevel] Replay status: has_replay=true, duration=29.89s
[16:10:10] [INFO] [ScoreManager] Combo ended at 3. Max combo: 4
[16:10:10] [INFO] [ProgressManager] No improvement for res://scenes/levels/BuildingLevel.tscn on Power Fantasy (existing: rank=A+, score=43040)
[16:10:10] [INFO] [ScoreManager] Level completed! Final score: 25481, Rank: C
[16:10:24] [INFO] [BuildingLevel] Watch Replay button created (replay data available)
[16:10:26] [INFO] [BuildingLevel] Watch Replay triggered
[16:10:26] [INFO] [ReplayManager] Baseline impact events (pre-existing): 0 of 634
[16:10:26] [INFO] [ReplayManager] Baseline casings (pre-existing): 0 of 75
[16:10:26] [INFO] [ReplayManager] Baseline footprints (pre-existing): 0 of 51
[16:10:26] [INFO] [ReplayManager] Added weapon sprite to ghost player: res://assets/sprites/weapons/m16_rifle_topdown.png
[16:10:26] [INFO] [ReplayManager] Ghost player Camera2D activated for replay
[16:10:26] [INFO] [ReplayManager] Hidden CanvasLayer (score screen) for replay visibility
[16:10:26] [INFO] [ReplayManager] Ghost filter overlay created (screen-texture shader)
[16:10:26] [INFO] [ReplayManager] Started replay playback. Frames: 1974, Duration: 29,89s, Mode: Ghost
[16:10:27] [INFO] [ReplayManager] Replay mode changed to: Memory
[16:10:27] [INFO] [ReplayManager] Memory mode: CinemaEffects enabled
[16:10:29] [INFO] [ReplayManager] Exit replay pressed — returning to results screen
[16:10:29] [INFO] [ReplayManager] Stopped replay playback
[16:10:29] [INFO] [ReplayManager] Score screen CanvasLayer re-shown
[16:10:29] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[16:10:30] [INFO] [BuildingLevel] Watch Replay triggered
[16:10:30] [INFO] [ReplayManager] Baseline impact events (pre-existing): 0 of 634
[16:10:30] [INFO] [ReplayManager] Baseline casings (pre-existing): 0 of 75
[16:10:30] [INFO] [ReplayManager] Baseline footprints (pre-existing): 0 of 51
[16:10:30] [INFO] [ReplayManager] Added weapon sprite to ghost player: res://assets/sprites/weapons/m16_rifle_topdown.png
[16:10:30] [INFO] [ReplayManager] Ghost player Camera2D activated for replay
[16:10:30] [INFO] [ReplayManager] Hidden CanvasLayer (score screen) for replay visibility
[16:10:30] [INFO] [ReplayManager] Hidden 75 existing casings for progressive replay
[16:10:30] [INFO] [ReplayManager] Memory mode: CinemaEffects enabled
[16:10:30] [INFO] [ReplayManager] Started replay playback. Frames: 1974, Duration: 29,89s, Mode: Memory
[16:11:02] [INFO] [ReplayManager] Replay mode changed to: Ghost
[16:11:02] [INFO] [ReplayManager] Ghost filter overlay created (screen-texture shader)
[16:11:04] [INFO] [ReplayManager] Exit replay pressed — returning to results screen
[16:11:04] [INFO] [ReplayManager] Stopped replay playback
[16:11:04] [INFO] [ReplayManager] Score screen CanvasLayer re-shown
[16:11:04] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[16:11:05] [INFO] [BuildingLevel] Watch Replay triggered
[16:11:05] [INFO] [ReplayManager] Baseline impact events (pre-existing): 0 of 634
[16:11:05] [INFO] [ReplayManager] Baseline casings (pre-existing): 0 of 75
[16:11:05] [INFO] [ReplayManager] Baseline footprints (pre-existing): 0 of 51
[16:11:05] [INFO] [ReplayManager] Added weapon sprite to ghost player: res://assets/sprites/weapons/m16_rifle_topdown.png
[16:11:05] [INFO] [ReplayManager] Ghost player Camera2D activated for replay
[16:11:05] [INFO] [ReplayManager] Hidden CanvasLayer (score screen) for replay visibility
[16:11:05] [INFO] [ReplayManager] Ghost filter overlay created (screen-texture shader)
[16:11:05] [INFO] [ReplayManager] Started replay playback. Frames: 1974, Duration: 29,89s, Mode: Ghost
[16:11:10] [INFO] [ReplayManager] Replay mode changed to: Memory
[16:11:10] [INFO] [ReplayManager] Memory mode: CinemaEffects enabled
[16:11:11] [INFO] [ReplayManager] Exit replay pressed — returning to results screen
[16:11:11] [INFO] [ReplayManager] Stopped replay playback
[16:11:11] [INFO] [ReplayManager] Score screen CanvasLayer re-shown
[16:11:11] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[16:11:12] [INFO] [BuildingLevel] Watch Replay triggered
[16:11:12] [INFO] [ReplayManager] Baseline impact events (pre-existing): 0 of 634
[16:11:12] [INFO] [ReplayManager] Baseline casings (pre-existing): 0 of 75
[16:11:12] [INFO] [ReplayManager] Baseline footprints (pre-existing): 0 of 51
[16:11:12] [INFO] [ReplayManager] Added weapon sprite to ghost player: res://assets/sprites/weapons/m16_rifle_topdown.png
[16:11:12] [INFO] [ReplayManager] Ghost player Camera2D activated for replay
[16:11:12] [INFO] [ReplayManager] Hidden CanvasLayer (score screen) for replay visibility
[16:11:12] [INFO] [ReplayManager] Hidden 75 existing casings for progressive replay
[16:11:12] [INFO] [ReplayManager] Memory mode: CinemaEffects enabled
[16:11:12] [INFO] [ReplayManager] Started replay playback. Frames: 1974, Duration: 29,89s, Mode: Memory
[16:11:17] [INFO] [ReplayManager] Replay mode changed to: Ghost
[16:11:17] [INFO] [ReplayManager] Ghost filter overlay created (screen-texture shader)
[16:11:20] [INFO] [ReplayManager] Replay mode changed to: Memory
[16:11:20] [INFO] [ReplayManager] Memory mode: CinemaEffects enabled
[16:11:37] [INFO] ------------------------------------------------------------
[16:11:37] [INFO] GAME LOG ENDED: 2026-02-07T16:11:37
[16:11:37] [INFO] ============================================================
