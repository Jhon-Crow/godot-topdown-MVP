[00:32:40] [INFO] ============================================================
[00:32:40] [INFO] GAME LOG STARTED
[00:32:40] [INFO] ============================================================
[00:32:40] [INFO] Timestamp: 2026-02-04T00:32:40
[00:32:40] [INFO] Log file: I:/Загрузки/godot exe/гильзы на взрывы/game_log_20260204_003240.txt
[00:32:40] [INFO] Executable: I:/Загрузки/godot exe/гильзы на взрывы/Godot-Top-Down-Template.exe
[00:32:40] [INFO] OS: Windows
[00:32:40] [INFO] Debug build: false
[00:32:40] [INFO] Engine version: 4.3-stable (official)
[00:32:40] [INFO] Project: Godot Top-Down Template
[00:32:40] [INFO] ------------------------------------------------------------
[00:32:40] [INFO] [GameManager] GameManager ready
[00:32:40] [INFO] [ScoreManager] ScoreManager ready
[00:32:40] [INFO] [SoundPropagation] SoundPropagation autoload initialized
[00:32:40] [INFO] [ImpactEffects] Scenes loaded: DustEffect, BloodEffect, SparksEffect, BloodDecal
[00:32:40] [INFO] [ImpactEffects] ImpactEffectsManager ready - FULL VERSION with blood effects enabled
[00:32:40] [INFO] [ImpactEffects] Starting particle shader warmup (Issue #343 fix)...
[00:32:40] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:32:40] [INFO] [PenultimateHit] Saturation shader loaded successfully
[00:32:40] [INFO] [PenultimateHit] Starting shader warmup (Issue #343 fix)...
[00:32:40] [INFO] [PenultimateHit] PenultimateHitEffectsManager ready - Configuration:
[00:32:40] [INFO] [PenultimateHit]   Time scale: 0.10 (10x slowdown)
[00:32:40] [INFO] [PenultimateHit]   Saturation boost: 2.0 (3.0x)
[00:32:40] [INFO] [PenultimateHit]   Contrast boost: 1.0 (2.0x)
[00:32:40] [INFO] [PenultimateHit]   Effect duration: 3.0 real seconds
[00:32:40] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:32:40] [INFO] [LastChance] Last chance shader loaded successfully
[00:32:40] [INFO] [LastChance] Starting shader warmup (Issue #343 fix)...
[00:32:40] [INFO] [LastChance] LastChanceEffectsManager ready - Configuration:
[00:32:40] [INFO] [LastChance]   Freeze duration: 6.0 real seconds
[00:32:40] [INFO] [LastChance]   Sepia intensity: 0.70
[00:32:40] [INFO] [LastChance]   Brightness: 0.60
[00:32:40] [INFO] [GrenadeManager] Loaded grenade scene: res://scenes/projectiles/FlashbangGrenade.tscn
[00:32:40] [INFO] [GrenadeManager] Loaded grenade scene: res://scenes/projectiles/FragGrenade.tscn
[00:32:40] [INFO] [ExperimentalSettings] ExperimentalSettings initialized - FOV enabled: true, Complex grenade throwing: false
[00:32:40] [INFO] [CinemaEffects] CinemaEffectsManager initializing (v5.3 - overlay approach with simplified death circle)...
[00:32:40] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[00:32:40] [INFO] [CinemaEffects] Created effects layer at layer 99
[00:32:40] [INFO] [CinemaEffects] Cinema shader loaded successfully (v5.0 - no screen_texture)
[00:32:40] [INFO] [CinemaEffects] Starting cinema shader warmup (Issue #343 fix)...
[00:32:40] [INFO] [CinemaEffects] Cinema film effect initialized (v5.3) - Configuration:
[00:32:40] [INFO] [CinemaEffects]   Approach: Overlay-based (no screen_texture)
[00:32:40] [INFO] [CinemaEffects]   Grain intensity: 0.15
[00:32:40] [INFO] [CinemaEffects]   Warm tint: 0.12 intensity
[00:32:40] [INFO] [CinemaEffects]   Sunny effect: 0.08 intensity
[00:32:40] [INFO] [CinemaEffects]   Vignette: 0.25 intensity
[00:32:40] [INFO] [CinemaEffects]   Film defects: 1.5% probability
[00:32:40] [INFO] [CinemaEffects]   White specks: 0.70 intensity, 4.0% probability
[00:32:40] [INFO] [CinemaEffects]   Death effects: cigarette burn + expanding spots + end of reel circle (160px, blinks 2x)
[00:32:40] [INFO] [CinemaEffects] Enabling effect after 1 frame(s)...
[00:32:40] [INFO] [GrenadeTimerHelper] Autoload ready
[00:32:40] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:32:40] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[00:32:40] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[00:32:40] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[00:32:40] [INFO] [EnemyGrenade] Initialized: 1 grenades
[00:32:40] [ENEMY] [Enemy1] Death animation component initialized
[00:32:40] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:32:40] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[00:32:40] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[00:32:40] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[00:32:40] [INFO] [EnemyGrenade] Initialized: 1 grenades
[00:32:40] [ENEMY] [Enemy2] Death animation component initialized
[00:32:40] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:32:40] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[00:32:40] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[00:32:40] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[00:32:40] [INFO] [EnemyGrenade] Initialized: 1 grenades
[00:32:40] [ENEMY] [Enemy3] Death animation component initialized
[00:32:40] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:32:40] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[00:32:40] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[00:32:40] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[00:32:40] [ENEMY] [Enemy4] Death animation component initialized
[00:32:40] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:32:40] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[00:32:40] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[00:32:40] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[00:32:40] [ENEMY] [Enemy5] Death animation component initialized
[00:32:40] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:32:40] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[00:32:40] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[00:32:40] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[00:32:40] [ENEMY] [Enemy6] Death animation component initialized
[00:32:40] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:32:40] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[00:32:40] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[00:32:40] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[00:32:40] [ENEMY] [Enemy7] Death animation component initialized
[00:32:40] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:32:40] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[00:32:40] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[00:32:40] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[00:32:40] [ENEMY] [Enemy8] Death animation component initialized
[00:32:40] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:32:40] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[00:32:40] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[00:32:40] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[00:32:40] [ENEMY] [Enemy9] Death animation component initialized
[00:32:40] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:32:40] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[00:32:40] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[00:32:40] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[00:32:40] [INFO] [EnemyGrenade] Initialized: 1 grenades
[00:32:40] [ENEMY] [Enemy10] Death animation component initialized
[00:32:40] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:32:40] [INFO] [BloodyFeet:Player] Footprint scene loaded
[00:32:40] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[00:32:40] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[00:32:40] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[00:32:40] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:32:40] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:32:40] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:32:40] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:32:40] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:32:40] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[00:32:40] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[00:32:40] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[00:32:40] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:32:40] [INFO] [BloodDecal] Blood puddle created at (640, 360) (added to group)
[00:32:40] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[00:32:40] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[00:32:40] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[00:32:40] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[00:32:40] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[00:32:40] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[00:32:40] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[00:32:40] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[00:32:40] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[00:32:40] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[00:32:40] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[00:32:40] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[00:32:40] [INFO] [ScoreManager] Level started with 10 enemies
[00:32:40] [INFO] [CinemaEffects] Found player node: Player
[00:32:40] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[00:32:40] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[00:32:40] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 1)
[00:32:40] [ENEMY] [Enemy1] Registered as sound listener
[00:32:40] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 2, behavior: GUARD
[00:32:40] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[00:32:40] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 2)
[00:32:40] [ENEMY] [Enemy2] Registered as sound listener
[00:32:40] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 3, behavior: GUARD
[00:32:40] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[00:32:40] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 3)
[00:32:40] [ENEMY] [Enemy3] Registered as sound listener
[00:32:40] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 3, behavior: GUARD
[00:32:40] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[00:32:40] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 4)
[00:32:40] [ENEMY] [Enemy4] Registered as sound listener
[00:32:40] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 3, behavior: GUARD
[00:32:40] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[00:32:40] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 5)
[00:32:40] [ENEMY] [Enemy5] Registered as sound listener
[00:32:40] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 4, behavior: GUARD
[00:32:40] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[00:32:40] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 6)
[00:32:40] [ENEMY] [Enemy6] Registered as sound listener
[00:32:40] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 4, behavior: GUARD
[00:32:40] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[00:32:40] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 7)
[00:32:40] [ENEMY] [Enemy7] Registered as sound listener
[00:32:40] [ENEMY] [Enemy7] Spawned at (1606.114, 893.8859), hp: 2, behavior: PATROL
[00:32:40] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[00:32:40] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 8)
[00:32:40] [ENEMY] [Enemy8] Registered as sound listener
[00:32:40] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 4, behavior: GUARD
[00:32:40] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[00:32:40] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 9)
[00:32:40] [ENEMY] [Enemy9] Registered as sound listener
[00:32:40] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 4, behavior: GUARD
[00:32:40] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[00:32:40] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 10)
[00:32:40] [ENEMY] [Enemy10] Registered as sound listener
[00:32:40] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 3, behavior: PATROL
[00:32:40] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[00:32:40] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=33.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[00:32:40] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[00:32:40] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[00:32:40] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[00:32:40] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[00:32:40] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=225.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[00:32:40] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=78.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[00:32:40] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=180.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[00:32:40] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:32:40] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:32:40] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:32:40] [INFO] [PenultimateHit] Shader warmup complete in 171 ms
[00:32:40] [INFO] [LastChance] Shader warmup complete in 170 ms
[00:32:40] [INFO] [CinemaEffects] Cinema shader warmup complete in 144 ms
[00:32:40] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:32:40] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:32:40] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:32:40] [INFO] [LastChance] Found player: Player
[00:32:40] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:32:40] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:32:40] [INFO] [LastChance] Connected to player Died signal (C#)
[00:32:40] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[00:32:40] [INFO] [ImpactEffects] Particle shader warmup complete: 5 effects warmed up in 413 ms
[00:32:42] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[00:32:42] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[00:32:42] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,1250), corner_timer=0.30
[00:32:42] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,1250), corner_timer=0.30
[00:32:42] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(450,1205), corner_timer=-0.02
[00:32:42] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[00:32:42] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(450,1205), corner_timer=-0.02
[00:32:42] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[00:32:42] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(450,1200), corner_timer=0.30
[00:32:42] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(450,1200), corner_timer=0.30
[00:32:42] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[00:32:42] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:32:42] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:32:42] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[00:32:42] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (561.167, 1198.712)
[00:32:42] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(450,1167), corner_timer=-0.02
[00:32:42] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[00:32:42] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(450,1167), corner_timer=0.30
[00:32:42] [INFO] [GrenadeTimer] Initialized for Flashbang grenade, effect radius: 400
[00:32:42] [INFO] [Player.Grenade] Added GrenadeTimer component (type: Flashbang)
[00:32:42] [INFO] [GrenadeTimer] Timer activated! 4 seconds until explosion
[00:32:42] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1167.5)
[00:32:42] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:32:42] [INFO] [Player.Grenade] Step 1 complete! Drag: (235.15729, -21.42456)
[00:32:42] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:32:42] [INFO] [Player.Grenade.Simple] RMB pressed after pin pull - starting trajectory aiming
[00:32:43] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(450,1167), corner_timer=-0.02
[00:32:43] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[00:32:43] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.6°, player=(450,1167), corner_timer=0.30
[00:32:43] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(450,1122), corner_timer=-0.02
[00:32:43] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[00:32:43] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.8°, current=6.3°, player=(450,1116), corner_timer=0.30
[00:32:43] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.8°, player=(448,1012), corner_timer=-0.02
[00:32:43] [ENEMY] [Enemy10] PATROL corner check: angle 0.9°
[00:32:43] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=0.9°, current=4.6°, player=(446,1007), corner_timer=0.30
[00:32:44] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[00:32:44] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=-130.1°, player=(334,889), corner_timer=-0.02
[00:32:44] [ENEMY] [Enemy7] PATROL corner check: angle 90.0°
[00:32:44] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=-133.0°, player=(330,887), corner_timer=0.30
[00:32:44] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[00:32:44] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=179.1°, current=172.4°, player=(299,871), corner_timer=-0.02
[00:32:44] [ENEMY] [Enemy7] PATROL corner check: angle 89.8°
[00:32:44] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.8°, current=175.3°, player=(299,871), corner_timer=0.30
[00:32:44] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[00:32:45] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=178.4°, current=120.7°, player=(299,871), corner_timer=-0.02
[00:32:45] [ENEMY] [Enemy7] PATROL corner check: angle 89.7°
[00:32:45] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.7°, current=123.6°, player=(299,871), corner_timer=0.30
[00:32:45] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[00:32:45] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.9°, current=89.7°, player=(299,871), corner_timer=-0.02
[00:32:45] [ENEMY] [Enemy7] PATROL corner check: angle 89.6°
[00:32:45] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.6°, current=92.5°, player=(299,871), corner_timer=0.30
[00:32:45] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[00:32:45] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.7°, current=89.6°, player=(299,871), corner_timer=-0.02
[00:32:45] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[00:32:45] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.4°, player=(299,871), corner_timer=0.30
[00:32:45] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[00:32:46] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.5°, current=89.5°, player=(299,871), corner_timer=-0.02
[00:32:46] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[00:32:46] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.4°, player=(299,871), corner_timer=0.30
[00:32:46] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[00:32:46] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.4°, current=89.5°, player=(299,871), corner_timer=-0.02
[00:32:46] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[00:32:46] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.3°, player=(299,871), corner_timer=0.30
[00:32:46] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[00:32:46] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.5°, player=(299,871), corner_timer=-0.02
[00:32:46] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[00:32:46] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(299,871), corner_timer=0.30
[00:32:46] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[00:32:46] [INFO] [GrenadeTimer] Timer expired - EXPLODING!
[00:32:46] [INFO] [GrenadeTimer] EXPLODED at (299.18225, 871.2685)!
[00:32:46] [INFO] [GrenadeTimer] Applying flashbang effects (radius: 400, blindness: 12s, stun: 6s)
[00:32:46] [INFO] [GrenadeTimer] Applied flashbang to player at distance 0,0
[00:32:46] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(299.1823, 871.2685), source=NEUTRAL (FlashbangGrenade), range=2938, listeners=10
[00:32:46] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=8
[00:32:46] [INFO] [GrenadeTimer] Spawned C# explosion effect at (299.18225, 871.2685)
[00:32:46] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:32:46] [INFO] [Player.Grenade] State reset to IDLE
[00:32:47] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(299,871), corner_timer=-0.02
[00:32:47] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[00:32:47] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(299,871), corner_timer=0.30
[00:32:47] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[00:32:47] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:32:47] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(299,871), corner_timer=-0.02
[00:32:47] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[00:32:47] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(299,871), corner_timer=0.30
[00:32:47] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[00:32:47] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[00:32:47] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:32:47] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[00:32:47] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[00:32:47] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[00:32:47] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[00:32:47] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:32:47] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:32:47] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[00:32:47] [ENEMY] [Enemy1] Death animation component initialized
[00:32:47] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:32:47] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[00:32:47] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[00:32:47] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[00:32:47] [INFO] [EnemyGrenade] Initialized: 1 grenades
[00:32:47] [ENEMY] [Enemy2] Death animation component initialized
[00:32:47] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:32:47] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[00:32:47] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[00:32:47] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[00:32:47] [ENEMY] [Enemy3] Death animation component initialized
[00:32:47] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:32:47] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[00:32:47] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[00:32:47] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[00:32:47] [INFO] [EnemyGrenade] Initialized: 1 grenades
[00:32:47] [ENEMY] [Enemy4] Death animation component initialized
[00:32:47] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:32:47] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[00:32:47] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[00:32:47] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[00:32:47] [INFO] [EnemyGrenade] Initialized: 1 grenades
[00:32:47] [ENEMY] [Enemy5] Death animation component initialized
[00:32:47] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:32:47] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[00:32:47] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[00:32:47] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[00:32:47] [ENEMY] [Enemy6] Death animation component initialized
[00:32:47] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:32:47] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[00:32:47] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[00:32:47] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[00:32:47] [ENEMY] [Enemy7] Death animation component initialized
[00:32:47] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:32:47] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[00:32:47] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[00:32:47] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[00:32:47] [ENEMY] [Enemy8] Death animation component initialized
[00:32:47] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:32:47] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[00:32:47] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[00:32:47] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[00:32:47] [INFO] [EnemyGrenade] Initialized: 1 grenades
[00:32:47] [ENEMY] [Enemy9] Death animation component initialized
[00:32:47] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:32:47] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[00:32:47] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[00:32:47] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[00:32:47] [ENEMY] [Enemy10] Death animation component initialized
[00:32:47] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:32:47] [INFO] [BloodyFeet:Player] Footprint scene loaded
[00:32:47] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[00:32:47] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[00:32:47] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[00:32:47] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:32:47] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:32:47] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:32:47] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:32:47] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:32:47] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[00:32:47] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[00:32:47] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[00:32:47] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:32:47] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[00:32:47] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[00:32:47] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[00:32:47] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[00:32:47] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[00:32:47] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[00:32:47] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[00:32:47] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[00:32:47] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[00:32:47] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[00:32:47] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[00:32:47] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[00:32:47] [INFO] [ScoreManager] Level started with 10 enemies
[00:32:47] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[00:32:47] [INFO] [CinemaEffects] Found player node: Player
[00:32:47] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[00:32:47] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[00:32:47] [ENEMY] [Enemy1] Registered as sound listener
[00:32:47] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 2, behavior: GUARD
[00:32:47] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[00:32:47] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[00:32:47] [ENEMY] [Enemy2] Registered as sound listener
[00:32:47] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 3, behavior: GUARD
[00:32:47] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[00:32:47] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[00:32:47] [ENEMY] [Enemy3] Registered as sound listener
[00:32:47] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 2, behavior: GUARD
[00:32:47] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[00:32:47] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[00:32:47] [ENEMY] [Enemy4] Registered as sound listener
[00:32:47] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 3, behavior: GUARD
[00:32:47] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[00:32:47] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[00:32:47] [ENEMY] [Enemy5] Registered as sound listener
[00:32:47] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 3, behavior: GUARD
[00:32:47] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[00:32:47] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[00:32:47] [ENEMY] [Enemy6] Registered as sound listener
[00:32:47] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 4, behavior: GUARD
[00:32:47] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[00:32:47] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[00:32:47] [ENEMY] [Enemy7] Registered as sound listener
[00:32:47] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 4, behavior: PATROL
[00:32:47] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[00:32:47] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[00:32:47] [ENEMY] [Enemy8] Registered as sound listener
[00:32:47] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 2, behavior: GUARD
[00:32:47] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[00:32:47] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[00:32:47] [ENEMY] [Enemy9] Registered as sound listener
[00:32:47] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 2, behavior: GUARD
[00:32:47] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[00:32:47] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[00:32:47] [ENEMY] [Enemy10] Registered as sound listener
[00:32:47] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 3, behavior: PATROL
[00:32:47] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[00:32:47] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:32:47] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:32:47] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:32:47] [INFO] [LastChance] Found player: Player
[00:32:47] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:32:47] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:32:47] [INFO] [LastChance] Connected to player Died signal (C#)
[00:32:47] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[00:32:47] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[00:32:47] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=45.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[00:32:47] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=123.7°, current=0.0°, player=(450,1250), corner_timer=0.00
[00:32:47] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[00:32:47] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[00:32:47] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[00:32:47] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[00:32:47] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[00:32:47] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:32:47] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:32:47] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:32:49] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[00:32:49] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[00:32:49] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(441,955), corner_timer=0.30
[00:32:49] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(441,955), corner_timer=0.30
[00:32:49] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(372,880), corner_timer=-0.02
[00:32:49] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[00:32:49] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(372,880), corner_timer=-0.02
[00:32:49] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[00:32:49] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(368,876), corner_timer=0.30
[00:32:49] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(368,876), corner_timer=0.30
[00:32:49] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[00:32:49] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:32:49] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:32:49] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=164.1°, current=123.7°, player=(343,851), corner_timer=0.00
[00:32:49] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[00:32:49] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=164.2°, current=-66.3°, player=(342,850), corner_timer=0.00
[00:32:49] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(342,850), corner_timer=-0.02
[00:32:49] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[00:32:49] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(342,850), corner_timer=0.30
[00:32:49] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[00:32:49] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (681.41797, 673.8684)
[00:32:49] [INFO] [GrenadeTimer] Initialized for Flashbang grenade, effect radius: 400
[00:32:49] [INFO] [Player.Grenade] Added GrenadeTimer component (type: Flashbang)
[00:32:49] [INFO] [GrenadeTimer] Timer activated! 4 seconds until explosion
[00:32:49] [INFO] [Player.Grenade] Timer started, grenade created at (342.73685, 850.8742)
[00:32:49] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:32:49] [INFO] [Player.Grenade] Step 1 complete! Drag: (112.234314, -4.119385)
[00:32:50] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:32:50] [INFO] [Player.Grenade.Simple] RMB pressed after pin pull - starting trajectory aiming
[00:32:50] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(342,850), corner_timer=-0.02
[00:32:50] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[00:32:50] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.6°, player=(342,850), corner_timer=0.30
[00:32:50] [ENEMY] [Enemy4] Memory: high confidence (0.86) - transitioning to PURSUING
[00:32:50] [ENEMY] [Enemy4] State: IDLE -> PURSUING
[00:32:50] [ENEMY] [Enemy2] Memory: high confidence (0.86) - transitioning to PURSUING
[00:32:50] [ENEMY] [Enemy2] State: IDLE -> PURSUING
[00:32:50] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=-173.9°, current=168.8°, player=(342,850), corner_timer=0.00
[00:32:50] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=100.8°, current=45.0°, player=(342,850), corner_timer=0.00
[00:32:50] [ENEMY] [Enemy2] PURSUING corner check: angle 180.0°
[00:32:50] [ENEMY] [Enemy4] PURSUING corner check: angle -100.7°
[00:32:50] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[00:32:50] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[00:32:50] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:32:50] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[00:32:50] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[00:32:50] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[00:32:50] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[00:32:50] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:32:50] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:32:50] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[00:32:50] [ENEMY] [Enemy1] Death animation component initialized
[00:32:50] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:32:50] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[00:32:50] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[00:32:50] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[00:32:50] [ENEMY] [Enemy2] Death animation component initialized
[00:32:50] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:32:50] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[00:32:50] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[00:32:50] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[00:32:50] [INFO] [EnemyGrenade] Initialized: 1 grenades
[00:32:50] [ENEMY] [Enemy3] Death animation component initialized
[00:32:50] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:32:50] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[00:32:50] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[00:32:50] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[00:32:50] [ENEMY] [Enemy4] Death animation component initialized
[00:32:50] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:32:50] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[00:32:50] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[00:32:50] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[00:32:50] [ENEMY] [Enemy5] Death animation component initialized
[00:32:50] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:32:50] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[00:32:50] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[00:32:50] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[00:32:50] [ENEMY] [Enemy6] Death animation component initialized
[00:32:50] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:32:50] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[00:32:50] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[00:32:50] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[00:32:50] [INFO] [EnemyGrenade] Initialized: 1 grenades
[00:32:50] [ENEMY] [Enemy7] Death animation component initialized
[00:32:50] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:32:50] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[00:32:50] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[00:32:50] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[00:32:50] [ENEMY] [Enemy8] Death animation component initialized
[00:32:50] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:32:50] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[00:32:50] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[00:32:50] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[00:32:50] [INFO] [EnemyGrenade] Initialized: 1 grenades
[00:32:50] [ENEMY] [Enemy9] Death animation component initialized
[00:32:50] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:32:50] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[00:32:50] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[00:32:50] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[00:32:50] [ENEMY] [Enemy10] Death animation component initialized
[00:32:50] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:32:50] [INFO] [BloodyFeet:Player] Footprint scene loaded
[00:32:50] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[00:32:50] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[00:32:50] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[00:32:50] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:32:50] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:32:50] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:32:50] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:32:50] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:32:50] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[00:32:50] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[00:32:50] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[00:32:50] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:32:50] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[00:32:50] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[00:32:50] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[00:32:50] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[00:32:50] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[00:32:50] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[00:32:50] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[00:32:50] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[00:32:50] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[00:32:50] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[00:32:50] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[00:32:50] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[00:32:50] [INFO] [ScoreManager] Level started with 10 enemies
[00:32:50] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[00:32:50] [INFO] [CinemaEffects] Found player node: Player
[00:32:50] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[00:32:50] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 21)
[00:32:50] [ENEMY] [Enemy1] Registered as sound listener
[00:32:50] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 3, behavior: GUARD
[00:32:50] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[00:32:50] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 22)
[00:32:50] [ENEMY] [Enemy2] Registered as sound listener
[00:32:50] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 2, behavior: GUARD
[00:32:50] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[00:32:50] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 23)
[00:32:50] [ENEMY] [Enemy3] Registered as sound listener
[00:32:50] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 4, behavior: GUARD
[00:32:50] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[00:32:50] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 24)
[00:32:50] [ENEMY] [Enemy4] Registered as sound listener
[00:32:50] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 4, behavior: GUARD
[00:32:50] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[00:32:50] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 25)
[00:32:50] [ENEMY] [Enemy5] Registered as sound listener
[00:32:50] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 3, behavior: GUARD
[00:32:50] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[00:32:50] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 26)
[00:32:50] [ENEMY] [Enemy6] Registered as sound listener
[00:32:50] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 3, behavior: GUARD
[00:32:50] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[00:32:50] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 27)
[00:32:50] [ENEMY] [Enemy7] Registered as sound listener
[00:32:50] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 4, behavior: PATROL
[00:32:50] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[00:32:50] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 28)
[00:32:50] [ENEMY] [Enemy8] Registered as sound listener
[00:32:50] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 2, behavior: GUARD
[00:32:50] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[00:32:50] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 29)
[00:32:50] [ENEMY] [Enemy9] Registered as sound listener
[00:32:50] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 4, behavior: GUARD
[00:32:50] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[00:32:50] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 30)
[00:32:50] [ENEMY] [Enemy10] Registered as sound listener
[00:32:50] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 4, behavior: PATROL
[00:32:50] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[00:32:50] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[00:32:50] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=45.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[00:32:50] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[00:32:50] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[00:32:50] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[00:32:50] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[00:32:50] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=157.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[00:32:50] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[00:32:50] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:32:50] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:32:50] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:32:50] [INFO] [LastChance] Found player: Player
[00:32:50] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:32:50] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:32:50] [INFO] [LastChance] Connected to player Died signal (C#)
[00:32:50] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[00:32:50] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:32:50] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:32:50] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:32:51] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[00:32:51] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:32:51] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:32:51] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[00:32:51] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (701.6176, 849.2158)
[00:32:51] [INFO] [GrenadeTimer] Initialized for Flashbang grenade, effect radius: 400
[00:32:51] [INFO] [Player.Grenade] Added GrenadeTimer component (type: Flashbang)
[00:32:51] [INFO] [GrenadeTimer] Timer activated! 4 seconds until explosion
[00:32:51] [INFO] [Player.Grenade] Timer started, grenade created at (450, 962.6666)
[00:32:51] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:32:51] [INFO] [Player.Grenade] Step 1 complete! Drag: (183.86652, -27.025818)
[00:32:51] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:32:51] [INFO] [Player.Grenade.Simple] RMB pressed after pin pull - starting trajectory aiming
[00:32:52] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[00:32:52] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[00:32:52] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,855), corner_timer=0.30
[00:32:52] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,855), corner_timer=0.30
[00:32:52] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=163.4°, current=-168.8°, player=(450,824), corner_timer=0.00
[00:32:52] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[00:32:52] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=163.7°, current=-10.9°, player=(450,823), corner_timer=0.00
[00:32:52] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(450,822), corner_timer=-0.02
[00:32:52] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[00:32:52] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(450,822), corner_timer=-0.02
[00:32:52] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[00:32:52] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(450,822), corner_timer=0.30
[00:32:52] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(450,822), corner_timer=0.30
[00:32:52] [ENEMY] [Enemy4] Memory: high confidence (0.87) - transitioning to PURSUING
[00:32:52] [ENEMY] [Enemy4] State: IDLE -> PURSUING
[00:32:52] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=-167.6°, current=-67.5°, player=(450,822), corner_timer=0.00
[00:32:52] [ENEMY] [Enemy4] PURSUING corner check: angle -100.7°
[00:32:52] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(450,822), corner_timer=-0.02
[00:32:52] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[00:32:52] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(450,822), corner_timer=0.30
[00:32:52] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[00:32:53] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=163.7°, current=115.3°, player=(450,822), corner_timer=0.00
[00:32:53] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(450,822), corner_timer=-0.02
[00:32:53] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[00:32:53] [ENEMY] [Enemy4] PURSUING corner check: angle -94.0°
[00:32:53] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.6°, player=(450,822), corner_timer=0.30
[00:32:53] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(450,822), corner_timer=-0.02
[00:32:53] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[00:32:53] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.8°, current=6.3°, player=(450,822), corner_timer=0.30
[00:32:53] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.8°, player=(450,822), corner_timer=-0.02
[00:32:53] [ENEMY] [Enemy10] PATROL corner check: angle 0.9°
[00:32:53] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=0.9°, current=4.6°, player=(450,822), corner_timer=0.30
[00:32:53] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[00:32:53] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[00:32:54] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[00:32:54] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[00:32:54] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[00:32:54] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=-130.1°, player=(450,822), corner_timer=-0.02
[00:32:54] [ENEMY] [Enemy7] PATROL corner check: angle 90.0°
[00:32:54] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[00:32:54] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=-133.0°, player=(450,822), corner_timer=0.30
[00:32:54] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[00:32:54] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[00:32:54] [ENEMY] [Enemy3] PURSUING corner check: angle -110.5°
[00:32:54] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[00:32:54] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P2:combat_state, state=PURSUING, target=164.5°, current=159.7°, player=(450,822), corner_timer=0.22
[00:32:54] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=179.1°, current=172.4°, player=(450,822), corner_timer=-0.02
[00:32:54] [ENEMY] [Enemy7] PATROL corner check: angle 89.8°
[00:32:54] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.8°, current=175.3°, player=(450,822), corner_timer=0.30
[00:32:54] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[00:32:54] [ENEMY] [Enemy3] PURSUING corner check: angle 69.5°
[00:32:54] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=178.4°, current=120.7°, player=(450,822), corner_timer=-0.02
[00:32:54] [ENEMY] [Enemy7] PATROL corner check: angle 89.7°
[00:32:54] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[00:32:54] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:32:54] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[00:32:54] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[00:32:54] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[00:32:54] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[00:32:54] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:32:54] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:32:54] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[00:32:54] [INFO] [EnemyGrenade] Initialized: 1 grenades
[00:32:54] [ENEMY] [Enemy1] Death animation component initialized
[00:32:54] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:32:54] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[00:32:54] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[00:32:54] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[00:32:54] [INFO] [EnemyGrenade] Initialized: 1 grenades
[00:32:54] [ENEMY] [Enemy2] Death animation component initialized
[00:32:54] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:32:54] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[00:32:54] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[00:32:54] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[00:32:54] [INFO] [EnemyGrenade] Initialized: 1 grenades
[00:32:54] [ENEMY] [Enemy3] Death animation component initialized
[00:32:54] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:32:54] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[00:32:54] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[00:32:54] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[00:32:54] [ENEMY] [Enemy4] Death animation component initialized
[00:32:54] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:32:54] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[00:32:54] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[00:32:54] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[00:32:54] [ENEMY] [Enemy5] Death animation component initialized
[00:32:54] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:32:54] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[00:32:54] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[00:32:54] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[00:32:54] [ENEMY] [Enemy6] Death animation component initialized
[00:32:54] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:32:54] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[00:32:54] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[00:32:54] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[00:32:54] [ENEMY] [Enemy7] Death animation component initialized
[00:32:54] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:32:54] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[00:32:54] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[00:32:54] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[00:32:54] [ENEMY] [Enemy8] Death animation component initialized
[00:32:54] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:32:54] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[00:32:54] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[00:32:54] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[00:32:54] [ENEMY] [Enemy9] Death animation component initialized
[00:32:54] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:32:54] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[00:32:54] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[00:32:54] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[00:32:54] [ENEMY] [Enemy10] Death animation component initialized
[00:32:54] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:32:55] [INFO] [BloodyFeet:Player] Footprint scene loaded
[00:32:55] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[00:32:55] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[00:32:55] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[00:32:55] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:32:55] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:32:55] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:32:55] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:32:55] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:32:55] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[00:32:55] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[00:32:55] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[00:32:55] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:32:55] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[00:32:55] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[00:32:55] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[00:32:55] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[00:32:55] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[00:32:55] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[00:32:55] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[00:32:55] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[00:32:55] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[00:32:55] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[00:32:55] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[00:32:55] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[00:32:55] [INFO] [ScoreManager] Level started with 10 enemies
[00:32:55] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[00:32:55] [INFO] [CinemaEffects] Found player node: Player
[00:32:55] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[00:32:55] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 31)
[00:32:55] [ENEMY] [Enemy1] Registered as sound listener
[00:32:55] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 2, behavior: GUARD
[00:32:55] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[00:32:55] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 32)
[00:32:55] [ENEMY] [Enemy2] Registered as sound listener
[00:32:55] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 4, behavior: GUARD
[00:32:55] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[00:32:55] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 33)
[00:32:55] [ENEMY] [Enemy3] Registered as sound listener
[00:32:55] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 2, behavior: GUARD
[00:32:55] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[00:32:55] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 34)
[00:32:55] [ENEMY] [Enemy4] Registered as sound listener
[00:32:55] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 2, behavior: GUARD
[00:32:55] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[00:32:55] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 35)
[00:32:55] [ENEMY] [Enemy5] Registered as sound listener
[00:32:55] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 4, behavior: GUARD
[00:32:55] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[00:32:55] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 36)
[00:32:55] [ENEMY] [Enemy6] Registered as sound listener
[00:32:55] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 4, behavior: GUARD
[00:32:55] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[00:32:55] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 37)
[00:32:55] [ENEMY] [Enemy7] Registered as sound listener
[00:32:55] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 3, behavior: PATROL
[00:32:55] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[00:32:55] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 38)
[00:32:55] [ENEMY] [Enemy8] Registered as sound listener
[00:32:55] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 4, behavior: GUARD
[00:32:55] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[00:32:55] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 39)
[00:32:55] [ENEMY] [Enemy9] Registered as sound listener
[00:32:55] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 3, behavior: GUARD
[00:32:55] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[00:32:55] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 40)
[00:32:55] [ENEMY] [Enemy10] Registered as sound listener
[00:32:55] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 2, behavior: PATROL
[00:32:55] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[00:32:55] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[00:32:55] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=45.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[00:32:55] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=281.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[00:32:55] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[00:32:55] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=180.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[00:32:55] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[00:32:55] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=78.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[00:32:55] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=180.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[00:32:55] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:32:55] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:32:55] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:32:55] [INFO] [LastChance] Found player: Player
[00:32:55] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:32:55] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:32:55] [INFO] [LastChance] Connected to player Died signal (C#)
[00:32:55] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[00:32:55] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:32:55] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:32:55] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:32:56] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[00:32:56] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[00:32:56] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(696,1356), corner_timer=0.30
[00:32:56] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(696,1356), corner_timer=0.30
[00:32:56] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(801,1356), corner_timer=-0.02
[00:32:56] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[00:32:56] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(801,1356), corner_timer=-0.02
[00:32:56] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[00:32:56] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(806,1356), corner_timer=0.30
[00:32:56] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(806,1356), corner_timer=0.30
[00:32:57] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(908,1363), corner_timer=-0.02
[00:32:57] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[00:32:57] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(912,1365), corner_timer=0.30
[00:32:57] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(948,1442), corner_timer=-0.02
[00:32:57] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[00:32:57] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.6°, player=(948,1447), corner_timer=0.30
[00:32:57] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(948,1536), corner_timer=-0.02
[00:32:57] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[00:32:57] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[00:32:57] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:32:57] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:32:57] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.8°, current=6.3°, player=(948,1539), corner_timer=0.30
[00:32:57] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[00:32:57] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1239.7798, 1615.674)
[00:32:58] [INFO] [GrenadeTimer] Initialized for Flashbang grenade, effect radius: 400
[00:32:58] [INFO] [Player.Grenade] Added GrenadeTimer component (type: Flashbang)
[00:32:58] [INFO] [GrenadeTimer] Timer activated! 4 seconds until explosion
[00:32:58] [INFO] [Player.Grenade] Timer started, grenade created at (948.6067, 1548.9148)
[00:32:58] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:32:58] [INFO] [Player.Grenade] Step 1 complete! Drag: (347.46484, 2.4281006)
[00:32:58] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:32:58] [INFO] [Player.Grenade.Simple] RMB pressed after pin pull - starting trajectory aiming
[00:32:58] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.8°, player=(948,1548), corner_timer=-0.02
[00:32:58] [ENEMY] [Enemy10] PATROL corner check: angle 0.9°
[00:32:58] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=0.9°, current=4.6°, player=(948,1548), corner_timer=0.30
[00:32:58] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[00:32:58] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=-130.1°, player=(948,1548), corner_timer=-0.02
[00:32:58] [ENEMY] [Enemy7] PATROL corner check: angle 90.0°
[00:32:58] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=-133.0°, player=(948,1548), corner_timer=0.30
[00:32:58] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[00:32:59] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=179.1°, current=172.4°, player=(948,1548), corner_timer=-0.02
[00:32:59] [ENEMY] [Enemy7] PATROL corner check: angle 89.8°
[00:32:59] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.8°, current=175.3°, player=(948,1548), corner_timer=0.30
[00:32:59] [INFO] [Player.Grenade.Simple] Throwing! Target: (1367.475, 1468.0292), Distance: 425,3, Speed: 505,1, Friction: 300,0
[00:32:59] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,19075719
[00:32:59] [INFO] [GrenadeTimer] Grenade marked as thrown - impact detection enabled
[00:32:59] [INFO] [Player.Grenade.Simple] C# set velocity directly: dir=(0.98186094, -0.18960239), speed=505,1, spawn=(1007.5184, 1537.5387)
[00:32:59] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:32:59] [INFO] [Player.Grenade.Simple] Grenade thrown!
[00:32:59] [INFO] [Player.Grenade] State reset to IDLE
[00:32:59] [INFO] [Player.Grenade] State reset to IDLE
[00:32:59] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:32:59] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[00:32:59] [INFO] [Player.Grenade] Player rotation restored to 0
[00:32:59] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=178.4°, current=120.7°, player=(948,1548), corner_timer=-0.02
[00:32:59] [ENEMY] [Enemy7] PATROL corner check: angle 89.7°
[00:32:59] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.7°, current=123.6°, player=(948,1548), corner_timer=0.30
[00:32:59] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:32:59] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[00:32:59] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.9°, current=89.7°, player=(948,1548), corner_timer=-0.02
[00:32:59] [ENEMY] [Enemy7] PATROL corner check: angle 89.6°
[00:32:59] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.6°, current=92.5°, player=(948,1548), corner_timer=0.30
[00:32:59] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[00:33:00] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.7°, current=89.6°, player=(948,1548), corner_timer=-0.02
[00:33:00] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[00:33:00] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.4°, player=(948,1548), corner_timer=0.30
[00:33:00] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[00:33:00] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.5°, current=89.5°, player=(948,1548), corner_timer=-0.02
[00:33:00] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[00:33:00] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.4°, player=(948,1548), corner_timer=0.30
[00:33:00] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[00:33:00] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.4°, current=89.5°, player=(948,1548), corner_timer=-0.02
[00:33:00] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[00:33:00] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.3°, player=(948,1548), corner_timer=0.30
[00:33:00] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[00:33:01] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.5°, player=(948,1548), corner_timer=-0.02
[00:33:01] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[00:33:01] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(948,1548), corner_timer=0.30
[00:33:01] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[00:33:01] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(948,1548), corner_timer=-0.02
[00:33:01] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[00:33:01] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(948,1548), corner_timer=0.30
[00:33:01] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[00:33:01] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(948,1548), corner_timer=-0.02
[00:33:01] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[00:33:01] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(948,1548), corner_timer=0.30
[00:33:01] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[00:33:02] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(948,1548), corner_timer=-0.02
[00:33:02] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[00:33:02] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(948,1548), corner_timer=0.30
[00:33:02] [INFO] [GrenadeTimer] Timer expired - EXPLODING!
[00:33:02] [INFO] [GrenadeTimer] EXPLODED at (1379.5474, 1465.6978)!
[00:33:02] [INFO] [GrenadeTimer] Applying flashbang effects (radius: 400, blindness: 12s, stun: 6s)
[00:33:02] [INFO] [GrenadeTimer] Applied flashbang to enemy at distance 259,1 (intensity: 0,35)
[00:33:02] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1379.547, 1465.698), source=NEUTRAL (FlashbangGrenade), range=2938, listeners=40
[00:33:02] [INFO] [SoundPropagation] Cleaned up 30 invalid listeners
[00:33:02] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=9
[00:33:02] [INFO] [GrenadeTimer] Spawned C# explosion effect at (1379.5474, 1465.6978)
[00:33:02] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[00:33:02] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(948,1548), corner_timer=-0.02
[00:33:02] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[00:33:02] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(948,1548), corner_timer=0.30
[00:33:02] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[00:33:02] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(948,1548), corner_timer=-0.02
[00:33:02] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[00:33:02] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(948,1548), corner_timer=0.30
[00:33:02] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[00:33:03] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(994,1553), corner_timer=-0.02
[00:33:03] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[00:33:03] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(998,1555), corner_timer=0.30
[00:33:03] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[00:33:03] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1078,1603), corner_timer=-0.02
[00:33:03] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[00:33:03] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1082,1604), corner_timer=0.30
[00:33:03] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[00:33:03] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1110,1595), corner_timer=-0.02
[00:33:03] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[00:33:03] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1110,1592), corner_timer=0.30
[00:33:03] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[00:33:04] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1128,1508), corner_timer=-0.02
[00:33:04] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[00:33:04] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1131,1505), corner_timer=0.30
[00:33:04] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[00:33:04] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1199,1512), corner_timer=-0.02
[00:33:04] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[00:33:04] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1203,1515), corner_timer=0.30
[00:33:04] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P1:visible, state=IDLE, target=-46.3°, current=0.6°, player=(1222,1535), corner_timer=0.02
[00:33:04] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[00:33:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1159.099, 1601.934), source=ENEMY (Enemy10), range=1469, listeners=10
[00:33:04] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=8
[00:33:04] [INFO] [LastChance] Threat detected: Bullet
[00:33:04] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[00:33:04] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:33:04] [INFO] [Player] Spawning blood effect at (1229.5957, 1543.4755), dir=(1, 0), lethal=False (C#)
[00:33:04] [INFO] [ImpactEffects] spawn_blood_effect called at (1229.596, 1543.475), dir=(1, 0), lethal=false
[00:33:04] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[00:33:04] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[00:33:04] [INFO] [ImpactEffects] Blood effect spawned at (1229.596, 1543.475) (scale=1)
[00:33:04] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[00:33:04] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[00:33:04] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[00:33:04] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[00:33:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1159.099, 1601.934), source=ENEMY (Enemy10), range=1469, listeners=10
[00:33:04] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=8
[00:33:04] [INFO] [LastChance] Threat detected: Bullet
[00:33:04] [INFO] [LastChance] Triggering last chance effect!
[00:33:04] [INFO] [LastChance] Starting last chance effect:
[00:33:04] [INFO] [LastChance]   - Time will be frozen (except player)
[00:33:04] [INFO] [LastChance]   - Duration: 6.0 real seconds
[00:33:04] [INFO] [LastChance]   - Sepia intensity: 0.70
[00:33:04] [INFO] [LastChance]   - Brightness: 0.60
[00:33:04] [INFO] [LastChance] Pushed bullet Bullet from distance 21.6 to 200.0
[00:33:04] [INFO] [LastChance] Pushed 1 threatening bullets away from player
[00:33:04] [INFO] [LastChance] Set player Player and all 24 children to PROCESS_MODE_ALWAYS
[00:33:04] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[00:33:04] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[00:33:04] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[00:33:04] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[00:33:04] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[00:33:04] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[00:33:04] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[00:33:04] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[00:33:04] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[00:33:04] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[00:33:04] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[00:33:04] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[00:33:04] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[00:33:04] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[00:33:04] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[00:33:04] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[00:33:04] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[00:33:04] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[00:33:04] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[00:33:04] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[00:33:04] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[00:33:04] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[00:33:04] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[00:33:04] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[00:33:04] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[00:33:04] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[00:33:04] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[00:33:04] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[00:33:04] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[00:33:04] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[00:33:04] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[00:33:04] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[00:33:04] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[00:33:04] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[00:33:04] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[00:33:04] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[00:33:04] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[00:33:04] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[00:33:04] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[00:33:04] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[00:33:04] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[00:33:04] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[00:33:04] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[00:33:04] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[00:33:04] [INFO] [LastChance] Skipping player node: Player
[00:33:04] [INFO] [LastChance] Froze existing bullet casing: Casing
[00:33:04] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1044
[00:33:04] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[00:33:04] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[00:33:04] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[00:33:04] [INFO] [BloodDecal] Blood puddle created at (1292.75, 1537.457) (added to group)
[00:33:04] [INFO] [BloodDecal] Blood puddle created at (1305.458, 1590.314) (added to group)
[00:33:04] [INFO] [BloodDecal] Blood puddle created at (1315.532, 1581.769) (added to group)
[00:33:05] [INFO] [BloodDecal] Blood puddle created at (1321.737, 1622.383) (added to group)
[00:33:05] [INFO] [BloodDecal] Blood puddle created at (1350.641, 1551.412) (added to group)
[00:33:05] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[00:33:05] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:33:05] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[00:33:05] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[00:33:05] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[00:33:05] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[00:33:05] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:33:05] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:33:05] [INFO] [LastChance] All process modes restored
[00:33:05] [INFO] [LastChance] Restored original colors to 5 player sprites
[00:33:05] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[00:33:05] [ENEMY] [Enemy1] Death animation component initialized
[00:33:05] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:33:05] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[00:33:05] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[00:33:05] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[00:33:05] [ENEMY] [Enemy2] Death animation component initialized
[00:33:05] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:33:05] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[00:33:05] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[00:33:05] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[00:33:05] [ENEMY] [Enemy3] Death animation component initialized
[00:33:05] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:33:05] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[00:33:05] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[00:33:05] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[00:33:05] [ENEMY] [Enemy4] Death animation component initialized
[00:33:05] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:33:05] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[00:33:05] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[00:33:05] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[00:33:05] [ENEMY] [Enemy5] Death animation component initialized
[00:33:05] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:33:05] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[00:33:05] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[00:33:05] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[00:33:05] [ENEMY] [Enemy6] Death animation component initialized
[00:33:05] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:33:05] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[00:33:05] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[00:33:05] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[00:33:05] [ENEMY] [Enemy7] Death animation component initialized
[00:33:05] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:33:05] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[00:33:05] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[00:33:05] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[00:33:05] [ENEMY] [Enemy8] Death animation component initialized
[00:33:05] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:33:05] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[00:33:05] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[00:33:05] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[00:33:05] [INFO] [EnemyGrenade] Initialized: 1 grenades
[00:33:05] [ENEMY] [Enemy9] Death animation component initialized
[00:33:05] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:33:05] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[00:33:05] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[00:33:05] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[00:33:05] [INFO] [EnemyGrenade] Initialized: 1 grenades
[00:33:05] [ENEMY] [Enemy10] Death animation component initialized
[00:33:05] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:33:05] [INFO] [BloodyFeet:Player] Footprint scene loaded
[00:33:05] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[00:33:05] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[00:33:05] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[00:33:05] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:33:05] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:33:05] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:33:05] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:33:05] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:33:05] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[00:33:05] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[00:33:05] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[00:33:05] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:33:05] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[00:33:05] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[00:33:05] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[00:33:05] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[00:33:05] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[00:33:05] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[00:33:05] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[00:33:05] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[00:33:05] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[00:33:05] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[00:33:05] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[00:33:05] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[00:33:05] [INFO] [ScoreManager] Level started with 10 enemies
[00:33:05] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[00:33:05] [INFO] [CinemaEffects] Found player node: Player
[00:33:05] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[00:33:05] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[00:33:05] [ENEMY] [Enemy1] Registered as sound listener
[00:33:05] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 3, behavior: GUARD
[00:33:05] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[00:33:05] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[00:33:05] [ENEMY] [Enemy2] Registered as sound listener
[00:33:05] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 2, behavior: GUARD
[00:33:05] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[00:33:05] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[00:33:05] [ENEMY] [Enemy3] Registered as sound listener
[00:33:05] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 3, behavior: GUARD
[00:33:05] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[00:33:05] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[00:33:05] [ENEMY] [Enemy4] Registered as sound listener
[00:33:05] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 4, behavior: GUARD
[00:33:05] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[00:33:05] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[00:33:05] [ENEMY] [Enemy5] Registered as sound listener
[00:33:05] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 3, behavior: GUARD
[00:33:05] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[00:33:05] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[00:33:05] [ENEMY] [Enemy6] Registered as sound listener
[00:33:05] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 3, behavior: GUARD
[00:33:05] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[00:33:05] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[00:33:05] [ENEMY] [Enemy7] Registered as sound listener
[00:33:05] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 2, behavior: PATROL
[00:33:05] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[00:33:05] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[00:33:05] [ENEMY] [Enemy8] Registered as sound listener
[00:33:05] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 4, behavior: GUARD
[00:33:05] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[00:33:05] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[00:33:05] [ENEMY] [Enemy9] Registered as sound listener
[00:33:05] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 4, behavior: GUARD
[00:33:05] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[00:33:05] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[00:33:05] [ENEMY] [Enemy10] Registered as sound listener
[00:33:05] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 3, behavior: PATROL
[00:33:05] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[00:33:05] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[00:33:05] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[00:33:05] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[00:33:05] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[00:33:05] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=180.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[00:33:05] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=337.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[00:33:05] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=157.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[00:33:05] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=337.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[00:33:05] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:33:05] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:33:05] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:33:05] [INFO] [LastChance] Found player: Player
[00:33:05] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:33:05] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:33:05] [INFO] [LastChance] Connected to player Died signal (C#)
[00:33:05] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[00:33:05] [INFO] [BloodDecal] Blood puddle created at (1375.474, 1667.749) (added to group)
[00:33:05] [INFO] [BloodDecal] Blood puddle created at (1363.104, 1697.259) (added to group)
[00:33:05] [INFO] [BloodDecal] Blood puddle created at (1415.825, 1600.854) (added to group)
[00:33:05] [INFO] [BloodDecal] Blood puddle created at (1354.994, 1681.915) (added to group)
[00:33:05] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:33:05] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:33:05] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:33:05] [INFO] [BloodDecal] Blood puddle created at (1405.185, 1605.665) (added to group)
[00:33:06] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[00:33:06] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[00:33:06] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(748,1250), corner_timer=0.30
[00:33:06] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(748,1250), corner_timer=0.30
[00:33:07] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(831,1301), corner_timer=-0.02
[00:33:07] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[00:33:07] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(831,1301), corner_timer=-0.02
[00:33:07] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[00:33:07] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(835,1305), corner_timer=0.30
[00:33:07] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(835,1305), corner_timer=0.30
[00:33:07] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(909,1379), corner_timer=-0.02
[00:33:07] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[00:33:07] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(913,1382), corner_timer=0.30
[00:33:07] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(964,1429), corner_timer=-0.02
[00:33:07] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[00:33:07] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.6°, player=(965,1432), corner_timer=0.30
[00:33:07] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[00:33:07] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:33:07] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:33:07] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[00:33:07] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1294.3236, 1480.2487)
[00:33:08] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(970,1447), corner_timer=-0.02
[00:33:08] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[00:33:08] [INFO] [GrenadeTimer] Initialized for Flashbang grenade, effect radius: 400
[00:33:08] [INFO] [Player.Grenade] Added GrenadeTimer component (type: Flashbang)
[00:33:08] [INFO] [GrenadeTimer] Timer activated! 4 seconds until explosion
[00:33:08] [INFO] [Player.Grenade] Timer started, grenade created at (970.7759, 1447.4238)
[00:33:08] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:33:08] [INFO] [Player.Grenade] Step 1 complete! Drag: (184.40002, 8.2977295)
[00:33:08] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.8°, current=6.3°, player=(970,1447), corner_timer=0.30
[00:33:08] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:33:08] [INFO] [Player.Grenade.Simple] RMB pressed after pin pull - starting trajectory aiming
[00:33:08] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.8°, player=(970,1447), corner_timer=-0.02
[00:33:08] [ENEMY] [Enemy10] PATROL corner check: angle 0.9°
[00:33:08] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=0.9°, current=4.6°, player=(970,1447), corner_timer=0.30
[00:33:08] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[00:33:08] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=-130.1°, player=(970,1447), corner_timer=-0.02
[00:33:08] [ENEMY] [Enemy7] PATROL corner check: angle 90.0°
[00:33:08] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=-133.0°, player=(970,1447), corner_timer=0.30
[00:33:09] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[00:33:09] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=179.1°, current=172.4°, player=(970,1447), corner_timer=-0.02
[00:33:09] [ENEMY] [Enemy7] PATROL corner check: angle 89.8°
[00:33:09] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.8°, current=175.3°, player=(970,1447), corner_timer=0.30
[00:33:09] [INFO] [Player.Grenade.Simple] Throwing! Target: (1322.1667, 1532.9028), Distance: 349,9, Speed: 458,2, Friction: 300,0
[00:33:09] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 0,23862424
[00:33:09] [INFO] [GrenadeTimer] Grenade marked as thrown - impact detection enabled
[00:33:09] [INFO] [Player.Grenade.Simple] C# set velocity directly: dir=(0.9716641, 0.23636608), speed=458,2, spawn=(1029.0757, 1461.6058)
[00:33:09] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:33:09] [INFO] [Player.Grenade.Simple] Grenade thrown!
[00:33:09] [INFO] [Player.Grenade] State reset to IDLE
[00:33:09] [INFO] [Player.Grenade] State reset to IDLE
[00:33:09] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:33:09] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[00:33:09] [INFO] [Player.Grenade] Player rotation restored to 0
[00:33:09] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=178.4°, current=120.7°, player=(970,1447), corner_timer=-0.02
[00:33:09] [ENEMY] [Enemy7] PATROL corner check: angle 89.7°
[00:33:09] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.7°, current=123.6°, player=(970,1447), corner_timer=0.30
[00:33:09] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:33:09] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[00:33:09] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.9°, current=89.7°, player=(970,1447), corner_timer=-0.02
[00:33:09] [ENEMY] [Enemy7] PATROL corner check: angle 89.6°
[00:33:09] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.6°, current=92.5°, player=(970,1447), corner_timer=0.30
[00:33:10] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[00:33:10] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.7°, current=89.6°, player=(970,1447), corner_timer=-0.02
[00:33:10] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[00:33:10] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.4°, player=(970,1447), corner_timer=0.30
[00:33:10] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[00:33:10] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.5°, current=89.5°, player=(970,1447), corner_timer=-0.02
[00:33:10] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[00:33:10] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.4°, player=(970,1447), corner_timer=0.30
[00:33:10] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[00:33:10] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.4°, current=89.5°, player=(970,1447), corner_timer=-0.02
[00:33:10] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[00:33:10] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.3°, player=(970,1447), corner_timer=0.30
[00:33:11] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[00:33:11] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.5°, player=(970,1447), corner_timer=-0.02
[00:33:11] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[00:33:11] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(970,1447), corner_timer=0.30
[00:33:11] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[00:33:11] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(970,1447), corner_timer=-0.02
[00:33:11] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[00:33:11] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(970,1447), corner_timer=0.30
[00:33:11] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[00:33:11] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(970,1447), corner_timer=-0.02
[00:33:11] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[00:33:11] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(970,1447), corner_timer=0.30
[00:33:12] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[00:33:12] [INFO] [GrenadeTimer] Timer expired - EXPLODING!
[00:33:12] [INFO] [GrenadeTimer] EXPLODED at (1334.4908, 1535.9004)!
[00:33:12] [INFO] [GrenadeTimer] Applying flashbang effects (radius: 400, blindness: 12s, stun: 6s)
[00:33:12] [INFO] [GrenadeTimer] Applied flashbang to enemy at distance 187,4 (intensity: 0,53)
[00:33:12] [INFO] [GrenadeTimer] Applied flashbang to player at distance 374,3
[00:33:12] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1334.491, 1535.9), source=NEUTRAL (FlashbangGrenade), range=2938, listeners=20
[00:33:12] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[00:33:12] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=9
[00:33:12] [INFO] [GrenadeTimer] Spawned C# explosion effect at (1334.4908, 1535.9004)
[00:33:12] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(970,1447), corner_timer=-0.02
[00:33:12] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[00:33:12] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(970,1447), corner_timer=0.30
[00:33:12] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[00:33:12] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(970,1447), corner_timer=-0.02
[00:33:12] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[00:33:12] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(971,1447), corner_timer=0.30
[00:33:12] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[00:33:12] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1038,1447), corner_timer=-0.02
[00:33:12] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[00:33:12] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1043,1447), corner_timer=0.30
[00:33:13] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[00:33:13] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1131,1487), corner_timer=-0.02
[00:33:13] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[00:33:13] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1135,1490), corner_timer=0.30
[00:33:13] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[00:33:13] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P1:visible, state=IDLE, target=-46.5°, current=0.6°, player=(1201,1557), corner_timer=0.15
[00:33:13] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[00:33:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1159.099, 1601.934), source=ENEMY (Enemy10), range=1469, listeners=10
[00:33:13] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=8
[00:33:13] [INFO] [Player] Spawning blood effect at (1205.6072, 1560.8926), dir=(1, 0), lethal=False (C#)
[00:33:13] [INFO] [ImpactEffects] spawn_blood_effect called at (1205.607, 1560.893), dir=(1, 0), lethal=false
[00:33:13] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[00:33:13] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[00:33:13] [INFO] [ImpactEffects] Blood effect spawned at (1205.607, 1560.893) (scale=1)
[00:33:13] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[00:33:13] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[00:33:13] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1209,1564), corner_timer=-0.02
[00:33:13] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[00:33:13] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1213,1568), corner_timer=0.30
[00:33:13] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[00:33:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1159.099, 1601.934), source=ENEMY (Enemy10), range=1469, listeners=10
[00:33:13] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=8
[00:33:13] [INFO] [Player] Spawning blood effect at (1232.634, 1587.9194), dir=(1, 0), lethal=False (C#)
[00:33:13] [INFO] [ImpactEffects] spawn_blood_effect called at (1232.634, 1587.919), dir=(1, 0), lethal=false
[00:33:13] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[00:33:13] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[00:33:13] [INFO] [ImpactEffects] Blood effect spawned at (1232.634, 1587.919) (scale=1)
[00:33:13] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[00:33:13] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[00:33:13] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[00:33:13] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[00:33:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1159.099, 1601.934), source=ENEMY (Enemy10), range=1469, listeners=10
[00:33:13] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=8
[00:33:13] [INFO] [LastChance] Threat detected: Bullet
[00:33:13] [INFO] [LastChance] Triggering last chance effect!
[00:33:13] [INFO] [LastChance] Starting last chance effect:
[00:33:13] [INFO] [LastChance]   - Time will be frozen (except player)
[00:33:13] [INFO] [LastChance]   - Duration: 6.0 real seconds
[00:33:13] [INFO] [LastChance]   - Sepia intensity: 0.70
[00:33:13] [INFO] [LastChance]   - Brightness: 0.60
[00:33:13] [INFO] [LastChance] Pushed bullet Bullet from distance 27.1 to 200.0
[00:33:13] [INFO] [LastChance] Pushed 1 threatening bullets away from player
[00:33:13] [INFO] [LastChance] Set player Player and all 24 children to PROCESS_MODE_ALWAYS
[00:33:13] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[00:33:13] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[00:33:13] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[00:33:13] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[00:33:13] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[00:33:13] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[00:33:13] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[00:33:13] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[00:33:13] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[00:33:13] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[00:33:13] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[00:33:13] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[00:33:13] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[00:33:13] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[00:33:13] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[00:33:13] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[00:33:13] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[00:33:13] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[00:33:13] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[00:33:13] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[00:33:13] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[00:33:13] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[00:33:13] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[00:33:13] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[00:33:13] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[00:33:13] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[00:33:13] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[00:33:13] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[00:33:13] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[00:33:13] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[00:33:13] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[00:33:13] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[00:33:13] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[00:33:13] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[00:33:13] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[00:33:13] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[00:33:13] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[00:33:13] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[00:33:13] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[00:33:13] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[00:33:13] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[00:33:13] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[00:33:13] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[00:33:13] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[00:33:13] [INFO] [LastChance] Skipping player node: Player
[00:33:13] [INFO] [LastChance] Froze existing bullet casing: Casing
[00:33:13] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1306
[00:33:13] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1308
[00:33:13] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[00:33:13] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[00:33:13] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[00:33:13] [INFO] [BloodDecal] Blood puddle created at (1311.034, 1555.603) (added to group)
[00:33:13] [INFO] [BloodDecal] Blood puddle created at (1281.302, 1577.097) (added to group)
[00:33:13] [INFO] [BloodDecal] Blood puddle created at (1276.294, 1618.586) (added to group)
[00:33:13] [INFO] [BloodDecal] Blood puddle created at (1280.861, 1590.856) (added to group)
[00:33:13] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[00:33:14] [INFO] [BloodDecal] Blood puddle created at (1333.332, 1624.849) (added to group)
[00:33:14] [INFO] [BloodDecal] Blood puddle created at (1331.15, 1630.83) (added to group)
[00:33:14] [INFO] [BloodDecal] Blood puddle created at (1322.212, 1656.701) (added to group)
[00:33:14] [INFO] [BloodDecal] Blood puddle created at (1278.806, 1580.931) (added to group)
[00:33:14] [INFO] [BloodDecal] Blood puddle created at (1303.094, 1597.789) (added to group)
[00:33:14] [INFO] [BloodDecal] Blood puddle created at (1378.072, 1584.948) (added to group)
[00:33:14] [INFO] [BloodDecal] Blood puddle created at (1330.296, 1611.596) (added to group)
[00:33:14] [INFO] [BloodDecal] Blood puddle created at (1353.033, 1673.449) (added to group)
[00:33:14] [INFO] [BloodDecal] Blood puddle created at (1370.488, 1595.831) (added to group)
[00:33:14] [INFO] [BloodDecal] Blood puddle created at (1319.42, 1651.662) (added to group)
[00:33:14] [INFO] [BloodDecal] Blood puddle created at (1414.195, 1676.092) (added to group)
[00:33:14] [INFO] [BloodDecal] Blood puddle created at (1325.155, 1612.205) (added to group)
[00:33:14] [INFO] [BloodDecal] Blood puddle created at (1370.003, 1677.992) (added to group)
[00:33:14] [INFO] [BloodDecal] Blood puddle created at (1398.492, 1627.956) (added to group)
[00:33:14] [INFO] [BloodDecal] Blood puddle created at (1364.499, 1694.59) (added to group)
[00:33:14] [INFO] [BloodDecal] Blood puddle created at (1348.748, 1695.613) (added to group)
[00:33:15] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[00:33:15] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:33:15] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[00:33:15] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[00:33:15] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[00:33:15] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[00:33:15] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:33:15] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:33:15] [INFO] [LastChance] All process modes restored
[00:33:15] [INFO] [LastChance] Restored original colors to 5 player sprites
[00:33:15] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[00:33:15] [INFO] [EnemyGrenade] Initialized: 1 grenades
[00:33:15] [ENEMY] [Enemy1] Death animation component initialized
[00:33:15] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:33:15] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[00:33:15] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[00:33:15] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[00:33:15] [INFO] [EnemyGrenade] Initialized: 1 grenades
[00:33:15] [ENEMY] [Enemy2] Death animation component initialized
[00:33:15] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:33:15] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[00:33:15] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[00:33:15] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[00:33:15] [ENEMY] [Enemy3] Death animation component initialized
[00:33:15] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:33:15] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[00:33:15] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[00:33:15] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[00:33:15] [ENEMY] [Enemy4] Death animation component initialized
[00:33:15] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:33:15] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[00:33:15] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[00:33:15] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[00:33:15] [ENEMY] [Enemy5] Death animation component initialized
[00:33:15] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:33:15] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[00:33:15] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[00:33:15] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[00:33:15] [ENEMY] [Enemy6] Death animation component initialized
[00:33:15] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:33:15] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[00:33:15] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[00:33:15] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[00:33:15] [ENEMY] [Enemy7] Death animation component initialized
[00:33:15] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:33:15] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[00:33:15] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[00:33:15] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[00:33:15] [INFO] [EnemyGrenade] Initialized: 1 grenades
[00:33:15] [ENEMY] [Enemy8] Death animation component initialized
[00:33:15] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:33:15] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[00:33:15] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[00:33:15] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[00:33:15] [ENEMY] [Enemy9] Death animation component initialized
[00:33:15] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:33:15] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[00:33:15] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[00:33:15] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[00:33:15] [INFO] [EnemyGrenade] Initialized: 1 grenades
[00:33:15] [ENEMY] [Enemy10] Death animation component initialized
[00:33:15] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:33:15] [INFO] [BloodyFeet:Player] Footprint scene loaded
[00:33:15] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[00:33:15] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[00:33:15] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[00:33:15] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:33:15] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:33:15] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:33:15] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:33:15] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:33:15] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[00:33:15] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[00:33:15] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[00:33:15] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:33:15] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[00:33:15] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[00:33:15] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[00:33:15] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[00:33:15] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[00:33:15] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[00:33:15] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[00:33:15] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[00:33:15] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[00:33:15] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[00:33:15] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[00:33:15] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[00:33:15] [INFO] [ScoreManager] Level started with 10 enemies
[00:33:15] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[00:33:15] [INFO] [CinemaEffects] Found player node: Player
[00:33:15] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[00:33:15] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[00:33:15] [ENEMY] [Enemy1] Registered as sound listener
[00:33:15] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 4, behavior: GUARD
[00:33:15] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[00:33:15] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[00:33:15] [ENEMY] [Enemy2] Registered as sound listener
[00:33:15] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 4, behavior: GUARD
[00:33:15] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[00:33:15] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[00:33:15] [ENEMY] [Enemy3] Registered as sound listener
[00:33:15] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 2, behavior: GUARD
[00:33:15] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[00:33:15] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[00:33:15] [ENEMY] [Enemy4] Registered as sound listener
[00:33:15] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 4, behavior: GUARD
[00:33:15] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[00:33:15] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[00:33:15] [ENEMY] [Enemy5] Registered as sound listener
[00:33:15] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 3, behavior: GUARD
[00:33:15] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[00:33:15] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[00:33:15] [ENEMY] [Enemy6] Registered as sound listener
[00:33:15] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 2, behavior: GUARD
[00:33:15] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[00:33:15] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[00:33:15] [ENEMY] [Enemy7] Registered as sound listener
[00:33:15] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 3, behavior: PATROL
[00:33:15] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[00:33:15] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[00:33:15] [ENEMY] [Enemy8] Registered as sound listener
[00:33:15] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 3, behavior: GUARD
[00:33:15] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[00:33:15] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[00:33:15] [ENEMY] [Enemy9] Registered as sound listener
[00:33:15] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 3, behavior: GUARD
[00:33:15] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[00:33:15] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[00:33:15] [ENEMY] [Enemy10] Registered as sound listener
[00:33:15] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 4, behavior: PATROL
[00:33:15] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[00:33:15] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[00:33:15] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[00:33:15] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=236.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[00:33:15] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[00:33:15] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[00:33:15] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[00:33:15] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[00:33:15] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[00:33:15] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:33:15] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:33:15] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:33:15] [INFO] [LastChance] Found player: Player
[00:33:15] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:33:15] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:33:15] [INFO] [LastChance] Connected to player Died signal (C#)
[00:33:15] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[00:33:15] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:33:15] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:33:15] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:33:15] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[00:33:15] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:33:15] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:33:15] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[00:33:15] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (920.3447, 1335.4917)
[00:33:16] [INFO] [GrenadeTimer] Initialized for Flashbang grenade, effect radius: 400
[00:33:16] [INFO] [Player.Grenade] Added GrenadeTimer component (type: Flashbang)
[00:33:16] [INFO] [GrenadeTimer] Timer activated! 4 seconds until explosion
[00:33:16] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1250)
[00:33:16] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:33:16] [INFO] [Player.Grenade] Step 1 complete! Drag: (75.88873, -4.0074463)
[00:33:16] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:33:16] [INFO] [Player.Grenade.Simple] RMB pressed after pin pull - starting trajectory aiming
[00:33:16] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[00:33:16] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[00:33:16] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(544,1250), corner_timer=0.30
[00:33:16] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(544,1250), corner_timer=0.30
[00:33:17] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(649,1250), corner_timer=-0.02
[00:33:17] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[00:33:17] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(649,1250), corner_timer=-0.02
[00:33:17] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[00:33:17] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(654,1250), corner_timer=0.30
[00:33:17] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(654,1250), corner_timer=0.30
[00:33:17] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(753,1263), corner_timer=-0.02
[00:33:17] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[00:33:17] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(757,1266), corner_timer=0.30
[00:33:17] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(836,1329), corner_timer=-0.02
[00:33:17] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[00:33:17] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.6°, player=(841,1330), corner_timer=0.30
[00:33:18] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(925,1374), corner_timer=-0.02
[00:33:18] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[00:33:18] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.8°, current=6.3°, player=(927,1379), corner_timer=0.30
[00:33:18] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.8°, player=(935,1474), corner_timer=-0.02
[00:33:18] [ENEMY] [Enemy10] PATROL corner check: angle 0.9°
[00:33:18] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=0.9°, current=4.6°, player=(935,1478), corner_timer=0.30
[00:33:18] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[00:33:19] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=-130.1°, player=(935,1499), corner_timer=-0.02
[00:33:19] [ENEMY] [Enemy7] PATROL corner check: angle 90.0°
[00:33:19] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=-133.0°, player=(935,1499), corner_timer=0.30
[00:33:19] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[00:33:19] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=179.1°, current=172.4°, player=(935,1499), corner_timer=-0.02
[00:33:19] [ENEMY] [Enemy7] PATROL corner check: angle 89.8°
[00:33:19] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.8°, current=175.3°, player=(935,1499), corner_timer=0.30
[00:33:19] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[00:33:19] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=178.4°, current=120.7°, player=(935,1499), corner_timer=-0.02
[00:33:19] [ENEMY] [Enemy7] PATROL corner check: angle 89.7°
[00:33:19] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.7°, current=123.6°, player=(935,1499), corner_timer=0.30
[00:33:19] [INFO] [Player.Grenade.Simple] Throwing! Target: (1191.7646, 1614.1455), Distance: 256,4, Speed: 392,2, Friction: 300,0
[00:33:19] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 0,42076042
[00:33:19] [INFO] [GrenadeTimer] Grenade marked as thrown - impact detection enabled
[00:33:19] [INFO] [Player.Grenade.Simple] C# set velocity directly: dir=(0.9127786, 0.4084547), speed=392,2, spawn=(990.0073, 1523.8622)
[00:33:19] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:33:19] [INFO] [Player.Grenade.Simple] Grenade thrown!
[00:33:19] [INFO] [Player.Grenade] State reset to IDLE
[00:33:19] [INFO] [Player.Grenade] State reset to IDLE
[00:33:19] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:33:19] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[00:33:19] [INFO] [Player.Grenade] Player rotation restored to 0
[00:33:20] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.9°, current=89.7°, player=(935,1499), corner_timer=-0.02
[00:33:20] [ENEMY] [Enemy7] PATROL corner check: angle 89.6°
[00:33:20] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.6°, current=92.5°, player=(935,1499), corner_timer=0.30
[00:33:20] [INFO] [GrenadeTimer] Timer expired - EXPLODING!
[00:33:20] [INFO] [GrenadeTimer] EXPLODED at (1078.421, 1563.426)!
[00:33:20] [INFO] [GrenadeTimer] Applying flashbang effects (radius: 400, blindness: 12s, stun: 6s)
[00:33:20] [INFO] [GrenadeTimer] Applied flashbang to enemy at distance 89,4 (intensity: 0,78)
[00:33:20] [INFO] [GrenadeTimer] Applied flashbang to player at distance 156,9
[00:33:20] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1078.421, 1563.426), source=NEUTRAL (FlashbangGrenade), range=2938, listeners=20
[00:33:20] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[00:33:20] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=9
[00:33:20] [INFO] [GrenadeTimer] Spawned C# explosion effect at (1078.421, 1563.426)
[00:33:20] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:33:20] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[00:33:20] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.7°, current=89.6°, player=(935,1499), corner_timer=-0.02
[00:33:20] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[00:33:20] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.4°, player=(935,1499), corner_timer=0.30
[00:33:20] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[00:33:20] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.5°, current=89.5°, player=(935,1499), corner_timer=-0.02
[00:33:20] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[00:33:20] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.4°, player=(935,1499), corner_timer=0.30
[00:33:20] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[00:33:21] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.4°, current=89.5°, player=(935,1499), corner_timer=-0.02
[00:33:21] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[00:33:21] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.3°, player=(935,1499), corner_timer=0.30
[00:33:21] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[00:33:21] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.5°, player=(988,1499), corner_timer=-0.02
[00:33:21] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[00:33:21] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(992,1499), corner_timer=0.30
[00:33:21] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[00:33:21] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:33:21] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[00:33:21] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[00:33:21] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[00:33:21] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[00:33:21] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:33:21] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:33:21] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[00:33:21] [ENEMY] [Enemy1] Death animation component initialized
[00:33:21] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:33:21] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[00:33:21] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[00:33:21] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[00:33:21] [ENEMY] [Enemy2] Death animation component initialized
[00:33:21] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:33:21] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[00:33:21] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[00:33:21] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[00:33:21] [ENEMY] [Enemy3] Death animation component initialized
[00:33:21] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:33:21] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[00:33:21] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[00:33:21] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[00:33:21] [ENEMY] [Enemy4] Death animation component initialized
[00:33:21] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:33:21] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[00:33:21] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[00:33:21] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[00:33:21] [ENEMY] [Enemy5] Death animation component initialized
[00:33:21] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:33:21] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[00:33:21] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[00:33:21] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[00:33:21] [INFO] [EnemyGrenade] Initialized: 1 grenades
[00:33:21] [ENEMY] [Enemy6] Death animation component initialized
[00:33:21] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:33:21] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[00:33:21] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[00:33:21] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[00:33:21] [ENEMY] [Enemy7] Death animation component initialized
[00:33:21] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:33:21] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[00:33:21] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[00:33:21] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[00:33:21] [INFO] [EnemyGrenade] Initialized: 1 grenades
[00:33:21] [ENEMY] [Enemy8] Death animation component initialized
[00:33:21] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:33:21] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[00:33:21] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[00:33:21] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[00:33:21] [ENEMY] [Enemy9] Death animation component initialized
[00:33:21] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:33:21] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[00:33:21] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[00:33:21] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[00:33:21] [ENEMY] [Enemy10] Death animation component initialized
[00:33:21] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:33:21] [INFO] [BloodyFeet:Player] Footprint scene loaded
[00:33:21] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[00:33:21] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[00:33:21] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[00:33:21] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:33:21] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:33:21] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:33:21] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:33:21] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:33:21] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[00:33:21] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[00:33:21] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[00:33:21] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:33:21] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[00:33:21] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[00:33:21] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[00:33:21] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[00:33:21] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[00:33:21] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[00:33:21] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[00:33:21] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[00:33:21] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[00:33:21] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[00:33:21] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[00:33:21] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[00:33:21] [INFO] [ScoreManager] Level started with 10 enemies
[00:33:21] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[00:33:21] [INFO] [CinemaEffects] Found player node: Player
[00:33:21] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[00:33:21] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[00:33:21] [ENEMY] [Enemy1] Registered as sound listener
[00:33:21] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 4, behavior: GUARD
[00:33:21] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[00:33:21] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[00:33:21] [ENEMY] [Enemy2] Registered as sound listener
[00:33:21] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 4, behavior: GUARD
[00:33:21] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[00:33:21] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[00:33:21] [ENEMY] [Enemy3] Registered as sound listener
[00:33:21] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 4, behavior: GUARD
[00:33:21] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[00:33:21] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[00:33:21] [ENEMY] [Enemy4] Registered as sound listener
[00:33:21] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 3, behavior: GUARD
[00:33:21] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[00:33:21] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[00:33:21] [ENEMY] [Enemy5] Registered as sound listener
[00:33:21] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 3, behavior: GUARD
[00:33:21] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[00:33:21] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[00:33:21] [ENEMY] [Enemy6] Registered as sound listener
[00:33:21] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 3, behavior: GUARD
[00:33:21] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[00:33:21] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[00:33:21] [ENEMY] [Enemy7] Registered as sound listener
[00:33:21] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 4, behavior: PATROL
[00:33:21] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[00:33:21] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[00:33:21] [ENEMY] [Enemy8] Registered as sound listener
[00:33:21] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 3, behavior: GUARD
[00:33:21] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[00:33:21] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[00:33:21] [ENEMY] [Enemy9] Registered as sound listener
[00:33:21] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 4, behavior: GUARD
[00:33:21] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[00:33:21] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[00:33:21] [ENEMY] [Enemy10] Registered as sound listener
[00:33:21] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 4, behavior: PATROL
[00:33:21] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[00:33:21] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[00:33:21] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[00:33:21] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[00:33:21] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[00:33:21] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[00:33:21] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=337.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[00:33:21] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[00:33:21] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[00:33:21] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:33:21] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:33:21] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:33:21] [INFO] [LastChance] Found player: Player
[00:33:21] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:33:21] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:33:21] [INFO] [LastChance] Connected to player Died signal (C#)
[00:33:21] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[00:33:21] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:33:21] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:33:21] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:33:21] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[00:33:21] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:33:21] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:33:21] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[00:33:21] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (836.91815, 1366.2152)
[00:33:21] [INFO] [GrenadeTimer] Initialized for Flashbang grenade, effect radius: 400
[00:33:21] [INFO] [Player.Grenade] Added GrenadeTimer component (type: Flashbang)
[00:33:21] [INFO] [GrenadeTimer] Timer activated! 4 seconds until explosion
[00:33:21] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1250)
[00:33:21] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:33:21] [INFO] [Player.Grenade] Step 1 complete! Drag: (110.94702, -5.3432617)
[00:33:22] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:33:22] [INFO] [Player.Grenade.Simple] RMB pressed after pin pull - starting trajectory aiming
[00:33:22] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[00:33:22] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[00:33:23] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(643,1250), corner_timer=0.30
[00:33:23] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(643,1250), corner_timer=0.30
[00:33:23] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(748,1250), corner_timer=-0.02
[00:33:23] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[00:33:23] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(748,1250), corner_timer=-0.02
[00:33:23] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[00:33:23] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(753,1250), corner_timer=0.30
[00:33:23] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(753,1250), corner_timer=0.30
[00:33:23] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[00:33:23] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:33:23] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[00:33:23] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[00:33:23] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[00:33:23] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[00:33:23] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:33:23] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:33:23] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[00:33:23] [ENEMY] [Enemy1] Death animation component initialized
[00:33:23] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:33:23] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[00:33:23] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[00:33:23] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[00:33:23] [INFO] [EnemyGrenade] Initialized: 1 grenades
[00:33:23] [ENEMY] [Enemy2] Death animation component initialized
[00:33:23] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:33:23] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[00:33:23] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[00:33:23] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[00:33:23] [ENEMY] [Enemy3] Death animation component initialized
[00:33:23] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:33:23] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[00:33:23] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[00:33:23] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[00:33:23] [ENEMY] [Enemy4] Death animation component initialized
[00:33:23] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:33:23] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[00:33:23] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[00:33:23] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[00:33:23] [ENEMY] [Enemy5] Death animation component initialized
[00:33:23] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:33:23] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[00:33:23] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[00:33:23] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[00:33:23] [INFO] [EnemyGrenade] Initialized: 1 grenades
[00:33:23] [ENEMY] [Enemy6] Death animation component initialized
[00:33:23] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:33:23] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[00:33:23] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[00:33:23] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[00:33:23] [INFO] [EnemyGrenade] Initialized: 1 grenades
[00:33:23] [ENEMY] [Enemy7] Death animation component initialized
[00:33:23] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:33:23] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[00:33:23] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[00:33:23] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[00:33:23] [INFO] [EnemyGrenade] Initialized: 1 grenades
[00:33:23] [ENEMY] [Enemy8] Death animation component initialized
[00:33:23] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:33:23] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[00:33:23] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[00:33:23] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[00:33:23] [INFO] [EnemyGrenade] Initialized: 1 grenades
[00:33:23] [ENEMY] [Enemy9] Death animation component initialized
[00:33:23] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:33:23] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[00:33:23] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[00:33:23] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[00:33:23] [INFO] [EnemyGrenade] Initialized: 1 grenades
[00:33:23] [ENEMY] [Enemy10] Death animation component initialized
[00:33:23] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:33:23] [INFO] [BloodyFeet:Player] Footprint scene loaded
[00:33:23] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[00:33:23] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[00:33:23] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[00:33:23] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:33:23] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:33:23] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:33:23] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:33:23] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:33:23] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[00:33:23] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[00:33:23] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[00:33:23] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:33:23] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[00:33:23] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[00:33:23] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[00:33:23] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[00:33:23] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[00:33:23] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[00:33:23] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[00:33:23] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[00:33:23] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[00:33:23] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[00:33:23] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[00:33:23] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[00:33:23] [INFO] [ScoreManager] Level started with 10 enemies
[00:33:23] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[00:33:23] [INFO] [CinemaEffects] Found player node: Player
[00:33:23] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[00:33:23] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 21)
[00:33:23] [ENEMY] [Enemy1] Registered as sound listener
[00:33:23] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 2, behavior: GUARD
[00:33:23] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[00:33:23] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 22)
[00:33:23] [ENEMY] [Enemy2] Registered as sound listener
[00:33:23] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 3, behavior: GUARD
[00:33:23] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[00:33:23] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 23)
[00:33:23] [ENEMY] [Enemy3] Registered as sound listener
[00:33:23] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 3, behavior: GUARD
[00:33:23] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[00:33:23] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 24)
[00:33:23] [ENEMY] [Enemy4] Registered as sound listener
[00:33:23] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 4, behavior: GUARD
[00:33:23] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[00:33:23] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 25)
[00:33:23] [ENEMY] [Enemy5] Registered as sound listener
[00:33:23] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 2, behavior: GUARD
[00:33:23] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[00:33:23] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 26)
[00:33:23] [ENEMY] [Enemy6] Registered as sound listener
[00:33:23] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 4, behavior: GUARD
[00:33:23] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[00:33:23] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 27)
[00:33:23] [ENEMY] [Enemy7] Registered as sound listener
[00:33:23] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 3, behavior: PATROL
[00:33:23] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[00:33:23] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 28)
[00:33:23] [ENEMY] [Enemy8] Registered as sound listener
[00:33:23] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 2, behavior: GUARD
[00:33:23] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[00:33:23] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 29)
[00:33:23] [ENEMY] [Enemy9] Registered as sound listener
[00:33:23] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 3, behavior: GUARD
[00:33:23] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[00:33:23] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 30)
[00:33:23] [ENEMY] [Enemy10] Registered as sound listener
[00:33:23] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 2, behavior: PATROL
[00:33:23] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[00:33:23] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[00:33:23] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=45.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[00:33:23] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[00:33:23] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[00:33:23] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=180.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[00:33:23] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=225.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[00:33:23] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[00:33:23] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=180.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[00:33:23] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:33:23] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:33:23] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:33:23] [INFO] [LastChance] Found player: Player
[00:33:23] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:33:23] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:33:23] [INFO] [LastChance] Connected to player Died signal (C#)
[00:33:23] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[00:33:23] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:33:23] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:33:23] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:33:25] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[00:33:25] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[00:33:25] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(841,1263), corner_timer=0.30
[00:33:25] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(841,1263), corner_timer=0.30
[00:33:25] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(916,1336), corner_timer=-0.02
[00:33:25] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[00:33:25] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(916,1336), corner_timer=-0.02
[00:33:25] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[00:33:25] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(919,1340), corner_timer=0.30
[00:33:25] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(919,1340), corner_timer=0.30
[00:33:25] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(958,1426), corner_timer=-0.02
[00:33:25] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[00:33:25] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(958,1431), corner_timer=0.30
[00:33:25] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[00:33:25] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:33:25] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:33:25] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[00:33:25] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1154.9089, 1629.9822)
[00:33:26] [INFO] [GrenadeTimer] Initialized for Flashbang grenade, effect radius: 400
[00:33:26] [INFO] [Player.Grenade] Added GrenadeTimer component (type: Flashbang)
[00:33:26] [INFO] [GrenadeTimer] Timer activated! 4 seconds until explosion
[00:33:26] [INFO] [Player.Grenade] Timer started, grenade created at (959.9967, 1462.5415)
[00:33:26] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:33:26] [INFO] [Player.Grenade] Step 1 complete! Drag: (61.202393, 8.465454)
[00:33:26] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(959,1462), corner_timer=-0.02
[00:33:26] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[00:33:26] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.6°, player=(959,1462), corner_timer=0.30
[00:33:26] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:33:26] [INFO] [Player.Grenade.Simple] RMB pressed after pin pull - starting trajectory aiming
[00:33:26] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(959,1462), corner_timer=-0.02
[00:33:26] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[00:33:26] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.8°, current=6.3°, player=(959,1462), corner_timer=0.30
[00:33:26] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.8°, player=(959,1462), corner_timer=-0.02
[00:33:26] [ENEMY] [Enemy10] PATROL corner check: angle 0.9°
[00:33:26] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=0.9°, current=4.6°, player=(959,1462), corner_timer=0.30
[00:33:26] [INFO] [Player.Grenade.Simple] Throwing! Target: (1161.0453, 1598.6229), Distance: 212,0, Speed: 356,7, Friction: 300,0
[00:33:26] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 0,5950253
[00:33:26] [INFO] [GrenadeTimer] Grenade marked as thrown - impact detection enabled
[00:33:26] [INFO] [Player.Grenade.Simple] C# set velocity directly: dir=(0.82813436, 0.5605297), speed=356,7, spawn=(1009.68475, 1496.1733)
[00:33:26] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:33:26] [INFO] [Player.Grenade.Simple] Grenade thrown!
[00:33:26] [INFO] [Player.Grenade] State reset to IDLE
[00:33:26] [INFO] [Player.Grenade] State reset to IDLE
[00:33:26] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:33:27] [INFO] [Player.Grenade] Player rotation restored to 0
[00:33:27] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[00:33:27] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=-130.1°, player=(959,1462), corner_timer=-0.02
[00:33:27] [ENEMY] [Enemy7] PATROL corner check: angle 90.0°
[00:33:27] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:33:27] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=-133.0°, player=(959,1462), corner_timer=0.30
[00:33:27] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[00:33:27] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=179.1°, current=172.4°, player=(959,1462), corner_timer=-0.02
[00:33:27] [ENEMY] [Enemy7] PATROL corner check: angle 89.8°
[00:33:27] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.8°, current=175.3°, player=(959,1462), corner_timer=0.30
[00:33:27] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[00:33:27] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=178.4°, current=120.7°, player=(959,1462), corner_timer=-0.02
[00:33:27] [ENEMY] [Enemy7] PATROL corner check: angle 89.7°
[00:33:27] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.7°, current=123.6°, player=(959,1462), corner_timer=0.30
[00:33:28] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[00:33:28] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.9°, current=89.7°, player=(959,1462), corner_timer=-0.02
[00:33:28] [ENEMY] [Enemy7] PATROL corner check: angle 89.6°
[00:33:28] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.6°, current=92.5°, player=(959,1462), corner_timer=0.30
[00:33:28] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[00:33:28] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.7°, current=89.6°, player=(959,1462), corner_timer=-0.02
[00:33:28] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[00:33:28] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.4°, player=(959,1462), corner_timer=0.30
[00:33:28] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[00:33:28] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.5°, current=89.5°, player=(959,1462), corner_timer=-0.02
[00:33:28] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[00:33:28] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.4°, player=(959,1462), corner_timer=0.30
[00:33:29] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[00:33:29] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.4°, current=89.5°, player=(959,1462), corner_timer=-0.02
[00:33:29] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[00:33:29] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.3°, player=(959,1462), corner_timer=0.30
[00:33:29] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[00:33:29] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.5°, player=(959,1462), corner_timer=-0.02
[00:33:29] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[00:33:29] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(959,1462), corner_timer=0.30
[00:33:29] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[00:33:29] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(959,1462), corner_timer=-0.02
[00:33:29] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[00:33:29] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(959,1462), corner_timer=0.30
[00:33:30] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[00:33:30] [INFO] [GrenadeTimer] Timer expired - EXPLODING!
[00:33:30] [INFO] [GrenadeTimer] EXPLODED at (1135.6013, 1580.6555)!
[00:33:30] [INFO] [GrenadeTimer] Applying flashbang effects (radius: 400, blindness: 12s, stun: 6s)
[00:33:30] [INFO] [GrenadeTimer] Applied flashbang to enemy at distance 31,7 (intensity: 0,92)
[00:33:30] [INFO] [GrenadeTimer] Applied flashbang to player at distance 211,6
[00:33:30] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1135.601, 1580.656), source=NEUTRAL (FlashbangGrenade), range=2938, listeners=30
[00:33:30] [INFO] [SoundPropagation] Cleaned up 20 invalid listeners
[00:33:30] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=9
[00:33:30] [INFO] [GrenadeTimer] Spawned C# explosion effect at (1135.6013, 1580.6555)
[00:33:30] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(959,1462), corner_timer=-0.02
[00:33:30] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[00:33:30] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(959,1462), corner_timer=0.30
[00:33:30] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[00:33:30] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(974,1462), corner_timer=-0.02
[00:33:30] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[00:33:30] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(978,1462), corner_timer=0.30
[00:33:30] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[00:33:30] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(1076,1462), corner_timer=-0.02
[00:33:30] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[00:33:30] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1082,1462), corner_timer=0.30
[00:33:31] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[00:33:31] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1179,1479), corner_timer=-0.02
[00:33:31] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[00:33:31] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1183,1482), corner_timer=0.30
[00:33:31] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[00:33:31] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P1:visible, state=IDLE, target=-48.5°, current=0.6°, player=(1226,1525), corner_timer=0.25
[00:33:31] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[00:33:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1159.099, 1601.934), source=ENEMY (Enemy10), range=1469, listeners=10
[00:33:31] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=8
[00:33:31] [INFO] [LastChance] Threat detected: Bullet
[00:33:31] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[00:33:31] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:33:31] [INFO] [Player] Spawning blood effect at (1234.5486, 1533.2308), dir=(1, 0), lethal=False (C#)
[00:33:31] [INFO] [ImpactEffects] spawn_blood_effect called at (1234.549, 1533.231), dir=(1, 0), lethal=false
[00:33:31] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[00:33:31] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[00:33:31] [INFO] [ImpactEffects] Blood effect spawned at (1234.549, 1533.231) (scale=1)
[00:33:31] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[00:33:31] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[00:33:31] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[00:33:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1159.099, 1601.934), source=ENEMY (Enemy10), range=1469, listeners=10
[00:33:31] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=8
[00:33:31] [INFO] [LastChance] Threat detected: Bullet
[00:33:31] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[00:33:31] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:33:31] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1257,1556), corner_timer=-0.02
[00:33:31] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[00:33:31] [INFO] [Player] Spawning blood effect at (1261.7719, 1560.4541), dir=(1, 0), lethal=False (C#)
[00:33:31] [INFO] [ImpactEffects] spawn_blood_effect called at (1261.772, 1560.454), dir=(1, 0), lethal=false
[00:33:31] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[00:33:31] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[00:33:31] [INFO] [ImpactEffects] Blood effect spawned at (1261.772, 1560.454) (scale=1)
[00:33:31] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[00:33:31] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[00:33:31] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[00:33:31] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1261,1560), corner_timer=0.30
[00:33:31] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[00:33:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1159.099, 1601.934), source=ENEMY (Enemy10), range=1469, listeners=10
[00:33:31] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=8
[00:33:31] [INFO] [LastChance] Threat detected: Bullet
[00:33:31] [INFO] [LastChance] Triggering last chance effect!
[00:33:31] [INFO] [LastChance] Starting last chance effect:
[00:33:31] [INFO] [LastChance]   - Time will be frozen (except player)
[00:33:31] [INFO] [LastChance]   - Duration: 6.0 real seconds
[00:33:31] [INFO] [LastChance]   - Sepia intensity: 0.70
[00:33:31] [INFO] [LastChance]   - Brightness: 0.60
[00:33:31] [INFO] [LastChance] Pushed bullet Bullet from distance 53.6 to 200.0
[00:33:31] [INFO] [LastChance] Pushed 1 threatening bullets away from player
[00:33:31] [INFO] [LastChance] Set player Player and all 24 children to PROCESS_MODE_ALWAYS
[00:33:31] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[00:33:31] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[00:33:31] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[00:33:31] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[00:33:31] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[00:33:31] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[00:33:31] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[00:33:31] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[00:33:31] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[00:33:31] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[00:33:31] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[00:33:31] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[00:33:31] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[00:33:31] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[00:33:31] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[00:33:31] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[00:33:31] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[00:33:31] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[00:33:31] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[00:33:31] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[00:33:31] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[00:33:31] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[00:33:31] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[00:33:31] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[00:33:31] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[00:33:31] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[00:33:31] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[00:33:31] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[00:33:31] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[00:33:31] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[00:33:31] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[00:33:31] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[00:33:31] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[00:33:31] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[00:33:31] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[00:33:31] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[00:33:31] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[00:33:31] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[00:33:31] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[00:33:31] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[00:33:31] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[00:33:31] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[00:33:31] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[00:33:31] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[00:33:31] [INFO] [LastChance] Skipping player node: Player
[00:33:31] [INFO] [LastChance] Froze existing bullet casing: Casing
[00:33:31] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2087
[00:33:31] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2089
[00:33:31] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[00:33:31] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[00:33:31] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[00:33:31] [INFO] [BloodDecal] Blood puddle created at (1296.572, 1563.184) (added to group)
[00:33:31] [INFO] [BloodDecal] Blood puddle created at (1337.09, 1569.918) (added to group)
[00:33:31] [INFO] [BloodDecal] Blood puddle created at (1310.878, 1570.45) (added to group)
[00:33:31] [INFO] [BloodDecal] Blood puddle created at (1311.45, 1559.977) (added to group)
[00:33:31] [INFO] [BloodDecal] Blood puddle created at (1345.66, 1603.128) (added to group)
[00:33:31] [INFO] [BloodDecal] Blood puddle created at (1300.809, 1563.522) (added to group)
[00:33:31] [INFO] [BloodDecal] Blood puddle created at (1342.639, 1599.967) (added to group)
[00:33:31] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[00:33:31] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:33:31] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[00:33:31] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[00:33:31] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[00:33:31] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[00:33:31] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:33:31] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:33:31] [INFO] [LastChance] All process modes restored
[00:33:31] [INFO] [LastChance] Restored original colors to 5 player sprites
[00:33:31] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[00:33:31] [ENEMY] [Enemy1] Death animation component initialized
[00:33:31] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:33:31] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[00:33:31] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[00:33:31] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[00:33:31] [INFO] [EnemyGrenade] Initialized: 1 grenades
[00:33:31] [ENEMY] [Enemy2] Death animation component initialized
[00:33:31] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:33:31] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[00:33:31] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[00:33:31] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[00:33:31] [ENEMY] [Enemy3] Death animation component initialized
[00:33:31] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:33:31] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[00:33:31] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[00:33:31] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[00:33:31] [ENEMY] [Enemy4] Death animation component initialized
[00:33:31] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:33:31] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[00:33:31] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[00:33:31] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[00:33:31] [ENEMY] [Enemy5] Death animation component initialized
[00:33:31] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:33:31] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[00:33:31] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[00:33:31] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[00:33:31] [ENEMY] [Enemy6] Death animation component initialized
[00:33:31] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:33:31] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[00:33:31] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[00:33:31] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[00:33:31] [INFO] [EnemyGrenade] Initialized: 1 grenades
[00:33:31] [ENEMY] [Enemy7] Death animation component initialized
[00:33:31] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:33:31] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[00:33:31] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[00:33:31] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[00:33:31] [INFO] [EnemyGrenade] Initialized: 1 grenades
[00:33:31] [ENEMY] [Enemy8] Death animation component initialized
[00:33:31] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:33:31] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[00:33:31] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[00:33:31] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[00:33:31] [INFO] [EnemyGrenade] Initialized: 1 grenades
[00:33:31] [ENEMY] [Enemy9] Death animation component initialized
[00:33:31] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:33:31] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[00:33:31] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[00:33:31] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[00:33:31] [ENEMY] [Enemy10] Death animation component initialized
[00:33:31] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:33:31] [INFO] [BloodyFeet:Player] Footprint scene loaded
[00:33:31] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[00:33:31] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[00:33:31] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[00:33:31] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:33:31] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:33:31] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:33:31] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:33:31] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:33:31] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[00:33:31] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[00:33:31] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[00:33:31] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:33:31] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[00:33:31] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[00:33:31] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[00:33:31] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[00:33:31] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[00:33:31] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[00:33:31] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[00:33:31] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[00:33:31] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[00:33:31] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[00:33:31] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[00:33:31] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[00:33:31] [INFO] [ScoreManager] Level started with 10 enemies
[00:33:31] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[00:33:31] [INFO] [CinemaEffects] Found player node: Player
[00:33:31] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[00:33:31] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[00:33:31] [ENEMY] [Enemy1] Registered as sound listener
[00:33:31] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 3, behavior: GUARD
[00:33:31] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[00:33:31] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[00:33:31] [ENEMY] [Enemy2] Registered as sound listener
[00:33:31] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 2, behavior: GUARD
[00:33:31] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[00:33:31] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[00:33:31] [ENEMY] [Enemy3] Registered as sound listener
[00:33:31] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 4, behavior: GUARD
[00:33:31] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[00:33:31] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[00:33:31] [ENEMY] [Enemy4] Registered as sound listener
[00:33:31] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 2, behavior: GUARD
[00:33:31] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[00:33:31] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[00:33:31] [ENEMY] [Enemy5] Registered as sound listener
[00:33:31] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 2, behavior: GUARD
[00:33:31] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[00:33:31] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[00:33:31] [ENEMY] [Enemy6] Registered as sound listener
[00:33:31] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 4, behavior: GUARD
[00:33:31] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[00:33:31] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[00:33:31] [ENEMY] [Enemy7] Registered as sound listener
[00:33:31] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 2, behavior: PATROL
[00:33:31] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[00:33:31] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[00:33:31] [ENEMY] [Enemy8] Registered as sound listener
[00:33:31] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 4, behavior: GUARD
[00:33:31] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[00:33:31] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[00:33:31] [ENEMY] [Enemy9] Registered as sound listener
[00:33:31] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 4, behavior: GUARD
[00:33:31] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[00:33:31] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[00:33:31] [ENEMY] [Enemy10] Registered as sound listener
[00:33:31] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 4, behavior: PATROL
[00:33:31] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[00:33:32] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[00:33:32] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=45.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[00:33:32] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[00:33:32] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[00:33:32] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[00:33:32] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[00:33:32] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[00:33:32] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[00:33:32] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:33:32] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:33:32] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:33:32] [INFO] [LastChance] Found player: Player
[00:33:32] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:33:32] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:33:32] [INFO] [LastChance] Connected to player Died signal (C#)
[00:33:32] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[00:33:32] [INFO] [BloodDecal] Blood puddle created at (1387.866, 1564.267) (added to group)
[00:33:32] [INFO] [BloodDecal] Blood puddle created at (1346.091, 1589.517) (added to group)
[00:33:32] [INFO] [BloodDecal] Blood puddle created at (1342.558, 1601.506) (added to group)
[00:33:32] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:33:32] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:33:32] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:33:32] [INFO] [BloodDecal] Blood puddle created at (1408.19, 1579.089) (added to group)
[00:33:32] [INFO] [BloodDecal] Blood puddle created at (1352.722, 1577.021) (added to group)
[00:33:32] [INFO] [BloodDecal] Blood puddle created at (1440.774, 1640.21) (added to group)
[00:33:32] [INFO] [BloodDecal] Blood puddle created at (1431.927, 1631.32) (added to group)
[00:33:32] [INFO] [BloodDecal] Blood puddle created at (1427.436, 1702.732) (added to group)
[00:33:32] [INFO] [BloodDecal] Blood puddle created at (1345.473, 1598.721) (added to group)
[00:33:32] [INFO] [BloodDecal] Blood puddle created at (1448.56, 1703.258) (added to group)
[00:33:32] [INFO] [BloodDecal] Blood puddle created at (1373.963, 1700.528) (added to group)
[00:33:32] [INFO] [BloodDecal] Blood puddle created at (1381.593, 1643.927) (added to group)
[00:33:32] [INFO] [BloodDecal] Blood puddle created at (1387.037, 1682.265) (added to group)
[00:33:33] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[00:33:33] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:33:33] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:33:33] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[00:33:33] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (564.9972, 837.08856)
[00:33:33] [INFO] [GrenadeTimer] Initialized for Flashbang grenade, effect radius: 400
[00:33:33] [INFO] [Player.Grenade] Added GrenadeTimer component (type: Flashbang)
[00:33:33] [INFO] [GrenadeTimer] Timer activated! 4 seconds until explosion
[00:33:33] [INFO] [Player.Grenade] Timer started, grenade created at (450, 943.9444)
[00:33:33] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:33:33] [INFO] [Player.Grenade] Step 1 complete! Drag: (98.93634, -11.312744)
[00:33:33] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:33:33] [INFO] [Player.Grenade.Simple] RMB pressed after pin pull - starting trajectory aiming
[00:33:33] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[00:33:33] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[00:33:33] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,943), corner_timer=0.30
[00:33:33] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,943), corner_timer=0.30
[00:33:33] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(438,943), corner_timer=-0.02
[00:33:33] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[00:33:33] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(438,943), corner_timer=-0.02
[00:33:33] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[00:33:33] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(435,943), corner_timer=0.30
[00:33:33] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(435,943), corner_timer=0.30
[00:33:34] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(338,943), corner_timer=-0.02
[00:33:34] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[00:33:34] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(333,943), corner_timer=0.30
[00:33:34] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(232,943), corner_timer=-0.02
[00:33:34] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[00:33:34] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.6°, player=(228,943), corner_timer=0.30
[00:33:34] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(204,943), corner_timer=-0.02
[00:33:34] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[00:33:34] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.8°, current=6.3°, player=(204,943), corner_timer=0.30
[00:33:34] [INFO] [Player.Grenade.Simple] Throwing! Target: (650.68854, 702.83765), Distance: 518,8, Speed: 557,9, Friction: 300,0
[00:33:34] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,49536735
[00:33:34] [INFO] [GrenadeTimer] Grenade marked as thrown - impact detection enabled
[00:33:34] [INFO] [Player.Grenade.Simple] C# set velocity directly: dir=(0.8797941, -0.47535485), speed=557,9, spawn=(257.2321, 915.4231)
[00:33:34] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:33:34] [INFO] [Player.Grenade.Simple] Grenade thrown!
[00:33:34] [INFO] [Player.Grenade] State reset to IDLE
[00:33:34] [INFO] [Player.Grenade] State reset to IDLE
[00:33:34] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:33:35] [INFO] [Player.Grenade] Player rotation restored to 0
[00:33:35] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.8°, player=(204,943), corner_timer=-0.02
[00:33:35] [ENEMY] [Enemy10] PATROL corner check: angle 0.9°
[00:33:35] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=0.9°, current=4.6°, player=(204,943), corner_timer=0.30
[00:33:35] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:33:35] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[00:33:35] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=-130.1°, player=(204,943), corner_timer=-0.02
[00:33:35] [ENEMY] [Enemy7] PATROL corner check: angle 90.0°
[00:33:35] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=-133.0°, player=(204,943), corner_timer=0.30
[00:33:35] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[00:33:36] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=179.1°, current=172.4°, player=(255,943), corner_timer=-0.02
[00:33:36] [ENEMY] [Enemy7] PATROL corner check: angle 89.8°
[00:33:36] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.8°, current=175.3°, player=(260,943), corner_timer=0.30
[00:33:36] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[00:33:36] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=178.4°, current=120.7°, player=(365,943), corner_timer=-0.02
[00:33:36] [ENEMY] [Enemy7] PATROL corner check: angle 89.7°
[00:33:36] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.7°, current=123.6°, player=(370,943), corner_timer=0.30
[00:33:36] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[00:33:36] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.9°, current=89.7°, player=(427,943), corner_timer=-0.02
[00:33:36] [ENEMY] [Enemy7] PATROL corner check: angle 89.6°
[00:33:36] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.6°, current=92.5°, player=(428,943), corner_timer=0.30
[00:33:36] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[00:33:37] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.7°, current=89.6°, player=(428,943), corner_timer=-0.02
[00:33:37] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[00:33:37] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.4°, player=(428,943), corner_timer=0.30
[00:33:37] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[00:33:37] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.5°, current=89.5°, player=(428,943), corner_timer=-0.02
[00:33:37] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[00:33:37] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.4°, player=(428,943), corner_timer=0.30
[00:33:37] [INFO] [GrenadeTimer] Timer expired - EXPLODING!
[00:33:37] [INFO] [GrenadeTimer] EXPLODED at (660.1179, 697.7429)!
[00:33:37] [INFO] [GrenadeTimer] Applying flashbang effects (radius: 400, blindness: 12s, stun: 6s)
[00:33:37] [INFO] [GrenadeTimer] Applied flashbang to enemy at distance 299,1 (intensity: 0,25)
[00:33:37] [INFO] [GrenadeTimer] Applied flashbang to enemy at distance 65,7 (intensity: 0,84)
[00:33:37] [INFO] [GrenadeTimer] Applied flashbang to player at distance 338,4
[00:33:37] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(660.1179, 697.7429), source=NEUTRAL (FlashbangGrenade), range=2938, listeners=20
[00:33:37] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[00:33:37] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=0, below_threshold=7
[00:33:37] [INFO] [GrenadeTimer] Spawned C# explosion effect at (660.1179, 697.7429)
[00:33:37] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[00:33:37] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.4°, current=89.5°, player=(428,943), corner_timer=-0.02
[00:33:37] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[00:33:37] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.3°, player=(428,943), corner_timer=0.30
[00:33:37] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[00:33:38] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.5°, player=(428,887), corner_timer=-0.02
[00:33:38] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[00:33:38] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(428,882), corner_timer=0.30
[00:33:38] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[00:33:38] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=163.7°, current=-168.8°, player=(431,828), corner_timer=0.00
[00:33:38] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[00:33:38] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=165.5°, current=-9.9°, player=(434,818), corner_timer=0.00
[00:33:38] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(455,789), corner_timer=-0.02
[00:33:38] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[00:33:38] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(459,785), corner_timer=0.30
[00:33:38] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[00:33:38] [ENEMY] [Enemy4] Memory: high confidence (0.86) - transitioning to PURSUING
[00:33:38] [ENEMY] [Enemy4] State: IDLE -> PURSUING
[00:33:38] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=-150.6°, current=-101.3°, player=(517,740), corner_timer=0.00
[00:33:38] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(518,739), corner_timer=-0.02
[00:33:38] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[00:33:38] [ENEMY] [Enemy4] PURSUING corner check: angle -100.7°
[00:33:38] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(519,738), corner_timer=0.30
[00:33:38] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=57.4°, current=45.0°, player=(520,738), corner_timer=0.00
[00:33:38] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[00:33:38] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[00:33:38] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[00:33:38] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[00:33:38] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[00:33:38] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-172.9°, current=138.0°, player=(521,737), corner_timer=0.00
[00:33:38] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[00:33:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(674.1093, 756.3688), source=ENEMY (Enemy3), range=1469, listeners=10
[00:33:38] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:33:39] [INFO] [LastChance] Threat detected: Bullet
[00:33:39] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[00:33:39] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:33:39] [INFO] [Player] Spawning blood effect at (521.77026, 737.5081), dir=(1, 0), lethal=False (C#)
[00:33:39] [INFO] [ImpactEffects] spawn_blood_effect called at (521.7703, 737.5081), dir=(1, 0), lethal=false
[00:33:39] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[00:33:39] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[00:33:39] [INFO] [ImpactEffects] Blood effect spawned at (521.7703, 737.5081) (scale=1)
[00:33:39] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[00:33:39] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[00:33:39] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[00:33:39] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(521,737), corner_timer=-0.02
[00:33:39] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[00:33:39] [ENEMY] [Enemy3] State: PURSUING -> COMBAT
[00:33:39] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(521,737), corner_timer=0.30
[00:33:39] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[00:33:39] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[00:33:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(674.1093, 756.3688), source=ENEMY (Enemy3), range=1469, listeners=10
[00:33:39] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[00:33:39] [INFO] [LastChance] Threat detected: Bullet
[00:33:39] [INFO] [LastChance] Triggering last chance effect!
[00:33:39] [INFO] [LastChance] Starting last chance effect:
[00:33:39] [INFO] [LastChance]   - Time will be frozen (except player)
[00:33:39] [INFO] [LastChance]   - Duration: 6.0 real seconds
[00:33:39] [INFO] [LastChance]   - Sepia intensity: 0.70
[00:33:39] [INFO] [LastChance]   - Brightness: 0.60
[00:33:39] [INFO] [LastChance] Pushed bullet Bullet from distance 86.3 to 200.0
[00:33:39] [INFO] [LastChance] Pushed 1 threatening bullets away from player
[00:33:39] [INFO] [LastChance] Set player Player and all 24 children to PROCESS_MODE_ALWAYS
[00:33:39] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[00:33:39] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[00:33:39] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[00:33:39] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[00:33:39] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[00:33:39] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[00:33:39] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[00:33:39] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[00:33:39] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[00:33:39] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[00:33:39] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[00:33:39] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[00:33:39] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[00:33:39] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[00:33:39] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[00:33:39] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[00:33:39] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[00:33:39] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[00:33:39] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[00:33:39] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[00:33:39] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[00:33:39] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[00:33:39] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[00:33:39] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[00:33:39] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[00:33:39] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[00:33:39] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[00:33:39] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[00:33:39] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[00:33:39] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[00:33:39] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[00:33:39] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[00:33:39] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[00:33:39] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[00:33:39] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[00:33:39] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[00:33:39] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[00:33:39] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[00:33:39] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[00:33:39] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[00:33:39] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[00:33:39] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[00:33:39] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[00:33:39] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[00:33:39] [INFO] [LastChance] Skipping player node: Player
[00:33:39] [INFO] [LastChance] Froze existing bullet casing: Casing
[00:33:39] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2361
[00:33:39] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[00:33:39] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[00:33:39] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[00:33:39] [INFO] [BloodDecal] Blood puddle created at (582.3234, 733.7087) (added to group)
[00:33:39] [INFO] [BloodDecal] Blood puddle created at (605.7589, 781.9295) (added to group)
[00:33:39] [INFO] [BloodDecal] Blood puddle created at (610.9483, 736.2864) (added to group)
[00:33:39] [INFO] [BloodDecal] Blood puddle created at (622.3085, 810.3156) (added to group)
[00:33:39] [INFO] [BloodDecal] Blood puddle created at (643.3117, 770.9117) (added to group)
[00:33:39] [INFO] [BloodDecal] Blood puddle created at (632.4467, 750.1812) (added to group)
[00:33:39] [INFO] [BloodDecal] Blood puddle created at (733.1795, 769.0964) (added to group)
[00:33:39] [INFO] [BloodDecal] Blood puddle created at (633.4138, 813.8939) (added to group)
[00:33:40] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[00:33:40] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:33:40] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[00:33:40] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[00:33:40] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[00:33:40] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[00:33:40] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:33:40] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:33:40] [INFO] [LastChance] All process modes restored
[00:33:40] [INFO] [LastChance] Restored original colors to 5 player sprites
[00:33:40] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[00:33:40] [ENEMY] [Enemy1] Death animation component initialized
[00:33:40] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:33:40] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[00:33:40] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[00:33:40] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[00:33:40] [ENEMY] [Enemy2] Death animation component initialized
[00:33:40] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:33:40] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[00:33:40] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[00:33:40] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[00:33:40] [ENEMY] [Enemy3] Death animation component initialized
[00:33:40] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:33:40] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[00:33:40] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[00:33:40] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[00:33:40] [ENEMY] [Enemy4] Death animation component initialized
[00:33:40] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:33:40] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[00:33:40] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[00:33:40] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[00:33:40] [INFO] [EnemyGrenade] Initialized: 1 grenades
[00:33:40] [ENEMY] [Enemy5] Death animation component initialized
[00:33:40] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:33:40] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[00:33:40] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[00:33:40] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[00:33:40] [INFO] [EnemyGrenade] Initialized: 1 grenades
[00:33:40] [ENEMY] [Enemy6] Death animation component initialized
[00:33:40] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:33:40] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[00:33:40] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[00:33:40] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[00:33:40] [ENEMY] [Enemy7] Death animation component initialized
[00:33:40] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:33:40] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[00:33:40] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[00:33:40] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[00:33:40] [ENEMY] [Enemy8] Death animation component initialized
[00:33:40] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:33:40] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[00:33:40] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[00:33:40] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[00:33:40] [INFO] [EnemyGrenade] Initialized: 1 grenades
[00:33:40] [ENEMY] [Enemy9] Death animation component initialized
[00:33:40] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:33:40] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[00:33:40] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[00:33:40] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[00:33:40] [ENEMY] [Enemy10] Death animation component initialized
[00:33:40] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:33:40] [INFO] [BloodyFeet:Player] Footprint scene loaded
[00:33:40] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[00:33:40] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[00:33:40] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[00:33:40] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:33:40] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:33:40] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:33:40] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:33:40] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:33:40] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[00:33:40] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[00:33:40] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[00:33:40] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:33:40] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[00:33:40] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[00:33:40] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[00:33:40] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[00:33:40] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[00:33:40] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[00:33:40] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[00:33:40] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[00:33:40] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[00:33:40] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[00:33:40] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[00:33:40] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[00:33:40] [INFO] [ScoreManager] Level started with 10 enemies
[00:33:40] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[00:33:40] [INFO] [CinemaEffects] Found player node: Player
[00:33:40] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[00:33:40] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[00:33:40] [ENEMY] [Enemy1] Registered as sound listener
[00:33:40] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 3, behavior: GUARD
[00:33:40] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[00:33:40] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[00:33:40] [ENEMY] [Enemy2] Registered as sound listener
[00:33:40] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 4, behavior: GUARD
[00:33:40] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[00:33:40] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[00:33:40] [ENEMY] [Enemy3] Registered as sound listener
[00:33:40] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 4, behavior: GUARD
[00:33:40] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[00:33:40] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[00:33:40] [ENEMY] [Enemy4] Registered as sound listener
[00:33:40] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 2, behavior: GUARD
[00:33:40] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[00:33:40] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[00:33:40] [ENEMY] [Enemy5] Registered as sound listener
[00:33:40] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 2, behavior: GUARD
[00:33:40] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[00:33:40] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[00:33:40] [ENEMY] [Enemy6] Registered as sound listener
[00:33:40] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 4, behavior: GUARD
[00:33:40] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[00:33:40] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[00:33:40] [ENEMY] [Enemy7] Registered as sound listener
[00:33:40] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 3, behavior: PATROL
[00:33:40] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[00:33:40] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[00:33:40] [ENEMY] [Enemy8] Registered as sound listener
[00:33:40] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 2, behavior: GUARD
[00:33:40] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[00:33:40] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[00:33:40] [ENEMY] [Enemy9] Registered as sound listener
[00:33:40] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 2, behavior: GUARD
[00:33:40] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[00:33:40] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[00:33:40] [ENEMY] [Enemy10] Registered as sound listener
[00:33:40] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 3, behavior: PATROL
[00:33:40] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[00:33:40] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[00:33:40] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=45.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[00:33:40] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[00:33:40] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[00:33:40] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[00:33:40] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[00:33:40] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=123.7°, current=0.0°, player=(450,1250), corner_timer=0.00
[00:33:40] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[00:33:40] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:33:40] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:33:40] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:33:40] [INFO] [LastChance] Found player: Player
[00:33:40] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:33:40] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:33:40] [INFO] [LastChance] Connected to player Died signal (C#)
[00:33:40] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[00:33:40] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:33:40] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:33:40] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:33:41] [INFO] ------------------------------------------------------------
[00:33:41] [INFO] GAME LOG ENDED: 2026-02-04T00:33:41
[00:33:41] [INFO] ============================================================
