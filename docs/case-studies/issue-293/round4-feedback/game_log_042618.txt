[04:26:18] [INFO] ============================================================
[04:26:18] [INFO] GAME LOG STARTED
[04:26:18] [INFO] ============================================================
[04:26:18] [INFO] Timestamp: 2026-01-24T04:26:18
[04:26:18] [INFO] Log file: I:/Загрузки/godot exe/game_log_20260124_042618.txt
[04:26:18] [INFO] Executable: I:/Загрузки/godot exe/Godot-Top-Down-Template.exe
[04:26:18] [INFO] OS: Windows
[04:26:18] [INFO] Debug build: false
[04:26:18] [INFO] Engine version: 4.3-stable (official)
[04:26:18] [INFO] Project: Godot Top-Down Template
[04:26:18] [INFO] ------------------------------------------------------------
[04:26:18] [INFO] [GameManager] GameManager ready
[04:26:18] [INFO] [ScoreManager] ScoreManager ready
[04:26:18] [INFO] [SoundPropagation] SoundPropagation autoload initialized
[04:26:18] [INFO] [ImpactEffects] Scenes loaded: DustEffect, BloodEffect, SparksEffect, BloodDecal
[04:26:18] [INFO] [ImpactEffects] ImpactEffectsManager ready - FULL VERSION with blood effects enabled
[04:26:18] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[04:26:18] [INFO] [PenultimateHit] Saturation shader loaded successfully
[04:26:18] [INFO] [PenultimateHit] PenultimateHitEffectsManager ready - Configuration:
[04:26:18] [INFO] [PenultimateHit]   Time scale: 0.10 (10x slowdown)
[04:26:18] [INFO] [PenultimateHit]   Saturation boost: 2.0 (3.0x)
[04:26:18] [INFO] [PenultimateHit]   Contrast boost: 1.0 (2.0x)
[04:26:18] [INFO] [PenultimateHit]   Effect duration: 3.0 real seconds
[04:26:18] [INFO] [LastChance] Resetting all effects (scene change detected)
[04:26:18] [INFO] [LastChance] Last chance shader loaded successfully
[04:26:18] [INFO] [LastChance] LastChanceEffectsManager ready - Configuration:
[04:26:18] [INFO] [LastChance]   Freeze duration: 6.0 real seconds
[04:26:18] [INFO] [LastChance]   Sepia intensity: 0.70
[04:26:18] [INFO] [LastChance]   Brightness: 0.60
[04:26:18] [INFO] [GrenadeManager] Loaded grenade scene: res://scenes/projectiles/FlashbangGrenade.tscn
[04:26:18] [INFO] [GrenadeManager] Loaded grenade scene: res://scenes/projectiles/FragGrenade.tscn
[04:26:18] [ENEMY] [Enemy1] Death animation component initialized
[04:26:18] [ENEMY] [Enemy2] Death animation component initialized
[04:26:18] [ENEMY] [Enemy3] Death animation component initialized
[04:26:18] [ENEMY] [Enemy4] Death animation component initialized
[04:26:18] [ENEMY] [Enemy5] Death animation component initialized
[04:26:18] [ENEMY] [Enemy6] Death animation component initialized
[04:26:18] [ENEMY] [Enemy7] Death animation component initialized
[04:26:18] [ENEMY] [Enemy8] Death animation component initialized
[04:26:18] [ENEMY] [Enemy9] Death animation component initialized
[04:26:18] [ENEMY] [Enemy10] Death animation component initialized
[04:26:18] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[04:26:18] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[04:26:18] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[04:26:18] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[04:26:18] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[04:26:18] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[04:26:18] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[04:26:18] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[04:26:18] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[04:26:18] [INFO] [ScoreManager] Level started with 10 enemies
[04:26:19] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 1)
[04:26:19] [ENEMY] [Enemy1] Registered as sound listener
[04:26:19] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[04:26:19] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 2)
[04:26:19] [ENEMY] [Enemy2] Registered as sound listener
[04:26:19] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[04:26:19] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 3)
[04:26:19] [ENEMY] [Enemy3] Registered as sound listener
[04:26:19] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[04:26:19] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 4)
[04:26:19] [ENEMY] [Enemy4] Registered as sound listener
[04:26:19] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[04:26:19] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 5)
[04:26:19] [ENEMY] [Enemy5] Registered as sound listener
[04:26:19] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[04:26:19] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 6)
[04:26:19] [ENEMY] [Enemy6] Registered as sound listener
[04:26:19] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[04:26:19] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 7)
[04:26:19] [ENEMY] [Enemy7] Registered as sound listener
[04:26:19] [ENEMY] [Enemy7] Enemy spawned at (1606.114, 893.8859), health: 3, behavior: PATROL, player_found: yes
[04:26:19] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 8)
[04:26:19] [ENEMY] [Enemy8] Registered as sound listener
[04:26:19] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[04:26:19] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 9)
[04:26:19] [ENEMY] [Enemy9] Registered as sound listener
[04:26:19] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[04:26:19] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 10)
[04:26:19] [ENEMY] [Enemy10] Registered as sound listener
[04:26:19] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[04:26:19] [INFO] [Player] Detecting weapon pose (frame 3)...
[04:26:19] [INFO] [Player] Detected weapon: Rifle (default pose)
[04:26:19] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[04:26:19] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[04:26:19] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[04:26:19] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[04:26:19] [INFO] [LastChance] Found player: Player
[04:26:19] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[04:26:19] [INFO] [LastChance] Connected to player Damaged signal (C#)
[04:26:19] [INFO] [LastChance] Connected to player Died signal (C#)
[04:26:20] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[04:26:21] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[04:26:21] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1156.732, 1587.01), source=ENEMY (Enemy10), range=1469, listeners=10
[04:26:21] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=8
[04:26:21] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[04:26:21] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1136.48, 1558.95), source=ENEMY (Enemy10), range=1469, listeners=10
[04:26:21] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=8
[04:26:21] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[04:26:21] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1099.024, 1550.948), shooter_id=44509955722, bullet_pos=(56.75704, 719.4088)
[04:26:21] [INFO] [Bullet] Using shooter_position, distance=1333.33337402344
[04:26:21] [INFO] [Bullet] Distance to wall: 1333.33337402344 (90.7891212211379% of viewport)
[04:26:21] [INFO] [Bullet] Distance-based penetration chance: 40.7460252420058%
[04:26:21] [INFO] [Bullet] Penetration failed (distance roll)
[04:26:21] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[04:26:21] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1079.626, 1521.557), shooter_id=44509955722, bullet_pos=(56.95637, 666.03)
[04:26:21] [INFO] [Bullet] Using shooter_position, distance=1333.33410644531
[04:26:21] [INFO] [Bullet] Distance to wall: 1333.33410644531 (90.7891710930902% of viewport)
[04:26:21] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1079.626, 1521.557), shooter_id=44509955722, bullet_pos=(222.7916, 475.0707)
[04:26:21] [INFO] [Bullet] Using shooter_position, distance=1352.51586914063
[04:26:21] [INFO] [Bullet] Distance to wall: 1352.51586914063 (92.0952925871654% of viewport)
[04:26:21] [INFO] [Bullet] Distance-based penetration chance: 39.2221586483071%
[04:26:21] [INFO] [Bullet] Starting wall penetration at (222.7916, 475.0707)
[04:26:21] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[04:26:21] [INFO] [Bullet] Exiting penetration at (249.2925, 444.5549) after traveling 35.4166679382324 pixels through wall
[04:26:21] [INFO] [Bullet] Damage multiplier after penetration: 0.45
[04:26:21] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[04:26:21] [ENEMY] [Enemy2] Heard gunshot at (684.4485, 753.7583), source_type=1, intensity=0.02, distance=350
[04:26:21] [ENEMY] [Enemy4] Heard gunshot at (684.4485, 753.7583), source_type=1, intensity=0.07, distance=186
[04:26:21] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[04:26:21] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 755.6666), source=PLAYER (AssaultRifle), range=1469, listeners=10
[04:26:21] [ENEMY] [Enemy1] Heard gunshot at (450, 755.6666), source_type=0, intensity=0.01, distance=433
[04:26:21] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[04:26:21] [INFO] [LastChance] Threat detected: Bullet
[04:26:21] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[04:26:21] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:26:22] [ENEMY] [Enemy3] Hit taken, health: 1/2
[04:26:22] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[04:26:22] [INFO] [ImpactEffects] spawn_blood_effect called at (684.4485, 753.7583), dir=(1, 0), lethal=false
[04:26:22] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[04:26:22] [INFO] [ImpactEffects] Blood decals scheduled: 33 (4 merged splatters, 15 satellite drops)
[04:26:22] [INFO] [ImpactEffects] Blood effect spawned at (684.4485, 753.7583) (scale=1)
[04:26:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[04:26:22] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[04:26:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 743.4999), source=PLAYER (AssaultRifle), range=1469, listeners=10
[04:26:22] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[04:26:22] [INFO] [LastChance] Threat detected: Bullet
[04:26:22] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[04:26:22] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:26:22] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[04:26:22] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[04:26:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[04:26:22] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[04:26:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 742.6466), source=PLAYER (AssaultRifle), range=1469, listeners=10
[04:26:22] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[04:26:22] [INFO] [LastChance] Threat detected: Bullet
[04:26:22] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[04:26:22] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:26:22] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[04:26:22] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[04:26:22] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[04:26:22] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[04:26:22] [ENEMY] [Enemy3] Hit taken, health: 0/2
[04:26:22] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[04:26:22] [INFO] [ImpactEffects] spawn_blood_effect called at (681.6116, 756.9452), dir=(1, 0), lethal=true
[04:26:22] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[04:26:22] [INFO] [ImpactEffects] Blood decals scheduled: 44 (10 merged splatters, 9 satellite drops)
[04:26:22] [INFO] [ImpactEffects] Blood effect spawned at (681.6116, 756.9452) (scale=1.5)
[04:26:22] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[04:26:22] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[04:26:22] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[04:26:22] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[04:26:22] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[04:26:22] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(450, 743.49994), shooter_id=45332039355, bullet_pos=(973.5529, 704.54407)
[04:26:22] [INFO] [Bullet] Using shooter_position, distance=525,0002
[04:26:22] [INFO] [Bullet] Distance to wall: 525,0002 (35,74823% of viewport)
[04:26:22] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:26:22] [INFO] [Bullet] Starting wall penetration at (973.5529, 704.54407)
[04:26:22] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[04:26:22] [INFO] [Bullet] Exiting penetration at (1011.7806, 701.69965) after traveling 33,333336 pixels through wall
[04:26:22] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[04:26:22] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[04:26:22] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[04:26:22] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[04:26:22] [ENEMY] [Enemy3] Ragdoll activated
[04:26:22] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[04:26:23] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[04:26:24] [ENEMY] [Enemy3] Death animation completed
[04:26:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(675.6028, 914.0656), source=ENEMY (Enemy4), range=1469, listeners=9
[04:26:24] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[04:26:24] [INFO] [LastChance] Threat detected: Bullet
[04:26:24] [INFO] [LastChance] Triggering last chance effect!
[04:26:24] [INFO] [LastChance] Starting last chance effect:
[04:26:24] [INFO] [LastChance]   - Time will be frozen (except player)
[04:26:24] [INFO] [LastChance]   - Duration: 6.0 real seconds
[04:26:24] [INFO] [LastChance]   - Sepia intensity: 0.70
[04:26:24] [INFO] [LastChance]   - Brightness: 0.60
[04:26:24] [INFO] [LastChance] Set player Player and all 18 children to PROCESS_MODE_ALWAYS
[04:26:24] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[04:26:24] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[04:26:24] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[04:26:24] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[04:26:24] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[04:26:24] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[04:26:24] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[04:26:24] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[04:26:24] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[04:26:24] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[04:26:24] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[04:26:24] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[04:26:24] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[04:26:24] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[04:26:24] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[04:26:24] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[04:26:24] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[04:26:24] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[04:26:24] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[04:26:24] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[04:26:24] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[04:26:24] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[04:26:24] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[04:26:24] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[04:26:24] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[04:26:24] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[04:26:24] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[04:26:24] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[04:26:24] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[04:26:24] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[04:26:24] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[04:26:24] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[04:26:24] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[04:26:24] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[04:26:24] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[04:26:24] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[04:26:24] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[04:26:24] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[04:26:24] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[04:26:24] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[04:26:24] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[04:26:24] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[04:26:24] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[04:26:24] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[04:26:24] [INFO] [LastChance] Skipping player node: Player
[04:26:24] [INFO] [LastChance] Froze existing bullet casing: Casing
[04:26:24] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@287
[04:26:24] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@290
[04:26:24] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@292
[04:26:24] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@293
[04:26:24] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@295
[04:26:24] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@296
[04:26:24] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@298
[04:26:24] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@376
[04:26:24] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[04:26:24] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[04:26:24] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[04:26:24] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@377
[04:26:24] [INFO] [LastChance] Registered frozen player bullet: @Area2D@377
[04:26:24] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@378
[04:26:24] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@378
[04:26:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(560.3207, 792.1054), source=PLAYER (AssaultRifle), range=1469, listeners=9
[04:26:24] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=5
[04:26:24] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@379
[04:26:24] [INFO] [LastChance] Registered frozen player bullet: @Area2D@379
[04:26:24] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@380
[04:26:24] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@380
[04:26:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(562.1496, 825.058), source=PLAYER (AssaultRifle), range=1469, listeners=9
[04:26:24] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=5
[04:26:24] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@381
[04:26:24] [INFO] [LastChance] Registered frozen player bullet: @Area2D@381
[04:26:24] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@382
[04:26:24] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@382
[04:26:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(562.1496, 860.2582), source=PLAYER (AssaultRifle), range=1469, listeners=9
[04:26:24] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[04:26:25] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@383
[04:26:25] [INFO] [LastChance] Registered frozen player bullet: @Area2D@383
[04:26:25] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@384
[04:26:25] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@384
[04:26:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(562.1496, 925.7249), source=PLAYER (AssaultRifle), range=1469, listeners=9
[04:26:25] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[04:26:25] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@385
[04:26:25] [INFO] [LastChance] Registered frozen player bullet: @Area2D@385
[04:26:25] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@386
[04:26:25] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@386
[04:26:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(562.1496, 927.7249), source=PLAYER (AssaultRifle), range=1469, listeners=9
[04:26:25] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[04:26:25] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@387
[04:26:25] [INFO] [LastChance] Registered frozen player bullet: @Area2D@387
[04:26:25] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@388
[04:26:25] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@388
[04:26:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(562.1496, 944.0582), source=PLAYER (AssaultRifle), range=1469, listeners=9
[04:26:25] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=5
[04:26:25] [INFO] [ScoreManager] Combo ended at 1. Max combo: 1
[04:26:26] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[04:26:26] [ENEMY] [Enemy1] Player reloading state changed: false -> true
[04:26:26] [ENEMY] [Enemy2] Player reloading state changed: false -> true
[04:26:26] [ENEMY] [Enemy4] Player reloading state changed: false -> true
[04:26:26] [ENEMY] [Enemy5] Player reloading state changed: false -> true
[04:26:26] [ENEMY] [Enemy6] Player reloading state changed: false -> true
[04:26:26] [ENEMY] [Enemy7] Player reloading state changed: false -> true
[04:26:26] [ENEMY] [Enemy8] Player reloading state changed: false -> true
[04:26:26] [ENEMY] [Enemy9] Player reloading state changed: false -> true
[04:26:26] [ENEMY] [Enemy10] Player reloading state changed: false -> true
[04:26:26] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(562.1496, 972.5583), source=PLAYER (Player), range=900, listeners=9
[04:26:26] [ENEMY] [Enemy2] Heard player RELOAD at (562.1496, 972.5583), intensity=0.01, distance=453
[04:26:26] [ENEMY] [Enemy4] Heard player RELOAD at (562.1496, 972.5583), intensity=0.15, distance=128
[04:26:26] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=2
[04:26:26] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[04:26:26] [INFO] [Player.Reload.Anim] LeftArm: pos=(7.5903897, 3.7675967), target=(12, 6), base=(24, 6)
[04:26:26] [INFO] [Player.Reload.Anim] RightArm: pos=(-2.0024056, 6.875), target=(-2, 8), base=(-2, 6)
[04:26:26] [INFO] [Player.Reload.Anim] Phase changed to: PullBolt (duration: 0,35s)
[04:26:26] [ENEMY] [Enemy1] Player reloading state changed: true -> false
[04:26:26] [ENEMY] [Enemy2] Player reloading state changed: true -> false
[04:26:26] [ENEMY] [Enemy4] Player reloading state changed: true -> false
[04:26:26] [ENEMY] [Enemy5] Player reloading state changed: true -> false
[04:26:26] [ENEMY] [Enemy6] Player reloading state changed: true -> false
[04:26:26] [ENEMY] [Enemy7] Player reloading state changed: true -> false
[04:26:26] [ENEMY] [Enemy8] Player reloading state changed: true -> false
[04:26:26] [ENEMY] [Enemy9] Player reloading state changed: true -> false
[04:26:26] [ENEMY] [Enemy10] Player reloading state changed: true -> false
[04:26:26] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[04:26:26] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[04:26:30] [INFO] [LastChance] Effect duration expired after 6.02 real seconds
[04:26:30] [INFO] [LastChance] Ending last chance effect
[04:26:30] [INFO] [LastChance] All process modes restored
[04:26:30] [INFO] [LastChance] Unfroze player bullet: @Area2D@377
[04:26:30] [INFO] [LastChance] Unfroze player bullet: @Area2D@379
[04:26:30] [INFO] [LastChance] Unfroze player bullet: @Area2D@381
[04:26:30] [INFO] [LastChance] Unfroze player bullet: @Area2D@383
[04:26:30] [INFO] [LastChance] Unfroze player bullet: @Area2D@385
[04:26:30] [INFO] [LastChance] Unfroze player bullet: @Area2D@387
[04:26:30] [INFO] [LastChance] Unfroze bullet casing: Casing
[04:26:30] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@287
[04:26:30] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@290
[04:26:30] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@292
[04:26:30] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@293
[04:26:30] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@295
[04:26:30] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@296
[04:26:30] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@298
[04:26:30] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@376
[04:26:30] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@378
[04:26:30] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@380
[04:26:30] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@382
[04:26:30] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@384
[04:26:30] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@386
[04:26:30] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@388
[04:26:30] [INFO] [LastChance] Restored original colors to 5 player sprites
[04:26:30] [INFO] [LastChance] Called player RefreshHealthVisual (C#)
[04:26:30] [ENEMY] [Enemy2] Pursuing vulnerability sound at (562.1496, 972.5583), distance=453
[04:26:30] [ENEMY] [Enemy4] Hit taken, health: 1/2
[04:26:30] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[04:26:30] [INFO] [ImpactEffects] spawn_blood_effect called at (675.6028, 914.0656), dir=(1, 0), lethal=false
[04:26:30] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[04:26:30] [INFO] [ImpactEffects] Blood decals scheduled: 25 (3 merged splatters, 6 satellite drops)
[04:26:30] [INFO] [ImpactEffects] Blood effect spawned at (675.6028, 914.0656) (scale=1)
[04:26:30] [ENEMY] [Enemy4] Hit taken, health: 0/2
[04:26:30] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[04:26:30] [INFO] [ImpactEffects] spawn_blood_effect called at (675.6028, 914.0656), dir=(1, 0), lethal=true
[04:26:30] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[04:26:30] [INFO] [ImpactEffects] Blood decals scheduled: 47 (10 merged splatters, 12 satellite drops)
[04:26:30] [INFO] [ImpactEffects] Blood effect spawned at (675.6028, 914.0656) (scale=1.5)
[04:26:30] [ENEMY] [Enemy4] Enemy died (ricochet: false, penetration: false)
[04:26:30] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[04:26:30] [INFO] [SoundPropagation] Unregistered listener: Enemy4 (remaining: 8)
[04:26:30] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[04:26:30] [ENEMY] [Enemy4] Death animation started with hit direction: (1, 0)
[04:26:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(562.1496, 925.7249), shooter_id=45332039355, bullet_pos=(702.9785, 874.0795)
[04:26:30] [INFO] [Bullet] Using shooter_position, distance=150,0001
[04:26:30] [INFO] [Bullet] Distance to wall: 150,0001 (10,213783% of viewport)
[04:26:30] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:26:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(562.1496, 860.2582), shooter_id=45332039355, bullet_pos=(676.635, 1003.45105)
[04:26:30] [INFO] [Bullet] Using shooter_position, distance=183,33333
[04:26:30] [INFO] [Bullet] Distance to wall: 183,33333 (12,483503% of viewport)
[04:26:30] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:26:30] [INFO] [Bullet] Starting wall penetration at (676.635, 1003.45105)
[04:26:30] [INFO] [Bullet] Raycast backward hit penetrating body at distance 12,02397
[04:26:30] [INFO] [Bullet] Body exited signal received for penetrating body
[04:26:30] [INFO] [Bullet] Exiting penetration at (700.5729, 1033.3914) after traveling 33,333336 pixels through wall
[04:26:30] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[04:26:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(562.1496, 825.058), shooter_id=45332039355, bullet_pos=(688.92883, 1000.76074)
[04:26:30] [INFO] [Bullet] Using shooter_position, distance=216,66664
[04:26:30] [INFO] [Bullet] Distance to wall: 216,66664 (14,75323% of viewport)
[04:26:30] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:26:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(624.3253, 869.2238), shooter_id=42798679588, bullet_pos=(473.0264, 702.6895)
[04:26:30] [INFO] [Bullet] Using shooter_position, distance=225.000061035156
[04:26:30] [INFO] [Bullet] Distance to wall: 225.000061035156 (15.3206678945135% of viewport)
[04:26:30] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:26:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(560.3207, 792.1054), shooter_id=45332039355, bullet_pos=(728.079, 1020.43616)
[04:26:30] [INFO] [Bullet] Using shooter_position, distance=283,33334
[04:26:30] [INFO] [Bullet] Distance to wall: 283,33334 (19,292688% of viewport)
[04:26:30] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:26:30] [ENEMY] [Enemy1] FLANKING started: target=(340.169, 964.352), side=left, pos=(241.0708, 401.9332)
[04:26:30] [ENEMY] [Enemy1] State: PURSUING -> FLANKING
[04:26:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(560.3207, 792.1054), shooter_id=45332039355, bullet_pos=(920.3294, 768.806)
[04:26:30] [INFO] [Bullet] Using shooter_position, distance=360,7619
[04:26:30] [INFO] [Bullet] Distance to wall: 360,7619 (24,564943% of viewport)
[04:26:30] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:26:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(562.1496, 825.058), shooter_id=45332039355, bullet_pos=(924.0096, 675.07227)
[04:26:30] [INFO] [Bullet] Using shooter_position, distance=391,7121
[04:26:30] [INFO] [Bullet] Distance to wall: 391,7121 (26,6724% of viewport)
[04:26:30] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:26:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(624.3253, 869.2238), shooter_id=42798679588, bullet_pos=(58.93991, 1175.273)
[04:26:30] [INFO] [Bullet] Using shooter_position, distance=642.905029296875
[04:26:30] [INFO] [Bullet] Distance to wall: 642.905029296875 (43.7765856429295% of viewport)
[04:26:30] [INFO] [Bullet] Distance-based penetration chance: 95.5939834165822%
[04:26:30] [INFO] [Bullet] Penetration failed (distance roll)
[04:26:30] [ENEMY] [Enemy4] Ragdoll activated
[04:26:30] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[04:26:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(562.1496, 825.058), shooter_id=45332039355, bullet_pos=(515.3413, 226.1401)
[04:26:31] [INFO] [Bullet] Using shooter_position, distance=600,7442
[04:26:31] [INFO] [Bullet] Distance to wall: 600,7442 (40,90578% of viewport)
[04:26:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(560.3207, 792.1054), shooter_id=45332039355, bullet_pos=(521.967, 279.23642)
[04:26:31] [INFO] [Bullet] Using shooter_position, distance=514,3011
[04:26:31] [INFO] [Bullet] Distance to wall: 514,3011 (35,019707% of viewport)
[04:26:31] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:26:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(562.1496, 825.058), shooter_id=45332039355, bullet_pos=(648.91986, 64.47886)
[04:26:31] [INFO] [Bullet] Using shooter_position, distance=765,51263
[04:26:31] [INFO] [Bullet] Distance to wall: 765,51263 (52,12516% of viewport)
[04:26:31] [INFO] [Bullet] Distance-based penetration chance: 85,85398%
[04:26:31] [INFO] [Bullet] Penetration failed (distance roll)
[04:26:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(560.3207, 792.1054), shooter_id=45332039355, bullet_pos=(650.03314, 63.772877)
[04:26:31] [INFO] [Bullet] Using shooter_position, distance=733,83685
[04:26:31] [INFO] [Bullet] Distance to wall: 733,83685 (49,968304% of viewport)
[04:26:31] [ENEMY] [Enemy2] Pursuing vulnerability sound at (562.1496, 972.5583), distance=336
[04:26:31] [ENEMY] [Enemy10] FLANKING started: target=(745.6672, 932.763), side=left, pos=(956.2775, 1432.519)
[04:26:31] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[04:26:31] [ENEMY] [Enemy4] Death animation completed
[04:26:32] [ENEMY] [Enemy2] Pursuing vulnerability sound at (562.1496, 972.5583), distance=336
[04:26:33] [ENEMY] [Enemy2] Pursuing vulnerability sound at (562.1496, 972.5583), distance=336
[04:26:33] [INFO] [ScoreManager] Combo ended at 1. Max combo: 1
[04:26:34] [ENEMY] [Enemy2] Pursuing vulnerability sound at (562.1496, 972.5583), distance=336
[04:26:35] [ENEMY] [Enemy2] Pursuing vulnerability sound at (562.1496, 972.5583), distance=336
[04:26:36] [ENEMY] [Enemy1] FLANKING timeout (5.0s), target=(531.4307, 949.6208), pos=(263.6747, 401.934)
[04:26:36] [ENEMY] [Enemy1] State: FLANKING -> PURSUING
[04:26:36] [ENEMY] [Enemy2] Pursuing vulnerability sound at (562.1496, 972.5583), distance=336
[04:26:36] [ENEMY] [Enemy10] FLANKING timeout (5.0s), target=(923.3889, 870.2028), pos=(847.1827, 1048.067)
[04:26:36] [ENEMY] [Enemy10] State: FLANKING -> PURSUING
[04:26:37] [ENEMY] [Enemy2] Pursuing vulnerability sound at (562.1496, 972.5583), distance=336
[04:26:38] [ENEMY] [Enemy2] Pursuing vulnerability sound at (562.1496, 972.5583), distance=336
[04:26:38] [ENEMY] [Enemy10] FLANKING started: target=(925.5414, 926.9082), side=left, pos=(790.1932, 1048.708)
[04:26:38] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[04:26:39] [ENEMY] [Enemy2] Pursuing vulnerability sound at (562.1496, 972.5583), distance=336
[04:26:40] [ENEMY] [Enemy2] Pursuing vulnerability sound at (562.1496, 972.5583), distance=336
[04:26:40] [ENEMY] [Enemy1] FLANKING started: target=(533.7886, 959.094), side=left, pos=(461.7414, 644.6254)
[04:26:40] [ENEMY] [Enemy1] State: PURSUING -> FLANKING
[04:26:41] [ENEMY] [Enemy10] FLANKING stuck (2.0s no progress), target=(926.6304, 905.9429), pos=(808.7621, 1048.067), fail_count=1
[04:26:41] [ENEMY] [Enemy10] State: FLANKING -> PURSUING
[04:26:41] [ENEMY] [Enemy10] State: PURSUING -> COMBAT
[04:26:41] [ENEMY] [Enemy2] Pursuing vulnerability sound at (562.1496, 972.5583), distance=336
[04:26:41] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[04:26:42] [ENEMY] [Enemy2] Pursuing vulnerability sound at (562.1496, 972.5583), distance=336
[04:26:43] [ENEMY] [Enemy10] State: PURSUING -> COMBAT
[04:26:43] [ENEMY] [Enemy2] Pursuing vulnerability sound at (562.1496, 972.5583), distance=336
[04:26:43] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[04:26:44] [ENEMY] [Enemy2] Pursuing vulnerability sound at (562.1496, 972.5583), distance=336
[04:26:44] [ENEMY] [Enemy1] FLANKING stuck (2.0s no progress), target=(542.0953, 983.1807), pos=(409.023, 663.9341), fail_count=1
[04:26:44] [ENEMY] [Enemy1] State: FLANKING -> PURSUING
[04:26:44] [ENEMY] [Enemy1] State: PURSUING -> COMBAT
[04:26:45] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[04:26:45] [ENEMY] [Enemy10] State: PURSUING -> COMBAT
[04:26:45] [ENEMY] [Enemy2] Pursuing vulnerability sound at (562.1496, 972.5583), distance=336
[04:26:45] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[04:26:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(861.3654, 844.4131), source=PLAYER (AssaultRifle), range=1469, listeners=8
[04:26:46] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=0, below_threshold=5
[04:26:46] [ENEMY] [Enemy1] State: PURSUING -> COMBAT
[04:26:46] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[04:26:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(861.3654, 811.7465), source=PLAYER (AssaultRifle), range=1469, listeners=8
[04:26:46] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=0, below_threshold=5
[04:26:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(861.3654, 793.5243), source=PLAYER (AssaultRifle), range=1469, listeners=8
[04:26:46] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=0, below_threshold=5
[04:26:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(496.9262, 653.5972), source=ENEMY (Enemy1), range=1469, listeners=8
[04:26:46] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=1, below_threshold=4
[04:26:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(488.9541, 653.9617), source=ENEMY (Enemy2), range=1469, listeners=8
[04:26:46] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[04:26:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(861.3654, 844.41315), shooter_id=45332039355, bullet_pos=(236.43866, 460.68832)
[04:26:46] [INFO] [Bullet] Using shooter_position, distance=733,3336
[04:26:46] [INFO] [Bullet] Distance to wall: 733,3336 (49,934036% of viewport)
[04:26:46] [INFO] [LastChance] Threat detected: @Area2D@473
[04:26:46] [INFO] [LastChance] Effect already used this life
[04:26:46] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:26:46] [ENEMY] [Enemy1] State: COMBAT -> RETREATING
[04:26:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(861.3654, 791.5799), source=PLAYER (AssaultRifle), range=1469, listeners=8
[04:26:46] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=0, below_threshold=5
[04:26:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(533.498, 656.2487), source=ENEMY (Enemy1), range=1469, listeners=8
[04:26:46] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=3
[04:26:46] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[04:26:46] [INFO] [LastChance] Threat detected: @Area2D@475
[04:26:46] [INFO] [LastChance] Effect already used this life
[04:26:46] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:26:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(861.3654, 793.5243), shooter_id=45332039355, bullet_pos=(513.07654, 596.81396)
[04:26:46] [INFO] [Bullet] Using shooter_position, distance=400,00012
[04:26:46] [INFO] [Bullet] Distance to wall: 400,00012 (27,236744% of viewport)
[04:26:46] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:26:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(861.3654, 811.74646), shooter_id=45332039355, bullet_pos=(260.39633, 469.3451)
[04:26:46] [INFO] [Bullet] Using shooter_position, distance=691,6665
[04:26:46] [INFO] [Bullet] Distance to wall: 691,6665 (47,096844% of viewport)
[04:26:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(861.3654, 844.41315), shooter_id=45332039355, bullet_pos=(62.12522, 590.7693)
[04:26:46] [INFO] [Bullet] Using shooter_position, distance=838,5225
[04:26:46] [INFO] [Bullet] Distance to wall: 838,5225 (57,096542% of viewport)
[04:26:46] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[04:26:46] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[04:26:46] [INFO] [PenultimateHit] Player died - ending penultimate effect
[04:26:46] [INFO] [LastChance] Player died
[04:26:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(521.312, 648.5117), source=ENEMY (Enemy2), range=1469, listeners=8
[04:26:46] [ENEMY] [Enemy1] Heard gunshot at (521.312, 648.5117), source_type=1, intensity=1.00, distance=10
[04:26:46] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=3
[04:26:46] [ENEMY] [Enemy1] State: COMBAT -> RETREATING
[04:26:46] [INFO] [LastChance] Threat detected: @Area2D@479
[04:26:46] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[04:26:46] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:26:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(861.3654, 805.9688), source=PLAYER (AssaultRifle), range=1469, listeners=8
[04:26:46] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=0, below_threshold=5
[04:26:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(861.3654, 844.41315), shooter_id=45332039355, bullet_pos=(184.22946, 687.08795)
[04:26:46] [INFO] [Bullet] Using shooter_position, distance=695,1722
[04:26:46] [INFO] [Bullet] Distance to wall: 695,1722 (47,335552% of viewport)
[04:26:46] [INFO] [LastChance] Threat detected: @Area2D@483
[04:26:46] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[04:26:46] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:26:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(861.3654, 793.5243), shooter_id=45332039355, bullet_pos=(316.70825, 690.3327)
[04:26:46] [INFO] [Bullet] Using shooter_position, distance=554,34644
[04:26:46] [INFO] [Bullet] Distance to wall: 554,34644 (37,746468% of viewport)
[04:26:46] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:26:46] [ENEMY] [Enemy1] Hit taken, health: 1/2
[04:26:46] [ENEMY] [Enemy1] ImpactEffectsManager found, calling spawn_blood_effect
[04:26:46] [INFO] [ImpactEffects] spawn_blood_effect called at (529.5545, 626.889), dir=(1, 0), lethal=false
[04:26:46] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[04:26:46] [INFO] [ImpactEffects] Blood decals scheduled: 24 (4 merged splatters, 6 satellite drops)
[04:26:46] [INFO] [ImpactEffects] Blood effect spawned at (529.5545, 626.889) (scale=1)
[04:26:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(861.3654, 811.74646), shooter_id=45332039355, bullet_pos=(48.984985, 608.1691)
[04:26:46] [INFO] [Bullet] Using shooter_position, distance=837,49963
[04:26:46] [INFO] [Bullet] Distance to wall: 837,49963 (57,026894% of viewport)
[04:26:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(521.6289, 624.0679), source=ENEMY (Enemy2), range=1469, listeners=8
[04:26:46] [ENEMY] [Enemy1] Heard gunshot at (521.6289, 624.0679), source_type=1, intensity=1.00, distance=9
[04:26:46] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=1, below_threshold=4
[04:26:46] [ENEMY] [Enemy1] State: COMBAT -> RETREATING
[04:26:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(580.7967, 681.3465), shooter_id=42228254210, bullet_pos=(909.6431, 801.1797)
[04:26:46] [INFO] [Bullet] Using shooter_position, distance=349.999969482422
[04:26:46] [INFO] [Bullet] Distance to wall: 349.999969482422 (23.8321415152514% of viewport)
[04:26:46] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:26:46] [INFO] [Bullet] Starting wall penetration at (909.6431, 801.1797)
[04:26:46] [INFO] [Bullet] Raycast backward hit penetrating body at distance 10.2810373306274
[04:26:46] [INFO] [Bullet] Body exited signal received for penetrating body
[04:26:46] [INFO] [Bullet] Exiting penetration at (945.6597, 814.3043) after traveling 33.3333320617676 pixels through wall
[04:26:46] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[04:26:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(861.3654, 831.1688), source=PLAYER (AssaultRifle), range=1469, listeners=8
[04:26:46] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=0, below_threshold=5
[04:26:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(861.3654, 811.74646), shooter_id=45332039355, bullet_pos=(140.3434, 694.09344)
[04:26:46] [INFO] [Bullet] Using shooter_position, distance=730,558
[04:26:46] [INFO] [Bullet] Distance to wall: 730,558 (49,745037% of viewport)
[04:26:46] [INFO] [Bullet] Distance-based penetration chance: 88,63079%
[04:26:46] [INFO] [Bullet] Starting wall penetration at (140.3434, 694.09344)
[04:26:46] [INFO] [Bullet] Raycast backward hit penetrating body at distance 2,9465861
[04:26:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(526.3489, 629.2542), source=ENEMY (Enemy1), range=1469, listeners=8
[04:26:46] [ENEMY] [Enemy2] Heard gunshot at (526.3489, 629.2542), source_type=1, intensity=1.00, distance=6
[04:26:46] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=1, below_threshold=4
[04:26:46] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[04:26:46] [INFO] [Bullet] Max penetration distance exceeded: 48,166664 >= 48
[04:26:46] [INFO] [Bullet] Body exited signal received for penetrating body
[04:26:46] [INFO] [Bullet] Exiting penetration at (179.07208, 730.5185) after traveling 48,166664 pixels through wall
[04:26:46] [INFO] [Bullet] Damage multiplier after penetration: 0,225
[04:26:46] [ENEMY] [Enemy1] Hit taken, health: 0/2
[04:26:46] [ENEMY] [Enemy1] ImpactEffectsManager found, calling spawn_blood_effect
[04:26:46] [INFO] [ImpactEffects] spawn_blood_effect called at (523.0323, 626.5703), dir=(1, 0), lethal=true
[04:26:46] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[04:26:46] [INFO] [ImpactEffects] Blood decals scheduled: 50 (9 merged splatters, 14 satellite drops)
[04:26:46] [INFO] [ImpactEffects] Blood effect spawned at (523.0323, 626.5703) (scale=1.5)
[04:26:46] [ENEMY] [Enemy1] Enemy died (ricochet: false, penetration: false)
[04:26:46] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[04:26:46] [INFO] [SoundPropagation] Unregistered listener: Enemy1 (remaining: 7)
[04:26:46] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[04:26:46] [ENEMY] [Enemy1] Death animation started with hit direction: (1, 0)
[04:26:46] [ENEMY] [Enemy2] Hit taken, health: 2/3
[04:26:46] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[04:26:46] [INFO] [ImpactEffects] spawn_blood_effect called at (525.9551, 626.657), dir=(1, 0), lethal=false
[04:26:46] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[04:26:46] [INFO] [ImpactEffects] Blood decals scheduled: 23 (2 merged splatters, 3 satellite drops)
[04:26:46] [INFO] [ImpactEffects] Blood effect spawned at (525.9551, 626.657) (scale=1)
[04:26:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(861.3654, 793.5243), shooter_id=45332039355, bullet_pos=(56.234344, 599.2564)
[04:26:46] [INFO] [Bullet] Using shooter_position, distance=828,23676
[04:26:46] [INFO] [Bullet] Distance to wall: 828,23676 (56,396164% of viewport)
[04:26:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(577.349, 662.9425), shooter_id=42228254210, bullet_pos=(912.4294, 811.8245)
[04:26:46] [INFO] [Bullet] Using shooter_position, distance=366.667053222656
[04:26:46] [INFO] [Bullet] Distance to wall: 366.667053222656 (24.9670338951885% of viewport)
[04:26:46] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:26:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(861.3654, 866.2267), source=PLAYER (AssaultRifle), range=1469, listeners=7
[04:26:46] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=5
[04:26:46] [ENEMY] [Enemy2] Hit taken, health: 1/3
[04:26:46] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[04:26:46] [INFO] [ImpactEffects] spawn_blood_effect called at (536.4, 644.7676), dir=(1, 0), lethal=false
[04:26:46] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[04:26:46] [INFO] [ImpactEffects] Blood decals scheduled: 26 (2 merged splatters, 6 satellite drops)
[04:26:46] [INFO] [ImpactEffects] Blood effect spawned at (536.4, 644.7676) (scale=1)
[04:26:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(861.3654, 844.41315), shooter_id=45332039355, bullet_pos=(496.62704, 430.6308)
[04:26:46] [INFO] [Bullet] Using shooter_position, distance=551,5885
[04:26:46] [INFO] [Bullet] Distance to wall: 551,5885 (37,558678% of viewport)
[04:26:46] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:26:46] [INFO] [Bullet] Starting wall penetration at (496.62704, 430.6308)
[04:26:46] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[04:26:46] [INFO] [Bullet] Exiting penetration at (516.31384, 414.4693) after traveling 20,470835 pixels through wall
[04:26:46] [INFO] [Bullet] Damage multiplier after penetration: 0,1125
[04:26:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(580.3786, 670.6231), shooter_id=41943041521, bullet_pos=(921.9426, 803.9598)
[04:26:46] [INFO] [Bullet] Using shooter_position, distance=366.666900634766
[04:26:46] [INFO] [Bullet] Distance to wall: 366.666900634766 (24.9670235051984% of viewport)
[04:26:46] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:26:46] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[04:26:46] [ENEMY] [Enemy2] Hit taken, health: 0/3
[04:26:46] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[04:26:46] [INFO] [ImpactEffects] spawn_blood_effect called at (552.7355, 661.6043), dir=(1, 0), lethal=true
[04:26:46] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[04:26:46] [INFO] [ImpactEffects] Blood decals scheduled: 45 (9 merged splatters, 9 satellite drops)
[04:26:46] [INFO] [ImpactEffects] Blood effect spawned at (552.7355, 661.6043) (scale=1.5)
[04:26:46] [ENEMY] [Enemy2] Enemy died (ricochet: false, penetration: false)
[04:26:46] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[04:26:46] [INFO] [SoundPropagation] Unregistered listener: Enemy2 (remaining: 6)
[04:26:46] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[04:26:46] [ENEMY] [Enemy2] Death animation started with hit direction: (1, 0)
[04:26:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(580.3786, 670.6231), shooter_id=41943041521, bullet_pos=(753.8961, 852.8005)
[04:26:46] [INFO] [Bullet] Using shooter_position, distance=251.588790893555
[04:26:46] [INFO] [Bullet] Distance to wall: 251.588790893555 (17.1311434029348% of viewport)
[04:26:46] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:26:46] [INFO] [Bullet] Starting wall penetration at (753.8961, 852.8005)
[04:26:46] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[04:26:46] [INFO] [Bullet] Exiting penetration at (721.8873, 862.1035) after traveling 28.3333339691162 pixels through wall
[04:26:46] [INFO] [Bullet] Damage multiplier after penetration: 0.45
[04:26:47] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[04:26:47] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[04:26:47] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[04:26:47] [INFO] [LastChance] Resetting all effects (scene change detected)
[04:26:47] [ENEMY] [Enemy1] Death animation component initialized
[04:26:47] [ENEMY] [Enemy2] Death animation component initialized
[04:26:47] [ENEMY] [Enemy3] Death animation component initialized
[04:26:47] [ENEMY] [Enemy4] Death animation component initialized
[04:26:47] [ENEMY] [Enemy5] Death animation component initialized
[04:26:47] [ENEMY] [Enemy6] Death animation component initialized
[04:26:47] [ENEMY] [Enemy7] Death animation component initialized
[04:26:47] [ENEMY] [Enemy8] Death animation component initialized
[04:26:47] [ENEMY] [Enemy9] Death animation component initialized
[04:26:47] [ENEMY] [Enemy10] Death animation component initialized
[04:26:47] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[04:26:47] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[04:26:47] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[04:26:47] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[04:26:47] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[04:26:47] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[04:26:47] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[04:26:47] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[04:26:47] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[04:26:47] [INFO] [ScoreManager] Level started with 10 enemies
[04:26:47] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 7)
[04:26:47] [ENEMY] [Enemy1] Registered as sound listener
[04:26:47] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[04:26:47] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 8)
[04:26:47] [ENEMY] [Enemy2] Registered as sound listener
[04:26:47] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[04:26:47] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 9)
[04:26:47] [ENEMY] [Enemy3] Registered as sound listener
[04:26:47] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[04:26:47] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 10)
[04:26:47] [ENEMY] [Enemy4] Registered as sound listener
[04:26:47] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[04:26:47] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 11)
[04:26:47] [ENEMY] [Enemy5] Registered as sound listener
[04:26:47] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[04:26:47] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 12)
[04:26:47] [ENEMY] [Enemy6] Registered as sound listener
[04:26:47] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[04:26:47] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 13)
[04:26:47] [ENEMY] [Enemy7] Registered as sound listener
[04:26:47] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[04:26:47] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 14)
[04:26:47] [ENEMY] [Enemy8] Registered as sound listener
[04:26:47] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[04:26:47] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 15)
[04:26:47] [ENEMY] [Enemy9] Registered as sound listener
[04:26:47] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[04:26:47] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 16)
[04:26:47] [ENEMY] [Enemy10] Registered as sound listener
[04:26:47] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[04:26:47] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[04:26:47] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[04:26:47] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[04:26:47] [INFO] [LastChance] Found player: Player
[04:26:47] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[04:26:47] [INFO] [LastChance] Connected to player Damaged signal (C#)
[04:26:47] [INFO] [LastChance] Connected to player Died signal (C#)
[04:26:47] [INFO] [Player] Detecting weapon pose (frame 3)...
[04:26:47] [INFO] [Player] Detected weapon: Rifle (default pose)
[04:26:47] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[04:26:48] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[04:26:48] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[04:26:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1171.731, 1535.008), source=ENEMY (Enemy10), range=1469, listeners=16
[04:26:48] [INFO] [SoundPropagation] Cleaned up 6 invalid listeners
[04:26:48] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=8
[04:26:48] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[04:26:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1139.423, 1516.307), source=ENEMY (Enemy10), range=1469, listeners=10
[04:26:48] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[04:26:48] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[04:26:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1107.906, 1496.302), source=ENEMY (Enemy10), range=1469, listeners=10
[04:26:48] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[04:26:48] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[04:26:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1077.226, 1475.035), source=ENEMY (Enemy10), range=1469, listeners=10
[04:26:48] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[04:26:48] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[04:26:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1047.428, 1452.549), source=ENEMY (Enemy10), range=1469, listeners=10
[04:26:48] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[04:26:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1108.874, 1508.939), shooter_id=1107245927851, bullet_pos=(53.14801, 921.1365)
[04:26:48] [INFO] [Bullet] Using shooter_position, distance=1208.33337402344
[04:26:48] [INFO] [Bullet] Distance to wall: 1208.33337402344 (82.277641366406% of viewport)
[04:26:48] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[04:26:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1077.684, 1487.691), shooter_id=1107245927851, bullet_pos=(46.85162, 857.2495)
[04:26:48] [INFO] [Bullet] Using shooter_position, distance=1208.33435058594
[04:26:48] [INFO] [Bullet] Distance to wall: 1208.33435058594 (82.2777078623423% of viewport)
[04:26:48] [INFO] [Bullet] Distance-based penetration chance: 50.676007493934%
[04:26:48] [INFO] [Bullet] Penetration failed (distance roll)
[04:26:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1047.382, 1465.197), shooter_id=1107245927851, bullet_pos=(43.06916, 793.3154)
[04:26:48] [INFO] [Bullet] Using shooter_position, distance=1208.33349609375
[04:26:48] [INFO] [Bullet] Distance to wall: 1208.33349609375 (82.277649678398% of viewport)
[04:26:48] [INFO] [Bullet] Distance-based penetration chance: 50.6760753752023%
[04:26:48] [INFO] [Bullet] Starting wall penetration at (43.06916, 793.3154)
[04:26:48] [INFO] [Bullet] Raycast backward hit penetrating body at distance 33.3488731384277
[04:26:48] [INFO] [Bullet] Body exited signal received for penetrating body
[04:26:48] [INFO] [Bullet] Exiting penetration at (4.281879, 767.3669) after traveling 41.6666679382324 pixels through wall
[04:26:48] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[04:26:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1018.01, 1441.508), shooter_id=1107245927851, bullet_pos=(41.67921, 729.5751)
[04:26:48] [INFO] [Bullet] Using shooter_position, distance=1208.33349609375
[04:26:48] [INFO] [Bullet] Distance to wall: 1208.33349609375 (82.277649678398% of viewport)
[04:26:49] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[04:26:49] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(989.6003, 1416.68), shooter_id=1107245927851, bullet_pos=(42.53408, 666.2555)
[04:26:49] [INFO] [Bullet] Using shooter_position, distance=1208.33422851563
[04:26:49] [INFO] [Bullet] Distance to wall: 1208.33422851563 (82.2776995503503% of viewport)
[04:26:49] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1018.01, 1441.508), shooter_id=1107245927851, bullet_pos=(331.8886, 462.2278)
[04:26:49] [INFO] [Bullet] Using shooter_position, distance=1195.72241210938
[04:26:49] [INFO] [Bullet] Distance to wall: 1195.72241210938 (81.4189377801633% of viewport)
[04:26:49] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(989.6003, 1416.68), shooter_id=1107245927851, bullet_pos=(251.3562, 467.4352)
[04:26:49] [INFO] [Bullet] Using shooter_position, distance=1202.52648925781
[04:26:49] [INFO] [Bullet] Distance to wall: 1202.52648925781 (81.882239904795% of viewport)
[04:26:49] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1018.01, 1441.508), shooter_id=1107245927851, bullet_pos=(504.757, 591.2843)
[04:26:49] [INFO] [Bullet] Using shooter_position, distance=993.130798339844
[04:26:49] [INFO] [Bullet] Distance to wall: 993.130798339844 (67.6241022654673% of viewport)
[04:26:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[04:26:49] [ENEMY] [Enemy2] Heard gunshot at (684.4485, 753.7583), source_type=1, intensity=0.02, distance=350
[04:26:49] [ENEMY] [Enemy4] Heard gunshot at (684.4485, 753.7583), source_type=1, intensity=0.07, distance=186
[04:26:49] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[04:26:49] [ENEMY] [Enemy2] Hit taken, health: 1/2
[04:26:49] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[04:26:49] [INFO] [ImpactEffects] spawn_blood_effect called at (400, 550), dir=(0.82757, 0.561362), lethal=false
[04:26:49] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[04:26:49] [INFO] [ImpactEffects] Blood decals scheduled: 23 (2 merged splatters, 3 satellite drops)
[04:26:49] [INFO] [ImpactEffects] Blood effect spawned at (400, 550) (scale=1)
[04:26:49] [INFO] [LastChance] Threat detected: Bullet
[04:26:49] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[04:26:49] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:26:49] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1018.01, 1441.508), shooter_id=1107245927851, bullet_pos=(385.431, 695.6562)
[04:26:49] [INFO] [Bullet] Using shooter_position, distance=977.982971191406
[04:26:49] [INFO] [Bullet] Distance to wall: 977.982971191406 (66.5926588605322% of viewport)
[04:26:49] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[04:26:49] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[04:26:49] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[04:26:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[04:26:49] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[04:26:49] [INFO] [LastChance] Threat detected: @Area2D@934
[04:26:49] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[04:26:49] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:26:49] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[04:26:49] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[04:26:49] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[04:26:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[04:26:49] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[04:26:49] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(616.6827, 761.2941), shooter_id=1105249439028, bullet_pos=(33.35369, 759.0297)
[04:26:49] [INFO] [Bullet] Using shooter_position, distance=583.333374023438
[04:26:49] [INFO] [Bullet] Distance to wall: 583.333374023438 (39.7202420927463% of viewport)
[04:26:49] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:26:49] [INFO] [Bullet] Starting wall penetration at (33.35369, 759.0297)
[04:26:49] [INFO] [Bullet] Raycast backward hit penetrating body at distance 45.3129615783691
[04:26:49] [INFO] [Bullet] Body exited signal received for penetrating body
[04:26:49] [INFO] [Bullet] Exiting penetration at (-13.31262, 758.8486) after traveling 41.6666679382324 pixels through wall
[04:26:49] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[04:26:49] [INFO] [LastChance] Threat detected: @Area2D@936
[04:26:49] [INFO] [LastChance] Triggering last chance effect!
[04:26:49] [INFO] [LastChance] Starting last chance effect:
[04:26:49] [INFO] [LastChance]   - Time will be frozen (except player)
[04:26:49] [INFO] [LastChance]   - Duration: 6.0 real seconds
[04:26:49] [INFO] [LastChance]   - Sepia intensity: 0.70
[04:26:49] [INFO] [LastChance]   - Brightness: 0.60
[04:26:49] [INFO] [LastChance] Pushed bullet @Area2D@936 from distance 128.1 to 200.0
[04:26:49] [INFO] [LastChance] Pushed 1 threatening bullets away from player
[04:26:49] [INFO] [LastChance] Set player Player and all 18 children to PROCESS_MODE_ALWAYS
[04:26:49] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[04:26:49] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[04:26:49] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[04:26:49] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[04:26:49] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[04:26:49] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[04:26:49] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[04:26:49] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[04:26:49] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[04:26:49] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[04:26:49] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[04:26:49] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[04:26:49] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[04:26:49] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[04:26:49] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[04:26:49] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[04:26:49] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[04:26:49] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[04:26:49] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[04:26:49] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[04:26:49] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[04:26:49] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[04:26:49] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[04:26:49] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[04:26:49] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[04:26:49] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[04:26:49] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[04:26:49] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[04:26:49] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[04:26:49] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[04:26:49] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[04:26:49] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[04:26:49] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[04:26:49] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[04:26:49] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[04:26:49] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[04:26:49] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[04:26:49] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[04:26:49] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[04:26:49] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[04:26:49] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[04:26:49] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[04:26:49] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[04:26:49] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[04:26:49] [INFO] [LastChance] Skipping player node: Player
[04:26:49] [INFO] [LastChance] Froze existing bullet casing: Casing
[04:26:49] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@918
[04:26:49] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@920
[04:26:49] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@922
[04:26:49] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@924
[04:26:49] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@932
[04:26:49] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@935
[04:26:49] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@937
[04:26:49] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[04:26:49] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[04:26:49] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[04:26:50] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[04:26:50] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[04:26:50] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[04:26:50] [INFO] [LastChance] Resetting all effects (scene change detected)
[04:26:50] [INFO] [LastChance] Ending last chance effect
[04:26:50] [INFO] [LastChance] All process modes restored
[04:26:50] [INFO] [LastChance] Restored original colors to 5 player sprites
[04:26:50] [ENEMY] [Enemy1] Death animation component initialized
[04:26:50] [ENEMY] [Enemy2] Death animation component initialized
[04:26:50] [ENEMY] [Enemy3] Death animation component initialized
[04:26:50] [ENEMY] [Enemy4] Death animation component initialized
[04:26:50] [ENEMY] [Enemy5] Death animation component initialized
[04:26:50] [ENEMY] [Enemy6] Death animation component initialized
[04:26:50] [ENEMY] [Enemy7] Death animation component initialized
[04:26:50] [ENEMY] [Enemy8] Death animation component initialized
[04:26:50] [ENEMY] [Enemy9] Death animation component initialized
[04:26:50] [ENEMY] [Enemy10] Death animation component initialized
[04:26:50] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[04:26:50] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[04:26:50] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[04:26:50] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[04:26:50] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[04:26:50] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[04:26:50] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[04:26:50] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[04:26:50] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[04:26:50] [INFO] [ScoreManager] Level started with 10 enemies
[04:26:50] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[04:26:50] [ENEMY] [Enemy1] Registered as sound listener
[04:26:50] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[04:26:50] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[04:26:50] [ENEMY] [Enemy2] Registered as sound listener
[04:26:50] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[04:26:50] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[04:26:50] [ENEMY] [Enemy3] Registered as sound listener
[04:26:50] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[04:26:50] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[04:26:50] [ENEMY] [Enemy4] Registered as sound listener
[04:26:50] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[04:26:50] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[04:26:50] [ENEMY] [Enemy5] Registered as sound listener
[04:26:50] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[04:26:50] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[04:26:50] [ENEMY] [Enemy6] Registered as sound listener
[04:26:50] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[04:26:50] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[04:26:50] [ENEMY] [Enemy7] Registered as sound listener
[04:26:50] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[04:26:50] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[04:26:50] [ENEMY] [Enemy8] Registered as sound listener
[04:26:50] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[04:26:50] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[04:26:50] [ENEMY] [Enemy9] Registered as sound listener
[04:26:50] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[04:26:50] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[04:26:50] [ENEMY] [Enemy10] Registered as sound listener
[04:26:50] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[04:26:50] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[04:26:50] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[04:26:50] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[04:26:50] [INFO] [LastChance] Found player: Player
[04:26:50] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[04:26:50] [INFO] [LastChance] Connected to player Damaged signal (C#)
[04:26:50] [INFO] [LastChance] Connected to player Died signal (C#)
[04:26:50] [INFO] [Player] Detecting weapon pose (frame 3)...
[04:26:50] [INFO] [Player] Detected weapon: Rifle (default pose)
[04:26:50] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[04:26:50] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[04:26:50] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[04:26:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1171.731, 1535.008), source=ENEMY (Enemy10), range=1469, listeners=20
[04:26:50] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[04:26:50] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=8
[04:26:50] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[04:26:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1139.423, 1516.307), source=ENEMY (Enemy10), range=1469, listeners=10
[04:26:50] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[04:26:51] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[04:26:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1107.906, 1496.302), source=ENEMY (Enemy10), range=1469, listeners=10
[04:26:51] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[04:26:51] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[04:26:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1077.226, 1475.035), source=ENEMY (Enemy10), range=1469, listeners=10
[04:26:51] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[04:26:51] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[04:26:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1047.428, 1452.549), source=ENEMY (Enemy10), range=1469, listeners=10
[04:26:51] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[04:26:51] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1108.874, 1508.939), shooter_id=1279900256871, bullet_pos=(53.14801, 921.1365)
[04:26:51] [INFO] [Bullet] Using shooter_position, distance=1208.33337402344
[04:26:51] [INFO] [Bullet] Distance to wall: 1208.33337402344 (82.277641366406% of viewport)
[04:26:51] [INFO] [Bullet] Distance-based penetration chance: 50.6760850725264%
[04:26:51] [INFO] [Bullet] Penetration failed (distance roll)
[04:26:51] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[04:26:51] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1077.684, 1487.691), shooter_id=1279900256871, bullet_pos=(46.85162, 857.2495)
[04:26:51] [INFO] [Bullet] Using shooter_position, distance=1208.33435058594
[04:26:51] [INFO] [Bullet] Distance to wall: 1208.33435058594 (82.2777078623423% of viewport)
[04:26:51] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1047.382, 1465.197), shooter_id=1279900256871, bullet_pos=(43.06916, 793.3154)
[04:26:51] [INFO] [Bullet] Using shooter_position, distance=1208.33349609375
[04:26:51] [INFO] [Bullet] Distance to wall: 1208.33349609375 (82.277649678398% of viewport)
[04:26:51] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1077.684, 1487.691), shooter_id=1279900256871, bullet_pos=(334.8784, 709.4162)
[04:26:51] [INFO] [Bullet] Using shooter_position, distance=1075.85876464844
[04:26:51] [INFO] [Bullet] Distance to wall: 1075.85876464844 (73.2572016147356% of viewport)
[04:26:51] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1047.382, 1465.197), shooter_id=1279900256871, bullet_pos=(155.5113, 699.1459)
[04:26:51] [INFO] [Bullet] Using shooter_position, distance=1175.69909667969
[04:26:51] [INFO] [Bullet] Distance to wall: 1175.69909667969 (80.0555134129255% of viewport)
[04:26:51] [INFO] [Bullet] Distance-based penetration chance: 53.2685676849203%
[04:26:51] [INFO] [Bullet] Penetration failed (distance roll)
[04:26:51] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1018.01, 1441.508), shooter_id=1279900256871, bullet_pos=(41.67921, 729.5751)
[04:26:51] [INFO] [Bullet] Using shooter_position, distance=1208.33349609375
[04:26:51] [INFO] [Bullet] Distance to wall: 1208.33349609375 (82.277649678398% of viewport)
[04:26:51] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1018.01, 1441.508), shooter_id=1279900256871, bullet_pos=(105.6107, 688.7895)
[04:26:51] [INFO] [Bullet] Using shooter_position, distance=1182.81750488281
[04:26:51] [INFO] [Bullet] Distance to wall: 1182.81750488281 (80.5402189170747% of viewport)
[04:26:51] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1018.01, 1441.508), shooter_id=1279900256871, bullet_pos=(49.40646, 655.7257)
[04:26:51] [INFO] [Bullet] Using shooter_position, distance=1247.25549316406
[04:26:51] [INFO] [Bullet] Distance to wall: 1247.25549316406 (84.9279200301572% of viewport)
[04:26:51] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[04:26:51] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(989.6003, 1416.68), shooter_id=1279900256871, bullet_pos=(42.53408, 666.2555)
[04:26:51] [INFO] [Bullet] Using shooter_position, distance=1208.33422851563
[04:26:51] [INFO] [Bullet] Distance to wall: 1208.33422851563 (82.2776995503503% of viewport)
[04:26:51] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1077.684, 1487.691), shooter_id=1279900256871, bullet_pos=(681.4649, 827.8091)
[04:26:51] [INFO] [Bullet] Using shooter_position, distance=769.697204589844
[04:26:51] [INFO] [Bullet] Distance to wall: 769.697204589844 (52.4100980088795% of viewport)
[04:26:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(433.0622, 794.1826), source=PLAYER (AssaultRifle), range=1469, listeners=10
[04:26:51] [ENEMY] [Enemy1] Heard gunshot at (433.0622, 794.1826), source_type=0, intensity=0.01, distance=464
[04:26:51] [ENEMY] [Enemy2] Heard gunshot at (433.0622, 794.1826), source_type=0, intensity=0.04, distance=246
[04:26:51] [ENEMY] [Enemy4] Heard gunshot at (433.0622, 794.1826), source_type=0, intensity=0.02, distance=382
[04:26:51] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[04:26:51] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(433.06223, 794.1826), shooter_id=1280722340867, bullet_pos=(499.65018, 797.4216)
[04:26:51] [INFO] [Bullet] Using shooter_position, distance=66,66668
[04:26:51] [INFO] [Bullet] Distance to wall: 66,66668 (4,539457% of viewport)
[04:26:51] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[04:26:51] [INFO] [Bullet] Starting wall penetration at (499.65018, 797.4216)
[04:26:51] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1077.684, 1487.691), shooter_id=1279900256871, bullet_pos=(504.8474, 879.8321)
[04:26:51] [INFO] [Bullet] Using shooter_position, distance=835.244995117188
[04:26:51] [INFO] [Bullet] Distance to wall: 835.244995117188 (56.8733675976449% of viewport)
[04:26:51] [INFO] [Bullet] Distance-based penetration chance: 80.3144044694143%
[04:26:51] [INFO] [Bullet] Starting wall penetration at (504.8474, 879.8321)
[04:26:51] [INFO] [Bullet] Raycast backward hit penetrating body at distance 25.5352401733398
[04:26:51] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[04:26:51] [INFO] [Bullet] Exiting penetration at (546.2617, 799.68884) after traveling 41,666668 pixels through wall
[04:26:51] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[04:26:51] [INFO] [Bullet] Body exited signal received for penetrating body
[04:26:51] [INFO] [Bullet] Exiting penetration at (475.5052, 888.4749) after traveling 25.5885429382324 pixels through wall
[04:26:51] [INFO] [Bullet] Damage multiplier after penetration: 0.1125
[04:26:51] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1018.01, 1441.508), shooter_id=1279900256871, bullet_pos=(295.3112, 463.5961)
[04:26:51] [INFO] [Bullet] Using shooter_position, distance=1215.97900390625
[04:26:51] [INFO] [Bullet] Distance to wall: 1215.97900390625 (82.7982463642003% of viewport)
[04:26:51] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[04:26:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(412.1209, 764.3569), source=PLAYER (AssaultRifle), range=1469, listeners=10
[04:26:51] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[04:26:52] [ENEMY] [Enemy2] Hit taken, health: 2/3
[04:26:52] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[04:26:52] [INFO] [ImpactEffects] spawn_blood_effect called at (400, 550), dir=(0.730096, 0.683345), lethal=false
[04:26:52] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[04:26:52] [INFO] [ImpactEffects] Blood decals scheduled: 28 (3 merged splatters, 9 satellite drops)
[04:26:52] [INFO] [ImpactEffects] Blood effect spawned at (400, 550) (scale=1)
[04:26:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(989.6003, 1416.68), shooter_id=1279900256871, bullet_pos=(503.2102, 391.7711)
[04:26:52] [INFO] [Bullet] Using shooter_position, distance=1134.46630859375
[04:26:52] [INFO] [Bullet] Distance to wall: 1134.46630859375 (77.2478970517424% of viewport)
[04:26:52] [INFO] [Bullet] Distance-based penetration chance: 56.5441201063006%
[04:26:52] [INFO] [Bullet] Penetration failed (distance roll)
[04:26:52] [ENEMY] [Enemy3] Hit taken, health: 1/2
[04:26:52] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[04:26:52] [INFO] [ImpactEffects] spawn_blood_effect called at (657.4528, 769.2828), dir=(1, 0), lethal=false
[04:26:52] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[04:26:52] [INFO] [ImpactEffects] Blood decals scheduled: 24 (4 merged splatters, 6 satellite drops)
[04:26:52] [INFO] [ImpactEffects] Blood effect spawned at (657.4528, 769.2828) (scale=1)
[04:26:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(405.0135, 737.5732), source=PLAYER (AssaultRifle), range=1469, listeners=10
[04:26:52] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[04:26:52] [ENEMY] [Enemy1] State: COMBAT -> RETREATING
[04:26:52] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[04:26:52] [ENEMY] [Enemy1] State: RETREATING -> IN_COVER
[04:26:52] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[04:26:52] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[04:26:52] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[04:26:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(410.8682, 734.0666), source=PLAYER (AssaultRifle), range=1469, listeners=10
[04:26:52] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[04:26:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(405.01346, 737.57324), shooter_id=1280722340867, bullet_pos=(927.23975, 791.46875)
[04:26:52] [INFO] [Bullet] Using shooter_position, distance=525
[04:26:52] [INFO] [Bullet] Distance to wall: 525 (35,748215% of viewport)
[04:26:52] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:26:52] [INFO] [Bullet] Starting wall penetration at (927.23975, 791.46875)
[04:26:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(430.3458, 734.0666), source=PLAYER (AssaultRifle), range=1469, listeners=10
[04:26:52] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[04:26:52] [INFO] [Bullet] Raycast backward hit penetrating body at distance 29,52654
[04:26:52] [INFO] [Bullet] Body exited signal received for penetrating body
[04:26:52] [INFO] [Bullet] Exiting penetration at (965.37054, 795.404) after traveling 33,333336 pixels through wall
[04:26:52] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[04:26:52] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[04:26:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(410.86823, 734.0666), shooter_id=1280722340867, bullet_pos=(934.1203, 776.86957)
[04:26:52] [INFO] [Bullet] Using shooter_position, distance=524,9998
[04:26:52] [INFO] [Bullet] Distance to wall: 524,9998 (35,748203% of viewport)
[04:26:52] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:26:52] [INFO] [Bullet] Starting wall penetration at (934.1203, 776.86957)
[04:26:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(462.6526, 734.0666), source=PLAYER (AssaultRifle), range=1469, listeners=10
[04:26:52] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[04:26:52] [INFO] [Bullet] Raycast backward hit penetrating body at distance 36,447327
[04:26:52] [INFO] [Bullet] Body exited signal received for penetrating body
[04:26:52] [INFO] [Bullet] Exiting penetration at (972.326, 779.9949) after traveling 33,333336 pixels through wall
[04:26:52] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[04:26:52] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[04:26:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(597.3878, 818.3317), source=ENEMY (Enemy3), range=1469, listeners=10
[04:26:52] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[04:26:52] [INFO] [LastChance] Threat detected: @Area2D@1256
[04:26:52] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[04:26:52] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:26:52] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[04:26:52] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[04:26:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(430.34576, 734.0666), shooter_id=1280722340867, bullet_pos=(920.4798, 772.8619)
[04:26:52] [INFO] [Bullet] Using shooter_position, distance=491,66702
[04:26:52] [INFO] [Bullet] Distance to wall: 491,66702 (33,47851% of viewport)
[04:26:52] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:26:52] [INFO] [Bullet] Starting wall penetration at (920.4798, 772.8619)
[04:26:52] [INFO] [Bullet] Raycast backward hit penetrating body at distance 22,764643
[04:26:52] [INFO] [Bullet] Body exited signal received for penetrating body
[04:26:52] [INFO] [Bullet] Exiting penetration at (958.69366, 775.8866) after traveling 33,333336 pixels through wall
[04:26:52] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[04:26:52] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[04:26:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(575.403, 827.6892), source=ENEMY (Enemy3), range=1469, listeners=10
[04:26:52] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[04:26:52] [INFO] [LastChance] Threat detected: @Area2D@1268
[04:26:52] [INFO] [LastChance] Player health is 3.0 - effect requires exactly 1 HP or less but alive
[04:26:52] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:26:52] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[04:26:52] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[04:26:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(462.6526, 734.0666), shooter_id=1280722340867, bullet_pos=(916.28674, 799.53265)
[04:26:52] [INFO] [Bullet] Using shooter_position, distance=458,33368
[04:26:52] [INFO] [Bullet] Distance to wall: 458,33368 (31,208784% of viewport)
[04:26:52] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:26:52] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[04:26:52] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[04:26:52] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[04:26:52] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[04:26:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=10
[04:26:52] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=4
[04:26:53] [ENEMY] [Enemy4] State: PURSUING -> RETREATING
[04:26:53] [INFO] [LastChance] Threat detected: Bullet
[04:26:53] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[04:26:53] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:26:53] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[04:26:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=10
[04:26:53] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=4
[04:26:53] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[04:26:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(557.0754, 891.6491), source=ENEMY (Enemy3), range=1469, listeners=10
[04:26:53] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[04:26:53] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[04:26:53] [ENEMY] [Enemy10] FLANKING started: target=(773.5797, 783.7653), side=left, pos=(1022.594, 1432.37)
[04:26:53] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[04:26:53] [INFO] [LastChance] Threat detected: @Area2D@1280
[04:26:53] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[04:26:53] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:26:53] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[04:26:53] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[04:26:53] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[04:26:53] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[04:26:53] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(432.001, 610.08), shooter_id=1277618555053, bullet_pos=(499.1882, 684.1467)
[04:26:53] [INFO] [Bullet] Using shooter_position, distance=99.9999694824219
[04:26:53] [INFO] [Bullet] Distance to wall: 99.9999694824219 (6.80918180578753% of viewport)
[04:26:53] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:26:53] [INFO] [Bullet] Starting wall penetration at (499.1882, 684.1467)
[04:26:53] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[04:26:53] [INFO] [Bullet] Exiting penetration at (524.9432, 712.5389) after traveling 33.3333358764648 pixels through wall
[04:26:53] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[04:26:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=10
[04:26:53] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=4
[04:26:53] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(431.8253, 610.1727), shooter_id=1277618555053, bullet_pos=(692.1414, 868.3975)
[04:26:53] [INFO] [Bullet] Using shooter_position, distance=366.666717529297
[04:26:53] [INFO] [Bullet] Distance to wall: 366.666717529297 (24.9670110372103% of viewport)
[04:26:53] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:26:53] [INFO] [Bullet] Starting wall penetration at (692.1414, 868.3975)
[04:26:53] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[04:26:53] [INFO] [Bullet] Raycast backward hit penetrating body at distance 7.65877485275269
[04:26:53] [INFO] [Bullet] Body exited signal received for penetrating body
[04:26:53] [INFO] [Bullet] Exiting penetration at (719.3563, 895.3937) after traveling 33.3333320617676 pixels through wall
[04:26:53] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[04:26:53] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[04:26:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(554.1415, 915.3615), source=ENEMY (Enemy3), range=1469, listeners=10
[04:26:53] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=5
[04:26:53] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[04:26:53] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[04:26:53] [INFO] [PenultimateHit] Player died - ending penultimate effect
[04:26:53] [INFO] [LastChance] Player died
[04:26:53] [ENEMY] [Enemy2] State: SEEKING_COVER -> IN_COVER
[04:26:53] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(430.8546, 610.5278), shooter_id=1277618555053, bullet_pos=(485.0652, 694.559)
[04:26:53] [INFO] [Bullet] Using shooter_position, distance=100.00008392334
[04:26:53] [INFO] [Bullet] Distance to wall: 100.00008392334 (6.80918959828007% of viewport)
[04:26:53] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:26:53] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[04:26:53] [ENEMY] [Enemy4] State: SUPPRESSED -> SEEKING_COVER
[04:26:53] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[04:26:53] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[04:26:53] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[04:26:53] [ENEMY] [Enemy4] State: SEEKING_COVER -> IN_COVER
[04:26:53] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[04:26:53] [ENEMY] [Enemy4] State: SUPPRESSED -> SEEKING_COVER
[04:26:53] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[04:26:53] [ENEMY] [Enemy4] State: SEEKING_COVER -> IN_COVER
[04:26:53] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[04:26:53] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[04:26:53] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[04:26:53] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[04:26:53] [INFO] [LastChance] Resetting all effects (scene change detected)
[04:26:53] [ENEMY] [Enemy1] Death animation component initialized
[04:26:53] [ENEMY] [Enemy2] Death animation component initialized
[04:26:53] [ENEMY] [Enemy3] Death animation component initialized
[04:26:53] [ENEMY] [Enemy4] Death animation component initialized
[04:26:53] [ENEMY] [Enemy5] Death animation component initialized
[04:26:53] [ENEMY] [Enemy6] Death animation component initialized
[04:26:53] [ENEMY] [Enemy7] Death animation component initialized
[04:26:53] [ENEMY] [Enemy8] Death animation component initialized
[04:26:53] [ENEMY] [Enemy9] Death animation component initialized
[04:26:53] [ENEMY] [Enemy10] Death animation component initialized
[04:26:53] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[04:26:53] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[04:26:53] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[04:26:53] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[04:26:53] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[04:26:53] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[04:26:53] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[04:26:53] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[04:26:53] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[04:26:53] [INFO] [ScoreManager] Level started with 10 enemies
[04:26:53] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[04:26:53] [ENEMY] [Enemy1] Registered as sound listener
[04:26:53] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[04:26:53] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[04:26:53] [ENEMY] [Enemy2] Registered as sound listener
[04:26:53] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[04:26:53] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[04:26:53] [ENEMY] [Enemy3] Registered as sound listener
[04:26:53] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[04:26:53] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[04:26:53] [ENEMY] [Enemy4] Registered as sound listener
[04:26:53] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[04:26:53] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[04:26:53] [ENEMY] [Enemy5] Registered as sound listener
[04:26:53] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[04:26:53] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[04:26:53] [ENEMY] [Enemy6] Registered as sound listener
[04:26:53] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[04:26:53] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[04:26:53] [ENEMY] [Enemy7] Registered as sound listener
[04:26:53] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[04:26:53] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[04:26:53] [ENEMY] [Enemy8] Registered as sound listener
[04:26:53] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[04:26:53] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[04:26:53] [ENEMY] [Enemy9] Registered as sound listener
[04:26:53] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[04:26:53] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[04:26:53] [ENEMY] [Enemy10] Registered as sound listener
[04:26:53] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[04:26:53] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[04:26:53] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[04:26:53] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[04:26:53] [INFO] [LastChance] Found player: Player
[04:26:53] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[04:26:53] [INFO] [LastChance] Connected to player Damaged signal (C#)
[04:26:53] [INFO] [LastChance] Connected to player Died signal (C#)
[04:26:53] [INFO] [Player] Detecting weapon pose (frame 3)...
[04:26:53] [INFO] [Player] Detected weapon: Rifle (default pose)
[04:26:53] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[04:26:54] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[04:26:54] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[04:26:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1171.731, 1535.008), source=ENEMY (Enemy10), range=1469, listeners=20
[04:26:54] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[04:26:54] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=8
[04:26:55] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[04:26:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1139.423, 1516.307), source=ENEMY (Enemy10), range=1469, listeners=10
[04:26:55] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[04:26:55] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[04:26:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1107.906, 1496.302), source=ENEMY (Enemy10), range=1469, listeners=10
[04:26:55] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[04:26:55] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[04:26:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1077.226, 1475.035), source=ENEMY (Enemy10), range=1469, listeners=10
[04:26:55] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[04:26:55] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[04:26:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1047.428, 1452.549), source=ENEMY (Enemy10), range=1469, listeners=10
[04:26:55] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[04:26:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1108.874, 1508.939), shooter_id=1544544060912, bullet_pos=(53.14801, 921.1365)
[04:26:55] [INFO] [Bullet] Using shooter_position, distance=1208.33337402344
[04:26:55] [INFO] [Bullet] Distance to wall: 1208.33337402344 (82.277641366406% of viewport)
[04:26:55] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[04:26:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1077.684, 1487.691), shooter_id=1544544060912, bullet_pos=(46.85162, 857.2495)
[04:26:55] [INFO] [Bullet] Using shooter_position, distance=1208.33435058594
[04:26:55] [INFO] [Bullet] Distance to wall: 1208.33435058594 (82.2777078623423% of viewport)
[04:26:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1047.382, 1465.197), shooter_id=1544544060912, bullet_pos=(43.06916, 793.3154)
[04:26:55] [INFO] [Bullet] Using shooter_position, distance=1208.33349609375
[04:26:55] [INFO] [Bullet] Distance to wall: 1208.33349609375 (82.277649678398% of viewport)
[04:26:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1077.684, 1487.691), shooter_id=1544544060912, bullet_pos=(288.2494, 699.5688)
[04:26:55] [INFO] [Bullet] Using shooter_position, distance=1115.50146484375
[04:26:55] [INFO] [Bullet] Distance to wall: 1115.50146484375 (75.9565459675323% of viewport)
[04:26:55] [INFO] [LastChance] Threat detected: @Area2D@1540
[04:26:55] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[04:26:55] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:26:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1047.382, 1465.197), shooter_id=1544544060912, bullet_pos=(199.0932, 699.4494)
[04:26:55] [INFO] [Bullet] Using shooter_position, distance=1142.78784179688
[04:26:55] [INFO] [Bullet] Distance to wall: 1142.78784179688 (77.8145255494934% of viewport)
[04:26:55] [INFO] [Bullet] Distance-based penetration chance: 55.883053525591%
[04:26:55] [INFO] [Bullet] Starting wall penetration at (199.0932, 699.4494)
[04:26:55] [INFO] [Bullet] Raycast backward hit penetrating body at distance 18.2068901062012
[04:26:55] [INFO] [Bullet] Body exited signal received for penetrating body
[04:26:55] [INFO] [Bullet] Exiting penetration at (233.7255, 678.6141) after traveling 35.4166717529297 pixels through wall
[04:26:55] [INFO] [Bullet] Damage multiplier after penetration: 0.45
[04:26:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1018.01, 1441.508), shooter_id=1544544060912, bullet_pos=(41.67921, 729.5751)
[04:26:55] [INFO] [Bullet] Using shooter_position, distance=1208.33349609375
[04:26:55] [INFO] [Bullet] Distance to wall: 1208.33349609375 (82.277649678398% of viewport)
[04:26:55] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[04:26:55] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[04:26:55] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[04:26:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(989.6003, 1416.68), shooter_id=1544544060912, bullet_pos=(42.53408, 666.2555)
[04:26:55] [INFO] [Bullet] Using shooter_position, distance=1208.33422851563
[04:26:55] [INFO] [Bullet] Distance to wall: 1208.33422851563 (82.2776995503503% of viewport)
[04:26:55] [INFO] [Bullet] Distance-based penetration chance: 50.676017191258%
[04:26:55] [INFO] [Bullet] Starting wall penetration at (42.53408, 666.2555)
[04:26:55] [INFO] [Bullet] Raycast backward hit penetrating body at distance 33.2265319824219
[04:26:55] [INFO] [Bullet] Body exited signal received for penetrating body
[04:26:55] [INFO] [Bullet] Exiting penetration at (5.957748, 637.2736) after traveling 41.6666717529297 pixels through wall
[04:26:55] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[04:26:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1018.01, 1441.508), shooter_id=1544544060912, bullet_pos=(327.3668, 457.4011)
[04:26:55] [INFO] [Bullet] Using shooter_position, distance=1202.27038574219
[04:26:55] [INFO] [Bullet] Distance to wall: 1202.27038574219 (81.8648013454833% of viewport)
[04:26:55] [ENEMY] [Enemy2] Hit taken, health: 1/2
[04:26:55] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[04:26:55] [INFO] [ImpactEffects] spawn_blood_effect called at (400, 550), dir=(0.639225, 0.76902), lethal=false
[04:26:55] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[04:26:55] [INFO] [ImpactEffects] Blood decals scheduled: 30 (4 merged splatters, 12 satellite drops)
[04:26:55] [INFO] [ImpactEffects] Blood effect spawned at (400, 550) (scale=1)
[04:26:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(453.0796, 777.4423), source=PLAYER (AssaultRifle), range=1469, listeners=10
[04:26:55] [ENEMY] [Enemy1] Heard gunshot at (453.0796, 777.4423), source_type=0, intensity=0.01, distance=454
[04:26:55] [ENEMY] [Enemy2] Heard gunshot at (453.0796, 777.4423), source_type=0, intensity=0.05, distance=234
[04:26:55] [ENEMY] [Enemy4] Heard gunshot at (453.0796, 777.4423), source_type=0, intensity=0.02, distance=368
[04:26:55] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[04:26:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[04:26:56] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[04:26:56] [INFO] [LastChance] Threat detected: @Area2D@1556
[04:26:56] [INFO] [LastChance] Player health is 3.0 - effect requires exactly 1 HP or less but alive
[04:26:56] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:26:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(470.3253, 746.0858), source=PLAYER (AssaultRifle), range=1469, listeners=10
[04:26:56] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[04:26:56] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[04:26:56] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[04:26:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(453.0796, 777.44226), shooter_id=1545366144912, bullet_pos=(935.749, 802.77124)
[04:26:56] [INFO] [Bullet] Using shooter_position, distance=483,3336
[04:26:56] [INFO] [Bullet] Distance to wall: 483,3336 (32,911076% of viewport)
[04:26:56] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:26:56] [INFO] [Bullet] Starting wall penetration at (935.749, 802.77124)
[04:26:56] [ENEMY] [Enemy3] Hit taken, health: 1/2
[04:26:56] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[04:26:56] [INFO] [ImpactEffects] spawn_blood_effect called at (684.4485, 753.7583), dir=(1, 0), lethal=false
[04:26:56] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[04:26:56] [INFO] [ImpactEffects] Blood decals scheduled: 28 (2 merged splatters, 8 satellite drops)
[04:26:56] [INFO] [ImpactEffects] Blood effect spawned at (684.4485, 753.7583) (scale=1)
[04:26:56] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[04:26:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[04:26:56] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[04:26:56] [INFO] [Bullet] Raycast backward hit penetrating body at distance 46,41534
[04:26:56] [INFO] [LastChance] Threat detected: @Area2D@1562
[04:26:56] [INFO] [LastChance] Player health is 3.0 - effect requires exactly 1 HP or less but alive
[04:26:56] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:26:56] [INFO] [Bullet] Body exited signal received for penetrating body
[04:26:56] [INFO] [Bullet] Exiting penetration at (982.35156, 805.2168) after traveling 41,666668 pixels through wall
[04:26:56] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[04:26:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(497.3063, 734.0666), source=PLAYER (AssaultRifle), range=1469, listeners=10
[04:26:56] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[04:26:56] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[04:26:56] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[04:26:56] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[04:26:56] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[04:26:56] [ENEMY] [Enemy3] Hit taken, health: 0/2
[04:26:56] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[04:26:56] [INFO] [ImpactEffects] spawn_blood_effect called at (690.5371, 755.7302), dir=(1, 0), lethal=true
[04:26:56] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[04:26:56] [INFO] [ImpactEffects] Blood decals scheduled: 43 (8 merged splatters, 6 satellite drops)
[04:26:56] [INFO] [ImpactEffects] Blood effect spawned at (690.5371, 755.7302) (scale=1.5)
[04:26:56] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[04:26:56] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[04:26:56] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[04:26:56] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[04:26:56] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[04:26:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(616.6592, 761.2535), shooter_id=1542547574112, bullet_pos=(58.33132, 758.7553)
[04:26:56] [INFO] [Bullet] Using shooter_position, distance=558.33349609375
[04:26:56] [INFO] [Bullet] Distance to wall: 558.33349609375 (38.017954433792% of viewport)
[04:26:56] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:26:56] [INFO] [Bullet] Starting wall penetration at (58.33132, 758.7553)
[04:26:56] [INFO] [Bullet] Raycast backward hit penetrating body at distance 12.0017490386963
[04:26:56] [INFO] [Bullet] Body exited signal received for penetrating body
[04:26:56] [INFO] [Bullet] Exiting penetration at (19.99837, 758.5837) after traveling 33.3333320617676 pixels through wall
[04:26:56] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[04:26:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(531.8858, 734.6578), source=PLAYER (AssaultRifle), range=1469, listeners=9
[04:26:56] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[04:26:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=9
[04:26:56] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=4
[04:26:56] [INFO] [LastChance] Threat detected: @Area2D@1571
[04:26:56] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[04:26:56] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:26:56] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[04:26:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=9
[04:26:56] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=4
[04:26:56] [INFO] [LastChance] Threat detected: @Area2D@1573
[04:26:56] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[04:26:56] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:26:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(562.3254, 744.517), source=PLAYER (AssaultRifle), range=1469, listeners=9
[04:26:56] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[04:26:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(436.5695, 607.387), shooter_id=1542262359454, bullet_pos=(499.6221, 685.0038)
[04:26:56] [INFO] [Bullet] Using shooter_position, distance=99.9999847412109
[04:26:56] [INFO] [Bullet] Distance to wall: 99.9999847412109 (6.80918284478653% of viewport)
[04:26:56] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:26:56] [INFO] [Bullet] Starting wall penetration at (499.6221, 685.0038)
[04:26:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=9
[04:26:56] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=3
[04:26:56] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[04:26:56] [INFO] [Bullet] Exiting penetration at (523.7923, 714.7569) after traveling 33.3333320617676 pixels through wall
[04:26:56] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[04:26:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(531.8858, 734.65784), shooter_id=1545366144912, bullet_pos=(923.0108, 755.2483)
[04:26:56] [INFO] [Bullet] Using shooter_position, distance=391,66663
[04:26:56] [INFO] [Bullet] Distance to wall: 391,66663 (26,669302% of viewport)
[04:26:56] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:26:56] [INFO] [Bullet] Starting wall penetration at (923.0108, 755.2483)
[04:26:56] [INFO] [LastChance] Threat detected: @Area2D@1582
[04:26:56] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[04:26:56] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:26:56] [INFO] [Bullet] Raycast backward hit penetrating body at distance 25,32616
[04:26:56] [INFO] [Bullet] Body exited signal received for penetrating body
[04:26:56] [INFO] [Bullet] Exiting penetration at (961.29114, 757.26355) after traveling 33,333332 pixels through wall
[04:26:56] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[04:26:56] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[04:26:56] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[04:26:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=9
[04:26:56] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=3
[04:26:56] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[04:26:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(435.7256, 608.5717), shooter_id=1542262359454, bullet_pos=(698.0639, 814.2162)
[04:26:56] [INFO] [Bullet] Using shooter_position, distance=333.333221435547
[04:26:56] [INFO] [Bullet] Distance to wall: 333.333221435547 (22.6972719932924% of viewport)
[04:26:56] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:26:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=9
[04:26:56] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=3
[04:26:56] [INFO] [LastChance] Threat detected: @Area2D@1591
[04:26:56] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[04:26:56] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:26:56] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[04:26:56] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[04:26:56] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[04:26:56] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[04:26:56] [INFO] [LastChance] Threat detected: Bullet
[04:26:56] [INFO] [LastChance] Triggering last chance effect!
[04:26:56] [INFO] [LastChance] Starting last chance effect:
[04:26:56] [INFO] [LastChance]   - Time will be frozen (except player)
[04:26:56] [INFO] [LastChance]   - Duration: 6.0 real seconds
[04:26:56] [INFO] [LastChance]   - Sepia intensity: 0.70
[04:26:56] [INFO] [LastChance]   - Brightness: 0.60
[04:26:56] [INFO] [LastChance] Pushed bullet @Area2D@1591 from distance 79.4 to 200.0
[04:26:56] [INFO] [LastChance] Pushed bullet Bullet from distance 147.1 to 200.0
[04:26:56] [INFO] [LastChance] Pushed 2 threatening bullets away from player
[04:26:56] [INFO] [LastChance] Set player Player and all 18 children to PROCESS_MODE_ALWAYS
[04:26:56] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[04:26:56] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[04:26:56] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[04:26:56] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[04:26:56] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[04:26:56] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[04:26:56] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[04:26:56] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[04:26:56] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[04:26:56] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[04:26:56] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[04:26:56] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[04:26:56] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[04:26:56] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[04:26:56] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[04:26:56] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[04:26:56] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[04:26:56] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[04:26:56] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[04:26:56] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[04:26:56] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[04:26:56] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[04:26:56] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[04:26:56] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[04:26:56] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[04:26:56] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[04:26:56] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[04:26:56] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[04:26:56] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[04:26:56] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[04:26:56] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[04:26:56] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[04:26:56] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[04:26:56] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[04:26:56] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[04:26:56] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[04:26:56] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[04:26:56] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[04:26:56] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[04:26:56] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[04:26:56] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[04:26:56] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[04:26:56] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[04:26:56] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[04:26:56] [INFO] [LastChance] Skipping player node: Player
[04:26:56] [INFO] [LastChance] Froze existing bullet casing: Casing
[04:26:56] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1541
[04:26:56] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1543
[04:26:56] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1545
[04:26:56] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1547
[04:26:56] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1555
[04:26:56] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1557
[04:26:56] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1559
[04:26:56] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1563
[04:26:56] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1564
[04:26:56] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1570
[04:26:56] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1574
[04:26:56] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1579
[04:26:56] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1592
[04:26:56] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[04:26:56] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[04:26:56] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[04:26:57] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@1645
[04:26:57] [INFO] [LastChance] Registered frozen player bullet: @Area2D@1645
[04:26:57] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@1646
[04:26:57] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@1646
[04:26:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(593.6979, 934.8345), source=PLAYER (AssaultRifle), range=1469, listeners=9
[04:26:57] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[04:26:57] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@1647
[04:26:57] [INFO] [LastChance] Registered frozen player bullet: @Area2D@1647
[04:26:57] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@1648
[04:26:57] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@1648
[04:26:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(593.6979, 960.79), source=PLAYER (AssaultRifle), range=1469, listeners=9
[04:26:57] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[04:26:57] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@1649
[04:26:57] [INFO] [LastChance] Registered frozen player bullet: @Area2D@1649
[04:26:57] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@1650
[04:26:57] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@1650
[04:26:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(593.6979, 975.3678), source=PLAYER (AssaultRifle), range=1469, listeners=9
[04:26:57] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[04:26:57] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@1651
[04:26:57] [INFO] [LastChance] Registered frozen player bullet: @Area2D@1651
[04:26:57] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@1652
[04:26:57] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@1652
[04:26:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(593.6979, 978.8345), source=PLAYER (AssaultRifle), range=1469, listeners=9
[04:26:57] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[04:26:58] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[04:26:58] [ENEMY] [Enemy1] Player reloading state changed: false -> true
[04:26:58] [ENEMY] [Enemy2] Player reloading state changed: false -> true
[04:26:58] [ENEMY] [Enemy3] Player reloading state changed: false -> true
[04:26:58] [ENEMY] [Enemy4] Player reloading state changed: false -> true
[04:26:58] [ENEMY] [Enemy5] Player reloading state changed: false -> true
[04:26:58] [ENEMY] [Enemy6] Player reloading state changed: false -> true
[04:26:58] [ENEMY] [Enemy7] Player reloading state changed: false -> true
[04:26:58] [ENEMY] [Enemy8] Player reloading state changed: false -> true
[04:26:58] [ENEMY] [Enemy9] Player reloading state changed: false -> true
[04:26:58] [ENEMY] [Enemy10] Player reloading state changed: false -> true
[04:26:58] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(540.0676, 892.7263), source=PLAYER (Player), range=900, listeners=9
[04:26:58] [ENEMY] [Enemy2] Heard player RELOAD at (540.0676, 892.7263), intensity=0.02, distance=366
[04:26:58] [ENEMY] [Enemy2] Vulnerability sound triggered pursuit - transitioning from SEEKING_COVER to PURSUING
[04:26:58] [ENEMY] [Enemy4] Heard player RELOAD at (540.0676, 892.7263), intensity=0.07, distance=194
[04:26:58] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=2
[04:26:58] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[04:26:58] [INFO] [Player.Reload.Anim] Phase changed to: PullBolt (duration: 0,35s)
[04:26:58] [ENEMY] [Enemy1] Player reloading state changed: true -> false
[04:26:58] [ENEMY] [Enemy2] Player reloading state changed: true -> false
[04:26:58] [ENEMY] [Enemy4] Player reloading state changed: true -> false
[04:26:58] [ENEMY] [Enemy5] Player reloading state changed: true -> false
[04:26:58] [ENEMY] [Enemy6] Player reloading state changed: true -> false
[04:26:58] [ENEMY] [Enemy7] Player reloading state changed: true -> false
[04:26:58] [ENEMY] [Enemy8] Player reloading state changed: true -> false
[04:26:58] [ENEMY] [Enemy9] Player reloading state changed: true -> false
[04:26:58] [ENEMY] [Enemy10] Player reloading state changed: true -> false
[04:26:58] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[04:26:59] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[04:26:59] [INFO] [ScoreManager] Combo ended at 1. Max combo: 1
[04:27:02] [INFO] [LastChance] Effect duration expired after 6.00 real seconds
[04:27:02] [INFO] [LastChance] Ending last chance effect
[04:27:02] [INFO] [LastChance] All process modes restored
[04:27:02] [INFO] [LastChance] Unfroze player bullet: @Area2D@1645
[04:27:02] [INFO] [LastChance] Unfroze player bullet: @Area2D@1647
[04:27:02] [INFO] [LastChance] Unfroze player bullet: @Area2D@1649
[04:27:02] [INFO] [LastChance] Unfroze player bullet: @Area2D@1651
[04:27:02] [INFO] [LastChance] Unfroze bullet casing: Casing
[04:27:02] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@1541
[04:27:02] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@1543
[04:27:02] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@1545
[04:27:02] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@1547
[04:27:02] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@1555
[04:27:02] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@1557
[04:27:02] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@1559
[04:27:02] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@1563
[04:27:02] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@1564
[04:27:02] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@1570
[04:27:02] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@1574
[04:27:02] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@1579
[04:27:02] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@1592
[04:27:02] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@1646
[04:27:02] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@1648
[04:27:02] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@1650
[04:27:02] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@1652
[04:27:02] [INFO] [LastChance] Restored original colors to 5 player sprites
[04:27:02] [INFO] [LastChance] Called player RefreshHealthVisual (C#)
[04:27:02] [ENEMY] [Enemy2] Pursuing vulnerability sound at (540.0676, 892.7263), distance=366
[04:27:02] [ENEMY] [Enemy4] Pursuing vulnerability sound at (540.0676, 892.7263), distance=194
[04:27:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(562.32544, 744.51697), shooter_id=1545366144912, bullet_pos=(928.8274, 755.49817)
[04:27:02] [INFO] [Bullet] Using shooter_position, distance=366,66644
[04:27:02] [INFO] [Bullet] Distance to wall: 366,66644 (24,966993% of viewport)
[04:27:02] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:27:02] [INFO] [Bullet] Starting wall penetration at (928.8274, 755.49817)
[04:27:02] [INFO] [Bullet] Raycast backward hit penetrating body at distance 39,490856
[04:27:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(438.9717, 605.7937), shooter_id=1542262359454, bullet_pos=(483.7805, 694.4927)
[04:27:02] [INFO] [Bullet] Using shooter_position, distance=99.3747329711914
[04:27:02] [INFO] [Bullet] Distance to wall: 99.3747329711914 (6.76660830202928% of viewport)
[04:27:02] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:27:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(438.9059, 605.8295), shooter_id=1542262359454, bullet_pos=(494.9082, 685.1371)
[04:27:02] [INFO] [Bullet] Using shooter_position, distance=97.0873413085938
[04:27:02] [INFO] [Bullet] Distance to wall: 97.0873413085938 (6.61085559758063% of viewport)
[04:27:02] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:27:02] [ENEMY] [Enemy4] Hit taken, health: 2/3
[04:27:02] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[04:27:02] [INFO] [ImpactEffects] spawn_blood_effect called at (723.1443, 914.0654), dir=(1, 0), lethal=false
[04:27:02] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[04:27:02] [INFO] [ImpactEffects] Blood decals scheduled: 24 (4 merged splatters, 6 satellite drops)
[04:27:02] [INFO] [ImpactEffects] Blood effect spawned at (723.1443, 914.0654) (scale=1)
[04:27:02] [INFO] [Bullet] Body exited signal received for penetrating body
[04:27:02] [INFO] [Bullet] Exiting penetration at (975.47314, 756.89575) after traveling 41,666668 pixels through wall
[04:27:02] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[04:27:02] [ENEMY] [Enemy4] Hit taken, health: 1/3
[04:27:02] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[04:27:02] [INFO] [ImpactEffects] spawn_blood_effect called at (718.2442, 914.0658), dir=(1, 0), lethal=false
[04:27:02] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[04:27:02] [INFO] [ImpactEffects] Blood decals scheduled: 33 (3 merged splatters, 9 satellite drops)
[04:27:02] [INFO] [ImpactEffects] Blood effect spawned at (718.2442, 914.0658) (scale=1)
[04:27:02] [ENEMY] [Enemy4] Hit taken, health: 0/3
[04:27:02] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[04:27:02] [INFO] [ImpactEffects] spawn_blood_effect called at (718.2442, 914.0658), dir=(1, 0), lethal=true
[04:27:02] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[04:27:02] [INFO] [ImpactEffects] Blood decals scheduled: 52 (7 merged splatters, 15 satellite drops)
[04:27:02] [INFO] [ImpactEffects] Blood effect spawned at (718.2442, 914.0658) (scale=1.5)
[04:27:02] [ENEMY] [Enemy4] Enemy died (ricochet: false, penetration: false)
[04:27:02] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[04:27:02] [INFO] [SoundPropagation] Unregistered listener: Enemy4 (remaining: 8)
[04:27:02] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[04:27:02] [ENEMY] [Enemy4] Death animation started with hit direction: (1, 0)
[04:27:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(435.7256, 608.5717), shooter_id=1542262359454, bullet_pos=(918.185, 689.6629)
[04:27:02] [INFO] [Bullet] Using shooter_position, distance=489.226745605469
[04:27:02] [INFO] [Bullet] Distance to wall: 489.226745605469 (33.3123487169361% of viewport)
[04:27:02] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:27:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(593.6979, 978.8345), shooter_id=1545366144912, bullet_pos=(919.1785, 850.13965)
[04:27:02] [INFO] [Bullet] Using shooter_position, distance=350,00003
[04:27:02] [INFO] [Bullet] Distance to wall: 350,00003 (23,832148% of viewport)
[04:27:02] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:27:03] [ENEMY] [Enemy10] FLANKING started: target=(495.4192, 1178.949), side=right, pos=(1022.594, 1432.37)
[04:27:03] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[04:27:03] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[04:27:03] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[04:27:03] [ENEMY] [Enemy4] Ragdoll activated
[04:27:03] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[04:27:03] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[04:27:03] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[04:27:03] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[04:27:03] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[04:27:03] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[04:27:03] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[04:27:04] [ENEMY] [Enemy2] State: SEEKING_COVER -> IN_COVER
[04:27:04] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[04:27:04] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[04:27:04] [ENEMY] [Enemy2] State: SEEKING_COVER -> IN_COVER
[04:27:04] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[04:27:04] [ENEMY] [Enemy4] Death animation completed
[04:27:04] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[04:27:04] [ENEMY] [Enemy2] State: SEEKING_COVER -> IN_COVER
[04:27:04] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[04:27:04] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[04:27:04] [ENEMY] [Enemy1] Player distracted - priority attack triggered
[04:27:04] [ENEMY] [Enemy2] State: SEEKING_COVER -> IN_COVER
[04:27:04] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[04:27:05] [ENEMY] [Enemy2] State: SUPPRESSED -> IN_COVER
[04:27:05] [ENEMY] [Enemy2] State: IN_COVER -> PURSUING
[04:27:06] [INFO] [ScoreManager] Combo ended at 1. Max combo: 1
[04:27:06] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[04:27:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(438.8361, 660.2972), source=ENEMY (Enemy2), range=1469, listeners=8
[04:27:06] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=2
[04:27:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(495.6342, 697.7749), shooter_id=1542262359454, bullet_pos=(495.6342, 697.7749)
[04:27:06] [INFO] [Bullet] Using shooter_position, distance=0
[04:27:06] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[04:27:06] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[04:27:06] [INFO] [Bullet] Starting wall penetration at (495.6342, 697.7749)
[04:27:06] [INFO] [LastChance] Threat detected: Bullet
[04:27:06] [INFO] [LastChance] Effect already used this life
[04:27:06] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:27:06] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[04:27:06] [INFO] [Bullet] Raycast backward hit penetrating body at distance 41.7739143371582
[04:27:06] [INFO] [Bullet] Body exited signal received for penetrating body
[04:27:06] [INFO] [Bullet] Exiting penetration at (537.2748, 718.8425) after traveling 41.6666679382324 pixels through wall
[04:27:06] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[04:27:06] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[04:27:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(438.8361, 660.2972), source=ENEMY (Enemy2), range=1469, listeners=8
[04:27:06] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=2
[04:27:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(501.4843, 686.8641), shooter_id=1542262359454, bullet_pos=(501.4843, 686.8641)
[04:27:06] [INFO] [Bullet] Using shooter_position, distance=0
[04:27:06] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[04:27:06] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[04:27:06] [INFO] [Bullet] Starting wall penetration at (501.4843, 686.8641)
[04:27:06] [INFO] [LastChance] Threat detected: Bullet
[04:27:06] [INFO] [LastChance] Effect already used this life
[04:27:06] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:27:06] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[04:27:06] [INFO] [Bullet] Exiting penetration at (546.2527, 700.0386) after traveling 41.6666679382324 pixels through wall
[04:27:06] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[04:27:06] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[04:27:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(466.9241, 833.6823), source=ENEMY (Enemy10), range=1469, listeners=8
[04:27:06] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=2
[04:27:06] [INFO] [LastChance] Threat detected: Bullet
[04:27:06] [INFO] [LastChance] Effect already used this life
[04:27:06] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:27:06] [ENEMY] [Enemy10] State: FLANKING -> COMBAT
[04:27:06] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[04:27:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(438.8361, 660.2972), source=ENEMY (Enemy2), range=1469, listeners=8
[04:27:06] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=2
[04:27:06] [INFO] [LastChance] Threat detected: @Area2D@1741
[04:27:06] [INFO] [LastChance] Effect already used this life
[04:27:06] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:27:06] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[04:27:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(469.4109, 817.8768), source=ENEMY (Enemy10), range=1469, listeners=8
[04:27:06] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=2
[04:27:06] [INFO] [LastChance] Threat detected: @Area2D@1743
[04:27:06] [INFO] [LastChance] Effect already used this life
[04:27:06] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:27:06] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[04:27:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(438.8361, 660.2972), source=ENEMY (Enemy2), range=1469, listeners=8
[04:27:06] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=2
[04:27:06] [INFO] [LastChance] Threat detected: @Area2D@1745
[04:27:06] [INFO] [LastChance] Effect already used this life
[04:27:06] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:27:06] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[04:27:06] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[04:27:06] [INFO] [PenultimateHit] Player died - ending penultimate effect
[04:27:06] [INFO] [LastChance] Player died
[04:27:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(505.107, 675.7492), shooter_id=1542262359454, bullet_pos=(919.0597, 723.2272)
[04:27:06] [INFO] [Bullet] Using shooter_position, distance=416.66650390625
[04:27:06] [INFO] [Bullet] Distance to wall: 416.66650390625 (28.371588433117% of viewport)
[04:27:06] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:27:06] [INFO] [Bullet] Starting wall penetration at (919.0597, 723.2272)
[04:27:06] [INFO] [Bullet] Raycast backward hit penetrating body at distance 29.6152534484863
[04:27:06] [INFO] [Bullet] Body exited signal received for penetrating body
[04:27:06] [INFO] [Bullet] Exiting penetration at (965.4224, 728.5448) after traveling 41.6666679382324 pixels through wall
[04:27:06] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[04:27:06] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[04:27:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(469.4109, 817.8768), source=ENEMY (Enemy10), range=1469, listeners=8
[04:27:06] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=2
[04:27:06] [INFO] [LastChance] Threat detected: @Area2D@1748
[04:27:06] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[04:27:06] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:27:06] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[04:27:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(438.8361, 660.2972), source=ENEMY (Enemy2), range=1469, listeners=8
[04:27:06] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=2
[04:27:06] [INFO] [LastChance] Threat detected: @Area2D@1750
[04:27:06] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[04:27:06] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:27:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(521.5222, 793.0664), shooter_id=1544544060912, bullet_pos=(1098.361, 250.8547)
[04:27:06] [INFO] [Bullet] Using shooter_position, distance=791.666625976563
[04:27:06] [INFO] [Bullet] Distance to wall: 791.666625976563 (53.9060363093049% of viewport)
[04:27:06] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[04:27:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(469.4109, 817.8768), source=ENEMY (Enemy10), range=1469, listeners=8
[04:27:06] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=2
[04:27:06] [INFO] [LastChance] Threat detected: @Area2D@1752
[04:27:06] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[04:27:06] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:27:06] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[04:27:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(438.8361, 660.2972), source=ENEMY (Enemy2), range=1469, listeners=8
[04:27:06] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=2
[04:27:06] [INFO] [LastChance] Threat detected: @Area2D@1754
[04:27:06] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[04:27:06] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:27:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(521.5222, 793.0664), shooter_id=1544544060912, bullet_pos=(889.9546, 51.59824)
[04:27:07] [INFO] [Bullet] Using shooter_position, distance=827.959777832031
[04:27:07] [INFO] [Bullet] Distance to wall: 827.959777832031 (56.3773037563652% of viewport)
[04:27:07] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[04:27:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(469.4109, 817.8768), source=ENEMY (Enemy10), range=1469, listeners=8
[04:27:07] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=2
[04:27:07] [INFO] [LastChance] Threat detected: @Area2D@1757
[04:27:07] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[04:27:07] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:27:07] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[04:27:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(438.8361, 660.2972), source=ENEMY (Enemy2), range=1469, listeners=8
[04:27:07] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=2
[04:27:07] [INFO] [LastChance] Threat detected: @Area2D@1759
[04:27:07] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[04:27:07] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:27:07] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[04:27:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(469.4109, 817.8768), source=ENEMY (Enemy10), range=1469, listeners=8
[04:27:07] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=2
[04:27:07] [INFO] [LastChance] Threat detected: @Area2D@1761
[04:27:07] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[04:27:07] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:27:07] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[04:27:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(438.8361, 660.2972), source=ENEMY (Enemy2), range=1469, listeners=8
[04:27:07] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=2
[04:27:07] [INFO] [LastChance] Threat detected: @Area2D@1763
[04:27:07] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[04:27:07] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:27:07] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[04:27:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(469.4109, 817.8768), source=ENEMY (Enemy10), range=1469, listeners=8
[04:27:07] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=2
[04:27:07] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[04:27:07] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[04:27:07] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[04:27:07] [INFO] [LastChance] Resetting all effects (scene change detected)
[04:27:07] [ENEMY] [Enemy1] Death animation component initialized
[04:27:07] [ENEMY] [Enemy2] Death animation component initialized
[04:27:07] [ENEMY] [Enemy3] Death animation component initialized
[04:27:07] [ENEMY] [Enemy4] Death animation component initialized
[04:27:07] [ENEMY] [Enemy5] Death animation component initialized
[04:27:07] [ENEMY] [Enemy6] Death animation component initialized
[04:27:07] [ENEMY] [Enemy7] Death animation component initialized
[04:27:07] [ENEMY] [Enemy8] Death animation component initialized
[04:27:07] [ENEMY] [Enemy9] Death animation component initialized
[04:27:07] [ENEMY] [Enemy10] Death animation component initialized
[04:27:07] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[04:27:07] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[04:27:07] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[04:27:07] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[04:27:07] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[04:27:07] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[04:27:07] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[04:27:07] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[04:27:07] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[04:27:07] [INFO] [ScoreManager] Level started with 10 enemies
[04:27:07] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 9)
[04:27:07] [ENEMY] [Enemy1] Registered as sound listener
[04:27:07] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[04:27:07] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 10)
[04:27:07] [ENEMY] [Enemy2] Registered as sound listener
[04:27:07] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[04:27:07] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 11)
[04:27:07] [ENEMY] [Enemy3] Registered as sound listener
[04:27:07] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[04:27:07] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 12)
[04:27:07] [ENEMY] [Enemy4] Registered as sound listener
[04:27:07] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[04:27:07] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 13)
[04:27:07] [ENEMY] [Enemy5] Registered as sound listener
[04:27:07] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[04:27:07] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 14)
[04:27:07] [ENEMY] [Enemy6] Registered as sound listener
[04:27:07] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[04:27:07] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 15)
[04:27:07] [ENEMY] [Enemy7] Registered as sound listener
[04:27:07] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[04:27:07] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 16)
[04:27:07] [ENEMY] [Enemy8] Registered as sound listener
[04:27:07] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[04:27:07] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 17)
[04:27:07] [ENEMY] [Enemy9] Registered as sound listener
[04:27:07] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[04:27:07] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 18)
[04:27:07] [ENEMY] [Enemy10] Registered as sound listener
[04:27:07] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[04:27:07] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[04:27:07] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[04:27:07] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[04:27:07] [INFO] [LastChance] Found player: Player
[04:27:07] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[04:27:07] [INFO] [LastChance] Connected to player Damaged signal (C#)
[04:27:07] [INFO] [LastChance] Connected to player Died signal (C#)
[04:27:07] [INFO] [Player] Detecting weapon pose (frame 3)...
[04:27:07] [INFO] [Player] Detected weapon: Rifle (default pose)
[04:27:07] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[04:27:08] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[04:27:08] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[04:27:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1171.731, 1535.008), source=ENEMY (Enemy10), range=1469, listeners=18
[04:27:08] [INFO] [SoundPropagation] Cleaned up 8 invalid listeners
[04:27:08] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=8
[04:27:08] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[04:27:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1139.423, 1516.307), source=ENEMY (Enemy10), range=1469, listeners=10
[04:27:08] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[04:27:08] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[04:27:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1107.906, 1496.302), source=ENEMY (Enemy10), range=1469, listeners=10
[04:27:08] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[04:27:09] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[04:27:09] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1077.226, 1475.035), source=ENEMY (Enemy10), range=1469, listeners=10
[04:27:09] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[04:27:09] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[04:27:09] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1047.428, 1452.549), source=ENEMY (Enemy10), range=1469, listeners=10
[04:27:09] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[04:27:09] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1108.874, 1508.939), shooter_id=1977262017270, bullet_pos=(53.14801, 921.1365)
[04:27:09] [INFO] [Bullet] Using shooter_position, distance=1208.33337402344
[04:27:09] [INFO] [Bullet] Distance to wall: 1208.33337402344 (82.277641366406% of viewport)
[04:27:09] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[04:27:09] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1077.684, 1487.691), shooter_id=1977262017270, bullet_pos=(46.85162, 857.2495)
[04:27:09] [INFO] [Bullet] Using shooter_position, distance=1208.33435058594
[04:27:09] [INFO] [Bullet] Distance to wall: 1208.33435058594 (82.2777078623423% of viewport)
[04:27:09] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1108.874, 1508.939), shooter_id=1977262017270, bullet_pos=(423.4172, 702.5027)
[04:27:09] [INFO] [Bullet] Using shooter_position, distance=1058.39050292969
[04:27:09] [INFO] [Bullet] Distance to wall: 1058.39050292969 (72.067755553005% of viewport)
[04:27:09] [INFO] [Bullet] Distance-based penetration chance: 62.5876185214942%
[04:27:09] [INFO] [Bullet] Penetration failed (distance roll)
[04:27:09] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1047.382, 1465.197), shooter_id=1977262017270, bullet_pos=(43.06916, 793.3154)
[04:27:09] [INFO] [Bullet] Using shooter_position, distance=1208.33349609375
[04:27:09] [INFO] [Bullet] Distance to wall: 1208.33349609375 (82.277649678398% of viewport)
[04:27:09] [INFO] [Bullet] Distance-based penetration chance: 50.6760753752023%
[04:27:09] [INFO] [Bullet] Starting wall penetration at (43.06916, 793.3154)
[04:27:09] [INFO] [Bullet] Raycast backward hit penetrating body at distance 33.3488731384277
[04:27:09] [INFO] [Bullet] Body exited signal received for penetrating body
[04:27:09] [INFO] [Bullet] Exiting penetration at (4.281879, 767.3669) after traveling 41.6666679382324 pixels through wall
[04:27:09] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[04:27:09] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1077.684, 1487.691), shooter_id=1977262017270, bullet_pos=(370.4507, 701.415)
[04:27:09] [INFO] [Bullet] Using shooter_position, distance=1057.54858398438
[04:27:09] [INFO] [Bullet] Distance to wall: 1057.54858398438 (72.0104277438663% of viewport)
[04:27:09] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1018.01, 1441.508), shooter_id=1977262017270, bullet_pos=(41.67921, 729.5751)
[04:27:09] [INFO] [Bullet] Using shooter_position, distance=1208.33349609375
[04:27:09] [INFO] [Bullet] Distance to wall: 1208.33349609375 (82.277649678398% of viewport)
[04:27:09] [INFO] [Bullet] Distance-based penetration chance: 50.6760753752023%
[04:27:09] [INFO] [Bullet] Starting wall penetration at (41.67921, 729.5751)
[04:27:09] [INFO] [Bullet] Raycast backward hit penetrating body at distance 34.6874122619629
[04:27:09] [INFO] [Bullet] Body exited signal received for penetrating body
[04:27:09] [INFO] [Bullet] Exiting penetration at (3.972645, 702.0798) after traveling 41.6666679382324 pixels through wall
[04:27:09] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[04:27:09] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[04:27:09] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(989.6003, 1416.68), shooter_id=1977262017270, bullet_pos=(42.53408, 666.2555)
[04:27:09] [INFO] [Bullet] Using shooter_position, distance=1208.33422851563
[04:27:09] [INFO] [Bullet] Distance to wall: 1208.33422851563 (82.2776995503503% of viewport)
[04:27:09] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1077.684, 1487.691), shooter_id=1977262017270, bullet_pos=(694.9617, 871.2137)
[04:27:09] [INFO] [Bullet] Using shooter_position, distance=725.617431640625
[04:27:09] [INFO] [Bullet] Distance to wall: 725.617431640625 (49.408625213212% of viewport)
[04:27:09] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(989.6003, 1416.68), shooter_id=1977262017270, bullet_pos=(296.8824, 465.9532)
[04:27:09] [INFO] [Bullet] Using shooter_position, distance=1176.32470703125
[04:27:09] [INFO] [Bullet] Distance to wall: 1176.32470703125 (80.0981123721594% of viewport)
[04:27:09] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1077.684, 1487.691), shooter_id=1977262017270, bullet_pos=(513.846, 976.9241)
[04:27:09] [INFO] [Bullet] Using shooter_position, distance=760.786499023438
[04:27:09] [INFO] [Bullet] Distance to wall: 760.786499023438 (51.8033516815201% of viewport)
[04:27:09] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1077.684, 1487.691), shooter_id=1977262017270, bullet_pos=(556.337, 1000.308)
[04:27:09] [INFO] [Bullet] Using shooter_position, distance=713.683776855469
[04:27:09] [INFO] [Bullet] Distance to wall: 713.683776855469 (48.5960407148345% of viewport)
[04:27:09] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[04:27:09] [ENEMY] [Enemy2] Heard gunshot at (684.4485, 753.7583), source_type=1, intensity=0.02, distance=350
[04:27:09] [ENEMY] [Enemy4] Heard gunshot at (684.4485, 753.7583), source_type=1, intensity=0.07, distance=186
[04:27:09] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[04:27:09] [ENEMY] [Enemy2] Hit taken, health: 3/4
[04:27:09] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[04:27:09] [INFO] [ImpactEffects] spawn_blood_effect called at (400, 550), dir=(0.675869, 0.737022), lethal=false
[04:27:09] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[04:27:09] [INFO] [ImpactEffects] Blood decals scheduled: 28 (2 merged splatters, 8 satellite drops)
[04:27:09] [INFO] [ImpactEffects] Blood effect spawned at (400, 550) (scale=1)
[04:27:09] [INFO] [LastChance] Threat detected: Bullet
[04:27:09] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[04:27:09] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:27:09] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(458.0752, 741.9928), source=PLAYER (AssaultRifle), range=1469, listeners=10
[04:27:09] [ENEMY] [Enemy1] Heard gunshot at (458.0752, 741.9928), source_type=0, intensity=0.01, distance=423
[04:27:09] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[04:27:09] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[04:27:09] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[04:27:09] [INFO] [LastChance] Threat detected: @Area2D@2040
[04:27:09] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[04:27:09] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:27:09] [ENEMY] [Enemy3] Hit taken, health: 1/2
[04:27:09] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[04:27:09] [INFO] [ImpactEffects] spawn_blood_effect called at (684.4485, 753.7583), dir=(1, 0), lethal=false
[04:27:09] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[04:27:09] [INFO] [ImpactEffects] Blood decals scheduled: 27 (1 merged splatters, 6 satellite drops)
[04:27:09] [INFO] [ImpactEffects] Blood effect spawned at (684.4485, 753.7583) (scale=1)
[04:27:09] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(474.6165, 734.0681), source=PLAYER (AssaultRifle), range=1469, listeners=10
[04:27:09] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[04:27:10] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1077.684, 1487.691), shooter_id=1977262017270, bullet_pos=(727.1729, 887.5964)
[04:27:10] [INFO] [Bullet] Using shooter_position, distance=694.961608886719
[04:27:10] [INFO] [Bullet] Distance to wall: 694.961608886719 (47.3212138708112% of viewport)
[04:27:10] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[04:27:10] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[04:27:10] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[04:27:10] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[04:27:10] [ENEMY] [Enemy4] Hit taken, health: 2/3
[04:27:10] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[04:27:10] [INFO] [ImpactEffects] spawn_blood_effect called at (772.0608, 910.8337), dir=(0.872113, 0.489305), lethal=false
[04:27:10] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[04:27:10] [INFO] [ImpactEffects] Blood decals scheduled: 27 (1 merged splatters, 6 satellite drops)
[04:27:10] [INFO] [ImpactEffects] Blood effect spawned at (772.0608, 910.8337) (scale=1)
[04:27:10] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[04:27:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[04:27:10] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[04:27:10] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(616.5468, 760.2912), shooter_id=1975265527754, bullet_pos=(49.97857, 749.7225)
[04:27:10] [INFO] [Bullet] Using shooter_position, distance=566.666748046875
[04:27:10] [INFO] [Bullet] Distance to wall: 566.666748046875 (38.5853808827794% of viewport)
[04:27:10] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:27:10] [INFO] [Bullet] Starting wall penetration at (49.97857, 749.7225)
[04:27:10] [INFO] [LastChance] Threat detected: @Area2D@2047
[04:27:10] [INFO] [LastChance] Player health is 3.0 - effect requires exactly 1 HP or less but alive
[04:27:10] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:27:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(500.2183, 738.5435), source=PLAYER (AssaultRifle), range=1469, listeners=10
[04:27:10] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[04:27:10] [INFO] [Bullet] Raycast backward hit penetrating body at distance 20.3516387939453
[04:27:10] [INFO] [Bullet] Body exited signal received for penetrating body
[04:27:10] [INFO] [Bullet] Exiting penetration at (11.6519, 749.0075) after traveling 33.3333358764648 pixels through wall
[04:27:10] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[04:27:10] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[04:27:10] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[04:27:10] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[04:27:10] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[04:27:10] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(474.61646, 734.0681), shooter_id=1978084101200, bullet_pos=(932.77496, 721.4108)
[04:27:10] [INFO] [Bullet] Using shooter_position, distance=458,3333
[04:27:10] [INFO] [Bullet] Distance to wall: 458,3333 (31,20876% of viewport)
[04:27:10] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:27:10] [INFO] [Bullet] Starting wall penetration at (932.77496, 721.4108)
[04:27:10] [ENEMY] [Enemy3] Hit taken, health: 0/2
[04:27:10] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[04:27:10] [INFO] [ImpactEffects] spawn_blood_effect called at (686.478, 754.4156), dir=(1, 0), lethal=true
[04:27:10] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[04:27:10] [INFO] [ImpactEffects] Blood decals scheduled: 61 (10 merged splatters, 21 satellite drops)
[04:27:10] [INFO] [ImpactEffects] Blood effect spawned at (686.478, 754.4156) (scale=1.5)
[04:27:10] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[04:27:10] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[04:27:10] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[04:27:10] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[04:27:10] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[04:27:10] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[04:27:10] [INFO] [Bullet] Raycast backward hit penetrating body at distance 35,10708
[04:27:10] [INFO] [Bullet] Body exited signal received for penetrating body
[04:27:10] [INFO] [Bullet] Exiting penetration at (971.0937, 720.35223) after traveling 33,333336 pixels through wall
[04:27:10] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[04:27:10] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[04:27:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(528.5362, 759.5564), source=PLAYER (AssaultRifle), range=1469, listeners=9
[04:27:10] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[04:27:10] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[04:27:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(550.4699, 785.6711), source=PLAYER (AssaultRifle), range=1469, listeners=9
[04:27:10] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[04:27:10] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(528.5362, 759.5564), shooter_id=1978084101200, bullet_pos=(917.3813, 712.62744)
[04:27:10] [INFO] [Bullet] Using shooter_position, distance=391,66672
[04:27:10] [INFO] [Bullet] Distance to wall: 391,66672 (26,669308% of viewport)
[04:27:10] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:27:10] [INFO] [Bullet] Starting wall penetration at (917.3813, 712.62744)
[04:27:10] [ENEMY] [Enemy4] State: SUPPRESSED -> SEEKING_COVER
[04:27:10] [INFO] [Bullet] Raycast backward hit penetrating body at distance 19,579533
[04:27:10] [INFO] [Bullet] Body exited signal received for penetrating body
[04:27:10] [INFO] [Bullet] Exiting penetration at (955.4385, 708.0344) after traveling 33,333332 pixels through wall
[04:27:10] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[04:27:10] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[04:27:10] [ENEMY] [Enemy4] State: SEEKING_COVER -> IN_COVER
[04:27:10] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[04:27:10] [ENEMY] [Enemy4] State: SUPPRESSED -> SEEKING_COVER
[04:27:10] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(550.4699, 785.67114), shooter_id=1978084101200, bullet_pos=(935.76215, 715.2945)
[04:27:10] [INFO] [Bullet] Using shooter_position, distance=391,66693
[04:27:10] [INFO] [Bullet] Distance to wall: 391,66693 (26,669323% of viewport)
[04:27:10] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:27:10] [INFO] [Bullet] Starting wall penetration at (935.76215, 715.2945)
[04:27:10] [INFO] [Bullet] Raycast backward hit penetrating body at distance 38,091576
[04:27:10] [INFO] [Bullet] Body exited signal received for penetrating body
[04:27:10] [INFO] [Bullet] Exiting penetration at (973.4716, 708.40656) after traveling 33,333332 pixels through wall
[04:27:10] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[04:27:10] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(550.4699, 785.67114), shooter_id=1978084101200, bullet_pos=(973.4716, 708.40656)
[04:27:10] [INFO] [Bullet] Using shooter_position, distance=430,0003
[04:27:10] [INFO] [Bullet] Distance to wall: 430,0003 (29,279512% of viewport)
[04:27:10] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:27:10] [INFO] [Bullet] Starting wall penetration at (973.4716, 708.40656)
[04:27:10] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[04:27:10] [INFO] [Bullet] Exiting penetration at (1011.1811, 701.5186) after traveling 33,333332 pixels through wall
[04:27:10] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[04:27:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(770.7862, 924.6882), source=ENEMY (Enemy4), range=1469, listeners=9
[04:27:10] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=8
[04:27:10] [INFO] [LastChance] Threat detected: Bullet
[04:27:10] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[04:27:10] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:27:10] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[04:27:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(799.0215, 942.6439), source=ENEMY (Enemy4), range=1469, listeners=9
[04:27:10] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=8
[04:27:10] [INFO] [LastChance] Threat detected: Bullet
[04:27:10] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[04:27:10] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:27:10] [ENEMY] [Enemy3] Ragdoll activated
[04:27:10] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[04:27:10] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[04:27:10] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[04:27:10] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[04:27:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(831.4398, 952.1662), source=ENEMY (Enemy4), range=1469, listeners=9
[04:27:10] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=8
[04:27:10] [ENEMY] [Enemy10] FLANKING started: target=(762.6635, 870.9588), side=left, pos=(1022.594, 1432.37)
[04:27:10] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[04:27:10] [INFO] [LastChance] Threat detected: Bullet
[04:27:10] [INFO] [LastChance] Triggering last chance effect!
[04:27:10] [INFO] [LastChance] Starting last chance effect:
[04:27:10] [INFO] [LastChance]   - Time will be frozen (except player)
[04:27:10] [INFO] [LastChance]   - Duration: 6.0 real seconds
[04:27:10] [INFO] [LastChance]   - Sepia intensity: 0.70
[04:27:10] [INFO] [LastChance]   - Brightness: 0.60
[04:27:10] [INFO] [LastChance] Pushed bullet Bullet from distance 128.9 to 200.0
[04:27:10] [INFO] [LastChance] Pushed 1 threatening bullets away from player
[04:27:10] [INFO] [LastChance] Set player Player and all 18 children to PROCESS_MODE_ALWAYS
[04:27:10] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[04:27:10] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[04:27:10] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[04:27:10] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[04:27:10] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[04:27:10] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[04:27:10] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[04:27:10] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[04:27:10] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[04:27:10] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[04:27:10] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[04:27:10] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[04:27:10] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[04:27:10] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[04:27:10] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[04:27:10] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[04:27:10] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[04:27:10] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[04:27:10] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[04:27:10] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[04:27:10] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[04:27:10] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[04:27:10] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[04:27:10] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[04:27:10] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[04:27:10] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[04:27:10] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[04:27:10] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[04:27:10] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[04:27:10] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[04:27:10] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[04:27:10] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[04:27:10] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[04:27:10] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[04:27:10] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[04:27:10] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[04:27:10] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[04:27:10] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[04:27:10] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[04:27:10] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[04:27:10] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[04:27:10] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[04:27:10] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[04:27:10] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[04:27:10] [INFO] [LastChance] Skipping player node: Player
[04:27:10] [INFO] [LastChance] Froze existing bullet casing: Casing
[04:27:10] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2020
[04:27:10] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2022
[04:27:10] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2024
[04:27:10] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2026
[04:27:10] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2037
[04:27:10] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2039
[04:27:10] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2041
[04:27:10] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2044
[04:27:10] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2048
[04:27:10] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2051
[04:27:10] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2060
[04:27:10] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2072
[04:27:10] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2100
[04:27:10] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2115
[04:27:10] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2136
[04:27:10] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[04:27:10] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[04:27:10] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[04:27:10] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@2146
[04:27:10] [INFO] [LastChance] Registered frozen player bullet: @Area2D@2146
[04:27:10] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@2147
[04:27:10] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@2147
[04:27:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(578.8233, 936.7271), source=PLAYER (AssaultRifle), range=1469, listeners=9
[04:27:10] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[04:27:11] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@2157
[04:27:11] [INFO] [LastChance] Registered frozen player bullet: @Area2D@2157
[04:27:11] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@2158
[04:27:11] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@2158
[04:27:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(604.1316, 958.1337), source=PLAYER (AssaultRifle), range=1469, listeners=9
[04:27:11] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[04:27:11] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@2159
[04:27:11] [INFO] [LastChance] Registered frozen player bullet: @Area2D@2159
[04:27:11] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@2160
[04:27:11] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@2160
[04:27:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(635.1992, 967.2237), source=PLAYER (AssaultRifle), range=1469, listeners=9
[04:27:11] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[04:27:13] [INFO] [ScoreManager] Combo ended at 1. Max combo: 1
[04:27:13] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@2161
[04:27:13] [INFO] [LastChance] Registered frozen player bullet: @Area2D@2161
[04:27:13] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@2162
[04:27:13] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@2162
[04:27:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(844.5474, 581.6203), source=PLAYER (AssaultRifle), range=1469, listeners=9
[04:27:13] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[04:27:14] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@2163
[04:27:14] [INFO] [LastChance] Registered frozen player bullet: @Area2D@2163
[04:27:14] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@2164
[04:27:14] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@2164
[04:27:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(861.9023, 557.9744), source=PLAYER (AssaultRifle), range=1469, listeners=9
[04:27:14] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[04:27:14] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@2165
[04:27:14] [INFO] [LastChance] Registered frozen player bullet: @Area2D@2165
[04:27:14] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@2166
[04:27:14] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@2166
[04:27:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(890.1447, 546.5037), source=PLAYER (AssaultRifle), range=1469, listeners=9
[04:27:14] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[04:27:14] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[04:27:14] [ENEMY] [Enemy1] Player reloading state changed: false -> true
[04:27:14] [ENEMY] [Enemy2] Player reloading state changed: false -> true
[04:27:14] [ENEMY] [Enemy4] Player reloading state changed: false -> true
[04:27:14] [ENEMY] [Enemy5] Player reloading state changed: false -> true
[04:27:14] [ENEMY] [Enemy6] Player reloading state changed: false -> true
[04:27:14] [ENEMY] [Enemy7] Player reloading state changed: false -> true
[04:27:14] [ENEMY] [Enemy8] Player reloading state changed: false -> true
[04:27:14] [ENEMY] [Enemy9] Player reloading state changed: false -> true
[04:27:14] [ENEMY] [Enemy10] Player reloading state changed: false -> true
[04:27:14] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(1032.836, 671.9979), source=PLAYER (Player), range=900, listeners=9
[04:27:14] [ENEMY] [Enemy4] Heard player RELOAD at (1032.836, 671.9979), intensity=0.02, distance=345
[04:27:14] [ENEMY] [Enemy4] Vulnerability sound triggered pursuit - transitioning from SEEKING_COVER to PURSUING
[04:27:14] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=5
[04:27:15] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[04:27:15] [INFO] [Player.Reload.Anim] Phase changed to: PullBolt (duration: 0,35s)
[04:27:15] [ENEMY] [Enemy1] Player reloading state changed: true -> false
[04:27:15] [ENEMY] [Enemy2] Player reloading state changed: true -> false
[04:27:15] [ENEMY] [Enemy4] Player reloading state changed: true -> false
[04:27:15] [ENEMY] [Enemy5] Player reloading state changed: true -> false
[04:27:15] [ENEMY] [Enemy6] Player reloading state changed: true -> false
[04:27:15] [ENEMY] [Enemy7] Player reloading state changed: true -> false
[04:27:15] [ENEMY] [Enemy8] Player reloading state changed: true -> false
[04:27:15] [ENEMY] [Enemy9] Player reloading state changed: true -> false
[04:27:15] [ENEMY] [Enemy10] Player reloading state changed: true -> false
[04:27:15] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[04:27:15] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[04:27:16] [INFO] [LastChance] Effect duration expired after 6.00 real seconds
[04:27:16] [INFO] [LastChance] Ending last chance effect
[04:27:16] [INFO] [LastChance] All process modes restored
[04:27:16] [INFO] [LastChance] Unfroze player bullet: @Area2D@2146
[04:27:16] [INFO] [LastChance] Unfroze player bullet: @Area2D@2157
[04:27:16] [INFO] [LastChance] Unfroze player bullet: @Area2D@2159
[04:27:16] [INFO] [LastChance] Unfroze player bullet: @Area2D@2161
[04:27:16] [INFO] [LastChance] Unfroze player bullet: @Area2D@2163
[04:27:16] [INFO] [LastChance] Unfroze player bullet: @Area2D@2165
[04:27:16] [INFO] [LastChance] Unfroze bullet casing: Casing
[04:27:16] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2020
[04:27:16] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2022
[04:27:16] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2024
[04:27:16] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2026
[04:27:16] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2037
[04:27:16] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2039
[04:27:16] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2041
[04:27:16] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2044
[04:27:16] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2048
[04:27:16] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2051
[04:27:16] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2060
[04:27:16] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2072
[04:27:16] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2100
[04:27:16] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2115
[04:27:16] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2136
[04:27:16] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2147
[04:27:16] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2158
[04:27:16] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2160
[04:27:16] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2162
[04:27:16] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2164
[04:27:16] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2166
[04:27:16] [INFO] [LastChance] Restored original colors to 5 player sprites
[04:27:16] [INFO] [LastChance] Called player RefreshHealthVisual (C#)
[04:27:16] [ENEMY] [Enemy4] Pursuing vulnerability sound at (1032.836, 671.9979), distance=345
[04:27:17] [ENEMY] [Enemy4] Hit taken, health: 1/3
[04:27:17] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[04:27:17] [INFO] [ImpactEffects] spawn_blood_effect called at (839.3746, 933.4618), dir=(1, 0), lethal=false
[04:27:17] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[04:27:17] [INFO] [ImpactEffects] Blood decals scheduled: 26 (4 merged splatters, 3 satellite drops)
[04:27:17] [INFO] [ImpactEffects] Wall found for blood splatter at (912, 933.4618) (dist=72 px)
[04:27:17] [INFO] [ImpactEffects] Blood effect spawned at (839.3746, 933.4618) (scale=1)
[04:27:17] [ENEMY] [Enemy4] Hit taken, health: 0/3
[04:27:17] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[04:27:17] [INFO] [ImpactEffects] spawn_blood_effect called at (840.0935, 928.1771), dir=(1, 0), lethal=true
[04:27:17] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[04:27:17] [INFO] [ImpactEffects] Blood decals scheduled: 47 (10 merged splatters, 12 satellite drops)
[04:27:17] [INFO] [ImpactEffects] Wall found for blood splatter at (912, 928.1771) (dist=71 px)
[04:27:17] [INFO] [ImpactEffects] Blood effect spawned at (840.0935, 928.1771) (scale=1.5)
[04:27:17] [ENEMY] [Enemy4] Enemy died (ricochet: false, penetration: false)
[04:27:17] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[04:27:17] [INFO] [SoundPropagation] Unregistered listener: Enemy4 (remaining: 8)
[04:27:17] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[04:27:17] [ENEMY] [Enemy4] Death animation started with hit direction: (1, 0)
[04:27:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(760.6943, 946.1436), shooter_id=1975550741581, bullet_pos=(527.9303, 900.3997)
[04:27:17] [INFO] [Bullet] Using shooter_position, distance=237.216354370117
[04:27:17] [INFO] [Bullet] Distance to wall: 237.216354370117 (16.1524977714736% of viewport)
[04:27:17] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:27:17] [INFO] [Bullet] Starting wall penetration at (527.9303, 900.3997)
[04:27:17] [INFO] [Bullet] Raycast backward hit penetrating body at distance 9.91131687164307
[04:27:17] [INFO] [Bullet] Body exited signal received for penetrating body
[04:27:17] [INFO] [Bullet] Exiting penetration at (490.2602, 893.2999) after traveling 33.3333320617676 pixels through wall
[04:27:17] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[04:27:17] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[04:27:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(844.5474, 581.6203), shooter_id=1978084101200, bullet_pos=(496.4329, 696.77594)
[04:27:17] [INFO] [Bullet] Using shooter_position, distance=366,6668
[04:27:17] [INFO] [Bullet] Distance to wall: 366,6668 (24,967018% of viewport)
[04:27:17] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:27:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(578.8233, 936.7271), shooter_id=1978084101200, bullet_pos=(936.41907, 855.67346)
[04:27:17] [INFO] [Bullet] Using shooter_position, distance=366,66663
[04:27:17] [INFO] [Bullet] Distance to wall: 366,66663 (24,967007% of viewport)
[04:27:17] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:27:17] [ENEMY] [Enemy10] State: FLANKING -> COMBAT
[04:27:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(861.9023, 557.97437), shooter_id=1978084101200, bullet_pos=(448.84686, 688.9819)
[04:27:17] [INFO] [Bullet] Using shooter_position, distance=433,3333
[04:27:17] [INFO] [Bullet] Distance to wall: 433,3333 (29,506462% of viewport)
[04:27:17] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:27:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(890.14465, 546.50366), shooter_id=1978084101200, bullet_pos=(409.76233, 685.1866)
[04:27:17] [INFO] [Bullet] Using shooter_position, distance=500,00012
[04:27:17] [INFO] [Bullet] Distance to wall: 500,00012 (34,04593% of viewport)
[04:27:17] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:27:17] [INFO] [Bullet] Starting wall penetration at (409.76233, 685.1866)
[04:27:17] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[04:27:17] [INFO] [Bullet] Exiting penetration at (372.933, 695.819) after traveling 33,333336 pixels through wall
[04:27:17] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[04:27:17] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[04:27:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(968.2225, 1413.988), source=ENEMY (Enemy10), range=1469, listeners=8
[04:27:17] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=7
[04:27:17] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[04:27:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(958.6906, 1385.604), source=ENEMY (Enemy10), range=1469, listeners=8
[04:27:17] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=7
[04:27:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(861.9023, 557.97437), shooter_id=1978084101200, bullet_pos=(59.83136, 505.76926)
[04:27:17] [INFO] [Bullet] Using shooter_position, distance=803,76807
[04:27:17] [INFO] [Bullet] Distance to wall: 803,76807 (54,730045% of viewport)
[04:27:17] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[04:27:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(956.7657, 1352.524), source=ENEMY (Enemy10), range=1469, listeners=8
[04:27:17] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=7
[04:27:17] [INFO] [LastChance] Threat detected: Bullet
[04:27:17] [INFO] [LastChance] Effect already used this life
[04:27:17] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:27:17] [ENEMY] [Enemy1] Hit taken, health: 3/4
[04:27:17] [ENEMY] [Enemy1] ImpactEffectsManager found, calling spawn_blood_effect
[04:27:17] [INFO] [ImpactEffects] spawn_blood_effect called at (242.334, 401.9332), dir=(1, 0), lethal=false
[04:27:17] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[04:27:17] [INFO] [ImpactEffects] Blood decals scheduled: 29 (5 merged splatters, 12 satellite drops)
[04:27:17] [INFO] [ImpactEffects] Blood effect spawned at (242.334, 401.9332) (scale=1)
[04:27:17] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[04:27:17] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[04:27:17] [INFO] [PenultimateHit] Player died - ending penultimate effect
[04:27:17] [INFO] [LastChance] Player died
[04:27:17] [INFO] [LastChance] Threat detected: @Area2D@2176
[04:27:17] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[04:27:17] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:27:17] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[04:27:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(956.5265, 1318.391), source=ENEMY (Enemy10), range=1469, listeners=8
[04:27:17] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=7
[04:27:17] [ENEMY] [Enemy4] Ragdoll activated
[04:27:17] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[04:27:17] [ENEMY] [Enemy1] State: PURSUING -> RETREATING
[04:27:17] [ENEMY] [Enemy1] State: RETREATING -> IN_COVER
[04:27:17] [INFO] [LastChance] Threat detected: @Area2D@2188
[04:27:17] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[04:27:17] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:27:17] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[04:27:17] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[04:27:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(956.2872, 1284.258), source=ENEMY (Enemy10), range=1469, listeners=8
[04:27:17] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=7
[04:27:17] [INFO] [LastChance] Threat detected: Bullet
[04:27:17] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[04:27:17] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:27:17] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[04:27:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(956.048, 1250.125), source=ENEMY (Enemy10), range=1469, listeners=8
[04:27:17] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=7
[04:27:17] [INFO] [LastChance] Threat detected: @Area2D@2203
[04:27:17] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[04:27:17] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:27:18] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[04:27:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(955.8087, 1215.993), source=ENEMY (Enemy10), range=1469, listeners=8
[04:27:18] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=7
[04:27:18] [INFO] [LastChance] Threat detected: @Area2D@2207
[04:27:18] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[04:27:18] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:27:18] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[04:27:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(955.5695, 1181.86), source=ENEMY (Enemy10), range=1469, listeners=8
[04:27:18] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=7
[04:27:18] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[04:27:18] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[04:27:18] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[04:27:18] [INFO] [LastChance] Resetting all effects (scene change detected)
[04:27:18] [ENEMY] [Enemy1] Death animation component initialized
[04:27:18] [ENEMY] [Enemy2] Death animation component initialized
[04:27:18] [ENEMY] [Enemy3] Death animation component initialized
[04:27:18] [ENEMY] [Enemy4] Death animation component initialized
[04:27:18] [ENEMY] [Enemy5] Death animation component initialized
[04:27:18] [ENEMY] [Enemy6] Death animation component initialized
[04:27:18] [ENEMY] [Enemy7] Death animation component initialized
[04:27:18] [ENEMY] [Enemy8] Death animation component initialized
[04:27:18] [ENEMY] [Enemy9] Death animation component initialized
[04:27:18] [ENEMY] [Enemy10] Death animation component initialized
[04:27:18] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[04:27:18] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[04:27:18] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[04:27:18] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[04:27:18] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[04:27:18] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[04:27:18] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[04:27:18] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[04:27:18] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[04:27:18] [INFO] [ScoreManager] Level started with 10 enemies
[04:27:18] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 9)
[04:27:18] [ENEMY] [Enemy1] Registered as sound listener
[04:27:18] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[04:27:18] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 10)
[04:27:18] [ENEMY] [Enemy2] Registered as sound listener
[04:27:18] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[04:27:18] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 11)
[04:27:18] [ENEMY] [Enemy3] Registered as sound listener
[04:27:18] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[04:27:18] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 12)
[04:27:18] [ENEMY] [Enemy4] Registered as sound listener
[04:27:18] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[04:27:18] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 13)
[04:27:18] [ENEMY] [Enemy5] Registered as sound listener
[04:27:18] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[04:27:18] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 14)
[04:27:18] [ENEMY] [Enemy6] Registered as sound listener
[04:27:18] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[04:27:18] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 15)
[04:27:18] [ENEMY] [Enemy7] Registered as sound listener
[04:27:18] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[04:27:18] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 16)
[04:27:18] [ENEMY] [Enemy8] Registered as sound listener
[04:27:18] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[04:27:18] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 17)
[04:27:18] [ENEMY] [Enemy9] Registered as sound listener
[04:27:18] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[04:27:18] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 18)
[04:27:18] [ENEMY] [Enemy10] Registered as sound listener
[04:27:18] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[04:27:18] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[04:27:18] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[04:27:18] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[04:27:18] [INFO] [LastChance] Found player: Player
[04:27:18] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[04:27:18] [INFO] [LastChance] Connected to player Damaged signal (C#)
[04:27:18] [INFO] [LastChance] Connected to player Died signal (C#)
[04:27:18] [INFO] [Player] Detecting weapon pose (frame 3)...
[04:27:18] [INFO] [Player] Detected weapon: Rifle (default pose)
[04:27:18] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[04:27:18] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[04:27:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1144.004, 1519.036), source=ENEMY (Enemy10), range=1469, listeners=18
[04:27:19] [INFO] [SoundPropagation] Cleaned up 8 invalid listeners
[04:27:19] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[04:27:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1112.385, 1499.191), source=ENEMY (Enemy10), range=1469, listeners=10
[04:27:19] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[04:27:19] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[04:27:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1081.598, 1478.078), source=ENEMY (Enemy10), range=1469, listeners=10
[04:27:19] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[04:27:19] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[04:27:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1051.669, 1455.767), source=ENEMY (Enemy10), range=1469, listeners=10
[04:27:19] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[04:27:19] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[04:27:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1082.059, 1490.759), shooter_id=2304149293241, bullet_pos=(47.54776, 866.3744)
[04:27:19] [INFO] [Bullet] Using shooter_position, distance=1208.33349609375
[04:27:19] [INFO] [Bullet] Distance to wall: 1208.33349609375 (82.277649678398% of viewport)
[04:27:19] [INFO] [Bullet] Distance-based penetration chance: 50.6760753752023%
[04:27:19] [INFO] [Bullet] Starting wall penetration at (47.54776, 866.3744)
[04:27:19] [INFO] [Bullet] Raycast backward hit penetrating body at distance 28.5065212249756
[04:27:19] [INFO] [Bullet] Body exited signal received for penetrating body
[04:27:19] [INFO] [Bullet] Exiting penetration at (7.594219, 842.2602) after traveling 41.6666717529297 pixels through wall
[04:27:19] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[04:27:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1051.642, 1468.417), shooter_id=2304149293241, bullet_pos=(43.40149, 802.4432)
[04:27:19] [INFO] [Bullet] Using shooter_position, distance=1208.33361816406
[04:27:19] [INFO] [Bullet] Distance to wall: 1208.33361816406 (82.2776579903901% of viewport)
[04:27:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1051.642, 1468.417), shooter_id=2304149293241, bullet_pos=(159.9388, 713.3918)
[04:27:19] [INFO] [Bullet] Using shooter_position, distance=1168.41662597656
[04:27:19] [INFO] [Bullet] Distance to wall: 1168.41662597656 (79.5596365914669% of viewport)
[04:27:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1022.186, 1444.899), shooter_id=2304149293241, bullet_pos=(41.70113, 738.6998)
[04:27:19] [INFO] [Bullet] Using shooter_position, distance=1208.33276367188
[04:27:19] [INFO] [Bullet] Distance to wall: 1208.33276367188 (82.2775998064458% of viewport)
[04:27:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1022.186, 1444.899), shooter_id=2304149293241, bullet_pos=(108.7573, 703.2856)
[04:27:19] [INFO] [Bullet] Using shooter_position, distance=1176.5810546875
[04:27:19] [INFO] [Bullet] Distance to wall: 1176.5810546875 (80.1155675554552% of viewport)
[04:27:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1022.186, 1444.899), shooter_id=2304149293241, bullet_pos=(48.3006, 678.8495)
[04:27:19] [INFO] [Bullet] Using shooter_position, distance=1239.06616210938
[04:27:19] [INFO] [Bullet] Distance to wall: 1239.06616210938 (84.3702934197916% of viewport)
[04:27:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(993.6345, 1420.233), shooter_id=2304149293241, bullet_pos=(42.24186, 675.3027)
[04:27:19] [INFO] [Bullet] Using shooter_position, distance=1208.33325195313
[04:27:19] [INFO] [Bullet] Distance to wall: 1208.33325195313 (82.2776330544139% of viewport)
[04:27:19] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[04:27:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1051.642, 1468.417), shooter_id=2304149293241, bullet_pos=(511.191, 1005.061)
[04:27:20] [INFO] [Bullet] Using shooter_position, distance=711.888732910156
[04:27:20] [INFO] [Bullet] Distance to wall: 711.888732910156 (48.4738128718035% of viewport)
[04:27:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1051.642, 1468.417), shooter_id=2304149293241, bullet_pos=(507.0885, 1007.92)
[04:27:20] [INFO] [Bullet] Using shooter_position, distance=713.159362792969
[04:27:20] [INFO] [Bullet] Distance to wall: 713.159362792969 (48.5603323970065% of viewport)
[04:27:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(458.5185, 779.8748), source=PLAYER (AssaultRifle), range=1469, listeners=10
[04:27:20] [ENEMY] [Enemy1] Heard gunshot at (458.5185, 779.8748), source_type=0, intensity=0.01, distance=458
[04:27:20] [ENEMY] [Enemy2] Heard gunshot at (458.5185, 779.8748), source_type=0, intensity=0.04, distance=237
[04:27:20] [ENEMY] [Enemy4] Heard gunshot at (458.5185, 779.8748), source_type=0, intensity=0.02, distance=362
[04:27:20] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[04:27:20] [ENEMY] [Enemy2] Hit taken, health: 3/4
[04:27:20] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[04:27:20] [INFO] [ImpactEffects] spawn_blood_effect called at (400, 550), dir=(0.93468, -0.355491), lethal=false
[04:27:20] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[04:27:20] [INFO] [ImpactEffects] Blood decals scheduled: 26 (2 merged splatters, 6 satellite drops)
[04:27:20] [INFO] [ImpactEffects] Blood effect spawned at (400, 550) (scale=1)
[04:27:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[04:27:20] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[04:27:20] [INFO] [LastChance] Threat detected: @Area2D@2487
[04:27:20] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[04:27:20] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:27:20] [ENEMY] [Enemy3] Hit taken, health: 2/3
[04:27:20] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[04:27:20] [INFO] [ImpactEffects] spawn_blood_effect called at (684.4485, 753.7583), dir=(1, 0), lethal=false
[04:27:20] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[04:27:20] [INFO] [ImpactEffects] Blood decals scheduled: 26 (4 merged splatters, 8 satellite drops)
[04:27:20] [INFO] [ImpactEffects] Blood effect spawned at (684.4485, 753.7583) (scale=1)
[04:27:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(993.6345, 1420.233), shooter_id=2304149293241, bullet_pos=(503.5834, 401.9384)
[04:27:20] [INFO] [Bullet] Using shooter_position, distance=1130.0771484375
[04:27:20] [INFO] [Bullet] Distance to wall: 1130.0771484375 (76.9490310657495% of viewport)
[04:27:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(477.8507, 756.4524), source=PLAYER (AssaultRifle), range=1469, listeners=10
[04:27:20] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[04:27:20] [ENEMY] [Enemy3] Hit taken, health: 1/3
[04:27:20] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[04:27:20] [INFO] [ImpactEffects] spawn_blood_effect called at (684.4485, 753.7583), dir=(1, 0), lethal=false
[04:27:20] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[04:27:20] [INFO] [ImpactEffects] Blood decals scheduled: 24 (4 merged splatters, 6 satellite drops)
[04:27:20] [INFO] [ImpactEffects] Blood effect spawned at (684.4485, 753.7583) (scale=1)
[04:27:20] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[04:27:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[04:27:20] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[04:27:20] [INFO] [LastChance] Threat detected: @Area2D@2493
[04:27:20] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[04:27:20] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:27:20] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[04:27:20] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[04:27:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(504.3718, 745.4497), source=PLAYER (AssaultRifle), range=1469, listeners=10
[04:27:20] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[04:27:20] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[04:27:20] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[04:27:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(993.6345, 1420.233), shooter_id=2304149293241, bullet_pos=(268.8224, 268.7382)
[04:27:20] [INFO] [Bullet] Using shooter_position, distance=1360.62243652344
[04:27:20] [INFO] [Bullet] Distance to wall: 1360.62243652344 (92.6472836669241% of viewport)
[04:27:20] [INFO] [Bullet] Distance-based penetration chance: 38.5781690552553%
[04:27:20] [INFO] [Bullet] Penetration failed (distance roll)
[04:27:20] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[04:27:20] [ENEMY] [Enemy3] Hit taken, health: 0/3
[04:27:20] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[04:27:20] [INFO] [ImpactEffects] spawn_blood_effect called at (686.478, 754.4156), dir=(1, 0), lethal=true
[04:27:20] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[04:27:20] [INFO] [ImpactEffects] Blood decals scheduled: 54 (9 merged splatters, 18 satellite drops)
[04:27:20] [INFO] [ImpactEffects] Blood effect spawned at (686.478, 754.4156) (scale=1.5)
[04:27:20] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[04:27:20] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[04:27:20] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[04:27:20] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[04:27:20] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[04:27:20] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[04:27:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(532.4017, 747.0852), source=PLAYER (AssaultRifle), range=1469, listeners=9
[04:27:20] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[04:27:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1051.642, 1468.417), shooter_id=2304149293241, bullet_pos=(899.2446, 1397.97)
[04:27:20] [INFO] [Bullet] Using shooter_position, distance=167.89208984375
[04:27:20] [INFO] [Bullet] Distance to wall: 167.89208984375 (11.4320811237914% of viewport)
[04:27:20] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:27:20] [INFO] [Bullet] Starting wall penetration at (899.2446, 1397.97)
[04:27:20] [INFO] [Bullet] Raycast backward hit penetrating body at distance 4.4096794128418
[04:27:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=9
[04:27:20] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=4
[04:27:20] [INFO] [Bullet] Body exited signal received for penetrating body
[04:27:20] [INFO] [Bullet] Exiting penetration at (927.4633, 1426.037) after traveling 17.4002075195313 pixels through wall
[04:27:20] [INFO] [Bullet] Damage multiplier after penetration: 0.05625
[04:27:20] [ENEMY] [Enemy1] State: COMBAT -> RETREATING
[04:27:20] [INFO] [LastChance] Threat detected: @Area2D@2506
[04:27:20] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[04:27:20] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:27:20] [ENEMY] [Enemy1] State: RETREATING -> IN_COVER
[04:27:20] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[04:27:20] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[04:27:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(555.8845, 760.8199), source=PLAYER (AssaultRifle), range=1469, listeners=9
[04:27:20] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[04:27:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=9
[04:27:20] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=3
[04:27:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(532.40173, 747.0852), shooter_id=2304971377515, bullet_pos=(923.9914, 739.30615)
[04:27:20] [INFO] [Bullet] Using shooter_position, distance=391,66693
[04:27:20] [INFO] [Bullet] Distance to wall: 391,66693 (26,669323% of viewport)
[04:27:20] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:27:20] [INFO] [Bullet] Starting wall penetration at (923.9914, 739.30615)
[04:27:20] [INFO] [Bullet] Raycast backward hit penetrating body at distance 26,322393
[04:27:20] [INFO] [LastChance] Threat detected: @Area2D@2521
[04:27:20] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[04:27:20] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:27:20] [INFO] [Bullet] Body exited signal received for penetrating body
[04:27:20] [INFO] [Bullet] Exiting penetration at (962.3172, 738.5448) after traveling 33,333336 pixels through wall
[04:27:20] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[04:27:20] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[04:27:20] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[04:27:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(433.7451, 609.4899), shooter_id=2301867592993, bullet_pos=(696.6044, 865.1251)
[04:27:20] [INFO] [Bullet] Using shooter_position, distance=366.666564941406
[04:27:20] [INFO] [Bullet] Distance to wall: 366.666564941406 (24.9670006472203% of viewport)
[04:27:20] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:27:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=9
[04:27:20] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=3
[04:27:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(555.8845, 760.8199), shooter_id=2304971377515, bullet_pos=(913.7052, 741.6557)
[04:27:20] [INFO] [Bullet] Using shooter_position, distance=358,33353
[04:27:20] [INFO] [Bullet] Distance to wall: 358,33353 (24,39959% of viewport)
[04:27:20] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:27:20] [INFO] [Bullet] Starting wall penetration at (913.7052, 741.6557)
[04:27:20] [INFO] [Bullet] Raycast backward hit penetrating body at distance 16,006613
[04:27:20] [INFO] [Bullet] Body exited signal received for penetrating body
[04:27:20] [INFO] [Bullet] Exiting penetration at (951.9837, 739.6056) after traveling 33,333336 pixels through wall
[04:27:20] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[04:27:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(434.2815, 608.7302), shooter_id=2301867592993, bullet_pos=(491.9935, 690.3961)
[04:27:20] [INFO] [Bullet] Using shooter_position, distance=100.000022888184
[04:27:20] [INFO] [Bullet] Distance to wall: 100.000022888184 (6.80918544228405% of viewport)
[04:27:20] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:27:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=9
[04:27:20] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=3
[04:27:20] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[04:27:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(433.7451, 609.4899), shooter_id=2301867592993, bullet_pos=(557.6256, 1013.548)
[04:27:20] [INFO] [Bullet] Using shooter_position, distance=422.621978759766
[04:27:20] [INFO] [Bullet] Distance to wall: 422.621978759766 (28.7771076670455% of viewport)
[04:27:20] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:27:20] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[04:27:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(432.6614, 609.4688), shooter_id=2301867592993, bullet_pos=(475.1973, 699.9712)
[04:27:20] [INFO] [Bullet] Using shooter_position, distance=99.9999923706055
[04:27:20] [INFO] [Bullet] Distance to wall: 99.9999923706055 (6.80918336428604% of viewport)
[04:27:20] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:27:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(433.7451, 609.4899), shooter_id=2301867592993, bullet_pos=(518.9277, 977.0901)
[04:27:20] [INFO] [Bullet] Using shooter_position, distance=377.340759277344
[04:27:20] [INFO] [Bullet] Distance to wall: 377.340759277344 (25.6938261676669% of viewport)
[04:27:20] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:27:20] [INFO] [Bullet] Starting wall penetration at (518.9277, 977.0901)
[04:27:20] [INFO] [Bullet] Raycast backward hit penetrating body at distance 3.07862377166748
[04:27:20] [ENEMY] [Enemy2] State: SEEKING_COVER -> IN_COVER
[04:27:20] [INFO] [Bullet] Max penetration distance exceeded: 48.1666679382324 >= 48
[04:27:20] [INFO] [Bullet] Body exited signal received for penetrating body
[04:27:20] [INFO] [Bullet] Exiting penetration at (480.2299, 940.6323) after traveling 48.1666679382324 pixels through wall
[04:27:20] [INFO] [Bullet] Damage multiplier after penetration: 0.225
[04:27:20] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[04:27:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(432.6614, 609.4688), shooter_id=2301867592993, bullet_pos=(518.0795, 589.6812)
[04:27:20] [INFO] [Bullet] Using shooter_position, distance=87.6800918579102
[04:27:20] [INFO] [Bullet] Distance to wall: 87.6800918579102 (5.97029868407718% of viewport)
[04:27:20] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:27:20] [ENEMY] [Enemy4] State: PURSUING -> RETREATING
[04:27:21] [ENEMY] [Enemy3] Ragdoll activated
[04:27:21] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[04:27:21] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(578.4072, 892.7254), source=PLAYER (AssaultRifle), range=1469, listeners=9
[04:27:21] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[04:27:21] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(578.4072, 892.7254), shooter_id=2304971377515, bullet_pos=(703.4067, 892.35345)
[04:27:21] [INFO] [Bullet] Using shooter_position, distance=125,00001
[04:27:21] [INFO] [Bullet] Distance to wall: 125,00001 (8,51148% of viewport)
[04:27:21] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:27:21] [INFO] [Bullet] Starting wall penetration at (703.4067, 892.35345)
[04:27:21] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[04:27:21] [INFO] [Bullet] Exiting penetration at (741.73987, 892.2394) after traveling 33,333336 pixels through wall
[04:27:21] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[04:27:21] [ENEMY] [Enemy10] FLANKING started: target=(518.0943, 1091.931), side=right, pos=(1022.634, 1432.302)
[04:27:21] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[04:27:21] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(596.0118, 919.8044), source=PLAYER (AssaultRifle), range=1469, listeners=9
[04:27:21] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[04:27:21] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[04:27:21] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(793.0743, 906.7631), source=ENEMY (Enemy4), range=1469, listeners=9
[04:27:21] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=8
[04:27:21] [INFO] [LastChance] Threat detected: @Area2D@2607
[04:27:21] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[04:27:21] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:27:21] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[04:27:21] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[04:27:21] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[04:27:21] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(621.4774, 936.1666), source=PLAYER (AssaultRifle), range=1469, listeners=9
[04:27:21] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[04:27:21] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(596.0118, 919.8044), shooter_id=2304971377515, bullet_pos=(918.3985, 960.9372)
[04:27:21] [INFO] [Bullet] Using shooter_position, distance=325,00015
[04:27:21] [INFO] [Bullet] Distance to wall: 325,00015 (22,12986% of viewport)
[04:27:21] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:27:21] [INFO] [Bullet] Starting wall penetration at (918.3985, 960.9372)
[04:27:21] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[04:27:21] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(814.9609, 897.2256), source=ENEMY (Enemy4), range=1469, listeners=9
[04:27:21] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=8
[04:27:21] [INFO] [Bullet] Raycast backward hit penetrating body at distance 20,589151
[04:27:21] [INFO] [LastChance] Threat detected: @Area2D@2612
[04:27:21] [INFO] [LastChance] Triggering last chance effect!
[04:27:21] [INFO] [LastChance] Starting last chance effect:
[04:27:21] [INFO] [LastChance]   - Time will be frozen (except player)
[04:27:21] [INFO] [LastChance]   - Duration: 6.0 real seconds
[04:27:21] [INFO] [LastChance]   - Sepia intensity: 0.70
[04:27:21] [INFO] [LastChance]   - Brightness: 0.60
[04:27:21] [INFO] [LastChance] Pushed bullet @Area2D@2609 from distance 84.8 to 200.0
[04:27:21] [INFO] [LastChance] Pushed bullet @Area2D@2612 from distance 121.9 to 200.0
[04:27:21] [INFO] [LastChance] Pushed 2 threatening bullets away from player
[04:27:21] [INFO] [LastChance] Set player Player and all 18 children to PROCESS_MODE_ALWAYS
[04:27:21] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[04:27:21] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[04:27:21] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[04:27:21] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[04:27:21] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[04:27:21] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[04:27:21] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[04:27:21] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[04:27:21] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[04:27:21] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[04:27:21] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[04:27:21] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[04:27:21] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[04:27:21] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[04:27:21] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[04:27:21] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[04:27:21] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[04:27:21] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[04:27:21] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[04:27:21] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[04:27:21] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[04:27:21] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[04:27:21] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[04:27:21] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[04:27:21] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[04:27:21] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[04:27:21] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[04:27:21] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[04:27:21] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[04:27:21] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[04:27:21] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[04:27:21] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[04:27:21] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[04:27:21] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[04:27:21] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[04:27:21] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[04:27:21] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[04:27:21] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[04:27:21] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[04:27:21] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[04:27:21] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[04:27:21] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[04:27:21] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[04:27:21] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[04:27:21] [INFO] [LastChance] Skipping player node: Player
[04:27:21] [INFO] [LastChance] Froze existing bullet casing: Casing
[04:27:21] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2473
[04:27:21] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2475
[04:27:21] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2477
[04:27:21] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2486
[04:27:21] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2488
[04:27:21] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2491
[04:27:21] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2494
[04:27:21] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2495
[04:27:21] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2498
[04:27:21] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2514
[04:27:21] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2600
[04:27:21] [INFO] [Bullet] Body exited signal received for penetrating body
[04:27:21] [INFO] [Bullet] Exiting penetration at (956.4236, 965.78876) after traveling 33,333336 pixels through wall
[04:27:21] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[04:27:21] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2606
[04:27:21] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2608
[04:27:21] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2610
[04:27:21] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2613
[04:27:21] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[04:27:21] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[04:27:21] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[04:27:21] [INFO] [LastChance] Freezing newly fired player bullet: Bullet
[04:27:21] [INFO] [LastChance] Registered frozen player bullet: Bullet
[04:27:21] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@2614
[04:27:21] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@2614
[04:27:21] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(653.8862, 940.8581), source=PLAYER (AssaultRifle), range=1469, listeners=9
[04:27:21] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[04:27:21] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@2615
[04:27:21] [INFO] [LastChance] Registered frozen player bullet: @Area2D@2615
[04:27:21] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@2616
[04:27:21] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@2616
[04:27:21] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(686.1472, 933.7627), source=PLAYER (AssaultRifle), range=1469, listeners=9
[04:27:21] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[04:27:21] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@2617
[04:27:21] [INFO] [LastChance] Registered frozen player bullet: @Area2D@2617
[04:27:21] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@2618
[04:27:21] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@2618
[04:27:21] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(714.816, 917.9951), source=PLAYER (AssaultRifle), range=1469, listeners=9
[04:27:21] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[04:27:22] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@2619
[04:27:22] [INFO] [LastChance] Registered frozen player bullet: @Area2D@2619
[04:27:22] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@2620
[04:27:22] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@2620
[04:27:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(774.2038, 949.9406), source=PLAYER (AssaultRifle), range=1469, listeners=9
[04:27:22] [ENEMY] [Enemy4] Heard gunshot at (774.2038, 949.9406), source_type=0, intensity=0.52, distance=69
[04:27:22] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=8
[04:27:23] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@2621
[04:27:23] [INFO] [LastChance] Registered frozen player bullet: @Area2D@2621
[04:27:23] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@2622
[04:27:23] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@2622
[04:27:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(770.8254, 951.8154), source=PLAYER (AssaultRifle), range=1469, listeners=9
[04:27:23] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=8
[04:27:23] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@2623
[04:27:23] [INFO] [LastChance] Registered frozen player bullet: @Area2D@2623
[04:27:23] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@2624
[04:27:23] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@2624
[04:27:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(768.6921, 951.8154), source=PLAYER (AssaultRifle), range=1469, listeners=9
[04:27:23] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=8
[04:27:23] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@2625
[04:27:23] [INFO] [LastChance] Registered frozen player bullet: @Area2D@2625
[04:27:23] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@2626
[04:27:23] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@2626
[04:27:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(754.1854, 951.8154), source=PLAYER (AssaultRifle), range=1469, listeners=9
[04:27:23] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=7
[04:27:24] [INFO] [ScoreManager] Combo ended at 1. Max combo: 1
[04:27:25] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@2627
[04:27:25] [INFO] [LastChance] Registered frozen player bullet: @Area2D@2627
[04:27:25] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@2628
[04:27:25] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@2628
[04:27:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(402.9537, 654.9255), source=PLAYER (AssaultRifle), range=1469, listeners=9
[04:27:25] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[04:27:25] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@2629
[04:27:25] [INFO] [LastChance] Registered frozen player bullet: @Area2D@2629
[04:27:25] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@2630
[04:27:25] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@2630
[04:27:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(369.8112, 667.8599), source=PLAYER (AssaultRifle), range=1469, listeners=9
[04:27:25] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=4
[04:27:25] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@2631
[04:27:25] [INFO] [LastChance] Registered frozen player bullet: @Area2D@2631
[04:27:25] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@2632
[04:27:25] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@2632
[04:27:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(331.6939, 668.7838), source=PLAYER (AssaultRifle), range=1469, listeners=9
[04:27:25] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=4
[04:27:27] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@2633
[04:27:27] [INFO] [LastChance] Registered frozen player bullet: @Area2D@2633
[04:27:27] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@2634
[04:27:27] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@2634
[04:27:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(80.07544, 445.5083), source=PLAYER (AssaultRifle), range=1469, listeners=9
[04:27:27] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=2
[04:27:27] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@2635
[04:27:27] [INFO] [LastChance] Registered frozen player bullet: @Area2D@2635
[04:27:27] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@2636
[04:27:27] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@2636
[04:27:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(80.07544, 407.0083), source=PLAYER (AssaultRifle), range=1469, listeners=9
[04:27:27] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=2
[04:27:27] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@2637
[04:27:27] [INFO] [LastChance] Registered frozen player bullet: @Area2D@2637
[04:27:27] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@2638
[04:27:27] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@2638
[04:27:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(80.07544, 368.5083), source=PLAYER (AssaultRifle), range=1469, listeners=9
[04:27:27] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=2
[04:27:27] [INFO] [LastChance] Effect duration expired after 6.00 real seconds
[04:27:27] [INFO] [LastChance] Ending last chance effect
[04:27:27] [INFO] [LastChance] All process modes restored
[04:27:27] [INFO] [LastChance] Unfroze player bullet: Bullet
[04:27:27] [INFO] [LastChance] Unfroze player bullet: @Area2D@2615
[04:27:27] [INFO] [LastChance] Unfroze player bullet: @Area2D@2617
[04:27:27] [INFO] [LastChance] Unfroze player bullet: @Area2D@2619
[04:27:27] [INFO] [LastChance] Unfroze player bullet: @Area2D@2621
[04:27:27] [INFO] [LastChance] Unfroze player bullet: @Area2D@2623
[04:27:27] [INFO] [LastChance] Unfroze player bullet: @Area2D@2625
[04:27:27] [INFO] [LastChance] Unfroze player bullet: @Area2D@2627
[04:27:27] [INFO] [LastChance] Unfroze player bullet: @Area2D@2629
[04:27:27] [INFO] [LastChance] Unfroze player bullet: @Area2D@2631
[04:27:27] [INFO] [LastChance] Unfroze player bullet: @Area2D@2633
[04:27:27] [INFO] [LastChance] Unfroze player bullet: @Area2D@2635
[04:27:27] [INFO] [LastChance] Unfroze player bullet: @Area2D@2637
[04:27:27] [INFO] [LastChance] Unfroze bullet casing: Casing
[04:27:27] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2473
[04:27:27] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2475
[04:27:27] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2477
[04:27:27] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2486
[04:27:27] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2488
[04:27:27] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2491
[04:27:27] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2494
[04:27:27] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2495
[04:27:27] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2498
[04:27:27] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2514
[04:27:27] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2600
[04:27:27] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2606
[04:27:27] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2608
[04:27:27] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2610
[04:27:27] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2613
[04:27:27] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2614
[04:27:27] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2616
[04:27:27] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2618
[04:27:27] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2620
[04:27:27] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2622
[04:27:27] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2624
[04:27:27] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2626
[04:27:27] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2628
[04:27:27] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2630
[04:27:27] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2632
[04:27:27] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2634
[04:27:27] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2636
[04:27:27] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2638
[04:27:27] [INFO] [LastChance] Restored original colors to 5 player sprites
[04:27:27] [INFO] [LastChance] Called player RefreshHealthVisual (C#)
[04:27:27] [ENEMY] [Enemy1] Player distracted - priority attack triggered
[04:27:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(252.3069, 401.9337), source=ENEMY (Enemy1), range=1469, listeners=9
[04:27:27] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=1, below_threshold=3
[04:27:27] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[04:27:27] [INFO] [LastChance] Threat detected: @Area2D@2639
[04:27:27] [INFO] [LastChance] Effect already used this life
[04:27:27] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:27:27] [ENEMY] [Enemy4] Hit taken, health: 2/3
[04:27:27] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[04:27:27] [INFO] [ImpactEffects] spawn_blood_effect called at (821.2725, 894.9188), dir=(1, 0), lethal=false
[04:27:27] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[04:27:27] [INFO] [ImpactEffects] Blood decals scheduled: 28 (3 merged splatters, 9 satellite drops)
[04:27:27] [INFO] [ImpactEffects] Wall found for blood splatter at (912, 894.9188) (dist=90 px)
[04:27:27] [INFO] [ImpactEffects] Blood effect spawned at (821.2725, 894.9188) (scale=1)
[04:27:27] [ENEMY] [Enemy4] Hit taken, health: 1/3
[04:27:27] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[04:27:27] [INFO] [ImpactEffects] spawn_blood_effect called at (821.2725, 894.9188), dir=(1, 0), lethal=false
[04:27:27] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[04:27:27] [INFO] [ImpactEffects] Blood decals scheduled: 27 (4 merged splatters, 9 satellite drops)
[04:27:27] [INFO] [ImpactEffects] Wall found for blood splatter at (912, 894.9188) (dist=90 px)
[04:27:27] [INFO] [ImpactEffects] Blood effect spawned at (821.2725, 894.9188) (scale=1)
[04:27:27] [ENEMY] [Enemy4] Hit taken, health: 0/3
[04:27:27] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[04:27:27] [INFO] [ImpactEffects] spawn_blood_effect called at (821.2725, 894.9188), dir=(1, 0), lethal=true
[04:27:27] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[04:27:27] [INFO] [ImpactEffects] Blood decals scheduled: 55 (8 merged splatters, 18 satellite drops)
[04:27:27] [INFO] [ImpactEffects] Wall found for blood splatter at (912, 894.9188) (dist=90 px)
[04:27:27] [INFO] [ImpactEffects] Blood effect spawned at (821.2725, 894.9188) (scale=1.5)
[04:27:27] [ENEMY] [Enemy4] Enemy died (ricochet: false, penetration: false)
[04:27:27] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[04:27:27] [INFO] [SoundPropagation] Unregistered listener: Enemy4 (remaining: 8)
[04:27:27] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[04:27:27] [ENEMY] [Enemy4] Death animation started with hit direction: (1, 0)
[04:27:27] [ENEMY] [Enemy2] Hit taken, health: 2/4
[04:27:27] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[04:27:27] [INFO] [ImpactEffects] spawn_blood_effect called at (397.051, 562.4557), dir=(1, 0), lethal=false
[04:27:27] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[04:27:27] [INFO] [ImpactEffects] Blood decals scheduled: 28 (5 merged splatters, 11 satellite drops)
[04:27:27] [INFO] [ImpactEffects] Blood effect spawned at (397.051, 562.4557) (scale=1)
[04:27:27] [ENEMY] [Enemy1] Hit taken, health: 1/2
[04:27:27] [ENEMY] [Enemy1] ImpactEffectsManager found, calling spawn_blood_effect
[04:27:27] [INFO] [ImpactEffects] spawn_blood_effect called at (252.3069, 401.9337), dir=(1, 0), lethal=false
[04:27:27] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[04:27:27] [INFO] [ImpactEffects] Blood decals scheduled: 27 (1 merged splatters, 6 satellite drops)
[04:27:27] [INFO] [ImpactEffects] Blood effect spawned at (252.3069, 401.9337) (scale=1)
[04:27:27] [ENEMY] [Enemy1] Hit taken, health: 0/2
[04:27:27] [ENEMY] [Enemy1] ImpactEffectsManager found, calling spawn_blood_effect
[04:27:27] [INFO] [ImpactEffects] spawn_blood_effect called at (252.3069, 401.9337), dir=(1, 0), lethal=true
[04:27:27] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[04:27:27] [INFO] [ImpactEffects] Blood decals scheduled: 39 (9 merged splatters, 3 satellite drops)
[04:27:27] [INFO] [ImpactEffects] Blood effect spawned at (252.3069, 401.9337) (scale=1.5)
[04:27:27] [ENEMY] [Enemy1] Enemy died (ricochet: false, penetration: false)
[04:27:27] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[04:27:27] [INFO] [SoundPropagation] Unregistered listener: Enemy1 (remaining: 7)
[04:27:27] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[04:27:27] [ENEMY] [Enemy1] Death animation started with hit direction: (1, 0)
[04:27:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(754.18536, 951.8154), shooter_id=2304971377515, bullet_pos=(919.7681, 825.3831)
[04:27:27] [INFO] [Bullet] Using shooter_position, distance=208,33334
[04:27:27] [INFO] [Bullet] Distance to wall: 208,33334 (14,1858015% of viewport)
[04:27:27] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:27:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(194.026, 366.8063), shooter_id=2301582379898, bullet_pos=(55.48791, 259.8849)
[04:27:27] [INFO] [Bullet] Using shooter_position, distance=175.000015258789
[04:27:27] [INFO] [Bullet] Distance to wall: 175.000015258789 (11.9160728356237% of viewport)
[04:27:27] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:27:27] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[04:27:27] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[04:27:27] [INFO] [PenultimateHit] Player died - ending penultimate effect
[04:27:27] [INFO] [LastChance] Player died
[04:27:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(686.1472, 933.7627), shooter_id=2304971377515, bullet_pos=(491.5359, 694.6059)
[04:27:27] [INFO] [Bullet] Using shooter_position, distance=308,3335
[04:27:27] [INFO] [Bullet] Distance to wall: 308,3335 (20,994995% of viewport)
[04:27:27] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:27:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(749.8114, 916.8763), shooter_id=2302438017651, bullet_pos=(515.6407, 963.0009)
[04:27:27] [INFO] [Bullet] Using shooter_position, distance=238.669998168945
[04:27:27] [INFO] [Bullet] Distance to wall: 238.669998168945 (16.2514790507511% of viewport)
[04:27:27] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:27:27] [INFO] [Bullet] Starting wall penetration at (515.6407, 963.0009)
[04:27:27] [INFO] [Bullet] Raycast backward hit penetrating body at distance 22.4412822723389
[04:27:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(653.8862, 940.8581), shooter_id=2304971377515, bullet_pos=(524.8636, 588.75256)
[04:27:27] [INFO] [Bullet] Using shooter_position, distance=375,00018
[04:27:27] [INFO] [Bullet] Distance to wall: 375,00018 (25,534454% of viewport)
[04:27:27] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:27:27] [INFO] [Bullet] Body exited signal received for penetrating body
[04:27:27] [INFO] [Bullet] Exiting penetration at (477.9136, 969.7908) after traveling 33.3333358764648 pixels through wall
[04:27:27] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[04:27:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(714.81604, 917.9951), shooter_id=2304971377515, bullet_pos=(365.19476, 707.04224)
[04:27:27] [INFO] [Bullet] Using shooter_position, distance=408,33337
[04:27:27] [INFO] [Bullet] Distance to wall: 408,33337 (27,804173% of viewport)
[04:27:27] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:27:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(80.07544, 368.50827), shooter_id=2304971377515, bullet_pos=(521.3989, 385.91547)
[04:27:27] [INFO] [Bullet] Using shooter_position, distance=441,66666
[04:27:27] [INFO] [Bullet] Distance to wall: 441,66666 (30,073896% of viewport)
[04:27:27] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:27:27] [INFO] [Bullet] Starting wall penetration at (521.3989, 385.91547)
[04:27:27] [INFO] [Bullet] Raycast backward hit penetrating body at distance 35,730217
[04:27:27] [INFO] [Bullet] Body exited signal received for penetrating body
[04:27:27] [INFO] [Bullet] Exiting penetration at (559.70245, 387.42627) after traveling 33,333332 pixels through wall
[04:27:27] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[04:27:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(621.47736, 936.16656), shooter_id=2304971377515, bullet_pos=(993.3962, 277.18027)
[04:27:27] [INFO] [Bullet] Using shooter_position, distance=756,6945
[04:27:27] [INFO] [Bullet] Distance to wall: 756,6945 (51,524723% of viewport)
[04:27:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(369.81125, 667.85986), shooter_id=2304971377515, bullet_pos=(358.03125, 59.640507)
[04:27:27] [INFO] [Bullet] Using shooter_position, distance=608,33344
[04:27:27] [INFO] [Bullet] Distance to wall: 608,33344 (41,422543% of viewport)
[04:27:27] [INFO] [Bullet] Distance-based penetration chance: 98,34037%
[04:27:27] [INFO] [Bullet] Starting wall penetration at (358.03125, 59.640507)
[04:27:27] [INFO] [Bullet] Raycast backward hit penetrating body at distance 10,687643
[04:27:27] [INFO] [Bullet] Body exited signal received for penetrating body
[04:27:27] [INFO] [Bullet] Exiting penetration at (357.28894, 21.314362) after traveling 33,333332 pixels through wall
[04:27:27] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[04:27:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(331.69394, 668.78375), shooter_id=2304971377515, bullet_pos=(524.09357, 56.641075)
[04:27:27] [INFO] [Bullet] Using shooter_position, distance=641,6668
[04:27:27] [INFO] [Bullet] Distance to wall: 641,6668 (43,692272% of viewport)
[04:27:27] [INFO] [Bullet] Distance-based penetration chance: 95,69235%
[04:27:27] [INFO] [Bullet] Penetration failed (distance roll)
[04:27:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(754.18536, 951.8154), shooter_id=2304971377515, bullet_pos=(527.34283, 537.5525)
[04:27:27] [INFO] [Bullet] Using shooter_position, distance=472,30426
[04:27:27] [INFO] [Bullet] Distance to wall: 472,30426 (32,16007% of viewport)
[04:27:27] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:27:27] [INFO] [Bullet] Starting wall penetration at (527.34283, 537.5525)
[04:27:27] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[04:27:27] [INFO] [Bullet] Exiting penetration at (500.46442, 517.8381) after traveling 28,333334 pixels through wall
[04:27:27] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[04:27:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(714.81604, 917.9951), shooter_id=2304971377515, bullet_pos=(66.57916, 879.8249)
[04:27:27] [INFO] [Bullet] Using shooter_position, distance=649,3597
[04:27:27] [INFO] [Bullet] Distance to wall: 649,3597 (44,216095% of viewport)
[04:27:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(653.8862, 940.8581), shooter_id=2304971377515, bullet_pos=(655.09015, 61.256416)
[04:27:28] [INFO] [Bullet] Using shooter_position, distance=879,6025
[04:27:28] [INFO] [Bullet] Distance to wall: 879,6025 (59,893753% of viewport)
[04:27:28] [INFO] [Bullet] Distance-based penetration chance: 76,79063%
[04:27:28] [INFO] [Bullet] Penetration failed (distance roll)
[04:27:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(686.1472, 933.7627), shooter_id=2304971377515, bullet_pos=(969.6966, 55.310303)
[04:27:28] [INFO] [Bullet] Using shooter_position, distance=923,0812
[04:27:28] [INFO] [Bullet] Distance to wall: 923,0812 (62,854298% of viewport)
[04:27:28] [ENEMY] [Enemy4] Ragdoll activated
[04:27:28] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[04:27:28] [ENEMY] [Enemy1] Ragdoll activated
[04:27:28] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[04:27:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(686.1472, 933.7627), shooter_id=2304971377515, bullet_pos=(1089.27, 212.70895)
[04:27:28] [INFO] [Bullet] Using shooter_position, distance=826,0911
[04:27:28] [INFO] [Bullet] Distance to wall: 826,0911 (56,250065% of viewport)
[04:27:28] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[04:27:28] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[04:27:28] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[04:27:28] [INFO] [LastChance] Resetting all effects (scene change detected)
[04:27:28] [ENEMY] [Enemy1] Death animation component initialized
[04:27:28] [ENEMY] [Enemy2] Death animation component initialized
[04:27:28] [ENEMY] [Enemy3] Death animation component initialized
[04:27:28] [ENEMY] [Enemy4] Death animation component initialized
[04:27:28] [ENEMY] [Enemy5] Death animation component initialized
[04:27:28] [ENEMY] [Enemy6] Death animation component initialized
[04:27:28] [ENEMY] [Enemy7] Death animation component initialized
[04:27:28] [ENEMY] [Enemy8] Death animation component initialized
[04:27:28] [ENEMY] [Enemy9] Death animation component initialized
[04:27:28] [ENEMY] [Enemy10] Death animation component initialized
[04:27:28] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[04:27:28] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[04:27:28] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[04:27:28] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[04:27:28] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[04:27:28] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[04:27:28] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[04:27:28] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[04:27:28] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[04:27:28] [INFO] [ScoreManager] Level started with 10 enemies
[04:27:28] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 8)
[04:27:28] [ENEMY] [Enemy1] Registered as sound listener
[04:27:28] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[04:27:28] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 9)
[04:27:28] [ENEMY] [Enemy2] Registered as sound listener
[04:27:28] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[04:27:28] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 10)
[04:27:28] [ENEMY] [Enemy3] Registered as sound listener
[04:27:28] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[04:27:28] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 11)
[04:27:28] [ENEMY] [Enemy4] Registered as sound listener
[04:27:28] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[04:27:28] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 12)
[04:27:28] [ENEMY] [Enemy5] Registered as sound listener
[04:27:28] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[04:27:28] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 13)
[04:27:28] [ENEMY] [Enemy6] Registered as sound listener
[04:27:28] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[04:27:28] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 14)
[04:27:28] [ENEMY] [Enemy7] Registered as sound listener
[04:27:28] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[04:27:28] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 15)
[04:27:28] [ENEMY] [Enemy8] Registered as sound listener
[04:27:28] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[04:27:28] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 16)
[04:27:28] [ENEMY] [Enemy9] Registered as sound listener
[04:27:28] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[04:27:28] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 17)
[04:27:28] [ENEMY] [Enemy10] Registered as sound listener
[04:27:28] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[04:27:28] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[04:27:28] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[04:27:28] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[04:27:28] [INFO] [LastChance] Found player: Player
[04:27:28] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[04:27:28] [INFO] [LastChance] Connected to player Damaged signal (C#)
[04:27:28] [INFO] [LastChance] Connected to player Died signal (C#)
[04:27:28] [INFO] [Player] Detecting weapon pose (frame 3)...
[04:27:28] [INFO] [Player] Detected weapon: Rifle (default pose)
[04:27:28] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[04:27:30] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[04:27:30] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[04:27:30] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[04:27:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1142.631, 1571.655), source=ENEMY (Enemy10), range=1469, listeners=17
[04:27:30] [INFO] [SoundPropagation] Cleaned up 7 invalid listeners
[04:27:30] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=8
[04:27:30] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[04:27:30] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[04:27:30] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[04:27:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1085.537, 1534.63), shooter_id=2606910934594, bullet_pos=(57.37258, 685.7161)
[04:27:30] [INFO] [Bullet] Using shooter_position, distance=1333.3330078125
[04:27:30] [INFO] [Bullet] Distance to wall: 1333.3330078125 (90.7890962851617% of viewport)
[04:27:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1085.537, 1534.63), shooter_id=2606910934594, bullet_pos=(285.7342, 456.2275)
[04:27:31] [INFO] [Bullet] Using shooter_position, distance=1342.62280273438
[04:27:31] [INFO] [Bullet] Distance to wall: 1342.62280273438 (91.4216555038188% of viewport)
[04:27:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.5085, 753.9985), source=ENEMY (Enemy3), range=1469, listeners=10
[04:27:31] [ENEMY] [Enemy2] Heard gunshot at (684.5085, 753.9985), source_type=1, intensity=0.02, distance=350
[04:27:31] [ENEMY] [Enemy4] Heard gunshot at (684.5085, 753.9985), source_type=1, intensity=0.07, distance=186
[04:27:31] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[04:27:31] [INFO] [LastChance] Threat detected: @Area2D@3011
[04:27:31] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[04:27:31] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:27:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(476.2103, 761.111), source=PLAYER (AssaultRifle), range=1469, listeners=10
[04:27:31] [ENEMY] [Enemy1] Heard gunshot at (476.2103, 761.111), source_type=0, intensity=0.01, distance=447
[04:27:31] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[04:27:31] [INFO] [LastChance] Threat detected: Bullet
[04:27:31] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[04:27:31] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:27:31] [ENEMY] [Enemy3] Hit taken, health: 3/4
[04:27:31] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[04:27:31] [INFO] [ImpactEffects] spawn_blood_effect called at (684.5085, 753.9985), dir=(1, 0), lethal=false
[04:27:31] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[04:27:31] [INFO] [ImpactEffects] Blood decals scheduled: 23 (4 merged splatters, 5 satellite drops)
[04:27:31] [INFO] [ImpactEffects] Blood effect spawned at (684.5085, 753.9985) (scale=1)
[04:27:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1085.537, 1534.63), shooter_id=2606910934594, bullet_pos=(473.9474, 697.5518)
[04:27:31] [INFO] [Bullet] Using shooter_position, distance=1036.69750976563
[04:27:31] [INFO] [Bullet] Distance to wall: 1036.69750976563 (70.590639758567% of viewport)
[04:27:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.5085, 753.9985), source=ENEMY (Enemy3), range=1469, listeners=10
[04:27:31] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[04:27:31] [INFO] [LastChance] Threat detected: @Area2D@3016
[04:27:31] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[04:27:31] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:27:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(503.3032, 747.5276), source=PLAYER (AssaultRifle), range=1469, listeners=10
[04:27:31] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[04:27:31] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[04:27:31] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[04:27:31] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[04:27:31] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[04:27:31] [ENEMY] [Enemy3] Hit taken, health: 2/4
[04:27:31] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[04:27:31] [INFO] [ImpactEffects] spawn_blood_effect called at (684.5085, 753.9985), dir=(1, 0), lethal=false
[04:27:31] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[04:27:31] [INFO] [ImpactEffects] Blood decals scheduled: 27 (4 merged splatters, 9 satellite drops)
[04:27:31] [INFO] [ImpactEffects] Blood effect spawned at (684.5085, 753.9985) (scale=1)
[04:27:31] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[04:27:31] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[04:27:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.5085, 753.9985), source=ENEMY (Enemy3), range=1469, listeners=10
[04:27:31] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[04:27:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(617.0993, 764.1825), shooter_id=2604914443985, bullet_pos=(67.44186, 783.59)
[04:27:31] [INFO] [Bullet] Using shooter_position, distance=550
[04:27:31] [INFO] [Bullet] Distance to wall: 550 (37.4505113608205% of viewport)
[04:27:31] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:27:31] [INFO] [Bullet] Starting wall penetration at (67.44186, 783.59)
[04:27:31] [INFO] [LastChance] Threat detected: @Area2D@3021
[04:27:31] [INFO] [LastChance] Player health is 3.0 - effect requires exactly 1 HP or less but alive
[04:27:31] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:27:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(532.8513, 746.634), source=PLAYER (AssaultRifle), range=1469, listeners=10
[04:27:31] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=2, self=0, below_threshold=4
[04:27:31] [INFO] [Bullet] Raycast backward hit penetrating body at distance 2.86938285827637
[04:27:31] [INFO] [Bullet] Max penetration distance exceeded: 66.6666641235352 >= 48
[04:27:31] [INFO] [Bullet] Body exited signal received for penetrating body
[04:27:31] [INFO] [Bullet] Exiting penetration at (-4.180168, 786.1189) after traveling 66.6666641235352 pixels through wall
[04:27:31] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[04:27:31] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[04:27:31] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[04:27:31] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[04:27:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=10
[04:27:31] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=4
[04:27:31] [INFO] [LastChance] Threat detected: @Area2D@3026
[04:27:31] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[04:27:31] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:27:31] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[04:27:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=10
[04:27:31] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=4
[04:27:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(692.6321, 756.6115), source=ENEMY (Enemy3), range=1469, listeners=10
[04:27:31] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[04:27:31] [INFO] [LastChance] Threat detected: @Area2D@3027
[04:27:31] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[04:27:31] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:27:31] [INFO] [LastChance] Threat detected: @Area2D@3029
[04:27:31] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[04:27:31] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:27:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(434.5876, 608.6029), shooter_id=2604629231015, bullet_pos=(494.9517, 688.3285)
[04:27:31] [INFO] [Bullet] Using shooter_position, distance=99.9999694824219
[04:27:31] [INFO] [Bullet] Distance to wall: 99.9999694824219 (6.80918180578753% of viewport)
[04:27:31] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:27:31] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[04:27:31] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[04:27:31] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[04:27:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=10
[04:27:31] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=1, below_threshold=3
[04:27:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(701.1772, 762.7758), source=ENEMY (Enemy3), range=1469, listeners=10
[04:27:31] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[04:27:31] [INFO] [LastChance] Threat detected: @Area2D@3031
[04:27:31] [INFO] [LastChance] Triggering last chance effect!
[04:27:31] [INFO] [LastChance] Starting last chance effect:
[04:27:31] [INFO] [LastChance]   - Time will be frozen (except player)
[04:27:31] [INFO] [LastChance]   - Duration: 6.0 real seconds
[04:27:31] [INFO] [LastChance]   - Sepia intensity: 0.70
[04:27:31] [INFO] [LastChance]   - Brightness: 0.60
[04:27:31] [INFO] [LastChance] Pushed bullet @Area2D@3026 from distance 72.2 to 200.0
[04:27:31] [INFO] [LastChance] Pushed bullet @Area2D@3027 from distance 135.9 to 200.0
[04:27:31] [INFO] [LastChance] Pushed bullet @Area2D@3031 from distance 132.5 to 200.0
[04:27:31] [INFO] [LastChance] Pushed bullet @Area2D@3032 from distance 69.6 to 200.0
[04:27:31] [INFO] [LastChance] Pushed 4 threatening bullets away from player
[04:27:31] [INFO] [LastChance] Set player Player and all 18 children to PROCESS_MODE_ALWAYS
[04:27:31] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[04:27:31] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[04:27:31] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[04:27:31] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[04:27:31] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[04:27:31] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[04:27:31] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[04:27:31] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[04:27:31] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[04:27:31] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[04:27:31] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[04:27:31] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[04:27:31] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[04:27:31] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[04:27:31] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[04:27:31] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[04:27:31] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[04:27:31] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[04:27:31] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[04:27:31] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[04:27:31] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[04:27:31] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[04:27:31] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[04:27:31] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[04:27:31] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[04:27:31] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[04:27:31] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[04:27:31] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[04:27:31] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[04:27:31] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[04:27:31] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[04:27:31] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[04:27:31] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[04:27:31] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[04:27:31] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[04:27:31] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[04:27:31] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[04:27:31] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[04:27:31] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[04:27:31] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[04:27:31] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[04:27:31] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[04:27:31] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[04:27:31] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[04:27:31] [INFO] [LastChance] Skipping player node: Player
[04:27:31] [INFO] [LastChance] Froze existing bullet casing: Casing
[04:27:31] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3012
[04:27:31] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3014
[04:27:31] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3017
[04:27:31] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3019
[04:27:31] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3022
[04:27:31] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3025
[04:27:31] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3028
[04:27:31] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[04:27:31] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[04:27:31] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[04:27:32] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@3076
[04:27:32] [INFO] [LastChance] Registered frozen player bullet: @Area2D@3076
[04:27:32] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@3077
[04:27:32] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@3077
[04:27:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(574.4072, 952.8228), source=PLAYER (AssaultRifle), range=1469, listeners=10
[04:27:32] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=6
[04:27:33] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@3078
[04:27:33] [INFO] [LastChance] Registered frozen player bullet: @Area2D@3078
[04:27:33] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@3079
[04:27:33] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@3079
[04:27:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(574.4072, 952.8228), source=PLAYER (AssaultRifle), range=1469, listeners=10
[04:27:33] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=6
[04:27:33] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@3080
[04:27:33] [INFO] [LastChance] Registered frozen player bullet: @Area2D@3080
[04:27:33] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@3081
[04:27:33] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@3081
[04:27:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(574.4072, 945.1427), source=PLAYER (AssaultRifle), range=1469, listeners=10
[04:27:33] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=6
[04:27:35] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@3082
[04:27:35] [INFO] [LastChance] Registered frozen player bullet: @Area2D@3082
[04:27:35] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@3083
[04:27:35] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@3083
[04:27:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(385.1665, 670.1271), source=PLAYER (AssaultRifle), range=1469, listeners=10
[04:27:35] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[04:27:35] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@3084
[04:27:35] [INFO] [LastChance] Registered frozen player bullet: @Area2D@3084
[04:27:35] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@3085
[04:27:35] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@3085
[04:27:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(384.8331, 670.1271), source=PLAYER (AssaultRifle), range=1469, listeners=10
[04:27:35] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[04:27:35] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@3086
[04:27:35] [INFO] [LastChance] Registered frozen player bullet: @Area2D@3086
[04:27:35] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@3087
[04:27:35] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@3087
[04:27:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(373.1665, 670.1271), source=PLAYER (AssaultRifle), range=1469, listeners=10
[04:27:35] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[04:27:37] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@3088
[04:27:37] [INFO] [LastChance] Registered frozen player bullet: @Area2D@3088
[04:27:37] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@3089
[04:27:37] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@3089
[04:27:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(172.353, 388.4831), source=PLAYER (AssaultRifle), range=1469, listeners=10
[04:27:37] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=3
[04:27:37] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@3090
[04:27:37] [INFO] [LastChance] Registered frozen player bullet: @Area2D@3090
[04:27:37] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@3091
[04:27:37] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@3091
[04:27:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(172.353, 388.4831), source=PLAYER (AssaultRifle), range=1469, listeners=10
[04:27:37] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=3
[04:27:37] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@3092
[04:27:37] [INFO] [LastChance] Registered frozen player bullet: @Area2D@3092
[04:27:37] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@3093
[04:27:37] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@3093
[04:27:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(172.353, 388.4831), source=PLAYER (AssaultRifle), range=1469, listeners=10
[04:27:37] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=3
[04:27:37] [INFO] [LastChance] Effect duration expired after 6.00 real seconds
[04:27:37] [INFO] [LastChance] Ending last chance effect
[04:27:37] [INFO] [LastChance] All process modes restored
[04:27:37] [INFO] [LastChance] Unfroze player bullet: @Area2D@3076
[04:27:37] [INFO] [LastChance] Unfroze player bullet: @Area2D@3078
[04:27:37] [INFO] [LastChance] Unfroze player bullet: @Area2D@3080
[04:27:37] [INFO] [LastChance] Unfroze player bullet: @Area2D@3082
[04:27:37] [INFO] [LastChance] Unfroze player bullet: @Area2D@3084
[04:27:37] [INFO] [LastChance] Unfroze player bullet: @Area2D@3086
[04:27:37] [INFO] [LastChance] Unfroze player bullet: @Area2D@3088
[04:27:37] [INFO] [LastChance] Unfroze player bullet: @Area2D@3090
[04:27:37] [INFO] [LastChance] Unfroze player bullet: @Area2D@3092
[04:27:37] [INFO] [LastChance] Unfroze bullet casing: Casing
[04:27:37] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3012
[04:27:37] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3014
[04:27:37] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3017
[04:27:37] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3019
[04:27:37] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3022
[04:27:37] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3025
[04:27:37] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3028
[04:27:37] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3077
[04:27:37] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3079
[04:27:37] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3081
[04:27:37] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3083
[04:27:37] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3085
[04:27:37] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3087
[04:27:37] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3089
[04:27:37] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3091
[04:27:37] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3093
[04:27:37] [INFO] [LastChance] Restored original colors to 5 player sprites
[04:27:37] [INFO] [LastChance] Called player RefreshHealthVisual (C#)
[04:27:37] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[04:27:37] [ENEMY] [Enemy1] Hit taken, health: 3/4
[04:27:37] [ENEMY] [Enemy1] ImpactEffectsManager found, calling spawn_blood_effect
[04:27:37] [INFO] [ImpactEffects] spawn_blood_effect called at (257.3445, 401.9325), dir=(1, 0), lethal=false
[04:27:37] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[04:27:37] [INFO] [ImpactEffects] Blood decals scheduled: 21 (4 merged splatters, 3 satellite drops)
[04:27:37] [INFO] [ImpactEffects] Blood effect spawned at (257.3445, 401.9325) (scale=1)
[04:27:37] [ENEMY] [Enemy1] Hit taken, health: 2/4
[04:27:37] [ENEMY] [Enemy1] ImpactEffectsManager found, calling spawn_blood_effect
[04:27:37] [INFO] [ImpactEffects] spawn_blood_effect called at (257.3445, 401.9325), dir=(1, 0), lethal=false
[04:27:37] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[04:27:37] [INFO] [ImpactEffects] Blood decals scheduled: 31 (3 merged splatters, 12 satellite drops)
[04:27:37] [INFO] [ImpactEffects] Blood effect spawned at (257.3445, 401.9325) (scale=1)
[04:27:37] [ENEMY] [Enemy1] Hit taken, health: 1/4
[04:27:37] [ENEMY] [Enemy1] ImpactEffectsManager found, calling spawn_blood_effect
[04:27:37] [INFO] [ImpactEffects] spawn_blood_effect called at (257.3445, 401.9325), dir=(1, 0), lethal=false
[04:27:37] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[04:27:37] [INFO] [ImpactEffects] Blood decals scheduled: 22 (3 merged splatters, 3 satellite drops)
[04:27:37] [INFO] [ImpactEffects] Blood effect spawned at (257.3445, 401.9325) (scale=1)
[04:27:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(257.3445, 401.9325), source=ENEMY (Enemy1), range=1469, listeners=10
[04:27:37] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=1, below_threshold=4
[04:27:37] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[04:27:37] [ENEMY] [Enemy2] Hit taken, health: 3/4
[04:27:37] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[04:27:37] [INFO] [ImpactEffects] spawn_blood_effect called at (400, 550), dir=(1, 0), lethal=false
[04:27:37] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[04:27:37] [INFO] [ImpactEffects] Blood decals scheduled: 32 (5 merged splatters, 15 satellite drops)
[04:27:37] [INFO] [ImpactEffects] Wall found for blood splatter at (500, 550) (dist=100 px)
[04:27:37] [INFO] [ImpactEffects] Blood effect spawned at (400, 550) (scale=1)
[04:27:37] [ENEMY] [Enemy2] Hit taken, health: 2/4
[04:27:37] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[04:27:37] [INFO] [ImpactEffects] spawn_blood_effect called at (400, 550), dir=(1, 0), lethal=false
[04:27:37] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[04:27:37] [INFO] [ImpactEffects] Blood decals scheduled: 26 (2 merged splatters, 6 satellite drops)
[04:27:37] [INFO] [ImpactEffects] Wall found for blood splatter at (500, 550) (dist=100 px)
[04:27:37] [INFO] [ImpactEffects] Blood effect spawned at (400, 550) (scale=1)
[04:27:37] [ENEMY] [Enemy2] Hit taken, health: 1/4
[04:27:37] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[04:27:37] [INFO] [ImpactEffects] spawn_blood_effect called at (400, 550), dir=(1, 0), lethal=false
[04:27:37] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[04:27:37] [INFO] [ImpactEffects] Blood decals scheduled: 29 (5 merged splatters, 7 satellite drops)
[04:27:37] [INFO] [ImpactEffects] Wall found for blood splatter at (500, 550) (dist=100 px)
[04:27:37] [INFO] [ImpactEffects] Blood effect spawned at (400, 550) (scale=1)
[04:27:37] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[04:27:37] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[04:27:37] [INFO] [PenultimateHit] Player died - ending penultimate effect
[04:27:37] [INFO] [LastChance] Player died
[04:27:37] [ENEMY] [Enemy4] Hit taken, health: 3/4
[04:27:37] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[04:27:37] [INFO] [ImpactEffects] spawn_blood_effect called at (735.2088, 916.7379), dir=(1, 0), lethal=false
[04:27:37] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[04:27:37] [INFO] [ImpactEffects] Blood decals scheduled: 23 (5 merged splatters, 6 satellite drops)
[04:27:37] [INFO] [ImpactEffects] Blood effect spawned at (735.2088, 916.7379) (scale=1)
[04:27:37] [ENEMY] [Enemy4] Hit taken, health: 2/4
[04:27:37] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[04:27:37] [INFO] [ImpactEffects] spawn_blood_effect called at (735.2088, 916.7379), dir=(1, 0), lethal=false
[04:27:37] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[04:27:37] [INFO] [ImpactEffects] Blood decals scheduled: 31 (3 merged splatters, 12 satellite drops)
[04:27:37] [INFO] [ImpactEffects] Blood effect spawned at (735.2088, 916.7379) (scale=1)
[04:27:37] [ENEMY] [Enemy4] Hit taken, health: 1/4
[04:27:37] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[04:27:37] [INFO] [ImpactEffects] spawn_blood_effect called at (735.2088, 916.7379), dir=(1, 0), lethal=false
[04:27:37] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[04:27:37] [INFO] [ImpactEffects] Blood decals scheduled: 25 (3 merged splatters, 6 satellite drops)
[04:27:37] [INFO] [ImpactEffects] Blood effect spawned at (735.2088, 916.7379) (scale=1)
[04:27:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(434.0848, 609.3427), shooter_id=2604629231015, bullet_pos=(904.4161, 991.8274)
[04:27:37] [INFO] [Bullet] Using shooter_position, distance=606.222717285156
[04:27:37] [INFO] [Bullet] Distance to wall: 606.222717285156 (41.2788195652276% of viewport)
[04:27:37] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[04:27:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(434.0848, 609.3427), shooter_id=2604629231015, bullet_pos=(924.9573, 965.5754)
[04:27:37] [INFO] [Bullet] Using shooter_position, distance=606.512573242188
[04:27:37] [INFO] [Bullet] Distance to wall: 606.512573242188 (41.29855639034% of viewport)
[04:27:37] [ENEMY] [Enemy1] Player distracted - priority attack triggered
[04:27:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(257.3445, 401.9325), source=ENEMY (Enemy1), range=1469, listeners=10
[04:27:37] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=1, below_threshold=4
[04:27:37] [INFO] [LastChance] Threat detected: Bullet
[04:27:37] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[04:27:37] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:27:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(435.456, 608.2062), shooter_id=2604629231015, bullet_pos=(760.4155, 1008.889)
[04:27:37] [INFO] [Bullet] Using shooter_position, distance=515.892700195313
[04:27:37] [INFO] [Bullet] Distance to wall: 515.892700195313 (35.1280825993253% of viewport)
[04:27:37] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:27:37] [ENEMY] [Enemy1] State: COMBAT -> RETREATING
[04:27:37] [ENEMY] [Enemy4] State: PURSUING -> RETREATING
[04:27:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(434.0848, 609.3427), shooter_id=2604629231015, bullet_pos=(760.573, 816.7435)
[04:27:37] [INFO] [Bullet] Using shooter_position, distance=386.794006347656
[04:27:37] [INFO] [Bullet] Distance to wall: 386.794006347656 (26.337515143673% of viewport)
[04:27:37] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:27:37] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[04:27:37] [ENEMY] [Enemy1] Player distracted - priority attack triggered
[04:27:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(258.4339, 400.0909), source=ENEMY (Enemy1), range=1469, listeners=10
[04:27:37] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=1, below_threshold=4
[04:27:37] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[04:27:37] [INFO] [LastChance] Threat detected: Bullet
[04:27:37] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[04:27:37] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:27:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(633.3386, 768.1165), shooter_id=2604914443985, bullet_pos=(46.25275, 790.8929)
[04:27:37] [INFO] [Bullet] Using shooter_position, distance=587.527526855469
[04:27:37] [INFO] [Bullet] Distance to wall: 587.527526855469 (40.0058296714463% of viewport)
[04:27:37] [INFO] [Bullet] Distance-based penetration chance: 99.9931987166459%
[04:27:37] [INFO] [Bullet] Starting wall penetration at (46.25275, 790.8929)
[04:27:37] [INFO] [Bullet] Raycast backward hit penetrating body at distance 24.0797004699707
[04:27:38] [INFO] [Bullet] Body exited signal received for penetrating body
[04:27:38] [INFO] [Bullet] Exiting penetration at (7.921795, 791.3201) after traveling 33.3333320617676 pixels through wall
[04:27:38] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[04:27:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(435.456, 608.2062), shooter_id=2604629231015, bullet_pos=(925.8004, 846.663)
[04:27:38] [INFO] [Bullet] Using shooter_position, distance=545.251525878906
[04:27:38] [INFO] [Bullet] Distance to wall: 545.251525878906 (37.1271790262412% of viewport)
[04:27:38] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:27:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(434.0848, 609.3427), shooter_id=2604629231015, bullet_pos=(918.9299, 713.139)
[04:27:38] [INFO] [Bullet] Using shooter_position, distance=495.830993652344
[04:27:38] [INFO] [Bullet] Distance to wall: 495.830993652344 (33.7620441105891% of viewport)
[04:27:38] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:27:38] [INFO] [Bullet] Starting wall penetration at (918.9299, 713.139)
[04:27:38] [ENEMY] [Enemy1] Player distracted - priority attack triggered
[04:27:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(269.9238, 388.8483), source=ENEMY (Enemy1), range=1469, listeners=10
[04:27:38] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=1, below_threshold=4
[04:27:38] [INFO] [Bullet] Raycast backward hit penetrating body at distance 5.07191801071167
[04:27:38] [INFO] [Bullet] Body exited signal received for penetrating body
[04:27:38] [INFO] [Bullet] Exiting penetration at (940.2443, 699.1941) after traveling 20.470832824707 pixels through wall
[04:27:38] [INFO] [Bullet] Damage multiplier after penetration: 0.1125
[04:27:38] [INFO] [LastChance] Threat detected: Bullet
[04:27:38] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[04:27:38] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:27:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(271.9411, 388.1545), source=ENEMY (Enemy1), range=1469, listeners=10
[04:27:38] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=1, below_threshold=4
[04:27:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(279.7999, 380.9422), source=ENEMY (Enemy1), range=1469, listeners=10
[04:27:38] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=1, below_threshold=4
[04:27:38] [INFO] [LastChance] Threat detected: Bullet
[04:27:38] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[04:27:38] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:27:38] [ENEMY] [Enemy1] Player distracted - priority attack triggered
[04:27:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(282.9434, 378.0572), source=ENEMY (Enemy1), range=1469, listeners=10
[04:27:38] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=5
[04:27:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(226.4017, 337.5902), shooter_id=2604344019086, bullet_pos=(47.71481, 187.5386)
[04:27:38] [INFO] [Bullet] Using shooter_position, distance=233.333358764648
[04:27:38] [INFO] [Bullet] Distance to wall: 233.333358764648 (15.8880974604979% of viewport)
[04:27:38] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:27:38] [INFO] [LastChance] Threat detected: @Area2D@3173
[04:27:38] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[04:27:38] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:27:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(289.2303, 372.2873), source=ENEMY (Enemy1), range=1469, listeners=10
[04:27:38] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=5
[04:27:38] [INFO] [LastChance] Threat detected: Bullet
[04:27:38] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[04:27:38] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:27:38] [ENEMY] [Enemy1] State: RETREATING -> IN_COVER
[04:27:38] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[04:27:38] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[04:27:38] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[04:27:38] [INFO] [LastChance] Resetting all effects (scene change detected)
[04:27:38] [ENEMY] [Enemy1] Death animation component initialized
[04:27:38] [ENEMY] [Enemy2] Death animation component initialized
[04:27:38] [ENEMY] [Enemy3] Death animation component initialized
[04:27:38] [ENEMY] [Enemy4] Death animation component initialized
[04:27:38] [ENEMY] [Enemy5] Death animation component initialized
[04:27:38] [ENEMY] [Enemy6] Death animation component initialized
[04:27:38] [ENEMY] [Enemy7] Death animation component initialized
[04:27:38] [ENEMY] [Enemy8] Death animation component initialized
[04:27:38] [ENEMY] [Enemy9] Death animation component initialized
[04:27:38] [ENEMY] [Enemy10] Death animation component initialized
[04:27:38] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[04:27:38] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[04:27:38] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[04:27:38] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[04:27:38] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[04:27:38] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[04:27:38] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[04:27:38] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[04:27:38] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[04:27:38] [INFO] [ScoreManager] Level started with 10 enemies
[04:27:38] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[04:27:38] [ENEMY] [Enemy1] Registered as sound listener
[04:27:38] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[04:27:38] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[04:27:38] [ENEMY] [Enemy2] Registered as sound listener
[04:27:38] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[04:27:38] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[04:27:38] [ENEMY] [Enemy3] Registered as sound listener
[04:27:38] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[04:27:38] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[04:27:38] [ENEMY] [Enemy4] Registered as sound listener
[04:27:38] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[04:27:38] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[04:27:38] [ENEMY] [Enemy5] Registered as sound listener
[04:27:38] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[04:27:38] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[04:27:38] [ENEMY] [Enemy6] Registered as sound listener
[04:27:38] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[04:27:38] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[04:27:38] [ENEMY] [Enemy7] Registered as sound listener
[04:27:38] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[04:27:38] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[04:27:38] [ENEMY] [Enemy8] Registered as sound listener
[04:27:38] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[04:27:38] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[04:27:38] [ENEMY] [Enemy9] Registered as sound listener
[04:27:38] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[04:27:38] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[04:27:38] [ENEMY] [Enemy10] Registered as sound listener
[04:27:38] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[04:27:38] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[04:27:38] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[04:27:38] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[04:27:38] [INFO] [LastChance] Found player: Player
[04:27:38] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[04:27:38] [INFO] [LastChance] Connected to player Damaged signal (C#)
[04:27:38] [INFO] [LastChance] Connected to player Died signal (C#)
[04:27:38] [INFO] [Player] Detecting weapon pose (frame 3)...
[04:27:38] [INFO] [Player] Detected weapon: Rifle (default pose)
[04:27:38] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[04:27:39] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[04:27:39] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[04:27:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1171.64, 1535.181), source=ENEMY (Enemy10), range=1469, listeners=20
[04:27:39] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[04:27:39] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=8
[04:27:39] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[04:27:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1139.239, 1516.642), source=ENEMY (Enemy10), range=1469, listeners=10
[04:27:39] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[04:27:39] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[04:27:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1107.684, 1496.697), source=ENEMY (Enemy10), range=1469, listeners=10
[04:27:39] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[04:27:39] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[04:27:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1077.031, 1475.392), source=ENEMY (Enemy10), range=1469, listeners=10
[04:27:39] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[04:27:39] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[04:27:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1047.237, 1452.898), source=ENEMY (Enemy10), range=1469, listeners=10
[04:27:39] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[04:27:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1108.62, 1509.508), shooter_id=2912222709855, bullet_pos=(49.21134, 928.3679)
[04:27:39] [INFO] [Bullet] Using shooter_position, distance=1208.33361816406
[04:27:39] [INFO] [Bullet] Distance to wall: 1208.33361816406 (82.2776579903901% of viewport)
[04:27:39] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[04:27:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1017.602, 1430.192), source=ENEMY (Enemy10), range=1469, listeners=10
[04:27:39] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[04:27:39] [INFO] [LastChance] Threat detected: @Area2D@3501
[04:27:39] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[04:27:39] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:27:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1077.409, 1488.221), shooter_id=2912222709855, bullet_pos=(44.58725, 861.0469)
[04:27:39] [INFO] [Bullet] Using shooter_position, distance=1208.33337402344
[04:27:39] [INFO] [Bullet] Distance to wall: 1208.33337402344 (82.277641366406% of viewport)
[04:27:39] [INFO] [Bullet] Distance-based penetration chance: 50.6760850725264%
[04:27:39] [INFO] [Bullet] Penetration failed (distance roll)
[04:27:39] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[04:27:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(984.4255, 1424.066), source=ENEMY (Enemy10), range=1469, listeners=10
[04:27:39] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[04:27:39] [INFO] [LastChance] Threat detected: @Area2D@3503
[04:27:39] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[04:27:39] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:27:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1047.159, 1465.594), shooter_id=2912222709855, bullet_pos=(42.82015, 793.7511)
[04:27:39] [INFO] [Bullet] Using shooter_position, distance=1208.33361816406
[04:27:39] [INFO] [Bullet] Distance to wall: 1208.33361816406 (82.2776579903901% of viewport)
[04:27:39] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[04:27:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1047.159, 1465.594), shooter_id=2912222709855, bullet_pos=(153.3508, 697.3452)
[04:27:39] [INFO] [Bullet] Using shooter_position, distance=1178.60083007813
[04:27:39] [INFO] [Bullet] Distance to wall: 1178.60083007813 (80.2530977758423% of viewport)
[04:27:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1017.917, 1441.685), shooter_id=2912222709855, bullet_pos=(43.75659, 726.785)
[04:27:40] [INFO] [Bullet] Using shooter_position, distance=1208.33386230469
[04:27:40] [INFO] [Bullet] Distance to wall: 1208.33386230469 (82.2776746143741% of viewport)
[04:27:40] [INFO] [Bullet] Distance-based penetration chance: 50.6760462832302%
[04:27:40] [INFO] [Bullet] Starting wall penetration at (43.75659, 726.785)
[04:27:40] [INFO] [Bullet] Raycast backward hit penetrating body at distance 32.0839691162109
[04:27:40] [INFO] [Bullet] Body exited signal received for penetrating body
[04:27:40] [INFO] [Bullet] Exiting penetration at (6.133846, 699.1751) after traveling 41.6666679382324 pixels through wall
[04:27:40] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[04:27:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(988.83, 1417.981), shooter_id=2912222709855, bullet_pos=(62.68175, 708.5019)
[04:27:40] [INFO] [Bullet] Using shooter_position, distance=1166.66650390625
[04:27:40] [INFO] [Bullet] Distance to wall: 1166.66650390625 (79.4404675615086% of viewport)
[04:27:40] [INFO] [Bullet] Distance-based penetration chance: 53.98612117824%
[04:27:40] [INFO] [Bullet] Penetration failed (distance roll)
[04:27:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(959.3069, 1395.088), shooter_id=2912222709855, bullet_pos=(35.43339, 682.6504)
[04:27:40] [INFO] [Bullet] Using shooter_position, distance=1166.66625976563
[04:27:40] [INFO] [Bullet] Distance to wall: 1166.66625976563 (79.4404509375245% of viewport)
[04:27:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(927.8218, 1386.295), shooter_id=2912222709855, bullet_pos=(133.3349, 712.6033)
[04:27:40] [INFO] [Bullet] Using shooter_position, distance=1041.66687011719
[04:27:40] [INFO] [Bullet] Distance to wall: 1041.66687011719 (70.9290126427528% of viewport)
[04:27:40] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[04:27:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(927.8218, 1386.295), shooter_id=2912222709855, bullet_pos=(55.76186, 792.3465)
[04:27:40] [INFO] [Bullet] Using shooter_position, distance=1055.11291503906
[04:27:40] [INFO] [Bullet] Distance to wall: 1055.11291503906 (71.8445785665797% of viewport)
[04:27:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(959.3069, 1395.088), shooter_id=2912222709855, bullet_pos=(524.3572, 386.4137)
[04:27:40] [INFO] [Bullet] Using shooter_position, distance=1098.45617675781
[04:27:40] [INFO] [Bullet] Distance to wall: 1098.45617675781 (74.7959009582398% of viewport)
[04:27:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(475.4471, 775.7286), source=PLAYER (AssaultRifle), range=1469, listeners=10
[04:27:40] [ENEMY] [Enemy1] Heard gunshot at (475.4471, 775.7286), source_type=0, intensity=0.01, distance=460
[04:27:40] [ENEMY] [Enemy2] Heard gunshot at (475.4471, 775.7286), source_type=0, intensity=0.04, distance=238
[04:27:40] [ENEMY] [Enemy4] Heard gunshot at (475.4471, 775.7286), source_type=0, intensity=0.02, distance=348
[04:27:40] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[04:27:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(689.6807, 752.6997), source=ENEMY (Enemy3), range=1469, listeners=10
[04:27:40] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[04:27:40] [INFO] [LastChance] Threat detected: @Area2D@3519
[04:27:40] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[04:27:40] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:27:40] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[04:27:40] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[04:27:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(959.3069, 1395.088), shooter_id=2912222709855, bullet_pos=(341.7368, 271.5712)
[04:27:40] [INFO] [Bullet] Using shooter_position, distance=1282.06225585938
[04:27:40] [INFO] [Bullet] Distance to wall: 1282.06225585938 (87.2979765060739% of viewport)
[04:27:40] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[04:27:40] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[04:27:40] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[04:27:40] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[04:27:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(503.9643, 758.3053), source=PLAYER (AssaultRifle), range=1469, listeners=10
[04:27:40] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[04:27:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(689.6807, 752.6997), source=ENEMY (Enemy3), range=1469, listeners=10
[04:27:40] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[04:27:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(475.44714, 775.72864), shooter_id=2913044794336, bullet_pos=(916.82874, 791.5879)
[04:27:40] [INFO] [Bullet] Using shooter_position, distance=441,6664
[04:27:40] [INFO] [Bullet] Distance to wall: 441,6664 (30,073877% of viewport)
[04:27:40] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:27:40] [INFO] [Bullet] Starting wall penetration at (916.82874, 791.5879)
[04:27:40] [INFO] [LastChance] Threat detected: @Area2D@3524
[04:27:40] [INFO] [LastChance] Triggering last chance effect!
[04:27:40] [INFO] [LastChance] Starting last chance effect:
[04:27:40] [INFO] [LastChance]   - Time will be frozen (except player)
[04:27:40] [INFO] [LastChance]   - Duration: 6.0 real seconds
[04:27:40] [INFO] [LastChance]   - Sepia intensity: 0.70
[04:27:40] [INFO] [LastChance]   - Brightness: 0.60
[04:27:40] [INFO] [LastChance] Pushed bullet @Area2D@3522 from distance 138.2 to 200.0
[04:27:40] [INFO] [LastChance] Pushed bullet @Area2D@3524 from distance 105.0 to 200.0
[04:27:40] [INFO] [LastChance] Pushed 2 threatening bullets away from player
[04:27:40] [INFO] [LastChance] Set player Player and all 18 children to PROCESS_MODE_ALWAYS
[04:27:40] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[04:27:40] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[04:27:40] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[04:27:40] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[04:27:40] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[04:27:40] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[04:27:40] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[04:27:40] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[04:27:40] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[04:27:40] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[04:27:40] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[04:27:40] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[04:27:40] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[04:27:40] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[04:27:40] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[04:27:40] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[04:27:40] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[04:27:40] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[04:27:40] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[04:27:40] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[04:27:40] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[04:27:40] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[04:27:40] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[04:27:40] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[04:27:40] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[04:27:40] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[04:27:40] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[04:27:40] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[04:27:40] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[04:27:40] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[04:27:40] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[04:27:40] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[04:27:40] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[04:27:40] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[04:27:40] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[04:27:40] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[04:27:40] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[04:27:40] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[04:27:40] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[04:27:40] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[04:27:40] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[04:27:40] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[04:27:40] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[04:27:40] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[04:27:40] [INFO] [LastChance] Skipping player node: Player
[04:27:40] [INFO] [LastChance] Froze existing bullet casing: Casing
[04:27:40] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3498
[04:27:40] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3500
[04:27:40] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3502
[04:27:40] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3504
[04:27:40] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3506
[04:27:40] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3509
[04:27:40] [INFO] [Bullet] Body exited signal received for penetrating body
[04:27:40] [INFO] [Bullet] Exiting penetration at (921.8255, 791.76746) after traveling 0 pixels through wall
[04:27:40] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[04:27:40] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3518
[04:27:40] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3520
[04:27:40] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3523
[04:27:40] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3525
[04:27:40] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[04:27:40] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[04:27:40] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[04:27:40] [INFO] [LastChance] Freezing newly fired player bullet: Bullet
[04:27:40] [INFO] [LastChance] Registered frozen player bullet: Bullet
[04:27:40] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@3527
[04:27:40] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@3527
[04:27:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(534.8152, 756.2182), source=PLAYER (AssaultRifle), range=1469, listeners=10
[04:27:40] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=2, self=0, below_threshold=4
[04:27:40] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@3528
[04:27:40] [INFO] [LastChance] Registered frozen player bullet: @Area2D@3528
[04:27:40] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@3529
[04:27:40] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@3529
[04:27:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(563.66, 770.3408), source=PLAYER (AssaultRifle), range=1469, listeners=10
[04:27:40] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=2, self=0, below_threshold=4
[04:27:41] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@3530
[04:27:41] [INFO] [LastChance] Registered frozen player bullet: @Area2D@3530
[04:27:41] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@3531
[04:27:41] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@3531
[04:27:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(620.6339, 976.0779), source=PLAYER (AssaultRifle), range=1469, listeners=10
[04:27:41] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=6
[04:27:41] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@3532
[04:27:41] [INFO] [LastChance] Registered frozen player bullet: @Area2D@3532
[04:27:41] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@3533
[04:27:41] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@3533
[04:27:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(620.6339, 976.0779), source=PLAYER (AssaultRifle), range=1469, listeners=10
[04:27:41] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=6
[04:27:42] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@3534
[04:27:42] [INFO] [LastChance] Registered frozen player bullet: @Area2D@3534
[04:27:42] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@3535
[04:27:42] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@3535
[04:27:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(620.6339, 976.0779), source=PLAYER (AssaultRifle), range=1469, listeners=10
[04:27:42] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=6
[04:27:42] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@3536
[04:27:42] [INFO] [LastChance] Registered frozen player bullet: @Area2D@3536
[04:27:42] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@3537
[04:27:42] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@3537
[04:27:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(620.6339, 972.7446), source=PLAYER (AssaultRifle), range=1469, listeners=10
[04:27:42] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=6
[04:27:42] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@3538
[04:27:42] [INFO] [LastChance] Registered frozen player bullet: @Area2D@3538
[04:27:42] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@3539
[04:27:42] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@3539
[04:27:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(620.6339, 812.0224), source=PLAYER (AssaultRifle), range=1469, listeners=10
[04:27:42] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=6
[04:27:42] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@3540
[04:27:42] [INFO] [LastChance] Registered frozen player bullet: @Area2D@3540
[04:27:42] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@3541
[04:27:42] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@3541
[04:27:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(614.5753, 791.7231), source=PLAYER (AssaultRifle), range=1469, listeners=10
[04:27:42] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=6
[04:27:43] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@3542
[04:27:43] [INFO] [LastChance] Registered frozen player bullet: @Area2D@3542
[04:27:43] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@3543
[04:27:43] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@3543
[04:27:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(421.3433, 661.4217), source=PLAYER (AssaultRifle), range=1469, listeners=10
[04:27:43] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[04:27:43] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@3544
[04:27:43] [INFO] [LastChance] Registered frozen player bullet: @Area2D@3544
[04:27:43] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@3545
[04:27:43] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@3545
[04:27:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(394.1196, 677.9338), source=PLAYER (AssaultRifle), range=1469, listeners=10
[04:27:43] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[04:27:44] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@3546
[04:27:44] [INFO] [LastChance] Registered frozen player bullet: @Area2D@3546
[04:27:44] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@3547
[04:27:44] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@3547
[04:27:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(358.7299, 677.9338), source=PLAYER (AssaultRifle), range=1469, listeners=10
[04:27:44] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[04:27:44] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@3548
[04:27:44] [INFO] [LastChance] Registered frozen player bullet: @Area2D@3548
[04:27:44] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@3549
[04:27:44] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@3549
[04:27:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(320.2299, 677.9338), source=PLAYER (AssaultRifle), range=1469, listeners=10
[04:27:44] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=4
[04:27:45] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@3550
[04:27:45] [INFO] [LastChance] Registered frozen player bullet: @Area2D@3550
[04:27:45] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@3551
[04:27:45] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@3551
[04:27:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(170.5921, 397.6606), source=PLAYER (AssaultRifle), range=1469, listeners=10
[04:27:45] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=3
[04:27:45] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@3552
[04:27:45] [INFO] [LastChance] Registered frozen player bullet: @Area2D@3552
[04:27:45] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@3553
[04:27:45] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@3553
[04:27:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(171.1611, 396.9736), source=PLAYER (AssaultRifle), range=1469, listeners=10
[04:27:45] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=3
[04:27:45] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@3554
[04:27:45] [INFO] [LastChance] Registered frozen player bullet: @Area2D@3554
[04:27:45] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@3555
[04:27:45] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@3555
[04:27:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(171.1611, 396.9736), source=PLAYER (AssaultRifle), range=1469, listeners=10
[04:27:45] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=3
[04:27:45] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@3556
[04:27:45] [INFO] [LastChance] Registered frozen player bullet: @Area2D@3556
[04:27:45] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@3557
[04:27:45] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@3557
[04:27:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(171.1611, 396.9736), source=PLAYER (AssaultRifle), range=1469, listeners=10
[04:27:45] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=3
[04:27:46] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@3558
[04:27:46] [INFO] [LastChance] Registered frozen player bullet: @Area2D@3558
[04:27:46] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@3559
[04:27:46] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@3559
[04:27:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(171.1611, 396.9736), source=PLAYER (AssaultRifle), range=1469, listeners=10
[04:27:46] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=3
[04:27:46] [INFO] [LastChance] Effect duration expired after 6.02 real seconds
[04:27:46] [INFO] [LastChance] Ending last chance effect
[04:27:46] [INFO] [LastChance] All process modes restored
[04:27:46] [INFO] [LastChance] Unfroze player bullet: Bullet
[04:27:46] [INFO] [LastChance] Unfroze player bullet: @Area2D@3528
[04:27:46] [INFO] [LastChance] Unfroze player bullet: @Area2D@3530
[04:27:46] [INFO] [LastChance] Unfroze player bullet: @Area2D@3532
[04:27:46] [INFO] [LastChance] Unfroze player bullet: @Area2D@3534
[04:27:46] [INFO] [LastChance] Unfroze player bullet: @Area2D@3536
[04:27:46] [INFO] [LastChance] Unfroze player bullet: @Area2D@3538
[04:27:46] [INFO] [LastChance] Unfroze player bullet: @Area2D@3540
[04:27:46] [INFO] [LastChance] Unfroze player bullet: @Area2D@3542
[04:27:46] [INFO] [LastChance] Unfroze player bullet: @Area2D@3544
[04:27:46] [INFO] [LastChance] Unfroze player bullet: @Area2D@3546
[04:27:46] [INFO] [LastChance] Unfroze player bullet: @Area2D@3548
[04:27:46] [INFO] [LastChance] Unfroze player bullet: @Area2D@3550
[04:27:46] [INFO] [LastChance] Unfroze player bullet: @Area2D@3552
[04:27:46] [INFO] [LastChance] Unfroze player bullet: @Area2D@3554
[04:27:46] [INFO] [LastChance] Unfroze player bullet: @Area2D@3556
[04:27:46] [INFO] [LastChance] Unfroze player bullet: @Area2D@3558
[04:27:46] [INFO] [LastChance] Unfroze bullet casing: Casing
[04:27:46] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3498
[04:27:46] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3500
[04:27:46] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3502
[04:27:46] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3504
[04:27:46] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3506
[04:27:46] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3509
[04:27:46] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3518
[04:27:46] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3520
[04:27:46] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3523
[04:27:46] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3525
[04:27:46] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3527
[04:27:46] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3529
[04:27:46] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3531
[04:27:46] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3533
[04:27:46] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3535
[04:27:46] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3537
[04:27:46] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3539
[04:27:46] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3541
[04:27:46] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3543
[04:27:46] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3545
[04:27:46] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3547
[04:27:46] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3549
[04:27:46] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3551
[04:27:46] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3553
[04:27:46] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3555
[04:27:46] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3557
[04:27:46] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3559
[04:27:46] [INFO] [LastChance] Restored original colors to 5 player sprites
[04:27:46] [INFO] [LastChance] Called player RefreshHealthVisual (C#)
[04:27:46] [ENEMY] [Enemy1] Player distracted - priority attack triggered
[04:27:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(303.6664, 398.8297), source=ENEMY (Enemy1), range=1469, listeners=10
[04:27:46] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=1, below_threshold=4
[04:27:46] [INFO] [LastChance] Threat detected: @Area2D@3560
[04:27:46] [INFO] [LastChance] Effect already used this life
[04:27:46] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:27:46] [ENEMY] [Enemy3] Hit taken, health: 1/2
[04:27:46] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[04:27:46] [INFO] [ImpactEffects] spawn_blood_effect called at (689.6807, 752.6997), dir=(1, 0), lethal=false
[04:27:46] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[04:27:46] [INFO] [ImpactEffects] Blood decals scheduled: 28 (3 merged splatters, 9 satellite drops)
[04:27:46] [INFO] [ImpactEffects] Blood effect spawned at (689.6807, 752.6997) (scale=1)
[04:27:46] [ENEMY] [Enemy3] Hit taken, health: 0/2
[04:27:46] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[04:27:46] [INFO] [ImpactEffects] spawn_blood_effect called at (689.6807, 752.6997), dir=(1, 0), lethal=true
[04:27:46] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[04:27:46] [INFO] [ImpactEffects] Blood decals scheduled: 51 (10 merged splatters, 16 satellite drops)
[04:27:46] [INFO] [ImpactEffects] Blood effect spawned at (689.6807, 752.6997) (scale=1.5)
[04:27:46] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[04:27:46] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[04:27:46] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[04:27:46] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[04:27:46] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[04:27:46] [ENEMY] [Enemy2] Hit taken, health: 1/2
[04:27:46] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[04:27:46] [INFO] [ImpactEffects] spawn_blood_effect called at (400, 550), dir=(1, 0), lethal=false
[04:27:46] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[04:27:46] [INFO] [ImpactEffects] Blood decals scheduled: 34 (3 merged splatters, 15 satellite drops)
[04:27:46] [INFO] [ImpactEffects] Wall found for blood splatter at (500, 550) (dist=100 px)
[04:27:46] [INFO] [ImpactEffects] Blood effect spawned at (400, 550) (scale=1)
[04:27:46] [ENEMY] [Enemy2] Hit taken, health: 0/2
[04:27:46] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[04:27:46] [INFO] [ImpactEffects] spawn_blood_effect called at (400, 550), dir=(1, 0), lethal=true
[04:27:46] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[04:27:46] [INFO] [ImpactEffects] Blood decals scheduled: 53 (10 merged splatters, 18 satellite drops)
[04:27:46] [INFO] [ImpactEffects] Wall found for blood splatter at (500, 550) (dist=100 px)
[04:27:46] [INFO] [ImpactEffects] Blood effect spawned at (400, 550) (scale=1.5)
[04:27:46] [ENEMY] [Enemy2] Enemy died (ricochet: false, penetration: false)
[04:27:46] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[04:27:46] [INFO] [SoundPropagation] Unregistered listener: Enemy2 (remaining: 8)
[04:27:46] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[04:27:46] [ENEMY] [Enemy2] Death animation started with hit direction: (1, 0)
[04:27:46] [ENEMY] [Enemy1] Hit taken, health: 2/3
[04:27:46] [ENEMY] [Enemy1] ImpactEffectsManager found, calling spawn_blood_effect
[04:27:46] [INFO] [ImpactEffects] spawn_blood_effect called at (294.433, 401.9337), dir=(1, 0), lethal=false
[04:27:46] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[04:27:46] [INFO] [ImpactEffects] Blood decals scheduled: 31 (2 merged splatters, 6 satellite drops)
[04:27:46] [INFO] [ImpactEffects] Blood effect spawned at (294.433, 401.9337) (scale=1)
[04:27:46] [ENEMY] [Enemy1] Hit taken, health: 1/3
[04:27:46] [ENEMY] [Enemy1] ImpactEffectsManager found, calling spawn_blood_effect
[04:27:46] [INFO] [ImpactEffects] spawn_blood_effect called at (294.433, 401.9337), dir=(1, 0), lethal=false
[04:27:46] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[04:27:46] [INFO] [ImpactEffects] Blood decals scheduled: 25 (5 merged splatters, 8 satellite drops)
[04:27:46] [INFO] [ImpactEffects] Blood effect spawned at (294.433, 401.9337) (scale=1)
[04:27:46] [ENEMY] [Enemy1] Hit taken, health: 0/3
[04:27:46] [ENEMY] [Enemy1] ImpactEffectsManager found, calling spawn_blood_effect
[04:27:46] [INFO] [ImpactEffects] spawn_blood_effect called at (294.433, 401.9337), dir=(1, 0), lethal=true
[04:27:46] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[04:27:46] [INFO] [ImpactEffects] Blood decals scheduled: 47 (10 merged splatters, 12 satellite drops)
[04:27:46] [INFO] [ImpactEffects] Blood effect spawned at (294.433, 401.9337) (scale=1.5)
[04:27:46] [ENEMY] [Enemy1] Enemy died (ricochet: false, penetration: false)
[04:27:46] [INFO] [ScoreManager] Kill registered. Combo: 3 (points: 3000)
[04:27:46] [INFO] [SoundPropagation] Unregistered listener: Enemy1 (remaining: 7)
[04:27:46] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[04:27:46] [ENEMY] [Enemy1] Death animation started with hit direction: (1, 0)
[04:27:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(620.63385, 976.07794), shooter_id=2913044794336, bullet_pos=(733.1443, 889.9917)
[04:27:46] [INFO] [Bullet] Using shooter_position, distance=141,66666
[04:27:46] [INFO] [Bullet] Distance to wall: 141,66666 (9,646343% of viewport)
[04:27:46] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:27:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(620.63385, 976.07794), shooter_id=2913044794336, bullet_pos=(763.5908, 875.1408)
[04:27:46] [INFO] [Bullet] Using shooter_position, distance=175
[04:27:46] [INFO] [Bullet] Distance to wall: 175 (11,916072% of viewport)
[04:27:46] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:27:46] [ENEMY] [Enemy4] Hit taken, health: 2/3
[04:27:46] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[04:27:46] [INFO] [ImpactEffects] spawn_blood_effect called at (781.4155, 901.4224), dir=(1, 0), lethal=false
[04:27:46] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[04:27:46] [INFO] [ImpactEffects] Blood decals scheduled: 27 (3 merged splatters, 8 satellite drops)
[04:27:46] [INFO] [ImpactEffects] Blood effect spawned at (781.4155, 901.4224) (scale=1)
[04:27:46] [ENEMY] [Enemy4] Hit taken, health: 1/3
[04:27:46] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[04:27:46] [INFO] [ImpactEffects] spawn_blood_effect called at (781.4155, 901.4224), dir=(1, 0), lethal=false
[04:27:46] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[04:27:46] [INFO] [ImpactEffects] Blood decals scheduled: 19 (6 merged splatters, 3 satellite drops)
[04:27:46] [INFO] [ImpactEffects] Blood effect spawned at (781.4155, 901.4224) (scale=1)
[04:27:46] [ENEMY] [Enemy4] Hit taken, health: 0/3
[04:27:46] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[04:27:46] [INFO] [ImpactEffects] spawn_blood_effect called at (781.4155, 901.4224), dir=(1, 0), lethal=true
[04:27:46] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[04:27:46] [INFO] [ImpactEffects] Blood decals scheduled: 46 (10 merged splatters, 6 satellite drops)
[04:27:46] [INFO] [ImpactEffects] Blood effect spawned at (781.4155, 901.4224) (scale=1.5)
[04:27:46] [ENEMY] [Enemy4] Enemy died (ricochet: false, penetration: false)
[04:27:46] [INFO] [ScoreManager] Kill registered. Combo: 4 (points: 5000)
[04:27:46] [INFO] [SoundPropagation] Unregistered listener: Enemy4 (remaining: 6)
[04:27:46] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[04:27:46] [ENEMY] [Enemy4] Death animation started with hit direction: (1, 0)
[04:27:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(503.96432, 758.3053), shooter_id=2913044794336, bullet_pos=(928.2761, 817.0058)
[04:27:46] [INFO] [Bullet] Using shooter_position, distance=428,35294
[04:27:46] [INFO] [Bullet] Distance to wall: 428,35294 (29,16734% of viewport)
[04:27:46] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:27:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(250.8562, 355.9147), shooter_id=2909655797219, bullet_pos=(58.72412, 159.1655)
[04:27:46] [INFO] [Bullet] Using shooter_position, distance=275
[04:27:46] [INFO] [Bullet] Distance to wall: 275 (18.7252556804102% of viewport)
[04:27:46] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:27:46] [INFO] [Bullet] Starting wall penetration at (58.72412, 159.1655)
[04:27:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(171.16113, 396.97363), shooter_id=2913044794336, bullet_pos=(512.6392, 408.32654)
[04:27:46] [INFO] [Bullet] Using shooter_position, distance=341,66675
[04:27:46] [INFO] [Bullet] Distance to wall: 341,66675 (23,264717% of viewport)
[04:27:46] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:27:46] [INFO] [Bullet] Starting wall penetration at (512.6392, 408.32654)
[04:27:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(171.16113, 396.97363), shooter_id=2913044794336, bullet_pos=(512.5692, 410.26416)
[04:27:46] [INFO] [Bullet] Using shooter_position, distance=341,6667
[04:27:46] [INFO] [Bullet] Distance to wall: 341,6667 (23,264713% of viewport)
[04:27:46] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:27:46] [INFO] [Bullet] Starting wall penetration at (512.5692, 410.26416)
[04:27:46] [INFO] [Bullet] Raycast backward hit penetrating body at distance 26,89389
[04:27:46] [INFO] [Bullet] Raycast backward hit penetrating body at distance 26,966307
[04:27:46] [INFO] [Bullet] Raycast backward hit penetrating body at distance 0.08291158825159
[04:27:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(563.66003, 770.3408), shooter_id=2913044794336, bullet_pos=(938.64813, 773.3491)
[04:27:46] [INFO] [Bullet] Using shooter_position, distance=375,00015
[04:27:46] [INFO] [Bullet] Distance to wall: 375,00015 (25,53445% of viewport)
[04:27:46] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:27:46] [INFO] [Bullet] Starting wall penetration at (938.64813, 773.3491)
[04:27:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(534.8152, 756.2182), shooter_id=2913044794336, bullet_pos=(908.13885, 791.63745)
[04:27:46] [INFO] [Bullet] Using shooter_position, distance=375,0001
[04:27:46] [INFO] [Bullet] Distance to wall: 375,0001 (25,534449% of viewport)
[04:27:46] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:27:46] [INFO] [Bullet] Body exited signal received for penetrating body
[04:27:46] [INFO] [Bullet] Exiting penetration at (550.9514, 409.60028) after traveling 33,333336 pixels through wall
[04:27:46] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[04:27:46] [INFO] [Bullet] Body exited signal received for penetrating body
[04:27:46] [INFO] [Bullet] Exiting penetration at (550.87354, 411.75528) after traveling 33,333336 pixels through wall
[04:27:46] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[04:27:46] [INFO] [Bullet] Raycast backward hit penetrating body at distance 40,981544
[04:27:46] [INFO] [Bullet] Max penetration distance exceeded: 66.6666717529297 >= 48
[04:27:46] [INFO] [Bullet] Body exited signal received for penetrating body
[04:27:46] [INFO] [Bullet] Exiting penetration at (8.65332, 107.8915) after traveling 66.6666717529297 pixels through wall
[04:27:46] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[04:27:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(620.63385, 976.07794), shooter_id=2913044794336, bullet_pos=(924.4057, 999.5718)
[04:27:46] [INFO] [Bullet] Using shooter_position, distance=304,67902
[04:27:46] [INFO] [Bullet] Distance to wall: 304,67902 (20,746155% of viewport)
[04:27:46] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:27:46] [INFO] [Bullet] Starting wall penetration at (924.4057, 999.5718)
[04:27:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(620.63385, 976.07794), shooter_id=2913044794336, bullet_pos=(928.36017, 1002.63153)
[04:27:46] [INFO] [Bullet] Using shooter_position, distance=308,86984
[04:27:46] [INFO] [Bullet] Distance to wall: 308,86984 (21,031517% of viewport)
[04:27:46] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:27:46] [INFO] [Bullet] Body exited signal received for penetrating body
[04:27:46] [INFO] [Bullet] Exiting penetration at (976.9802, 773.6566) after traveling 33,333332 pixels through wall
[04:27:46] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[04:27:46] [INFO] [Bullet] Raycast backward hit penetrating body at distance 19,338556
[04:27:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(959.3069, 1395.088), shooter_id=2912222709855, bullet_pos=(641.2274, 66.02708)
[04:27:46] [INFO] [Bullet] Using shooter_position, distance=1366.59375
[04:27:46] [INFO] [Bullet] Distance to wall: 1366.59375 (93.0538813818205% of viewport)
[04:27:46] [INFO] [Bullet] Body exited signal received for penetrating body
[04:27:46] [INFO] [Bullet] Exiting penetration at (951.1613, 984.5775) after traveling 24,083334 pixels through wall
[04:27:46] [INFO] [Bullet] Damage multiplier after penetration: 0,225
[04:27:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(320.2299, 677.9338), shooter_id=2913044794336, bullet_pos=(503.93695, 239.8964)
[04:27:46] [INFO] [Bullet] Using shooter_position, distance=475,00003
[04:27:46] [INFO] [Bullet] Distance to wall: 475,00003 (32,343628% of viewport)
[04:27:46] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:27:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(421.34326, 661.4217), shooter_id=2913044794336, bullet_pos=(467.2094, 54.819805)
[04:27:46] [INFO] [Bullet] Using shooter_position, distance=608,33344
[04:27:46] [INFO] [Bullet] Distance to wall: 608,33344 (41,422543% of viewport)
[04:27:46] [INFO] [Bullet] Distance-based penetration chance: 98,34037%
[04:27:46] [INFO] [Bullet] Starting wall penetration at (467.2094, 54.819805)
[04:27:46] [INFO] [Bullet] Raycast backward hit penetrating body at distance 15,448385
[04:27:47] [INFO] [Bullet] Body exited signal received for penetrating body
[04:27:47] [INFO] [Bullet] Exiting penetration at (470.0996, 16.595585) after traveling 33,333332 pixels through wall
[04:27:47] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[04:27:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(621.9273, 759.4863), shooter_id=2910226221592, bullet_pos=(66.58414, 758.864)
[04:27:47] [INFO] [Bullet] Using shooter_position, distance=555.343444824219
[04:27:47] [INFO] [Bullet] Distance to wall: 555.343444824219 (37.8143563446301% of viewport)
[04:27:47] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:27:47] [INFO] [Bullet] Starting wall penetration at (66.58414, 758.864)
[04:27:47] [INFO] [Bullet] Raycast backward hit penetrating body at distance 3.7453236579895
[04:27:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(320.2299, 677.9338), shooter_id=2913044794336, bullet_pos=(398.37878, 66.10934)
[04:27:47] [INFO] [Bullet] Using shooter_position, distance=616,7953
[04:27:47] [INFO] [Bullet] Distance to wall: 616,7953 (41,998726% of viewport)
[04:27:47] [INFO] [Bullet] Max penetration distance exceeded: 66.6666717529297 >= 48
[04:27:47] [INFO] [Bullet] Body exited signal received for penetrating body
[04:27:47] [INFO] [Bullet] Exiting penetration at (-5.074505, 757.7913) after traveling 66.6666717529297 pixels through wall
[04:27:47] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[04:27:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(320.2299, 677.9338), shooter_id=2913044794336, bullet_pos=(253.04811, 233.59695)
[04:27:47] [INFO] [Bullet] Using shooter_position, distance=449,38693
[04:27:47] [INFO] [Bullet] Distance to wall: 449,38693 (30,599583% of viewport)
[04:27:47] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:27:47] [ENEMY] [Enemy3] Ragdoll activated
[04:27:47] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[04:27:47] [ENEMY] [Enemy1] Ragdoll activated
[04:27:47] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[04:27:47] [ENEMY] [Enemy2] Ragdoll activated
[04:27:47] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[04:27:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(320.2299, 677.9338), shooter_id=2913044794336, bullet_pos=(133.10992, 61.572464)
[04:27:47] [INFO] [Bullet] Using shooter_position, distance=644,1391
[04:27:47] [INFO] [Bullet] Distance to wall: 644,1391 (43,86062% of viewport)
[04:27:47] [INFO] [Bullet] Distance-based penetration chance: 95,49595%
[04:27:47] [INFO] [Bullet] Starting wall penetration at (133.10992, 61.572464)
[04:27:47] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[04:27:47] [INFO] [Bullet] Exiting penetration at (118.54244, 40.67865) after traveling 20,470835 pixels through wall
[04:27:47] [INFO] [Bullet] Damage multiplier after penetration: 0,1125
[04:27:47] [ENEMY] [Enemy4] Ragdoll activated
[04:27:47] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[04:27:47] [ENEMY] [Enemy10] FLANKING started: target=(503.587, 187.8609), side=left, pos=(963.637, 1411.16)
[04:27:47] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[04:27:47] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[04:27:47] [ENEMY] [Enemy1] Player reloading state changed: false -> true
[04:27:47] [ENEMY] [Enemy2] Player reloading state changed: false -> true
[04:27:47] [ENEMY] [Enemy3] Player reloading state changed: false -> true
[04:27:47] [ENEMY] [Enemy4] Player reloading state changed: false -> true
[04:27:47] [ENEMY] [Enemy5] Player reloading state changed: false -> true
[04:27:47] [ENEMY] [Enemy6] Player reloading state changed: false -> true
[04:27:47] [ENEMY] [Enemy7] Player reloading state changed: false -> true
[04:27:47] [ENEMY] [Enemy8] Player reloading state changed: false -> true
[04:27:47] [ENEMY] [Enemy9] Player reloading state changed: false -> true
[04:27:47] [ENEMY] [Enemy10] Player reloading state changed: false -> true
[04:27:47] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(305.9693, 182.8069), source=PLAYER (Player), range=900, listeners=6
[04:27:47] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=0, below_threshold=0
[04:27:47] [ENEMY] [Enemy5] Player vulnerable (reloading) but cannot attack: close=false (dist=1404), can_see=false
[04:27:47] [ENEMY] [Enemy6] Player vulnerable (reloading) but cannot attack: close=false (dist=1666), can_see=false
[04:27:47] [ENEMY] [Enemy7] Player vulnerable (reloading) but cannot attack: close=false (dist=1566), can_see=false
[04:27:47] [ENEMY] [Enemy8] Player vulnerable (reloading) but cannot attack: close=false (dist=2036), can_see=false
[04:27:47] [ENEMY] [Enemy9] Player vulnerable (reloading) but cannot attack: close=false (dist=2256), can_see=false
[04:27:47] [ENEMY] [Enemy10] Player vulnerable (reloading) but cannot attack: close=false (dist=1358), can_see=false
[04:27:47] [INFO] [Player.Reload.Anim] LeftArm: pos=(7.7538347, 2.7901232), target=(4, 2), base=(24, 6)
[04:27:47] [INFO] [Player.Reload.Anim] RightArm: pos=(-1.8032184, 6), target=(-2, 6), base=(-2, 6)
[04:27:47] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[04:27:48] [INFO] [Player.Reload.Anim] Phase changed to: PullBolt (duration: 0,35s)
[04:27:48] [ENEMY] [Enemy1] Player reloading state changed: true -> false
[04:27:48] [ENEMY] [Enemy2] Player reloading state changed: true -> false
[04:27:48] [ENEMY] [Enemy3] Player reloading state changed: true -> false
[04:27:48] [ENEMY] [Enemy4] Player reloading state changed: true -> false
[04:27:48] [ENEMY] [Enemy5] Player reloading state changed: true -> false
[04:27:48] [ENEMY] [Enemy6] Player reloading state changed: true -> false
[04:27:48] [ENEMY] [Enemy7] Player reloading state changed: true -> false
[04:27:48] [ENEMY] [Enemy8] Player reloading state changed: true -> false
[04:27:48] [ENEMY] [Enemy9] Player reloading state changed: true -> false
[04:27:48] [ENEMY] [Enemy10] Player reloading state changed: true -> false
[04:27:48] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[04:27:48] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[04:27:48] [ENEMY] [Enemy4] Death animation completed
[04:27:48] [ENEMY] [Enemy3] Death animation completed
[04:27:48] [ENEMY] [Enemy1] Death animation completed
[04:27:48] [ENEMY] [Enemy2] Death animation completed
[04:27:50] [INFO] [ScoreManager] Combo ended at 4. Max combo: 4
[04:27:52] [ENEMY] [Enemy10] State: FLANKING -> COMBAT
[04:27:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(350.352, 174.4834), source=PLAYER (AssaultRifle), range=1469, listeners=6
[04:27:52] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=2
[04:27:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(462.6844, 383.7422), source=ENEMY (Enemy10), range=1469, listeners=6
[04:27:52] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=2
[04:27:52] [INFO] [LastChance] Threat detected: @Area2D@3870
[04:27:52] [INFO] [LastChance] Effect already used this life
[04:27:52] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:27:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(363.387, 151.9287), source=PLAYER (AssaultRifle), range=1469, listeners=6
[04:27:52] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=2
[04:27:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(462.6844, 383.7422), source=ENEMY (Enemy10), range=1469, listeners=6
[04:27:52] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=2
[04:27:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(426.192, 326.1684), shooter_id=2912222709855, bullet_pos=(299.258, 63.5714)
[04:27:52] [INFO] [Bullet] Using shooter_position, distance=291.666595458984
[04:27:52] [INFO] [Bullet] Distance to wall: 291.666595458984 (19.8601148123791% of viewport)
[04:27:52] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:27:52] [INFO] [LastChance] Threat detected: @Area2D@3874
[04:27:52] [INFO] [LastChance] Effect already used this life
[04:27:52] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:27:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(361.2917, 132.7613), source=PLAYER (AssaultRifle), range=1469, listeners=6
[04:27:52] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=2
[04:27:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(426.192, 326.1684), shooter_id=2912222709855, bullet_pos=(231.3626, 232.5228)
[04:27:52] [INFO] [Bullet] Using shooter_position, distance=216.166580200195
[04:27:52] [INFO] [Bullet] Distance to wall: 216.166580200195 (14.719179941122% of viewport)
[04:27:52] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:27:52] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[04:27:52] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[04:27:52] [INFO] [PenultimateHit] Player died - ending penultimate effect
[04:27:52] [INFO] [LastChance] Player died
[04:27:52] [ENEMY] [Enemy10] State: COMBAT -> RETREATING
[04:27:52] [ENEMY] [Enemy10] Hit taken, health: 2/3
[04:27:52] [ENEMY] [Enemy10] ImpactEffectsManager found, calling spawn_blood_effect
[04:27:52] [INFO] [ImpactEffects] spawn_blood_effect called at (462.6844, 383.7422), dir=(1, 0), lethal=false
[04:27:52] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[04:27:52] [INFO] [ImpactEffects] Blood decals scheduled: 32 (2 merged splatters, 12 satellite drops)
[04:27:52] [INFO] [ImpactEffects] Wall found for blood splatter at (500, 383.7422) (dist=37 px)
[04:27:52] [INFO] [ImpactEffects] Blood effect spawned at (462.6844, 383.7422) (scale=1)
[04:27:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(345.406, 121.7122), source=PLAYER (AssaultRifle), range=1469, listeners=6
[04:27:52] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=0, below_threshold=1
[04:27:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(426.192, 326.1684), shooter_id=2912222709855, bullet_pos=(173.446, 56.16428)
[04:27:52] [INFO] [Bullet] Using shooter_position, distance=369.841522216797
[04:27:52] [INFO] [Bullet] Distance to wall: 369.841522216797 (25.1831893263333% of viewport)
[04:27:52] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:27:52] [INFO] [Bullet] Starting wall penetration at (173.446, 56.16428)
[04:27:52] [INFO] [Bullet] Raycast backward hit penetrating body at distance 3.64938020706177
[04:27:52] [INFO] [Bullet] Max penetration distance exceeded: 48.1666679382324 >= 48
[04:27:52] [INFO] [Bullet] Body exited signal received for penetrating body
[04:27:52] [INFO] [Bullet] Exiting penetration at (156.8575, 5.651722) after traveling 48.1666679382324 pixels through wall
[04:27:52] [INFO] [Bullet] Damage multiplier after penetration: 0.225
[04:27:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(325.7283, 123.7854), source=PLAYER (AssaultRifle), range=1469, listeners=6
[04:27:52] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=0, below_threshold=1
[04:27:52] [ENEMY] [Enemy10] Hit taken, health: 1/3
[04:27:52] [ENEMY] [Enemy10] ImpactEffectsManager found, calling spawn_blood_effect
[04:27:52] [INFO] [ImpactEffects] spawn_blood_effect called at (462.6844, 383.7422), dir=(1, 0), lethal=false
[04:27:52] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[04:27:52] [INFO] [ImpactEffects] Blood decals scheduled: 23 (5 merged splatters, 6 satellite drops)
[04:27:52] [INFO] [ImpactEffects] Wall found for blood splatter at (500, 383.7422) (dist=37 px)
[04:27:52] [INFO] [ImpactEffects] Blood effect spawned at (462.6844, 383.7422) (scale=1)
[04:27:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(363.387, 151.92874), shooter_id=2913044794336, bullet_pos=(616.6817, 1024.2311)
[04:27:52] [INFO] [Bullet] Using shooter_position, distance=908,33344
[04:27:52] [INFO] [Bullet] Distance to wall: 908,33344 (61,850094% of viewport)
[04:27:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(462.6844, 383.7422), source=ENEMY (Enemy10), range=1469, listeners=6
[04:27:53] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=2
[04:27:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(303.0099, 139.1689), source=PLAYER (AssaultRifle), range=1469, listeners=6
[04:27:53] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=0, below_threshold=1
[04:27:53] [ENEMY] [Enemy10] Hit taken, health: 0/3
[04:27:53] [ENEMY] [Enemy10] ImpactEffectsManager found, calling spawn_blood_effect
[04:27:53] [INFO] [ImpactEffects] spawn_blood_effect called at (456.7326, 383.261), dir=(1, 0), lethal=true
[04:27:53] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[04:27:53] [INFO] [ImpactEffects] Blood decals scheduled: 49 (10 merged splatters, 14 satellite drops)
[04:27:53] [INFO] [ImpactEffects] Wall found for blood splatter at (500, 383.261) (dist=43 px)
[04:27:53] [INFO] [ImpactEffects] Blood effect spawned at (456.7326, 383.261) (scale=1.5)
[04:27:53] [ENEMY] [Enemy10] Enemy died (ricochet: false, penetration: false)
[04:27:53] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[04:27:53] [INFO] [SoundPropagation] Unregistered listener: Enemy10 (remaining: 5)
[04:27:53] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[04:27:53] [ENEMY] [Enemy10] Death animation started with hit direction: (1, 0)
[04:27:53] [INFO] [LastChance] Threat detected: @Area2D@3888
[04:27:53] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[04:27:53] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:27:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(280.1585, 164.5786), source=PLAYER (AssaultRifle), range=1469, listeners=5
[04:27:53] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=0, below_threshold=1
[04:27:53] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(280.1585, 164.57857), shooter_id=2913044794336, bullet_pos=(339.9547, 234.05656)
[04:27:53] [INFO] [Bullet] Using shooter_position, distance=91,666664
[04:27:53] [INFO] [Bullet] Distance to wall: 91,666664 (6,2417517% of viewport)
[04:27:53] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:27:53] [INFO] [Bullet] Starting wall penetration at (339.9547, 234.05656)
[04:27:53] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(303.0099, 139.16891), shooter_id=2913044794336, bullet_pos=(506.83865, 433.88327)
[04:27:53] [INFO] [Bullet] Using shooter_position, distance=358,33325
[04:27:53] [INFO] [Bullet] Distance to wall: 358,33325 (24,39957% of viewport)
[04:27:53] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:27:53] [INFO] [Bullet] Raycast backward hit penetrating body at distance 38,263916
[04:27:53] [INFO] [Bullet] Body exited signal received for penetrating body
[04:27:53] [INFO] [Bullet] Exiting penetration at (364.9604, 263.111) after traveling 33,333336 pixels through wall
[04:27:53] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[04:27:53] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[04:27:53] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[04:27:53] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[04:27:53] [INFO] [LastChance] Resetting all effects (scene change detected)
[04:27:53] [ENEMY] [Enemy1] Death animation component initialized
[04:27:53] [ENEMY] [Enemy2] Death animation component initialized
[04:27:53] [ENEMY] [Enemy3] Death animation component initialized
[04:27:53] [ENEMY] [Enemy4] Death animation component initialized
[04:27:53] [ENEMY] [Enemy5] Death animation component initialized
[04:27:53] [ENEMY] [Enemy6] Death animation component initialized
[04:27:53] [ENEMY] [Enemy7] Death animation component initialized
[04:27:53] [ENEMY] [Enemy8] Death animation component initialized
[04:27:53] [ENEMY] [Enemy9] Death animation component initialized
[04:27:53] [ENEMY] [Enemy10] Death animation component initialized
[04:27:53] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[04:27:53] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[04:27:53] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[04:27:53] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[04:27:53] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[04:27:53] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[04:27:53] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[04:27:53] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[04:27:53] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[04:27:53] [INFO] [ScoreManager] Level started with 10 enemies
[04:27:53] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 6)
[04:27:53] [ENEMY] [Enemy1] Registered as sound listener
[04:27:53] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[04:27:53] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 7)
[04:27:53] [ENEMY] [Enemy2] Registered as sound listener
[04:27:53] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[04:27:53] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 8)
[04:27:53] [ENEMY] [Enemy3] Registered as sound listener
[04:27:53] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[04:27:53] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 9)
[04:27:53] [ENEMY] [Enemy4] Registered as sound listener
[04:27:53] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[04:27:53] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 10)
[04:27:53] [ENEMY] [Enemy5] Registered as sound listener
[04:27:53] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[04:27:53] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 11)
[04:27:53] [ENEMY] [Enemy6] Registered as sound listener
[04:27:53] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[04:27:53] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 12)
[04:27:53] [ENEMY] [Enemy7] Registered as sound listener
[04:27:53] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[04:27:53] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 13)
[04:27:53] [ENEMY] [Enemy8] Registered as sound listener
[04:27:53] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[04:27:53] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 14)
[04:27:53] [ENEMY] [Enemy9] Registered as sound listener
[04:27:53] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[04:27:53] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 15)
[04:27:53] [ENEMY] [Enemy10] Registered as sound listener
[04:27:53] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[04:27:53] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[04:27:53] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[04:27:53] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[04:27:53] [INFO] [LastChance] Found player: Player
[04:27:53] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[04:27:53] [INFO] [LastChance] Connected to player Damaged signal (C#)
[04:27:53] [INFO] [LastChance] Connected to player Died signal (C#)
[04:27:53] [INFO] [Player] Detecting weapon pose (frame 3)...
[04:27:53] [INFO] [Player] Detected weapon: Rifle (default pose)
[04:27:53] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[04:27:55] [INFO] ------------------------------------------------------------
[04:27:55] [INFO] GAME LOG ENDED: 2026-01-24T04:27:55
[04:27:55] [INFO] ============================================================
