[04:28:18] [INFO] ============================================================
[04:28:18] [INFO] GAME LOG STARTED
[04:28:18] [INFO] ============================================================
[04:28:18] [INFO] Timestamp: 2026-01-24T04:28:18
[04:28:18] [INFO] Log file: I:/Загрузки/godot exe/game_log_20260124_042818.txt
[04:28:18] [INFO] Executable: I:/Загрузки/godot exe/Godot-Top-Down-Template.exe
[04:28:18] [INFO] OS: Windows
[04:28:18] [INFO] Debug build: false
[04:28:18] [INFO] Engine version: 4.3-stable (official)
[04:28:18] [INFO] Project: Godot Top-Down Template
[04:28:18] [INFO] ------------------------------------------------------------
[04:28:18] [INFO] [GameManager] GameManager ready
[04:28:18] [INFO] [ScoreManager] ScoreManager ready
[04:28:18] [INFO] [SoundPropagation] SoundPropagation autoload initialized
[04:28:18] [INFO] [ImpactEffects] Scenes loaded: DustEffect, BloodEffect, SparksEffect, BloodDecal
[04:28:18] [INFO] [ImpactEffects] ImpactEffectsManager ready - FULL VERSION with blood effects enabled
[04:28:18] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[04:28:18] [INFO] [PenultimateHit] Saturation shader loaded successfully
[04:28:18] [INFO] [PenultimateHit] PenultimateHitEffectsManager ready - Configuration:
[04:28:18] [INFO] [PenultimateHit]   Time scale: 0.10 (10x slowdown)
[04:28:18] [INFO] [PenultimateHit]   Saturation boost: 2.0 (3.0x)
[04:28:18] [INFO] [PenultimateHit]   Contrast boost: 1.0 (2.0x)
[04:28:18] [INFO] [PenultimateHit]   Effect duration: 3.0 real seconds
[04:28:18] [INFO] [LastChance] Resetting all effects (scene change detected)
[04:28:18] [INFO] [LastChance] Last chance shader loaded successfully
[04:28:18] [INFO] [LastChance] LastChanceEffectsManager ready - Configuration:
[04:28:18] [INFO] [LastChance]   Freeze duration: 6.0 real seconds
[04:28:18] [INFO] [LastChance]   Sepia intensity: 0.70
[04:28:18] [INFO] [LastChance]   Brightness: 0.60
[04:28:18] [INFO] [GrenadeManager] Loaded grenade scene: res://scenes/projectiles/FlashbangGrenade.tscn
[04:28:18] [INFO] [GrenadeManager] Loaded grenade scene: res://scenes/projectiles/FragGrenade.tscn
[04:28:18] [ENEMY] [Enemy1] Death animation component initialized
[04:28:18] [ENEMY] [Enemy2] Death animation component initialized
[04:28:18] [ENEMY] [Enemy3] Death animation component initialized
[04:28:18] [ENEMY] [Enemy4] Death animation component initialized
[04:28:18] [ENEMY] [Enemy5] Death animation component initialized
[04:28:18] [ENEMY] [Enemy6] Death animation component initialized
[04:28:18] [ENEMY] [Enemy7] Death animation component initialized
[04:28:18] [ENEMY] [Enemy8] Death animation component initialized
[04:28:18] [ENEMY] [Enemy9] Death animation component initialized
[04:28:18] [ENEMY] [Enemy10] Death animation component initialized
[04:28:18] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[04:28:18] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[04:28:18] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[04:28:18] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[04:28:18] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[04:28:18] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[04:28:18] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[04:28:18] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[04:28:18] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[04:28:18] [INFO] [ScoreManager] Level started with 10 enemies
[04:28:18] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 1)
[04:28:18] [ENEMY] [Enemy1] Registered as sound listener
[04:28:18] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[04:28:18] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 2)
[04:28:18] [ENEMY] [Enemy2] Registered as sound listener
[04:28:18] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[04:28:18] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 3)
[04:28:18] [ENEMY] [Enemy3] Registered as sound listener
[04:28:18] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[04:28:18] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 4)
[04:28:18] [ENEMY] [Enemy4] Registered as sound listener
[04:28:18] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[04:28:18] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 5)
[04:28:18] [ENEMY] [Enemy5] Registered as sound listener
[04:28:18] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[04:28:18] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 6)
[04:28:18] [ENEMY] [Enemy6] Registered as sound listener
[04:28:18] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[04:28:18] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 7)
[04:28:18] [ENEMY] [Enemy7] Registered as sound listener
[04:28:18] [ENEMY] [Enemy7] Enemy spawned at (1606.114, 893.8859), health: 3, behavior: PATROL, player_found: yes
[04:28:18] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 8)
[04:28:18] [ENEMY] [Enemy8] Registered as sound listener
[04:28:18] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[04:28:18] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 9)
[04:28:18] [ENEMY] [Enemy9] Registered as sound listener
[04:28:18] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[04:28:18] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 10)
[04:28:18] [ENEMY] [Enemy10] Registered as sound listener
[04:28:18] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[04:28:18] [INFO] [Player] Detecting weapon pose (frame 3)...
[04:28:18] [INFO] [Player] Detected weapon: Rifle (default pose)
[04:28:18] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[04:28:18] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[04:28:18] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[04:28:18] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[04:28:18] [INFO] [LastChance] Found player: Player
[04:28:18] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[04:28:18] [INFO] [LastChance] Connected to player Damaged signal (C#)
[04:28:18] [INFO] [LastChance] Connected to player Died signal (C#)
[04:28:20] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[04:28:20] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[04:28:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1157.608, 1581.853), source=ENEMY (Enemy10), range=1469, listeners=10
[04:28:20] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=8
[04:28:21] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[04:28:21] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1133.441, 1557.657), source=ENEMY (Enemy10), range=1469, listeners=10
[04:28:21] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[04:28:21] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[04:28:21] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1099.889, 1545.809), shooter_id=44509955722, bullet_pos=(57.36637, 714.59)
[04:28:21] [INFO] [Bullet] Using shooter_position, distance=1333.33374023438
[04:28:21] [INFO] [Bullet] Distance to wall: 1333.33374023438 (90.789146157114% of viewport)
[04:28:21] [INFO] [Bullet] Distance-based penetration chance: 40.7459961500336%
[04:28:21] [INFO] [Bullet] Starting wall penetration at (57.36637, 714.59)
[04:28:21] [INFO] [Bullet] Raycast backward hit penetrating body at distance 14.2243766784668
[04:28:21] [INFO] [Bullet] Body exited signal received for penetrating body
[04:28:21] [INFO] [Bullet] Exiting penetration at (20.87807, 685.4973) after traveling 41.6666679382324 pixels through wall
[04:28:21] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[04:28:21] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[04:28:21] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1076.804, 1519.937), shooter_id=44509955722, bullet_pos=(122.7052, 712.35)
[04:28:21] [INFO] [Bullet] Using shooter_position, distance=1250.00036621094
[04:28:21] [INFO] [Bullet] Distance to wall: 1250.00036621094 (85.1148234832954% of viewport)
[04:28:21] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1076.804, 1519.937), shooter_id=44509955722, bullet_pos=(61.39935, 756.985)
[04:28:21] [INFO] [Bullet] Using shooter_position, distance=1270.09533691406
[04:28:21] [INFO] [Bullet] Distance to wall: 1270.09533691406 (86.483126989864% of viewport)
[04:28:21] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(470.3253, 773.5858), source=PLAYER (AssaultRifle), range=1469, listeners=10
[04:28:21] [ENEMY] [Enemy1] Heard gunshot at (470.3253, 773.5858), source_type=0, intensity=0.01, distance=457
[04:28:21] [ENEMY] [Enemy2] Heard gunshot at (470.3253, 773.5858), source_type=0, intensity=0.05, distance=234
[04:28:21] [ENEMY] [Enemy4] Heard gunshot at (470.3253, 773.5858), source_type=0, intensity=0.02, distance=353
[04:28:21] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[04:28:21] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4551, 753.7862), source=ENEMY (Enemy3), range=1469, listeners=10
[04:28:21] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[04:28:21] [INFO] [LastChance] Threat detected: @Area2D@291
[04:28:21] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[04:28:21] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:28:21] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(493.8587, 755.2266), source=PLAYER (AssaultRifle), range=1469, listeners=10
[04:28:21] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[04:28:21] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[04:28:21] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[04:28:21] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4551, 753.7862), source=ENEMY (Enemy3), range=1469, listeners=10
[04:28:21] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[04:28:21] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(470.32535, 773.5858), shooter_id=45332039355, bullet_pos=(911.8712, 783.916)
[04:28:21] [INFO] [Bullet] Using shooter_position, distance=441,6667
[04:28:21] [INFO] [Bullet] Distance to wall: 441,6667 (30,073898% of viewport)
[04:28:21] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:28:21] [INFO] [Bullet] Starting wall penetration at (911.8712, 783.916)
[04:28:21] [ENEMY] [Enemy3] Hit taken, health: 1/2
[04:28:21] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[04:28:21] [INFO] [ImpactEffects] spawn_blood_effect called at (684.4551, 753.7862), dir=(1, 0), lethal=false
[04:28:21] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[04:28:21] [INFO] [ImpactEffects] Blood decals scheduled: 21 (4 merged splatters, 3 satellite drops)
[04:28:21] [INFO] [ImpactEffects] Blood effect spawned at (684.4551, 753.7862) (scale=1)
[04:28:21] [INFO] [LastChance] Threat detected: @Area2D@295
[04:28:21] [INFO] [LastChance] Player health is 3.0 - effect requires exactly 1 HP or less but alive
[04:28:21] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:28:21] [INFO] [Bullet] Raycast backward hit penetrating body at distance 22,531311
[04:28:21] [INFO] [Bullet] Body exited signal received for penetrating body
[04:28:21] [INFO] [Bullet] Exiting penetration at (958.52515, 785.0075) after traveling 41,66667 pixels through wall
[04:28:21] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[04:28:21] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[04:28:21] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(534.6917, 747.2988), source=PLAYER (AssaultRifle), range=1469, listeners=10
[04:28:21] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=2, self=0, below_threshold=4
[04:28:21] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[04:28:22] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[04:28:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(685.6958, 755.5217), source=ENEMY (Enemy3), range=1469, listeners=10
[04:28:22] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[04:28:22] [INFO] [LastChance] Threat detected: @Area2D@299
[04:28:22] [INFO] [LastChance] Player health is 3.0 - effect requires exactly 1 HP or less but alive
[04:28:22] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:28:22] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(534.69165, 747.29877), shooter_id=45332039355, bullet_pos=(714.20087, 814.4745)
[04:28:22] [INFO] [Bullet] Using shooter_position, distance=191,66673
[04:28:22] [INFO] [Bullet] Distance to wall: 191,66673 (13,0509405% of viewport)
[04:28:22] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:28:22] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[04:28:22] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[04:28:22] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[04:28:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=10
[04:28:22] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=4
[04:28:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(690.7178, 762.4207), source=ENEMY (Enemy3), range=1469, listeners=10
[04:28:22] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[04:28:22] [INFO] [LastChance] Threat detected: @Area2D@304
[04:28:22] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[04:28:22] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:28:22] [INFO] [LastChance] Threat detected: @Area2D@302
[04:28:22] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[04:28:22] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:28:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(569.1509, 756.7511), source=PLAYER (AssaultRifle), range=1469, listeners=10
[04:28:22] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=2, self=0, below_threshold=4
[04:28:22] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(435.9718, 607.7635), shooter_id=42228254210, bullet_pos=(498.2154, 686.0307)
[04:28:22] [INFO] [Bullet] Using shooter_position, distance=100.000061035156
[04:28:22] [INFO] [Bullet] Distance to wall: 100.000061035156 (6.80918803978156% of viewport)
[04:28:22] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:28:22] [INFO] [Bullet] Starting wall penetration at (498.2154, 686.0307)
[04:28:22] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[04:28:22] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[04:28:22] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[04:28:22] [INFO] [Bullet] Raycast backward hit penetrating body at distance 35.466251373291
[04:28:22] [INFO] [Bullet] Body exited signal received for penetrating body
[04:28:22] [INFO] [Bullet] Exiting penetration at (522.0754, 716.0331) after traveling 33.3333320617676 pixels through wall
[04:28:22] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[04:28:22] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[04:28:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(695.8533, 769.2355), source=ENEMY (Enemy3), range=1469, listeners=10
[04:28:22] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[04:28:22] [INFO] [LastChance] Threat detected: @Area2D@308
[04:28:22] [INFO] [LastChance] Triggering last chance effect!
[04:28:22] [INFO] [LastChance] Starting last chance effect:
[04:28:22] [INFO] [LastChance]   - Time will be frozen (except player)
[04:28:22] [INFO] [LastChance]   - Duration: 6.0 real seconds
[04:28:22] [INFO] [LastChance]   - Sepia intensity: 0.70
[04:28:22] [INFO] [LastChance]   - Brightness: 0.60
[04:28:22] [INFO] [LastChance] Pushed bullet @Area2D@305 from distance 87.3 to 200.0
[04:28:22] [INFO] [LastChance] Pushed bullet @Area2D@308 from distance 54.2 to 200.0
[04:28:22] [INFO] [LastChance] Pushed 2 threatening bullets away from player
[04:28:22] [INFO] [LastChance] Set player Player and all 18 children to PROCESS_MODE_ALWAYS
[04:28:22] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[04:28:22] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[04:28:22] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[04:28:22] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[04:28:22] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[04:28:22] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[04:28:22] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[04:28:22] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[04:28:22] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[04:28:22] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[04:28:22] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[04:28:22] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[04:28:22] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[04:28:22] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[04:28:22] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[04:28:22] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[04:28:22] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[04:28:22] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[04:28:22] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[04:28:22] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[04:28:22] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[04:28:22] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[04:28:22] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[04:28:22] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[04:28:22] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[04:28:22] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[04:28:22] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[04:28:22] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[04:28:22] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[04:28:22] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[04:28:22] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[04:28:22] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[04:28:22] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[04:28:22] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[04:28:22] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[04:28:22] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[04:28:22] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[04:28:22] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[04:28:22] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[04:28:22] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[04:28:22] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[04:28:22] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[04:28:22] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[04:28:22] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[04:28:22] [INFO] [LastChance] Skipping player node: Player
[04:28:22] [INFO] [LastChance] Froze existing bullet casing: Casing
[04:28:22] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@287
[04:28:22] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@290
[04:28:22] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@292
[04:28:22] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@294
[04:28:22] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@296
[04:28:22] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@298
[04:28:22] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@300
[04:28:22] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@303
[04:28:22] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@306
[04:28:22] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@309
[04:28:22] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[04:28:22] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[04:28:22] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[04:28:23] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@319
[04:28:23] [INFO] [LastChance] Registered frozen player bullet: @Area2D@319
[04:28:23] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@320
[04:28:23] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@320
[04:28:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(600.7368, 950.4628), source=PLAYER (AssaultRifle), range=1469, listeners=10
[04:28:23] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=6
[04:28:23] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@321
[04:28:23] [INFO] [LastChance] Registered frozen player bullet: @Area2D@321
[04:28:23] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@322
[04:28:23] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@322
[04:28:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(600.7368, 950.4628), source=PLAYER (AssaultRifle), range=1469, listeners=10
[04:28:23] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=6
[04:28:23] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@323
[04:28:23] [INFO] [LastChance] Registered frozen player bullet: @Area2D@323
[04:28:23] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@324
[04:28:23] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@324
[04:28:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(600.7368, 950.4628), source=PLAYER (AssaultRifle), range=1469, listeners=10
[04:28:23] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=6
[04:28:23] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@325
[04:28:23] [INFO] [LastChance] Registered frozen player bullet: @Area2D@325
[04:28:23] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@326
[04:28:23] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@326
[04:28:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(600.7368, 942.7827), source=PLAYER (AssaultRifle), range=1469, listeners=10
[04:28:23] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=6
[04:28:25] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@327
[04:28:25] [INFO] [LastChance] Registered frozen player bullet: @Area2D@327
[04:28:25] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@328
[04:28:25] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@328
[04:28:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(402.3181, 599.6816), source=PLAYER (AssaultRifle), range=1469, listeners=10
[04:28:25] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[04:28:25] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@329
[04:28:25] [INFO] [LastChance] Registered frozen player bullet: @Area2D@329
[04:28:25] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@330
[04:28:25] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@330
[04:28:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(390.7807, 595.4996), source=PLAYER (AssaultRifle), range=1469, listeners=10
[04:28:25] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[04:28:25] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@331
[04:28:25] [INFO] [LastChance] Registered frozen player bullet: @Area2D@331
[04:28:25] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@332
[04:28:25] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@332
[04:28:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(387.7534, 595.1271), source=PLAYER (AssaultRifle), range=1469, listeners=10
[04:28:25] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[04:28:27] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@333
[04:28:27] [INFO] [LastChance] Registered frozen player bullet: @Area2D@333
[04:28:27] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@334
[04:28:27] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@334
[04:28:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(175.7199, 402.8188), source=PLAYER (AssaultRifle), range=1469, listeners=10
[04:28:27] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=3
[04:28:27] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@335
[04:28:27] [INFO] [LastChance] Registered frozen player bullet: @Area2D@335
[04:28:27] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@336
[04:28:27] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@336
[04:28:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(175.7199, 400.2632), source=PLAYER (AssaultRifle), range=1469, listeners=10
[04:28:27] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=3
[04:28:27] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@337
[04:28:27] [INFO] [LastChance] Registered frozen player bullet: @Area2D@337
[04:28:27] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@338
[04:28:27] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@338
[04:28:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(175.7199, 400.2632), source=PLAYER (AssaultRifle), range=1469, listeners=10
[04:28:27] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=3
[04:28:28] [INFO] [LastChance] Effect duration expired after 6.00 real seconds
[04:28:28] [INFO] [LastChance] Ending last chance effect
[04:28:28] [INFO] [LastChance] All process modes restored
[04:28:28] [INFO] [LastChance] Unfroze player bullet: @Area2D@319
[04:28:28] [INFO] [LastChance] Unfroze player bullet: @Area2D@321
[04:28:28] [INFO] [LastChance] Unfroze player bullet: @Area2D@323
[04:28:28] [INFO] [LastChance] Unfroze player bullet: @Area2D@325
[04:28:28] [INFO] [LastChance] Unfroze player bullet: @Area2D@327
[04:28:28] [INFO] [LastChance] Unfroze player bullet: @Area2D@329
[04:28:28] [INFO] [LastChance] Unfroze player bullet: @Area2D@331
[04:28:28] [INFO] [LastChance] Unfroze player bullet: @Area2D@333
[04:28:28] [INFO] [LastChance] Unfroze player bullet: @Area2D@335
[04:28:28] [INFO] [LastChance] Unfroze player bullet: @Area2D@337
[04:28:28] [INFO] [LastChance] Unfroze bullet casing: Casing
[04:28:28] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@287
[04:28:28] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@290
[04:28:28] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@292
[04:28:28] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@294
[04:28:28] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@296
[04:28:28] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@298
[04:28:28] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@300
[04:28:28] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@303
[04:28:28] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@306
[04:28:28] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@309
[04:28:28] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@320
[04:28:28] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@322
[04:28:28] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@324
[04:28:28] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@326
[04:28:28] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@328
[04:28:28] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@330
[04:28:28] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@332
[04:28:28] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@334
[04:28:28] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@336
[04:28:28] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@338
[04:28:28] [INFO] [LastChance] Restored original colors to 5 player sprites
[04:28:28] [INFO] [LastChance] Called player RefreshHealthVisual (C#)
[04:28:28] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[04:28:28] [ENEMY] [Enemy2] Hit taken, health: 2/3
[04:28:28] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[04:28:28] [INFO] [ImpactEffects] spawn_blood_effect called at (400, 550), dir=(1, 0), lethal=false
[04:28:28] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[04:28:28] [INFO] [ImpactEffects] Blood decals scheduled: 23 (5 merged splatters, 6 satellite drops)
[04:28:28] [INFO] [ImpactEffects] Wall found for blood splatter at (500, 550) (dist=100 px)
[04:28:28] [INFO] [ImpactEffects] Blood effect spawned at (400, 550) (scale=1)
[04:28:28] [ENEMY] [Enemy2] Hit taken, health: 1/3
[04:28:28] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[04:28:28] [INFO] [ImpactEffects] spawn_blood_effect called at (400, 550), dir=(1, 0), lethal=false
[04:28:28] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[04:28:28] [INFO] [ImpactEffects] Blood decals scheduled: 26 (1 merged splatters, 5 satellite drops)
[04:28:28] [INFO] [ImpactEffects] Wall found for blood splatter at (500, 550) (dist=100 px)
[04:28:28] [INFO] [ImpactEffects] Blood effect spawned at (400, 550) (scale=1)
[04:28:28] [ENEMY] [Enemy2] Hit taken, health: 0/3
[04:28:28] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[04:28:28] [INFO] [ImpactEffects] spawn_blood_effect called at (400, 550), dir=(1, 0), lethal=true
[04:28:28] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[04:28:28] [INFO] [ImpactEffects] Blood decals scheduled: 38 (10 merged splatters, 3 satellite drops)
[04:28:28] [INFO] [ImpactEffects] Wall found for blood splatter at (500, 550) (dist=100 px)
[04:28:28] [INFO] [ImpactEffects] Blood effect spawned at (400, 550) (scale=1.5)
[04:28:28] [ENEMY] [Enemy2] Enemy died (ricochet: false, penetration: false)
[04:28:28] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[04:28:28] [INFO] [SoundPropagation] Unregistered listener: Enemy2 (remaining: 9)
[04:28:28] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[04:28:28] [ENEMY] [Enemy2] Death animation started with hit direction: (1, 0)
[04:28:28] [ENEMY] [Enemy1] Hit taken, health: 3/4
[04:28:28] [ENEMY] [Enemy1] ImpactEffectsManager found, calling spawn_blood_effect
[04:28:28] [INFO] [ImpactEffects] spawn_blood_effect called at (255.0766, 401.9326), dir=(1, 0), lethal=false
[04:28:28] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[04:28:28] [INFO] [ImpactEffects] Blood decals scheduled: 24 (4 merged splatters, 6 satellite drops)
[04:28:28] [INFO] [ImpactEffects] Blood effect spawned at (255.0766, 401.9326) (scale=1)
[04:28:28] [ENEMY] [Enemy1] Hit taken, health: 2/4
[04:28:28] [ENEMY] [Enemy1] ImpactEffectsManager found, calling spawn_blood_effect
[04:28:28] [INFO] [ImpactEffects] spawn_blood_effect called at (255.0766, 401.9326), dir=(1, 0), lethal=false
[04:28:28] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[04:28:28] [INFO] [ImpactEffects] Blood decals scheduled: 34 (2 merged splatters, 9 satellite drops)
[04:28:28] [INFO] [ImpactEffects] Blood effect spawned at (255.0766, 401.9326) (scale=1)
[04:28:28] [ENEMY] [Enemy1] Hit taken, health: 1/4
[04:28:28] [ENEMY] [Enemy1] ImpactEffectsManager found, calling spawn_blood_effect
[04:28:28] [INFO] [ImpactEffects] spawn_blood_effect called at (255.0766, 401.9326), dir=(1, 0), lethal=false
[04:28:28] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[04:28:28] [INFO] [ImpactEffects] Blood decals scheduled: 34 (3 merged splatters, 15 satellite drops)
[04:28:28] [INFO] [ImpactEffects] Blood effect spawned at (255.0766, 401.9326) (scale=1)
[04:28:28] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[04:28:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(534.69165, 747.29877), shooter_id=45332039355, bullet_pos=(933.6567, 703.6901)
[04:28:28] [INFO] [Bullet] Using shooter_position, distance=401,34128
[04:28:28] [INFO] [Bullet] Distance to wall: 401,34128 (27,328066% of viewport)
[04:28:28] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:28:28] [INFO] [Bullet] Starting wall penetration at (933.6567, 703.6901)
[04:28:28] [INFO] [Bullet] Raycast backward hit penetrating body at distance 30,708357
[04:28:28] [ENEMY] [Enemy4] Hit taken, health: 2/3
[04:28:28] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[04:28:28] [INFO] [ImpactEffects] spawn_blood_effect called at (748.4911, 914.0658), dir=(1, 0), lethal=false
[04:28:28] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[04:28:28] [INFO] [ImpactEffects] Blood decals scheduled: 22 (0 merged splatters, 0 satellite drops)
[04:28:28] [INFO] [ImpactEffects] Blood effect spawned at (748.4911, 914.0658) (scale=1)
[04:28:28] [ENEMY] [Enemy4] Hit taken, health: 1/3
[04:28:28] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[04:28:28] [INFO] [ImpactEffects] spawn_blood_effect called at (748.4911, 914.0658), dir=(1, 0), lethal=false
[04:28:28] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[04:28:28] [INFO] [ImpactEffects] Blood decals scheduled: 27 (1 merged splatters, 6 satellite drops)
[04:28:28] [INFO] [ImpactEffects] Blood effect spawned at (748.4911, 914.0658) (scale=1)
[04:28:28] [ENEMY] [Enemy4] Hit taken, health: 0/3
[04:28:28] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[04:28:28] [INFO] [ImpactEffects] spawn_blood_effect called at (748.4911, 914.0658), dir=(1, 0), lethal=true
[04:28:28] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[04:28:28] [INFO] [ImpactEffects] Blood decals scheduled: 46 (10 merged splatters, 11 satellite drops)
[04:28:28] [INFO] [ImpactEffects] Blood effect spawned at (748.4911, 914.0658) (scale=1.5)
[04:28:28] [ENEMY] [Enemy4] Enemy died (ricochet: false, penetration: false)
[04:28:28] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[04:28:28] [INFO] [SoundPropagation] Unregistered listener: Enemy4 (remaining: 8)
[04:28:28] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[04:28:28] [ENEMY] [Enemy4] Death animation started with hit direction: (1, 0)
[04:28:28] [INFO] [Bullet] Body exited signal received for penetrating body
[04:28:28] [INFO] [Bullet] Exiting penetration at (963.4134, 688.6685) after traveling 28,333332 pixels through wall
[04:28:28] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[04:28:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(534.69165, 747.29877), shooter_id=45332039355, bullet_pos=(963.4134, 688.6685)
[04:28:28] [INFO] [Bullet] Using shooter_position, distance=432,7122
[04:28:28] [INFO] [Bullet] Distance to wall: 432,7122 (29,46417% of viewport)
[04:28:28] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:28:28] [INFO] [Bullet] Starting wall penetration at (963.4134, 688.6685)
[04:28:28] [INFO] [Bullet] Raycast backward hit penetrating body at distance 31,849873
[04:28:28] [INFO] [Bullet] Body exited signal received for penetrating body
[04:28:28] [INFO] [Bullet] Exiting penetration at (993.1701, 673.6469) after traveling 28,333332 pixels through wall
[04:28:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(569.1509, 756.7511), shooter_id=45332039355, bullet_pos=(913.5447, 934.6007)
[04:28:28] [INFO] [Bullet] Using shooter_position, distance=387,60492
[04:28:28] [INFO] [Bullet] Distance to wall: 387,60492 (26,39273% of viewport)
[04:28:28] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:28:28] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[04:28:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(600.73676, 942.7827), shooter_id=45332039355, bullet_pos=(936.1934, 877.93695)
[04:28:28] [INFO] [Bullet] Using shooter_position, distance=341,66672
[04:28:28] [INFO] [Bullet] Distance to wall: 341,66672 (23,264715% of viewport)
[04:28:28] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:28:28] [INFO] [Bullet] Starting wall penetration at (936.1934, 877.93695)
[04:28:28] [INFO] [Bullet] Raycast backward hit penetrating body at distance 38,53033
[04:28:28] [INFO] [Bullet] Body exited signal received for penetrating body
[04:28:28] [INFO] [Bullet] Exiting penetration at (973.83, 870.66156) after traveling 33,333336 pixels through wall
[04:28:28] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[04:28:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(569.1509, 756.7511), shooter_id=45332039355, bullet_pos=(754.1375, 1006.8112)
[04:28:28] [INFO] [Bullet] Using shooter_position, distance=311,0468
[04:28:28] [INFO] [Bullet] Distance to wall: 311,0468 (21,17975% of viewport)
[04:28:28] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:28:28] [ENEMY] [Enemy1] State: PURSUING -> RETREATING
[04:28:28] [ENEMY] [Enemy1] State: RETREATING -> IN_COVER
[04:28:28] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[04:28:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(627.8173, 767.9359), shooter_id=42513466899, bullet_pos=(58.84726, 708.2084)
[04:28:28] [INFO] [Bullet] Using shooter_position, distance=572.096313476563
[04:28:28] [INFO] [Bullet] Distance to wall: 572.096313476563 (38.9550899769773% of viewport)
[04:28:28] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:28:28] [INFO] [Bullet] Starting wall penetration at (58.84726, 708.2084)
[04:28:28] [INFO] [Bullet] Raycast backward hit penetrating body at distance 11.2433023452759
[04:28:28] [INFO] [Bullet] Body exited signal received for penetrating body
[04:28:28] [INFO] [Bullet] Exiting penetration at (20.85745, 703.088) after traveling 33.3333320617676 pixels through wall
[04:28:28] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[04:28:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(569.1509, 756.7511), shooter_id=45332039355, bullet_pos=(514.87573, 881.87683)
[04:28:28] [INFO] [Bullet] Using shooter_position, distance=136,39003
[04:28:28] [INFO] [Bullet] Distance to wall: 136,39003 (9,287048% of viewport)
[04:28:28] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:28:28] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[04:28:28] [ENEMY] [Enemy1] Player reloading state changed: false -> true
[04:28:28] [ENEMY] [Enemy2] Player reloading state changed: false -> true
[04:28:28] [ENEMY] [Enemy3] Player reloading state changed: false -> true
[04:28:28] [ENEMY] [Enemy4] Player reloading state changed: false -> true
[04:28:28] [ENEMY] [Enemy5] Player reloading state changed: false -> true
[04:28:28] [ENEMY] [Enemy6] Player reloading state changed: false -> true
[04:28:28] [ENEMY] [Enemy7] Player reloading state changed: false -> true
[04:28:28] [ENEMY] [Enemy8] Player reloading state changed: false -> true
[04:28:28] [ENEMY] [Enemy9] Player reloading state changed: false -> true
[04:28:28] [ENEMY] [Enemy10] Player reloading state changed: false -> true
[04:28:28] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(311.3734, 192.6617), source=PLAYER (Player), range=900, listeners=8
[04:28:28] [ENEMY] [Enemy1] Heard player RELOAD at (311.3734, 192.6617), intensity=0.05, distance=217
[04:28:28] [ENEMY] [Enemy1] Vulnerability sound triggered pursuit - transitioning from SUPPRESSED to PURSUING
[04:28:28] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=0, below_threshold=1
[04:28:28] [ENEMY] [Enemy1] Player vulnerable (reloading) but cannot attack: close=true (dist=217), can_see=false
[04:28:28] [ENEMY] [Enemy1] Pursuing vulnerability sound at (311.3734, 192.6617), distance=217
[04:28:28] [ENEMY] [Enemy3] Player vulnerable (reloading) but cannot attack: close=false (dist=698), can_see=false
[04:28:28] [ENEMY] [Enemy5] Player vulnerable (reloading) but cannot attack: close=false (dist=1398), can_see=false
[04:28:28] [ENEMY] [Enemy6] Player vulnerable (reloading) but cannot attack: close=false (dist=1659), can_see=false
[04:28:28] [ENEMY] [Enemy7] Player vulnerable (reloading) but cannot attack: close=false (dist=1480), can_see=false
[04:28:28] [ENEMY] [Enemy8] Player vulnerable (reloading) but cannot attack: close=false (dist=2026), can_see=false
[04:28:28] [ENEMY] [Enemy9] Player vulnerable (reloading) but cannot attack: close=false (dist=2245), can_see=false
[04:28:28] [ENEMY] [Enemy10] Player vulnerable (reloading) but cannot attack: close=false (dist=1491), can_see=false
[04:28:28] [ENEMY] [Enemy3] Hit taken, health: 0/2
[04:28:28] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[04:28:28] [INFO] [ImpactEffects] spawn_blood_effect called at (698.765, 773.0516), dir=(1, 0), lethal=true
[04:28:28] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[04:28:28] [INFO] [ImpactEffects] Blood decals scheduled: 48 (9 merged splatters, 12 satellite drops)
[04:28:28] [INFO] [ImpactEffects] Blood effect spawned at (698.765, 773.0516) (scale=1.5)
[04:28:28] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[04:28:28] [INFO] [ScoreManager] Kill registered. Combo: 3 (points: 3000)
[04:28:28] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 7)
[04:28:28] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[04:28:28] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[04:28:28] [ENEMY] [Enemy2] Ragdoll activated
[04:28:28] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[04:28:28] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[04:28:28] [ENEMY] [Enemy4] Ragdoll activated
[04:28:28] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[04:28:28] [INFO] [Player.Reload.Anim] Phase changed to: PullBolt (duration: 0,35s)
[04:28:28] [ENEMY] [Enemy1] Player reloading state changed: true -> false
[04:28:28] [ENEMY] [Enemy2] Player reloading state changed: true -> false
[04:28:28] [ENEMY] [Enemy3] Player reloading state changed: true -> false
[04:28:28] [ENEMY] [Enemy4] Player reloading state changed: true -> false
[04:28:28] [ENEMY] [Enemy5] Player reloading state changed: true -> false
[04:28:28] [ENEMY] [Enemy6] Player reloading state changed: true -> false
[04:28:28] [ENEMY] [Enemy7] Player reloading state changed: true -> false
[04:28:28] [ENEMY] [Enemy8] Player reloading state changed: true -> false
[04:28:28] [ENEMY] [Enemy9] Player reloading state changed: true -> false
[04:28:28] [ENEMY] [Enemy10] Player reloading state changed: true -> false
[04:28:28] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[04:28:29] [ENEMY] [Enemy10] FLANKING started: target=(216.7597, 370.3684), side=right, pos=(1055.134, 1485.286)
[04:28:29] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[04:28:29] [INFO] [Player.Reload.Anim] LeftArm: pos=(23.104446, 5.9637465), target=(24, 6), base=(24, 6)
[04:28:29] [INFO] [Player.Reload.Anim] RightArm: pos=(-1.9996679, 6.1189923), target=(-2, 6), base=(-2, 6)
[04:28:29] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[04:28:29] [ENEMY] [Enemy3] Ragdoll activated
[04:28:29] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[04:28:29] [ENEMY] [Enemy1] Pursuing vulnerability sound at (311.3734, 192.6617), distance=114
[04:28:30] [ENEMY] [Enemy2] Death animation completed
[04:28:30] [ENEMY] [Enemy4] Death animation completed
[04:28:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(169.2213, 230.2599), source=PLAYER (AssaultRifle), range=1469, listeners=7
[04:28:30] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=1
[04:28:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(169.22134, 230.25992), shooter_id=45332039355, bullet_pos=(222.17305, 254.73222)
[04:28:30] [INFO] [Bullet] Using shooter_position, distance=58,333324
[04:28:30] [INFO] [Bullet] Distance to wall: 58,333324 (3,9720232% of viewport)
[04:28:30] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[04:28:30] [INFO] [Bullet] Starting wall penetration at (222.17305, 254.73222)
[04:28:30] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[04:28:30] [INFO] [Bullet] Exiting penetration at (256.96988, 270.81406) after traveling 33,333336 pixels through wall
[04:28:30] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[04:28:30] [ENEMY] [Enemy1] State: PURSUING -> COMBAT
[04:28:30] [ENEMY] [Enemy1] State: COMBAT -> RETREATING
[04:28:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(144.3312, 255.1501), source=PLAYER (AssaultRifle), range=1469, listeners=7
[04:28:30] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=1
[04:28:30] [ENEMY] [Enemy1] Hit taken, health: 0/4
[04:28:30] [ENEMY] [Enemy1] ImpactEffectsManager found, calling spawn_blood_effect
[04:28:30] [INFO] [ImpactEffects] spawn_blood_effect called at (284.1729, 298.0652), dir=(1, 0), lethal=true
[04:28:30] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[04:28:30] [INFO] [ImpactEffects] Blood decals scheduled: 41 (10 merged splatters, 6 satellite drops)
[04:28:30] [INFO] [ImpactEffects] Blood effect spawned at (284.1729, 298.0652) (scale=1.5)
[04:28:30] [ENEMY] [Enemy1] Enemy died (ricochet: false, penetration: false)
[04:28:30] [INFO] [ScoreManager] Kill registered. Combo: 4 (points: 5000)
[04:28:30] [INFO] [SoundPropagation] Unregistered listener: Enemy1 (remaining: 6)
[04:28:30] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[04:28:30] [ENEMY] [Enemy1] Death animation started with hit direction: (1, 0)
[04:28:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(123.58, 281.7546), source=PLAYER (AssaultRifle), range=1469, listeners=6
[04:28:30] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=1
[04:28:30] [ENEMY] [Enemy3] Death animation completed
[04:28:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(115.2458, 313.5025), source=PLAYER (AssaultRifle), range=1469, listeners=6
[04:28:30] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=1
[04:28:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(123.58003, 281.75464), shooter_id=45332039355, bullet_pos=(503.56525, 376.697)
[04:28:30] [INFO] [Bullet] Using shooter_position, distance=391,66672
[04:28:30] [INFO] [Bullet] Distance to wall: 391,66672 (26,669308% of viewport)
[04:28:30] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:28:30] [INFO] [Bullet] Starting wall penetration at (503.56525, 376.697)
[04:28:30] [INFO] [Bullet] Raycast backward hit penetrating body at distance 17,270338
[04:28:30] [INFO] [Bullet] Body exited signal received for penetrating body
[04:28:30] [INFO] [Bullet] Exiting penetration at (540.75525, 385.98923) after traveling 33,333332 pixels through wall
[04:28:30] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[04:28:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(115.0909, 348.6383), source=PLAYER (AssaultRifle), range=1469, listeners=6
[04:28:30] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=1
[04:28:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(115.2458, 313.50247), shooter_id=45332039355, bullet_pos=(505.97638, 340.5639)
[04:28:31] [INFO] [Bullet] Using shooter_position, distance=391,6666
[04:28:31] [INFO] [Bullet] Distance to wall: 391,6666 (26,6693% of viewport)
[04:28:31] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:28:31] [INFO] [Bullet] Starting wall penetration at (505.97638, 340.5639)
[04:28:31] [INFO] [Bullet] Raycast backward hit penetrating body at distance 20,26651
[04:28:31] [INFO] [Bullet] Body exited signal received for penetrating body
[04:28:31] [INFO] [Bullet] Exiting penetration at (544.2181, 343.21246) after traveling 33,333336 pixels through wall
[04:28:31] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[04:28:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(115.09094, 348.63828), shooter_id=45332039355, bullet_pos=(500.25922, 277.58786)
[04:28:31] [INFO] [Bullet] Using shooter_position, distance=391,66663
[04:28:31] [INFO] [Bullet] Distance to wall: 391,66663 (26,669302% of viewport)
[04:28:31] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:28:31] [INFO] [Bullet] Starting wall penetration at (500.25922, 277.58786)
[04:28:31] [INFO] [Bullet] Raycast backward hit penetrating body at distance 14,192009
[04:28:31] [INFO] [Bullet] Body exited signal received for penetrating body
[04:28:31] [INFO] [Bullet] Exiting penetration at (537.95654, 270.634) after traveling 33,333336 pixels through wall
[04:28:31] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[04:28:31] [ENEMY] [Enemy1] Ragdoll activated
[04:28:31] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[04:28:31] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[04:28:31] [ENEMY] [Enemy1] Player reloading state changed: false -> true
[04:28:31] [ENEMY] [Enemy5] Player reloading state changed: false -> true
[04:28:31] [ENEMY] [Enemy6] Player reloading state changed: false -> true
[04:28:31] [ENEMY] [Enemy7] Player reloading state changed: false -> true
[04:28:31] [ENEMY] [Enemy8] Player reloading state changed: false -> true
[04:28:31] [ENEMY] [Enemy9] Player reloading state changed: false -> true
[04:28:31] [ENEMY] [Enemy10] Player reloading state changed: false -> true
[04:28:31] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(115.0909, 438.6382), source=PLAYER (Player), range=900, listeners=6
[04:28:31] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=1
[04:28:31] [ENEMY] [Enemy5] Player vulnerable (reloading) but cannot attack: close=false (dist=1587), can_see=false
[04:28:31] [ENEMY] [Enemy6] Player vulnerable (reloading) but cannot attack: close=false (dist=1835), can_see=false
[04:28:31] [ENEMY] [Enemy7] Player vulnerable (reloading) but cannot attack: close=false (dist=1565), can_see=false
[04:28:31] [ENEMY] [Enemy8] Player vulnerable (reloading) but cannot attack: close=false (dist=2052), can_see=false
[04:28:31] [ENEMY] [Enemy9] Player vulnerable (reloading) but cannot attack: close=false (dist=2275), can_see=false
[04:28:31] [ENEMY] [Enemy10] Player vulnerable (reloading) but cannot attack: close=false (dist=869), can_see=false
[04:28:31] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[04:28:31] [INFO] [Player.Reload.Anim] Phase changed to: PullBolt (duration: 0,35s)
[04:28:31] [ENEMY] [Enemy1] Player reloading state changed: true -> false
[04:28:31] [ENEMY] [Enemy5] Player reloading state changed: true -> false
[04:28:31] [ENEMY] [Enemy6] Player reloading state changed: true -> false
[04:28:31] [ENEMY] [Enemy7] Player reloading state changed: true -> false
[04:28:31] [ENEMY] [Enemy8] Player reloading state changed: true -> false
[04:28:31] [ENEMY] [Enemy9] Player reloading state changed: true -> false
[04:28:31] [ENEMY] [Enemy10] Player reloading state changed: true -> false
[04:28:31] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[04:28:31] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[04:28:32] [ENEMY] [Enemy1] Death animation completed
[04:28:34] [INFO] [ScoreManager] Combo ended at 4. Max combo: 4
[04:28:34] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[04:28:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(97.02677, 736.0673), source=ENEMY (Enemy10), range=1469, listeners=6
[04:28:34] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=0
[04:28:34] [ENEMY] [Enemy10] State: FLANKING -> COMBAT
[04:28:34] [INFO] [LastChance] Threat detected: Bullet
[04:28:34] [INFO] [LastChance] Effect already used this life
[04:28:34] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:28:34] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[04:28:34] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[04:28:34] [INFO] [PenultimateHit] Player died - ending penultimate effect
[04:28:34] [INFO] [LastChance] Player died
[04:28:34] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[04:28:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(92.6454, 735.9255), source=ENEMY (Enemy10), range=1469, listeners=6
[04:28:34] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=0
[04:28:34] [INFO] [LastChance] Threat detected: Bullet
[04:28:34] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[04:28:34] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:28:34] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[04:28:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(93.19024, 735.9904), source=ENEMY (Enemy10), range=1469, listeners=6
[04:28:34] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=0
[04:28:34] [INFO] [LastChance] Threat detected: Bullet
[04:28:34] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[04:28:34] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:28:34] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[04:28:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(93.24133, 735.9939), source=ENEMY (Enemy10), range=1469, listeners=6
[04:28:34] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=0
[04:28:34] [INFO] [LastChance] Threat detected: Bullet
[04:28:34] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[04:28:34] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:28:34] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[04:28:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(93.24512, 735.9941), source=ENEMY (Enemy10), range=1469, listeners=6
[04:28:34] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=0
[04:28:34] [INFO] [LastChance] Threat detected: Bullet
[04:28:34] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[04:28:34] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:28:34] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[04:28:34] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[04:28:34] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[04:28:34] [INFO] [LastChance] Resetting all effects (scene change detected)
[04:28:34] [ENEMY] [Enemy1] Death animation component initialized
[04:28:34] [ENEMY] [Enemy2] Death animation component initialized
[04:28:34] [ENEMY] [Enemy3] Death animation component initialized
[04:28:34] [ENEMY] [Enemy4] Death animation component initialized
[04:28:34] [ENEMY] [Enemy5] Death animation component initialized
[04:28:34] [ENEMY] [Enemy6] Death animation component initialized
[04:28:34] [ENEMY] [Enemy7] Death animation component initialized
[04:28:34] [ENEMY] [Enemy8] Death animation component initialized
[04:28:34] [ENEMY] [Enemy9] Death animation component initialized
[04:28:34] [ENEMY] [Enemy10] Death animation component initialized
[04:28:34] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[04:28:34] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[04:28:34] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[04:28:34] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[04:28:34] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[04:28:34] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[04:28:34] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[04:28:34] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[04:28:34] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[04:28:34] [INFO] [ScoreManager] Level started with 10 enemies
[04:28:34] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 7)
[04:28:34] [ENEMY] [Enemy1] Registered as sound listener
[04:28:34] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[04:28:34] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 8)
[04:28:34] [ENEMY] [Enemy2] Registered as sound listener
[04:28:34] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[04:28:34] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 9)
[04:28:34] [ENEMY] [Enemy3] Registered as sound listener
[04:28:34] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[04:28:34] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 10)
[04:28:34] [ENEMY] [Enemy4] Registered as sound listener
[04:28:34] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[04:28:34] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 11)
[04:28:34] [ENEMY] [Enemy5] Registered as sound listener
[04:28:34] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[04:28:34] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 12)
[04:28:34] [ENEMY] [Enemy6] Registered as sound listener
[04:28:34] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[04:28:34] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 13)
[04:28:34] [ENEMY] [Enemy7] Registered as sound listener
[04:28:34] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[04:28:34] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 14)
[04:28:34] [ENEMY] [Enemy8] Registered as sound listener
[04:28:34] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[04:28:34] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 15)
[04:28:34] [ENEMY] [Enemy9] Registered as sound listener
[04:28:34] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[04:28:34] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 16)
[04:28:34] [ENEMY] [Enemy10] Registered as sound listener
[04:28:34] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[04:28:34] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[04:28:34] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[04:28:34] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[04:28:34] [INFO] [LastChance] Found player: Player
[04:28:34] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[04:28:34] [INFO] [LastChance] Connected to player Damaged signal (C#)
[04:28:34] [INFO] [LastChance] Connected to player Died signal (C#)
[04:28:35] [INFO] [Player] Detecting weapon pose (frame 3)...
[04:28:35] [INFO] [Player] Detected weapon: Rifle (default pose)
[04:28:35] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[04:28:35] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[04:28:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1144.004, 1519.036), source=ENEMY (Enemy10), range=1469, listeners=16
[04:28:36] [INFO] [SoundPropagation] Cleaned up 6 invalid listeners
[04:28:36] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[04:28:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1112.385, 1499.191), source=ENEMY (Enemy10), range=1469, listeners=10
[04:28:36] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[04:28:36] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[04:28:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1081.598, 1478.078), source=ENEMY (Enemy10), range=1469, listeners=10
[04:28:36] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[04:28:36] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[04:28:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1051.669, 1455.767), source=ENEMY (Enemy10), range=1469, listeners=10
[04:28:36] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[04:28:36] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[04:28:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1082.059, 1490.759), shooter_id=569821367054, bullet_pos=(47.54776, 866.3744)
[04:28:36] [INFO] [Bullet] Using shooter_position, distance=1208.33349609375
[04:28:36] [INFO] [Bullet] Distance to wall: 1208.33349609375 (82.277649678398% of viewport)
[04:28:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1051.642, 1468.417), shooter_id=569821367054, bullet_pos=(43.40149, 802.4432)
[04:28:36] [INFO] [Bullet] Using shooter_position, distance=1208.33361816406
[04:28:36] [INFO] [Bullet] Distance to wall: 1208.33361816406 (82.2776579903901% of viewport)
[04:28:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1082.059, 1490.759), shooter_id=569821367054, bullet_pos=(373.2044, 714.8868)
[04:28:36] [INFO] [Bullet] Using shooter_position, distance=1050.92956542969
[04:28:36] [INFO] [Bullet] Distance to wall: 1050.92956542969 (71.5597265991757% of viewport)
[04:28:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1051.642, 1468.417), shooter_id=569821367054, bullet_pos=(196.0879, 703.2405)
[04:28:36] [INFO] [Bullet] Using shooter_position, distance=1147.80993652344
[04:28:36] [INFO] [Bullet] Distance to wall: 1147.80993652344 (78.156489214243% of viewport)
[04:28:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1022.186, 1444.899), shooter_id=569821367054, bullet_pos=(41.70113, 738.6998)
[04:28:36] [INFO] [Bullet] Using shooter_position, distance=1208.33276367188
[04:28:36] [INFO] [Bullet] Distance to wall: 1208.33276367188 (82.2775998064458% of viewport)
[04:28:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1082.059, 1490.759), shooter_id=569821367054, bullet_pos=(504.7162, 797.9012)
[04:28:36] [INFO] [Bullet] Using shooter_position, distance=901.874145507813
[04:28:36] [INFO] [Bullet] Distance to wall: 901.874145507813 (61.4102689679465% of viewport)
[04:28:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1022.186, 1444.899), shooter_id=569821367054, bullet_pos=(107.9756, 701.8436)
[04:28:36] [INFO] [Bullet] Using shooter_position, distance=1178.09692382813
[04:28:36] [INFO] [Bullet] Distance to wall: 1178.09692382813 (80.2187858726779% of viewport)
[04:28:36] [INFO] [Bullet] Distance-based penetration chance: 53.0780831485424%
[04:28:36] [INFO] [Bullet] Penetration failed (distance roll)
[04:28:36] [INFO] [LastChance] Threat detected: @Area2D@893
[04:28:36] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[04:28:36] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:28:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(993.6345, 1420.233), shooter_id=569821367054, bullet_pos=(42.24186, 675.3027)
[04:28:37] [INFO] [Bullet] Using shooter_position, distance=1208.33325195313
[04:28:37] [INFO] [Bullet] Distance to wall: 1208.33325195313 (82.2776330544139% of viewport)
[04:28:37] [INFO] [Bullet] Distance-based penetration chance: 50.6760947698504%
[04:28:37] [INFO] [Bullet] Starting wall penetration at (42.24186, 675.3027)
[04:28:37] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[04:28:37] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[04:28:37] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[04:28:37] [INFO] [Bullet] Raycast backward hit penetrating body at distance 33.6587905883789
[04:28:37] [INFO] [Bullet] Body exited signal received for penetrating body
[04:28:37] [INFO] [Bullet] Exiting penetration at (5.498413, 646.533) after traveling 41.6666717529297 pixels through wall
[04:28:37] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[04:28:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(454.6194, 778.0801), source=PLAYER (AssaultRifle), range=1469, listeners=10
[04:28:37] [ENEMY] [Enemy1] Heard gunshot at (454.6194, 778.0801), source_type=0, intensity=0.01, distance=455
[04:28:37] [ENEMY] [Enemy2] Heard gunshot at (454.6194, 778.0801), source_type=0, intensity=0.05, distance=235
[04:28:37] [ENEMY] [Enemy4] Heard gunshot at (454.6194, 778.0801), source_type=0, intensity=0.02, distance=366
[04:28:37] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[04:28:37] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[04:28:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(472.3387, 749.7493), source=PLAYER (AssaultRifle), range=1469, listeners=10
[04:28:37] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[04:28:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(454.6194, 778.0801), shooter_id=570643450650, bullet_pos=(917.84766, 640.1283)
[04:28:37] [INFO] [Bullet] Using shooter_position, distance=483,33334
[04:28:37] [INFO] [Bullet] Distance to wall: 483,33334 (32,911057% of viewport)
[04:28:37] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:28:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(499.7651, 734.4944), source=PLAYER (AssaultRifle), range=1469, listeners=10
[04:28:37] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[04:28:37] [ENEMY] [Enemy3] Hit taken, health: 2/3
[04:28:37] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[04:28:37] [INFO] [ImpactEffects] spawn_blood_effect called at (639.6703, 728.6935), dir=(1, 0), lethal=false
[04:28:37] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[04:28:37] [INFO] [ImpactEffects] Blood decals scheduled: 24 (7 merged splatters, 9 satellite drops)
[04:28:37] [INFO] [ImpactEffects] Blood effect spawned at (639.6703, 728.6935) (scale=1)
[04:28:37] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[04:28:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(528.9456, 733.058), source=PLAYER (AssaultRifle), range=1469, listeners=10
[04:28:37] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=2, self=0, below_threshold=4
[04:28:37] [ENEMY] [Enemy3] Hit taken, health: 1/3
[04:28:37] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[04:28:37] [INFO] [ImpactEffects] spawn_blood_effect called at (624.5886, 717.6942), dir=(1, 0), lethal=false
[04:28:37] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[04:28:37] [INFO] [ImpactEffects] Blood decals scheduled: 31 (2 merged splatters, 11 satellite drops)
[04:28:37] [INFO] [ImpactEffects] Blood effect spawned at (624.5886, 717.6942) (scale=1)
[04:28:37] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[04:28:37] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[04:28:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=10
[04:28:37] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=1, below_threshold=3
[04:28:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(555.1724, 744.5243), source=PLAYER (AssaultRifle), range=1469, listeners=10
[04:28:37] [ENEMY] [Enemy3] Heard gunshot at (555.1724, 744.5243), source_type=0, intensity=0.57, distance=66
[04:28:37] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=2, self=0, below_threshold=4
[04:28:37] [INFO] [LastChance] Threat detected: Bullet
[04:28:37] [INFO] [LastChance] Player health is 3.0 - effect requires exactly 1 HP or less but alive
[04:28:37] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:28:37] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[04:28:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(436.4325, 607.4741), shooter_id=567539665502, bullet_pos=(499.2998, 685.241)
[04:28:37] [INFO] [Bullet] Using shooter_position, distance=99.9999694824219
[04:28:37] [INFO] [Bullet] Distance to wall: 99.9999694824219 (6.80918180578753% of viewport)
[04:28:37] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:28:37] [INFO] [Bullet] Starting wall penetration at (499.2998, 685.241)
[04:28:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(472.3387, 749.7493), shooter_id=570643450650, bullet_pos=(1369.8313, 563.2426)
[04:28:37] [INFO] [Bullet] Using shooter_position, distance=916,66656
[04:28:37] [INFO] [Bullet] Distance to wall: 916,66656 (62,417515% of viewport)
[04:28:37] [INFO] [Bullet] Distance-based penetration chance: 73,84623%
[04:28:37] [INFO] [Bullet] Starting wall penetration at (1369.8313, 563.2426)
[04:28:37] [INFO] [Bullet] Raycast backward hit penetrating body at distance 19,776457
[04:28:37] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[04:28:37] [INFO] [Bullet] Exiting penetration at (523.399, 715.0516) after traveling 33.3333320617676 pixels through wall
[04:28:37] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[04:28:37] [INFO] [Bullet] Body exited signal received for penetrating body
[04:28:37] [INFO] [Bullet] Exiting penetration at (1407.3628, 555.44324) after traveling 33,333336 pixels through wall
[04:28:37] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[04:28:37] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[04:28:37] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[04:28:37] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[04:28:37] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[04:28:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=10
[04:28:37] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=1, below_threshold=3
[04:28:37] [INFO] [LastChance] Threat detected: Bullet
[04:28:37] [INFO] [LastChance] Player health is 3.0 - effect requires exactly 1 HP or less but alive
[04:28:37] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:28:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(555.1724, 744.5243), shooter_id=570643450650, bullet_pos=(912.0437, 776.8609)
[04:28:37] [INFO] [Bullet] Using shooter_position, distance=358,3333
[04:28:37] [INFO] [Bullet] Distance to wall: 358,3333 (24,399576% of viewport)
[04:28:37] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:28:37] [INFO] [Bullet] Starting wall penetration at (912.0437, 776.8609)
[04:28:37] [INFO] [Bullet] Raycast backward hit penetrating body at distance 14,278897
[04:28:37] [INFO] [Bullet] Body exited signal received for penetrating body
[04:28:37] [INFO] [Bullet] Exiting penetration at (950.22064, 780.3202) after traveling 33,333336 pixels through wall
[04:28:37] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[04:28:37] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[04:28:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(629.5066, 718.7798), source=ENEMY (Enemy3), range=1469, listeners=10
[04:28:37] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[04:28:37] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[04:28:37] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[04:28:37] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[04:28:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=10
[04:28:37] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=1, below_threshold=3
[04:28:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(636.7764, 723.248), source=ENEMY (Enemy3), range=1469, listeners=10
[04:28:37] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[04:28:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(435.1088, 608.2921), shooter_id=567539665502, bullet_pos=(496.1815, 687.4763)
[04:28:37] [INFO] [Bullet] Using shooter_position, distance=100.000030517578
[04:28:37] [INFO] [Bullet] Distance to wall: 100.000030517578 (6.80918596178355% of viewport)
[04:28:37] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:28:37] [INFO] [LastChance] Threat detected: @Area2D@933
[04:28:37] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[04:28:37] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:28:38] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[04:28:38] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[04:28:38] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[04:28:38] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[04:28:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(649.4987, 731.0677), source=ENEMY (Enemy3), range=1469, listeners=10
[04:28:38] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[04:28:38] [INFO] [LastChance] Threat detected: @Area2D@937
[04:28:38] [INFO] [LastChance] Triggering last chance effect!
[04:28:38] [INFO] [LastChance] Starting last chance effect:
[04:28:38] [INFO] [LastChance]   - Time will be frozen (except player)
[04:28:38] [INFO] [LastChance]   - Duration: 6.0 real seconds
[04:28:38] [INFO] [LastChance]   - Sepia intensity: 0.70
[04:28:38] [INFO] [LastChance]   - Brightness: 0.60
[04:28:38] [INFO] [LastChance] Pushed bullet @Area2D@937 from distance 42.7 to 200.0
[04:28:38] [INFO] [LastChance] Pushed 1 threatening bullets away from player
[04:28:38] [INFO] [LastChance] Set player Player and all 18 children to PROCESS_MODE_ALWAYS
[04:28:38] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[04:28:38] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[04:28:38] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[04:28:38] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[04:28:38] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[04:28:38] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[04:28:38] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[04:28:38] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[04:28:38] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[04:28:38] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[04:28:38] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[04:28:38] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[04:28:38] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[04:28:38] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[04:28:38] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[04:28:38] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[04:28:38] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[04:28:38] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[04:28:38] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[04:28:38] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[04:28:38] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[04:28:38] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[04:28:38] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[04:28:38] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[04:28:38] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[04:28:38] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[04:28:38] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[04:28:38] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[04:28:38] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[04:28:38] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[04:28:38] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[04:28:38] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[04:28:38] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[04:28:38] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[04:28:38] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[04:28:38] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[04:28:38] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[04:28:38] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[04:28:38] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[04:28:38] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[04:28:38] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[04:28:38] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[04:28:38] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[04:28:38] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[04:28:38] [INFO] [LastChance] Skipping player node: Player
[04:28:38] [INFO] [LastChance] Froze existing bullet casing: Casing
[04:28:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@894
[04:28:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@896
[04:28:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@898
[04:28:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@907
[04:28:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@909
[04:28:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@912
[04:28:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@914
[04:28:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@916
[04:28:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@918
[04:28:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@921
[04:28:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@929
[04:28:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@931
[04:28:38] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@938
[04:28:38] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[04:28:38] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[04:28:38] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[04:28:38] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@962
[04:28:38] [INFO] [LastChance] Registered frozen player bullet: @Area2D@962
[04:28:38] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@963
[04:28:38] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@963
[04:28:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(642.4, 964.1754), source=PLAYER (AssaultRifle), range=1469, listeners=10
[04:28:38] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=6
[04:28:38] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@964
[04:28:38] [INFO] [LastChance] Registered frozen player bullet: @Area2D@964
[04:28:38] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@965
[04:28:38] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@965
[04:28:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(647.421, 967.6771), source=PLAYER (AssaultRifle), range=1469, listeners=10
[04:28:38] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=6
[04:28:39] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@966
[04:28:39] [INFO] [LastChance] Registered frozen player bullet: @Area2D@966
[04:28:39] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@967
[04:28:39] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@967
[04:28:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(647.421, 967.6771), source=PLAYER (AssaultRifle), range=1469, listeners=10
[04:28:39] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=6
[04:28:40] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@968
[04:28:40] [INFO] [LastChance] Registered frozen player bullet: @Area2D@968
[04:28:40] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@969
[04:28:40] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@969
[04:28:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(431.9802, 632.9543), source=PLAYER (AssaultRifle), range=1469, listeners=10
[04:28:40] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[04:28:41] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@970
[04:28:41] [INFO] [LastChance] Registered frozen player bullet: @Area2D@970
[04:28:41] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@971
[04:28:41] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@971
[04:28:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(393.4802, 632.9543), source=PLAYER (AssaultRifle), range=1469, listeners=10
[04:28:41] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[04:28:41] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@972
[04:28:41] [INFO] [LastChance] Registered frozen player bullet: @Area2D@972
[04:28:41] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@973
[04:28:41] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@973
[04:28:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(354.9802, 632.9543), source=PLAYER (AssaultRifle), range=1469, listeners=10
[04:28:41] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[04:28:42] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@974
[04:28:42] [INFO] [LastChance] Registered frozen player bullet: @Area2D@974
[04:28:42] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@975
[04:28:42] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@975
[04:28:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(121.8909, 436.4236), source=PLAYER (AssaultRifle), range=1469, listeners=10
[04:28:42] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=3
[04:28:42] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@976
[04:28:42] [INFO] [LastChance] Registered frozen player bullet: @Area2D@976
[04:28:42] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@977
[04:28:42] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@977
[04:28:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(121.8909, 397.9236), source=PLAYER (AssaultRifle), range=1469, listeners=10
[04:28:42] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=3
[04:28:42] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@978
[04:28:42] [INFO] [LastChance] Registered frozen player bullet: @Area2D@978
[04:28:42] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@979
[04:28:42] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@979
[04:28:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(121.8909, 359.4236), source=PLAYER (AssaultRifle), range=1469, listeners=10
[04:28:42] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=3
[04:28:43] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[04:28:43] [ENEMY] [Enemy1] Player reloading state changed: false -> true
[04:28:43] [ENEMY] [Enemy2] Player reloading state changed: false -> true
[04:28:43] [ENEMY] [Enemy3] Player reloading state changed: false -> true
[04:28:43] [ENEMY] [Enemy4] Player reloading state changed: false -> true
[04:28:43] [ENEMY] [Enemy5] Player reloading state changed: false -> true
[04:28:43] [ENEMY] [Enemy6] Player reloading state changed: false -> true
[04:28:43] [ENEMY] [Enemy7] Player reloading state changed: false -> true
[04:28:43] [ENEMY] [Enemy8] Player reloading state changed: false -> true
[04:28:43] [ENEMY] [Enemy9] Player reloading state changed: false -> true
[04:28:43] [ENEMY] [Enemy10] Player reloading state changed: false -> true
[04:28:43] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(296.0005, 209.9336), source=PLAYER (Player), range=900, listeners=10
[04:28:43] [ENEMY] [Enemy1] Heard player RELOAD at (296.0005, 209.9336), intensity=0.06, distance=200
[04:28:43] [ENEMY] [Enemy2] Heard player RELOAD at (296.0005, 209.9336), intensity=0.02, distance=356
[04:28:43] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=6, self=0, below_threshold=2
[04:28:43] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[04:28:44] [INFO] [Player.Reload.Anim] Phase changed to: PullBolt (duration: 0,35s)
[04:28:44] [ENEMY] [Enemy1] Player reloading state changed: true -> false
[04:28:44] [ENEMY] [Enemy2] Player reloading state changed: true -> false
[04:28:44] [ENEMY] [Enemy3] Player reloading state changed: true -> false
[04:28:44] [ENEMY] [Enemy4] Player reloading state changed: true -> false
[04:28:44] [ENEMY] [Enemy5] Player reloading state changed: true -> false
[04:28:44] [ENEMY] [Enemy6] Player reloading state changed: true -> false
[04:28:44] [ENEMY] [Enemy7] Player reloading state changed: true -> false
[04:28:44] [ENEMY] [Enemy8] Player reloading state changed: true -> false
[04:28:44] [ENEMY] [Enemy9] Player reloading state changed: true -> false
[04:28:44] [ENEMY] [Enemy10] Player reloading state changed: true -> false
[04:28:44] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[04:28:44] [INFO] [LastChance] Effect duration expired after 6.00 real seconds
[04:28:44] [INFO] [LastChance] Ending last chance effect
[04:28:44] [INFO] [LastChance] All process modes restored
[04:28:44] [INFO] [LastChance] Unfroze player bullet: @Area2D@962
[04:28:44] [INFO] [LastChance] Unfroze player bullet: @Area2D@964
[04:28:44] [INFO] [LastChance] Unfroze player bullet: @Area2D@966
[04:28:44] [INFO] [LastChance] Unfroze player bullet: @Area2D@968
[04:28:44] [INFO] [LastChance] Unfroze player bullet: @Area2D@970
[04:28:44] [INFO] [LastChance] Unfroze player bullet: @Area2D@972
[04:28:44] [INFO] [LastChance] Unfroze player bullet: @Area2D@974
[04:28:44] [INFO] [LastChance] Unfroze player bullet: @Area2D@976
[04:28:44] [INFO] [LastChance] Unfroze player bullet: @Area2D@978
[04:28:44] [INFO] [LastChance] Unfroze bullet casing: Casing
[04:28:44] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@894
[04:28:44] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@896
[04:28:44] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@898
[04:28:44] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@907
[04:28:44] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@909
[04:28:44] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@912
[04:28:44] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@914
[04:28:44] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@916
[04:28:44] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@918
[04:28:44] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@921
[04:28:44] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@929
[04:28:44] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@931
[04:28:44] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@938
[04:28:44] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@963
[04:28:44] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@965
[04:28:44] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@967
[04:28:44] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@969
[04:28:44] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@971
[04:28:44] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@973
[04:28:44] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@975
[04:28:44] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@977
[04:28:44] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@979
[04:28:44] [INFO] [LastChance] Restored original colors to 5 player sprites
[04:28:44] [INFO] [LastChance] Called player RefreshHealthVisual (C#)
[04:28:44] [ENEMY] [Enemy1] Pursuing vulnerability sound at (296.0005, 209.9336), distance=200
[04:28:44] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[04:28:44] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[04:28:44] [ENEMY] [Enemy2] Hit taken, health: 3/4
[04:28:44] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[04:28:44] [INFO] [ImpactEffects] spawn_blood_effect called at (400, 550), dir=(1, 0), lethal=false
[04:28:44] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[04:28:44] [INFO] [ImpactEffects] Blood decals scheduled: 19 (6 merged splatters, 3 satellite drops)
[04:28:44] [INFO] [ImpactEffects] Wall found for blood splatter at (500, 550) (dist=100 px)
[04:28:44] [INFO] [ImpactEffects] Blood effect spawned at (400, 550) (scale=1)
[04:28:44] [ENEMY] [Enemy2] Pursuing vulnerability sound at (296.0005, 209.9336), distance=356
[04:28:44] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[04:28:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(121.89093, 436.42355), shooter_id=570643450650, bullet_pos=(229.84839, 427.40695)
[04:28:44] [INFO] [Bullet] Using shooter_position, distance=108,333336
[04:28:44] [INFO] [Bullet] Distance to wall: 108,333336 (7,3766165% of viewport)
[04:28:44] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:28:44] [INFO] [Bullet] Starting wall penetration at (229.84839, 427.40695)
[04:28:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(642.39996, 964.1754), shooter_id=570643450650, bullet_pos=(720.5285, 889.12836)
[04:28:44] [INFO] [Bullet] Using shooter_position, distance=108,33342
[04:28:44] [INFO] [Bullet] Distance to wall: 108,33342 (7,3766217% of viewport)
[04:28:44] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:28:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(647.42096, 967.67706), shooter_id=570643450650, bullet_pos=(725.2353, 892.3044)
[04:28:44] [INFO] [Bullet] Using shooter_position, distance=108,333336
[04:28:44] [INFO] [Bullet] Distance to wall: 108,333336 (7,3766165% of viewport)
[04:28:44] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:28:44] [ENEMY] [Enemy4] Hit taken, health: 2/3
[04:28:44] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[04:28:44] [INFO] [ImpactEffects] spawn_blood_effect called at (736.594, 914.0673), dir=(1, 0), lethal=false
[04:28:44] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[04:28:44] [INFO] [ImpactEffects] Blood decals scheduled: 32 (1 merged splatters, 6 satellite drops)
[04:28:44] [INFO] [ImpactEffects] Blood effect spawned at (736.594, 914.0673) (scale=1)
[04:28:44] [ENEMY] [Enemy4] Hit taken, health: 1/3
[04:28:44] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[04:28:44] [INFO] [ImpactEffects] spawn_blood_effect called at (736.594, 914.0673), dir=(1, 0), lethal=false
[04:28:44] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[04:28:44] [INFO] [ImpactEffects] Blood decals scheduled: 27 (3 merged splatters, 8 satellite drops)
[04:28:44] [INFO] [ImpactEffects] Blood effect spawned at (736.594, 914.0673) (scale=1)
[04:28:44] [ENEMY] [Enemy2] Hit taken, health: 2/4
[04:28:44] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[04:28:44] [INFO] [ImpactEffects] spawn_blood_effect called at (399.4512, 544.6949), dir=(1, 0), lethal=false
[04:28:44] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[04:28:44] [INFO] [ImpactEffects] Blood decals scheduled: 35 (2 merged splatters, 15 satellite drops)
[04:28:44] [INFO] [ImpactEffects] Blood effect spawned at (399.4512, 544.6949) (scale=1)
[04:28:44] [ENEMY] [Enemy1] Hit taken, health: 3/4
[04:28:44] [ENEMY] [Enemy1] ImpactEffectsManager found, calling spawn_blood_effect
[04:28:44] [INFO] [ImpactEffects] spawn_blood_effect called at (238.4569, 391.4682), dir=(1, 0), lethal=false
[04:28:44] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[04:28:44] [INFO] [ImpactEffects] Blood decals scheduled: 41 (4 merged splatters, 18 satellite drops)
[04:28:44] [INFO] [ImpactEffects] Blood effect spawned at (238.4569, 391.4682) (scale=1)
[04:28:44] [INFO] [Bullet] Raycast backward hit penetrating body at distance 21,42889
[04:28:44] [ENEMY] [Enemy4] Hit taken, health: 0/3
[04:28:44] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[04:28:44] [INFO] [ImpactEffects] spawn_blood_effect called at (736.594, 914.0673), dir=(1, 0), lethal=true
[04:28:44] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[04:28:44] [INFO] [ImpactEffects] Blood decals scheduled: 41 (10 merged splatters, 6 satellite drops)
[04:28:44] [INFO] [ImpactEffects] Blood effect spawned at (736.594, 914.0673) (scale=1.5)
[04:28:44] [ENEMY] [Enemy4] Enemy died (ricochet: false, penetration: false)
[04:28:44] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[04:28:44] [INFO] [SoundPropagation] Unregistered listener: Enemy4 (remaining: 9)
[04:28:44] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[04:28:44] [ENEMY] [Enemy4] Death animation started with hit direction: (1, 0)
[04:28:44] [INFO] [Bullet] Max penetration distance exceeded: 66,66667 >= 48
[04:28:44] [INFO] [Bullet] Body exited signal received for penetrating body
[04:28:44] [INFO] [Bullet] Exiting penetration at (301.2664, 421.4421) after traveling 66,66667 pixels through wall
[04:28:44] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[04:28:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(610.6248, 786.9196), shooter_id=567824878647, bullet_pos=(517.9694, 919.1302)
[04:28:44] [INFO] [Bullet] Using shooter_position, distance=161.445571899414
[04:28:44] [INFO] [Bullet] Distance to wall: 161.445571899414 (10.9931258628603% of viewport)
[04:28:44] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:28:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(121.89093, 359.42355), shooter_id=570643450650, bullet_pos=(496.48425, 376.88226)
[04:28:44] [INFO] [Bullet] Using shooter_position, distance=374,99997
[04:28:44] [INFO] [Bullet] Distance to wall: 374,99997 (25,53444% of viewport)
[04:28:44] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:28:44] [INFO] [Bullet] Starting wall penetration at (496.48425, 376.88226)
[04:28:44] [INFO] [Bullet] Raycast backward hit penetrating body at distance 10,7877
[04:28:44] [INFO] [Bullet] Body exited signal received for penetrating body
[04:28:44] [INFO] [Bullet] Exiting penetration at (534.776, 378.66693) after traveling 33,333332 pixels through wall
[04:28:44] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[04:28:44] [INFO] [Player.Reload.Anim] LeftArm: pos=(23.248829, 5.9865775), target=(24, 6), base=(24, 6)
[04:28:44] [INFO] [Player.Reload.Anim] RightArm: pos=(-1.9999027, 6.1139936), target=(-2, 6), base=(-2, 6)
[04:28:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(610.6248, 786.9196), shooter_id=567824878647, bullet_pos=(630.2414, 1013.503)
[04:28:44] [INFO] [Bullet] Using shooter_position, distance=227.430511474609
[04:28:44] [INFO] [Bullet] Distance to wall: 227.430511474609 (15.4861617341401% of viewport)
[04:28:44] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:28:44] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[04:28:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(354.98016, 632.95435), shooter_id=570643450650, bullet_pos=(461.6208, 67.929535)
[04:28:44] [INFO] [Bullet] Using shooter_position, distance=575,0002
[04:28:44] [INFO] [Bullet] Distance to wall: 575,0002 (39,15282% of viewport)
[04:28:44] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:28:44] [ENEMY] [Enemy10] FLANKING started: target=(495.9843, 207.3881), side=left, pos=(1022.634, 1432.302)
[04:28:44] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[04:28:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(354.98016, 632.95435), shooter_id=570643450650, bullet_pos=(512.4863, 205.49335)
[04:28:44] [INFO] [Bullet] Using shooter_position, distance=455,55582
[04:28:44] [INFO] [Bullet] Distance to wall: 455,55582 (31,019634% of viewport)
[04:28:44] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:28:44] [INFO] [Bullet] Starting wall penetration at (512.4863, 205.49335)
[04:28:44] [INFO] [Bullet] Raycast backward hit penetrating body at distance 0,13463733
[04:28:44] [INFO] [Bullet] Body exited signal received for penetrating body
[04:28:44] [INFO] [Bullet] Exiting penetration at (533.873, 263.33267) after traveling 28,33333 pixels through wall
[04:28:44] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[04:28:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(610.6248, 786.9196), shooter_id=567824878647, bullet_pos=(918.5883, 750.4137)
[04:28:44] [INFO] [Bullet] Using shooter_position, distance=310.119659423828
[04:28:44] [INFO] [Bullet] Distance to wall: 310.119659423828 (21.1166178699379% of viewport)
[04:28:44] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:28:44] [ENEMY] [Enemy4] Ragdoll activated
[04:28:44] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[04:28:44] [ENEMY] [Enemy1] State: PURSUING -> COMBAT
[04:28:44] [ENEMY] [Enemy1] State: COMBAT -> RETREATING
[04:28:44] [ENEMY] [Enemy1] Player distracted - priority attack triggered
[04:28:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(187.2805, 229.6276), source=ENEMY (Enemy1), range=1469, listeners=9
[04:28:44] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=1, below_threshold=2
[04:28:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(255.1883, 225.2534), shooter_id=567254452821, bullet_pos=(255.1883, 225.2534)
[04:28:44] [INFO] [Bullet] Using shooter_position, distance=0
[04:28:44] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[04:28:44] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[04:28:44] [INFO] [Bullet] Starting wall penetration at (255.1883, 225.2534)
[04:28:44] [INFO] [LastChance] Threat detected: Bullet
[04:28:44] [INFO] [LastChance] Effect already used this life
[04:28:44] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:28:44] [INFO] [Bullet] Raycast backward hit penetrating body at distance 42.5219345092773
[04:28:44] [INFO] [Bullet] Body exited signal received for penetrating body
[04:28:44] [INFO] [Bullet] Exiting penetration at (292.9078, 218.4207) after traveling 33.3333358764648 pixels through wall
[04:28:44] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[04:28:44] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[04:28:44] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[04:28:44] [INFO] [PenultimateHit] Player died - ending penultimate effect
[04:28:44] [INFO] [LastChance] Player died
[04:28:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(182.7221, 233.4147), source=ENEMY (Enemy1), range=1469, listeners=9
[04:28:44] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=1, below_threshold=2
[04:28:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(250.4981, 227.3314), shooter_id=567254452821, bullet_pos=(250.4981, 227.3314)
[04:28:44] [INFO] [Bullet] Using shooter_position, distance=0
[04:28:44] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[04:28:44] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[04:28:44] [INFO] [Bullet] Starting wall penetration at (250.4981, 227.3314)
[04:28:44] [INFO] [LastChance] Threat detected: Bullet
[04:28:44] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[04:28:44] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:28:44] [INFO] [Bullet] Raycast backward hit penetrating body at distance 35.2123565673828
[04:28:44] [INFO] [Bullet] Body exited signal received for penetrating body
[04:28:44] [INFO] [Bullet] Exiting penetration at (285.1682, 210.9781) after traveling 33.3333320617676 pixels through wall
[04:28:44] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[04:28:44] [ENEMY] [Enemy1] Player distracted - priority attack triggered
[04:28:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(183.1017, 239.8035), source=ENEMY (Enemy1), range=1469, listeners=9
[04:28:44] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=1, below_threshold=2
[04:28:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(250.4482, 230.0538), shooter_id=567254452821, bullet_pos=(250.4482, 230.0538)
[04:28:44] [INFO] [Bullet] Using shooter_position, distance=0
[04:28:44] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[04:28:44] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[04:28:44] [INFO] [Bullet] Starting wall penetration at (250.4482, 230.0538)
[04:28:44] [INFO] [LastChance] Threat detected: Bullet
[04:28:44] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[04:28:44] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:28:44] [INFO] [Bullet] Raycast backward hit penetrating body at distance 22.4839000701904
[04:28:44] [INFO] [Bullet] Body exited signal received for penetrating body
[04:28:44] [INFO] [Bullet] Exiting penetration at (287.5064, 220.2493) after traveling 33.3333320617676 pixels through wall
[04:28:44] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[04:28:45] [ENEMY] [Enemy1] State: RETREATING -> IN_COVER
[04:28:45] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[04:28:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(610.6248, 786.9196), shooter_id=567824878647, bullet_pos=(522.1293, 329.562)
[04:28:45] [INFO] [Bullet] Using shooter_position, distance=465.840484619141
[04:28:45] [INFO] [Bullet] Distance to wall: 465.840484619141 (31.719935202835% of viewport)
[04:28:45] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:28:45] [ENEMY] [Enemy2] Pursuing vulnerability sound at (296.0005, 209.9336), distance=120
[04:28:45] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[04:28:45] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[04:28:45] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[04:28:45] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[04:28:45] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[04:28:45] [INFO] [LastChance] Resetting all effects (scene change detected)
[04:28:45] [ENEMY] [Enemy1] Death animation component initialized
[04:28:45] [ENEMY] [Enemy2] Death animation component initialized
[04:28:45] [ENEMY] [Enemy3] Death animation component initialized
[04:28:45] [ENEMY] [Enemy4] Death animation component initialized
[04:28:45] [ENEMY] [Enemy5] Death animation component initialized
[04:28:45] [ENEMY] [Enemy6] Death animation component initialized
[04:28:45] [ENEMY] [Enemy7] Death animation component initialized
[04:28:45] [ENEMY] [Enemy8] Death animation component initialized
[04:28:45] [ENEMY] [Enemy9] Death animation component initialized
[04:28:45] [ENEMY] [Enemy10] Death animation component initialized
[04:28:45] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[04:28:45] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[04:28:45] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[04:28:45] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[04:28:45] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[04:28:45] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[04:28:45] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[04:28:45] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[04:28:45] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[04:28:45] [INFO] [ScoreManager] Level started with 10 enemies
[04:28:45] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[04:28:45] [ENEMY] [Enemy1] Registered as sound listener
[04:28:45] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[04:28:45] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[04:28:45] [ENEMY] [Enemy2] Registered as sound listener
[04:28:45] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[04:28:45] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[04:28:45] [ENEMY] [Enemy3] Registered as sound listener
[04:28:45] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[04:28:45] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[04:28:45] [ENEMY] [Enemy4] Registered as sound listener
[04:28:45] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[04:28:45] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[04:28:45] [ENEMY] [Enemy5] Registered as sound listener
[04:28:45] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[04:28:45] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[04:28:45] [ENEMY] [Enemy6] Registered as sound listener
[04:28:45] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[04:28:45] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[04:28:45] [ENEMY] [Enemy7] Registered as sound listener
[04:28:45] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[04:28:45] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[04:28:45] [ENEMY] [Enemy8] Registered as sound listener
[04:28:45] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[04:28:45] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[04:28:45] [ENEMY] [Enemy9] Registered as sound listener
[04:28:45] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[04:28:45] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[04:28:45] [ENEMY] [Enemy10] Registered as sound listener
[04:28:45] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[04:28:45] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[04:28:45] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[04:28:45] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[04:28:45] [INFO] [LastChance] Found player: Player
[04:28:45] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[04:28:45] [INFO] [LastChance] Connected to player Damaged signal (C#)
[04:28:45] [INFO] [LastChance] Connected to player Died signal (C#)
[04:28:45] [INFO] [Player] Detecting weapon pose (frame 3)...
[04:28:45] [INFO] [Player] Detected weapon: Rifle (default pose)
[04:28:45] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[04:28:46] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[04:28:46] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[04:28:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1171.731, 1535.008), source=ENEMY (Enemy10), range=1469, listeners=19
[04:28:46] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[04:28:46] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=8
[04:28:46] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[04:28:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1139.423, 1516.307), source=ENEMY (Enemy10), range=1469, listeners=10
[04:28:46] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[04:28:46] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[04:28:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1107.906, 1496.302), source=ENEMY (Enemy10), range=1469, listeners=10
[04:28:46] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[04:28:46] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[04:28:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1077.226, 1475.035), source=ENEMY (Enemy10), range=1469, listeners=10
[04:28:46] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[04:28:47] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[04:28:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1047.428, 1452.549), source=ENEMY (Enemy10), range=1469, listeners=10
[04:28:47] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[04:28:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1108.874, 1508.939), shooter_id=889779653343, bullet_pos=(53.14801, 921.1365)
[04:28:47] [INFO] [Bullet] Using shooter_position, distance=1208.33337402344
[04:28:47] [INFO] [Bullet] Distance to wall: 1208.33337402344 (82.277641366406% of viewport)
[04:28:47] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[04:28:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1077.684, 1487.691), shooter_id=889779653343, bullet_pos=(46.85162, 857.2495)
[04:28:47] [INFO] [Bullet] Using shooter_position, distance=1208.33435058594
[04:28:47] [INFO] [Bullet] Distance to wall: 1208.33435058594 (82.2777078623423% of viewport)
[04:28:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1108.874, 1508.939), shooter_id=889779653343, bullet_pos=(336.2312, 700.0831)
[04:28:47] [INFO] [Bullet] Using shooter_position, distance=1118.58154296875
[04:28:47] [INFO] [Bullet] Distance to wall: 1118.58154296875 (76.1662741508278% of viewport)
[04:28:47] [INFO] [Bullet] Distance-based penetration chance: 57.8060134907009%
[04:28:47] [INFO] [Bullet] Starting wall penetration at (336.2312, 700.0831)
[04:28:47] [INFO] [Bullet] Raycast backward hit penetrating body at distance 20.7841644287109
[04:28:47] [INFO] [Bullet] Body exited signal received for penetrating body
[04:28:47] [INFO] [Bullet] Exiting penetration at (368.0863, 675.2081) after traveling 35.4166717529297 pixels through wall
[04:28:47] [INFO] [Bullet] Damage multiplier after penetration: 0.45
[04:28:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1047.382, 1465.197), shooter_id=889779653343, bullet_pos=(43.06916, 793.3154)
[04:28:47] [INFO] [Bullet] Using shooter_position, distance=1208.33349609375
[04:28:47] [INFO] [Bullet] Distance to wall: 1208.33349609375 (82.277649678398% of viewport)
[04:28:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1077.684, 1487.691), shooter_id=889779653343, bullet_pos=(245.975, 701.3113)
[04:28:47] [INFO] [Bullet] Using shooter_position, distance=1144.61047363281
[04:28:47] [INFO] [Bullet] Distance to wall: 1144.61047363281 (77.9386319027268% of viewport)
[04:28:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1047.382, 1465.197), shooter_id=889779653343, bullet_pos=(150.817, 693.8091)
[04:28:47] [INFO] [Bullet] Using shooter_position, distance=1182.73767089844
[04:28:47] [INFO] [Bullet] Distance to wall: 1182.73767089844 (80.5347828742769% of viewport)
[04:28:47] [INFO] [LastChance] Threat detected: @Area2D@1393
[04:28:47] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[04:28:47] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:28:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1018.01, 1441.508), shooter_id=889779653343, bullet_pos=(41.67921, 729.5751)
[04:28:47] [INFO] [Bullet] Using shooter_position, distance=1208.33349609375
[04:28:47] [INFO] [Bullet] Distance to wall: 1208.33349609375 (82.277649678398% of viewport)
[04:28:47] [INFO] [Bullet] Distance-based penetration chance: 50.6760753752023%
[04:28:47] [INFO] [Bullet] Penetration failed (distance roll)
[04:28:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1077.684, 1487.691), shooter_id=889779653343, bullet_pos=(517.6694, 899.2408)
[04:28:47] [INFO] [Bullet] Using shooter_position, distance=812.336120605469
[04:28:47] [INFO] [Bullet] Distance to wall: 812.336120605469 (55.3134602064362% of viewport)
[04:28:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(989.6003, 1416.68), shooter_id=889779653343, bullet_pos=(42.53408, 666.2555)
[04:28:47] [INFO] [Bullet] Using shooter_position, distance=1208.33422851563
[04:28:47] [INFO] [Bullet] Distance to wall: 1208.33422851563 (82.2776995503503% of viewport)
[04:28:47] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[04:28:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1047.382, 1465.197), shooter_id=889779653343, bullet_pos=(501.5958, 986.048)
[04:28:47] [INFO] [Bullet] Using shooter_position, distance=726.26904296875
[04:28:47] [INFO] [Bullet] Distance to wall: 726.26904296875 (49.4529946267516% of viewport)
[04:28:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1047.382, 1465.197), shooter_id=889779653343, bullet_pos=(497.7378, 989.2285)
[04:28:47] [INFO] [Bullet] Using shooter_position, distance=727.086730957031
[04:28:47] [INFO] [Bullet] Distance to wall: 727.086730957031 (49.5086725054693% of viewport)
[04:28:47] [INFO] [Bullet] Distance-based penetration chance: 88.9065487436191%
[04:28:47] [INFO] [Bullet] Starting wall penetration at (497.7378, 989.2285)
[04:28:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(374.6114, 818.3936), source=PLAYER (AssaultRifle), range=1469, listeners=10
[04:28:47] [ENEMY] [Enemy1] Heard gunshot at (374.6114, 818.3936), source_type=0, intensity=0.01, distance=474
[04:28:47] [ENEMY] [Enemy2] Heard gunshot at (374.6114, 818.3936), source_type=0, intensity=0.03, distance=270
[04:28:47] [ENEMY] [Enemy4] Heard gunshot at (374.6114, 818.3936), source_type=0, intensity=0.01, distance=433
[04:28:47] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[04:28:47] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[04:28:47] [INFO] [Bullet] Exiting penetration at (474.1358, 1008.686) after traveling 25.5885429382324 pixels through wall
[04:28:47] [INFO] [Bullet] Damage multiplier after penetration: 0.1125
[04:28:47] [ENEMY] [Enemy3] Hit taken, health: 3/4
[04:28:47] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[04:28:47] [INFO] [ImpactEffects] spawn_blood_effect called at (643.0709, 762.8692), dir=(1, 0), lethal=false
[04:28:47] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[04:28:47] [INFO] [ImpactEffects] Blood decals scheduled: 25 (2 merged splatters, 0 satellite drops)
[04:28:47] [INFO] [ImpactEffects] Blood effect spawned at (643.0709, 762.8692) (scale=1)
[04:28:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(364.8463, 789.787), source=PLAYER (AssaultRifle), range=1469, listeners=10
[04:28:47] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[04:28:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(637.7582, 763.3389), source=ENEMY (Enemy3), range=1469, listeners=10
[04:28:47] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[04:28:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(989.6003, 1416.68), shooter_id=889779653343, bullet_pos=(501.6133, 417.6243)
[04:28:47] [INFO] [Bullet] Using shooter_position, distance=1111.86499023438
[04:28:47] [INFO] [Bullet] Distance to wall: 1111.86499023438 (75.7089317244927% of viewport)
[04:28:47] [INFO] [LastChance] Threat detected: Bullet
[04:28:47] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[04:28:47] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:28:47] [ENEMY] [Enemy3] Hit taken, health: 2/4
[04:28:47] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[04:28:47] [INFO] [ImpactEffects] spawn_blood_effect called at (612.1935, 764.6105), dir=(1, 0), lethal=false
[04:28:47] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[04:28:47] [INFO] [ImpactEffects] Blood decals scheduled: 27 (3 merged splatters, 8 satellite drops)
[04:28:47] [INFO] [ImpactEffects] Blood effect spawned at (612.1935, 764.6105) (scale=1)
[04:28:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1077.684, 1487.691), shooter_id=889779653343, bullet_pos=(59.00541, 1216.527)
[04:28:47] [INFO] [Bullet] Using shooter_position, distance=1054.15173339844
[04:28:47] [INFO] [Bullet] Distance to wall: 1054.15173339844 (71.7791299412123% of viewport)
[04:28:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(368.1016, 770.5067), source=PLAYER (AssaultRifle), range=1469, listeners=10
[04:28:47] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[04:28:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(607.9282, 764.7194), source=ENEMY (Enemy3), range=1469, listeners=10
[04:28:47] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[04:28:47] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[04:28:47] [INFO] [LastChance] Threat detected: @Area2D@1420
[04:28:47] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[04:28:47] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:28:47] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[04:28:47] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[04:28:47] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[04:28:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(989.6003, 1416.68), shooter_id=889779653343, bullet_pos=(278.7727, 265.318)
[04:28:47] [INFO] [Bullet] Using shooter_position, distance=1353.11145019531
[04:28:47] [INFO] [Bullet] Distance to wall: 1353.11145019531 (92.135846796356% of viewport)
[04:28:47] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[04:28:47] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[04:28:47] [ENEMY] [Enemy3] Hit taken, health: 1/4
[04:28:47] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[04:28:47] [INFO] [ImpactEffects] spawn_blood_effect called at (605.726, 768.3738), dir=(1, 0), lethal=false
[04:28:47] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[04:28:47] [INFO] [ImpactEffects] Blood decals scheduled: 27 (4 merged splatters, 9 satellite drops)
[04:28:47] [INFO] [ImpactEffects] Blood effect spawned at (605.726, 768.3738) (scale=1)
[04:28:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(383.0461, 758.2814), source=PLAYER (AssaultRifle), range=1469, listeners=10
[04:28:48] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[04:28:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(603.5237, 772.0283), source=ENEMY (Enemy3), range=1469, listeners=10
[04:28:48] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[04:28:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(570.8258, 776.175), shooter_id=887783164955, bullet_pos=(38.98314, 816.0236)
[04:28:48] [INFO] [Bullet] Using shooter_position, distance=533.333374023438
[04:28:48] [INFO] [Bullet] Distance to wall: 533.333374023438 (36.3156501508536% of viewport)
[04:28:48] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:28:48] [INFO] [Bullet] Starting wall penetration at (38.98314, 816.0236)
[04:28:48] [INFO] [Bullet] Raycast backward hit penetrating body at distance 31.3306274414063
[04:28:48] [INFO] [Bullet] Body exited signal received for penetrating body
[04:28:48] [INFO] [Bullet] Exiting penetration at (0.75695, 818.8878) after traveling 33.3333358764648 pixels through wall
[04:28:48] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[04:28:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(598.0181, 781.1643), source=ENEMY (Enemy3), range=1469, listeners=10
[04:28:48] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[04:28:48] [INFO] [LastChance] Threat detected: Bullet
[04:28:48] [INFO] [LastChance] Player health is 3.0 - effect requires exactly 1 HP or less but alive
[04:28:48] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:28:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1077.684, 1487.691), shooter_id=889779653343, bullet_pos=(280.0732, 1393.859)
[04:28:48] [INFO] [Bullet] Using shooter_position, distance=803.111145019531
[04:28:48] [INFO] [Bullet] Distance to wall: 803.111145019531 (54.6853146555555% of viewport)
[04:28:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(989.6003, 1416.68), shooter_id=889779653343, bullet_pos=(58.48876, 423.3731)
[04:28:48] [INFO] [Bullet] Using shooter_position, distance=1361.47985839844
[04:28:48] [INFO] [Bullet] Distance to wall: 1361.47985839844 (92.7056670990526% of viewport)
[04:28:48] [INFO] [Bullet] Distance-based penetration chance: 38.5100550511053%
[04:28:48] [INFO] [Bullet] Starting wall penetration at (58.48876, 423.3731)
[04:28:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(592.5124, 790.3004), source=ENEMY (Enemy3), range=1469, listeners=10
[04:28:48] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[04:28:48] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[04:28:48] [INFO] [Bullet] Exiting penetration at (37.79387, 438.2219) after traveling 20.4708309173584 pixels through wall
[04:28:48] [INFO] [Bullet] Damage multiplier after penetration: 0.1125
[04:28:48] [INFO] [LastChance] Threat detected: @Area2D@1443
[04:28:48] [INFO] [LastChance] Player health is 3.0 - effect requires exactly 1 HP or less but alive
[04:28:48] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:28:48] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[04:28:48] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[04:28:48] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[04:28:48] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[04:28:48] [ENEMY] [Enemy1] State: PURSUING -> RETREATING
[04:28:48] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[04:28:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(584.8046, 803.0908), source=ENEMY (Enemy3), range=1469, listeners=10
[04:28:48] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[04:28:48] [INFO] [LastChance] Threat detected: @Area2D@1445
[04:28:48] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[04:28:48] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:28:48] [ENEMY] [Enemy1] State: RETREATING -> IN_COVER
[04:28:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(535.4974, 773.7668), shooter_id=887783164955, bullet_pos=(40.43656, 843.8724)
[04:28:48] [INFO] [Bullet] Using shooter_position, distance=500.000091552734
[04:28:48] [INFO] [Bullet] Distance to wall: 500.000091552734 (34.0459256529217% of viewport)
[04:28:48] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:28:48] [INFO] [Bullet] Starting wall penetration at (40.43656, 843.8724)
[04:28:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(383.04608, 758.2814), shooter_id=890601737118, bullet_pos=(939.8844, 717.4471)
[04:28:48] [INFO] [Bullet] Using shooter_position, distance=558,33356
[04:28:48] [INFO] [Bullet] Distance to wall: 558,33356 (38,01796% of viewport)
[04:28:48] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:28:48] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[04:28:48] [INFO] [Bullet] Raycast backward hit penetrating body at distance 29.8126029968262
[04:28:48] [INFO] [Bullet] Body exited signal received for penetrating body
[04:28:48] [INFO] [Bullet] Exiting penetration at (2.481895, 849.2471) after traveling 33.3333358764648 pixels through wall
[04:28:48] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[04:28:48] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[04:28:48] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[04:28:48] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[04:28:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(530.0499, 777.8579), shooter_id=887783164955, bullet_pos=(65.47116, 733.7618)
[04:28:48] [INFO] [Bullet] Using shooter_position, distance=466.666809082031
[04:28:48] [INFO] [Bullet] Distance to wall: 466.666809082031 (31.7762011549899% of viewport)
[04:28:48] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:28:48] [INFO] [Bullet] Starting wall penetration at (65.47116, 733.7618)
[04:28:48] [INFO] [Bullet] Raycast backward hit penetrating body at distance 4.7117338180542
[04:28:48] [INFO] [Bullet] Body exited signal received for penetrating body
[04:28:48] [INFO] [Bullet] Exiting penetration at (27.30935, 730.1396) after traveling 33.3333358764648 pixels through wall
[04:28:48] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[04:28:48] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[04:28:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(561.8757, 827.885), source=ENEMY (Enemy3), range=1469, listeners=10
[04:28:48] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=5
[04:28:48] [INFO] [LastChance] Threat detected: Bullet
[04:28:48] [INFO] [LastChance] Triggering last chance effect!
[04:28:48] [INFO] [LastChance] Starting last chance effect:
[04:28:48] [INFO] [LastChance]   - Time will be frozen (except player)
[04:28:48] [INFO] [LastChance]   - Duration: 6.0 real seconds
[04:28:48] [INFO] [LastChance]   - Sepia intensity: 0.70
[04:28:48] [INFO] [LastChance]   - Brightness: 0.60
[04:28:48] [INFO] [LastChance] Pushed bullet Bullet from distance 52.0 to 200.0
[04:28:48] [INFO] [LastChance] Pushed 1 threatening bullets away from player
[04:28:48] [INFO] [LastChance] Set player Player and all 18 children to PROCESS_MODE_ALWAYS
[04:28:48] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[04:28:48] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[04:28:48] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[04:28:48] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[04:28:48] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[04:28:48] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[04:28:48] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[04:28:48] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[04:28:48] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[04:28:48] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[04:28:48] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[04:28:48] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[04:28:48] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[04:28:48] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[04:28:48] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[04:28:48] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[04:28:48] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[04:28:48] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[04:28:48] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[04:28:48] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[04:28:48] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[04:28:48] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[04:28:48] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[04:28:48] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[04:28:48] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[04:28:48] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[04:28:48] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[04:28:48] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[04:28:48] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[04:28:48] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[04:28:48] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[04:28:48] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[04:28:48] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[04:28:48] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[04:28:48] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[04:28:48] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[04:28:48] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[04:28:48] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[04:28:48] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[04:28:48] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[04:28:48] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[04:28:48] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[04:28:48] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[04:28:48] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[04:28:48] [INFO] [LastChance] Skipping player node: Player
[04:28:48] [INFO] [LastChance] Froze existing bullet casing: Casing
[04:28:48] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1394
[04:28:48] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1396
[04:28:48] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1398
[04:28:48] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1400
[04:28:48] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1411
[04:28:48] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1413
[04:28:48] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1414
[04:28:48] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1419
[04:28:48] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1421
[04:28:48] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1425
[04:28:48] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1446
[04:28:48] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1461
[04:28:48] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[04:28:48] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[04:28:48] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[04:28:49] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@1484
[04:28:49] [INFO] [LastChance] Registered frozen player bullet: @Area2D@1484
[04:28:49] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@1485
[04:28:49] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@1485
[04:28:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(594.4935, 857.6086), source=PLAYER (AssaultRifle), range=1469, listeners=10
[04:28:49] [ENEMY] [Enemy3] Heard gunshot at (594.4935, 857.6086), source_type=0, intensity=1.00, distance=44
[04:28:49] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=6
[04:28:49] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@1486
[04:28:49] [INFO] [LastChance] Registered frozen player bullet: @Area2D@1486
[04:28:49] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@1487
[04:28:49] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@1487
[04:28:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(594.4935, 858.2486), source=PLAYER (AssaultRifle), range=1469, listeners=10
[04:28:49] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=6
[04:28:50] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@1488
[04:28:50] [INFO] [LastChance] Registered frozen player bullet: @Area2D@1488
[04:28:50] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@1489
[04:28:50] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@1489
[04:28:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(669.9982, 947.0956), source=PLAYER (AssaultRifle), range=1469, listeners=10
[04:28:50] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=6
[04:28:50] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@1490
[04:28:50] [INFO] [LastChance] Registered frozen player bullet: @Area2D@1490
[04:28:50] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@1491
[04:28:50] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@1491
[04:28:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(669.9982, 947.0956), source=PLAYER (AssaultRifle), range=1469, listeners=10
[04:28:50] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=6
[04:28:50] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@1492
[04:28:50] [INFO] [LastChance] Registered frozen player bullet: @Area2D@1492
[04:28:50] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@1493
[04:28:50] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@1493
[04:28:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(669.9982, 947.0956), source=PLAYER (AssaultRifle), range=1469, listeners=10
[04:28:50] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=6
[04:28:51] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@1494
[04:28:51] [INFO] [LastChance] Registered frozen player bullet: @Area2D@1494
[04:28:51] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@1495
[04:28:51] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@1495
[04:28:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(669.9982, 947.0956), source=PLAYER (AssaultRifle), range=1469, listeners=10
[04:28:51] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=6
[04:28:51] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@1496
[04:28:51] [INFO] [LastChance] Registered frozen player bullet: @Area2D@1496
[04:28:51] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@1497
[04:28:51] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@1497
[04:28:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(655.8215, 878.0535), source=PLAYER (AssaultRifle), range=1469, listeners=10
[04:28:51] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=6
[04:28:51] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@1498
[04:28:51] [INFO] [LastChance] Registered frozen player bullet: @Area2D@1498
[04:28:51] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@1499
[04:28:51] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@1499
[04:28:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(641.4461, 848.6418), source=PLAYER (AssaultRifle), range=1469, listeners=10
[04:28:51] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=6
[04:28:51] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@1500
[04:28:51] [INFO] [LastChance] Registered frozen player bullet: @Area2D@1500
[04:28:51] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@1501
[04:28:51] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@1501
[04:28:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(614.9359, 821.2966), source=PLAYER (AssaultRifle), range=1469, listeners=10
[04:28:51] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=6
[04:28:52] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@1502
[04:28:52] [INFO] [LastChance] Registered frozen player bullet: @Area2D@1502
[04:28:52] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@1503
[04:28:52] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@1503
[04:28:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(452.4954, 617.9008), source=PLAYER (AssaultRifle), range=1469, listeners=10
[04:28:52] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[04:28:52] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@1504
[04:28:52] [INFO] [LastChance] Registered frozen player bullet: @Area2D@1504
[04:28:52] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@1505
[04:28:52] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@1505
[04:28:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(416.3899, 612.1201), source=PLAYER (AssaultRifle), range=1469, listeners=10
[04:28:52] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[04:28:52] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@1506
[04:28:52] [INFO] [LastChance] Registered frozen player bullet: @Area2D@1506
[04:28:52] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@1507
[04:28:52] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@1507
[04:28:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(377.8899, 612.1201), source=PLAYER (AssaultRifle), range=1469, listeners=10
[04:28:52] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[04:28:53] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@1508
[04:28:53] [INFO] [LastChance] Registered frozen player bullet: @Area2D@1508
[04:28:53] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@1509
[04:28:53] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@1509
[04:28:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(136.5296, 451.8531), source=PLAYER (AssaultRifle), range=1469, listeners=10
[04:28:53] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=3
[04:28:53] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@1510
[04:28:53] [INFO] [LastChance] Registered frozen player bullet: @Area2D@1510
[04:28:53] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@1511
[04:28:53] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@1511
[04:28:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(120.0846, 420.1649), source=PLAYER (AssaultRifle), range=1469, listeners=10
[04:28:53] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=3
[04:28:54] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@1512
[04:28:54] [INFO] [LastChance] Registered frozen player bullet: @Area2D@1512
[04:28:54] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@1513
[04:28:54] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@1513
[04:28:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(117.4626, 382.751), source=PLAYER (AssaultRifle), range=1469, listeners=10
[04:28:54] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=3
[04:28:54] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@1514
[04:28:54] [INFO] [LastChance] Registered frozen player bullet: @Area2D@1514
[04:28:54] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@1515
[04:28:54] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@1515
[04:28:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(117.4626, 344.251), source=PLAYER (AssaultRifle), range=1469, listeners=10
[04:28:54] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=3
[04:28:54] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@1516
[04:28:54] [INFO] [LastChance] Registered frozen player bullet: @Area2D@1516
[04:28:54] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@1517
[04:28:54] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@1517
[04:28:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(118.3865, 306.1337), source=PLAYER (AssaultRifle), range=1469, listeners=10
[04:28:54] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=3
[04:28:54] [INFO] [LastChance] Effect duration expired after 6.00 real seconds
[04:28:54] [INFO] [LastChance] Ending last chance effect
[04:28:54] [INFO] [LastChance] All process modes restored
[04:28:54] [INFO] [LastChance] Unfroze player bullet: @Area2D@1484
[04:28:54] [INFO] [LastChance] Unfroze player bullet: @Area2D@1486
[04:28:54] [INFO] [LastChance] Unfroze player bullet: @Area2D@1488
[04:28:54] [INFO] [LastChance] Unfroze player bullet: @Area2D@1490
[04:28:54] [INFO] [LastChance] Unfroze player bullet: @Area2D@1492
[04:28:54] [INFO] [LastChance] Unfroze player bullet: @Area2D@1494
[04:28:54] [INFO] [LastChance] Unfroze player bullet: @Area2D@1496
[04:28:54] [INFO] [LastChance] Unfroze player bullet: @Area2D@1498
[04:28:54] [INFO] [LastChance] Unfroze player bullet: @Area2D@1500
[04:28:54] [INFO] [LastChance] Unfroze player bullet: @Area2D@1502
[04:28:54] [INFO] [LastChance] Unfroze player bullet: @Area2D@1504
[04:28:54] [INFO] [LastChance] Unfroze player bullet: @Area2D@1506
[04:28:54] [INFO] [LastChance] Unfroze player bullet: @Area2D@1508
[04:28:54] [INFO] [LastChance] Unfroze player bullet: @Area2D@1510
[04:28:54] [INFO] [LastChance] Unfroze player bullet: @Area2D@1512
[04:28:54] [INFO] [LastChance] Unfroze player bullet: @Area2D@1514
[04:28:54] [INFO] [LastChance] Unfroze player bullet: @Area2D@1516
[04:28:54] [INFO] [LastChance] Unfroze bullet casing: Casing
[04:28:54] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@1394
[04:28:54] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@1396
[04:28:54] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@1398
[04:28:54] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@1400
[04:28:54] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@1411
[04:28:54] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@1413
[04:28:54] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@1414
[04:28:54] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@1419
[04:28:54] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@1421
[04:28:54] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@1425
[04:28:54] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@1446
[04:28:54] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@1461
[04:28:54] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@1485
[04:28:54] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@1487
[04:28:54] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@1489
[04:28:54] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@1491
[04:28:54] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@1493
[04:28:54] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@1495
[04:28:54] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@1497
[04:28:54] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@1499
[04:28:54] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@1501
[04:28:54] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@1503
[04:28:54] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@1505
[04:28:54] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@1507
[04:28:54] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@1509
[04:28:54] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@1511
[04:28:54] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@1513
[04:28:54] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@1515
[04:28:54] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@1517
[04:28:54] [INFO] [LastChance] Restored original colors to 5 player sprites
[04:28:54] [INFO] [LastChance] Called player RefreshHealthVisual (C#)
[04:28:54] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[04:28:54] [ENEMY] [Enemy3] Hit taken, health: 0/4
[04:28:54] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[04:28:54] [INFO] [ImpactEffects] spawn_blood_effect called at (556.0256, 835.4966), dir=(1, 0), lethal=true
[04:28:54] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[04:28:54] [INFO] [ImpactEffects] Blood decals scheduled: 58 (10 merged splatters, 18 satellite drops)
[04:28:54] [INFO] [ImpactEffects] Blood effect spawned at (556.0256, 835.4966) (scale=1.5)
[04:28:54] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[04:28:54] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[04:28:54] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[04:28:54] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[04:28:54] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[04:28:54] [ENEMY] [Enemy2] Hit taken, health: 2/3
[04:28:54] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[04:28:54] [INFO] [ImpactEffects] spawn_blood_effect called at (398.3449, 565.914), dir=(1, 0), lethal=false
[04:28:54] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[04:28:54] [INFO] [ImpactEffects] Blood decals scheduled: 27 (1 merged splatters, 6 satellite drops)
[04:28:54] [INFO] [ImpactEffects] Blood effect spawned at (398.3449, 565.914) (scale=1)
[04:28:54] [ENEMY] [Enemy2] Hit taken, health: 1/3
[04:28:54] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[04:28:54] [INFO] [ImpactEffects] spawn_blood_effect called at (398.3449, 565.914), dir=(1, 0), lethal=false
[04:28:54] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[04:28:54] [INFO] [ImpactEffects] Blood decals scheduled: 31 (3 merged splatters, 12 satellite drops)
[04:28:54] [INFO] [ImpactEffects] Blood effect spawned at (398.3449, 565.914) (scale=1)
[04:28:54] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(136.52962, 451.85315), shooter_id=890601737118, bullet_pos=(244.31305, 440.95145)
[04:28:54] [INFO] [Bullet] Using shooter_position, distance=108,33335
[04:28:54] [INFO] [Bullet] Distance to wall: 108,33335 (7,3766174% of viewport)
[04:28:54] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:28:54] [INFO] [Bullet] Starting wall penetration at (244.31305, 440.95145)
[04:28:54] [ENEMY] [Enemy4] Hit taken, health: 1/2
[04:28:54] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[04:28:54] [INFO] [ImpactEffects] spawn_blood_effect called at (775.8555, 908.6375), dir=(1, 0), lethal=false
[04:28:54] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[04:28:54] [INFO] [ImpactEffects] Blood decals scheduled: 21 (4 merged splatters, 3 satellite drops)
[04:28:54] [INFO] [ImpactEffects] Blood effect spawned at (775.8555, 908.6375) (scale=1)
[04:28:54] [ENEMY] [Enemy4] Hit taken, health: 0/2
[04:28:54] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[04:28:54] [INFO] [ImpactEffects] spawn_blood_effect called at (775.8555, 908.6375), dir=(1, 0), lethal=true
[04:28:54] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[04:28:54] [INFO] [ImpactEffects] Blood decals scheduled: 47 (10 merged splatters, 12 satellite drops)
[04:28:54] [INFO] [ImpactEffects] Blood effect spawned at (775.8555, 908.6375) (scale=1.5)
[04:28:54] [ENEMY] [Enemy4] Enemy died (ricochet: false, penetration: false)
[04:28:54] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[04:28:54] [INFO] [SoundPropagation] Unregistered listener: Enemy4 (remaining: 8)
[04:28:54] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[04:28:54] [ENEMY] [Enemy4] Death animation started with hit direction: (1, 0)
[04:28:54] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(120.0846, 420.16495), shooter_id=890601737118, bullet_pos=(228.28711, 425.48776)
[04:28:54] [INFO] [Bullet] Using shooter_position, distance=108,33335
[04:28:54] [INFO] [Bullet] Distance to wall: 108,33335 (7,3766174% of viewport)
[04:28:54] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:28:54] [ENEMY] [Enemy1] Hit taken, health: 1/2
[04:28:54] [ENEMY] [Enemy1] ImpactEffectsManager found, calling spawn_blood_effect
[04:28:54] [INFO] [ImpactEffects] spawn_blood_effect called at (237.5284, 401.9337), dir=(1, 0), lethal=false
[04:28:54] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[04:28:54] [INFO] [ImpactEffects] Blood decals scheduled: 24 (1 merged splatters, 3 satellite drops)
[04:28:54] [INFO] [ImpactEffects] Blood effect spawned at (237.5284, 401.9337) (scale=1)
[04:28:54] [ENEMY] [Enemy1] Hit taken, health: 0/2
[04:28:54] [ENEMY] [Enemy1] ImpactEffectsManager found, calling spawn_blood_effect
[04:28:54] [INFO] [ImpactEffects] spawn_blood_effect called at (237.5284, 401.9337), dir=(1, 0), lethal=true
[04:28:54] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[04:28:54] [INFO] [ImpactEffects] Blood decals scheduled: 49 (10 merged splatters, 14 satellite drops)
[04:28:54] [INFO] [ImpactEffects] Blood effect spawned at (237.5284, 401.9337) (scale=1.5)
[04:28:54] [ENEMY] [Enemy1] Enemy died (ricochet: false, penetration: false)
[04:28:54] [INFO] [ScoreManager] Kill registered. Combo: 3 (points: 3000)
[04:28:54] [INFO] [SoundPropagation] Unregistered listener: Enemy1 (remaining: 7)
[04:28:54] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[04:28:54] [ENEMY] [Enemy1] Death animation started with hit direction: (1, 0)
[04:28:54] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(614.9359, 821.2966), shooter_id=890601737118, bullet_pos=(506.61206, 822.7289)
[04:28:54] [INFO] [Bullet] Using shooter_position, distance=108,33332
[04:28:54] [INFO] [Bullet] Distance to wall: 108,33332 (7,376615% of viewport)
[04:28:54] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:28:54] [INFO] [Bullet] Starting wall penetration at (506.61206, 822.7289)
[04:28:54] [INFO] [Bullet] Raycast backward hit penetrating body at distance 31,7207
[04:28:54] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[04:28:54] [INFO] [Bullet] Exiting penetration at (282.4518, 437.09393) after traveling 33,333336 pixels through wall
[04:28:54] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[04:28:54] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(377.8899, 612.12006), shooter_id=890601737118, bullet_pos=(336.16614, 476.73703)
[04:28:54] [INFO] [Bullet] Using shooter_position, distance=141,66664
[04:28:54] [INFO] [Bullet] Distance to wall: 141,66664 (9,646342% of viewport)
[04:28:54] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:28:54] [INFO] [Bullet] Starting wall penetration at (336.16614, 476.73703)
[04:28:54] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(506.2058, 788.751), shooter_id=887783164955, bullet_pos=(506.9274, 830.3056)
[04:28:54] [INFO] [Bullet] Using shooter_position, distance=41.5608291625977
[04:28:54] [INFO] [Bullet] Distance to wall: 41.5608291625977 (2.82995328130724% of viewport)
[04:28:54] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[04:28:54] [INFO] [Bullet] Starting wall penetration at (506.9274, 830.3056)
[04:28:54] [INFO] [Bullet] Body exited signal received for penetrating body
[04:28:54] [INFO] [Bullet] Exiting penetration at (468.28207, 823.23566) after traveling 33,333336 pixels through wall
[04:28:54] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[04:28:54] [INFO] [Bullet] Raycast backward hit penetrating body at distance 29.0569190979004
[04:28:54] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[04:28:54] [INFO] [Bullet] Exiting penetration at (324.8762, 440.10397) after traveling 33,333336 pixels through wall
[04:28:54] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[04:28:54] [INFO] [Bullet] Body exited signal received for penetrating body
[04:28:54] [INFO] [Bullet] Exiting penetration at (478.3009, 804.8112) after traveling 33.3333320617676 pixels through wall
[04:28:54] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[04:28:54] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(117.46258, 344.251), shooter_id=890601737118, bullet_pos=(343.16132, 430.63885)
[04:28:54] [INFO] [Bullet] Using shooter_position, distance=241,66667
[04:28:54] [INFO] [Bullet] Distance to wall: 241,66667 (16,455528% of viewport)
[04:28:54] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:28:54] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(655.82153, 878.05347), shooter_id=890601737118, bullet_pos=(484.29437, 707.81476)
[04:28:54] [INFO] [Bullet] Using shooter_position, distance=241,66669
[04:28:54] [INFO] [Bullet] Distance to wall: 241,66669 (16,45553% of viewport)
[04:28:54] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:28:54] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(594.4935, 858.2486), shooter_id=890601737118, bullet_pos=(416.02136, 695.3055)
[04:28:54] [INFO] [Bullet] Using shooter_position, distance=241,66666
[04:28:54] [INFO] [Bullet] Distance to wall: 241,66666 (16,455528% of viewport)
[04:28:54] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:28:54] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(594.4935, 857.6086), shooter_id=890601737118, bullet_pos=(411.43988, 699.82983)
[04:28:54] [INFO] [Bullet] Using shooter_position, distance=241,66666
[04:28:54] [INFO] [Bullet] Distance to wall: 241,66666 (16,455528% of viewport)
[04:28:54] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:28:54] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(669.99817, 947.09564), shooter_id=890601737118, bullet_pos=(932.97296, 866.6646)
[04:28:54] [INFO] [Bullet] Using shooter_position, distance=274,9998
[04:28:54] [INFO] [Bullet] Distance to wall: 274,9998 (18,725243% of viewport)
[04:28:54] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:28:54] [INFO] [Bullet] Starting wall penetration at (932.97296, 866.6646)
[04:28:54] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(669.99817, 947.09564), shooter_id=890601737118, bullet_pos=(933.13965, 867.2114)
[04:28:54] [INFO] [Bullet] Using shooter_position, distance=274,99985
[04:28:54] [INFO] [Bullet] Distance to wall: 274,99985 (18,725246% of viewport)
[04:28:54] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:28:54] [INFO] [Bullet] Raycast backward hit penetrating body at distance 35,16786
[04:28:54] [INFO] [Bullet] Body exited signal received for penetrating body
[04:28:54] [INFO] [Bullet] Exiting penetration at (969.63007, 855.453) after traveling 33,333336 pixels through wall
[04:28:54] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[04:28:54] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(118.38646, 306.1337), shooter_id=890601737118, bullet_pos=(516.55804, 497.25876)
[04:28:54] [INFO] [Bullet] Using shooter_position, distance=441,6666
[04:28:54] [INFO] [Bullet] Distance to wall: 441,6666 (30,07389% of viewport)
[04:28:54] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:28:54] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(117.46258, 344.251), shooter_id=890601737118, bullet_pos=(517.63776, 326.22437)
[04:28:54] [INFO] [Bullet] Using shooter_position, distance=400,581
[04:28:54] [INFO] [Bullet] Distance to wall: 400,581 (27,276299% of viewport)
[04:28:54] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:28:54] [INFO] [Bullet] Starting wall penetration at (517.63776, 326.22437)
[04:28:54] [INFO] [Bullet] Raycast backward hit penetrating body at distance 25,91885
[04:28:54] [INFO] [Bullet] Body exited signal received for penetrating body
[04:28:54] [INFO] [Bullet] Exiting penetration at (546.2405, 309.10724) after traveling 28,33333 pixels through wall
[04:28:54] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[04:28:54] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1077.684, 1487.691), shooter_id=889779653343, bullet_pos=(641.1381, 1026.265)
[04:28:54] [INFO] [Bullet] Using shooter_position, distance=635.205993652344
[04:28:54] [INFO] [Bullet] Distance to wall: 635.205993652344 (43.2523441486152% of viewport)
[04:28:54] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(594.4935, 857.6086), shooter_id=890601737118, bullet_pos=(57.611115, 1074.0361)
[04:28:54] [INFO] [Bullet] Using shooter_position, distance=578,8641
[04:28:54] [INFO] [Bullet] Distance to wall: 578,8641 (39,41592% of viewport)
[04:28:54] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:28:54] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(594.4935, 858.2486), shooter_id=890601737118, bullet_pos=(59.423325, 1105.2433)
[04:28:54] [INFO] [Bullet] Using shooter_position, distance=589,32715
[04:28:54] [INFO] [Bullet] Distance to wall: 589,32715 (40,128372% of viewport)
[04:28:54] [ENEMY] [Enemy10] FLANKING started: target=(400.0771, 182.9363), side=left, pos=(1022.594, 1432.37)
[04:28:54] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[04:28:54] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(655.82153, 878.05347), shooter_id=890601737118, bullet_pos=(67.73169, 1286.8828)
[04:28:54] [INFO] [Bullet] Using shooter_position, distance=716,23395
[04:28:54] [INFO] [Bullet] Distance to wall: 716,23395 (48,769688% of viewport)
[04:28:55] [ENEMY] [Enemy3] Ragdoll activated
[04:28:55] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[04:28:55] [ENEMY] [Enemy1] Ragdoll activated
[04:28:55] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[04:28:55] [ENEMY] [Enemy4] Ragdoll activated
[04:28:55] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[04:28:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(594.4935, 858.2486), shooter_id=890601737118, bullet_pos=(329.35767, 1387.1929)
[04:28:55] [INFO] [Bullet] Using shooter_position, distance=591,6748
[04:28:55] [INFO] [Bullet] Distance to wall: 591,6748 (40,288227% of viewport)
[04:28:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(655.82153, 878.05347), shooter_id=890601737118, bullet_pos=(228.58174, 1588.8848)
[04:28:55] [INFO] [Bullet] Using shooter_position, distance=829,3461
[04:28:55] [INFO] [Bullet] Distance to wall: 829,3461 (56,471706% of viewport)
[04:28:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(655.82153, 878.05347), shooter_id=890601737118, bullet_pos=(300.69748, 1413.9268)
[04:28:55] [INFO] [Bullet] Using shooter_position, distance=642,86334
[04:28:55] [INFO] [Bullet] Distance to wall: 642,86334 (43,77375% of viewport)
[04:28:55] [ENEMY] [Enemy10] Hit taken, health: 3/4
[04:28:55] [ENEMY] [Enemy10] ImpactEffectsManager found, calling spawn_blood_effect
[04:28:55] [INFO] [ImpactEffects] spawn_blood_effect called at (938.69, 1378.589), dir=(0.685216, 0.72834), lethal=false
[04:28:55] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[04:28:55] [INFO] [ImpactEffects] Blood decals scheduled: 30 (1 merged splatters, 9 satellite drops)
[04:28:55] [INFO] [ImpactEffects] Blood effect spawned at (938.69, 1378.589) (scale=1)
[04:28:55] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[04:28:55] [ENEMY] [Enemy1] Player reloading state changed: false -> true
[04:28:55] [ENEMY] [Enemy2] Player reloading state changed: false -> true
[04:28:55] [ENEMY] [Enemy3] Player reloading state changed: false -> true
[04:28:55] [ENEMY] [Enemy4] Player reloading state changed: false -> true
[04:28:55] [ENEMY] [Enemy5] Player reloading state changed: false -> true
[04:28:55] [ENEMY] [Enemy6] Player reloading state changed: false -> true
[04:28:55] [ENEMY] [Enemy7] Player reloading state changed: false -> true
[04:28:55] [ENEMY] [Enemy8] Player reloading state changed: false -> true
[04:28:55] [ENEMY] [Enemy9] Player reloading state changed: false -> true
[04:28:55] [ENEMY] [Enemy10] Player reloading state changed: false -> true
[04:28:55] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(294.7733, 178.8406), source=PLAYER (Player), range=900, listeners=7
[04:28:55] [ENEMY] [Enemy2] Heard player RELOAD at (294.7733, 178.8406), intensity=0.02, distance=401
[04:28:55] [ENEMY] [Enemy2] Vulnerability sound triggered pursuit - transitioning from SUPPRESSED to PURSUING
[04:28:55] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=0, below_threshold=0
[04:28:55] [ENEMY] [Enemy2] Player vulnerable (reloading) but cannot attack: close=false (dist=401), can_see=false
[04:28:55] [ENEMY] [Enemy2] Pursuing vulnerability sound at (294.7733, 178.8406), distance=401
[04:28:55] [ENEMY] [Enemy5] Player vulnerable (reloading) but cannot attack: close=false (dist=1416), can_see=false
[04:28:55] [ENEMY] [Enemy6] Player vulnerable (reloading) but cannot attack: close=false (dist=1677), can_see=false
[04:28:55] [ENEMY] [Enemy7] Player vulnerable (reloading) but cannot attack: close=false (dist=1557), can_see=false
[04:28:55] [ENEMY] [Enemy8] Player vulnerable (reloading) but cannot attack: close=false (dist=2048), can_see=false
[04:28:55] [ENEMY] [Enemy9] Player vulnerable (reloading) but cannot attack: close=false (dist=2267), can_see=false
[04:28:55] [ENEMY] [Enemy10] Player vulnerable (reloading) but cannot attack: close=false (dist=1349), can_see=false
[04:28:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(655.82153, 878.05347), shooter_id=890601737118, bullet_pos=(344.86703, 1587.3939)
[04:28:55] [INFO] [Bullet] Using shooter_position, distance=774,5041
[04:28:55] [INFO] [Bullet] Distance to wall: 774,5041 (52,737408% of viewport)
[04:28:55] [INFO] [Bullet] Distance-based penetration chance: 85,139694%
[04:28:55] [INFO] [Bullet] Starting wall penetration at (344.86703, 1587.3939)
[04:28:55] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[04:28:55] [INFO] [Bullet] Exiting penetration at (350.39438, 1609.1014) after traveling 17,40021 pixels through wall
[04:28:55] [INFO] [Bullet] Damage multiplier after penetration: 0,05625
[04:28:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(594.4935, 858.2486), shooter_id=890601737118, bullet_pos=(663.3653, 1020.10504)
[04:28:55] [INFO] [Bullet] Using shooter_position, distance=175,90005
[04:28:55] [INFO] [Bullet] Distance to wall: 175,90005 (11,977359% of viewport)
[04:28:55] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:28:55] [INFO] [Bullet] Starting wall penetration at (663.3653, 1020.10504)
[04:28:55] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[04:28:55] [INFO] [Bullet] Exiting penetration at (680.5071, 1001.2656) after traveling 20,470835 pixels through wall
[04:28:55] [INFO] [Bullet] Damage multiplier after penetration: 0,1125
[04:28:55] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[04:28:55] [INFO] [Player.Reload.Anim] Phase changed to: PullBolt (duration: 0,35s)
[04:28:55] [ENEMY] [Enemy1] Player reloading state changed: true -> false
[04:28:55] [ENEMY] [Enemy2] Player reloading state changed: true -> false
[04:28:55] [ENEMY] [Enemy3] Player reloading state changed: true -> false
[04:28:55] [ENEMY] [Enemy4] Player reloading state changed: true -> false
[04:28:55] [ENEMY] [Enemy5] Player reloading state changed: true -> false
[04:28:55] [ENEMY] [Enemy6] Player reloading state changed: true -> false
[04:28:55] [ENEMY] [Enemy7] Player reloading state changed: true -> false
[04:28:55] [ENEMY] [Enemy8] Player reloading state changed: true -> false
[04:28:55] [ENEMY] [Enemy9] Player reloading state changed: true -> false
[04:28:55] [ENEMY] [Enemy10] Player reloading state changed: true -> false
[04:28:55] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[04:28:55] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[04:28:56] [ENEMY] [Enemy3] Death animation completed
[04:28:56] [ENEMY] [Enemy4] Death animation completed
[04:28:56] [ENEMY] [Enemy1] Death animation completed
[04:28:56] [ENEMY] [Enemy2] Pursuing vulnerability sound at (294.7733, 178.8406), distance=162
[04:28:56] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[04:28:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(312.7619, 183.1826), source=PLAYER (AssaultRifle), range=1469, listeners=7
[04:28:56] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=0, below_threshold=2
[04:28:56] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[04:28:56] [ENEMY] [Enemy2] Hit taken, health: 0/3
[04:28:56] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[04:28:56] [INFO] [ImpactEffects] spawn_blood_effect called at (363.1378, 280.6508), dir=(1, 0), lethal=true
[04:28:56] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[04:28:56] [INFO] [ImpactEffects] Blood decals scheduled: 46 (8 merged splatters, 9 satellite drops)
[04:28:56] [INFO] [ImpactEffects] Blood effect spawned at (363.1378, 280.6508) (scale=1.5)
[04:28:56] [ENEMY] [Enemy2] Enemy died (ricochet: false, penetration: false)
[04:28:56] [INFO] [ScoreManager] Kill registered. Combo: 4 (points: 5000)
[04:28:56] [INFO] [SoundPropagation] Unregistered listener: Enemy2 (remaining: 6)
[04:28:56] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[04:28:56] [ENEMY] [Enemy2] Death animation started with hit direction: (1, 0)
[04:28:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(332.0918, 167.7391), source=PLAYER (AssaultRifle), range=1469, listeners=6
[04:28:56] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=0, below_threshold=2
[04:28:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(356.674, 143.3722), source=PLAYER (AssaultRifle), range=1469, listeners=6
[04:28:56] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=3
[04:28:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(332.09177, 167.73914), shooter_id=890601737118, bullet_pos=(503.40915, 443.919)
[04:28:56] [INFO] [Bullet] Using shooter_position, distance=324,99994
[04:28:56] [INFO] [Bullet] Distance to wall: 324,99994 (22,129845% of viewport)
[04:28:56] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:28:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(381.5641, 118.482), source=PLAYER (AssaultRifle), range=1469, listeners=6
[04:28:56] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=3
[04:28:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(356.67398, 143.37216), shooter_id=890601737118, bullet_pos=(508.5994, 430.67633)
[04:28:57] [INFO] [Bullet] Using shooter_position, distance=325,00003
[04:28:57] [INFO] [Bullet] Distance to wall: 325,00003 (22,12985% of viewport)
[04:28:57] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:28:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(332.09177, 167.73914), shooter_id=890601737118, bullet_pos=(308.20905, 693.2674)
[04:28:57] [INFO] [Bullet] Using shooter_position, distance=526,0706
[04:28:57] [INFO] [Bullet] Distance to wall: 526,0706 (35,821117% of viewport)
[04:28:57] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:28:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(356.67398, 143.37216), shooter_id=890601737118, bullet_pos=(300.64438, 705.9573)
[04:28:57] [INFO] [Bullet] Using shooter_position, distance=565,3683
[04:28:57] [INFO] [Bullet] Distance to wall: 565,3683 (38,496967% of viewport)
[04:28:57] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:28:57] [ENEMY] [Enemy2] Ragdoll activated
[04:28:57] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[04:28:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(381.56412, 118.482025), shooter_id=890601737118, bullet_pos=(497.45374, 698.6881)
[04:28:57] [INFO] [Bullet] Using shooter_position, distance=591,6667
[04:28:57] [INFO] [Bullet] Distance to wall: 591,6667 (40,287674% of viewport)
[04:28:57] [INFO] [Bullet] Distance-based penetration chance: 99,66438%
[04:28:57] [INFO] [Bullet] Starting wall penetration at (497.45374, 698.6881)
[04:28:57] [INFO] [Bullet] Raycast backward hit penetrating body at distance 25,333487
[04:28:57] [INFO] [Bullet] Body exited signal received for penetrating body
[04:28:57] [INFO] [Bullet] Exiting penetration at (504.96207, 736.27893) after traveling 33,333336 pixels through wall
[04:28:57] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[04:28:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(332.09177, 167.73914), shooter_id=890601737118, bullet_pos=(56.26187, 248.9836)
[04:28:57] [INFO] [Bullet] Using shooter_position, distance=287,54617
[04:28:57] [INFO] [Bullet] Distance to wall: 287,54617 (19,579548% of viewport)
[04:28:57] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:28:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(356.67398, 143.37216), shooter_id=890601737118, bullet_pos=(61.663895, 254.56638)
[04:28:57] [INFO] [Bullet] Using shooter_position, distance=315,2699
[04:28:57] [INFO] [Bullet] Distance to wall: 315,2699 (21,467308% of viewport)
[04:28:57] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:28:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(332.09177, 167.73914), shooter_id=890601737118, bullet_pos=(184.49292, 57.831177)
[04:28:57] [INFO] [Bullet] Using shooter_position, distance=184,02495
[04:28:57] [INFO] [Bullet] Distance to wall: 184,02495 (12,530598% of viewport)
[04:28:57] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:28:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(356.67398, 143.37216), shooter_id=890601737118, bullet_pos=(210.74179, 53.068913)
[04:28:57] [INFO] [Bullet] Using shooter_position, distance=171,6126
[04:28:57] [INFO] [Bullet] Distance to wall: 171,6126 (11,685417% of viewport)
[04:28:57] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:28:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(332.09177, 167.73914), shooter_id=890601737118, bullet_pos=(339.7316, 229.16614)
[04:28:57] [INFO] [Bullet] Using shooter_position, distance=61,900272
[04:28:57] [INFO] [Bullet] Distance to wall: 61,900272 (4,2149034% of viewport)
[04:28:57] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[04:28:57] [INFO] [Bullet] Starting wall penetration at (339.7316, 229.16614)
[04:28:57] [INFO] [Bullet] Raycast backward hit penetrating body at distance 22,000502
[04:28:57] [INFO] [Bullet] Body exited signal received for penetrating body
[04:28:57] [INFO] [Bullet] Exiting penetration at (354.772, 245.76602) after traveling 17,400208 pixels through wall
[04:28:57] [INFO] [Bullet] Damage multiplier after penetration: 0,05625
[04:28:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(356.67398, 143.37216), shooter_id=890601737118, bullet_pos=(322.6959, 235.21654)
[04:28:57] [INFO] [Bullet] Using shooter_position, distance=97,92804
[04:28:57] [INFO] [Bullet] Distance to wall: 97,92804 (6,6681004% of viewport)
[04:28:57] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:28:57] [INFO] [Bullet] Starting wall penetration at (322.6959, 235.21654)
[04:28:57] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[04:28:57] [INFO] [Bullet] Exiting penetration at (334.42538, 254.30025) after traveling 17,40021 pixels through wall
[04:28:57] [INFO] [Bullet] Damage multiplier after penetration: 0,05625
[04:28:58] [ENEMY] [Enemy10] State: FLANKING -> COMBAT
[04:28:58] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[04:28:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(473.4545, 845.8008), source=ENEMY (Enemy10), range=1469, listeners=6
[04:28:58] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=2
[04:28:58] [ENEMY] [Enemy2] Death animation completed
[04:28:58] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[04:28:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(475.5393, 812.5553), source=ENEMY (Enemy10), range=1469, listeners=6
[04:28:58] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=2
[04:28:58] [INFO] [LastChance] Threat detected: Bullet
[04:28:58] [INFO] [LastChance] Effect already used this life
[04:28:58] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:28:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(477.0843, 779.3801), source=ENEMY (Enemy10), range=1469, listeners=6
[04:28:58] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=2
[04:28:58] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[04:28:58] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[04:28:58] [INFO] [PenultimateHit] Player died - ending penultimate effect
[04:28:58] [INFO] [LastChance] Player died
[04:28:58] [INFO] [LastChance] Threat detected: @Area2D@1810
[04:28:58] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[04:28:58] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:28:58] [INFO] [LastChance] Threat detected: @Area2D@1812
[04:28:58] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[04:28:58] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:28:58] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[04:28:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(656.1252, 390.5984), source=PLAYER (AssaultRifle), range=1469, listeners=6
[04:28:59] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=3
[04:28:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(675.7925, 417.652), source=PLAYER (AssaultRifle), range=1469, listeners=6
[04:28:59] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=3
[04:28:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(656.12524, 390.59845), shooter_id=890601737118, bullet_pos=(526.78845, 830.3047)
[04:28:59] [INFO] [Bullet] Using shooter_position, distance=458,33347
[04:28:59] [INFO] [Bullet] Distance to wall: 458,33347 (31,208769% of viewport)
[04:28:59] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:28:59] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[04:28:59] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[04:28:59] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[04:28:59] [INFO] [LastChance] Resetting all effects (scene change detected)
[04:28:59] [ENEMY] [Enemy1] Death animation component initialized
[04:28:59] [ENEMY] [Enemy2] Death animation component initialized
[04:28:59] [ENEMY] [Enemy3] Death animation component initialized
[04:28:59] [ENEMY] [Enemy4] Death animation component initialized
[04:28:59] [ENEMY] [Enemy5] Death animation component initialized
[04:28:59] [ENEMY] [Enemy6] Death animation component initialized
[04:28:59] [ENEMY] [Enemy7] Death animation component initialized
[04:28:59] [ENEMY] [Enemy8] Death animation component initialized
[04:28:59] [ENEMY] [Enemy9] Death animation component initialized
[04:28:59] [ENEMY] [Enemy10] Death animation component initialized
[04:28:59] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[04:28:59] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[04:28:59] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[04:28:59] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[04:28:59] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[04:28:59] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[04:28:59] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[04:28:59] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[04:28:59] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[04:28:59] [INFO] [ScoreManager] Level started with 10 enemies
[04:28:59] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 7)
[04:28:59] [ENEMY] [Enemy1] Registered as sound listener
[04:28:59] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[04:28:59] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 8)
[04:28:59] [ENEMY] [Enemy2] Registered as sound listener
[04:28:59] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[04:28:59] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 9)
[04:28:59] [ENEMY] [Enemy3] Registered as sound listener
[04:28:59] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[04:28:59] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 10)
[04:28:59] [ENEMY] [Enemy4] Registered as sound listener
[04:28:59] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[04:28:59] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 11)
[04:28:59] [ENEMY] [Enemy5] Registered as sound listener
[04:28:59] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[04:28:59] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 12)
[04:28:59] [ENEMY] [Enemy6] Registered as sound listener
[04:28:59] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[04:28:59] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 13)
[04:28:59] [ENEMY] [Enemy7] Registered as sound listener
[04:28:59] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[04:28:59] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 14)
[04:28:59] [ENEMY] [Enemy8] Registered as sound listener
[04:28:59] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[04:28:59] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 15)
[04:28:59] [ENEMY] [Enemy9] Registered as sound listener
[04:28:59] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[04:28:59] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 16)
[04:28:59] [ENEMY] [Enemy10] Registered as sound listener
[04:28:59] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[04:28:59] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[04:28:59] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[04:28:59] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[04:28:59] [INFO] [LastChance] Found player: Player
[04:28:59] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[04:28:59] [INFO] [LastChance] Connected to player Damaged signal (C#)
[04:28:59] [INFO] [LastChance] Connected to player Died signal (C#)
[04:28:59] [INFO] [Player] Detecting weapon pose (frame 3)...
[04:28:59] [INFO] [Player] Detected weapon: Rifle (default pose)
[04:28:59] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[04:28:59] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[04:28:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1144.004, 1519.036), source=ENEMY (Enemy10), range=1469, listeners=16
[04:28:59] [INFO] [SoundPropagation] Cleaned up 6 invalid listeners
[04:28:59] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[04:29:00] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[04:29:00] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1112.385, 1499.191), source=ENEMY (Enemy10), range=1469, listeners=10
[04:29:00] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[04:29:00] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[04:29:00] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1081.581, 1478.104), source=ENEMY (Enemy10), range=1469, listeners=10
[04:29:00] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[04:29:00] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[04:29:00] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1051.653, 1455.791), source=ENEMY (Enemy10), range=1469, listeners=10
[04:29:00] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[04:29:00] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[04:29:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1082.059, 1490.759), shooter_id=1333503462558, bullet_pos=(47.54776, 866.3744)
[04:29:00] [INFO] [Bullet] Using shooter_position, distance=1208.33349609375
[04:29:00] [INFO] [Bullet] Distance to wall: 1208.33349609375 (82.277649678398% of viewport)
[04:29:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1051.68, 1468.442), shooter_id=1333503462558, bullet_pos=(43.43921, 802.4684)
[04:29:00] [INFO] [Bullet] Using shooter_position, distance=1208.33361816406
[04:29:00] [INFO] [Bullet] Distance to wall: 1208.33361816406 (82.2776579903901% of viewport)
[04:29:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1082.059, 1490.759), shooter_id=1333503462558, bullet_pos=(369.0458, 706.2504)
[04:29:00] [INFO] [Bullet] Using shooter_position, distance=1060.11413574219
[04:29:00] [INFO] [Bullet] Distance to wall: 1060.11413574219 (72.1851208806894% of viewport)
[04:29:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1051.68, 1468.442), shooter_id=1333503462558, bullet_pos=(161.5683, 715.5396)
[04:29:00] [INFO] [Bullet] Using shooter_position, distance=1165.83044433594
[04:29:00] [INFO] [Bullet] Distance to wall: 1165.83044433594 (79.383538727988% of viewport)
[04:29:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1022.171, 1444.922), shooter_id=1333503462558, bullet_pos=(41.71271, 738.6843)
[04:29:00] [INFO] [Bullet] Using shooter_position, distance=1208.33349609375
[04:29:00] [INFO] [Bullet] Distance to wall: 1208.33349609375 (82.277649678398% of viewport)
[04:29:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1022.171, 1444.922), shooter_id=1333503462558, bullet_pos=(104.9397, 696.8151)
[04:29:00] [INFO] [Bullet] Using shooter_position, distance=1183.62878417969
[04:29:00] [INFO] [Bullet] Distance to wall: 1183.62878417969 (80.59546041621% of viewport)
[04:29:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1082.059, 1490.759), shooter_id=1333503462558, bullet_pos=(527.0164, 803.7283)
[04:29:00] [INFO] [Bullet] Using shooter_position, distance=883.223510742188
[04:29:00] [INFO] [Bullet] Distance to wall: 883.223510742188 (60.1403129512619% of viewport)
[04:29:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1022.171, 1444.922), shooter_id=1333503462558, bullet_pos=(49.19003, 662.9905)
[04:29:00] [INFO] [Bullet] Using shooter_position, distance=1248.2421875
[04:29:00] [INFO] [Bullet] Distance to wall: 1248.2421875 (84.9951058618621% of viewport)
[04:29:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(993.6203, 1420.255), shooter_id=1333503462558, bullet_pos=(42.25559, 675.2892)
[04:29:00] [INFO] [Bullet] Using shooter_position, distance=1208.3330078125
[04:29:00] [INFO] [Bullet] Distance to wall: 1208.3330078125 (82.2776164304298% of viewport)
[04:29:00] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[04:29:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1051.68, 1468.442), shooter_id=1333503462558, bullet_pos=(520.5664, 945.729)
[04:29:00] [INFO] [Bullet] Using shooter_position, distance=745.19140625
[04:29:00] [INFO] [Bullet] Distance to wall: 745.19140625 (50.7414531377298% of viewport)
[04:29:00] [INFO] [Bullet] Distance-based penetration chance: 87.4683046726485%
[04:29:00] [INFO] [Bullet] Starting wall penetration at (520.5664, 945.729)
[04:29:00] [INFO] [Bullet] Raycast backward hit penetrating body at distance 31.0253524780273
[04:29:00] [INFO] [Bullet] Body exited signal received for penetrating body
[04:29:00] [INFO] [Bullet] Exiting penetration at (550.1176, 964.6772) after traveling 30.1041698455811 pixels through wall
[04:29:00] [INFO] [Bullet] Damage multiplier after penetration: 0.225
[04:29:00] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(454.6194, 794.5801), source=PLAYER (AssaultRifle), range=1469, listeners=10
[04:29:00] [ENEMY] [Enemy1] Heard gunshot at (454.6194, 794.5801), source_type=0, intensity=0.01, distance=471
[04:29:00] [ENEMY] [Enemy2] Heard gunshot at (454.6194, 794.5801), source_type=0, intensity=0.04, distance=251
[04:29:00] [ENEMY] [Enemy4] Heard gunshot at (454.6194, 794.5801), source_type=0, intensity=0.02, distance=361
[04:29:00] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[04:29:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(993.6203, 1420.255), shooter_id=1333503462558, bullet_pos=(246.2759, 471.5446)
[04:29:00] [INFO] [Bullet] Using shooter_position, distance=1207.71484375
[04:29:00] [INFO] [Bullet] Distance to wall: 1207.71484375 (82.2355245027107% of viewport)
[04:29:01] [ENEMY] [Enemy3] Hit taken, health: 1/2
[04:29:01] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[04:29:01] [INFO] [ImpactEffects] spawn_blood_effect called at (684.4503, 753.7664), dir=(1, 0), lethal=false
[04:29:01] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[04:29:01] [INFO] [ImpactEffects] Blood decals scheduled: 26 (5 merged splatters, 9 satellite drops)
[04:29:01] [INFO] [ImpactEffects] Blood effect spawned at (684.4503, 753.7664) (scale=1)
[04:29:01] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[04:29:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(472.1392, 766.2311), source=PLAYER (AssaultRifle), range=1469, listeners=10
[04:29:01] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[04:29:01] [INFO] [LastChance] Threat detected: @Area2D@2073
[04:29:01] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[04:29:01] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:29:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(676.7177, 750.6051), source=ENEMY (Enemy3), range=1469, listeners=10
[04:29:01] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[04:29:01] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(993.6203, 1420.255), shooter_id=1333503462558, bullet_pos=(412.7196, 684.0336)
[04:29:01] [INFO] [Bullet] Using shooter_position, distance=937.79931640625
[04:29:01] [INFO] [Bullet] Distance to wall: 937.79931640625 (63.8564799149853% of viewport)
[04:29:01] [ENEMY] [Enemy3] Hit taken, health: 0/2
[04:29:01] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[04:29:01] [INFO] [ImpactEffects] spawn_blood_effect called at (673.1807, 748.2189), dir=(1, 0), lethal=true
[04:29:01] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[04:29:01] [INFO] [ImpactEffects] Blood decals scheduled: 50 (10 merged splatters, 15 satellite drops)
[04:29:01] [INFO] [ImpactEffects] Blood effect spawned at (673.1807, 748.2189) (scale=1.5)
[04:29:01] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[04:29:01] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[04:29:01] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[04:29:01] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[04:29:01] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[04:29:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(496.6324, 750.6662), source=PLAYER (AssaultRifle), range=1469, listeners=9
[04:29:01] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[04:29:01] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[04:29:01] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[04:29:01] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[04:29:01] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(993.6203, 1420.255), shooter_id=1333503462558, bullet_pos=(496.8813, 537.7495)
[04:29:01] [INFO] [Bullet] Using shooter_position, distance=1012.7021484375
[04:29:01] [INFO] [Bullet] Distance to wall: 1012.7021484375 (68.9567514821562% of viewport)
[04:29:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(523.1116, 747.968), source=PLAYER (AssaultRifle), range=1469, listeners=9
[04:29:01] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[04:29:01] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[04:29:01] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(496.6324, 750.6662), shooter_id=1334325545835, bullet_pos=(913.2961, 834.42993)
[04:29:01] [INFO] [Bullet] Using shooter_position, distance=425
[04:29:01] [INFO] [Bullet] Distance to wall: 425 (28,939034% of viewport)
[04:29:01] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:29:01] [INFO] [Bullet] Starting wall penetration at (913.2961, 834.42993)
[04:29:01] [INFO] [Bullet] Raycast backward hit penetrating body at distance 15,175163
[04:29:01] [INFO] [Bullet] Body exited signal received for penetrating body
[04:29:01] [INFO] [Bullet] Exiting penetration at (950.8775, 841.9851) after traveling 33,333336 pixels through wall
[04:29:01] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[04:29:01] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(609.2204, 759.2488), shooter_id=1331506972311, bullet_pos=(56.25927, 883.1245)
[04:29:01] [INFO] [Bullet] Using shooter_position, distance=566.666748046875
[04:29:01] [INFO] [Bullet] Distance to wall: 566.666748046875 (38.5853808827794% of viewport)
[04:29:01] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:29:01] [INFO] [Bullet] Starting wall penetration at (56.25927, 883.1245)
[04:29:01] [INFO] [Bullet] Raycast backward hit penetrating body at distance 13.4727745056152
[04:29:01] [INFO] [Bullet] Body exited signal received for penetrating body
[04:29:01] [INFO] [Bullet] Exiting penetration at (18.85308, 891.5043) after traveling 33.3333358764648 pixels through wall
[04:29:01] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[04:29:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=9
[04:29:01] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=4
[04:29:01] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[04:29:01] [INFO] [LastChance] Threat detected: @Area2D@2107
[04:29:01] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[04:29:01] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:29:01] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(523.11163, 747.96796), shooter_id=1334325545835, bullet_pos=(908.7087, 816.6543)
[04:29:01] [INFO] [Bullet] Using shooter_position, distance=391,6668
[04:29:01] [INFO] [Bullet] Distance to wall: 391,6668 (26,669315% of viewport)
[04:29:01] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:29:01] [INFO] [Bullet] Starting wall penetration at (908.7087, 816.6543)
[04:29:01] [INFO] [Bullet] Raycast backward hit penetrating body at distance 10,612399
[04:29:01] [INFO] [Bullet] Body exited signal received for penetrating body
[04:29:01] [INFO] [Bullet] Exiting penetration at (946.44794, 823.3768) after traveling 33,333336 pixels through wall
[04:29:01] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[04:29:01] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[04:29:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=9
[04:29:01] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=3
[04:29:01] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[04:29:01] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(993.6203, 1420.255), shooter_id=1333503462558, bullet_pos=(328.5068, 267.7426)
[04:29:01] [INFO] [Bullet] Using shooter_position, distance=1330.66186523438
[04:29:01] [INFO] [Bullet] Distance to wall: 1330.66186523438 (90.6072132752191% of viewport)
[04:29:01] [INFO] [LastChance] Threat detected: Bullet
[04:29:01] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[04:29:01] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:29:01] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[04:29:01] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(433.9664, 609.0291), shooter_id=1331221759990, bullet_pos=(496.6317, 686.9589)
[04:29:01] [INFO] [Bullet] Using shooter_position, distance=100.000015258789
[04:29:01] [INFO] [Bullet] Distance to wall: 100.000015258789 (6.80918492278455% of viewport)
[04:29:01] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:29:01] [INFO] [Bullet] Starting wall penetration at (496.6317, 686.9589)
[04:29:01] [INFO] [Bullet] Raycast backward hit penetrating body at distance 32.9582977294922
[04:29:01] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(433.4324, 609.5828), shooter_id=1331221759990, bullet_pos=(689.2345, 823.3029)
[04:29:01] [INFO] [Bullet] Using shooter_position, distance=333.333160400391
[04:29:01] [INFO] [Bullet] Distance to wall: 333.333160400391 (22.6972678372964% of viewport)
[04:29:01] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:29:01] [INFO] [Bullet] Body exited signal received for penetrating body
[04:29:01] [INFO] [Bullet] Exiting penetration at (520.6534, 716.832) after traveling 33.3333320617676 pixels through wall
[04:29:01] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[04:29:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=9
[04:29:01] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=3
[04:29:01] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(432.8796, 609.4753), shooter_id=1331221759990, bullet_pos=(485.2766, 694.649)
[04:29:01] [INFO] [Bullet] Using shooter_position, distance=100.000030517578
[04:29:01] [INFO] [Bullet] Distance to wall: 100.000030517578 (6.80918596178355% of viewport)
[04:29:01] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:29:01] [ENEMY] [Enemy1] Hit taken, health: 2/3
[04:29:01] [ENEMY] [Enemy1] ImpactEffectsManager found, calling spawn_blood_effect
[04:29:01] [INFO] [ImpactEffects] spawn_blood_effect called at (239.225, 401.9332), dir=(-0.612458, 0.790503), lethal=false
[04:29:01] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[04:29:01] [INFO] [ImpactEffects] Blood decals scheduled: 25 (3 merged splatters, 6 satellite drops)
[04:29:01] [INFO] [ImpactEffects] Wall found for blood splatter at (220.5788, 426) (dist=30 px)
[04:29:01] [INFO] [ImpactEffects] Blood effect spawned at (239.225, 401.9332) (scale=1)
[04:29:01] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[04:29:01] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(433.4324, 609.5828), shooter_id=1331221759990, bullet_pos=(516.0789, 929.8939)
[04:29:01] [INFO] [Bullet] Using shooter_position, distance=330.801513671875
[04:29:01] [INFO] [Bullet] Distance to wall: 330.801513671875 (22.5248833562639% of viewport)
[04:29:01] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:29:01] [INFO] [Bullet] Starting wall penetration at (516.0789, 929.8939)
[04:29:01] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[04:29:01] [INFO] [Bullet] Raycast backward hit penetrating body at distance 14.4521932601929
[04:29:01] [ENEMY] [Enemy3] Ragdoll activated
[04:29:01] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[04:29:01] [INFO] [Bullet] Body exited signal received for penetrating body
[04:29:01] [INFO] [Bullet] Exiting penetration at (487.6927, 947.3679) after traveling 28.3333358764648 pixels through wall
[04:29:01] [INFO] [Bullet] Damage multiplier after penetration: 0.45
[04:29:01] [ENEMY] [Enemy2] State: SEEKING_COVER -> IN_COVER
[04:29:01] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[04:29:01] [ENEMY] [Enemy4] State: PURSUING -> RETREATING
[04:29:01] [ENEMY] [Enemy1] State: PURSUING -> RETREATING
[04:29:01] [ENEMY] [Enemy1] State: RETREATING -> IN_COVER
[04:29:01] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[04:29:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(568.3619, 865.408), source=PLAYER (AssaultRifle), range=1469, listeners=9
[04:29:01] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[04:29:01] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(568.3619, 865.408), shooter_id=1334325545835, bullet_pos=(692.6761, 878.48334)
[04:29:01] [INFO] [Bullet] Using shooter_position, distance=124,99995
[04:29:01] [INFO] [Bullet] Distance to wall: 124,99995 (8,5114765% of viewport)
[04:29:01] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:29:01] [INFO] [Bullet] Starting wall penetration at (692.6761, 878.48334)
[04:29:01] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[04:29:01] [INFO] [Bullet] Exiting penetration at (730.79913, 882.4931) after traveling 33,333336 pixels through wall
[04:29:01] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[04:29:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(568.3619, 900.6082), source=PLAYER (AssaultRifle), range=1469, listeners=9
[04:29:02] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[04:29:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(568.3619, 900.6082), shooter_id=1334325545835, bullet_pos=(692.5941, 886.77576)
[04:29:02] [INFO] [Bullet] Using shooter_position, distance=124,99995
[04:29:02] [INFO] [Bullet] Distance to wall: 124,99995 (8,5114765% of viewport)
[04:29:02] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:29:02] [INFO] [Bullet] Starting wall penetration at (692.5941, 886.77576)
[04:29:02] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[04:29:02] [INFO] [Bullet] Exiting penetration at (730.692, 882.5338) after traveling 33,333336 pixels through wall
[04:29:02] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[04:29:02] [ENEMY] [Enemy10] FLANKING started: target=(764.2642, 880.7309), side=left, pos=(1022.619, 1432.325)
[04:29:02] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[04:29:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(568.3619, 931.4084), source=PLAYER (AssaultRifle), range=1469, listeners=9
[04:29:02] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[04:29:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(568.3619, 931.4084), shooter_id=1334325545835, bullet_pos=(687.2188, 892.704)
[04:29:02] [INFO] [Bullet] Using shooter_position, distance=125,00001
[04:29:02] [INFO] [Bullet] Distance to wall: 125,00001 (8,51148% of viewport)
[04:29:02] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:29:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(575.061, 964.1668), source=PLAYER (AssaultRifle), range=1469, listeners=9
[04:29:02] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[04:29:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(568.3619, 931.4084), shooter_id=1334325545835, bullet_pos=(928.8321, 988.7399)
[04:29:02] [INFO] [Bullet] Using shooter_position, distance=365,00092
[04:29:02] [INFO] [Bullet] Distance to wall: 365,00092 (24,853584% of viewport)
[04:29:02] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:29:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(568.3619, 931.4084), shooter_id=1334325545835, bullet_pos=(901.3005, 998.1126)
[04:29:02] [INFO] [Bullet] Using shooter_position, distance=339,55496
[04:29:02] [INFO] [Bullet] Distance to wall: 339,55496 (23,120922% of viewport)
[04:29:02] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:29:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(568.3619, 931.4084), shooter_id=1334325545835, bullet_pos=(905.8203, 1000.2506)
[04:29:02] [INFO] [Bullet] Using shooter_position, distance=344,40884
[04:29:02] [INFO] [Bullet] Distance to wall: 344,40884 (23,451433% of viewport)
[04:29:02] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:29:02] [INFO] [Bullet] Starting wall penetration at (905.8203, 1000.2506)
[04:29:02] [INFO] [Bullet] Raycast backward hit penetrating body at distance 5,359868
[04:29:02] [INFO] [Bullet] Body exited signal received for penetrating body
[04:29:02] [INFO] [Bullet] Exiting penetration at (928.84515, 1011.1419) after traveling 20,470833 pixels through wall
[04:29:02] [INFO] [Bullet] Damage multiplier after penetration: 0,1125
[04:29:02] [ENEMY] [Enemy4] Hit taken, health: 2/3
[04:29:02] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[04:29:02] [INFO] [ImpactEffects] spawn_blood_effect called at (836.391, 893.686), dir=(1, 0), lethal=false
[04:29:02] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[04:29:02] [INFO] [ImpactEffects] Blood decals scheduled: 33 (3 merged splatters, 14 satellite drops)
[04:29:02] [INFO] [ImpactEffects] Wall found for blood splatter at (912, 893.686) (dist=75 px)
[04:29:02] [INFO] [ImpactEffects] Blood effect spawned at (836.391, 893.686) (scale=1)
[04:29:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(583.9095, 980.5095), source=PLAYER (AssaultRifle), range=1469, listeners=9
[04:29:02] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[04:29:02] [ENEMY] [Enemy3] Death animation completed
[04:29:02] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[04:29:02] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[04:29:03] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[04:29:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(596.718, 777.9181), source=PLAYER (AssaultRifle), range=1469, listeners=9
[04:29:03] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[04:29:03] [ENEMY] [Enemy4] State: SUPPRESSED -> SEEKING_COVER
[04:29:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(592.579, 744.4325), source=PLAYER (AssaultRifle), range=1469, listeners=9
[04:29:03] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[04:29:03] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(596.71796, 777.9181), shooter_id=1334325545835, bullet_pos=(311.78302, 462.5813)
[04:29:03] [INFO] [Bullet] Using shooter_position, distance=425,00024
[04:29:03] [INFO] [Bullet] Distance to wall: 425,00024 (28,93905% of viewport)
[04:29:03] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:29:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(576.023, 716.0901), source=PLAYER (AssaultRifle), range=1469, listeners=9
[04:29:03] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[04:29:03] [ENEMY] [Enemy4] State: SEEKING_COVER -> IN_COVER
[04:29:03] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[04:29:03] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(596.71796, 777.9181), shooter_id=1334325545835, bullet_pos=(151.39584, 702.1893)
[04:29:03] [INFO] [Bullet] Using shooter_position, distance=451,7152
[04:29:03] [INFO] [Bullet] Distance to wall: 451,7152 (30,758121% of viewport)
[04:29:03] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:29:03] [INFO] [Bullet] Starting wall penetration at (151.39584, 702.1893)
[04:29:03] [INFO] [Bullet] Raycast backward hit penetrating body at distance 21,527502
[04:29:03] [INFO] [Bullet] Body exited signal received for penetrating body
[04:29:03] [INFO] [Bullet] Exiting penetration at (132.85397, 729.8896) after traveling 28,333332 pixels through wall
[04:29:03] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[04:29:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(551.2877, 691.1359), source=PLAYER (AssaultRifle), range=1469, listeners=9
[04:29:03] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[04:29:03] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(592.579, 744.4325), shooter_id=1334325545835, bullet_pos=(62.755203, 412.90308)
[04:29:03] [INFO] [Bullet] Using shooter_position, distance=625
[04:29:03] [INFO] [Bullet] Distance to wall: 625 (42,5574% of viewport)
[04:29:03] [INFO] [Bullet] Distance-based penetration chance: 97,016365%
[04:29:03] [INFO] [Bullet] Starting wall penetration at (62.755203, 412.90308)
[04:29:03] [INFO] [Bullet] Raycast backward hit penetrating body at distance 2,053358
[04:29:03] [INFO] [Bullet] Max penetration distance exceeded: 66,666664 >= 48
[04:29:03] [INFO] [Bullet] Body exited signal received for penetrating body
[04:29:03] [INFO] [Bullet] Exiting penetration at (2.0020561, 374.88776) after traveling 66,666664 pixels through wall
[04:29:03] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[04:29:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(323.0584, 660.8872), source=ENEMY (Enemy2), range=1469, listeners=9
[04:29:04] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=4
[04:29:04] [INFO] [LastChance] Threat detected: Bullet
[04:29:04] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[04:29:04] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:29:04] [ENEMY] [Enemy2] Hit taken, health: 3/4
[04:29:04] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[04:29:04] [INFO] [ImpactEffects] spawn_blood_effect called at (323.0584, 660.8872), dir=(1, 0), lethal=false
[04:29:04] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[04:29:04] [INFO] [ImpactEffects] Blood decals scheduled: 24 (7 merged splatters, 9 satellite drops)
[04:29:04] [INFO] [ImpactEffects] Blood effect spawned at (323.0584, 660.8872) (scale=1)
[04:29:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(526.3976, 666.2457), source=PLAYER (AssaultRifle), range=1469, listeners=9
[04:29:04] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[04:29:04] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(576.023, 716.09015), shooter_id=1334325545835, bullet_pos=(57.0131, 432.01633)
[04:29:04] [INFO] [Bullet] Using shooter_position, distance=591,66644
[04:29:04] [INFO] [Bullet] Distance to wall: 591,66644 (40,28766% of viewport)
[04:29:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(323.0584, 660.8872), source=ENEMY (Enemy2), range=1469, listeners=9
[04:29:04] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=4
[04:29:04] [INFO] [LastChance] Threat detected: Bullet
[04:29:04] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[04:29:04] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:29:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(501.4258, 641.5527), source=PLAYER (AssaultRifle), range=1469, listeners=9
[04:29:04] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[04:29:04] [ENEMY] [Enemy2] Hit taken, health: 2/4
[04:29:04] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[04:29:04] [INFO] [ImpactEffects] spawn_blood_effect called at (323.0584, 660.8872), dir=(1, 0), lethal=false
[04:29:04] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[04:29:04] [INFO] [ImpactEffects] Blood decals scheduled: 28 (3 merged splatters, 9 satellite drops)
[04:29:04] [INFO] [ImpactEffects] Blood effect spawned at (323.0584, 660.8872) (scale=1)
[04:29:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(323.0584, 660.8872), source=ENEMY (Enemy2), range=1469, listeners=9
[04:29:04] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=4
[04:29:04] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(526.3976, 666.2457), shooter_id=1334325545835, bullet_pos=(45.63313, 563.2811)
[04:29:04] [INFO] [Bullet] Using shooter_position, distance=491,66672
[04:29:04] [INFO] [Bullet] Distance to wall: 491,66672 (33,478493% of viewport)
[04:29:04] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:29:04] [INFO] [LastChance] Threat detected: @Area2D@2221
[04:29:04] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[04:29:04] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:29:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(472.9435, 625.3347), source=PLAYER (AssaultRifle), range=1469, listeners=9
[04:29:04] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[04:29:04] [ENEMY] [Enemy2] Hit taken, health: 1/4
[04:29:04] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[04:29:04] [INFO] [ImpactEffects] spawn_blood_effect called at (323.0584, 660.8872), dir=(1, 0), lethal=false
[04:29:04] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[04:29:04] [INFO] [ImpactEffects] Blood decals scheduled: 39 (5 merged splatters, 12 satellite drops)
[04:29:04] [INFO] [ImpactEffects] Blood effect spawned at (323.0584, 660.8872) (scale=1)
[04:29:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(323.0584, 660.8872), source=ENEMY (Enemy2), range=1469, listeners=9
[04:29:04] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=4
[04:29:04] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(388.4991, 662.6404), shooter_id=1331221759990, bullet_pos=(919.8594, 616.8065)
[04:29:04] [INFO] [Bullet] Using shooter_position, distance=533.333435058594
[04:29:04] [INFO] [Bullet] Distance to wall: 533.333435058594 (36.3156543068496% of viewport)
[04:29:04] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:29:04] [INFO] [Bullet] Starting wall penetration at (919.8594, 616.8065)
[04:29:04] [INFO] [LastChance] Threat detected: @Area2D@2230
[04:29:04] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[04:29:04] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:29:04] [INFO] [Bullet] Raycast backward hit penetrating body at distance 22.1328430175781
[04:29:04] [INFO] [Bullet] Body exited signal received for penetrating body
[04:29:04] [INFO] [Bullet] Exiting penetration at (958.051, 613.5121) after traveling 33.3333320617676 pixels through wall
[04:29:04] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[04:29:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(439.353, 621.4492), source=PLAYER (AssaultRifle), range=1469, listeners=9
[04:29:04] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[04:29:04] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[04:29:04] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[04:29:04] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[04:29:04] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[04:29:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(323.0584, 660.8872), source=ENEMY (Enemy2), range=1469, listeners=9
[04:29:04] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=3
[04:29:04] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[04:29:04] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[04:29:04] [INFO] [PenultimateHit] Player died - ending penultimate effect
[04:29:04] [INFO] [LastChance] Player died
[04:29:04] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(439.353, 621.44916), shooter_id=1334325545835, bullet_pos=(48.31926, 643.70776)
[04:29:04] [INFO] [Bullet] Using shooter_position, distance=391,66675
[04:29:04] [INFO] [Bullet] Distance to wall: 391,66675 (26,669308% of viewport)
[04:29:04] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:29:04] [INFO] [Bullet] Starting wall penetration at (48.31926, 643.70776)
[04:29:04] [INFO] [Bullet] Raycast backward hit penetrating body at distance 21,987661
[04:29:04] [INFO] [Bullet] Body exited signal received for penetrating body
[04:29:04] [INFO] [Bullet] Exiting penetration at (10.047874, 645.8863) after traveling 33,333336 pixels through wall
[04:29:04] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[04:29:04] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[04:29:04] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[04:29:04] [INFO] [ScoreManager] Combo ended at 1. Max combo: 1
[04:29:04] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[04:29:05] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[04:29:05] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[04:29:05] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[04:29:05] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[04:29:05] [INFO] [LastChance] Resetting all effects (scene change detected)
[04:29:05] [ENEMY] [Enemy1] Death animation component initialized
[04:29:05] [ENEMY] [Enemy2] Death animation component initialized
[04:29:05] [ENEMY] [Enemy3] Death animation component initialized
[04:29:05] [ENEMY] [Enemy4] Death animation component initialized
[04:29:05] [ENEMY] [Enemy5] Death animation component initialized
[04:29:05] [ENEMY] [Enemy6] Death animation component initialized
[04:29:05] [ENEMY] [Enemy7] Death animation component initialized
[04:29:05] [ENEMY] [Enemy8] Death animation component initialized
[04:29:05] [ENEMY] [Enemy9] Death animation component initialized
[04:29:05] [ENEMY] [Enemy10] Death animation component initialized
[04:29:05] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[04:29:05] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[04:29:05] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[04:29:05] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[04:29:05] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[04:29:05] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[04:29:05] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[04:29:05] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[04:29:05] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[04:29:05] [INFO] [ScoreManager] Level started with 10 enemies
[04:29:05] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[04:29:05] [ENEMY] [Enemy1] Registered as sound listener
[04:29:05] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[04:29:05] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[04:29:05] [ENEMY] [Enemy2] Registered as sound listener
[04:29:05] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[04:29:05] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[04:29:05] [ENEMY] [Enemy3] Registered as sound listener
[04:29:05] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[04:29:05] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[04:29:05] [ENEMY] [Enemy4] Registered as sound listener
[04:29:05] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[04:29:05] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[04:29:05] [ENEMY] [Enemy5] Registered as sound listener
[04:29:05] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[04:29:05] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[04:29:05] [ENEMY] [Enemy6] Registered as sound listener
[04:29:05] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[04:29:05] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[04:29:05] [ENEMY] [Enemy7] Registered as sound listener
[04:29:05] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[04:29:05] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[04:29:05] [ENEMY] [Enemy8] Registered as sound listener
[04:29:05] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[04:29:05] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[04:29:05] [ENEMY] [Enemy9] Registered as sound listener
[04:29:05] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[04:29:05] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[04:29:05] [ENEMY] [Enemy10] Registered as sound listener
[04:29:05] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[04:29:05] [INFO] [Player] Detecting weapon pose (frame 3)...
[04:29:05] [INFO] [Player] Detected weapon: Rifle (default pose)
[04:29:05] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[04:29:05] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[04:29:05] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[04:29:05] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[04:29:05] [INFO] [LastChance] Found player: Player
[04:29:05] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[04:29:05] [INFO] [LastChance] Connected to player Damaged signal (C#)
[04:29:05] [INFO] [LastChance] Connected to player Died signal (C#)
[04:29:05] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[04:29:05] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[04:29:05] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[04:29:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1162.42, 1529.806), source=ENEMY (Enemy10), range=1469, listeners=19
[04:29:05] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[04:29:05] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[04:29:05] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[04:29:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1130.351, 1510.698), source=ENEMY (Enemy10), range=1469, listeners=10
[04:29:05] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[04:29:05] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[04:29:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1099.092, 1490.291), source=ENEMY (Enemy10), range=1469, listeners=10
[04:29:05] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[04:29:06] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[04:29:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1068.667, 1468.66), source=ENEMY (Enemy10), range=1469, listeners=10
[04:29:06] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[04:29:06] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[04:29:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1038.849, 1446.197), source=ENEMY (Enemy10), range=1469, listeners=10
[04:29:06] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[04:29:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1099.895, 1502.951), shooter_id=1767899139040, bullet_pos=(51.60892, 901.9801)
[04:29:06] [INFO] [Bullet] Using shooter_position, distance=1208.33325195313
[04:29:06] [INFO] [Bullet] Distance to wall: 1208.33325195313 (82.2776330544139% of viewport)
[04:29:06] [INFO] [Bullet] Distance-based penetration chance: 50.6760947698504%
[04:29:06] [INFO] [Bullet] Starting wall penetration at (51.60892, 901.9801)
[04:29:06] [INFO] [Bullet] Raycast backward hit penetrating body at distance 24.063943862915
[04:29:06] [INFO] [Bullet] Body exited signal received for penetrating body
[04:29:06] [INFO] [Bullet] Exiting penetration at (11.12339, 878.7702) after traveling 41.6666717529297 pixels through wall
[04:29:06] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[04:29:06] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[04:29:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1008.424, 1425.245), source=ENEMY (Enemy10), range=1469, listeners=10
[04:29:06] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[04:29:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1068.981, 1481.298), shooter_id=1767899139040, bullet_pos=(46.26056, 837.7825)
[04:29:06] [INFO] [Bullet] Using shooter_position, distance=1208.33349609375
[04:29:06] [INFO] [Bullet] Distance to wall: 1208.33349609375 (82.277649678398% of viewport)
[04:29:06] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[04:29:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1038.975, 1458.408), shooter_id=1767899139040, bullet_pos=(43.41711, 773.6196)
[04:29:06] [INFO] [Bullet] Using shooter_position, distance=1208.33374023438
[04:29:06] [INFO] [Bullet] Distance to wall: 1208.33374023438 (82.2776663023821% of viewport)
[04:29:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1068.981, 1481.298), shooter_id=1767899139040, bullet_pos=(267.097, 714.5018)
[04:29:06] [INFO] [Bullet] Using shooter_position, distance=1109.50219726563
[04:29:06] [INFO] [Bullet] Distance to wall: 1109.50219726563 (75.5480448064574% of viewport)
[04:29:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1038.975, 1458.408), shooter_id=1767899139040, bullet_pos=(126.88, 700.0634)
[04:29:06] [INFO] [Bullet] Using shooter_position, distance=1186.17175292969
[04:29:06] [INFO] [Bullet] Distance to wall: 1186.17175292969 (80.7686158345047% of viewport)
[04:29:06] [INFO] [Bullet] Distance-based penetration chance: 52.4366148597445%
[04:29:06] [INFO] [Bullet] Starting wall penetration at (126.88, 700.0634)
[04:29:06] [INFO] [Bullet] Raycast backward hit penetrating body at distance 22.1713600158691
[04:29:06] [INFO] [Bullet] Body exited signal received for penetrating body
[04:29:06] [INFO] [Bullet] Exiting penetration at (157.2017, 673.3408) after traveling 35.4166679382324 pixels through wall
[04:29:06] [INFO] [Bullet] Damage multiplier after penetration: 0.45
[04:29:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1009.704, 1434.69), shooter_id=1767899139040, bullet_pos=(38.73508, 715.4633)
[04:29:06] [INFO] [Bullet] Using shooter_position, distance=1208.33288574219
[04:29:06] [INFO] [Bullet] Distance to wall: 1208.33288574219 (82.2776081184378% of viewport)
[04:29:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1068.981, 1481.298), shooter_id=1767899139040, bullet_pos=(510.3535, 900.2104)
[04:29:06] [INFO] [Bullet] Using shooter_position, distance=806.057067871094
[04:29:06] [INFO] [Bullet] Distance to wall: 806.057067871094 (54.8859079595928% of viewport)
[04:29:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(980.4797, 1411.216), shooter_id=1767899139040, bullet_pos=(55.10403, 700.7296)
[04:29:06] [INFO] [Bullet] Using shooter_position, distance=1166.66662597656
[04:29:06] [INFO] [Bullet] Distance to wall: 1166.66662597656 (79.4404758735006% of viewport)
[04:29:06] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[04:29:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(951.0122, 1388.715), shooter_id=1767899139040, bullet_pos=(109.6938, 706.2239)
[04:29:06] [INFO] [Bullet] Using shooter_position, distance=1083.33325195313
[04:29:06] [INFO] [Bullet] Distance to wall: 1083.33325195313 (73.766153199682% of viewport)
[04:29:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(387.1762, 811.7716), source=PLAYER (AssaultRifle), range=1469, listeners=10
[04:29:06] [ENEMY] [Enemy1] Heard gunshot at (387.1762, 811.7716), source_type=0, intensity=0.01, distance=470
[04:29:06] [ENEMY] [Enemy2] Heard gunshot at (387.1762, 811.7716), source_type=0, intensity=0.04, distance=262
[04:29:06] [ENEMY] [Enemy4] Heard gunshot at (387.1762, 811.7716), source_type=0, intensity=0.01, distance=422
[04:29:06] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[04:29:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(951.0122, 1388.715), shooter_id=1767899139040, bullet_pos=(55.99448, 759.769)
[04:29:06] [INFO] [Bullet] Using shooter_position, distance=1093.90588378906
[04:29:06] [INFO] [Bullet] Distance to wall: 1093.90588378906 (74.4860631427466% of viewport)
[04:29:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(980.4797, 1411.216), shooter_id=1767899139040, bullet_pos=(326.1366, 465.0562)
[04:29:06] [INFO] [Bullet] Using shooter_position, distance=1150.38391113281
[04:29:06] [INFO] [Bullet] Distance to wall: 1150.38391113281 (78.3317558785173% of viewport)
[04:29:06] [INFO] [Bullet] Distance-based penetration chance: 55.2796181417299%
[04:29:06] [INFO] [Bullet] Penetration failed (distance roll)
[04:29:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(374.601, 781.0053), source=PLAYER (AssaultRifle), range=1469, listeners=10
[04:29:06] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[04:29:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(636.9516, 760.382), source=ENEMY (Enemy3), range=1469, listeners=10
[04:29:06] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[04:29:06] [INFO] [LastChance] Threat detected: @Area2D@2539
[04:29:06] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[04:29:06] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:29:06] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[04:29:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1068.981, 1481.298), shooter_id=1767899139040, bullet_pos=(60.40694, 1154.376)
[04:29:06] [INFO] [Bullet] Using shooter_position, distance=1060.23571777344
[04:29:06] [INFO] [Bullet] Distance to wall: 1060.23571777344 (72.1933996247669% of viewport)
[04:29:06] [INFO] [Bullet] Distance-based penetration chance: 62.4410337711053%
[04:29:06] [INFO] [Bullet] Starting wall penetration at (60.40694, 1154.376)
[04:29:06] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[04:29:06] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[04:29:06] [INFO] [Bullet] Exiting penetration at (33.77385, 1169.421) after traveling 25.5885410308838 pixels through wall
[04:29:06] [INFO] [Bullet] Damage multiplier after penetration: 0.1125
[04:29:07] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[04:29:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(376.668, 756.0087), source=PLAYER (AssaultRifle), range=1469, listeners=10
[04:29:07] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[04:29:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(615.6338, 761.1444), source=ENEMY (Enemy3), range=1469, listeners=10
[04:29:07] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[04:29:07] [INFO] [LastChance] Threat detected: @Area2D@2544
[04:29:07] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[04:29:07] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:29:07] [ENEMY] [Enemy1] State: COMBAT -> RETREATING
[04:29:07] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[04:29:07] [ENEMY] [Enemy1] State: RETREATING -> IN_COVER
[04:29:07] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[04:29:07] [ENEMY] [Enemy3] Hit taken, health: 2/3
[04:29:07] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[04:29:07] [INFO] [ImpactEffects] spawn_blood_effect called at (611.3718, 767.2753), dir=(1, 0), lethal=false
[04:29:07] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[04:29:07] [INFO] [ImpactEffects] Blood decals scheduled: 22 (3 merged splatters, 3 satellite drops)
[04:29:07] [INFO] [ImpactEffects] Blood effect spawned at (611.3718, 767.2753) (scale=1)
[04:29:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(391.5503, 740.5593), source=PLAYER (AssaultRifle), range=1469, listeners=10
[04:29:07] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[04:29:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(569.7608, 771.9382), shooter_id=1765902650593, bullet_pos=(37.25405, 801.6202)
[04:29:07] [INFO] [Bullet] Using shooter_position, distance=533.333374023438
[04:29:07] [INFO] [Bullet] Distance to wall: 533.333374023438 (36.3156501508536% of viewport)
[04:29:07] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:29:07] [INFO] [Bullet] Starting wall penetration at (37.25405, 801.6202)
[04:29:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(607.5361, 772.793), source=ENEMY (Enemy3), range=1469, listeners=10
[04:29:07] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[04:29:07] [INFO] [Bullet] Raycast backward hit penetrating body at distance 33.0711326599121
[04:29:07] [INFO] [Bullet] Body exited signal received for penetrating body
[04:29:07] [INFO] [Bullet] Exiting penetration at (-1.019878, 803.7536) after traveling 33.3333358764648 pixels through wall
[04:29:07] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[04:29:07] [INFO] [LastChance] Threat detected: @Area2D@2549
[04:29:07] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[04:29:07] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:29:07] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[04:29:07] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[04:29:07] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[04:29:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(417.0121, 734.0662), source=PLAYER (AssaultRifle), range=1469, listeners=10
[04:29:07] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[04:29:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(593.8979, 792.4117), source=ENEMY (Enemy3), range=1469, listeners=10
[04:29:07] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[04:29:07] [INFO] [LastChance] Threat detected: @Area2D@2551
[04:29:07] [INFO] [LastChance] Triggering last chance effect!
[04:29:07] [INFO] [LastChance] Starting last chance effect:
[04:29:07] [INFO] [LastChance]   - Time will be frozen (except player)
[04:29:07] [INFO] [LastChance]   - Duration: 6.0 real seconds
[04:29:07] [INFO] [LastChance]   - Sepia intensity: 0.70
[04:29:07] [INFO] [LastChance]   - Brightness: 0.60
[04:29:07] [INFO] [LastChance] Pushed bullet Bullet from distance 55.2 to 200.0
[04:29:07] [INFO] [LastChance] Pushed bullet @Area2D@2551 from distance 117.0 to 200.0
[04:29:07] [INFO] [LastChance] Pushed 2 threatening bullets away from player
[04:29:07] [INFO] [LastChance] Set player Player and all 18 children to PROCESS_MODE_ALWAYS
[04:29:07] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[04:29:07] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[04:29:07] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[04:29:07] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[04:29:07] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[04:29:07] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[04:29:07] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[04:29:07] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[04:29:07] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[04:29:07] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[04:29:07] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[04:29:07] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[04:29:07] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[04:29:07] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[04:29:07] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[04:29:07] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[04:29:07] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[04:29:07] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[04:29:07] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[04:29:07] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[04:29:07] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[04:29:07] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[04:29:07] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[04:29:07] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[04:29:07] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[04:29:07] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[04:29:07] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[04:29:07] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[04:29:07] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[04:29:07] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[04:29:07] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[04:29:07] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[04:29:07] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[04:29:07] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[04:29:07] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[04:29:07] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[04:29:07] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[04:29:07] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[04:29:07] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[04:29:07] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[04:29:07] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[04:29:07] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[04:29:07] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[04:29:07] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[04:29:07] [INFO] [LastChance] Skipping player node: Player
[04:29:07] [INFO] [LastChance] Froze existing bullet casing: Casing
[04:29:07] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2517
[04:29:07] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2519
[04:29:07] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2521
[04:29:07] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2523
[04:29:07] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2524
[04:29:07] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2534
[04:29:07] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2538
[04:29:07] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2540
[04:29:07] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2543
[04:29:07] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2545
[04:29:07] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2547
[04:29:07] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2550
[04:29:07] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[04:29:07] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[04:29:07] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[04:29:07] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@2552
[04:29:07] [INFO] [LastChance] Registered frozen player bullet: @Area2D@2552
[04:29:07] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@2553
[04:29:07] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@2553
[04:29:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(451.6489, 734.0662), source=PLAYER (AssaultRifle), range=1469, listeners=10
[04:29:07] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[04:29:07] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[04:29:07] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[04:29:07] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[04:29:07] [INFO] [LastChance] Resetting all effects (scene change detected)
[04:29:07] [INFO] [LastChance] Ending last chance effect
[04:29:07] [INFO] [LastChance] All process modes restored
[04:29:07] [INFO] [LastChance] Restored original colors to 5 player sprites
[04:29:07] [ENEMY] [Enemy1] Death animation component initialized
[04:29:07] [ENEMY] [Enemy2] Death animation component initialized
[04:29:07] [ENEMY] [Enemy3] Death animation component initialized
[04:29:07] [ENEMY] [Enemy4] Death animation component initialized
[04:29:07] [ENEMY] [Enemy5] Death animation component initialized
[04:29:07] [ENEMY] [Enemy6] Death animation component initialized
[04:29:07] [ENEMY] [Enemy7] Death animation component initialized
[04:29:07] [ENEMY] [Enemy8] Death animation component initialized
[04:29:07] [ENEMY] [Enemy9] Death animation component initialized
[04:29:07] [ENEMY] [Enemy10] Death animation component initialized
[04:29:07] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[04:29:07] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[04:29:07] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[04:29:07] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[04:29:07] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[04:29:07] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[04:29:07] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[04:29:07] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[04:29:07] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[04:29:07] [INFO] [ScoreManager] Level started with 10 enemies
[04:29:07] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[04:29:07] [ENEMY] [Enemy1] Registered as sound listener
[04:29:07] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[04:29:07] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[04:29:07] [ENEMY] [Enemy2] Registered as sound listener
[04:29:07] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[04:29:07] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[04:29:07] [ENEMY] [Enemy3] Registered as sound listener
[04:29:07] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[04:29:07] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[04:29:07] [ENEMY] [Enemy4] Registered as sound listener
[04:29:07] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[04:29:07] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[04:29:07] [ENEMY] [Enemy5] Registered as sound listener
[04:29:07] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[04:29:07] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[04:29:07] [ENEMY] [Enemy6] Registered as sound listener
[04:29:07] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[04:29:07] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[04:29:07] [ENEMY] [Enemy7] Registered as sound listener
[04:29:07] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[04:29:07] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[04:29:07] [ENEMY] [Enemy8] Registered as sound listener
[04:29:07] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[04:29:07] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[04:29:07] [ENEMY] [Enemy9] Registered as sound listener
[04:29:07] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[04:29:07] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[04:29:07] [ENEMY] [Enemy10] Registered as sound listener
[04:29:07] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[04:29:07] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[04:29:07] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[04:29:07] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[04:29:07] [INFO] [LastChance] Found player: Player
[04:29:07] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[04:29:07] [INFO] [LastChance] Connected to player Damaged signal (C#)
[04:29:07] [INFO] [LastChance] Connected to player Died signal (C#)
[04:29:07] [INFO] [Player] Detecting weapon pose (frame 3)...
[04:29:07] [INFO] [Player] Detected weapon: Rifle (default pose)
[04:29:07] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[04:29:08] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[04:29:08] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[04:29:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1171.731, 1535.008), source=ENEMY (Enemy10), range=1469, listeners=20
[04:29:08] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[04:29:08] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=8
[04:29:08] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[04:29:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1139.423, 1516.307), source=ENEMY (Enemy10), range=1469, listeners=10
[04:29:08] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[04:29:08] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[04:29:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1107.906, 1496.302), source=ENEMY (Enemy10), range=1469, listeners=10
[04:29:08] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[04:29:08] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[04:29:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1077.226, 1475.035), source=ENEMY (Enemy10), range=1469, listeners=10
[04:29:08] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[04:29:08] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[04:29:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1047.36, 1452.637), source=ENEMY (Enemy10), range=1469, listeners=10
[04:29:08] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[04:29:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1108.874, 1508.939), shooter_id=1919598726080, bullet_pos=(53.14801, 921.1365)
[04:29:08] [INFO] [Bullet] Using shooter_position, distance=1208.33337402344
[04:29:08] [INFO] [Bullet] Distance to wall: 1208.33337402344 (82.277641366406% of viewport)
[04:29:08] [INFO] [Bullet] Distance-based penetration chance: 50.6760850725264%
[04:29:08] [INFO] [Bullet] Starting wall penetration at (53.14801, 921.1365)
[04:29:08] [INFO] [Bullet] Raycast backward hit penetrating body at distance 22.4616756439209
[04:29:08] [INFO] [Bullet] Body exited signal received for penetrating body
[04:29:08] [INFO] [Bullet] Exiting penetration at (12.37513, 898.4351) after traveling 41.6666641235352 pixels through wall
[04:29:08] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[04:29:08] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[04:29:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1017.986, 1429.595), source=ENEMY (Enemy10), range=1469, listeners=10
[04:29:08] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[04:29:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1077.684, 1487.691), shooter_id=1919598726080, bullet_pos=(46.85162, 857.2495)
[04:29:08] [INFO] [Bullet] Using shooter_position, distance=1208.33435058594
[04:29:08] [INFO] [Bullet] Distance to wall: 1208.33435058594 (82.2777078623423% of viewport)
[04:29:09] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[04:29:09] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(983.8805, 1424.065), source=ENEMY (Enemy10), range=1469, listeners=10
[04:29:09] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[04:29:09] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1047.382, 1465.197), shooter_id=1919598726080, bullet_pos=(43.06916, 793.3154)
[04:29:09] [INFO] [Bullet] Using shooter_position, distance=1208.33349609375
[04:29:09] [INFO] [Bullet] Distance to wall: 1208.33349609375 (82.277649678398% of viewport)
[04:29:09] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1077.684, 1487.691), shooter_id=1919598726080, bullet_pos=(297.8549, 715.3568)
[04:29:09] [INFO] [Bullet] Using shooter_position, distance=1097.55798339844
[04:29:09] [INFO] [Bullet] Distance to wall: 1097.55798339844 (74.734741320768% of viewport)
[04:29:09] [INFO] [LastChance] Threat detected: @Area2D@2820
[04:29:09] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[04:29:09] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:29:09] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1047.382, 1465.197), shooter_id=1919598726080, bullet_pos=(207.2648, 714.6125)
[04:29:09] [INFO] [Bullet] Using shooter_position, distance=1126.57653808594
[04:29:09] [INFO] [Bullet] Distance to wall: 1126.57653808594 (76.7106680698567% of viewport)
[04:29:09] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[04:29:09] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(952.889, 1407.798), source=ENEMY (Enemy10), range=1469, listeners=10
[04:29:09] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[04:29:09] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1018.01, 1441.508), shooter_id=1919598726080, bullet_pos=(41.67921, 729.5751)
[04:29:09] [INFO] [Bullet] Using shooter_position, distance=1208.33349609375
[04:29:09] [INFO] [Bullet] Distance to wall: 1208.33349609375 (82.277649678398% of viewport)
[04:29:09] [INFO] [Bullet] Distance-based penetration chance: 50.6760753752023%
[04:29:09] [INFO] [Bullet] Penetration failed (distance roll)
[04:29:09] [INFO] [LastChance] Threat detected: Bullet
[04:29:09] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[04:29:09] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:29:09] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1077.684, 1487.691), shooter_id=1919598726080, bullet_pos=(511.3201, 837.2859)
[04:29:09] [INFO] [Bullet] Using shooter_position, distance=862.435424804688
[04:29:09] [INFO] [Bullet] Distance to wall: 862.435424804688 (58.7248139538581% of viewport)
[04:29:09] [INFO] [Bullet] Distance-based penetration chance: 78.1543837204988%
[04:29:09] [INFO] [Bullet] Starting wall penetration at (511.3201, 837.2859)
[04:29:09] [INFO] [Bullet] Raycast backward hit penetrating body at distance 20.5015926361084
[04:29:09] [INFO] [Bullet] Body exited signal received for penetrating body
[04:29:09] [INFO] [Bullet] Exiting penetration at (541.8022, 854.697) after traveling 30.1041660308838 pixels through wall
[04:29:09] [INFO] [Bullet] Damage multiplier after penetration: 0.225
[04:29:09] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[04:29:09] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(935.8354, 1396.306), source=ENEMY (Enemy10), range=1469, listeners=10
[04:29:09] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[04:29:09] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(989.1594, 1417.377), shooter_id=1919598726080, bullet_pos=(67.20157, 702.4606)
[04:29:09] [INFO] [Bullet] Using shooter_position, distance=1166.66674804688
[04:29:09] [INFO] [Bullet] Distance to wall: 1166.66674804688 (79.4404841854927% of viewport)
[04:29:09] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1047.382, 1465.197), shooter_id=1919598726080, bullet_pos=(500.7809, 801.2712)
[04:29:09] [INFO] [Bullet] Using shooter_position, distance=859.98291015625
[04:29:09] [INFO] [Bullet] Distance to wall: 859.98291015625 (58.5578177216693% of viewport)
[04:29:09] [INFO] [Bullet] Distance-based penetration chance: 78.3492126580525%
[04:29:09] [INFO] [Bullet] Penetration failed (distance roll)
[04:29:09] [INFO] [LastChance] Threat detected: @Area2D@2824
[04:29:09] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[04:29:09] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:29:09] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[04:29:09] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[04:29:09] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(931.7496, 1386.183), source=ENEMY (Enemy10), range=1469, listeners=10
[04:29:09] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[04:29:09] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(305.4171, 847.0545), source=PLAYER (AssaultRifle), range=1469, listeners=10
[04:29:09] [ENEMY] [Enemy1] Heard gunshot at (305.4171, 847.0545), source_type=0, intensity=0.01, distance=497
[04:29:09] [ENEMY] [Enemy2] Heard gunshot at (305.4171, 847.0545), source_type=0, intensity=0.03, distance=312
[04:29:09] [ENEMY] [Enemy4] Heard gunshot at (305.4171, 847.0545), source_type=0, intensity=0.01, distance=497
[04:29:09] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=4, self=0, below_threshold=2
[04:29:09] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(960.1771, 1393.697), shooter_id=1919598726080, bullet_pos=(46.14513, 668.6744)
[04:29:09] [INFO] [Bullet] Using shooter_position, distance=1166.66687011719
[04:29:09] [INFO] [Bullet] Distance to wall: 1166.66687011719 (79.4404924974847% of viewport)
[04:29:09] [INFO] [LastChance] Threat detected: @Area2D@2829
[04:29:09] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[04:29:09] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:29:09] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(989.1594, 1417.377), shooter_id=1919598726080, bullet_pos=(342.6759, 471.9946)
[04:29:09] [INFO] [Bullet] Using shooter_position, distance=1145.28955078125
[04:29:09] [INFO] [Bullet] Distance to wall: 1145.28955078125 (77.9848715144767% of viewport)
[04:29:09] [INFO] [Bullet] Distance-based penetration chance: 55.6843165664439%
[04:29:09] [INFO] [Bullet] Penetration failed (distance roll)
[04:29:09] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(927.0801, 1386.591), shooter_id=1919598726080, bullet_pos=(97.16097, 690.2817)
[04:29:09] [INFO] [Bullet] Using shooter_position, distance=1083.333984375
[04:29:09] [INFO] [Bullet] Distance to wall: 1083.333984375 (73.7662030716343% of viewport)
[04:29:09] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(927.0801, 1386.591), shooter_id=1919598726080, bullet_pos=(65.74181, 715.705)
[04:29:09] [INFO] [Bullet] Using shooter_position, distance=1091.78369140625
[04:29:09] [INFO] [Bullet] Distance to wall: 1091.78369140625 (74.3415591610332% of viewport)
[04:29:09] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[04:29:09] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(287.3084, 819.2096), source=PLAYER (AssaultRifle), range=1469, listeners=10
[04:29:09] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=3
[04:29:09] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(960.1771, 1393.697), shooter_id=1919598726080, bullet_pos=(245.7193, 460.5727)
[04:29:09] [INFO] [Bullet] Using shooter_position, distance=1175.23181152344
[04:29:09] [INFO] [Bullet] Distance to wall: 1175.23181152344 (80.0236951073748% of viewport)
[04:29:09] [ENEMY] [Enemy3] Hit taken, health: 2/3
[04:29:09] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[04:29:09] [INFO] [ImpactEffects] spawn_blood_effect called at (642.5687, 761.7716), dir=(1, 0), lethal=false
[04:29:09] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[04:29:09] [INFO] [ImpactEffects] Blood decals scheduled: 20 (5 merged splatters, 3 satellite drops)
[04:29:09] [INFO] [ImpactEffects] Blood effect spawned at (642.5687, 761.7716) (scale=1)
[04:29:09] [INFO] [LastChance] Threat detected: @Area2D@2833
[04:29:09] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[04:29:09] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:29:09] [INFO] [LastChance] Threat detected: @Area2D@2824
[04:29:09] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[04:29:09] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:29:09] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(637.2825, 762.4797), source=ENEMY (Enemy3), range=1469, listeners=10
[04:29:09] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[04:29:09] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[04:29:09] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(896.6149, 1369.538), shooter_id=1919598726080, bullet_pos=(120.6159, 699.8729)
[04:29:09] [INFO] [Bullet] Using shooter_position, distance=1025.00048828125
[04:29:09] [INFO] [Bullet] Distance to wall: 1025.00048828125 (69.79416805677% of viewport)
[04:29:09] [INFO] [Bullet] Distance-based penetration chance: 65.2401372671017%
[04:29:09] [INFO] [Bullet] Penetration failed (distance roll)
[04:29:09] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(283.629, 799.4807), source=PLAYER (AssaultRifle), range=1469, listeners=10
[04:29:09] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=3
[04:29:09] [INFO] [LastChance] Threat detected: @Area2D@2848
[04:29:09] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[04:29:09] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:29:09] [ENEMY] [Enemy3] Hit taken, health: 1/3
[04:29:09] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[04:29:09] [INFO] [ImpactEffects] spawn_blood_effect called at (611.8232, 765.1401), dir=(1, 0), lethal=false
[04:29:09] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[04:29:09] [INFO] [ImpactEffects] Blood decals scheduled: 20 (5 merged splatters, 3 satellite drops)
[04:29:09] [INFO] [ImpactEffects] Blood effect spawned at (611.8232, 765.1401) (scale=1)
[04:29:09] [ENEMY] [Enemy2] Hit taken, health: 1/2
[04:29:09] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[04:29:09] [INFO] [ImpactEffects] spawn_blood_effect called at (384.8399, 589.8621), dir=(0.747429, 0.664341), lethal=false
[04:29:09] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[04:29:09] [INFO] [ImpactEffects] Blood decals scheduled: 35 (3 merged splatters, 11 satellite drops)
[04:29:09] [INFO] [ImpactEffects] Blood effect spawned at (384.8399, 589.8621) (scale=1)
[04:29:09] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(603.3148, 765.791), source=ENEMY (Enemy3), range=1469, listeners=10
[04:29:09] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[04:29:09] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(879.8156, 1357.675), shooter_id=1919598726080, bullet_pos=(127.0808, 699.3503)
[04:29:09] [INFO] [Bullet] Using shooter_position, distance=1000.00030517578
[04:29:09] [INFO] [Bullet] Distance to wall: 1000.00030517578 (68.0918596178355% of viewport)
[04:29:09] [INFO] [Bullet] Distance-based penetration chance: 67.2261637791919%
[04:29:09] [INFO] [Bullet] Starting wall penetration at (127.0808, 699.3503)
[04:29:09] [INFO] [Bullet] Raycast backward hit penetrating body at distance 21.0921001434326
[04:29:09] [INFO] [Bullet] Body exited signal received for penetrating body
[04:29:09] [INFO] [Bullet] Exiting penetration at (98.22598, 674.1146) after traveling 33.3333358764648 pixels through wall
[04:29:09] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[04:29:09] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[04:29:09] [INFO] [LastChance] Threat detected: Bullet
[04:29:09] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[04:29:09] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:29:09] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(291.2901, 784.6682), source=PLAYER (AssaultRifle), range=1469, listeners=10
[04:29:09] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=3
[04:29:09] [ENEMY] [Enemy3] Hit taken, health: 0/3
[04:29:09] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[04:29:09] [INFO] [ImpactEffects] spawn_blood_effect called at (585.5422, 768.8142), dir=(1, 0), lethal=true
[04:29:09] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[04:29:09] [INFO] [ImpactEffects] Blood decals scheduled: 49 (10 merged splatters, 14 satellite drops)
[04:29:09] [INFO] [ImpactEffects] Blood effect spawned at (585.5422, 768.8142) (scale=1.5)
[04:29:09] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[04:29:09] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[04:29:09] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[04:29:09] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[04:29:09] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[04:29:09] [ENEMY] [Enemy1] State: COMBAT -> RETREATING
[04:29:09] [ENEMY] [Enemy1] State: RETREATING -> IN_COVER
[04:29:09] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[04:29:09] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[04:29:09] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[04:29:09] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(571.0706, 778.5214), shooter_id=1917602236711, bullet_pos=(41.76398, 843.9354)
[04:29:09] [INFO] [Bullet] Using shooter_position, distance=533.333435058594
[04:29:09] [INFO] [Bullet] Distance to wall: 533.333435058594 (36.3156543068496% of viewport)
[04:29:09] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:29:09] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(927.0801, 1386.591), shooter_id=1919598726080, bullet_pos=(502.2349, 969.1318)
[04:29:09] [INFO] [Bullet] Using shooter_position, distance=595.622131347656
[04:29:09] [INFO] [Bullet] Distance to wall: 595.622131347656 (40.5570061759846% of viewport)
[04:29:09] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[04:29:09] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(875.6195, 1347.712), shooter_id=1919598726080, bullet_pos=(139.8695, 707.9481)
[04:29:09] [INFO] [Bullet] Using shooter_position, distance=975.000366210938
[04:29:09] [INFO] [Bullet] Distance to wall: 975.000366210938 (66.3895678028852% of viewport)
[04:29:09] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[04:29:09] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[04:29:09] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(310.9756, 776.3232), source=PLAYER (AssaultRifle), range=1469, listeners=9
[04:29:09] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[04:29:09] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(875.6195, 1347.712), shooter_id=1919598726080, bullet_pos=(57.80651, 793.2032)
[04:29:09] [INFO] [Bullet] Using shooter_position, distance=988.077819824219
[04:29:09] [INFO] [Bullet] Distance to wall: 988.077819824219 (67.2800356667302% of viewport)
[04:29:09] [INFO] [Bullet] Distance-based penetration chance: 68.1732917221481%
[04:29:09] [INFO] [Bullet] Starting wall penetration at (57.80651, 793.2032)
[04:29:09] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[04:29:09] [INFO] [Bullet] Exiting penetration at (34.69016, 817.2188) after traveling 28.3333358764648 pixels through wall
[04:29:09] [INFO] [Bullet] Damage multiplier after penetration: 0.45
[04:29:09] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[04:29:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(342.4306, 774.3089), source=PLAYER (AssaultRifle), range=1469, listeners=9
[04:29:10] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[04:29:10] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(291.29013, 784.66815), shooter_id=1920420808712, bullet_pos=(915.03546, 745.0853)
[04:29:10] [INFO] [Bullet] Using shooter_position, distance=625,00006
[04:29:10] [INFO] [Bullet] Distance to wall: 625,00006 (42,557404% of viewport)
[04:29:10] [INFO] [Bullet] Distance-based penetration chance: 97,016365%
[04:29:10] [INFO] [Bullet] Starting wall penetration at (915.03546, 745.0853)
[04:29:10] [INFO] [Bullet] Raycast backward hit penetrating body at distance 17,326654
[04:29:10] [INFO] [Bullet] Body exited signal received for penetrating body
[04:29:10] [INFO] [Bullet] Exiting penetration at (953.2919, 742.6576) after traveling 33,333336 pixels through wall
[04:29:10] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[04:29:10] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(310.97556, 776.32324), shooter_id=1920420808712, bullet_pos=(935.0812, 742.895)
[04:29:10] [INFO] [Bullet] Using shooter_position, distance=625,0002
[04:29:10] [INFO] [Bullet] Distance to wall: 625,0002 (42,55741% of viewport)
[04:29:10] [INFO] [Bullet] Distance-based penetration chance: 97,01635%
[04:29:10] [INFO] [Bullet] Starting wall penetration at (935.0812, 742.895)
[04:29:10] [INFO] [Bullet] Raycast backward hit penetrating body at distance 37,41323
[04:29:10] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(927.0801, 1386.591), shooter_id=1919598726080, bullet_pos=(65.30215, 1157.554)
[04:29:10] [INFO] [Bullet] Using shooter_position, distance=891.694458007813
[04:29:10] [INFO] [Bullet] Distance to wall: 891.694458007813 (60.7171153272768% of viewport)
[04:29:10] [INFO] [Bullet] Distance-based penetration chance: 75.8300321181771%
[04:29:10] [INFO] [Bullet] Starting wall penetration at (65.30215, 1157.554)
[04:29:10] [INFO] [Bullet] Body exited signal received for penetrating body
[04:29:10] [INFO] [Bullet] Exiting penetration at (973.3597, 740.8447) after traveling 33,333332 pixels through wall
[04:29:10] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[04:29:10] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[04:29:10] [INFO] [Bullet] Exiting penetration at (41.91343, 1167.641) after traveling 20.470832824707 pixels through wall
[04:29:10] [INFO] [Bullet] Damage multiplier after penetration: 0.1125
[04:29:10] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(342.43057, 774.3089), shooter_id=1920420808712, bullet_pos=(934.08496, 778.0997)
[04:29:10] [INFO] [Bullet] Using shooter_position, distance=591,66656
[04:29:10] [INFO] [Bullet] Distance to wall: 591,66656 (40,287666% of viewport)
[04:29:10] [INFO] [Bullet] Distance-based penetration chance: 99,66439%
[04:29:10] [INFO] [Bullet] Starting wall penetration at (934.08496, 778.0997)
[04:29:10] [INFO] [Bullet] Raycast backward hit penetrating body at distance 36,41823
[04:29:10] [INFO] [Bullet] Body exited signal received for penetrating body
[04:29:10] [INFO] [Bullet] Exiting penetration at (972.4175, 778.3453) after traveling 33,333336 pixels through wall
[04:29:10] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[04:29:10] [ENEMY] [Enemy3] Ragdoll activated
[04:29:10] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[04:29:10] [ENEMY] [Enemy1] State: SUPPRESSED -> SEEKING_COVER
[04:29:10] [ENEMY] [Enemy1] State: SEEKING_COVER -> IN_COVER
[04:29:10] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[04:29:11] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[04:29:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(583.9529, 875.107), source=PLAYER (AssaultRifle), range=1469, listeners=9
[04:29:11] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[04:29:11] [ENEMY] [Enemy4] Hit taken, health: 1/2
[04:29:11] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[04:29:11] [INFO] [ImpactEffects] spawn_blood_effect called at (777.186, 906.8515), dir=(1, 0), lethal=false
[04:29:11] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[04:29:11] [INFO] [ImpactEffects] Blood decals scheduled: 29 (2 merged splatters, 9 satellite drops)
[04:29:11] [INFO] [ImpactEffects] Blood effect spawned at (777.186, 906.8515) (scale=1)
[04:29:11] [ENEMY] [Enemy10] FLANKING started: target=(783.3328, 875.3701), side=left, pos=(904.6652, 1357.52)
[04:29:11] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[04:29:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(583.9529, 910.3072), source=PLAYER (AssaultRifle), range=1469, listeners=9
[04:29:11] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[04:29:11] [ENEMY] [Enemy3] Death animation completed
[04:29:11] [ENEMY] [Enemy4] Hit taken, health: 0/2
[04:29:11] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[04:29:11] [INFO] [ImpactEffects] spawn_blood_effect called at (777.186, 906.8515), dir=(1, 0), lethal=true
[04:29:11] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[04:29:11] [INFO] [ImpactEffects] Blood decals scheduled: 46 (8 merged splatters, 9 satellite drops)
[04:29:11] [INFO] [ImpactEffects] Blood effect spawned at (777.186, 906.8515) (scale=1.5)
[04:29:11] [ENEMY] [Enemy4] Enemy died (ricochet: false, penetration: false)
[04:29:11] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[04:29:11] [INFO] [SoundPropagation] Unregistered listener: Enemy4 (remaining: 8)
[04:29:11] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[04:29:11] [ENEMY] [Enemy4] Death animation started with hit direction: (1, 0)
[04:29:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(580.7204, 945.561), source=PLAYER (AssaultRifle), range=1469, listeners=8
[04:29:11] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=5
[04:29:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(571.8016, 963.6156), source=PLAYER (AssaultRifle), range=1469, listeners=8
[04:29:11] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=4
[04:29:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(580.7204, 945.56104), shooter_id=1920420808712, bullet_pos=(938.0313, 918.51416)
[04:29:11] [INFO] [Bullet] Using shooter_position, distance=358,3331
[04:29:11] [INFO] [Bullet] Distance to wall: 358,3331 (24,39956% of viewport)
[04:29:11] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:29:11] [INFO] [Bullet] Starting wall penetration at (938.0313, 918.51416)
[04:29:11] [INFO] [Bullet] Raycast backward hit penetrating body at distance 40,37041
[04:29:11] [INFO] [Bullet] Body exited signal received for penetrating body
[04:29:11] [INFO] [Bullet] Exiting penetration at (976.25525, 915.6208) after traveling 33,333332 pixels through wall
[04:29:11] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[04:29:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(561.7634, 971.8939), source=PLAYER (AssaultRifle), range=1469, listeners=8
[04:29:11] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=4
[04:29:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(571.8016, 963.6156), shooter_id=1920420808712, bullet_pos=(924.85486, 902.3293)
[04:29:11] [INFO] [Bullet] Using shooter_position, distance=358,33313
[04:29:11] [INFO] [Bullet] Distance to wall: 358,33313 (24,399563% of viewport)
[04:29:11] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:29:11] [INFO] [Bullet] Starting wall penetration at (924.85486, 902.3293)
[04:29:11] [INFO] [Bullet] Raycast backward hit penetrating body at distance 27,021507
[04:29:11] [INFO] [Bullet] Body exited signal received for penetrating body
[04:29:11] [INFO] [Bullet] Exiting penetration at (962.62335, 895.7731) after traveling 33,333336 pixels through wall
[04:29:11] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[04:29:12] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(561.76337, 971.89386), shooter_id=1920420808712, bullet_pos=(915.27527, 913.3089)
[04:29:12] [INFO] [Bullet] Using shooter_position, distance=358,33344
[04:29:12] [INFO] [Bullet] Distance to wall: 358,33344 (24,399584% of viewport)
[04:29:12] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:29:12] [INFO] [Bullet] Starting wall penetration at (915.27527, 913.3089)
[04:29:12] [INFO] [Bullet] Raycast backward hit penetrating body at distance 17,325958
[04:29:12] [INFO] [Bullet] Body exited signal received for penetrating body
[04:29:12] [INFO] [Bullet] Exiting penetration at (953.09283, 907.0417) after traveling 33,333336 pixels through wall
[04:29:12] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[04:29:12] [ENEMY] [Enemy4] Ragdoll activated
[04:29:12] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[04:29:12] [ENEMY] [Enemy1] State: SUPPRESSED -> IN_COVER
[04:29:12] [ENEMY] [Enemy1] State: IN_COVER -> PURSUING
[04:29:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(582.9806, 803.326), source=PLAYER (AssaultRifle), range=1469, listeners=8
[04:29:12] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=4
[04:29:12] [ENEMY] [Enemy2] State: SUPPRESSED -> IN_COVER
[04:29:12] [ENEMY] [Enemy2] State: IN_COVER -> PURSUING
[04:29:12] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(582.9806, 803.32605), shooter_id=1920420808712, bullet_pos=(496.93866, 712.652)
[04:29:12] [INFO] [Bullet] Using shooter_position, distance=125,00001
[04:29:12] [INFO] [Bullet] Distance to wall: 125,00001 (8,51148% of viewport)
[04:29:12] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:29:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(607.8707, 778.4359), source=PLAYER (AssaultRifle), range=1469, listeners=8
[04:29:12] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=4
[04:29:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(632.7609, 753.5458), source=PLAYER (AssaultRifle), range=1469, listeners=8
[04:29:13] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=4
[04:29:13] [ENEMY] [Enemy2] Hit taken, health: 0/2
[04:29:13] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[04:29:13] [INFO] [ImpactEffects] spawn_blood_effect called at (384.8399, 589.8621), dir=(1, 0), lethal=true
[04:29:13] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[04:29:13] [INFO] [ImpactEffects] Blood decals scheduled: 47 (10 merged splatters, 12 satellite drops)
[04:29:13] [INFO] [ImpactEffects] Blood effect spawned at (384.8399, 589.8621) (scale=1.5)
[04:29:13] [ENEMY] [Enemy2] Enemy died (ricochet: false, penetration: false)
[04:29:13] [INFO] [ScoreManager] Kill registered. Combo: 3 (points: 3000)
[04:29:13] [INFO] [SoundPropagation] Unregistered listener: Enemy2 (remaining: 7)
[04:29:13] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[04:29:13] [ENEMY] [Enemy2] Death animation started with hit direction: (1, 0)
[04:29:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(654.5397, 731.7669), source=PLAYER (AssaultRifle), range=1469, listeners=7
[04:29:13] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=4
[04:29:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(582.9806, 803.32605), shooter_id=1920420808712, bullet_pos=(47.13953, 1065.4742)
[04:29:13] [INFO] [Bullet] Using shooter_position, distance=596,5294
[04:29:13] [INFO] [Bullet] Distance to wall: 596,5294 (40,618786% of viewport)
[04:29:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(632.76086, 753.5458), shooter_id=1920420808712, bullet_pos=(228.70561, 473.411)
[04:29:13] [INFO] [Bullet] Using shooter_position, distance=491,6667
[04:29:13] [INFO] [Bullet] Distance to wall: 491,6667 (33,47849% of viewport)
[04:29:13] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:29:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(679.4299, 706.8768), source=PLAYER (AssaultRifle), range=1469, listeners=7
[04:29:13] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=4
[04:29:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(632.76086, 753.5458), shooter_id=1920420808712, bullet_pos=(56.375725, 581.3317)
[04:29:13] [INFO] [Bullet] Using shooter_position, distance=601,56256
[04:29:13] [INFO] [Bullet] Distance to wall: 601,56256 (40,961502% of viewport)
[04:29:13] [INFO] [Bullet] Distance-based penetration chance: 98,87825%
[04:29:13] [INFO] [Bullet] Starting wall penetration at (56.375725, 581.3317)
[04:29:13] [INFO] [Bullet] Raycast backward hit penetrating body at distance 4,5722327
[04:29:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(703.6801, 681.9866), source=PLAYER (AssaultRifle), range=1469, listeners=7
[04:29:13] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=4
[04:29:13] [INFO] [Bullet] Max penetration distance exceeded: 56,666664 >= 48
[04:29:13] [INFO] [Bullet] Body exited signal received for penetrating body
[04:29:13] [INFO] [Bullet] Exiting penetration at (4.1117554, 614.0618) after traveling 56,666664 pixels through wall
[04:29:13] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[04:29:13] [ENEMY] [Enemy4] Death animation completed
[04:29:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(654.53973, 731.7669), shooter_id=1920420808712, bullet_pos=(61.19639, 446.55396)
[04:29:13] [INFO] [Bullet] Using shooter_position, distance=658,3333
[04:29:13] [INFO] [Bullet] Distance to wall: 658,3333 (44,827126% of viewport)
[04:29:13] [ENEMY] [Enemy1] State: PURSUING -> RETREATING
[04:29:13] [ENEMY] [Enemy1] State: RETREATING -> IN_COVER
[04:29:13] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[04:29:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(679.4299, 706.8768), shooter_id=1920420808712, bullet_pos=(61.842865, 478.86578)
[04:29:13] [INFO] [Bullet] Using shooter_position, distance=658,3333
[04:29:13] [INFO] [Bullet] Distance to wall: 658,3333 (44,827126% of viewport)
[04:29:13] [INFO] [Bullet] Distance-based penetration chance: 94,36835%
[04:29:13] [INFO] [Bullet] Starting wall penetration at (61.842865, 478.86578)
[04:29:13] [INFO] [Bullet] Raycast backward hit penetrating body at distance 6,5215583
[04:29:13] [INFO] [Bullet] Body exited signal received for penetrating body
[04:29:13] [INFO] [Bullet] Exiting penetration at (25.882097, 465.5892) after traveling 33,333332 pixels through wall
[04:29:13] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[04:29:13] [ENEMY] [Enemy2] Ragdoll activated
[04:29:13] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[04:29:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(654.53973, 731.7669), shooter_id=1920420808712, bullet_pos=(326.21213, 273.22076)
[04:29:13] [INFO] [Bullet] Using shooter_position, distance=563,97125
[04:29:13] [INFO] [Bullet] Distance to wall: 563,97125 (38,40184% of viewport)
[04:29:13] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:29:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(703.68005, 681.98663), shooter_id=1920420808712, bullet_pos=(47.555054, 463.11984)
[04:29:13] [INFO] [Bullet] Using shooter_position, distance=691,6666
[04:29:13] [INFO] [Bullet] Distance to wall: 691,6666 (47,096855% of viewport)
[04:29:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(654.53973, 731.7669), shooter_id=1920420808712, bullet_pos=(499.78204, 367.80194)
[04:29:13] [INFO] [Bullet] Using shooter_position, distance=395,50024
[04:29:13] [INFO] [Bullet] Distance to wall: 395,50024 (26,930342% of viewport)
[04:29:13] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:29:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(654.53973, 731.7669), shooter_id=1920420808712, bullet_pos=(340.96173, 424.8837)
[04:29:13] [INFO] [Bullet] Using shooter_position, distance=438,75787
[04:29:13] [INFO] [Bullet] Distance to wall: 438,75787 (29,87583% of viewport)
[04:29:13] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:29:13] [ENEMY] [Enemy1] Hit taken, health: 1/2
[04:29:13] [ENEMY] [Enemy1] ImpactEffectsManager found, calling spawn_blood_effect
[04:29:13] [INFO] [ImpactEffects] spawn_blood_effect called at (291.1233, 401.0556), dir=(1, 0), lethal=false
[04:29:13] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[04:29:13] [INFO] [ImpactEffects] Blood decals scheduled: 23 (7 merged splatters, 8 satellite drops)
[04:29:13] [INFO] [ImpactEffects] Blood effect spawned at (291.1233, 401.0556) (scale=1)
[04:29:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(630.6375, 627.1104), source=PLAYER (AssaultRifle), range=1469, listeners=7
[04:29:14] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=3
[04:29:14] [ENEMY] [Enemy10] State: FLANKING -> COMBAT
[04:29:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(595.4373, 627.1104), source=PLAYER (AssaultRifle), range=1469, listeners=7
[04:29:14] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=3
[04:29:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(560.727, 625.9279), source=PLAYER (AssaultRifle), range=1469, listeners=7
[04:29:14] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=3
[04:29:14] [ENEMY] [Enemy10] State: COMBAT -> RETREATING
[04:29:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(630.63745, 627.1104), shooter_id=1920420808712, bullet_pos=(53.246124, 1216.3851)
[04:29:14] [INFO] [Bullet] Using shooter_position, distance=825,0003
[04:29:14] [INFO] [Bullet] Distance to wall: 825,0003 (56,175793% of viewport)
[04:29:14] [ENEMY] [Enemy1] State: SUPPRESSED -> SEEKING_COVER
[04:29:14] [ENEMY] [Enemy10] State: RETREATING -> IN_COVER
[04:29:14] [ENEMY] [Enemy10] State: IN_COVER -> SUPPRESSED
[04:29:14] [ENEMY] [Enemy1] State: SEEKING_COVER -> IN_COVER
[04:29:14] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[04:29:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(595.43726, 627.1104), shooter_id=1920420808712, bullet_pos=(59.107346, 1209.4213)
[04:29:14] [INFO] [Bullet] Using shooter_position, distance=791,6664
[04:29:14] [INFO] [Bullet] Distance to wall: 791,6664 (53,906025% of viewport)
[04:29:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(595.43726, 627.1104), shooter_id=1920420808712, bullet_pos=(230.70987, 1404.7483)
[04:29:14] [INFO] [Bullet] Using shooter_position, distance=858,9219
[04:29:14] [INFO] [Bullet] Distance to wall: 858,9219 (58,485573% of viewport)
[04:29:14] [INFO] [Bullet] Distance-based penetration chance: 78,4335%
[04:29:14] [INFO] [Bullet] Starting wall penetration at (230.70987, 1404.7483)
[04:29:14] [INFO] [Bullet] Raycast backward hit penetrating body at distance 23,680527
[04:29:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(630.63745, 627.1104), shooter_id=1920420808712, bullet_pos=(351.93686, 1600.6101)
[04:29:14] [INFO] [Bullet] Using shooter_position, distance=1012,60834
[04:29:14] [INFO] [Bullet] Distance to wall: 1012,60834 (68,95036% of viewport)
[04:29:14] [INFO] [Bullet] Body exited signal received for penetrating body
[04:29:14] [INFO] [Bullet] Exiting penetration at (252.71019, 1429.7902) after traveling 28,333336 pixels through wall
[04:29:14] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[04:29:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(560.727, 625.92786), shooter_id=1920420808712, bullet_pos=(65.22157, 1367.2402)
[04:29:14] [INFO] [Bullet] Using shooter_position, distance=891,6668
[04:29:14] [INFO] [Bullet] Distance to wall: 891,6668 (60,715233% of viewport)
[04:29:14] [ENEMY] [Enemy2] Death animation completed
[04:29:15] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(560.727, 625.92786), shooter_id=1920420808712, bullet_pos=(242.86151, 1594.3524)
[04:29:15] [INFO] [Bullet] Using shooter_position, distance=1019,2569
[04:29:15] [INFO] [Bullet] Distance to wall: 1019,2569 (69,403076% of viewport)
[04:29:15] [INFO] [Bullet] Distance-based penetration chance: 65,69641%
[04:29:15] [INFO] [Bullet] Penetration failed (distance roll)
[04:29:16] [ENEMY] [Enemy1] State: SUPPRESSED -> SEEKING_COVER
[04:29:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(132.1092, 481.9958), source=PLAYER (AssaultRifle), range=1469, listeners=7
[04:29:16] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=0
[04:29:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(132.10918, 481.99576), shooter_id=1920420808712, bullet_pos=(243.11903, 424.5344)
[04:29:16] [INFO] [Bullet] Using shooter_position, distance=124,999985
[04:29:16] [INFO] [Bullet] Distance to wall: 124,999985 (8,511479% of viewport)
[04:29:16] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:29:16] [INFO] [Bullet] Starting wall penetration at (243.11903, 424.5344)
[04:29:16] [INFO] [Bullet] Raycast backward hit penetrating body at distance 41,521564
[04:29:16] [INFO] [Bullet] Body exited signal received for penetrating body
[04:29:16] [INFO] [Bullet] Exiting penetration at (277.16205, 406.9129) after traveling 33,333336 pixels through wall
[04:29:16] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[04:29:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(115.8912, 453.5135), source=PLAYER (AssaultRifle), range=1469, listeners=7
[04:29:16] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=1
[04:29:16] [ENEMY] [Enemy1] Hit taken, health: 0/2
[04:29:16] [ENEMY] [Enemy1] ImpactEffectsManager found, calling spawn_blood_effect
[04:29:16] [INFO] [ImpactEffects] spawn_blood_effect called at (350.2166, 387.7856), dir=(1, 0), lethal=true
[04:29:16] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[04:29:16] [INFO] [ImpactEffects] Blood decals scheduled: 51 (9 merged splatters, 11 satellite drops)
[04:29:16] [INFO] [ImpactEffects] Blood effect spawned at (350.2166, 387.7856) (scale=1.5)
[04:29:16] [ENEMY] [Enemy1] Enemy died (ricochet: false, penetration: false)
[04:29:16] [INFO] [ScoreManager] Kill registered. Combo: 4 (points: 5000)
[04:29:16] [INFO] [SoundPropagation] Unregistered listener: Enemy1 (remaining: 6)
[04:29:16] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[04:29:16] [ENEMY] [Enemy1] Death animation started with hit direction: (1, 0)
[04:29:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(112.0056, 419.9229), source=PLAYER (AssaultRifle), range=1469, listeners=6
[04:29:16] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=1
[04:29:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(112.0056, 384.723), source=PLAYER (AssaultRifle), range=1469, listeners=6
[04:29:16] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=1
[04:29:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(112.005615, 419.92294), shooter_id=1920420808712, bullet_pos=(496.6944, 346.32013)
[04:29:16] [INFO] [Bullet] Using shooter_position, distance=391,66672
[04:29:16] [INFO] [Bullet] Distance to wall: 391,66672 (26,669308% of viewport)
[04:29:16] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:29:16] [INFO] [Bullet] Starting wall penetration at (496.6944, 346.32013)
[04:29:16] [INFO] [Bullet] Raycast backward hit penetrating body at distance 10,532434
[04:29:16] [INFO] [Bullet] Body exited signal received for penetrating body
[04:29:16] [INFO] [Bullet] Exiting penetration at (534.3448, 339.11646) after traveling 33,333332 pixels through wall
[04:29:16] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[04:29:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(112.0056, 349.523), source=PLAYER (AssaultRifle), range=1469, listeners=6
[04:29:16] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=1
[04:29:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(112.005615, 384.723), shooter_id=1920420808712, bullet_pos=(502.56445, 355.28595)
[04:29:16] [INFO] [Bullet] Using shooter_position, distance=391,66663
[04:29:16] [INFO] [Bullet] Distance to wall: 391,66663 (26,669302% of viewport)
[04:29:16] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:29:16] [INFO] [Bullet] Starting wall penetration at (502.56445, 355.28595)
[04:29:16] [INFO] [Bullet] Raycast backward hit penetrating body at distance 16,83699
[04:29:16] [INFO] [Bullet] Body exited signal received for penetrating body
[04:29:16] [INFO] [Bullet] Exiting penetration at (540.78937, 352.40488) after traveling 33,333336 pixels through wall
[04:29:16] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[04:29:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(112.005615, 349.52304), shooter_id=1920420808712, bullet_pos=(503.06668, 371.2961)
[04:29:17] [INFO] [Bullet] Using shooter_position, distance=391,66672
[04:29:17] [INFO] [Bullet] Distance to wall: 391,66672 (26,669308% of viewport)
[04:29:17] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:29:17] [INFO] [Bullet] Starting wall penetration at (503.06668, 371.2961)
[04:29:17] [INFO] [Bullet] Raycast backward hit penetrating body at distance 17,367617
[04:29:17] [INFO] [Bullet] Body exited signal received for penetrating body
[04:29:17] [INFO] [Bullet] Exiting penetration at (541.34076, 373.4271) after traveling 33,333332 pixels through wall
[04:29:17] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[04:29:17] [ENEMY] [Enemy1] Ragdoll activated
[04:29:17] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[04:29:17] [ENEMY] [Enemy10] State: SUPPRESSED -> IN_COVER
[04:29:17] [ENEMY] [Enemy10] State: IN_COVER -> PURSUING
[04:29:18] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[04:29:18] [ENEMY] [Enemy1] Player reloading state changed: false -> true
[04:29:18] [ENEMY] [Enemy5] Player reloading state changed: false -> true
[04:29:18] [ENEMY] [Enemy6] Player reloading state changed: false -> true
[04:29:18] [ENEMY] [Enemy7] Player reloading state changed: false -> true
[04:29:18] [ENEMY] [Enemy8] Player reloading state changed: false -> true
[04:29:18] [ENEMY] [Enemy9] Player reloading state changed: false -> true
[04:29:18] [ENEMY] [Enemy10] Player reloading state changed: false -> true
[04:29:18] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(253.2156, 194.8349), source=PLAYER (Player), range=900, listeners=6
[04:29:18] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=1
[04:29:18] [ENEMY] [Enemy5] Player vulnerable (reloading) but cannot attack: close=false (dist=1455), can_see=false
[04:29:18] [ENEMY] [Enemy6] Player vulnerable (reloading) but cannot attack: close=false (dist=1716), can_see=false
[04:29:18] [ENEMY] [Enemy7] Player vulnerable (reloading) but cannot attack: close=false (dist=1529), can_see=false
[04:29:18] [ENEMY] [Enemy8] Player vulnerable (reloading) but cannot attack: close=false (dist=2071), can_see=false
[04:29:18] [ENEMY] [Enemy9] Player vulnerable (reloading) but cannot attack: close=false (dist=2291), can_see=false
[04:29:18] [ENEMY] [Enemy10] Player vulnerable (reloading) but cannot attack: close=false (dist=655), can_see=false
[04:29:18] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[04:29:18] [ENEMY] [Enemy1] Death animation completed
[04:29:18] [INFO] [Player.Reload.Anim] Phase changed to: PullBolt (duration: 0,35s)
[04:29:18] [ENEMY] [Enemy1] Player reloading state changed: true -> false
[04:29:18] [ENEMY] [Enemy5] Player reloading state changed: true -> false
[04:29:18] [ENEMY] [Enemy6] Player reloading state changed: true -> false
[04:29:18] [ENEMY] [Enemy7] Player reloading state changed: true -> false
[04:29:18] [ENEMY] [Enemy8] Player reloading state changed: true -> false
[04:29:18] [ENEMY] [Enemy9] Player reloading state changed: true -> false
[04:29:18] [ENEMY] [Enemy10] Player reloading state changed: true -> false
[04:29:18] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[04:29:18] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[04:29:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(351.6291, 212.4727), source=PLAYER (AssaultRifle), range=1469, listeners=6
[04:29:20] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=3
[04:29:20] [INFO] [ScoreManager] Combo ended at 4. Max combo: 4
[04:29:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(351.6291, 212.4727), source=PLAYER (AssaultRifle), range=1469, listeners=6
[04:29:20] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=3
[04:29:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(351.6291, 212.4727), source=PLAYER (AssaultRifle), range=1469, listeners=6
[04:29:20] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=3
[04:29:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(351.6291, 212.47267), shooter_id=1920420808712, bullet_pos=(625.71356, 1025.8694)
[04:29:20] [INFO] [Bullet] Using shooter_position, distance=858,3336
[04:29:20] [INFO] [Bullet] Distance to wall: 858,3336 (58,445515% of viewport)
[04:29:20] [ENEMY] [Enemy10] State: PURSUING -> RETREATING
[04:29:20] [ENEMY] [Enemy10] State: RETREATING -> IN_COVER
[04:29:20] [ENEMY] [Enemy10] State: IN_COVER -> SUPPRESSED
[04:29:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(351.6291, 212.47267), shooter_id=1920420808712, bullet_pos=(685.4697, 816.73914)
[04:29:20] [INFO] [Bullet] Using shooter_position, distance=690,3532
[04:29:20] [INFO] [Bullet] Distance to wall: 690,3532 (47,00742% of viewport)
[04:29:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(351.6291, 212.47267), shooter_id=1920420808712, bullet_pos=(625.7132, 1025.8694)
[04:29:20] [INFO] [Bullet] Using shooter_position, distance=858,3335
[04:29:20] [INFO] [Bullet] Distance to wall: 858,3335 (58,445507% of viewport)
[04:29:20] [INFO] [Bullet] Distance-based penetration chance: 78,48024%
[04:29:20] [INFO] [Bullet] Penetration failed (distance roll)
[04:29:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(351.6291, 212.47267), shooter_id=1920420808712, bullet_pos=(625.7141, 1025.8687)
[04:29:20] [INFO] [Bullet] Using shooter_position, distance=858,33307
[04:29:20] [INFO] [Bullet] Distance to wall: 858,33307 (58,445477% of viewport)
[04:29:20] [INFO] [Bullet] Distance-based penetration chance: 78,48028%
[04:29:20] [INFO] [Bullet] Starting wall penetration at (625.7141, 1025.8687)
[04:29:20] [INFO] [Bullet] Raycast backward hit penetrating body at distance 48,638577
[04:29:20] [INFO] [Bullet] Body exited signal received for penetrating body
[04:29:20] [INFO] [Bullet] Exiting penetration at (640.61584, 1070.0922) after traveling 41,666668 pixels through wall
[04:29:20] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[04:29:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(351.6291, 212.47267), shooter_id=1920420808712, bullet_pos=(575.0363, 67.22663)
[04:29:20] [INFO] [Bullet] Using shooter_position, distance=266,47177
[04:29:20] [INFO] [Bullet] Distance to wall: 266,47177 (18,144554% of viewport)
[04:29:20] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:29:20] [INFO] [Bullet] Starting wall penetration at (575.0363, 67.22663)
[04:29:20] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[04:29:20] [INFO] [Bullet] Exiting penetration at (569.9193, 32.497406) after traveling 30,104168 pixels through wall
[04:29:20] [INFO] [Bullet] Damage multiplier after penetration: 0,225
[04:29:23] [ENEMY] [Enemy10] State: SUPPRESSED -> IN_COVER
[04:29:23] [ENEMY] [Enemy10] State: IN_COVER -> PURSUING
[04:29:24] [ENEMY] [Enemy10] FLANKING started: target=(198.2668, 334.8471), side=right, pos=(447.442, 753.6758)
[04:29:24] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[04:29:24] [ENEMY] [Enemy10] State: FLANKING -> COMBAT
[04:29:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(524.2726, 713.7623), source=ENEMY (Enemy10), range=1469, listeners=6
[04:29:25] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=3
[04:29:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(351.6291, 212.4727), source=PLAYER (AssaultRifle), range=1469, listeners=6
[04:29:25] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=3
[04:29:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(524.0668, 687.77), source=ENEMY (Enemy10), range=1469, listeners=6
[04:29:25] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=3
[04:29:25] [INFO] [LastChance] Threat detected: Bullet
[04:29:25] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[04:29:25] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:29:25] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[04:29:25] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[04:29:25] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[04:29:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(351.6291, 212.4727), source=PLAYER (AssaultRifle), range=1469, listeners=6
[04:29:25] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=2
[04:29:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(525.9828, 667.2306), source=ENEMY (Enemy10), range=1469, listeners=6
[04:29:25] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=3
[04:29:25] [INFO] [LastChance] Threat detected: @Area2D@3154
[04:29:25] [INFO] [LastChance] Triggering last chance effect!
[04:29:25] [INFO] [LastChance] Starting last chance effect:
[04:29:25] [INFO] [LastChance]   - Time will be frozen (except player)
[04:29:25] [INFO] [LastChance]   - Duration: 6.0 real seconds
[04:29:25] [INFO] [LastChance]   - Sepia intensity: 0.70
[04:29:25] [INFO] [LastChance]   - Brightness: 0.60
[04:29:25] [INFO] [LastChance] Pushed bullet Bullet from distance 72.4 to 200.0
[04:29:25] [INFO] [LastChance] Pushed 1 threatening bullets away from player
[04:29:25] [INFO] [LastChance] Set player Player and all 18 children to PROCESS_MODE_ALWAYS
[04:29:25] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[04:29:25] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[04:29:25] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[04:29:25] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[04:29:25] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[04:29:25] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[04:29:25] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[04:29:25] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[04:29:25] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[04:29:25] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[04:29:25] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[04:29:25] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[04:29:25] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[04:29:25] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[04:29:25] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[04:29:25] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[04:29:25] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[04:29:25] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[04:29:25] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[04:29:25] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[04:29:25] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[04:29:25] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[04:29:25] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[04:29:25] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[04:29:25] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[04:29:25] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[04:29:25] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[04:29:25] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[04:29:25] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[04:29:25] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[04:29:25] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[04:29:25] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[04:29:25] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[04:29:25] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[04:29:25] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[04:29:25] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[04:29:25] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[04:29:25] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[04:29:25] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[04:29:25] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[04:29:25] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[04:29:25] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[04:29:25] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[04:29:25] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[04:29:25] [INFO] [LastChance] Skipping player node: Player
[04:29:25] [INFO] [LastChance] Froze existing bullet casing: Casing
[04:29:25] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2815
[04:29:25] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2817
[04:29:25] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2819
[04:29:25] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2821
[04:29:25] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2822
[04:29:25] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2825
[04:29:25] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2830
[04:29:25] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2834
[04:29:25] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2838
[04:29:25] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2840
[04:29:25] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2846
[04:29:25] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2849
[04:29:25] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2852
[04:29:25] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2855
[04:29:25] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2858
[04:29:25] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2863
[04:29:25] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2881
[04:29:25] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2935
[04:29:25] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2936
[04:29:25] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2938
[04:29:25] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2940
[04:29:25] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2949
[04:29:25] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@2998
[04:29:25] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3001
[04:29:25] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3003
[04:29:25] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3005
[04:29:25] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3008
[04:29:25] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3019
[04:29:25] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3064
[04:29:25] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3067
[04:29:25] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3070
[04:29:25] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3086
[04:29:25] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3088
[04:29:25] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3089
[04:29:25] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3091
[04:29:25] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3093
[04:29:25] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3142
[04:29:25] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3144
[04:29:25] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3146
[04:29:25] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3151
[04:29:25] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3153
[04:29:25] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3155
[04:29:25] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3156
[04:29:25] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3158
[04:29:25] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[04:29:25] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[04:29:25] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[04:29:25] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@3159
[04:29:25] [INFO] [LastChance] Registered frozen player bullet: @Area2D@3159
[04:29:25] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@3160
[04:29:25] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@3160
[04:29:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(351.6291, 212.4727), source=PLAYER (AssaultRifle), range=1469, listeners=6
[04:29:25] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=2
[04:29:25] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@3161
[04:29:25] [INFO] [LastChance] Registered frozen player bullet: @Area2D@3161
[04:29:25] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@3162
[04:29:25] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@3162
[04:29:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(344.6291, 212.4727), source=PLAYER (AssaultRifle), range=1469, listeners=6
[04:29:25] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=2
[04:29:27] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@3163
[04:29:27] [INFO] [LastChance] Registered frozen player bullet: @Area2D@3163
[04:29:27] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@3164
[04:29:27] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@3164
[04:29:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(456.1355, 632.6646), source=PLAYER (AssaultRifle), range=1469, listeners=6
[04:29:27] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=2
[04:29:28] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@3165
[04:29:28] [INFO] [LastChance] Registered frozen player bullet: @Area2D@3165
[04:29:28] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@3166
[04:29:28] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@3166
[04:29:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(486.9308, 651.2653), source=PLAYER (AssaultRifle), range=1469, listeners=6
[04:29:28] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=2
[04:29:28] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@3167
[04:29:28] [INFO] [LastChance] Registered frozen player bullet: @Area2D@3167
[04:29:28] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@3168
[04:29:28] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@3168
[04:29:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(523.7543, 655.3127), source=PLAYER (AssaultRifle), range=1469, listeners=6
[04:29:28] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=3
[04:29:28] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@3169
[04:29:28] [INFO] [LastChance] Registered frozen player bullet: @Area2D@3169
[04:29:28] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@3170
[04:29:28] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@3170
[04:29:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(562.2543, 655.3127), source=PLAYER (AssaultRifle), range=1469, listeners=6
[04:29:28] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=3
[04:29:28] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@3171
[04:29:28] [INFO] [LastChance] Registered frozen player bullet: @Area2D@3171
[04:29:28] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@3172
[04:29:28] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@3172
[04:29:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(600.7543, 655.3127), source=PLAYER (AssaultRifle), range=1469, listeners=6
[04:29:28] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=3
[04:29:28] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@3173
[04:29:28] [INFO] [LastChance] Registered frozen player bullet: @Area2D@3173
[04:29:28] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@3174
[04:29:28] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@3174
[04:29:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(719.8342, 639.0729), source=PLAYER (AssaultRifle), range=1469, listeners=6
[04:29:28] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=4
[04:29:28] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@3175
[04:29:28] [INFO] [LastChance] Registered frozen player bullet: @Area2D@3175
[04:29:28] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@3176
[04:29:28] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@3176
[04:29:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(741.0356, 625.7036), source=PLAYER (AssaultRifle), range=1469, listeners=6
[04:29:28] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=4
[04:29:29] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@3177
[04:29:29] [INFO] [LastChance] Registered frozen player bullet: @Area2D@3177
[04:29:29] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@3178
[04:29:29] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@3178
[04:29:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(750.7238, 619.5945), source=PLAYER (AssaultRifle), range=1469, listeners=6
[04:29:29] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=4
[04:29:29] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@3179
[04:29:29] [INFO] [LastChance] Registered frozen player bullet: @Area2D@3179
[04:29:29] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@3180
[04:29:29] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@3180
[04:29:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(752.5209, 613.6781), source=PLAYER (AssaultRifle), range=1469, listeners=6
[04:29:29] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=4
[04:29:29] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@3181
[04:29:29] [INFO] [LastChance] Registered frozen player bullet: @Area2D@3181
[04:29:29] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@3182
[04:29:29] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@3182
[04:29:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(763.4047, 597.0718), source=PLAYER (AssaultRifle), range=1469, listeners=6
[04:29:29] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=4
[04:29:30] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[04:29:30] [ENEMY] [Enemy5] Player reloading state changed: false -> true
[04:29:30] [ENEMY] [Enemy6] Player reloading state changed: false -> true
[04:29:30] [ENEMY] [Enemy7] Player reloading state changed: false -> true
[04:29:30] [ENEMY] [Enemy8] Player reloading state changed: false -> true
[04:29:30] [ENEMY] [Enemy9] Player reloading state changed: false -> true
[04:29:30] [ENEMY] [Enemy10] Player reloading state changed: false -> true
[04:29:30] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(952.0023, 673.2384), source=PLAYER (Player), range=900, listeners=6
[04:29:30] [ENEMY] [Enemy10] Heard player RELOAD at (952.0023, 673.2384), intensity=0.01, distance=424
[04:29:30] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=2
[04:29:30] [INFO] [Player.Reload.Anim] LeftArm: pos=(5.5081553, 2.2701743), target=(4, 2), base=(24, 6)
[04:29:30] [INFO] [Player.Reload.Anim] RightArm: pos=(-2.1572843, 6), target=(-2, 6), base=(-2, 6)
[04:29:30] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[04:29:30] [INFO] [Player.Reload.Anim] Phase changed to: PullBolt (duration: 0,35s)
[04:29:30] [ENEMY] [Enemy5] Player reloading state changed: true -> false
[04:29:30] [ENEMY] [Enemy6] Player reloading state changed: true -> false
[04:29:30] [ENEMY] [Enemy7] Player reloading state changed: true -> false
[04:29:30] [ENEMY] [Enemy8] Player reloading state changed: true -> false
[04:29:30] [ENEMY] [Enemy9] Player reloading state changed: true -> false
[04:29:30] [ENEMY] [Enemy10] Player reloading state changed: true -> false
[04:29:30] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[04:29:31] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[04:29:31] [INFO] [LastChance] Effect duration expired after 6.00 real seconds
[04:29:31] [INFO] [LastChance] Ending last chance effect
[04:29:31] [INFO] [LastChance] All process modes restored
[04:29:31] [INFO] [LastChance] Unfroze player bullet: @Area2D@3159
[04:29:31] [INFO] [LastChance] Unfroze player bullet: @Area2D@3161
[04:29:31] [INFO] [LastChance] Unfroze player bullet: @Area2D@3163
[04:29:31] [INFO] [LastChance] Unfroze player bullet: @Area2D@3165
[04:29:31] [INFO] [LastChance] Unfroze player bullet: @Area2D@3167
[04:29:31] [INFO] [LastChance] Unfroze player bullet: @Area2D@3169
[04:29:31] [INFO] [LastChance] Unfroze player bullet: @Area2D@3171
[04:29:31] [INFO] [LastChance] Unfroze player bullet: @Area2D@3173
[04:29:31] [INFO] [LastChance] Unfroze player bullet: @Area2D@3175
[04:29:31] [INFO] [LastChance] Unfroze player bullet: @Area2D@3177
[04:29:31] [INFO] [LastChance] Unfroze player bullet: @Area2D@3179
[04:29:31] [INFO] [LastChance] Unfroze player bullet: @Area2D@3181
[04:29:31] [INFO] [LastChance] Unfroze bullet casing: Casing
[04:29:31] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2815
[04:29:31] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2817
[04:29:31] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2819
[04:29:31] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2821
[04:29:31] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2822
[04:29:31] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2825
[04:29:31] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2830
[04:29:31] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2834
[04:29:31] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2838
[04:29:31] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2840
[04:29:31] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2846
[04:29:31] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2849
[04:29:31] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2852
[04:29:31] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2855
[04:29:31] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2858
[04:29:31] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2863
[04:29:31] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2881
[04:29:31] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2935
[04:29:31] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2936
[04:29:31] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2938
[04:29:31] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2940
[04:29:31] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2949
[04:29:31] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@2998
[04:29:31] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3001
[04:29:31] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3003
[04:29:31] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3005
[04:29:31] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3008
[04:29:31] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3019
[04:29:31] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3064
[04:29:31] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3067
[04:29:31] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3070
[04:29:31] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3086
[04:29:31] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3088
[04:29:31] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3089
[04:29:31] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3091
[04:29:31] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3093
[04:29:31] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3142
[04:29:31] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3144
[04:29:31] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3146
[04:29:31] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3151
[04:29:31] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3153
[04:29:31] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3155
[04:29:31] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3156
[04:29:31] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3158
[04:29:31] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3160
[04:29:31] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3162
[04:29:31] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3164
[04:29:31] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3166
[04:29:31] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3168
[04:29:31] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3170
[04:29:31] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3172
[04:29:31] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3174
[04:29:31] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3176
[04:29:31] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3178
[04:29:31] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3180
[04:29:31] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3182
[04:29:31] [INFO] [LastChance] Restored original colors to 5 player sprites
[04:29:31] [INFO] [LastChance] Called player RefreshHealthVisual (C#)
[04:29:31] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[04:29:31] [ENEMY] [Enemy10] Hit taken, health: 1/2
[04:29:31] [ENEMY] [Enemy10] ImpactEffectsManager found, calling spawn_blood_effect
[04:29:31] [INFO] [ImpactEffects] spawn_blood_effect called at (549.2103, 662.8004), dir=(1, 0), lethal=false
[04:29:31] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[04:29:31] [INFO] [ImpactEffects] Blood decals scheduled: 31 (2 merged splatters, 6 satellite drops)
[04:29:31] [INFO] [ImpactEffects] Blood effect spawned at (549.2103, 662.8004) (scale=1)
[04:29:31] [ENEMY] [Enemy10] Hit taken, health: 0/2
[04:29:31] [ENEMY] [Enemy10] ImpactEffectsManager found, calling spawn_blood_effect
[04:29:31] [INFO] [ImpactEffects] spawn_blood_effect called at (549.2103, 662.8004), dir=(1, 0), lethal=true
[04:29:31] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[04:29:31] [INFO] [ImpactEffects] Blood decals scheduled: 43 (10 merged splatters, 8 satellite drops)
[04:29:31] [INFO] [ImpactEffects] Blood effect spawned at (549.2103, 662.8004) (scale=1.5)
[04:29:31] [ENEMY] [Enemy10] Enemy died (ricochet: false, penetration: false)
[04:29:31] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[04:29:31] [INFO] [SoundPropagation] Unregistered listener: Enemy10 (remaining: 5)
[04:29:31] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[04:29:31] [ENEMY] [Enemy10] Death animation started with hit direction: (1, 0)
[04:29:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(719.8342, 639.0729), shooter_id=1920420808712, bullet_pos=(492.50854, 691.6795)
[04:29:31] [INFO] [Bullet] Using shooter_position, distance=233,33328
[04:29:31] [INFO] [Bullet] Distance to wall: 233,33328 (15,888093% of viewport)
[04:29:31] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:29:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(752.52094, 613.6781), shooter_id=1920420808712, bullet_pos=(428.16846, 690.53253)
[04:29:31] [INFO] [Bullet] Using shooter_position, distance=333,33337
[04:29:31] [INFO] [Bullet] Distance to wall: 333,33337 (22,697283% of viewport)
[04:29:31] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:29:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(600.7543, 655.3127), shooter_id=1920420808712, bullet_pos=(929.8271, 602.18854)
[04:29:31] [INFO] [Bullet] Using shooter_position, distance=333,33328
[04:29:31] [INFO] [Bullet] Distance to wall: 333,33328 (22,697277% of viewport)
[04:29:31] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:29:31] [INFO] [Bullet] Starting wall penetration at (929.8271, 602.18854)
[04:29:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(493.9276, 626.7733), shooter_id=1919598726080, bullet_pos=(291.5577, 61.93127)
[04:29:31] [INFO] [Bullet] Using shooter_position, distance=600.000061035156
[04:29:31] [INFO] [Bullet] Distance to wall: 600.000061035156 (40.8551074587093% of viewport)
[04:29:31] [INFO] [Bullet] Raycast backward hit penetrating body at distance 32,080513
[04:29:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(763.4047, 597.0718), shooter_id=1920420808712, bullet_pos=(407.81744, 686.5262)
[04:29:31] [INFO] [Bullet] Using shooter_position, distance=366,66663
[04:29:31] [INFO] [Bullet] Distance to wall: 366,66663 (24,967007% of viewport)
[04:29:31] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:29:31] [INFO] [Bullet] Body exited signal received for penetrating body
[04:29:31] [INFO] [Bullet] Exiting penetration at (967.6705, 596.0792) after traveling 33,333332 pixels through wall
[04:29:31] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[04:29:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(351.6291, 212.47267), shooter_id=1920420808712, bullet_pos=(617.73114, 1002.1776)
[04:29:31] [INFO] [Bullet] Using shooter_position, distance=833,3332
[04:29:31] [INFO] [Bullet] Distance to wall: 833,3332 (56,743195% of viewport)
[04:29:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(493.9276, 626.7733), shooter_id=1919598726080, bullet_pos=(259.6284, 233.9938)
[04:29:31] [INFO] [Bullet] Using shooter_position, distance=457.352996826172
[04:29:31] [INFO] [Bullet] Distance to wall: 457.352996826172 (31.1420065518979% of viewport)
[04:29:31] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:29:31] [INFO] [Bullet] Starting wall penetration at (259.6284, 233.9938)
[04:29:31] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[04:29:31] [INFO] [Bullet] Exiting penetration at (253.5467, 266.7676) after traveling 28.3333358764648 pixels through wall
[04:29:31] [INFO] [Bullet] Damage multiplier after penetration: 0.45
[04:29:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(494.784, 606.8213), shooter_id=1919598726080, bullet_pos=(279.4859, 37.86079)
[04:29:31] [INFO] [Bullet] Using shooter_position, distance=608.333251953125
[04:29:31] [INFO] [Bullet] Distance to wall: 608.333251953125 (41.4225297517007% of viewport)
[04:29:31] [INFO] [Bullet] Distance-based penetration chance: 98.3403819563492%
[04:29:31] [INFO] [Bullet] Starting wall penetration at (279.4859, 37.86079)
[04:29:31] [INFO] [Bullet] Raycast backward hit penetrating body at distance 32.0669593811035
[04:29:31] [INFO] [Bullet] Body exited signal received for penetrating body
[04:29:31] [INFO] [Bullet] Exiting penetration at (265.9192, 2.008488) after traveling 33.3333320617676 pixels through wall
[04:29:31] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[04:29:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(351.6291, 212.47267), shooter_id=1920420808712, bullet_pos=(615.3521, 1005.69904)
[04:29:31] [INFO] [Bullet] Using shooter_position, distance=835,91736
[04:29:31] [INFO] [Bullet] Distance to wall: 835,91736 (56,91915% of viewport)
[04:29:31] [INFO] [Bullet] Distance-based penetration chance: 80,260994%
[04:29:31] [INFO] [Bullet] Starting wall penetration at (615.3521, 1005.69904)
[04:29:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(351.6291, 212.47267), shooter_id=1920420808712, bullet_pos=(683.2332, 870.95044)
[04:29:31] [INFO] [Bullet] Using shooter_position, distance=737,26135
[04:29:31] [INFO] [Bullet] Distance to wall: 737,26135 (50,20148% of viewport)
[04:29:31] [INFO] [Bullet] Raycast backward hit penetrating body at distance 19,021362
[04:29:31] [INFO] [Bullet] Body exited signal received for penetrating body
[04:29:31] [INFO] [Bullet] Exiting penetration at (627.5928, 1042.0255) after traveling 33,333336 pixels through wall
[04:29:31] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[04:29:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(763.4047, 597.0718), shooter_id=1920420808712, bullet_pos=(49.98237, 580.0753)
[04:29:31] [INFO] [Bullet] Using shooter_position, distance=713,6248
[04:29:31] [INFO] [Bullet] Distance to wall: 713,6248 (48,59203% of viewport)
[04:29:31] [INFO] [Bullet] Distance-based penetration chance: 89,97597%
[04:29:31] [INFO] [Bullet] Starting wall penetration at (49.98237, 580.0753)
[04:29:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(752.52094, 613.6781), shooter_id=1920420808712, bullet_pos=(50.353912, 554.1792)
[04:29:31] [INFO] [Bullet] Using shooter_position, distance=704,68335
[04:29:31] [INFO] [Bullet] Distance to wall: 704,68335 (47,98319% of viewport)
[04:29:31] [INFO] [Bullet] Raycast backward hit penetrating body at distance 14,572121
[04:29:31] [INFO] [Bullet] Body exited signal received for penetrating body
[04:29:31] [INFO] [Bullet] Exiting penetration at (18.032808, 570.5708) after traveling 28,333336 pixels through wall
[04:29:31] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[04:29:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(562.2543, 655.3127), shooter_id=1920420808712, bullet_pos=(1383.0884, 511.5186)
[04:29:31] [INFO] [Bullet] Using shooter_position, distance=833,33386
[04:29:31] [INFO] [Bullet] Distance to wall: 833,33386 (56,743233% of viewport)
[04:29:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(344.6291, 212.47267), shooter_id=1920420808712, bullet_pos=(617.8682, 999.7374)
[04:29:31] [INFO] [Bullet] Using shooter_position, distance=833,3339
[04:29:31] [INFO] [Bullet] Distance to wall: 833,3339 (56,74324% of viewport)
[04:29:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(351.6291, 212.47267), shooter_id=1920420808712, bullet_pos=(617.7306, 1002.17773)
[04:29:31] [INFO] [Bullet] Using shooter_position, distance=833,3331
[04:29:31] [INFO] [Bullet] Distance to wall: 833,3331 (56,743187% of viewport)
[04:29:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(523.7543, 655.3127), shooter_id=1920420808712, bullet_pos=(1376.1198, 498.51624)
[04:29:31] [INFO] [Bullet] Using shooter_position, distance=866,66724
[04:29:31] [INFO] [Bullet] Distance to wall: 866,66724 (59,012966% of viewport)
[04:29:31] [INFO] [Bullet] Distance-based penetration chance: 77,81821%
[04:29:31] [INFO] [Bullet] Penetration failed (distance roll)
[04:29:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(486.93076, 651.26526), shooter_id=1920420808712, bullet_pos=(1369.7792, 476.396)
[04:29:31] [INFO] [Bullet] Using shooter_position, distance=900,0003
[04:29:31] [INFO] [Bullet] Distance to wall: 900,0003 (61,282677% of viewport)
[04:29:31] [INFO] [Bullet] Distance-based penetration chance: 75,17021%
[04:29:31] [INFO] [Bullet] Penetration failed (distance roll)
[04:29:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(456.13547, 632.66455), shooter_id=1920420808712, bullet_pos=(1369.984, 442.94907)
[04:29:31] [INFO] [Bullet] Using shooter_position, distance=933,3333
[04:29:31] [INFO] [Bullet] Distance to wall: 933,3333 (63,552387% of viewport)
[04:29:31] [INFO] [Bullet] Distance-based penetration chance: 72,522224%
[04:29:31] [INFO] [Bullet] Starting wall penetration at (1369.984, 442.94907)
[04:29:31] [INFO] [Bullet] Raycast backward hit penetrating body at distance 19,933228
[04:29:31] [INFO] [Bullet] Body exited signal received for penetrating body
[04:29:31] [INFO] [Bullet] Exiting penetration at (1407.5171, 435.1572) after traveling 33,333332 pixels through wall
[04:29:31] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[04:29:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(344.6291, 212.47267), shooter_id=1920420808712, bullet_pos=(685.2119, 869.44574)
[04:29:31] [INFO] [Bullet] Using shooter_position, distance=740,00696
[04:29:31] [INFO] [Bullet] Distance to wall: 740,00696 (50,38844% of viewport)
[04:29:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(752.52094, 613.6781), shooter_id=1920420808712, bullet_pos=(227.89275, 467.27652)
[04:29:31] [INFO] [Bullet] Using shooter_position, distance=544,67255
[04:29:31] [INFO] [Bullet] Distance to wall: 544,67255 (37,087757% of viewport)
[04:29:31] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:29:31] [ENEMY] [Enemy10] Ragdoll activated
[04:29:31] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[04:29:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(752.52094, 613.6781), shooter_id=1920420808712, bullet_pos=(53.930267, 350.167)
[04:29:31] [INFO] [Bullet] Using shooter_position, distance=746,63715
[04:29:31] [INFO] [Bullet] Distance to wall: 746,63715 (50,839893% of viewport)
[04:29:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(344.6291, 212.47267), shooter_id=1920420808712, bullet_pos=(522.7818, 595.96173)
[04:29:32] [INFO] [Bullet] Using shooter_position, distance=422,85016
[04:29:32] [INFO] [Bullet] Distance to wall: 422,85016 (28,792646% of viewport)
[04:29:32] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:29:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(351.6291, 212.47267), shooter_id=1920420808712, bullet_pos=(522.4089, 335.67133)
[04:29:32] [INFO] [Bullet] Using shooter_position, distance=210,5793
[04:29:32] [INFO] [Bullet] Distance to wall: 210,5793 (14,338732% of viewport)
[04:29:32] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:29:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(752.52094, 613.6781), shooter_id=1920420808712, bullet_pos=(228.6271, 260.41797)
[04:29:32] [INFO] [Bullet] Using shooter_position, distance=631,8682
[04:29:32] [INFO] [Bullet] Distance to wall: 631,8682 (43,02507% of viewport)
[04:29:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(351.6291, 212.47267), shooter_id=1920420808712, bullet_pos=(588.2077, 51.600555)
[04:29:32] [INFO] [Bullet] Using shooter_position, distance=286,09314
[04:29:32] [INFO] [Bullet] Distance to wall: 286,09314 (19,480608% of viewport)
[04:29:32] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:29:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(752.52094, 613.6781), shooter_id=1920420808712, bullet_pos=(55.440384, 202.91934)
[04:29:32] [INFO] [Bullet] Using shooter_position, distance=809,10077
[04:29:32] [INFO] [Bullet] Distance to wall: 809,10077 (55,093163% of viewport)
[04:29:32] [INFO] [Bullet] Distance-based penetration chance: 82,39131%
[04:29:32] [INFO] [Bullet] Starting wall penetration at (55.440384, 202.91934)
[04:29:32] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[04:29:32] [INFO] [Bullet] Exiting penetration at (36.6583, 196.68362) after traveling 14,790176 pixels through wall
[04:29:32] [INFO] [Bullet] Damage multiplier after penetration: 0,028125
[04:29:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(344.6291, 212.47267), shooter_id=1920420808712, bullet_pos=(936.3424, 55.500053)
[04:29:32] [INFO] [Bullet] Using shooter_position, distance=612,1806
[04:29:32] [INFO] [Bullet] Distance to wall: 612,1806 (41,684505% of viewport)
[04:29:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(344.6291, 212.47267), shooter_id=1920420808712, bullet_pos=(1073.9225, 241.31294)
[04:29:32] [INFO] [Bullet] Using shooter_position, distance=729,8634
[04:29:32] [INFO] [Bullet] Distance to wall: 729,8634 (49,697742% of viewport)
[04:29:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(344.6291, 212.47267), shooter_id=1920420808712, bullet_pos=(1017.9888, 297.0324)
[04:29:32] [INFO] [Bullet] Using shooter_position, distance=678,6484
[04:29:32] [INFO] [Bullet] Distance to wall: 678,6484 (46,21042% of viewport)
[04:29:33] [ENEMY] [Enemy10] Death animation completed
[04:29:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(344.6291, 212.47267), shooter_id=1920420808712, bullet_pos=(1362.9653, 578.1401)
[04:29:33] [INFO] [Bullet] Using shooter_position, distance=1081,9988
[04:29:33] [INFO] [Bullet] Distance to wall: 1081,9988 (73,675285% of viewport)
[04:29:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(344.6291, 212.47267), shooter_id=1920420808712, bullet_pos=(1238.8898, 687.34344)
[04:29:33] [INFO] [Bullet] Using shooter_position, distance=1012,5238
[04:29:33] [INFO] [Bullet] Distance to wall: 1012,5238 (68,94461% of viewport)
[04:29:34] [INFO] [ScoreManager] Combo ended at 1. Max combo: 4
[04:29:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1263.869, 91.67233), source=PLAYER (AssaultRifle), range=1469, listeners=5
[04:29:41] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=3
[04:29:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1278.678, 110.3614), source=PLAYER (AssaultRifle), range=1469, listeners=5
[04:29:41] [ENEMY] [Enemy5] Heard gunshot at (1278.678, 110.3614), source_type=0, intensity=0.01, distance=485
[04:29:41] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=2
[04:29:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1283.708, 142.1327), source=PLAYER (AssaultRifle), range=1469, listeners=5
[04:29:42] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=3
[04:29:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1278.678, 110.36137), shooter_id=1920420808712, bullet_pos=(1855.2051, 304.49265)
[04:29:42] [INFO] [Bullet] Using shooter_position, distance=608,33417
[04:29:42] [INFO] [Bullet] Distance to wall: 608,33417 (41,422592% of viewport)
[04:29:42] [ENEMY] [Enemy5] State: COMBAT -> RETREATING
[04:29:42] [ENEMY] [Enemy5] State: RETREATING -> IN_COVER
[04:29:42] [ENEMY] [Enemy5] State: IN_COVER -> SUPPRESSED
[04:29:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1283.7075, 142.13274), shooter_id=1920420808712, bullet_pos=(1875.0787, 284.78705)
[04:29:42] [INFO] [Bullet] Using shooter_position, distance=608,3339
[04:29:42] [INFO] [Bullet] Distance to wall: 608,3339 (41,422577% of viewport)
[04:29:42] [INFO] [Bullet] Distance-based penetration chance: 98,340324%
[04:29:42] [INFO] [Bullet] Starting wall penetration at (1875.0787, 284.78705)
[04:29:42] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[04:29:42] [INFO] [Bullet] Exiting penetration at (1920.4442, 295.7304) after traveling 41,666668 pixels through wall
[04:29:42] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[04:29:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1263.8693, 91.672325), shooter_id=1920420808712, bullet_pos=(2486.865, 579.4124)
[04:29:42] [INFO] [Bullet] Using shooter_position, distance=1316,6658
[04:29:42] [INFO] [Bullet] Distance to wall: 1316,6658 (89,6542% of viewport)
[04:29:42] [INFO] [Bullet] Distance-based penetration chance: 42,07011%
[04:29:42] [INFO] [Bullet] Starting wall penetration at (2486.865, 579.4124)
[04:29:42] [INFO] [Bullet] Raycast backward hit penetrating body at distance 36,83196
[04:29:42] [INFO] [Bullet] Body exited signal received for penetrating body
[04:29:42] [INFO] [Bullet] Exiting penetration at (2530.2117, 596.6994) after traveling 41,66667 pixels through wall
[04:29:42] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[04:29:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1684.065, 268.7182), source=ENEMY (Enemy5), range=1469, listeners=5
[04:29:42] [ENEMY] [Enemy6] Heard gunshot at (1684.065, 268.7182), source_type=1, intensity=0.02, distance=322
[04:29:42] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=3
[04:29:42] [ENEMY] [Enemy6] State: COMBAT -> RETREATING
[04:29:42] [ENEMY] [Enemy6] State: RETREATING -> IN_COVER
[04:29:42] [ENEMY] [Enemy6] State: IN_COVER -> SUPPRESSED
[04:29:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1684.065, 268.7182), source=ENEMY (Enemy5), range=1469, listeners=5
[04:29:43] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=3
[04:29:43] [ENEMY] [Enemy5] State: SUPPRESSED -> SEEKING_COVER
[04:29:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1684.065, 268.7182), source=ENEMY (Enemy5), range=1469, listeners=5
[04:29:43] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=3
[04:29:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1616.382, 258.6078), shooter_id=1918172661436, bullet_pos=(1366.897, 242.5724)
[04:29:43] [INFO] [Bullet] Using shooter_position, distance=249.999664306641
[04:29:43] [INFO] [Bullet] Distance to wall: 249.999664306641 (17.0229368514857% of viewport)
[04:29:43] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:29:43] [INFO] [Bullet] Starting wall penetration at (1366.897, 242.5724)
[04:29:43] [INFO] [Bullet] Raycast backward hit penetrating body at distance 43.7634582519531
[04:29:43] [INFO] [Bullet] Body exited signal received for penetrating body
[04:29:43] [INFO] [Bullet] Exiting penetration at (1320.327, 239.5791) after traveling 41.6666717529297 pixels through wall
[04:29:43] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[04:29:43] [INFO] [LastChance] Threat detected: @Area2D@3300
[04:29:43] [INFO] [LastChance] Effect already used this life
[04:29:43] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:29:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1320.201, 141.8644), source=PLAYER (AssaultRifle), range=1469, listeners=5
[04:29:43] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=3
[04:29:43] [INFO] [LastChance] Threat detected: @Area2D@3301
[04:29:43] [INFO] [LastChance] Effect already used this life
[04:29:43] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:29:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1698.436, 283.5163), source=ENEMY (Enemy5), range=1469, listeners=5
[04:29:43] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=3
[04:29:43] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[04:29:43] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[04:29:43] [INFO] [PenultimateHit] Player died - ending penultimate effect
[04:29:43] [INFO] [LastChance] Player died
[04:29:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1290.555, 130.3259), source=PLAYER (AssaultRifle), range=1469, listeners=5
[04:29:43] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=3
[04:29:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1320.2007, 141.8644), shooter_id=1920420808712, bullet_pos=(1647.891, 286.85318)
[04:29:43] [INFO] [Bullet] Using shooter_position, distance=358,33322
[04:29:43] [INFO] [Bullet] Distance to wall: 358,33322 (24,399569% of viewport)
[04:29:43] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:29:43] [INFO] [LastChance] Threat detected: @Area2D@3305
[04:29:43] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[04:29:43] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:29:43] [ENEMY] [Enemy5] Hit taken, health: 3/4
[04:29:43] [ENEMY] [Enemy5] ImpactEffectsManager found, calling spawn_blood_effect
[04:29:43] [INFO] [ImpactEffects] spawn_blood_effect called at (1698.436, 283.5163), dir=(1, 0), lethal=false
[04:29:43] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[04:29:43] [INFO] [ImpactEffects] Blood decals scheduled: 29 (5 merged splatters, 12 satellite drops)
[04:29:43] [INFO] [ImpactEffects] Blood effect spawned at (1698.436, 283.5163) (scale=1)
[04:29:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1698.436, 283.5163), source=ENEMY (Enemy5), range=1469, listeners=5
[04:29:43] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=3
[04:29:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1616.927, 255.7577), shooter_id=1918172661436, bullet_pos=(943.3525, 65.23862)
[04:29:43] [INFO] [Bullet] Using shooter_position, distance=700.000427246094
[04:29:43] [INFO] [Bullet] Distance to wall: 700.000427246094 (47.6643162784709% of viewport)
[04:29:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1263.871, 133.0335), source=PLAYER (AssaultRifle), range=1469, listeners=5
[04:29:43] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=3
[04:29:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1290.5546, 130.32587), shooter_id=1920420808712, bullet_pos=(1605.1149, 283.79236)
[04:29:43] [INFO] [Bullet] Using shooter_position, distance=350,0002
[04:29:43] [INFO] [Bullet] Distance to wall: 350,0002 (23,832159% of viewport)
[04:29:43] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:29:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1698.436, 283.5163), source=ENEMY (Enemy5), range=1469, listeners=5
[04:29:43] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=3
[04:29:43] [INFO] [LastChance] Threat detected: @Area2D@3310
[04:29:43] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[04:29:43] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:29:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1263.8706, 133.03351), shooter_id=1920420808712, bullet_pos=(1661.6093, 282.7968)
[04:29:43] [INFO] [Bullet] Using shooter_position, distance=425,0001
[04:29:43] [INFO] [Bullet] Distance to wall: 425,0001 (28,93904% of viewport)
[04:29:43] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:29:43] [INFO] [LastChance] Threat detected: @Area2D@3315
[04:29:43] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[04:29:43] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:29:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1629.812, 264.8563), shooter_id=1918172661436, bullet_pos=(1100.671, 62.07418)
[04:29:43] [INFO] [Bullet] Using shooter_position, distance=566.666931152344
[04:29:43] [INFO] [Bullet] Distance to wall: 566.666931152344 (38.5853933507675% of viewport)
[04:29:43] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:29:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1616.927, 255.7577), shooter_id=1918172661436, bullet_pos=(507.4162, 206.7618)
[04:29:43] [INFO] [Bullet] Using shooter_position, distance=1110.59252929688
[04:29:43] [INFO] [Bullet] Distance to wall: 1110.59252929688 (75.622287519409% of viewport)
[04:29:43] [INFO] [Bullet] Distance-based penetration chance: 58.4406645606895%
[04:29:43] [INFO] [Bullet] Starting wall penetration at (507.4162, 206.7618)
[04:29:43] [ENEMY] [Enemy5] Hit taken, health: 2/4
[04:29:43] [ENEMY] [Enemy5] ImpactEffectsManager found, calling spawn_blood_effect
[04:29:43] [INFO] [ImpactEffects] spawn_blood_effect called at (1693.008, 302.9426), dir=(1, 0), lethal=false
[04:29:43] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[04:29:43] [INFO] [ImpactEffects] Blood decals scheduled: 17 (5 merged splatters, 0 satellite drops)
[04:29:43] [INFO] [ImpactEffects] Blood effect spawned at (1693.008, 302.9426) (scale=1)
[04:29:43] [ENEMY] [Enemy5] State: SEEKING_COVER -> IN_COVER
[04:29:43] [INFO] [Bullet] Raycast backward hit penetrating body at distance 25.5361099243164
[04:29:43] [INFO] [Bullet] Body exited signal received for penetrating body
[04:29:43] [INFO] [Bullet] Exiting penetration at (475.7117, 217.0544) after traveling 28.3333339691162 pixels through wall
[04:29:43] [INFO] [Bullet] Damage multiplier after penetration: 0.45
[04:29:43] [ENEMY] [Enemy5] State: IN_COVER -> SUPPRESSED
[04:29:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1290.5546, 130.32587), shooter_id=1920420808712, bullet_pos=(2008.5215, 66.23122)
[04:29:43] [INFO] [Bullet] Using shooter_position, distance=720,8222
[04:29:43] [INFO] [Bullet] Distance to wall: 720,8222 (49,08211% of viewport)
[04:29:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1629.674, 267.7834), shooter_id=1918172661436, bullet_pos=(1030.435, 62.78622)
[04:29:43] [INFO] [Bullet] Using shooter_position, distance=633.334228515625
[04:29:43] [INFO] [Bullet] Distance to wall: 633.334228515625 (43.1248922185834% of viewport)
[04:29:43] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[04:29:43] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[04:29:43] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[04:29:43] [INFO] [LastChance] Resetting all effects (scene change detected)
[04:29:43] [ENEMY] [Enemy1] Death animation component initialized
[04:29:43] [ENEMY] [Enemy2] Death animation component initialized
[04:29:43] [ENEMY] [Enemy3] Death animation component initialized
[04:29:43] [ENEMY] [Enemy4] Death animation component initialized
[04:29:43] [ENEMY] [Enemy5] Death animation component initialized
[04:29:43] [ENEMY] [Enemy6] Death animation component initialized
[04:29:43] [ENEMY] [Enemy7] Death animation component initialized
[04:29:43] [ENEMY] [Enemy8] Death animation component initialized
[04:29:43] [ENEMY] [Enemy9] Death animation component initialized
[04:29:43] [ENEMY] [Enemy10] Death animation component initialized
[04:29:43] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[04:29:43] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[04:29:43] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[04:29:43] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[04:29:43] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[04:29:43] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[04:29:43] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[04:29:43] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[04:29:43] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[04:29:43] [INFO] [ScoreManager] Level started with 10 enemies
[04:29:43] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 6)
[04:29:43] [ENEMY] [Enemy1] Registered as sound listener
[04:29:43] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[04:29:43] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 7)
[04:29:43] [ENEMY] [Enemy2] Registered as sound listener
[04:29:43] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[04:29:43] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 8)
[04:29:43] [ENEMY] [Enemy3] Registered as sound listener
[04:29:43] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[04:29:43] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 9)
[04:29:43] [ENEMY] [Enemy4] Registered as sound listener
[04:29:43] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[04:29:43] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 10)
[04:29:43] [ENEMY] [Enemy5] Registered as sound listener
[04:29:43] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[04:29:43] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 11)
[04:29:43] [ENEMY] [Enemy6] Registered as sound listener
[04:29:43] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[04:29:43] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 12)
[04:29:43] [ENEMY] [Enemy7] Registered as sound listener
[04:29:43] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[04:29:43] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 13)
[04:29:43] [ENEMY] [Enemy8] Registered as sound listener
[04:29:43] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[04:29:43] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 14)
[04:29:43] [ENEMY] [Enemy9] Registered as sound listener
[04:29:43] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[04:29:43] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 15)
[04:29:43] [ENEMY] [Enemy10] Registered as sound listener
[04:29:43] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[04:29:43] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[04:29:43] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[04:29:43] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[04:29:43] [INFO] [LastChance] Found player: Player
[04:29:43] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[04:29:43] [INFO] [LastChance] Connected to player Damaged signal (C#)
[04:29:43] [INFO] [LastChance] Connected to player Died signal (C#)
[04:29:43] [INFO] [Player] Detecting weapon pose (frame 3)...
[04:29:43] [INFO] [Player] Detected weapon: Rifle (default pose)
[04:29:43] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[04:29:44] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[04:29:44] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[04:29:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1171.695, 1535.076), source=ENEMY (Enemy10), range=1469, listeners=15
[04:29:44] [INFO] [SoundPropagation] Cleaned up 5 invalid listeners
[04:29:44] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=8
[04:29:44] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[04:29:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1139.373, 1516.399), source=ENEMY (Enemy10), range=1469, listeners=10
[04:29:44] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[04:29:44] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[04:29:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1107.877, 1496.362), source=ENEMY (Enemy10), range=1469, listeners=10
[04:29:44] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[04:29:44] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[04:29:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1077.258, 1475.007), source=ENEMY (Enemy10), range=1469, listeners=10
[04:29:44] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[04:29:44] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[04:29:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1108.799, 1509.101), shooter_id=3159384656272, bullet_pos=(52.18972, 922.8882)
[04:29:44] [INFO] [Bullet] Using shooter_position, distance=1208.33312988281
[04:29:44] [INFO] [Bullet] Distance to wall: 1208.33312988281 (82.2776247424219% of viewport)
[04:29:44] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[04:29:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1077.643, 1487.764), shooter_id=3159384656272, bullet_pos=(47.00999, 856.9995)
[04:29:44] [INFO] [Bullet] Using shooter_position, distance=1208.33276367188
[04:29:44] [INFO] [Bullet] Distance to wall: 1208.33276367188 (82.2775998064458% of viewport)
[04:29:44] [INFO] [Bullet] Distance-based penetration chance: 50.6761335591466%
[04:29:44] [INFO] [Bullet] Starting wall penetration at (47.00999, 856.9995)
[04:29:44] [INFO] [Bullet] Raycast backward hit penetrating body at distance 29.0686626434326
[04:29:44] [INFO] [Bullet] Body exited signal received for penetrating body
[04:29:44] [INFO] [Bullet] Exiting penetration at (7.20623, 832.6389) after traveling 41.6666717529297 pixels through wall
[04:29:44] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[04:29:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1108.799, 1509.101), shooter_id=3159384656272, bullet_pos=(384.7909, 710.5857)
[04:29:45] [INFO] [Bullet] Using shooter_position, distance=1077.87512207031
[04:29:45] [INFO] [Bullet] Distance to wall: 1077.87512207031 (73.3944990993454% of viewport)
[04:29:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1047.42, 1465.128), shooter_id=3159384656272, bullet_pos=(44.53316, 791.1189)
[04:29:45] [INFO] [Bullet] Using shooter_position, distance=1208.33349609375
[04:29:45] [INFO] [Bullet] Distance to wall: 1208.33349609375 (82.277649678398% of viewport)
[04:29:45] [INFO] [Bullet] Distance-based penetration chance: 50.6760753752023%
[04:29:45] [INFO] [Bullet] Starting wall penetration at (44.53316, 791.1189)
[04:29:45] [INFO] [Bullet] Raycast backward hit penetrating body at distance 31.5660209655762
[04:29:45] [INFO] [Bullet] Body exited signal received for penetrating body
[04:29:45] [INFO] [Bullet] Exiting penetration at (5.800991, 765.0882) after traveling 41.6666679382324 pixels through wall
[04:29:45] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[04:29:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1018.173, 1441.25), shooter_id=3159384656272, bullet_pos=(44.61947, 725.5242)
[04:29:45] [INFO] [Bullet] Using shooter_position, distance=1208.33337402344
[04:29:45] [INFO] [Bullet] Distance to wall: 1208.33337402344 (82.277641366406% of viewport)
[04:29:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1108.799, 1509.101), shooter_id=3159384656272, bullet_pos=(693.2162, 844.2564)
[04:29:45] [INFO] [Bullet] Using shooter_position, distance=784.045776367188
[04:29:45] [INFO] [Bullet] Distance to wall: 784.045776367188 (53.3871186458958% of viewport)
[04:29:45] [INFO] [Bullet] Distance-based penetration chance: 84.3816949131216%
[04:29:45] [INFO] [Bullet] Starting wall penetration at (693.2162, 844.2564)
[04:29:45] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[04:29:45] [INFO] [Bullet] Exiting penetration at (725.4254, 858.2158) after traveling 30.1041698455811 pixels through wall
[04:29:45] [INFO] [Bullet] Damage multiplier after penetration: 0.225
[04:29:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1018.173, 1441.25), shooter_id=3159384656272, bullet_pos=(110.5174, 687.9988)
[04:29:45] [INFO] [Bullet] Using shooter_position, distance=1179.50231933594
[04:29:45] [INFO] [Bullet] Distance to wall: 1179.50231933594 (80.3144818370993% of viewport)
[04:29:45] [INFO] [Bullet] Distance-based penetration chance: 52.9664378567175%
[04:29:45] [INFO] [Bullet] Penetration failed (distance roll)
[04:29:45] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[04:29:45] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[04:29:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450.5342, 788.1198), source=PLAYER (AssaultRifle), range=1469, listeners=10
[04:29:45] [ENEMY] [Enemy1] Heard gunshot at (450.5342, 788.1198), source_type=0, intensity=0.01, distance=463
[04:29:45] [ENEMY] [Enemy2] Heard gunshot at (450.5342, 788.1198), source_type=0, intensity=0.04, distance=243
[04:29:45] [ENEMY] [Enemy4] Heard gunshot at (450.5342, 788.1198), source_type=0, intensity=0.02, distance=367
[04:29:45] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[04:29:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(479.0334, 763.9758), source=PLAYER (AssaultRifle), range=1469, listeners=10
[04:29:45] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[04:29:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(450.53418, 788.1198), shooter_id=3160206740181, bullet_pos=(924.5319, 693.5824)
[04:29:45] [INFO] [Bullet] Using shooter_position, distance=483,3334
[04:29:45] [INFO] [Bullet] Distance to wall: 483,3334 (32,911064% of viewport)
[04:29:45] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:29:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(513.4005, 753.9979), source=PLAYER (AssaultRifle), range=1469, listeners=10
[04:29:45] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=2, self=0, below_threshold=4
[04:29:45] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[04:29:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(640.452, 801.1329), source=ENEMY (Enemy3), range=1469, listeners=10
[04:29:45] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[04:29:45] [INFO] [LastChance] Threat detected: @Area2D@3632
[04:29:45] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[04:29:45] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:29:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(479.03342, 763.97577), shooter_id=3160206740181, bullet_pos=(914.99854, 693.23773)
[04:29:45] [INFO] [Bullet] Using shooter_position, distance=441,6667
[04:29:45] [INFO] [Bullet] Distance to wall: 441,6667 (30,073898% of viewport)
[04:29:45] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:29:45] [INFO] [Bullet] Starting wall penetration at (914.99854, 693.23773)
[04:29:45] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[04:29:45] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[04:29:45] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[04:29:45] [INFO] [Bullet] Raycast backward hit penetrating body at distance 25,390516
[04:29:45] [INFO] [Bullet] Body exited signal received for penetrating body
[04:29:45] [INFO] [Bullet] Exiting penetration at (961.06274, 685.76355) after traveling 41,666676 pixels through wall
[04:29:45] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[04:29:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(479.03342, 763.97577), shooter_id=3160206740181, bullet_pos=(961.06274, 685.76355)
[04:29:45] [INFO] [Bullet] Using shooter_position, distance=488,3333
[04:29:45] [INFO] [Bullet] Distance to wall: 488,3333 (33,251514% of viewport)
[04:29:45] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:29:45] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[04:29:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(547.605, 759.3776), source=PLAYER (AssaultRifle), range=1469, listeners=10
[04:29:45] [ENEMY] [Enemy3] Heard gunshot at (547.605, 759.3776), source_type=0, intensity=0.37, distance=82
[04:29:45] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=2, self=0, below_threshold=4
[04:29:45] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[04:29:45] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[04:29:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(513.40045, 753.9979), shooter_id=3160206740181, bullet_pos=(912.8874, 733.745)
[04:29:45] [INFO] [Bullet] Using shooter_position, distance=400
[04:29:45] [INFO] [Bullet] Distance to wall: 400 (27,236736% of viewport)
[04:29:45] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:29:45] [INFO] [Bullet] Starting wall penetration at (912.8874, 733.745)
[04:29:45] [INFO] [Bullet] Raycast backward hit penetrating body at distance 23,524376
[04:29:46] [INFO] [Bullet] Body exited signal received for penetrating body
[04:29:46] [INFO] [Bullet] Exiting penetration at (959.4942, 731.38214) after traveling 41,66667 pixels through wall
[04:29:46] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[04:29:46] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[04:29:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=10
[04:29:46] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=1, below_threshold=3
[04:29:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(572.4783, 777.3635), source=PLAYER (AssaultRifle), range=1469, listeners=10
[04:29:46] [ENEMY] [Enemy3] Heard gunshot at (572.4783, 777.3635), source_type=0, intensity=0.65, distance=62
[04:29:46] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=2, self=0, below_threshold=4
[04:29:46] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[04:29:46] [INFO] [LastChance] Threat detected: @Area2D@3638
[04:29:46] [INFO] [LastChance] Triggering last chance effect!
[04:29:46] [INFO] [LastChance] Starting last chance effect:
[04:29:46] [INFO] [LastChance]   - Time will be frozen (except player)
[04:29:46] [INFO] [LastChance]   - Duration: 6.0 real seconds
[04:29:46] [INFO] [LastChance]   - Sepia intensity: 0.70
[04:29:46] [INFO] [LastChance]   - Brightness: 0.60
[04:29:46] [INFO] [LastChance] Pushed bullet @Area2D@3638 from distance 134.2 to 200.0
[04:29:46] [INFO] [LastChance] Pushed bullet @Area2D@3640 from distance 64.5 to 200.0
[04:29:46] [INFO] [LastChance] Pushed 2 threatening bullets away from player
[04:29:46] [INFO] [LastChance] Set player Player and all 18 children to PROCESS_MODE_ALWAYS
[04:29:46] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[04:29:46] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[04:29:46] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[04:29:46] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[04:29:46] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[04:29:46] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[04:29:46] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[04:29:46] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[04:29:46] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[04:29:46] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[04:29:46] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[04:29:46] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[04:29:46] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[04:29:46] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[04:29:46] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[04:29:46] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[04:29:46] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[04:29:46] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[04:29:46] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[04:29:46] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[04:29:46] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[04:29:46] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[04:29:46] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[04:29:46] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[04:29:46] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[04:29:46] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[04:29:46] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[04:29:46] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[04:29:46] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[04:29:46] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[04:29:46] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[04:29:46] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[04:29:46] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[04:29:46] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[04:29:46] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[04:29:46] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[04:29:46] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[04:29:46] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[04:29:46] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[04:29:46] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[04:29:46] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[04:29:46] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[04:29:46] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[04:29:46] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[04:29:46] [INFO] [LastChance] Skipping player node: Player
[04:29:46] [INFO] [LastChance] Froze existing bullet casing: Casing
[04:29:46] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3615
[04:29:46] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3617
[04:29:46] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3619
[04:29:46] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3626
[04:29:46] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3628
[04:29:46] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3631
[04:29:46] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3633
[04:29:46] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3636
[04:29:46] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3639
[04:29:46] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@3641
[04:29:46] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[04:29:46] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[04:29:46] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[04:29:46] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@3642
[04:29:46] [INFO] [LastChance] Registered frozen player bullet: @Area2D@3642
[04:29:46] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@3643
[04:29:46] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@3643
[04:29:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(584.7509, 805.7417), source=PLAYER (AssaultRifle), range=1469, listeners=10
[04:29:46] [ENEMY] [Enemy3] Heard gunshot at (584.7509, 805.7417), source_type=0, intensity=1.00, distance=43
[04:29:46] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=6
[04:29:46] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@3644
[04:29:46] [INFO] [LastChance] Registered frozen player bullet: @Area2D@3644
[04:29:46] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@3645
[04:29:46] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@3645
[04:29:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(586.1532, 843.0851), source=PLAYER (AssaultRifle), range=1469, listeners=10
[04:29:46] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=6
[04:29:46] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@3646
[04:29:46] [INFO] [LastChance] Registered frozen player bullet: @Area2D@3646
[04:29:46] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@3647
[04:29:46] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@3647
[04:29:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(586.1532, 881.5851), source=PLAYER (AssaultRifle), range=1469, listeners=10
[04:29:46] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=6
[04:29:46] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@3648
[04:29:46] [INFO] [LastChance] Registered frozen player bullet: @Area2D@3648
[04:29:46] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@3649
[04:29:46] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@3649
[04:29:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(589.2328, 918.8095), source=PLAYER (AssaultRifle), range=1469, listeners=10
[04:29:46] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=6
[04:29:46] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@3650
[04:29:46] [INFO] [LastChance] Registered frozen player bullet: @Area2D@3650
[04:29:46] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@3651
[04:29:46] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@3651
[04:29:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(605.3571, 948.7441), source=PLAYER (AssaultRifle), range=1469, listeners=10
[04:29:46] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=6
[04:29:47] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@3652
[04:29:47] [INFO] [LastChance] Registered frozen player bullet: @Area2D@3652
[04:29:47] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@3653
[04:29:47] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@3653
[04:29:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(730.5775, 929.5028), source=PLAYER (AssaultRifle), range=1469, listeners=10
[04:29:47] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=7
[04:29:47] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@3654
[04:29:47] [INFO] [LastChance] Registered frozen player bullet: @Area2D@3654
[04:29:47] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@3655
[04:29:47] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@3655
[04:29:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(757.8011, 912.0651), source=PLAYER (AssaultRifle), range=1469, listeners=10
[04:29:47] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=7
[04:29:47] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@3656
[04:29:47] [INFO] [LastChance] Registered frozen player bullet: @Area2D@3656
[04:29:47] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@3657
[04:29:47] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@3657
[04:29:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(785.0248, 905.0651), source=PLAYER (AssaultRifle), range=1469, listeners=10
[04:29:47] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=8
[04:29:47] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@3658
[04:29:47] [INFO] [LastChance] Registered frozen player bullet: @Area2D@3658
[04:29:47] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@3659
[04:29:47] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@3659
[04:29:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(811.9405, 882.1593), source=PLAYER (AssaultRifle), range=1469, listeners=10
[04:29:47] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=8
[04:29:49] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@3660
[04:29:49] [INFO] [LastChance] Registered frozen player bullet: @Area2D@3660
[04:29:49] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@3661
[04:29:49] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@3661
[04:29:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(451.4388, 640.8837), source=PLAYER (AssaultRifle), range=1469, listeners=10
[04:29:49] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[04:29:49] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@3662
[04:29:49] [INFO] [LastChance] Registered frozen player bullet: @Area2D@3662
[04:29:49] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@3663
[04:29:49] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@3663
[04:29:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(412.9388, 640.8837), source=PLAYER (AssaultRifle), range=1469, listeners=10
[04:29:49] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[04:29:49] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@3664
[04:29:49] [INFO] [LastChance] Registered frozen player bullet: @Area2D@3664
[04:29:49] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@3665
[04:29:49] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@3665
[04:29:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(374.4388, 640.8837), source=PLAYER (AssaultRifle), range=1469, listeners=10
[04:29:49] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[04:29:49] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@3666
[04:29:49] [INFO] [LastChance] Registered frozen player bullet: @Area2D@3666
[04:29:49] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@3667
[04:29:49] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@3667
[04:29:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(335.9388, 640.8837), source=PLAYER (AssaultRifle), range=1469, listeners=10
[04:29:49] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[04:29:50] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@3668
[04:29:50] [INFO] [LastChance] Registered frozen player bullet: @Area2D@3668
[04:29:50] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@3669
[04:29:50] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@3669
[04:29:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(114.126, 439.1292), source=PLAYER (AssaultRifle), range=1469, listeners=10
[04:29:50] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=3
[04:29:50] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@3670
[04:29:50] [INFO] [LastChance] Registered frozen player bullet: @Area2D@3670
[04:29:50] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@3671
[04:29:50] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@3671
[04:29:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(114.126, 400.6292), source=PLAYER (AssaultRifle), range=1469, listeners=10
[04:29:50] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=3
[04:29:51] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@3672
[04:29:51] [INFO] [LastChance] Registered frozen player bullet: @Area2D@3672
[04:29:51] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@3673
[04:29:51] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@3673
[04:29:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(114.126, 362.1292), source=PLAYER (AssaultRifle), range=1469, listeners=10
[04:29:51] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=3
[04:29:51] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@3674
[04:29:51] [INFO] [LastChance] Registered frozen player bullet: @Area2D@3674
[04:29:51] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@3675
[04:29:51] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@3675
[04:29:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(114.126, 323.6292), source=PLAYER (AssaultRifle), range=1469, listeners=10
[04:29:51] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=3
[04:29:52] [INFO] [LastChance] Effect duration expired after 6.00 real seconds
[04:29:52] [INFO] [LastChance] Ending last chance effect
[04:29:52] [INFO] [LastChance] All process modes restored
[04:29:52] [INFO] [LastChance] Unfroze player bullet: @Area2D@3642
[04:29:52] [INFO] [LastChance] Unfroze player bullet: @Area2D@3644
[04:29:52] [INFO] [LastChance] Unfroze player bullet: @Area2D@3646
[04:29:52] [INFO] [LastChance] Unfroze player bullet: @Area2D@3648
[04:29:52] [INFO] [LastChance] Unfroze player bullet: @Area2D@3650
[04:29:52] [INFO] [LastChance] Unfroze player bullet: @Area2D@3652
[04:29:52] [INFO] [LastChance] Unfroze player bullet: @Area2D@3654
[04:29:52] [INFO] [LastChance] Unfroze player bullet: @Area2D@3656
[04:29:52] [INFO] [LastChance] Unfroze player bullet: @Area2D@3658
[04:29:52] [INFO] [LastChance] Unfroze player bullet: @Area2D@3660
[04:29:52] [INFO] [LastChance] Unfroze player bullet: @Area2D@3662
[04:29:52] [INFO] [LastChance] Unfroze player bullet: @Area2D@3664
[04:29:52] [INFO] [LastChance] Unfroze player bullet: @Area2D@3666
[04:29:52] [INFO] [LastChance] Unfroze player bullet: @Area2D@3668
[04:29:52] [INFO] [LastChance] Unfroze player bullet: @Area2D@3670
[04:29:52] [INFO] [LastChance] Unfroze player bullet: @Area2D@3672
[04:29:52] [INFO] [LastChance] Unfroze player bullet: @Area2D@3674
[04:29:52] [INFO] [LastChance] Unfroze bullet casing: Casing
[04:29:52] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3615
[04:29:52] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3617
[04:29:52] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3619
[04:29:52] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3626
[04:29:52] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3628
[04:29:52] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3631
[04:29:52] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3633
[04:29:52] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3636
[04:29:52] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3639
[04:29:52] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3641
[04:29:52] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3643
[04:29:52] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3645
[04:29:52] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3647
[04:29:52] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3649
[04:29:52] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3651
[04:29:52] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3653
[04:29:52] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3655
[04:29:52] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3657
[04:29:52] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3659
[04:29:52] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3661
[04:29:52] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3663
[04:29:52] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3665
[04:29:52] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3667
[04:29:52] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3669
[04:29:52] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3671
[04:29:52] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3673
[04:29:52] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@3675
[04:29:52] [INFO] [LastChance] Restored original colors to 5 player sprites
[04:29:52] [INFO] [LastChance] Called player RefreshHealthVisual (C#)
[04:29:52] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[04:29:52] [ENEMY] [Enemy4] Hit taken, health: 1/2
[04:29:52] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[04:29:52] [INFO] [ImpactEffects] spawn_blood_effect called at (745.507, 914.0656), dir=(1, 0), lethal=false
[04:29:52] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[04:29:52] [INFO] [ImpactEffects] Blood decals scheduled: 24 (3 merged splatters, 5 satellite drops)
[04:29:52] [INFO] [ImpactEffects] Blood effect spawned at (745.507, 914.0656) (scale=1)
[04:29:52] [ENEMY] [Enemy3] Hit taken, health: 1/2
[04:29:52] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[04:29:52] [INFO] [ImpactEffects] spawn_blood_effect called at (629.6884, 816.3079), dir=(1, 0), lethal=false
[04:29:52] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[04:29:52] [INFO] [ImpactEffects] Blood decals scheduled: 25 (3 merged splatters, 6 satellite drops)
[04:29:52] [INFO] [ImpactEffects] Wall found for blood splatter at (680, 816.3079) (dist=50 px)
[04:29:52] [INFO] [ImpactEffects] Blood effect spawned at (629.6884, 816.3079) (scale=1)
[04:29:52] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[04:29:52] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[04:29:52] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[04:29:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(114.12595, 439.12918), shooter_id=3160206740181, bullet_pos=(222.4479, 437.55887)
[04:29:52] [INFO] [Bullet] Using shooter_position, distance=108,333336
[04:29:52] [INFO] [Bullet] Distance to wall: 108,333336 (7,3766165% of viewport)
[04:29:52] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:29:52] [INFO] [Bullet] Starting wall penetration at (222.4479, 437.55887)
[04:29:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(586.1532, 843.08514), shooter_id=3160206740181, bullet_pos=(691.9239, 866.5091)
[04:29:52] [INFO] [Bullet] Using shooter_position, distance=108,33338
[04:29:52] [INFO] [Bullet] Distance to wall: 108,33338 (7,3766193% of viewport)
[04:29:52] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:29:52] [INFO] [Bullet] Starting wall penetration at (691.9239, 866.5091)
[04:29:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(435.2285, 608.2198), shooter_id=3157102953823, bullet_pos=(493.7834, 690.6292)
[04:29:52] [INFO] [Bullet] Using shooter_position, distance=101.09391784668
[04:29:52] [INFO] [Bullet] Distance to wall: 101.09391784668 (6.88367076150351% of viewport)
[04:29:52] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:29:52] [ENEMY] [Enemy1] Hit taken, health: 1/2
[04:29:52] [ENEMY] [Enemy1] ImpactEffectsManager found, calling spawn_blood_effect
[04:29:52] [INFO] [ImpactEffects] spawn_blood_effect called at (239.1306, 401.9335), dir=(1, 0), lethal=false
[04:29:52] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[04:29:52] [INFO] [ImpactEffects] Blood decals scheduled: 25 (3 merged splatters, 6 satellite drops)
[04:29:52] [INFO] [ImpactEffects] Blood effect spawned at (239.1306, 401.9335) (scale=1)
[04:29:52] [ENEMY] [Enemy1] Hit taken, health: 0/2
[04:29:52] [ENEMY] [Enemy1] ImpactEffectsManager found, calling spawn_blood_effect
[04:29:52] [INFO] [ImpactEffects] spawn_blood_effect called at (239.1306, 401.9335), dir=(1, 0), lethal=true
[04:29:52] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[04:29:52] [INFO] [ImpactEffects] Blood decals scheduled: 50 (10 merged splatters, 15 satellite drops)
[04:29:52] [INFO] [ImpactEffects] Blood effect spawned at (239.1306, 401.9335) (scale=1.5)
[04:29:52] [ENEMY] [Enemy1] Enemy died (ricochet: false, penetration: false)
[04:29:52] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[04:29:52] [INFO] [SoundPropagation] Unregistered listener: Enemy1 (remaining: 9)
[04:29:52] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[04:29:52] [ENEMY] [Enemy1] Death animation started with hit direction: (1, 0)
[04:29:52] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[04:29:52] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[04:29:52] [INFO] [Bullet] Exiting penetration at (729.3504, 874.7976) after traveling 33,333336 pixels through wall
[04:29:52] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[04:29:52] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[04:29:52] [INFO] [Bullet] Exiting penetration at (260.77722, 437.0032) after traveling 33,333336 pixels through wall
[04:29:52] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[04:29:52] [ENEMY] [Enemy4] Hit taken, health: 0/2
[04:29:52] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[04:29:52] [INFO] [ImpactEffects] spawn_blood_effect called at (748.7488, 914.0656), dir=(1, 0), lethal=true
[04:29:52] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[04:29:52] [INFO] [ImpactEffects] Blood decals scheduled: 44 (10 merged splatters, 9 satellite drops)
[04:29:52] [INFO] [ImpactEffects] Blood effect spawned at (748.7488, 914.0656) (scale=1.5)
[04:29:52] [ENEMY] [Enemy4] Enemy died (ricochet: false, penetration: false)
[04:29:52] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[04:29:52] [INFO] [SoundPropagation] Unregistered listener: Enemy4 (remaining: 8)
[04:29:52] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[04:29:52] [ENEMY] [Enemy4] Death animation started with hit direction: (1, 0)
[04:29:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(412.93878, 640.8837), shooter_id=3160206740181, bullet_pos=(501.06476, 489.69244)
[04:29:52] [INFO] [Bullet] Using shooter_position, distance=174,99998
[04:29:52] [INFO] [Bullet] Distance to wall: 174,99998 (11,916071% of viewport)
[04:29:52] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:29:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(785.0248, 905.06506), shooter_id=3160206740181, bullet_pos=(637.3944, 999.0344)
[04:29:52] [INFO] [Bullet] Using shooter_position, distance=174,99991
[04:29:52] [INFO] [Bullet] Distance to wall: 174,99991 (11,916066% of viewport)
[04:29:52] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:29:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(572.4783, 777.36346), shooter_id=3160206740181, bullet_pos=(921.18884, 825.7332)
[04:29:52] [INFO] [Bullet] Using shooter_position, distance=352,0493
[04:29:52] [INFO] [Bullet] Distance to wall: 352,0493 (23,971684% of viewport)
[04:29:52] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:29:52] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[04:29:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=8
[04:29:52] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[04:29:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(335.93878, 640.8837), shooter_id=3160206740181, bullet_pos=(501.15213, 513.9691)
[04:29:52] [INFO] [Bullet] Using shooter_position, distance=208,33331
[04:29:52] [INFO] [Bullet] Distance to wall: 208,33331 (14,185799% of viewport)
[04:29:52] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:29:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(374.43878, 640.8837), shooter_id=3160206740181, bullet_pos=(516.9058, 488.87747)
[04:29:52] [INFO] [Bullet] Using shooter_position, distance=208,33328
[04:29:52] [INFO] [Bullet] Distance to wall: 208,33328 (14,185797% of viewport)
[04:29:52] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:29:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(757.8011, 912.06506), shooter_id=3160206740181, bullet_pos=(519.5311, 952.441)
[04:29:52] [INFO] [Bullet] Using shooter_position, distance=241,66669
[04:29:52] [INFO] [Bullet] Distance to wall: 241,66669 (16,45553% of viewport)
[04:29:52] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:29:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(730.57745, 929.5028), shooter_id=3160206740181, bullet_pos=(917.55853, 684.33435)
[04:29:52] [INFO] [Bullet] Using shooter_position, distance=308,33344
[04:29:52] [INFO] [Bullet] Distance to wall: 308,33344 (20,994991% of viewport)
[04:29:52] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:29:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(605.3571, 948.74414), shooter_id=3160206740181, bullet_pos=(913.54517, 958.21375)
[04:29:52] [INFO] [Bullet] Using shooter_position, distance=308,3335
[04:29:52] [INFO] [Bullet] Distance to wall: 308,3335 (20,994995% of viewport)
[04:29:52] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:29:52] [INFO] [Bullet] Starting wall penetration at (913.54517, 958.21375)
[04:29:52] [INFO] [Bullet] Raycast backward hit penetrating body at distance 15,867899
[04:29:52] [INFO] [Bullet] Body exited signal received for penetrating body
[04:29:52] [INFO] [Bullet] Exiting penetration at (951.8604, 959.39105) after traveling 33,333336 pixels through wall
[04:29:52] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[04:29:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(785.0248, 905.06506), shooter_id=3160206740181, bullet_pos=(507.02756, 931.83606)
[04:29:52] [INFO] [Bullet] Using shooter_position, distance=279,28326
[04:29:52] [INFO] [Bullet] Distance to wall: 279,28326 (19,01691% of viewport)
[04:29:52] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:29:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(589.2328, 918.8095), shooter_id=3160206740181, bullet_pos=(929.9184, 944.68036)
[04:29:52] [INFO] [Bullet] Using shooter_position, distance=341,66647
[04:29:52] [INFO] [Bullet] Distance to wall: 341,66647 (23,264698% of viewport)
[04:29:52] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:29:52] [INFO] [Bullet] Starting wall penetration at (929.9184, 944.68036)
[04:29:52] [INFO] [Bullet] Raycast backward hit penetrating body at distance 32,234203
[04:29:52] [INFO] [LastChance] Threat detected: @Area2D@3686
[04:29:52] [INFO] [LastChance] Effect already used this life
[04:29:52] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:29:52] [INFO] [Bullet] Body exited signal received for penetrating body
[04:29:52] [INFO] [Bullet] Exiting penetration at (968.14166, 947.58295) after traveling 33,333332 pixels through wall
[04:29:52] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[04:29:52] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[04:29:52] [INFO] [Player.Grenade] G pressed - starting grab animation
[04:29:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(114.12595, 323.62918), shooter_id=3160206740181, bullet_pos=(502.66788, 449.21332)
[04:29:52] [INFO] [Bullet] Using shooter_position, distance=408,33344
[04:29:52] [INFO] [Bullet] Distance to wall: 408,33344 (27,804174% of viewport)
[04:29:52] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:29:52] [INFO] [Bullet] Starting wall penetration at (502.66788, 449.21332)
[04:29:52] [INFO] [LastChance] Threat detected: @Area2D@3662
[04:29:52] [INFO] [LastChance] Effect already used this life
[04:29:52] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:29:52] [INFO] [Bullet] Raycast backward hit penetrating body at distance 15,914618
[04:29:52] [INFO] [Bullet] Body exited signal received for penetrating body
[04:29:52] [INFO] [Bullet] Exiting penetration at (539.14325, 461.00284) after traveling 33,333332 pixels through wall
[04:29:52] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[04:29:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(381.3256, 484.564), shooter_id=3157102953823, bullet_pos=(343.4331, 254.328)
[04:29:52] [INFO] [Bullet] Using shooter_position, distance=233.333419799805
[04:29:52] [INFO] [Bullet] Distance to wall: 233.333419799805 (15.888101616494% of viewport)
[04:29:52] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:29:52] [INFO] [Bullet] Starting wall penetration at (343.4331, 254.328)
[04:29:52] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[04:29:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=8
[04:29:52] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[04:29:52] [INFO] [Bullet] Raycast backward hit penetrating body at distance 9.6242790222168
[04:29:52] [INFO] [Bullet] Body exited signal received for penetrating body
[04:29:52] [INFO] [Bullet] Exiting penetration at (337.2079, 216.5035) after traveling 33.3333358764648 pixels through wall
[04:29:52] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[04:29:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(374.43878, 640.8837), shooter_id=3160206740181, bullet_pos=(323.50226, 275.02905)
[04:29:52] [INFO] [Bullet] Using shooter_position, distance=369,3835
[04:29:52] [INFO] [Bullet] Distance to wall: 369,3835 (25,152004% of viewport)
[04:29:52] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:29:52] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[04:29:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(451.43878, 640.8837), shooter_id=3160206740181, bullet_pos=(415.58853, 67.00229)
[04:29:52] [INFO] [Bullet] Using shooter_position, distance=575,0002
[04:29:52] [INFO] [Bullet] Distance to wall: 575,0002 (39,15282% of viewport)
[04:29:52] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:29:52] [INFO] [Bullet] Starting wall penetration at (415.58853, 67.00229)
[04:29:52] [ENEMY] [Enemy3] Hit taken, health: 0/2
[04:29:52] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[04:29:52] [INFO] [ImpactEffects] spawn_blood_effect called at (632.1875, 819.0814), dir=(1, 0), lethal=true
[04:29:52] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[04:29:52] [INFO] [ImpactEffects] Blood decals scheduled: 41 (10 merged splatters, 6 satellite drops)
[04:29:52] [INFO] [ImpactEffects] Wall found for blood splatter at (680, 819.0814) (dist=47 px)
[04:29:52] [INFO] [ImpactEffects] Blood effect spawned at (632.1875, 819.0814) (scale=1.5)
[04:29:52] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[04:29:52] [INFO] [ScoreManager] Kill registered. Combo: 3 (points: 3000)
[04:29:52] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 7)
[04:29:52] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[04:29:52] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[04:29:52] [INFO] [Bullet] Raycast backward hit penetrating body at distance 3,262812
[04:29:52] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (420.8772, 473.62546)
[04:29:52] [INFO] [Bullet] Max penetration distance exceeded: 66,666664 >= 48
[04:29:52] [INFO] [Bullet] Body exited signal received for penetrating body
[04:29:52] [INFO] [Bullet] Exiting penetration at (411.12024, -4.524948) after traveling 66,666664 pixels through wall
[04:29:52] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[04:29:52] [INFO] [LastChance] Threat detected: @Area2D@3697
[04:29:52] [INFO] [LastChance] Effect already used this life
[04:29:52] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:29:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(389.1323, 545.0383), source=ENEMY (Enemy2), range=1469, listeners=7
[04:29:52] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=3
[04:29:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(412.93878, 640.8837), shooter_id=3160206740181, bullet_pos=(258.2432, 67.93179)
[04:29:52] [INFO] [Bullet] Using shooter_position, distance=593,46826
[04:29:52] [INFO] [Bullet] Distance to wall: 593,46826 (40,410347% of viewport)
[04:29:52] [ENEMY] [Enemy10] FLANKING started: target=(579.2462, 182.8645), side=left, pos=(1026.916, 1435.511)
[04:29:52] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[04:29:52] [INFO] [GrenadeBase] CCD enabled (mode: CAST_RAY) to prevent wall tunneling
[04:29:52] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[04:29:52] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[04:29:52] [INFO] [Player.Grenade] Timer started, grenade created at (381.49402, 172.91093)
[04:29:52] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[04:29:52] [INFO] [Player.Grenade] Step 1 complete! Drag: (219.12317, 2.6438293)
[04:29:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(335.93878, 640.8837), shooter_id=3160206740181, bullet_pos=(47.616272, 165.96317)
[04:29:52] [INFO] [Bullet] Using shooter_position, distance=555,58923
[04:29:52] [INFO] [Bullet] Distance to wall: 555,58923 (37,831097% of viewport)
[04:29:52] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:29:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(385.7923, 483.4512), shooter_id=3157102953823, bullet_pos=(344.4897, 52.0907)
[04:29:52] [INFO] [Bullet] Using shooter_position, distance=433.333374023438
[04:29:52] [INFO] [Bullet] Distance to wall: 433.333374023438 (29.506466267068% of viewport)
[04:29:52] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:29:52] [INFO] [Bullet] Starting wall penetration at (344.4897, 52.0907)
[04:29:52] [INFO] [LastChance] Threat detected: @Area2D@3703
[04:29:52] [INFO] [LastChance] Effect already used this life
[04:29:52] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:29:52] [INFO] [Bullet] Raycast backward hit penetrating body at distance 18.1507549285889
[04:29:52] [INFO] [Bullet] Body exited signal received for penetrating body
[04:29:52] [INFO] [Bullet] Exiting penetration at (340.836, 13.93188) after traveling 33.3333358764648 pixels through wall
[04:29:52] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[04:29:52] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[04:29:52] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[04:29:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(730.57745, 929.5028), shooter_id=3160206740181, bullet_pos=(524.74664, 269.00128)
[04:29:52] [INFO] [Bullet] Using shooter_position, distance=691,8299
[04:29:52] [INFO] [Bullet] Distance to wall: 691,8299 (47,10797% of viewport)
[04:29:52] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[04:29:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(367.397, 535.115), source=ENEMY (Enemy2), range=1469, listeners=7
[04:29:52] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=3
[04:29:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(374.43878, 640.8837), shooter_id=3160206740181, bullet_pos=(56.319702, 525.5337)
[04:29:52] [INFO] [Bullet] Using shooter_position, distance=338,38644
[04:29:52] [INFO] [Bullet] Distance to wall: 338,38644 (23,041355% of viewport)
[04:29:52] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:29:52] [INFO] [Bullet] Starting wall penetration at (56.319702, 525.5337)
[04:29:52] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[04:29:52] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[04:29:52] [INFO] [PenultimateHit] Player died - ending penultimate effect
[04:29:52] [INFO] [LastChance] Player died
[04:29:52] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[04:29:52] [INFO] [Bullet] Exiting penetration at (35.103157, 545.42584) after traveling 24,083334 pixels through wall
[04:29:52] [INFO] [Bullet] Damage multiplier after penetration: 0,225
[04:29:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(335.93878, 640.8837), shooter_id=3160206740181, bullet_pos=(156.75905, 63.796143)
[04:29:52] [INFO] [Bullet] Using shooter_position, distance=604,2644
[04:29:52] [INFO] [Bullet] Distance to wall: 604,2644 (41,145477% of viewport)
[04:29:52] [INFO] [LastChance] Threat detected: @Area2D@3732
[04:29:52] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[04:29:52] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:29:52] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[04:29:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(345.6616, 525.1917), source=ENEMY (Enemy2), range=1469, listeners=7
[04:29:52] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=3
[04:29:52] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[04:29:52] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[04:29:52] [ENEMY] [Enemy1] Ragdoll activated
[04:29:52] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[04:29:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(730.57745, 929.5028), shooter_id=3160206740181, bullet_pos=(735.10583, 63.611053)
[04:29:52] [INFO] [Bullet] Using shooter_position, distance=865,90356
[04:29:52] [INFO] [Bullet] Distance to wall: 865,90356 (58,960968% of viewport)
[04:29:52] [ENEMY] [Enemy4] Ragdoll activated
[04:29:52] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[04:29:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(412.93878, 640.8837), shooter_id=3160206740181, bullet_pos=(61.505383, 513.0594)
[04:29:52] [INFO] [Bullet] Using shooter_position, distance=373,9579
[04:29:52] [INFO] [Bullet] Distance to wall: 373,9579 (25,46348% of viewport)
[04:29:52] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:29:52] [INFO] [LastChance] Threat detected: @Area2D@3760
[04:29:52] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[04:29:52] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:29:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(547.60504, 759.37756), shooter_id=3160206740181, bullet_pos=(2489.252, 768.4859)
[04:29:52] [INFO] [Bullet] Using shooter_position, distance=1941,6683
[04:29:52] [INFO] [Bullet] Distance to wall: 1941,6683 (132,21176% of viewport)
[04:29:52] [INFO] [Bullet] Distance-based penetration chance: 23,557648%
[04:29:52] [INFO] [Bullet] Penetration failed (distance roll)
[04:29:52] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[04:29:52] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[04:29:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(412.93878, 640.8837), shooter_id=3160206740181, bullet_pos=(107.942665, 696.5107)
[04:29:52] [INFO] [Bullet] Using shooter_position, distance=310,0274
[04:29:52] [INFO] [Bullet] Distance to wall: 310,0274 (21,110336% of viewport)
[04:29:52] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:29:52] [INFO] [Bullet] Starting wall penetration at (107.942665, 696.5107)
[04:29:52] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[04:29:52] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[04:29:52] [INFO] [Bullet] Raycast backward hit penetrating body at distance 9,492955
[04:29:52] [INFO] [Bullet] Body exited signal received for penetrating body
[04:29:52] [INFO] [Bullet] Exiting penetration at (114.19299, 721.2027) after traveling 20,470837 pixels through wall
[04:29:52] [INFO] [Bullet] Damage multiplier after penetration: 0,1125
[04:29:52] [ENEMY] [Enemy3] Ragdoll activated
[04:29:52] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[04:29:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(335.93878, 640.8837), shooter_id=3160206740181, bullet_pos=(498.91452, 364.2637)
[04:29:52] [INFO] [Bullet] Using shooter_position, distance=321,06033
[04:29:52] [INFO] [Bullet] Distance to wall: 321,06033 (21,86159% of viewport)
[04:29:52] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:29:53] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(730.57745, 929.5028), shooter_id=3160206740181, bullet_pos=(972.78766, 232.52835)
[04:29:53] [INFO] [Bullet] Using shooter_position, distance=737,86127
[04:29:53] [INFO] [Bullet] Distance to wall: 737,86127 (50,242336% of viewport)
[04:29:53] [INFO] [Bullet] Distance-based penetration chance: 88,05061%
[04:29:53] [INFO] [Bullet] Starting wall penetration at (972.78766, 232.52835)
[04:29:53] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[04:29:53] [INFO] [Bullet] Exiting penetration at (993.54944, 247.28345) after traveling 20,470833 pixels through wall
[04:29:53] [INFO] [Bullet] Damage multiplier after penetration: 0,1125
[04:29:53] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[04:29:53] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[04:29:53] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[04:29:53] [INFO] [LastChance] Resetting all effects (scene change detected)
[04:29:53] [ENEMY] [Enemy1] Death animation component initialized
[04:29:53] [ENEMY] [Enemy2] Death animation component initialized
[04:29:53] [ENEMY] [Enemy3] Death animation component initialized
[04:29:53] [ENEMY] [Enemy4] Death animation component initialized
[04:29:53] [ENEMY] [Enemy5] Death animation component initialized
[04:29:53] [ENEMY] [Enemy6] Death animation component initialized
[04:29:53] [ENEMY] [Enemy7] Death animation component initialized
[04:29:53] [ENEMY] [Enemy8] Death animation component initialized
[04:29:53] [ENEMY] [Enemy9] Death animation component initialized
[04:29:53] [ENEMY] [Enemy10] Death animation component initialized
[04:29:53] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[04:29:53] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[04:29:53] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[04:29:53] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[04:29:53] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[04:29:53] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[04:29:53] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[04:29:53] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[04:29:53] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[04:29:53] [INFO] [ScoreManager] Level started with 10 enemies
[04:29:53] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 8)
[04:29:53] [ENEMY] [Enemy1] Registered as sound listener
[04:29:53] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[04:29:53] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 9)
[04:29:53] [ENEMY] [Enemy2] Registered as sound listener
[04:29:53] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[04:29:53] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 10)
[04:29:53] [ENEMY] [Enemy3] Registered as sound listener
[04:29:53] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[04:29:53] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 11)
[04:29:53] [ENEMY] [Enemy4] Registered as sound listener
[04:29:53] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[04:29:53] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 12)
[04:29:53] [ENEMY] [Enemy5] Registered as sound listener
[04:29:53] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[04:29:53] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 13)
[04:29:53] [ENEMY] [Enemy6] Registered as sound listener
[04:29:53] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[04:29:53] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 14)
[04:29:53] [ENEMY] [Enemy7] Registered as sound listener
[04:29:53] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[04:29:53] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 15)
[04:29:53] [ENEMY] [Enemy8] Registered as sound listener
[04:29:53] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[04:29:53] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 16)
[04:29:53] [ENEMY] [Enemy9] Registered as sound listener
[04:29:53] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[04:29:53] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 17)
[04:29:53] [ENEMY] [Enemy10] Registered as sound listener
[04:29:53] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[04:29:53] [INFO] [Player] Detecting weapon pose (frame 3)...
[04:29:53] [INFO] [Player] Detected weapon: Rifle (default pose)
[04:29:53] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[04:29:53] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[04:29:53] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[04:29:53] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[04:29:53] [INFO] [LastChance] Found player: Player
[04:29:53] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[04:29:53] [INFO] [LastChance] Connected to player Damaged signal (C#)
[04:29:53] [INFO] [LastChance] Connected to player Died signal (C#)
[04:29:54] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[04:29:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1143.785, 1519.422), source=ENEMY (Enemy10), range=1469, listeners=17
[04:29:54] [INFO] [SoundPropagation] Cleaned up 7 invalid listeners
[04:29:54] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[04:29:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1111.482, 1500.706), source=ENEMY (Enemy10), range=1469, listeners=10
[04:29:54] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[04:29:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1079.367, 1481.671), source=ENEMY (Enemy10), range=1469, listeners=10
[04:29:54] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[04:29:54] [INFO] [LastChance] Threat detected: Bullet
[04:29:54] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[04:29:54] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:29:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1047.602, 1462.056), source=ENEMY (Enemy10), range=1469, listeners=10
[04:29:54] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[04:29:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(500.3867, 1115.07), source=PLAYER (AssaultRifle), range=1469, listeners=10
[04:29:54] [ENEMY] [Enemy3] Heard gunshot at (500.3867, 1115.07), source_type=0, intensity=0.01, distance=416
[04:29:54] [ENEMY] [Enemy4] Heard gunshot at (500.3867, 1115.07), source_type=0, intensity=0.02, distance=369
[04:29:54] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=6
[04:29:54] [INFO] [LastChance] Threat detected: @Area2D@4079
[04:29:54] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[04:29:54] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:29:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1016.423, 1441.525), source=ENEMY (Enemy10), range=1469, listeners=10
[04:29:54] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[04:29:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(537.6111, 1118.149), source=PLAYER (AssaultRifle), range=1469, listeners=10
[04:29:54] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=6
[04:29:54] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1081.239, 1492.569), shooter_id=3412938723093, bullet_pos=(32.85484, 891.7681)
[04:29:54] [INFO] [Bullet] Using shooter_position, distance=1208.333984375
[04:29:54] [INFO] [Bullet] Distance to wall: 1208.333984375 (82.2776829263662% of viewport)
[04:29:54] [INFO] [Bullet] Distance-based penetration chance: 50.6760365859061%
[04:29:54] [INFO] [Bullet] Starting wall penetration at (32.85484, 891.7681)
[04:29:54] [INFO] [Bullet] Raycast backward hit penetrating body at distance 45.6814117431641
[04:29:55] [INFO] [Bullet] Body exited signal received for penetrating body
[04:29:55] [INFO] [Bullet] Exiting penetration at (-7.634466, 868.5648) after traveling 41.6666679382324 pixels through wall
[04:29:55] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[04:29:55] [INFO] [LastChance] Threat detected: @Area2D@4081
[04:29:55] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[04:29:55] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:29:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(500.38675, 1115.0698), shooter_id=3413760806726, bullet_pos=(989.4082, 1401.3721)
[04:29:55] [INFO] [Bullet] Using shooter_position, distance=566,66656
[04:29:55] [INFO] [Bullet] Distance to wall: 566,66656 (38,58537% of viewport)
[04:29:55] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:29:55] [ENEMY] [Enemy10] Hit taken, health: 1/2
[04:29:55] [ENEMY] [Enemy10] ImpactEffectsManager found, calling spawn_blood_effect
[04:29:55] [INFO] [ImpactEffects] spawn_blood_effect called at (985.7472, 1424.067), dir=(1, 0), lethal=false
[04:29:55] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[04:29:55] [INFO] [ImpactEffects] Blood decals scheduled: 21 (4 merged splatters, 3 satellite drops)
[04:29:55] [INFO] [ImpactEffects] Blood effect spawned at (985.7472, 1424.067) (scale=1)
[04:29:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(985.7472, 1424.067), source=ENEMY (Enemy10), range=1469, listeners=10
[04:29:55] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[04:29:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(568.9676, 1135.395), source=PLAYER (AssaultRifle), range=1469, listeners=10
[04:29:55] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=6
[04:29:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1049.204, 1473.26), shooter_id=3412938723093, bullet_pos=(42.56967, 883.5159)
[04:29:55] [INFO] [Bullet] Using shooter_position, distance=1166.66638183594
[04:29:55] [INFO] [Bullet] Distance to wall: 1166.66638183594 (79.4404592495165% of viewport)
[04:29:55] [INFO] [Bullet] Distance-based penetration chance: 53.9861308755641%
[04:29:55] [INFO] [Bullet] Penetration failed (distance roll)
[04:29:55] [INFO] [LastChance] Threat detected: @Area2D@4085
[04:29:55] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[04:29:55] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:29:55] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[04:29:55] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[04:29:55] [ENEMY] [Enemy10] Hit taken, health: 0/2
[04:29:55] [ENEMY] [Enemy10] ImpactEffectsManager found, calling spawn_blood_effect
[04:29:55] [INFO] [ImpactEffects] spawn_blood_effect called at (959.8248, 1409.695), dir=(1, 0), lethal=true
[04:29:55] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[04:29:55] [INFO] [ImpactEffects] Blood decals scheduled: 61 (9 merged splatters, 15 satellite drops)
[04:29:55] [INFO] [ImpactEffects] Blood effect spawned at (959.8248, 1409.695) (scale=1.5)
[04:29:55] [ENEMY] [Enemy10] Enemy died (ricochet: false, penetration: false)
[04:29:55] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[04:29:55] [INFO] [SoundPropagation] Unregistered listener: Enemy10 (remaining: 9)
[04:29:55] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[04:29:55] [ENEMY] [Enemy10] Death animation started with hit direction: (1, 0)
[04:29:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(593.9452, 1160.074), source=PLAYER (AssaultRifle), range=1469, listeners=9
[04:29:55] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=5
[04:29:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1017.461, 1453.37), shooter_id=3412938723093, bullet_pos=(40.38535, 862.8384)
[04:29:55] [INFO] [Bullet] Using shooter_position, distance=1141.66687011719
[04:29:55] [INFO] [Bullet] Distance to wall: 1141.66687011719 (77.7381965265383% of viewport)
[04:29:55] [INFO] [Bullet] Distance-based penetration chance: 55.9721040523719%
[04:29:55] [INFO] [Bullet] Starting wall penetration at (40.38535, 862.8384)
[04:29:55] [INFO] [LastChance] Threat detected: Bullet
[04:29:55] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[04:29:55] [INFO] [LastChance] Cannot trigger effect - conditions not met
[04:29:55] [INFO] [Bullet] Raycast backward hit penetrating body at distance 28.5354652404785
[04:29:55] [INFO] [Bullet] Body exited signal received for penetrating body
[04:29:55] [INFO] [Bullet] Exiting penetration at (7.578428, 843.0104) after traveling 33.3333358764648 pixels through wall
[04:29:55] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[04:29:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(568.9676, 1135.3951), shooter_id=3413760806726, bullet_pos=(888.9612, 1415.089)
[04:29:55] [INFO] [Bullet] Using shooter_position, distance=424,99948
[04:29:55] [INFO] [Bullet] Distance to wall: 424,99948 (28,938997% of viewport)
[04:29:55] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:29:55] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[04:29:55] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[04:29:55] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[04:29:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(618.8353, 1184.965), source=PLAYER (AssaultRifle), range=1469, listeners=9
[04:29:55] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=5
[04:29:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(986.4027, 1432.227), shooter_id=3412938723093, bullet_pos=(45.28533, 831.192)
[04:29:55] [INFO] [Bullet] Using shooter_position, distance=1116.66674804688
[04:29:55] [INFO] [Bullet] Distance to wall: 1116.66674804688 (76.0358922435999% of viewport)
[04:29:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(593.9452, 1160.0745), shooter_id=3413760806726, bullet_pos=(905.5685, 1449.0662)
[04:29:55] [INFO] [Bullet] Using shooter_position, distance=425,00034
[04:29:55] [INFO] [Bullet] Distance to wall: 425,00034 (28,939056% of viewport)
[04:29:55] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:29:55] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[04:29:55] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[04:29:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(986.4027, 1432.227), shooter_id=3412938723093, bullet_pos=(207.8023, 708.9927)
[04:29:55] [INFO] [Bullet] Using shooter_position, distance=1062.6787109375
[04:29:55] [INFO] [Bullet] Distance to wall: 1062.6787109375 (72.3597475215762% of viewport)
[04:29:55] [INFO] [Bullet] Distance-based penetration chance: 62.2469612248278%
[04:29:55] [INFO] [Bullet] Starting wall penetration at (207.8023, 708.9927)
[04:29:55] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[04:29:55] [INFO] [Bullet] Exiting penetration at (234.4444, 688.96) after traveling 28.3333358764648 pixels through wall
[04:29:55] [INFO] [Bullet] Damage multiplier after penetration: 0.45
[04:29:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(618.8353, 1184.9651), shooter_id=3413760806726, bullet_pos=(892.778, 1464.891)
[04:29:55] [INFO] [Bullet] Using shooter_position, distance=391,66708
[04:29:55] [INFO] [Bullet] Distance to wall: 391,66708 (26,669333% of viewport)
[04:29:55] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:29:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(568.9676, 1135.3951), shooter_id=3413760806726, bullet_pos=(504.34305, 1713.2722)
[04:29:55] [INFO] [Bullet] Using shooter_position, distance=581,4794
[04:29:55] [INFO] [Bullet] Distance to wall: 581,4794 (39,594% of viewport)
[04:29:55] [INFO] [Bullet] Within ricochet range - trying ricochet first
[04:29:55] [INFO] [Bullet] Starting wall penetration at (504.34305, 1713.2722)
[04:29:55] [INFO] [Bullet] Raycast backward hit penetrating body at distance 27,838026
[04:29:55] [INFO] [Bullet] Body exited signal received for penetrating body
[04:29:55] [INFO] [Bullet] Exiting penetration at (477.9993, 1733.6957) after traveling 28,33333 pixels through wall
[04:29:55] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[04:29:55] [ENEMY] [Enemy10] Ragdoll activated
[04:29:55] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[04:29:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(618.8353, 1184.9651), shooter_id=3413760806726, bullet_pos=(525.49774, 1825.9043)
[04:29:55] [INFO] [Bullet] Using shooter_position, distance=647,69977
[04:29:55] [INFO] [Bullet] Distance to wall: 647,69977 (44,10307% of viewport)
[04:29:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(618.8353, 1184.9651), shooter_id=3413760806726, bullet_pos=(792.9045, 2076.1692)
[04:29:56] [INFO] [Bullet] Using shooter_position, distance=908,0445
[04:29:56] [INFO] [Bullet] Distance to wall: 908,0445 (61,830418% of viewport)
[04:29:56] [ENEMY] [Enemy10] Death animation completed
[04:29:58] [INFO] [ScoreManager] Combo ended at 1. Max combo: 1
[04:29:59] [ENEMY] [Enemy4] FLANKING started: target=(1104.9, 1349.798), side=right, pos=(854.0577, 953.6476)
[04:29:59] [ENEMY] [Enemy4] State: PURSUING -> FLANKING
[04:30:00] [INFO] ------------------------------------------------------------
[04:30:00] [INFO] GAME LOG ENDED: 2026-01-24T04:30:00
[04:30:00] [INFO] ============================================================
