[01:38:35] [INFO] ============================================================
[01:38:35] [INFO] GAME LOG STARTED
[01:38:35] [INFO] ============================================================
[01:38:35] [INFO] Timestamp: 2026-02-09T01:38:35
[01:38:35] [INFO] Log file: I:/Загрузки/godot exe/САмонаводящиеся пули/game_log_20260209_013835.txt
[01:38:35] [INFO] Executable: I:/Загрузки/godot exe/САмонаводящиеся пули/Godot-Top-Down-Template.exe
[01:38:35] [INFO] OS: Windows
[01:38:35] [INFO] Debug build: false
[01:38:35] [INFO] Engine version: 4.3-stable (official)
[01:38:35] [INFO] Project: Godot Top-Down Template
[01:38:35] [INFO] ------------------------------------------------------------
[01:38:35] [INFO] [GameManager] GameManager ready
[01:38:35] [INFO] [ScoreManager] ScoreManager ready
[01:38:35] [INFO] [SoundPropagation] SoundPropagation autoload initialized
[01:38:35] [INFO] [ImpactEffects] Scenes loaded: DustEffect, BloodEffect, SparksEffect, BloodDecal
[01:38:35] [INFO] [ImpactEffects] ImpactEffectsManager ready - FULL VERSION with blood effects enabled
[01:38:35] [INFO] [ImpactEffects] Starting particle shader warmup (Issue #343 fix)...
[01:38:35] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[01:38:35] [INFO] [PenultimateHit] Saturation shader loaded successfully
[01:38:35] [INFO] [PenultimateHit] Starting shader warmup (Issue #343 fix)...
[01:38:35] [INFO] [PenultimateHit] PenultimateHitEffectsManager ready - Configuration:
[01:38:35] [INFO] [PenultimateHit]   Time scale: 0.10 (10x slowdown)
[01:38:35] [INFO] [PenultimateHit]   Saturation boost: 2.0 (3.0x)
[01:38:35] [INFO] [PenultimateHit]   Contrast boost: 1.0 (2.0x)
[01:38:35] [INFO] [PenultimateHit]   Effect duration: 3.0 real seconds
[01:38:35] [INFO] [LastChance] Resetting all effects (scene change detected)
[01:38:35] [INFO] [LastChance] Last chance shader loaded successfully
[01:38:35] [INFO] [LastChance] Starting shader warmup (Issue #343 fix)...
[01:38:35] [INFO] [LastChance] LastChanceEffectsManager ready - Configuration:
[01:38:35] [INFO] [LastChance]   Freeze duration: 6.0 real seconds
[01:38:35] [INFO] [LastChance]   Sepia intensity: 0.70
[01:38:35] [INFO] [LastChance]   Brightness: 0.60
[01:38:36] [INFO] [GrenadeManager] Loaded grenade scene: res://scenes/projectiles/FlashbangGrenade.tscn
[01:38:36] [INFO] [GrenadeManager] Loaded grenade scene: res://scenes/projectiles/FragGrenade.tscn
[01:38:36] [INFO] [GrenadeManager] Loaded grenade scene: res://scenes/projectiles/DefensiveGrenade.tscn
[01:38:36] [INFO] [ExperimentalSettings] ExperimentalSettings initialized - FOV: true, Complex grenades: false, AI prediction: true, Debug: true, Invincibility: true, Realistic visibility: false
[01:38:36] [INFO] [CinemaEffects] CinemaEffectsManager initializing (v5.3 - overlay approach with simplified death circle)...
[01:38:36] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[01:38:36] [INFO] [CinemaEffects] Created effects layer at layer 99
[01:38:36] [INFO] [CinemaEffects] Cinema shader loaded successfully (v5.0 - no screen_texture)
[01:38:36] [INFO] [CinemaEffects] Starting cinema shader warmup (Issue #343 fix)...
[01:38:36] [INFO] [CinemaEffects] Cinema film effect initialized (v5.3) - Configuration:
[01:38:36] [INFO] [CinemaEffects]   Approach: Overlay-based (no screen_texture)
[01:38:36] [INFO] [CinemaEffects]   Grain intensity: 0.15
[01:38:36] [INFO] [CinemaEffects]   Warm tint: 0.12 intensity
[01:38:36] [INFO] [CinemaEffects]   Sunny effect: 0.08 intensity
[01:38:36] [INFO] [CinemaEffects]   Vignette: 0.25 intensity
[01:38:36] [INFO] [CinemaEffects]   Film defects: 1.5% probability
[01:38:36] [INFO] [CinemaEffects]   White specks: 0.70 intensity, 4.0% probability
[01:38:36] [INFO] [CinemaEffects]   Death effects: cigarette burn + expanding spots + end of reel circle (160px, blinks 2x)
[01:38:36] [INFO] [CinemaEffects] Enabling effect after 1 frame(s)...
[01:38:36] [INFO] [GrenadeTimerHelper] Autoload ready
[01:38:36] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[01:38:36] [INFO] [PowerFantasy] Saturation shader loaded successfully
[01:38:36] [INFO] [PowerFantasy] PowerFantasyEffectsManager ready - Configuration:
[01:38:36] [INFO] [PowerFantasy]   Kill effect duration: 300ms
[01:38:36] [INFO] [PowerFantasy]   Grenade effect duration: 2000ms (2.0s)
[01:38:36] [INFO] [ProgressManager] ProgressManager ready, loaded 8 entries
[01:38:36] [INFO] [ReplayManager] ReplayManager ready (C# version loaded and _Ready called)
[01:38:36] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[01:38:36] [INFO] [FlashbangPlayer] Flashbang player shader loaded successfully
[01:38:36] [INFO] [FlashbangPlayer] Starting shader warmup (Issue #343 fix)...
[01:38:36] [INFO] [FlashbangPlayer] FlashbangPlayerEffectsManager ready
[01:38:36] [INFO] [FlashbangPlayer]   Duration range: 1.0-5.0 seconds
[01:38:36] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:38:36] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[01:38:36] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[01:38:36] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[01:38:36] [ENEMY] [Enemy1] Death animation component initialized
[01:38:36] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:38:36] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[01:38:36] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[01:38:36] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[01:38:36] [INFO] [EnemyGrenade] Initialized: 1 grenades
[01:38:36] [ENEMY] [Enemy2] Death animation component initialized
[01:38:36] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:38:36] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[01:38:36] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[01:38:36] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[01:38:36] [INFO] [EnemyGrenade] Initialized: 1 grenades
[01:38:36] [ENEMY] [Enemy3] Death animation component initialized
[01:38:36] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:38:36] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[01:38:36] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[01:38:36] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[01:38:36] [ENEMY] [Enemy4] Death animation component initialized
[01:38:36] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:38:36] [INFO] [BloodyFeet:Grenadier] Footprint scene loaded
[01:38:36] [INFO] [BloodyFeet:Grenadier] Found EnemyModel for facing direction
[01:38:36] [INFO] [BloodyFeet:Grenadier] BloodyFeetComponent ready on Grenadier
[01:38:36] [INFO] [EnemyGrenade] Grenade bag built (hard): [Offensive, Offensive, Offensive, Offensive, Offensive, Offensive, Offensive, Defensive]
[01:38:36] [INFO] [EnemyGrenade] Grenadier initialized: 8 grenades in bag
[01:38:36] [ENEMY] [Grenadier] Death animation component initialized
[01:38:36] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:38:36] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[01:38:36] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[01:38:36] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[01:38:36] [ENEMY] [Enemy6] Death animation component initialized
[01:38:36] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:38:36] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[01:38:36] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[01:38:36] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[01:38:36] [ENEMY] [Enemy7] Death animation component initialized
[01:38:36] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:38:36] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[01:38:36] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[01:38:36] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[01:38:36] [ENEMY] [Enemy8] Death animation component initialized
[01:38:36] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:38:36] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[01:38:36] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[01:38:36] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[01:38:36] [ENEMY] [Enemy9] Death animation component initialized
[01:38:36] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:38:36] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[01:38:36] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[01:38:36] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[01:38:36] [INFO] [EnemyGrenade] Initialized: 1 grenades
[01:38:36] [ENEMY] [Enemy10] Death animation component initialized
[01:38:36] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:38:36] [INFO] [BloodyFeet:Player] Footprint scene loaded
[01:38:36] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[01:38:36] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[01:38:36] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[01:38:36] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[01:38:36] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[01:38:36] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[01:38:36] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[01:38:36] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[01:38:36] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[01:38:36] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[01:38:36] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[01:38:36] [INFO] [Player] Ready! Ammo: 9/9, Grenades: 1/3, Health: 4/4
[01:38:36] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[01:38:36] [INFO] [BloodDecal] Blood puddle created at (640, 360) (added to group)
[01:38:36] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[01:38:36] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[01:38:36] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[01:38:36] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[01:38:36] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[01:38:36] [INFO] [BuildingLevel] Child 'Grenadier': script=true, has_died_signal=true
[01:38:36] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[01:38:36] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[01:38:36] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[01:38:36] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[01:38:36] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[01:38:36] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[01:38:36] [INFO] [BuildingLevel] Setting up weapon: makarov_pm
[01:38:36] [INFO] [ScoreManager] Level started with 10 enemies
[01:38:36] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[01:38:36] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[01:38:36] [INFO] [ReplayManager] Replay data cleared
[01:38:36] [INFO] [BuildingLevel] Previous replay data cleared
[01:38:36] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[01:38:36] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[01:38:36] [INFO] [ReplayManager] Level: BuildingLevel
[01:38:36] [INFO] [ReplayManager] Player: Player (valid: True)
[01:38:36] [INFO] [ReplayManager] Enemies count: 10
[01:38:36] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[01:38:36] [INFO] [ReplayManager]   Enemy 0: Enemy1
[01:38:36] [INFO] [ReplayManager]   Enemy 1: Enemy2
[01:38:36] [INFO] [ReplayManager]   Enemy 2: Enemy3
[01:38:36] [INFO] [ReplayManager]   Enemy 3: Enemy4
[01:38:36] [INFO] [ReplayManager]   Enemy 4: Grenadier
[01:38:36] [INFO] [ReplayManager]   Enemy 5: Enemy6
[01:38:36] [INFO] [ReplayManager]   Enemy 6: Enemy7
[01:38:36] [INFO] [ReplayManager]   Enemy 7: Enemy8
[01:38:36] [INFO] [ReplayManager]   Enemy 8: Enemy9
[01:38:36] [INFO] [ReplayManager]   Enemy 9: Enemy10
[01:38:36] [INFO] [BuildingLevel] Replay recording started successfully
[01:38:36] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[01:38:36] [INFO] [CinemaEffects] Found player node: Player
[01:38:36] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[01:38:36] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[01:38:36] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 1)
[01:38:36] [ENEMY] [Enemy1] Registered as sound listener
[01:38:36] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 2, behavior: GUARD
[01:38:36] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[01:38:36] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 2)
[01:38:36] [ENEMY] [Enemy2] Registered as sound listener
[01:38:36] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 2, behavior: GUARD
[01:38:36] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[01:38:36] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 3)
[01:38:36] [ENEMY] [Enemy3] Registered as sound listener
[01:38:36] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 4, behavior: GUARD
[01:38:36] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[01:38:36] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 4)
[01:38:36] [ENEMY] [Enemy4] Registered as sound listener
[01:38:36] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 3, behavior: GUARD
[01:38:36] [INFO] [BloodyFeet:Grenadier] Blood detector created and attached to Grenadier
[01:38:36] [INFO] [SoundPropagation] Registered listener: Grenadier (total: 5)
[01:38:36] [ENEMY] [Grenadier] Registered as sound listener
[01:38:36] [ENEMY] [Grenadier] Spawned at (1700, 350), hp: 2, behavior: GUARD
[01:38:36] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[01:38:36] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 6)
[01:38:36] [ENEMY] [Enemy6] Registered as sound listener
[01:38:36] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 2, behavior: GUARD
[01:38:36] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[01:38:36] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 7)
[01:38:36] [ENEMY] [Enemy7] Registered as sound listener
[01:38:36] [ENEMY] [Enemy7] Spawned at (1606.114, 893.8859), hp: 2, behavior: PATROL
[01:38:36] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[01:38:36] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 8)
[01:38:36] [ENEMY] [Enemy8] Registered as sound listener
[01:38:36] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 2, behavior: GUARD
[01:38:36] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[01:38:36] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 9)
[01:38:36] [ENEMY] [Enemy9] Registered as sound listener
[01:38:36] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 3, behavior: GUARD
[01:38:36] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[01:38:36] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 10)
[01:38:36] [ENEMY] [Enemy10] Registered as sound listener
[01:38:36] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 4, behavior: PATROL
[01:38:36] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[01:38:36] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=33.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[01:38:36] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=45.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[01:38:36] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[01:38:36] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[01:38:36] [ENEMY] [Grenadier] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[01:38:36] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=337.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[01:38:36] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=78.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[01:38:36] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[01:38:36] [INFO] [Player] Detecting weapon pose (frame 3)...
[01:38:36] [INFO] [Player] Detected weapon: Makarov PM (Pistol pose)
[01:38:36] [INFO] [Player] Applied Pistol arm pose: Left=(16, 6), Right=(4, 6)
[01:38:36] [INFO] [PenultimateHit] Shader warmup complete in 596 ms
[01:38:36] [INFO] [LastChance] Shader warmup complete in 594 ms
[01:38:36] [INFO] [CinemaEffects] Cinema shader warmup complete in 541 ms
[01:38:36] [INFO] [FlashbangPlayer] Shader warmup complete in 531 ms
[01:38:36] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[01:38:36] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[01:38:36] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[01:38:36] [INFO] [LastChance] Found player: Player
[01:38:36] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[01:38:36] [INFO] [LastChance] Connected to player Damaged signal (C#)
[01:38:36] [INFO] [LastChance] Connected to player Died signal (C#)
[01:38:36] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[01:38:36] [INFO] [ImpactEffects] Particle shader warmup complete: 7 effects warmed up in 888 ms
[01:38:37] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[01:38:38] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[01:38:39] [INFO] [PauseMenu] Armory button pressed
[01:38:39] [INFO] [PauseMenu] Creating new armory menu instance
[01:38:39] [INFO] [PauseMenu] armory_menu_scene resource path: res://scenes/ui/ArmoryMenu.tscn
[01:38:39] [INFO] [PauseMenu] Instance created, class: CanvasLayer, name: ArmoryMenu
[01:38:39] [INFO] [PauseMenu] Script attached: res://scripts/ui/armory_menu.gd
[01:38:39] [INFO] [PauseMenu] back_pressed signal exists on instance
[01:38:39] [INFO] [PauseMenu] back_pressed signal connected
[01:38:39] [INFO] [PauseMenu] Armory menu instance added as child, is_inside_tree: true
[01:38:39] [INFO] [PauseMenu] _populate_weapon_grid method exists
[01:38:39] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=10
[01:38:40] [INFO] [ReplayManager] Recording frame 240 (4,0s): player_valid=True, enemies=10
[01:38:41] [INFO] [ReplayManager] Recording frame 300 (5,0s): player_valid=True, enemies=10
[01:38:42] [INFO] [ReplayManager] Recording frame 360 (6,0s): player_valid=True, enemies=10
[01:38:43] [INFO] [ActiveItemManager] Active item changed from None to Homing Bullets
[01:38:43] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[01:38:43] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:38:43] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[01:38:43] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[01:38:43] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[01:38:43] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[01:38:43] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[01:38:43] [INFO] [LastChance] Resetting all effects (scene change detected)
[01:38:43] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[01:38:43] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[01:38:43] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[01:38:43] [ENEMY] [Enemy1] Death animation component initialized
[01:38:43] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:38:43] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[01:38:43] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[01:38:43] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[01:38:43] [INFO] [EnemyGrenade] Initialized: 1 grenades
[01:38:43] [ENEMY] [Enemy2] Death animation component initialized
[01:38:43] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:38:43] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[01:38:43] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[01:38:43] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[01:38:43] [ENEMY] [Enemy3] Death animation component initialized
[01:38:43] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:38:43] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[01:38:43] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[01:38:43] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[01:38:43] [INFO] [EnemyGrenade] Initialized: 1 grenades
[01:38:43] [ENEMY] [Enemy4] Death animation component initialized
[01:38:43] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:38:43] [INFO] [BloodyFeet:Grenadier] Footprint scene loaded
[01:38:43] [INFO] [BloodyFeet:Grenadier] Found EnemyModel for facing direction
[01:38:43] [INFO] [BloodyFeet:Grenadier] BloodyFeetComponent ready on Grenadier
[01:38:43] [INFO] [EnemyGrenade] Grenade bag built (hard): [Offensive, Offensive, Offensive, Offensive, Offensive, Offensive, Offensive, Defensive]
[01:38:43] [INFO] [EnemyGrenade] Grenadier initialized: 8 grenades in bag
[01:38:43] [ENEMY] [Grenadier] Death animation component initialized
[01:38:43] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:38:43] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[01:38:43] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[01:38:43] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[01:38:43] [ENEMY] [Enemy6] Death animation component initialized
[01:38:43] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:38:43] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[01:38:43] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[01:38:43] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[01:38:43] [INFO] [EnemyGrenade] Initialized: 1 grenades
[01:38:43] [ENEMY] [Enemy7] Death animation component initialized
[01:38:43] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:38:43] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[01:38:43] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[01:38:43] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[01:38:43] [ENEMY] [Enemy8] Death animation component initialized
[01:38:43] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:38:43] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[01:38:43] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[01:38:43] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[01:38:43] [ENEMY] [Enemy9] Death animation component initialized
[01:38:43] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:38:43] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[01:38:43] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[01:38:43] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[01:38:43] [ENEMY] [Enemy10] Death animation component initialized
[01:38:43] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:38:43] [INFO] [BloodyFeet:Player] Footprint scene loaded
[01:38:43] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[01:38:43] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[01:38:43] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[01:38:43] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[01:38:43] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[01:38:43] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[01:38:43] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[01:38:43] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[01:38:43] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[01:38:43] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[01:38:43] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[01:38:43] [INFO] [Player] Ready! Ammo: 9/9, Grenades: 1/3, Health: 4/4
[01:38:43] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[01:38:43] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[01:38:43] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[01:38:43] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[01:38:43] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[01:38:43] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[01:38:43] [INFO] [BuildingLevel] Child 'Grenadier': script=true, has_died_signal=true
[01:38:43] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[01:38:43] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[01:38:43] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[01:38:43] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[01:38:43] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[01:38:43] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[01:38:43] [INFO] [BuildingLevel] Setting up weapon: makarov_pm
[01:38:43] [INFO] [ScoreManager] Level started with 10 enemies
[01:38:43] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[01:38:43] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[01:38:43] [INFO] [ReplayManager] Replay data cleared
[01:38:43] [INFO] [BuildingLevel] Previous replay data cleared
[01:38:43] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[01:38:43] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[01:38:43] [INFO] [ReplayManager] Level: BuildingLevel
[01:38:43] [INFO] [ReplayManager] Player: Player (valid: True)
[01:38:43] [INFO] [ReplayManager] Enemies count: 10
[01:38:43] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[01:38:43] [INFO] [ReplayManager]   Enemy 0: Enemy1
[01:38:43] [INFO] [ReplayManager]   Enemy 1: Enemy2
[01:38:43] [INFO] [ReplayManager]   Enemy 2: Enemy3
[01:38:43] [INFO] [ReplayManager]   Enemy 3: Enemy4
[01:38:43] [INFO] [ReplayManager]   Enemy 4: Grenadier
[01:38:43] [INFO] [ReplayManager]   Enemy 5: Enemy6
[01:38:43] [INFO] [ReplayManager]   Enemy 6: Enemy7
[01:38:43] [INFO] [ReplayManager]   Enemy 7: Enemy8
[01:38:43] [INFO] [ReplayManager]   Enemy 8: Enemy9
[01:38:43] [INFO] [ReplayManager]   Enemy 9: Enemy10
[01:38:43] [INFO] [BuildingLevel] Replay recording started successfully
[01:38:43] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[01:38:43] [INFO] [CinemaEffects] Found player node: Player
[01:38:43] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[01:38:43] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[01:38:43] [ENEMY] [Enemy1] Registered as sound listener
[01:38:43] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 2, behavior: GUARD
[01:38:43] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[01:38:43] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[01:38:43] [ENEMY] [Enemy2] Registered as sound listener
[01:38:43] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 4, behavior: GUARD
[01:38:43] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[01:38:43] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[01:38:43] [ENEMY] [Enemy3] Registered as sound listener
[01:38:43] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 3, behavior: GUARD
[01:38:43] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[01:38:43] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[01:38:43] [ENEMY] [Enemy4] Registered as sound listener
[01:38:43] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 2, behavior: GUARD
[01:38:43] [INFO] [BloodyFeet:Grenadier] Blood detector created and attached to Grenadier
[01:38:43] [INFO] [SoundPropagation] Registered listener: Grenadier (total: 15)
[01:38:43] [ENEMY] [Grenadier] Registered as sound listener
[01:38:43] [ENEMY] [Grenadier] Spawned at (1700, 350), hp: 2, behavior: GUARD
[01:38:43] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[01:38:43] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[01:38:43] [ENEMY] [Enemy6] Registered as sound listener
[01:38:43] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 3, behavior: GUARD
[01:38:43] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[01:38:43] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[01:38:43] [ENEMY] [Enemy7] Registered as sound listener
[01:38:43] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 2, behavior: PATROL
[01:38:43] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[01:38:43] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[01:38:43] [ENEMY] [Enemy8] Registered as sound listener
[01:38:43] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 2, behavior: GUARD
[01:38:43] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[01:38:43] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[01:38:43] [ENEMY] [Enemy9] Registered as sound listener
[01:38:43] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 3, behavior: GUARD
[01:38:43] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[01:38:43] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[01:38:43] [ENEMY] [Enemy10] Registered as sound listener
[01:38:43] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 4, behavior: PATROL
[01:38:43] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[01:38:43] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[01:38:43] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[01:38:43] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[01:38:43] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=281.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[01:38:43] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[01:38:43] [ENEMY] [Grenadier] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[01:38:43] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[01:38:43] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[01:38:43] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[01:38:43] [INFO] [Player] Detecting weapon pose (frame 3)...
[01:38:43] [INFO] [Player] Detected weapon: Makarov PM (Pistol pose)
[01:38:43] [INFO] [Player] Applied Pistol arm pose: Left=(16, 6), Right=(4, 6)
[01:38:43] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[01:38:43] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[01:38:43] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[01:38:43] [INFO] [LastChance] Found player: Player
[01:38:43] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[01:38:43] [INFO] [LastChance] Connected to player Damaged signal (C#)
[01:38:43] [INFO] [LastChance] Connected to player Died signal (C#)
[01:38:43] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[01:38:44] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[01:38:45] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[01:38:45] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[01:38:45] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,1250), corner_timer=0.30
[01:38:45] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,1250), corner_timer=0.30
[01:38:45] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(450,1250), corner_timer=-0.02
[01:38:45] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[01:38:45] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(450,1250), corner_timer=-0.02
[01:38:45] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[01:38:45] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(450,1250), corner_timer=0.30
[01:38:45] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(450,1250), corner_timer=0.30
[01:38:45] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[01:38:45] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(450,1250), corner_timer=-0.02
[01:38:45] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[01:38:45] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(450,1250), corner_timer=0.30
[01:38:46] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=10
[01:38:47] [INFO] [ReplayManager] Recording frame 240 (4,0s): player_valid=True, enemies=10
[01:38:48] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[01:38:48] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[01:38:48] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[01:38:48] [INFO] [LastChance] Resetting all effects (scene change detected)
[01:38:48] [INFO] [CinemaEffects] Scene changed to: Tutorial
[01:38:48] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[01:38:48] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[01:38:48] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:38:48] [INFO] [BloodyFeet:Player] Footprint scene loaded
[01:38:48] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[01:38:48] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[01:38:48] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[01:38:48] [INFO] [Player.Grenade] Tutorial level detected - infinite grenades enabled
[01:38:48] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[01:38:48] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[01:38:48] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[01:38:48] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[01:38:48] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[01:38:48] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[01:38:48] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[01:38:48] [INFO] [Player] Ready! Ammo: 9/9, Grenades: 3/3, Health: 3/4
[01:38:48] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[01:38:48] [INFO] [CinemaEffects] Found player node: Player
[01:38:48] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[01:38:48] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[01:38:48] [INFO] [Player] Detecting weapon pose (frame 3)...
[01:38:48] [INFO] [Player] Detected weapon: Makarov PM (Pistol pose)
[01:38:48] [INFO] [Player] Applied Pistol arm pose: Left=(16, 6), Right=(4, 6)
[01:38:48] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[01:38:48] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[01:38:48] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[01:38:48] [INFO] [LastChance] Found player: Player
[01:38:48] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[01:38:48] [INFO] [LastChance] Connected to player Damaged signal (C#)
[01:38:48] [INFO] [LastChance] Connected to player Died signal (C#)
[01:38:48] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[01:38:48] [INFO] [ReplayManager] Recording frame 300 (5,1s): player_valid=False, enemies=10
[01:38:49] [INFO] [ReplayManager] Recording frame 360 (6,1s): player_valid=False, enemies=10
[01:38:50] [INFO] [PauseMenu] Armory button pressed
[01:38:50] [INFO] [PauseMenu] Creating new armory menu instance
[01:38:50] [INFO] [PauseMenu] armory_menu_scene resource path: res://scenes/ui/ArmoryMenu.tscn
[01:38:50] [INFO] [PauseMenu] Instance created, class: CanvasLayer, name: ArmoryMenu
[01:38:50] [INFO] [PauseMenu] Script attached: res://scripts/ui/armory_menu.gd
[01:38:50] [INFO] [PauseMenu] back_pressed signal exists on instance
[01:38:50] [INFO] [PauseMenu] back_pressed signal connected
[01:38:50] [INFO] [PauseMenu] Armory menu instance added as child, is_inside_tree: true
[01:38:50] [INFO] [PauseMenu] _populate_weapon_grid method exists
[01:38:50] [INFO] [ReplayManager] Recording frame 420 (7,1s): player_valid=False, enemies=10
[01:38:51] [INFO] [ReplayManager] Recording frame 480 (8,1s): player_valid=False, enemies=10
[01:38:52] [INFO] [ReplayManager] Recording frame 540 (9,1s): player_valid=False, enemies=10
[01:38:52] [INFO] [GameManager] Weapon selected: m16
[01:38:52] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[01:38:52] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[01:38:52] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[01:38:52] [INFO] [LastChance] Resetting all effects (scene change detected)
[01:38:52] [INFO] [CinemaEffects] Scene changed to: Tutorial
[01:38:52] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[01:38:52] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[01:38:52] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:38:52] [INFO] [BloodyFeet:Player] Footprint scene loaded
[01:38:52] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[01:38:52] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[01:38:52] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[01:38:52] [INFO] [Player.Grenade] Tutorial level detected - infinite grenades enabled
[01:38:52] [INFO] [Player.Weapon] GameManager weapon selection: m16 (AssaultRifle)
[01:38:52] [INFO] [Player.Weapon] Removed default MakarovPM
[01:38:53] [INFO] [Player.Weapon] Equipped AssaultRifle (ammo: 30/30)
[01:38:53] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[01:38:53] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[01:38:53] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[01:38:53] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[01:38:53] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[01:38:53] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[01:38:53] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[01:38:53] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 3/3, Health: 3/4
[01:38:53] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[01:38:53] [INFO] [CinemaEffects] Found player node: Player
[01:38:53] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[01:38:53] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[01:38:53] [INFO] [Player] Detecting weapon pose (frame 3)...
[01:38:53] [INFO] [Player] Detected weapon: Rifle (default pose)
[01:38:53] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[01:38:53] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[01:38:53] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[01:38:53] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[01:38:53] [INFO] [LastChance] Found player: Player
[01:38:53] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[01:38:53] [INFO] [LastChance] Connected to player Damaged signal (C#)
[01:38:53] [INFO] [LastChance] Connected to player Died signal (C#)
[01:38:53] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[01:38:53] [INFO] [ReplayManager] Recording frame 600 (10,1s): player_valid=False, enemies=10
[01:38:54] [INFO] [ReplayManager] Recording frame 660 (11,1s): player_valid=False, enemies=10
[01:38:55] [INFO] [ReplayManager] Recording frame 720 (12,1s): player_valid=False, enemies=10
[01:38:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(246.7278, 107.0606), source=PLAYER (AssaultRifle), range=1469, listeners=20
[01:38:55] [INFO] [SoundPropagation] Cleaned up 20 invalid listeners
[01:38:55] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[01:38:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(246.7278, 107.0606), source=PLAYER (AssaultRifle), range=1469, listeners=0
[01:38:56] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[01:38:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(246.7278, 107.0606), source=PLAYER (AssaultRifle), range=1469, listeners=0
[01:38:56] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[01:38:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(246.7278, 107.0606), source=PLAYER (AssaultRifle), range=1469, listeners=0
[01:38:56] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[01:38:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(246.7278, 107.0606), source=PLAYER (AssaultRifle), range=1469, listeners=0
[01:38:56] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[01:38:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(246.7278, 107.0606), source=PLAYER (AssaultRifle), range=1469, listeners=0
[01:38:56] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[01:38:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(246.72781, 107.06056), shooter_id=208977004083, bullet_pos=(1798.4617, 135.83661)
[01:38:56] [INFO] [Bullet] Using shooter_position, distance=1552,0006
[01:38:56] [INFO] [Bullet] Distance to wall: 1552,0006 (105,67858% of viewport)
[01:38:56] [INFO] [Bullet] Distance-based penetration chance: 28,864285%
[01:38:56] [INFO] [Bullet] Penetration failed (distance roll)
[01:38:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(246.7278, 107.0606), source=PLAYER (AssaultRifle), range=1469, listeners=0
[01:38:56] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[01:38:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(246.72781, 107.06056), shooter_id=208977004083, bullet_pos=(1798.4617, 135.83603)
[01:38:56] [INFO] [Bullet] Using shooter_position, distance=1552,0006
[01:38:56] [INFO] [Bullet] Distance to wall: 1552,0006 (105,67858% of viewport)
[01:38:56] [INFO] [Bullet] Distance-based penetration chance: 28,864285%
[01:38:56] [INFO] [Bullet] Penetration failed (distance roll)
[01:38:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(246.7278, 107.0606), source=PLAYER (AssaultRifle), range=1469, listeners=0
[01:38:56] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[01:38:56] [INFO] [ReplayManager] Recording frame 780 (13,1s): player_valid=False, enemies=10
[01:38:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(246.72781, 107.06056), shooter_id=208977004083, bullet_pos=(1798.4617, 135.83661)
[01:38:56] [INFO] [Bullet] Using shooter_position, distance=1552,0006
[01:38:56] [INFO] [Bullet] Distance to wall: 1552,0006 (105,67858% of viewport)
[01:38:56] [INFO] [Bullet] Distance-based penetration chance: 28,864285%
[01:38:56] [INFO] [Bullet] Penetration failed (distance roll)
[01:38:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(246.7278, 107.0606), source=PLAYER (AssaultRifle), range=1469, listeners=0
[01:38:56] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[01:38:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(246.72781, 107.06056), shooter_id=208977004083, bullet_pos=(1798.4617, 135.83716)
[01:38:56] [INFO] [Bullet] Using shooter_position, distance=1552,0006
[01:38:56] [INFO] [Bullet] Distance to wall: 1552,0006 (105,67858% of viewport)
[01:38:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(246.7278, 107.0606), source=PLAYER (AssaultRifle), range=1469, listeners=0
[01:38:56] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[01:38:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(246.72781, 107.06056), shooter_id=208977004083, bullet_pos=(1798.4617, 135.8364)
[01:38:56] [INFO] [Bullet] Using shooter_position, distance=1552,0006
[01:38:56] [INFO] [Bullet] Distance to wall: 1552,0006 (105,67858% of viewport)
[01:38:56] [INFO] [Bullet] Distance-based penetration chance: 28,864285%
[01:38:56] [INFO] [Bullet] Penetration failed (distance roll)
[01:38:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(246.7278, 107.0606), source=PLAYER (AssaultRifle), range=1469, listeners=0
[01:38:57] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[01:38:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(246.72781, 107.06056), shooter_id=208977004083, bullet_pos=(1798.4617, 135.83661)
[01:38:57] [INFO] [Bullet] Using shooter_position, distance=1552,0006
[01:38:57] [INFO] [Bullet] Distance to wall: 1552,0006 (105,67858% of viewport)
[01:38:57] [INFO] [Bullet] Distance-based penetration chance: 28,864285%
[01:38:57] [INFO] [Bullet] Starting wall penetration at (1798.4617, 135.83661)
[01:38:57] [INFO] [Bullet] Raycast backward hit penetrating body at distance 13,122617
[01:38:57] [INFO] [Bullet] Body exited signal received for penetrating body
[01:38:57] [INFO] [Bullet] Exiting penetration at (1845.1204, 136.70187) after traveling 41,666668 pixels through wall
[01:38:57] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[01:38:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(246.7278, 107.0606), source=PLAYER (AssaultRifle), range=1469, listeners=0
[01:38:57] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[01:38:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(246.72781, 107.06056), shooter_id=208977004083, bullet_pos=(1798.4617, 135.83716)
[01:38:57] [INFO] [Bullet] Using shooter_position, distance=1552,0006
[01:38:57] [INFO] [Bullet] Distance to wall: 1552,0006 (105,67858% of viewport)
[01:38:57] [INFO] [Bullet] Distance-based penetration chance: 28,864285%
[01:38:57] [INFO] [Bullet] Penetration failed (distance roll)
[01:38:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(246.7278, 107.0606), source=PLAYER (AssaultRifle), range=1469, listeners=0
[01:38:57] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[01:38:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(246.72781, 107.06056), shooter_id=208977004083, bullet_pos=(1798.4617, 135.83603)
[01:38:57] [INFO] [Bullet] Using shooter_position, distance=1552,0006
[01:38:57] [INFO] [Bullet] Distance to wall: 1552,0006 (105,67858% of viewport)
[01:38:57] [INFO] [Bullet] Distance-based penetration chance: 28,864285%
[01:38:57] [INFO] [Bullet] Starting wall penetration at (1798.4617, 135.83603)
[01:38:57] [INFO] [Bullet] Raycast backward hit penetrating body at distance 13,122617
[01:38:57] [INFO] [Bullet] Body exited signal received for penetrating body
[01:38:57] [INFO] [Bullet] Exiting penetration at (1845.1204, 136.70126) after traveling 41,666668 pixels through wall
[01:38:57] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[01:38:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(246.7278, 107.0606), source=PLAYER (AssaultRifle), range=1469, listeners=0
[01:38:57] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[01:38:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(246.72781, 107.06056), shooter_id=208977004083, bullet_pos=(1798.4617, 135.8364)
[01:38:57] [INFO] [Bullet] Using shooter_position, distance=1552,0006
[01:38:57] [INFO] [Bullet] Distance to wall: 1552,0006 (105,67858% of viewport)
[01:38:57] [INFO] [Bullet] Distance-based penetration chance: 28,864285%
[01:38:57] [INFO] [Bullet] Penetration failed (distance roll)
[01:38:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(246.7278, 107.0606), source=PLAYER (AssaultRifle), range=1469, listeners=0
[01:38:57] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[01:38:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(246.72781, 107.06056), shooter_id=208977004083, bullet_pos=(1798.4617, 135.83661)
[01:38:57] [INFO] [Bullet] Using shooter_position, distance=1552,0006
[01:38:57] [INFO] [Bullet] Distance to wall: 1552,0006 (105,67858% of viewport)
[01:38:57] [INFO] [Bullet] Distance-based penetration chance: 28,864285%
[01:38:57] [INFO] [Bullet] Starting wall penetration at (1798.4617, 135.83661)
[01:38:57] [INFO] [Bullet] Raycast backward hit penetrating body at distance 13,122617
[01:38:57] [INFO] [Bullet] Body exited signal received for penetrating body
[01:38:57] [INFO] [Bullet] Exiting penetration at (1845.1204, 136.70187) after traveling 41,666668 pixels through wall
[01:38:57] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[01:38:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(246.7278, 107.0606), source=PLAYER (AssaultRifle), range=1469, listeners=0
[01:38:57] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[01:38:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(246.72781, 107.06056), shooter_id=208977004083, bullet_pos=(1798.4617, 135.83716)
[01:38:57] [INFO] [Bullet] Using shooter_position, distance=1552,0006
[01:38:57] [INFO] [Bullet] Distance to wall: 1552,0006 (105,67858% of viewport)
[01:38:57] [INFO] [Bullet] Distance-based penetration chance: 28,864285%
[01:38:57] [INFO] [Bullet] Penetration failed (distance roll)
[01:38:57] [INFO] [ReplayManager] Recording frame 840 (14,1s): player_valid=False, enemies=10
[01:38:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(246.7278, 107.0606), source=PLAYER (AssaultRifle), range=1469, listeners=0
[01:38:57] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[01:38:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(246.72781, 107.06056), shooter_id=208977004083, bullet_pos=(1798.4617, 135.83603)
[01:38:57] [INFO] [Bullet] Using shooter_position, distance=1552,0006
[01:38:57] [INFO] [Bullet] Distance to wall: 1552,0006 (105,67858% of viewport)
[01:38:57] [INFO] [Bullet] Distance-based penetration chance: 28,864285%
[01:38:57] [INFO] [Bullet] Penetration failed (distance roll)
[01:38:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(246.7278, 107.0606), source=PLAYER (AssaultRifle), range=1469, listeners=0
[01:38:57] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[01:38:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(246.72781, 107.06056), shooter_id=208977004083, bullet_pos=(1798.4617, 135.8364)
[01:38:57] [INFO] [Bullet] Using shooter_position, distance=1552,0006
[01:38:57] [INFO] [Bullet] Distance to wall: 1552,0006 (105,67858% of viewport)
[01:38:57] [INFO] [Bullet] Distance-based penetration chance: 28,864285%
[01:38:57] [INFO] [Bullet] Penetration failed (distance roll)
[01:38:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(246.7278, 107.0606), source=PLAYER (AssaultRifle), range=1469, listeners=0
[01:38:57] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[01:38:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(246.72781, 107.06056), shooter_id=208977004083, bullet_pos=(1798.4617, 135.83661)
[01:38:57] [INFO] [Bullet] Using shooter_position, distance=1552,0006
[01:38:57] [INFO] [Bullet] Distance to wall: 1552,0006 (105,67858% of viewport)
[01:38:57] [INFO] [Bullet] Distance-based penetration chance: 28,864285%
[01:38:57] [INFO] [Bullet] Penetration failed (distance roll)
[01:38:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(246.72781, 107.06056), shooter_id=208977004083, bullet_pos=(1798.4617, 135.83716)
[01:38:58] [INFO] [Bullet] Using shooter_position, distance=1552,0006
[01:38:58] [INFO] [Bullet] Distance to wall: 1552,0006 (105,67858% of viewport)
[01:38:58] [INFO] [Bullet] Distance-based penetration chance: 28,864285%
[01:38:58] [INFO] [Bullet] Penetration failed (distance roll)
[01:38:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(246.72781, 107.06056), shooter_id=208977004083, bullet_pos=(1798.4617, 135.83603)
[01:38:58] [INFO] [Bullet] Using shooter_position, distance=1552,0006
[01:38:58] [INFO] [Bullet] Distance to wall: 1552,0006 (105,67858% of viewport)
[01:38:58] [INFO] [Bullet] Distance-based penetration chance: 28,864285%
[01:38:58] [INFO] [Bullet] Penetration failed (distance roll)
[01:38:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(246.72781, 107.06056), shooter_id=208977004083, bullet_pos=(1798.4617, 135.8364)
[01:38:58] [INFO] [Bullet] Using shooter_position, distance=1552,0006
[01:38:58] [INFO] [Bullet] Distance to wall: 1552,0006 (105,67858% of viewport)
[01:38:58] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[01:38:58] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[01:38:58] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[01:38:58] [INFO] [LastChance] Resetting all effects (scene change detected)
[01:38:58] [INFO] [CinemaEffects] Scene changed to: Tutorial
[01:38:58] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[01:38:58] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[01:38:58] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:38:58] [INFO] [BloodyFeet:Player] Footprint scene loaded
[01:38:58] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[01:38:58] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[01:38:58] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[01:38:58] [INFO] [Player.Grenade] Tutorial level detected - infinite grenades enabled
[01:38:58] [INFO] [Player.Weapon] GameManager weapon selection: m16 (AssaultRifle)
[01:38:58] [INFO] [Player.Weapon] Removed default MakarovPM
[01:38:58] [INFO] [Player.Weapon] Equipped AssaultRifle (ammo: 30/30)
[01:38:58] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[01:38:58] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[01:38:58] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[01:38:58] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[01:38:58] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[01:38:58] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[01:38:58] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[01:38:58] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 3/3, Health: 2/4
[01:38:58] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[01:38:58] [INFO] [CinemaEffects] Found player node: Player
[01:38:58] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[01:38:58] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[01:38:58] [INFO] [Player] Detecting weapon pose (frame 3)...
[01:38:58] [INFO] [Player] Detected weapon: Rifle (default pose)
[01:38:58] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[01:38:58] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[01:38:58] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[01:38:58] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[01:38:58] [INFO] [LastChance] Found player: Player
[01:38:58] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[01:38:58] [INFO] [LastChance] Connected to player Damaged signal (C#)
[01:38:58] [INFO] [LastChance] Connected to player Died signal (C#)
[01:38:58] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[01:38:58] [INFO] [ReplayManager] Recording frame 900 (15,1s): player_valid=False, enemies=10
[01:38:59] [INFO] [ReplayManager] Recording frame 960 (16,1s): player_valid=False, enemies=10
[01:39:00] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[01:39:00] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[01:39:00] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[01:39:00] [INFO] [LastChance] Resetting all effects (scene change detected)
[01:39:00] [INFO] [CinemaEffects] Scene changed to: Tutorial
[01:39:00] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[01:39:00] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[01:39:00] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:39:00] [INFO] [BloodyFeet:Player] Footprint scene loaded
[01:39:00] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[01:39:00] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[01:39:00] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[01:39:00] [INFO] [Player.Grenade] Tutorial level detected - infinite grenades enabled
[01:39:00] [INFO] [Player.Weapon] GameManager weapon selection: m16 (AssaultRifle)
[01:39:00] [INFO] [Player.Weapon] Removed default MakarovPM
[01:39:00] [INFO] [Player.Weapon] Equipped AssaultRifle (ammo: 30/30)
[01:39:00] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[01:39:00] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[01:39:00] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[01:39:00] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[01:39:00] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[01:39:00] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[01:39:00] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[01:39:00] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 3/3, Health: 2/4
[01:39:00] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[01:39:00] [INFO] [CinemaEffects] Found player node: Player
[01:39:00] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[01:39:00] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[01:39:00] [INFO] [Player] Detecting weapon pose (frame 3)...
[01:39:00] [INFO] [Player] Detected weapon: Rifle (default pose)
[01:39:00] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[01:39:00] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[01:39:00] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[01:39:00] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[01:39:00] [INFO] [LastChance] Found player: Player
[01:39:00] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[01:39:00] [INFO] [LastChance] Connected to player Damaged signal (C#)
[01:39:00] [INFO] [LastChance] Connected to player Died signal (C#)
[01:39:00] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[01:39:00] [INFO] [ReplayManager] Recording frame 1020 (17,1s): player_valid=False, enemies=10
[01:39:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 360), source=PLAYER (AssaultRifle), range=1469, listeners=0
[01:39:01] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[01:39:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 360), source=PLAYER (AssaultRifle), range=1469, listeners=0
[01:39:01] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[01:39:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 360), source=PLAYER (AssaultRifle), range=1469, listeners=0
[01:39:01] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[01:39:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 360), source=PLAYER (AssaultRifle), range=1469, listeners=0
[01:39:01] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[01:39:01] [INFO] [ReplayManager] Recording frame 1080 (18,1s): player_valid=False, enemies=10
[01:39:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 360), source=PLAYER (AssaultRifle), range=1469, listeners=0
[01:39:01] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[01:39:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(150, 360), source=PLAYER (AssaultRifle), range=1469, listeners=0
[01:39:01] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=0
[01:39:01] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 360), shooter_id=244041385578, bullet_pos=(1631.2385, 64.973206)
[01:39:01] [INFO] [Bullet] Using shooter_position, distance=1510,3339
[01:39:01] [INFO] [Bullet] Distance to wall: 1510,3339 (102,841415% of viewport)
[01:39:01] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 360), shooter_id=244041385578, bullet_pos=(1812.7455, 79.45042)
[01:39:01] [INFO] [Bullet] Using shooter_position, distance=1686,2474
[01:39:01] [INFO] [Bullet] Distance to wall: 1686,2474 (114,819695% of viewport)
[01:39:01] [INFO] [Bullet] Distance-based penetration chance: 27,036062%
[01:39:01] [INFO] [Bullet] Starting wall penetration at (1812.7455, 79.45042)
[01:39:01] [INFO] [Bullet] Raycast backward hit penetrating body at distance 21,100979
[01:39:01] [INFO] [Bullet] Body exited signal received for penetrating body
[01:39:01] [INFO] [Bullet] Exiting penetration at (1853.0342, 82.663895) after traveling 35,416668 pixels through wall
[01:39:01] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[01:39:01] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 360), shooter_id=244041385578, bullet_pos=(1631.293, 65.25049)
[01:39:01] [INFO] [Bullet] Using shooter_position, distance=1510,3331
[01:39:01] [INFO] [Bullet] Distance to wall: 1510,3331 (102,84136% of viewport)
[01:39:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 360), shooter_id=244041385578, bullet_pos=(1813.1194, 74.92048)
[01:39:02] [INFO] [Bullet] Using shooter_position, distance=1687,3756
[01:39:02] [INFO] [Bullet] Distance to wall: 1687,3756 (114,896515% of viewport)
[01:39:02] [INFO] [Bullet] Distance-based penetration chance: 27,020699%
[01:39:02] [INFO] [Bullet] Penetration failed (distance roll)
[01:39:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(150, 360), shooter_id=244041385578, bullet_pos=(1631.3184, 65.37659)
[01:39:02] [INFO] [Bullet] Using shooter_position, distance=1510,3334
[01:39:02] [INFO] [Bullet] Distance to wall: 1510,3334 (102,84138% of viewport)
[01:39:02] [INFO] [ReplayManager] Recording frame 1140 (19,1s): player_valid=False, enemies=10
[01:39:03] [INFO] [ReplayManager] Recording frame 1200 (20,1s): player_valid=False, enemies=10
[01:39:04] [INFO] [ReplayManager] Recording frame 1260 (21,1s): player_valid=False, enemies=10
[01:39:05] [INFO] [ReplayManager] Recording frame 1320 (22,1s): player_valid=False, enemies=10
[01:39:06] [INFO] [ReplayManager] Recording frame 1380 (23,1s): player_valid=False, enemies=10
[01:39:07] [INFO] [ReplayManager] Recording frame 1440 (24,1s): player_valid=False, enemies=10
[01:39:08] [INFO] [ReplayManager] Recording frame 1500 (25,1s): player_valid=False, enemies=10
[01:39:09] [INFO] [ReplayManager] Recording frame 1560 (26,1s): player_valid=False, enemies=10
[01:39:10] [INFO] [ReplayManager] Recording frame 1620 (27,1s): player_valid=False, enemies=10
[01:39:11] [INFO] [ReplayManager] Recording frame 1680 (28,1s): player_valid=False, enemies=10
[01:39:12] [INFO] [ReplayManager] Recording frame 1740 (29,1s): player_valid=False, enemies=10
[01:39:13] [INFO] [ReplayManager] Recording frame 1800 (30,1s): player_valid=False, enemies=10
[01:39:14] [INFO] [ReplayManager] Recording frame 1860 (31,1s): player_valid=False, enemies=10
[01:39:14] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[01:39:14] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:39:14] [INFO] [BloodyFeet:GuardEnemy1] Footprint scene loaded
[01:39:14] [INFO] [BloodyFeet:GuardEnemy1] Found EnemyModel for facing direction
[01:39:14] [INFO] [BloodyFeet:GuardEnemy1] BloodyFeetComponent ready on GuardEnemy1
[01:39:14] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[01:39:14] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[01:39:14] [INFO] [LastChance] Resetting all effects (scene change detected)
[01:39:14] [INFO] [CinemaEffects] Scene changed to: TestTier
[01:39:14] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[01:39:14] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[01:39:14] [INFO] [EnemyGrenade] Initialized: 1 grenades
[01:39:14] [ENEMY] [GuardEnemy1] Death animation component initialized
[01:39:14] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:39:14] [INFO] [BloodyFeet:GuardEnemy2] Footprint scene loaded
[01:39:14] [INFO] [BloodyFeet:GuardEnemy2] Found EnemyModel for facing direction
[01:39:14] [INFO] [BloodyFeet:GuardEnemy2] BloodyFeetComponent ready on GuardEnemy2
[01:39:14] [INFO] [EnemyGrenade] Initialized: 1 grenades
[01:39:14] [ENEMY] [GuardEnemy2] Death animation component initialized
[01:39:14] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:39:14] [INFO] [BloodyFeet:GuardEnemy3] Footprint scene loaded
[01:39:14] [INFO] [BloodyFeet:GuardEnemy3] Found EnemyModel for facing direction
[01:39:14] [INFO] [BloodyFeet:GuardEnemy3] BloodyFeetComponent ready on GuardEnemy3
[01:39:14] [INFO] [EnemyGrenade] Initialized: 1 grenades
[01:39:14] [ENEMY] [GuardEnemy3] Death animation component initialized
[01:39:14] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:39:14] [INFO] [BloodyFeet:GuardEnemy4] Footprint scene loaded
[01:39:14] [INFO] [BloodyFeet:GuardEnemy4] Found EnemyModel for facing direction
[01:39:14] [INFO] [BloodyFeet:GuardEnemy4] BloodyFeetComponent ready on GuardEnemy4
[01:39:14] [ENEMY] [GuardEnemy4] Death animation component initialized
[01:39:14] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:39:14] [INFO] [BloodyFeet:GuardEnemy5] Footprint scene loaded
[01:39:14] [INFO] [BloodyFeet:GuardEnemy5] Found EnemyModel for facing direction
[01:39:14] [INFO] [BloodyFeet:GuardEnemy5] BloodyFeetComponent ready on GuardEnemy5
[01:39:14] [ENEMY] [GuardEnemy5] Death animation component initialized
[01:39:14] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:39:14] [INFO] [BloodyFeet:GuardEnemy6] Footprint scene loaded
[01:39:14] [INFO] [BloodyFeet:GuardEnemy6] Found EnemyModel for facing direction
[01:39:14] [INFO] [BloodyFeet:GuardEnemy6] BloodyFeetComponent ready on GuardEnemy6
[01:39:14] [INFO] [EnemyGrenade] Initialized: 1 grenades
[01:39:14] [ENEMY] [GuardEnemy6] Death animation component initialized
[01:39:14] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:39:14] [INFO] [BloodyFeet:PatrolEnemy1] Footprint scene loaded
[01:39:14] [INFO] [BloodyFeet:PatrolEnemy1] Found EnemyModel for facing direction
[01:39:14] [INFO] [BloodyFeet:PatrolEnemy1] BloodyFeetComponent ready on PatrolEnemy1
[01:39:14] [ENEMY] [PatrolEnemy1] Death animation component initialized
[01:39:14] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:39:14] [INFO] [BloodyFeet:PatrolEnemy2] Footprint scene loaded
[01:39:14] [INFO] [BloodyFeet:PatrolEnemy2] Found EnemyModel for facing direction
[01:39:14] [INFO] [BloodyFeet:PatrolEnemy2] BloodyFeetComponent ready on PatrolEnemy2
[01:39:14] [INFO] [EnemyGrenade] Initialized: 1 grenades
[01:39:14] [ENEMY] [PatrolEnemy2] Death animation component initialized
[01:39:14] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:39:14] [INFO] [BloodyFeet:PatrolEnemy3] Footprint scene loaded
[01:39:14] [INFO] [BloodyFeet:PatrolEnemy3] Found EnemyModel for facing direction
[01:39:14] [INFO] [BloodyFeet:PatrolEnemy3] BloodyFeetComponent ready on PatrolEnemy3
[01:39:15] [ENEMY] [PatrolEnemy3] Death animation component initialized
[01:39:15] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:39:15] [INFO] [BloodyFeet:PatrolEnemy4] Footprint scene loaded
[01:39:15] [INFO] [BloodyFeet:PatrolEnemy4] Found EnemyModel for facing direction
[01:39:15] [INFO] [BloodyFeet:PatrolEnemy4] BloodyFeetComponent ready on PatrolEnemy4
[01:39:15] [ENEMY] [PatrolEnemy4] Death animation component initialized
[01:39:15] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:39:15] [INFO] [BloodyFeet:Player] Footprint scene loaded
[01:39:15] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[01:39:15] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[01:39:15] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[01:39:15] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[01:39:15] [INFO] [Player.Weapon] GameManager weapon selection: m16 (AssaultRifle)
[01:39:15] [INFO] [Player.Weapon] Removed default MakarovPM
[01:39:15] [INFO] [Player.Weapon] Equipped AssaultRifle (ammo: 30/30)
[01:39:15] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[01:39:15] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[01:39:15] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[01:39:15] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[01:39:15] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[01:39:15] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[01:39:15] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[01:39:15] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[01:39:15] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[01:39:15] [INFO] [ScoreManager] Level started with 10 enemies
[01:39:15] [INFO] [TestTier] ReplayManager found as C# autoload - verified OK
[01:39:15] [INFO] [ReplayManager] Replay data cleared
[01:39:15] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[01:39:15] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[01:39:15] [INFO] [ReplayManager] Level: TestTier
[01:39:15] [INFO] [ReplayManager] Player: Player (valid: True)
[01:39:15] [INFO] [ReplayManager] Enemies count: 10
[01:39:15] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[01:39:15] [INFO] [ReplayManager]   Enemy 0: GuardEnemy1
[01:39:15] [INFO] [ReplayManager]   Enemy 1: GuardEnemy2
[01:39:15] [INFO] [ReplayManager]   Enemy 2: GuardEnemy3
[01:39:15] [INFO] [ReplayManager]   Enemy 3: GuardEnemy4
[01:39:15] [INFO] [ReplayManager]   Enemy 4: GuardEnemy5
[01:39:15] [INFO] [ReplayManager]   Enemy 5: GuardEnemy6
[01:39:15] [INFO] [ReplayManager]   Enemy 6: PatrolEnemy1
[01:39:15] [INFO] [ReplayManager]   Enemy 7: PatrolEnemy2
[01:39:15] [INFO] [ReplayManager]   Enemy 8: PatrolEnemy3
[01:39:15] [INFO] [ReplayManager]   Enemy 9: PatrolEnemy4
[01:39:15] [INFO] [BloodyFeet:GuardEnemy1] Blood detector created and attached to GuardEnemy1
[01:39:15] [INFO] [CinemaEffects] Found player node: Player
[01:39:15] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[01:39:15] [INFO] [SoundPropagation] Registered listener: GuardEnemy1 (total: 1)
[01:39:15] [ENEMY] [GuardEnemy1] Registered as sound listener
[01:39:15] [ENEMY] [GuardEnemy1] Spawned at (2800, 600), hp: 2, behavior: GUARD
[01:39:15] [INFO] [BloodyFeet:GuardEnemy2] Blood detector created and attached to GuardEnemy2
[01:39:15] [INFO] [SoundPropagation] Registered listener: GuardEnemy2 (total: 2)
[01:39:15] [ENEMY] [GuardEnemy2] Registered as sound listener
[01:39:15] [ENEMY] [GuardEnemy2] Spawned at (2800, 1000), hp: 2, behavior: GUARD
[01:39:15] [INFO] [BloodyFeet:GuardEnemy3] Blood detector created and attached to GuardEnemy3
[01:39:15] [INFO] [SoundPropagation] Registered listener: GuardEnemy3 (total: 3)
[01:39:15] [ENEMY] [GuardEnemy3] Registered as sound listener
[01:39:15] [ENEMY] [GuardEnemy3] Spawned at (3400, 600), hp: 2, behavior: GUARD
[01:39:15] [INFO] [BloodyFeet:GuardEnemy4] Blood detector created and attached to GuardEnemy4
[01:39:15] [INFO] [SoundPropagation] Registered listener: GuardEnemy4 (total: 4)
[01:39:15] [ENEMY] [GuardEnemy4] Registered as sound listener
[01:39:15] [ENEMY] [GuardEnemy4] Spawned at (3400, 1000), hp: 4, behavior: GUARD
[01:39:15] [INFO] [BloodyFeet:GuardEnemy5] Blood detector created and attached to GuardEnemy5
[01:39:15] [INFO] [SoundPropagation] Registered listener: GuardEnemy5 (total: 5)
[01:39:15] [ENEMY] [GuardEnemy5] Registered as sound listener
[01:39:15] [ENEMY] [GuardEnemy5] Spawned at (3000, 2100), hp: 3, behavior: GUARD
[01:39:15] [INFO] [BloodyFeet:GuardEnemy6] Blood detector created and attached to GuardEnemy6
[01:39:15] [INFO] [SoundPropagation] Registered listener: GuardEnemy6 (total: 6)
[01:39:15] [ENEMY] [GuardEnemy6] Registered as sound listener
[01:39:15] [ENEMY] [GuardEnemy6] Spawned at (3000, 2400), hp: 2, behavior: GUARD
[01:39:15] [INFO] [BloodyFeet:PatrolEnemy1] Blood detector created and attached to PatrolEnemy1
[01:39:15] [INFO] [SoundPropagation] Registered listener: PatrolEnemy1 (total: 7)
[01:39:15] [ENEMY] [PatrolEnemy1] Registered as sound listener
[01:39:15] [ENEMY] [PatrolEnemy1] Spawned at (2400, 800), hp: 3, behavior: PATROL
[01:39:15] [INFO] [BloodyFeet:PatrolEnemy2] Blood detector created and attached to PatrolEnemy2
[01:39:15] [INFO] [SoundPropagation] Registered listener: PatrolEnemy2 (total: 8)
[01:39:15] [ENEMY] [PatrolEnemy2] Registered as sound listener
[01:39:15] [ENEMY] [PatrolEnemy2] Spawned at (2400, 2300), hp: 2, behavior: PATROL
[01:39:15] [INFO] [BloodyFeet:PatrolEnemy3] Blood detector created and attached to PatrolEnemy3
[01:39:15] [INFO] [SoundPropagation] Registered listener: PatrolEnemy3 (total: 9)
[01:39:15] [ENEMY] [PatrolEnemy3] Registered as sound listener
[01:39:15] [ENEMY] [PatrolEnemy3] Spawned at (2800, 1544), hp: 4, behavior: PATROL
[01:39:15] [INFO] [BloodyFeet:PatrolEnemy4] Blood detector created and attached to PatrolEnemy4
[01:39:15] [INFO] [SoundPropagation] Registered listener: PatrolEnemy4 (total: 10)
[01:39:15] [ENEMY] [PatrolEnemy4] Registered as sound listener
[01:39:15] [ENEMY] [PatrolEnemy4] Spawned at (3600, 1544), hp: 4, behavior: PATROL
[01:39:15] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[01:39:15] [INFO] [LevelInitFallback] GDScript _ready() already ran (enemies tracked: 10) - skipping fallback
[01:39:15] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[01:39:15] [ENEMY] [GuardEnemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(264,1544), corner_timer=0.00
[01:39:15] [ENEMY] [GuardEnemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(264,1544), corner_timer=0.00
[01:39:15] [ENEMY] [GuardEnemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=236.3°, current=0.0°, player=(264,1544), corner_timer=0.00
[01:39:15] [ENEMY] [GuardEnemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(264,1544), corner_timer=0.00
[01:39:15] [ENEMY] [GuardEnemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(264,1544), corner_timer=0.00
[01:39:15] [ENEMY] [GuardEnemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=281.3°, current=0.0°, player=(264,1544), corner_timer=0.00
[01:39:15] [INFO] [Player] Detecting weapon pose (frame 3)...
[01:39:15] [INFO] [Player] Detected weapon: Rifle (default pose)
[01:39:15] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[01:39:15] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[01:39:15] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[01:39:15] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[01:39:15] [INFO] [LastChance] Found player: Player
[01:39:15] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[01:39:15] [INFO] [LastChance] Connected to player Damaged signal (C#)
[01:39:15] [INFO] [LastChance] Connected to player Died signal (C#)
[01:39:15] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[01:39:15] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[01:39:16] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[01:39:17] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=10
[01:39:18] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[01:39:18] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:39:18] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[01:39:18] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[01:39:18] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[01:39:18] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[01:39:18] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[01:39:18] [INFO] [LastChance] Resetting all effects (scene change detected)
[01:39:18] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[01:39:18] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[01:39:18] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[01:39:18] [ENEMY] [Enemy1] Death animation component initialized
[01:39:18] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:39:18] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[01:39:18] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[01:39:18] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[01:39:18] [ENEMY] [Enemy2] Death animation component initialized
[01:39:18] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:39:18] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[01:39:18] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[01:39:18] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[01:39:18] [ENEMY] [Enemy3] Death animation component initialized
[01:39:18] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:39:18] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[01:39:18] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[01:39:18] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[01:39:18] [INFO] [EnemyGrenade] Initialized: 1 grenades
[01:39:18] [ENEMY] [Enemy4] Death animation component initialized
[01:39:18] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:39:18] [INFO] [BloodyFeet:Grenadier] Footprint scene loaded
[01:39:18] [INFO] [BloodyFeet:Grenadier] Found EnemyModel for facing direction
[01:39:18] [INFO] [BloodyFeet:Grenadier] BloodyFeetComponent ready on Grenadier
[01:39:18] [INFO] [EnemyGrenade] Grenade bag built (hard): [Offensive, Offensive, Offensive, Offensive, Offensive, Offensive, Offensive, Defensive]
[01:39:18] [INFO] [EnemyGrenade] Grenadier initialized: 8 grenades in bag
[01:39:18] [ENEMY] [Grenadier] Death animation component initialized
[01:39:18] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:39:18] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[01:39:18] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[01:39:18] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[01:39:18] [ENEMY] [Enemy6] Death animation component initialized
[01:39:18] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:39:18] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[01:39:18] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[01:39:18] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[01:39:18] [INFO] [EnemyGrenade] Initialized: 1 grenades
[01:39:18] [ENEMY] [Enemy7] Death animation component initialized
[01:39:18] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:39:18] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[01:39:18] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[01:39:18] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[01:39:18] [ENEMY] [Enemy8] Death animation component initialized
[01:39:18] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:39:18] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[01:39:18] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[01:39:18] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[01:39:18] [ENEMY] [Enemy9] Death animation component initialized
[01:39:18] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:39:18] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[01:39:18] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[01:39:18] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[01:39:18] [INFO] [EnemyGrenade] Initialized: 1 grenades
[01:39:18] [ENEMY] [Enemy10] Death animation component initialized
[01:39:18] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:39:18] [INFO] [BloodyFeet:Player] Footprint scene loaded
[01:39:18] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[01:39:18] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[01:39:18] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[01:39:18] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[01:39:18] [INFO] [Player.Weapon] GameManager weapon selection: m16 (AssaultRifle)
[01:39:18] [INFO] [Player.Weapon] Removed default MakarovPM
[01:39:18] [INFO] [Player.Weapon] Equipped AssaultRifle (ammo: 30/30)
[01:39:18] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[01:39:18] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[01:39:18] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[01:39:18] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[01:39:18] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[01:39:18] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[01:39:18] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[01:39:18] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[01:39:18] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[01:39:18] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[01:39:18] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[01:39:18] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[01:39:18] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[01:39:18] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[01:39:18] [INFO] [BuildingLevel] Child 'Grenadier': script=true, has_died_signal=true
[01:39:18] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[01:39:18] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[01:39:18] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[01:39:18] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[01:39:18] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[01:39:18] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[01:39:18] [INFO] [BuildingLevel] Setting up weapon: m16
[01:39:18] [INFO] [BuildingLevel] AssaultRifle already equipped by C# Player - skipping GDScript weapon swap
[01:39:18] [INFO] [ScoreManager] Level started with 10 enemies
[01:39:18] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[01:39:18] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[01:39:18] [INFO] [ReplayManager] Replay data cleared
[01:39:18] [INFO] [BuildingLevel] Previous replay data cleared
[01:39:18] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[01:39:18] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[01:39:18] [INFO] [ReplayManager] Level: BuildingLevel
[01:39:18] [INFO] [ReplayManager] Player: Player (valid: True)
[01:39:18] [INFO] [ReplayManager] Enemies count: 10
[01:39:18] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[01:39:18] [INFO] [ReplayManager]   Enemy 0: Enemy1
[01:39:18] [INFO] [ReplayManager]   Enemy 1: Enemy2
[01:39:18] [INFO] [ReplayManager]   Enemy 2: Enemy3
[01:39:18] [INFO] [ReplayManager]   Enemy 3: Enemy4
[01:39:18] [INFO] [ReplayManager]   Enemy 4: Grenadier
[01:39:18] [INFO] [ReplayManager]   Enemy 5: Enemy6
[01:39:18] [INFO] [ReplayManager]   Enemy 6: Enemy7
[01:39:18] [INFO] [ReplayManager]   Enemy 7: Enemy8
[01:39:18] [INFO] [ReplayManager]   Enemy 8: Enemy9
[01:39:18] [INFO] [ReplayManager]   Enemy 9: Enemy10
[01:39:18] [INFO] [BuildingLevel] Replay recording started successfully
[01:39:18] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[01:39:18] [INFO] [CinemaEffects] Found player node: Player
[01:39:18] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[01:39:18] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[01:39:18] [ENEMY] [Enemy1] Registered as sound listener
[01:39:18] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 2, behavior: GUARD
[01:39:18] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[01:39:18] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[01:39:18] [ENEMY] [Enemy2] Registered as sound listener
[01:39:18] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 4, behavior: GUARD
[01:39:18] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[01:39:18] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[01:39:18] [ENEMY] [Enemy3] Registered as sound listener
[01:39:18] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 2, behavior: GUARD
[01:39:18] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[01:39:18] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[01:39:18] [ENEMY] [Enemy4] Registered as sound listener
[01:39:18] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 2, behavior: GUARD
[01:39:18] [INFO] [BloodyFeet:Grenadier] Blood detector created and attached to Grenadier
[01:39:18] [INFO] [SoundPropagation] Registered listener: Grenadier (total: 15)
[01:39:18] [ENEMY] [Grenadier] Registered as sound listener
[01:39:18] [ENEMY] [Grenadier] Spawned at (1700, 350), hp: 2, behavior: GUARD
[01:39:18] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[01:39:18] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[01:39:18] [ENEMY] [Enemy6] Registered as sound listener
[01:39:18] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 3, behavior: GUARD
[01:39:18] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[01:39:18] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[01:39:18] [ENEMY] [Enemy7] Registered as sound listener
[01:39:18] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 4, behavior: PATROL
[01:39:18] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[01:39:18] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[01:39:18] [ENEMY] [Enemy8] Registered as sound listener
[01:39:18] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 4, behavior: GUARD
[01:39:18] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[01:39:18] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[01:39:18] [ENEMY] [Enemy9] Registered as sound listener
[01:39:18] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 4, behavior: GUARD
[01:39:18] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[01:39:18] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[01:39:18] [ENEMY] [Enemy10] Registered as sound listener
[01:39:18] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 3, behavior: PATROL
[01:39:18] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[01:39:18] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[01:39:18] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[01:39:18] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[01:39:18] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=123.7°, current=0.0°, player=(450,1250), corner_timer=0.00
[01:39:18] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[01:39:18] [ENEMY] [Grenadier] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[01:39:18] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[01:39:18] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=157.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[01:39:18] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[01:39:18] [INFO] [Player] Detecting weapon pose (frame 3)...
[01:39:18] [INFO] [Player] Detected weapon: Rifle (default pose)
[01:39:18] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[01:39:18] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[01:39:18] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[01:39:18] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[01:39:18] [INFO] [LastChance] Found player: Player
[01:39:18] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[01:39:18] [INFO] [LastChance] Connected to player Damaged signal (C#)
[01:39:18] [INFO] [LastChance] Connected to player Died signal (C#)
[01:39:18] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[01:39:19] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[01:39:19] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[01:39:19] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:39:19] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[01:39:19] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[01:39:19] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[01:39:19] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[01:39:19] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[01:39:19] [INFO] [LastChance] Resetting all effects (scene change detected)
[01:39:19] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[01:39:19] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[01:39:19] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[01:39:19] [ENEMY] [Enemy1] Death animation component initialized
[01:39:19] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:39:19] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[01:39:19] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[01:39:19] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[01:39:19] [ENEMY] [Enemy2] Death animation component initialized
[01:39:19] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:39:19] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[01:39:19] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[01:39:19] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[01:39:19] [ENEMY] [Enemy3] Death animation component initialized
[01:39:19] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:39:19] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[01:39:19] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[01:39:19] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[01:39:19] [ENEMY] [Enemy4] Death animation component initialized
[01:39:19] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:39:19] [INFO] [BloodyFeet:Grenadier] Footprint scene loaded
[01:39:19] [INFO] [BloodyFeet:Grenadier] Found EnemyModel for facing direction
[01:39:19] [INFO] [BloodyFeet:Grenadier] BloodyFeetComponent ready on Grenadier
[01:39:19] [INFO] [EnemyGrenade] Grenade bag built (hard): [Offensive, Offensive, Offensive, Offensive, Offensive, Offensive, Offensive, Defensive]
[01:39:19] [INFO] [EnemyGrenade] Grenadier initialized: 8 grenades in bag
[01:39:19] [ENEMY] [Grenadier] Death animation component initialized
[01:39:19] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:39:19] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[01:39:19] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[01:39:19] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[01:39:19] [ENEMY] [Enemy6] Death animation component initialized
[01:39:19] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:39:19] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[01:39:19] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[01:39:19] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[01:39:19] [ENEMY] [Enemy7] Death animation component initialized
[01:39:19] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:39:19] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[01:39:19] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[01:39:19] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[01:39:19] [ENEMY] [Enemy8] Death animation component initialized
[01:39:19] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:39:19] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[01:39:19] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[01:39:19] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[01:39:19] [ENEMY] [Enemy9] Death animation component initialized
[01:39:19] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:39:19] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[01:39:19] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[01:39:19] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[01:39:19] [ENEMY] [Enemy10] Death animation component initialized
[01:39:19] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:39:19] [INFO] [BloodyFeet:Player] Footprint scene loaded
[01:39:19] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[01:39:19] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[01:39:19] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[01:39:19] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[01:39:19] [INFO] [Player.Weapon] GameManager weapon selection: m16 (AssaultRifle)
[01:39:19] [INFO] [Player.Weapon] Removed default MakarovPM
[01:39:19] [INFO] [Player.Weapon] Equipped AssaultRifle (ammo: 30/30)
[01:39:19] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[01:39:19] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[01:39:19] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[01:39:19] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[01:39:19] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[01:39:19] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[01:39:19] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[01:39:19] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[01:39:19] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[01:39:19] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[01:39:19] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[01:39:19] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[01:39:19] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[01:39:19] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[01:39:19] [INFO] [BuildingLevel] Child 'Grenadier': script=true, has_died_signal=true
[01:39:19] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[01:39:19] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[01:39:19] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[01:39:19] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[01:39:19] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[01:39:19] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[01:39:19] [INFO] [BuildingLevel] Setting up weapon: m16
[01:39:19] [INFO] [BuildingLevel] AssaultRifle already equipped by C# Player - skipping GDScript weapon swap
[01:39:19] [INFO] [ScoreManager] Level started with 10 enemies
[01:39:19] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[01:39:19] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[01:39:19] [INFO] [ReplayManager] Replay data cleared
[01:39:19] [INFO] [BuildingLevel] Previous replay data cleared
[01:39:19] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[01:39:19] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[01:39:19] [INFO] [ReplayManager] Level: BuildingLevel
[01:39:19] [INFO] [ReplayManager] Player: Player (valid: True)
[01:39:19] [INFO] [ReplayManager] Enemies count: 10
[01:39:19] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[01:39:19] [INFO] [ReplayManager]   Enemy 0: Enemy1
[01:39:19] [INFO] [ReplayManager]   Enemy 1: Enemy2
[01:39:19] [INFO] [ReplayManager]   Enemy 2: Enemy3
[01:39:19] [INFO] [ReplayManager]   Enemy 3: Enemy4
[01:39:19] [INFO] [ReplayManager]   Enemy 4: Grenadier
[01:39:19] [INFO] [ReplayManager]   Enemy 5: Enemy6
[01:39:19] [INFO] [ReplayManager]   Enemy 6: Enemy7
[01:39:19] [INFO] [ReplayManager]   Enemy 7: Enemy8
[01:39:19] [INFO] [ReplayManager]   Enemy 8: Enemy9
[01:39:19] [INFO] [ReplayManager]   Enemy 9: Enemy10
[01:39:19] [INFO] [BuildingLevel] Replay recording started successfully
[01:39:19] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[01:39:19] [INFO] [CinemaEffects] Found player node: Player
[01:39:19] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[01:39:19] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 21)
[01:39:19] [ENEMY] [Enemy1] Registered as sound listener
[01:39:19] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 2, behavior: GUARD
[01:39:19] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[01:39:19] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 22)
[01:39:19] [ENEMY] [Enemy2] Registered as sound listener
[01:39:19] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 4, behavior: GUARD
[01:39:19] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[01:39:19] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 23)
[01:39:19] [ENEMY] [Enemy3] Registered as sound listener
[01:39:19] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 3, behavior: GUARD
[01:39:19] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[01:39:19] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 24)
[01:39:19] [ENEMY] [Enemy4] Registered as sound listener
[01:39:19] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 4, behavior: GUARD
[01:39:19] [INFO] [BloodyFeet:Grenadier] Blood detector created and attached to Grenadier
[01:39:19] [INFO] [SoundPropagation] Registered listener: Grenadier (total: 25)
[01:39:19] [ENEMY] [Grenadier] Registered as sound listener
[01:39:19] [ENEMY] [Grenadier] Spawned at (1700, 350), hp: 2, behavior: GUARD
[01:39:19] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[01:39:19] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 26)
[01:39:19] [ENEMY] [Enemy6] Registered as sound listener
[01:39:19] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 4, behavior: GUARD
[01:39:19] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[01:39:19] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 27)
[01:39:19] [ENEMY] [Enemy7] Registered as sound listener
[01:39:19] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 2, behavior: PATROL
[01:39:19] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[01:39:19] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 28)
[01:39:19] [ENEMY] [Enemy8] Registered as sound listener
[01:39:19] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 3, behavior: GUARD
[01:39:19] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[01:39:19] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 29)
[01:39:19] [ENEMY] [Enemy9] Registered as sound listener
[01:39:19] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 3, behavior: GUARD
[01:39:19] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[01:39:19] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 30)
[01:39:19] [ENEMY] [Enemy10] Registered as sound listener
[01:39:19] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 3, behavior: PATROL
[01:39:19] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[01:39:19] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[01:39:19] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[01:39:19] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[01:39:19] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=123.7°, current=0.0°, player=(450,1250), corner_timer=0.00
[01:39:19] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[01:39:19] [ENEMY] [Grenadier] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=180.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[01:39:19] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=225.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[01:39:19] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=213.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[01:39:19] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[01:39:19] [INFO] [Player] Detecting weapon pose (frame 3)...
[01:39:19] [INFO] [Player] Detected weapon: Rifle (default pose)
[01:39:19] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[01:39:19] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[01:39:19] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[01:39:19] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[01:39:19] [INFO] [LastChance] Found player: Player
[01:39:19] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[01:39:19] [INFO] [LastChance] Connected to player Damaged signal (C#)
[01:39:19] [INFO] [LastChance] Connected to player Died signal (C#)
[01:39:19] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[01:39:20] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[01:39:21] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[01:39:21] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[01:39:21] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(286,915), corner_timer=0.30
[01:39:21] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(286,915), corner_timer=0.30
[01:39:21] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(278,880), corner_timer=-0.02
[01:39:21] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[01:39:21] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(278,880), corner_timer=-0.02
[01:39:21] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[01:39:21] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(278,880), corner_timer=0.30
[01:39:21] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(278,880), corner_timer=0.30
[01:39:21] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[01:39:21] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(278,880), corner_timer=-0.02
[01:39:21] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[01:39:21] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(278,880), corner_timer=0.30
[01:39:22] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(278,880), corner_timer=-0.02
[01:39:22] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[01:39:22] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.6°, player=(278,880), corner_timer=0.30
[01:39:22] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(278,880), corner_timer=-0.02
[01:39:22] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[01:39:22] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.8°, current=6.3°, player=(278,880), corner_timer=0.30
[01:39:22] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=10
[01:39:22] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.8°, player=(278,880), corner_timer=-0.02
[01:39:22] [ENEMY] [Enemy10] PATROL corner check: angle 0.9°
[01:39:22] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=0.9°, current=4.6°, player=(278,880), corner_timer=0.30
[01:39:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(278.3358, 880.9065), source=PLAYER (AssaultRifle), range=1469, listeners=30
[01:39:22] [INFO] [SoundPropagation] Cleaned up 20 invalid listeners
[01:39:22] [ENEMY] [Enemy2] Heard gunshot at (278.3358, 880.9065), source_type=0, intensity=0.02, distance=353
[01:39:22] [ENEMY] [Enemy3] Heard gunshot at (278.3358, 880.9065), source_type=0, intensity=0.01, distance=442
[01:39:22] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=4, self=0, below_threshold=4
[01:39:22] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=110.2°, current=-157.5°, player=(278,880), corner_timer=0.00
[01:39:22] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=162.8°, current=123.7°, player=(278,880), corner_timer=0.00
[01:39:23] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[01:39:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(278.3358, 880.9065), source=PLAYER (AssaultRifle), range=1469, listeners=10
[01:39:23] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=4, self=0, below_threshold=4
[01:39:23] [ENEMY] [Enemy4] Memory: medium confidence (0.62) - transitioning to PURSUING
[01:39:23] [ENEMY] [Enemy4] State: IDLE -> PURSUING
[01:39:23] [ENEMY] [Enemy1] Memory: medium confidence (0.62) - transitioning to PURSUING
[01:39:23] [ENEMY] [Enemy1] State: IDLE -> PURSUING
[01:39:23] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=-177.9°, current=-67.5°, player=(278,880), corner_timer=0.00
[01:39:23] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=92.3°, current=-33.8°, player=(278,880), corner_timer=0.00
[01:39:23] [ENEMY] [Enemy1] PURSUING corner check: angle -50.9°
[01:39:23] [ENEMY] [Enemy4] PURSUING corner check: angle -100.7°
[01:39:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(278.3358, 880.9065), source=PLAYER (AssaultRifle), range=1469, listeners=10
[01:39:23] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=4, self=0, below_threshold=4
[01:39:23] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=-130.1°, player=(278,880), corner_timer=-0.02
[01:39:23] [ENEMY] [Enemy7] PATROL corner check: angle 90.0°
[01:39:23] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=-133.0°, player=(278,880), corner_timer=0.30
[01:39:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(278.3358, 880.9065), source=PLAYER (AssaultRifle), range=1469, listeners=10
[01:39:23] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=3
[01:39:23] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[01:39:23] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P4:velocity, state=RETREATING, target=162.8°, current=-125.1°, player=(278,880), corner_timer=0.00
[01:39:23] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[01:39:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(278.3358, 880.9065), source=PLAYER (AssaultRifle), range=1469, listeners=10
[01:39:23] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=4, self=0, below_threshold=2
[01:39:23] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[01:39:23] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[01:39:23] [ENEMY] [Enemy1] PURSUING corner check: angle -51.1°
[01:39:23] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[01:39:23] [INFO] [ReplayManager] Recording frame 240 (4,0s): player_valid=True, enemies=10
[01:39:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(278.33585, 880.9065), shooter_id=381463563501, bullet_pos=(1548.3875, 327.62683)
[01:39:23] [INFO] [Bullet] Using shooter_position, distance=1385,3337
[01:39:23] [INFO] [Bullet] Distance to wall: 1385,3337 (94,329926% of viewport)
[01:39:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(278.3358, 880.9065), source=PLAYER (AssaultRifle), range=1469, listeners=10
[01:39:23] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=4, self=0, below_threshold=2
[01:39:23] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=179.1°, current=172.4°, player=(278,880), corner_timer=-0.02
[01:39:23] [ENEMY] [Enemy7] PATROL corner check: angle 89.8°
[01:39:23] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.8°, current=175.3°, player=(278,880), corner_timer=0.30
[01:39:23] [ENEMY] [Enemy4] PURSUING corner check: angle -94.0°
[01:39:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(278.33585, 880.9065), shooter_id=381463563501, bullet_pos=(1548.3837, 327.62073)
[01:39:23] [INFO] [Bullet] Using shooter_position, distance=1385,3326
[01:39:23] [INFO] [Bullet] Distance to wall: 1385,3326 (94,32985% of viewport)
[01:39:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(278.3358, 880.9065), source=PLAYER (AssaultRifle), range=1469, listeners=10
[01:39:23] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=4, self=0, below_threshold=2
[01:39:23] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[01:39:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(278.33585, 880.9065), shooter_id=381463563501, bullet_pos=(1548.3834, 327.6183)
[01:39:23] [INFO] [Bullet] Using shooter_position, distance=1385,3335
[01:39:23] [INFO] [Bullet] Distance to wall: 1385,3335 (94,3299% of viewport)
[01:39:23] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[01:39:23] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:39:23] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[01:39:23] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[01:39:23] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[01:39:23] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[01:39:23] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[01:39:23] [INFO] [LastChance] Resetting all effects (scene change detected)
[01:39:23] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[01:39:23] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[01:39:23] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[01:39:23] [ENEMY] [Enemy1] Death animation component initialized
[01:39:23] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:39:23] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[01:39:23] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[01:39:23] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[01:39:23] [ENEMY] [Enemy2] Death animation component initialized
[01:39:23] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:39:23] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[01:39:23] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[01:39:23] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[01:39:23] [INFO] [EnemyGrenade] Initialized: 1 grenades
[01:39:23] [ENEMY] [Enemy3] Death animation component initialized
[01:39:23] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:39:23] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[01:39:23] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[01:39:23] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[01:39:23] [ENEMY] [Enemy4] Death animation component initialized
[01:39:23] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:39:23] [INFO] [BloodyFeet:Grenadier] Footprint scene loaded
[01:39:23] [INFO] [BloodyFeet:Grenadier] Found EnemyModel for facing direction
[01:39:23] [INFO] [BloodyFeet:Grenadier] BloodyFeetComponent ready on Grenadier
[01:39:23] [INFO] [EnemyGrenade] Grenade bag built (hard): [Offensive, Offensive, Offensive, Offensive, Offensive, Offensive, Offensive, Defensive]
[01:39:23] [INFO] [EnemyGrenade] Grenadier initialized: 8 grenades in bag
[01:39:23] [ENEMY] [Grenadier] Death animation component initialized
[01:39:23] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:39:23] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[01:39:23] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[01:39:23] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[01:39:23] [ENEMY] [Enemy6] Death animation component initialized
[01:39:23] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:39:23] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[01:39:23] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[01:39:23] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[01:39:23] [ENEMY] [Enemy7] Death animation component initialized
[01:39:23] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:39:23] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[01:39:23] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[01:39:23] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[01:39:23] [ENEMY] [Enemy8] Death animation component initialized
[01:39:23] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:39:23] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[01:39:23] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[01:39:23] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[01:39:23] [ENEMY] [Enemy9] Death animation component initialized
[01:39:23] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:39:23] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[01:39:23] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[01:39:23] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[01:39:23] [ENEMY] [Enemy10] Death animation component initialized
[01:39:23] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:39:23] [INFO] [BloodyFeet:Player] Footprint scene loaded
[01:39:23] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[01:39:23] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[01:39:23] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[01:39:23] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[01:39:23] [INFO] [Player.Weapon] GameManager weapon selection: m16 (AssaultRifle)
[01:39:23] [INFO] [Player.Weapon] Removed default MakarovPM
[01:39:23] [INFO] [Player.Weapon] Equipped AssaultRifle (ammo: 30/30)
[01:39:23] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[01:39:23] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[01:39:23] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[01:39:23] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[01:39:23] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[01:39:23] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[01:39:23] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[01:39:23] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[01:39:23] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[01:39:23] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[01:39:23] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[01:39:23] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[01:39:23] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[01:39:23] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[01:39:23] [INFO] [BuildingLevel] Child 'Grenadier': script=true, has_died_signal=true
[01:39:23] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[01:39:23] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[01:39:23] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[01:39:23] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[01:39:23] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[01:39:23] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[01:39:23] [INFO] [BuildingLevel] Setting up weapon: m16
[01:39:23] [INFO] [BuildingLevel] AssaultRifle already equipped by C# Player - skipping GDScript weapon swap
[01:39:23] [INFO] [ScoreManager] Level started with 10 enemies
[01:39:23] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[01:39:23] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[01:39:23] [INFO] [ReplayManager] Replay data cleared
[01:39:23] [INFO] [BuildingLevel] Previous replay data cleared
[01:39:23] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[01:39:23] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[01:39:23] [INFO] [ReplayManager] Level: BuildingLevel
[01:39:23] [INFO] [ReplayManager] Player: Player (valid: True)
[01:39:23] [INFO] [ReplayManager] Enemies count: 10
[01:39:23] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[01:39:23] [INFO] [ReplayManager]   Enemy 0: Enemy1
[01:39:23] [INFO] [ReplayManager]   Enemy 1: Enemy2
[01:39:23] [INFO] [ReplayManager]   Enemy 2: Enemy3
[01:39:23] [INFO] [ReplayManager]   Enemy 3: Enemy4
[01:39:23] [INFO] [ReplayManager]   Enemy 4: Grenadier
[01:39:23] [INFO] [ReplayManager]   Enemy 5: Enemy6
[01:39:23] [INFO] [ReplayManager]   Enemy 6: Enemy7
[01:39:23] [INFO] [ReplayManager]   Enemy 7: Enemy8
[01:39:23] [INFO] [ReplayManager]   Enemy 8: Enemy9
[01:39:23] [INFO] [ReplayManager]   Enemy 9: Enemy10
[01:39:23] [INFO] [BuildingLevel] Replay recording started successfully
[01:39:23] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[01:39:23] [INFO] [CinemaEffects] Found player node: Player
[01:39:23] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[01:39:23] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[01:39:23] [ENEMY] [Enemy1] Registered as sound listener
[01:39:23] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 3, behavior: GUARD
[01:39:23] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[01:39:23] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[01:39:23] [ENEMY] [Enemy2] Registered as sound listener
[01:39:23] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 4, behavior: GUARD
[01:39:23] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[01:39:23] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[01:39:23] [ENEMY] [Enemy3] Registered as sound listener
[01:39:23] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 3, behavior: GUARD
[01:39:23] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[01:39:23] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[01:39:23] [ENEMY] [Enemy4] Registered as sound listener
[01:39:23] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 4, behavior: GUARD
[01:39:23] [INFO] [BloodyFeet:Grenadier] Blood detector created and attached to Grenadier
[01:39:23] [INFO] [SoundPropagation] Registered listener: Grenadier (total: 15)
[01:39:23] [ENEMY] [Grenadier] Registered as sound listener
[01:39:23] [ENEMY] [Grenadier] Spawned at (1700, 350), hp: 2, behavior: GUARD
[01:39:23] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[01:39:23] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[01:39:23] [ENEMY] [Enemy6] Registered as sound listener
[01:39:23] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 2, behavior: GUARD
[01:39:23] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[01:39:23] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[01:39:23] [ENEMY] [Enemy7] Registered as sound listener
[01:39:23] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 2, behavior: PATROL
[01:39:23] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[01:39:23] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[01:39:23] [ENEMY] [Enemy8] Registered as sound listener
[01:39:23] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 3, behavior: GUARD
[01:39:23] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[01:39:23] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[01:39:23] [ENEMY] [Enemy9] Registered as sound listener
[01:39:23] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 4, behavior: GUARD
[01:39:23] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[01:39:23] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[01:39:23] [ENEMY] [Enemy10] Registered as sound listener
[01:39:23] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 4, behavior: PATROL
[01:39:23] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[01:39:24] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[01:39:24] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[01:39:24] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=45.0°, current=0.0°, player=(450,1249), corner_timer=0.00
[01:39:24] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[01:39:24] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[01:39:24] [ENEMY] [Grenadier] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[01:39:24] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[01:39:24] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[01:39:24] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[01:39:24] [INFO] [Player] Detecting weapon pose (frame 3)...
[01:39:24] [INFO] [Player] Detected weapon: Rifle (default pose)
[01:39:24] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[01:39:24] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[01:39:24] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[01:39:24] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[01:39:24] [INFO] [LastChance] Found player: Player
[01:39:24] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[01:39:24] [INFO] [LastChance] Connected to player Damaged signal (C#)
[01:39:24] [INFO] [LastChance] Connected to player Died signal (C#)
[01:39:24] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[01:39:25] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[01:39:25] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[01:39:25] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[01:39:25] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(297,844), corner_timer=0.30
[01:39:25] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(297,844), corner_timer=0.30
[01:39:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(282.0825, 828.7199), source=PLAYER (AssaultRifle), range=1469, listeners=20
[01:39:25] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[01:39:25] [ENEMY] [Enemy1] Heard gunshot at (282.0825, 828.7199), source_type=0, intensity=0.01, distance=479
[01:39:25] [ENEMY] [Enemy2] Heard gunshot at (282.0825, 828.7199), source_type=0, intensity=0.03, distance=303
[01:39:25] [ENEMY] [Enemy3] Heard gunshot at (282.0825, 828.7199), source_type=0, intensity=0.01, distance=425
[01:39:25] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=3
[01:39:25] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=92.1°, current=-157.5°, player=(282,828), corner_timer=0.00
[01:39:25] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=112.9°, current=45.0°, player=(282,828), corner_timer=0.00
[01:39:25] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=169.3°, current=-33.8°, player=(282,828), corner_timer=0.00
[01:39:25] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=170.0°, current=132.7°, player=(278,824), corner_timer=0.00
[01:39:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(263.4818, 797.9244), source=PLAYER (AssaultRifle), range=1469, listeners=10
[01:39:25] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=3
[01:39:25] [ENEMY] [Enemy3] Hit: dmg=1, hp=3/3->2/3
[01:39:25] [INFO] [ImpactEffects] spawn_blood_effect called at (657.8056, 756.2299), dir=(1, 0), lethal=false
[01:39:25] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:39:25] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[01:39:25] [INFO] [ImpactEffects] Blood effect spawned at (657.8056, 756.2299) (scale=1)
[01:39:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(638.6613, 757.6655), source=ENEMY (Enemy3), range=1469, listeners=10
[01:39:25] [ENEMY] [Enemy4] Heard gunshot at (638.6613, 757.6655), source_type=1, intensity=0.05, distance=215
[01:39:25] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[01:39:25] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=-166.9°, current=168.8°, player=(259,774), corner_timer=0.00
[01:39:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(259.3152, 765.7291), source=PLAYER (AssaultRifle), range=1469, listeners=10
[01:39:25] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=3
[01:39:25] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.2°, player=(259,757), corner_timer=-0.01
[01:39:25] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[01:39:25] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=51.0°, player=(259,757), corner_timer=-0.01
[01:39:25] [ENEMY] [Enemy10] PATROL corner check: angle 14.4°
[01:39:25] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(259,754), corner_timer=0.30
[01:39:25] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.4°, current=52.8°, player=(259,754), corner_timer=0.30
[01:39:25] [INFO] [LastChance] Threat detected: Bullet
[01:39:25] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[01:39:25] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:39:25] [INFO] [EnemyGrenade] Unsafe throw distance (175 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:39:25] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[01:39:25] [INFO] [EnemyGrenade] Unsafe throw distance (173 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:39:25] [INFO] [EnemyGrenade] Unsafe throw distance (172 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:39:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(258.9654, 738.5372), source=PLAYER (AssaultRifle), range=1469, listeners=10
[01:39:25] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=3
[01:39:25] [INFO] [EnemyGrenade] Unsafe throw distance (172 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:39:26] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[01:39:26] [INFO] [EnemyGrenade] Unsafe throw distance (172 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:39:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(600.3726, 765.342), source=ENEMY (Enemy3), range=1469, listeners=10
[01:39:26] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[01:39:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(263.48175, 797.92444), shooter_id=483888466473, bullet_pos=(928.711, 672.22894)
[01:39:26] [INFO] [Bullet] Using shooter_position, distance=677,0002
[01:39:26] [INFO] [Bullet] Distance to wall: 677,0002 (46,098186% of viewport)
[01:39:26] [INFO] [Bullet] Distance-based penetration chance: 92,885445%
[01:39:26] [INFO] [Bullet] Starting wall penetration at (928.711, 672.22894)
[01:39:26] [INFO] [Bullet] Raycast backward hit penetrating body at distance 30,915396
[01:39:26] [INFO] [Bullet] Body exited signal received for penetrating body
[01:39:26] [INFO] [Bullet] Exiting penetration at (966.37787, 665.11176) after traveling 33,333336 pixels through wall
[01:39:26] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[01:39:26] [INFO] [EnemyGrenade] Unsafe throw distance (170 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:39:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(571.37976, 768.4245), shooter_id=480533022250, bullet_pos=(38.438248, 788.86005)
[01:39:26] [INFO] [Bullet] Using shooter_position, distance=533,3332
[01:39:26] [INFO] [Bullet] Distance to wall: 533,3332 (36,31564% of viewport)
[01:39:26] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:39:26] [INFO] [Bullet] Starting wall penetration at (38.438248, 788.86005)
[01:39:26] [INFO] [EnemyGrenade] Unsafe throw distance (170 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:39:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(595.1666, 774.652), source=ENEMY (Enemy3), range=1469, listeners=10
[01:39:26] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=5
[01:39:26] [INFO] [Bullet] Raycast backward hit penetrating body at distance 31,890354
[01:39:26] [INFO] [Bullet] Body exited signal received for penetrating body
[01:39:26] [INFO] [Bullet] Exiting penetration at (0.13306427, 790.32886) after traveling 33,333332 pixels through wall
[01:39:26] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[01:39:26] [INFO] [EnemyGrenade] Unsafe throw distance (169 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:39:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(258.821, 728.0669), source=PLAYER (AssaultRifle), range=1469, listeners=10
[01:39:26] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=3
[01:39:26] [INFO] [EnemyGrenade] Unsafe throw distance (169 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:39:26] [INFO] [BloodDecal] Blood puddle created at (724.0261, 756.8951) (added to group)
[01:39:26] [INFO] [EnemyGrenade] Unsafe throw distance (169 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:39:26] [INFO] [EnemyGrenade] Unsafe throw distance (168 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:39:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(258.821, 728.0669), shooter_id=483888466473, bullet_pos=(410.29028, 715.3755)
[01:39:26] [INFO] [Bullet] Using shooter_position, distance=152,00005
[01:39:26] [INFO] [Bullet] Distance to wall: 152,00005 (10,349963% of viewport)
[01:39:26] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:39:26] [INFO] [Bullet] Starting wall penetration at (410.29028, 715.3755)
[01:39:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(259.3152, 765.72906), shooter_id=483888466473, bullet_pos=(973.85974, 688.8649)
[01:39:26] [INFO] [Bullet] Using shooter_position, distance=718,6669
[01:39:26] [INFO] [Bullet] Distance to wall: 718,6669 (48,935352% of viewport)
[01:39:26] [INFO] [Bullet] Distance-based penetration chance: 89,575424%
[01:39:26] [INFO] [Bullet] Starting wall penetration at (973.85974, 688.8649)
[01:39:26] [INFO] [EnemyGrenade] Unsafe throw distance (168 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:39:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(589.9606, 783.962), source=ENEMY (Enemy3), range=1469, listeners=10
[01:39:26] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=5
[01:39:26] [INFO] [Bullet] Raycast backward hit penetrating body at distance 30,246433
[01:39:26] [INFO] [Bullet] Raycast forward hit penetrating body at distance 2,0935836
[01:39:26] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[01:39:26] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[01:39:26] [INFO] [EnemyGrenade] Unsafe throw distance (168 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:39:26] [INFO] [Bullet] Max penetration distance exceeded: 66,66667 >= 48
[01:39:26] [INFO] [Bullet] Max penetration distance exceeded: 66,666664 >= 48
[01:39:26] [INFO] [Bullet] Body exited signal received for penetrating body
[01:39:26] [INFO] [Bullet] Exiting penetration at (1045.1154, 681.1999) after traveling 66,66667 pixels through wall
[01:39:26] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[01:39:26] [INFO] [Bullet] Body exited signal received for penetrating body
[01:39:26] [INFO] [Bullet] Exiting penetration at (481.70673, 709.3916) after traveling 66,666664 pixels through wall
[01:39:26] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[01:39:26] [INFO] [BloodDecal] Blood puddle created at (724.9396, 781.5406) (added to group)
[01:39:26] [INFO] [EnemyGrenade] Unsafe throw distance (167 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:39:26] [INFO] [EnemyGrenade] Unsafe throw distance (166 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:39:26] [INFO] [EnemyGrenade] Unsafe throw distance (166 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:39:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(258.821, 728.0669), source=PLAYER (AssaultRifle), range=1469, listeners=10
[01:39:26] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=3
[01:39:26] [INFO] [LastChance] Threat detected: Bullet
[01:39:26] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[01:39:26] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:39:26] [INFO] [EnemyGrenade] Unsafe throw distance (164 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:39:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(532.60315, 766.8553), shooter_id=480533022250, bullet_pos=(40.36944, 854.6397)
[01:39:26] [INFO] [Bullet] Using shooter_position, distance=500,00012
[01:39:26] [INFO] [Bullet] Distance to wall: 500,00012 (34,04593% of viewport)
[01:39:26] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:39:26] [INFO] [Bullet] Starting wall penetration at (40.36944, 854.6397)
[01:39:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(258.96536, 738.5372), shooter_id=483888466473, bullet_pos=(908.9404, 687.1946)
[01:39:26] [INFO] [Bullet] Using shooter_position, distance=651,99976
[01:39:26] [INFO] [Bullet] Distance to wall: 651,99976 (44,395863% of viewport)
[01:39:26] [INFO] [EnemyGrenade] Unsafe throw distance (164 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:39:26] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.2°, player=(258,728), corner_timer=-0.01
[01:39:26] [ENEMY] [Enemy10] PATROL corner check: angle 7.2°
[01:39:26] [INFO] [Bullet] Raycast backward hit penetrating body at distance 29,831848
[01:39:26] [INFO] [Bullet] Body exited signal received for penetrating body
[01:39:26] [INFO] [Bullet] Exiting penetration at (2.631527, 861.3699) after traveling 33,333336 pixels through wall
[01:39:26] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[01:39:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(258.821, 728.0669), shooter_id=483888466473, bullet_pos=(376.72513, 714.63544)
[01:39:26] [INFO] [Bullet] Using shooter_position, distance=118,666695
[01:39:26] [INFO] [Bullet] Distance to wall: 118,666695 (8,080234% of viewport)
[01:39:26] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:39:26] [INFO] [Bullet] Starting wall penetration at (376.72513, 714.63544)
[01:39:26] [INFO] [EnemyGrenade] Unsafe throw distance (162 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:39:26] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.2°, current=16.3°, player=(258,728), corner_timer=0.30
[01:39:26] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[01:39:26] [INFO] [Bullet] Exiting penetration at (414.81213, 710.29663) after traveling 33,333336 pixels through wall
[01:39:26] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[01:39:26] [INFO] [BloodDecal] Blood puddle created at (731.2972, 765.17) (added to group)
[01:39:26] [INFO] [EnemyGrenade] Unsafe throw distance (161 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:39:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(522.5387, 780.47296), shooter_id=480533022250, bullet_pos=(264.36902, 713.6927)
[01:39:26] [INFO] [Bullet] Using shooter_position, distance=266,6668
[01:39:26] [INFO] [Bullet] Distance to wall: 266,6668 (18,157833% of viewport)
[01:39:26] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:39:26] [INFO] [Player] Spawning blood effect at (258.821, 728.0669), dir=(1, 0), lethal=False (C#)
[01:39:26] [INFO] [ImpactEffects] spawn_blood_effect called at (258.821, 728.0669), dir=(1, 0), lethal=false
[01:39:26] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:39:26] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[01:39:26] [INFO] [ImpactEffects] Blood effect spawned at (258.821, 728.0669) (scale=1)
[01:39:26] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[01:39:26] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[01:39:26] [INFO] [EnemyGrenade] Unsafe throw distance (160 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:39:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(527.4818, 773.14404), shooter_id=480533022250, bullet_pos=(60.893097, 764.6205)
[01:39:26] [INFO] [Bullet] Using shooter_position, distance=466,66656
[01:39:26] [INFO] [Bullet] Distance to wall: 466,66656 (31,776186% of viewport)
[01:39:26] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:39:26] [INFO] [Bullet] Starting wall penetration at (60.893097, 764.6205)
[01:39:26] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=131.3°, current=-174.9°, player=(258,728), corner_timer=0.00
[01:39:26] [INFO] [EnemyGrenade] Unsafe throw distance (159 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:39:26] [INFO] [Bullet] Raycast backward hit penetrating body at distance 9,435415
[01:39:26] [INFO] [Bullet] Body exited signal received for penetrating body
[01:39:26] [INFO] [Bullet] Exiting penetration at (22.566158, 763.92035) after traveling 33,333332 pixels through wall
[01:39:26] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[01:39:26] [INFO] [EnemyGrenade] Unsafe throw distance (158 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:39:26] [INFO] [EnemyGrenade] Unsafe throw distance (158 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:39:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(258.821, 728.0669), source=PLAYER (AssaultRifle), range=1469, listeners=10
[01:39:26] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=3
[01:39:26] [INFO] [EnemyGrenade] Unsafe throw distance (158 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:39:26] [INFO] [EnemyGrenade] Unsafe throw distance (157 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:39:26] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[01:39:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(258.821, 728.0669), shooter_id=483888466473, bullet_pos=(376.41302, 712.13293)
[01:39:26] [INFO] [Bullet] Using shooter_position, distance=118,66664
[01:39:26] [INFO] [Bullet] Distance to wall: 118,66664 (8,08023% of viewport)
[01:39:26] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:39:26] [INFO] [EnemyGrenade] Unsafe throw distance (156 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:39:26] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[01:39:26] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[01:39:26] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[01:39:26] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:39:26] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[01:39:26] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[01:39:26] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[01:39:26] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[01:39:26] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[01:39:26] [INFO] [LastChance] Resetting all effects (scene change detected)
[01:39:26] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[01:39:26] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[01:39:26] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[01:39:26] [INFO] [EnemyGrenade] Initialized: 1 grenades
[01:39:26] [ENEMY] [Enemy1] Death animation component initialized
[01:39:26] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:39:26] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[01:39:26] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[01:39:26] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[01:39:26] [ENEMY] [Enemy2] Death animation component initialized
[01:39:26] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:39:26] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[01:39:26] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[01:39:26] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[01:39:26] [INFO] [EnemyGrenade] Initialized: 1 grenades
[01:39:26] [ENEMY] [Enemy3] Death animation component initialized
[01:39:26] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:39:26] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[01:39:26] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[01:39:26] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[01:39:26] [INFO] [EnemyGrenade] Initialized: 1 grenades
[01:39:26] [ENEMY] [Enemy4] Death animation component initialized
[01:39:26] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:39:26] [INFO] [BloodyFeet:Grenadier] Footprint scene loaded
[01:39:26] [INFO] [BloodyFeet:Grenadier] Found EnemyModel for facing direction
[01:39:26] [INFO] [BloodyFeet:Grenadier] BloodyFeetComponent ready on Grenadier
[01:39:26] [INFO] [EnemyGrenade] Grenade bag built (hard): [Offensive, Offensive, Offensive, Offensive, Offensive, Offensive, Offensive, Defensive]
[01:39:26] [INFO] [EnemyGrenade] Grenadier initialized: 8 grenades in bag
[01:39:26] [ENEMY] [Grenadier] Death animation component initialized
[01:39:26] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:39:26] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[01:39:26] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[01:39:26] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[01:39:26] [ENEMY] [Enemy6] Death animation component initialized
[01:39:26] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:39:26] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[01:39:26] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[01:39:26] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[01:39:26] [ENEMY] [Enemy7] Death animation component initialized
[01:39:26] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:39:26] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[01:39:26] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[01:39:26] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[01:39:26] [INFO] [EnemyGrenade] Initialized: 1 grenades
[01:39:26] [ENEMY] [Enemy8] Death animation component initialized
[01:39:26] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:39:26] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[01:39:26] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[01:39:26] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[01:39:26] [INFO] [EnemyGrenade] Initialized: 1 grenades
[01:39:26] [ENEMY] [Enemy9] Death animation component initialized
[01:39:26] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:39:26] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[01:39:26] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[01:39:26] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[01:39:26] [ENEMY] [Enemy10] Death animation component initialized
[01:39:26] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:39:26] [INFO] [BloodyFeet:Player] Footprint scene loaded
[01:39:26] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[01:39:26] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[01:39:26] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[01:39:26] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[01:39:26] [INFO] [Player.Weapon] GameManager weapon selection: m16 (AssaultRifle)
[01:39:26] [INFO] [Player.Weapon] Removed default MakarovPM
[01:39:26] [INFO] [Player.Weapon] Equipped AssaultRifle (ammo: 30/30)
[01:39:26] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[01:39:26] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[01:39:26] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[01:39:26] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[01:39:26] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[01:39:26] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[01:39:26] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[01:39:26] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[01:39:26] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[01:39:26] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[01:39:26] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[01:39:26] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[01:39:26] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[01:39:26] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[01:39:26] [INFO] [BuildingLevel] Child 'Grenadier': script=true, has_died_signal=true
[01:39:26] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[01:39:26] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[01:39:26] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[01:39:26] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[01:39:26] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[01:39:26] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[01:39:26] [INFO] [BuildingLevel] Setting up weapon: m16
[01:39:26] [INFO] [BuildingLevel] AssaultRifle already equipped by C# Player - skipping GDScript weapon swap
[01:39:26] [INFO] [ScoreManager] Level started with 10 enemies
[01:39:26] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[01:39:26] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[01:39:26] [INFO] [ReplayManager] Replay data cleared
[01:39:26] [INFO] [BuildingLevel] Previous replay data cleared
[01:39:26] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[01:39:26] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[01:39:26] [INFO] [ReplayManager] Level: BuildingLevel
[01:39:26] [INFO] [ReplayManager] Player: Player (valid: True)
[01:39:26] [INFO] [ReplayManager] Enemies count: 10
[01:39:26] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[01:39:26] [INFO] [ReplayManager]   Enemy 0: Enemy1
[01:39:26] [INFO] [ReplayManager]   Enemy 1: Enemy2
[01:39:26] [INFO] [ReplayManager]   Enemy 2: Enemy3
[01:39:26] [INFO] [ReplayManager]   Enemy 3: Enemy4
[01:39:26] [INFO] [ReplayManager]   Enemy 4: Grenadier
[01:39:26] [INFO] [ReplayManager]   Enemy 5: Enemy6
[01:39:26] [INFO] [ReplayManager]   Enemy 6: Enemy7
[01:39:26] [INFO] [ReplayManager]   Enemy 7: Enemy8
[01:39:26] [INFO] [ReplayManager]   Enemy 8: Enemy9
[01:39:26] [INFO] [ReplayManager]   Enemy 9: Enemy10
[01:39:26] [INFO] [BuildingLevel] Replay recording started successfully
[01:39:26] [INFO] [BloodDecal] Blood puddle created at (841.5963, 764.8861) (added to group)
[01:39:26] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[01:39:26] [INFO] [CinemaEffects] Found player node: Player
[01:39:26] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[01:39:26] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[01:39:26] [ENEMY] [Enemy1] Registered as sound listener
[01:39:26] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 3, behavior: GUARD
[01:39:26] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[01:39:26] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[01:39:26] [ENEMY] [Enemy2] Registered as sound listener
[01:39:26] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 2, behavior: GUARD
[01:39:26] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[01:39:26] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[01:39:26] [ENEMY] [Enemy3] Registered as sound listener
[01:39:26] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 2, behavior: GUARD
[01:39:26] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[01:39:26] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[01:39:26] [ENEMY] [Enemy4] Registered as sound listener
[01:39:26] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 3, behavior: GUARD
[01:39:26] [INFO] [BloodyFeet:Grenadier] Blood detector created and attached to Grenadier
[01:39:26] [INFO] [SoundPropagation] Registered listener: Grenadier (total: 15)
[01:39:26] [ENEMY] [Grenadier] Registered as sound listener
[01:39:26] [ENEMY] [Grenadier] Spawned at (1700, 350), hp: 2, behavior: GUARD
[01:39:26] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[01:39:26] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[01:39:26] [ENEMY] [Enemy6] Registered as sound listener
[01:39:26] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 3, behavior: GUARD
[01:39:26] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[01:39:26] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[01:39:26] [ENEMY] [Enemy7] Registered as sound listener
[01:39:26] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 3, behavior: PATROL
[01:39:26] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[01:39:26] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[01:39:26] [ENEMY] [Enemy8] Registered as sound listener
[01:39:26] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 2, behavior: GUARD
[01:39:26] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[01:39:26] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[01:39:26] [ENEMY] [Enemy9] Registered as sound listener
[01:39:26] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 4, behavior: GUARD
[01:39:26] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[01:39:26] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[01:39:26] [ENEMY] [Enemy10] Registered as sound listener
[01:39:26] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 3, behavior: PATROL
[01:39:26] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[01:39:26] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[01:39:26] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[01:39:26] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[01:39:26] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[01:39:26] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[01:39:26] [ENEMY] [Grenadier] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[01:39:26] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[01:39:26] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[01:39:26] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[01:39:26] [INFO] [Player] Detecting weapon pose (frame 3)...
[01:39:26] [INFO] [Player] Detected weapon: Rifle (default pose)
[01:39:26] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[01:39:26] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[01:39:26] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[01:39:26] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[01:39:26] [INFO] [LastChance] Found player: Player
[01:39:26] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[01:39:26] [INFO] [LastChance] Connected to player Damaged signal (C#)
[01:39:26] [INFO] [LastChance] Connected to player Died signal (C#)
[01:39:26] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[01:39:26] [INFO] [BloodDecal] Blood puddle created at (867.1585, 809.3721) (added to group)
[01:39:26] [INFO] [BloodDecal] Blood puddle created at (788.9264, 817.9686) (added to group)
[01:39:26] [INFO] [BloodDecal] Blood puddle created at (363.4142, 770.9689) (added to group)
[01:39:26] [INFO] [BloodDecal] Blood puddle created at (342.4953, 778.0461) (added to group)
[01:39:26] [INFO] [BloodDecal] Blood puddle created at (336.5832, 718.6153) (added to group)
[01:39:26] [INFO] [BloodDecal] Blood puddle created at (334.9735, 771.4697) (added to group)
[01:39:26] [INFO] [BloodDecal] Blood puddle created at (351.373, 812.2902) (added to group)
[01:39:27] [INFO] [BloodDecal] Blood puddle created at (361.0734, 790.8329) (added to group)
[01:39:27] [INFO] [BloodDecal] Blood puddle created at (416.2702, 772.2192) (added to group)
[01:39:27] [INFO] [BloodDecal] Blood puddle created at (362.9489, 813.5131) (added to group)
[01:39:27] [INFO] [BloodDecal] Blood puddle created at (402.1895, 831.9666) (added to group)
[01:39:27] [INFO] [BloodDecal] Blood puddle created at (396.9209, 837.5753) (added to group)
[01:39:27] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[01:39:28] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[01:39:28] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[01:39:28] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(270,855), corner_timer=0.30
[01:39:28] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(270,855), corner_timer=0.30
[01:39:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(251.8497, 808.2426), source=PLAYER (AssaultRifle), range=1469, listeners=20
[01:39:28] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[01:39:28] [ENEMY] [Enemy1] Heard gunshot at (251.8497, 808.2426), source_type=0, intensity=0.01, distance=461
[01:39:28] [ENEMY] [Enemy2] Heard gunshot at (251.8497, 808.2426), source_type=0, intensity=0.03, distance=298
[01:39:28] [ENEMY] [Enemy3] Heard gunshot at (251.8497, 808.2426), source_type=0, intensity=0.01, distance=452
[01:39:28] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=3
[01:39:28] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=96.0°, current=-157.5°, player=(251,808), corner_timer=0.00
[01:39:28] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=119.8°, current=-157.5°, player=(251,808), corner_timer=0.00
[01:39:28] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=172.6°, current=11.3°, player=(251,808), corner_timer=0.00
[01:39:28] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=173.3°, current=-173.3°, player=(251,802), corner_timer=0.00
[01:39:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(250.7029, 776.1335), source=PLAYER (AssaultRifle), range=1469, listeners=10
[01:39:28] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=3
[01:39:28] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(250,769), corner_timer=-0.02
[01:39:28] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[01:39:28] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(250,769), corner_timer=-0.02
[01:39:28] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[01:39:28] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(250,766), corner_timer=0.30
[01:39:28] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(250,766), corner_timer=0.30
[01:39:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(250.7029, 776.1335), shooter_id=571431979189, bullet_pos=(502.95483, 711.7723)
[01:39:28] [INFO] [Bullet] Using shooter_position, distance=260,33325
[01:39:28] [INFO] [Bullet] Distance to wall: 260,33325 (17,72657% of viewport)
[01:39:28] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:39:28] [INFO] [Bullet] Starting wall penetration at (502.95483, 711.7723)
[01:39:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(636.1999, 754.5869), source=ENEMY (Enemy3), range=1469, listeners=10
[01:39:28] [ENEMY] [Enemy4] Heard gunshot at (636.1999, 754.5869), source_type=1, intensity=0.05, distance=219
[01:39:28] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[01:39:28] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=-165.9°, current=-101.3°, player=(250,761), corner_timer=0.00
[01:39:28] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[01:39:28] [INFO] [Bullet] Exiting penetration at (548.17285, 700.23505) after traveling 41,666668 pixels through wall
[01:39:28] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[01:39:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(250.0419, 757.6268), source=PLAYER (AssaultRifle), range=1469, listeners=10
[01:39:28] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=3
[01:39:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(251.84967, 808.2426), shooter_id=571431979189, bullet_pos=(939.13043, 598.17786)
[01:39:28] [INFO] [Bullet] Using shooter_position, distance=718,6669
[01:39:28] [INFO] [Bullet] Distance to wall: 718,6669 (48,935352% of viewport)
[01:39:28] [INFO] [LastChance] Threat detected: @Area2D@2596
[01:39:28] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[01:39:28] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:39:28] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[01:39:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(250.04193, 757.6268), shooter_id=571431979189, bullet_pos=(463.85358, 711.8042)
[01:39:28] [INFO] [Bullet] Using shooter_position, distance=218,6667
[01:39:28] [INFO] [Bullet] Distance to wall: 218,6667 (14,889418% of viewport)
[01:39:28] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:39:28] [INFO] [EnemyGrenade] Unsafe throw distance (175 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:39:28] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[01:39:28] [INFO] [EnemyGrenade] Unsafe throw distance (172 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:39:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(593.5349, 754.7461), source=ENEMY (Enemy3), range=1469, listeners=10
[01:39:28] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=5
[01:39:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(249.8621, 752.5903), source=PLAYER (AssaultRifle), range=1469, listeners=10
[01:39:28] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=3
[01:39:28] [ENEMY] [Enemy3] Hit: dmg=1, hp=2/2->1/2
[01:39:28] [INFO] [ImpactEffects] spawn_blood_effect called at (591.9596, 758.1308), dir=(1, 0), lethal=false
[01:39:28] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:39:28] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[01:39:28] [INFO] [ImpactEffects] Blood effect spawned at (591.9596, 758.1308) (scale=1)
[01:39:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(249.86206, 752.59033), shooter_id=571431979189, bullet_pos=(438.6427, 709.3625)
[01:39:28] [INFO] [Bullet] Using shooter_position, distance=193,66666
[01:39:28] [INFO] [Bullet] Distance to wall: 193,66666 (13,1871195% of viewport)
[01:39:28] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:39:28] [INFO] [LastChance] Threat detected: @Area2D@2604
[01:39:28] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[01:39:28] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:39:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(568.7032, 763.60144), shooter_id=568076535287, bullet_pos=(60.40732, 769.77893)
[01:39:28] [INFO] [Bullet] Using shooter_position, distance=508,3334
[01:39:28] [INFO] [Bullet] Distance to wall: 508,3334 (34,613358% of viewport)
[01:39:28] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:39:28] [INFO] [Bullet] Starting wall penetration at (60.40732, 769.77893)
[01:39:28] [INFO] [Bullet] Raycast backward hit penetrating body at distance 9,923917
[01:39:28] [INFO] [Bullet] Body exited signal received for penetrating body
[01:39:28] [INFO] [Bullet] Exiting penetration at (22.076817, 770.2448) after traveling 33,333332 pixels through wall
[01:39:28] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[01:39:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(582.8232, 777.7621), source=ENEMY (Enemy3), range=1469, listeners=10
[01:39:28] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=5
[01:39:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(249.8621, 752.5903), source=PLAYER (AssaultRifle), range=1469, listeners=10
[01:39:28] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=3
[01:39:28] [INFO] [Player] Spawning blood effect at (249.86206, 752.59033), dir=(1, 0), lethal=False (C#)
[01:39:28] [INFO] [ImpactEffects] spawn_blood_effect called at (249.8621, 752.5903), dir=(1, 0), lethal=false
[01:39:28] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:39:28] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[01:39:28] [INFO] [ImpactEffects] Blood effect spawned at (249.8621, 752.5903) (scale=1)
[01:39:28] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[01:39:28] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[01:39:28] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.1°, player=(249,752), corner_timer=-0.01
[01:39:28] [ENEMY] [Enemy10] PATROL corner check: angle 7.1°
[01:39:28] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.1°, current=16.2°, player=(249,752), corner_timer=0.30
[01:39:28] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[01:39:28] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[01:39:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(249.86206, 752.59033), shooter_id=571431979189, bullet_pos=(431.0358, 713.54517)
[01:39:28] [INFO] [Bullet] Using shooter_position, distance=185,33333
[01:39:28] [INFO] [Bullet] Distance to wall: 185,33333 (12,619688% of viewport)
[01:39:28] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:39:28] [INFO] [LastChance] Threat detected: Bullet
[01:39:28] [INFO] [LastChance] Player health is 3.0 - effect requires exactly 1 HP or less but alive
[01:39:28] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:39:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(572.7416, 799.4242), source=ENEMY (Enemy3), range=1469, listeners=10
[01:39:29] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=5
[01:39:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(249.8621, 752.5903), source=PLAYER (AssaultRifle), range=1469, listeners=10
[01:39:29] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=3
[01:39:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(504.6546, 797.42944), shooter_id=568076535287, bullet_pos=(504.6546, 797.42944)
[01:39:29] [INFO] [Bullet] Using shooter_position, distance=0
[01:39:29] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[01:39:29] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[01:39:29] [INFO] [Bullet] Starting wall penetration at (504.6546, 797.42944)
[01:39:29] [INFO] [Player] Spawning blood effect at (249.86206, 752.59033), dir=(1, 0), lethal=False (C#)
[01:39:29] [INFO] [ImpactEffects] spawn_blood_effect called at (249.8621, 752.5903), dir=(1, 0), lethal=false
[01:39:29] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:39:29] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[01:39:29] [INFO] [ImpactEffects] Blood effect spawned at (249.8621, 752.5903) (scale=1)
[01:39:29] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[01:39:29] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[01:39:29] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[01:39:29] [INFO] [Bullet] Exiting penetration at (466.32965, 796.628) after traveling 33,333336 pixels through wall
[01:39:29] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[01:39:29] [INFO] [BloodDecal] Blood puddle created at (673.2032, 808.3764) (added to group)
[01:39:29] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=115.0°, current=-169.7°, player=(249,752), corner_timer=0.00
[01:39:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(249.86206, 752.59033), shooter_id=571431979189, bullet_pos=(430.84882, 712.68726)
[01:39:29] [INFO] [Bullet] Using shooter_position, distance=185,33337
[01:39:29] [INFO] [Bullet] Distance to wall: 185,33337 (12,619691% of viewport)
[01:39:29] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:39:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(249.86206, 752.59033), shooter_id=571431979189, bullet_pos=(932.1842, 856.4739)
[01:39:29] [INFO] [Bullet] Using shooter_position, distance=690,18494
[01:39:29] [INFO] [Bullet] Distance to wall: 690,18494 (46,99596% of viewport)
[01:39:29] [INFO] [BloodDecal] Blood puddle created at (674.3195, 764.5661) (added to group)
[01:39:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(249.8621, 752.5903), source=PLAYER (AssaultRifle), range=1469, listeners=10
[01:39:29] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=3
[01:39:29] [INFO] [BloodDecal] Blood puddle created at (682.8485, 803.6072) (added to group)
[01:39:29] [INFO] [BloodDecal] Blood puddle created at (664.9331, 760.8296) (added to group)
[01:39:29] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[01:39:29] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[01:39:29] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[01:39:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(249.86206, 752.59033), shooter_id=571431979189, bullet_pos=(430.96967, 713.23975)
[01:39:29] [INFO] [Bullet] Using shooter_position, distance=185,3333
[01:39:29] [INFO] [Bullet] Distance to wall: 185,3333 (12,619686% of viewport)
[01:39:29] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:39:29] [ENEMY] [Enemy4] Hit: dmg=1, hp=3/3->2/3
[01:39:29] [INFO] [ImpactEffects] spawn_blood_effect called at (778.7142, 905.1564), dir=(1, 0), lethal=false
[01:39:29] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:39:29] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[01:39:29] [INFO] [ImpactEffects] Blood effect spawned at (778.7142, 905.1564) (scale=1)
[01:39:29] [INFO] [GrenadeBase] CCD enabled (mode: CAST_RAY) to prevent wall tunneling
[01:39:29] [INFO] [GrenadeBase] Grenade created at (520.2145, 818.9607) (frozen)
[01:39:29] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[01:39:29] [INFO] [GrenadeTimer] Initialized for Frag grenade, effect radius: 225
[01:39:29] [INFO] [GrenadeTimerHelper] Attached GrenadeTimer to FragGrenade (type: Frag)
[01:39:29] [INFO] [EnemyGrenade] Attached C# GrenadeTimer to grenade (type: Frag)
[01:39:29] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[01:39:29] [INFO] [GrenadeTimer] Timer activated! 4 seconds until explosion
[01:39:29] [INFO] [GrenadeBase] LEGACY throw_grenade() called! Direction: (-0.966618, -0.256223), Speed: 636.7 (unfrozen)
[01:39:29] [INFO] [GrenadeBase] NOTE: Using DRAG-BASED system. If velocity-based is expected, ensure grenade has throw_grenade_velocity_based() method.
[01:39:29] [INFO] [FragGrenade] Grenade thrown (legacy) - impact detection enabled
[01:39:29] [INFO] [GrenadeTimer] Grenade marked as thrown - impact detection enabled
[01:39:29] [INFO] [EnemyGrenade] Enemy grenade thrown! Target: (249.8621, 752.5903), Distance: 318
[01:39:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(249.86206, 752.59033), shooter_id=571431979189, bullet_pos=(916.77216, 743.626)
[01:39:29] [INFO] [Bullet] Using shooter_position, distance=666,97034
[01:39:29] [INFO] [Bullet] Distance to wall: 666,97034 (45,415237% of viewport)
[01:39:29] [INFO] [GrenadeBase] Collision detected with Room2_WallLeft (type: StaticBody2D)
[01:39:29] [INFO] [FragGrenade] Impact detected! Body: Room2_WallLeft (type: StaticBody2D), triggering explosion
[01:39:29] [INFO] [FragGrenade] Impact detected - exploding immediately!
[01:39:29] [INFO] [GrenadeBase] EXPLODED at (532.6663, 817.519)!
[01:39:29] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(532.6663, 817.519), source=NEUTRAL (FragGrenade), range=2937, listeners=10
[01:39:29] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=0, below_threshold=7
[01:39:29] [ENEMY] [Enemy3] Hit: dmg=1, hp=1/2->0/2
[01:39:29] [INFO] [ImpactEffects] spawn_blood_effect called at (558.8793, 829.2096), dir=(0.913289, 0.407313), lethal=true
[01:39:29] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:39:29] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[01:39:29] [INFO] [ImpactEffects] Blood effect spawned at (558.8793, 829.2096) (scale=1.5)
[01:39:29] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[01:39:29] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[01:39:29] [ENEMY] [Enemy2] [AllyDeath] Witnessed at (558.8793, 829.2096), entering SEARCHING
[01:39:29] [ENEMY] [Enemy2] SEARCHING started: center=(558.8793, 829.2096), radius=100, waypoints=5
[01:39:29] [ENEMY] [Enemy3] [AllyDeath] Notified 2 enemies
[01:39:29] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[01:39:29] [INFO] [DeathAnim] Started - Angle: 24.0 deg, Index: 13
[01:39:29] [ENEMY] [Enemy3] Death animation started with hit direction: (0.913289, 0.407313)
[01:39:29] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 28.7
[01:39:29] [INFO] [GrenadeBase] Scattered 1 casings (lethal zone) + 0 casings (proximity) from explosion
[01:39:29] [INFO] [FragGrenade] Spawned shrapnel #1 at angle 4.7 degrees
[01:39:29] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 70.3 degrees
[01:39:29] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 190.7 degrees
[01:39:29] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 270.0 degrees
[01:39:29] [INFO] [ImpactEffects] Spawning explosion visual effect at (532.6663, 817.519) (radius=225) - using shadow-based wall occlusion
[01:39:29] [INFO] [GrenadeTimer] Impact detected with Room2_WallLeft - EXPLODING!
[01:39:29] [INFO] [GrenadeTimer] EXPLODED at (532.66626, 817.519)!
[01:39:29] [INFO] [GrenadeTimer] Applying frag explosion damage (radius: 225, damage: 99)
[01:39:29] [INFO] [GrenadeTimer] Damaged enemy at distance 28,7
[01:39:29] [INFO] [GrenadeTimer] Spawned 4 shrapnel pieces
[01:39:29] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(532.6663, 817.519), source=NEUTRAL (FragGrenade), range=2938, listeners=9
[01:39:29] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=7
[01:39:29] [INFO] [GrenadeTimer] Spawned PointLight2D frag explosion flash at (532.66626, 817.519) (shadow-based wall occlusion)
[01:39:29] [INFO] [GrenadeTimer] Scattered 1 casings
[01:39:29] [ENEMY] [Enemy2] SEARCHING corner check: angle -60.2°
[01:39:29] [ENEMY] [Enemy4] State: PURSUING -> RETREATING
[01:39:29] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[01:39:29] [INFO] [BloodDecal] Blood puddle created at (312.0397, 751.7708) (added to group)
[01:39:29] [INFO] [BloodDecal] Blood puddle created at (359.1785, 755.5662) (added to group)
[01:39:29] [INFO] [BloodDecal] Blood puddle created at (294.3731, 784.5339) (added to group)
[01:39:29] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[01:39:29] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=7.0°, player=(249,752), corner_timer=-0.01
[01:39:29] [ENEMY] [Enemy10] PATROL corner check: angle 3.7°
[01:39:29] [INFO] [Player] Spawning blood effect at (249.86206, 752.59033), dir=(-0.9826723, -0.18535158), lethal=False (C#)
[01:39:29] [INFO] [ImpactEffects] spawn_blood_effect called at (249.8621, 752.5903), dir=(-0.982672, -0.185352), lethal=false
[01:39:29] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:39:29] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[01:39:29] [INFO] [ImpactEffects] Blood effect spawned at (249.8621, 752.5903) (scale=1)
[01:39:29] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[01:39:29] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[01:39:29] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[01:39:29] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.7°, current=9.2°, player=(249,752), corner_timer=0.30
[01:39:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(249.86206, 752.59033), shooter_id=571431979189, bullet_pos=(916.6848, 741.1117)
[01:39:29] [INFO] [Bullet] Using shooter_position, distance=666,9216
[01:39:29] [INFO] [Bullet] Distance to wall: 666,9216 (45,41192% of viewport)
[01:39:29] [INFO] [Bullet] Distance-based penetration chance: 93,6861%
[01:39:29] [INFO] [Bullet] Starting wall penetration at (916.6848, 741.1117)
[01:39:29] [INFO] [Bullet] Raycast backward hit penetrating body at distance 13,985118
[01:39:29] [INFO] [BloodDecal] Blood puddle created at (316.2066, 748.1016) (added to group)
[01:39:29] [INFO] [BloodDecal] Blood puddle created at (300.0002, 766.8047) (added to group)
[01:39:29] [INFO] [BloodDecal] Blood puddle created at (304.2146, 788.8846) (added to group)
[01:39:29] [INFO] [Bullet] Body exited signal received for penetrating body
[01:39:29] [INFO] [Bullet] Exiting penetration at (949.96124, 743.0586) after traveling 28,333334 pixels through wall
[01:39:29] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[01:39:29] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[01:39:29] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:39:29] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[01:39:29] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[01:39:29] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[01:39:29] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[01:39:29] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[01:39:29] [INFO] [LastChance] Resetting all effects (scene change detected)
[01:39:29] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[01:39:29] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[01:39:29] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[01:39:29] [INFO] [EnemyGrenade] Initialized: 1 grenades
[01:39:29] [ENEMY] [Enemy1] Death animation component initialized
[01:39:29] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:39:29] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[01:39:29] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[01:39:29] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[01:39:29] [ENEMY] [Enemy2] Death animation component initialized
[01:39:29] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:39:29] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[01:39:29] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[01:39:29] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[01:39:29] [ENEMY] [Enemy3] Death animation component initialized
[01:39:29] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:39:29] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[01:39:29] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[01:39:29] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[01:39:29] [INFO] [EnemyGrenade] Initialized: 1 grenades
[01:39:29] [ENEMY] [Enemy4] Death animation component initialized
[01:39:29] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:39:29] [INFO] [BloodyFeet:Grenadier] Footprint scene loaded
[01:39:29] [INFO] [BloodyFeet:Grenadier] Found EnemyModel for facing direction
[01:39:29] [INFO] [BloodyFeet:Grenadier] BloodyFeetComponent ready on Grenadier
[01:39:29] [INFO] [EnemyGrenade] Grenade bag built (hard): [Offensive, Offensive, Offensive, Offensive, Offensive, Offensive, Offensive, Defensive]
[01:39:29] [INFO] [EnemyGrenade] Grenadier initialized: 8 grenades in bag
[01:39:29] [ENEMY] [Grenadier] Death animation component initialized
[01:39:29] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:39:29] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[01:39:29] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[01:39:29] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[01:39:29] [ENEMY] [Enemy6] Death animation component initialized
[01:39:29] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:39:29] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[01:39:29] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[01:39:29] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[01:39:29] [ENEMY] [Enemy7] Death animation component initialized
[01:39:29] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:39:29] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[01:39:29] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[01:39:29] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[01:39:29] [ENEMY] [Enemy8] Death animation component initialized
[01:39:29] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:39:29] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[01:39:29] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[01:39:29] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[01:39:29] [ENEMY] [Enemy9] Death animation component initialized
[01:39:29] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:39:29] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[01:39:29] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[01:39:29] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[01:39:29] [INFO] [EnemyGrenade] Initialized: 1 grenades
[01:39:29] [ENEMY] [Enemy10] Death animation component initialized
[01:39:29] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:39:29] [INFO] [BloodyFeet:Player] Footprint scene loaded
[01:39:29] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[01:39:29] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[01:39:29] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[01:39:29] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[01:39:29] [INFO] [Player.Weapon] GameManager weapon selection: m16 (AssaultRifle)
[01:39:29] [INFO] [Player.Weapon] Removed default MakarovPM
[01:39:29] [INFO] [Player.Weapon] Equipped AssaultRifle (ammo: 30/30)
[01:39:29] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[01:39:29] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[01:39:29] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[01:39:29] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[01:39:29] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[01:39:29] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[01:39:29] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[01:39:29] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[01:39:29] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[01:39:29] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[01:39:29] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[01:39:29] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[01:39:29] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[01:39:29] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[01:39:29] [INFO] [BuildingLevel] Child 'Grenadier': script=true, has_died_signal=true
[01:39:29] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[01:39:29] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[01:39:29] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[01:39:29] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[01:39:29] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[01:39:29] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[01:39:29] [INFO] [BuildingLevel] Setting up weapon: m16
[01:39:29] [INFO] [BuildingLevel] AssaultRifle already equipped by C# Player - skipping GDScript weapon swap
[01:39:29] [INFO] [ScoreManager] Level started with 10 enemies
[01:39:29] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[01:39:29] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[01:39:29] [INFO] [ReplayManager] Replay data cleared
[01:39:29] [INFO] [BuildingLevel] Previous replay data cleared
[01:39:29] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[01:39:29] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[01:39:29] [INFO] [ReplayManager] Level: BuildingLevel
[01:39:29] [INFO] [ReplayManager] Player: Player (valid: True)
[01:39:29] [INFO] [ReplayManager] Enemies count: 10
[01:39:29] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[01:39:29] [INFO] [ReplayManager]   Enemy 0: Enemy1
[01:39:29] [INFO] [ReplayManager]   Enemy 1: Enemy2
[01:39:29] [INFO] [ReplayManager]   Enemy 2: Enemy3
[01:39:29] [INFO] [ReplayManager]   Enemy 3: Enemy4
[01:39:29] [INFO] [ReplayManager]   Enemy 4: Grenadier
[01:39:29] [INFO] [ReplayManager]   Enemy 5: Enemy6
[01:39:29] [INFO] [ReplayManager]   Enemy 6: Enemy7
[01:39:29] [INFO] [ReplayManager]   Enemy 7: Enemy8
[01:39:29] [INFO] [ReplayManager]   Enemy 8: Enemy9
[01:39:29] [INFO] [ReplayManager]   Enemy 9: Enemy10
[01:39:29] [INFO] [BuildingLevel] Replay recording started successfully
[01:39:29] [INFO] [BloodDecal] Blood puddle created at (752.6532, 807.0142) (added to group)
[01:39:29] [INFO] [BloodDecal] Blood puddle created at (700.649, 795.1298) (added to group)
[01:39:29] [INFO] [BloodDecal] Blood puddle created at (319.2499, 763.6345) (added to group)
[01:39:29] [INFO] [BloodDecal] Blood puddle created at (327.1152, 816.2621) (added to group)
[01:39:29] [INFO] [BloodDecal] Blood puddle created at (345.1656, 788.2528) (added to group)
[01:39:29] [INFO] [BloodDecal] Blood puddle created at (350.7531, 814.8287) (added to group)
[01:39:29] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[01:39:29] [INFO] [CinemaEffects] Found player node: Player
[01:39:29] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[01:39:29] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[01:39:29] [ENEMY] [Enemy1] Registered as sound listener
[01:39:29] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 3, behavior: GUARD
[01:39:29] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[01:39:29] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[01:39:29] [ENEMY] [Enemy2] Registered as sound listener
[01:39:29] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 4, behavior: GUARD
[01:39:29] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[01:39:29] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[01:39:29] [ENEMY] [Enemy3] Registered as sound listener
[01:39:29] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 2, behavior: GUARD
[01:39:29] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[01:39:29] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[01:39:29] [ENEMY] [Enemy4] Registered as sound listener
[01:39:29] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 3, behavior: GUARD
[01:39:29] [INFO] [BloodyFeet:Grenadier] Blood detector created and attached to Grenadier
[01:39:29] [INFO] [SoundPropagation] Registered listener: Grenadier (total: 14)
[01:39:29] [ENEMY] [Grenadier] Registered as sound listener
[01:39:29] [ENEMY] [Grenadier] Spawned at (1700, 350), hp: 2, behavior: GUARD
[01:39:29] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[01:39:29] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[01:39:29] [ENEMY] [Enemy6] Registered as sound listener
[01:39:29] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 3, behavior: GUARD
[01:39:29] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[01:39:29] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[01:39:29] [ENEMY] [Enemy7] Registered as sound listener
[01:39:29] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 4, behavior: PATROL
[01:39:29] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[01:39:29] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[01:39:29] [ENEMY] [Enemy8] Registered as sound listener
[01:39:29] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 3, behavior: GUARD
[01:39:29] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[01:39:29] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[01:39:29] [ENEMY] [Enemy9] Registered as sound listener
[01:39:29] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 4, behavior: GUARD
[01:39:29] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[01:39:29] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[01:39:29] [ENEMY] [Enemy10] Registered as sound listener
[01:39:29] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 3, behavior: PATROL
[01:39:29] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[01:39:29] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[01:39:29] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[01:39:29] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[01:39:29] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[01:39:29] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[01:39:29] [ENEMY] [Grenadier] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[01:39:29] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=337.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[01:39:29] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[01:39:29] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[01:39:29] [INFO] [Player] Detecting weapon pose (frame 3)...
[01:39:29] [INFO] [Player] Detected weapon: Rifle (default pose)
[01:39:29] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[01:39:29] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[01:39:29] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[01:39:29] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[01:39:29] [INFO] [LastChance] Found player: Player
[01:39:29] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[01:39:29] [INFO] [LastChance] Connected to player Damaged signal (C#)
[01:39:29] [INFO] [LastChance] Connected to player Died signal (C#)
[01:39:29] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[01:39:29] [INFO] [BloodDecal] Blood puddle created at (359.5623, 862.88) (added to group)
[01:39:29] [INFO] [BloodDecal] Blood puddle created at (426.5581, 834.7078) (added to group)
[01:39:29] [INFO] [BloodDecal] Blood puddle created at (402.0418, 732.1748) (added to group)
[01:39:29] [INFO] [BloodDecal] Blood puddle created at (372.915, 826.4603) (added to group)
[01:39:29] [INFO] [BloodDecal] Blood puddle created at (306.7418, 818.4739) (added to group)
[01:39:29] [INFO] [BloodDecal] Blood puddle created at (352.1804, 767.6409) (added to group)
[01:39:29] [INFO] [BloodDecal] Blood puddle created at (630.6755, 853.1376) (added to group)
[01:39:29] [INFO] [BloodDecal] Blood puddle created at (645.7194, 848.2556) (added to group)
[01:39:29] [INFO] [BloodDecal] Blood puddle created at (636.5107, 863.8865) (added to group)
[01:39:29] [INFO] [BloodDecal] Blood puddle created at (651.0673, 874.2907) (added to group)
[01:39:29] [INFO] [BloodDecal] Blood puddle created at (620.1062, 902.5762) (added to group)
[01:39:29] [INFO] [BloodDecal] Blood puddle created at (630.0416, 860.2543) (added to group)
[01:39:29] [INFO] [BloodDecal] Blood puddle created at (608.6423, 870.5042) (added to group)
[01:39:29] [INFO] [BloodDecal] Blood puddle created at (650.3917, 862.8848) (added to group)
[01:39:29] [INFO] [BloodDecal] Blood puddle created at (617.7113, 862.3212) (added to group)
[01:39:29] [INFO] [BloodDecal] Blood puddle created at (209.1771, 741.0891) (added to group)
[01:39:29] [INFO] [BloodDecal] Blood puddle created at (390.5504, 880.438) (added to group)
[01:39:29] [INFO] [BloodDecal] Blood puddle created at (388.488, 818.1866) (added to group)
[01:39:29] [INFO] [BloodDecal] Blood puddle created at (837.1708, 921.8331) (added to group)
[01:39:29] [INFO] [BloodDecal] Blood puddle created at (872.8485, 938.1949) (added to group)
[01:39:29] [INFO] [BloodDecal] Blood puddle created at (838.5427, 935.4269) (added to group)
[01:39:29] [INFO] [BloodDecal] Blood puddle created at (196.5012, 740.6453) (added to group)
[01:39:29] [INFO] [BloodDecal] Blood puddle created at (341.6061, 808.3918) (added to group)
[01:39:29] [INFO] [BloodDecal] Blood puddle created at (875.3392, 957.0557) (added to group)
[01:39:29] [INFO] [BloodDecal] Blood puddle created at (643.213, 949.8342) (added to group)
[01:39:29] [INFO] [BloodDecal] Blood puddle created at (149.6211, 780.3873) (added to group)
[01:39:29] [INFO] [BloodDecal] Blood puddle created at (347.6675, 879.7895) (added to group)
[01:39:29] [INFO] [BloodDecal] Blood puddle created at (675.1578, 943.3184) (added to group)
[01:39:29] [INFO] [BloodDecal] Blood puddle created at (626.11, 925.0542) (added to group)
[01:39:29] [INFO] [BloodDecal] Blood puddle created at (147.7483, 802.9114) (added to group)
[01:39:29] [INFO] [BloodDecal] Blood puddle created at (123.2708, 744.9407) (added to group)
[01:39:29] [INFO] [BloodDecal] Blood puddle created at (101.2335, 826.7926) (added to group)
[01:39:29] [INFO] [BloodDecal] Blood puddle created at (664.5149, 928.163) (added to group)
[01:39:29] [INFO] [BloodDecal] Blood puddle created at (707.2449, 958.2143) (added to group)
[01:39:30] [INFO] [BloodDecal] Blood puddle created at (899.936, 953.8375) (added to group)
[01:39:30] [INFO] [BloodDecal] Blood puddle created at (89.58565, 721.0775) (added to group)
[01:39:30] [INFO] [BloodDecal] Blood puddle created at (665.2819, 919.8981) (added to group)
[01:39:30] [INFO] [BloodDecal] Blood puddle created at (703.3978, 990.729) (added to group)
[01:39:30] [INFO] [BloodDecal] Blood puddle created at (66.02708, 881.9393) (added to group)
[01:39:30] [INFO] [BloodDecal] Blood puddle created at (122.3009, 852.1512) (added to group)
[01:39:30] [INFO] [BloodDecal] Blood puddle created at (124.7721, 864.3168) (added to group)
[01:39:30] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[01:39:31] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[01:39:31] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[01:39:31] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(452,1250), corner_timer=0.30
[01:39:31] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(452,1250), corner_timer=0.30
[01:39:31] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(512,1229), corner_timer=-0.02
[01:39:31] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[01:39:31] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(512,1229), corner_timer=-0.02
[01:39:31] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[01:39:31] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(514,1227), corner_timer=0.30
[01:39:31] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(514,1227), corner_timer=0.30
[01:39:31] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[01:39:31] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(532,1213), corner_timer=-0.02
[01:39:31] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[01:39:31] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(532,1213), corner_timer=0.30
[01:39:32] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(532,1213), corner_timer=-0.02
[01:39:32] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[01:39:32] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.6°, player=(532,1213), corner_timer=0.30
[01:39:32] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(532,1213), corner_timer=-0.02
[01:39:32] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[01:39:32] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.8°, current=6.3°, player=(532,1213), corner_timer=0.30
[01:39:32] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=10
[01:39:32] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.8°, player=(532,1213), corner_timer=-0.02
[01:39:32] [ENEMY] [Enemy10] PATROL corner check: angle 0.9°
[01:39:32] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=0.9°, current=4.6°, player=(532,1213), corner_timer=0.30
[01:39:33] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[01:39:33] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=-130.1°, player=(532,1213), corner_timer=-0.02
[01:39:33] [ENEMY] [Enemy7] PATROL corner check: angle 90.0°
[01:39:33] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=-133.0°, player=(532,1213), corner_timer=0.30
[01:39:33] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[01:39:33] [INFO] [ReplayManager] Recording frame 240 (4,0s): player_valid=True, enemies=10
[01:39:33] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=179.1°, current=172.4°, player=(532,1213), corner_timer=-0.02
[01:39:33] [ENEMY] [Enemy7] PATROL corner check: angle 89.8°
[01:39:33] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.8°, current=175.3°, player=(532,1213), corner_timer=0.30
[01:39:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(532.9733, 1213.081), source=PLAYER (AssaultRifle), range=1469, listeners=19
[01:39:33] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[01:39:33] [ENEMY] [Enemy3] Heard gunshot at (532.9733, 1213.081), source_type=0, intensity=0.01, distance=492
[01:39:33] [ENEMY] [Enemy4] Heard gunshot at (532.9733, 1213.081), source_type=0, intensity=0.01, distance=411
[01:39:33] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=6
[01:39:33] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=109.8°, current=-33.8°, player=(532,1213), corner_timer=0.00
[01:39:33] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=130.5°, current=-67.5°, player=(532,1213), corner_timer=0.00
[01:39:33] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[01:39:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(532.9733, 1213.081), source=PLAYER (AssaultRifle), range=1469, listeners=10
[01:39:33] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=6
[01:39:33] [INFO] [BloodyFeet:Enemy3] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[01:39:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(532.9733, 1213.081), source=PLAYER (AssaultRifle), range=1469, listeners=10
[01:39:34] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=6
[01:39:34] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=178.4°, current=120.7°, player=(532,1213), corner_timer=-0.02
[01:39:34] [ENEMY] [Enemy7] PATROL corner check: angle 89.7°
[01:39:34] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.7°, current=123.6°, player=(532,1213), corner_timer=0.30
[01:39:34] [INFO] [BloodyFeet:Enemy4] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[01:39:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(730.7196, 954.4504), source=ENEMY (Enemy4), range=1469, listeners=10
[01:39:34] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=7
[01:39:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(532.9733, 1213.081), source=PLAYER (AssaultRifle), range=1469, listeners=10
[01:39:34] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=6
[01:39:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(713.2389, 1020.2153), shooter_id=635319617855, bullet_pos=(713.2389, 1020.2153)
[01:39:34] [INFO] [Bullet] Using shooter_position, distance=0
[01:39:34] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[01:39:34] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[01:39:34] [INFO] [Bullet] Starting wall penetration at (713.2389, 1020.2153)
[01:39:34] [INFO] [Bullet] Raycast backward hit penetrating body at distance 42,588326
[01:39:34] [INFO] [Bullet] Body exited signal received for penetrating body
[01:39:34] [INFO] [Bullet] Exiting penetration at (695.85284, 1063.5223) after traveling 41,666668 pixels through wall
[01:39:34] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[01:39:34] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[01:39:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(532.9733, 1213.081), shooter_id=638322740938, bullet_pos=(1490.9056, 1647.9033)
[01:39:34] [INFO] [Bullet] Using shooter_position, distance=1052,0004
[01:39:34] [INFO] [Bullet] Distance to wall: 1052,0004 (71,632645% of viewport)
[01:39:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(532.9733, 1213.081), source=PLAYER (AssaultRifle), range=1469, listeners=10
[01:39:34] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=6
[01:39:34] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[01:39:34] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[01:39:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(532.9733, 1213.081), shooter_id=638322740938, bullet_pos=(1490.9055, 1647.9033)
[01:39:34] [INFO] [Bullet] Using shooter_position, distance=1052,0002
[01:39:34] [INFO] [Bullet] Distance to wall: 1052,0002 (71,63264% of viewport)
[01:39:34] [ENEMY] [Enemy4] State: PURSUING -> RETREATING
[01:39:34] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[01:39:34] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[01:39:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(532.9733, 1213.081), source=PLAYER (AssaultRifle), range=1469, listeners=10
[01:39:34] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=6
[01:39:34] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.9°, current=89.7°, player=(532,1213), corner_timer=-0.02
[01:39:34] [ENEMY] [Enemy7] PATROL corner check: angle 89.6°
[01:39:34] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.6°, current=92.5°, player=(532,1213), corner_timer=0.30
[01:39:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(532.9733, 1213.081), shooter_id=638322740938, bullet_pos=(1490.9055, 1647.9033)
[01:39:34] [INFO] [Bullet] Using shooter_position, distance=1052,0002
[01:39:34] [INFO] [Bullet] Distance to wall: 1052,0002 (71,63264% of viewport)
[01:39:34] [INFO] [Bullet] Distance-based penetration chance: 63,09526%
[01:39:34] [INFO] [Bullet] Penetration failed (distance roll)
[01:39:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(532.9733, 1213.081), source=PLAYER (AssaultRifle), range=1469, listeners=10
[01:39:34] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=6
[01:39:34] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[01:39:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(532.9733, 1213.081), shooter_id=638322740938, bullet_pos=(1490.9055, 1647.9033)
[01:39:34] [INFO] [Bullet] Using shooter_position, distance=1052,0002
[01:39:34] [INFO] [Bullet] Distance to wall: 1052,0002 (71,63264% of viewport)
[01:39:34] [INFO] [Bullet] Distance-based penetration chance: 63,09526%
[01:39:34] [INFO] [Bullet] Penetration failed (distance roll)
[01:39:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(532.9733, 1213.081), source=PLAYER (AssaultRifle), range=1469, listeners=10
[01:39:34] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=6
[01:39:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(532.9733, 1213.081), shooter_id=638322740938, bullet_pos=(1490.9055, 1647.9033)
[01:39:34] [INFO] [Bullet] Using shooter_position, distance=1052,0002
[01:39:34] [INFO] [Bullet] Distance to wall: 1052,0002 (71,63264% of viewport)
[01:39:34] [INFO] [Bullet] Distance-based penetration chance: 63,09526%
[01:39:34] [INFO] [Bullet] Starting wall penetration at (1490.9055, 1647.9033)
[01:39:34] [INFO] [ReplayManager] Recording frame 300 (5,0s): player_valid=True, enemies=10
[01:39:34] [INFO] [Bullet] Raycast backward hit penetrating body at distance 23,500677
[01:39:34] [INFO] [Bullet] Body exited signal received for penetrating body
[01:39:34] [INFO] [Bullet] Exiting penetration at (1533.3993, 1667.192) after traveling 41,666668 pixels through wall
[01:39:34] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[01:39:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(532.9733, 1213.081), source=PLAYER (AssaultRifle), range=1469, listeners=10
[01:39:34] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=6
[01:39:34] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.7°, current=89.6°, player=(532,1213), corner_timer=-0.02
[01:39:34] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[01:39:34] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.4°, player=(532,1213), corner_timer=0.30
[01:39:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(532.9733, 1213.081), shooter_id=638322740938, bullet_pos=(1490.9055, 1647.9033)
[01:39:34] [INFO] [Bullet] Using shooter_position, distance=1052,0002
[01:39:34] [INFO] [Bullet] Distance to wall: 1052,0002 (71,63264% of viewport)
[01:39:34] [INFO] [Bullet] Distance-based penetration chance: 63,09526%
[01:39:34] [INFO] [Bullet] Starting wall penetration at (1490.9055, 1647.9033)
[01:39:34] [INFO] [Bullet] Raycast backward hit penetrating body at distance 23,500677
[01:39:34] [INFO] [Bullet] Body exited signal received for penetrating body
[01:39:34] [INFO] [Bullet] Exiting penetration at (1533.3993, 1667.192) after traveling 41,666668 pixels through wall
[01:39:34] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[01:39:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(532.9733, 1213.081), source=PLAYER (AssaultRifle), range=1469, listeners=10
[01:39:34] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=6
[01:39:34] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[01:39:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(532.9733, 1213.081), shooter_id=638322740938, bullet_pos=(1490.9055, 1647.9033)
[01:39:34] [INFO] [Bullet] Using shooter_position, distance=1052,0002
[01:39:34] [INFO] [Bullet] Distance to wall: 1052,0002 (71,63264% of viewport)
[01:39:34] [INFO] [Bullet] Distance-based penetration chance: 63,09526%
[01:39:34] [INFO] [Bullet] Starting wall penetration at (1490.9055, 1647.9033)
[01:39:34] [INFO] [Bullet] Raycast backward hit penetrating body at distance 23,500677
[01:39:34] [INFO] [Bullet] Body exited signal received for penetrating body
[01:39:34] [INFO] [Bullet] Exiting penetration at (1533.3993, 1667.192) after traveling 41,666668 pixels through wall
[01:39:34] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[01:39:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(532.9733, 1213.081), source=PLAYER (AssaultRifle), range=1469, listeners=10
[01:39:34] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=6
[01:39:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(532.9733, 1213.081), shooter_id=638322740938, bullet_pos=(1490.9055, 1647.9033)
[01:39:35] [INFO] [Bullet] Using shooter_position, distance=1052,0002
[01:39:35] [INFO] [Bullet] Distance to wall: 1052,0002 (71,63264% of viewport)
[01:39:35] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.5°, current=89.5°, player=(532,1213), corner_timer=-0.02
[01:39:35] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[01:39:35] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.4°, player=(532,1213), corner_timer=0.30
[01:39:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(532.9733, 1213.081), source=PLAYER (AssaultRifle), range=1469, listeners=10
[01:39:35] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=6
[01:39:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(532.9733, 1213.081), shooter_id=638322740938, bullet_pos=(1490.9056, 1647.9032)
[01:39:35] [INFO] [Bullet] Using shooter_position, distance=1052,0002
[01:39:35] [INFO] [Bullet] Distance to wall: 1052,0002 (71,63264% of viewport)
[01:39:35] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[01:39:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(532.9733, 1213.081), shooter_id=638322740938, bullet_pos=(1490.9056, 1647.9032)
[01:39:35] [INFO] [Bullet] Using shooter_position, distance=1052,0002
[01:39:35] [INFO] [Bullet] Distance to wall: 1052,0002 (71,63264% of viewport)
[01:39:35] [INFO] [ReplayManager] Recording frame 360 (6,0s): player_valid=True, enemies=10
[01:39:36] [INFO] [PauseMenu] Armory button pressed
[01:39:36] [INFO] [PauseMenu] Creating new armory menu instance
[01:39:36] [INFO] [PauseMenu] armory_menu_scene resource path: res://scenes/ui/ArmoryMenu.tscn
[01:39:36] [INFO] [PauseMenu] Instance created, class: CanvasLayer, name: ArmoryMenu
[01:39:36] [INFO] [PauseMenu] Script attached: res://scripts/ui/armory_menu.gd
[01:39:36] [INFO] [PauseMenu] back_pressed signal exists on instance
[01:39:36] [INFO] [PauseMenu] back_pressed signal connected
[01:39:36] [INFO] [PauseMenu] Armory menu instance added as child, is_inside_tree: true
[01:39:36] [INFO] [PauseMenu] _populate_weapon_grid method exists
[01:39:36] [INFO] [ReplayManager] Recording frame 420 (7,0s): player_valid=True, enemies=10
[01:39:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(532.9733, 1213.081), shooter_id=638322740938, bullet_pos=(1490.9056, 1647.9032)
[01:39:36] [INFO] [Bullet] Using shooter_position, distance=1052,0002
[01:39:36] [INFO] [Bullet] Distance to wall: 1052,0002 (71,63264% of viewport)
[01:39:36] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.4°, current=89.5°, player=(532,1213), corner_timer=-0.02
[01:39:36] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[01:39:36] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.3°, player=(532,1213), corner_timer=0.30
[01:39:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(532.9733, 1213.081), shooter_id=638322740938, bullet_pos=(1490.9056, 1647.9032)
[01:39:37] [INFO] [Bullet] Using shooter_position, distance=1052,0002
[01:39:37] [INFO] [Bullet] Distance to wall: 1052,0002 (71,63264% of viewport)
[01:39:37] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[01:39:37] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.5°, player=(532,1213), corner_timer=-0.02
[01:39:37] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[01:39:37] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(532,1213), corner_timer=0.30
[01:39:37] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[01:39:37] [ENEMY] [Enemy3] PURSUING corner check: angle 21.3°
[01:39:37] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(532,1213), corner_timer=-0.02
[01:39:37] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[01:39:37] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(532,1213), corner_timer=0.30
[01:39:37] [INFO] [ReplayManager] Recording frame 480 (8,0s): player_valid=True, enemies=10
[01:39:37] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[01:39:37] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:39:37] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:39:37] [INFO] [EnemyGrenade] Unsafe throw distance (138 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:39:37] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:39:37] [INFO] [EnemyGrenade] Unsafe throw distance (137 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:39:37] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:39:37] [INFO] [EnemyGrenade] Unsafe throw distance (136 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:39:37] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:39:37] [INFO] [EnemyGrenade] Unsafe throw distance (136 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:39:37] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:39:37] [INFO] [EnemyGrenade] Unsafe throw distance (135 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:39:37] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:39:37] [INFO] [EnemyGrenade] Unsafe throw distance (134 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:39:37] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(551,1213), corner_timer=-0.02
[01:39:37] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[01:39:37] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:39:37] [INFO] [EnemyGrenade] Unsafe throw distance (133 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:39:37] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(554,1213), corner_timer=0.30
[01:39:37] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:39:37] [INFO] [EnemyGrenade] Unsafe throw distance (133 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:39:37] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:39:37] [INFO] [EnemyGrenade] Unsafe throw distance (132 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:39:37] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:39:37] [INFO] [EnemyGrenade] Unsafe throw distance (131 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:39:37] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:39:37] [INFO] [EnemyGrenade] Unsafe throw distance (130 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:39:37] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:39:38] [INFO] [EnemyGrenade] Unsafe throw distance (129 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:39:38] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:39:38] [INFO] [EnemyGrenade] Unsafe throw distance (128 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:39:38] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:39:38] [INFO] [EnemyGrenade] Unsafe throw distance (127 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:39:38] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:39:38] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[01:39:38] [INFO] [EnemyGrenade] Unsafe throw distance (126 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:39:38] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:39:38] [INFO] [EnemyGrenade] Unsafe throw distance (125 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:39:38] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:39:38] [INFO] [EnemyGrenade] Unsafe throw distance (125 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:39:38] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:39:38] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:39:38] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:39:38] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:39:38] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:39:38] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:39:38] [ENEMY] [Enemy4] State: SUPPRESSED -> IN_COVER
[01:39:38] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:39:38] [ENEMY] [Enemy4] State: IN_COVER -> PURSUING
[01:39:38] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:39:38] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:39:38] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(646,1233), corner_timer=-0.02
[01:39:38] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[01:39:38] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:39:38] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(650,1237), corner_timer=0.30
[01:39:38] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:39:38] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:39:38] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:39:38] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:39:38] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:39:38] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:39:38] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:39:38] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:39:38] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[01:39:38] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:39:38] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:39:38] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:39:38] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:39:38] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:39:38] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:39:38] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:39:38] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:39:38] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:39:38] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:39:38] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:39:38] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(724,1310), corner_timer=-0.02
[01:39:38] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[01:39:38] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:39:38] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(728,1314), corner_timer=0.30
[01:39:38] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:39:38] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:39:38] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:39:38] [INFO] [ReplayManager] Recording frame 540 (9,0s): player_valid=True, enemies=10
[01:39:38] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:39:38] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:39:38] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:39:38] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:39:38] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:39:38] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[01:39:38] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:39:38] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:39:38] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:39:38] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:39:38] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:39:38] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:39:38] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:39:38] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:39:38] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:39:38] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:39:38] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:39:38] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(802,1388), corner_timer=-0.02
[01:39:38] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[01:39:38] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:39:38] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(806,1392), corner_timer=0.30
[01:39:38] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:39:38] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:39:38] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:39:38] [INFO] [EnemyGrenade] Unsafe throw distance (197 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:39:38] [INFO] [EnemyGrenade] Unsafe throw distance (194 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:39:39] [INFO] [EnemyGrenade] Unsafe throw distance (192 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:39:39] [INFO] [EnemyGrenade] Unsafe throw distance (189 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:39:39] [INFO] [EnemyGrenade] Unsafe throw distance (186 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:39:39] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[01:39:39] [INFO] [EnemyGrenade] Unsafe throw distance (184 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:39:39] [INFO] [EnemyGrenade] Unsafe throw distance (181 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:39:39] [INFO] [EnemyGrenade] Unsafe throw distance (179 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:39:39] [INFO] [EnemyGrenade] Unsafe throw distance (176 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:39:39] [INFO] [EnemyGrenade] Unsafe throw distance (174 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:39:39] [INFO] [EnemyGrenade] Unsafe throw distance (172 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:39:39] [INFO] [EnemyGrenade] Unsafe throw distance (170 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:39:39] [INFO] [EnemyGrenade] Unsafe throw distance (168 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:39:39] [INFO] [EnemyGrenade] Unsafe throw distance (166 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:39:39] [INFO] [EnemyGrenade] Unsafe throw distance (164 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:39:39] [INFO] [EnemyGrenade] Unsafe throw distance (163 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:39:39] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(868,1461), corner_timer=-0.02
[01:39:39] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[01:39:39] [INFO] [EnemyGrenade] Unsafe throw distance (162 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:39:39] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(869,1463), corner_timer=0.30
[01:39:39] [INFO] [EnemyGrenade] Unsafe throw distance (160 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:39:39] [INFO] [EnemyGrenade] Unsafe throw distance (159 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:39:39] [INFO] [EnemyGrenade] Unsafe throw distance (159 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:39:39] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[01:39:39] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(871,1471), corner_timer=-0.02
[01:39:39] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[01:39:39] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(871,1471), corner_timer=0.30
[01:39:39] [INFO] [ReplayManager] Recording frame 600 (10,0s): player_valid=True, enemies=10
[01:39:39] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[01:39:39] [ENEMY] [Enemy4] PURSUING corner check: angle -108.2°
[01:39:39] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(871,1471), corner_timer=-0.02
[01:39:39] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[01:39:39] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(871,1471), corner_timer=0.30
[01:39:40] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[01:39:40] [INFO] ------------------------------------------------------------
[01:39:40] [INFO] GAME LOG ENDED: 2026-02-09T01:39:40
[01:39:40] [INFO] ============================================================
