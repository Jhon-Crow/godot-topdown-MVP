[02:55:49] [INFO] ============================================================
[02:55:49] [INFO] GAME LOG STARTED
[02:55:49] [INFO] ============================================================
[02:55:49] [INFO] Timestamp: 2026-01-24T02:55:49
[02:55:49] [INFO] Log file: I:/Загрузки/godot exe/game_log_20260124_025549.txt
[02:55:49] [INFO] Executable: I:/Загрузки/godot exe/Godot-Top-Down-Template.exe
[02:55:49] [INFO] OS: Windows
[02:55:49] [INFO] Debug build: false
[02:55:49] [INFO] Engine version: 4.3-stable (official)
[02:55:49] [INFO] Project: Godot Top-Down Template
[02:55:49] [INFO] ------------------------------------------------------------
[02:55:49] [INFO] [GameManager] GameManager ready
[02:55:49] [INFO] [ScoreManager] ScoreManager ready
[02:55:49] [INFO] [SoundPropagation] SoundPropagation autoload initialized
[02:55:49] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[02:55:49] [INFO] [PenultimateHit] Saturation shader loaded successfully
[02:55:49] [INFO] [PenultimateHit] PenultimateHitEffectsManager ready - Configuration:
[02:55:49] [INFO] [PenultimateHit]   Time scale: 0.10 (10x slowdown)
[02:55:49] [INFO] [PenultimateHit]   Saturation boost: 2.0 (3.0x)
[02:55:49] [INFO] [PenultimateHit]   Contrast boost: 1.0 (2.0x)
[02:55:49] [INFO] [PenultimateHit]   Effect duration: 3.0 real seconds
[02:55:49] [INFO] [LastChance] Resetting all effects (scene change detected)
[02:55:49] [INFO] [LastChance] Last chance shader loaded successfully
[02:55:49] [INFO] [LastChance] LastChanceEffectsManager ready - Configuration:
[02:55:49] [INFO] [LastChance]   Freeze duration: 6.0 real seconds
[02:55:49] [INFO] [LastChance]   Sepia intensity: 0.70
[02:55:49] [INFO] [LastChance]   Brightness: 0.60
[02:55:49] [INFO] [GrenadeManager] Loaded grenade scene: res://scenes/projectiles/FlashbangGrenade.tscn
[02:55:49] [INFO] [GrenadeManager] Loaded grenade scene: res://scenes/projectiles/FragGrenade.tscn
[02:55:49] [ENEMY] [Enemy1] Death animation component initialized
[02:55:49] [ENEMY] [Enemy2] Death animation component initialized
[02:55:49] [ENEMY] [Enemy3] Death animation component initialized
[02:55:49] [ENEMY] [Enemy4] Death animation component initialized
[02:55:49] [ENEMY] [Enemy5] Death animation component initialized
[02:55:49] [ENEMY] [Enemy6] Death animation component initialized
[02:55:49] [ENEMY] [Enemy7] Death animation component initialized
[02:55:49] [ENEMY] [Enemy8] Death animation component initialized
[02:55:49] [ENEMY] [Enemy9] Death animation component initialized
[02:55:49] [ENEMY] [Enemy10] Death animation component initialized
[02:55:49] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[02:55:49] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[02:55:49] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[02:55:49] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[02:55:49] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[02:55:49] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[02:55:49] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[02:55:49] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[02:55:49] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[02:55:49] [ENEMY] [Enemy10] Grenade system configured: offensive=2, flashbangs=0
[02:55:49] [INFO] [ScoreManager] Level started with 10 enemies
[02:55:49] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 1)
[02:55:49] [ENEMY] [Enemy1] Registered as sound listener
[02:55:49] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[02:55:49] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 2)
[02:55:49] [ENEMY] [Enemy2] Registered as sound listener
[02:55:49] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[02:55:49] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 3)
[02:55:49] [ENEMY] [Enemy3] Registered as sound listener
[02:55:49] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[02:55:49] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 4)
[02:55:49] [ENEMY] [Enemy4] Registered as sound listener
[02:55:49] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[02:55:49] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 5)
[02:55:49] [ENEMY] [Enemy5] Registered as sound listener
[02:55:49] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[02:55:49] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 6)
[02:55:49] [ENEMY] [Enemy6] Registered as sound listener
[02:55:49] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[02:55:49] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 7)
[02:55:49] [ENEMY] [Enemy7] Registered as sound listener
[02:55:49] [ENEMY] [Enemy7] Enemy spawned at (1606.114, 893.8859), health: 2, behavior: PATROL, player_found: yes
[02:55:49] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 8)
[02:55:49] [ENEMY] [Enemy8] Registered as sound listener
[02:55:49] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[02:55:49] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 9)
[02:55:49] [ENEMY] [Enemy9] Registered as sound listener
[02:55:49] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[02:55:49] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 10)
[02:55:49] [ENEMY] [Enemy10] Registered as sound listener
[02:55:49] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[02:55:49] [INFO] [Player] Detecting weapon pose (frame 3)...
[02:55:49] [INFO] [Player] Detected weapon: Rifle (default pose)
[02:55:49] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[02:55:49] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[02:55:49] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[02:55:49] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[02:55:49] [INFO] [LastChance] Found player: Player
[02:55:49] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[02:55:49] [INFO] [LastChance] Connected to player Damaged signal (C#)
[02:55:49] [INFO] [LastChance] Connected to player Died signal (C#)
[02:55:51] [INFO] [Player.Debug] Debug mode toggled: ON
[02:55:51] [INFO] [GameManager] Debug mode toggled: ON
[02:55:52] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:55:52] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:55:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1149.921, 1574.922), source=ENEMY (Enemy10), range=1469, listeners=10
[02:55:52] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=8
[02:55:53] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:55:53] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[02:55:53] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1092.696, 1538.098), shooter_id=48016393878, bullet_pos=(61.54232, 692.817)
[02:55:53] [INFO] [Bullet] Using shooter_position, distance=1333.33361816406
[02:55:53] [INFO] [Bullet] Distance to wall: 1333.33361816406 (90.789137845122% of viewport)
[02:55:53] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[02:55:53] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1092.696, 1538.098), shooter_id=48016393878, bullet_pos=(296.2983, 469.8737)
[02:55:53] [INFO] [Bullet] Using shooter_position, distance=1332.42395019531
[02:55:53] [INFO] [Bullet] Distance to wall: 1332.42395019531 (90.7271968803979% of viewport)
[02:55:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 778.3333), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:55:53] [ENEMY] [Enemy1] Heard gunshot at (450, 778.3333), source_type=0, intensity=0.01, distance=454
[02:55:53] [ENEMY] [Enemy2] Heard gunshot at (450, 778.3333), source_type=0, intensity=0.05, distance=234
[02:55:53] [ENEMY] [Enemy4] Heard gunshot at (450, 778.3333), source_type=0, intensity=0.02, distance=371
[02:55:53] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[02:55:53] [ENEMY] [Enemy2] Hit taken, health: 3/4
[02:55:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.451, 753.7694), source=ENEMY (Enemy3), range=1469, listeners=10
[02:55:53] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[02:55:53] [INFO] [LastChance] Threat detected: @Area2D@290
[02:55:53] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:55:53] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:55:53] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[02:55:53] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[02:55:53] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[02:55:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.451, 753.7694), source=ENEMY (Enemy3), range=1469, listeners=10
[02:55:53] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[02:55:53] [INFO] [LastChance] Threat detected: Bullet
[02:55:53] [INFO] [LastChance] Triggering last chance effect!
[02:55:53] [INFO] [LastChance] Starting last chance effect:
[02:55:53] [INFO] [LastChance]   - Time will be frozen (except player)
[02:55:53] [INFO] [LastChance]   - Duration: 6.0 real seconds
[02:55:53] [INFO] [LastChance]   - Sepia intensity: 0.70
[02:55:53] [INFO] [LastChance]   - Brightness: 0.60
[02:55:53] [INFO] [LastChance] Pushed bullet Bullet from distance 126.0 to 200.0
[02:55:53] [INFO] [LastChance] Pushed 1 threatening bullets away from player
[02:55:53] [INFO] [LastChance] Set player Player and all 18 children to PROCESS_MODE_ALWAYS
[02:55:53] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[02:55:53] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:55:53] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:55:53] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[02:55:53] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:55:53] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:55:53] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:55:53] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:55:53] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:55:53] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:55:53] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:55:53] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:55:53] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:55:53] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:55:53] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:55:53] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:55:53] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:55:53] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[02:55:53] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[02:55:53] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:55:53] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:55:53] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:55:53] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:55:53] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:55:53] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[02:55:53] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[02:55:53] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:55:53] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[02:55:53] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[02:55:53] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:55:53] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:55:53] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[02:55:53] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[02:55:53] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[02:55:53] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[02:55:53] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[02:55:53] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[02:55:53] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[02:55:53] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[02:55:53] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[02:55:53] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[02:55:53] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[02:55:53] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[02:55:53] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[02:55:53] [INFO] [LastChance] Skipping player node: Player
[02:55:53] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[02:55:53] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[02:55:53] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[02:55:56] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@293
[02:55:56] [INFO] [LastChance] Registered frozen player bullet: @Area2D@293
[02:55:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 769.3333), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:55:56] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[02:55:56] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@295
[02:55:56] [INFO] [LastChance] Registered frozen player bullet: @Area2D@295
[02:55:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 800.0556), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:55:56] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[02:55:58] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@297
[02:55:58] [INFO] [LastChance] Registered frozen player bullet: @Area2D@297
[02:55:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(184.5033, 1221.952), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:55:58] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=0, below_threshold=6
[02:55:58] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@299
[02:55:58] [INFO] [LastChance] Registered frozen player bullet: @Area2D@299
[02:55:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(157.2798, 1249.176), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:55:58] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=5
[02:55:58] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@301
[02:55:58] [INFO] [LastChance] Registered frozen player bullet: @Area2D@301
[02:55:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(130.0562, 1276.399), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:55:58] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=5
[02:55:58] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[02:55:58] [ENEMY] [Enemy1] Player reloading state changed: false -> true
[02:55:58] [ENEMY] [Enemy2] Player reloading state changed: false -> true
[02:55:58] [ENEMY] [Enemy3] Player reloading state changed: false -> true
[02:55:58] [ENEMY] [Enemy4] Player reloading state changed: false -> true
[02:55:58] [ENEMY] [Enemy5] Player reloading state changed: false -> true
[02:55:58] [ENEMY] [Enemy6] Player reloading state changed: false -> true
[02:55:58] [ENEMY] [Enemy7] Player reloading state changed: false -> true
[02:55:58] [ENEMY] [Enemy8] Player reloading state changed: false -> true
[02:55:58] [ENEMY] [Enemy9] Player reloading state changed: false -> true
[02:55:58] [ENEMY] [Enemy10] Player reloading state changed: false -> true
[02:55:58] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(80.06506, 1436.683), source=PLAYER (Player), range=900, listeners=10
[02:55:58] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=9, self=0, below_threshold=1
[02:55:59] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[02:55:59] [INFO] [Player.Reload.Anim] LeftArm: pos=(10.580957, 5.2891912), target=(12, 6), base=(24, 6)
[02:55:59] [INFO] [Player.Reload.Anim] RightArm: pos=(-1.99926, 7.644043), target=(-2, 8), base=(-2, 6)
[02:55:59] [INFO] [Player.Reload.Anim] Phase changed to: PullBolt (duration: 0,35s)
[02:55:59] [ENEMY] [Enemy1] Player reloading state changed: true -> false
[02:55:59] [ENEMY] [Enemy2] Player reloading state changed: true -> false
[02:55:59] [ENEMY] [Enemy3] Player reloading state changed: true -> false
[02:55:59] [ENEMY] [Enemy4] Player reloading state changed: true -> false
[02:55:59] [ENEMY] [Enemy5] Player reloading state changed: true -> false
[02:55:59] [ENEMY] [Enemy6] Player reloading state changed: true -> false
[02:55:59] [ENEMY] [Enemy7] Player reloading state changed: true -> false
[02:55:59] [ENEMY] [Enemy8] Player reloading state changed: true -> false
[02:55:59] [ENEMY] [Enemy9] Player reloading state changed: true -> false
[02:55:59] [ENEMY] [Enemy10] Player reloading state changed: true -> false
[02:55:59] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[02:55:59] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[02:55:59] [INFO] [LastChance] Effect duration expired after 6.00 real seconds
[02:55:59] [INFO] [LastChance] Ending last chance effect
[02:55:59] [INFO] [LastChance] All process modes restored
[02:55:59] [INFO] [LastChance] Unfroze player bullet: @Area2D@293
[02:55:59] [INFO] [LastChance] Unfroze player bullet: @Area2D@295
[02:55:59] [INFO] [LastChance] Unfroze player bullet: @Area2D@297
[02:55:59] [INFO] [LastChance] Unfroze player bullet: @Area2D@299
[02:55:59] [INFO] [LastChance] Unfroze player bullet: @Area2D@301
[02:55:59] [INFO] [LastChance] Restored original colors to 5 player sprites
[02:55:59] [INFO] [LastChance] Called player RefreshHealthVisual (C#)
[02:55:59] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[02:55:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(450, 800.0556), shooter_id=48838477511, bullet_pos=(516.6645, 799.51843)
[02:55:59] [INFO] [Bullet] Using shooter_position, distance=66,66666
[02:55:59] [INFO] [Bullet] Distance to wall: 66,66666 (4,5394554% of viewport)
[02:55:59] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[02:55:59] [INFO] [Bullet] Starting wall penetration at (516.6645, 799.51843)
[02:55:59] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[02:55:59] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[02:55:59] [INFO] [Bullet] Exiting penetration at (563.32965, 799.1424) after traveling 41,666668 pixels through wall
[02:55:59] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[02:55:59] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[02:56:00] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[02:56:00] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[02:56:00] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[02:56:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(450, 769.3333), shooter_id=48838477511, bullet_pos=(932.6178, 795.61884)
[02:56:00] [INFO] [Bullet] Using shooter_position, distance=483,33307
[02:56:00] [INFO] [Bullet] Distance to wall: 483,33307 (32,911037% of viewport)
[02:56:00] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:56:00] [INFO] [Bullet] Starting wall penetration at (932.6178, 795.61884)
[02:56:00] [INFO] [Bullet] Raycast backward hit penetrating body at distance 43,27944
[02:56:00] [INFO] [Bullet] Body exited signal received for penetrating body
[02:56:00] [INFO] [Bullet] Exiting penetration at (979.2154, 798.15674) after traveling 41,666668 pixels through wall
[02:56:00] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[02:56:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(617.5732, 766.2179), shooter_id=46019905055, bullet_pos=(67.9933, 807.4827)
[02:56:00] [INFO] [Bullet] Using shooter_position, distance=551.126892089844
[02:56:00] [INFO] [Bullet] Distance to wall: 551.126892089844 (37.5272435153898% of viewport)
[02:56:00] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:56:00] [INFO] [Bullet] Starting wall penetration at (67.9933, 807.4827)
[02:56:00] [INFO] [Bullet] Raycast backward hit penetrating body at distance 10.5872230529785
[02:56:00] [INFO] [Bullet] Body exited signal received for penetrating body
[02:56:00] [INFO] [Bullet] Exiting penetration at (21.43806, 810.7056) after traveling 41.6666717529297 pixels through wall
[02:56:00] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:56:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(450, 778.33325), shooter_id=48838477511, bullet_pos=(1365.8326, 318.03336)
[02:56:00] [INFO] [Bullet] Using shooter_position, distance=1025,0002
[02:56:00] [INFO] [Bullet] Distance to wall: 1025,0002 (69,79415% of viewport)
[02:56:00] [INFO] [Bullet] Distance-based penetration chance: 65,24016%
[02:56:00] [INFO] [Bullet] Starting wall penetration at (1365.8326, 318.03336)
[02:56:00] [INFO] [Bullet] Raycast backward hit penetrating body at distance 21,857065
[02:56:00] [INFO] [Bullet] Body exited signal received for penetrating body
[02:56:00] [INFO] [Bullet] Exiting penetration at (1407.5292, 297.0766) after traveling 41,666668 pixels through wall
[02:56:00] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[02:56:00] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[02:56:00] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[02:56:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(184.50334, 1221.9524), shooter_id=48838477511, bullet_pos=(1240.47, 1372.6586)
[02:56:00] [INFO] [Bullet] Using shooter_position, distance=1066,6667
[02:56:00] [INFO] [Bullet] Distance to wall: 1066,6667 (72,6313% of viewport)
[02:56:00] [INFO] [Bullet] Distance-based penetration chance: 61,930157%
[02:56:00] [INFO] [Bullet] Starting wall penetration at (1240.47, 1372.6586)
[02:56:00] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[02:56:00] [INFO] [Bullet] Exiting penetration at (1286.6685, 1379.252) after traveling 41,666668 pixels through wall
[02:56:00] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[02:56:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(157.27975, 1249.1757), shooter_id=48838477511, bullet_pos=(1342.141, 1376.35)
[02:56:00] [INFO] [Bullet] Using shooter_position, distance=1191,6666
[02:56:00] [INFO] [Bullet] Distance to wall: 1191,6666 (81,14278% of viewport)
[02:56:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(130.05617, 1276.3989), shooter_id=48838477511, bullet_pos=(1695.5464, 1337.095)
[02:56:00] [INFO] [Bullet] Using shooter_position, distance=1566,6665
[02:56:00] [INFO] [Bullet] Distance to wall: 1566,6665 (106,67721% of viewport)
[02:56:00] [INFO] [Bullet] Distance-based penetration chance: 28,664558%
[02:56:00] [INFO] [Bullet] Penetration failed (distance roll)
[02:56:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(157.27975, 1249.1757), shooter_id=48838477511, bullet_pos=(1701.1389, 1365.3373)
[02:56:00] [INFO] [Bullet] Using shooter_position, distance=1548,223
[02:56:00] [INFO] [Bullet] Distance to wall: 1548,223 (105,42136% of viewport)
[02:56:00] [INFO] [Bullet] Distance-based penetration chance: 28,91573%
[02:56:00] [INFO] [Bullet] Starting wall penetration at (1701.1389, 1365.3373)
[02:56:00] [INFO] [Bullet] Raycast backward hit penetrating body at distance 41,55616
[02:56:00] [INFO] [Bullet] Body exited signal received for penetrating body
[02:56:00] [INFO] [Bullet] Exiting penetration at (1741.5366, 1364.098) after traveling 35,416664 pixels through wall
[02:56:00] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[02:56:01] [ENEMY] [Enemy1] FLANKING started: target=(-14.26881, 1650.129), side=left, pos=(329.7129, 401.9337)
[02:56:01] [ENEMY] [Enemy1] State: PURSUING -> FLANKING
[02:56:01] [ENEMY] [Enemy4] FLANKING started: target=(61.37061, 1590.325), side=left, pos=(716.8463, 972.7819)
[02:56:01] [ENEMY] [Enemy4] State: PURSUING -> FLANKING
[02:56:02] [ENEMY] [Enemy2] State: SUPPRESSED -> IN_COVER
[02:56:02] [ENEMY] [Enemy2] State: IN_COVER -> PURSUING
[02:56:02] [ENEMY] [Enemy3] State: SUPPRESSED -> IN_COVER
[02:56:02] [ENEMY] [Enemy3] State: IN_COVER -> PURSUING
[02:56:02] [ENEMY] [Enemy10] FLANKING started: target=(190.529, 1639.12), side=left, pos=(952.8984, 1527.5)
[02:56:02] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[02:56:03] [ENEMY] [Enemy2] FLANKING started: target=(127.4821, 1610.455), side=left, pos=(400, 550)
[02:56:03] [ENEMY] [Enemy2] State: PURSUING -> FLANKING
[02:56:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(290.689, 1665.056), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:56:04] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=5
[02:56:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(290.689, 1651.056), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:56:04] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=5
[02:56:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(290.689, 1653.389), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:56:04] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=5
[02:56:04] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(290.689, 1665.0559), shooter_id=48838477511, bullet_pos=(884.8727, 1534.613)
[02:56:04] [INFO] [Bullet] Using shooter_position, distance=608,3335
[02:56:04] [INFO] [Bullet] Distance to wall: 608,3335 (41,42255% of viewport)
[02:56:04] [ENEMY] [Enemy4] FLANKING stuck (2.0s no progress), target=(164.0814, 1501.232), pos=(548.0056, 975.9984), fail_count=1
[02:56:04] [ENEMY] [Enemy4] State: FLANKING -> PURSUING
[02:56:04] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[02:56:04] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(290.689, 1651.0559), shooter_id=48838477511, bullet_pos=(893.85876, 1571.9661)
[02:56:04] [INFO] [Bullet] Using shooter_position, distance=608,333
[02:56:04] [INFO] [Bullet] Distance to wall: 608,333 (41,422512% of viewport)
[02:56:04] [ENEMY] [Enemy10] State: FLANKING -> RETREATING
[02:56:04] [ENEMY] [Enemy10] State: RETREATING -> IN_COVER
[02:56:04] [ENEMY] [Enemy10] State: IN_COVER -> SUPPRESSED
[02:56:04] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(290.689, 1653.3893), shooter_id=48838477511, bullet_pos=(892.07196, 1561.6956)
[02:56:04] [INFO] [Bullet] Using shooter_position, distance=608,3331
[02:56:04] [INFO] [Bullet] Distance to wall: 608,3331 (41,422523% of viewport)
[02:56:04] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[02:56:05] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[02:56:05] [ENEMY] [Enemy1] Player reloading state changed: false -> true
[02:56:05] [ENEMY] [Enemy2] Player reloading state changed: false -> true
[02:56:05] [ENEMY] [Enemy3] Player reloading state changed: false -> true
[02:56:05] [ENEMY] [Enemy4] Player reloading state changed: false -> true
[02:56:05] [ENEMY] [Enemy5] Player reloading state changed: false -> true
[02:56:05] [ENEMY] [Enemy6] Player reloading state changed: false -> true
[02:56:05] [ENEMY] [Enemy7] Player reloading state changed: false -> true
[02:56:05] [ENEMY] [Enemy8] Player reloading state changed: false -> true
[02:56:05] [ENEMY] [Enemy9] Player reloading state changed: false -> true
[02:56:05] [ENEMY] [Enemy10] Player reloading state changed: false -> true
[02:56:05] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(160.4355, 1811.574), source=PLAYER (Player), range=900, listeners=10
[02:56:05] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=9, self=0, below_threshold=1
[02:56:05] [ENEMY] [Enemy1] Player vulnerable (reloading) but cannot attack: close=false (dist=1147), can_see=false
[02:56:05] [ENEMY] [Enemy2] Player vulnerable (reloading) but cannot attack: close=false (dist=1148), can_see=false
[02:56:05] [ENEMY] [Enemy3] Player vulnerable (reloading) but cannot attack: close=false (dist=938), can_see=false
[02:56:05] [ENEMY] [Enemy4] Player vulnerable (reloading) but cannot attack: close=false (dist=932), can_see=false
[02:56:05] [ENEMY] [Enemy5] Player vulnerable (reloading) but cannot attack: close=false (dist=2123), can_see=false
[02:56:05] [ENEMY] [Enemy6] Player vulnerable (reloading) but cannot attack: close=false (dist=2249), can_see=false
[02:56:05] [ENEMY] [Enemy7] Player vulnerable (reloading) but cannot attack: close=false (dist=1714), can_see=false
[02:56:05] [ENEMY] [Enemy8] Player vulnerable (reloading) but cannot attack: close=false (dist=1777), can_see=false
[02:56:05] [ENEMY] [Enemy9] Player vulnerable (reloading) but cannot attack: close=false (dist=1957), can_see=false
[02:56:05] [ENEMY] [Enemy10] Player vulnerable (reloading) but cannot attack: close=false (dist=828), can_see=false
[02:56:05] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[02:56:06] [INFO] [Player.Reload.Anim] Phase changed to: PullBolt (duration: 0,35s)
[02:56:06] [ENEMY] [Enemy1] Player reloading state changed: true -> false
[02:56:06] [ENEMY] [Enemy2] Player reloading state changed: true -> false
[02:56:06] [ENEMY] [Enemy3] Player reloading state changed: true -> false
[02:56:06] [ENEMY] [Enemy4] Player reloading state changed: true -> false
[02:56:06] [ENEMY] [Enemy5] Player reloading state changed: true -> false
[02:56:06] [ENEMY] [Enemy6] Player reloading state changed: true -> false
[02:56:06] [ENEMY] [Enemy7] Player reloading state changed: true -> false
[02:56:06] [ENEMY] [Enemy8] Player reloading state changed: true -> false
[02:56:06] [ENEMY] [Enemy9] Player reloading state changed: true -> false
[02:56:06] [ENEMY] [Enemy10] Player reloading state changed: true -> false
[02:56:06] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[02:56:06] [INFO] [Player.Reload.Anim] LeftArm: pos=(23.056347, 5.9779677), target=(24, 6), base=(24, 6)
[02:56:06] [INFO] [Player.Reload.Anim] RightArm: pos=(-1.999871, 6.138894), target=(-2, 6), base=(-2, 6)
[02:56:06] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[02:56:06] [ENEMY] [Enemy1] FLANKING stuck (2.0s no progress), target=(-18.7406, 1722.715), pos=(88.00011, 667.1744), fail_count=1
[02:56:06] [ENEMY] [Enemy1] State: FLANKING -> PURSUING
[02:56:06] [ENEMY] [Enemy1] State: PURSUING -> COMBAT
[02:56:06] [ENEMY] [Enemy3] FLANKING started: target=(44.01846, 1648.949), side=left, pos=(548.066, 957.1534)
[02:56:06] [ENEMY] [Enemy3] State: PURSUING -> FLANKING
[02:56:06] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[02:56:06] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[02:56:06] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[02:56:07] [ENEMY] [Enemy10] State: SUPPRESSED -> IN_COVER
[02:56:07] [ENEMY] [Enemy10] State: IN_COVER -> PURSUING
[02:56:07] [ENEMY] [Enemy2] FLANKING stuck (2.0s no progress), target=(-7.689377, 1719.081), pos=(88.00114, 667.1755), fail_count=1
[02:56:07] [ENEMY] [Enemy2] State: FLANKING -> PURSUING
[02:56:08] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[02:56:08] [ENEMY] [Enemy1] State: PURSUING -> COMBAT
[02:56:08] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[02:56:08] [ENEMY] [Enemy3] FLANKING stuck (2.0s no progress), target=(65.49948, 1644.839), pos=(548.0759, 975.9987), fail_count=1
[02:56:08] [ENEMY] [Enemy3] State: FLANKING -> PURSUING
[02:56:08] [ENEMY] [Enemy3] State: PURSUING -> COMBAT
[02:56:08] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[02:56:08] [ENEMY] [Enemy10] FLANKING started: target=(216.5234, 1608.673), side=left, pos=(936.067, 1522.957)
[02:56:08] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[02:56:08] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[02:56:08] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[02:56:09] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[02:56:10] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[02:56:10] [ENEMY] [Enemy1] State: PURSUING -> COMBAT
[02:56:10] [ENEMY] [Enemy4] FLANKING started: target=(64.66183, 1645.458), side=left, pos=(548.0665, 964.1308)
[02:56:10] [ENEMY] [Enemy4] State: PURSUING -> FLANKING
[02:56:10] [ENEMY] [Enemy3] State: PURSUING -> COMBAT
[02:56:10] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[02:56:10] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[02:56:11] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[02:56:12] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[02:56:12] [ENEMY] [Enemy1] FLANKING started: target=(2.947403, 1720.893), side=left, pos=(88.00011, 667.1744)
[02:56:12] [ENEMY] [Enemy1] State: PURSUING -> FLANKING
[02:56:12] [ENEMY] [Enemy3] State: PURSUING -> COMBAT
[02:56:12] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[02:56:12] [ENEMY] [Enemy4] FLANKING stuck (2.0s no progress), target=(65.49946, 1644.839), pos=(548.0758, 975.9987), fail_count=1
[02:56:12] [ENEMY] [Enemy4] State: FLANKING -> PURSUING
[02:56:12] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[02:56:13] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[02:56:13] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[02:56:13] [ENEMY] [Enemy10] FLANKING timeout (5.0s), target=(322.1316, 1655.867), pos=(936.0669, 1623.272)
[02:56:13] [ENEMY] [Enemy10] State: FLANKING -> PURSUING
[02:56:13] [ENEMY] [Enemy10] FLANKING started: target=(446.3191, 1982.092), side=right, pos=(936.0669, 1623.774)
[02:56:13] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[02:56:14] [ENEMY] [Enemy2] FLANKING started: target=(106.2273, 1783.619), side=left, pos=(88.00114, 667.1755)
[02:56:14] [ENEMY] [Enemy2] State: PURSUING -> FLANKING
[02:56:14] [ENEMY] [Enemy1] FLANKING stuck (2.0s no progress), target=(106.2273, 1783.619), pos=(88.00011, 667.1744), fail_count=1
[02:56:14] [ENEMY] [Enemy1] State: FLANKING -> PURSUING
[02:56:14] [ENEMY] [Enemy1] State: PURSUING -> COMBAT
[02:56:14] [ENEMY] [Enemy3] FLANKING started: target=(154.9826, 1708.697), side=left, pos=(548.0667, 964.5121)
[02:56:14] [ENEMY] [Enemy3] State: PURSUING -> FLANKING
[02:56:14] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[02:56:15] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[02:56:15] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[02:56:16] [ENEMY] [Enemy2] FLANKING stuck (2.0s no progress), target=(3.596573, 1721.067), pos=(88.00114, 667.1755), fail_count=1
[02:56:16] [ENEMY] [Enemy2] State: FLANKING -> PURSUING
[02:56:16] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[02:56:16] [ENEMY] [Enemy1] State: PURSUING -> COMBAT
[02:56:16] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[02:56:16] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[02:56:16] [ENEMY] [Enemy3] FLANKING stuck (2.0s no progress), target=(66.08134, 1644.991), pos=(548.0759, 975.9976), fail_count=1
[02:56:16] [ENEMY] [Enemy3] State: FLANKING -> PURSUING
[02:56:16] [ENEMY] [Enemy3] State: PURSUING -> COMBAT
[02:56:17] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[02:56:17] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[02:56:17] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[02:56:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(158.6361, 1812.065), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:56:17] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=4
[02:56:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(158.63614, 1812.0651), shooter_id=48838477511, bullet_pos=(343.68042, 1862.0126)
[02:56:17] [INFO] [Bullet] Using shooter_position, distance=191,66675
[02:56:17] [INFO] [Bullet] Distance to wall: 191,66675 (13,050942% of viewport)
[02:56:17] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:56:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(130.9022, 1802.735), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:56:17] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=4
[02:56:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(130.90219, 1802.7355), shooter_id=48838477511, bullet_pos=(315.77255, 1853.3225)
[02:56:17] [INFO] [Bullet] Using shooter_position, distance=191,66663
[02:56:17] [INFO] [Bullet] Distance to wall: 191,66663 (13,050933% of viewport)
[02:56:17] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:56:17] [INFO] [Bullet] Starting wall penetration at (315.77255, 1853.3225)
[02:56:17] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[02:56:17] [INFO] [Bullet] Exiting penetration at (360.78445, 1865.6394) after traveling 41,66667 pixels through wall
[02:56:17] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[02:56:17] [ENEMY] [Enemy1] Player distracted - priority attack triggered
[02:56:17] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[02:56:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(103.596, 1778.407), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:56:17] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=4
[02:56:17] [ENEMY] [Enemy1] State: PURSUING -> COMBAT
[02:56:17] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[02:56:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(103.59601, 1778.4069), shooter_id=48838477511, bullet_pos=(328.1104, 1841.9503)
[02:56:17] [INFO] [Bullet] Using shooter_position, distance=233,33342
[02:56:17] [INFO] [Bullet] Distance to wall: 233,33342 (15,888103% of viewport)
[02:56:17] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:56:17] [INFO] [Bullet] Starting wall penetration at (328.1104, 1841.9503)
[02:56:17] [ENEMY] [Enemy1] Player distracted - priority attack triggered
[02:56:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(87.99982, 667.1768), source=ENEMY (Enemy1), range=1469, listeners=10
[02:56:17] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=1, below_threshold=3
[02:56:17] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[02:56:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(88.00114, 667.1755), source=ENEMY (Enemy2), range=1469, listeners=10
[02:56:17] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=1, below_threshold=3
[02:56:17] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[02:56:17] [INFO] [Bullet] Exiting penetration at (373.0133, 1854.659) after traveling 41,66667 pixels through wall
[02:56:17] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[02:56:17] [ENEMY] [Enemy1] Player distracted - priority attack triggered
[02:56:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(87.99982, 667.1768), source=ENEMY (Enemy1), range=1469, listeners=10
[02:56:17] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=1, below_threshold=3
[02:56:17] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[02:56:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(88.00114, 667.1755), source=ENEMY (Enemy2), range=1469, listeners=10
[02:56:17] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=1, below_threshold=3
[02:56:17] [ENEMY] [Enemy1] State: COMBAT -> RETREATING
[02:56:17] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[02:56:18] [ENEMY] [Enemy1] Player distracted - priority attack triggered
[02:56:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(87.99982, 667.1768), source=ENEMY (Enemy1), range=1469, listeners=10
[02:56:18] [ENEMY] [Enemy2] Heard gunshot at (87.99982, 667.1768), source_type=1, intensity=1.00, distance=0
[02:56:18] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=1, below_threshold=3
[02:56:18] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[02:56:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(88.00114, 667.1755), source=ENEMY (Enemy2), range=1469, listeners=10
[02:56:18] [ENEMY] [Enemy1] Heard gunshot at (88.00114, 667.1755), source_type=1, intensity=1.00, distance=0
[02:56:18] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=1, below_threshold=3
[02:56:18] [ENEMY] [Enemy1] State: COMBAT -> RETREATING
[02:56:18] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[02:56:18] [ENEMY] [Enemy1] State: RETREATING -> IN_COVER
[02:56:18] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[02:56:18] [INFO] [LastChance] Threat detected: @Area2D@325
[02:56:18] [INFO] [LastChance] Effect already used this life
[02:56:18] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:56:18] [INFO] [LastChance] Threat detected: @Area2D@323
[02:56:18] [INFO] [LastChance] Effect already used this life
[02:56:18] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:56:18] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[02:56:18] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[02:56:18] [ENEMY] [Enemy1] Player distracted - priority attack triggered
[02:56:18] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[02:56:18] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(95.61883, 734.7963), shooter_id=45734692366, bullet_pos=(92.02361, 2068.125)
[02:56:18] [INFO] [Bullet] Using shooter_position, distance=1333.33312988281
[02:56:18] [INFO] [Bullet] Distance to wall: 1333.33312988281 (90.7891045971538% of viewport)
[02:56:18] [INFO] [Bullet] Distance-based penetration chance: 40.7460446366539%
[02:56:18] [INFO] [Bullet] Penetration failed (distance roll)
[02:56:18] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(95.61752, 734.7975), shooter_id=45449479677, bullet_pos=(92.02401, 2068.126)
[02:56:18] [INFO] [Bullet] Using shooter_position, distance=1333.3330078125
[02:56:18] [INFO] [Bullet] Distance to wall: 1333.3330078125 (90.7890962851617% of viewport)
[02:56:18] [INFO] [Bullet] Distance-based penetration chance: 40.746054333978%
[02:56:18] [INFO] [Bullet] Starting wall penetration at (92.02401, 2068.126)
[02:56:18] [INFO] [Bullet] Raycast backward hit penetrating body at distance 18.7923049926758
[02:56:18] [INFO] [Bullet] Body exited signal received for penetrating body
[02:56:18] [INFO] [Bullet] Exiting penetration at (91.89824, 2114.792) after traveling 41.6666717529297 pixels through wall
[02:56:18] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:56:18] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(95.31026, 734.8303), shooter_id=45734692366, bullet_pos=(85.63277, 2068.128)
[02:56:18] [INFO] [Bullet] Using shooter_position, distance=1333.33251953125
[02:56:18] [INFO] [Bullet] Distance to wall: 1333.33251953125 (90.7890630371936% of viewport)
[02:56:18] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(95.30898, 734.8316), shooter_id=45449479677, bullet_pos=(85.63319, 2068.129)
[02:56:18] [INFO] [Bullet] Using shooter_position, distance=1333.33251953125
[02:56:18] [INFO] [Bullet] Distance to wall: 1333.33251953125 (90.7890630371936% of viewport)
[02:56:18] [INFO] [Bullet] Distance-based penetration chance: 40.7460931232742%
[02:56:18] [INFO] [Bullet] Penetration failed (distance roll)
[02:56:18] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(80.26848, 734.7832), shooter_id=45734692366, bullet_pos=(81.5966, 2068.115)
[02:56:18] [INFO] [Bullet] Using shooter_position, distance=1333.33264160156
[02:56:18] [INFO] [Bullet] Distance to wall: 1333.33264160156 (90.7890713491856% of viewport)
[02:56:18] [INFO] [Bullet] Distance-based penetration chance: 40.7460834259501%
[02:56:18] [INFO] [Bullet] Starting wall penetration at (81.5966, 2068.115)
[02:56:18] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(80.26732, 734.7845), shooter_id=45449479677, bullet_pos=(81.59715, 2068.117)
[02:56:18] [INFO] [Bullet] Using shooter_position, distance=1333.33276367188
[02:56:18] [INFO] [Bullet] Distance to wall: 1333.33276367188 (90.7890796611777% of viewport)
[02:56:18] [INFO] [Bullet] Distance-based penetration chance: 40.7460737286261%
[02:56:18] [INFO] [Bullet] Penetration failed (distance roll)
[02:56:18] [INFO] [Bullet] Raycast backward hit penetrating body at distance 18.7819919586182
[02:56:18] [INFO] [Bullet] Body exited signal received for penetrating body
[02:56:18] [INFO] [Bullet] Exiting penetration at (81.64309, 2114.782) after traveling 41.6666679382324 pixels through wall
[02:56:18] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:56:18] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:56:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(158.1534, 1828.162), source=ENEMY (Enemy10), range=1469, listeners=10
[02:56:18] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=4
[02:56:18] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(168.7568, 1760.944), shooter_id=48016393878, bullet_pos=(168.7568, 1760.944)
[02:56:18] [INFO] [Bullet] Using shooter_position, distance=0
[02:56:18] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[02:56:18] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[02:56:18] [INFO] [Bullet] Starting wall penetration at (168.7568, 1760.944)
[02:56:18] [INFO] [LastChance] Threat detected: Bullet
[02:56:18] [INFO] [LastChance] Effect already used this life
[02:56:18] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:56:18] [ENEMY] [Enemy10] State: FLANKING -> COMBAT
[02:56:18] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[02:56:18] [INFO] [Bullet] Exiting penetration at (170.6967, 1714.318) after traveling 41.6666679382324 pixels through wall
[02:56:18] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:56:18] [ENEMY] [Enemy4] FLANKING started: target=(71.13612, 1483.007), side=left, pos=(548.0668, 972.2919)
[02:56:18] [ENEMY] [Enemy4] State: PURSUING -> FLANKING
[02:56:18] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:56:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(145.6824, 1818.138), source=ENEMY (Enemy10), range=1469, listeners=10
[02:56:18] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=4
[02:56:18] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(166.0957, 1753.224), shooter_id=48016393878, bullet_pos=(166.0957, 1753.224)
[02:56:18] [INFO] [Bullet] Using shooter_position, distance=0
[02:56:18] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[02:56:18] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[02:56:18] [INFO] [Bullet] Starting wall penetration at (166.0957, 1753.224)
[02:56:18] [INFO] [LastChance] Threat detected: Bullet
[02:56:18] [INFO] [LastChance] Effect already used this life
[02:56:18] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:56:18] [ENEMY] [Enemy3] State: PURSUING -> COMBAT
[02:56:18] [INFO] [Bullet] Raycast backward hit penetrating body at distance 2.65261483192444
[02:56:18] [INFO] [Bullet] Max penetration distance exceeded: 83.3333358764648 >= 48
[02:56:18] [INFO] [Bullet] Body exited signal received for penetrating body
[02:56:18] [INFO] [Bullet] Exiting penetration at (182.7606, 1666.477) after traveling 83.3333358764648 pixels through wall
[02:56:18] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:56:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(145.6824, 1818.138), source=ENEMY (Enemy10), range=1469, listeners=10
[02:56:18] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=4
[02:56:18] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(166.6656, 1753.406), shooter_id=48016393878, bullet_pos=(166.6656, 1753.406)
[02:56:18] [INFO] [Bullet] Using shooter_position, distance=0
[02:56:18] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[02:56:18] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[02:56:18] [INFO] [Bullet] Starting wall penetration at (166.6656, 1753.406)
[02:56:18] [INFO] [LastChance] Threat detected: Bullet
[02:56:18] [INFO] [LastChance] Effect already used this life
[02:56:18] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:56:18] [INFO] [Bullet] Raycast backward hit penetrating body at distance 2.39086127281189
[02:56:18] [INFO] [Bullet] Max penetration distance exceeded: 83.3333282470703 >= 48
[02:56:18] [INFO] [Bullet] Body exited signal received for penetrating body
[02:56:18] [INFO] [Bullet] Exiting penetration at (184.0926, 1666.808) after traveling 83.3333282470703 pixels through wall
[02:56:18] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:56:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(145.6824, 1818.138), source=ENEMY (Enemy10), range=1469, listeners=10
[02:56:18] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=4
[02:56:18] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(170.9672, 1754.962), shooter_id=48016393878, bullet_pos=(170.9672, 1754.962)
[02:56:18] [INFO] [Bullet] Using shooter_position, distance=0
[02:56:18] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[02:56:18] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[02:56:18] [INFO] [Bullet] Starting wall penetration at (170.9672, 1754.962)
[02:56:18] [INFO] [LastChance] Threat detected: Bullet
[02:56:18] [INFO] [LastChance] Effect already used this life
[02:56:18] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:56:19] [INFO] [Bullet] Raycast backward hit penetrating body at distance 0.06819094717503
[02:56:19] [INFO] [Bullet] Max penetration distance exceeded: 83.3333358764648 >= 48
[02:56:19] [INFO] [Bullet] Body exited signal received for penetrating body
[02:56:19] [INFO] [Bullet] Exiting penetration at (194.1728, 1669.731) after traveling 83.3333358764648 pixels through wall
[02:56:19] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:56:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(213.4048, 1659.88), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:56:19] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=4
[02:56:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(145.6824, 1818.138), source=ENEMY (Enemy10), range=1469, listeners=10
[02:56:19] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=4
[02:56:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(180.1811, 1759.483), shooter_id=48016393878, bullet_pos=(180.1811, 1759.483)
[02:56:19] [INFO] [Bullet] Using shooter_position, distance=0
[02:56:19] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[02:56:19] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[02:56:19] [INFO] [Bullet] Starting wall penetration at (180.1811, 1759.483)
[02:56:19] [INFO] [LastChance] Threat detected: @Area2D@349
[02:56:19] [INFO] [LastChance] Effect already used this life
[02:56:19] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:56:19] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[02:56:19] [INFO] [Bullet] Exiting penetration at (199.0732, 1716.811) after traveling 41.6666717529297 pixels through wall
[02:56:19] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:56:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(213.40475, 1659.8798), shooter_id=48838477511, bullet_pos=(44.8392, 1751.1038)
[02:56:19] [INFO] [Bullet] Using shooter_position, distance=191,66681
[02:56:19] [INFO] [Bullet] Distance to wall: 191,66681 (13,050946% of viewport)
[02:56:19] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:56:19] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[02:56:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(251.2381, 1659.88), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:56:19] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=4
[02:56:19] [ENEMY] [Enemy10] Hit taken, health: 3/4
[02:56:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(251.23808, 1659.8798), shooter_id=48838477511, bullet_pos=(41.62948, 1762.3915)
[02:56:19] [INFO] [Bullet] Using shooter_position, distance=233,33328
[02:56:19] [INFO] [Bullet] Distance to wall: 233,33328 (15,888093% of viewport)
[02:56:19] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:56:19] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[02:56:19] [ENEMY] [Enemy10] Hit taken, health: 2/4
[02:56:19] [ENEMY] [Enemy10] State: PURSUING -> RETREATING
[02:56:19] [ENEMY] [Enemy10] State: RETREATING -> IN_COVER
[02:56:19] [ENEMY] [Enemy10] State: IN_COVER -> SUPPRESSED
[02:56:20] [ENEMY] [Enemy1] State: SUPPRESSED -> IN_COVER
[02:56:20] [ENEMY] [Enemy2] State: SUPPRESSED -> IN_COVER
[02:56:20] [ENEMY] [Enemy1] State: IN_COVER -> PURSUING
[02:56:20] [ENEMY] [Enemy2] State: IN_COVER -> PURSUING
[02:56:21] [ENEMY] [Enemy4] FLANKING stuck (2.0s no progress), target=(135.3207, 1493.286), pos=(548.0758, 975.999), fail_count=1
[02:56:21] [ENEMY] [Enemy4] State: FLANKING -> PURSUING
[02:56:21] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[02:56:21] [ENEMY] [Enemy3] State: PURSUING -> COMBAT
[02:56:21] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[02:56:21] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[02:56:21] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:56:21] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(155.7661, 1823.012), source=ENEMY (Enemy10), range=1469, listeners=10
[02:56:21] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=4
[02:56:21] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(170.4508, 1756.567), shooter_id=48016393878, bullet_pos=(170.4508, 1756.567)
[02:56:21] [INFO] [Bullet] Using shooter_position, distance=0
[02:56:21] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[02:56:21] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[02:56:21] [INFO] [Bullet] Starting wall penetration at (170.4508, 1756.567)
[02:56:21] [INFO] [LastChance] Threat detected: Bullet
[02:56:21] [INFO] [LastChance] Effect already used this life
[02:56:21] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:56:21] [ENEMY] [Enemy10] Grenade trigger: suppressed and player visible (being chased)
[02:56:21] [ENEMY] [Enemy10] Preparing to throw frag grenade at (164.6999, 1693.934)
[02:56:21] [ENEMY] [Enemy10] State: SUPPRESSED -> THROWING_GRENADE
[02:56:21] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[02:56:21] [INFO] [Bullet] Exiting penetration at (174.3782, 1718.436) after traveling 33.3333358764648 pixels through wall
[02:56:21] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:56:22] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:56:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(155.7661, 1823.012), source=ENEMY (Enemy10), range=1469, listeners=10
[02:56:22] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=1, below_threshold=4
[02:56:22] [INFO] [LastChance] Threat detected: Bullet
[02:56:22] [INFO] [LastChance] Effect already used this life
[02:56:22] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:56:22] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[02:56:22] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[02:56:22] [INFO] [PenultimateHit] Player died - ending penultimate effect
[02:56:22] [INFO] [LastChance] Player died
[02:56:22] [ENEMY] [Enemy1] Player distracted - priority attack triggered
[02:56:22] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[02:56:22] [ENEMY] [Enemy1] State: PURSUING -> COMBAT
[02:56:22] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[02:56:22] [ENEMY] [Enemy1] Player distracted - priority attack triggered
[02:56:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(87.9999, 667.1771), source=ENEMY (Enemy1), range=1469, listeners=10
[02:56:22] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=1, below_threshold=3
[02:56:22] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[02:56:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(88.00024, 667.1758), source=ENEMY (Enemy2), range=1469, listeners=10
[02:56:22] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=1, below_threshold=3
[02:56:22] [ENEMY] [Enemy1] Player distracted - priority attack triggered
[02:56:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(87.9999, 667.1771), source=ENEMY (Enemy1), range=1469, listeners=10
[02:56:22] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=1, below_threshold=3
[02:56:22] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[02:56:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(88.00024, 667.1758), source=ENEMY (Enemy2), range=1469, listeners=10
[02:56:22] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=1, below_threshold=3
[02:56:22] [ENEMY] [Enemy1] State: COMBAT -> RETREATING
[02:56:22] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[02:56:22] [ENEMY] [Enemy1] Player distracted - priority attack triggered
[02:56:22] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[02:56:22] [ENEMY] [Enemy1] State: RETREATING -> IN_COVER
[02:56:22] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[02:56:22] [ENEMY] [Enemy10] Threw frag grenade: target=(164.6999, 1693.934), deviation=-3.9°, distance=129
[02:56:22] [INFO] [GrenadeBase] CCD enabled (mode: CAST_RAY) to prevent wall tunneling
[02:56:22] [INFO] [GrenadeBase] Grenade created at (155.8156, 1793.012) (frozen)
[02:56:22] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[02:56:22] [INFO] [GrenadeBase] LEGACY throw_grenade() called! Direction: (0.00165, -0.999999), Speed: 129.4 (unfrozen)
[02:56:22] [INFO] [GrenadeBase] NOTE: Using DRAG-BASED system. If velocity-based is expected, ensure grenade has throw_grenade_velocity_based() method.
[02:56:22] [INFO] [FragGrenade] Grenade thrown (legacy) - impact detection enabled
[02:56:22] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[02:56:22] [ENEMY] [Enemy10] State: THROWING_GRENADE -> SEEKING_COVER
[02:56:22] [INFO] [GrenadeBase] Collision detected with Enemy10 (type: CharacterBody2D)
[02:56:22] [INFO] [GrenadeBase] Collision detected with StorageCrate1 (type: StaticBody2D)
[02:56:22] [INFO] [FragGrenade] Impact detected! Body: StorageCrate1 (type: StaticBody2D), triggering explosion
[02:56:22] [INFO] [FragGrenade] Impact detected - exploding immediately!
[02:56:22] [INFO] [GrenadeBase] EXPLODED at (151.2181, 1790.974)!
[02:56:22] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(151.2181, 1790.974), source=NEUTRAL (FragGrenade), range=2937, listeners=10
[02:56:22] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=9
[02:56:22] [ENEMY] [Enemy10] Hit taken, health: 1/4
[02:56:22] [ENEMY] [Enemy10] Hit taken, health: 0/4
[02:56:22] [ENEMY] [Enemy10] Enemy died (ricochet: false, penetration: false)
[02:56:22] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[02:56:22] [INFO] [SoundPropagation] Unregistered listener: Enemy10 (remaining: 9)
[02:56:22] [INFO] [DeathAnim] Started - Angle: 81.9 deg, Index: 17
[02:56:22] [ENEMY] [Enemy10] Death animation started with hit direction: (0.140545, 0.990074)
[02:56:22] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 32.4
[02:56:22] [INFO] [FragGrenade] Player found in blast radius at distance 104.7
[02:56:22] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 104.7
[02:56:22] [INFO] [FragGrenade] Spawned shrapnel #1 at angle -5.9 degrees
[02:56:22] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 85.5 degrees
[02:56:22] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 178.8 degrees
[02:56:22] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 286.4 degrees
[02:56:22] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[02:56:22] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[02:56:22] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[02:56:22] [INFO] [LastChance] Resetting all effects (scene change detected)
[02:56:22] [ENEMY] [Enemy1] Death animation component initialized
[02:56:22] [ENEMY] [Enemy2] Death animation component initialized
[02:56:22] [ENEMY] [Enemy3] Death animation component initialized
[02:56:22] [ENEMY] [Enemy4] Death animation component initialized
[02:56:22] [ENEMY] [Enemy5] Death animation component initialized
[02:56:22] [ENEMY] [Enemy6] Death animation component initialized
[02:56:22] [ENEMY] [Enemy7] Death animation component initialized
[02:56:22] [ENEMY] [Enemy8] Death animation component initialized
[02:56:22] [ENEMY] [Enemy9] Death animation component initialized
[02:56:22] [ENEMY] [Enemy10] Death animation component initialized
[02:56:22] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[02:56:22] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[02:56:22] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[02:56:22] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[02:56:22] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[02:56:22] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[02:56:22] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[02:56:22] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[02:56:22] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[02:56:22] [ENEMY] [Enemy10] Grenade system configured: offensive=2, flashbangs=0
[02:56:22] [INFO] [ScoreManager] Level started with 10 enemies
[02:56:22] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[02:56:22] [ENEMY] [Enemy1] Registered as sound listener
[02:56:22] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[02:56:22] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[02:56:22] [ENEMY] [Enemy2] Registered as sound listener
[02:56:22] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[02:56:22] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[02:56:22] [ENEMY] [Enemy3] Registered as sound listener
[02:56:22] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[02:56:22] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[02:56:22] [ENEMY] [Enemy4] Registered as sound listener
[02:56:22] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[02:56:22] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[02:56:22] [ENEMY] [Enemy5] Registered as sound listener
[02:56:22] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[02:56:22] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[02:56:22] [ENEMY] [Enemy6] Registered as sound listener
[02:56:22] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[02:56:22] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[02:56:22] [ENEMY] [Enemy7] Registered as sound listener
[02:56:22] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[02:56:22] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[02:56:22] [ENEMY] [Enemy8] Registered as sound listener
[02:56:22] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[02:56:22] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[02:56:22] [ENEMY] [Enemy9] Registered as sound listener
[02:56:22] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[02:56:22] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[02:56:22] [ENEMY] [Enemy10] Registered as sound listener
[02:56:22] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[02:56:22] [INFO] [Player] Detecting weapon pose (frame 3)...
[02:56:22] [INFO] [Player] Detected weapon: Rifle (default pose)
[02:56:22] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[02:56:22] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[02:56:22] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[02:56:22] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[02:56:22] [INFO] [LastChance] Found player: Player
[02:56:22] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[02:56:22] [INFO] [LastChance] Connected to player Damaged signal (C#)
[02:56:22] [INFO] [LastChance] Connected to player Died signal (C#)
[02:56:23] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[02:56:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1143.737, 1519.513), source=ENEMY (Enemy10), range=1469, listeners=19
[02:56:23] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[02:56:23] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:56:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1111.683, 1500.376), source=ENEMY (Enemy10), range=1469, listeners=10
[02:56:23] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:56:23] [INFO] [LastChance] Threat detected: Bullet
[02:56:23] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:56:23] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:56:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1080.07, 1480.518), source=ENEMY (Enemy10), range=1469, listeners=10
[02:56:23] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:56:23] [INFO] [LastChance] Threat detected: @Area2D@626
[02:56:23] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:56:23] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:56:24] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[02:56:24] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[02:56:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1048.45, 1460.669), source=ENEMY (Enemy10), range=1469, listeners=10
[02:56:24] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:56:24] [INFO] [LastChance] Threat detected: @Area2D@628
[02:56:24] [INFO] [LastChance] Player health is 3.0 - effect requires exactly 1 HP or less but alive
[02:56:24] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:56:24] [INFO] [LastChance] Threat detected: @Area2D@630
[02:56:24] [INFO] [LastChance] Player health is 3.0 - effect requires exactly 1 HP or less but alive
[02:56:24] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:56:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1016.491, 1441.374), source=ENEMY (Enemy10), range=1469, listeners=10
[02:56:24] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:56:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1081.318, 1492.329), shooter_id=1661749693500, bullet_pos=(36.05626, 886.1115)
[02:56:24] [INFO] [Bullet] Using shooter_position, distance=1208.33422851563
[02:56:24] [INFO] [Bullet] Distance to wall: 1208.33422851563 (82.2776995503503% of viewport)
[02:56:24] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[02:56:24] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[02:56:24] [INFO] [LastChance] Threat detected: @Area2D@632
[02:56:24] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[02:56:24] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:56:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(984.0126, 1423.822), source=ENEMY (Enemy10), range=1469, listeners=10
[02:56:24] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:56:24] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[02:56:24] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[02:56:24] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[02:56:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1081.318, 1492.329), shooter_id=1661749693500, bullet_pos=(309.4219, 712.6602)
[02:56:24] [INFO] [Bullet] Using shooter_position, distance=1097.1357421875
[02:56:24] [INFO] [Bullet] Distance to wall: 1097.1357421875 (74.7059901402821% of viewport)
[02:56:24] [INFO] [LastChance] Threat detected: @Area2D@634
[02:56:24] [INFO] [LastChance] Triggering last chance effect!
[02:56:24] [INFO] [LastChance] Starting last chance effect:
[02:56:24] [INFO] [LastChance]   - Time will be frozen (except player)
[02:56:24] [INFO] [LastChance]   - Duration: 6.0 real seconds
[02:56:24] [INFO] [LastChance]   - Sepia intensity: 0.70
[02:56:24] [INFO] [LastChance]   - Brightness: 0.60
[02:56:24] [INFO] [LastChance] Pushed bullet @Area2D@634 from distance 130.1 to 200.0
[02:56:24] [INFO] [LastChance] Pushed 1 threatening bullets away from player
[02:56:24] [INFO] [LastChance] Set player Player and all 18 children to PROCESS_MODE_ALWAYS
[02:56:24] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[02:56:24] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:56:24] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:56:24] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[02:56:24] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:56:24] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:56:24] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:56:24] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:56:24] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:56:24] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:56:24] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:56:24] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:56:24] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:56:24] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:56:24] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:56:24] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:56:24] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:56:24] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[02:56:24] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[02:56:24] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:56:24] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:56:24] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:56:24] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:56:24] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:56:24] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[02:56:24] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[02:56:24] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:56:24] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[02:56:24] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[02:56:24] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:56:24] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:56:24] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[02:56:24] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[02:56:24] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[02:56:24] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[02:56:24] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[02:56:24] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[02:56:24] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[02:56:24] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[02:56:24] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[02:56:24] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[02:56:24] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[02:56:24] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[02:56:24] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[02:56:24] [INFO] [LastChance] Skipping player node: Player
[02:56:24] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[02:56:24] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[02:56:24] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[02:56:24] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[02:56:24] [INFO] [LastChance] Resetting all effects (scene change detected)
[02:56:24] [INFO] [LastChance] Ending last chance effect
[02:56:24] [INFO] [LastChance] All process modes restored
[02:56:24] [INFO] [LastChance] Restored original colors to 5 player sprites
[02:56:24] [ENEMY] [Enemy1] Death animation component initialized
[02:56:24] [ENEMY] [Enemy2] Death animation component initialized
[02:56:24] [ENEMY] [Enemy3] Death animation component initialized
[02:56:24] [ENEMY] [Enemy4] Death animation component initialized
[02:56:24] [ENEMY] [Enemy5] Death animation component initialized
[02:56:24] [ENEMY] [Enemy6] Death animation component initialized
[02:56:24] [ENEMY] [Enemy7] Death animation component initialized
[02:56:24] [ENEMY] [Enemy8] Death animation component initialized
[02:56:24] [ENEMY] [Enemy9] Death animation component initialized
[02:56:24] [ENEMY] [Enemy10] Death animation component initialized
[02:56:24] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[02:56:24] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[02:56:24] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[02:56:24] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[02:56:24] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[02:56:24] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[02:56:24] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[02:56:24] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[02:56:24] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[02:56:24] [ENEMY] [Enemy10] Grenade system configured: offensive=2, flashbangs=0
[02:56:24] [INFO] [ScoreManager] Level started with 10 enemies
[02:56:24] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[02:56:24] [ENEMY] [Enemy1] Registered as sound listener
[02:56:24] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[02:56:24] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[02:56:24] [ENEMY] [Enemy2] Registered as sound listener
[02:56:24] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[02:56:24] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[02:56:24] [ENEMY] [Enemy3] Registered as sound listener
[02:56:24] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[02:56:24] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[02:56:24] [ENEMY] [Enemy4] Registered as sound listener
[02:56:24] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[02:56:24] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[02:56:24] [ENEMY] [Enemy5] Registered as sound listener
[02:56:24] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[02:56:24] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[02:56:24] [ENEMY] [Enemy6] Registered as sound listener
[02:56:24] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[02:56:24] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[02:56:24] [ENEMY] [Enemy7] Registered as sound listener
[02:56:24] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[02:56:24] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[02:56:24] [ENEMY] [Enemy8] Registered as sound listener
[02:56:24] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[02:56:24] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[02:56:24] [ENEMY] [Enemy9] Registered as sound listener
[02:56:24] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[02:56:24] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[02:56:24] [ENEMY] [Enemy10] Registered as sound listener
[02:56:24] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[02:56:24] [INFO] [Player] Detecting weapon pose (frame 3)...
[02:56:24] [INFO] [Player] Detected weapon: Rifle (default pose)
[02:56:24] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[02:56:24] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[02:56:24] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[02:56:24] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[02:56:24] [INFO] [LastChance] Found player: Player
[02:56:24] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[02:56:24] [INFO] [LastChance] Connected to player Damaged signal (C#)
[02:56:24] [INFO] [LastChance] Connected to player Died signal (C#)
[02:56:25] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[02:56:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(504.4105, 1136.662), source=PLAYER (AssaultRifle), range=1469, listeners=20
[02:56:25] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[02:56:25] [ENEMY] [Enemy3] Heard gunshot at (504.4105, 1136.662), source_type=0, intensity=0.01, distance=433
[02:56:25] [ENEMY] [Enemy4] Heard gunshot at (504.4105, 1136.662), source_type=0, intensity=0.02, distance=379
[02:56:25] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=6
[02:56:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1144.074, 1518.913), source=ENEMY (Enemy10), range=1469, listeners=10
[02:56:25] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:56:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(540.7968, 1132.498), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:56:25] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=6
[02:56:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1112.445, 1499.081), source=ENEMY (Enemy10), range=1469, listeners=10
[02:56:25] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:56:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(504.41046, 1136.6621), shooter_id=1770818373938, bullet_pos=(1009.95294, 1392.6665)
[02:56:25] [INFO] [Bullet] Using shooter_position, distance=566,66693
[02:56:25] [INFO] [Bullet] Distance to wall: 566,66693 (38,585396% of viewport)
[02:56:25] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:56:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(504.41046, 1136.6621), shooter_id=1770818373938, bullet_pos=(1005.734, 1395.3499)
[02:56:25] [INFO] [Bullet] Using shooter_position, distance=564,1318
[02:56:25] [INFO] [Bullet] Distance to wall: 564,1318 (38,41277% of viewport)
[02:56:25] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:56:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(574.6899, 1143.165), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:56:25] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=6
[02:56:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1081.34, 1478.437), source=ENEMY (Enemy10), range=1469, listeners=10
[02:56:25] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:56:25] [INFO] [LastChance] Threat detected: @Area2D@894
[02:56:25] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:56:25] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:56:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(540.79675, 1132.498), shooter_id=1770818373938, bullet_pos=(995.798, 1394.411)
[02:56:25] [INFO] [Bullet] Using shooter_position, distance=524,9995
[02:56:25] [INFO] [Bullet] Distance to wall: 524,9995 (35,748184% of viewport)
[02:56:25] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:56:25] [INFO] [Bullet] Starting wall penetration at (995.798, 1394.411)
[02:56:25] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[02:56:25] [INFO] [Bullet] Exiting penetration at (1036.2426, 1417.6921) after traveling 41,666668 pixels through wall
[02:56:25] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[02:56:25] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[02:56:25] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[02:56:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1050.338, 1457.636), source=ENEMY (Enemy10), range=1469, listeners=10
[02:56:25] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:56:25] [INFO] [LastChance] Threat detected: Bullet
[02:56:25] [INFO] [LastChance] Player health is 3.0 - effect requires exactly 1 HP or less but alive
[02:56:25] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:56:25] [INFO] [LastChance] Threat detected: @Area2D@899
[02:56:25] [INFO] [LastChance] Player health is 3.0 - effect requires exactly 1 HP or less but alive
[02:56:25] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:56:25] [ENEMY] [Enemy10] Hit taken, health: 1/2
[02:56:25] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[02:56:25] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[02:56:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1019.857, 1437.987), source=ENEMY (Enemy10), range=1469, listeners=10
[02:56:25] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:56:25] [INFO] [LastChance] Threat detected: @Area2D@902
[02:56:25] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[02:56:25] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:56:25] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[02:56:25] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[02:56:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1082.203, 1490.484), shooter_id=1769996290795, bullet_pos=(42.12782, 859.1983)
[02:56:25] [INFO] [Bullet] Using shooter_position, distance=1216.66687011719
[02:56:25] [INFO] [Bullet] Distance to wall: 1216.66687011719 (82.8450844393775% of viewport)
[02:56:25] [INFO] [Bullet] Distance-based penetration chance: 50.0140681540596%
[02:56:25] [INFO] [Bullet] Penetration failed (distance roll)
[02:56:25] [ENEMY] [Enemy10] State: COMBAT -> RETREATING
[02:56:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(996.7537, 1429.432), source=ENEMY (Enemy10), range=1469, listeners=10
[02:56:25] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:56:25] [INFO] [LastChance] Threat detected: @Area2D@904
[02:56:25] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[02:56:25] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:56:26] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:56:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(994.6262, 1429.59), source=ENEMY (Enemy10), range=1469, listeners=10
[02:56:26] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:56:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(984.0411, 1430.869), source=ENEMY (Enemy10), range=1469, listeners=10
[02:56:26] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:56:26] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:56:26] [INFO] [LastChance] Threat detected: @Area2D@908
[02:56:26] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[02:56:26] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:56:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(971.2798, 1431.857), source=ENEMY (Enemy10), range=1469, listeners=10
[02:56:26] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:56:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(908.4003, 1405.843), shooter_id=1769996290795, bullet_pos=(908.4003, 1405.843)
[02:56:26] [INFO] [Bullet] Using shooter_position, distance=0
[02:56:26] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[02:56:26] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[02:56:26] [INFO] [Bullet] Starting wall penetration at (908.4003, 1405.843)
[02:56:26] [INFO] [Bullet] Raycast backward hit penetrating body at distance 26.2802867889404
[02:56:26] [INFO] [Bullet] Body exited signal received for penetrating body
[02:56:26] [INFO] [Bullet] Exiting penetration at (874.8716, 1387.261) after traveling 33.3333358764648 pixels through wall
[02:56:26] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:56:26] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[02:56:26] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[02:56:26] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[02:56:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(989.6566, 1426.886), shooter_id=1769996290795, bullet_pos=(64.98289, 815.8361)
[02:56:26] [INFO] [Bullet] Using shooter_position, distance=1108.33361816406
[02:56:26] [INFO] [Bullet] Distance to wall: 1108.33361816406 (75.4684741066045% of viewport)
[02:56:26] [ENEMY] [Enemy10] State: RETREATING -> IN_COVER
[02:56:26] [ENEMY] [Enemy10] State: IN_COVER -> SUPPRESSED
[02:56:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(958.2701, 1409.132), shooter_id=1769996290795, bullet_pos=(50.64117, 848.7851)
[02:56:26] [INFO] [Bullet] Using shooter_position, distance=1066.66723632813
[02:56:26] [INFO] [Bullet] Distance to wall: 1066.66723632813 (72.6313335496753% of viewport)
[02:56:26] [INFO] [Bullet] Distance-based penetration chance: 61.9301108587121%
[02:56:26] [INFO] [Bullet] Starting wall penetration at (50.64117, 848.7851)
[02:56:26] [INFO] [Bullet] Raycast backward hit penetrating body at distance 16.4257774353027
[02:56:26] [INFO] [Bullet] Body exited signal received for penetrating body
[02:56:26] [INFO] [Bullet] Exiting penetration at (18.02326, 828.6476) after traveling 33.3333358764648 pixels through wall
[02:56:26] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:56:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(989.6566, 1426.886), shooter_id=1769996290795, bullet_pos=(271.5071, 710.8734)
[02:56:26] [INFO] [Bullet] Using shooter_position, distance=1014.10681152344
[02:56:26] [INFO] [Bullet] Distance to wall: 1014.10681152344 (69.0523975746253% of viewport)
[02:56:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(934.2884, 1402.438), shooter_id=1769996290795, bullet_pos=(55.28047, 1088.662)
[02:56:26] [INFO] [Bullet] Using shooter_position, distance=933.333068847656
[02:56:26] [INFO] [Bullet] Distance to wall: 933.333068847656 (63.5523649060156% of viewport)
[02:56:26] [INFO] [Bullet] Distance-based penetration chance: 72.5222409429818%
[02:56:26] [INFO] [Bullet] Starting wall penetration at (55.28047, 1088.662)
[02:56:26] [INFO] [Bullet] Raycast backward hit penetrating body at distance 13.6140604019165
[02:56:26] [INFO] [Bullet] Body exited signal received for penetrating body
[02:56:26] [INFO] [Bullet] Exiting penetration at (19.17835, 1075.775) after traveling 33.3333320617676 pixels through wall
[02:56:26] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:56:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(921.2379, 1404.671), shooter_id=1769996290795, bullet_pos=(57.77393, 1050.354)
[02:56:26] [INFO] [Bullet] Using shooter_position, distance=933.3330078125
[02:56:26] [INFO] [Bullet] Distance to wall: 933.3330078125 (63.5523607500196% of viewport)
[02:56:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(989.6566, 1426.886), shooter_id=1769996290795, bullet_pos=(514.4218, 876.4891)
[02:56:26] [INFO] [Bullet] Using shooter_position, distance=727.175964355469
[02:56:26] [INFO] [Bullet] Distance to wall: 727.175964355469 (49.5147485716547% of viewport)
[02:56:26] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[02:56:26] [INFO] [LastChance] Resetting all effects (scene change detected)
[02:56:26] [ENEMY] [Enemy1] Death animation component initialized
[02:56:26] [ENEMY] [Enemy2] Death animation component initialized
[02:56:26] [ENEMY] [Enemy3] Death animation component initialized
[02:56:26] [ENEMY] [Enemy4] Death animation component initialized
[02:56:26] [ENEMY] [Enemy5] Death animation component initialized
[02:56:26] [ENEMY] [Enemy6] Death animation component initialized
[02:56:26] [ENEMY] [Enemy7] Death animation component initialized
[02:56:26] [ENEMY] [Enemy8] Death animation component initialized
[02:56:26] [ENEMY] [Enemy9] Death animation component initialized
[02:56:26] [ENEMY] [Enemy10] Death animation component initialized
[02:56:26] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[02:56:26] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[02:56:26] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[02:56:26] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[02:56:26] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[02:56:26] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[02:56:26] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[02:56:26] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[02:56:26] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[02:56:26] [ENEMY] [Enemy10] Grenade system configured: offensive=2, flashbangs=0
[02:56:26] [INFO] [ScoreManager] Level started with 10 enemies
[02:56:26] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[02:56:26] [ENEMY] [Enemy1] Registered as sound listener
[02:56:26] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[02:56:26] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[02:56:26] [ENEMY] [Enemy2] Registered as sound listener
[02:56:26] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[02:56:26] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[02:56:26] [ENEMY] [Enemy3] Registered as sound listener
[02:56:26] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[02:56:26] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[02:56:26] [ENEMY] [Enemy4] Registered as sound listener
[02:56:26] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[02:56:26] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[02:56:26] [ENEMY] [Enemy5] Registered as sound listener
[02:56:26] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[02:56:26] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[02:56:26] [ENEMY] [Enemy6] Registered as sound listener
[02:56:26] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[02:56:26] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[02:56:26] [ENEMY] [Enemy7] Registered as sound listener
[02:56:26] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[02:56:26] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[02:56:26] [ENEMY] [Enemy8] Registered as sound listener
[02:56:26] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[02:56:26] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[02:56:26] [ENEMY] [Enemy9] Registered as sound listener
[02:56:26] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[02:56:26] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[02:56:26] [ENEMY] [Enemy10] Registered as sound listener
[02:56:26] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[02:56:26] [INFO] [Player] Detecting weapon pose (frame 3)...
[02:56:26] [INFO] [Player] Detected weapon: Rifle (default pose)
[02:56:26] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[02:56:26] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[02:56:26] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[02:56:26] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[02:56:26] [INFO] [LastChance] Found player: Player
[02:56:26] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[02:56:26] [INFO] [LastChance] Connected to player Damaged signal (C#)
[02:56:26] [INFO] [LastChance] Connected to player Died signal (C#)
[02:56:27] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:56:27] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:56:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1171.731, 1535.008), source=ENEMY (Enemy10), range=1469, listeners=20
[02:56:27] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[02:56:27] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=8
[02:56:27] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:56:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1139.423, 1516.307), source=ENEMY (Enemy10), range=1469, listeners=10
[02:56:27] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:56:27] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:56:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1107.906, 1496.302), source=ENEMY (Enemy10), range=1469, listeners=10
[02:56:27] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:56:27] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:56:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1077.226, 1475.035), source=ENEMY (Enemy10), range=1469, listeners=10
[02:56:27] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:56:27] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:56:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1047.428, 1452.549), source=ENEMY (Enemy10), range=1469, listeners=10
[02:56:27] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:56:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1108.874, 1508.939), shooter_id=1911377888715, bullet_pos=(53.14801, 921.1365)
[02:56:27] [INFO] [Bullet] Using shooter_position, distance=1208.33337402344
[02:56:27] [INFO] [Bullet] Distance to wall: 1208.33337402344 (82.277641366406% of viewport)
[02:56:27] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[02:56:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1077.684, 1487.691), shooter_id=1911377888715, bullet_pos=(46.85162, 857.2495)
[02:56:27] [INFO] [Bullet] Using shooter_position, distance=1208.33435058594
[02:56:27] [INFO] [Bullet] Distance to wall: 1208.33435058594 (82.2777078623423% of viewport)
[02:56:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1047.382, 1465.197), shooter_id=1911377888715, bullet_pos=(43.06916, 793.3154)
[02:56:27] [INFO] [Bullet] Using shooter_position, distance=1208.33349609375
[02:56:27] [INFO] [Bullet] Distance to wall: 1208.33349609375 (82.277649678398% of viewport)
[02:56:27] [INFO] [Bullet] Distance-based penetration chance: 50.6760753752023%
[02:56:27] [INFO] [Bullet] Starting wall penetration at (43.06916, 793.3154)
[02:56:27] [INFO] [Bullet] Raycast backward hit penetrating body at distance 33.3488731384277
[02:56:27] [INFO] [Bullet] Body exited signal received for penetrating body
[02:56:27] [INFO] [Bullet] Exiting penetration at (4.281879, 767.3669) after traveling 41.6666679382324 pixels through wall
[02:56:27] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:56:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1077.684, 1487.691), shooter_id=1911377888715, bullet_pos=(329.9901, 700.2571)
[02:56:27] [INFO] [Bullet] Using shooter_position, distance=1085.86291503906
[02:56:27] [INFO] [Bullet] Distance to wall: 1085.86291503906 (73.9384026108437% of viewport)
[02:56:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1018.01, 1441.508), shooter_id=1911377888715, bullet_pos=(41.67921, 729.5751)
[02:56:28] [INFO] [Bullet] Using shooter_position, distance=1208.33349609375
[02:56:28] [INFO] [Bullet] Distance to wall: 1208.33349609375 (82.277649678398% of viewport)
[02:56:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1018.01, 1441.508), shooter_id=1911377888715, bullet_pos=(103.8798, 686.1956)
[02:56:28] [INFO] [Bullet] Using shooter_position, distance=1185.80358886719
[02:56:28] [INFO] [Bullet] Distance to wall: 1185.80358886719 (80.7435468664951% of viewport)
[02:56:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1018.01, 1441.508), shooter_id=1911377888715, bullet_pos=(53.01946, 645.3868)
[02:56:28] [INFO] [Bullet] Using shooter_position, distance=1251.00561523438
[02:56:28] [INFO] [Bullet] Distance to wall: 1251.00561523438 (85.1832727377912% of viewport)
[02:56:28] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[02:56:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(989.6003, 1416.68), shooter_id=1911377888715, bullet_pos=(42.53408, 666.2555)
[02:56:28] [INFO] [Bullet] Using shooter_position, distance=1208.33422851563
[02:56:28] [INFO] [Bullet] Distance to wall: 1208.33422851563 (82.2776995503503% of viewport)
[02:56:28] [INFO] [Bullet] Distance-based penetration chance: 50.676017191258%
[02:56:28] [INFO] [Bullet] Penetration failed (distance roll)
[02:56:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1077.684, 1487.691), shooter_id=1911377888715, bullet_pos=(689.4974, 867.1436)
[02:56:28] [INFO] [Bullet] Using shooter_position, distance=731.961730957031
[02:56:28] [INFO] [Bullet] Distance to wall: 731.961730957031 (49.8406202198039% of viewport)
[02:56:28] [INFO] [Bullet] Distance-based penetration chance: 88.5192764102288%
[02:56:28] [INFO] [Bullet] Starting wall penetration at (689.4974, 867.1436)
[02:56:28] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[02:56:28] [INFO] [Bullet] Exiting penetration at (721.3381, 881.9244) after traveling 30.1041698455811 pixels through wall
[02:56:28] [INFO] [Bullet] Damage multiplier after penetration: 0.225
[02:56:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(445.6379, 789.4428), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:56:28] [ENEMY] [Enemy1] Heard gunshot at (445.6379, 789.4428), source_type=0, intensity=0.01, distance=463
[02:56:28] [ENEMY] [Enemy2] Heard gunshot at (445.6379, 789.4428), source_type=0, intensity=0.04, distance=244
[02:56:28] [ENEMY] [Enemy4] Heard gunshot at (445.6379, 789.4428), source_type=0, intensity=0.02, distance=371
[02:56:28] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[02:56:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1018.01, 1441.508), shooter_id=1911377888715, bullet_pos=(276.5573, 466.227)
[02:56:28] [INFO] [Bullet] Using shooter_position, distance=1225.12243652344
[02:56:28] [INFO] [Bullet] Distance to wall: 1225.12243652344 (83.4208395043947% of viewport)
[02:56:28] [ENEMY] [Enemy3] Hit taken, health: 1/2
[02:56:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[02:56:28] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[02:56:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(430.5654, 764.6453), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:56:28] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[02:56:28] [ENEMY] [Enemy2] Hit taken, health: 3/4
[02:56:28] [INFO] [LastChance] Threat detected: Bullet
[02:56:28] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:56:28] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:56:28] [ENEMY] [Enemy3] Hit taken, health: 0/2
[02:56:28] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[02:56:28] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[02:56:28] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[02:56:28] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[02:56:28] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[02:56:28] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[02:56:28] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[02:56:28] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[02:56:28] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[02:56:28] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[02:56:29] [ENEMY] [Enemy3] Ragdoll activated
[02:56:29] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[02:56:29] [ENEMY] [Enemy10] FLANKING started: target=(661.3274, 818.1141), side=left, pos=(1022.594, 1432.37)
[02:56:29] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[02:56:30] [ENEMY] [Enemy3] Death animation completed
[02:56:30] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[02:56:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(553.9327, 880.4275), source=PLAYER (AssaultRifle), range=1469, listeners=9
[02:56:30] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=5
[02:56:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(553.9327, 880.4275), shooter_id=1912199972329, bullet_pos=(678.4096, 891.85077)
[02:56:31] [INFO] [Bullet] Using shooter_position, distance=124,999985
[02:56:31] [INFO] [Bullet] Distance to wall: 124,999985 (8,511479% of viewport)
[02:56:31] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:56:31] [INFO] [Bullet] Starting wall penetration at (678.4096, 891.85077)
[02:56:31] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[02:56:31] [INFO] [Bullet] Exiting penetration at (716.5825, 895.3539) after traveling 33,333332 pixels through wall
[02:56:31] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[02:56:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(555.1152, 915.1378), source=PLAYER (AssaultRifle), range=1469, listeners=9
[02:56:31] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[02:56:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(782.155, 921.8775), source=ENEMY (Enemy4), range=1469, listeners=9
[02:56:31] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=7
[02:56:31] [INFO] [LastChance] Threat detected: @Area2D@1209
[02:56:31] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:56:31] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:56:31] [ENEMY] [Enemy4] Hit taken, health: 2/3
[02:56:31] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[02:56:31] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[02:56:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(566.9409, 945.4394), source=PLAYER (AssaultRifle), range=1469, listeners=9
[02:56:31] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[02:56:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(782.155, 921.8775), source=ENEMY (Enemy4), range=1469, listeners=9
[02:56:31] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=7
[02:56:31] [INFO] [LastChance] Threat detected: @Area2D@1212
[02:56:31] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[02:56:31] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:56:31] [ENEMY] [Enemy4] Hit taken, health: 1/3
[02:56:31] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[02:56:31] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[02:56:31] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[02:56:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(588.9161, 967.6685), source=PLAYER (AssaultRifle), range=1469, listeners=9
[02:56:31] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=5
[02:56:31] [ENEMY] [Enemy1] Player distracted - priority attack triggered
[02:56:31] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[02:56:31] [ENEMY] [Enemy4] Hit taken, health: 0/3
[02:56:31] [ENEMY] [Enemy4] Enemy died (ricochet: false, penetration: false)
[02:56:31] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[02:56:31] [INFO] [SoundPropagation] Unregistered listener: Enemy4 (remaining: 8)
[02:56:31] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[02:56:31] [ENEMY] [Enemy4] Death animation started with hit direction: (1, 0)
[02:56:31] [ENEMY] [Enemy1] State: PURSUING -> COMBAT
[02:56:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(617.872, 978.1638), source=PLAYER (AssaultRifle), range=1469, listeners=8
[02:56:31] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=5
[02:56:31] [ENEMY] [Enemy1] Player distracted - priority attack triggered
[02:56:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(410.3708, 402.9715), source=ENEMY (Enemy1), range=1469, listeners=8
[02:56:31] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[02:56:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(617.872, 978.1638), shooter_id=1912199972329, bullet_pos=(937.07623, 917.06085)
[02:56:31] [INFO] [Bullet] Using shooter_position, distance=324,99985
[02:56:31] [INFO] [Bullet] Distance to wall: 324,99985 (22,129839% of viewport)
[02:56:31] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:56:31] [ENEMY] [Enemy1] Player distracted - priority attack triggered
[02:56:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(422.9774, 434.6864), source=ENEMY (Enemy1), range=1469, listeners=8
[02:56:31] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[02:56:31] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[02:56:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(437.3075, 465.6603), source=ENEMY (Enemy1), range=1469, listeners=8
[02:56:31] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[02:56:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(426.598, 469.0569), shooter_id=1908810975220, bullet_pos=(623.9171, 1000.259)
[02:56:31] [INFO] [Bullet] Using shooter_position, distance=566.666320800781
[02:56:31] [INFO] [Bullet] Distance to wall: 566.666320800781 (38.5853517908073% of viewport)
[02:56:31] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:56:31] [INFO] [Bullet] Starting wall penetration at (623.9171, 1000.259)
[02:56:31] [INFO] [Bullet] Raycast backward hit penetrating body at distance 13.0075387954712
[02:56:31] [INFO] [Bullet] Body exited signal received for penetrating body
[02:56:31] [INFO] [Bullet] Exiting penetration at (637.2651, 1036.193) after traveling 33.3333320617676 pixels through wall
[02:56:31] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:56:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(442.765, 499.7944), shooter_id=1908810975220, bullet_pos=(668.6054, 1019.513)
[02:56:31] [INFO] [Bullet] Using shooter_position, distance=566.666381835938
[02:56:31] [INFO] [Bullet] Distance to wall: 566.666381835938 (38.5853559468033% of viewport)
[02:56:31] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:56:31] [INFO] [Bullet] Starting wall penetration at (668.6054, 1019.513)
[02:56:31] [INFO] [Bullet] Raycast backward hit penetrating body at distance 33.4404487609863
[02:56:31] [INFO] [Bullet] Body exited signal received for penetrating body
[02:56:31] [INFO] [Bullet] Exiting penetration at (683.8829, 1054.67) after traveling 33.3333358764648 pixels through wall
[02:56:31] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:56:32] [ENEMY] [Enemy2] State: SEEKING_COVER -> IN_COVER
[02:56:32] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[02:56:32] [ENEMY] [Enemy4] Ragdoll activated
[02:56:32] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[02:56:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(460.675, 529.5709), shooter_id=1908810975220, bullet_pos=(700.0275, 1006.178)
[02:56:32] [INFO] [Bullet] Using shooter_position, distance=533.333129882813
[02:56:32] [INFO] [Bullet] Distance to wall: 533.333129882813 (36.3156335268695% of viewport)
[02:56:32] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:56:32] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[02:56:33] [ENEMY] [Enemy4] Death animation completed
[02:56:34] [ENEMY] [Enemy1] State: PURSUING -> COMBAT
[02:56:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(834.0432, 852.7701), source=PLAYER (AssaultRifle), range=1469, listeners=8
[02:56:34] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=6
[02:56:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(314.9022, 510.6243), source=ENEMY (Enemy2), range=1469, listeners=8
[02:56:34] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[02:56:34] [ENEMY] [Enemy1] Hit taken, health: 1/2
[02:56:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(314.9022, 510.6243), source=ENEMY (Enemy2), range=1469, listeners=8
[02:56:34] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[02:56:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(849.7947, 836.8867), source=PLAYER (AssaultRifle), range=1469, listeners=8
[02:56:34] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=6
[02:56:34] [ENEMY] [Enemy1] Hit taken, health: 0/2
[02:56:34] [ENEMY] [Enemy1] Enemy died (ricochet: false, penetration: false)
[02:56:34] [INFO] [ScoreManager] Kill registered. Combo: 3 (points: 3000)
[02:56:34] [INFO] [SoundPropagation] Unregistered listener: Enemy1 (remaining: 7)
[02:56:34] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[02:56:34] [ENEMY] [Enemy1] Death animation started with hit direction: (1, 0)
[02:56:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(314.9022, 510.6243), source=ENEMY (Enemy2), range=1469, listeners=7
[02:56:34] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=3
[02:56:34] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[02:56:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(859.2684, 832.2916), source=PLAYER (AssaultRifle), range=1469, listeners=7
[02:56:34] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=6
[02:56:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(849.7947, 836.8867), shooter_id=1912199972329, bullet_pos=(526.02765, 601.99316)
[02:56:34] [INFO] [Bullet] Using shooter_position, distance=400,0001
[02:56:34] [INFO] [Bullet] Distance to wall: 400,0001 (27,236742% of viewport)
[02:56:34] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:56:34] [INFO] [LastChance] Threat detected: @Area2D@1240
[02:56:34] [INFO] [LastChance] Triggering last chance effect!
[02:56:34] [INFO] [LastChance] Starting last chance effect:
[02:56:34] [INFO] [LastChance]   - Time will be frozen (except player)
[02:56:34] [INFO] [LastChance]   - Duration: 6.0 real seconds
[02:56:34] [INFO] [LastChance]   - Sepia intensity: 0.70
[02:56:34] [INFO] [LastChance]   - Brightness: 0.60
[02:56:34] [INFO] [LastChance] Pushed bullet Bullet from distance 122.4 to 200.0
[02:56:34] [INFO] [LastChance] Pushed 1 threatening bullets away from player
[02:56:34] [INFO] [LastChance] Set player Player and all 18 children to PROCESS_MODE_ALWAYS
[02:56:34] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[02:56:34] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:56:34] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:56:34] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[02:56:34] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:56:34] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:56:34] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:56:34] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:56:34] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:56:34] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:56:34] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:56:34] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:56:34] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:56:34] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:56:34] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:56:34] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:56:34] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:56:34] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[02:56:34] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[02:56:34] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:56:34] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:56:34] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:56:34] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:56:34] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:56:34] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[02:56:34] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[02:56:34] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:56:34] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[02:56:34] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[02:56:34] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:56:34] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:56:34] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[02:56:34] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[02:56:34] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[02:56:34] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[02:56:34] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[02:56:34] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[02:56:34] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[02:56:34] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[02:56:34] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[02:56:34] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[02:56:34] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[02:56:34] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[02:56:34] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[02:56:34] [INFO] [LastChance] Skipping player node: Player
[02:56:34] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[02:56:34] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[02:56:34] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[02:56:35] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[02:56:35] [ENEMY] [Enemy1] Player reloading state changed: false -> true
[02:56:35] [ENEMY] [Enemy2] Player reloading state changed: false -> true
[02:56:35] [ENEMY] [Enemy5] Player reloading state changed: false -> true
[02:56:35] [ENEMY] [Enemy6] Player reloading state changed: false -> true
[02:56:35] [ENEMY] [Enemy7] Player reloading state changed: false -> true
[02:56:35] [ENEMY] [Enemy8] Player reloading state changed: false -> true
[02:56:35] [ENEMY] [Enemy9] Player reloading state changed: false -> true
[02:56:35] [ENEMY] [Enemy10] Player reloading state changed: false -> true
[02:56:35] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(747.4937, 940.3284), source=PLAYER (Player), range=900, listeners=7
[02:56:35] [ENEMY] [Enemy10] Heard player RELOAD at (747.4937, 940.3284), intensity=0.02, distance=405
[02:56:35] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=0, below_threshold=2
[02:56:35] [INFO] [Player.Reload.Anim] LeftArm: pos=(5.1544876, 2.2341106), target=(4, 2), base=(24, 6)
[02:56:35] [INFO] [Player.Reload.Anim] RightArm: pos=(-1.9839346, 6), target=(-2, 6), base=(-2, 6)
[02:56:35] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[02:56:35] [INFO] [Player.Reload.Anim] Phase changed to: PullBolt (duration: 0,35s)
[02:56:35] [ENEMY] [Enemy1] Player reloading state changed: true -> false
[02:56:35] [ENEMY] [Enemy2] Player reloading state changed: true -> false
[02:56:35] [ENEMY] [Enemy5] Player reloading state changed: true -> false
[02:56:35] [ENEMY] [Enemy6] Player reloading state changed: true -> false
[02:56:35] [ENEMY] [Enemy7] Player reloading state changed: true -> false
[02:56:35] [ENEMY] [Enemy8] Player reloading state changed: true -> false
[02:56:35] [ENEMY] [Enemy9] Player reloading state changed: true -> false
[02:56:35] [ENEMY] [Enemy10] Player reloading state changed: true -> false
[02:56:35] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[02:56:36] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[02:56:37] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[02:56:37] [INFO] [Player.Grenade] G pressed - starting grab animation
[02:56:37] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (722.93134, 567.64795)
[02:56:37] [INFO] [LastChance] Freezing newly created grenade: FlashbangGrenade
[02:56:37] [INFO] [LastChance] Registered frozen grenade: FlashbangGrenade
[02:56:37] [INFO] [GrenadeBase] CCD enabled (mode: CAST_RAY) to prevent wall tunneling
[02:56:37] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[02:56:37] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[02:56:37] [INFO] [Player.Grenade] Timer started, grenade created at (746.9753, 906.00037)
[02:56:37] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[02:56:37] [INFO] [Player.Grenade] Step 1 complete! Drag: (367.42963, 26.60437)
[02:56:37] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[02:56:37] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[02:56:37] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[02:56:37] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[02:56:37] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[02:56:37] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[02:56:38] [INFO] [ScoreManager] Combo ended at 3. Max combo: 3
[02:56:39] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[02:56:39] [INFO] [Player.Grenade] Throwing toward mouse! Direction: (0.017796835, -0.99984163), Mouse velocity: 1750,0 px/s, Swing: 621,4
[02:56:39] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -1,5529985
[02:56:39] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (31.14364, -1749.677), Swing: 621.4, Transfer: 1.00, Final speed: 922.3
[02:56:39] [INFO] [Player.Grenade] Thrown! Velocity: 1750,0, Swing: 621,4
[02:56:39] [INFO] [Player.Grenade] State reset to IDLE
[02:56:39] [INFO] [Player.Grenade] Player rotation restored to 0
[02:56:39] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[02:56:39] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[02:56:40] [INFO] [LastChance] Effect duration expired after 6.02 real seconds
[02:56:40] [INFO] [LastChance] Ending last chance effect
[02:56:40] [INFO] [LastChance] All process modes restored
[02:56:40] [INFO] [LastChance] Unfroze grenade: FlashbangGrenade
[02:56:40] [INFO] [LastChance] Restored original colors to 5 player sprites
[02:56:40] [INFO] [LastChance] Called player RefreshHealthVisual (C#)
[02:56:40] [ENEMY] [Enemy2] State: SEEKING_COVER -> IN_COVER
[02:56:40] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[02:56:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(849.7947, 836.8867), shooter_id=1912199972329, bullet_pos=(410.17242, 691.93005)
[02:56:40] [INFO] [Bullet] Using shooter_position, distance=462,90405
[02:56:40] [INFO] [Bullet] Distance to wall: 462,90405 (31,519989% of viewport)
[02:56:40] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:56:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(371.0142, 553.3687), shooter_id=1909096187486, bullet_pos=(915.1102, 843.6045)
[02:56:40] [INFO] [Bullet] Using shooter_position, distance=616.666259765625
[02:56:40] [INFO] [Bullet] Distance to wall: 616.666259765625 (41.989939576704% of viewport)
[02:56:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(859.2684, 832.29156), shooter_id=1912199972329, bullet_pos=(501.9025, 554.626)
[02:56:40] [INFO] [Bullet] Using shooter_position, distance=452,55777
[02:56:40] [INFO] [Bullet] Distance to wall: 452,55777 (30,81549% of viewport)
[02:56:40] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:56:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(372.2699, 552.6521), shooter_id=1909096187486, bullet_pos=(934.5725, 878.7133)
[02:56:40] [INFO] [Bullet] Using shooter_position, distance=650.000061035156
[02:56:40] [INFO] [Bullet] Distance to wall: 650.000061035156 (44.259699400602% of viewport)
[02:56:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(371.0142, 553.3687), shooter_id=1909096187486, bullet_pos=(683.0629, 1014.748)
[02:56:40] [INFO] [Bullet] Using shooter_position, distance=556.996704101563
[02:56:40] [INFO] [Bullet] Distance to wall: 556.996704101563 (37.9269298089002% of viewport)
[02:56:40] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:56:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(372.2699, 552.6521), shooter_id=1909096187486, bullet_pos=(760.7578, 1009.46)
[02:56:40] [INFO] [Bullet] Using shooter_position, distance=599.663696289063
[02:56:40] [INFO] [Bullet] Distance to wall: 599.663696289063 (40.8322037646275% of viewport)
[02:56:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(849.7947, 836.8867), shooter_id=1912199972329, bullet_pos=(67.16186, 390.61118)
[02:56:40] [INFO] [Bullet] Using shooter_position, distance=900,9306
[02:56:40] [INFO] [Bullet] Distance to wall: 900,9306 (61,346024% of viewport)
[02:56:40] [INFO] [Bullet] Distance-based penetration chance: 75,096306%
[02:56:40] [INFO] [Bullet] Starting wall penetration at (67.16186, 390.61118)
[02:56:40] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[02:56:40] [INFO] [Bullet] Exiting penetration at (40.788475, 367.44336) after traveling 30,104168 pixels through wall
[02:56:40] [INFO] [Bullet] Damage multiplier after penetration: 0,225
[02:56:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(371.0142, 553.3687), shooter_id=1909096187486, bullet_pos=(520.934, 872.4336)
[02:56:40] [INFO] [Bullet] Using shooter_position, distance=352.531341552734
[02:56:40] [INFO] [Bullet] Distance to wall: 352.531341552734 (24.0045072943017% of viewport)
[02:56:40] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:56:41] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(372.2699, 552.6521), shooter_id=1909096187486, bullet_pos=(415.994, 710.1494)
[02:56:41] [INFO] [Bullet] Using shooter_position, distance=163.453918457031
[02:56:41] [INFO] [Bullet] Distance to wall: 163.453918457031 (11.1298778729921% of viewport)
[02:56:41] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:56:41] [INFO] [Bullet] Starting wall penetration at (415.994, 710.1494)
[02:56:41] [INFO] [Bullet] Raycast backward hit penetrating body at distance 1.31804692745209
[02:56:41] [INFO] [Bullet] Max penetration distance exceeded: 60.2083396911621 >= 48
[02:56:41] [INFO] [Bullet] Body exited signal received for penetrating body
[02:56:41] [INFO] [Bullet] Exiting penetration at (366.7533, 667.4004) after traveling 60.2083396911621 pixels through wall
[02:56:41] [INFO] [Bullet] Damage multiplier after penetration: 0.225
[02:56:41] [ENEMY] [Enemy10] FLANKING timeout (5.0s), target=(924.3679, 806.3318), pos=(1056.681, 1079.607)
[02:56:41] [ENEMY] [Enemy10] State: FLANKING -> PURSUING
[02:56:41] [ENEMY] [Enemy10] Pursuing vulnerability sound at (747.4937, 940.3284), distance=344
[02:56:41] [INFO] [GrenadeBase] Grenade landed at (599.4885, 187.8738)
[02:56:42] [ENEMY] [Enemy10] Pursuing vulnerability sound at (747.4937, 940.3284), distance=109
[02:56:43] [ENEMY] [Enemy2] State: SUPPRESSED -> IN_COVER
[02:56:43] [ENEMY] [Enemy2] State: IN_COVER -> PURSUING
[02:56:43] [ENEMY] [Enemy10] Pursuing vulnerability sound at (747.4937, 940.3284), distance=283
[02:56:44] [INFO] [GrenadeBase] EXPLODED at (599.5532, 184.2395)!
[02:56:44] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(599.5532, 184.2395), source=NEUTRAL (FlashbangGrenade), range=2937, listeners=7
[02:56:44] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=6
[02:56:44] [ENEMY] [Enemy10] Pursuing vulnerability sound at (747.4937, 940.3284), distance=262
[02:56:45] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:56:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(630.4324, 872.0785), source=ENEMY (Enemy10), range=1469, listeners=7
[02:56:45] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=4
[02:56:45] [INFO] [LastChance] Threat detected: Bullet
[02:56:45] [INFO] [LastChance] Effect already used this life
[02:56:45] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:56:45] [ENEMY] [Enemy10] State: PURSUING -> COMBAT
[02:56:45] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[02:56:45] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[02:56:45] [INFO] [PenultimateHit] Player died - ending penultimate effect
[02:56:45] [INFO] [LastChance] Player died
[02:56:45] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:56:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(638.7635, 885.7383), source=ENEMY (Enemy10), range=1469, listeners=7
[02:56:45] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=4
[02:56:45] [INFO] [LastChance] Threat detected: Bullet
[02:56:45] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:56:45] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:56:45] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:56:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(638.7635, 885.7383), source=ENEMY (Enemy10), range=1469, listeners=7
[02:56:45] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=4
[02:56:45] [INFO] [LastChance] Threat detected: Bullet
[02:56:45] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:56:45] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:56:45] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:56:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(638.7635, 885.7383), source=ENEMY (Enemy10), range=1469, listeners=7
[02:56:45] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=4
[02:56:45] [INFO] [LastChance] Threat detected: Bullet
[02:56:45] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:56:45] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:56:45] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:56:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(638.7635, 885.7383), source=ENEMY (Enemy10), range=1469, listeners=7
[02:56:45] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=4
[02:56:45] [INFO] [LastChance] Threat detected: Bullet
[02:56:45] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:56:45] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:56:45] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[02:56:45] [INFO] [LastChance] Resetting all effects (scene change detected)
[02:56:45] [ENEMY] [Enemy1] Death animation component initialized
[02:56:45] [ENEMY] [Enemy2] Death animation component initialized
[02:56:45] [ENEMY] [Enemy3] Death animation component initialized
[02:56:45] [ENEMY] [Enemy4] Death animation component initialized
[02:56:45] [ENEMY] [Enemy5] Death animation component initialized
[02:56:45] [ENEMY] [Enemy6] Death animation component initialized
[02:56:45] [ENEMY] [Enemy7] Death animation component initialized
[02:56:45] [ENEMY] [Enemy8] Death animation component initialized
[02:56:45] [ENEMY] [Enemy9] Death animation component initialized
[02:56:45] [ENEMY] [Enemy10] Death animation component initialized
[02:56:45] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[02:56:45] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[02:56:45] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[02:56:45] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[02:56:45] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[02:56:45] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[02:56:45] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[02:56:45] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[02:56:45] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[02:56:45] [ENEMY] [Enemy10] Grenade system configured: offensive=2, flashbangs=0
[02:56:45] [INFO] [ScoreManager] Level started with 10 enemies
[02:56:45] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 8)
[02:56:45] [ENEMY] [Enemy1] Registered as sound listener
[02:56:45] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[02:56:45] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 9)
[02:56:45] [ENEMY] [Enemy2] Registered as sound listener
[02:56:45] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[02:56:45] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 10)
[02:56:45] [ENEMY] [Enemy3] Registered as sound listener
[02:56:45] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[02:56:45] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 11)
[02:56:45] [ENEMY] [Enemy4] Registered as sound listener
[02:56:45] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[02:56:45] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 12)
[02:56:45] [ENEMY] [Enemy5] Registered as sound listener
[02:56:45] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[02:56:45] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 13)
[02:56:45] [ENEMY] [Enemy6] Registered as sound listener
[02:56:45] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[02:56:45] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 14)
[02:56:45] [ENEMY] [Enemy7] Registered as sound listener
[02:56:45] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[02:56:45] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 15)
[02:56:45] [ENEMY] [Enemy8] Registered as sound listener
[02:56:45] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[02:56:45] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 16)
[02:56:45] [ENEMY] [Enemy9] Registered as sound listener
[02:56:45] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[02:56:45] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 17)
[02:56:45] [ENEMY] [Enemy10] Registered as sound listener
[02:56:45] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[02:56:45] [INFO] [Player] Detecting weapon pose (frame 3)...
[02:56:45] [INFO] [Player] Detected weapon: Rifle (default pose)
[02:56:45] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[02:56:45] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[02:56:45] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[02:56:45] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[02:56:45] [INFO] [LastChance] Found player: Player
[02:56:45] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[02:56:45] [INFO] [LastChance] Connected to player Damaged signal (C#)
[02:56:45] [INFO] [LastChance] Connected to player Died signal (C#)
[02:56:45] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[02:56:45] [INFO] [LastChance] Resetting all effects (scene change detected)
[02:56:45] [ENEMY] [Enemy1] Death animation component initialized
[02:56:45] [ENEMY] [Enemy2] Death animation component initialized
[02:56:45] [ENEMY] [Enemy3] Death animation component initialized
[02:56:45] [ENEMY] [Enemy4] Death animation component initialized
[02:56:45] [ENEMY] [Enemy5] Death animation component initialized
[02:56:45] [ENEMY] [Enemy6] Death animation component initialized
[02:56:45] [ENEMY] [Enemy7] Death animation component initialized
[02:56:45] [ENEMY] [Enemy8] Death animation component initialized
[02:56:45] [ENEMY] [Enemy9] Death animation component initialized
[02:56:45] [ENEMY] [Enemy10] Death animation component initialized
[02:56:45] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[02:56:45] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[02:56:45] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[02:56:45] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[02:56:45] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[02:56:45] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[02:56:45] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[02:56:45] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[02:56:45] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[02:56:45] [ENEMY] [Enemy10] Grenade system configured: offensive=2, flashbangs=0
[02:56:45] [INFO] [ScoreManager] Level started with 10 enemies
[02:56:45] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 18)
[02:56:45] [ENEMY] [Enemy1] Registered as sound listener
[02:56:45] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[02:56:45] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 19)
[02:56:45] [ENEMY] [Enemy2] Registered as sound listener
[02:56:45] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[02:56:45] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 20)
[02:56:45] [ENEMY] [Enemy3] Registered as sound listener
[02:56:45] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[02:56:45] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 21)
[02:56:45] [ENEMY] [Enemy4] Registered as sound listener
[02:56:45] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[02:56:45] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 22)
[02:56:45] [ENEMY] [Enemy5] Registered as sound listener
[02:56:45] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[02:56:45] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 23)
[02:56:45] [ENEMY] [Enemy6] Registered as sound listener
[02:56:45] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[02:56:45] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 24)
[02:56:45] [ENEMY] [Enemy7] Registered as sound listener
[02:56:45] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[02:56:45] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 25)
[02:56:45] [ENEMY] [Enemy8] Registered as sound listener
[02:56:45] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[02:56:45] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 26)
[02:56:45] [ENEMY] [Enemy9] Registered as sound listener
[02:56:45] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[02:56:45] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 27)
[02:56:45] [ENEMY] [Enemy10] Registered as sound listener
[02:56:45] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[02:56:46] [INFO] [Player] Detecting weapon pose (frame 3)...
[02:56:46] [INFO] [Player] Detected weapon: Rifle (default pose)
[02:56:46] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[02:56:46] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[02:56:46] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[02:56:46] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[02:56:46] [INFO] [LastChance] Found player: Player
[02:56:46] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[02:56:46] [INFO] [LastChance] Connected to player Damaged signal (C#)
[02:56:46] [INFO] [LastChance] Connected to player Died signal (C#)
[02:56:46] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:56:46] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:56:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1171.731, 1535.008), source=ENEMY (Enemy10), range=1469, listeners=27
[02:56:46] [INFO] [SoundPropagation] Cleaned up 17 invalid listeners
[02:56:46] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=8
[02:56:46] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:56:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1139.423, 1516.307), source=ENEMY (Enemy10), range=1469, listeners=10
[02:56:46] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:56:47] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:56:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1107.906, 1496.302), source=ENEMY (Enemy10), range=1469, listeners=10
[02:56:47] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:56:47] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:56:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1077.226, 1475.035), source=ENEMY (Enemy10), range=1469, listeners=10
[02:56:47] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:56:47] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:56:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1047.416, 1452.565), source=ENEMY (Enemy10), range=1469, listeners=10
[02:56:47] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:56:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1108.874, 1508.939), shooter_id=2621171566682, bullet_pos=(53.14801, 921.1365)
[02:56:47] [INFO] [Bullet] Using shooter_position, distance=1208.33337402344
[02:56:47] [INFO] [Bullet] Distance to wall: 1208.33337402344 (82.277641366406% of viewport)
[02:56:47] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:56:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1077.684, 1487.691), shooter_id=2621171566682, bullet_pos=(46.85162, 857.2495)
[02:56:47] [INFO] [Bullet] Using shooter_position, distance=1208.33435058594
[02:56:47] [INFO] [Bullet] Distance to wall: 1208.33435058594 (82.2777078623423% of viewport)
[02:56:47] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:56:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1047.382, 1465.197), shooter_id=2621171566682, bullet_pos=(43.06916, 793.3154)
[02:56:47] [INFO] [Bullet] Using shooter_position, distance=1208.33349609375
[02:56:47] [INFO] [Bullet] Distance to wall: 1208.33349609375 (82.277649678398% of viewport)
[02:56:47] [INFO] [LastChance] Threat detected: @Area2D@1774
[02:56:47] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:56:47] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:56:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1077.684, 1487.691), shooter_id=2621171566682, bullet_pos=(329.8228, 699.9553)
[02:56:47] [INFO] [Bullet] Using shooter_position, distance=1086.19702148438
[02:56:47] [INFO] [Bullet] Distance to wall: 1086.19702148438 (73.9611525330726% of viewport)
[02:56:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1047.382, 1465.197), shooter_id=2621171566682, bullet_pos=(153.1612, 696.409)
[02:56:47] [INFO] [Bullet] Using shooter_position, distance=1179.26513671875
[02:56:47] [INFO] [Bullet] Distance to wall: 1179.26513671875 (80.2983316365547% of viewport)
[02:56:47] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:56:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1018.01, 1441.508), shooter_id=2621171566682, bullet_pos=(41.67921, 729.5751)
[02:56:47] [INFO] [Bullet] Using shooter_position, distance=1208.33349609375
[02:56:47] [INFO] [Bullet] Distance to wall: 1208.33349609375 (82.277649678398% of viewport)
[02:56:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1018.01, 1441.508), shooter_id=2621171566682, bullet_pos=(106.1662, 689.6736)
[02:56:47] [INFO] [Bullet] Using shooter_position, distance=1181.82641601563
[02:56:47] [INFO] [Bullet] Distance to wall: 1181.82641601563 (80.4727338536562% of viewport)
[02:56:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1077.684, 1487.691), shooter_id=2621171566682, bullet_pos=(508.3679, 821.0366)
[02:56:47] [INFO] [Bullet] Using shooter_position, distance=876.669189453125
[02:56:47] [INFO] [Bullet] Distance to wall: 876.669189453125 (59.6940171623555% of viewport)
[02:56:47] [INFO] [LastChance] Threat detected: @Area2D@1770
[02:56:47] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:56:47] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:56:47] [INFO] [LastChance] Threat detected: @Area2D@1768
[02:56:47] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:56:47] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:56:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1018.01, 1441.508), shooter_id=2621171566682, bullet_pos=(57.42528, 646.3555)
[02:56:47] [INFO] [Bullet] Using shooter_position, distance=1246.99243164063
[02:56:47] [INFO] [Bullet] Distance to wall: 1246.99243164063 (84.9100076872989% of viewport)
[02:56:47] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[02:56:47] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[02:56:47] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:56:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(989.4526, 1416.915), shooter_id=2621171566682, bullet_pos=(39.55213, 670.0828)
[02:56:47] [INFO] [Bullet] Using shooter_position, distance=1208.33325195313
[02:56:47] [INFO] [Bullet] Distance to wall: 1208.33325195313 (82.2776330544139% of viewport)
[02:56:47] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[02:56:47] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[02:56:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(989.4526, 1416.915), shooter_id=2621171566682, bullet_pos=(244.3058, 467.0751)
[02:56:47] [INFO] [Bullet] Using shooter_position, distance=1207.24462890625
[02:56:47] [INFO] [Bullet] Distance to wall: 1207.24462890625 (82.2035067093509% of viewport)
[02:56:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1018.01, 1441.508), shooter_id=2621171566682, bullet_pos=(289.0564, 477.7897)
[02:56:47] [INFO] [Bullet] Using shooter_position, distance=1208.35668945313
[02:56:47] [INFO] [Bullet] Distance to wall: 1208.35668945313 (82.2792289568867% of viewport)
[02:56:47] [INFO] [Bullet] Distance-based penetration chance: 50.6742328836322%
[02:56:47] [INFO] [Bullet] Starting wall penetration at (289.0564, 477.7897)
[02:56:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(322.8667, 826.7615), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:56:47] [ENEMY] [Enemy1] Heard gunshot at (322.8667, 826.7615), source_type=0, intensity=0.01, distance=477
[02:56:47] [ENEMY] [Enemy2] Heard gunshot at (322.8667, 826.7615), source_type=0, intensity=0.03, distance=287
[02:56:47] [ENEMY] [Enemy4] Heard gunshot at (322.8667, 826.7615), source_type=0, intensity=0.01, distance=483
[02:56:47] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[02:56:47] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[02:56:47] [INFO] [Bullet] Exiting penetration at (313.789, 459.7909) after traveling 25.5885429382324 pixels through wall
[02:56:47] [INFO] [Bullet] Damage multiplier after penetration: 0.1125
[02:56:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(322.86667, 826.7615), shooter_id=2621993651290, bullet_pos=(512.56335, 799.3521)
[02:56:48] [INFO] [Bullet] Using shooter_position, distance=191,66666
[02:56:48] [INFO] [Bullet] Distance to wall: 191,66666 (13,050936% of viewport)
[02:56:48] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:56:48] [INFO] [Bullet] Starting wall penetration at (512.56335, 799.3521)
[02:56:48] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[02:56:48] [INFO] [Bullet] Exiting penetration at (558.75037, 792.6785) after traveling 41,666668 pixels through wall
[02:56:48] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[02:56:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1077.684, 1487.691), shooter_id=2621171566682, bullet_pos=(64.94414, 1086.418)
[02:56:48] [INFO] [Bullet] Using shooter_position, distance=1089.34008789063
[02:56:48] [INFO] [Bullet] Distance to wall: 1089.34008789063 (74.1751697042637% of viewport)
[02:56:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(637.1876, 761.9674), source=ENEMY (Enemy3), range=1469, listeners=10
[02:56:48] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[02:56:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(327.5287, 797.7793), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:56:48] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[02:56:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(989.4526, 1416.915), shooter_id=2621171566682, bullet_pos=(407.4581, 689.6124)
[02:56:48] [INFO] [Bullet] Using shooter_position, distance=931.497009277344
[02:56:48] [INFO] [Bullet] Distance to wall: 931.497009277344 (63.4273442336572% of viewport)
[02:56:48] [INFO] [LastChance] Threat detected: Bullet
[02:56:48] [INFO] [LastChance] Player health is 3.0 - effect requires exactly 1 HP or less but alive
[02:56:48] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:56:48] [ENEMY] [Enemy3] Hit taken, health: 1/2
[02:56:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(599.9583, 764.5908), source=ENEMY (Enemy3), range=1469, listeners=10
[02:56:48] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=1, below_threshold=4
[02:56:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(346.5916, 773.5994), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:56:48] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[02:56:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(989.4526, 1416.915), shooter_id=2621171566682, bullet_pos=(512.2661, 570.6694)
[02:56:48] [INFO] [Bullet] Using shooter_position, distance=971.513610839844
[02:56:48] [INFO] [Bullet] Distance to wall: 971.513610839844 (66.1521482180896% of viewport)
[02:56:48] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[02:56:48] [INFO] [LastChance] Threat detected: @Area2D@1794
[02:56:48] [INFO] [LastChance] Player health is 3.0 - effect requires exactly 1 HP or less but alive
[02:56:48] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:56:48] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[02:56:48] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[02:56:48] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[02:56:48] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[02:56:48] [ENEMY] [Enemy3] Hit taken, health: 0/2
[02:56:48] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[02:56:48] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[02:56:48] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[02:56:48] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[02:56:48] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[02:56:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(570.7313, 777.0439), shooter_id=2619175077357, bullet_pos=(48.81179, 833.833)
[02:56:48] [INFO] [Bullet] Using shooter_position, distance=525
[02:56:48] [INFO] [Bullet] Distance to wall: 525 (35.7482153898741% of viewport)
[02:56:48] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:56:48] [INFO] [Bullet] Starting wall penetration at (48.81179, 833.833)
[02:56:48] [INFO] [Bullet] Raycast backward hit penetrating body at distance 21.4223175048828
[02:56:48] [INFO] [Bullet] Body exited signal received for penetrating body
[02:56:48] [INFO] [Bullet] Exiting penetration at (10.70338, 837.9795) after traveling 33.3333358764648 pixels through wall
[02:56:48] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:56:48] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[02:56:48] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[02:56:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(989.4526, 1416.915), shooter_id=2621171566682, bullet_pos=(291.9464, 272.9133)
[02:56:48] [INFO] [Bullet] Using shooter_position, distance=1339.87121582031
[02:56:48] [INFO] [Bullet] Distance to wall: 1339.87121582031 (91.2342948911181% of viewport)
[02:56:48] [ENEMY] [Enemy1] State: PURSUING -> RETREATING
[02:56:48] [ENEMY] [Enemy1] State: RETREATING -> IN_COVER
[02:56:48] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[02:56:48] [ENEMY] [Enemy3] Ragdoll activated
[02:56:48] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[02:56:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(989.4526, 1416.915), shooter_id=2621171566682, bullet_pos=(63.30839, 531.5052)
[02:56:48] [INFO] [Bullet] Using shooter_position, distance=1281.28588867188
[02:56:48] [INFO] [Bullet] Distance to wall: 1281.28588867188 (87.2451122366637% of viewport)
[02:56:49] [ENEMY] [Enemy1] State: SUPPRESSED -> SEEKING_COVER
[02:56:49] [ENEMY] [Enemy1] State: SEEKING_COVER -> IN_COVER
[02:56:49] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[02:56:49] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(989.4526, 1416.915), shooter_id=2621171566682, bullet_pos=(216.1546, 687.952)
[02:56:49] [INFO] [Bullet] Using shooter_position, distance=1062.72155761719
[02:56:49] [INFO] [Bullet] Distance to wall: 1062.72155761719 (72.3626650307842% of viewport)
[02:56:49] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[02:56:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(776.3026, 908.2974), source=ENEMY (Enemy4), range=1469, listeners=9
[02:56:49] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=7
[02:56:49] [INFO] [LastChance] Threat detected: Bullet
[02:56:49] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[02:56:49] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:56:49] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[02:56:49] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(708.7985, 899.7068), shooter_id=2619460290761, bullet_pos=(676.4322, 891.7362)
[02:56:49] [INFO] [Bullet] Using shooter_position, distance=33.333309173584
[02:56:49] [INFO] [Bullet] Distance to wall: 33.333309173584 (2.26972631618009% of viewport)
[02:56:49] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[02:56:49] [INFO] [Bullet] Starting wall penetration at (676.4322, 891.7362)
[02:56:49] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[02:56:49] [INFO] [Bullet] Exiting penetration at (639.2109, 882.57) after traveling 33.3333358764648 pixels through wall
[02:56:49] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:56:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(570.5236, 898.692), source=PLAYER (AssaultRifle), range=1469, listeners=9
[02:56:49] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[02:56:49] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(570.52356, 898.69196), shooter_id=2621993651290, bullet_pos=(689.167, 859.33777)
[02:56:49] [INFO] [Bullet] Using shooter_position, distance=125,00006
[02:56:49] [INFO] [Bullet] Distance to wall: 125,00006 (8,511484% of viewport)
[02:56:49] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:56:49] [INFO] [Bullet] Starting wall penetration at (689.167, 859.33777)
[02:56:49] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[02:56:49] [INFO] [Bullet] Exiting penetration at (725.55096, 847.26917) after traveling 33,333336 pixels through wall
[02:56:49] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[02:56:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(579.1957, 930.2998), source=PLAYER (AssaultRifle), range=1469, listeners=9
[02:56:49] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[02:56:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(776.3026, 908.2974), source=ENEMY (Enemy4), range=1469, listeners=9
[02:56:49] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[02:56:49] [INFO] [LastChance] Threat detected: @Area2D@1820
[02:56:49] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[02:56:49] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:56:49] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(579.19574, 930.2998), shooter_id=2621993651290, bullet_pos=(730.8041, 884.6454)
[02:56:49] [INFO] [Bullet] Using shooter_position, distance=158,33324
[02:56:49] [INFO] [Bullet] Distance to wall: 158,33324 (10,781201% of viewport)
[02:56:49] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:56:49] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[02:56:49] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[02:56:49] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[02:56:49] [ENEMY] [Enemy4] Hit taken, health: 1/2
[02:56:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(600.2004, 956.7994), source=PLAYER (AssaultRifle), range=1469, listeners=9
[02:56:49] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[02:56:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(776.3026, 908.2974), source=ENEMY (Enemy4), range=1469, listeners=9
[02:56:49] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[02:56:49] [INFO] [LastChance] Threat detected: @Area2D@1824
[02:56:49] [INFO] [LastChance] Triggering last chance effect!
[02:56:49] [INFO] [LastChance] Starting last chance effect:
[02:56:49] [INFO] [LastChance]   - Time will be frozen (except player)
[02:56:49] [INFO] [LastChance]   - Duration: 6.0 real seconds
[02:56:49] [INFO] [LastChance]   - Sepia intensity: 0.70
[02:56:49] [INFO] [LastChance]   - Brightness: 0.60
[02:56:49] [INFO] [LastChance] Pushed bullet Bullet from distance 54.5 to 200.0
[02:56:49] [INFO] [LastChance] Pushed bullet @Area2D@1824 from distance 111.5 to 200.0
[02:56:49] [INFO] [LastChance] Pushed 2 threatening bullets away from player
[02:56:49] [INFO] [LastChance] Set player Player and all 18 children to PROCESS_MODE_ALWAYS
[02:56:49] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[02:56:49] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:56:49] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:56:49] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[02:56:49] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:56:49] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:56:49] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:56:49] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:56:49] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:56:49] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:56:49] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:56:49] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:56:49] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:56:49] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:56:49] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:56:49] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:56:49] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:56:49] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[02:56:49] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[02:56:49] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:56:49] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:56:49] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:56:49] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:56:49] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:56:49] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[02:56:49] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[02:56:49] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:56:49] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[02:56:49] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[02:56:49] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:56:49] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:56:49] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[02:56:49] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[02:56:49] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[02:56:49] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[02:56:49] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[02:56:49] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[02:56:49] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[02:56:49] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[02:56:49] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[02:56:49] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[02:56:49] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[02:56:49] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[02:56:49] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[02:56:49] [INFO] [LastChance] Skipping player node: Player
[02:56:49] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[02:56:49] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[02:56:49] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[02:56:49] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@1826
[02:56:49] [INFO] [LastChance] Registered frozen player bullet: @Area2D@1826
[02:56:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(625.5804, 980.507), source=PLAYER (AssaultRifle), range=1469, listeners=9
[02:56:49] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=5
[02:56:50] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@1828
[02:56:50] [INFO] [LastChance] Registered frozen player bullet: @Area2D@1828
[02:56:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(656.1546, 989.9338), source=PLAYER (AssaultRifle), range=1469, listeners=9
[02:56:50] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=5
[02:56:51] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@1830
[02:56:51] [INFO] [LastChance] Registered frozen player bullet: @Area2D@1830
[02:56:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(852.9996, 912.2673), source=PLAYER (AssaultRifle), range=1469, listeners=9
[02:56:51] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=7
[02:56:51] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@1832
[02:56:51] [INFO] [LastChance] Registered frozen player bullet: @Area2D@1832
[02:56:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(870.7188, 839.5239), source=PLAYER (AssaultRifle), range=1469, listeners=9
[02:56:51] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=8
[02:56:51] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@1834
[02:56:51] [INFO] [LastChance] Registered frozen player bullet: @Area2D@1834
[02:56:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(870.7188, 839.5239), source=PLAYER (AssaultRifle), range=1469, listeners=9
[02:56:51] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=8
[02:56:52] [INFO] [ScoreManager] Combo ended at 1. Max combo: 1
[02:56:52] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@1836
[02:56:52] [INFO] [LastChance] Registered frozen player bullet: @Area2D@1836
[02:56:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(795.7304, 736.1801), source=PLAYER (AssaultRifle), range=1469, listeners=9
[02:56:52] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[02:56:53] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@1838
[02:56:53] [INFO] [LastChance] Registered frozen player bullet: @Area2D@1838
[02:56:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(585.822, 722.4399), source=PLAYER (AssaultRifle), range=1469, listeners=9
[02:56:53] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[02:56:53] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@1840
[02:56:53] [INFO] [LastChance] Registered frozen player bullet: @Area2D@1840
[02:56:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(556.9219, 699.2637), source=PLAYER (AssaultRifle), range=1469, listeners=9
[02:56:53] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[02:56:53] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@1842
[02:56:53] [INFO] [LastChance] Registered frozen player bullet: @Area2D@1842
[02:56:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(529.6982, 672.04), source=PLAYER (AssaultRifle), range=1469, listeners=9
[02:56:53] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[02:56:54] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@1844
[02:56:54] [INFO] [LastChance] Registered frozen player bullet: @Area2D@1844
[02:56:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(456.4126, 411.7737), source=PLAYER (AssaultRifle), range=1469, listeners=9
[02:56:54] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=4
[02:56:54] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@1846
[02:56:54] [INFO] [LastChance] Registered frozen player bullet: @Area2D@1846
[02:56:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(453.333, 374.5493), source=PLAYER (AssaultRifle), range=1469, listeners=9
[02:56:54] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=4
[02:56:54] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@1848
[02:56:54] [INFO] [LastChance] Registered frozen player bullet: @Area2D@1848
[02:56:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(436.0872, 343.1927), source=PLAYER (AssaultRifle), range=1469, listeners=9
[02:56:54] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=4
[02:56:54] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@1850
[02:56:54] [INFO] [LastChance] Registered frozen player bullet: @Area2D@1850
[02:56:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(410.9049, 315.1235), source=PLAYER (AssaultRifle), range=1469, listeners=9
[02:56:54] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=4
[02:56:55] [INFO] [LastChance] Effect duration expired after 6.02 real seconds
[02:56:55] [INFO] [LastChance] Ending last chance effect
[02:56:55] [INFO] [LastChance] All process modes restored
[02:56:55] [INFO] [LastChance] Unfroze player bullet: @Area2D@1826
[02:56:55] [INFO] [LastChance] Unfroze player bullet: @Area2D@1828
[02:56:55] [INFO] [LastChance] Unfroze player bullet: @Area2D@1830
[02:56:55] [INFO] [LastChance] Unfroze player bullet: @Area2D@1832
[02:56:55] [INFO] [LastChance] Unfroze player bullet: @Area2D@1834
[02:56:55] [INFO] [LastChance] Unfroze player bullet: @Area2D@1836
[02:56:55] [INFO] [LastChance] Unfroze player bullet: @Area2D@1838
[02:56:55] [INFO] [LastChance] Unfroze player bullet: @Area2D@1840
[02:56:55] [INFO] [LastChance] Unfroze player bullet: @Area2D@1842
[02:56:55] [INFO] [LastChance] Unfroze player bullet: @Area2D@1844
[02:56:55] [INFO] [LastChance] Unfroze player bullet: @Area2D@1846
[02:56:55] [INFO] [LastChance] Unfroze player bullet: @Area2D@1848
[02:56:55] [INFO] [LastChance] Unfroze player bullet: @Area2D@1850
[02:56:55] [INFO] [LastChance] Restored original colors to 5 player sprites
[02:56:55] [INFO] [LastChance] Called player RefreshHealthVisual (C#)
[02:56:55] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[02:56:55] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[02:56:55] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[02:56:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(600.2004, 956.79944), shooter_id=2621993651290, bullet_pos=(912.76746, 854.72906)
[02:56:55] [INFO] [Bullet] Using shooter_position, distance=328,8108
[02:56:55] [INFO] [Bullet] Distance to wall: 328,8108 (22,389332% of viewport)
[02:56:55] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:56:55] [ENEMY] [Enemy4] Hit taken, health: 0/2
[02:56:55] [ENEMY] [Enemy4] Enemy died (ricochet: false, penetration: false)
[02:56:55] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[02:56:55] [INFO] [SoundPropagation] Unregistered listener: Enemy4 (remaining: 8)
[02:56:55] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[02:56:55] [ENEMY] [Enemy4] Death animation started with hit direction: (1, 0)
[02:56:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(392.4799, 575.584), source=ENEMY (Enemy2), range=1469, listeners=8
[02:56:55] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[02:56:55] [ENEMY] [Enemy2] Hit taken, health: 2/3
[02:56:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(989.4526, 1416.915), shooter_id=2621171566682, bullet_pos=(497.2779, 291.6757)
[02:56:55] [INFO] [Bullet] Using shooter_position, distance=1228.16918945313
[02:56:55] [INFO] [Bullet] Distance to wall: 1228.16918945313 (83.6282985138617% of viewport)
[02:56:55] [ENEMY] [Enemy2] Hit taken, health: 1/3
[02:56:56] [ENEMY] [Enemy1] State: SUPPRESSED -> SEEKING_COVER
[02:56:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(529.69824, 672.04), shooter_id=2621993651290, bullet_pos=(324.28543, 464.97723)
[02:56:56] [INFO] [Bullet] Using shooter_position, distance=291,6666
[02:56:56] [INFO] [Bullet] Distance to wall: 291,6666 (19,860115% of viewport)
[02:56:56] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:56:56] [INFO] [Bullet] Starting wall penetration at (324.28543, 464.97723)
[02:56:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(656.1546, 989.9338), shooter_id=2621993651290, bullet_pos=(916.7457, 858.93085)
[02:56:56] [INFO] [Bullet] Using shooter_position, distance=291,66675
[02:56:56] [INFO] [Bullet] Distance to wall: 291,66675 (19,860126% of viewport)
[02:56:56] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:56:56] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[02:56:56] [INFO] [Bullet] Exiting penetration at (297.28833, 437.76324) after traveling 33,333332 pixels through wall
[02:56:56] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[02:56:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(795.7304, 736.1801), shooter_id=2621993651290, bullet_pos=(507.84787, 585.35345)
[02:56:56] [INFO] [Bullet] Using shooter_position, distance=325,00006
[02:56:56] [INFO] [Bullet] Distance to wall: 325,00006 (22,129852% of viewport)
[02:56:56] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:56:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(712.5742, 931.7005), shooter_id=2619460290761, bullet_pos=(507.6767, 984.4545)
[02:56:56] [INFO] [Bullet] Using shooter_position, distance=211.579666137695
[02:56:56] [INFO] [Bullet] Distance to wall: 211.579666137695 (14.4068485280152% of viewport)
[02:56:56] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:56:56] [INFO] [Bullet] Starting wall penetration at (507.6767, 984.4545)
[02:56:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(712.5742, 931.7005), shooter_id=2619460290761, bullet_pos=(502.8163, 985.6276)
[02:56:56] [INFO] [Bullet] Using shooter_position, distance=216.5791015625
[02:56:56] [INFO] [Bullet] Distance to wall: 216.5791015625 (14.7472692792413% of viewport)
[02:56:56] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:56:56] [INFO] [Bullet] Already penetrating, cannot start new penetration
[02:56:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(392.4799, 575.584), source=ENEMY (Enemy2), range=1469, listeners=8
[02:56:56] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[02:56:56] [INFO] [Bullet] Raycast backward hit penetrating body at distance 30.4362277984619
[02:56:56] [INFO] [Bullet] Body exited signal received for penetrating body
[02:56:56] [INFO] [Bullet] Exiting penetration at (470.4133, 993.448) after traveling 33.3333358764648 pixels through wall
[02:56:56] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:56:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(410.9049, 315.12354), shooter_id=2621993651290, bullet_pos=(64.68225, 407.49585)
[02:56:56] [INFO] [Bullet] Using shooter_position, distance=358,3333
[02:56:56] [INFO] [Bullet] Distance to wall: 358,3333 (24,399576% of viewport)
[02:56:56] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:56:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(600.2004, 956.79944), shooter_id=2621993651290, bullet_pos=(737.1099, 806.78357)
[02:56:56] [INFO] [Bullet] Using shooter_position, distance=203,09846
[02:56:56] [INFO] [Bullet] Distance to wall: 203,09846 (13,829349% of viewport)
[02:56:56] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:56:56] [INFO] [Bullet] Starting wall penetration at (737.1099, 806.78357)
[02:56:56] [INFO] [Bullet] Raycast backward hit penetrating body at distance 45,548584
[02:56:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(436.08722, 343.19272), shooter_id=2621993651290, bullet_pos=(44.92352, 363.0352)
[02:56:56] [INFO] [Bullet] Using shooter_position, distance=391,66663
[02:56:56] [INFO] [Bullet] Distance to wall: 391,66663 (26,669302% of viewport)
[02:56:56] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:56:56] [INFO] [Bullet] Starting wall penetration at (44.92352, 363.0352)
[02:56:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(453.33298, 374.54932), shooter_id=2621993651290, bullet_pos=(63.451237, 337.199)
[02:56:56] [INFO] [Bullet] Using shooter_position, distance=391,66672
[02:56:56] [INFO] [Bullet] Distance to wall: 391,66672 (26,669308% of viewport)
[02:56:56] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:56:56] [INFO] [Bullet] Starting wall penetration at (63.451237, 337.199)
[02:56:56] [INFO] [Bullet] Body exited signal received for penetrating body
[02:56:56] [INFO] [Bullet] Exiting penetration at (704.95294, 798.00635) after traveling 28,333338 pixels through wall
[02:56:56] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[02:56:56] [INFO] [Bullet] Raycast backward hit penetrating body at distance 6,738111
[02:56:56] [INFO] [Bullet] Raycast backward hit penetrating body at distance 25,3932
[02:56:56] [INFO] [Bullet] Body exited signal received for penetrating body
[02:56:56] [INFO] [Bullet] Exiting penetration at (25.292599, 333.54346) after traveling 33,333336 pixels through wall
[02:56:56] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[02:56:56] [INFO] [Bullet] Body exited signal received for penetrating body
[02:56:56] [INFO] [Bullet] Exiting penetration at (6.639408, 364.9772) after traveling 33,333336 pixels through wall
[02:56:56] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[02:56:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(456.41257, 411.77368), shooter_id=2621993651290, bullet_pos=(46.556973, 299.33096)
[02:56:56] [INFO] [Bullet] Using shooter_position, distance=424,99997
[02:56:56] [INFO] [Bullet] Distance to wall: 424,99997 (28,93903% of viewport)
[02:56:56] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:56:56] [INFO] [Bullet] Starting wall penetration at (46.556973, 299.33096)
[02:56:56] [INFO] [Bullet] Raycast backward hit penetrating body at distance 23,238483
[02:56:56] [INFO] [Bullet] Body exited signal received for penetrating body
[02:56:56] [INFO] [Bullet] Exiting penetration at (9.5896, 289.1891) after traveling 33,33334 pixels through wall
[02:56:56] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[02:56:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(382.6466, 505.1518), shooter_id=2618889866257, bullet_pos=(312.3737, 247.9111)
[02:56:56] [INFO] [Bullet] Using shooter_position, distance=266.666595458984
[02:56:56] [INFO] [Bullet] Distance to wall: 266.666595458984 (18.1578188414328% of viewport)
[02:56:56] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:56:56] [INFO] [Bullet] Starting wall penetration at (312.3737, 247.9111)
[02:56:56] [INFO] [Bullet] Raycast backward hit penetrating body at distance 15.6193933486938
[02:56:56] [INFO] [Bullet] Body exited signal received for penetrating body
[02:56:56] [INFO] [Bullet] Exiting penetration at (302.2719, 210.9327) after traveling 33.3333358764648 pixels through wall
[02:56:56] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:56:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(392.4799, 575.584), source=ENEMY (Enemy2), range=1469, listeners=8
[02:56:56] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[02:56:56] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[02:56:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(410.9049, 315.12354), shooter_id=2621993651290, bullet_pos=(237.61882, 434.2904)
[02:56:56] [INFO] [Bullet] Using shooter_position, distance=210,30647
[02:56:56] [INFO] [Bullet] Distance to wall: 210,30647 (14,320154% of viewport)
[02:56:56] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:56:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(392.4799, 575.584), source=ENEMY (Enemy2), range=1469, listeners=8
[02:56:56] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[02:56:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(870.71875, 839.52386), shooter_id=2621993651290, bullet_pos=(785.6035, 52.445724)
[02:56:56] [INFO] [Bullet] Using shooter_position, distance=791,667
[02:56:56] [INFO] [Bullet] Distance to wall: 791,667 (53,906067% of viewport)
[02:56:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(870.71875, 839.52386), shooter_id=2621993651290, bullet_pos=(756.1292, 56.194088)
[02:56:56] [INFO] [Bullet] Using shooter_position, distance=791,6668
[02:56:56] [INFO] [Bullet] Distance to wall: 791,6668 (53,90605% of viewport)
[02:56:56] [INFO] [Bullet] Distance-based penetration chance: 83,77627%
[02:56:56] [INFO] [Bullet] Starting wall penetration at (756.1292, 56.194088)
[02:56:56] [INFO] [Bullet] Raycast backward hit penetrating body at distance 13,881745
[02:56:56] [INFO] [Bullet] Body exited signal received for penetrating body
[02:56:56] [INFO] [Bullet] Exiting penetration at (750.5807, 18.264439) after traveling 33,333336 pixels through wall
[02:56:56] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[02:56:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(400.4402, 510.6057), shooter_id=2618889866257, bullet_pos=(339.115, 47.98582)
[02:56:56] [INFO] [Bullet] Using shooter_position, distance=466.666809082031
[02:56:56] [INFO] [Bullet] Distance to wall: 466.666809082031 (31.7762011549899% of viewport)
[02:56:56] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:56:56] [INFO] [LastChance] Threat detected: Bullet
[02:56:56] [INFO] [LastChance] Effect already used this life
[02:56:56] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:56:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(362.0073, 590.963), source=ENEMY (Enemy2), range=1469, listeners=8
[02:56:56] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[02:56:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(852.9996, 912.2673), shooter_id=2621993651290, bullet_pos=(598.1298, 57.802025)
[02:56:56] [INFO] [Bullet] Using shooter_position, distance=891,6667
[02:56:56] [INFO] [Bullet] Distance to wall: 891,6667 (60,71523% of viewport)
[02:56:56] [INFO] [Bullet] Distance-based penetration chance: 75,83224%
[02:56:56] [INFO] [Bullet] Penetration failed (distance roll)
[02:56:56] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[02:56:56] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[02:56:56] [INFO] [PenultimateHit] Player died - ending penultimate effect
[02:56:56] [INFO] [LastChance] Player died
[02:56:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(405.0385, 509.5413), shooter_id=2618889866257, bullet_pos=(438.7383, 44.09296)
[02:56:56] [INFO] [Bullet] Using shooter_position, distance=466.666717529297
[02:56:56] [INFO] [Bullet] Distance to wall: 466.666717529297 (31.7761949209959% of viewport)
[02:56:56] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:56:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(331.5346, 606.3419), source=ENEMY (Enemy2), range=1469, listeners=8
[02:56:56] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[02:56:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(989.4526, 1416.915), shooter_id=2621171566682, bullet_pos=(333.8308, 67.43002)
[02:56:56] [INFO] [Bullet] Using shooter_position, distance=1500.31652832031
[02:56:56] [INFO] [Bullet] Distance to wall: 1500.31652832031 (102.159311252157% of viewport)
[02:56:56] [ENEMY] [Enemy4] Ragdoll activated
[02:56:56] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[02:56:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(382.0569, 528.6447), shooter_id=2618889866257, bullet_pos=(480.6277, 38.45712)
[02:56:56] [INFO] [Bullet] Using shooter_position, distance=500
[02:56:56] [INFO] [Bullet] Distance to wall: 500 (34.0459194189277% of viewport)
[02:56:56] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:56:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(301.062, 621.7208), source=ENEMY (Enemy2), range=1469, listeners=8
[02:56:56] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[02:56:56] [ENEMY] [Enemy1] State: SEEKING_COVER -> IN_COVER
[02:56:56] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[02:56:56] [ENEMY] [Enemy1] State: SUPPRESSED -> SEEKING_COVER
[02:56:56] [ENEMY] [Enemy2] State: SEEKING_COVER -> IN_COVER
[02:56:56] [ENEMY] [Enemy1] State: SEEKING_COVER -> IN_COVER
[02:56:56] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[02:56:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(358.4942, 546.6868), shooter_id=2618889866257, bullet_pos=(522.0157, 39.0402)
[02:56:56] [INFO] [Bullet] Using shooter_position, distance=533.333190917969
[02:56:56] [INFO] [Bullet] Distance to wall: 533.333190917969 (36.3156376828655% of viewport)
[02:56:56] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:56:56] [INFO] [Bullet] Starting wall penetration at (522.0157, 39.0402)
[02:56:56] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[02:56:56] [INFO] [Bullet] Raycast backward hit penetrating body at distance 30.9369010925293
[02:56:56] [INFO] [Bullet] Body exited signal received for penetrating body
[02:56:56] [INFO] [Bullet] Exiting penetration at (533.7688, 2.553099) after traveling 33.3333358764648 pixels through wall
[02:56:56] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:56:56] [ENEMY] [Enemy1] State: SUPPRESSED -> SEEKING_COVER
[02:56:56] [ENEMY] [Enemy1] State: SEEKING_COVER -> IN_COVER
[02:56:56] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[02:56:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(333.8231, 565.0439), shooter_id=2618889866257, bullet_pos=(560.3676, 45.63192)
[02:56:56] [INFO] [Bullet] Using shooter_position, distance=566.666809082031
[02:56:56] [INFO] [Bullet] Distance to wall: 566.666809082031 (38.5853850387754% of viewport)
[02:56:56] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:56:56] [ENEMY] [Enemy1] State: SUPPRESSED -> SEEKING_COVER
[02:56:57] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[02:56:57] [INFO] [LastChance] Resetting all effects (scene change detected)
[02:56:57] [ENEMY] [Enemy1] Death animation component initialized
[02:56:57] [ENEMY] [Enemy2] Death animation component initialized
[02:56:57] [ENEMY] [Enemy3] Death animation component initialized
[02:56:57] [ENEMY] [Enemy4] Death animation component initialized
[02:56:57] [ENEMY] [Enemy5] Death animation component initialized
[02:56:57] [ENEMY] [Enemy6] Death animation component initialized
[02:56:57] [ENEMY] [Enemy7] Death animation component initialized
[02:56:57] [ENEMY] [Enemy8] Death animation component initialized
[02:56:57] [ENEMY] [Enemy9] Death animation component initialized
[02:56:57] [ENEMY] [Enemy10] Death animation component initialized
[02:56:57] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[02:56:57] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[02:56:57] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[02:56:57] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[02:56:57] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[02:56:57] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[02:56:57] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[02:56:57] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[02:56:57] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[02:56:57] [ENEMY] [Enemy10] Grenade system configured: offensive=2, flashbangs=0
[02:56:57] [INFO] [ScoreManager] Level started with 10 enemies
[02:56:57] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 9)
[02:56:57] [ENEMY] [Enemy1] Registered as sound listener
[02:56:57] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[02:56:57] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 10)
[02:56:57] [ENEMY] [Enemy2] Registered as sound listener
[02:56:57] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[02:56:57] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 11)
[02:56:57] [ENEMY] [Enemy3] Registered as sound listener
[02:56:57] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[02:56:57] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 12)
[02:56:57] [ENEMY] [Enemy4] Registered as sound listener
[02:56:57] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[02:56:57] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 13)
[02:56:57] [ENEMY] [Enemy5] Registered as sound listener
[02:56:57] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[02:56:57] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 14)
[02:56:57] [ENEMY] [Enemy6] Registered as sound listener
[02:56:57] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[02:56:57] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 15)
[02:56:57] [ENEMY] [Enemy7] Registered as sound listener
[02:56:57] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[02:56:57] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 16)
[02:56:57] [ENEMY] [Enemy8] Registered as sound listener
[02:56:57] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[02:56:57] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 17)
[02:56:57] [ENEMY] [Enemy9] Registered as sound listener
[02:56:57] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[02:56:57] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 18)
[02:56:57] [ENEMY] [Enemy10] Registered as sound listener
[02:56:57] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[02:56:57] [INFO] [Player] Detecting weapon pose (frame 3)...
[02:56:57] [INFO] [Player] Detected weapon: Rifle (default pose)
[02:56:57] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[02:56:57] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[02:56:57] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[02:56:57] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[02:56:57] [INFO] [LastChance] Found player: Player
[02:56:57] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[02:56:57] [INFO] [LastChance] Connected to player Damaged signal (C#)
[02:56:57] [INFO] [LastChance] Connected to player Died signal (C#)
[02:56:58] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[02:56:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1144.607, 1518.02), source=ENEMY (Enemy10), range=1469, listeners=18
[02:56:58] [INFO] [SoundPropagation] Cleaned up 8 invalid listeners
[02:56:58] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:56:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(750.6423, 1239.969), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:56:58] [ENEMY] [Enemy3] Heard gunshot at (750.6423, 1239.969), source_type=0, intensity=0.01, distance=493
[02:56:58] [ENEMY] [Enemy4] Heard gunshot at (750.6423, 1239.969), source_type=0, intensity=0.02, distance=344
[02:56:58] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=0, below_threshold=7
[02:56:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1114.357, 1496.159), source=ENEMY (Enemy10), range=1469, listeners=10
[02:56:58] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:56:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(777.866, 1212.746), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:56:58] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=0, below_threshold=7
[02:56:58] [ENEMY] [Enemy10] Hit taken, health: 3/4
[02:56:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(802.4529, 956.5133), source=ENEMY (Enemy4), range=1469, listeners=10
[02:56:58] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=8
[02:56:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(808.3781, 1024.303), shooter_id=2986227010975, bullet_pos=(808.3781, 1024.303)
[02:56:58] [INFO] [Bullet] Using shooter_position, distance=0
[02:56:58] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[02:56:58] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[02:56:58] [INFO] [Bullet] Starting wall penetration at (808.3781, 1024.303)
[02:56:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(802.7947, 1190.604), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:56:58] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=0, below_threshold=7
[02:56:58] [INFO] [Bullet] Raycast backward hit penetrating body at distance 38.6367645263672
[02:56:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(777.86597, 1212.7456), shooter_id=2988760370754, bullet_pos=(989.4904, 1401.1411)
[02:56:58] [INFO] [Bullet] Using shooter_position, distance=283,3333
[02:56:58] [INFO] [Bullet] Distance to wall: 283,3333 (19,292686% of viewport)
[02:56:58] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:56:58] [INFO] [LastChance] Threat detected: @Area2D@2156
[02:56:58] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:56:58] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:56:58] [INFO] [Bullet] Body exited signal received for penetrating body
[02:56:58] [INFO] [Bullet] Exiting penetration at (807.3167, 1062.622) after traveling 33.3333320617676 pixels through wall
[02:56:58] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:56:58] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[02:56:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(777.86597, 1212.7456), shooter_id=2988760370754, bullet_pos=(898.5338, 1516.1975)
[02:56:58] [INFO] [Bullet] Using shooter_position, distance=326,5636
[02:56:58] [INFO] [Bullet] Distance to wall: 326,5636 (22,236317% of viewport)
[02:56:58] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:56:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(802.4529, 956.5133), source=ENEMY (Enemy4), range=1469, listeners=10
[02:56:58] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=8
[02:56:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(817.1979, 1022.945), shooter_id=2986227010975, bullet_pos=(817.1979, 1022.945)
[02:56:58] [INFO] [Bullet] Using shooter_position, distance=0
[02:56:58] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[02:56:58] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[02:56:58] [INFO] [Bullet] Starting wall penetration at (817.1979, 1022.945)
[02:56:58] [INFO] [LastChance] Threat detected: @Area2D@2162
[02:56:58] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:56:58] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:56:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(833.2363, 1179.117), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:56:58] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=0, below_threshold=7
[02:56:58] [INFO] [Bullet] Raycast backward hit penetrating body at distance 37.2727355957031
[02:56:58] [INFO] [Bullet] Body exited signal received for penetrating body
[02:56:58] [INFO] [Bullet] Exiting penetration at (821.1599, 1061.073) after traveling 33.3333320617676 pixels through wall
[02:56:58] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:56:58] [ENEMY] [Enemy10] State: PURSUING -> RETREATING
[02:56:58] [ENEMY] [Enemy10] State: RETREATING -> IN_COVER
[02:56:58] [ENEMY] [Enemy10] State: IN_COVER -> SUPPRESSED
[02:56:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(802.4529, 956.5133), source=ENEMY (Enemy4), range=1469, listeners=10
[02:56:58] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=8
[02:56:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(827.2062, 1019.9), shooter_id=2986227010975, bullet_pos=(827.2062, 1019.9)
[02:56:58] [INFO] [Bullet] Using shooter_position, distance=0
[02:56:58] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[02:56:58] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[02:56:58] [INFO] [Bullet] Starting wall penetration at (827.2062, 1019.9)
[02:56:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(833.2363, 1179.1166), shooter_id=2988760370754, bullet_pos=(987.66064, 1386.2134)
[02:56:58] [INFO] [Bullet] Using shooter_position, distance=258,33304
[02:56:58] [INFO] [Bullet] Distance to wall: 258,33304 (17,590372% of viewport)
[02:56:58] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:56:58] [INFO] [Bullet] Raycast backward hit penetrating body at distance 34.0936393737793
[02:56:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(802.79474, 1190.6044), shooter_id=2988760370754, bullet_pos=(1136.1624, 1638.491)
[02:56:58] [INFO] [Bullet] Using shooter_position, distance=558,33356
[02:56:58] [INFO] [Bullet] Distance to wall: 558,33356 (38,01796% of viewport)
[02:56:58] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:56:58] [INFO] [LastChance] Threat detected: @Area2D@2167
[02:56:58] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:56:58] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:56:58] [INFO] [Bullet] Body exited signal received for penetrating body
[02:56:58] [INFO] [Bullet] Exiting penetration at (836.9655, 1056.97) after traveling 33.3333358764648 pixels through wall
[02:56:58] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:56:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1084.067, 1486.762), shooter_id=2987938287121, bullet_pos=(60.16403, 799.2053)
[02:56:58] [INFO] [Bullet] Using shooter_position, distance=1233.33337402344
[02:56:58] [INFO] [Bullet] Distance to wall: 1233.33337402344 (83.9799373373524% of viewport)
[02:56:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(833.2363, 1179.1166), shooter_id=2988760370754, bullet_pos=(904.04535, 1469.9468)
[02:56:58] [INFO] [Bullet] Using shooter_position, distance=299,3261
[02:56:58] [INFO] [Bullet] Distance to wall: 299,3261 (20,381664% of viewport)
[02:56:58] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:56:58] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[02:56:58] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[02:56:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1084.067, 1486.762), shooter_id=2987938287121, bullet_pos=(244.9095, 714.2729)
[02:56:58] [INFO] [Bullet] Using shooter_position, distance=1140.58068847656
[02:56:58] [INFO] [Bullet] Distance to wall: 1140.58068847656 (77.6642364213163% of viewport)
[02:56:58] [INFO] [Bullet] Distance-based penetration chance: 56.0583908417977%
[02:56:58] [INFO] [Bullet] Starting wall penetration at (244.9095, 714.2729)
[02:56:59] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[02:56:59] [INFO] [Bullet] Exiting penetration at (275.1957, 700.3495) after traveling 28.3333358764648 pixels through wall
[02:56:59] [INFO] [Bullet] Damage multiplier after penetration: 0.45
[02:56:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1056.574, 1460.039), shooter_id=2987938287121, bullet_pos=(111.9918, 706.4917)
[02:56:59] [INFO] [Bullet] Using shooter_position, distance=1208.33288574219
[02:56:59] [INFO] [Bullet] Distance to wall: 1208.33288574219 (82.2776081184378% of viewport)
[02:56:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1056.574, 1460.039), shooter_id=2987938287121, bullet_pos=(67.37087, 749.0563)
[02:56:59] [INFO] [Bullet] Using shooter_position, distance=1218.20300292969
[02:56:59] [INFO] [Bullet] Distance to wall: 1218.20300292969 (82.9496825472798% of viewport)
[02:56:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(833.2363, 1179.1166), shooter_id=2988760370754, bullet_pos=(1140.4684, 1644.704)
[02:56:59] [INFO] [Bullet] Using shooter_position, distance=557,82
[02:56:59] [INFO] [Bullet] Distance to wall: 557,82 (37,98299% of viewport)
[02:56:59] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:56:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(802.79474, 1190.6044), shooter_id=2988760370754, bullet_pos=(800.5531, 2065.783)
[02:56:59] [INFO] [Bullet] Using shooter_position, distance=875,18146
[02:56:59] [INFO] [Bullet] Distance to wall: 875,18146 (59,592716% of viewport)
[02:56:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(777.86597, 1212.7456), shooter_id=2988760370754, bullet_pos=(1471.6854, 2073.9573)
[02:56:59] [INFO] [Bullet] Using shooter_position, distance=1105,9254
[02:56:59] [INFO] [Bullet] Distance to wall: 1105,9254 (75,3045% of viewport)
[02:56:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(802.79474, 1190.6044), shooter_id=2988760370754, bullet_pos=(452.83035, 1597.8333)
[02:56:59] [INFO] [Bullet] Using shooter_position, distance=536,9455
[02:56:59] [INFO] [Bullet] Distance to wall: 536,9455 (36,561607% of viewport)
[02:56:59] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:56:59] [INFO] [Bullet] Starting wall penetration at (452.83035, 1597.8333)
[02:56:59] [INFO] [Bullet] Raycast backward hit penetrating body at distance 16,832455
[02:56:59] [INFO] [Bullet] Body exited signal received for penetrating body
[02:56:59] [INFO] [Bullet] Exiting penetration at (435.484, 1574.4893) after traveling 24,083334 pixels through wall
[02:56:59] [INFO] [Bullet] Damage multiplier after penetration: 0,225
[02:57:00] [ENEMY] [Enemy10] State: SUPPRESSED -> SEEKING_COVER
[02:57:00] [ENEMY] [Enemy10] State: SEEKING_COVER -> IN_COVER
[02:57:00] [ENEMY] [Enemy10] State: IN_COVER -> SUPPRESSED
[02:57:00] [ENEMY] [Enemy10] State: SUPPRESSED -> SEEKING_COVER
[02:57:00] [ENEMY] [Enemy10] State: SEEKING_COVER -> IN_COVER
[02:57:00] [ENEMY] [Enemy10] State: IN_COVER -> SUPPRESSED
[02:57:00] [ENEMY] [Enemy10] State: SUPPRESSED -> SEEKING_COVER
[02:57:00] [ENEMY] [Enemy10] State: SEEKING_COVER -> IN_COVER
[02:57:00] [ENEMY] [Enemy10] State: IN_COVER -> SUPPRESSED
[02:57:01] [ENEMY] [Enemy10] State: SUPPRESSED -> SEEKING_COVER
[02:57:01] [ENEMY] [Enemy10] State: SEEKING_COVER -> IN_COVER
[02:57:01] [ENEMY] [Enemy10] State: IN_COVER -> SUPPRESSED
[02:57:01] [ENEMY] [Enemy10] State: SUPPRESSED -> IN_COVER
[02:57:01] [ENEMY] [Enemy10] State: IN_COVER -> PURSUING
[02:57:02] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[02:57:02] [ENEMY] [Enemy3] State: PURSUING -> COMBAT
[02:57:02] [ENEMY] [Enemy1] Player distracted - priority attack triggered
[02:57:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(516.2336, 737.6235), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:57:02] [ENEMY] [Enemy2] Heard gunshot at (516.2336, 737.6235), source_type=0, intensity=0.05, distance=221
[02:57:02] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=2, self=0, below_threshold=4
[02:57:02] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[02:57:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(731.6774, 926.8242), source=ENEMY (Enemy4), range=1469, listeners=10
[02:57:02] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=7
[02:57:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(679.0969, 883.6282), shooter_id=2986227010975, bullet_pos=(679.0969, 883.6282)
[02:57:02] [INFO] [Bullet] Using shooter_position, distance=0
[02:57:02] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[02:57:02] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[02:57:02] [INFO] [Bullet] Starting wall penetration at (679.0969, 883.6282)
[02:57:02] [INFO] [Bullet] Raycast backward hit penetrating body at distance 47.9663238525391
[02:57:02] [INFO] [Bullet] Body exited signal received for penetrating body
[02:57:02] [INFO] [Bullet] Exiting penetration at (646.6712, 850.0671) after traveling 41.6666679382324 pixels through wall
[02:57:02] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:57:02] [ENEMY] [Enemy1] Player distracted - priority attack triggered
[02:57:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(549.7078, 725.49), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:57:02] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=2, self=0, below_threshold=4
[02:57:02] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[02:57:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=10
[02:57:02] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=1, below_threshold=3
[02:57:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(516.2336, 737.62354), shooter_id=2988760370754, bullet_pos=(755.6515, 1004.2356)
[02:57:02] [INFO] [Bullet] Using shooter_position, distance=358,33353
[02:57:02] [INFO] [Bullet] Distance to wall: 358,33353 (24,39959% of viewport)
[02:57:02] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:57:02] [INFO] [Bullet] Starting wall penetration at (755.6515, 1004.2356)
[02:57:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(638.4042, 941.8674), source=ENEMY (Enemy3), range=1469, listeners=10
[02:57:02] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[02:57:02] [INFO] [Bullet] Raycast backward hit penetrating body at distance 20,10283
[02:57:02] [INFO] [Bullet] Body exited signal received for penetrating body
[02:57:02] [INFO] [Bullet] Exiting penetration at (786.8315, 1038.9572) after traveling 41,66667 pixels through wall
[02:57:02] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[02:57:02] [INFO] [LastChance] Threat detected: @Area2D@2187
[02:57:02] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:57:02] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:57:02] [INFO] [LastChance] Threat detected: @Area2D@2189
[02:57:02] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:57:02] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:57:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(584.6226, 728.647), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:57:02] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=2, self=0, below_threshold=4
[02:57:02] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[02:57:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=10
[02:57:02] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=1, below_threshold=3
[02:57:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(549.70776, 725.49), shooter_id=2988760370754, bullet_pos=(743.9484, 1026.6101)
[02:57:02] [INFO] [Bullet] Using shooter_position, distance=358,3333
[02:57:02] [INFO] [Bullet] Distance to wall: 358,3333 (24,399576% of viewport)
[02:57:02] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:57:02] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[02:57:02] [INFO] [LastChance] Threat detected: @Area2D@2192
[02:57:02] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:57:02] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:57:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(638.4042, 941.8674), source=ENEMY (Enemy3), range=1469, listeners=10
[02:57:02] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[02:57:02] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[02:57:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(438.9061, 605.8293), shooter_id=2985656585600, bullet_pos=(687.1614, 886.8887)
[02:57:02] [INFO] [Bullet] Using shooter_position, distance=375.000091552734
[02:57:02] [INFO] [Bullet] Distance to wall: 375.000091552734 (25.5344457981898% of viewport)
[02:57:02] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:57:02] [INFO] [LastChance] Threat detected: @Area2D@2195
[02:57:02] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:57:02] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:57:02] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[02:57:02] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[02:57:02] [ENEMY] [Enemy3] Hit taken, health: 3/4
[02:57:02] [ENEMY] [Enemy3] Hit taken, health: 2/4
[02:57:02] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[02:57:02] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[02:57:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(613.787, 746.5862), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:57:02] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=1, self=0, below_threshold=5
[02:57:02] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[02:57:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=10
[02:57:02] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=1, below_threshold=3
[02:57:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(549.70776, 725.49), shooter_id=2988760370754, bullet_pos=(924.2578, 829.5771)
[02:57:02] [INFO] [Bullet] Using shooter_position, distance=388,74396
[02:57:02] [INFO] [Bullet] Distance to wall: 388,74396 (26,470291% of viewport)
[02:57:02] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:57:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(662.0546, 945.265), source=ENEMY (Enemy3), range=1469, listeners=10
[02:57:02] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[02:57:02] [INFO] [LastChance] Threat detected: @Area2D@2202
[02:57:02] [INFO] [LastChance] Player health is 3.0 - effect requires exactly 1 HP or less but alive
[02:57:02] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:57:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(616.9772, 876.9877), shooter_id=2985941798290, bullet_pos=(522.4117, 601.0769)
[02:57:02] [INFO] [Bullet] Using shooter_position, distance=291.666564941406
[02:57:02] [INFO] [Bullet] Distance to wall: 291.666564941406 (19.8601127343811% of viewport)
[02:57:02] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:57:02] [INFO] [Bullet] Starting wall penetration at (522.4117, 601.0769)
[02:57:02] [INFO] [LastChance] Threat detected: @Area2D@2199
[02:57:02] [INFO] [LastChance] Player health is 3.0 - effect requires exactly 1 HP or less but alive
[02:57:02] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:57:03] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[02:57:03] [INFO] [Bullet] Exiting penetration at (509.9832, 564.8143) after traveling 33.3333320617676 pixels through wall
[02:57:03] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:57:03] [ENEMY] [Enemy3] Hit taken, health: 1/4
[02:57:03] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[02:57:03] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[02:57:03] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[02:57:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=10
[02:57:03] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=1, below_threshold=3
[02:57:03] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[02:57:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.6933, 943.1829), source=ENEMY (Enemy3), range=1469, listeners=10
[02:57:03] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[02:57:03] [INFO] [LastChance] Threat detected: @Area2D@2206
[02:57:03] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[02:57:03] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:57:03] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(607.3497, 881.1317), shooter_id=2985941798290, bullet_pos=(294.8412, 46.0222)
[02:57:03] [INFO] [Bullet] Using shooter_position, distance=891.666625976563
[02:57:03] [INFO] [Bullet] Distance to wall: 891.666625976563 (60.7152201930904% of viewport)
[02:57:03] [INFO] [Bullet] Distance-based penetration chance: 75.8322431080612%
[02:57:03] [INFO] [Bullet] Starting wall penetration at (294.8412, 46.0222)
[02:57:03] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[02:57:03] [INFO] [Bullet] Raycast backward hit penetrating body at distance 23.3614978790283
[02:57:03] [INFO] [Bullet] Body exited signal received for penetrating body
[02:57:03] [INFO] [Bullet] Exiting penetration at (281.4063, 10.1203) after traveling 33.3333320617676 pixels through wall
[02:57:03] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:57:03] [INFO] [LastChance] Threat detected: Bullet
[02:57:03] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[02:57:03] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:57:03] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[02:57:03] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[02:57:03] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[02:57:03] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[02:57:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(411.8701, 540.9387), source=ENEMY (Enemy2), range=1469, listeners=10
[02:57:03] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=4
[02:57:03] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[02:57:03] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[02:57:03] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(445.6287, 600.4839), shooter_id=2985656585600, bullet_pos=(696.012, 820.5278)
[02:57:03] [INFO] [Bullet] Using shooter_position, distance=333.333343505859
[02:57:03] [INFO] [Bullet] Distance to wall: 333.333343505859 (22.6972803052845% of viewport)
[02:57:03] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:57:03] [INFO] [LastChance] Threat detected: @Area2D@2208
[02:57:03] [INFO] [LastChance] Triggering last chance effect!
[02:57:03] [INFO] [LastChance] Starting last chance effect:
[02:57:03] [INFO] [LastChance]   - Time will be frozen (except player)
[02:57:03] [INFO] [LastChance]   - Duration: 6.0 real seconds
[02:57:03] [INFO] [LastChance]   - Sepia intensity: 0.70
[02:57:03] [INFO] [LastChance]   - Brightness: 0.60
[02:57:03] [INFO] [LastChance] Pushed bullet Bullet from distance 71.9 to 200.0
[02:57:03] [INFO] [LastChance] Pushed bullet @Area2D@2208 from distance 134.4 to 200.0
[02:57:03] [INFO] [LastChance] Pushed 2 threatening bullets away from player
[02:57:03] [INFO] [LastChance] Set player Player and all 18 children to PROCESS_MODE_ALWAYS
[02:57:03] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[02:57:03] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:57:03] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:57:03] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[02:57:03] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:57:03] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:57:03] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:57:03] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:57:03] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:57:03] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:57:03] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:57:03] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:57:03] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:57:03] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:57:03] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:57:03] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:57:03] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:57:03] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[02:57:03] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[02:57:03] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:57:03] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:57:03] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:57:03] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:57:03] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:57:03] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[02:57:03] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[02:57:03] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:57:03] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[02:57:03] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[02:57:03] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:57:03] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:57:03] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[02:57:03] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[02:57:03] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[02:57:03] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[02:57:03] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[02:57:03] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[02:57:03] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[02:57:03] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[02:57:03] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[02:57:03] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[02:57:03] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[02:57:03] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[02:57:03] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[02:57:03] [INFO] [LastChance] Skipping player node: Player
[02:57:03] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[02:57:03] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[02:57:03] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[02:57:04] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@2211
[02:57:04] [INFO] [LastChance] Registered frozen player bullet: @Area2D@2211
[02:57:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(875.5829, 887.7533), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:57:04] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=8
[02:57:04] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@2213
[02:57:04] [INFO] [LastChance] Registered frozen player bullet: @Area2D@2213
[02:57:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(871.444, 921.2389), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:57:04] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=8
[02:57:04] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@2215
[02:57:04] [INFO] [LastChance] Registered frozen player bullet: @Area2D@2215
[02:57:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(855.3867, 949.0776), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:57:04] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=8
[02:57:04] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@2217
[02:57:04] [INFO] [LastChance] Registered frozen player bullet: @Area2D@2217
[02:57:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(831.3635, 971.3421), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:57:04] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=8
[02:57:07] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@2219
[02:57:07] [INFO] [LastChance] Registered frozen player bullet: @Area2D@2219
[02:57:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(433.6229, 622.0663), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:57:07] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[02:57:07] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@2221
[02:57:07] [INFO] [LastChance] Registered frozen player bullet: @Area2D@2221
[02:57:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(395.1229, 622.0663), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:57:07] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[02:57:07] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@2223
[02:57:07] [INFO] [LastChance] Registered frozen player bullet: @Area2D@2223
[02:57:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(356.6229, 622.0663), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:57:07] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[02:57:08] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@2225
[02:57:08] [INFO] [LastChance] Registered frozen player bullet: @Area2D@2225
[02:57:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(181.3448, 378.3055), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:57:08] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=3
[02:57:08] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@2227
[02:57:08] [INFO] [LastChance] Registered frozen player bullet: @Area2D@2227
[02:57:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(194.2791, 345.1631), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:57:08] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=3
[02:57:09] [INFO] [LastChance] Effect duration expired after 6.00 real seconds
[02:57:09] [INFO] [LastChance] Ending last chance effect
[02:57:09] [INFO] [LastChance] All process modes restored
[02:57:09] [INFO] [LastChance] Unfroze player bullet: @Area2D@2211
[02:57:09] [INFO] [LastChance] Unfroze player bullet: @Area2D@2213
[02:57:09] [INFO] [LastChance] Unfroze player bullet: @Area2D@2215
[02:57:09] [INFO] [LastChance] Unfroze player bullet: @Area2D@2217
[02:57:09] [INFO] [LastChance] Unfroze player bullet: @Area2D@2219
[02:57:09] [INFO] [LastChance] Unfroze player bullet: @Area2D@2221
[02:57:09] [INFO] [LastChance] Unfroze player bullet: @Area2D@2223
[02:57:09] [INFO] [LastChance] Unfroze player bullet: @Area2D@2225
[02:57:09] [INFO] [LastChance] Unfroze player bullet: @Area2D@2227
[02:57:09] [INFO] [LastChance] Restored original colors to 5 player sprites
[02:57:09] [INFO] [LastChance] Called player RefreshHealthVisual (C#)
[02:57:09] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(445.6287, 600.4839), shooter_id=2985656585600, bullet_pos=(927.7772, 750.2354)
[02:57:09] [INFO] [Bullet] Using shooter_position, distance=504.869018554688
[02:57:09] [INFO] [Bullet] Distance to wall: 504.869018554688 (34.377459845652% of viewport)
[02:57:09] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:57:09] [ENEMY] [Enemy3] Hit taken, health: 0/4
[02:57:09] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[02:57:09] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[02:57:09] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[02:57:09] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[02:57:09] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[02:57:09] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[02:57:09] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(432.0493, 525.5347), source=ENEMY (Enemy2), range=1469, listeners=9
[02:57:09] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=3
[02:57:09] [ENEMY] [Enemy4] Hit taken, health: 1/2
[02:57:09] [ENEMY] [Enemy4] Hit taken, health: 0/2
[02:57:09] [ENEMY] [Enemy4] Enemy died (ricochet: false, penetration: false)
[02:57:09] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[02:57:09] [INFO] [SoundPropagation] Unregistered listener: Enemy4 (remaining: 8)
[02:57:09] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[02:57:09] [ENEMY] [Enemy4] Death animation started with hit direction: (1, 0)
[02:57:09] [INFO] [LastChance] Threat detected: @Area2D@2229
[02:57:09] [INFO] [LastChance] Effect already used this life
[02:57:09] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:57:09] [INFO] [LastChance] Threat detected: @Area2D@2221
[02:57:09] [INFO] [LastChance] Effect already used this life
[02:57:09] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:57:09] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(457.5068, 591.4153), shooter_id=2985656585600, bullet_pos=(695.2997, 816.5951)
[02:57:09] [INFO] [Bullet] Using shooter_position, distance=327.492584228516
[02:57:09] [INFO] [Bullet] Distance to wall: 327.492584228516 (22.2995722658809% of viewport)
[02:57:09] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:57:09] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(549.70776, 725.49), shooter_id=2988760370754, bullet_pos=(520.3981, 290.83124)
[02:57:09] [INFO] [Bullet] Using shooter_position, distance=435,64584
[02:57:09] [INFO] [Bullet] Distance to wall: 435,64584 (29,663927% of viewport)
[02:57:09] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:57:09] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(194.27913, 345.16306), shooter_id=2988760370754, bullet_pos=(510.8981, 339.66827)
[02:57:09] [INFO] [Bullet] Using shooter_position, distance=316,66663
[02:57:09] [INFO] [Bullet] Distance to wall: 316,66663 (21,562414% of viewport)
[02:57:09] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:57:09] [INFO] [Bullet] Starting wall penetration at (510.8981, 339.66827)
[02:57:09] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(181.34482, 378.30548), shooter_id=2988760370754, bullet_pos=(497.32312, 357.4375)
[02:57:09] [INFO] [Bullet] Using shooter_position, distance=316,66663
[02:57:09] [INFO] [Bullet] Distance to wall: 316,66663 (21,562414% of viewport)
[02:57:09] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:57:09] [INFO] [Bullet] Starting wall penetration at (497.32312, 357.4375)
[02:57:09] [INFO] [Bullet] Raycast backward hit penetrating body at distance 11,5983305
[02:57:09] [INFO] [Bullet] Raycast backward hit penetrating body at distance 25,229445
[02:57:09] [INFO] [Bullet] Body exited signal received for penetrating body
[02:57:09] [INFO] [Bullet] Exiting penetration at (535.5731, 354.91138) after traveling 33,333336 pixels through wall
[02:57:09] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[02:57:09] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(855.38666, 949.0776), shooter_id=2988760370754, bullet_pos=(505.74048, 933.34357)
[02:57:09] [INFO] [Bullet] Using shooter_position, distance=350,00003
[02:57:09] [INFO] [Bullet] Distance to wall: 350,00003 (23,832148% of viewport)
[02:57:09] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:57:09] [INFO] [Bullet] Body exited signal received for penetrating body
[02:57:09] [INFO] [Bullet] Exiting penetration at (549.22565, 339.0031) after traveling 33,33334 pixels through wall
[02:57:09] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[02:57:09] [ENEMY] [Enemy10] FLANKING started: target=(618.7458, 291.685), side=left, pos=(1067.52, 1437.518)
[02:57:09] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[02:57:09] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[02:57:09] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(451.635, 510.5838), source=ENEMY (Enemy2), range=1469, listeners=8
[02:57:09] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[02:57:09] [INFO] [LastChance] Threat detected: @Area2D@2239
[02:57:09] [INFO] [LastChance] Effect already used this life
[02:57:09] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:57:09] [ENEMY] [Enemy1] State: PURSUING -> COMBAT
[02:57:09] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(411.6685, 460.6099), shooter_id=2985656585600, bullet_pos=(336.4016, 67.75504)
[02:57:09] [INFO] [Bullet] Using shooter_position, distance=400.000091552734
[02:57:09] [INFO] [Bullet] Distance to wall: 400.000091552734 (27.2367417691362% of viewport)
[02:57:09] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:57:09] [INFO] [Bullet] Starting wall penetration at (336.4016, 67.75504)
[02:57:09] [ENEMY] [Enemy1] State: COMBAT -> RETREATING
[02:57:09] [INFO] [Bullet] Raycast backward hit penetrating body at distance 1.92799210548401
[02:57:09] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(356.62292, 622.0663), shooter_id=2988760370754, bullet_pos=(355.6782, 38.733772)
[02:57:09] [INFO] [Bullet] Using shooter_position, distance=583,3333
[02:57:09] [INFO] [Bullet] Distance to wall: 583,3333 (39,72024% of viewport)
[02:57:09] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:57:09] [INFO] [Bullet] Starting wall penetration at (355.6782, 38.733772)
[02:57:09] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(395.12292, 622.0663), shooter_id=2988760370754, bullet_pos=(330.29636, 42.346226)
[02:57:09] [INFO] [Bullet] Using shooter_position, distance=583,3333
[02:57:09] [INFO] [Bullet] Distance to wall: 583,3333 (39,72024% of viewport)
[02:57:09] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:57:09] [INFO] [Bullet] Starting wall penetration at (330.29636, 42.346226)
[02:57:09] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(457.5068, 591.4153), shooter_id=2985656585600, bullet_pos=(929.4456, 648.3342)
[02:57:09] [INFO] [Bullet] Using shooter_position, distance=475.358764648438
[02:57:09] [INFO] [Bullet] Distance to wall: 475.358764648438 (32.3680523926034% of viewport)
[02:57:09] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:57:09] [INFO] [Bullet] Starting wall penetration at (929.4456, 648.3342)
[02:57:09] [INFO] [Bullet] Raycast backward hit penetrating body at distance 25.2620620727539
[02:57:09] [INFO] [Bullet] Raycast backward hit penetrating body at distance 27,92262
[02:57:09] [INFO] [Bullet] Raycast backward hit penetrating body at distance 31,599552
[02:57:09] [INFO] [Bullet] Max penetration distance exceeded: 66.6666641235352 >= 48
[02:57:09] [INFO] [Bullet] Body exited signal received for penetrating body
[02:57:09] [INFO] [Bullet] Exiting penetration at (322.9162, -2.631451) after traveling 66.6666641235352 pixels through wall
[02:57:09] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:57:09] [INFO] [Bullet] Body exited signal received for penetrating body
[02:57:09] [INFO] [Bullet] Exiting penetration at (326.03632, 4.2503395) after traveling 33,333332 pixels through wall
[02:57:09] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[02:57:09] [INFO] [Bullet] Body exited signal received for penetrating body
[02:57:09] [INFO] [Bullet] Exiting penetration at (355.61612, 0.4004898) after traveling 33,333336 pixels through wall
[02:57:09] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[02:57:09] [INFO] [Bullet] Body exited signal received for penetrating body
[02:57:09] [INFO] [Bullet] Exiting penetration at (956.5145, 628.8821) after traveling 28.3333339691162 pixels through wall
[02:57:09] [INFO] [Bullet] Damage multiplier after penetration: 0.45
[02:57:09] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[02:57:09] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(470.6272, 496.086), source=ENEMY (Enemy2), range=1469, listeners=8
[02:57:09] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[02:57:09] [INFO] [LastChance] Threat detected: @Area2D@2245
[02:57:09] [INFO] [LastChance] Effect already used this life
[02:57:09] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:57:09] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(445.6287, 600.4839), shooter_id=2985656585600, bullet_pos=(509.6618, 525.6271)
[02:57:09] [INFO] [Bullet] Using shooter_position, distance=98.5077056884766
[02:57:09] [INFO] [Bullet] Distance to wall: 98.5077056884766 (6.70757082002664% of viewport)
[02:57:09] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:57:09] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(549.70776, 725.49), shooter_id=2988760370754, bullet_pos=(668.33124, 63.6257)
[02:57:09] [INFO] [Bullet] Using shooter_position, distance=672,41046
[02:57:09] [INFO] [Bullet] Distance to wall: 672,41046 (45,785667% of viewport)
[02:57:09] [INFO] [Bullet] Distance-based penetration chance: 93,25006%
[02:57:09] [INFO] [Bullet] Starting wall penetration at (668.33124, 63.6257)
[02:57:09] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[02:57:09] [INFO] [Bullet] Exiting penetration at (682.229, 42.28055) after traveling 20,470833 pixels through wall
[02:57:09] [INFO] [Bullet] Damage multiplier after penetration: 0,1125
[02:57:09] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(435.2148, 444.5461), shooter_id=2985656585600, bullet_pos=(383.8255, 47.8609)
[02:57:09] [INFO] [Bullet] Using shooter_position, distance=399.999969482422
[02:57:09] [INFO] [Bullet] Distance to wall: 399.999969482422 (27.2367334571442% of viewport)
[02:57:09] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:57:09] [INFO] [Bullet] Starting wall penetration at (383.8255, 47.8609)
[02:57:09] [INFO] [Bullet] Raycast backward hit penetrating body at distance 22.3398952484131
[02:57:09] [INFO] [Bullet] Body exited signal received for penetrating body
[02:57:09] [INFO] [Bullet] Exiting penetration at (378.9007, 9.845238) after traveling 33.3333320617676 pixels through wall
[02:57:09] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:57:09] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[02:57:09] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(459.0893, 484.9851), source=ENEMY (Enemy2), range=1469, listeners=8
[02:57:09] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[02:57:09] [INFO] [LastChance] Threat detected: @Area2D@2250
[02:57:09] [INFO] [LastChance] Effect already used this life
[02:57:09] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:57:09] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(457.6655, 429.2833), shooter_id=2985656585600, bullet_pos=(429.5435, 63.69656)
[02:57:09] [INFO] [Bullet] Using shooter_position, distance=366.666778564453
[02:57:09] [INFO] [Bullet] Distance to wall: 366.666778564453 (24.9670151932064% of viewport)
[02:57:09] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:57:09] [INFO] [Bullet] Starting wall penetration at (429.5435, 63.69656)
[02:57:09] [INFO] [Bullet] Raycast backward hit penetrating body at distance 6.54313135147095
[02:57:09] [INFO] [Bullet] Body exited signal received for penetrating body
[02:57:09] [INFO] [Bullet] Exiting penetration at (426.6034, 25.47614) after traveling 33.3333358764648 pixels through wall
[02:57:09] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:57:09] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[02:57:09] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[02:57:09] [INFO] [PenultimateHit] Player died - ending penultimate effect
[02:57:09] [INFO] [LastChance] Player died
[02:57:09] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[02:57:09] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(471.5735, 482.9993), source=ENEMY (Enemy2), range=1469, listeners=8
[02:57:09] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[02:57:09] [INFO] [LastChance] Threat detected: @Area2D@2253
[02:57:09] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:57:09] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:57:09] [ENEMY] [Enemy3] Ragdoll activated
[02:57:09] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[02:57:09] [ENEMY] [Enemy1] Player distracted - priority attack triggered
[02:57:09] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(220.2703, 348.9076), source=ENEMY (Enemy1), range=1469, listeners=8
[02:57:09] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=1, below_threshold=1
[02:57:09] [ENEMY] [Enemy4] Ragdoll activated
[02:57:09] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[02:57:10] [INFO] [LastChance] Threat detected: @Area2D@2266
[02:57:10] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:57:10] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:57:10] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[02:57:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(454.0792, 479.4652), source=ENEMY (Enemy2), range=1469, listeners=8
[02:57:10] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[02:57:10] [INFO] [LastChance] Threat detected: @Area2D@2279
[02:57:10] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:57:10] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:57:10] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(284.4089, 326.1734), shooter_id=2985371372911, bullet_pos=(523.8847, 208.8601)
[02:57:10] [INFO] [Bullet] Using shooter_position, distance=266.666595458984
[02:57:10] [INFO] [Bullet] Distance to wall: 266.666595458984 (18.1578188414328% of viewport)
[02:57:10] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:57:10] [ENEMY] [Enemy1] State: RETREATING -> IN_COVER
[02:57:10] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[02:57:10] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[02:57:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(430.7567, 479.2587), source=ENEMY (Enemy2), range=1469, listeners=8
[02:57:10] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[02:57:10] [INFO] [LastChance] Threat detected: Bullet
[02:57:10] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:57:10] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:57:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(407.7528, 485.7169), source=ENEMY (Enemy2), range=1469, listeners=8
[02:57:10] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[02:57:10] [INFO] [LastChance] Threat detected: @Area2D@2283
[02:57:10] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:57:10] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:57:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(384.7489, 492.175), source=ENEMY (Enemy2), range=1469, listeners=8
[02:57:10] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[02:57:10] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[02:57:10] [INFO] [LastChance] Resetting all effects (scene change detected)
[02:57:10] [ENEMY] [Enemy1] Death animation component initialized
[02:57:10] [ENEMY] [Enemy2] Death animation component initialized
[02:57:10] [ENEMY] [Enemy3] Death animation component initialized
[02:57:10] [ENEMY] [Enemy4] Death animation component initialized
[02:57:10] [ENEMY] [Enemy5] Death animation component initialized
[02:57:10] [ENEMY] [Enemy6] Death animation component initialized
[02:57:10] [ENEMY] [Enemy7] Death animation component initialized
[02:57:10] [ENEMY] [Enemy8] Death animation component initialized
[02:57:10] [ENEMY] [Enemy9] Death animation component initialized
[02:57:10] [ENEMY] [Enemy10] Death animation component initialized
[02:57:10] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[02:57:10] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[02:57:10] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[02:57:10] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[02:57:10] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[02:57:10] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[02:57:10] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[02:57:10] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[02:57:10] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[02:57:10] [ENEMY] [Enemy10] Grenade system configured: offensive=2, flashbangs=0
[02:57:10] [INFO] [ScoreManager] Level started with 10 enemies
[02:57:10] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 9)
[02:57:10] [ENEMY] [Enemy1] Registered as sound listener
[02:57:10] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[02:57:10] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 10)
[02:57:10] [ENEMY] [Enemy2] Registered as sound listener
[02:57:10] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[02:57:10] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 11)
[02:57:10] [ENEMY] [Enemy3] Registered as sound listener
[02:57:10] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[02:57:10] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 12)
[02:57:10] [ENEMY] [Enemy4] Registered as sound listener
[02:57:10] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[02:57:10] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 13)
[02:57:10] [ENEMY] [Enemy5] Registered as sound listener
[02:57:10] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[02:57:10] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 14)
[02:57:10] [ENEMY] [Enemy6] Registered as sound listener
[02:57:10] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[02:57:10] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 15)
[02:57:10] [ENEMY] [Enemy7] Registered as sound listener
[02:57:10] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[02:57:10] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 16)
[02:57:10] [ENEMY] [Enemy8] Registered as sound listener
[02:57:10] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[02:57:10] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 17)
[02:57:10] [ENEMY] [Enemy9] Registered as sound listener
[02:57:10] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[02:57:10] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 18)
[02:57:10] [ENEMY] [Enemy10] Registered as sound listener
[02:57:10] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[02:57:10] [INFO] [Player] Detecting weapon pose (frame 3)...
[02:57:10] [INFO] [Player] Detected weapon: Rifle (default pose)
[02:57:10] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[02:57:10] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[02:57:10] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[02:57:10] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[02:57:10] [INFO] [LastChance] Found player: Player
[02:57:10] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[02:57:10] [INFO] [LastChance] Connected to player Damaged signal (C#)
[02:57:10] [INFO] [LastChance] Connected to player Died signal (C#)
[02:57:10] [INFO] ------------------------------------------------------------
[02:57:10] [INFO] GAME LOG ENDED: 2026-01-24T02:57:10
[02:57:10] [INFO] ============================================================
