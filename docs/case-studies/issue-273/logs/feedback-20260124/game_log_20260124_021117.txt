[02:11:17] [INFO] ============================================================
[02:11:17] [INFO] GAME LOG STARTED
[02:11:17] [INFO] ============================================================
[02:11:17] [INFO] Timestamp: 2026-01-24T02:11:17
[02:11:17] [INFO] Log file: I:/Загрузки/godot exe/game_log_20260124_021117.txt
[02:11:17] [INFO] Executable: I:/Загрузки/godot exe/Godot-Top-Down-Template.exe
[02:11:17] [INFO] OS: Windows
[02:11:17] [INFO] Debug build: false
[02:11:17] [INFO] Engine version: 4.3-stable (official)
[02:11:17] [INFO] Project: Godot Top-Down Template
[02:11:17] [INFO] ------------------------------------------------------------
[02:11:17] [INFO] [GameManager] GameManager ready
[02:11:17] [INFO] [ScoreManager] ScoreManager ready
[02:11:17] [INFO] [SoundPropagation] SoundPropagation autoload initialized
[02:11:17] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[02:11:17] [INFO] [PenultimateHit] Saturation shader loaded successfully
[02:11:17] [INFO] [PenultimateHit] PenultimateHitEffectsManager ready - Configuration:
[02:11:17] [INFO] [PenultimateHit]   Time scale: 0.10 (10x slowdown)
[02:11:17] [INFO] [PenultimateHit]   Saturation boost: 2.0 (3.0x)
[02:11:17] [INFO] [PenultimateHit]   Contrast boost: 1.0 (2.0x)
[02:11:17] [INFO] [PenultimateHit]   Effect duration: 3.0 real seconds
[02:11:17] [INFO] [LastChance] Resetting all effects (scene change detected)
[02:11:17] [INFO] [LastChance] Last chance shader loaded successfully
[02:11:17] [INFO] [LastChance] LastChanceEffectsManager ready - Configuration:
[02:11:17] [INFO] [LastChance]   Freeze duration: 6.0 real seconds
[02:11:17] [INFO] [LastChance]   Sepia intensity: 0.70
[02:11:17] [INFO] [LastChance]   Brightness: 0.60
[02:11:17] [INFO] [GrenadeManager] Loaded grenade scene: res://scenes/projectiles/FlashbangGrenade.tscn
[02:11:17] [INFO] [GrenadeManager] Loaded grenade scene: res://scenes/projectiles/FragGrenade.tscn
[02:11:17] [ENEMY] [Enemy1] Death animation component initialized
[02:11:17] [ENEMY] [Enemy2] Death animation component initialized
[02:11:17] [ENEMY] [Enemy3] Death animation component initialized
[02:11:17] [ENEMY] [Enemy4] Death animation component initialized
[02:11:17] [ENEMY] [Enemy5] Death animation component initialized
[02:11:17] [ENEMY] [Enemy6] Death animation component initialized
[02:11:17] [ENEMY] [Enemy7] Death animation component initialized
[02:11:17] [ENEMY] [Enemy8] Death animation component initialized
[02:11:17] [ENEMY] [Enemy9] Death animation component initialized
[02:11:17] [ENEMY] [Enemy10] Death animation component initialized
[02:11:17] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[02:11:17] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[02:11:17] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[02:11:17] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[02:11:17] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[02:11:17] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[02:11:17] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[02:11:17] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[02:11:17] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[02:11:17] [ENEMY] [Enemy10] Grenade system configured: offensive=2, flashbangs=0
[02:11:17] [INFO] [ScoreManager] Level started with 10 enemies
[02:11:17] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 1)
[02:11:17] [ENEMY] [Enemy1] Registered as sound listener
[02:11:17] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[02:11:17] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 2)
[02:11:17] [ENEMY] [Enemy2] Registered as sound listener
[02:11:17] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[02:11:17] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 3)
[02:11:17] [ENEMY] [Enemy3] Registered as sound listener
[02:11:17] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[02:11:17] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 4)
[02:11:17] [ENEMY] [Enemy4] Registered as sound listener
[02:11:17] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[02:11:17] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 5)
[02:11:17] [ENEMY] [Enemy5] Registered as sound listener
[02:11:17] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[02:11:17] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 6)
[02:11:17] [ENEMY] [Enemy6] Registered as sound listener
[02:11:17] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[02:11:17] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 7)
[02:11:17] [ENEMY] [Enemy7] Registered as sound listener
[02:11:17] [ENEMY] [Enemy7] Enemy spawned at (1606.114, 893.8859), health: 3, behavior: PATROL, player_found: yes
[02:11:17] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 8)
[02:11:17] [ENEMY] [Enemy8] Registered as sound listener
[02:11:17] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[02:11:17] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 9)
[02:11:17] [ENEMY] [Enemy9] Registered as sound listener
[02:11:17] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[02:11:17] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 10)
[02:11:17] [ENEMY] [Enemy10] Registered as sound listener
[02:11:17] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[02:11:17] [INFO] [Player] Detecting weapon pose (frame 3)...
[02:11:17] [INFO] [Player] Detected weapon: Rifle (default pose)
[02:11:17] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[02:11:17] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[02:11:17] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[02:11:17] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[02:11:17] [INFO] [LastChance] Found player: Player
[02:11:17] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[02:11:17] [INFO] [LastChance] Connected to player Damaged signal (C#)
[02:11:17] [INFO] [LastChance] Connected to player Died signal (C#)
[02:11:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 1256), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:11:24] [ENEMY] [Enemy4] Heard gunshot at (450, 1256), source_type=0, intensity=0.01, distance=499
[02:11:24] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=6
[02:11:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(698.0252, 965.6975), source=ENEMY (Enemy4), range=1469, listeners=10
[02:11:24] [ENEMY] [Enemy3] Heard gunshot at (698.0252, 965.6975), source_type=1, intensity=0.05, distance=216
[02:11:24] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=7
[02:11:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(664.4017, 1024.859), shooter_id=46288340528, bullet_pos=(664.4017, 1024.859)
[02:11:24] [INFO] [Bullet] Using shooter_position, distance=0
[02:11:24] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[02:11:24] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[02:11:24] [INFO] [Bullet] Starting wall penetration at (664.4017, 1024.859)
[02:11:24] [INFO] [Bullet] Raycast backward hit penetrating body at distance 47.7307929992676
[02:11:24] [INFO] [Bullet] Body exited signal received for penetrating body
[02:11:24] [INFO] [Bullet] Exiting penetration at (636.8447, 1062.52) after traveling 41.6666679382324 pixels through wall
[02:11:24] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:11:25] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[02:11:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(450, 1256), shooter_id=48821700295, bullet_pos=(1766.0204, 1214.7295)
[02:11:25] [INFO] [Bullet] Using shooter_position, distance=1316,6674
[02:11:25] [INFO] [Bullet] Distance to wall: 1316,6674 (89,654305% of viewport)
[02:11:25] [INFO] [Bullet] Distance-based penetration chance: 42,069984%
[02:11:25] [INFO] [Bullet] Penetration failed (distance roll)
[02:11:25] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[02:11:25] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[02:11:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(661.2218, 1138.642), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:11:25] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=7
[02:11:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1129.018, 1548.796), source=ENEMY (Enemy10), range=1469, listeners=10
[02:11:25] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:11:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(691.1243, 1117.886), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:11:25] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=7
[02:11:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1102.195, 1522.836), source=ENEMY (Enemy10), range=1469, listeners=10
[02:11:25] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:11:25] [ENEMY] [Enemy10] Hit taken, health: 1/2
[02:11:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1078.23, 1497.058), source=ENEMY (Enemy10), range=1469, listeners=10
[02:11:25] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:11:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(691.1243, 1117.8857), shooter_id=48821700295, bullet_pos=(999.69977, 1397.8723)
[02:11:25] [INFO] [Bullet] Using shooter_position, distance=416,66687
[02:11:25] [INFO] [Bullet] Distance to wall: 416,66687 (28,371614% of viewport)
[02:11:25] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:11:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(691.1243, 1117.8857), shooter_id=48821700295, bullet_pos=(995.9154, 1401.1401)
[02:11:25] [INFO] [Bullet] Using shooter_position, distance=416,08972
[02:11:25] [INFO] [Bullet] Distance to wall: 416,08972 (28,332314% of viewport)
[02:11:25] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:11:25] [INFO] [Bullet] Starting wall penetration at (995.9154, 1401.1401)
[02:11:25] [INFO] [Bullet] Raycast backward hit penetrating body at distance 35,077915
[02:11:25] [INFO] [Bullet] Body exited signal received for penetrating body
[02:11:25] [INFO] [Bullet] Exiting penetration at (970.68616, 1422.9254) after traveling 28,333334 pixels through wall
[02:11:25] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[02:11:25] [INFO] [LastChance] Threat detected: @Area2D@293
[02:11:25] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:11:25] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:11:25] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[02:11:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1073.964, 1508.688), shooter_id=47999616662, bullet_pos=(540.7172, 1017.492)
[02:11:25] [INFO] [Bullet] Using shooter_position, distance=725.000122070313
[02:11:25] [INFO] [Bullet] Distance to wall: 725.000122070313 (49.3665914694372% of viewport)
[02:11:26] [ENEMY] [Enemy10] State: PURSUING -> RETREATING
[02:11:26] [INFO] [LastChance] Threat detected: Bullet
[02:11:26] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:11:26] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:11:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1049.503, 1479.68), shooter_id=47999616662, bullet_pos=(608.7136, 1024.909)
[02:11:26] [INFO] [Bullet] Using shooter_position, distance=633.333923339844
[02:11:26] [INFO] [Bullet] Distance to wall: 633.333923339844 (43.1248714386033% of viewport)
[02:11:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1027.595, 1451.541), shooter_id=47999616662, bullet_pos=(652.343, 1026.927)
[02:11:26] [INFO] [Bullet] Using shooter_position, distance=566.666931152344
[02:11:26] [INFO] [Bullet] Distance to wall: 566.666931152344 (38.5853933507675% of viewport)
[02:11:26] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:11:26] [ENEMY] [Enemy10] State: RETREATING -> IN_COVER
[02:11:26] [ENEMY] [Enemy10] State: IN_COVER -> SUPPRESSED
[02:11:26] [ENEMY] [Enemy10] State: SUPPRESSED -> SEEKING_COVER
[02:11:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1073.964, 1508.688), shooter_id=47999616662, bullet_pos=(196.6472, 1400.691)
[02:11:26] [INFO] [Bullet] Using shooter_position, distance=883.938781738281
[02:11:26] [INFO] [Bullet] Distance to wall: 883.938781738281 (60.1890170686533% of viewport)
[02:11:26] [INFO] [Bullet] Distance-based penetration chance: 76.4461467532378%
[02:11:26] [INFO] [Bullet] Starting wall penetration at (196.6472, 1400.691)
[02:11:26] [ENEMY] [Enemy4] State: PURSUING -> RETREATING
[02:11:26] [INFO] [Bullet] Raycast backward hit penetrating body at distance 38.3518180847168
[02:11:26] [INFO] [Bullet] Body exited signal received for penetrating body
[02:11:26] [INFO] [Bullet] Exiting penetration at (174.3773, 1425.494) after traveling 28.3333358764648 pixels through wall
[02:11:26] [INFO] [Bullet] Damage multiplier after penetration: 0.45
[02:11:26] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[02:11:26] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[02:11:26] [ENEMY] [Enemy10] State: SEEKING_COVER -> IN_COVER
[02:11:26] [ENEMY] [Enemy10] Grenade trigger: critical health (1 HP)
[02:11:26] [ENEMY] [Enemy10] Preparing to throw frag grenade at (786.0837, 1189.385)
[02:11:26] [ENEMY] [Enemy10] State: IN_COVER -> THROWING_GRENADE
[02:11:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1049.503, 1479.68), shooter_id=47999616662, bullet_pos=(256.4839, 1400.62)
[02:11:26] [INFO] [Bullet] Using shooter_position, distance=796.950622558594
[02:11:26] [INFO] [Bullet] Distance to wall: 796.950622558594 (54.2658333529883% of viewport)
[02:11:26] [INFO] [Bullet] Distance-based penetration chance: 83.356527754847%
[02:11:26] [INFO] [Bullet] Starting wall penetration at (256.4839, 1400.62)
[02:11:26] [INFO] [Bullet] Raycast backward hit penetrating body at distance 17.7343311309814
[02:11:26] [INFO] [Bullet] Body exited signal received for penetrating body
[02:11:26] [INFO] [Bullet] Exiting penetration at (233.6859, 1424.938) after traveling 28.3333339691162 pixels through wall
[02:11:26] [INFO] [Bullet] Damage multiplier after penetration: 0.45
[02:11:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1027.595, 1451.541), shooter_id=47999616662, bullet_pos=(365.2774, 1384.227)
[02:11:26] [INFO] [Bullet] Using shooter_position, distance=665.729797363281
[02:11:26] [INFO] [Bullet] Distance to wall: 665.729797363281 (45.3307660716187% of viewport)
[02:11:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1027.595, 1451.541), shooter_id=47999616662, bullet_pos=(56.86117, 977.1095)
[02:11:26] [INFO] [Bullet] Using shooter_position, distance=1080.46765136719
[02:11:26] [INFO] [Bullet] Distance to wall: 1080.46765136719 (73.5710291864107% of viewport)
[02:11:26] [ENEMY] [Enemy10] Threw frag grenade: target=(786.0837, 1189.385), deviation=1.6°, distance=366
[02:11:26] [INFO] [GrenadeBase] Grenade created at (1033.615, 1416.496) (frozen)
[02:11:26] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[02:11:26] [INFO] [GrenadeBase] LEGACY throw_grenade() called! Direction: (-0.716528, -0.697558), Speed: 365.9 (unfrozen)
[02:11:26] [INFO] [GrenadeBase] NOTE: Using DRAG-BASED system. If velocity-based is expected, ensure grenade has throw_grenade_velocity_based() method.
[02:11:26] [INFO] [FragGrenade] Grenade thrown (legacy) - impact detection enabled
[02:11:26] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[02:11:26] [ENEMY] [Enemy10] State: THROWING_GRENADE -> SEEKING_COVER
[02:11:27] [INFO] [GrenadeBase] Collision detected with Enemy10 (type: CharacterBody2D)
[02:11:27] [INFO] [FragGrenade] Impact detected! Body: Enemy10 (type: CharacterBody2D), triggering explosion
[02:11:27] [INFO] [FragGrenade] Impact detected - exploding immediately!
[02:11:27] [INFO] [GrenadeBase] EXPLODED at (1029.196, 1412.193)!
[02:11:27] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1029.196, 1412.193), source=NEUTRAL (FragGrenade), range=2937, listeners=10
[02:11:27] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=9
[02:11:27] [ENEMY] [Enemy10] Hit taken, health: 0/2
[02:11:27] [ENEMY] [Enemy10] Enemy died (ricochet: false, penetration: false)
[02:11:27] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[02:11:27] [INFO] [SoundPropagation] Unregistered listener: Enemy10 (remaining: 9)
[02:11:27] [INFO] [DeathAnim] Started - Angle: 44.2 deg, Index: 14
[02:11:27] [ENEMY] [Enemy10] Death animation started with hit direction: (0.716527, 0.697559)
[02:11:27] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 36.2
[02:11:27] [INFO] [FragGrenade] Spawned shrapnel #1 at angle -3.4 degrees
[02:11:27] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 89.5 degrees
[02:11:27] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 190.3 degrees
[02:11:27] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 259.8 degrees
[02:11:27] [INFO] [GrenadeBase] Collision detected with MainHall_WallTop (type: StaticBody2D)
[02:11:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1027.595, 1451.541), shooter_id=47999616662, bullet_pos=(283.7918, 706.7124)
[02:11:27] [INFO] [Bullet] Using shooter_position, distance=1052.62219238281
[02:11:27] [INFO] [Bullet] Distance to wall: 1052.62219238281 (71.6749806808805% of viewport)
[02:11:27] [INFO] [Bullet] Distance-based penetration chance: 63.0458558723061%
[02:11:27] [INFO] [Bullet] Starting wall penetration at (283.7918, 706.7124)
[02:11:27] [INFO] [Bullet] Raycast backward hit penetrating body at distance 1.04176342487335
[02:11:27] [INFO] [Bullet] Raycast backward hit penetrating body at distance 21.5126113891602
[02:11:27] [INFO] [Bullet] Body exited signal received for penetrating body
[02:11:27] [INFO] [Bullet] Exiting penetration at (313.3257, 671.5216) after traveling 40.9416694641113 pixels through wall
[02:11:27] [INFO] [Bullet] Damage multiplier after penetration: 0.1125
[02:11:27] [ENEMY] [Enemy10] Ragdoll activated
[02:11:27] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[02:11:28] [ENEMY] [Enemy10] Death animation completed
[02:11:29] [INFO] [Player.Debug] Debug mode toggled: ON
[02:11:29] [INFO] [GameManager] Debug mode toggled: ON
[02:11:29] [ENEMY] [Enemy4] State: SUPPRESSED -> IN_COVER
[02:11:29] [ENEMY] [Enemy4] State: IN_COVER -> PURSUING
[02:11:29] [ENEMY] [Enemy3] FLANKING started: target=(674.9064, 1434.029), side=left, pos=(686.1189, 960.8428)
[02:11:29] [ENEMY] [Enemy3] State: PURSUING -> FLANKING
[02:11:29] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[02:11:29] [INFO] [LastChance] Resetting all effects (scene change detected)
[02:11:29] [ENEMY] [Enemy1] Death animation component initialized
[02:11:29] [ENEMY] [Enemy2] Death animation component initialized
[02:11:29] [ENEMY] [Enemy3] Death animation component initialized
[02:11:29] [ENEMY] [Enemy4] Death animation component initialized
[02:11:29] [ENEMY] [Enemy5] Death animation component initialized
[02:11:29] [ENEMY] [Enemy6] Death animation component initialized
[02:11:29] [ENEMY] [Enemy7] Death animation component initialized
[02:11:29] [ENEMY] [Enemy8] Death animation component initialized
[02:11:29] [ENEMY] [Enemy9] Death animation component initialized
[02:11:29] [ENEMY] [Enemy10] Death animation component initialized
[02:11:29] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[02:11:29] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[02:11:29] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[02:11:29] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[02:11:29] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[02:11:29] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[02:11:29] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[02:11:29] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[02:11:29] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[02:11:29] [ENEMY] [Enemy10] Grenade system configured: offensive=2, flashbangs=0
[02:11:29] [INFO] [ScoreManager] Level started with 10 enemies
[02:11:29] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[02:11:29] [ENEMY] [Enemy1] Registered as sound listener
[02:11:29] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[02:11:29] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[02:11:29] [ENEMY] [Enemy2] Registered as sound listener
[02:11:29] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[02:11:29] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[02:11:29] [ENEMY] [Enemy3] Registered as sound listener
[02:11:29] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[02:11:29] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[02:11:29] [ENEMY] [Enemy4] Registered as sound listener
[02:11:29] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[02:11:29] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[02:11:29] [ENEMY] [Enemy5] Registered as sound listener
[02:11:29] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[02:11:29] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[02:11:29] [ENEMY] [Enemy6] Registered as sound listener
[02:11:29] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[02:11:29] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[02:11:29] [ENEMY] [Enemy7] Registered as sound listener
[02:11:29] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[02:11:29] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[02:11:29] [ENEMY] [Enemy8] Registered as sound listener
[02:11:29] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[02:11:29] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[02:11:29] [ENEMY] [Enemy9] Registered as sound listener
[02:11:29] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[02:11:29] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[02:11:29] [ENEMY] [Enemy10] Registered as sound listener
[02:11:29] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[02:11:29] [INFO] [Player] Detecting weapon pose (frame 3)...
[02:11:29] [INFO] [Player] Detected weapon: Rifle (default pose)
[02:11:29] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[02:11:29] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[02:11:29] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[02:11:29] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[02:11:29] [INFO] [LastChance] Found player: Player
[02:11:29] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[02:11:29] [INFO] [LastChance] Connected to player Damaged signal (C#)
[02:11:29] [INFO] [LastChance] Connected to player Died signal (C#)
[02:11:30] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[02:11:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1144.113, 1518.847), source=ENEMY (Enemy10), range=1469, listeners=19
[02:11:30] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[02:11:30] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:11:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1112.689, 1498.695), source=ENEMY (Enemy10), range=1469, listeners=10
[02:11:30] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:11:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(566.9379, 1113.625), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:11:30] [ENEMY] [Enemy3] Heard gunshot at (566.9379, 1113.625), source_type=0, intensity=0.02, distance=387
[02:11:30] [ENEMY] [Enemy4] Heard gunshot at (566.9379, 1113.625), source_type=0, intensity=0.03, distance=316
[02:11:30] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=6
[02:11:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1082.044, 1477.374), source=ENEMY (Enemy10), range=1469, listeners=10
[02:11:30] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:11:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(599.9379, 1113.625), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:11:30] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=6
[02:11:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1052.189, 1454.963), source=ENEMY (Enemy10), range=1469, listeners=10
[02:11:30] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:11:30] [ENEMY] [Enemy10] Hit taken, health: 2/3
[02:11:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1024.12, 1432.003), source=ENEMY (Enemy10), range=1469, listeners=10
[02:11:30] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:11:31] [INFO] [LastChance] Threat detected: @Area2D@594
[02:11:31] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:11:31] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:11:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1082.418, 1490.015), shooter_id=737106987843, bullet_pos=(46.42788, 852.0485)
[02:11:31] [INFO] [Bullet] Using shooter_position, distance=1216.66650390625
[02:11:31] [INFO] [Bullet] Distance to wall: 1216.66650390625 (82.8450595034014% of viewport)
[02:11:31] [ENEMY] [Enemy10] Hit taken, health: 1/3
[02:11:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(992.6633, 1424.066), source=ENEMY (Enemy10), range=1469, listeners=10
[02:11:31] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:11:31] [INFO] [LastChance] Threat detected: @Area2D@595
[02:11:31] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:11:31] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:11:31] [ENEMY] [Enemy10] State: COMBAT -> RETREATING
[02:11:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1052.235, 1467.364), shooter_id=737106987843, bullet_pos=(63.99257, 801.4469)
[02:11:31] [INFO] [Bullet] Using shooter_position, distance=1191.66674804688
[02:11:31] [INFO] [Bullet] Distance to wall: 1191.66674804688 (81.1427801564391% of viewport)
[02:11:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(974.5053, 1429.741), source=ENEMY (Enemy10), range=1469, listeners=10
[02:11:31] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:11:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1082.418, 1490.015), shooter_id=737106987843, bullet_pos=(390.1763, 706.3956)
[02:11:31] [INFO] [Bullet] Using shooter_position, distance=1045.58984375
[02:11:31] [INFO] [Bullet] Distance to wall: 1045.58984375 (71.1961351311234% of viewport)
[02:11:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(967.817, 1393.706), shooter_id=737106987843, bullet_pos=(538.8606, 1023.427)
[02:11:31] [INFO] [Bullet] Using shooter_position, distance=566.665954589844
[02:11:31] [INFO] [Bullet] Distance to wall: 566.665954589844 (38.5853268548311% of viewport)
[02:11:31] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:11:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1052.235, 1467.364), shooter_id=737106987843, bullet_pos=(274.851, 705.4877)
[02:11:31] [INFO] [Bullet] Using shooter_position, distance=1088.47705078125
[02:11:31] [INFO] [Bullet] Distance to wall: 1088.47705078125 (74.116403920501% of viewport)
[02:11:31] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[02:11:31] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[02:11:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1022.717, 1443.965), shooter_id=737106987843, bullet_pos=(51.44214, 739.2476)
[02:11:31] [INFO] [Bullet] Using shooter_position, distance=1200.00036621094
[02:11:31] [INFO] [Bullet] Distance to wall: 1200.00036621094 (81.7102315414026% of viewport)
[02:11:31] [INFO] [Bullet] Distance-based penetration chance: 51.3380632016969%
[02:11:31] [INFO] [Bullet] Starting wall penetration at (51.44214, 739.2476)
[02:11:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(966.4745, 1436.739), source=ENEMY (Enemy10), range=1469, listeners=10
[02:11:31] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:11:31] [INFO] [Bullet] Raycast backward hit penetrating body at distance 14.3127365112305
[02:11:31] [INFO] [Bullet] Body exited signal received for penetrating body
[02:11:31] [INFO] [Bullet] Exiting penetration at (20.41532, 716.7358) after traveling 33.3333358764648 pixels through wall
[02:11:31] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:11:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(939.7734, 1381.086), shooter_id=737106987843, bullet_pos=(590.3788, 1023.422)
[02:11:31] [INFO] [Bullet] Using shooter_position, distance=499.999786376953
[02:11:31] [INFO] [Bullet] Distance to wall: 499.999786376953 (34.0459048729416% of viewport)
[02:11:31] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:11:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(959.725, 1444.604), source=ENEMY (Enemy10), range=1469, listeners=10
[02:11:31] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:11:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(994.2105, 1419.25), shooter_id=737106987843, bullet_pos=(97.12985, 713.0988)
[02:11:31] [INFO] [Bullet] Using shooter_position, distance=1141.6669921875
[02:11:31] [INFO] [Bullet] Distance to wall: 1141.6669921875 (77.7382048385304% of viewport)
[02:11:31] [INFO] [Bullet] Distance-based penetration chance: 55.9720943550479%
[02:11:31] [INFO] [Bullet] Starting wall penetration at (97.12985, 713.0988)
[02:11:31] [ENEMY] [Enemy3] Hit taken, health: 2/3
[02:11:31] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[02:11:31] [INFO] [Bullet] Exiting penetration at (67.0089, 689.3885) after traveling 33.3333358764648 pixels through wall
[02:11:31] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:11:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1052.235, 1467.364), shooter_id=737106987843, bullet_pos=(501.2186, 852.5)
[02:11:31] [INFO] [Bullet] Using shooter_position, distance=825.637573242188
[02:11:31] [INFO] [Bullet] Distance to wall: 825.637573242188 (56.2191805756851% of viewport)
[02:11:31] [INFO] [Bullet] Distance-based penetration chance: 81.0776226617008%
[02:11:31] [INFO] [Bullet] Penetration failed (distance roll)
[02:11:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(953.4913, 1453.255), source=ENEMY (Enemy10), range=1469, listeners=10
[02:11:31] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:11:31] [INFO] [LastChance] Threat detected: @Area2D@606
[02:11:31] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:11:31] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:11:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(967.817, 1393.706), shooter_id=737106987843, bullet_pos=(225.5462, 1395.822)
[02:11:31] [INFO] [Bullet] Using shooter_position, distance=742.273803710938
[02:11:31] [INFO] [Bullet] Distance to wall: 742.273803710938 (50.5427882158471% of viewport)
[02:11:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(921.3439, 1385.81), shooter_id=737106987843, bullet_pos=(582.5063, 1018.128)
[02:11:31] [INFO] [Bullet] Using shooter_position, distance=500.000366210938
[02:11:31] [INFO] [Bullet] Distance to wall: 500.000366210938 (34.0459443549038% of viewport)
[02:11:31] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:11:31] [INFO] [LastChance] Threat detected: Bullet
[02:11:31] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:11:31] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:11:31] [ENEMY] [Enemy3] State: PURSUING -> RETREATING
[02:11:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(918.3512, 1390.578), shooter_id=737106987843, bullet_pos=(703.1879, 1014.437)
[02:11:31] [INFO] [Bullet] Using shooter_position, distance=433.333251953125
[02:11:31] [INFO] [Bullet] Distance to wall: 433.333251953125 (29.506457955076% of viewport)
[02:11:31] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:11:31] [INFO] [Bullet] Starting wall penetration at (703.1879, 1014.437)
[02:11:31] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[02:11:31] [INFO] [Bullet] Raycast backward hit penetrating body at distance 21.7014331817627
[02:11:31] [INFO] [Bullet] Body exited signal received for penetrating body
[02:11:31] [INFO] [Bullet] Exiting penetration at (684.1542, 981.1627) after traveling 33.3333358764648 pixels through wall
[02:11:31] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:11:31] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[02:11:31] [INFO] [LastChance] Resetting all effects (scene change detected)
[02:11:31] [ENEMY] [Enemy1] Death animation component initialized
[02:11:31] [ENEMY] [Enemy2] Death animation component initialized
[02:11:31] [ENEMY] [Enemy3] Death animation component initialized
[02:11:31] [ENEMY] [Enemy4] Death animation component initialized
[02:11:31] [ENEMY] [Enemy5] Death animation component initialized
[02:11:31] [ENEMY] [Enemy6] Death animation component initialized
[02:11:31] [ENEMY] [Enemy7] Death animation component initialized
[02:11:31] [ENEMY] [Enemy8] Death animation component initialized
[02:11:31] [ENEMY] [Enemy9] Death animation component initialized
[02:11:31] [ENEMY] [Enemy10] Death animation component initialized
[02:11:31] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[02:11:31] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[02:11:31] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[02:11:31] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[02:11:31] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[02:11:31] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[02:11:31] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[02:11:31] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[02:11:31] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[02:11:31] [ENEMY] [Enemy10] Grenade system configured: offensive=2, flashbangs=0
[02:11:31] [INFO] [ScoreManager] Level started with 10 enemies
[02:11:31] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[02:11:31] [ENEMY] [Enemy1] Registered as sound listener
[02:11:31] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[02:11:31] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[02:11:31] [ENEMY] [Enemy2] Registered as sound listener
[02:11:31] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[02:11:31] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[02:11:31] [ENEMY] [Enemy3] Registered as sound listener
[02:11:31] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[02:11:31] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[02:11:31] [ENEMY] [Enemy4] Registered as sound listener
[02:11:31] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[02:11:31] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[02:11:31] [ENEMY] [Enemy5] Registered as sound listener
[02:11:31] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[02:11:31] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[02:11:31] [ENEMY] [Enemy6] Registered as sound listener
[02:11:31] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[02:11:31] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[02:11:31] [ENEMY] [Enemy7] Registered as sound listener
[02:11:31] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[02:11:31] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[02:11:31] [ENEMY] [Enemy8] Registered as sound listener
[02:11:31] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[02:11:31] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[02:11:31] [ENEMY] [Enemy9] Registered as sound listener
[02:11:31] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[02:11:31] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[02:11:31] [ENEMY] [Enemy10] Registered as sound listener
[02:11:31] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[02:11:31] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[02:11:31] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[02:11:31] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[02:11:31] [INFO] [LastChance] Found player: Player
[02:11:31] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[02:11:31] [INFO] [LastChance] Connected to player Damaged signal (C#)
[02:11:31] [INFO] [LastChance] Connected to player Died signal (C#)
[02:11:31] [INFO] [Player] Detecting weapon pose (frame 3)...
[02:11:31] [INFO] [Player] Detected weapon: Rifle (default pose)
[02:11:31] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[02:11:32] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[02:11:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1143.583, 1519.802), source=ENEMY (Enemy10), range=1469, listeners=20
[02:11:32] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[02:11:32] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:11:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1111.884, 1500.093), source=ENEMY (Enemy10), range=1469, listeners=10
[02:11:32] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:11:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1081.724, 1478.105), source=ENEMY (Enemy10), range=1469, listeners=10
[02:11:32] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:11:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(743.3308, 1177.533), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:11:32] [ENEMY] [Enemy3] Heard gunshot at (743.3308, 1177.533), source_type=0, intensity=0.01, distance=430
[02:11:32] [ENEMY] [Enemy4] Heard gunshot at (743.3308, 1177.533), source_type=0, intensity=0.03, distance=283
[02:11:32] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=0, below_threshold=7
[02:11:32] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[02:11:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(743.3308, 1177.5326), shooter_id=866157333544, bullet_pos=(987.1886, 1379.5504)
[02:11:32] [INFO] [Bullet] Using shooter_position, distance=316,66675
[02:11:32] [INFO] [Bullet] Distance to wall: 316,66675 (21,562422% of viewport)
[02:11:32] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:11:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(743.3308, 1177.5326), shooter_id=866157333544, bullet_pos=(907.0853, 1456.7516)
[02:11:32] [INFO] [Bullet] Using shooter_position, distance=323,69553
[02:11:32] [INFO] [Bullet] Distance to wall: 323,69553 (22,041025% of viewport)
[02:11:32] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:11:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1081.247, 1492.364), shooter_id=865335249911, bullet_pos=(38.33807, 882.11)
[02:11:32] [INFO] [Bullet] Using shooter_position, distance=1208.33325195313
[02:11:32] [INFO] [Bullet] Distance to wall: 1208.33325195313 (82.2776330544139% of viewport)
[02:11:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1051.505, 1468.529), shooter_id=865335249911, bullet_pos=(51.78745, 789.8282)
[02:11:33] [INFO] [Bullet] Using shooter_position, distance=1208.33312988281
[02:11:33] [INFO] [Bullet] Distance to wall: 1208.33312988281 (82.2776247424219% of viewport)
[02:11:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1081.247, 1492.364), shooter_id=865335249911, bullet_pos=(308.4177, 703.5854)
[02:11:33] [INFO] [Bullet] Using shooter_position, distance=1104.28112792969
[02:11:33] [INFO] [Bullet] Distance to wall: 1104.28112792969 (75.1925325946735% of viewport)
[02:11:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1051.505, 1468.529), shooter_id=865335249911, bullet_pos=(167.2018, 699.3261)
[02:11:33] [INFO] [Bullet] Using shooter_position, distance=1172.0341796875
[02:11:33] [INFO] [Bullet] Distance to wall: 1172.0341796875 (79.8059624757393% of viewport)
[02:11:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1024.045, 1441.824), shooter_id=865335249911, bullet_pos=(114.095, 711.6853)
[02:11:33] [INFO] [Bullet] Using shooter_position, distance=1166.66723632813
[02:11:33] [INFO] [Bullet] Distance to wall: 1166.66723632813 (79.4405174334609% of viewport)
[02:11:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1024.045, 1441.824), shooter_id=865335249911, bullet_pos=(57.34472, 761.9853)
[02:11:33] [INFO] [Bullet] Using shooter_position, distance=1181.81689453125
[02:11:33] [INFO] [Bullet] Distance to wall: 1181.81689453125 (80.4720855182766% of viewport)
[02:11:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1081.247, 1492.364), shooter_id=865335249911, bullet_pos=(513.8312, 887.832)
[02:11:33] [INFO] [Bullet] Using shooter_position, distance=829.107666015625
[02:11:33] [INFO] [Bullet] Distance to wall: 829.107666015625 (56.4554655735664% of viewport)
[02:11:33] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[02:11:33] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[02:11:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1051.505, 1468.529), shooter_id=865335249911, bullet_pos=(513.9221, 996.3691)
[02:11:33] [INFO] [Bullet] Using shooter_position, distance=715.49267578125
[02:11:33] [INFO] [Bullet] Distance to wall: 715.49267578125 (48.7192119689628% of viewport)
[02:11:33] [INFO] [Bullet] Distance-based penetration chance: 89.8275860362101%
[02:11:33] [INFO] [Bullet] Starting wall penetration at (513.9221, 996.3691)
[02:11:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1051.505, 1468.529), shooter_id=865335249911, bullet_pos=(517.7191, 999.6222)
[02:11:33] [INFO] [Bullet] Using shooter_position, distance=710.493103027344
[02:11:33] [INFO] [Bullet] Distance to wall: 710.493103027344 (48.3787818667457% of viewport)
[02:11:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1051.505, 1468.529), shooter_id=865335249911, bullet_pos=(513.9534, 1002.911)
[02:11:33] [INFO] [Bullet] Using shooter_position, distance=711.168640136719
[02:11:33] [INFO] [Bullet] Distance to wall: 711.168640136719 (48.4247804307262% of viewport)
[02:11:33] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[02:11:33] [INFO] [Bullet] Exiting penetration at (532.3084, 1022.371) after traveling 21.7502632141113 pixels through wall
[02:11:33] [INFO] [Bullet] Damage multiplier after penetration: 0.05625
[02:11:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1081.247, 1492.364), shooter_id=865335249911, bullet_pos=(59.05072, 1344.812)
[02:11:33] [INFO] [Bullet] Using shooter_position, distance=1032.791015625
[02:11:33] [INFO] [Bullet] Distance to wall: 1032.791015625 (70.3246393891225% of viewport)
[02:11:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1081.247, 1492.364), shooter_id=865335249911, bullet_pos=(398.2673, 1589.496)
[02:11:34] [INFO] [Bullet] Using shooter_position, distance=689.852416992188
[02:11:34] [INFO] [Bullet] Distance to wall: 689.852416992188 (46.9733195997371% of viewport)
[02:11:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1081.247, 1492.364), shooter_id=865335249911, bullet_pos=(640.6428, 1411.347)
[02:11:34] [INFO] [Bullet] Using shooter_position, distance=447.991149902344
[02:11:34] [INFO] [Bullet] Distance to wall: 447.991149902344 (30.5045411799359% of viewport)
[02:11:34] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:11:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1081.247, 1492.364), shooter_id=865335249911, bullet_pos=(895.9625, 1575.575)
[02:11:34] [INFO] [Bullet] Using shooter_position, distance=203.112274169922
[02:11:34] [INFO] [Bullet] Distance to wall: 203.112274169922 (13.8302882387686% of viewport)
[02:11:34] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:11:34] [INFO] [Bullet] Starting wall penetration at (895.9625, 1575.575)
[02:11:34] [INFO] [Bullet] Raycast backward hit penetrating body at distance 1.64585328102112
[02:11:34] [INFO] [Bullet] Raycast backward hit penetrating body at distance 17.3603668212891
[02:11:34] [INFO] [Bullet] Body exited signal received for penetrating body
[02:11:34] [INFO] [Bullet] Exiting penetration at (926.6008, 1595.282) after traveling 31.4291286468506 pixels through wall
[02:11:34] [INFO] [Bullet] Damage multiplier after penetration: 0.0140625
[02:11:34] [ENEMY] [Enemy10] State: PURSUING -> COMBAT
[02:11:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(945.8527, 1361.314), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:11:34] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=8
[02:11:34] [ENEMY] [Enemy10] Hit taken, health: 2/3
[02:11:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1036.551, 1440.691), source=ENEMY (Enemy10), range=1469, listeners=10
[02:11:35] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:11:35] [INFO] [LastChance] Threat detected: Bullet
[02:11:35] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:11:35] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:11:35] [ENEMY] [Enemy10] State: COMBAT -> RETREATING
[02:11:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1043.535, 1435.788), source=ENEMY (Enemy10), range=1469, listeners=10
[02:11:35] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:11:35] [INFO] [LastChance] Threat detected: Bullet
[02:11:35] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:11:35] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:11:35] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:11:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1050.097, 1435.617), source=ENEMY (Enemy10), range=1469, listeners=10
[02:11:35] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:11:35] [INFO] [LastChance] Threat detected: @Area2D@885
[02:11:35] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:11:35] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:11:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1053.283, 1435.649), source=ENEMY (Enemy10), range=1469, listeners=10
[02:11:35] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:11:35] [INFO] [LastChance] Threat detected: @Area2D@886
[02:11:35] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:11:35] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:11:35] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[02:11:35] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[02:11:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1062.08, 1441.649), source=ENEMY (Enemy10), range=1469, listeners=10
[02:11:35] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:11:35] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[02:11:35] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[02:11:35] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[02:11:35] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:11:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1064.039, 1442.494), source=ENEMY (Enemy10), range=1469, listeners=10
[02:11:35] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:11:35] [INFO] [LastChance] Threat detected: @Area2D@887
[02:11:35] [INFO] [LastChance] Triggering last chance effect!
[02:11:35] [INFO] [LastChance] Starting last chance effect:
[02:11:35] [INFO] [LastChance]   - Time will be frozen (except player)
[02:11:35] [INFO] [LastChance]   - Duration: 6.0 real seconds
[02:11:35] [INFO] [LastChance]   - Sepia intensity: 0.70
[02:11:35] [INFO] [LastChance]   - Brightness: 0.60
[02:11:35] [INFO] [LastChance] Pushed bullet @Area2D@887 from distance 125.9 to 200.0
[02:11:35] [INFO] [LastChance] Pushed 1 threatening bullets away from player
[02:11:35] [INFO] [LastChance] Set player Player and all 18 children to PROCESS_MODE_ALWAYS
[02:11:35] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[02:11:35] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:11:35] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:11:35] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[02:11:35] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:11:35] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:11:35] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:11:35] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:11:35] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:11:35] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:11:35] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:11:35] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:11:35] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:11:35] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:11:35] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:11:35] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:11:35] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:11:35] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[02:11:35] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[02:11:35] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:11:35] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:11:35] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:11:35] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:11:35] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:11:35] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[02:11:35] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[02:11:35] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:11:35] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[02:11:35] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[02:11:35] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:11:35] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:11:35] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[02:11:35] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[02:11:35] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[02:11:35] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[02:11:35] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[02:11:35] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[02:11:35] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[02:11:35] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[02:11:35] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[02:11:35] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[02:11:35] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[02:11:35] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[02:11:35] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[02:11:35] [INFO] [LastChance] Skipping player node: Player
[02:11:35] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[02:11:35] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[02:11:35] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[02:11:37] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[02:11:37] [ENEMY] [Enemy1] Player reloading state changed: false -> true
[02:11:37] [ENEMY] [Enemy2] Player reloading state changed: false -> true
[02:11:37] [ENEMY] [Enemy3] Player reloading state changed: false -> true
[02:11:37] [ENEMY] [Enemy4] Player reloading state changed: false -> true
[02:11:37] [ENEMY] [Enemy5] Player reloading state changed: false -> true
[02:11:37] [ENEMY] [Enemy6] Player reloading state changed: false -> true
[02:11:37] [ENEMY] [Enemy7] Player reloading state changed: false -> true
[02:11:37] [ENEMY] [Enemy8] Player reloading state changed: false -> true
[02:11:37] [ENEMY] [Enemy9] Player reloading state changed: false -> true
[02:11:37] [ENEMY] [Enemy10] Player reloading state changed: false -> true
[02:11:37] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(1094.47, 1359.934), source=PLAYER (Player), range=900, listeners=10
[02:11:37] [ENEMY] [Enemy4] Heard player RELOAD at (1094.47, 1359.934), intensity=0.01, distance=490
[02:11:37] [ENEMY] [Enemy10] Heard player RELOAD at (1094.47, 1359.934), intensity=0.35, distance=85
[02:11:37] [ENEMY] [Enemy10] Vulnerability sound triggered pursuit - transitioning from RETREATING to PURSUING
[02:11:37] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=3
[02:11:38] [INFO] [Player.Reload.Anim] LeftArm: pos=(4.2567, 2.0536282), target=(4, 2), base=(24, 6)
[02:11:38] [INFO] [Player.Reload.Anim] RightArm: pos=(-1.9885584, 6), target=(-2, 6), base=(-2, 6)
[02:11:38] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[02:11:38] [INFO] [Player.Reload.Anim] Phase changed to: PullBolt (duration: 0,35s)
[02:11:38] [ENEMY] [Enemy1] Player reloading state changed: true -> false
[02:11:38] [ENEMY] [Enemy2] Player reloading state changed: true -> false
[02:11:38] [ENEMY] [Enemy3] Player reloading state changed: true -> false
[02:11:38] [ENEMY] [Enemy4] Player reloading state changed: true -> false
[02:11:38] [ENEMY] [Enemy5] Player reloading state changed: true -> false
[02:11:38] [ENEMY] [Enemy6] Player reloading state changed: true -> false
[02:11:38] [ENEMY] [Enemy7] Player reloading state changed: true -> false
[02:11:38] [ENEMY] [Enemy8] Player reloading state changed: true -> false
[02:11:38] [ENEMY] [Enemy9] Player reloading state changed: true -> false
[02:11:38] [ENEMY] [Enemy10] Player reloading state changed: true -> false
[02:11:38] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[02:11:38] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[02:11:41] [INFO] [LastChance] Effect duration expired after 6.00 real seconds
[02:11:41] [INFO] [LastChance] Ending last chance effect
[02:11:41] [INFO] [LastChance] All process modes restored
[02:11:41] [INFO] [LastChance] Restored original colors to 5 player sprites
[02:11:41] [INFO] [LastChance] Called player RefreshHealthVisual (C#)
[02:11:41] [ENEMY] [Enemy4] Pursuing vulnerability sound at (1094.47, 1359.934), distance=490
[02:11:41] [ENEMY] [Enemy10] Pursuing vulnerability sound at (1094.47, 1359.934), distance=85
[02:11:41] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(980.85, 1409.308), shooter_id=865335249911, bullet_pos=(52.27823, 1112.021)
[02:11:41] [INFO] [Bullet] Using shooter_position, distance=974.999755859375
[02:11:41] [INFO] [Bullet] Distance to wall: 974.999755859375 (66.3895262429249% of viewport)
[02:11:41] [INFO] [Bullet] Distance-based penetration chance: 69.2122193832543%
[02:11:41] [INFO] [Bullet] Starting wall penetration at (52.27823, 1112.021)
[02:11:41] [INFO] [Bullet] Raycast backward hit penetrating body at distance 25.3745422363281
[02:11:41] [INFO] [Bullet] Body exited signal received for penetrating body
[02:11:41] [INFO] [Bullet] Exiting penetration at (7.833759, 1097.792) after traveling 41.6666679382324 pixels through wall
[02:11:41] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:11:41] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(997.8838, 1426.553), shooter_id=865335249911, bullet_pos=(66.79295, 1085.274)
[02:11:41] [INFO] [Bullet] Using shooter_position, distance=991.666198730469
[02:11:41] [INFO] [Bullet] Distance to wall: 991.666198730469 (67.5243749849038% of viewport)
[02:11:41] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(996.1392, 1424.844), shooter_id=865335249911, bullet_pos=(35.89093, 937.1799)
[02:11:41] [INFO] [Bullet] Using shooter_position, distance=1076.9833984375
[02:11:41] [INFO] [Bullet] Distance to wall: 1076.9833984375 (73.3337799974521% of viewport)
[02:11:41] [ENEMY] [Enemy10] State: PURSUING -> COMBAT
[02:11:41] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:11:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(959.7454, 1377.771), source=ENEMY (Enemy10), range=1469, listeners=10
[02:11:41] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=8
[02:11:41] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1027.788, 1376.873), shooter_id=865335249911, bullet_pos=(1027.788, 1376.873)
[02:11:41] [INFO] [Bullet] Using shooter_position, distance=0
[02:11:41] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[02:11:41] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[02:11:41] [INFO] [Bullet] Starting wall penetration at (1027.788, 1376.873)
[02:11:41] [INFO] [LastChance] Threat detected: Bullet
[02:11:41] [INFO] [LastChance] Effect already used this life
[02:11:41] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:11:41] [ENEMY] [Enemy10] State: COMBAT -> RETREATING
[02:11:41] [INFO] [Bullet] Raycast backward hit penetrating body at distance 39.8293380737305
[02:11:41] [INFO] [Bullet] Body exited signal received for penetrating body
[02:11:41] [INFO] [Bullet] Exiting penetration at (1074.073, 1370.913) after traveling 41.6666717529297 pixels through wall
[02:11:41] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:11:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(952.604, 1375.217), source=ENEMY (Enemy10), range=1469, listeners=10
[02:11:42] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=8
[02:11:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1020.649, 1375.92), shooter_id=865335249911, bullet_pos=(1020.649, 1375.92)
[02:11:42] [INFO] [Bullet] Using shooter_position, distance=0
[02:11:42] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[02:11:42] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[02:11:42] [INFO] [Bullet] Starting wall penetration at (1020.649, 1375.92)
[02:11:42] [INFO] [LastChance] Threat detected: Bullet
[02:11:42] [INFO] [LastChance] Effect already used this life
[02:11:42] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:11:42] [INFO] [Bullet] Raycast backward hit penetrating body at distance 46.9387664794922
[02:11:42] [INFO] [Bullet] Body exited signal received for penetrating body
[02:11:42] [INFO] [Bullet] Exiting penetration at (1065.281, 1362.291) after traveling 41.666675567627 pixels through wall
[02:11:42] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:11:42] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:11:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(954.1644, 1380.317), source=ENEMY (Enemy10), range=1469, listeners=10
[02:11:42] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=8
[02:11:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1022.19, 1378.572), shooter_id=865335249911, bullet_pos=(1022.19, 1378.572)
[02:11:42] [INFO] [Bullet] Using shooter_position, distance=0
[02:11:42] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[02:11:42] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[02:11:42] [INFO] [Bullet] Starting wall penetration at (1022.19, 1378.572)
[02:11:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(996.1392, 1424.844), shooter_id=865335249911, bullet_pos=(404.4439, 715.6657)
[02:11:42] [INFO] [Bullet] Using shooter_position, distance=923.600341796875
[02:11:42] [INFO] [Bullet] Distance to wall: 923.600341796875 (62.889645624221% of viewport)
[02:11:42] [INFO] [LastChance] Threat detected: @Area2D@893
[02:11:42] [INFO] [LastChance] Effect already used this life
[02:11:42] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:11:42] [INFO] [Bullet] Raycast backward hit penetrating body at distance 28.3024063110352
[02:11:42] [INFO] [Bullet] Max penetration distance exceeded: 83.3333358764648 >= 48
[02:11:42] [INFO] [Bullet] Body exited signal received for penetrating body
[02:11:42] [INFO] [Bullet] Exiting penetration at (1109.653, 1366.2) after traveling 83.3333358764648 pixels through wall
[02:11:42] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:11:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(996.1392, 1424.844), shooter_id=865335249911, bullet_pos=(500.7439, 796.0127)
[02:11:42] [INFO] [Bullet] Using shooter_position, distance=800.528381347656
[02:11:42] [INFO] [Bullet] Distance to wall: 800.528381347656 (54.5094495278539% of viewport)
[02:11:42] [ENEMY] [Enemy10] State: RETREATING -> IN_COVER
[02:11:42] [ENEMY] [Enemy10] State: IN_COVER -> SUPPRESSED
[02:11:42] [ENEMY] [Enemy4] Pursuing vulnerability sound at (1094.47, 1359.934), distance=773
[02:11:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(996.1392, 1424.844), shooter_id=865335249911, bullet_pos=(977.4327, 254.4404)
[02:11:42] [INFO] [Bullet] Using shooter_position, distance=1170.55334472656
[02:11:42] [INFO] [Bullet] Distance to wall: 1170.55334472656 (79.7051297002337% of viewport)
[02:11:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(996.1392, 1424.844), shooter_id=865335249911, bullet_pos=(798.761, 57.37666)
[02:11:42] [INFO] [Bullet] Using shooter_position, distance=1381.63879394531
[02:11:42] [INFO] [Bullet] Distance to wall: 1381.63879394531 (94.0783260894531% of viewport)
[02:11:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(996.1392, 1424.844), shooter_id=865335249911, bullet_pos=(523.8356, 338.5446)
[02:11:43] [INFO] [Bullet] Using shooter_position, distance=1184.53283691406
[02:11:43] [INFO] [Bullet] Distance to wall: 1184.53283691406 (80.6570190293% of viewport)
[02:11:43] [ENEMY] [Enemy4] Pursuing vulnerability sound at (1094.47, 1359.934), distance=733
[02:11:43] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[02:11:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(469.612, 998.9199), source=ENEMY (Enemy4), range=1469, listeners=10
[02:11:43] [ENEMY] [Enemy2] Heard gunshot at (469.612, 998.9199), source_type=1, intensity=0.01, distance=454
[02:11:43] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=4
[02:11:43] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[02:11:43] [ENEMY] [Enemy10] State: SUPPRESSED -> IN_COVER
[02:11:43] [ENEMY] [Enemy10] State: IN_COVER -> PURSUING
[02:11:43] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[02:11:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(482.6118, 1030.241), source=ENEMY (Enemy4), range=1469, listeners=10
[02:11:43] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=4
[02:11:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(996.1392, 1424.844), shooter_id=865335249911, bullet_pos=(912.7661, 665.1354)
[02:11:43] [INFO] [Bullet] Using shooter_position, distance=764.27001953125
[02:11:43] [INFO] [Bullet] Distance to wall: 764.27001953125 (52.0405509985265% of viewport)
[02:11:43] [INFO] [LastChance] Threat detected: Bullet
[02:11:43] [INFO] [LastChance] Effect already used this life
[02:11:43] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:11:43] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[02:11:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(512.2827, 1051.902), source=ENEMY (Enemy4), range=1469, listeners=10
[02:11:43] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=5
[02:11:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(524.209, 1039.537), shooter_id=863623973242, bullet_pos=(1101.179, 1373.529)
[02:11:43] [INFO] [Bullet] Using shooter_position, distance=666.666809082031
[02:11:43] [INFO] [Bullet] Distance to wall: 666.666809082031 (45.394568922561% of viewport)
[02:11:43] [INFO] [LastChance] Threat detected: @Area2D@900
[02:11:43] [INFO] [LastChance] Effect already used this life
[02:11:43] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:11:43] [ENEMY] [Enemy10] State: PURSUING -> COMBAT
[02:11:43] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[02:11:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(544.1999, 1071.265), source=ENEMY (Enemy4), range=1469, listeners=10
[02:11:43] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=5
[02:11:43] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:11:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(537.8084, 1070.039), shooter_id=863623973242, bullet_pos=(1083.326, 1375.056)
[02:11:43] [INFO] [Bullet] Using shooter_position, distance=625.000061035156
[02:11:43] [INFO] [Bullet] Distance to wall: 625.000061035156 (42.5574034296557% of viewport)
[02:11:43] [INFO] [LastChance] Threat detected: @Area2D@902
[02:11:43] [INFO] [LastChance] Effect already used this life
[02:11:43] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:11:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(996.1392, 1424.844), shooter_id=865335249911, bullet_pos=(762.2421, 823.8187)
[02:11:43] [INFO] [Bullet] Using shooter_position, distance=644.933898925781
[02:11:43] [INFO] [Bullet] Distance to wall: 644.933898925781 (43.914735106724% of viewport)
[02:11:43] [ENEMY] [Enemy10] State: COMBAT -> RETREATING
[02:11:43] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[02:11:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(575.3605, 1091.821), source=ENEMY (Enemy4), range=1469, listeners=10
[02:11:43] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=1, below_threshold=4
[02:11:43] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:11:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(566.6116, 1092.878), shooter_id=863623973242, bullet_pos=(1069.528, 1388.433)
[02:11:44] [INFO] [Bullet] Using shooter_position, distance=583.333435058594
[02:11:44] [INFO] [Bullet] Distance to wall: 583.333435058594 (39.7202462487424% of viewport)
[02:11:44] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:11:44] [INFO] [LastChance] Threat detected: @Area2D@904
[02:11:44] [INFO] [LastChance] Effect already used this life
[02:11:44] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:11:44] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[02:11:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(597.0483, 1114.132), shooter_id=863623973242, bullet_pos=(1018.907, 1382.525)
[02:11:44] [INFO] [Bullet] Using shooter_position, distance=499.999816894531
[02:11:44] [INFO] [Bullet] Distance to wall: 499.999816894531 (34.0459069509396% of viewport)
[02:11:44] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:11:44] [INFO] [LastChance] Threat detected: @Area2D@907
[02:11:44] [INFO] [LastChance] Effect already used this life
[02:11:44] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:11:44] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[02:11:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(605.7531, 1113.498), source=ENEMY (Enemy4), range=1469, listeners=10
[02:11:44] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=1, below_threshold=4
[02:11:44] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:11:44] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[02:11:44] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[02:11:44] [INFO] [PenultimateHit] Player died - ending penultimate effect
[02:11:44] [INFO] [LastChance] Player died
[02:11:44] [ENEMY] [Enemy3] Hit taken, health: 3/4
[02:11:44] [INFO] [LastChance] Threat detected: @Area2D@910
[02:11:44] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:11:44] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:11:44] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[02:11:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(635.6134, 1135.906), source=ENEMY (Enemy4), range=1469, listeners=10
[02:11:44] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=5
[02:11:44] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:11:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(947.1833, 1450.839), source=ENEMY (Enemy10), range=1469, listeners=10
[02:11:44] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=1, below_threshold=7
[02:11:44] [ENEMY] [Enemy3] State: PURSUING -> RETREATING
[02:11:44] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[02:11:44] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[02:11:44] [INFO] [LastChance] Threat detected: @Area2D@911
[02:11:44] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:11:44] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:11:44] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[02:11:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(665.3101, 1158.531), source=ENEMY (Enemy4), range=1469, listeners=10
[02:11:44] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[02:11:44] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:11:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(967.0945, 1463.751), source=ENEMY (Enemy10), range=1469, listeners=10
[02:11:44] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=8
[02:11:44] [INFO] [LastChance] Threat detected: @Area2D@913
[02:11:44] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:11:44] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:11:44] [INFO] [LastChance] Threat detected: Bullet
[02:11:44] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:11:44] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:11:44] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[02:11:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(695.0028, 1181.16), source=ENEMY (Enemy4), range=1469, listeners=10
[02:11:44] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=1, below_threshold=7
[02:11:44] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:11:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(992.7686, 1463.738), source=ENEMY (Enemy10), range=1469, listeners=10
[02:11:44] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=8
[02:11:44] [INFO] [LastChance] Threat detected: @Area2D@915
[02:11:44] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:11:44] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:11:44] [INFO] [LastChance] Threat detected: @Area2D@914
[02:11:44] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:11:44] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:11:44] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[02:11:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(724.6956, 1203.79), source=ENEMY (Enemy4), range=1469, listeners=10
[02:11:44] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=1, below_threshold=7
[02:11:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1018.719, 1460.654), source=ENEMY (Enemy10), range=1469, listeners=10
[02:11:44] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=8
[02:11:44] [INFO] [LastChance] Threat detected: @Area2D@916
[02:11:44] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:11:44] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:11:44] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[02:11:44] [INFO] [LastChance] Resetting all effects (scene change detected)
[02:11:44] [ENEMY] [Enemy1] Death animation component initialized
[02:11:44] [ENEMY] [Enemy2] Death animation component initialized
[02:11:44] [ENEMY] [Enemy3] Death animation component initialized
[02:11:44] [ENEMY] [Enemy4] Death animation component initialized
[02:11:44] [ENEMY] [Enemy5] Death animation component initialized
[02:11:44] [ENEMY] [Enemy6] Death animation component initialized
[02:11:44] [ENEMY] [Enemy7] Death animation component initialized
[02:11:44] [ENEMY] [Enemy8] Death animation component initialized
[02:11:44] [ENEMY] [Enemy9] Death animation component initialized
[02:11:44] [ENEMY] [Enemy10] Death animation component initialized
[02:11:44] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[02:11:44] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[02:11:44] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[02:11:44] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[02:11:44] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[02:11:44] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[02:11:44] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[02:11:44] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[02:11:44] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[02:11:44] [ENEMY] [Enemy10] Grenade system configured: offensive=2, flashbangs=0
[02:11:44] [INFO] [ScoreManager] Level started with 10 enemies
[02:11:44] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[02:11:44] [ENEMY] [Enemy1] Registered as sound listener
[02:11:44] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[02:11:44] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[02:11:44] [ENEMY] [Enemy2] Registered as sound listener
[02:11:44] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[02:11:44] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[02:11:44] [ENEMY] [Enemy3] Registered as sound listener
[02:11:44] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[02:11:44] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[02:11:44] [ENEMY] [Enemy4] Registered as sound listener
[02:11:44] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[02:11:44] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[02:11:44] [ENEMY] [Enemy5] Registered as sound listener
[02:11:44] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[02:11:44] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[02:11:44] [ENEMY] [Enemy6] Registered as sound listener
[02:11:44] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[02:11:44] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[02:11:44] [ENEMY] [Enemy7] Registered as sound listener
[02:11:44] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[02:11:44] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[02:11:44] [ENEMY] [Enemy8] Registered as sound listener
[02:11:44] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[02:11:44] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[02:11:44] [ENEMY] [Enemy9] Registered as sound listener
[02:11:44] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[02:11:44] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[02:11:44] [ENEMY] [Enemy10] Registered as sound listener
[02:11:44] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[02:11:44] [INFO] [Player] Detecting weapon pose (frame 3)...
[02:11:44] [INFO] [Player] Detected weapon: Rifle (default pose)
[02:11:44] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[02:11:44] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[02:11:44] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[02:11:44] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[02:11:44] [INFO] [LastChance] Found player: Player
[02:11:44] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[02:11:44] [INFO] [LastChance] Connected to player Damaged signal (C#)
[02:11:44] [INFO] [LastChance] Connected to player Died signal (C#)
[02:11:45] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[02:11:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(533.5408, 1181.236), source=PLAYER (AssaultRifle), range=1469, listeners=20
[02:11:45] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[02:11:45] [ENEMY] [Enemy3] Heard gunshot at (533.5408, 1181.236), source_type=0, intensity=0.01, distance=462
[02:11:45] [ENEMY] [Enemy4] Heard gunshot at (533.5408, 1181.236), source_type=0, intensity=0.02, distance=387
[02:11:45] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=6
[02:11:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1144.166, 1518.759), source=ENEMY (Enemy10), range=1469, listeners=10
[02:11:45] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:11:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(561.5298, 1155.86), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:11:45] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=6
[02:11:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(533.5408, 1181.2358), shooter_id=1306139823522, bullet_pos=(911.35724, 1409.9808)
[02:11:45] [INFO] [Bullet] Using shooter_position, distance=441,6668
[02:11:45] [INFO] [Bullet] Distance to wall: 441,6668 (30,073906% of viewport)
[02:11:45] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:11:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1112.891, 1498.377), source=ENEMY (Enemy10), range=1469, listeners=10
[02:11:45] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:11:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1082.492, 1476.709), source=ENEMY (Enemy10), range=1469, listeners=10
[02:11:45] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:11:45] [ENEMY] [Enemy10] Hit taken, health: 3/4
[02:11:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1053.839, 1454.481), source=ENEMY (Enemy10), range=1469, listeners=10
[02:11:45] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:11:45] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[02:11:45] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[02:11:45] [ENEMY] [Enemy10] State: COMBAT -> RETREATING
[02:11:46] [INFO] [LastChance] Threat detected: @Area2D@1175
[02:11:46] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:11:46] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:11:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1082.628, 1489.582), shooter_id=1305317739889, bullet_pos=(43.12732, 841.4604)
[02:11:46] [INFO] [Bullet] Using shooter_position, distance=1224.99951171875
[02:11:46] [INFO] [Bullet] Distance to wall: 1224.99951171875 (83.4124693284047% of viewport)
[02:11:46] [ENEMY] [Enemy10] State: RETREATING -> IN_COVER
[02:11:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1052.739, 1466.462), shooter_id=1305317739889, bullet_pos=(64.10305, 786.3154)
[02:11:46] [INFO] [Bullet] Using shooter_position, distance=1200.00012207031
[02:11:46] [INFO] [Bullet] Distance to wall: 1200.00012207031 (81.7102149174185% of viewport)
[02:11:46] [ENEMY] [Enemy10] State: IN_COVER -> SUPPRESSED
[02:11:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1082.628, 1489.582), shooter_id=1305317739889, bullet_pos=(328.4914, 704.183)
[02:11:46] [INFO] [Bullet] Using shooter_position, distance=1088.84069824219
[02:11:46] [INFO] [Bullet] Distance to wall: 1088.84069824219 (74.141165344805% of viewport)
[02:11:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1052.739, 1466.462), shooter_id=1305317739889, bullet_pos=(221.7254, 710.2879)
[02:11:46] [INFO] [Bullet] Using shooter_position, distance=1123.55810546875
[02:11:46] [INFO] [Bullet] Distance to wall: 1123.55810546875 (76.5051374425443% of viewport)
[02:11:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1023.628, 1442.479), shooter_id=1305317739889, bullet_pos=(55.52897, 719.3915)
[02:11:46] [INFO] [Bullet] Using shooter_position, distance=1208.33386230469
[02:11:46] [INFO] [Bullet] Distance to wall: 1208.33386230469 (82.2776746143741% of viewport)
[02:11:46] [INFO] [Bullet] Distance-based penetration chance: 50.6760462832302%
[02:11:46] [INFO] [Bullet] Penetration failed (distance roll)
[02:11:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(996.5135, 1417.736), shooter_id=1305317739889, bullet_pos=(118.7018, 700.8735)
[02:11:46] [INFO] [Bullet] Using shooter_position, distance=1133.33386230469
[02:11:46] [INFO] [Bullet] Distance to wall: 1133.33386230469 (77.170786701535% of viewport)
[02:11:46] [ENEMY] [Enemy3] Hit taken, health: 2/3
[02:11:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(996.5135, 1417.736), shooter_id=1305317739889, bullet_pos=(58.61922, 767.8817)
[02:11:46] [INFO] [Bullet] Using shooter_position, distance=1141.033203125
[02:11:46] [INFO] [Bullet] Distance to wall: 1141.033203125 (77.6950489758294% of viewport)
[02:11:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1052.739, 1466.462), shooter_id=1305317739889, bullet_pos=(496.9019, 813.7963)
[02:11:46] [INFO] [Bullet] Using shooter_position, distance=857.279174804688
[02:11:46] [INFO] [Bullet] Distance to wall: 857.279174804688 (58.3737154098505% of viewport)
[02:11:46] [INFO] [Bullet] Distance-based penetration chance: 78.5639986885078%
[02:11:46] [INFO] [Bullet] Starting wall penetration at (496.9019, 813.7963)
[02:11:46] [INFO] [Bullet] Raycast backward hit penetrating body at distance 0.13153564929962
[02:11:46] [INFO] [Bullet] Max penetration distance exceeded: 48.1666679382324 >= 48
[02:11:46] [INFO] [Bullet] Body exited signal received for penetrating body
[02:11:46] [INFO] [Bullet] Exiting penetration at (546.6645, 832.5146) after traveling 48.1666679382324 pixels through wall
[02:11:46] [INFO] [Bullet] Damage multiplier after penetration: 0.225
[02:11:46] [ENEMY] [Enemy3] State: PURSUING -> RETREATING
[02:11:46] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[02:11:46] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[02:11:47] [ENEMY] [Enemy10] State: SUPPRESSED -> SEEKING_COVER
[02:11:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1107.171, 1442.032), source=ENEMY (Enemy10), range=1469, listeners=10
[02:11:47] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:11:47] [INFO] [LastChance] Threat detected: Bullet
[02:11:47] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:11:47] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:11:47] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[02:11:47] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[02:11:47] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:11:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1115.641, 1440.994), source=ENEMY (Enemy10), range=1469, listeners=10
[02:11:47] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:11:47] [INFO] [LastChance] Threat detected: Bullet
[02:11:47] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[02:11:47] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:11:47] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[02:11:47] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[02:11:47] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[02:11:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1115.641, 1440.994), source=ENEMY (Enemy10), range=1469, listeners=10
[02:11:47] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:11:47] [INFO] [LastChance] Threat detected: Bullet
[02:11:47] [INFO] [LastChance] Triggering last chance effect!
[02:11:47] [INFO] [LastChance] Starting last chance effect:
[02:11:47] [INFO] [LastChance]   - Time will be frozen (except player)
[02:11:47] [INFO] [LastChance]   - Duration: 6.0 real seconds
[02:11:47] [INFO] [LastChance]   - Sepia intensity: 0.70
[02:11:47] [INFO] [LastChance]   - Brightness: 0.60
[02:11:47] [INFO] [LastChance] Pushed bullet Bullet from distance 57.1 to 200.0
[02:11:47] [INFO] [LastChance] Pushed 1 threatening bullets away from player
[02:11:47] [INFO] [LastChance] Set player Player and all 18 children to PROCESS_MODE_ALWAYS
[02:11:47] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[02:11:47] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:11:47] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:11:47] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[02:11:47] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:11:47] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:11:47] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:11:47] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:11:47] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:11:47] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:11:47] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:11:47] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:11:47] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:11:47] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:11:47] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:11:47] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:11:47] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:11:47] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[02:11:47] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[02:11:47] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:11:47] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:11:47] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:11:47] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:11:47] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:11:47] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[02:11:47] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[02:11:47] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:11:47] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[02:11:47] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[02:11:47] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:11:47] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:11:47] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[02:11:47] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[02:11:47] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[02:11:47] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[02:11:47] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[02:11:47] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[02:11:47] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[02:11:47] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[02:11:47] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[02:11:47] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[02:11:47] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[02:11:47] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[02:11:47] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[02:11:47] [INFO] [LastChance] Skipping player node: Player
[02:11:47] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[02:11:47] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[02:11:47] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[02:11:50] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@1185
[02:11:50] [INFO] [LastChance] Registered frozen player bullet: @Area2D@1185
[02:11:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1107.687, 1606.76), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:11:50] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=8
[02:11:51] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[02:11:51] [ENEMY] [Enemy1] Player reloading state changed: false -> true
[02:11:51] [ENEMY] [Enemy2] Player reloading state changed: false -> true
[02:11:51] [ENEMY] [Enemy3] Player reloading state changed: false -> true
[02:11:51] [ENEMY] [Enemy4] Player reloading state changed: false -> true
[02:11:51] [ENEMY] [Enemy5] Player reloading state changed: false -> true
[02:11:51] [ENEMY] [Enemy6] Player reloading state changed: false -> true
[02:11:51] [ENEMY] [Enemy7] Player reloading state changed: false -> true
[02:11:51] [ENEMY] [Enemy8] Player reloading state changed: false -> true
[02:11:51] [ENEMY] [Enemy9] Player reloading state changed: false -> true
[02:11:51] [ENEMY] [Enemy10] Player reloading state changed: false -> true
[02:11:51] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(1208.151, 1690.001), source=PLAYER (Player), range=900, listeners=10
[02:11:51] [ENEMY] [Enemy10] Heard player RELOAD at (1208.151, 1690.001), intensity=0.04, distance=266
[02:11:51] [ENEMY] [Enemy10] Vulnerability sound triggered pursuit - transitioning from SEEKING_COVER to PURSUING
[02:11:51] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=7, self=0, below_threshold=2
[02:11:52] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[02:11:52] [INFO] [Player.Reload.Anim] LeftArm: pos=(9.483957, 4.7377434), target=(12, 6), base=(24, 6)
[02:11:52] [INFO] [Player.Reload.Anim] RightArm: pos=(-1.9983672, 7.3671875), target=(-2, 8), base=(-2, 6)
[02:11:52] [INFO] [Player.Reload.Anim] Phase changed to: PullBolt (duration: 0,35s)
[02:11:52] [ENEMY] [Enemy1] Player reloading state changed: true -> false
[02:11:52] [ENEMY] [Enemy2] Player reloading state changed: true -> false
[02:11:52] [ENEMY] [Enemy3] Player reloading state changed: true -> false
[02:11:52] [ENEMY] [Enemy4] Player reloading state changed: true -> false
[02:11:52] [ENEMY] [Enemy5] Player reloading state changed: true -> false
[02:11:52] [ENEMY] [Enemy6] Player reloading state changed: true -> false
[02:11:52] [ENEMY] [Enemy7] Player reloading state changed: true -> false
[02:11:52] [ENEMY] [Enemy8] Player reloading state changed: true -> false
[02:11:52] [ENEMY] [Enemy9] Player reloading state changed: true -> false
[02:11:52] [ENEMY] [Enemy10] Player reloading state changed: true -> false
[02:11:52] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[02:11:52] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[02:11:53] [INFO] [LastChance] Effect duration expired after 6.00 real seconds
[02:11:53] [INFO] [LastChance] Ending last chance effect
[02:11:53] [INFO] [LastChance] All process modes restored
[02:11:53] [INFO] [LastChance] Unfroze player bullet: @Area2D@1185
[02:11:53] [INFO] [LastChance] Restored original colors to 5 player sprites
[02:11:53] [INFO] [LastChance] Called player RefreshHealthVisual (C#)
[02:11:53] [ENEMY] [Enemy10] Pursuing vulnerability sound at (1208.151, 1690.001), distance=266
[02:11:53] [ENEMY] [Enemy10] Hit taken, health: 2/4
[02:11:54] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1049.073, 1446.81), shooter_id=1305317739889, bullet_pos=(891.252, 1454.058)
[02:11:54] [INFO] [Bullet] Using shooter_position, distance=157.987731933594
[02:11:54] [INFO] [Bullet] Distance to wall: 157.987731933594 (10.7576751811806% of viewport)
[02:11:54] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:11:54] [ENEMY] [Enemy10] State: PURSUING -> COMBAT
[02:11:54] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:11:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1111.146, 1667.897), source=ENEMY (Enemy10), range=1469, listeners=10
[02:11:54] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=7
[02:11:54] [INFO] [LastChance] Threat detected: Bullet
[02:11:54] [INFO] [LastChance] Effect already used this life
[02:11:54] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:11:54] [ENEMY] [Enemy10] State: COMBAT -> RETREATING
[02:11:54] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[02:11:54] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[02:11:54] [INFO] [PenultimateHit] Player died - ending penultimate effect
[02:11:54] [INFO] [LastChance] Player died
[02:11:54] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:11:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1105.226, 1663.299), source=ENEMY (Enemy10), range=1469, listeners=10
[02:11:54] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=7
[02:11:54] [INFO] [LastChance] Threat detected: Bullet
[02:11:54] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:11:54] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:11:55] [ENEMY] [Enemy10] State: RETREATING -> IN_COVER
[02:11:55] [ENEMY] [Enemy10] State: IN_COVER -> SUPPRESSED
[02:11:55] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[02:11:55] [INFO] [LastChance] Resetting all effects (scene change detected)
[02:11:55] [ENEMY] [Enemy1] Death animation component initialized
[02:11:55] [ENEMY] [Enemy2] Death animation component initialized
[02:11:55] [ENEMY] [Enemy3] Death animation component initialized
[02:11:55] [ENEMY] [Enemy4] Death animation component initialized
[02:11:55] [ENEMY] [Enemy5] Death animation component initialized
[02:11:55] [ENEMY] [Enemy6] Death animation component initialized
[02:11:55] [ENEMY] [Enemy7] Death animation component initialized
[02:11:55] [ENEMY] [Enemy8] Death animation component initialized
[02:11:55] [ENEMY] [Enemy9] Death animation component initialized
[02:11:55] [ENEMY] [Enemy10] Death animation component initialized
[02:11:55] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[02:11:55] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[02:11:55] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[02:11:55] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[02:11:55] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[02:11:55] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[02:11:55] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[02:11:55] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[02:11:55] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[02:11:55] [ENEMY] [Enemy10] Grenade system configured: offensive=2, flashbangs=0
[02:11:55] [INFO] [ScoreManager] Level started with 10 enemies
[02:11:55] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[02:11:55] [ENEMY] [Enemy1] Registered as sound listener
[02:11:55] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[02:11:55] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[02:11:55] [ENEMY] [Enemy2] Registered as sound listener
[02:11:55] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[02:11:55] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[02:11:55] [ENEMY] [Enemy3] Registered as sound listener
[02:11:55] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[02:11:55] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[02:11:55] [ENEMY] [Enemy4] Registered as sound listener
[02:11:55] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[02:11:55] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[02:11:55] [ENEMY] [Enemy5] Registered as sound listener
[02:11:55] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[02:11:55] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[02:11:55] [ENEMY] [Enemy6] Registered as sound listener
[02:11:55] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[02:11:55] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[02:11:55] [ENEMY] [Enemy7] Registered as sound listener
[02:11:55] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[02:11:55] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[02:11:55] [ENEMY] [Enemy8] Registered as sound listener
[02:11:55] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[02:11:55] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[02:11:55] [ENEMY] [Enemy9] Registered as sound listener
[02:11:55] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[02:11:55] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[02:11:55] [ENEMY] [Enemy10] Registered as sound listener
[02:11:55] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[02:11:55] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[02:11:55] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[02:11:55] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[02:11:55] [INFO] [LastChance] Found player: Player
[02:11:55] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[02:11:55] [INFO] [LastChance] Connected to player Damaged signal (C#)
[02:11:55] [INFO] [LastChance] Connected to player Died signal (C#)
[02:11:55] [INFO] [Player] Detecting weapon pose (frame 3)...
[02:11:55] [INFO] [Player] Detected weapon: Rifle (default pose)
[02:11:55] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[02:11:56] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[02:11:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1144.126, 1518.824), source=ENEMY (Enemy10), range=1469, listeners=20
[02:11:57] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[02:11:57] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:11:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1112.789, 1498.538), source=ENEMY (Enemy10), range=1469, listeners=10
[02:11:57] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:11:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1082.526, 1476.684), source=ENEMY (Enemy10), range=1469, listeners=10
[02:11:57] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:11:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1053.278, 1453.486), source=ENEMY (Enemy10), range=1469, listeners=10
[02:11:57] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:11:57] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[02:11:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1082.453, 1489.938), shooter_id=1629973644635, bullet_pos=(54.09595, 855.4669)
[02:11:57] [INFO] [Bullet] Using shooter_position, distance=1208.33361816406
[02:11:57] [INFO] [Bullet] Distance to wall: 1208.33361816406 (82.2776579903901% of viewport)
[02:11:57] [INFO] [Bullet] Distance-based penetration chance: 50.6760656778783%
[02:11:57] [INFO] [Bullet] Starting wall penetration at (54.09595, 855.4669)
[02:11:57] [INFO] [Bullet] Raycast backward hit penetrating body at distance 20.7036151885986
[02:11:57] [INFO] [Bullet] Body exited signal received for penetrating body
[02:11:57] [INFO] [Bullet] Exiting penetration at (14.38012, 830.9633) after traveling 41.6666679382324 pixels through wall
[02:11:57] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:11:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(996.2863, 1416.221), shooter_id=1629973644635, bullet_pos=(515.8112, 1016.51)
[02:11:57] [INFO] [Bullet] Using shooter_position, distance=624.999633789063
[02:11:57] [INFO] [Bullet] Distance to wall: 624.999633789063 (42.5573743376835% of viewport)
[02:11:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1052.675, 1466.525), shooter_id=1629973644635, bullet_pos=(58.21048, 780.1505)
[02:11:57] [INFO] [Bullet] Using shooter_position, distance=1208.33361816406
[02:11:57] [INFO] [Bullet] Distance to wall: 1208.33361816406 (82.2776579903901% of viewport)
[02:11:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1052.675, 1466.525), shooter_id=1629973644635, bullet_pos=(145.3969, 711.0485)
[02:11:57] [INFO] [Bullet] Using shooter_position, distance=1180.63488769531
[02:11:57] [INFO] [Bullet] Distance to wall: 1180.63488769531 (80.3916004992987% of viewport)
[02:11:57] [INFO] [Bullet] Distance-based penetration chance: 52.8764660841515%
[02:11:57] [INFO] [Bullet] Starting wall penetration at (145.3969, 711.0485)
[02:11:57] [INFO] [Bullet] Raycast backward hit penetrating body at distance 3.31007862091064
[02:11:57] [INFO] [Bullet] Max penetration distance exceeded: 70.8333435058594 >= 48
[02:11:57] [INFO] [Bullet] Body exited signal received for penetrating body
[02:11:57] [INFO] [Bullet] Exiting penetration at (204.8273, 663.9452) after traveling 70.8333435058594 pixels through wall
[02:11:57] [INFO] [Bullet] Damage multiplier after penetration: 0.45
[02:11:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1024.033, 1441.813), shooter_id=1629973644635, bullet_pos=(63.8414, 708.2591)
[02:11:57] [INFO] [Bullet] Using shooter_position, distance=1208.33312988281
[02:11:57] [INFO] [Bullet] Distance to wall: 1208.33312988281 (82.2776247424219% of viewport)
[02:11:57] [INFO] [Bullet] Distance-based penetration chance: 50.6761044671745%
[02:11:57] [INFO] [Bullet] Starting wall penetration at (63.8414, 708.2591)
[02:11:57] [INFO] [Bullet] Raycast backward hit penetrating body at distance 6.5965461730957
[02:11:57] [INFO] [Bullet] Body exited signal received for penetrating body
[02:11:57] [INFO] [Bullet] Exiting penetration at (26.75812, 679.9287) after traveling 41.6666679382324 pixels through wall
[02:11:57] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:11:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(996.2863, 1416.221), shooter_id=1629973644635, bullet_pos=(50.70379, 1459.773)
[02:11:57] [INFO] [Bullet] Using shooter_position, distance=946.585021972656
[02:11:57] [INFO] [Bullet] Distance to wall: 946.585021972656 (64.4547147624899% of viewport)
[02:11:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(996.2863, 1416.221), shooter_id=1629973644635, bullet_pos=(215.4577, 1599.04)
[02:11:58] [INFO] [Bullet] Using shooter_position, distance=801.945251464844
[02:11:58] [INFO] [Bullet] Distance to wall: 801.945251464844 (54.6059268195276% of viewport)
[02:11:58] [ENEMY] [Enemy10] State: PURSUING -> COMBAT
[02:11:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(931.8127, 1408.319), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:11:59] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=9
[02:11:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1036.981, 1439.72), source=ENEMY (Enemy10), range=1469, listeners=10
[02:11:59] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:11:59] [INFO] [LastChance] Threat detected: @Area2D@1449
[02:11:59] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:11:59] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:11:59] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[02:11:59] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[02:11:59] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[02:11:59] [ENEMY] [Enemy10] Hit taken, health: 1/2
[02:11:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1036.981, 1439.72), source=ENEMY (Enemy10), range=1469, listeners=10
[02:11:59] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:11:59] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[02:11:59] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[02:11:59] [INFO] [PenultimateHit] Player died - ending penultimate effect
[02:11:59] [INFO] [LastChance] Player died
[02:11:59] [ENEMY] [Enemy10] State: COMBAT -> RETREATING
[02:11:59] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[02:11:59] [INFO] [LastChance] Resetting all effects (scene change detected)
[02:11:59] [ENEMY] [Enemy1] Death animation component initialized
[02:11:59] [ENEMY] [Enemy2] Death animation component initialized
[02:11:59] [ENEMY] [Enemy3] Death animation component initialized
[02:11:59] [ENEMY] [Enemy4] Death animation component initialized
[02:11:59] [ENEMY] [Enemy5] Death animation component initialized
[02:11:59] [ENEMY] [Enemy6] Death animation component initialized
[02:11:59] [ENEMY] [Enemy7] Death animation component initialized
[02:11:59] [ENEMY] [Enemy8] Death animation component initialized
[02:11:59] [ENEMY] [Enemy9] Death animation component initialized
[02:11:59] [ENEMY] [Enemy10] Death animation component initialized
[02:11:59] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[02:11:59] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[02:11:59] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[02:11:59] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[02:11:59] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[02:11:59] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[02:11:59] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[02:11:59] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[02:11:59] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[02:11:59] [ENEMY] [Enemy10] Grenade system configured: offensive=2, flashbangs=0
[02:11:59] [INFO] [ScoreManager] Level started with 10 enemies
[02:11:59] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[02:11:59] [ENEMY] [Enemy1] Registered as sound listener
[02:11:59] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[02:11:59] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[02:11:59] [ENEMY] [Enemy2] Registered as sound listener
[02:11:59] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[02:11:59] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[02:11:59] [ENEMY] [Enemy3] Registered as sound listener
[02:11:59] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[02:11:59] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[02:11:59] [ENEMY] [Enemy4] Registered as sound listener
[02:11:59] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[02:11:59] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[02:11:59] [ENEMY] [Enemy5] Registered as sound listener
[02:11:59] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[02:11:59] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[02:11:59] [ENEMY] [Enemy6] Registered as sound listener
[02:11:59] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[02:11:59] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[02:11:59] [ENEMY] [Enemy7] Registered as sound listener
[02:11:59] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[02:11:59] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[02:11:59] [ENEMY] [Enemy8] Registered as sound listener
[02:11:59] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[02:11:59] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[02:11:59] [ENEMY] [Enemy9] Registered as sound listener
[02:11:59] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[02:11:59] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[02:11:59] [ENEMY] [Enemy10] Registered as sound listener
[02:11:59] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[02:11:59] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[02:11:59] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[02:11:59] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[02:11:59] [INFO] [LastChance] Found player: Player
[02:11:59] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[02:11:59] [INFO] [LastChance] Connected to player Damaged signal (C#)
[02:11:59] [INFO] [LastChance] Connected to player Died signal (C#)
[02:12:00] [INFO] [Player] Detecting weapon pose (frame 3)...
[02:12:00] [INFO] [Player] Detected weapon: Rifle (default pose)
[02:12:00] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[02:12:01] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[02:12:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1144.464, 1518.247), source=ENEMY (Enemy10), range=1469, listeners=20
[02:12:01] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[02:12:01] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:12:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1113.687, 1497.125), source=ENEMY (Enemy10), range=1469, listeners=10
[02:12:01] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:12:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1084.087, 1474.38), source=ENEMY (Enemy10), range=1469, listeners=10
[02:12:01] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:12:01] [INFO] [LastChance] Threat detected: @Area2D@1703
[02:12:01] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:12:01] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:12:01] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[02:12:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1026.724, 1437.665), shooter_id=1901546440357, bullet_pos=(510.0757, 1016.335)
[02:12:02] [INFO] [Bullet] Using shooter_position, distance=666.666809082031
[02:12:02] [INFO] [Bullet] Distance to wall: 666.666809082031 (45.394568922561% of viewport)
[02:12:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1083.473, 1487.915), shooter_id=1901546440357, bullet_pos=(35.34093, 806.7988)
[02:12:02] [INFO] [Bullet] Using shooter_position, distance=1249.99987792969
[02:12:02] [INFO] [Bullet] Distance to wall: 1249.99987792969 (85.1147902353272% of viewport)
[02:12:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1083.473, 1487.915), shooter_id=1901546440357, bullet_pos=(227.1324, 704.2205)
[02:12:02] [INFO] [Bullet] Using shooter_position, distance=1160.81689453125
[02:12:02] [INFO] [Bullet] Distance to wall: 1160.81689453125 (79.0421569026817% of viewport)
[02:12:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1054.534, 1463.366), shooter_id=1901546440357, bullet_pos=(46.99615, 723.5248)
[02:12:02] [INFO] [Bullet] Using shooter_position, distance=1249.99938964844
[02:12:02] [INFO] [Bullet] Distance to wall: 1249.99938964844 (85.114756987359% of viewport)
[02:12:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1083.473, 1487.915), shooter_id=1901546440357, bullet_pos=(505.4906, 892.6633)
[02:12:02] [INFO] [Bullet] Using shooter_position, distance=829.69140625
[02:12:02] [INFO] [Bullet] Distance to wall: 829.69140625 (56.4952135195286% of viewport)
[02:12:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1026.724, 1437.665), shooter_id=1901546440357, bullet_pos=(64.76775, 1527.483)
[02:12:02] [INFO] [Bullet] Using shooter_position, distance=966.140441894531
[02:12:02] [INFO] [Bullet] Distance to wall: 966.140441894531 (65.7862792642168% of viewport)
[02:12:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1026.724, 1437.665), shooter_id=1901546440357, bullet_pos=(122.2451, 1603.514)
[02:12:02] [INFO] [Bullet] Using shooter_position, distance=919.558776855469
[02:12:02] [INFO] [Bullet] Distance to wall: 919.558776855469 (62.614448035578% of viewport)
[02:12:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1054.534, 1463.366), shooter_id=1901546440357, bullet_pos=(502.4312, 378.0084)
[02:12:02] [INFO] [Bullet] Using shooter_position, distance=1217.71057128906
[02:12:02] [INFO] [Bullet] Distance to wall: 1217.71057128906 (82.9161519713677% of viewport)
[02:12:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1054.534, 1463.366), shooter_id=1901546440357, bullet_pos=(311.6393, 277.3229)
[02:12:02] [INFO] [Bullet] Using shooter_position, distance=1399.49694824219
[02:12:02] [INFO] [Bullet] Distance to wall: 1399.49694824219 (95.2943206537775% of viewport)
[02:12:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1026.724, 1437.665), shooter_id=1901546440357, bullet_pos=(280.5983, 1396.185)
[02:12:02] [INFO] [Bullet] Using shooter_position, distance=747.277893066406
[02:12:02] [INFO] [Bullet] Distance to wall: 747.277893066406 (50.8835258617699% of viewport)
[02:12:02] [INFO] [Bullet] Distance-based penetration chance: 87.3025531612685%
[02:12:02] [INFO] [Bullet] Starting wall penetration at (280.5983, 1396.185)
[02:12:02] [INFO] [Bullet] Raycast backward hit penetrating body at distance 20.2889385223389
[02:12:02] [INFO] [Bullet] Body exited signal received for penetrating body
[02:12:02] [INFO] [Bullet] Exiting penetration at (299.1651, 1371.876) after traveling 25.5885429382324 pixels through wall
[02:12:02] [INFO] [Bullet] Damage multiplier after penetration: 0.1125
[02:12:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1083.473, 1487.915), shooter_id=1901546440357, bullet_pos=(66.44145, 1165.222)
[02:12:02] [INFO] [Bullet] Using shooter_position, distance=1066.99768066406
[02:12:02] [INFO] [Bullet] Distance to wall: 1066.99768066406 (72.6538341121429% of viewport)
[02:12:02] [INFO] [Bullet] Distance-based penetration chance: 61.9038602025%
[02:12:02] [INFO] [Bullet] Starting wall penetration at (66.44145, 1165.222)
[02:12:02] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[02:12:02] [INFO] [Bullet] Exiting penetration at (40.45338, 1181.355) after traveling 25.5885467529297 pixels through wall
[02:12:02] [INFO] [Bullet] Damage multiplier after penetration: 0.1125
[02:12:02] [ENEMY] [Enemy10] State: PURSUING -> COMBAT
[02:12:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1054.534, 1463.366), shooter_id=1901546440357, bullet_pos=(58.06699, 410.6209)
[02:12:02] [INFO] [Bullet] Using shooter_position, distance=1449.55834960938
[02:12:02] [INFO] [Bullet] Distance to wall: 1449.55834960938 (98.7030935276692% of viewport)
[02:12:02] [INFO] [Bullet] Distance-based penetration chance: 31.5130575510526%
[02:12:02] [INFO] [Bullet] Penetration failed (distance roll)
[02:12:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(905.3248, 1389.996), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:12:02] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=9
[02:12:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1063.663, 1457.237), source=ENEMY (Enemy10), range=1469, listeners=10
[02:12:02] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:12:02] [INFO] [LastChance] Threat detected: @Area2D@1716
[02:12:02] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:12:02] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:12:02] [ENEMY] [Enemy10] Hit taken, health: 3/4
[02:12:02] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[02:12:02] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[02:12:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(910.518, 1389.934), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:12:03] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=9
[02:12:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1063.663, 1457.237), source=ENEMY (Enemy10), range=1469, listeners=10
[02:12:03] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:12:03] [INFO] [LastChance] Threat detected: @Area2D@1718
[02:12:03] [INFO] [LastChance] Player health is 3.0 - effect requires exactly 1 HP or less but alive
[02:12:03] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:12:03] [ENEMY] [Enemy10] Hit taken, health: 2/4
[02:12:03] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[02:12:03] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[02:12:03] [ENEMY] [Enemy10] State: COMBAT -> RETREATING
[02:12:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1065.181, 1448.84), source=ENEMY (Enemy10), range=1469, listeners=10
[02:12:03] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:12:03] [INFO] [LastChance] Threat detected: Bullet
[02:12:03] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[02:12:03] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:12:03] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[02:12:03] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[02:12:03] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[02:12:03] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:12:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1069.357, 1425.748), source=ENEMY (Enemy10), range=1469, listeners=10
[02:12:03] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:12:03] [INFO] [LastChance] Threat detected: Bullet
[02:12:03] [INFO] [LastChance] Triggering last chance effect!
[02:12:03] [INFO] [LastChance] Starting last chance effect:
[02:12:03] [INFO] [LastChance]   - Time will be frozen (except player)
[02:12:03] [INFO] [LastChance]   - Duration: 6.0 real seconds
[02:12:03] [INFO] [LastChance]   - Sepia intensity: 0.70
[02:12:03] [INFO] [LastChance]   - Brightness: 0.60
[02:12:03] [INFO] [LastChance] Pushed bullet Bullet from distance 45.5 to 200.0
[02:12:03] [INFO] [LastChance] Pushed 1 threatening bullets away from player
[02:12:03] [INFO] [LastChance] Set player Player and all 18 children to PROCESS_MODE_ALWAYS
[02:12:03] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[02:12:03] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:12:03] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:12:03] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[02:12:03] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:12:03] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:12:03] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:12:03] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:12:03] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:12:03] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:12:03] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:12:03] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:12:03] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:12:03] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:12:03] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:12:03] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:12:03] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:12:03] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[02:12:03] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[02:12:03] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:12:03] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:12:03] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:12:03] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:12:03] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:12:03] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[02:12:03] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[02:12:03] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:12:03] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[02:12:03] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[02:12:03] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:12:03] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:12:03] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[02:12:03] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[02:12:03] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[02:12:03] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[02:12:03] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[02:12:03] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[02:12:03] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[02:12:03] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[02:12:03] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[02:12:03] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[02:12:03] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[02:12:03] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[02:12:03] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[02:12:03] [INFO] [LastChance] Skipping player node: Player
[02:12:03] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[02:12:03] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[02:12:03] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[02:12:05] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[02:12:05] [ENEMY] [Enemy1] Player reloading state changed: false -> true
[02:12:05] [ENEMY] [Enemy2] Player reloading state changed: false -> true
[02:12:05] [ENEMY] [Enemy3] Player reloading state changed: false -> true
[02:12:05] [ENEMY] [Enemy4] Player reloading state changed: false -> true
[02:12:05] [ENEMY] [Enemy5] Player reloading state changed: false -> true
[02:12:05] [ENEMY] [Enemy6] Player reloading state changed: false -> true
[02:12:05] [ENEMY] [Enemy7] Player reloading state changed: false -> true
[02:12:05] [ENEMY] [Enemy8] Player reloading state changed: false -> true
[02:12:05] [ENEMY] [Enemy9] Player reloading state changed: false -> true
[02:12:05] [ENEMY] [Enemy10] Player reloading state changed: false -> true
[02:12:05] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(1209.744, 1690.065), source=PLAYER (Player), range=900, listeners=10
[02:12:05] [ENEMY] [Enemy10] Heard player RELOAD at (1209.744, 1690.065), intensity=0.03, distance=301
[02:12:05] [ENEMY] [Enemy10] Vulnerability sound triggered pursuit - transitioning from RETREATING to PURSUING
[02:12:05] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=7, self=0, below_threshold=2
[02:12:05] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[02:12:06] [INFO] [Player.Reload.Anim] Phase changed to: PullBolt (duration: 0,35s)
[02:12:06] [ENEMY] [Enemy1] Player reloading state changed: true -> false
[02:12:06] [ENEMY] [Enemy2] Player reloading state changed: true -> false
[02:12:06] [ENEMY] [Enemy3] Player reloading state changed: true -> false
[02:12:06] [ENEMY] [Enemy4] Player reloading state changed: true -> false
[02:12:06] [ENEMY] [Enemy5] Player reloading state changed: true -> false
[02:12:06] [ENEMY] [Enemy6] Player reloading state changed: true -> false
[02:12:06] [ENEMY] [Enemy7] Player reloading state changed: true -> false
[02:12:06] [ENEMY] [Enemy8] Player reloading state changed: true -> false
[02:12:06] [ENEMY] [Enemy9] Player reloading state changed: true -> false
[02:12:06] [ENEMY] [Enemy10] Player reloading state changed: true -> false
[02:12:06] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[02:12:06] [INFO] [Player.Reload.Anim] LeftArm: pos=(21.761581, 5.9471846), target=(24, 6), base=(24, 6)
[02:12:06] [INFO] [Player.Reload.Anim] RightArm: pos=(-2.0001593, 6.3290834), target=(-2, 6), base=(-2, 6)
[02:12:06] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[02:12:09] [INFO] [LastChance] Effect duration expired after 6.00 real seconds
[02:12:09] [INFO] [LastChance] Ending last chance effect
[02:12:09] [INFO] [LastChance] All process modes restored
[02:12:09] [INFO] [LastChance] Restored original colors to 5 player sprites
[02:12:09] [INFO] [LastChance] Called player RefreshHealthVisual (C#)
[02:12:09] [ENEMY] [Enemy10] Pursuing vulnerability sound at (1209.744, 1690.065), distance=301
[02:12:09] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1001.4, 1429.279), shooter_id=1901546440357, bullet_pos=(904.375, 1438.557)
[02:12:09] [INFO] [Bullet] Using shooter_position, distance=97.4673233032227
[02:12:09] [INFO] [Bullet] Distance to wall: 97.4673233032227 (6.63672927032019% of viewport)
[02:12:09] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:12:09] [INFO] [Bullet] Starting wall penetration at (904.375, 1438.557)
[02:12:09] [INFO] [Bullet] Raycast backward hit penetrating body at distance 30.2591915130615
[02:12:09] [INFO] [Bullet] Body exited signal received for penetrating body
[02:12:09] [INFO] [Bullet] Exiting penetration at (857.8008, 1435.62) after traveling 41.6666717529297 pixels through wall
[02:12:09] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:12:10] [ENEMY] [Enemy10] State: PURSUING -> COMBAT
[02:12:10] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:12:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1111.056, 1668.429), source=ENEMY (Enemy10), range=1469, listeners=10
[02:12:10] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=7
[02:12:10] [INFO] [LastChance] Threat detected: Bullet
[02:12:10] [INFO] [LastChance] Effect already used this life
[02:12:10] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:12:10] [ENEMY] [Enemy10] State: COMBAT -> RETREATING
[02:12:10] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[02:12:10] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[02:12:10] [INFO] [PenultimateHit] Player died - ending penultimate effect
[02:12:10] [INFO] [LastChance] Player died
[02:12:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1209.744, 1708.075), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:12:10] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=8
[02:12:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1103.966, 1662.547), source=ENEMY (Enemy10), range=1469, listeners=10
[02:12:10] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=7
[02:12:10] [INFO] [LastChance] Threat detected: @Area2D@1721
[02:12:10] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:12:10] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:12:10] [ENEMY] [Enemy10] Hit taken, health: 1/4
[02:12:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1104.326, 1652.42), source=ENEMY (Enemy10), range=1469, listeners=10
[02:12:10] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=7
[02:12:10] [INFO] [LastChance] Threat detected: Bullet
[02:12:10] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:12:10] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:12:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1209.744, 1731.941), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:12:10] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=7
[02:12:10] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:12:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1104.855, 1637.496), source=ENEMY (Enemy10), range=1469, listeners=10
[02:12:10] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=8
[02:12:10] [INFO] [LastChance] Threat detected: Bullet
[02:12:10] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:12:10] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:12:10] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1209.7438, 1731.9412), shooter_id=1902368524173, bullet_pos=(898.5659, 1638.1688)
[02:12:10] [INFO] [Bullet] Using shooter_position, distance=324,99985
[02:12:10] [INFO] [Bullet] Distance to wall: 324,99985 (22,129839% of viewport)
[02:12:10] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:12:10] [ENEMY] [Enemy10] State: RETREATING -> IN_COVER
[02:12:10] [ENEMY] [Enemy10] Grenade trigger: critical health (1 HP)
[02:12:10] [ENEMY] [Enemy10] Preparing to throw frag grenade at (1209.744, 1781.577)
[02:12:10] [ENEMY] [Enemy10] State: IN_COVER -> THROWING_GRENADE
[02:12:10] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[02:12:10] [INFO] [LastChance] Resetting all effects (scene change detected)
[02:12:10] [ENEMY] [Enemy1] Death animation component initialized
[02:12:10] [ENEMY] [Enemy2] Death animation component initialized
[02:12:10] [ENEMY] [Enemy3] Death animation component initialized
[02:12:10] [ENEMY] [Enemy4] Death animation component initialized
[02:12:10] [ENEMY] [Enemy5] Death animation component initialized
[02:12:10] [ENEMY] [Enemy6] Death animation component initialized
[02:12:10] [ENEMY] [Enemy7] Death animation component initialized
[02:12:10] [ENEMY] [Enemy8] Death animation component initialized
[02:12:10] [ENEMY] [Enemy9] Death animation component initialized
[02:12:10] [ENEMY] [Enemy10] Death animation component initialized
[02:12:10] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[02:12:10] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[02:12:10] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[02:12:10] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[02:12:10] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[02:12:10] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[02:12:10] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[02:12:10] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[02:12:10] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[02:12:10] [ENEMY] [Enemy10] Grenade system configured: offensive=2, flashbangs=0
[02:12:10] [INFO] [ScoreManager] Level started with 10 enemies
[02:12:10] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[02:12:10] [ENEMY] [Enemy1] Registered as sound listener
[02:12:10] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[02:12:10] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[02:12:10] [ENEMY] [Enemy2] Registered as sound listener
[02:12:10] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[02:12:10] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[02:12:10] [ENEMY] [Enemy3] Registered as sound listener
[02:12:10] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[02:12:10] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[02:12:10] [ENEMY] [Enemy4] Registered as sound listener
[02:12:10] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[02:12:10] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[02:12:10] [ENEMY] [Enemy5] Registered as sound listener
[02:12:10] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[02:12:10] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[02:12:10] [ENEMY] [Enemy6] Registered as sound listener
[02:12:10] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[02:12:10] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[02:12:10] [ENEMY] [Enemy7] Registered as sound listener
[02:12:10] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[02:12:10] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[02:12:10] [ENEMY] [Enemy8] Registered as sound listener
[02:12:10] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[02:12:10] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[02:12:10] [ENEMY] [Enemy9] Registered as sound listener
[02:12:10] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[02:12:10] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[02:12:10] [ENEMY] [Enemy10] Registered as sound listener
[02:12:10] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[02:12:10] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[02:12:10] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[02:12:10] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[02:12:10] [INFO] [LastChance] Found player: Player
[02:12:10] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[02:12:10] [INFO] [LastChance] Connected to player Damaged signal (C#)
[02:12:10] [INFO] [LastChance] Connected to player Died signal (C#)
[02:12:10] [INFO] [Player] Detecting weapon pose (frame 3)...
[02:12:10] [INFO] [Player] Detected weapon: Rifle (default pose)
[02:12:10] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[02:12:11] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[02:12:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(577.9398, 1216.423), source=PLAYER (AssaultRifle), range=1469, listeners=20
[02:12:11] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[02:12:11] [ENEMY] [Enemy3] Heard gunshot at (577.9398, 1216.423), source_type=0, intensity=0.01, distance=482
[02:12:11] [ENEMY] [Enemy4] Heard gunshot at (577.9398, 1216.423), source_type=0, intensity=0.02, distance=387
[02:12:11] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=6
[02:12:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(605.1635, 1189.2), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:12:12] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=6
[02:12:12] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(577.9398, 1216.423), shooter_id=2208905038757, bullet_pos=(887.7225, 1396.5275)
[02:12:12] [INFO] [Bullet] Using shooter_position, distance=358,33353
[02:12:12] [INFO] [Bullet] Distance to wall: 358,33353 (24,39959% of viewport)
[02:12:12] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:12:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1144.243, 1518.629), source=ENEMY (Enemy10), range=1469, listeners=10
[02:12:12] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:12:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(632.3872, 1161.976), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:12:12] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=6
[02:12:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1113.252, 1497.822), source=ENEMY (Enemy10), range=1469, listeners=10
[02:12:12] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:12:12] [ENEMY] [Enemy10] Hit taken, health: 1/2
[02:12:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(659.6109, 1134.753), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:12:12] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=7
[02:12:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1084.493, 1475.737), source=ENEMY (Enemy10), range=1469, listeners=10
[02:12:12] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:12:12] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[02:12:12] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(577.9398, 1216.423), shooter_id=2208905038757, bullet_pos=(1511.5575, 982.4543)
[02:12:12] [INFO] [Bullet] Using shooter_position, distance=962,4881
[02:12:12] [INFO] [Bullet] Distance to wall: 962,4881 (65,53758% of viewport)
[02:12:12] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[02:12:12] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[02:12:12] [ENEMY] [Enemy10] State: PURSUING -> RETREATING
[02:12:12] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(632.3872, 1161.9764), shooter_id=2208905038757, bullet_pos=(1253.4077, 1639.412)
[02:12:12] [INFO] [Bullet] Using shooter_position, distance=783,3334
[02:12:12] [INFO] [Bullet] Distance to wall: 783,3334 (53,33861% of viewport)
[02:12:12] [ENEMY] [Enemy10] Hit taken, health: 0/2
[02:12:12] [ENEMY] [Enemy10] Enemy died (ricochet: false, penetration: false)
[02:12:12] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[02:12:12] [INFO] [SoundPropagation] Unregistered listener: Enemy10 (remaining: 9)
[02:12:12] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[02:12:12] [ENEMY] [Enemy10] Death animation started with hit direction: (1, 0)
[02:12:12] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(577.9398, 1216.423), shooter_id=2208905038757, bullet_pos=(1376.259, 873.7097)
[02:12:12] [INFO] [Bullet] Using shooter_position, distance=868,77264
[02:12:12] [INFO] [Bullet] Distance to wall: 868,77264 (59,15633% of viewport)
[02:12:12] [INFO] [Bullet] Distance-based penetration chance: 77,650955%
[02:12:12] [INFO] [Bullet] Starting wall penetration at (1376.259, 873.7097)
[02:12:12] [INFO] [Bullet] Raycast backward hit penetrating body at distance 13,355389
[02:12:12] [INFO] [Bullet] Body exited signal received for penetrating body
[02:12:12] [INFO] [Bullet] Exiting penetration at (1353.5902, 855.4899) after traveling 24,083332 pixels through wall
[02:12:12] [INFO] [Bullet] Damage multiplier after penetration: 0,225
[02:12:12] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1027.496, 1438.563), shooter_id=2208082955500, bullet_pos=(514.5234, 1012.765)
[02:12:12] [INFO] [Bullet] Using shooter_position, distance=666.6669921875
[02:12:12] [INFO] [Bullet] Distance to wall: 666.6669921875 (45.3945813905491% of viewport)
[02:12:12] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1027.496, 1438.563), shooter_id=2208082955500, bullet_pos=(511.208, 1016.508)
[02:12:12] [INFO] [Bullet] Using shooter_position, distance=666.846374511719
[02:12:12] [INFO] [Bullet] Distance to wall: 666.846374511719 (45.4067958628601% of viewport)
[02:12:12] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1082.919, 1488.984), shooter_id=2208082955500, bullet_pos=(41.29581, 828.5801)
[02:12:12] [INFO] [Bullet] Using shooter_position, distance=1233.33325195313
[02:12:12] [INFO] [Bullet] Distance to wall: 1233.33325195313 (83.9799290253603% of viewport)
[02:12:12] [INFO] [Bullet] Distance-based penetration chance: 48.6900828037463%
[02:12:12] [INFO] [Bullet] Starting wall penetration at (41.29581, 828.5801)
[02:12:12] [INFO] [Bullet] Raycast backward hit penetrating body at distance 27.3266334533691
[02:12:12] [INFO] [Bullet] Body exited signal received for penetrating body
[02:12:12] [INFO] [Bullet] Exiting penetration at (8.921043, 808.054) after traveling 33.3333358764648 pixels through wall
[02:12:12] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:12:12] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1053.883, 1464.421), shooter_id=2208082955500, bullet_pos=(48.54385, 735.7045)
[02:12:12] [INFO] [Bullet] Using shooter_position, distance=1241.66625976563
[02:12:12] [INFO] [Bullet] Distance to wall: 1241.66625976563 (84.5473388503636% of viewport)
[02:12:12] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1053.883, 1464.421), shooter_id=2208082955500, bullet_pos=(100.6525, 702.7278)
[02:12:12] [INFO] [Bullet] Using shooter_position, distance=1220.17431640625
[02:12:12] [INFO] [Bullet] Distance to wall: 1220.17431640625 (83.0839129068248% of viewport)
[02:12:12] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1053.883, 1464.421), shooter_id=2208082955500, bullet_pos=(55.76935, 674.2288)
[02:12:12] [INFO] [Bullet] Using shooter_position, distance=1273.04162597656
[02:12:12] [INFO] [Bullet] Distance to wall: 1273.04162597656 (86.6837452298775% of viewport)
[02:12:12] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1027.496, 1438.563), shooter_id=2208082955500, bullet_pos=(312.8292, 708.6362)
[02:12:12] [INFO] [Bullet] Using shooter_position, distance=1021.53912353516
[02:12:12] [INFO] [Bullet] Distance to wall: 1021.53912353516 (69.5584773663199% of viewport)
[02:12:12] [INFO] [Bullet] Distance-based penetration chance: 65.5151097392934%
[02:12:12] [INFO] [Bullet] Starting wall penetration at (312.8292, 708.6362)
[02:12:12] [INFO] [Bullet] Raycast backward hit penetrating body at distance 4.53405141830444
[02:12:12] [INFO] [Bullet] Max penetration distance exceeded: 48.1666679382324 >= 48
[02:12:12] [INFO] [Bullet] Body exited signal received for penetrating body
[02:12:12] [INFO] [Bullet] Exiting penetration at (284.0315, 663.9441) after traveling 48.1666679382324 pixels through wall
[02:12:12] [INFO] [Bullet] Damage multiplier after penetration: 0.225
[02:12:13] [ENEMY] [Enemy10] Ragdoll activated
[02:12:13] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[02:12:13] [ENEMY] [Enemy2] Hit taken, health: 3/4
[02:12:13] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[02:12:13] [INFO] [LastChance] Resetting all effects (scene change detected)
[02:12:13] [ENEMY] [Enemy1] Death animation component initialized
[02:12:13] [ENEMY] [Enemy2] Death animation component initialized
[02:12:13] [ENEMY] [Enemy3] Death animation component initialized
[02:12:13] [ENEMY] [Enemy4] Death animation component initialized
[02:12:13] [ENEMY] [Enemy5] Death animation component initialized
[02:12:13] [ENEMY] [Enemy6] Death animation component initialized
[02:12:13] [ENEMY] [Enemy7] Death animation component initialized
[02:12:13] [ENEMY] [Enemy8] Death animation component initialized
[02:12:13] [ENEMY] [Enemy9] Death animation component initialized
[02:12:13] [ENEMY] [Enemy10] Death animation component initialized
[02:12:13] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[02:12:13] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[02:12:13] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[02:12:13] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[02:12:13] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[02:12:13] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[02:12:13] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[02:12:13] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[02:12:13] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[02:12:13] [ENEMY] [Enemy10] Grenade system configured: offensive=2, flashbangs=0
[02:12:13] [INFO] [ScoreManager] Level started with 10 enemies
[02:12:13] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[02:12:13] [ENEMY] [Enemy1] Registered as sound listener
[02:12:13] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[02:12:13] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[02:12:13] [ENEMY] [Enemy2] Registered as sound listener
[02:12:13] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[02:12:13] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[02:12:13] [ENEMY] [Enemy3] Registered as sound listener
[02:12:13] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[02:12:13] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[02:12:13] [ENEMY] [Enemy4] Registered as sound listener
[02:12:13] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[02:12:13] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[02:12:13] [ENEMY] [Enemy5] Registered as sound listener
[02:12:13] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[02:12:13] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[02:12:13] [ENEMY] [Enemy6] Registered as sound listener
[02:12:13] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[02:12:13] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[02:12:13] [ENEMY] [Enemy7] Registered as sound listener
[02:12:13] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[02:12:13] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[02:12:13] [ENEMY] [Enemy8] Registered as sound listener
[02:12:13] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[02:12:13] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[02:12:13] [ENEMY] [Enemy9] Registered as sound listener
[02:12:13] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[02:12:13] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[02:12:13] [ENEMY] [Enemy10] Registered as sound listener
[02:12:13] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[02:12:13] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[02:12:13] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[02:12:13] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[02:12:13] [INFO] [LastChance] Found player: Player
[02:12:13] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[02:12:13] [INFO] [LastChance] Connected to player Damaged signal (C#)
[02:12:13] [INFO] [LastChance] Connected to player Died signal (C#)
[02:12:13] [INFO] [Player] Detecting weapon pose (frame 3)...
[02:12:13] [INFO] [Player] Detected weapon: Rifle (default pose)
[02:12:13] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[02:12:13] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:12:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1171.827, 1534.83), source=ENEMY (Enemy10), range=1469, listeners=19
[02:12:14] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[02:12:14] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=8
[02:12:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1139.849, 1515.572), source=ENEMY (Enemy10), range=1469, listeners=10
[02:12:14] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:12:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1109, 1494.554), source=ENEMY (Enemy10), range=1469, listeners=10
[02:12:14] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:12:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1079.481, 1471.708), source=ENEMY (Enemy10), range=1469, listeners=10
[02:12:14] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:12:14] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[02:12:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(653.4711, 1079.524), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:12:14] [ENEMY] [Enemy3] Heard gunshot at (653.4711, 1079.524), source_type=0, intensity=0.02, distance=333
[02:12:14] [ENEMY] [Enemy4] Heard gunshot at (653.4711, 1079.524), source_type=0, intensity=0.05, distance=232
[02:12:14] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=7
[02:12:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1109.217, 1508.028), shooter_id=2357685389570, bullet_pos=(60.15872, 908.4052)
[02:12:14] [INFO] [Bullet] Using shooter_position, distance=1208.33374023438
[02:12:14] [INFO] [Bullet] Distance to wall: 1208.33374023438 (82.2776663023821% of viewport)
[02:12:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(680.6948, 1052.301), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:12:14] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=7
[02:12:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1078.776, 1485.422), shooter_id=2357685389570, bullet_pos=(63.65689, 829.98)
[02:12:14] [INFO] [Bullet] Using shooter_position, distance=1208.33349609375
[02:12:14] [INFO] [Bullet] Distance to wall: 1208.33349609375 (82.277649678398% of viewport)
[02:12:14] [INFO] [Bullet] Distance-based penetration chance: 50.6760753752023%
[02:12:14] [INFO] [Bullet] Penetration failed (distance roll)
[02:12:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1022.576, 1434.394), shooter_id=2357685389570, bullet_pos=(510.6497, 1007.339)
[02:12:14] [INFO] [Bullet] Using shooter_position, distance=666.666137695313
[02:12:14] [INFO] [Bullet] Distance to wall: 666.666137695313 (45.3945232066047% of viewport)
[02:12:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1022.576, 1434.394), shooter_id=2357685389570, bullet_pos=(506.9658, 1010.72)
[02:12:14] [INFO] [Bullet] Using shooter_position, distance=667.347778320313
[02:12:14] [INFO] [Bullet] Distance to wall: 667.347778320313 (45.4409373701876% of viewport)
[02:12:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(653.4711, 1079.524), shooter_id=2358507473448, bullet_pos=(1180.9487, 1647.3191)
[02:12:14] [INFO] [Bullet] Using shooter_position, distance=774,99927
[02:12:14] [INFO] [Bullet] Distance to wall: 774,99927 (52,771126% of viewport)
[02:12:14] [INFO] [Bullet] Distance-based penetration chance: 85,10035%
[02:12:14] [INFO] [Bullet] Penetration failed (distance roll)
[02:12:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1049.792, 1460.878), shooter_id=2357685389570, bullet_pos=(41.16091, 722.5273)
[02:12:14] [INFO] [Bullet] Using shooter_position, distance=1249.99938964844
[02:12:14] [INFO] [Bullet] Distance to wall: 1249.99938964844 (85.114756987359% of viewport)
[02:12:14] [ENEMY] [Enemy10] Hit taken, health: 3/4
[02:12:14] [ENEMY] [Enemy10] State: PURSUING -> RETREATING
[02:12:14] [ENEMY] [Enemy10] State: RETREATING -> IN_COVER
[02:12:14] [ENEMY] [Enemy10] State: IN_COVER -> SUPPRESSED
[02:12:15] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1049.792, 1460.878), shooter_id=2357685389570, bullet_pos=(339.4095, 464.1789)
[02:12:15] [INFO] [Bullet] Using shooter_position, distance=1223.94958496094
[02:12:15] [INFO] [Bullet] Distance to wall: 1223.94958496094 (83.3409778848202% of viewport)
[02:12:15] [INFO] [Bullet] Distance-based penetration chance: 49.4355258010431%
[02:12:15] [INFO] [Bullet] Starting wall penetration at (339.4095, 464.1789)
[02:12:15] [INFO] [Bullet] Raycast backward hit penetrating body at distance 32.5521850585938
[02:12:15] [INFO] [Bullet] Body exited signal received for penetrating body
[02:12:15] [INFO] [Bullet] Exiting penetration at (364.6048, 442.3544) after traveling 28.3333339691162 pixels through wall
[02:12:15] [INFO] [Bullet] Damage multiplier after penetration: 0.45
[02:12:15] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[02:12:15] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[02:12:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(862.569, 1066.688), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:12:17] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=0, below_threshold=7
[02:12:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(862.56903, 1066.6877), shooter_id=2358507473448, bullet_pos=(1189.5155, 1387.8976)
[02:12:17] [INFO] [Bullet] Using shooter_position, distance=458,33368
[02:12:17] [INFO] [Bullet] Distance to wall: 458,33368 (31,208784% of viewport)
[02:12:17] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:12:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(862.56903, 1066.6877), shooter_id=2358507473448, bullet_pos=(1588.9368, 978.9177)
[02:12:17] [INFO] [Bullet] Using shooter_position, distance=731,6513
[02:12:17] [INFO] [Bullet] Distance to wall: 731,6513 (49,819485% of viewport)
[02:12:17] [INFO] [Bullet] Distance-based penetration chance: 88,54394%
[02:12:17] [INFO] [Bullet] Starting wall penetration at (1588.9368, 978.9177)
[02:12:17] [INFO] [Bullet] Raycast backward hit penetrating body at distance 31,811628
[02:12:17] [INFO] [Bullet] Body exited signal received for penetrating body
[02:12:17] [INFO] [Bullet] Exiting penetration at (1612.2267, 955.0705) after traveling 28,333334 pixels through wall
[02:12:17] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[02:12:17] [ENEMY] [Enemy10] State: SUPPRESSED -> IN_COVER
[02:12:17] [ENEMY] [Enemy10] State: IN_COVER -> PURSUING
[02:12:18] [ENEMY] [Enemy4] FLANKING started: target=(855.6245, 1358.986), side=left, pos=(827.6393, 960.6987)
[02:12:18] [ENEMY] [Enemy4] State: PURSUING -> FLANKING
[02:12:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1025.9, 1365.934), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:12:19] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=8
[02:12:19] [ENEMY] [Enemy10] Hit taken, health: 2/4
[02:12:20] [ENEMY] [Enemy10] State: PURSUING -> RETREATING
[02:12:20] [ENEMY] [Enemy10] State: RETREATING -> IN_COVER
[02:12:20] [ENEMY] [Enemy10] State: IN_COVER -> SUPPRESSED
[02:12:20] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[02:12:20] [ENEMY] [Enemy1] Player reloading state changed: false -> true
[02:12:20] [ENEMY] [Enemy2] Player reloading state changed: false -> true
[02:12:20] [ENEMY] [Enemy3] Player reloading state changed: false -> true
[02:12:20] [ENEMY] [Enemy4] Player reloading state changed: false -> true
[02:12:20] [ENEMY] [Enemy5] Player reloading state changed: false -> true
[02:12:20] [ENEMY] [Enemy6] Player reloading state changed: false -> true
[02:12:20] [ENEMY] [Enemy7] Player reloading state changed: false -> true
[02:12:20] [ENEMY] [Enemy8] Player reloading state changed: false -> true
[02:12:20] [ENEMY] [Enemy9] Player reloading state changed: false -> true
[02:12:20] [ENEMY] [Enemy10] Player reloading state changed: false -> true
[02:12:20] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(1024.378, 1359.934), source=PLAYER (Player), range=900, listeners=10
[02:12:20] [ENEMY] [Enemy3] Heard player RELOAD at (1024.378, 1359.934), intensity=0.01, distance=414
[02:12:20] [ENEMY] [Enemy10] Heard player RELOAD at (1024.378, 1359.934), intensity=0.40, distance=79
[02:12:20] [ENEMY] [Enemy10] Vulnerability sound triggered pursuit - transitioning from SUPPRESSED to PURSUING
[02:12:20] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=3
[02:12:20] [ENEMY] [Enemy1] Player vulnerable (reloading) but cannot attack: close=false (dist=1243), can_see=false
[02:12:20] [ENEMY] [Enemy2] Player vulnerable (reloading) but cannot attack: close=false (dist=1023), can_see=false
[02:12:20] [ENEMY] [Enemy3] Player vulnerable (reloading) but cannot attack: close=false (dist=414), can_see=false
[02:12:20] [ENEMY] [Enemy3] Pursuing vulnerability sound at (1024.378, 1359.934), distance=414
[02:12:20] [ENEMY] [Enemy4] Player vulnerable (reloading) but cannot attack: close=false (dist=758), can_see=false
[02:12:20] [ENEMY] [Enemy5] Player vulnerable (reloading) but cannot attack: close=false (dist=1215), can_see=false
[02:12:20] [ENEMY] [Enemy6] Player vulnerable (reloading) but cannot attack: close=false (dist=1298), can_see=false
[02:12:20] [ENEMY] [Enemy7] Player vulnerable (reloading) but cannot attack: close=false (dist=746), can_see=false
[02:12:20] [ENEMY] [Enemy8] Player vulnerable (reloading) but cannot attack: close=false (dist=880), can_see=false
[02:12:20] [ENEMY] [Enemy9] Player vulnerable (reloading) but cannot attack: close=false (dist=1092), can_see=false
[02:12:20] [ENEMY] [Enemy10] Player vulnerable (reloading) but cannot attack: close=true (dist=79), can_see=false
[02:12:20] [ENEMY] [Enemy10] Pursuing vulnerability sound at (1024.378, 1359.934), distance=79
[02:12:20] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[02:12:20] [ENEMY] [Enemy10] State: PURSUING -> COMBAT
[02:12:20] [ENEMY] [Enemy10] State: COMBAT -> RETREATING
[02:12:20] [INFO] [Player.Reload.Anim] Phase changed to: PullBolt (duration: 0,35s)
[02:12:20] [ENEMY] [Enemy1] Player reloading state changed: true -> false
[02:12:20] [ENEMY] [Enemy2] Player reloading state changed: true -> false
[02:12:20] [ENEMY] [Enemy3] Player reloading state changed: true -> false
[02:12:20] [ENEMY] [Enemy4] Player reloading state changed: true -> false
[02:12:20] [ENEMY] [Enemy5] Player reloading state changed: true -> false
[02:12:20] [ENEMY] [Enemy6] Player reloading state changed: true -> false
[02:12:20] [ENEMY] [Enemy7] Player reloading state changed: true -> false
[02:12:20] [ENEMY] [Enemy8] Player reloading state changed: true -> false
[02:12:20] [ENEMY] [Enemy9] Player reloading state changed: true -> false
[02:12:20] [ENEMY] [Enemy10] Player reloading state changed: true -> false
[02:12:20] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[02:12:21] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:12:21] [ENEMY] [Enemy10] State: RETREATING -> IN_COVER
[02:12:21] [ENEMY] [Enemy10] State: IN_COVER -> SUPPRESSED
[02:12:21] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[02:12:21] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(469.7174, 998.4015), source=ENEMY (Enemy4), range=1469, listeners=10
[02:12:21] [ENEMY] [Enemy2] Heard gunshot at (469.7174, 998.4015), source_type=1, intensity=0.01, distance=454
[02:12:21] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=4
[02:12:21] [ENEMY] [Enemy4] State: FLANKING -> COMBAT
[02:12:21] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[02:12:21] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[02:12:21] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(480.8736, 1026.769), source=ENEMY (Enemy4), range=1469, listeners=10
[02:12:21] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=4
[02:12:21] [INFO] [LastChance] Threat detected: Bullet
[02:12:21] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:12:21] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:12:21] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[02:12:21] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(501.5366, 1046.026), source=ENEMY (Enemy4), range=1469, listeners=10
[02:12:21] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=5
[02:12:21] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[02:12:21] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[02:12:21] [INFO] [LastChance] Threat detected: @Area2D@2279
[02:12:21] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[02:12:21] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:12:21] [ENEMY] [Enemy3] Pursuing vulnerability sound at (1024.378, 1359.934), distance=634
[02:12:21] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[02:12:21] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(530.8008, 1063.595), source=ENEMY (Enemy4), range=1469, listeners=10
[02:12:21] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=5
[02:12:21] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[02:12:21] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[02:12:21] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[02:12:21] [INFO] [LastChance] Threat detected: @Area2D@2280
[02:12:21] [INFO] [LastChance] Triggering last chance effect!
[02:12:21] [INFO] [LastChance] Starting last chance effect:
[02:12:21] [INFO] [LastChance]   - Time will be frozen (except player)
[02:12:21] [INFO] [LastChance]   - Duration: 6.0 real seconds
[02:12:21] [INFO] [LastChance]   - Sepia intensity: 0.70
[02:12:21] [INFO] [LastChance]   - Brightness: 0.60
[02:12:21] [INFO] [LastChance] Pushed bullet @Area2D@2280 from distance 142.5 to 200.0
[02:12:21] [INFO] [LastChance] Pushed 1 threatening bullets away from player
[02:12:21] [INFO] [LastChance] Set player Player and all 18 children to PROCESS_MODE_ALWAYS
[02:12:21] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[02:12:21] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:12:21] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:12:21] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[02:12:21] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:12:21] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:12:21] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:12:21] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:12:21] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:12:21] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:12:21] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:12:21] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:12:21] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:12:21] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:12:21] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:12:21] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:12:21] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:12:21] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[02:12:21] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[02:12:21] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:12:21] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:12:21] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:12:21] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:12:21] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:12:21] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[02:12:21] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[02:12:21] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:12:21] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[02:12:21] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[02:12:21] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:12:21] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:12:21] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[02:12:21] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[02:12:21] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[02:12:21] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[02:12:21] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[02:12:21] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[02:12:21] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[02:12:21] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[02:12:21] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[02:12:21] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[02:12:21] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[02:12:21] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[02:12:21] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[02:12:21] [INFO] [LastChance] Skipping player node: Player
[02:12:21] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[02:12:21] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[02:12:21] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[02:12:27] [INFO] [LastChance] Effect duration expired after 6.00 real seconds
[02:12:27] [INFO] [LastChance] Ending last chance effect
[02:12:27] [INFO] [LastChance] All process modes restored
[02:12:27] [INFO] [LastChance] Restored original colors to 5 player sprites
[02:12:27] [INFO] [LastChance] Called player RefreshHealthVisual (C#)
[02:12:27] [ENEMY] [Enemy3] Pursuing vulnerability sound at (1024.378, 1359.934), distance=643
[02:12:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(555.4783, 1087.51), shooter_id=2355974112960, bullet_pos=(1026.143, 1373.766)
[02:12:27] [INFO] [Bullet] Using shooter_position, distance=550.879211425781
[02:12:27] [INFO] [Bullet] Distance to wall: 550.879211425781 (37.5103784835292% of viewport)
[02:12:27] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:12:27] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[02:12:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(584.7424, 1105.079), shooter_id=2355974112960, bullet_pos=(1056.282, 1388.187)
[02:12:27] [INFO] [Bullet] Using shooter_position, distance=549.999755859375
[02:12:27] [INFO] [Bullet] Distance to wall: 549.999755859375 (37.4504947368364% of viewport)
[02:12:27] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:12:27] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[02:12:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(555.4783, 1087.51), shooter_id=2355974112960, bullet_pos=(1512.89, 954.3795)
[02:12:28] [INFO] [Bullet] Using shooter_position, distance=966.623413085938
[02:12:28] [INFO] [Bullet] Distance to wall: 966.623413085938 (65.8191656607454% of viewport)
[02:12:28] [INFO] [Bullet] Distance-based penetration chance: 69.8776400624637%
[02:12:28] [INFO] [Bullet] Starting wall penetration at (1512.89, 954.3795)
[02:12:28] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[02:12:28] [INFO] [Bullet] Exiting penetration at (1543.509, 927.9979) after traveling 35.4166679382324 pixels through wall
[02:12:28] [INFO] [Bullet] Damage multiplier after penetration: 0.45
[02:12:28] [ENEMY] [Enemy3] Pursuing vulnerability sound at (1024.378, 1359.934), distance=766
[02:12:29] [ENEMY] [Enemy2] FLANKING started: target=(1264.508, 1507.733), side=right, pos=(443.9948, 663.9329)
[02:12:29] [ENEMY] [Enemy2] State: PURSUING -> FLANKING
[02:12:29] [ENEMY] [Enemy3] Pursuing vulnerability sound at (1024.378, 1359.934), distance=520
[02:12:30] [ENEMY] [Enemy10] State: SUPPRESSED -> IN_COVER
[02:12:30] [ENEMY] [Enemy10] State: IN_COVER -> PURSUING
[02:12:30] [ENEMY] [Enemy3] Pursuing vulnerability sound at (1024.378, 1359.934), distance=195
[02:12:31] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:12:31] [ENEMY] [Enemy10] State: PURSUING -> COMBAT
[02:12:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1156.207, 1706.531), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:12:31] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=6
[02:12:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1156.2069, 1706.5314), shooter_id=2358507473448, bullet_pos=(1143.6161, 1641.0646)
[02:12:31] [INFO] [Bullet] Using shooter_position, distance=66,66656
[02:12:31] [INFO] [Bullet] Distance to wall: 66,66656 (4,5394487% of viewport)
[02:12:31] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[02:12:31] [INFO] [Bullet] Starting wall penetration at (1143.6161, 1641.0646)
[02:12:31] [INFO] [Bullet] Raycast backward hit penetrating body at distance 31,32598
[02:12:31] [INFO] [Bullet] Body exited signal received for penetrating body
[02:12:31] [INFO] [Bullet] Exiting penetration at (1134.8025, 1595.2378) after traveling 41,666668 pixels through wall
[02:12:31] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[02:12:31] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:12:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(977.8845, 1433.786), source=ENEMY (Enemy10), range=1469, listeners=10
[02:12:31] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=1, below_threshold=6
[02:12:31] [INFO] [LastChance] Threat detected: Bullet
[02:12:31] [INFO] [LastChance] Effect already used this life
[02:12:31] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:12:31] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:12:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(997.6018, 1465.487), source=ENEMY (Enemy10), range=1469, listeners=10
[02:12:31] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=1, below_threshold=6
[02:12:31] [INFO] [LastChance] Threat detected: @Area2D@2284
[02:12:31] [INFO] [LastChance] Effect already used this life
[02:12:31] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:12:31] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:12:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1026.934, 1526.89), shooter_id=2357685389570, bullet_pos=(1381.358, 2091.538)
[02:12:32] [INFO] [Bullet] Using shooter_position, distance=666.66650390625
[02:12:32] [INFO] [Bullet] Distance to wall: 666.66650390625 (45.3945481425809% of viewport)
[02:12:32] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[02:12:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1026.934, 1526.89), shooter_id=2357685389570, bullet_pos=(1673.593, 1684.803)
[02:12:32] [INFO] [Bullet] Using shooter_position, distance=665.660766601563
[02:12:32] [INFO] [Bullet] Distance to wall: 665.660766601563 (45.3260656401169% of viewport)
[02:12:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1026.934, 1526.89), shooter_id=2357685389570, bullet_pos=(1507.671, 1503.409)
[02:12:32] [INFO] [Bullet] Using shooter_position, distance=481.310272216797
[02:12:32] [INFO] [Bullet] Distance to wall: 481.310272216797 (32.7733014867905% of viewport)
[02:12:32] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:12:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1026.934, 1526.89), shooter_id=2357685389570, bullet_pos=(1752.176, 1201.076)
[02:12:32] [INFO] [Bullet] Using shooter_position, distance=795.066284179688
[02:12:32] [INFO] [Bullet] Distance to wall: 795.066284179688 (54.1375252877758% of viewport)
[02:12:33] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[02:12:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1026.934, 1526.89), shooter_id=2357685389570, bullet_pos=(1992.01, 1460.094)
[02:12:33] [INFO] [Bullet] Using shooter_position, distance=967.385192871094
[02:12:33] [INFO] [Bullet] Distance to wall: 967.385192871094 (65.8710366471062% of viewport)
[02:12:33] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[02:12:33] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:12:33] [ENEMY] [Enemy3] State: PURSUING -> COMBAT
[02:12:33] [ENEMY] [Enemy10] State: PURSUING -> COMBAT
[02:12:33] [ENEMY] [Enemy2] State: FLANKING -> COMBAT
[02:12:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1156.459, 1779.204), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:12:33] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=4
[02:12:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(989.9218, 1485.524), source=ENEMY (Enemy3), range=1469, listeners=10
[02:12:33] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=1, below_threshold=6
[02:12:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1053.43, 1543.423), source=ENEMY (Enemy10), range=1469, listeners=10
[02:12:33] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=1, below_threshold=6
[02:12:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1027.074, 1497.695), source=ENEMY (Enemy2), range=1469, listeners=10
[02:12:33] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=1, below_threshold=6
[02:12:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1129.236, 1806.427), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:12:33] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=4
[02:12:33] [ENEMY] [Enemy10] Hit taken, health: 1/4
[02:12:33] [INFO] [LastChance] Threat detected: @Area2D@2292
[02:12:33] [INFO] [LastChance] Effect already used this life
[02:12:33] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:12:33] [INFO] [LastChance] Threat detected: @Area2D@2291
[02:12:33] [INFO] [LastChance] Effect already used this life
[02:12:33] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:12:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1156.4595, 1779.204), shooter_id=2358507473448, bullet_pos=(1075.9552, 1387.3888)
[02:12:33] [INFO] [Bullet] Using shooter_position, distance=400,0001
[02:12:33] [INFO] [Bullet] Distance to wall: 400,0001 (27,236742% of viewport)
[02:12:33] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:12:33] [INFO] [Bullet] Starting wall penetration at (1075.9552, 1387.3888)
[02:12:33] [INFO] [Bullet] Raycast backward hit penetrating body at distance 35,039986
[02:12:33] [INFO] [Bullet] Body exited signal received for penetrating body
[02:12:33] [INFO] [Bullet] Exiting penetration at (1066.563, 1341.677) after traveling 41,666668 pixels through wall
[02:12:33] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[02:12:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1004.964, 1519.672), source=ENEMY (Enemy3), range=1469, listeners=10
[02:12:33] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=1, below_threshold=6
[02:12:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1053.43, 1543.423), source=ENEMY (Enemy10), range=1469, listeners=10
[02:12:33] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=1, below_threshold=6
[02:12:33] [ENEMY] [Enemy10] Hit taken, health: 0/4
[02:12:33] [ENEMY] [Enemy10] Enemy died (ricochet: false, penetration: false)
[02:12:33] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[02:12:33] [INFO] [SoundPropagation] Unregistered listener: Enemy10 (remaining: 9)
[02:12:33] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[02:12:33] [ENEMY] [Enemy10] Death animation started with hit direction: (1, 0)
[02:12:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1037.87, 1533.414), source=ENEMY (Enemy2), range=1469, listeners=9
[02:12:33] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=1, below_threshold=6
[02:12:33] [INFO] [LastChance] Threat detected: Bullet
[02:12:33] [INFO] [LastChance] Effect already used this life
[02:12:33] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:12:33] [INFO] [LastChance] Threat detected: @Area2D@2297
[02:12:33] [INFO] [LastChance] Effect already used this life
[02:12:33] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:12:33] [INFO] [LastChance] Threat detected: @Area2D@2299
[02:12:33] [INFO] [LastChance] Effect already used this life
[02:12:33] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:12:33] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[02:12:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1015.024, 1551.157), source=ENEMY (Enemy3), range=1469, listeners=9
[02:12:33] [ENEMY] [Enemy2] Heard gunshot at (1015.024, 1551.157), source_type=1, intensity=1.00, distance=30
[02:12:33] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=1, below_threshold=6
[02:12:33] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[02:12:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1013.016, 1549.406), shooter_id=2355688900837, bullet_pos=(1269.298, 2064.133)
[02:12:33] [INFO] [Bullet] Using shooter_position, distance=574.999633789063
[02:12:33] [INFO] [Bullet] Distance to wall: 574.999633789063 (39.1527823957907% of viewport)
[02:12:33] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:12:33] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[02:12:33] [INFO] [LastChance] Threat detected: @Area2D@2300
[02:12:33] [INFO] [LastChance] Effect already used this life
[02:12:33] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:12:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1030.956, 1555.953), source=ENEMY (Enemy3), range=1469, listeners=9
[02:12:33] [ENEMY] [Enemy2] Heard gunshot at (1030.956, 1555.953), source_type=1, intensity=1.00, distance=38
[02:12:33] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=1, below_threshold=6
[02:12:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1059.267, 1611.092), shooter_id=2357685389570, bullet_pos=(1154.155, 2076.519)
[02:12:33] [INFO] [Bullet] Using shooter_position, distance=475.000274658203
[02:12:33] [INFO] [Bullet] Distance to wall: 475.000274658203 (32.3436421499634% of viewport)
[02:12:33] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:12:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1020.884, 1585.705), shooter_id=2355688900837, bullet_pos=(1198.847, 2070.755)
[02:12:33] [INFO] [Bullet] Using shooter_position, distance=516.666625976563
[02:12:33] [INFO] [Bullet] Distance to wall: 516.666625976563 (35.1807806288946% of viewport)
[02:12:33] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:12:33] [INFO] [Bullet] Starting wall penetration at (1198.847, 2070.755)
[02:12:33] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[02:12:33] [INFO] [Bullet] Raycast backward hit penetrating body at distance 11.4431629180908
[02:12:33] [INFO] [Bullet] Body exited signal received for penetrating body
[02:12:33] [INFO] [Bullet] Exiting penetration at (1212.051, 2106.743) after traveling 33.3333358764648 pixels through wall
[02:12:33] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:12:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1045.67, 1600.891), shooter_id=2355403687248, bullet_pos=(1159.738, 2087.706)
[02:12:33] [INFO] [Bullet] Using shooter_position, distance=500.000396728516
[02:12:33] [INFO] [Bullet] Distance to wall: 500.000396728516 (34.0459464329019% of viewport)
[02:12:33] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:12:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1026.934, 1526.89), shooter_id=2357685389570, bullet_pos=(2463.546, 962.7437)
[02:12:33] [INFO] [Bullet] Using shooter_position, distance=1543.41015625
[02:12:33] [INFO] [Bullet] Distance to wall: 1543.41015625 (105.093635620084% of viewport)
[02:12:33] [INFO] [LastChance] Threat detected: @Area2D@2302
[02:12:33] [INFO] [LastChance] Effect already used this life
[02:12:33] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:12:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1024.334, 1618.465), shooter_id=2355688900837, bullet_pos=(1140.913, 2070.336)
[02:12:33] [INFO] [Bullet] Using shooter_position, distance=466.666656494141
[02:12:33] [INFO] [Bullet] Distance to wall: 466.666656494141 (31.7761907649999% of viewport)
[02:12:33] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:12:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1051.501, 1543.755), source=ENEMY (Enemy3), range=1469, listeners=9
[02:12:33] [ENEMY] [Enemy2] Heard gunshot at (1051.501, 1543.755), source_type=1, intensity=1.00, distance=37
[02:12:33] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=1, below_threshold=6
[02:12:33] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[02:12:33] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[02:12:33] [INFO] [PenultimateHit] Player died - ending penultimate effect
[02:12:33] [INFO] [LastChance] Player died
[02:12:33] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[02:12:33] [INFO] [LastChance] Threat detected: Bullet
[02:12:33] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:12:33] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:12:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1072.046, 1531.557), source=ENEMY (Enemy3), range=1469, listeners=9
[02:12:33] [ENEMY] [Enemy2] Heard gunshot at (1072.046, 1531.557), source_type=1, intensity=1.00, distance=48
[02:12:33] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=1, below_threshold=6
[02:12:33] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[02:12:34] [ENEMY] [Enemy10] Ragdoll activated
[02:12:34] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[02:12:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1057.005, 1611.706), shooter_id=2355688900837, bullet_pos=(1038.238, 2077.996)
[02:12:34] [INFO] [Bullet] Using shooter_position, distance=466.667022705078
[02:12:34] [INFO] [Bullet] Distance to wall: 466.667022705078 (31.776215700976% of viewport)
[02:12:34] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:12:34] [INFO] [Bullet] Starting wall penetration at (1038.238, 2077.996)
[02:12:34] [INFO] [LastChance] Threat detected: @Area2D@2308
[02:12:34] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:12:34] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:12:34] [INFO] [Bullet] Raycast backward hit penetrating body at distance 20.3145275115967
[02:12:34] [INFO] [Bullet] Body exited signal received for penetrating body
[02:12:34] [INFO] [Bullet] Exiting penetration at (1036.697, 2116.298) after traveling 33.3333358764648 pixels through wall
[02:12:34] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:12:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1092.591, 1519.359), source=ENEMY (Enemy3), range=1469, listeners=9
[02:12:34] [ENEMY] [Enemy2] Heard gunshot at (1092.591, 1519.359), source_type=1, intensity=0.63, distance=63
[02:12:34] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=1, below_threshold=6
[02:12:34] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[02:12:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1069.579, 1599.67), shooter_id=2355688900837, bullet_pos=(996.4905, 2060.578)
[02:12:34] [INFO] [Bullet] Using shooter_position, distance=466.666931152344
[02:12:34] [INFO] [Bullet] Distance to wall: 466.666931152344 (31.776209466982% of viewport)
[02:12:34] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:12:34] [INFO] [LastChance] Threat detected: @Area2D@2321
[02:12:34] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:12:34] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:12:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1113.136, 1507.16), source=ENEMY (Enemy3), range=1469, listeners=9
[02:12:34] [ENEMY] [Enemy2] Heard gunshot at (1113.136, 1507.16), source_type=1, intensity=0.36, distance=84
[02:12:34] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=1, below_threshold=6
[02:12:34] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[02:12:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1082.53, 1586.769), shooter_id=2355688900837, bullet_pos=(931.2124, 2063.323)
[02:12:34] [INFO] [Bullet] Using shooter_position, distance=500.000549316406
[02:12:34] [INFO] [Bullet] Distance to wall: 500.000549316406 (34.0459568228919% of viewport)
[02:12:34] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:12:34] [INFO] [Bullet] Starting wall penetration at (931.2124, 2063.323)
[02:12:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1133.681, 1494.962), source=ENEMY (Enemy3), range=1469, listeners=9
[02:12:34] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=1, below_threshold=6
[02:12:34] [INFO] [Bullet] Raycast backward hit penetrating body at distance 4.04901266098022
[02:12:34] [INFO] [Bullet] Max penetration distance exceeded: 66.6666717529297 >= 48
[02:12:34] [INFO] [Bullet] Body exited signal received for penetrating body
[02:12:34] [INFO] [Bullet] Exiting penetration at (909.5236, 2131.629) after traveling 66.6666717529297 pixels through wall
[02:12:34] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:12:34] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[02:12:34] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[02:12:34] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[02:12:34] [INFO] [LastChance] Resetting all effects (scene change detected)
[02:12:34] [ENEMY] [Enemy1] Death animation component initialized
[02:12:34] [ENEMY] [Enemy2] Death animation component initialized
[02:12:34] [ENEMY] [Enemy3] Death animation component initialized
[02:12:34] [ENEMY] [Enemy4] Death animation component initialized
[02:12:34] [ENEMY] [Enemy5] Death animation component initialized
[02:12:34] [ENEMY] [Enemy6] Death animation component initialized
[02:12:34] [ENEMY] [Enemy7] Death animation component initialized
[02:12:34] [ENEMY] [Enemy8] Death animation component initialized
[02:12:34] [ENEMY] [Enemy9] Death animation component initialized
[02:12:34] [ENEMY] [Enemy10] Death animation component initialized
[02:12:34] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[02:12:34] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[02:12:34] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[02:12:34] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[02:12:34] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[02:12:34] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[02:12:34] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[02:12:34] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[02:12:34] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[02:12:34] [ENEMY] [Enemy10] Grenade system configured: offensive=2, flashbangs=0
[02:12:34] [INFO] [ScoreManager] Level started with 10 enemies
[02:12:34] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[02:12:34] [ENEMY] [Enemy1] Registered as sound listener
[02:12:34] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[02:12:34] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[02:12:34] [ENEMY] [Enemy2] Registered as sound listener
[02:12:34] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[02:12:34] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[02:12:34] [ENEMY] [Enemy3] Registered as sound listener
[02:12:34] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[02:12:34] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[02:12:34] [ENEMY] [Enemy4] Registered as sound listener
[02:12:34] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[02:12:34] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[02:12:34] [ENEMY] [Enemy5] Registered as sound listener
[02:12:34] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[02:12:34] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[02:12:34] [ENEMY] [Enemy6] Registered as sound listener
[02:12:34] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[02:12:34] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[02:12:34] [ENEMY] [Enemy7] Registered as sound listener
[02:12:34] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[02:12:34] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[02:12:34] [ENEMY] [Enemy8] Registered as sound listener
[02:12:34] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[02:12:34] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[02:12:34] [ENEMY] [Enemy9] Registered as sound listener
[02:12:34] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[02:12:34] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[02:12:34] [ENEMY] [Enemy10] Registered as sound listener
[02:12:34] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[02:12:34] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[02:12:34] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[02:12:34] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[02:12:34] [INFO] [LastChance] Found player: Player
[02:12:34] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[02:12:34] [INFO] [LastChance] Connected to player Damaged signal (C#)
[02:12:34] [INFO] [LastChance] Connected to player Died signal (C#)
[02:12:34] [INFO] [Player] Detecting weapon pose (frame 3)...
[02:12:34] [INFO] [Player] Detected weapon: Rifle (default pose)
[02:12:34] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[02:12:34] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:12:34] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:12:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1171.731, 1535.008), source=ENEMY (Enemy10), range=1469, listeners=19
[02:12:34] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[02:12:34] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=8
[02:12:35] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:12:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1139.423, 1516.307), source=ENEMY (Enemy10), range=1469, listeners=10
[02:12:35] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:12:35] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:12:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1107.906, 1496.302), source=ENEMY (Enemy10), range=1469, listeners=10
[02:12:35] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:12:35] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:12:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1077.226, 1475.035), source=ENEMY (Enemy10), range=1469, listeners=10
[02:12:35] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:12:35] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:12:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1047.428, 1452.549), source=ENEMY (Enemy10), range=1469, listeners=10
[02:12:35] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:12:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1108.874, 1508.939), shooter_id=3257564923639, bullet_pos=(53.14801, 921.1365)
[02:12:35] [INFO] [Bullet] Using shooter_position, distance=1208.33337402344
[02:12:35] [INFO] [Bullet] Distance to wall: 1208.33337402344 (82.277641366406% of viewport)
[02:12:35] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[02:12:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1077.684, 1487.691), shooter_id=3257564923639, bullet_pos=(46.85162, 857.2495)
[02:12:35] [INFO] [Bullet] Using shooter_position, distance=1208.33435058594
[02:12:35] [INFO] [Bullet] Distance to wall: 1208.33435058594 (82.2777078623423% of viewport)
[02:12:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1108.874, 1508.939), shooter_id=3257564923639, bullet_pos=(382.0697, 703.1763)
[02:12:35] [INFO] [Bullet] Using shooter_position, distance=1085.12573242188
[02:12:35] [INFO] [Bullet] Distance to wall: 1085.12573242188 (73.8882064908801% of viewport)
[02:12:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1047.382, 1465.197), shooter_id=3257564923639, bullet_pos=(43.06916, 793.3154)
[02:12:35] [INFO] [Bullet] Using shooter_position, distance=1208.33349609375
[02:12:35] [INFO] [Bullet] Distance to wall: 1208.33349609375 (82.277649678398% of viewport)
[02:12:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1108.874, 1508.939), shooter_id=3257564923639, bullet_pos=(500.7274, 803.7101)
[02:12:35] [INFO] [Bullet] Using shooter_position, distance=931.230346679688
[02:12:35] [INFO] [Bullet] Distance to wall: 931.230346679688 (63.4091866870335% of viewport)
[02:12:35] [INFO] [Bullet] Distance-based penetration chance: 72.6892821984609%
[02:12:35] [INFO] [Bullet] Starting wall penetration at (500.7274, 803.7101)
[02:12:35] [INFO] [Bullet] Raycast backward hit penetrating body at distance 4.60157251358032
[02:12:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1077.684, 1487.691), shooter_id=3257564923639, bullet_pos=(375.3732, 712.0798)
[02:12:35] [INFO] [Bullet] Using shooter_position, distance=1046.33325195313
[02:12:35] [INFO] [Bullet] Distance to wall: 1046.33325195313 (71.2467551626813% of viewport)
[02:12:35] [INFO] [Bullet] Max penetration distance exceeded: 60.2083435058594 >= 48
[02:12:35] [INFO] [Bullet] Body exited signal received for penetrating body
[02:12:35] [INFO] [Bullet] Exiting penetration at (550.4794, 845.863) after traveling 60.2083435058594 pixels through wall
[02:12:35] [INFO] [Bullet] Damage multiplier after penetration: 0.225
[02:12:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1047.382, 1465.197), shooter_id=3257564923639, bullet_pos=(149.9761, 692.9061)
[02:12:35] [INFO] [Bullet] Using shooter_position, distance=1183.96423339844
[02:12:35] [INFO] [Bullet] Distance to wall: 1183.96423339844 (80.6183017703514% of viewport)
[02:12:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1018.01, 1441.508), shooter_id=3257564923639, bullet_pos=(41.67921, 729.5751)
[02:12:35] [INFO] [Bullet] Using shooter_position, distance=1208.33349609375
[02:12:35] [INFO] [Bullet] Distance to wall: 1208.33349609375 (82.277649678398% of viewport)
[02:12:35] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[02:12:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(989.6003, 1416.68), shooter_id=3257564923639, bullet_pos=(42.53408, 666.2555)
[02:12:35] [INFO] [Bullet] Using shooter_position, distance=1208.33422851563
[02:12:35] [INFO] [Bullet] Distance to wall: 1208.33422851563 (82.2776995503503% of viewport)
[02:12:35] [INFO] [Bullet] Distance-based penetration chance: 50.676017191258%
[02:12:35] [INFO] [Bullet] Penetration failed (distance roll)
[02:12:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1077.684, 1487.691), shooter_id=3257564923639, bullet_pos=(677.8132, 858.7901)
[02:12:35] [INFO] [Bullet] Using shooter_position, distance=745.260375976563
[02:12:35] [INFO] [Bullet] Distance to wall: 745.260375976563 (50.7461494132356% of viewport)
[02:12:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1018.01, 1441.508), shooter_id=3257564923639, bullet_pos=(292.5529, 472.5478)
[02:12:35] [INFO] [Bullet] Using shooter_position, distance=1210.44262695313
[02:12:35] [INFO] [Bullet] Distance to wall: 1210.44262695313 (82.4212642769625% of viewport)
[02:12:35] [INFO] [Bullet] Distance-based penetration chance: 50.5085250102104%
[02:12:35] [INFO] [Bullet] Starting wall penetration at (292.5529, 472.5478)
[02:12:35] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[02:12:35] [INFO] [Bullet] Exiting penetration at (320.7835, 443.6248) after traveling 35.4166641235352 pixels through wall
[02:12:35] [INFO] [Bullet] Damage multiplier after penetration: 0.45
[02:12:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(463.8582, 792.907), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:12:35] [ENEMY] [Enemy1] Heard gunshot at (463.8582, 792.907), source_type=0, intensity=0.01, distance=472
[02:12:35] [ENEMY] [Enemy2] Heard gunshot at (463.8582, 792.907), source_type=0, intensity=0.04, distance=251
[02:12:35] [ENEMY] [Enemy4] Heard gunshot at (463.8582, 792.907), source_type=0, intensity=0.02, distance=353
[02:12:35] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[02:12:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1077.684, 1487.691), shooter_id=3257564923639, bullet_pos=(517.6317, 949.5758)
[02:12:36] [INFO] [Bullet] Using shooter_position, distance=776.676574707031
[02:12:36] [INFO] [Bullet] Distance to wall: 776.676574707031 (52.8853361540887% of viewport)
[02:12:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1077.684, 1487.691), shooter_id=3257564923639, bullet_pos=(593.0067, 1002.328)
[02:12:36] [INFO] [Bullet] Using shooter_position, distance=685.922241210938
[02:12:36] [INFO] [Bullet] Distance to wall: 685.922241210938 (46.7057067038357% of viewport)
[02:12:36] [ENEMY] [Enemy3] Hit taken, health: 2/3
[02:12:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(689.6808, 752.7002), source=ENEMY (Enemy3), range=1469, listeners=10
[02:12:36] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[02:12:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(489.3109, 768.2766), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:12:36] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[02:12:36] [INFO] [LastChance] Threat detected: Bullet
[02:12:36] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:12:36] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:12:36] [ENEMY] [Enemy3] Hit taken, health: 1/3
[02:12:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(689.6808, 752.7002), source=ENEMY (Enemy3), range=1469, listeners=10
[02:12:36] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[02:12:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(519.1118, 757.2908), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:12:36] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=2, self=0, below_threshold=4
[02:12:36] [INFO] [LastChance] Threat detected: Bullet
[02:12:36] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:12:36] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:12:36] [ENEMY] [Enemy4] Hit taken, health: 1/2
[02:12:36] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[02:12:36] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[02:12:36] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[02:12:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(519.1118, 757.2908), shooter_id=3258387007639, bullet_pos=(737.6344, 810.8899)
[02:12:36] [INFO] [Bullet] Using shooter_position, distance=224,99997
[02:12:36] [INFO] [Bullet] Distance to wall: 224,99997 (15,320662% of viewport)
[02:12:36] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:12:36] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[02:12:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(689.4353, 761.23), source=ENEMY (Enemy3), range=1469, listeners=10
[02:12:36] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[02:12:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(548.2942, 759.4893), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:12:36] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=2, self=0, below_threshold=4
[02:12:36] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[02:12:36] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[02:12:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(548.2942, 759.48926), shooter_id=3258387007639, bullet_pos=(734.11145, 806.4793)
[02:12:36] [INFO] [Bullet] Using shooter_position, distance=191,66669
[02:12:36] [INFO] [Bullet] Distance to wall: 191,66669 (13,050938% of viewport)
[02:12:36] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:12:36] [INFO] [Bullet] Starting wall penetration at (734.11145, 806.4793)
[02:12:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(519.1118, 757.2908), shooter_id=3258387007639, bullet_pos=(932.72675, 753.5889)
[02:12:36] [INFO] [Bullet] Using shooter_position, distance=413,6315
[02:12:36] [INFO] [Bullet] Distance to wall: 413,6315 (28,164928% of viewport)
[02:12:36] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:12:36] [INFO] [Bullet] Starting wall penetration at (932.72675, 753.5889)
[02:12:36] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[02:12:36] [INFO] [Bullet] Raycast backward hit penetrating body at distance 29,921791
[02:12:36] [INFO] [Bullet] Raycast backward hit penetrating body at distance 11,629836
[02:12:36] [INFO] [Bullet] Body exited signal received for penetrating body
[02:12:36] [INFO] [Bullet] Exiting penetration at (771.2749, 815.8773) after traveling 33,333332 pixels through wall
[02:12:36] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[02:12:36] [INFO] [Bullet] Body exited signal received for penetrating body
[02:12:36] [INFO] [Bullet] Exiting penetration at (964.7091, 744.1953) after traveling 28,33333 pixels through wall
[02:12:36] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[02:12:36] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[02:12:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=10
[02:12:36] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=4
[02:12:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(694.5932, 773.1893), source=ENEMY (Enemy3), range=1469, listeners=10
[02:12:36] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[02:12:36] [INFO] [LastChance] Threat detected: @Area2D@2606
[02:12:36] [INFO] [LastChance] Player health is 3.0 - effect requires exactly 1 HP or less but alive
[02:12:36] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:12:36] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[02:12:36] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[02:12:36] [INFO] [LastChance] Threat detected: @Area2D@2605
[02:12:36] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[02:12:36] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:12:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(435.7015, 607.931), shooter_id=3255283223812, bullet_pos=(497.5786, 686.4882)
[02:12:36] [INFO] [Bullet] Using shooter_position, distance=100.000038146973
[02:12:36] [INFO] [Bullet] Distance to wall: 100.000038146973 (6.80918648128306% of viewport)
[02:12:36] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:12:36] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[02:12:36] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[02:12:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=10
[02:12:36] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=4
[02:12:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(621.4877, 764.9344), shooter_id=3255568435716, bullet_pos=(63.40427, 863.1887)
[02:12:36] [INFO] [Bullet] Using shooter_position, distance=566.666564941406
[02:12:36] [INFO] [Bullet] Distance to wall: 566.666564941406 (38.5853684147914% of viewport)
[02:12:36] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:12:36] [INFO] [Bullet] Starting wall penetration at (63.40427, 863.1887)
[02:12:36] [INFO] [Bullet] Raycast backward hit penetrating body at distance 6.44607400894165
[02:12:36] [INFO] [Bullet] Body exited signal received for penetrating body
[02:12:36] [INFO] [Bullet] Exiting penetration at (25.65156, 869.8353) after traveling 33.3333320617676 pixels through wall
[02:12:36] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:12:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(436.1077, 607.6787), shooter_id=3255283223812, bullet_pos=(498.5353, 685.7992)
[02:12:36] [INFO] [Bullet] Using shooter_position, distance=100.00008392334
[02:12:36] [INFO] [Bullet] Distance to wall: 100.00008392334 (6.80918959828007% of viewport)
[02:12:36] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:12:36] [INFO] [Bullet] Starting wall penetration at (498.5353, 685.7992)
[02:12:36] [INFO] [LastChance] Threat detected: @Area2D@2608
[02:12:36] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[02:12:36] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:12:36] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[02:12:36] [INFO] [Bullet] Exiting penetration at (522.4658, 715.7454) after traveling 33.3333358764648 pixels through wall
[02:12:36] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:12:36] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[02:12:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(744.4606, 768.6716), source=ENEMY (Enemy3), range=1469, listeners=10
[02:12:36] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[02:12:36] [INFO] [LastChance] Threat detected: Bullet
[02:12:36] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[02:12:36] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:12:36] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[02:12:36] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[02:12:36] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[02:12:36] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[02:12:36] [ENEMY] [Enemy4] State: SUPPRESSED -> SEEKING_COVER
[02:12:36] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[02:12:36] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[02:12:36] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[02:12:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(762.8195, 919.5586), source=ENEMY (Enemy4), range=1469, listeners=10
[02:12:36] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=7
[02:12:36] [INFO] [LastChance] Threat detected: Bullet
[02:12:36] [INFO] [LastChance] Triggering last chance effect!
[02:12:36] [INFO] [LastChance] Starting last chance effect:
[02:12:36] [INFO] [LastChance]   - Time will be frozen (except player)
[02:12:36] [INFO] [LastChance]   - Duration: 6.0 real seconds
[02:12:36] [INFO] [LastChance]   - Sepia intensity: 0.70
[02:12:36] [INFO] [LastChance]   - Brightness: 0.60
[02:12:36] [INFO] [LastChance] Pushed bullet Bullet from distance 105.9 to 200.0
[02:12:36] [INFO] [LastChance] Pushed 1 threatening bullets away from player
[02:12:36] [INFO] [LastChance] Set player Player and all 18 children to PROCESS_MODE_ALWAYS
[02:12:36] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[02:12:36] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:12:36] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:12:36] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[02:12:36] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:12:36] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:12:36] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:12:36] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:12:36] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:12:36] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:12:36] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:12:36] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:12:36] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:12:36] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:12:36] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:12:36] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:12:36] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:12:36] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[02:12:36] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[02:12:36] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:12:36] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:12:36] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:12:36] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:12:36] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:12:36] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[02:12:36] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[02:12:36] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:12:36] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[02:12:36] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[02:12:36] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:12:36] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:12:36] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[02:12:36] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[02:12:36] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[02:12:36] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[02:12:36] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[02:12:36] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[02:12:36] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[02:12:36] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[02:12:36] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[02:12:36] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[02:12:36] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[02:12:36] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[02:12:36] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[02:12:36] [INFO] [LastChance] Skipping player node: Player
[02:12:36] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[02:12:36] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[02:12:36] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[02:12:36] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@2611
[02:12:36] [INFO] [LastChance] Registered frozen player bullet: @Area2D@2611
[02:12:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(598.8347, 875.1242), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:12:36] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=6
[02:12:37] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@2613
[02:12:37] [INFO] [LastChance] Registered frozen player bullet: @Area2D@2613
[02:12:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(607.5068, 906.7321), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:12:37] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=6
[02:12:37] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@2615
[02:12:37] [INFO] [LastChance] Registered frozen player bullet: @Area2D@2615
[02:12:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(628.1863, 932.4617), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:12:37] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=6
[02:12:37] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@2617
[02:12:37] [INFO] [LastChance] Registered frozen player bullet: @Area2D@2617
[02:12:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(656.0193, 947.0866), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:12:37] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=6
[02:12:38] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@2619
[02:12:38] [INFO] [LastChance] Registered frozen player bullet: @Area2D@2619
[02:12:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(867.338, 845.0168), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:12:38] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=8
[02:12:38] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@2621
[02:12:38] [INFO] [LastChance] Registered frozen player bullet: @Area2D@2621
[02:12:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(860.2426, 812.7559), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:12:38] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=8
[02:12:39] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@2623
[02:12:39] [INFO] [LastChance] Registered frozen player bullet: @Area2D@2623
[02:12:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(553.7216, 652.3258), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:12:39] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=2, self=0, below_threshold=4
[02:12:39] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@2625
[02:12:39] [INFO] [LastChance] Registered frozen player bullet: @Area2D@2625
[02:12:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(522.9261, 633.7251), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:12:39] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=2, self=0, below_threshold=4
[02:12:40] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@2627
[02:12:40] [INFO] [LastChance] Registered frozen player bullet: @Area2D@2627
[02:12:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(488.9112, 630.4685), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:12:40] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[02:12:40] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@2629
[02:12:40] [INFO] [LastChance] Registered frozen player bullet: @Area2D@2629
[02:12:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(458.345, 643.1151), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:12:40] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[02:12:41] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@2631
[02:12:41] [INFO] [LastChance] Registered frozen player bullet: @Area2D@2631
[02:12:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(124.8253, 429.2149), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:12:41] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=3
[02:12:41] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@2633
[02:12:41] [INFO] [LastChance] Registered frozen player bullet: @Area2D@2633
[02:12:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(114.8474, 394.8479), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:12:41] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=3
[02:12:41] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@2635
[02:12:41] [INFO] [LastChance] Registered frozen player bullet: @Area2D@2635
[02:12:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(114.6538, 356.4281), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:12:41] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=3
[02:12:41] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@2637
[02:12:41] [INFO] [LastChance] Registered frozen player bullet: @Area2D@2637
[02:12:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(114.6538, 317.9281), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:12:41] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=3
[02:12:42] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@2639
[02:12:42] [INFO] [LastChance] Registered frozen player bullet: @Area2D@2639
[02:12:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(114.6538, 279.4281), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:12:42] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=3
[02:12:42] [INFO] [LastChance] Effect duration expired after 6.00 real seconds
[02:12:42] [INFO] [LastChance] Ending last chance effect
[02:12:42] [INFO] [LastChance] All process modes restored
[02:12:42] [INFO] [LastChance] Unfroze player bullet: @Area2D@2611
[02:12:42] [INFO] [LastChance] Unfroze player bullet: @Area2D@2613
[02:12:42] [INFO] [LastChance] Unfroze player bullet: @Area2D@2615
[02:12:42] [INFO] [LastChance] Unfroze player bullet: @Area2D@2617
[02:12:42] [INFO] [LastChance] Unfroze player bullet: @Area2D@2619
[02:12:42] [INFO] [LastChance] Unfroze player bullet: @Area2D@2621
[02:12:42] [INFO] [LastChance] Unfroze player bullet: @Area2D@2623
[02:12:42] [INFO] [LastChance] Unfroze player bullet: @Area2D@2625
[02:12:42] [INFO] [LastChance] Unfroze player bullet: @Area2D@2627
[02:12:42] [INFO] [LastChance] Unfroze player bullet: @Area2D@2629
[02:12:42] [INFO] [LastChance] Unfroze player bullet: @Area2D@2631
[02:12:42] [INFO] [LastChance] Unfroze player bullet: @Area2D@2633
[02:12:42] [INFO] [LastChance] Unfroze player bullet: @Area2D@2635
[02:12:42] [INFO] [LastChance] Unfroze player bullet: @Area2D@2637
[02:12:42] [INFO] [LastChance] Unfroze player bullet: @Area2D@2639
[02:12:42] [INFO] [LastChance] Restored original colors to 5 player sprites
[02:12:42] [INFO] [LastChance] Called player RefreshHealthVisual (C#)
[02:12:42] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[02:12:42] [ENEMY] [Enemy4] State: SEEKING_COVER -> IN_COVER
[02:12:42] [ENEMY] [Enemy3] Hit taken, health: 0/3
[02:12:42] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[02:12:42] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[02:12:42] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[02:12:42] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[02:12:42] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[02:12:42] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[02:12:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(598.83466, 875.1242), shooter_id=3258387007639, bullet_pos=(706.11255, 890.2097)
[02:12:42] [INFO] [Bullet] Using shooter_position, distance=108,33337
[02:12:42] [INFO] [Bullet] Distance to wall: 108,33337 (7,376619% of viewport)
[02:12:42] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:12:42] [INFO] [Bullet] Starting wall penetration at (706.11255, 890.2097)
[02:12:42] [ENEMY] [Enemy4] Hit taken, health: 0/2
[02:12:42] [ENEMY] [Enemy4] Enemy died (ricochet: false, penetration: false)
[02:12:42] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[02:12:42] [INFO] [SoundPropagation] Unregistered listener: Enemy4 (remaining: 8)
[02:12:42] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[02:12:42] [ENEMY] [Enemy4] Death animation started with hit direction: (1, 0)
[02:12:42] [ENEMY] [Enemy2] Hit taken, health: 1/2
[02:12:42] [ENEMY] [Enemy2] Hit taken, health: 0/2
[02:12:42] [ENEMY] [Enemy2] Enemy died (ricochet: false, penetration: false)
[02:12:42] [INFO] [ScoreManager] Kill registered. Combo: 3 (points: 3000)
[02:12:42] [INFO] [SoundPropagation] Unregistered listener: Enemy2 (remaining: 7)
[02:12:42] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[02:12:42] [ENEMY] [Enemy2] Death animation started with hit direction: (1, 0)
[02:12:42] [ENEMY] [Enemy1] Hit taken, health: 1/2
[02:12:42] [ENEMY] [Enemy1] Hit taken, health: 0/2
[02:12:42] [ENEMY] [Enemy1] Enemy died (ricochet: false, penetration: false)
[02:12:42] [INFO] [ScoreManager] Kill registered. Combo: 4 (points: 5000)
[02:12:42] [INFO] [SoundPropagation] Unregistered listener: Enemy1 (remaining: 6)
[02:12:42] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[02:12:42] [ENEMY] [Enemy1] Death animation started with hit direction: (1, 0)
[02:12:43] [INFO] [Bullet] Raycast backward hit penetrating body at distance 39,839073
[02:12:43] [INFO] [Bullet] Body exited signal received for penetrating body
[02:12:43] [INFO] [Bullet] Exiting penetration at (744.0724, 895.5476) after traveling 33,333336 pixels through wall
[02:12:43] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[02:12:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(522.9261, 633.7251), shooter_id=3258387007639, bullet_pos=(340.16397, 428.2428)
[02:12:43] [INFO] [Bullet] Using shooter_position, distance=274,99994
[02:12:43] [INFO] [Bullet] Distance to wall: 274,99994 (18,725252% of viewport)
[02:12:43] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:12:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(553.72156, 652.3258), shooter_id=3258387007639, bullet_pos=(334.16028, 435.84882)
[02:12:43] [INFO] [Bullet] Using shooter_position, distance=308,3333
[02:12:43] [INFO] [Bullet] Distance to wall: 308,3333 (20,994984% of viewport)
[02:12:43] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:12:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(628.18634, 932.46173), shooter_id=3258387007639, bullet_pos=(933.2298, 887.5396)
[02:12:43] [INFO] [Bullet] Using shooter_position, distance=308,33344
[02:12:43] [INFO] [Bullet] Distance to wall: 308,33344 (20,994991% of viewport)
[02:12:43] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:12:43] [INFO] [Bullet] Starting wall penetration at (933.2298, 887.5396)
[02:12:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(607.50684, 906.73206), shooter_id=3258387007639, bullet_pos=(912.73303, 950.3958)
[02:12:43] [INFO] [Bullet] Using shooter_position, distance=308,33353
[02:12:43] [INFO] [Bullet] Distance to wall: 308,33353 (20,994997% of viewport)
[02:12:43] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:12:43] [INFO] [Bullet] Starting wall penetration at (912.73303, 950.3958)
[02:12:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(695.1812, 899.541), shooter_id=3255853647876, bullet_pos=(519.1616, 829.8668)
[02:12:43] [INFO] [Bullet] Using shooter_position, distance=189.3076171875
[02:12:43] [INFO] [Bullet] Distance to wall: 189.3076171875 (12.8903037603097% of viewport)
[02:12:43] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:12:43] [INFO] [Bullet] Starting wall penetration at (519.1616, 829.8668)
[02:12:43] [INFO] [Bullet] Raycast backward hit penetrating body at distance 17.5953216552734
[02:12:43] [INFO] [Bullet] Raycast backward hit penetrating body at distance 14,829502
[02:12:43] [INFO] [Bullet] Raycast backward hit penetrating body at distance 35,533257
[02:12:43] [INFO] [Bullet] Body exited signal received for penetrating body
[02:12:43] [INFO] [Bullet] Exiting penetration at (950.68005, 955.8243) after traveling 33,333336 pixels through wall
[02:12:43] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[02:12:43] [INFO] [Bullet] Body exited signal received for penetrating body
[02:12:43] [INFO] [Bullet] Exiting penetration at (971.1541, 881.9547) after traveling 33,333336 pixels through wall
[02:12:43] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[02:12:43] [INFO] [Bullet] Body exited signal received for penetrating body
[02:12:43] [INFO] [Bullet] Exiting penetration at (483.7422, 815.2071) after traveling 33.3333320617676 pixels through wall
[02:12:43] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:12:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(114.65385, 279.42807), shooter_id=3258387007639, bullet_pos=(511.31754, 376.35098)
[02:12:43] [INFO] [Bullet] Using shooter_position, distance=408,33337
[02:12:43] [INFO] [Bullet] Distance to wall: 408,33337 (27,804173% of viewport)
[02:12:43] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:12:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(114.65385, 317.92807), shooter_id=3258387007639, bullet_pos=(520.06384, 366.70227)
[02:12:43] [INFO] [Bullet] Using shooter_position, distance=408,33344
[02:12:43] [INFO] [Bullet] Distance to wall: 408,33344 (27,804174% of viewport)
[02:12:43] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:12:43] [INFO] [Bullet] Starting wall penetration at (520.06384, 366.70227)
[02:12:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(114.65385, 356.42807), shooter_id=3258387007639, bullet_pos=(522.56903, 374.8999)
[02:12:43] [INFO] [Bullet] Using shooter_position, distance=408,3332
[02:12:43] [INFO] [Bullet] Distance to wall: 408,3332 (27,804161% of viewport)
[02:12:43] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:12:43] [INFO] [Bullet] Starting wall penetration at (522.56903, 374.8999)
[02:12:43] [INFO] [Bullet] Raycast backward hit penetrating body at distance 36,900875
[02:12:43] [INFO] [Bullet] Raycast backward hit penetrating body at distance 34,3688
[02:12:43] [INFO] [Bullet] Body exited signal received for penetrating body
[02:12:43] [INFO] [Bullet] Exiting penetration at (558.12274, 371.28107) after traveling 33,333336 pixels through wall
[02:12:43] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[02:12:43] [INFO] [Bullet] Body exited signal received for penetrating body
[02:12:43] [INFO] [Bullet] Exiting penetration at (560.8631, 376.634) after traveling 33,333336 pixels through wall
[02:12:43] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[02:12:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(867.338, 845.01685), shooter_id=3258387007639, bullet_pos=(517.6867, 523.50653)
[02:12:43] [INFO] [Bullet] Using shooter_position, distance=474,9999
[02:12:43] [INFO] [Bullet] Distance to wall: 474,9999 (32,343616% of viewport)
[02:12:43] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:12:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(522.9261, 633.7251), shooter_id=3258387007639, bullet_pos=(501.75232, 262.23483)
[02:12:43] [INFO] [Bullet] Using shooter_position, distance=372,0932
[02:12:43] [INFO] [Bullet] Distance to wall: 372,0932 (25,33651% of viewport)
[02:12:43] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:12:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(553.72156, 652.3258), shooter_id=3258387007639, bullet_pos=(518.34717, 295.3332)
[02:12:43] [INFO] [Bullet] Using shooter_position, distance=358,74097
[02:12:43] [INFO] [Bullet] Distance to wall: 358,74097 (24,427334% of viewport)
[02:12:43] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:12:43] [ENEMY] [Enemy10] FLANKING started: target=(511.3331, 209.2619), side=left, pos=(1022.594, 1432.37)
[02:12:43] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[02:12:43] [INFO] [LastChance] Threat detected: @Area2D@2623
[02:12:43] [INFO] [LastChance] Effect already used this life
[02:12:43] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:12:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(522.9261, 633.7251), shooter_id=3258387007639, bullet_pos=(336.1346, 49.101574)
[02:12:43] [INFO] [Bullet] Using shooter_position, distance=613,73914
[02:12:43] [INFO] [Bullet] Distance to wall: 613,73914 (41,790627% of viewport)
[02:12:43] [INFO] [Bullet] Distance-based penetration chance: 97,910934%
[02:12:43] [INFO] [Bullet] Starting wall penetration at (336.1346, 49.101574)
[02:12:43] [INFO] [Bullet] Raycast backward hit penetrating body at distance 7,4255266
[02:12:43] [INFO] [Bullet] Body exited signal received for penetrating body
[02:12:43] [INFO] [Bullet] Exiting penetration at (318.28943, 26.136608) after traveling 24,08333 pixels through wall
[02:12:43] [INFO] [Bullet] Damage multiplier after penetration: 0,225
[02:12:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(553.72156, 652.3258), shooter_id=3258387007639, bullet_pos=(144.88275, 65.53653)
[02:12:43] [INFO] [Bullet] Using shooter_position, distance=715,17194
[02:12:43] [INFO] [Bullet] Distance to wall: 715,17194 (48,697372% of viewport)
[02:12:43] [ENEMY] [Enemy3] Ragdoll activated
[02:12:43] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[02:12:43] [ENEMY] [Enemy1] Ragdoll activated
[02:12:43] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[02:12:43] [ENEMY] [Enemy2] Ragdoll activated
[02:12:43] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[02:12:43] [ENEMY] [Enemy4] Ragdoll activated
[02:12:43] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[02:12:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(553.72156, 652.3258), shooter_id=3258387007639, bullet_pos=(55.41594, 124.87123)
[02:12:43] [INFO] [Bullet] Using shooter_position, distance=725,6148
[02:12:43] [INFO] [Bullet] Distance to wall: 725,6148 (49,408447% of viewport)
[02:12:43] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[02:12:43] [ENEMY] [Enemy1] Player reloading state changed: false -> true
[02:12:43] [ENEMY] [Enemy2] Player reloading state changed: false -> true
[02:12:43] [ENEMY] [Enemy3] Player reloading state changed: false -> true
[02:12:43] [ENEMY] [Enemy4] Player reloading state changed: false -> true
[02:12:43] [ENEMY] [Enemy5] Player reloading state changed: false -> true
[02:12:43] [ENEMY] [Enemy6] Player reloading state changed: false -> true
[02:12:43] [ENEMY] [Enemy7] Player reloading state changed: false -> true
[02:12:43] [ENEMY] [Enemy8] Player reloading state changed: false -> true
[02:12:43] [ENEMY] [Enemy9] Player reloading state changed: false -> true
[02:12:43] [ENEMY] [Enemy10] Player reloading state changed: false -> true
[02:12:43] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(306.5327, 209.9338), source=PLAYER (Player), range=900, listeners=6
[02:12:43] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=0, below_threshold=0
[02:12:43] [ENEMY] [Enemy5] Player vulnerable (reloading) but cannot attack: close=false (dist=1400), can_see=false
[02:12:43] [ENEMY] [Enemy6] Player vulnerable (reloading) but cannot attack: close=false (dist=1661), can_see=false
[02:12:43] [ENEMY] [Enemy7] Player vulnerable (reloading) but cannot attack: close=false (dist=1552), can_see=false
[02:12:43] [ENEMY] [Enemy8] Player vulnerable (reloading) but cannot attack: close=false (dist=2019), can_see=false
[02:12:43] [ENEMY] [Enemy9] Player vulnerable (reloading) but cannot attack: close=false (dist=2239), can_see=false
[02:12:43] [ENEMY] [Enemy10] Player vulnerable (reloading) but cannot attack: close=false (dist=1296), can_see=false
[02:12:44] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[02:12:44] [INFO] [Player.Reload.Anim] Phase changed to: PullBolt (duration: 0,35s)
[02:12:44] [ENEMY] [Enemy1] Player reloading state changed: true -> false
[02:12:44] [ENEMY] [Enemy2] Player reloading state changed: true -> false
[02:12:44] [ENEMY] [Enemy3] Player reloading state changed: true -> false
[02:12:44] [ENEMY] [Enemy4] Player reloading state changed: true -> false
[02:12:44] [ENEMY] [Enemy5] Player reloading state changed: true -> false
[02:12:44] [ENEMY] [Enemy6] Player reloading state changed: true -> false
[02:12:44] [ENEMY] [Enemy7] Player reloading state changed: true -> false
[02:12:44] [ENEMY] [Enemy8] Player reloading state changed: true -> false
[02:12:44] [ENEMY] [Enemy9] Player reloading state changed: true -> false
[02:12:44] [ENEMY] [Enemy10] Player reloading state changed: true -> false
[02:12:44] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[02:12:44] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[02:12:44] [ENEMY] [Enemy1] Death animation completed
[02:12:44] [ENEMY] [Enemy3] Death animation completed
[02:12:44] [ENEMY] [Enemy4] Death animation completed
[02:12:44] [ENEMY] [Enemy2] Death animation completed
[02:12:46] [INFO] [ScoreManager] Combo ended at 4. Max combo: 4
[02:12:46] [ENEMY] [Enemy10] State: FLANKING -> COMBAT
[02:12:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(528.5766, 710.6337), source=ENEMY (Enemy10), range=1469, listeners=6
[02:12:47] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=3
[02:12:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(558.2441, 97.53687), source=PLAYER (AssaultRifle), range=1469, listeners=6
[02:12:47] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=4
[02:12:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(551.6059, 681.6629), source=ENEMY (Enemy10), range=1469, listeners=6
[02:12:47] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=3
[02:12:47] [INFO] [LastChance] Threat detected: Bullet
[02:12:47] [INFO] [LastChance] Effect already used this life
[02:12:47] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:12:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(558.2441, 97.53687), source=PLAYER (AssaultRifle), range=1469, listeners=6
[02:12:47] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=4
[02:12:47] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[02:12:47] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[02:12:47] [INFO] [PenultimateHit] Player died - ending penultimate effect
[02:12:47] [INFO] [LastChance] Player died
[02:12:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(558.0291, 645.6721), source=ENEMY (Enemy10), range=1469, listeners=6
[02:12:47] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=3
[02:12:47] [INFO] [LastChance] Threat detected: @Area2D@2709
[02:12:47] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:12:47] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:12:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(545.6945, 610.8129), source=ENEMY (Enemy10), range=1469, listeners=6
[02:12:47] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=3
[02:12:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(560.166, 614.1272), shooter_id=3257564923639, bullet_pos=(566.7277, 30.83069)
[02:12:47] [INFO] [Bullet] Using shooter_position, distance=583.333435058594
[02:12:47] [INFO] [Bullet] Distance to wall: 583.333435058594 (39.7202462487424% of viewport)
[02:12:47] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:12:47] [INFO] [Bullet] Starting wall penetration at (566.7277, 30.83069)
[02:12:47] [INFO] [Bullet] Raycast backward hit penetrating body at distance 47.8360557556152
[02:12:47] [INFO] [Bullet] Body exited signal received for penetrating body
[02:12:47] [INFO] [Bullet] Exiting penetration at (567.2526, -15.83303) after traveling 41.6666679382324 pixels through wall
[02:12:47] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:12:47] [INFO] [LastChance] Threat detected: @Area2D@2712
[02:12:47] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:12:47] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:12:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(565.8553, 578.0751), shooter_id=3257564923639, bullet_pos=(566.0656, 36.40848)
[02:12:47] [INFO] [Bullet] Using shooter_position, distance=541.666625976563
[02:12:47] [INFO] [Bullet] Distance to wall: 541.666625976563 (36.883076599841% of viewport)
[02:12:47] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:12:47] [INFO] [Bullet] Starting wall penetration at (566.0656, 36.40848)
[02:12:47] [ENEMY] [Enemy10] State: COMBAT -> RETREATING
[02:12:47] [INFO] [Bullet] Raycast backward hit penetrating body at distance 42.2581901550293
[02:12:47] [INFO] [Bullet] Body exited signal received for penetrating body
[02:12:47] [INFO] [Bullet] Exiting penetration at (566.0837, -10.25819) after traveling 41.6666717529297 pixels through wall
[02:12:47] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:12:47] [INFO] [LastChance] Threat detected: Bullet
[02:12:47] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:12:47] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:12:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(559.7026, 579.3389), source=ENEMY (Enemy10), range=1469, listeners=6
[02:12:47] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=3
[02:12:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(554.6926, 543.3735), shooter_id=3257564923639, bullet_pos=(563.5652, 43.4523)
[02:12:47] [INFO] [Bullet] Using shooter_position, distance=499.999938964844
[02:12:47] [INFO] [Bullet] Distance to wall: 499.999938964844 (34.0459152629317% of viewport)
[02:12:47] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:12:47] [INFO] [LastChance] Threat detected: @Area2D@2714
[02:12:47] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:12:47] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:12:47] [ENEMY] [Enemy10] State: RETREATING -> IN_COVER
[02:12:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(558.2441, 97.53687), shooter_id=3258387007639, bullet_pos=(656.1223, 1410.5608)
[02:12:47] [INFO] [Bullet] Using shooter_position, distance=1316,667
[02:12:47] [INFO] [Bullet] Distance to wall: 1316,667 (89,65428% of viewport)
[02:12:47] [INFO] [Bullet] Distance-based penetration chance: 42,070015%
[02:12:47] [INFO] [Bullet] Penetration failed (distance roll)
[02:12:47] [ENEMY] [Enemy10] State: IN_COVER -> SUPPRESSED
[02:12:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(548.8075, 512.3856), shooter_id=3257564923639, bullet_pos=(539.2302, 54.15236)
[02:12:47] [INFO] [Bullet] Using shooter_position, distance=458.333282470703
[02:12:47] [INFO] [Bullet] Distance to wall: 458.333282470703 (31.2087560040204% of viewport)
[02:12:47] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:12:47] [INFO] [Bullet] Starting wall penetration at (539.2302, 54.15236)
[02:12:47] [INFO] [Bullet] Raycast backward hit penetrating body at distance 24.5094718933105
[02:12:47] [INFO] [Bullet] Body exited signal received for penetrating body
[02:12:47] [INFO] [Bullet] Exiting penetration at (538.255, 7.49588) after traveling 41.6666679382324 pixels through wall
[02:12:47] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:12:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(558.2441, 97.53687), shooter_id=3258387007639, bullet_pos=(656.1223, 1410.5608)
[02:12:47] [INFO] [Bullet] Using shooter_position, distance=1316,667
[02:12:47] [INFO] [Bullet] Distance to wall: 1316,667 (89,65428% of viewport)
[02:12:47] [INFO] [Bullet] Distance-based penetration chance: 42,070015%
[02:12:47] [INFO] [Bullet] Starting wall penetration at (656.1223, 1410.5608)
[02:12:47] [INFO] [Bullet] Raycast backward hit penetrating body at distance 45,223515
[02:12:47] [INFO] [Bullet] Body exited signal received for penetrating body
[02:12:47] [INFO] [Bullet] Exiting penetration at (659.59143, 1457.0984) after traveling 41,666668 pixels through wall
[02:12:47] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[02:12:47] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[02:12:47] [INFO] [LastChance] Resetting all effects (scene change detected)
[02:12:47] [ENEMY] [Enemy1] Death animation component initialized
[02:12:47] [ENEMY] [Enemy2] Death animation component initialized
[02:12:47] [ENEMY] [Enemy3] Death animation component initialized
[02:12:47] [ENEMY] [Enemy4] Death animation component initialized
[02:12:47] [ENEMY] [Enemy5] Death animation component initialized
[02:12:47] [ENEMY] [Enemy6] Death animation component initialized
[02:12:47] [ENEMY] [Enemy7] Death animation component initialized
[02:12:47] [ENEMY] [Enemy8] Death animation component initialized
[02:12:47] [ENEMY] [Enemy9] Death animation component initialized
[02:12:47] [ENEMY] [Enemy10] Death animation component initialized
[02:12:47] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[02:12:47] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[02:12:47] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[02:12:47] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[02:12:47] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[02:12:47] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[02:12:47] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[02:12:47] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[02:12:47] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[02:12:47] [ENEMY] [Enemy10] Grenade system configured: offensive=2, flashbangs=0
[02:12:47] [INFO] [ScoreManager] Level started with 10 enemies
[02:12:47] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 7)
[02:12:47] [ENEMY] [Enemy1] Registered as sound listener
[02:12:47] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[02:12:47] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 8)
[02:12:47] [ENEMY] [Enemy2] Registered as sound listener
[02:12:47] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[02:12:47] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 9)
[02:12:47] [ENEMY] [Enemy3] Registered as sound listener
[02:12:47] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[02:12:47] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 10)
[02:12:47] [ENEMY] [Enemy4] Registered as sound listener
[02:12:47] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[02:12:47] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 11)
[02:12:47] [ENEMY] [Enemy5] Registered as sound listener
[02:12:47] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[02:12:47] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 12)
[02:12:47] [ENEMY] [Enemy6] Registered as sound listener
[02:12:47] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[02:12:47] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 13)
[02:12:47] [ENEMY] [Enemy7] Registered as sound listener
[02:12:47] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[02:12:47] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 14)
[02:12:47] [ENEMY] [Enemy8] Registered as sound listener
[02:12:47] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[02:12:47] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 15)
[02:12:47] [ENEMY] [Enemy9] Registered as sound listener
[02:12:47] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[02:12:47] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 16)
[02:12:47] [ENEMY] [Enemy10] Registered as sound listener
[02:12:47] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[02:12:47] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[02:12:47] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[02:12:47] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[02:12:47] [INFO] [LastChance] Found player: Player
[02:12:47] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[02:12:47] [INFO] [LastChance] Connected to player Damaged signal (C#)
[02:12:47] [INFO] [LastChance] Connected to player Died signal (C#)
[02:12:48] [INFO] [Player] Detecting weapon pose (frame 3)...
[02:12:48] [INFO] [Player] Detected weapon: Rifle (default pose)
[02:12:48] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[02:12:49] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[02:12:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1144.241, 1518.635), source=ENEMY (Enemy10), range=1469, listeners=16
[02:12:49] [INFO] [SoundPropagation] Cleaned up 6 invalid listeners
[02:12:49] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:12:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(645.3808, 1170.122), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:12:49] [ENEMY] [Enemy3] Heard gunshot at (645.3808, 1170.122), source_type=0, intensity=0.01, distance=424
[02:12:49] [ENEMY] [Enemy4] Heard gunshot at (645.3808, 1170.122), source_type=0, intensity=0.03, distance=311
[02:12:49] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=6
[02:12:49] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:12:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1113.282, 1497.781), source=ENEMY (Enemy10), range=1469, listeners=10
[02:12:49] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:12:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(677.9621, 1155.833), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:12:49] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=7
[02:12:49] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:12:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1083.593, 1475.156), source=ENEMY (Enemy10), range=1469, listeners=10
[02:12:49] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:12:49] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(645.3808, 1170.1224), shooter_id=3632032384378, bullet_pos=(895.72504, 1631.5897)
[02:12:49] [INFO] [Bullet] Using shooter_position, distance=524,9993
[02:12:49] [INFO] [Bullet] Distance to wall: 524,9993 (35,748173% of viewport)
[02:12:49] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:12:49] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[02:12:49] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(677.9621, 1155.8331), shooter_id=3632032384378, bullet_pos=(892.0758, 1680.4923)
[02:12:49] [INFO] [Bullet] Using shooter_position, distance=566,6674
[02:12:49] [INFO] [Bullet] Distance to wall: 566,6674 (38,585426% of viewport)
[02:12:49] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:12:49] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1082.947, 1488.924), shooter_id=3631210300945, bullet_pos=(63.12721, 840.8206)
[02:12:49] [INFO] [Bullet] Using shooter_position, distance=1208.33325195313
[02:12:49] [INFO] [Bullet] Distance to wall: 1208.33325195313 (82.2776330544139% of viewport)
[02:12:49] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1026.25, 1438.517), shooter_id=3631210300945, bullet_pos=(509.3176, 1017.536)
[02:12:49] [INFO] [Bullet] Using shooter_position, distance=666.666259765625
[02:12:49] [INFO] [Bullet] Distance to wall: 666.666259765625 (45.3945315185968% of viewport)
[02:12:49] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(645.3808, 1170.1224), shooter_id=3632032384378, bullet_pos=(744.36487, 2071.7068)
[02:12:49] [INFO] [Bullet] Using shooter_position, distance=907,0018
[02:12:49] [INFO] [Bullet] Distance to wall: 907,0018 (61,75942% of viewport)
[02:12:49] [INFO] [Bullet] Distance-based penetration chance: 74,61401%
[02:12:49] [INFO] [Bullet] Starting wall penetration at (744.36487, 2071.7068)
[02:12:49] [INFO] [Bullet] Raycast backward hit penetrating body at distance 14,727064
[02:12:49] [INFO] [Bullet] Body exited signal received for penetrating body
[02:12:49] [INFO] [Bullet] Exiting penetration at (731.22076, 2109.9265) after traveling 35,41667 pixels through wall
[02:12:49] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[02:12:49] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[02:12:49] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[02:12:49] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(677.9621, 1155.8331), shooter_id=3632032384378, bullet_pos=(797.7022, 2063.6238)
[02:12:49] [INFO] [Bullet] Using shooter_position, distance=915,6536
[02:12:49] [INFO] [Bullet] Distance to wall: 915,6536 (62,348537% of viewport)
[02:12:49] [INFO] [Bullet] Distance-based penetration chance: 73,92671%
[02:12:49] [INFO] [Bullet] Starting wall penetration at (797.7022, 2063.6238)
[02:12:49] [INFO] [Bullet] Raycast backward hit penetrating body at distance 7,0727005
[02:12:49] [INFO] [Bullet] Body exited signal received for penetrating body
[02:12:49] [INFO] [Bullet] Exiting penetration at (788.03564, 2102.8674) after traveling 35,416668 pixels through wall
[02:12:49] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[02:12:49] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1053.997, 1464.376), shooter_id=3631210300945, bullet_pos=(42.495, 729.9617)
[02:12:49] [INFO] [Bullet] Using shooter_position, distance=1250.00024414063
[02:12:49] [INFO] [Bullet] Distance to wall: 1250.00024414063 (85.1148151713033% of viewport)
[02:12:49] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1082.947, 1488.924), shooter_id=3631210300945, bullet_pos=(320.8575, 711.5486)
[02:12:49] [INFO] [Bullet] Using shooter_position, distance=1088.61926269531
[02:12:49] [INFO] [Bullet] Distance to wall: 1088.61926269531 (74.1260873912342% of viewport)
[02:12:49] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1053.997, 1464.376), shooter_id=3631210300945, bullet_pos=(104.8132, 686.7513)
[02:12:49] [INFO] [Bullet] Using shooter_position, distance=1227.04919433594
[02:12:49] [INFO] [Bullet] Distance to wall: 1227.04919433594 (83.552035986843% of viewport)
[02:12:49] [INFO] [Bullet] Distance-based penetration chance: 49.1892913486832%
[02:12:49] [INFO] [Bullet] Starting wall penetration at (104.8132, 686.7513)
[02:12:49] [INFO] [Bullet] Raycast backward hit penetrating body at distance 42.6081619262695
[02:12:49] [INFO] [Bullet] Body exited signal received for penetrating body
[02:12:49] [INFO] [Bullet] Exiting penetration at (138.0267, 663.7216) after traveling 35.4166679382324 pixels through wall
[02:12:49] [INFO] [Bullet] Damage multiplier after penetration: 0.45
[02:12:50] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1082.947, 1488.924), shooter_id=3631210300945, bullet_pos=(501.3527, 829.7034)
[02:12:50] [INFO] [Bullet] Using shooter_position, distance=879.103515625
[02:12:50] [INFO] [Bullet] Distance to wall: 879.103515625 (59.8597749077296% of viewport)
[02:12:50] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1026.25, 1438.517), shooter_id=3631210300945, bullet_pos=(41.89076, 1280.359)
[02:12:50] [INFO] [Bullet] Using shooter_position, distance=996.984191894531
[02:12:50] [INFO] [Bullet] Distance to wall: 996.984191894531 (67.8864869183719% of viewport)
[02:12:50] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1026.25, 1438.517), shooter_id=3631210300945, bullet_pos=(260.9236, 1391.977)
[02:12:50] [INFO] [Bullet] Using shooter_position, distance=766.740356445313
[02:12:50] [INFO] [Bullet] Distance to wall: 766.740356445313 (52.208760781554% of viewport)
[02:12:50] [INFO] [LastChance] Threat detected: @Area2D@2976
[02:12:50] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:12:50] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:12:50] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[02:12:50] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[02:12:51] [INFO] ------------------------------------------------------------
[02:12:51] [INFO] GAME LOG ENDED: 2026-01-24T02:12:51
[02:12:51] [INFO] ============================================================
