[02:03:49] [INFO] ============================================================
[02:03:49] [INFO] GAME LOG STARTED
[02:03:49] [INFO] ============================================================
[02:03:49] [INFO] Timestamp: 2026-01-24T02:03:49
[02:03:49] [INFO] Log file: I:/Загрузки/godot exe/game_log_20260124_020349.txt
[02:03:49] [INFO] Executable: I:/Загрузки/godot exe/Godot-Top-Down-Template.exe
[02:03:49] [INFO] OS: Windows
[02:03:49] [INFO] Debug build: false
[02:03:49] [INFO] Engine version: 4.3-stable (official)
[02:03:49] [INFO] Project: Godot Top-Down Template
[02:03:49] [INFO] ------------------------------------------------------------
[02:03:49] [INFO] [GameManager] GameManager ready
[02:03:49] [INFO] [ScoreManager] ScoreManager ready
[02:03:49] [INFO] [SoundPropagation] SoundPropagation autoload initialized
[02:03:49] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[02:03:49] [INFO] [PenultimateHit] Saturation shader loaded successfully
[02:03:49] [INFO] [PenultimateHit] PenultimateHitEffectsManager ready - Configuration:
[02:03:49] [INFO] [PenultimateHit]   Time scale: 0.10 (10x slowdown)
[02:03:49] [INFO] [PenultimateHit]   Saturation boost: 2.0 (3.0x)
[02:03:49] [INFO] [PenultimateHit]   Contrast boost: 1.0 (2.0x)
[02:03:49] [INFO] [PenultimateHit]   Effect duration: 3.0 real seconds
[02:03:49] [INFO] [LastChance] Resetting all effects (scene change detected)
[02:03:49] [INFO] [LastChance] Last chance shader loaded successfully
[02:03:49] [INFO] [LastChance] LastChanceEffectsManager ready - Configuration:
[02:03:49] [INFO] [LastChance]   Freeze duration: 6.0 real seconds
[02:03:49] [INFO] [LastChance]   Sepia intensity: 0.70
[02:03:49] [INFO] [LastChance]   Brightness: 0.60
[02:03:49] [INFO] [GrenadeManager] Loaded grenade scene: res://scenes/projectiles/FlashbangGrenade.tscn
[02:03:49] [INFO] [GrenadeManager] Loaded grenade scene: res://scenes/projectiles/FragGrenade.tscn
[02:03:49] [ENEMY] [Enemy1] Death animation component initialized
[02:03:49] [ENEMY] [Enemy2] Death animation component initialized
[02:03:49] [ENEMY] [Enemy3] Death animation component initialized
[02:03:49] [ENEMY] [Enemy4] Death animation component initialized
[02:03:49] [ENEMY] [Enemy5] Death animation component initialized
[02:03:49] [ENEMY] [Enemy6] Death animation component initialized
[02:03:49] [ENEMY] [Enemy7] Death animation component initialized
[02:03:49] [ENEMY] [Enemy8] Death animation component initialized
[02:03:49] [ENEMY] [Enemy9] Death animation component initialized
[02:03:49] [ENEMY] [Enemy10] Death animation component initialized
[02:03:49] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[02:03:49] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[02:03:49] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[02:03:49] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[02:03:49] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[02:03:49] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[02:03:49] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[02:03:49] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[02:03:49] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[02:03:49] [INFO] [ScoreManager] Level started with 10 enemies
[02:03:49] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 1)
[02:03:49] [ENEMY] [Enemy1] Registered as sound listener
[02:03:49] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[02:03:49] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 2)
[02:03:49] [ENEMY] [Enemy2] Registered as sound listener
[02:03:49] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[02:03:49] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 3)
[02:03:49] [ENEMY] [Enemy3] Registered as sound listener
[02:03:49] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[02:03:49] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 4)
[02:03:49] [ENEMY] [Enemy4] Registered as sound listener
[02:03:49] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[02:03:49] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 5)
[02:03:49] [ENEMY] [Enemy5] Registered as sound listener
[02:03:49] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[02:03:49] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 6)
[02:03:49] [ENEMY] [Enemy6] Registered as sound listener
[02:03:49] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[02:03:49] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 7)
[02:03:49] [ENEMY] [Enemy7] Registered as sound listener
[02:03:49] [ENEMY] [Enemy7] Enemy spawned at (1606.114, 893.8859), health: 3, behavior: PATROL, player_found: yes
[02:03:49] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 8)
[02:03:49] [ENEMY] [Enemy8] Registered as sound listener
[02:03:49] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[02:03:49] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 9)
[02:03:49] [ENEMY] [Enemy9] Registered as sound listener
[02:03:49] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[02:03:49] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 10)
[02:03:49] [ENEMY] [Enemy10] Registered as sound listener
[02:03:49] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[02:03:49] [INFO] [Player] Detecting weapon pose (frame 3)...
[02:03:49] [INFO] [Player] Detected weapon: Rifle (default pose)
[02:03:49] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[02:03:49] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[02:03:49] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[02:03:49] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[02:03:49] [INFO] [LastChance] Found player: Player
[02:03:49] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[02:03:49] [INFO] [LastChance] Connected to player Damaged signal (C#)
[02:03:49] [INFO] [LastChance] Connected to player Died signal (C#)
[02:04:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 1256), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:04:04] [ENEMY] [Enemy4] Heard gunshot at (450, 1256), source_type=0, intensity=0.01, distance=499
[02:04:04] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=6
[02:04:04] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(450, 1256), shooter_id=48821700295, bullet_pos=(194.72272, 703.8198)
[02:04:04] [INFO] [Bullet] Using shooter_position, distance=608,3333
[02:04:04] [INFO] [Bullet] Distance to wall: 608,3333 (41,422535% of viewport)
[02:04:04] [INFO] [Bullet] Distance-based penetration chance: 98,34038%
[02:04:04] [INFO] [Bullet] Starting wall penetration at (194.72272, 703.8198)
[02:04:04] [INFO] [Bullet] Raycast backward hit penetrating body at distance 29,238052
[02:04:04] [INFO] [Bullet] Body exited signal received for penetrating body
[02:04:04] [INFO] [Bullet] Exiting penetration at (175.13979, 661.4608) after traveling 41,666676 pixels through wall
[02:04:04] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[02:04:04] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[02:04:08] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[02:04:08] [INFO] [LastChance] Resetting all effects (scene change detected)
[02:04:08] [ENEMY] [Enemy1] Death animation component initialized
[02:04:08] [ENEMY] [Enemy2] Death animation component initialized
[02:04:08] [ENEMY] [Enemy3] Death animation component initialized
[02:04:08] [ENEMY] [Enemy4] Death animation component initialized
[02:04:08] [ENEMY] [Enemy5] Death animation component initialized
[02:04:08] [ENEMY] [Enemy6] Death animation component initialized
[02:04:08] [ENEMY] [Enemy7] Death animation component initialized
[02:04:08] [ENEMY] [Enemy8] Death animation component initialized
[02:04:08] [ENEMY] [Enemy9] Death animation component initialized
[02:04:08] [ENEMY] [Enemy10] Death animation component initialized
[02:04:08] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[02:04:08] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[02:04:08] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[02:04:08] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[02:04:08] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[02:04:08] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[02:04:08] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[02:04:08] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[02:04:08] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[02:04:08] [ENEMY] [Enemy10] Grenade system configured: offensive=2, flashbangs=0
[02:04:08] [INFO] [ScoreManager] Level started with 10 enemies
[02:04:08] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[02:04:08] [ENEMY] [Enemy1] Registered as sound listener
[02:04:08] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[02:04:08] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[02:04:08] [ENEMY] [Enemy2] Registered as sound listener
[02:04:08] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[02:04:08] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[02:04:08] [ENEMY] [Enemy3] Registered as sound listener
[02:04:08] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[02:04:08] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[02:04:08] [ENEMY] [Enemy4] Registered as sound listener
[02:04:08] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[02:04:08] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[02:04:08] [ENEMY] [Enemy5] Registered as sound listener
[02:04:08] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[02:04:08] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[02:04:08] [ENEMY] [Enemy6] Registered as sound listener
[02:04:08] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[02:04:08] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[02:04:08] [ENEMY] [Enemy7] Registered as sound listener
[02:04:08] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[02:04:08] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[02:04:08] [ENEMY] [Enemy8] Registered as sound listener
[02:04:08] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[02:04:08] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[02:04:08] [ENEMY] [Enemy9] Registered as sound listener
[02:04:08] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[02:04:08] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[02:04:08] [ENEMY] [Enemy10] Registered as sound listener
[02:04:08] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[02:04:08] [INFO] [Player] Detecting weapon pose (frame 3)...
[02:04:08] [INFO] [Player] Detected weapon: Rifle (default pose)
[02:04:08] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[02:04:08] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[02:04:08] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[02:04:08] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[02:04:08] [INFO] [LastChance] Found player: Player
[02:04:08] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[02:04:08] [INFO] [LastChance] Connected to player Damaged signal (C#)
[02:04:08] [INFO] [LastChance] Connected to player Died signal (C#)
[02:04:09] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:04:09] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:04:09] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1171.731, 1535.008), source=ENEMY (Enemy10), range=1469, listeners=20
[02:04:09] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[02:04:09] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=8
[02:04:09] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:04:09] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1139.423, 1516.307), source=ENEMY (Enemy10), range=1469, listeners=10
[02:04:09] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:04:09] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:04:09] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1107.906, 1496.302), source=ENEMY (Enemy10), range=1469, listeners=10
[02:04:09] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:04:09] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:04:09] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1077.226, 1475.035), source=ENEMY (Enemy10), range=1469, listeners=10
[02:04:09] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:04:10] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:04:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1047.428, 1452.549), source=ENEMY (Enemy10), range=1469, listeners=10
[02:04:10] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:04:10] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1108.874, 1508.939), shooter_id=944909585436, bullet_pos=(53.14801, 921.1365)
[02:04:10] [INFO] [Bullet] Using shooter_position, distance=1208.33337402344
[02:04:10] [INFO] [Bullet] Distance to wall: 1208.33337402344 (82.277641366406% of viewport)
[02:04:10] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[02:04:10] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1077.684, 1487.691), shooter_id=944909585436, bullet_pos=(46.85162, 857.2495)
[02:04:10] [INFO] [Bullet] Using shooter_position, distance=1208.33435058594
[02:04:10] [INFO] [Bullet] Distance to wall: 1208.33435058594 (82.2777078623423% of viewport)
[02:04:10] [INFO] [Bullet] Distance-based penetration chance: 50.676007493934%
[02:04:10] [INFO] [Bullet] Starting wall penetration at (46.85162, 857.2495)
[02:04:10] [INFO] [Bullet] Raycast backward hit penetrating body at distance 29.2577056884766
[02:04:10] [INFO] [Bullet] Body exited signal received for penetrating body
[02:04:10] [INFO] [Bullet] Exiting penetration at (7.040176, 832.9015) after traveling 41.6666679382324 pixels through wall
[02:04:10] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:04:10] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1108.874, 1508.939), shooter_id=944909585436, bullet_pos=(423.4894, 702.6249)
[02:04:10] [INFO] [Bullet] Using shooter_position, distance=1058.25061035156
[02:04:10] [INFO] [Bullet] Distance to wall: 1058.25061035156 (72.0582300101207% of viewport)
[02:04:10] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1047.382, 1465.197), shooter_id=944909585436, bullet_pos=(43.06916, 793.3154)
[02:04:10] [INFO] [Bullet] Using shooter_position, distance=1208.33349609375
[02:04:10] [INFO] [Bullet] Distance to wall: 1208.33349609375 (82.277649678398% of viewport)
[02:04:10] [INFO] [Bullet] Distance-based penetration chance: 50.6760753752023%
[02:04:10] [INFO] [Bullet] Starting wall penetration at (43.06916, 793.3154)
[02:04:10] [INFO] [Bullet] Raycast backward hit penetrating body at distance 33.3488731384277
[02:04:10] [INFO] [Bullet] Body exited signal received for penetrating body
[02:04:10] [INFO] [Bullet] Exiting penetration at (4.281879, 767.3669) after traveling 41.6666679382324 pixels through wall
[02:04:10] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:04:10] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1018.01, 1441.508), shooter_id=944909585436, bullet_pos=(41.67921, 729.5751)
[02:04:10] [INFO] [Bullet] Using shooter_position, distance=1208.33349609375
[02:04:10] [INFO] [Bullet] Distance to wall: 1208.33349609375 (82.277649678398% of viewport)
[02:04:10] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1108.874, 1508.939), shooter_id=944909585436, bullet_pos=(691.4153, 850.534)
[02:04:10] [INFO] [Bullet] Using shooter_position, distance=779.595275878906
[02:04:10] [INFO] [Bullet] Distance to wall: 779.595275878906 (53.0840758838999% of viewport)
[02:04:10] [INFO] [Bullet] Distance-based penetration chance: 84.7352448021168%
[02:04:10] [INFO] [Bullet] Starting wall penetration at (691.4153, 850.534)
[02:04:10] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[02:04:10] [INFO] [Bullet] Exiting penetration at (722.1475, 867.4998) after traveling 30.1041679382324 pixels through wall
[02:04:10] [INFO] [Bullet] Damage multiplier after penetration: 0.225
[02:04:10] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[02:04:10] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(989.6003, 1416.68), shooter_id=944909585436, bullet_pos=(42.53408, 666.2555)
[02:04:10] [INFO] [Bullet] Using shooter_position, distance=1208.33422851563
[02:04:10] [INFO] [Bullet] Distance to wall: 1208.33422851563 (82.2776995503503% of viewport)
[02:04:10] [INFO] [Bullet] Distance-based penetration chance: 50.676017191258%
[02:04:10] [INFO] [Bullet] Penetration failed (distance roll)
[02:04:10] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[02:04:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(433.9168, 756.757), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:04:10] [ENEMY] [Enemy1] Heard gunshot at (433.9168, 756.757), source_type=0, intensity=0.01, distance=428
[02:04:10] [ENEMY] [Enemy2] Heard gunshot at (433.9168, 756.757), source_type=0, intensity=0.06, distance=210
[02:04:10] [ENEMY] [Enemy4] Heard gunshot at (433.9168, 756.757), source_type=0, intensity=0.02, distance=393
[02:04:10] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[02:04:10] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[02:04:10] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[02:04:11] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[02:04:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(413.2793, 764.327), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:04:11] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[02:04:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(433.91678, 756.757), shooter_id=945731669069, bullet_pos=(916.8001, 777.6043)
[02:04:11] [INFO] [Bullet] Using shooter_position, distance=483,33313
[02:04:11] [INFO] [Bullet] Distance to wall: 483,33313 (32,91104% of viewport)
[02:04:11] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:04:11] [INFO] [Bullet] Starting wall penetration at (916.8001, 777.6043)
[02:04:11] [INFO] [Bullet] Raycast backward hit penetrating body at distance 27,448885
[02:04:11] [INFO] [Bullet] Body exited signal received for penetrating body
[02:04:11] [INFO] [Bullet] Exiting penetration at (963.42334, 779.6171) after traveling 41,666668 pixels through wall
[02:04:11] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[02:04:11] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[02:04:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(387.5826, 786.9941), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:04:11] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[02:04:11] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[02:04:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(413.27927, 764.32697), shooter_id=945731669069, bullet_pos=(936.6115, 806.13983)
[02:04:11] [INFO] [Bullet] Using shooter_position, distance=525
[02:04:11] [INFO] [Bullet] Distance to wall: 525 (35,748215% of viewport)
[02:04:11] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:04:11] [INFO] [Bullet] Starting wall penetration at (936.6115, 806.13983)
[02:04:11] [INFO] [Bullet] Raycast backward hit penetrating body at distance 47,280136
[02:04:11] [INFO] [Bullet] Body exited signal received for penetrating body
[02:04:11] [INFO] [Bullet] Exiting penetration at (983.12994, 809.8565) after traveling 41,66667 pixels through wall
[02:04:11] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[02:04:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(360.3589, 814.2178), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:04:11] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[02:04:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(387.58258, 786.9941), shooter_id=945731669069, bullet_pos=(703.64355, 806.5707)
[02:04:11] [INFO] [Bullet] Using shooter_position, distance=316,6667
[02:04:11] [INFO] [Bullet] Distance to wall: 316,6667 (21,562418% of viewport)
[02:04:11] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:04:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(360.3589, 814.2178), shooter_id=945731669069, bullet_pos=(509.0985, 833.6221)
[02:04:11] [INFO] [Bullet] Using shooter_position, distance=150,00002
[02:04:11] [INFO] [Bullet] Distance to wall: 150,00002 (10,213778% of viewport)
[02:04:11] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:04:11] [INFO] [Bullet] Starting wall penetration at (509.0985, 833.6221)
[02:04:11] [ENEMY] [Enemy3] Hit taken, health: 1/2
[02:04:11] [INFO] [Bullet] Raycast backward hit penetrating body at distance 31,638958
[02:04:11] [INFO] [Bullet] Body exited signal received for penetrating body
[02:04:11] [INFO] [Bullet] Exiting penetration at (555.3731, 839.65894) after traveling 41,666668 pixels through wall
[02:04:11] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[02:04:11] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[02:04:11] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[02:04:11] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:04:11] [ENEMY] [Enemy10] State: PURSUING -> COMBAT
[02:04:11] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:04:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1003.44, 1424.162), source=ENEMY (Enemy10), range=1469, listeners=10
[02:04:11] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:04:11] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:04:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(973.1633, 1418.895), source=ENEMY (Enemy10), range=1469, listeners=10
[02:04:11] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:04:11] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:04:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(943.2774, 1403.94), source=ENEMY (Enemy10), range=1469, listeners=10
[02:04:11] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:04:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(935.9894, 1397.955), source=ENEMY (Enemy10), range=1469, listeners=10
[02:04:12] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:04:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(935.181, 1393.518), source=ENEMY (Enemy10), range=1469, listeners=10
[02:04:12] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:04:12] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(945.0521, 1389.213), shooter_id=944909585436, bullet_pos=(45.74338, 699.5121)
[02:04:12] [INFO] [Bullet] Using shooter_position, distance=1133.33264160156
[02:04:12] [INFO] [Bullet] Distance to wall: 1133.33264160156 (77.1707035816145% of viewport)
[02:04:12] [INFO] [Bullet] Distance-based penetration chance: 56.634179154783%
[02:04:12] [INFO] [Bullet] Starting wall penetration at (45.74338, 699.5121)
[02:04:12] [INFO] [Bullet] Raycast backward hit penetrating body at distance 21.0135326385498
[02:04:12] [INFO] [Bullet] Body exited signal received for penetrating body
[02:04:12] [INFO] [Bullet] Exiting penetration at (15.32557, 676.184) after traveling 33.3333282470703 pixels through wall
[02:04:12] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:04:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(934.1646, 1390.619), source=ENEMY (Enemy10), range=1469, listeners=10
[02:04:12] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:04:12] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(913.9794, 1385.311), shooter_id=944909585436, bullet_pos=(52.72296, 756.0144)
[02:04:12] [INFO] [Bullet] Using shooter_position, distance=1066.66638183594
[02:04:12] [INFO] [Bullet] Distance to wall: 1066.66638183594 (72.631275365731% of viewport)
[02:04:12] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(913.9794, 1385.311), shooter_id=944909585436, bullet_pos=(130.1071, 710.061)
[02:04:12] [INFO] [Bullet] Using shooter_position, distance=1034.61047363281
[02:04:12] [INFO] [Bullet] Distance to wall: 1034.61047363281 (70.4485296305627% of viewport)
[02:04:12] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(882.9891, 1372.382), shooter_id=944909585436, bullet_pos=(56.02616, 810.1266)
[02:04:12] [INFO] [Bullet] Using shooter_position, distance=999.999389648438
[02:04:12] [INFO] [Bullet] Distance to wall: 999.999389648438 (68.0917972778952% of viewport)
[02:04:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(933.4129, 1389.014), source=ENEMY (Enemy10), range=1469, listeners=10
[02:04:12] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:04:12] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(874.4895, 1368.93), shooter_id=944909585436, bullet_pos=(53.38049, 858.8073)
[02:04:12] [INFO] [Bullet] Using shooter_position, distance=966.666931152344
[02:04:12] [INFO] [Bullet] Distance to wall: 966.666931152344 (65.8221288859097% of viewport)
[02:04:12] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(882.9891, 1372.382), shooter_id=944909585436, bullet_pos=(262.3902, 704.8491)
[02:04:12] [INFO] [Bullet] Using shooter_position, distance=911.451110839844
[02:04:12] [INFO] [Bullet] Distance to wall: 911.451110839844 (62.0623821478909% of viewport)
[02:04:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(933.1263, 1388.473), source=ENEMY (Enemy10), range=1469, listeners=10
[02:04:12] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:04:12] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(872.476, 1367.191), shooter_id=944909585436, bullet_pos=(59.03015, 909.5697)
[02:04:12] [INFO] [Bullet] Using shooter_position, distance=933.333557128906
[02:04:12] [INFO] [Bullet] Distance to wall: 933.333557128906 (63.5523981539838% of viewport)
[02:04:12] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(874.4895, 1368.93), shooter_id=944909585436, bullet_pos=(229.2828, 708.0496)
[02:04:12] [INFO] [Bullet] Using shooter_position, distance=923.609436035156
[02:04:12] [INFO] [Bullet] Distance to wall: 923.609436035156 (62.8902648676284% of viewport)
[02:04:12] [INFO] [Bullet] Distance-based penetration chance: 73.2946909877669%
[02:04:12] [INFO] [Bullet] Starting wall penetration at (229.2828, 708.0496)
[02:04:12] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(913.9794, 1385.311), shooter_id=944909585436, bullet_pos=(497.526, 949.4049)
[02:04:12] [INFO] [Bullet] Using shooter_position, distance=602.866333007813
[02:04:12] [INFO] [Bullet] Distance to wall: 602.866333007813 (41.0502771879368% of viewport)
[02:04:12] [INFO] [Bullet] Raycast backward hit penetrating body at distance 2.52355456352234
[02:04:12] [INFO] [Bullet] Max penetration distance exceeded: 56.6666717529297 >= 48
[02:04:12] [INFO] [Bullet] Body exited signal received for penetrating body
[02:04:12] [INFO] [Bullet] Exiting penetration at (276.1057, 667.9198) after traveling 56.6666717529297 pixels through wall
[02:04:12] [INFO] [Bullet] Damage multiplier after penetration: 0.45
[02:04:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(931.8884, 1386.446), source=ENEMY (Enemy10), range=1469, listeners=10
[02:04:12] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:04:12] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(882.9891, 1372.382), shooter_id=944909585436, bullet_pos=(498.7946, 879.6316)
[02:04:12] [INFO] [Bullet] Using shooter_position, distance=624.826599121094
[02:04:12] [INFO] [Bullet] Distance to wall: 624.826599121094 (42.5455920889588% of viewport)
[02:04:12] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(870.4286, 1366.891), shooter_id=944909585436, bullet_pos=(38.86404, 943.0863)
[02:04:12] [INFO] [Bullet] Using shooter_position, distance=933.332702636719
[02:04:12] [INFO] [Bullet] Distance to wall: 933.332702636719 (63.5523399700395% of viewport)
[02:04:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(921.1894, 1377.545), source=ENEMY (Enemy10), range=1469, listeners=10
[02:04:12] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=8
[02:04:12] [INFO] [LastChance] Threat detected: @Area2D@558
[02:04:12] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:04:12] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:04:12] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(868.8046, 1367.768), shooter_id=944909585436, bullet_pos=(51.72666, 990.4307)
[02:04:12] [INFO] [Bullet] Using shooter_position, distance=900
[02:04:12] [INFO] [Bullet] Distance to wall: 900 (61.2826549540699% of viewport)
[02:04:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(888.0538, 1375.934), source=ENEMY (Enemy10), range=1469, listeners=10
[02:04:13] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=8
[02:04:13] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[02:04:13] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[02:04:13] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[02:04:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(867.7643, 1369.672), shooter_id=944909585436, bullet_pos=(67.83745, 1036.163)
[02:04:13] [INFO] [Bullet] Using shooter_position, distance=866.666748046875
[02:04:13] [INFO] [Bullet] Distance to wall: 866.666748046875 (59.0129325341361% of viewport)
[02:04:13] [INFO] [Bullet] Distance-based penetration chance: 77.8182453768413%
[02:04:13] [INFO] [Bullet] Penetration failed (distance roll)
[02:04:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(857.1813, 1380.907), source=ENEMY (Enemy10), range=1469, listeners=10
[02:04:13] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=8
[02:04:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(865.8287, 1370.27), shooter_id=944909585436, bullet_pos=(53.23035, 1068.946)
[02:04:13] [INFO] [Bullet] Using shooter_position, distance=866.667053222656
[02:04:13] [INFO] [Bullet] Distance to wall: 866.667053222656 (59.0129533141162% of viewport)
[02:04:13] [INFO] [Bullet] Distance-based penetration chance: 77.8182211335311%
[02:04:13] [INFO] [Bullet] Penetration failed (distance roll)
[02:04:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(882.9891, 1372.382), shooter_id=944909585436, bullet_pos=(65.54716, 1121.728)
[02:04:13] [INFO] [Bullet] Using shooter_position, distance=855.008056640625
[02:04:13] [INFO] [Bullet] Distance to wall: 855.008056640625 (58.2190707978414% of viewport)
[02:04:13] [INFO] [Bullet] Distance-based penetration chance: 78.7444174025184%
[02:04:13] [INFO] [Bullet] Starting wall penetration at (65.54716, 1121.728)
[02:04:13] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[02:04:13] [INFO] [Bullet] Exiting penetration at (43.31229, 1134.152) after traveling 20.4708347320557 pixels through wall
[02:04:13] [INFO] [Bullet] Damage multiplier after penetration: 0.1125
[02:04:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(827.4138, 1369.15), source=ENEMY (Enemy10), range=1469, listeners=10
[02:04:13] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=8
[02:04:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(854.4674, 1364.402), shooter_id=944909585436, bullet_pos=(60.71479, 1110.627)
[02:04:13] [INFO] [Bullet] Using shooter_position, distance=833.333679199219
[02:04:13] [INFO] [Bullet] Distance to wall: 833.333679199219 (56.7432225821903% of viewport)
[02:04:13] [INFO] [Bullet] Distance-based penetration chance: 80.466240320778%
[02:04:13] [INFO] [Bullet] Starting wall penetration at (60.71479, 1110.627)
[02:04:13] [INFO] [Bullet] Raycast backward hit penetrating body at distance 8.18665599822998
[02:04:13] [INFO] [Bullet] Body exited signal received for penetrating body
[02:04:13] [INFO] [Bullet] Exiting penetration at (24.20218, 1098.953) after traveling 33.3333358764648 pixels through wall
[02:04:13] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:04:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(793.798, 1363.249), source=ENEMY (Enemy10), range=1469, listeners=10
[02:04:13] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=7
[02:04:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(820.9326, 1364.923), shooter_id=944909585436, bullet_pos=(51.54095, 1145.751)
[02:04:13] [INFO] [Bullet] Using shooter_position, distance=800.000122070313
[02:04:13] [INFO] [Bullet] Distance to wall: 800.000122070313 (54.4734793822764% of viewport)
[02:04:13] [INFO] [Bullet] Distance-based penetration chance: 83.1142740540109%
[02:04:13] [INFO] [Bullet] Starting wall penetration at (51.54095, 1145.751)
[02:04:13] [INFO] [Bullet] Raycast backward hit penetrating body at distance 18.0149784088135
[02:04:13] [INFO] [Bullet] Body exited signal received for penetrating body
[02:04:13] [INFO] [Bullet] Exiting penetration at (14.67427, 1135.249) after traveling 33.3333396911621 pixels through wall
[02:04:13] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:04:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(789.7693, 1371.756), shooter_id=944909585436, bullet_pos=(46.90328, 1182.208)
[02:04:13] [INFO] [Bullet] Using shooter_position, distance=766.6669921875
[02:04:13] [INFO] [Bullet] Distance to wall: 766.6669921875 (52.2037652743346% of viewport)
[02:04:13] [INFO] [Bullet] Distance-based penetration chance: 85.7622738466096%
[02:04:13] [INFO] [Bullet] Starting wall penetration at (46.90328, 1182.208)
[02:04:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(759.9214, 1359.101), source=ENEMY (Enemy10), range=1469, listeners=10
[02:04:13] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=7
[02:04:13] [INFO] [Bullet] Raycast backward hit penetrating body at distance 22.9525604248047
[02:04:13] [INFO] [Bullet] Body exited signal received for penetrating body
[02:04:13] [INFO] [Bullet] Exiting penetration at (9.759991, 1172.731) after traveling 33.3333320617676 pixels through wall
[02:04:13] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:04:13] [ENEMY] [Enemy2] State: SUPPRESSED -> IN_COVER
[02:04:13] [ENEMY] [Enemy2] State: IN_COVER -> PURSUING
[02:04:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(759.6343, 1363.664), shooter_id=944909585436, bullet_pos=(40.30016, 1221.059)
[02:04:13] [INFO] [Bullet] Using shooter_position, distance=733.333374023438
[02:04:13] [INFO] [Bullet] Distance to wall: 733.333374023438 (49.9340179184247% of viewport)
[02:04:13] [INFO] [Bullet] Distance-based penetration chance: 88.4103124285046%
[02:04:13] [INFO] [Bullet] Starting wall penetration at (40.30016, 1221.059)
[02:04:13] [INFO] [Bullet] Raycast backward hit penetrating body at distance 29.871654510498
[02:04:13] [INFO] [Bullet] Body exited signal received for penetrating body
[02:04:13] [INFO] [Bullet] Exiting penetration at (2.698605, 1213.605) after traveling 33.3333358764648 pixels through wall
[02:04:13] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:04:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(725.8782, 1356.669), source=ENEMY (Enemy10), range=1469, listeners=10
[02:04:13] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=7
[02:04:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(725.8306, 1361.214), shooter_id=944909585436, bullet_pos=(66.14957, 1264.957)
[02:04:13] [INFO] [Bullet] Using shooter_position, distance=666.666748046875
[02:04:13] [INFO] [Bullet] Distance to wall: 666.666748046875 (45.394564766565% of viewport)
[02:04:13] [INFO] [Bullet] Distance-based penetration chance: 93.7063411056742%
[02:04:13] [INFO] [Bullet] Starting wall penetration at (66.14957, 1264.957)
[02:04:13] [INFO] [Bullet] Raycast backward hit penetrating body at distance 3.82214593887329
[02:04:13] [INFO] [Bullet] Max penetration distance exceeded: 66.6666717529297 >= 48
[02:04:13] [INFO] [Bullet] Body exited signal received for penetrating body
[02:04:13] [INFO] [Bullet] Exiting penetration at (-4.766144, 1254.609) after traveling 66.6666717529297 pixels through wall
[02:04:13] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:04:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(691.7578, 1355.873), source=ENEMY (Enemy10), range=1469, listeners=10
[02:04:13] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=7
[02:04:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(691.9391, 1360.618), shooter_id=944909585436, bullet_pos=(61.32249, 1302.017)
[02:04:13] [INFO] [Bullet] Using shooter_position, distance=633.33349609375
[02:04:13] [INFO] [Bullet] Distance to wall: 633.33349609375 (43.1248423466312% of viewport)
[02:04:13] [INFO] [Bullet] Distance-based penetration chance: 96.354350595597%
[02:04:13] [INFO] [Bullet] Starting wall penetration at (61.32249, 1302.017)
[02:04:13] [INFO] [Bullet] Raycast backward hit penetrating body at distance 8.88451862335205
[02:04:13] [INFO] [Bullet] Body exited signal received for penetrating body
[02:04:13] [INFO] [Bullet] Exiting penetration at (23.15359, 1298.47) after traveling 33.3333358764648 pixels through wall
[02:04:13] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:04:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(658.0413, 1361.426), shooter_id=944909585436, bullet_pos=(58.64697, 1334.474)
[02:04:14] [INFO] [Bullet] Using shooter_position, distance=599.999938964844
[02:04:14] [INFO] [Bullet] Distance to wall: 599.999938964844 (40.8550991467172% of viewport)
[02:04:14] [INFO] [Bullet] Distance-based penetration chance: 99.0023843288299%
[02:04:14] [INFO] [Bullet] Starting wall penetration at (58.64697, 1334.474)
[02:04:14] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[02:04:14] [INFO] [Bullet] Raycast backward hit penetrating body at distance 11.659441947937
[02:04:14] [INFO] [Bullet] Body exited signal received for penetrating body
[02:04:14] [INFO] [Bullet] Exiting penetration at (20.35233, 1332.753) after traveling 33.3333320617676 pixels through wall
[02:04:14] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:04:14] [INFO] [Player.Debug] Debug mode toggled: ON
[02:04:14] [INFO] [GameManager] Debug mode toggled: ON
[02:04:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(624.2615, 1364.092), shooter_id=944909585436, bullet_pos=(57.60562, 1367.609)
[02:04:14] [INFO] [Bullet] Using shooter_position, distance=566.666809082031
[02:04:14] [INFO] [Bullet] Distance to wall: 566.666809082031 (38.5853850387754% of viewport)
[02:04:14] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:04:14] [INFO] [Bullet] Starting wall penetration at (57.60562, 1367.609)
[02:04:14] [INFO] [Bullet] Raycast backward hit penetrating body at distance 12.7272233963013
[02:04:14] [INFO] [Bullet] Body exited signal received for penetrating body
[02:04:14] [INFO] [Bullet] Exiting penetration at (19.27302, 1367.847) after traveling 33.3333358764648 pixels through wall
[02:04:14] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:04:14] [ENEMY] [Enemy1] Player distracted - priority attack triggered
[02:04:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(99.1312, 511.3162), source=ENEMY (Enemy1), range=1469, listeners=10
[02:04:14] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=1, below_threshold=3
[02:04:14] [ENEMY] [Enemy1] State: PURSUING -> COMBAT
[02:04:14] [ENEMY] [Enemy1] Player distracted - priority attack triggered
[02:04:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(88.06453, 534.4189), source=ENEMY (Enemy1), range=1469, listeners=10
[02:04:14] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=1, below_threshold=3
[02:04:14] [ENEMY] [Enemy1] Player distracted - priority attack triggered
[02:04:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(88.05895, 555.5618), source=ENEMY (Enemy1), range=1469, listeners=10
[02:04:14] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=1, below_threshold=3
[02:04:14] [ENEMY] [Enemy3] State: SUPPRESSED -> IN_COVER
[02:04:14] [ENEMY] [Enemy3] State: IN_COVER -> PURSUING
[02:04:14] [ENEMY] [Enemy1] Player distracted - priority attack triggered
[02:04:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(88.05874, 580.1971), source=ENEMY (Enemy1), range=1469, listeners=10
[02:04:14] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=1, below_threshold=3
[02:04:14] [INFO] [LastChance] Threat detected: Bullet
[02:04:14] [INFO] [LastChance] Triggering last chance effect!
[02:04:14] [INFO] [LastChance] Starting last chance effect:
[02:04:14] [INFO] [LastChance]   - Time will be frozen (except player)
[02:04:14] [INFO] [LastChance]   - Duration: 6.0 real seconds
[02:04:14] [INFO] [LastChance]   - Sepia intensity: 0.70
[02:04:14] [INFO] [LastChance]   - Brightness: 0.60
[02:04:14] [INFO] [LastChance] Pushed bullet Bullet from distance 119.5 to 200.0
[02:04:14] [INFO] [LastChance] Pushed 1 threatening bullets away from player
[02:04:14] [INFO] [LastChance] Set player Player and all 18 children to PROCESS_MODE_ALWAYS
[02:04:14] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[02:04:14] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:04:14] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:04:14] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[02:04:14] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:04:14] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:04:14] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:04:14] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:04:14] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:04:14] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:04:14] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:04:14] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:04:14] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:04:14] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:04:14] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:04:14] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:04:14] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:04:14] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[02:04:14] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[02:04:14] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:04:14] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:04:14] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:04:14] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:04:14] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:04:14] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[02:04:14] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[02:04:14] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:04:14] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[02:04:14] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[02:04:14] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:04:14] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:04:14] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[02:04:14] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[02:04:14] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[02:04:14] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[02:04:14] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[02:04:14] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[02:04:14] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[02:04:14] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[02:04:14] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[02:04:14] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[02:04:14] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[02:04:14] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[02:04:14] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[02:04:14] [INFO] [LastChance] Skipping player node: Player
[02:04:14] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[02:04:14] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[02:04:14] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[02:04:20] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[02:04:20] [ENEMY] [Enemy1] Player reloading state changed: false -> true
[02:04:20] [ENEMY] [Enemy2] Player reloading state changed: false -> true
[02:04:20] [ENEMY] [Enemy3] Player reloading state changed: false -> true
[02:04:20] [ENEMY] [Enemy4] Player reloading state changed: false -> true
[02:04:20] [ENEMY] [Enemy5] Player reloading state changed: false -> true
[02:04:20] [ENEMY] [Enemy6] Player reloading state changed: false -> true
[02:04:20] [ENEMY] [Enemy7] Player reloading state changed: false -> true
[02:04:20] [ENEMY] [Enemy8] Player reloading state changed: false -> true
[02:04:20] [ENEMY] [Enemy9] Player reloading state changed: false -> true
[02:04:20] [ENEMY] [Enemy10] Player reloading state changed: false -> true
[02:04:20] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(215.6311, 1806.066), source=PLAYER (Player), range=900, listeners=10
[02:04:20] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=9, self=0, below_threshold=1
[02:04:20] [INFO] [LastChance] Effect duration expired after 6.02 real seconds
[02:04:20] [INFO] [LastChance] Ending last chance effect
[02:04:20] [INFO] [LastChance] All process modes restored
[02:04:20] [INFO] [LastChance] Restored original colors to 5 player sprites
[02:04:20] [INFO] [LastChance] Called player RefreshHealthVisual (C#)
[02:04:20] [ENEMY] [Enemy1] Player vulnerable (reloading) but cannot attack: close=false (dist=1226), can_see=false
[02:04:20] [ENEMY] [Enemy2] Player vulnerable (reloading) but cannot attack: close=false (dist=1270), can_see=false
[02:04:20] [ENEMY] [Enemy3] Player vulnerable (reloading) but cannot attack: close=false (dist=1041), can_see=false
[02:04:20] [ENEMY] [Enemy4] Player vulnerable (reloading) but cannot attack: close=false (dist=917), can_see=false
[02:04:20] [ENEMY] [Enemy5] Player vulnerable (reloading) but cannot attack: close=false (dist=2079), can_see=false
[02:04:20] [ENEMY] [Enemy6] Player vulnerable (reloading) but cannot attack: close=false (dist=2202), can_see=false
[02:04:20] [ENEMY] [Enemy7] Player vulnerable (reloading) but cannot attack: close=false (dist=1665), can_see=false
[02:04:20] [ENEMY] [Enemy8] Player vulnerable (reloading) but cannot attack: close=false (dist=1722), can_see=false
[02:04:20] [ENEMY] [Enemy9] Player vulnerable (reloading) but cannot attack: close=false (dist=1902), can_see=false
[02:04:20] [ENEMY] [Enemy10] Player vulnerable (reloading) but cannot attack: close=false (dist=616), can_see=false
[02:04:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(91.57181, 578.9435), shooter_id=942342671235, bullet_pos=(96.05726, 1606.765)
[02:04:20] [INFO] [Bullet] Using shooter_position, distance=1027.83142089844
[02:04:20] [INFO] [Bullet] Distance to wall: 1027.83142089844 (69.9869314643003% of viewport)
[02:04:20] [INFO] [Bullet] Distance-based penetration chance: 65.015246624983%
[02:04:20] [INFO] [Bullet] Starting wall penetration at (96.05726, 1606.765)
[02:04:20] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[02:04:20] [INFO] [Bullet] Exiting penetration at (96.22332, 1653.432) after traveling 41.6666679382324 pixels through wall
[02:04:20] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:04:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(81.29577, 602.13), shooter_id=942342671235, bullet_pos=(96.66429, 1610.347)
[02:04:20] [INFO] [Bullet] Using shooter_position, distance=1008.33380126953
[02:04:20] [INFO] [Bullet] Distance to wall: 1008.33380126953 (68.659302690807% of viewport)
[02:04:20] [INFO] [Bullet] Distance-based penetration chance: 66.5641468607251%
[02:04:20] [INFO] [Bullet] Starting wall penetration at (96.66429, 1610.347)
[02:04:20] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[02:04:20] [INFO] [Bullet] Exiting penetration at (97.37556, 1657.008) after traveling 41.6666679382324 pixels through wall
[02:04:20] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:04:20] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[02:04:20] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[02:04:21] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(81.27779, 623.2715), shooter_id=942342671235, bullet_pos=(103.2377, 2081.44)
[02:04:21] [INFO] [Bullet] Using shooter_position, distance=1458.33435058594
[02:04:21] [INFO] [Bullet] Distance to wall: 1458.33435058594 (99.3006675718062% of viewport)
[02:04:21] [INFO] [Bullet] Distance-based penetration chance: 30.8158878328928%
[02:04:21] [INFO] [Bullet] Penetration failed (distance roll)
[02:04:21] [ENEMY] [Enemy1] Player vulnerable (reloading) but cannot attack: close=false (dist=1173), can_see=false
[02:04:21] [ENEMY] [Enemy2] Player vulnerable (reloading) but cannot attack: close=false (dist=1270), can_see=false
[02:04:21] [ENEMY] [Enemy3] Player vulnerable (reloading) but cannot attack: close=false (dist=1041), can_see=false
[02:04:21] [ENEMY] [Enemy4] Player vulnerable (reloading) but cannot attack: close=false (dist=917), can_see=false
[02:04:21] [ENEMY] [Enemy5] Player vulnerable (reloading) but cannot attack: close=false (dist=2079), can_see=false
[02:04:21] [ENEMY] [Enemy6] Player vulnerable (reloading) but cannot attack: close=false (dist=2202), can_see=false
[02:04:21] [ENEMY] [Enemy7] Player vulnerable (reloading) but cannot attack: close=false (dist=1665), can_see=false
[02:04:21] [ENEMY] [Enemy8] Player vulnerable (reloading) but cannot attack: close=false (dist=1722), can_see=false
[02:04:21] [ENEMY] [Enemy9] Player vulnerable (reloading) but cannot attack: close=false (dist=1902), can_see=false
[02:04:21] [ENEMY] [Enemy10] Player vulnerable (reloading) but cannot attack: close=false (dist=616), can_see=false
[02:04:21] [INFO] [Player.Reload.Anim] Phase changed to: PullBolt (duration: 0,35s)
[02:04:21] [ENEMY] [Enemy1] Player reloading state changed: true -> false
[02:04:21] [ENEMY] [Enemy2] Player reloading state changed: true -> false
[02:04:21] [ENEMY] [Enemy3] Player reloading state changed: true -> false
[02:04:21] [ENEMY] [Enemy4] Player reloading state changed: true -> false
[02:04:21] [ENEMY] [Enemy5] Player reloading state changed: true -> false
[02:04:21] [ENEMY] [Enemy6] Player reloading state changed: true -> false
[02:04:21] [ENEMY] [Enemy7] Player reloading state changed: true -> false
[02:04:21] [ENEMY] [Enemy8] Player reloading state changed: true -> false
[02:04:21] [ENEMY] [Enemy9] Player reloading state changed: true -> false
[02:04:21] [ENEMY] [Enemy10] Player reloading state changed: true -> false
[02:04:21] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[02:04:21] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(80.94175, 647.8724), shooter_id=942342671235, bullet_pos=(95.24659, 2064.467)
[02:04:21] [INFO] [Bullet] Using shooter_position, distance=1416.6669921875
[02:04:21] [INFO] [Bullet] Distance to wall: 1416.6669921875 (96.4634605189406% of viewport)
[02:04:21] [INFO] [Bullet] Distance-based penetration chance: 34.1259627279026%
[02:04:21] [INFO] [Bullet] Starting wall penetration at (95.24659, 2064.467)
[02:04:21] [INFO] [Bullet] Raycast backward hit penetrating body at distance 15.1321201324463
[02:04:21] [INFO] [Bullet] Body exited signal received for penetrating body
[02:04:21] [INFO] [Bullet] Exiting penetration at (95.71781, 2111.131) after traveling 41.6666679382324 pixels through wall
[02:04:21] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:04:21] [INFO] [Player.Reload.Anim] LeftArm: pos=(20.15803, 5.977451), target=(24, 6), base=(24, 6)
[02:04:21] [INFO] [Player.Reload.Anim] RightArm: pos=(-1.9999999, 6.621537), target=(-2, 6), base=(-2, 6)
[02:04:21] [ENEMY] [Enemy2] FLANKING started: target=(58.78497, 1681.972), side=left, pos=(400, 550)
[02:04:21] [ENEMY] [Enemy2] State: PURSUING -> FLANKING
[02:04:21] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[02:04:21] [ENEMY] [Enemy10] FLANKING started: target=(161.0802, 1613.649), side=left, pos=(645.1619, 1363.933)
[02:04:21] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[02:04:21] [ENEMY] [Enemy4] FLANKING started: target=(93.99218, 1647.308), side=left, pos=(567.186, 959.0481)
[02:04:21] [ENEMY] [Enemy4] State: PURSUING -> FLANKING
[02:04:22] [ENEMY] [Enemy1] FLANKING started: target=(377.8155, 1689.035), side=right, pos=(96.84239, 639.4271)
[02:04:22] [ENEMY] [Enemy1] State: PURSUING -> FLANKING
[02:04:23] [ENEMY] [Enemy10] State: FLANKING -> COMBAT
[02:04:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(534.5115, 1620.531), source=ENEMY (Enemy10), range=1469, listeners=10
[02:04:23] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=6
[02:04:23] [INFO] [LastChance] Threat detected: Bullet
[02:04:23] [INFO] [LastChance] Effect already used this life
[02:04:23] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:04:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(532.6633, 1624.35), source=ENEMY (Enemy10), range=1469, listeners=10
[02:04:23] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=6
[02:04:23] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[02:04:23] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[02:04:23] [INFO] [PenultimateHit] Player died - ending penultimate effect
[02:04:23] [INFO] [LastChance] Player died
[02:04:23] [INFO] [LastChance] Threat detected: @Area2D@600
[02:04:23] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:04:23] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:04:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(530.4507, 1627.458), source=ENEMY (Enemy10), range=1469, listeners=10
[02:04:23] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=6
[02:04:23] [INFO] [LastChance] Threat detected: Bullet
[02:04:23] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:04:23] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:04:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(517.1273, 1635.822), source=ENEMY (Enemy10), range=1469, listeners=10
[02:04:23] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=5
[02:04:23] [INFO] [LastChance] Threat detected: @Area2D@601
[02:04:23] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:04:23] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:04:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(480.4681, 1636.066), source=ENEMY (Enemy10), range=1469, listeners=10
[02:04:23] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=5
[02:04:23] [INFO] [LastChance] Threat detected: Bullet
[02:04:23] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:04:23] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:04:23] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[02:04:23] [INFO] [LastChance] Resetting all effects (scene change detected)
[02:04:23] [ENEMY] [Enemy1] Death animation component initialized
[02:04:23] [ENEMY] [Enemy2] Death animation component initialized
[02:04:23] [ENEMY] [Enemy3] Death animation component initialized
[02:04:23] [ENEMY] [Enemy4] Death animation component initialized
[02:04:23] [ENEMY] [Enemy5] Death animation component initialized
[02:04:23] [ENEMY] [Enemy6] Death animation component initialized
[02:04:23] [ENEMY] [Enemy7] Death animation component initialized
[02:04:23] [ENEMY] [Enemy8] Death animation component initialized
[02:04:23] [ENEMY] [Enemy9] Death animation component initialized
[02:04:23] [ENEMY] [Enemy10] Death animation component initialized
[02:04:23] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[02:04:23] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[02:04:23] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[02:04:23] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[02:04:23] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[02:04:23] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[02:04:23] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[02:04:23] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[02:04:23] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[02:04:23] [ENEMY] [Enemy10] Grenade system configured: offensive=2, flashbangs=0
[02:04:23] [INFO] [ScoreManager] Level started with 10 enemies
[02:04:23] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[02:04:23] [ENEMY] [Enemy1] Registered as sound listener
[02:04:23] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[02:04:23] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[02:04:23] [ENEMY] [Enemy2] Registered as sound listener
[02:04:23] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[02:04:23] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[02:04:23] [ENEMY] [Enemy3] Registered as sound listener
[02:04:23] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[02:04:23] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[02:04:23] [ENEMY] [Enemy4] Registered as sound listener
[02:04:23] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[02:04:23] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[02:04:23] [ENEMY] [Enemy5] Registered as sound listener
[02:04:23] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[02:04:23] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[02:04:23] [ENEMY] [Enemy6] Registered as sound listener
[02:04:23] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[02:04:23] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[02:04:23] [ENEMY] [Enemy7] Registered as sound listener
[02:04:23] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[02:04:23] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[02:04:23] [ENEMY] [Enemy8] Registered as sound listener
[02:04:23] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[02:04:23] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[02:04:23] [ENEMY] [Enemy9] Registered as sound listener
[02:04:23] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[02:04:23] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[02:04:23] [ENEMY] [Enemy10] Registered as sound listener
[02:04:23] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[02:04:23] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[02:04:23] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[02:04:23] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[02:04:23] [INFO] [LastChance] Found player: Player
[02:04:23] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[02:04:23] [INFO] [LastChance] Connected to player Damaged signal (C#)
[02:04:23] [INFO] [LastChance] Connected to player Died signal (C#)
[02:04:24] [INFO] [Player] Detecting weapon pose (frame 3)...
[02:04:24] [INFO] [Player] Detected weapon: Rifle (default pose)
[02:04:24] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[02:04:24] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:04:24] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:04:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1171.731, 1535.008), source=ENEMY (Enemy10), range=1469, listeners=20
[02:04:24] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[02:04:24] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=8
[02:04:24] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:04:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1139.423, 1516.307), source=ENEMY (Enemy10), range=1469, listeners=10
[02:04:24] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:04:24] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:04:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1107.906, 1496.302), source=ENEMY (Enemy10), range=1469, listeners=10
[02:04:24] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:04:24] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:04:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1077.226, 1475.035), source=ENEMY (Enemy10), range=1469, listeners=10
[02:04:24] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:04:25] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:04:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1047.428, 1452.549), source=ENEMY (Enemy10), range=1469, listeners=10
[02:04:25] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:04:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1108.874, 1508.939), shooter_id=1507114092090, bullet_pos=(53.14801, 921.1365)
[02:04:25] [INFO] [Bullet] Using shooter_position, distance=1208.33337402344
[02:04:25] [INFO] [Bullet] Distance to wall: 1208.33337402344 (82.277641366406% of viewport)
[02:04:25] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[02:04:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1077.684, 1487.691), shooter_id=1507114092090, bullet_pos=(46.85162, 857.2495)
[02:04:25] [INFO] [Bullet] Using shooter_position, distance=1208.33435058594
[02:04:25] [INFO] [Bullet] Distance to wall: 1208.33435058594 (82.2777078623423% of viewport)
[02:04:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1047.382, 1465.197), shooter_id=1507114092090, bullet_pos=(43.06916, 793.3154)
[02:04:25] [INFO] [Bullet] Using shooter_position, distance=1208.33349609375
[02:04:25] [INFO] [Bullet] Distance to wall: 1208.33349609375 (82.277649678398% of viewport)
[02:04:25] [INFO] [Bullet] Distance-based penetration chance: 50.6760753752023%
[02:04:25] [INFO] [Bullet] Penetration failed (distance roll)
[02:04:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1077.684, 1487.691), shooter_id=1507114092090, bullet_pos=(335.3826, 710.4026)
[02:04:25] [INFO] [Bullet] Using shooter_position, distance=1074.79699707031
[02:04:25] [INFO] [Bullet] Distance to wall: 1074.79699707031 (73.1849039079227% of viewport)
[02:04:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1018.01, 1441.508), shooter_id=1507114092090, bullet_pos=(41.67921, 729.5751)
[02:04:25] [INFO] [Bullet] Using shooter_position, distance=1208.33349609375
[02:04:25] [INFO] [Bullet] Distance to wall: 1208.33349609375 (82.277649678398% of viewport)
[02:04:25] [INFO] [Bullet] Distance-based penetration chance: 50.6760753752023%
[02:04:25] [INFO] [Bullet] Penetration failed (distance roll)
[02:04:25] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[02:04:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(989.6003, 1416.68), shooter_id=1507114092090, bullet_pos=(42.53408, 666.2555)
[02:04:25] [INFO] [Bullet] Using shooter_position, distance=1208.33422851563
[02:04:25] [INFO] [Bullet] Distance to wall: 1208.33422851563 (82.2776995503503% of viewport)
[02:04:25] [INFO] [Bullet] Distance-based penetration chance: 50.676017191258%
[02:04:25] [INFO] [Bullet] Starting wall penetration at (42.53408, 666.2555)
[02:04:25] [INFO] [Bullet] Raycast backward hit penetrating body at distance 33.2265319824219
[02:04:25] [INFO] [Bullet] Body exited signal received for penetrating body
[02:04:25] [INFO] [Bullet] Exiting penetration at (5.957748, 637.2736) after traveling 41.6666717529297 pixels through wall
[02:04:25] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:04:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1077.684, 1487.691), shooter_id=1507114092090, bullet_pos=(697.5593, 871.4141)
[02:04:25] [INFO] [Bullet] Using shooter_position, distance=724.080139160156
[02:04:25] [INFO] [Bullet] Distance to wall: 724.080139160156 (49.3039481413853% of viewport)
[02:04:25] [INFO] [Bullet] Distance-based penetration chance: 89.1453938350505%
[02:04:25] [INFO] [Bullet] Starting wall penetration at (697.5593, 871.4141)
[02:04:25] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[02:04:25] [INFO] [Bullet] Exiting penetration at (729.6365, 885.6745) after traveling 30.1041660308838 pixels through wall
[02:04:25] [INFO] [Bullet] Damage multiplier after penetration: 0.225
[02:04:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(642.2818, 760.0344), source=ENEMY (Enemy3), range=1469, listeners=10
[02:04:25] [ENEMY] [Enemy2] Heard gunshot at (642.2818, 760.0344), source_type=1, intensity=0.02, distance=321
[02:04:25] [ENEMY] [Enemy4] Heard gunshot at (642.2818, 760.0344), source_type=1, intensity=0.06, distance=211
[02:04:25] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[02:04:25] [INFO] [LastChance] Threat detected: Bullet
[02:04:25] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:04:25] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:04:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(378.9273, 767.8713), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:04:25] [ENEMY] [Enemy1] Heard gunshot at (378.9273, 767.8713), source_type=0, intensity=0.01, distance=425
[02:04:25] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[02:04:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(642.2818, 760.0344), source=ENEMY (Enemy3), range=1469, listeners=10
[02:04:25] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[02:04:25] [ENEMY] [Enemy3] Hit taken, health: 3/4
[02:04:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(346.5366, 753.6014), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:04:25] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[02:04:25] [INFO] [LastChance] Threat detected: @Area2D@866
[02:04:25] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:04:25] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:04:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(575.0281, 771.2098), shooter_id=1505117603776, bullet_pos=(67.33051, 796.6253)
[02:04:26] [INFO] [Bullet] Using shooter_position, distance=508.333404541016
[02:04:26] [INFO] [Bullet] Distance to wall: 508.333404541016 (34.6133562579052% of viewport)
[02:04:26] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:04:26] [INFO] [Bullet] Starting wall penetration at (67.33051, 796.6253)
[02:04:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(642.2818, 760.0344), source=ENEMY (Enemy3), range=1469, listeners=10
[02:04:26] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[02:04:26] [INFO] [Bullet] Raycast backward hit penetrating body at distance 2.95858883857727
[02:04:26] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[02:04:26] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[02:04:26] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[02:04:26] [INFO] [Bullet] Max penetration distance exceeded: 66.6666641235352 >= 48
[02:04:26] [INFO] [Bullet] Body exited signal received for penetrating body
[02:04:26] [INFO] [Bullet] Exiting penetration at (-4.246532, 800.2084) after traveling 66.6666641235352 pixels through wall
[02:04:26] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:04:26] [INFO] [LastChance] Threat detected: @Area2D@870
[02:04:26] [INFO] [LastChance] Triggering last chance effect!
[02:04:26] [INFO] [LastChance] Starting last chance effect:
[02:04:26] [INFO] [LastChance]   - Time will be frozen (except player)
[02:04:26] [INFO] [LastChance]   - Duration: 6.0 real seconds
[02:04:26] [INFO] [LastChance]   - Sepia intensity: 0.70
[02:04:26] [INFO] [LastChance]   - Brightness: 0.60
[02:04:26] [INFO] [LastChance] Pushed bullet @Area2D@870 from distance 128.1 to 200.0
[02:04:26] [INFO] [LastChance] Pushed 1 threatening bullets away from player
[02:04:26] [INFO] [LastChance] Set player Player and all 18 children to PROCESS_MODE_ALWAYS
[02:04:26] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[02:04:26] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:04:26] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:04:26] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[02:04:26] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:04:26] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:04:26] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:04:26] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:04:26] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:04:26] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:04:26] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:04:26] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:04:26] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:04:26] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:04:26] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:04:26] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:04:26] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:04:26] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[02:04:26] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[02:04:26] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:04:26] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:04:26] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:04:26] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:04:26] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:04:26] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[02:04:26] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[02:04:26] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:04:26] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[02:04:26] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[02:04:26] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:04:26] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:04:26] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[02:04:26] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[02:04:26] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[02:04:26] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[02:04:26] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[02:04:26] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[02:04:26] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[02:04:26] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[02:04:26] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[02:04:26] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[02:04:26] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[02:04:26] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[02:04:26] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[02:04:26] [INFO] [LastChance] Skipping player node: Player
[02:04:26] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[02:04:26] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[02:04:26] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[02:04:26] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[02:04:26] [INFO] [LastChance] Resetting all effects (scene change detected)
[02:04:26] [INFO] [LastChance] Ending last chance effect
[02:04:26] [INFO] [LastChance] All process modes restored
[02:04:26] [INFO] [LastChance] Restored original colors to 5 player sprites
[02:04:26] [ENEMY] [Enemy1] Death animation component initialized
[02:04:26] [ENEMY] [Enemy2] Death animation component initialized
[02:04:26] [ENEMY] [Enemy3] Death animation component initialized
[02:04:26] [ENEMY] [Enemy4] Death animation component initialized
[02:04:26] [ENEMY] [Enemy5] Death animation component initialized
[02:04:26] [ENEMY] [Enemy6] Death animation component initialized
[02:04:26] [ENEMY] [Enemy7] Death animation component initialized
[02:04:26] [ENEMY] [Enemy8] Death animation component initialized
[02:04:26] [ENEMY] [Enemy9] Death animation component initialized
[02:04:26] [ENEMY] [Enemy10] Death animation component initialized
[02:04:26] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[02:04:26] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[02:04:26] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[02:04:26] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[02:04:26] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[02:04:26] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[02:04:26] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[02:04:26] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[02:04:26] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[02:04:26] [ENEMY] [Enemy10] Grenade system configured: offensive=2, flashbangs=0
[02:04:26] [INFO] [ScoreManager] Level started with 10 enemies
[02:04:26] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[02:04:26] [ENEMY] [Enemy1] Registered as sound listener
[02:04:26] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[02:04:26] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[02:04:26] [ENEMY] [Enemy2] Registered as sound listener
[02:04:26] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[02:04:26] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[02:04:26] [ENEMY] [Enemy3] Registered as sound listener
[02:04:26] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[02:04:26] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[02:04:26] [ENEMY] [Enemy4] Registered as sound listener
[02:04:26] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[02:04:26] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[02:04:26] [ENEMY] [Enemy5] Registered as sound listener
[02:04:26] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[02:04:26] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[02:04:26] [ENEMY] [Enemy6] Registered as sound listener
[02:04:26] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[02:04:26] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[02:04:26] [ENEMY] [Enemy7] Registered as sound listener
[02:04:26] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[02:04:26] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[02:04:26] [ENEMY] [Enemy8] Registered as sound listener
[02:04:26] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[02:04:26] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[02:04:26] [ENEMY] [Enemy9] Registered as sound listener
[02:04:26] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[02:04:26] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[02:04:26] [ENEMY] [Enemy10] Registered as sound listener
[02:04:26] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[02:04:26] [INFO] [Player] Detecting weapon pose (frame 3)...
[02:04:26] [INFO] [Player] Detected weapon: Rifle (default pose)
[02:04:26] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[02:04:26] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[02:04:26] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[02:04:26] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[02:04:26] [INFO] [LastChance] Found player: Player
[02:04:26] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[02:04:26] [INFO] [LastChance] Connected to player Damaged signal (C#)
[02:04:26] [INFO] [LastChance] Connected to player Died signal (C#)
[02:04:27] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[02:04:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1144.004, 1519.036), source=ENEMY (Enemy10), range=1469, listeners=20
[02:04:27] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[02:04:27] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:04:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1112.376, 1499.204), source=ENEMY (Enemy10), range=1469, listeners=10
[02:04:27] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:04:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1081.406, 1478.359), source=ENEMY (Enemy10), range=1469, listeners=10
[02:04:27] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:04:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1050.793, 1456.99), source=ENEMY (Enemy10), range=1469, listeners=10
[02:04:27] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:04:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1020.168, 1435.639), source=ENEMY (Enemy10), range=1469, listeners=10
[02:04:27] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:04:28] [INFO] [LastChance] Threat detected: @Area2D@1125
[02:04:28] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:04:28] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:04:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1082.059, 1490.759), shooter_id=1655978330239, bullet_pos=(47.54776, 866.3744)
[02:04:28] [INFO] [Bullet] Using shooter_position, distance=1208.33349609375
[02:04:28] [INFO] [Bullet] Distance to wall: 1208.33349609375 (82.277649678398% of viewport)
[02:04:28] [INFO] [Bullet] Distance-based penetration chance: 50.6760753752023%
[02:04:28] [INFO] [Bullet] Penetration failed (distance roll)
[02:04:28] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[02:04:28] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[02:04:28] [INFO] [LastChance] Threat detected: @Area2D@1126
[02:04:28] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[02:04:28] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:04:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(987.501, 1424.066), source=ENEMY (Enemy10), range=1469, listeners=10
[02:04:28] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:04:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1051.552, 1468.611), shooter_id=1655978330239, bullet_pos=(41.38029, 805.572)
[02:04:28] [INFO] [Bullet] Using shooter_position, distance=1208.33276367188
[02:04:28] [INFO] [Bullet] Distance to wall: 1208.33276367188 (82.2775998064458% of viewport)
[02:04:28] [INFO] [Bullet] Distance-based penetration chance: 50.6761335591466%
[02:04:28] [INFO] [Bullet] Penetration failed (distance roll)
[02:04:28] [INFO] [LastChance] Threat detected: @Area2D@1127
[02:04:28] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[02:04:28] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:04:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(955.5466, 1408.166), source=ENEMY (Enemy10), range=1469, listeners=10
[02:04:28] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:04:28] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[02:04:28] [INFO] [LastChance] Resetting all effects (scene change detected)
[02:04:28] [ENEMY] [Enemy1] Death animation component initialized
[02:04:28] [ENEMY] [Enemy2] Death animation component initialized
[02:04:28] [ENEMY] [Enemy3] Death animation component initialized
[02:04:28] [ENEMY] [Enemy4] Death animation component initialized
[02:04:28] [ENEMY] [Enemy5] Death animation component initialized
[02:04:28] [ENEMY] [Enemy6] Death animation component initialized
[02:04:28] [ENEMY] [Enemy7] Death animation component initialized
[02:04:28] [ENEMY] [Enemy8] Death animation component initialized
[02:04:28] [ENEMY] [Enemy9] Death animation component initialized
[02:04:28] [ENEMY] [Enemy10] Death animation component initialized
[02:04:28] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[02:04:28] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[02:04:28] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[02:04:28] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[02:04:28] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[02:04:28] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[02:04:28] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[02:04:28] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[02:04:28] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[02:04:28] [ENEMY] [Enemy10] Grenade system configured: offensive=2, flashbangs=0
[02:04:28] [INFO] [ScoreManager] Level started with 10 enemies
[02:04:28] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[02:04:28] [ENEMY] [Enemy1] Registered as sound listener
[02:04:28] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[02:04:28] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[02:04:28] [ENEMY] [Enemy2] Registered as sound listener
[02:04:28] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[02:04:28] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[02:04:28] [ENEMY] [Enemy3] Registered as sound listener
[02:04:28] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[02:04:28] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[02:04:28] [ENEMY] [Enemy4] Registered as sound listener
[02:04:28] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[02:04:28] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[02:04:28] [ENEMY] [Enemy5] Registered as sound listener
[02:04:28] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[02:04:28] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[02:04:28] [ENEMY] [Enemy6] Registered as sound listener
[02:04:28] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[02:04:28] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[02:04:28] [ENEMY] [Enemy7] Registered as sound listener
[02:04:28] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[02:04:28] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[02:04:28] [ENEMY] [Enemy8] Registered as sound listener
[02:04:28] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[02:04:28] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[02:04:28] [ENEMY] [Enemy9] Registered as sound listener
[02:04:28] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[02:04:28] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[02:04:28] [ENEMY] [Enemy10] Registered as sound listener
[02:04:28] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[02:04:28] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[02:04:28] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[02:04:28] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[02:04:28] [INFO] [LastChance] Found player: Player
[02:04:28] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[02:04:28] [INFO] [LastChance] Connected to player Damaged signal (C#)
[02:04:28] [INFO] [LastChance] Connected to player Died signal (C#)
[02:04:28] [INFO] [Player] Detecting weapon pose (frame 3)...
[02:04:28] [INFO] [Player] Detected weapon: Rifle (default pose)
[02:04:28] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[02:04:29] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[02:04:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(449.0761, 1156.049), source=PLAYER (AssaultRifle), range=1469, listeners=20
[02:04:29] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[02:04:29] [ENEMY] [Enemy3] Heard gunshot at (449.0761, 1156.049), source_type=0, intensity=0.01, distance=477
[02:04:29] [ENEMY] [Enemy4] Heard gunshot at (449.0761, 1156.049), source_type=0, intensity=0.01, distance=434
[02:04:29] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=4, self=0, below_threshold=4
[02:04:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(438.4042, 1126.166), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:04:29] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=4, self=0, below_threshold=4
[02:04:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1143.797, 1519.399), source=ENEMY (Enemy10), range=1469, listeners=10
[02:04:29] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:04:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(449.07614, 1156.0493), shooter_id=1753470732016, bullet_pos=(907.84644, 1411.304)
[02:04:29] [INFO] [Bullet] Using shooter_position, distance=525,0001
[02:04:29] [INFO] [Bullet] Distance to wall: 525,0001 (35,748226% of viewport)
[02:04:29] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:04:29] [INFO] [Bullet] Starting wall penetration at (907.84644, 1411.304)
[02:04:29] [INFO] [Bullet] Raycast backward hit penetrating body at distance 41,9135
[02:04:29] [INFO] [Bullet] Body exited signal received for penetrating body
[02:04:29] [INFO] [Bullet] Exiting penetration at (948.62604, 1433.9933) after traveling 41,66667 pixels through wall
[02:04:29] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[02:04:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(418.3797, 1109.092), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:04:29] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=4, self=0, below_threshold=4
[02:04:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1111.407, 1500.833), source=ENEMY (Enemy10), range=1469, listeners=10
[02:04:29] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:04:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(395.405, 1107.915), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:04:29] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=4, self=0, below_threshold=4
[02:04:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1078.879, 1482.513), source=ENEMY (Enemy10), range=1469, listeners=10
[02:04:29] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:04:29] [ENEMY] [Enemy10] Hit taken, health: 3/4
[02:04:29] [INFO] [LastChance] Threat detected: @Area2D@1385
[02:04:29] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:04:29] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:04:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(418.3797, 1109.0922), shooter_id=1753470732016, bullet_pos=(998.2725, 1402.7313)
[02:04:29] [INFO] [Bullet] Using shooter_position, distance=649,9997
[02:04:29] [INFO] [Bullet] Distance to wall: 649,9997 (44,259678% of viewport)
[02:04:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(418.3797, 1109.0922), shooter_id=1753470732016, bullet_pos=(993.9251, 1405.2012)
[02:04:29] [INFO] [Bullet] Using shooter_position, distance=647,25037
[02:04:29] [INFO] [Bullet] Distance to wall: 647,25037 (44,07247% of viewport)
[02:04:29] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[02:04:29] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[02:04:29] [ENEMY] [Enemy10] State: COMBAT -> RETREATING
[02:04:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(395.40497, 1107.9153), shooter_id=1753470732016, bullet_pos=(993.1463, 1383.7913)
[02:04:29] [INFO] [Bullet] Using shooter_position, distance=658,33295
[02:04:29] [INFO] [Bullet] Distance to wall: 658,33295 (44,827103% of viewport)
[02:04:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1015.262, 1453.96), source=ENEMY (Enemy10), range=1469, listeners=10
[02:04:30] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:04:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(395.40497, 1107.9153), shooter_id=1753470732016, bullet_pos=(908.4518, 1414.2352)
[02:04:30] [INFO] [Bullet] Using shooter_position, distance=597,5357
[02:04:30] [INFO] [Bullet] Distance to wall: 597,5357 (40,687305% of viewport)
[02:04:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1081.211, 1492.654), shooter_id=1752648648178, bullet_pos=(46.29394, 901.8784)
[02:04:30] [INFO] [Bullet] Using shooter_position, distance=1191.66650390625
[02:04:30] [INFO] [Bullet] Distance to wall: 1191.66650390625 (81.142763532455% of viewport)
[02:04:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(947.353, 1458.312), shooter_id=1752648648178, bullet_pos=(914.7949, 1465.459)
[02:04:30] [INFO] [Bullet] Using shooter_position, distance=33.3333435058594
[02:04:30] [INFO] [Bullet] Distance to wall: 33.3333435058594 (2.26972865392785% of viewport)
[02:04:30] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[02:04:30] [INFO] [Bullet] Starting wall penetration at (914.7949, 1465.459)
[02:04:30] [INFO] [Bullet] Raycast backward hit penetrating body at distance 10.9005336761475
[02:04:30] [INFO] [Bullet] Body exited signal received for penetrating body
[02:04:30] [INFO] [Bullet] Exiting penetration at (877.353, 1473.678) after traveling 33.3333358764648 pixels through wall
[02:04:30] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:04:30] [ENEMY] [Enemy10] Hit taken, health: 2/4
[02:04:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1004.609, 1453.418), source=ENEMY (Enemy10), range=1469, listeners=10
[02:04:30] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:04:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(936.7003, 1457.769), shooter_id=1752648648178, bullet_pos=(903.4893, 1460.622)
[02:04:30] [INFO] [Bullet] Using shooter_position, distance=33.3333320617676
[02:04:30] [INFO] [Bullet] Distance to wall: 33.3333320617676 (2.2697278746786% of viewport)
[02:04:30] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[02:04:30] [INFO] [Bullet] Starting wall penetration at (903.4893, 1460.622)
[02:04:30] [INFO] [Bullet] Raycast backward hit penetrating body at distance 22.7869968414307
[02:04:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1048.854, 1474.064), shooter_id=1752648648178, bullet_pos=(64.90627, 911.6662)
[02:04:30] [INFO] [Bullet] Using shooter_position, distance=1133.33361816406
[02:04:30] [INFO] [Bullet] Distance to wall: 1133.33361816406 (77.1707700775509% of viewport)
[02:04:30] [INFO] [Bullet] Body exited signal received for penetrating body
[02:04:30] [INFO] [Bullet] Exiting penetration at (865.2966, 1463.903) after traveling 33.3333320617676 pixels through wall
[02:04:30] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:04:30] [ENEMY] [Enemy10] State: RETREATING -> IN_COVER
[02:04:30] [ENEMY] [Enemy10] State: IN_COVER -> SUPPRESSED
[02:04:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1015.862, 1456.91), shooter_id=1752648648178, bullet_pos=(43.65543, 924.7275)
[02:04:30] [INFO] [Bullet] Using shooter_position, distance=1108.33410644531
[02:04:30] [INFO] [Bullet] Distance to wall: 1108.33410644531 (75.4685073545727% of viewport)
[02:04:30] [INFO] [Bullet] Distance-based penetration chance: 58.6200747529985%
[02:04:30] [INFO] [Bullet] Penetration failed (distance roll)
[02:04:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1081.211, 1492.654), shooter_id=1752648648178, bullet_pos=(431.7437, 711.2777)
[02:04:30] [INFO] [Bullet] Using shooter_position, distance=1016.04937744141
[02:04:30] [INFO] [Bullet] Distance to wall: 1016.04937744141 (69.1846704600435% of viewport)
[02:04:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1048.854, 1474.064), shooter_id=1752648648178, bullet_pos=(447.4877, 715.3716)
[02:04:30] [INFO] [Bullet] Using shooter_position, distance=968.119873046875
[02:04:30] [INFO] [Bullet] Distance to wall: 968.119873046875 (65.9210623712329% of viewport)
[02:04:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1081.211, 1492.654), shooter_id=1752648648178, bullet_pos=(682.2332, 865.1969)
[02:04:30] [INFO] [Bullet] Using shooter_position, distance=743.562744140625
[02:04:30] [INFO] [Bullet] Distance to wall: 743.562744140625 (50.630554539857% of viewport)
[02:04:30] [INFO] [Bullet] Distance-based penetration chance: 87.5976863701669%
[02:04:30] [INFO] [Bullet] Starting wall penetration at (682.2332, 865.1969)
[02:04:30] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[02:04:30] [INFO] [Bullet] Exiting penetration at (707.0123, 880.423) after traveling 24.0833339691162 pixels through wall
[02:04:30] [INFO] [Bullet] Damage multiplier after penetration: 0.225
[02:04:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1048.854, 1474.064), shooter_id=1752648648178, bullet_pos=(696.2908, 872.0021)
[02:04:30] [INFO] [Bullet] Using shooter_position, distance=697.695922851563
[02:04:30] [INFO] [Bullet] Distance to wall: 697.695922851563 (47.5073983366374% of viewport)
[02:04:30] [INFO] [Bullet] Distance-based penetration chance: 91.2413686072564%
[02:04:30] [INFO] [Bullet] Penetration failed (distance roll)
[02:04:30] [ENEMY] [Enemy3] State: PURSUING -> RETREATING
[02:04:30] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[02:04:30] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[02:04:30] [ENEMY] [Enemy4] State: PURSUING -> RETREATING
[02:04:30] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[02:04:30] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[02:04:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(94.30957, 1532.657), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:04:31] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=5
[02:04:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(94.30957, 1567.857), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:04:31] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=5
[02:04:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(94.30957, 1567.8572), shooter_id=1753470732016, bullet_pos=(502.8967, 813.0105)
[02:04:32] [INFO] [Bullet] Using shooter_position, distance=858,3338
[02:04:32] [INFO] [Bullet] Distance to wall: 858,3338 (58,44553% of viewport)
[02:04:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(94.30957, 1567.8572), shooter_id=1753470732016, bullet_pos=(413.72818, 696.5627)
[02:04:32] [INFO] [Bullet] Using shooter_position, distance=927,99915
[02:04:32] [INFO] [Bullet] Distance to wall: 927,99915 (63,18917% of viewport)
[02:04:32] [INFO] [Bullet] Distance-based penetration chance: 72,94596%
[02:04:32] [INFO] [Bullet] Starting wall penetration at (413.72818, 696.5627)
[02:04:32] [INFO] [Bullet] Raycast backward hit penetrating body at distance 22,548574
[02:04:32] [INFO] [Bullet] Body exited signal received for penetrating body
[02:04:32] [INFO] [Bullet] Exiting penetration at (393.46262, 670.0973) after traveling 28,333332 pixels through wall
[02:04:32] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[02:04:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(80.06492, 1616.648), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:04:32] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=5
[02:04:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(94.30957, 1532.657), shooter_id=1753470732016, bullet_pos=(895.0649, 42.51377)
[02:04:32] [INFO] [Bullet] Using shooter_position, distance=1691,6665
[02:04:32] [INFO] [Bullet] Distance to wall: 1691,6665 (115,18868% of viewport)
[02:04:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(80.06492, 1616.6478), shooter_id=1753470732016, bullet_pos=(212.14395, 1394.6318)
[02:04:32] [INFO] [Bullet] Using shooter_position, distance=258,33307
[02:04:32] [INFO] [Bullet] Distance to wall: 258,33307 (17,590374% of viewport)
[02:04:32] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:04:32] [INFO] [Bullet] Starting wall penetration at (212.14395, 1394.6318)
[02:04:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(80.06499, 1642.329), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:04:32] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=5
[02:04:32] [INFO] [Bullet] Raycast backward hit penetrating body at distance 30,616644
[02:04:32] [INFO] [Bullet] Body exited signal received for penetrating body
[02:04:32] [INFO] [Bullet] Exiting penetration at (231.74277, 1361.6875) after traveling 33,333332 pixels through wall
[02:04:32] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[02:04:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(80.06499, 1642.3287), shooter_id=1753470732016, bullet_pos=(109.58836, 1592.0182)
[02:04:32] [INFO] [Bullet] Using shooter_position, distance=58,33336
[02:04:32] [INFO] [Bullet] Distance to wall: 58,33336 (3,9720259% of viewport)
[02:04:32] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[02:04:32] [INFO] [Bullet] Starting wall penetration at (109.58836, 1592.0182)
[02:04:32] [INFO] [Bullet] Raycast backward hit penetrating body at distance 33,67448
[02:04:32] [INFO] [Bullet] Body exited signal received for penetrating body
[02:04:32] [INFO] [Bullet] Exiting penetration at (128.98944, 1558.9569) after traveling 33,333336 pixels through wall
[02:04:32] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[02:04:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(94.30957, 1532.657), shooter_id=1753470732016, bullet_pos=(974.93115, 198.22623)
[02:04:32] [INFO] [Bullet] Using shooter_position, distance=1598,812
[02:04:32] [INFO] [Bullet] Distance to wall: 1598,812 (108,86605% of viewport)
[02:04:32] [INFO] [Bullet] Distance-based penetration chance: 28,226793%
[02:04:32] [INFO] [Bullet] Starting wall penetration at (974.93115, 198.22623)
[02:04:32] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[02:04:32] [INFO] [Bullet] Exiting penetration at (990.1438, 227.88574) after traveling 28,333334 pixels through wall
[02:04:32] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[02:04:33] [ENEMY] [Enemy10] State: SUPPRESSED -> IN_COVER
[02:04:33] [ENEMY] [Enemy10] State: IN_COVER -> PURSUING
[02:04:33] [ENEMY] [Enemy3] State: SUPPRESSED -> IN_COVER
[02:04:33] [ENEMY] [Enemy4] State: SUPPRESSED -> IN_COVER
[02:04:33] [ENEMY] [Enemy3] State: IN_COVER -> PURSUING
[02:04:33] [ENEMY] [Enemy4] State: IN_COVER -> PURSUING
[02:04:34] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[02:04:34] [ENEMY] [Enemy1] Player reloading state changed: false -> true
[02:04:34] [ENEMY] [Enemy2] Player reloading state changed: false -> true
[02:04:34] [ENEMY] [Enemy3] Player reloading state changed: false -> true
[02:04:34] [ENEMY] [Enemy4] Player reloading state changed: false -> true
[02:04:34] [ENEMY] [Enemy5] Player reloading state changed: false -> true
[02:04:34] [ENEMY] [Enemy6] Player reloading state changed: false -> true
[02:04:34] [ENEMY] [Enemy7] Player reloading state changed: false -> true
[02:04:34] [ENEMY] [Enemy8] Player reloading state changed: false -> true
[02:04:34] [ENEMY] [Enemy9] Player reloading state changed: false -> true
[02:04:34] [ENEMY] [Enemy10] Player reloading state changed: false -> true
[02:04:34] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(217.2176, 1806.002), source=PLAYER (Player), range=900, listeners=10
[02:04:34] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=9, self=0, below_threshold=1
[02:04:34] [ENEMY] [Enemy1] Player vulnerable (reloading) but cannot attack: close=false (dist=1458), can_see=false
[02:04:34] [ENEMY] [Enemy2] Player vulnerable (reloading) but cannot attack: close=false (dist=1269), can_see=false
[02:04:34] [ENEMY] [Enemy3] Player vulnerable (reloading) but cannot attack: close=false (dist=1008), can_see=false
[02:04:34] [ENEMY] [Enemy4] Player vulnerable (reloading) but cannot attack: close=false (dist=979), can_see=false
[02:04:34] [ENEMY] [Enemy5] Player vulnerable (reloading) but cannot attack: close=false (dist=2078), can_see=false
[02:04:34] [ENEMY] [Enemy6] Player vulnerable (reloading) but cannot attack: close=false (dist=2200), can_see=false
[02:04:34] [ENEMY] [Enemy7] Player vulnerable (reloading) but cannot attack: close=false (dist=1663), can_see=false
[02:04:34] [ENEMY] [Enemy8] Player vulnerable (reloading) but cannot attack: close=false (dist=1720), can_see=false
[02:04:34] [ENEMY] [Enemy9] Player vulnerable (reloading) but cannot attack: close=false (dist=1900), can_see=false
[02:04:34] [ENEMY] [Enemy10] Player vulnerable (reloading) but cannot attack: close=false (dist=855), can_see=false
[02:04:34] [INFO] [Player.Reload.Anim] LeftArm: pos=(4.1026316, 2.0182486), target=(4, 2), base=(24, 6)
[02:04:34] [INFO] [Player.Reload.Anim] RightArm: pos=(-2.011389, 6), target=(-2, 6), base=(-2, 6)
[02:04:34] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[02:04:34] [INFO] [Player.Reload.Anim] Phase changed to: PullBolt (duration: 0,35s)
[02:04:34] [ENEMY] [Enemy1] Player reloading state changed: true -> false
[02:04:34] [ENEMY] [Enemy2] Player reloading state changed: true -> false
[02:04:34] [ENEMY] [Enemy3] Player reloading state changed: true -> false
[02:04:34] [ENEMY] [Enemy4] Player reloading state changed: true -> false
[02:04:34] [ENEMY] [Enemy5] Player reloading state changed: true -> false
[02:04:34] [ENEMY] [Enemy6] Player reloading state changed: true -> false
[02:04:34] [ENEMY] [Enemy7] Player reloading state changed: true -> false
[02:04:34] [ENEMY] [Enemy8] Player reloading state changed: true -> false
[02:04:34] [ENEMY] [Enemy9] Player reloading state changed: true -> false
[02:04:34] [ENEMY] [Enemy10] Player reloading state changed: true -> false
[02:04:34] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[02:04:34] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[02:04:35] [ENEMY] [Enemy4] FLANKING started: target=(96.39626, 1637.412), side=left, pos=(658.2607, 931.6053)
[02:04:35] [ENEMY] [Enemy4] State: PURSUING -> FLANKING
[02:04:36] [ENEMY] [Enemy10] FLANKING started: target=(229.3271, 1616.818), side=left, pos=(936.6724, 1557.899)
[02:04:36] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[02:04:37] [ENEMY] [Enemy3] FLANKING started: target=(67.02096, 1691.284), side=left, pos=(548.0666, 953.9395)
[02:04:37] [ENEMY] [Enemy3] State: PURSUING -> FLANKING
[02:04:40] [ENEMY] [Enemy4] FLANKING timeout (5.0s), target=(-2.929565, 1756.208), pos=(139.5679, 1642.236)
[02:04:40] [ENEMY] [Enemy4] State: FLANKING -> PURSUING
[02:04:40] [ENEMY] [Enemy10] State: FLANKING -> COMBAT
[02:04:40] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[02:04:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(190.7731, 1857.4), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:04:40] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=1
[02:04:40] [ENEMY] [Enemy4] Hit taken, health: 1/2
[02:04:40] [ENEMY] [Enemy10] Hit taken, health: 1/4
[02:04:40] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[02:04:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(536.0673, 1595.754), source=ENEMY (Enemy3), range=1469, listeners=10
[02:04:40] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=4
[02:04:40] [ENEMY] [Enemy3] State: FLANKING -> COMBAT
[02:04:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(187.1885, 1891.115), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:04:40] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=1
[02:04:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(103.5642, 1713.119), source=ENEMY (Enemy10), range=1469, listeners=10
[02:04:40] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=1, below_threshold=2
[02:04:40] [INFO] [LastChance] Threat detected: @Area2D@1424
[02:04:40] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:04:40] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:04:40] [ENEMY] [Enemy10] Hit taken, health: 0/4
[02:04:40] [ENEMY] [Enemy10] Enemy died (ricochet: false, penetration: false)
[02:04:40] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[02:04:40] [INFO] [SoundPropagation] Unregistered listener: Enemy10 (remaining: 9)
[02:04:40] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[02:04:40] [ENEMY] [Enemy10] Death animation started with hit direction: (1, 0)
[02:04:40] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[02:04:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(536.0674, 1610.547), source=ENEMY (Enemy3), range=1469, listeners=9
[02:04:40] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=4
[02:04:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(127.0216, 1712.172), source=ENEMY (Enemy4), range=1469, listeners=9
[02:04:40] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=1, below_threshold=2
[02:04:40] [INFO] [LastChance] Threat detected: Bullet
[02:04:40] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:04:40] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:04:40] [INFO] [LastChance] Threat detected: @Area2D@1427
[02:04:40] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:04:40] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:04:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(171.4209, 1919.784), source=PLAYER (AssaultRifle), range=1469, listeners=9
[02:04:40] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=6, self=0, below_threshold=1
[02:04:40] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[02:04:40] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[02:04:40] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[02:04:40] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[02:04:40] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[02:04:40] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[02:04:40] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[02:04:40] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[02:04:40] [INFO] [PenultimateHit] Player died - ending penultimate effect
[02:04:40] [INFO] [LastChance] Player died
[02:04:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(488.7524, 1659.454), shooter_id=1750652159990, bullet_pos=(308.36, 1807.45)
[02:04:40] [INFO] [Bullet] Using shooter_position, distance=233.333160400391
[02:04:40] [INFO] [Bullet] Distance to wall: 233.333160400391 (15.8880839535109% of viewport)
[02:04:40] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:04:40] [INFO] [Bullet] Starting wall penetration at (308.36, 1807.45)
[02:04:40] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[02:04:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(534.7664, 1619.88), source=ENEMY (Enemy3), range=1469, listeners=9
[02:04:40] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=4
[02:04:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(126.8288, 1703.648), source=ENEMY (Enemy4), range=1469, listeners=9
[02:04:40] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=1, below_threshold=2
[02:04:40] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[02:04:40] [INFO] [Bullet] Exiting penetration at (278.7241, 1831.764) after traveling 33.3333320617676 pixels through wall
[02:04:40] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:04:40] [ENEMY] [Enemy4] Hit taken, health: 0/2
[02:04:40] [ENEMY] [Enemy4] Enemy died (ricochet: false, penetration: false)
[02:04:40] [ENEMY] [Enemy10] Witnessed ally death #1
[02:04:40] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[02:04:40] [INFO] [SoundPropagation] Unregistered listener: Enemy4 (remaining: 8)
[02:04:40] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[02:04:40] [ENEMY] [Enemy4] Death animation started with hit direction: (1, 0)
[02:04:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(146.8405, 1944.802), source=PLAYER (AssaultRifle), range=1469, listeners=8
[02:04:40] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=0, below_threshold=2
[02:04:41] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(487.3731, 1668.711), shooter_id=1750652159990, bullet_pos=(306.7435, 1816.419)
[02:04:41] [INFO] [Bullet] Using shooter_position, distance=233.333587646484
[02:04:41] [INFO] [Bullet] Distance to wall: 233.333587646484 (15.888113045483% of viewport)
[02:04:41] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:04:41] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[02:04:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(121.9503, 1969.693), source=PLAYER (AssaultRifle), range=1469, listeners=8
[02:04:41] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=6, self=0, below_threshold=2
[02:04:41] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(127.8053, 1771.69), shooter_id=1750937372687, bullet_pos=(241.2176, 2085.136)
[02:04:41] [INFO] [Bullet] Using shooter_position, distance=333.332946777344
[02:04:41] [INFO] [Bullet] Distance to wall: 333.332946777344 (22.6972532913103% of viewport)
[02:04:41] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:04:41] [INFO] [Bullet] Starting wall penetration at (241.2176, 2085.136)
[02:04:41] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(487.3731, 1668.711), shooter_id=1750652159990, bullet_pos=(240.9108, 1755.051)
[02:04:41] [INFO] [Bullet] Using shooter_position, distance=261.147796630859
[02:04:41] [INFO] [Bullet] Distance to wall: 261.147796630859 (17.7820336810495% of viewport)
[02:04:41] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:04:41] [INFO] [Bullet] Raycast backward hit penetrating body at distance 26.7798137664795
[02:04:41] [INFO] [Bullet] Body exited signal received for penetrating body
[02:04:41] [INFO] [Bullet] Exiting penetration at (254.26, 2121.182) after traveling 33.3333358764648 pixels through wall
[02:04:41] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:04:41] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[02:04:41] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(146.84048, 1944.8024), shooter_id=1753470732016, bullet_pos=(63.312565, 1426.4905)
[02:04:41] [INFO] [Bullet] Using shooter_position, distance=524,99915
[02:04:41] [INFO] [Bullet] Distance to wall: 524,99915 (35,748158% of viewport)
[02:04:41] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:04:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(96.57037, 1993.401), source=PLAYER (AssaultRifle), range=1469, listeners=8
[02:04:41] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=0, below_threshold=1
[02:04:41] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(487.3731, 1668.711), shooter_id=1750652159990, bullet_pos=(361.8479, 1598.697)
[02:04:41] [INFO] [Bullet] Using shooter_position, distance=143.730773925781
[02:04:41] [INFO] [Bullet] Distance to wall: 143.730773925781 (9.78689269419453% of viewport)
[02:04:41] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:04:41] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(121.95035, 1969.693), shooter_id=1753470732016, bullet_pos=(162.61552, 1613.6741)
[02:04:41] [INFO] [Bullet] Using shooter_position, distance=358,33383
[02:04:41] [INFO] [Bullet] Distance to wall: 358,33383 (24,39961% of viewport)
[02:04:41] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:04:41] [INFO] [Bullet] Starting wall penetration at (162.61552, 1613.6741)
[02:04:41] [INFO] [Bullet] Raycast backward hit penetrating body at distance 12,492324
[02:04:41] [INFO] [Bullet] Body exited signal received for penetrating body
[02:04:41] [INFO] [Bullet] Exiting penetration at (166.96576, 1575.5884) after traveling 33,333336 pixels through wall
[02:04:41] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[02:04:41] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[02:04:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(472.9769, 1637.051), source=ENEMY (Enemy3), range=1469, listeners=8
[02:04:41] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=4
[02:04:41] [ENEMY] [Enemy10] Ragdoll activated
[02:04:41] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[02:04:41] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(96.570366, 1993.4009), shooter_id=1753470732016, bullet_pos=(174.6434, 1609.5939)
[02:04:41] [INFO] [Bullet] Using shooter_position, distance=391,66724
[02:04:41] [INFO] [Bullet] Distance to wall: 391,66724 (26,669344% of viewport)
[02:04:41] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:04:41] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(487.3731, 1668.711), shooter_id=1750652159990, bullet_pos=(506.3156, 1777.894)
[02:04:41] [INFO] [Bullet] Using shooter_position, distance=110.814117431641
[02:04:41] [INFO] [Bullet] Distance to wall: 110.814117431641 (7.54553702511446% of viewport)
[02:04:41] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:04:41] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[02:04:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(438.9925, 1636.065), source=ENEMY (Enemy3), range=1469, listeners=8
[02:04:41] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=3
[02:04:41] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(96.570366, 1993.4009), shooter_id=1753470732016, bullet_pos=(185.51685, 1727.4268)
[02:04:41] [INFO] [Bullet] Using shooter_position, distance=280,4527
[02:04:41] [INFO] [Bullet] Distance to wall: 280,4527 (19,09654% of viewport)
[02:04:41] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:04:41] [INFO] [Bullet] Starting wall penetration at (185.51685, 1727.4268)
[02:04:41] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[02:04:41] [INFO] [Bullet] Exiting penetration at (188.57979, 1760.6191) after traveling 28,333334 pixels through wall
[02:04:41] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[02:04:41] [INFO] [LastChance] Threat detected: @Area2D@1445
[02:04:41] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:04:41] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:04:41] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[02:04:41] [INFO] [LastChance] Resetting all effects (scene change detected)
[02:04:41] [ENEMY] [Enemy1] Death animation component initialized
[02:04:41] [ENEMY] [Enemy2] Death animation component initialized
[02:04:41] [ENEMY] [Enemy3] Death animation component initialized
[02:04:41] [ENEMY] [Enemy4] Death animation component initialized
[02:04:41] [ENEMY] [Enemy5] Death animation component initialized
[02:04:41] [ENEMY] [Enemy6] Death animation component initialized
[02:04:41] [ENEMY] [Enemy7] Death animation component initialized
[02:04:41] [ENEMY] [Enemy8] Death animation component initialized
[02:04:41] [ENEMY] [Enemy9] Death animation component initialized
[02:04:41] [ENEMY] [Enemy10] Death animation component initialized
[02:04:41] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[02:04:41] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[02:04:41] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[02:04:41] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[02:04:41] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[02:04:41] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[02:04:41] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[02:04:41] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[02:04:41] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[02:04:41] [ENEMY] [Enemy10] Grenade system configured: offensive=2, flashbangs=0
[02:04:41] [INFO] [ScoreManager] Level started with 10 enemies
[02:04:41] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 9)
[02:04:41] [ENEMY] [Enemy1] Registered as sound listener
[02:04:41] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[02:04:41] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 10)
[02:04:41] [ENEMY] [Enemy2] Registered as sound listener
[02:04:41] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[02:04:41] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 11)
[02:04:41] [ENEMY] [Enemy3] Registered as sound listener
[02:04:41] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[02:04:41] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 12)
[02:04:41] [ENEMY] [Enemy4] Registered as sound listener
[02:04:41] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[02:04:41] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 13)
[02:04:41] [ENEMY] [Enemy5] Registered as sound listener
[02:04:41] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[02:04:41] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 14)
[02:04:41] [ENEMY] [Enemy6] Registered as sound listener
[02:04:41] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[02:04:41] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 15)
[02:04:41] [ENEMY] [Enemy7] Registered as sound listener
[02:04:41] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[02:04:41] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 16)
[02:04:41] [ENEMY] [Enemy8] Registered as sound listener
[02:04:41] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[02:04:41] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 17)
[02:04:41] [ENEMY] [Enemy9] Registered as sound listener
[02:04:41] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[02:04:41] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 18)
[02:04:41] [ENEMY] [Enemy10] Registered as sound listener
[02:04:41] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[02:04:41] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[02:04:41] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[02:04:41] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[02:04:41] [INFO] [LastChance] Found player: Player
[02:04:41] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[02:04:41] [INFO] [LastChance] Connected to player Damaged signal (C#)
[02:04:41] [INFO] [LastChance] Connected to player Died signal (C#)
[02:04:41] [INFO] [Player] Detecting weapon pose (frame 3)...
[02:04:41] [INFO] [Player] Detected weapon: Rifle (default pose)
[02:04:41] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[02:04:41] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:04:42] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:04:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1171.733, 1535.005), source=ENEMY (Enemy10), range=1469, listeners=18
[02:04:42] [INFO] [SoundPropagation] Cleaned up 8 invalid listeners
[02:04:42] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=8
[02:04:42] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:04:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1139.423, 1516.305), source=ENEMY (Enemy10), range=1469, listeners=10
[02:04:42] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:04:42] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:04:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1107.9, 1496.311), source=ENEMY (Enemy10), range=1469, listeners=10
[02:04:42] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:04:42] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:04:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1077.209, 1475.059), source=ENEMY (Enemy10), range=1469, listeners=10
[02:04:42] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:04:42] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:04:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1047.393, 1452.596), source=ENEMY (Enemy10), range=1469, listeners=10
[02:04:42] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:04:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1108.876, 1508.934), shooter_id=2534450137228, bullet_pos=(53.1583, 921.1178)
[02:04:42] [INFO] [Bullet] Using shooter_position, distance=1208.33288574219
[02:04:42] [INFO] [Bullet] Distance to wall: 1208.33288574219 (82.2776081184378% of viewport)
[02:04:42] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[02:04:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1077.678, 1487.703), shooter_id=2534450137228, bullet_pos=(46.71048, 857.484)
[02:04:42] [INFO] [Bullet] Using shooter_position, distance=1208.33361816406
[02:04:42] [INFO] [Bullet] Distance to wall: 1208.33361816406 (82.2776579903901% of viewport)
[02:04:42] [INFO] [Bullet] Distance-based penetration chance: 50.6760656778783%
[02:04:42] [INFO] [Bullet] Starting wall penetration at (46.71048, 857.484)
[02:04:42] [INFO] [Bullet] Raycast backward hit penetrating body at distance 29.4254207611084
[02:04:42] [INFO] [Bullet] Body exited signal received for penetrating body
[02:04:42] [INFO] [Bullet] Exiting penetration at (6.893791, 833.1445) after traveling 41.6666679382324 pixels through wall
[02:04:42] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:04:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1108.876, 1508.934), shooter_id=2534450137228, bullet_pos=(427.9671, 710.3612)
[02:04:42] [INFO] [Bullet] Using shooter_position, distance=1049.455078125
[02:04:42] [INFO] [Bullet] Distance to wall: 1049.455078125 (71.4593260472565% of viewport)
[02:04:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1047.363, 1465.232), shooter_id=2534450137228, bullet_pos=(42.75258, 793.796)
[02:04:42] [INFO] [Bullet] Using shooter_position, distance=1208.33276367188
[02:04:42] [INFO] [Bullet] Distance to wall: 1208.33276367188 (82.2775998064458% of viewport)
[02:04:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1047.363, 1465.232), shooter_id=2534450137228, bullet_pos=(200.3831, 702.6534)
[02:04:42] [INFO] [Bullet] Using shooter_position, distance=1139.693359375
[02:04:42] [INFO] [Bullet] Distance to wall: 1139.693359375 (77.6038165511365% of viewport)
[02:04:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1017.97, 1441.572), shooter_id=2534450137228, bullet_pos=(41.16679, 730.2892)
[02:04:42] [INFO] [Bullet] Using shooter_position, distance=1208.33288574219
[02:04:42] [INFO] [Bullet] Distance to wall: 1208.33288574219 (82.2776081184378% of viewport)
[02:04:42] [INFO] [Bullet] Distance-based penetration chance: 50.6761238618226%
[02:04:42] [INFO] [Bullet] Penetration failed (distance roll)
[02:04:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1108.876, 1508.934), shooter_id=2534450137228, bullet_pos=(683.7605, 813.8563)
[02:04:42] [INFO] [Bullet] Using shooter_position, distance=814.774047851563
[02:04:42] [INFO] [Bullet] Distance to wall: 814.774047851563 (55.4794631555757% of viewport)
[02:04:42] [INFO] [Bullet] Distance-based penetration chance: 81.940626318495%
[02:04:42] [INFO] [Bullet] Starting wall penetration at (683.7605, 813.8563)
[02:04:42] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[02:04:42] [INFO] [Bullet] Exiting penetration at (716.302, 827.0227) after traveling 30.1041679382324 pixels through wall
[02:04:42] [INFO] [Bullet] Damage multiplier after penetration: 0.225
[02:04:42] [INFO] [LastChance] Threat detected: @Area2D@1715
[02:04:42] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:04:42] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:04:42] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[02:04:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(989.5342, 1416.778), shooter_id=2534450137228, bullet_pos=(41.80914, 667.1881)
[02:04:43] [INFO] [Bullet] Using shooter_position, distance=1208.33288574219
[02:04:43] [INFO] [Bullet] Distance to wall: 1208.33288574219 (82.2776081184378% of viewport)
[02:04:43] [INFO] [Bullet] Distance-based penetration chance: 50.6761238618226%
[02:04:43] [INFO] [Bullet] Penetration failed (distance roll)
[02:04:43] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[02:04:43] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[02:04:44] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[02:04:44] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[02:04:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(695.3736, 771.366), source=ENEMY (Enemy3), range=1469, listeners=10
[02:04:45] [ENEMY] [Enemy2] Heard gunshot at (695.3736, 771.366), source_type=1, intensity=0.02, distance=369
[02:04:45] [ENEMY] [Enemy4] Heard gunshot at (695.3736, 771.366), source_type=1, intensity=0.09, distance=166
[02:04:45] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[02:04:45] [INFO] [LastChance] Threat detected: Bullet
[02:04:45] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[02:04:45] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:04:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(629.1583, 787.9998), shooter_id=2532453649091, bullet_pos=(506.895, 814.013)
[02:04:45] [INFO] [Bullet] Using shooter_position, distance=125.000045776367
[02:04:45] [INFO] [Bullet] Distance to wall: 125.000045776367 (8.51148297172894% of viewport)
[02:04:45] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:04:45] [INFO] [Bullet] Starting wall penetration at (506.895, 814.013)
[02:04:45] [INFO] [Bullet] Raycast backward hit penetrating body at distance 39.6173324584961
[02:04:45] [INFO] [Bullet] Body exited signal received for penetrating body
[02:04:45] [INFO] [Bullet] Exiting penetration at (461.25, 823.7246) after traveling 41.6666679382324 pixels through wall
[02:04:45] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:04:46] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[02:04:46] [INFO] [LastChance] Resetting all effects (scene change detected)
[02:04:46] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[02:04:46] [INFO] [Player.Grenade] Tutorial level detected - infinite grenades enabled
[02:04:46] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[02:04:46] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[02:04:46] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[02:04:46] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[02:04:46] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[02:04:46] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 3/3, Health: 4/4
[02:04:46] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[02:04:46] [INFO] [Player] Detecting weapon pose (frame 3)...
[02:04:46] [INFO] [Player] Detected weapon: Rifle (default pose)
[02:04:46] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[02:04:46] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[02:04:46] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[02:04:46] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[02:04:46] [INFO] [LastChance] Found player: Player
[02:04:46] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[02:04:46] [INFO] [LastChance] Connected to player Damaged signal (C#)
[02:04:46] [INFO] [LastChance] Connected to player Died signal (C#)
[02:04:48] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[02:04:48] [INFO] [LastChance] Resetting all effects (scene change detected)
[02:04:48] [ENEMY] [Enemy1] Death animation component initialized
[02:04:48] [ENEMY] [Enemy2] Death animation component initialized
[02:04:48] [ENEMY] [Enemy3] Death animation component initialized
[02:04:48] [ENEMY] [Enemy4] Death animation component initialized
[02:04:48] [ENEMY] [Enemy5] Death animation component initialized
[02:04:48] [ENEMY] [Enemy6] Death animation component initialized
[02:04:48] [ENEMY] [Enemy7] Death animation component initialized
[02:04:48] [ENEMY] [Enemy8] Death animation component initialized
[02:04:48] [ENEMY] [Enemy9] Death animation component initialized
[02:04:48] [ENEMY] [Enemy10] Death animation component initialized
[02:04:48] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[02:04:48] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[02:04:48] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[02:04:48] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[02:04:48] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[02:04:48] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[02:04:48] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[02:04:48] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[02:04:48] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[02:04:48] [ENEMY] [Enemy10] Grenade system configured: offensive=2, flashbangs=0
[02:04:48] [INFO] [ScoreManager] Level started with 10 enemies
[02:04:48] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[02:04:48] [ENEMY] [Enemy1] Registered as sound listener
[02:04:48] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[02:04:48] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[02:04:48] [ENEMY] [Enemy2] Registered as sound listener
[02:04:48] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[02:04:48] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[02:04:48] [ENEMY] [Enemy3] Registered as sound listener
[02:04:48] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[02:04:48] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[02:04:48] [ENEMY] [Enemy4] Registered as sound listener
[02:04:48] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[02:04:48] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[02:04:48] [ENEMY] [Enemy5] Registered as sound listener
[02:04:48] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[02:04:48] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[02:04:48] [ENEMY] [Enemy6] Registered as sound listener
[02:04:48] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[02:04:48] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[02:04:48] [ENEMY] [Enemy7] Registered as sound listener
[02:04:48] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[02:04:48] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[02:04:48] [ENEMY] [Enemy8] Registered as sound listener
[02:04:48] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[02:04:48] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[02:04:48] [ENEMY] [Enemy9] Registered as sound listener
[02:04:48] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[02:04:48] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[02:04:48] [ENEMY] [Enemy10] Registered as sound listener
[02:04:48] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[02:04:48] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[02:04:48] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[02:04:48] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[02:04:48] [INFO] [LastChance] Found player: Player
[02:04:48] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[02:04:48] [INFO] [LastChance] Connected to player Damaged signal (C#)
[02:04:48] [INFO] [LastChance] Connected to player Died signal (C#)
[02:04:48] [INFO] [Player] Detecting weapon pose (frame 3)...
[02:04:48] [INFO] [Player] Detected weapon: Rifle (default pose)
[02:04:48] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[02:04:49] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:04:49] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:04:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1171.731, 1535.008), source=ENEMY (Enemy10), range=1469, listeners=20
[02:04:49] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[02:04:49] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=8
[02:04:49] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:04:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1139.423, 1516.307), source=ENEMY (Enemy10), range=1469, listeners=10
[02:04:49] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:04:49] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:04:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1107.906, 1496.302), source=ENEMY (Enemy10), range=1469, listeners=10
[02:04:49] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:04:49] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:04:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1077.226, 1475.035), source=ENEMY (Enemy10), range=1469, listeners=10
[02:04:49] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:04:49] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:04:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1047.428, 1452.549), source=ENEMY (Enemy10), range=1469, listeners=10
[02:04:49] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:04:49] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1108.874, 1508.939), shooter_id=2678583200442, bullet_pos=(53.14801, 921.1365)
[02:04:49] [INFO] [Bullet] Using shooter_position, distance=1208.33337402344
[02:04:49] [INFO] [Bullet] Distance to wall: 1208.33337402344 (82.277641366406% of viewport)
[02:04:49] [INFO] [Bullet] Distance-based penetration chance: 50.6760850725264%
[02:04:49] [INFO] [Bullet] Starting wall penetration at (53.14801, 921.1365)
[02:04:49] [INFO] [Bullet] Raycast backward hit penetrating body at distance 22.4616756439209
[02:04:50] [INFO] [Bullet] Body exited signal received for penetrating body
[02:04:50] [INFO] [Bullet] Exiting penetration at (12.37513, 898.4351) after traveling 41.6666641235352 pixels through wall
[02:04:50] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:04:50] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[02:04:50] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1077.684, 1487.691), shooter_id=2678583200442, bullet_pos=(46.85162, 857.2495)
[02:04:50] [INFO] [Bullet] Using shooter_position, distance=1208.33435058594
[02:04:50] [INFO] [Bullet] Distance to wall: 1208.33435058594 (82.2777078623423% of viewport)
[02:04:50] [INFO] [Bullet] Distance-based penetration chance: 50.676007493934%
[02:04:50] [INFO] [Bullet] Starting wall penetration at (46.85162, 857.2495)
[02:04:50] [INFO] [Bullet] Raycast backward hit penetrating body at distance 29.2577056884766
[02:04:50] [INFO] [Bullet] Body exited signal received for penetrating body
[02:04:50] [INFO] [Bullet] Exiting penetration at (7.040176, 832.9015) after traveling 41.6666679382324 pixels through wall
[02:04:50] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:04:50] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1047.382, 1465.197), shooter_id=2678583200442, bullet_pos=(43.06916, 793.3154)
[02:04:50] [INFO] [Bullet] Using shooter_position, distance=1208.33349609375
[02:04:50] [INFO] [Bullet] Distance to wall: 1208.33349609375 (82.277649678398% of viewport)
[02:04:50] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1047.382, 1465.197), shooter_id=2678583200442, bullet_pos=(204.9351, 709.9263)
[02:04:50] [INFO] [Bullet] Using shooter_position, distance=1131.43774414063
[02:04:50] [INFO] [Bullet] Distance to wall: 1131.43774414063 (77.0416765290901% of viewport)
[02:04:50] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1018.01, 1441.508), shooter_id=2678583200442, bullet_pos=(41.67921, 729.5751)
[02:04:50] [INFO] [Bullet] Using shooter_position, distance=1208.33349609375
[02:04:50] [INFO] [Bullet] Distance to wall: 1208.33349609375 (82.277649678398% of viewport)
[02:04:50] [INFO] [LastChance] Threat detected: @Area2D@1991
[02:04:50] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:04:50] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:04:50] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[02:04:50] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(989.6003, 1416.68), shooter_id=2678583200442, bullet_pos=(42.53408, 666.2555)
[02:04:50] [INFO] [Bullet] Using shooter_position, distance=1208.33422851563
[02:04:50] [INFO] [Bullet] Distance to wall: 1208.33422851563 (82.2776995503503% of viewport)
[02:04:50] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1047.382, 1465.197), shooter_id=2678583200442, bullet_pos=(501.2147, 868.7104)
[02:04:50] [INFO] [Bullet] Using shooter_position, distance=808.761535644531
[02:04:50] [INFO] [Bullet] Distance to wall: 808.761535644531 (55.0700601433639% of viewport)
[02:04:50] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1018.01, 1441.508), shooter_id=2678583200442, bullet_pos=(330.3284, 460.5439)
[02:04:50] [INFO] [Bullet] Using shooter_position, distance=1197.99670410156
[02:04:50] [INFO] [Bullet] Distance to wall: 1197.99670410156 (81.5737985039655% of viewport)
[02:04:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(454.6194, 783.5801), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:04:50] [ENEMY] [Enemy1] Heard gunshot at (454.6194, 783.5801), source_type=0, intensity=0.01, distance=460
[02:04:50] [ENEMY] [Enemy2] Heard gunshot at (454.6194, 783.5801), source_type=0, intensity=0.04, distance=240
[02:04:50] [ENEMY] [Enemy4] Heard gunshot at (454.6194, 783.5801), source_type=0, intensity=0.02, distance=364
[02:04:50] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[02:04:50] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(989.6003, 1416.68), shooter_id=2678583200442, bullet_pos=(246.7634, 462.7206)
[02:04:50] [INFO] [Bullet] Using shooter_position, distance=1209.06799316406
[02:04:50] [INFO] [Bullet] Distance to wall: 1209.06799316406 (82.3276629345366% of viewport)
[02:04:50] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1018.01, 1441.508), shooter_id=2678583200442, bullet_pos=(505.5031, 586.4522)
[02:04:50] [INFO] [Bullet] Using shooter_position, distance=996.886901855469
[02:04:50] [INFO] [Bullet] Distance to wall: 996.886901855469 (67.8798622607116% of viewport)
[02:04:50] [INFO] [Bullet] Distance-based penetration chance: 67.4734940291698%
[02:04:50] [INFO] [Bullet] Penetration failed (distance roll)
[02:04:50] [ENEMY] [Enemy3] Hit taken, health: 2/3
[02:04:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[02:04:50] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[02:04:50] [INFO] [LastChance] Threat detected: @Area2D@2003
[02:04:50] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:04:50] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:04:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(471.6804, 755.8578), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:04:50] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[02:04:50] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[02:04:50] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[02:04:50] [ENEMY] [Enemy3] Hit taken, health: 1/3
[02:04:50] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[02:04:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[02:04:50] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[02:04:50] [INFO] [LastChance] Threat detected: Bullet
[02:04:50] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:04:50] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:04:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(495.6122, 740.9965), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:04:50] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[02:04:50] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[02:04:50] [ENEMY] [Enemy3] Hit taken, health: 0/3
[02:04:50] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[02:04:50] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[02:04:50] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[02:04:50] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[02:04:50] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[02:04:50] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[02:04:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(521.1647, 739.1749), source=PLAYER (AssaultRifle), range=1469, listeners=9
[02:04:50] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[02:04:50] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(989.6003, 1416.68), shooter_id=2678583200442, bullet_pos=(680.8466, 824.2819)
[02:04:50] [INFO] [Bullet] Using shooter_position, distance=668.0302734375
[02:04:50] [INFO] [Bullet] Distance to wall: 668.0302734375 (45.4874097177147% of viewport)
[02:04:51] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(616.3621, 755.9454), shooter_id=2676586711918, bullet_pos=(118.0681, 714.6744)
[02:04:51] [INFO] [Bullet] Using shooter_position, distance=500.000213623047
[02:04:51] [INFO] [Bullet] Distance to wall: 500.000213623047 (34.0459339649138% of viewport)
[02:04:51] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:04:51] [INFO] [Bullet] Starting wall penetration at (118.0681, 714.6744)
[02:04:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=9
[02:04:51] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=4
[02:04:51] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[02:04:51] [INFO] [Bullet] Exiting penetration at (79.8656, 711.5103) after traveling 33.3333358764648 pixels through wall
[02:04:51] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:04:51] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[02:04:51] [INFO] [LastChance] Threat detected: @Area2D@2013
[02:04:51] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:04:51] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:04:51] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(989.6003, 1416.68), shooter_id=2678583200442, bullet_pos=(521.4824, 960.5928)
[02:04:51] [INFO] [Bullet] Using shooter_position, distance=653.567138671875
[02:04:51] [INFO] [Bullet] Distance to wall: 653.567138671875 (44.5025882761636% of viewport)
[02:04:51] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(521.16473, 739.17487), shooter_id=2679405282978, bullet_pos=(910.9873, 777.1386)
[02:04:51] [INFO] [Bullet] Using shooter_position, distance=391,6668
[02:04:51] [INFO] [Bullet] Distance to wall: 391,6668 (26,669315% of viewport)
[02:04:51] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:04:51] [INFO] [Bullet] Starting wall penetration at (910.9873, 777.1386)
[02:04:51] [INFO] [Bullet] Raycast backward hit penetrating body at distance 13,2023
[02:04:51] [INFO] [Bullet] Body exited signal received for penetrating body
[02:04:51] [INFO] [Bullet] Exiting penetration at (949.14014, 780.8542) after traveling 33,333332 pixels through wall
[02:04:51] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[02:04:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=9
[02:04:51] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=3
[02:04:51] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[02:04:51] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[02:04:51] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(989.6003, 1416.68), shooter_id=2678583200442, bullet_pos=(585.3845, 999.0871)
[02:04:51] [INFO] [Bullet] Using shooter_position, distance=581.183532714844
[02:04:51] [INFO] [Bullet] Distance to wall: 581.183532714844 (39.5738554448346% of viewport)
[02:04:51] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:04:51] [INFO] [Bullet] Starting wall penetration at (585.3845, 999.0871)
[02:04:51] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[02:04:51] [INFO] [Bullet] Exiting penetration at (604.5722, 1010.646) after traveling 17.4002094268799 pixels through wall
[02:04:51] [INFO] [Bullet] Damage multiplier after penetration: 0.05625
[02:04:51] [INFO] [LastChance] Threat detected: Bullet
[02:04:51] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:04:51] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:04:51] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[02:04:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=9
[02:04:51] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=3
[02:04:51] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(434.8946, 608.5395), shooter_id=2676301499075, bullet_pos=(496.5191, 687.295)
[02:04:51] [INFO] [Bullet] Using shooter_position, distance=100.000038146973
[02:04:51] [INFO] [Bullet] Distance to wall: 100.000038146973 (6.80918648128306% of viewport)
[02:04:51] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:04:51] [INFO] [Bullet] Starting wall penetration at (496.5191, 687.295)
[02:04:51] [INFO] [Bullet] Raycast backward hit penetrating body at distance 32.6847724914551
[02:04:51] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(433.9136, 609.3428), shooter_id=2676301499075, bullet_pos=(690.8941, 821.645)
[02:04:51] [INFO] [Bullet] Using shooter_position, distance=333.333465576172
[02:04:51] [INFO] [Bullet] Distance to wall: 333.333465576172 (22.6972886172765% of viewport)
[02:04:51] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:04:51] [INFO] [Bullet] Starting wall penetration at (690.8941, 821.645)
[02:04:51] [INFO] [Bullet] Body exited signal received for penetrating body
[02:04:51] [INFO] [Bullet] Exiting penetration at (520.1418, 717.4846) after traveling 33.3333320617676 pixels through wall
[02:04:51] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:04:51] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[02:04:51] [INFO] [Bullet] Exiting penetration at (720.4469, 846.0598) after traveling 33.3333320617676 pixels through wall
[02:04:51] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:04:51] [INFO] [LastChance] Threat detected: @Area2D@2017
[02:04:51] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:04:51] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:04:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=9
[02:04:51] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=3
[02:04:51] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(434.6877, 608.5437), shooter_id=2676301499075, bullet_pos=(495.188, 688.166)
[02:04:51] [INFO] [Bullet] Using shooter_position, distance=100.000022888184
[02:04:51] [INFO] [Bullet] Distance to wall: 100.000022888184 (6.80918544228405% of viewport)
[02:04:51] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:04:51] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[02:04:51] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(434.1072, 608.8016), shooter_id=2676301499075, bullet_pos=(487.7297, 693.209)
[02:04:51] [INFO] [Bullet] Using shooter_position, distance=99.9999313354492
[02:04:51] [INFO] [Bullet] Distance to wall: 99.9999313354492 (6.80917920829002% of viewport)
[02:04:51] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:04:51] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[02:04:51] [ENEMY] [Enemy2] State: SEEKING_COVER -> IN_COVER
[02:04:51] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[02:04:51] [ENEMY] [Enemy4] State: PURSUING -> RETREATING
[02:04:51] [ENEMY] [Enemy3] Ragdoll activated
[02:04:51] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[02:04:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(570.9061, 877.3967), source=PLAYER (AssaultRifle), range=1469, listeners=9
[02:04:51] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[02:04:51] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(570.90607, 877.3967), shooter_id=2679405282978, bullet_pos=(695.0857, 891.69403)
[02:04:51] [INFO] [Bullet] Using shooter_position, distance=124,99997
[02:04:51] [INFO] [Bullet] Distance to wall: 124,99997 (8,511477% of viewport)
[02:04:51] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:04:51] [INFO] [Bullet] Starting wall penetration at (695.0857, 891.69403)
[02:04:51] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[02:04:51] [INFO] [Bullet] Exiting penetration at (733.1674, 896.07855) after traveling 33,333336 pixels through wall
[02:04:51] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[02:04:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(579.5782, 909.0046), source=PLAYER (AssaultRifle), range=1469, listeners=9
[02:04:51] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[02:04:51] [ENEMY] [Enemy10] FLANKING started: target=(776.5849, 868.5316), side=left, pos=(1022.594, 1432.37)
[02:04:51] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[02:04:51] [ENEMY] [Enemy4] Hit taken, health: 3/4
[02:04:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(599.1333, 933.324), source=PLAYER (AssaultRifle), range=1469, listeners=9
[02:04:51] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[02:04:52] [ENEMY] [Enemy4] Hit taken, health: 2/4
[02:04:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(622.3357, 945.2448), source=PLAYER (AssaultRifle), range=1469, listeners=9
[02:04:52] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[02:04:52] [ENEMY] [Enemy4] Hit taken, health: 1/4
[02:04:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(659.8952, 948.4464), source=PLAYER (AssaultRifle), range=1469, listeners=9
[02:04:52] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[02:04:52] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[02:04:52] [ENEMY] [Enemy4] Hit taken, health: 0/4
[02:04:52] [ENEMY] [Enemy4] Enemy died (ricochet: false, penetration: false)
[02:04:52] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[02:04:52] [INFO] [SoundPropagation] Unregistered listener: Enemy4 (remaining: 8)
[02:04:52] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[02:04:52] [ENEMY] [Enemy4] Death animation started with hit direction: (1, 0)
[02:04:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(690.6954, 948.4464), source=PLAYER (AssaultRifle), range=1469, listeners=8
[02:04:52] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=6
[02:04:52] [ENEMY] [Enemy2] State: SEEKING_COVER -> IN_COVER
[02:04:52] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[02:04:52] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[02:04:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(690.6954, 948.44635), shooter_id=2679405282978, bullet_pos=(926.726, 843.4434)
[02:04:52] [INFO] [Bullet] Using shooter_position, distance=258,33328
[02:04:52] [INFO] [Bullet] Distance to wall: 258,33328 (17,59039% of viewport)
[02:04:52] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:04:52] [INFO] [Bullet] Starting wall penetration at (926.726, 843.4434)
[02:04:52] [ENEMY] [Enemy2] State: SEEKING_COVER -> IN_COVER
[02:04:52] [INFO] [Bullet] Raycast backward hit penetrating body at distance 28,183065
[02:04:52] [INFO] [Bullet] Body exited signal received for penetrating body
[02:04:52] [INFO] [Bullet] Exiting penetration at (961.74994, 827.86237) after traveling 33,333336 pixels through wall
[02:04:52] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[02:04:52] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[02:04:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(730.2956, 948.4464), source=PLAYER (AssaultRifle), range=1469, listeners=8
[02:04:52] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=6
[02:04:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(730.2956, 948.44635), shooter_id=2679405282978, bullet_pos=(937.2471, 860.1509)
[02:04:52] [INFO] [Bullet] Using shooter_position, distance=225,00002
[02:04:52] [INFO] [Bullet] Distance to wall: 225,00002 (15,320664% of viewport)
[02:04:52] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:04:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(765.4958, 948.4464), source=PLAYER (AssaultRifle), range=1469, listeners=8
[02:04:52] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=7
[02:04:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(765.4958, 948.44635), shooter_id=2679405282978, bullet_pos=(911.9706, 888.32513)
[02:04:52] [INFO] [Bullet] Using shooter_position, distance=158,33327
[02:04:52] [INFO] [Bullet] Distance to wall: 158,33327 (10,781204% of viewport)
[02:04:52] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:04:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(765.4958, 948.44635), shooter_id=2679405282978, bullet_pos=(742.8769, 843.2438)
[02:04:52] [INFO] [Bullet] Using shooter_position, distance=107,606674
[02:04:52] [INFO] [Bullet] Distance to wall: 107,606674 (7,3271365% of viewport)
[02:04:52] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:04:52] [INFO] [Bullet] Starting wall penetration at (742.8769, 843.2438)
[02:04:52] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[02:04:52] [INFO] [Bullet] Exiting penetration at (710.6686, 834.65686) after traveling 28,333332 pixels through wall
[02:04:52] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[02:04:52] [ENEMY] [Enemy3] Death animation completed
[02:04:52] [ENEMY] [Enemy4] Ragdoll activated
[02:04:52] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[02:04:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(394.626, 604.2378), source=ENEMY (Enemy2), range=1469, listeners=8
[02:04:53] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[02:04:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(394.626, 604.2378), source=ENEMY (Enemy2), range=1469, listeners=8
[02:04:53] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[02:04:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(394.626, 604.2378), source=ENEMY (Enemy2), range=1469, listeners=8
[02:04:53] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[02:04:53] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[02:04:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(394.626, 604.2378), source=ENEMY (Enemy2), range=1469, listeners=8
[02:04:53] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[02:04:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(827.9589, 779.8506), source=PLAYER (AssaultRifle), range=1469, listeners=8
[02:04:53] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=5
[02:04:53] [INFO] [LastChance] Threat detected: @Area2D@2063
[02:04:53] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:04:53] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:04:53] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(452.396, 643.5029), shooter_id=2676301499075, bullet_pos=(933.0543, 781.2257)
[02:04:53] [INFO] [Bullet] Using shooter_position, distance=499.999938964844
[02:04:53] [INFO] [Bullet] Distance to wall: 499.999938964844 (34.0459152629317% of viewport)
[02:04:53] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:04:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(364.9355, 621.0771), source=ENEMY (Enemy2), range=1469, listeners=8
[02:04:53] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[02:04:53] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(452.4706, 640.6688), shooter_id=2676301499075, bullet_pos=(913.5448, 834.0868)
[02:04:53] [INFO] [Bullet] Using shooter_position, distance=499.999938964844
[02:04:53] [INFO] [Bullet] Distance to wall: 499.999938964844 (34.0459152629317% of viewport)
[02:04:53] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:04:53] [INFO] [Bullet] Starting wall penetration at (913.5448, 834.0868)
[02:04:53] [INFO] [LastChance] Threat detected: @Area2D@2065
[02:04:53] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:04:53] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:04:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(829.6924, 754.7827), source=PLAYER (AssaultRifle), range=1469, listeners=8
[02:04:53] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=5
[02:04:53] [INFO] [Bullet] Raycast backward hit penetrating body at distance 13.9823446273804
[02:04:53] [INFO] [Bullet] Body exited signal received for penetrating body
[02:04:53] [INFO] [Bullet] Exiting penetration at (948.8938, 848.9155) after traveling 33.3333358764648 pixels through wall
[02:04:53] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:04:53] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(452.396, 643.5029), shooter_id=2676301499075, bullet_pos=(763.3378, 823.9034)
[02:04:53] [INFO] [Bullet] Using shooter_position, distance=359.484558105469
[02:04:53] [INFO] [Bullet] Distance to wall: 359.484558105469 (24.4779645952152% of viewport)
[02:04:53] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:04:53] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(453.9632, 638.2089), shooter_id=2676301499075, bullet_pos=(912.2908, 838.0493)
[02:04:53] [INFO] [Bullet] Using shooter_position, distance=500.000366210938
[02:04:53] [INFO] [Bullet] Distance to wall: 500.000366210938 (34.0459443549038% of viewport)
[02:04:53] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:04:53] [INFO] [Bullet] Starting wall penetration at (912.2908, 838.0493)
[02:04:53] [INFO] [Bullet] Raycast backward hit penetrating body at distance 12.4683704376221
[02:04:53] [INFO] [Bullet] Body exited signal received for penetrating body
[02:04:53] [INFO] [Bullet] Exiting penetration at (947.4292, 853.3704) after traveling 33.3333358764648 pixels through wall
[02:04:53] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:04:53] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(451.2377, 624.8121), shooter_id=2676301499075, bullet_pos=(913.9169, 814.3583)
[02:04:53] [INFO] [Bullet] Using shooter_position, distance=499.999816894531
[02:04:53] [INFO] [Bullet] Distance to wall: 499.999816894531 (34.0459069509396% of viewport)
[02:04:53] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:04:53] [INFO] [Bullet] Starting wall penetration at (913.9169, 814.3583)
[02:04:53] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(452.396, 643.5029), shooter_id=2676301499075, bullet_pos=(911.3384, 845.0223)
[02:04:53] [INFO] [Bullet] Using shooter_position, distance=501.236694335938
[02:04:53] [INFO] [Bullet] Distance to wall: 501.236694335938 (34.1301282103421% of viewport)
[02:04:53] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:04:53] [ENEMY] [Enemy2] Hit taken, health: 1/2
[02:04:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(335.2452, 637.9166), source=ENEMY (Enemy2), range=1469, listeners=8
[02:04:53] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[02:04:53] [INFO] [Bullet] Raycast backward hit penetrating body at distance 14.4689702987671
[02:04:53] [INFO] [Bullet] Body exited signal received for penetrating body
[02:04:53] [INFO] [Bullet] Exiting penetration at (949.389, 828.8901) after traveling 33.3333358764648 pixels through wall
[02:04:53] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:04:53] [INFO] [LastChance] Threat detected: @Area2D@2069
[02:04:53] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:04:53] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:04:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(838.8337, 740.062), source=PLAYER (AssaultRifle), range=1469, listeners=8
[02:04:53] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=6
[02:04:54] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(452.396, 643.5029), shooter_id=2676301499075, bullet_pos=(763.0457, 846.015)
[02:04:54] [INFO] [Bullet] Using shooter_position, distance=370.829315185547
[02:04:54] [INFO] [Bullet] Distance to wall: 370.829315185547 (25.2504499659665% of viewport)
[02:04:54] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:04:54] [INFO] [Bullet] Starting wall penetration at (763.0457, 846.015)
[02:04:54] [INFO] [Bullet] Body exited signal received for penetrating body
[02:04:54] [INFO] [Bullet] Exiting penetration at (737.5754, 846.1854) after traveling 0 pixels through wall
[02:04:54] [INFO] [Bullet] Damage multiplier after penetration: 0.1125
[02:04:54] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(430.3265, 647.5284), shooter_id=2676301499075, bullet_pos=(910.895, 785.5652)
[02:04:54] [INFO] [Bullet] Using shooter_position, distance=500.000274658203
[02:04:54] [INFO] [Bullet] Distance to wall: 500.000274658203 (34.0459381209098% of viewport)
[02:04:54] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:04:54] [INFO] [Bullet] Starting wall penetration at (910.895, 785.5652)
[02:04:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(327.8754, 643.4144), source=ENEMY (Enemy2), range=1469, listeners=8
[02:04:54] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[02:04:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(850.4973, 737.5889), source=PLAYER (AssaultRifle), range=1469, listeners=8
[02:04:54] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=6
[02:04:54] [INFO] [Bullet] Raycast backward hit penetrating body at distance 12.2132396697998
[02:04:54] [INFO] [Bullet] Body exited signal received for penetrating body
[02:04:54] [INFO] [Bullet] Exiting penetration at (947.7386, 796.1481) after traveling 33.3333320617676 pixels through wall
[02:04:54] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:04:54] [INFO] [LastChance] Threat detected: @Area2D@2077
[02:04:54] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:04:54] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:04:54] [ENEMY] [Enemy4] Death animation completed
[02:04:54] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[02:04:54] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[02:04:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(355.5553, 623.4417), source=ENEMY (Enemy2), range=1469, listeners=8
[02:04:54] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[02:04:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(861.8416, 748.6812), source=PLAYER (AssaultRifle), range=1469, listeners=8
[02:04:54] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=6
[02:04:54] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(829.69244, 754.78265), shooter_id=2679405282978, bullet_pos=(40.028244, 515.9189)
[02:04:54] [INFO] [Bullet] Using shooter_position, distance=825,00024
[02:04:54] [INFO] [Bullet] Distance to wall: 825,00024 (56,175785% of viewport)
[02:04:54] [INFO] [LastChance] Threat detected: Bullet
[02:04:54] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[02:04:54] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:04:54] [ENEMY] [Enemy2] Hit taken, health: 0/2
[02:04:54] [ENEMY] [Enemy2] Enemy died (ricochet: false, penetration: false)
[02:04:54] [INFO] [ScoreManager] Kill registered. Combo: 3 (points: 3000)
[02:04:54] [INFO] [SoundPropagation] Unregistered listener: Enemy2 (remaining: 7)
[02:04:54] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[02:04:54] [ENEMY] [Enemy2] Death animation started with hit direction: (1, 0)
[02:04:54] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(829.69244, 754.78265), shooter_id=2679405282978, bullet_pos=(228.99193, 440.83774)
[02:04:54] [INFO] [Bullet] Using shooter_position, distance=677,79236
[02:04:54] [INFO] [Bullet] Distance to wall: 677,79236 (46,15213% of viewport)
[02:04:54] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(838.83374, 740.06195), shooter_id=2679405282978, bullet_pos=(57.296158, 475.8199)
[02:04:54] [INFO] [Bullet] Using shooter_position, distance=824,99994
[02:04:54] [INFO] [Bullet] Distance to wall: 824,99994 (56,175762% of viewport)
[02:04:54] [INFO] [Bullet] Distance-based penetration chance: 81,12828%
[02:04:54] [INFO] [Bullet] Starting wall penetration at (57.296158, 475.8199)
[02:04:54] [INFO] [Bullet] Raycast backward hit penetrating body at distance 11,630431
[02:04:54] [INFO] [Bullet] Body exited signal received for penetrating body
[02:04:54] [INFO] [Bullet] Exiting penetration at (20.98228, 463.542) after traveling 33,333336 pixels through wall
[02:04:54] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[02:04:54] [INFO] [LastChance] Threat detected: @Area2D@2084
[02:04:54] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[02:04:54] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:04:54] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(829.69244, 754.78265), shooter_id=2679405282978, bullet_pos=(64.450325, 385.54556)
[02:04:54] [INFO] [Bullet] Using shooter_position, distance=849,6655
[02:04:54] [INFO] [Bullet] Distance to wall: 849,6655 (57,85529% of viewport)
[02:04:54] [INFO] [Bullet] Distance-based penetration chance: 79,16883%
[02:04:54] [INFO] [Bullet] Starting wall penetration at (64.450325, 385.54556)
[02:04:54] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[02:04:54] [INFO] [Bullet] Exiting penetration at (36.881905, 376.28152) after traveling 24,083334 pixels through wall
[02:04:54] [INFO] [Bullet] Damage multiplier after penetration: 0,225
[02:04:54] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(417.3208, 645.1346), shooter_id=2676301499075, bullet_pos=(937.2193, 764.0868)
[02:04:54] [INFO] [Bullet] Using shooter_position, distance=533.3330078125
[02:04:54] [INFO] [Bullet] Distance to wall: 533.3330078125 (36.3156252148774% of viewport)
[02:04:54] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:04:54] [INFO] [Bullet] Starting wall penetration at (937.2193, 764.0868)
[02:04:54] [INFO] [Bullet] Raycast backward hit penetrating body at distance 39.5840759277344
[02:04:54] [INFO] [Bullet] Body exited signal received for penetrating body
[02:04:54] [INFO] [Bullet] Exiting penetration at (974.587, 772.6365) after traveling 33.3333320617676 pixels through wall
[02:04:54] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:04:54] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(861.84155, 748.68115), shooter_id=2679405282978, bullet_pos=(38.253273, 506.94022)
[02:04:54] [INFO] [Bullet] Using shooter_position, distance=858,33344
[02:04:54] [INFO] [Bullet] Distance to wall: 858,33344 (58,445503% of viewport)
[02:04:54] [INFO] [Bullet] Distance-based penetration chance: 78,48025%
[02:04:54] [INFO] [Bullet] Penetration failed (distance roll)
[02:04:54] [ENEMY] [Enemy2] Ragdoll activated
[02:04:54] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[02:04:56] [ENEMY] [Enemy1] Player distracted - priority attack triggered
[02:04:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(441.2993, 458.5109), source=ENEMY (Enemy1), range=1469, listeners=7
[02:04:56] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=3
[02:04:56] [ENEMY] [Enemy1] State: PURSUING -> COMBAT
[02:04:56] [ENEMY] [Enemy1] Player distracted - priority attack triggered
[02:04:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(449.0736, 490.1425), source=ENEMY (Enemy1), range=1469, listeners=7
[02:04:56] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=3
[02:04:56] [INFO] [LastChance] Threat detected: Bullet
[02:04:56] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[02:04:56] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:04:56] [ENEMY] [Enemy2] Death animation completed
[02:04:56] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[02:04:56] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[02:04:56] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[02:04:56] [INFO] [LastChance] Threat detected: @Area2D@2105
[02:04:56] [INFO] [LastChance] Triggering last chance effect!
[02:04:56] [INFO] [LastChance] Starting last chance effect:
[02:04:56] [INFO] [LastChance]   - Time will be frozen (except player)
[02:04:56] [INFO] [LastChance]   - Duration: 6.0 real seconds
[02:04:56] [INFO] [LastChance]   - Sepia intensity: 0.70
[02:04:56] [INFO] [LastChance]   - Brightness: 0.60
[02:04:56] [INFO] [LastChance] Pushed bullet @Area2D@2105 from distance 119.5 to 200.0
[02:04:56] [INFO] [LastChance] Pushed 1 threatening bullets away from player
[02:04:56] [INFO] [LastChance] Set player Player and all 18 children to PROCESS_MODE_ALWAYS
[02:04:56] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[02:04:56] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:04:56] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:04:56] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[02:04:56] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:04:56] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:04:56] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:04:56] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:04:56] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:04:56] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:04:56] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:04:56] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:04:56] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:04:56] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:04:56] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:04:56] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:04:56] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:04:56] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[02:04:56] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[02:04:56] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:04:56] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:04:56] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:04:56] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:04:56] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:04:56] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[02:04:56] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[02:04:56] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:04:56] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[02:04:56] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[02:04:56] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:04:56] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:04:56] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[02:04:56] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[02:04:56] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[02:04:56] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[02:04:56] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[02:04:56] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[02:04:56] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[02:04:56] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[02:04:56] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[02:04:56] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[02:04:56] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[02:04:56] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[02:04:56] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[02:04:56] [INFO] [LastChance] Skipping player node: Player
[02:04:56] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[02:04:56] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[02:04:56] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[02:04:57] [INFO] [ScoreManager] Combo ended at 3. Max combo: 3
[02:05:00] [INFO] [LastChance] Freezing newly fired player bullet: Bullet
[02:05:00] [INFO] [LastChance] Registered frozen player bullet: Bullet
[02:05:00] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(876.0408, 1058.788), source=PLAYER (AssaultRifle), range=1469, listeners=7
[02:05:00] [ENEMY] [Enemy10] Heard gunshot at (876.0408, 1058.788), source_type=0, intensity=0.50, distance=71
[02:05:00] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=6
[02:05:00] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[02:05:00] [ENEMY] [Enemy1] Player reloading state changed: false -> true
[02:05:00] [ENEMY] [Enemy5] Player reloading state changed: false -> true
[02:05:00] [ENEMY] [Enemy6] Player reloading state changed: false -> true
[02:05:00] [ENEMY] [Enemy7] Player reloading state changed: false -> true
[02:05:00] [ENEMY] [Enemy8] Player reloading state changed: false -> true
[02:05:00] [ENEMY] [Enemy9] Player reloading state changed: false -> true
[02:05:00] [ENEMY] [Enemy10] Player reloading state changed: false -> true
[02:05:00] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(759.2075, 1052.788), source=PLAYER (Player), range=900, listeners=7
[02:05:00] [ENEMY] [Enemy10] Heard player RELOAD at (759.2075, 1052.788), intensity=0.07, distance=183
[02:05:00] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=0, below_threshold=2
[02:05:01] [INFO] [Player.Reload.Anim] LeftArm: pos=(4.046085, 2.010645), target=(4, 2), base=(24, 6)
[02:05:01] [INFO] [Player.Reload.Anim] RightArm: pos=(-1.9928601, 6), target=(-2, 6), base=(-2, 6)
[02:05:01] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[02:05:01] [INFO] [Player.Reload.Anim] Phase changed to: PullBolt (duration: 0,35s)
[02:05:01] [ENEMY] [Enemy1] Player reloading state changed: true -> false
[02:05:01] [ENEMY] [Enemy5] Player reloading state changed: true -> false
[02:05:01] [ENEMY] [Enemy6] Player reloading state changed: true -> false
[02:05:01] [ENEMY] [Enemy7] Player reloading state changed: true -> false
[02:05:01] [ENEMY] [Enemy8] Player reloading state changed: true -> false
[02:05:01] [ENEMY] [Enemy9] Player reloading state changed: true -> false
[02:05:01] [ENEMY] [Enemy10] Player reloading state changed: true -> false
[02:05:01] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[02:05:01] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[02:05:02] [INFO] [LastChance] Effect duration expired after 6.00 real seconds
[02:05:02] [INFO] [LastChance] Ending last chance effect
[02:05:02] [INFO] [LastChance] All process modes restored
[02:05:02] [INFO] [LastChance] Unfroze player bullet: Bullet
[02:05:02] [INFO] [LastChance] Restored original colors to 5 player sprites
[02:05:02] [INFO] [LastChance] Called player RefreshHealthVisual (C#)
[02:05:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(468.1736, 555.4554), shooter_id=2676016285656, bullet_pos=(660.6264, 1001.984)
[02:05:02] [INFO] [Bullet] Using shooter_position, distance=486.235992431641
[02:05:02] [INFO] [Bullet] Distance to wall: 486.235992431641 (33.10870283382% of viewport)
[02:05:02] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:05:02] [INFO] [Bullet] Starting wall penetration at (660.6264, 1001.984)
[02:05:02] [INFO] [Bullet] Raycast backward hit penetrating body at distance 22.7695980072021
[02:05:02] [INFO] [Bullet] Body exited signal received for penetrating body
[02:05:02] [INFO] [Bullet] Exiting penetration at (678.7726, 1044.978) after traveling 41.6666641235352 pixels through wall
[02:05:02] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:05:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(934.0262, 1033.825), source=ENEMY (Enemy10), range=1469, listeners=7
[02:05:02] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=6
[02:05:02] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[02:05:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(933.3319, 1035.223), source=ENEMY (Enemy10), range=1469, listeners=7
[02:05:02] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=6
[02:05:02] [INFO] [LastChance] Threat detected: @Area2D@2107
[02:05:02] [INFO] [LastChance] Effect already used this life
[02:05:02] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:05:02] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[02:05:02] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[02:05:02] [INFO] [PenultimateHit] Player died - ending penultimate effect
[02:05:02] [INFO] [LastChance] Player died
[02:05:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(934.0253, 1033.828), source=ENEMY (Enemy10), range=1469, listeners=7
[02:05:02] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=6
[02:05:02] [INFO] [LastChance] Threat detected: @Area2D@2108
[02:05:02] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:05:02] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:05:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(933.3323, 1035.223), source=ENEMY (Enemy10), range=1469, listeners=7
[02:05:02] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=6
[02:05:02] [INFO] [LastChance] Threat detected: @Area2D@2109
[02:05:02] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:05:02] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:05:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(876.0408, 1058.788), shooter_id=2679405282978, bullet_pos=(2483.3596, 1115.901)
[02:05:02] [INFO] [Bullet] Using shooter_position, distance=1608,3333
[02:05:02] [INFO] [Bullet] Distance to wall: 1608,3333 (109,514366% of viewport)
[02:05:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(934.0267, 1033.823), source=ENEMY (Enemy10), range=1469, listeners=7
[02:05:02] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=6
[02:05:03] [INFO] [LastChance] Threat detected: @Area2D@2110
[02:05:03] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:05:03] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:05:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(934.4926, 1033.665), source=ENEMY (Enemy10), range=1469, listeners=7
[02:05:03] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=6
[02:05:03] [INFO] [LastChance] Threat detected: @Area2D@2112
[02:05:03] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:05:03] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:05:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(933.4426, 1034.981), source=ENEMY (Enemy10), range=1469, listeners=7
[02:05:03] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=6
[02:05:03] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[02:05:03] [INFO] [LastChance] Resetting all effects (scene change detected)
[02:05:03] [ENEMY] [Enemy1] Death animation component initialized
[02:05:03] [ENEMY] [Enemy2] Death animation component initialized
[02:05:03] [ENEMY] [Enemy3] Death animation component initialized
[02:05:03] [ENEMY] [Enemy4] Death animation component initialized
[02:05:03] [ENEMY] [Enemy5] Death animation component initialized
[02:05:03] [ENEMY] [Enemy6] Death animation component initialized
[02:05:03] [ENEMY] [Enemy7] Death animation component initialized
[02:05:03] [ENEMY] [Enemy8] Death animation component initialized
[02:05:03] [ENEMY] [Enemy9] Death animation component initialized
[02:05:03] [ENEMY] [Enemy10] Death animation component initialized
[02:05:03] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[02:05:03] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[02:05:03] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[02:05:03] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[02:05:03] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[02:05:03] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[02:05:03] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[02:05:03] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[02:05:03] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[02:05:03] [ENEMY] [Enemy10] Grenade system configured: offensive=2, flashbangs=0
[02:05:03] [INFO] [ScoreManager] Level started with 10 enemies
[02:05:03] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 8)
[02:05:03] [ENEMY] [Enemy1] Registered as sound listener
[02:05:03] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[02:05:03] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 9)
[02:05:03] [ENEMY] [Enemy2] Registered as sound listener
[02:05:03] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[02:05:03] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 10)
[02:05:03] [ENEMY] [Enemy3] Registered as sound listener
[02:05:03] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[02:05:03] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 11)
[02:05:03] [ENEMY] [Enemy4] Registered as sound listener
[02:05:03] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[02:05:03] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 12)
[02:05:03] [ENEMY] [Enemy5] Registered as sound listener
[02:05:03] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[02:05:03] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 13)
[02:05:03] [ENEMY] [Enemy6] Registered as sound listener
[02:05:03] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[02:05:03] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 14)
[02:05:03] [ENEMY] [Enemy7] Registered as sound listener
[02:05:03] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[02:05:03] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 15)
[02:05:03] [ENEMY] [Enemy8] Registered as sound listener
[02:05:03] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[02:05:03] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 16)
[02:05:03] [ENEMY] [Enemy9] Registered as sound listener
[02:05:03] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[02:05:03] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 17)
[02:05:03] [ENEMY] [Enemy10] Registered as sound listener
[02:05:03] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[02:05:03] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[02:05:03] [INFO] [LastChance] Resetting all effects (scene change detected)
[02:05:03] [ENEMY] [Enemy1] Death animation component initialized
[02:05:03] [ENEMY] [Enemy2] Death animation component initialized
[02:05:03] [ENEMY] [Enemy3] Death animation component initialized
[02:05:03] [ENEMY] [Enemy4] Death animation component initialized
[02:05:03] [ENEMY] [Enemy5] Death animation component initialized
[02:05:03] [ENEMY] [Enemy6] Death animation component initialized
[02:05:03] [ENEMY] [Enemy7] Death animation component initialized
[02:05:03] [ENEMY] [Enemy8] Death animation component initialized
[02:05:03] [ENEMY] [Enemy9] Death animation component initialized
[02:05:03] [ENEMY] [Enemy10] Death animation component initialized
[02:05:03] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[02:05:03] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[02:05:03] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[02:05:03] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[02:05:03] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[02:05:03] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[02:05:03] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[02:05:03] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[02:05:03] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[02:05:03] [ENEMY] [Enemy10] Grenade system configured: offensive=2, flashbangs=0
[02:05:03] [INFO] [ScoreManager] Level started with 10 enemies
[02:05:03] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 18)
[02:05:03] [ENEMY] [Enemy1] Registered as sound listener
[02:05:03] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[02:05:03] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 19)
[02:05:03] [ENEMY] [Enemy2] Registered as sound listener
[02:05:03] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[02:05:03] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 20)
[02:05:03] [ENEMY] [Enemy3] Registered as sound listener
[02:05:03] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[02:05:03] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 21)
[02:05:03] [ENEMY] [Enemy4] Registered as sound listener
[02:05:03] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[02:05:03] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 22)
[02:05:03] [ENEMY] [Enemy5] Registered as sound listener
[02:05:03] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[02:05:03] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 23)
[02:05:03] [ENEMY] [Enemy6] Registered as sound listener
[02:05:03] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[02:05:03] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 24)
[02:05:03] [ENEMY] [Enemy7] Registered as sound listener
[02:05:03] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[02:05:03] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 25)
[02:05:03] [ENEMY] [Enemy8] Registered as sound listener
[02:05:03] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[02:05:03] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 26)
[02:05:03] [ENEMY] [Enemy9] Registered as sound listener
[02:05:03] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[02:05:03] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 27)
[02:05:03] [ENEMY] [Enemy10] Registered as sound listener
[02:05:03] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[02:05:03] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[02:05:03] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[02:05:03] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[02:05:03] [INFO] [LastChance] Found player: Player
[02:05:03] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[02:05:03] [INFO] [LastChance] Connected to player Damaged signal (C#)
[02:05:03] [INFO] [LastChance] Connected to player Died signal (C#)
[02:05:03] [INFO] [Player] Detecting weapon pose (frame 3)...
[02:05:03] [INFO] [Player] Detected weapon: Rifle (default pose)
[02:05:03] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[02:05:03] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:05:03] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:05:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1171.731, 1535.008), source=ENEMY (Enemy10), range=1469, listeners=27
[02:05:03] [INFO] [SoundPropagation] Cleaned up 17 invalid listeners
[02:05:03] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=8
[02:05:03] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:05:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1139.423, 1516.307), source=ENEMY (Enemy10), range=1469, listeners=10
[02:05:03] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:05:04] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:05:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1107.906, 1496.302), source=ENEMY (Enemy10), range=1469, listeners=10
[02:05:04] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:05:04] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:05:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1077.226, 1475.035), source=ENEMY (Enemy10), range=1469, listeners=10
[02:05:04] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:05:04] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:05:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1047.428, 1452.549), source=ENEMY (Enemy10), range=1469, listeners=10
[02:05:04] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:05:04] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1108.874, 1508.939), shooter_id=3172521216317, bullet_pos=(53.14801, 921.1365)
[02:05:04] [INFO] [Bullet] Using shooter_position, distance=1208.33337402344
[02:05:04] [INFO] [Bullet] Distance to wall: 1208.33337402344 (82.277641366406% of viewport)
[02:05:04] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[02:05:04] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1077.684, 1487.691), shooter_id=3172521216317, bullet_pos=(46.85162, 857.2495)
[02:05:04] [INFO] [Bullet] Using shooter_position, distance=1208.33435058594
[02:05:04] [INFO] [Bullet] Distance to wall: 1208.33435058594 (82.2777078623423% of viewport)
[02:05:04] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1108.874, 1508.939), shooter_id=3172521216317, bullet_pos=(382.5053, 703.8353)
[02:05:04] [INFO] [Bullet] Using shooter_position, distance=1084.3447265625
[02:05:04] [INFO] [Bullet] Distance to wall: 1084.3447265625 (73.8350263657721% of viewport)
[02:05:04] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1047.382, 1465.197), shooter_id=3172521216317, bullet_pos=(43.06916, 793.3154)
[02:05:04] [INFO] [Bullet] Using shooter_position, distance=1208.33349609375
[02:05:04] [INFO] [Bullet] Distance to wall: 1208.33349609375 (82.277649678398% of viewport)
[02:05:04] [INFO] [Bullet] Distance-based penetration chance: 50.6760753752023%
[02:05:04] [INFO] [Bullet] Penetration failed (distance roll)
[02:05:04] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1077.684, 1487.691), shooter_id=3172521216317, bullet_pos=(287.3628, 698.2198)
[02:05:04] [INFO] [Bullet] Using shooter_position, distance=1117.08215332031
[02:05:04] [INFO] [Bullet] Distance to wall: 1117.08215332031 (76.0641779525312% of viewport)
[02:05:04] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1018.01, 1441.508), shooter_id=3172521216317, bullet_pos=(41.67921, 729.5751)
[02:05:04] [INFO] [Bullet] Using shooter_position, distance=1208.33349609375
[02:05:04] [INFO] [Bullet] Distance to wall: 1208.33349609375 (82.277649678398% of viewport)
[02:05:04] [INFO] [Bullet] Distance-based penetration chance: 50.6760753752023%
[02:05:04] [INFO] [Bullet] Penetration failed (distance roll)
[02:05:04] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1077.684, 1487.691), shooter_id=3172521216317, bullet_pos=(502.1904, 817.7316)
[02:05:04] [INFO] [Bullet] Using shooter_position, distance=883.197875976563
[02:05:04] [INFO] [Bullet] Distance to wall: 883.197875976563 (60.1385674329323% of viewport)
[02:05:04] [INFO] [Bullet] Distance-based penetration chance: 76.505004661579%
[02:05:04] [INFO] [Bullet] Starting wall penetration at (502.1904, 817.7316)
[02:05:04] [INFO] [Bullet] Raycast backward hit penetrating body at distance 10.1468505859375
[02:05:04] [INFO] [Bullet] Body exited signal received for penetrating body
[02:05:04] [INFO] [Bullet] Exiting penetration at (532.8671, 834.7974) after traveling 30.1041698455811 pixels through wall
[02:05:04] [INFO] [Bullet] Damage multiplier after penetration: 0.225
[02:05:04] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[02:05:04] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(989.6003, 1416.68), shooter_id=3172521216317, bullet_pos=(42.53408, 666.2555)
[02:05:04] [INFO] [Bullet] Using shooter_position, distance=1208.33422851563
[02:05:04] [INFO] [Bullet] Distance to wall: 1208.33422851563 (82.2776995503503% of viewport)
[02:05:04] [INFO] [Bullet] Distance-based penetration chance: 50.676017191258%
[02:05:04] [INFO] [Bullet] Penetration failed (distance roll)
[02:05:04] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1108.874, 1508.939), shooter_id=3172521216317, bullet_pos=(808.0596, 997.0177)
[02:05:04] [INFO] [Bullet] Using shooter_position, distance=593.761352539063
[02:05:04] [INFO] [Bullet] Distance to wall: 593.761352539063 (40.4303023252369% of viewport)
[02:05:04] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1108.874, 1508.939), shooter_id=3172521216317, bullet_pos=(916.2219, 919.7216)
[02:05:04] [INFO] [Bullet] Using shooter_position, distance=619.912719726563
[02:05:04] [INFO] [Bullet] Distance to wall: 619.912719726563 (42.2109970051577% of viewport)
[02:05:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[02:05:05] [ENEMY] [Enemy2] Heard gunshot at (684.4485, 753.7583), source_type=1, intensity=0.02, distance=350
[02:05:05] [ENEMY] [Enemy4] Heard gunshot at (684.4485, 753.7583), source_type=1, intensity=0.07, distance=186
[02:05:05] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[02:05:05] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[02:05:05] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[02:05:05] [INFO] [LastChance] Threat detected: @Area2D@2633
[02:05:05] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:05:05] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:05:05] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[02:05:05] [ENEMY] [Enemy3] Hit taken, health: 1/2
[02:05:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[02:05:05] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[02:05:05] [INFO] [LastChance] Threat detected: Bullet
[02:05:05] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:05:05] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:05:05] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[02:05:05] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[02:05:05] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[02:05:05] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(616.7291, 761.6271), shooter_id=3170524728217, bullet_pos=(33.39596, 762.2286)
[02:05:05] [INFO] [Bullet] Using shooter_position, distance=583.333435058594
[02:05:05] [INFO] [Bullet] Distance to wall: 583.333435058594 (39.7202462487424% of viewport)
[02:05:05] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:05:05] [INFO] [Bullet] Starting wall penetration at (33.39596, 762.2286)
[02:05:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 736.9999), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:05:05] [ENEMY] [Enemy1] Heard gunshot at (450, 736.9999), source_type=0, intensity=0.01, distance=415
[02:05:05] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[02:05:05] [INFO] [Bullet] Raycast backward hit penetrating body at distance 45.2707099914551
[02:05:05] [INFO] [Bullet] Body exited signal received for penetrating body
[02:05:05] [INFO] [Bullet] Exiting penetration at (-13.27069, 762.2767) after traveling 41.6666717529297 pixels through wall
[02:05:05] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:05:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(678.9013, 759.5226), source=ENEMY (Enemy3), range=1469, listeners=10
[02:05:05] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[02:05:05] [INFO] [LastChance] Threat detected: @Area2D@2635
[02:05:05] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[02:05:05] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:05:05] [ENEMY] [Enemy3] Hit taken, health: 0/2
[02:05:05] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[02:05:05] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[02:05:05] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[02:05:05] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[02:05:05] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[02:05:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(446.0691, 749.2814), source=PLAYER (AssaultRifle), range=1469, listeners=9
[02:05:05] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[02:05:05] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[02:05:05] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(610.853, 759.6857), shooter_id=3170524728217, bullet_pos=(52.84986, 778.8872)
[02:05:05] [INFO] [Bullet] Using shooter_position, distance=558.333435058594
[02:05:05] [INFO] [Bullet] Distance to wall: 558.333435058594 (38.017950277796% of viewport)
[02:05:05] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:05:05] [INFO] [Bullet] Starting wall penetration at (52.84986, 778.8872)
[02:05:05] [INFO] [Bullet] Raycast backward hit penetrating body at distance 17.4711303710938
[02:05:05] [INFO] [Bullet] Body exited signal received for penetrating body
[02:05:05] [INFO] [Bullet] Exiting penetration at (14.5392, 780.2055) after traveling 33.3333358764648 pixels through wall
[02:05:05] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:05:05] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(446.06912, 749.28143), shooter_id=3173343300312, bullet_pos=(936.6786, 781.50476)
[02:05:05] [INFO] [Bullet] Using shooter_position, distance=491,66656
[02:05:05] [INFO] [Bullet] Distance to wall: 491,66656 (33,47848% of viewport)
[02:05:05] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:05:05] [INFO] [Bullet] Starting wall penetration at (936.6786, 781.50476)
[02:05:05] [INFO] [Bullet] Raycast backward hit penetrating body at distance 39,013386
[02:05:05] [INFO] [Bullet] Body exited signal received for penetrating body
[02:05:05] [INFO] [Bullet] Exiting penetration at (974.9295, 784.0171) after traveling 33,333336 pixels through wall
[02:05:05] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[02:05:05] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[02:05:05] [ENEMY] [Enemy3] Ragdoll activated
[02:05:05] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[02:05:06] [ENEMY] [Enemy10] FLANKING started: target=(526.1702, 787.2656), side=left, pos=(1022.594, 1432.37)
[02:05:06] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[02:05:06] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:05:06] [ENEMY] [Enemy10] State: FLANKING -> COMBAT
[02:05:06] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:05:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(986.8868, 1424.065), source=ENEMY (Enemy10), range=1469, listeners=9
[02:05:06] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=8
[02:05:06] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:05:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(959.1265, 1408.304), source=ENEMY (Enemy10), range=1469, listeners=9
[02:05:06] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=8
[02:05:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(936.0674, 1399.451), source=ENEMY (Enemy10), range=1469, listeners=9
[02:05:06] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=8
[02:05:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(935.2167, 1393.63), source=ENEMY (Enemy10), range=1469, listeners=9
[02:05:06] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=8
[02:05:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(933.7233, 1389.632), source=ENEMY (Enemy10), range=1469, listeners=9
[02:05:06] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=8
[02:05:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(929.0261, 1388.25), shooter_id=3172521216317, bullet_pos=(66.23629, 705.9058)
[02:05:06] [INFO] [Bullet] Using shooter_position, distance=1099.99987792969
[02:05:06] [INFO] [Bullet] Distance to wall: 1099.99987792969 (74.9010144096489% of viewport)
[02:05:06] [INFO] [Bullet] Distance-based penetration chance: 59.2821498554096%
[02:05:06] [INFO] [Bullet] Penetration failed (distance roll)
[02:05:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(900.0192, 1374.585), shooter_id=3172521216317, bullet_pos=(67.06625, 763.0574)
[02:05:06] [INFO] [Bullet] Using shooter_position, distance=1033.33312988281
[02:05:06] [INFO] [Bullet] Distance to wall: 1033.33312988281 (70.3615529457972% of viewport)
[02:05:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(932.3688, 1387.181), source=ENEMY (Enemy10), range=1469, listeners=9
[02:05:06] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=8
[02:05:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(900.0192, 1374.585), shooter_id=3172521216317, bullet_pos=(137.2723, 706.7446)
[02:05:06] [INFO] [Bullet] Using shooter_position, distance=1013.80181884766
[02:05:06] [INFO] [Bullet] Distance to wall: 1013.80181884766 (69.0316300624993% of viewport)
[02:05:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(875.8743, 1367.813), shooter_id=3172521216317, bullet_pos=(49.90381, 804.1005)
[02:05:07] [INFO] [Bullet] Using shooter_position, distance=999.999694824219
[02:05:07] [INFO] [Bullet] Distance to wall: 999.999694824219 (68.0918180578753% of viewport)
[02:05:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(931.4794, 1385.868), source=ENEMY (Enemy10), range=1469, listeners=9
[02:05:07] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=8
[02:05:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(875.8743, 1367.813), shooter_id=3172521216317, bullet_pos=(163.48, 711.3019)
[02:05:07] [INFO] [Bullet] Using shooter_position, distance=968.768737792969
[02:05:07] [INFO] [Bullet] Distance to wall: 968.768737792969 (65.9652447649514% of viewport)
[02:05:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(873.5963, 1364.865), shooter_id=3172521216317, bullet_pos=(50.35299, 858.1935)
[02:05:07] [INFO] [Bullet] Using shooter_position, distance=966.666931152344
[02:05:07] [INFO] [Bullet] Distance to wall: 966.666931152344 (65.8221288859097% of viewport)
[02:05:07] [INFO] [Bullet] Distance-based penetration chance: 69.8741829664387%
[02:05:07] [INFO] [Bullet] Penetration failed (distance roll)
[02:05:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(931.1869, 1385.473), source=ENEMY (Enemy10), range=1469, listeners=9
[02:05:07] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=8
[02:05:07] [ENEMY] [Enemy3] Death animation completed
[02:05:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(870.8853, 1363.627), shooter_id=3172521216317, bullet_pos=(55.10973, 910.172)
[02:05:07] [INFO] [Bullet] Using shooter_position, distance=933.333374023438
[02:05:07] [INFO] [Bullet] Distance to wall: 933.333374023438 (63.5523856859957% of viewport)
[02:05:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(931.5304, 1385.935), source=ENEMY (Enemy10), range=1469, listeners=9
[02:05:07] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=8
[02:05:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(868.4895, 1363.844), shooter_id=3172521216317, bullet_pos=(64.13324, 960.0995)
[02:05:07] [INFO] [Bullet] Using shooter_position, distance=899.999267578125
[02:05:07] [INFO] [Bullet] Distance to wall: 899.999267578125 (61.2826050821176% of viewport)
[02:05:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(875.8743, 1367.813), shooter_id=3172521216317, bullet_pos=(506.3389, 944.0867)
[02:05:07] [INFO] [Bullet] Using shooter_position, distance=562.228271484375
[02:05:07] [INFO] [Bullet] Distance to wall: 562.228271484375 (38.2831568520001% of viewport)
[02:05:07] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:05:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(920.4986, 1377.268), source=ENEMY (Enemy10), range=1469, listeners=9
[02:05:07] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=7
[02:05:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(870.8853, 1363.627), shooter_id=3172521216317, bullet_pos=(366.3761, 704.0387)
[02:05:07] [INFO] [Bullet] Using shooter_position, distance=830.413330078125
[02:05:07] [INFO] [Bullet] Distance to wall: 830.413330078125 (56.5443706404865% of viewport)
[02:05:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(866.7112, 1365.12), shooter_id=3172521216317, bullet_pos=(46.75716, 994.0745)
[02:05:07] [INFO] [Bullet] Using shooter_position, distance=899.999694824219
[02:05:07] [INFO] [Bullet] Distance to wall: 899.999694824219 (61.2826341740898% of viewport)
[02:05:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(887.1894, 1375.934), source=ENEMY (Enemy10), range=1469, listeners=9
[02:05:07] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=7
[02:05:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(870.8853, 1363.627), shooter_id=3172521216317, bullet_pos=(506.2924, 806.7745)
[02:05:07] [INFO] [Bullet] Using shooter_position, distance=665.592041015625
[02:05:07] [INFO] [Bullet] Distance to wall: 665.592041015625 (45.3213859885952% of viewport)
[02:05:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(865.6664, 1367.233), shooter_id=3172521216317, bullet_pos=(62.91448, 1040.583)
[02:05:07] [INFO] [Bullet] Using shooter_position, distance=866.666687011719
[02:05:07] [INFO] [Bullet] Distance to wall: 866.666687011719 (59.01292837814% of viewport)
[02:05:07] [INFO] [Bullet] Distance-based penetration chance: 77.8182502255033%
[02:05:07] [INFO] [Bullet] Starting wall penetration at (62.91448, 1040.583)
[02:05:07] [INFO] [Bullet] Raycast backward hit penetrating body at distance 4.95748090744019
[02:05:07] [INFO] [Bullet] Body exited signal received for penetrating body
[02:05:07] [INFO] [Bullet] Exiting penetration at (27.40814, 1026.135) after traveling 33.3333358764648 pixels through wall
[02:05:07] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:05:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(857.8102, 1375.997), source=ENEMY (Enemy10), range=1469, listeners=9
[02:05:07] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=7
[02:05:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(865.3837, 1370.109), shooter_id=3172521216317, bullet_pos=(51.19826, 1073.102)
[02:05:07] [INFO] [Bullet] Using shooter_position, distance=866.666564941406
[02:05:07] [INFO] [Bullet] Distance to wall: 866.666564941406 (59.012920066148% of viewport)
[02:05:07] [INFO] [Bullet] Distance-based penetration chance: 77.8182599228274%
[02:05:07] [INFO] [Bullet] Penetration failed (distance roll)
[02:05:07] [ENEMY] [Enemy1] FLANKING started: target=(-67.58866, 1042.12), side=left, pos=(250.7048, 401.9336)
[02:05:07] [ENEMY] [Enemy1] State: PURSUING -> FLANKING
[02:05:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(827.842, 1363.962), source=ENEMY (Enemy10), range=1469, listeners=9
[02:05:07] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=7
[02:05:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(853.7587, 1364.186), shooter_id=3172521216317, bullet_pos=(59.77017, 1111.152)
[02:05:07] [INFO] [Bullet] Using shooter_position, distance=833.332885742188
[02:05:07] [INFO] [Bullet] Distance to wall: 833.332885742188 (56.743168554242% of viewport)
[02:05:07] [INFO] [Bullet] Distance-based penetration chance: 80.4663033533843%
[02:05:07] [INFO] [Bullet] Starting wall penetration at (59.77017, 1111.152)
[02:05:07] [INFO] [Bullet] Raycast backward hit penetrating body at distance 9.1870584487915
[02:05:07] [INFO] [Bullet] Body exited signal received for penetrating body
[02:05:07] [INFO] [Bullet] Exiting penetration at (23.24669, 1099.513) after traveling 33.3333358764648 pixels through wall
[02:05:07] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:05:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(794.6298, 1356.087), source=ENEMY (Enemy10), range=1469, listeners=9
[02:05:07] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=7
[02:05:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(820.1951, 1364.095), shooter_id=3172521216317, bullet_pos=(53.55741, 1135.477)
[02:05:07] [INFO] [Bullet] Using shooter_position, distance=799.999755859375
[02:05:07] [INFO] [Bullet] Distance to wall: 799.999755859375 (54.4734544463002% of viewport)
[02:05:07] [INFO] [Bullet] Distance-based penetration chance: 83.1143031459831%
[02:05:07] [INFO] [Bullet] Starting wall penetration at (53.55741, 1135.477)
[02:05:07] [INFO] [Bullet] Raycast backward hit penetrating body at distance 15.8377904891968
[02:05:07] [INFO] [Bullet] Body exited signal received for penetrating body
[02:05:07] [INFO] [Bullet] Exiting penetration at (16.82268, 1124.522) after traveling 33.3333358764648 pixels through wall
[02:05:07] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:05:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(870.8853, 1363.627), shooter_id=3172521216317, bullet_pos=(63.0466, 1072.454)
[02:05:07] [INFO] [Bullet] Using shooter_position, distance=858.71142578125
[02:05:07] [INFO] [Bullet] Distance to wall: 858.71142578125 (58.4712400125219% of viewport)
[02:05:07] [INFO] [Bullet] Distance-based penetration chance: 78.4502199853911%
[02:05:07] [INFO] [Bullet] Starting wall penetration at (63.0466, 1072.454)
[02:05:07] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[02:05:07] [INFO] [Bullet] Exiting penetration at (41.19969, 1085.548) after traveling 20.470832824707 pixels through wall
[02:05:07] [INFO] [Bullet] Damage multiplier after penetration: 0.1125
[02:05:08] [INFO] [LastChance] Threat detected: Bullet
[02:05:08] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[02:05:08] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:05:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(790.639, 1365.449), shooter_id=3172521216317, bullet_pos=(51.89891, 1160.408)
[02:05:08] [INFO] [Bullet] Using shooter_position, distance=766.667114257813
[02:05:08] [INFO] [Bullet] Distance to wall: 766.667114257813 (52.2037735863267% of viewport)
[02:05:08] [INFO] [Bullet] Distance-based penetration chance: 85.7622641492856%
[02:05:08] [INFO] [Bullet] Starting wall penetration at (51.89891, 1160.408)
[02:05:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(761.3633, 1348.443), source=ENEMY (Enemy10), range=1469, listeners=9
[02:05:08] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[02:05:08] [INFO] [Bullet] Raycast backward hit penetrating body at distance 17.6821537017822
[02:05:08] [INFO] [Bullet] Body exited signal received for penetrating body
[02:05:08] [INFO] [Bullet] Exiting penetration at (14.96192, 1150.156) after traveling 33.3333320617676 pixels through wall
[02:05:08] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:05:08] [ENEMY] [Enemy4] State: SUPPRESSED -> IN_COVER
[02:05:08] [INFO] [LastChance] Threat detected: @Area2D@2674
[02:05:08] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[02:05:08] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:05:08] [ENEMY] [Enemy4] State: IN_COVER -> PURSUING
[02:05:08] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[02:05:08] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[02:05:08] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[02:05:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(728.0953, 1340.806), source=ENEMY (Enemy10), range=1469, listeners=9
[02:05:08] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[02:05:08] [INFO] [LastChance] Threat detected: @Area2D@2676
[02:05:08] [INFO] [LastChance] Triggering last chance effect!
[02:05:08] [INFO] [LastChance] Starting last chance effect:
[02:05:08] [INFO] [LastChance]   - Time will be frozen (except player)
[02:05:08] [INFO] [LastChance]   - Duration: 6.0 real seconds
[02:05:08] [INFO] [LastChance]   - Sepia intensity: 0.70
[02:05:08] [INFO] [LastChance]   - Brightness: 0.60
[02:05:08] [INFO] [LastChance] Pushed bullet @Area2D@2676 from distance 132.4 to 200.0
[02:05:08] [INFO] [LastChance] Pushed 1 threatening bullets away from player
[02:05:08] [INFO] [LastChance] Set player Player and all 18 children to PROCESS_MODE_ALWAYS
[02:05:08] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[02:05:08] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:05:08] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:05:08] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[02:05:08] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:05:08] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:05:08] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:05:08] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:05:08] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:05:08] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:05:08] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:05:08] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:05:08] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:05:08] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:05:08] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:05:08] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:05:08] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:05:08] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[02:05:08] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[02:05:08] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:05:08] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:05:08] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:05:08] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:05:08] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:05:08] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[02:05:08] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[02:05:08] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:05:08] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[02:05:08] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[02:05:08] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:05:08] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:05:08] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[02:05:08] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[02:05:08] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[02:05:08] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[02:05:08] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[02:05:08] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[02:05:08] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[02:05:08] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[02:05:08] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[02:05:08] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[02:05:08] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[02:05:08] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[02:05:08] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[02:05:08] [INFO] [LastChance] Skipping player node: Player
[02:05:08] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[02:05:08] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[02:05:08] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[02:05:08] [INFO] [ScoreManager] Combo ended at 1. Max combo: 1
[02:05:13] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@2681
[02:05:13] [INFO] [LastChance] Registered frozen player bullet: @Area2D@2681
[02:05:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(80.06496, 1198.046), source=PLAYER (AssaultRifle), range=1469, listeners=9
[02:05:13] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=4
[02:05:14] [INFO] [LastChance] Effect duration expired after 6.00 real seconds
[02:05:14] [INFO] [LastChance] Ending last chance effect
[02:05:14] [INFO] [LastChance] All process modes restored
[02:05:14] [INFO] [LastChance] Unfroze player bullet: @Area2D@2681
[02:05:14] [INFO] [LastChance] Restored original colors to 5 player sprites
[02:05:14] [INFO] [LastChance] Called player RefreshHealthVisual (C#)
[02:05:14] [INFO] [LastChance] Threat detected: @Area2D@2676
[02:05:14] [INFO] [LastChance] Effect already used this life
[02:05:14] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:05:14] [INFO] [LastChance] Threat detected: @Area2D@2680
[02:05:14] [INFO] [LastChance] Effect already used this life
[02:05:14] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:05:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(727.0127, 1348.493), shooter_id=3172521216317, bullet_pos=(28.68705, 1191.076)
[02:05:14] [INFO] [Bullet] Using shooter_position, distance=715.848388671875
[02:05:14] [INFO] [Bullet] Distance to wall: 715.848388671875 (48.7434331137838% of viewport)
[02:05:14] [INFO] [Bullet] Distance-based penetration chance: 89.7993280339189%
[02:05:14] [INFO] [Bullet] Starting wall penetration at (28.68705, 1191.076)
[02:05:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(692.5162, 1336.395), source=ENEMY (Enemy10), range=1469, listeners=9
[02:05:14] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[02:05:14] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[02:05:14] [INFO] [Bullet] Exiting penetration at (-16.78537, 1180.586) after traveling 41.6666717529297 pixels through wall
[02:05:14] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:05:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(656.3439, 1345.632), source=ENEMY (Enemy10), range=1469, listeners=9
[02:05:14] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[02:05:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(660.4638, 1333.284), shooter_id=3172521216317, bullet_pos=(51.3079, 1193.448)
[02:05:14] [INFO] [Bullet] Using shooter_position, distance=625
[02:05:14] [INFO] [Bullet] Distance to wall: 625 (42.5573992736596% of viewport)
[02:05:14] [INFO] [Bullet] Distance-based penetration chance: 97.0163675140638%
[02:05:14] [INFO] [Bullet] Starting wall penetration at (51.3079, 1193.448)
[02:05:14] [INFO] [Bullet] Raycast backward hit penetrating body at distance 26.8565692901611
[02:05:14] [INFO] [Bullet] Body exited signal received for penetrating body
[02:05:14] [INFO] [Bullet] Exiting penetration at (5.824253, 1183.007) after traveling 41.6666679382324 pixels through wall
[02:05:14] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:05:14] [INFO] [LastChance] Threat detected: @Area2D@2683
[02:05:14] [INFO] [LastChance] Effect already used this life
[02:05:14] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:05:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(620.4115, 1355.756), source=ENEMY (Enemy10), range=1469, listeners=9
[02:05:14] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=4
[02:05:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(624.5549, 1333.248), shooter_id=3172521216317, bullet_pos=(48.78281, 1239.629)
[02:05:14] [INFO] [Bullet] Using shooter_position, distance=583.333435058594
[02:05:14] [INFO] [Bullet] Distance to wall: 583.333435058594 (39.7202462487424% of viewport)
[02:05:14] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:05:14] [INFO] [Bullet] Starting wall penetration at (48.78281, 1239.629)
[02:05:14] [INFO] [Bullet] Raycast backward hit penetrating body at distance 29.6634559631348
[02:05:14] [INFO] [Bullet] Body exited signal received for penetrating body
[02:05:14] [INFO] [Bullet] Exiting penetration at (2.721046, 1232.14) after traveling 41.6666679382324 pixels through wall
[02:05:14] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:05:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(588.3508, 1343.661), shooter_id=3172521216317, bullet_pos=(52.2829, 1265.981)
[02:05:14] [INFO] [Bullet] Using shooter_position, distance=541.666748046875
[02:05:14] [INFO] [Bullet] Distance to wall: 541.666748046875 (36.883084911833% of viewport)
[02:05:14] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:05:14] [INFO] [Bullet] Starting wall penetration at (52.2829, 1265.981)
[02:05:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(605.1323, 1360.504), source=ENEMY (Enemy10), range=1469, listeners=9
[02:05:14] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=5
[02:05:14] [INFO] [Bullet] Raycast backward hit penetrating body at distance 26.171932220459
[02:05:14] [INFO] [Bullet] Body exited signal received for penetrating body
[02:05:14] [INFO] [Bullet] Exiting penetration at (6.098595, 1259.289) after traveling 41.6666679382324 pixels through wall
[02:05:14] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:05:14] [INFO] [LastChance] Threat detected: Bullet
[02:05:14] [INFO] [LastChance] Effect already used this life
[02:05:14] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:05:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(552.4141, 1356.221), shooter_id=3172521216317, bullet_pos=(55.33397, 1302.264)
[02:05:14] [INFO] [Bullet] Using shooter_position, distance=500.000030517578
[02:05:14] [INFO] [Bullet] Distance to wall: 500.000030517578 (34.0459214969257% of viewport)
[02:05:14] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:05:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(605.1323, 1360.504), source=ENEMY (Enemy10), range=1469, listeners=9
[02:05:14] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=5
[02:05:14] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[02:05:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(537.3522, 1365.453), shooter_id=3172521216317, bullet_pos=(37.79584, 1344.395)
[02:05:14] [INFO] [Bullet] Using shooter_position, distance=500.000061035156
[02:05:14] [INFO] [Bullet] Distance to wall: 500.000061035156 (34.0459235749237% of viewport)
[02:05:14] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:05:14] [INFO] [Bullet] Starting wall penetration at (37.79584, 1344.395)
[02:05:14] [INFO] [Bullet] Raycast backward hit penetrating body at distance 40.8656883239746
[02:05:14] [INFO] [Bullet] Body exited signal received for penetrating body
[02:05:14] [INFO] [Bullet] Exiting penetration at (-8.829426, 1342.429) after traveling 41.6666717529297 pixels through wall
[02:05:14] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:05:14] [INFO] [LastChance] Threat detected: @Area2D@2690
[02:05:14] [INFO] [LastChance] Effect already used this life
[02:05:14] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:05:15] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(537.9606, 1370.828), shooter_id=3172521216317, bullet_pos=(38.31152, 1389.56)
[02:05:15] [INFO] [Bullet] Using shooter_position, distance=500.000091552734
[02:05:15] [INFO] [Bullet] Distance to wall: 500.000091552734 (34.0459256529217% of viewport)
[02:05:15] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:05:15] [INFO] [Bullet] Starting wall penetration at (38.31152, 1389.56)
[02:05:15] [INFO] [Bullet] Raycast backward hit penetrating body at distance 40.350715637207
[02:05:15] [INFO] [Bullet] Body exited signal received for penetrating body
[02:05:15] [INFO] [Bullet] Exiting penetration at (-8.322388, 1391.308) after traveling 41.6666717529297 pixels through wall
[02:05:15] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:05:15] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(80.064964, 1198.0463), shooter_id=3173343300312, bullet_pos=(2478.1934, 1103.251)
[02:05:15] [INFO] [Bullet] Using shooter_position, distance=2400,0012
[02:05:15] [INFO] [Bullet] Distance to wall: 2400,0012 (163,4205% of viewport)
[02:05:15] [INFO] [Bullet] Distance-based penetration chance: 17,315903%
[02:05:15] [INFO] [Bullet] Penetration failed (distance roll)
[02:05:15] [ENEMY] [Enemy1] Player distracted - priority attack triggered
[02:05:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(521.899, 664.7268), source=ENEMY (Enemy1), range=1469, listeners=9
[02:05:15] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=4
[02:05:15] [ENEMY] [Enemy2] FLANKING started: target=(281.8441, 1515.169), side=right, pos=(298.9556, 648.0536)
[02:05:15] [ENEMY] [Enemy2] State: PURSUING -> FLANKING
[02:05:15] [ENEMY] [Enemy1] State: FLANKING -> COMBAT
[02:05:15] [ENEMY] [Enemy1] Player distracted - priority attack triggered
[02:05:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(524.0671, 691.3889), source=ENEMY (Enemy1), range=1469, listeners=9
[02:05:15] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=4
[02:05:15] [ENEMY] [Enemy1] Player distracted - priority attack triggered
[02:05:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(524.067, 715.4624), source=ENEMY (Enemy1), range=1469, listeners=9
[02:05:15] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=4
[02:05:15] [INFO] [LastChance] Threat detected: Bullet
[02:05:15] [INFO] [LastChance] Effect already used this life
[02:05:15] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:05:15] [ENEMY] [Enemy1] Player distracted - priority attack triggered
[02:05:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(517.0809, 728.9961), source=ENEMY (Enemy1), range=1469, listeners=9
[02:05:15] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=4
[02:05:16] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[02:05:16] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[02:05:16] [INFO] [PenultimateHit] Player died - ending penultimate effect
[02:05:16] [INFO] [LastChance] Player died
[02:05:16] [INFO] [LastChance] Threat detected: @Area2D@2694
[02:05:16] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:05:16] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:05:16] [ENEMY] [Enemy1] Player distracted - priority attack triggered
[02:05:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(501.1079, 755.4473), shooter_id=3169954301834, bullet_pos=(58.03535, 1651.934)
[02:05:16] [INFO] [Bullet] Using shooter_position, distance=1000.0009765625
[02:05:16] [INFO] [Bullet] Distance to wall: 1000.0009765625 (68.0919053337918% of viewport)
[02:05:16] [INFO] [LastChance] Threat detected: @Area2D@2695
[02:05:16] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:05:16] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:05:16] [ENEMY] [Enemy1] Player distracted - priority attack triggered
[02:05:16] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[02:05:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(493.981, 793.0038), shooter_id=3169954301834, bullet_pos=(197.2857, 1390.01)
[02:05:16] [INFO] [Bullet] Using shooter_position, distance=666.66650390625
[02:05:16] [INFO] [Bullet] Distance to wall: 666.66650390625 (45.3945481425809% of viewport)
[02:05:16] [INFO] [Bullet] Distance-based penetration chance: 93.7063605003223%
[02:05:16] [INFO] [Bullet] Starting wall penetration at (197.2857, 1390.01)
[02:05:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(500.4041, 779.2642), shooter_id=3169954301834, bullet_pos=(66.36115, 1633.67)
[02:05:16] [INFO] [Bullet] Using shooter_position, distance=958.333068847656
[02:05:16] [INFO] [Bullet] Distance to wall: 958.333068847656 (65.254660876962% of viewport)
[02:05:16] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[02:05:16] [INFO] [Bullet] Exiting penetration at (176.517, 1431.8) after traveling 41.6666679382324 pixels through wall
[02:05:16] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:05:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(501.1079, 755.4473), shooter_id=3169954301834, bullet_pos=(275.8142, 2063.255)
[02:05:16] [INFO] [Bullet] Using shooter_position, distance=1327.07141113281
[02:05:16] [INFO] [Bullet] Distance to wall: 1327.07141113281 (90.3627326531808% of viewport)
[02:05:16] [INFO] [Bullet] Distance-based penetration chance: 41.243478571289%
[02:05:16] [INFO] [Bullet] Penetration failed (distance roll)
[02:05:16] [ENEMY] [Enemy10] FLANKING started: target=(65.94021, 1515.831), side=left, pos=(605.1323, 1360.504)
[02:05:16] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[02:05:16] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[02:05:16] [INFO] [LastChance] Resetting all effects (scene change detected)
[02:05:16] [ENEMY] [Enemy1] Death animation component initialized
[02:05:16] [ENEMY] [Enemy2] Death animation component initialized
[02:05:16] [ENEMY] [Enemy3] Death animation component initialized
[02:05:16] [ENEMY] [Enemy4] Death animation component initialized
[02:05:16] [ENEMY] [Enemy5] Death animation component initialized
[02:05:16] [ENEMY] [Enemy6] Death animation component initialized
[02:05:16] [ENEMY] [Enemy7] Death animation component initialized
[02:05:16] [ENEMY] [Enemy8] Death animation component initialized
[02:05:16] [ENEMY] [Enemy9] Death animation component initialized
[02:05:16] [ENEMY] [Enemy10] Death animation component initialized
[02:05:16] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[02:05:16] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[02:05:16] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[02:05:16] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[02:05:16] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[02:05:16] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[02:05:16] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[02:05:16] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[02:05:16] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[02:05:16] [ENEMY] [Enemy10] Grenade system configured: offensive=2, flashbangs=0
[02:05:16] [INFO] [ScoreManager] Level started with 10 enemies
[02:05:16] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[02:05:16] [ENEMY] [Enemy1] Registered as sound listener
[02:05:16] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[02:05:16] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[02:05:16] [ENEMY] [Enemy2] Registered as sound listener
[02:05:16] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[02:05:16] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[02:05:16] [ENEMY] [Enemy3] Registered as sound listener
[02:05:16] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[02:05:16] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[02:05:16] [ENEMY] [Enemy4] Registered as sound listener
[02:05:16] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[02:05:16] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[02:05:16] [ENEMY] [Enemy5] Registered as sound listener
[02:05:16] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[02:05:16] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[02:05:16] [ENEMY] [Enemy6] Registered as sound listener
[02:05:16] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[02:05:16] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[02:05:16] [ENEMY] [Enemy7] Registered as sound listener
[02:05:16] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[02:05:16] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[02:05:16] [ENEMY] [Enemy8] Registered as sound listener
[02:05:16] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[02:05:16] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[02:05:16] [ENEMY] [Enemy9] Registered as sound listener
[02:05:16] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[02:05:16] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[02:05:16] [ENEMY] [Enemy10] Registered as sound listener
[02:05:16] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[02:05:16] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[02:05:16] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[02:05:16] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[02:05:16] [INFO] [LastChance] Found player: Player
[02:05:16] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[02:05:16] [INFO] [LastChance] Connected to player Damaged signal (C#)
[02:05:16] [INFO] [LastChance] Connected to player Died signal (C#)
[02:05:16] [INFO] [Player] Detecting weapon pose (frame 3)...
[02:05:16] [INFO] [Player] Detected weapon: Rifle (default pose)
[02:05:16] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[02:05:17] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[02:05:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1143.909, 1519.201), source=ENEMY (Enemy10), range=1469, listeners=19
[02:05:17] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[02:05:17] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:05:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1111.82, 1500.12), source=ENEMY (Enemy10), range=1469, listeners=10
[02:05:17] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:05:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1079.789, 1480.943), source=ENEMY (Enemy10), range=1469, listeners=10
[02:05:17] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:05:17] [INFO] [LastChance] Threat detected: Bullet
[02:05:17] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:05:17] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:05:17] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[02:05:17] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[02:05:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1047.671, 1461.911), source=ENEMY (Enemy10), range=1469, listeners=10
[02:05:17] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:05:17] [INFO] [LastChance] Threat detected: @Area2D@2954
[02:05:17] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[02:05:17] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:05:17] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[02:05:17] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[02:05:17] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[02:05:17] [INFO] [LastChance] Threat detected: @Area2D@2955
[02:05:17] [INFO] [LastChance] Triggering last chance effect!
[02:05:17] [INFO] [LastChance] Starting last chance effect:
[02:05:17] [INFO] [LastChance]   - Time will be frozen (except player)
[02:05:17] [INFO] [LastChance]   - Duration: 6.0 real seconds
[02:05:17] [INFO] [LastChance]   - Sepia intensity: 0.70
[02:05:17] [INFO] [LastChance]   - Brightness: 0.60
[02:05:17] [INFO] [LastChance] Pushed bullet @Area2D@2955 from distance 118.9 to 200.0
[02:05:17] [INFO] [LastChance] Pushed 1 threatening bullets away from player
[02:05:17] [INFO] [LastChance] Set player Player and all 18 children to PROCESS_MODE_ALWAYS
[02:05:17] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[02:05:17] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:05:17] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:05:17] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[02:05:17] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:05:17] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:05:17] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:05:17] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:05:17] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:05:17] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:05:17] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:05:17] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:05:17] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:05:17] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:05:17] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:05:17] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:05:17] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:05:17] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[02:05:17] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[02:05:17] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:05:17] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:05:17] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:05:17] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:05:17] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:05:17] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[02:05:17] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[02:05:17] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:05:17] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[02:05:17] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[02:05:17] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:05:17] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:05:17] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[02:05:17] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[02:05:17] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[02:05:17] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[02:05:17] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[02:05:17] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[02:05:17] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[02:05:17] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[02:05:17] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[02:05:17] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[02:05:17] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[02:05:17] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[02:05:17] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[02:05:17] [INFO] [LastChance] Skipping player node: Player
[02:05:17] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[02:05:17] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[02:05:17] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[02:05:19] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@2956
[02:05:19] [INFO] [LastChance] Registered frozen player bullet: @Area2D@2956
[02:05:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(453.434, 1115.95), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:05:19] [ENEMY] [Enemy3] Heard gunshot at (453.434, 1115.95), source_type=0, intensity=0.01, distance=441
[02:05:19] [ENEMY] [Enemy4] Heard gunshot at (453.434, 1115.95), source_type=0, intensity=0.01, distance=408
[02:05:19] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=5
[02:05:23] [INFO] [LastChance] Effect duration expired after 6.00 real seconds
[02:05:23] [INFO] [LastChance] Ending last chance effect
[02:05:23] [INFO] [LastChance] All process modes restored
[02:05:23] [INFO] [LastChance] Unfroze player bullet: @Area2D@2956
[02:05:23] [INFO] [LastChance] Restored original colors to 5 player sprites
[02:05:23] [INFO] [LastChance] Called player RefreshHealthVisual (C#)
[02:05:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1015.549, 1442.885), source=ENEMY (Enemy10), range=1469, listeners=10
[02:05:23] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:05:23] [INFO] [LastChance] Threat detected: @Area2D@2955
[02:05:23] [INFO] [LastChance] Effect already used this life
[02:05:23] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:05:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(453.43396, 1115.9504), shooter_id=3616748341749, bullet_pos=(612.53, 1009.0645)
[02:05:23] [INFO] [Bullet] Using shooter_position, distance=191,6668
[02:05:23] [INFO] [Bullet] Distance to wall: 191,6668 (13,050945% of viewport)
[02:05:23] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:05:23] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[02:05:23] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[02:05:23] [INFO] [PenultimateHit] Player died - ending penultimate effect
[02:05:23] [INFO] [LastChance] Player died
[02:05:23] [INFO] [LastChance] Threat detected: Bullet
[02:05:23] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:05:23] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:05:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(983.4272, 1423.86), source=ENEMY (Enemy10), range=1469, listeners=10
[02:05:23] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:05:24] [INFO] [LastChance] Threat detected: @Area2D@2957
[02:05:24] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:05:24] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:05:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(951.0259, 1406.15), source=ENEMY (Enemy10), range=1469, listeners=10
[02:05:24] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:05:24] [INFO] [LastChance] Threat detected: @Area2D@2958
[02:05:24] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:05:24] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:05:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(934.2277, 1390.755), source=ENEMY (Enemy10), range=1469, listeners=10
[02:05:24] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:05:24] [INFO] [LastChance] Threat detected: Bullet
[02:05:24] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:05:24] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:05:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(453.43396, 1115.9504), shooter_id=3616748341749, bullet_pos=(1302.5588, 1381.5914)
[02:05:24] [INFO] [Bullet] Using shooter_position, distance=889,7068
[02:05:24] [INFO] [Bullet] Distance to wall: 889,7068 (60,58177% of viewport)
[02:05:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(932.2365, 1386.961), source=ENEMY (Enemy10), range=1469, listeners=10
[02:05:24] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:05:24] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[02:05:24] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[02:05:24] [INFO] [LastChance] Threat detected: @Area2D@2959
[02:05:24] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:05:24] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:05:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(929.8599, 1383.861), source=ENEMY (Enemy10), range=1469, listeners=10
[02:05:24] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:05:24] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[02:05:24] [INFO] [LastChance] Resetting all effects (scene change detected)
[02:05:24] [ENEMY] [Enemy1] Death animation component initialized
[02:05:24] [ENEMY] [Enemy2] Death animation component initialized
[02:05:24] [ENEMY] [Enemy3] Death animation component initialized
[02:05:24] [ENEMY] [Enemy4] Death animation component initialized
[02:05:24] [ENEMY] [Enemy5] Death animation component initialized
[02:05:24] [ENEMY] [Enemy6] Death animation component initialized
[02:05:24] [ENEMY] [Enemy7] Death animation component initialized
[02:05:24] [ENEMY] [Enemy8] Death animation component initialized
[02:05:24] [ENEMY] [Enemy9] Death animation component initialized
[02:05:24] [ENEMY] [Enemy10] Death animation component initialized
[02:05:24] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[02:05:24] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[02:05:24] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[02:05:24] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[02:05:24] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[02:05:24] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[02:05:24] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[02:05:24] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[02:05:24] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[02:05:24] [ENEMY] [Enemy10] Grenade system configured: offensive=2, flashbangs=0
[02:05:24] [INFO] [ScoreManager] Level started with 10 enemies
[02:05:24] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[02:05:24] [ENEMY] [Enemy1] Registered as sound listener
[02:05:24] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[02:05:24] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[02:05:24] [ENEMY] [Enemy2] Registered as sound listener
[02:05:24] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[02:05:24] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[02:05:24] [ENEMY] [Enemy3] Registered as sound listener
[02:05:24] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[02:05:24] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[02:05:24] [ENEMY] [Enemy4] Registered as sound listener
[02:05:24] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[02:05:24] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[02:05:24] [ENEMY] [Enemy5] Registered as sound listener
[02:05:24] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[02:05:24] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[02:05:24] [ENEMY] [Enemy6] Registered as sound listener
[02:05:24] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[02:05:24] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[02:05:24] [ENEMY] [Enemy7] Registered as sound listener
[02:05:24] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[02:05:24] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[02:05:24] [ENEMY] [Enemy8] Registered as sound listener
[02:05:24] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[02:05:24] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[02:05:24] [ENEMY] [Enemy9] Registered as sound listener
[02:05:24] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[02:05:24] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[02:05:24] [ENEMY] [Enemy10] Registered as sound listener
[02:05:24] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[02:05:24] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[02:05:24] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[02:05:24] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[02:05:24] [INFO] [LastChance] Found player: Player
[02:05:24] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[02:05:24] [INFO] [LastChance] Connected to player Damaged signal (C#)
[02:05:24] [INFO] [LastChance] Connected to player Died signal (C#)
[02:05:24] [INFO] [Player] Detecting weapon pose (frame 3)...
[02:05:24] [INFO] [Player] Detected weapon: Rifle (default pose)
[02:05:24] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[02:05:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 1256), source=PLAYER (AssaultRifle), range=1469, listeners=20
[02:05:25] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[02:05:25] [ENEMY] [Enemy4] Heard gunshot at (450, 1256), source_type=0, intensity=0.01, distance=499
[02:05:25] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=6
[02:05:25] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[02:05:26] [INFO] [LastChance] Resetting all effects (scene change detected)
[02:05:26] [ENEMY] [Enemy1] Death animation component initialized
[02:05:26] [ENEMY] [Enemy2] Death animation component initialized
[02:05:26] [ENEMY] [Enemy3] Death animation component initialized
[02:05:26] [ENEMY] [Enemy4] Death animation component initialized
[02:05:26] [ENEMY] [Enemy5] Death animation component initialized
[02:05:26] [ENEMY] [Enemy6] Death animation component initialized
[02:05:26] [ENEMY] [Enemy7] Death animation component initialized
[02:05:26] [ENEMY] [Enemy8] Death animation component initialized
[02:05:26] [ENEMY] [Enemy9] Death animation component initialized
[02:05:26] [ENEMY] [Enemy10] Death animation component initialized
[02:05:26] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[02:05:26] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[02:05:26] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[02:05:26] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[02:05:26] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[02:05:26] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[02:05:26] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[02:05:26] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[02:05:26] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[02:05:26] [ENEMY] [Enemy10] Grenade system configured: offensive=2, flashbangs=0
[02:05:26] [INFO] [ScoreManager] Level started with 10 enemies
[02:05:26] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[02:05:26] [ENEMY] [Enemy1] Registered as sound listener
[02:05:26] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[02:05:26] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[02:05:26] [ENEMY] [Enemy2] Registered as sound listener
[02:05:26] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[02:05:26] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[02:05:26] [ENEMY] [Enemy3] Registered as sound listener
[02:05:26] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[02:05:26] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[02:05:26] [ENEMY] [Enemy4] Registered as sound listener
[02:05:26] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[02:05:26] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[02:05:26] [ENEMY] [Enemy5] Registered as sound listener
[02:05:26] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[02:05:26] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[02:05:26] [ENEMY] [Enemy6] Registered as sound listener
[02:05:26] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[02:05:26] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[02:05:26] [ENEMY] [Enemy7] Registered as sound listener
[02:05:26] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[02:05:26] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[02:05:26] [ENEMY] [Enemy8] Registered as sound listener
[02:05:26] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[02:05:26] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[02:05:26] [ENEMY] [Enemy9] Registered as sound listener
[02:05:26] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[02:05:26] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[02:05:26] [ENEMY] [Enemy10] Registered as sound listener
[02:05:26] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[02:05:26] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[02:05:26] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[02:05:26] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[02:05:26] [INFO] [LastChance] Found player: Player
[02:05:26] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[02:05:26] [INFO] [LastChance] Connected to player Damaged signal (C#)
[02:05:26] [INFO] [LastChance] Connected to player Died signal (C#)
[02:05:26] [INFO] [Player] Detecting weapon pose (frame 3)...
[02:05:26] [INFO] [Player] Detected weapon: Rifle (default pose)
[02:05:26] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[02:05:26] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[02:05:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(603.0433, 1220.54), source=PLAYER (AssaultRifle), range=1469, listeners=20
[02:05:26] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[02:05:26] [ENEMY] [Enemy3] Heard gunshot at (603.0433, 1220.54), source_type=0, intensity=0.01, distance=480
[02:05:26] [ENEMY] [Enemy4] Heard gunshot at (603.0433, 1220.54), source_type=0, intensity=0.02, distance=376
[02:05:26] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=6
[02:05:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1143.967, 1519.096), source=ENEMY (Enemy10), range=1469, listeners=10
[02:05:27] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:05:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(609.4106, 1207.07), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:05:27] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=6
[02:05:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(603.0433, 1220.5403), shooter_id=3847820936844, bullet_pos=(889.63525, 1435.64)
[02:05:27] [INFO] [Bullet] Using shooter_position, distance=358,33344
[02:05:27] [INFO] [Bullet] Distance to wall: 358,33344 (24,399584% of viewport)
[02:05:27] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:05:27] [INFO] [Bullet] Starting wall penetration at (889.63525, 1435.64)
[02:05:27] [INFO] [Bullet] Raycast backward hit penetrating body at distance 18,703468
[02:05:27] [INFO] [Bullet] Body exited signal received for penetrating body
[02:05:27] [INFO] [Bullet] Exiting penetration at (926.95886, 1463.653) after traveling 41,66667 pixels through wall
[02:05:27] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[02:05:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1111.904, 1499.972), source=ENEMY (Enemy10), range=1469, listeners=10
[02:05:27] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:05:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(601.7198, 1200.258), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:05:27] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=6
[02:05:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(609.41064, 1207.0698), shooter_id=3847820936844, bullet_pos=(910.5267, 1401.3173)
[02:05:27] [INFO] [Bullet] Using shooter_position, distance=358,33353
[02:05:27] [INFO] [Bullet] Distance to wall: 358,33353 (24,39959% of viewport)
[02:05:27] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:05:27] [INFO] [LastChance] Threat detected: @Area2D@3468
[02:05:27] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:05:27] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:05:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1079.824, 1480.877), source=ENEMY (Enemy10), range=1469, listeners=10
[02:05:27] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:05:27] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[02:05:27] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[02:05:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(585.6776, 1207.166), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:05:27] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=6
[02:05:27] [INFO] [LastChance] Threat detected: Bullet
[02:05:27] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[02:05:27] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:05:27] [ENEMY] [Enemy10] Hit taken, health: 1/2
[02:05:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1047.201, 1462.729), source=ENEMY (Enemy10), range=1469, listeners=10
[02:05:27] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:05:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(562.5652, 1227.556), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:05:27] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=6
[02:05:27] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[02:05:27] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[02:05:27] [ENEMY] [Enemy10] Hit taken, health: 0/2
[02:05:27] [ENEMY] [Enemy10] Enemy died (ricochet: false, penetration: false)
[02:05:27] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[02:05:27] [INFO] [SoundPropagation] Unregistered listener: Enemy10 (remaining: 9)
[02:05:27] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[02:05:27] [ENEMY] [Enemy10] Death animation started with hit direction: (1, 0)
[02:05:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1049.959, 1471.806), shooter_id=3846998854742, bullet_pos=(64.55586, 878.9481)
[02:05:27] [INFO] [Bullet] Using shooter_position, distance=1149.99987792969
[02:05:27] [INFO] [Bullet] Distance to wall: 1149.99987792969 (78.3056063515417% of viewport)
[02:05:27] [INFO] [Bullet] Distance-based penetration chance: 55.3101259232014%
[02:05:27] [INFO] [Bullet] Penetration failed (distance roll)
[02:05:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1017.448, 1453.757), shooter_id=3846998854742, bullet_pos=(43.99836, 889.8236)
[02:05:27] [INFO] [Bullet] Using shooter_position, distance=1125
[02:05:27] [INFO] [Bullet] Distance to wall: 1125 (76.6033186925873% of viewport)
[02:05:27] [INFO] [Bullet] Distance-based penetration chance: 57.2961281919814%
[02:05:27] [INFO] [Bullet] Starting wall penetration at (43.99836, 889.8236)
[02:05:27] [INFO] [Bullet] Raycast backward hit penetrating body at distance 24.4670391082764
[02:05:27] [INFO] [Bullet] Body exited signal received for penetrating body
[02:05:27] [INFO] [Bullet] Exiting penetration at (10.82896, 870.6082) after traveling 33.3333320617676 pixels through wall
[02:05:27] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:05:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(562.56525, 1227.5557), shooter_id=3847820936844, bullet_pos=(1508.931, 1621.2772)
[02:05:27] [INFO] [Bullet] Using shooter_position, distance=1025
[02:05:27] [INFO] [Bullet] Distance to wall: 1025 (69,794136% of viewport)
[02:05:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(983.6629, 1438.555), shooter_id=3846998854742, bullet_pos=(66.40813, 962.7167)
[02:05:27] [INFO] [Bullet] Using shooter_position, distance=1033.33349609375
[02:05:27] [INFO] [Bullet] Distance to wall: 1033.33349609375 (70.3615778817733% of viewport)
[02:05:28] [ENEMY] [Enemy10] Ragdoll activated
[02:05:28] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[02:05:28] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[02:05:28] [INFO] [LastChance] Resetting all effects (scene change detected)
[02:05:28] [ENEMY] [Enemy1] Death animation component initialized
[02:05:28] [ENEMY] [Enemy2] Death animation component initialized
[02:05:28] [ENEMY] [Enemy3] Death animation component initialized
[02:05:28] [ENEMY] [Enemy4] Death animation component initialized
[02:05:28] [ENEMY] [Enemy5] Death animation component initialized
[02:05:28] [ENEMY] [Enemy6] Death animation component initialized
[02:05:28] [ENEMY] [Enemy7] Death animation component initialized
[02:05:28] [ENEMY] [Enemy8] Death animation component initialized
[02:05:28] [ENEMY] [Enemy9] Death animation component initialized
[02:05:28] [ENEMY] [Enemy10] Death animation component initialized
[02:05:28] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[02:05:28] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[02:05:28] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[02:05:28] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[02:05:28] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[02:05:28] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[02:05:28] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[02:05:28] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[02:05:28] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[02:05:28] [ENEMY] [Enemy10] Grenade system configured: offensive=2, flashbangs=0
[02:05:28] [INFO] [ScoreManager] Level started with 10 enemies
[02:05:28] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[02:05:28] [ENEMY] [Enemy1] Registered as sound listener
[02:05:28] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[02:05:28] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[02:05:28] [ENEMY] [Enemy2] Registered as sound listener
[02:05:28] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[02:05:28] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[02:05:28] [ENEMY] [Enemy3] Registered as sound listener
[02:05:28] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[02:05:28] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[02:05:28] [ENEMY] [Enemy4] Registered as sound listener
[02:05:28] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[02:05:28] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[02:05:28] [ENEMY] [Enemy5] Registered as sound listener
[02:05:28] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[02:05:28] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[02:05:28] [ENEMY] [Enemy6] Registered as sound listener
[02:05:28] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[02:05:28] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[02:05:28] [ENEMY] [Enemy7] Registered as sound listener
[02:05:28] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[02:05:28] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[02:05:28] [ENEMY] [Enemy8] Registered as sound listener
[02:05:28] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[02:05:28] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[02:05:28] [ENEMY] [Enemy9] Registered as sound listener
[02:05:28] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[02:05:28] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[02:05:28] [ENEMY] [Enemy10] Registered as sound listener
[02:05:28] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[02:05:28] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[02:05:28] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[02:05:28] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[02:05:28] [INFO] [LastChance] Found player: Player
[02:05:28] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[02:05:28] [INFO] [LastChance] Connected to player Damaged signal (C#)
[02:05:28] [INFO] [LastChance] Connected to player Died signal (C#)
[02:05:28] [INFO] [Player] Detecting weapon pose (frame 3)...
[02:05:28] [INFO] [Player] Detected weapon: Rifle (default pose)
[02:05:28] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[02:05:29] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:05:29] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:05:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1171.731, 1535.008), source=ENEMY (Enemy10), range=1469, listeners=19
[02:05:29] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[02:05:29] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=8
[02:05:29] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:05:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1139.423, 1516.307), source=ENEMY (Enemy10), range=1469, listeners=10
[02:05:29] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:05:29] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:05:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1107.906, 1496.302), source=ENEMY (Enemy10), range=1469, listeners=10
[02:05:29] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:05:29] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:05:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1077.226, 1475.035), source=ENEMY (Enemy10), range=1469, listeners=10
[02:05:29] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:05:29] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:05:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1047.428, 1452.549), source=ENEMY (Enemy10), range=1469, listeners=10
[02:05:29] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:05:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1108.874, 1508.939), shooter_id=4020777257736, bullet_pos=(53.14801, 921.1365)
[02:05:30] [INFO] [Bullet] Using shooter_position, distance=1208.33337402344
[02:05:30] [INFO] [Bullet] Distance to wall: 1208.33337402344 (82.277641366406% of viewport)
[02:05:30] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[02:05:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1077.684, 1487.691), shooter_id=4020777257736, bullet_pos=(46.85162, 857.2495)
[02:05:30] [INFO] [Bullet] Using shooter_position, distance=1208.33435058594
[02:05:30] [INFO] [Bullet] Distance to wall: 1208.33435058594 (82.2777078623423% of viewport)
[02:05:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1108.874, 1508.939), shooter_id=4020777257736, bullet_pos=(430.0462, 714.1392)
[02:05:30] [INFO] [Bullet] Using shooter_position, distance=1045.23388671875
[02:05:30] [INFO] [Bullet] Distance to wall: 1045.23388671875 (71.1718973623183% of viewport)
[02:05:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1047.382, 1465.197), shooter_id=4020777257736, bullet_pos=(43.06916, 793.3154)
[02:05:30] [INFO] [Bullet] Using shooter_position, distance=1208.33349609375
[02:05:30] [INFO] [Bullet] Distance to wall: 1208.33349609375 (82.277649678398% of viewport)
[02:05:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1077.684, 1487.691), shooter_id=4020777257736, bullet_pos=(290.4553, 702.9985)
[02:05:30] [INFO] [Bullet] Using shooter_position, distance=1111.517578125
[02:05:30] [INFO] [Bullet] Distance to wall: 1111.517578125 (75.6852757951309% of viewport)
[02:05:30] [INFO] [Bullet] Distance-based penetration chance: 58.367178239014%
[02:05:30] [INFO] [Bullet] Penetration failed (distance roll)
[02:05:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1047.382, 1465.197), shooter_id=4020777257736, bullet_pos=(151.1417, 694.1617)
[02:05:30] [INFO] [Bullet] Using shooter_position, distance=1182.26159667969
[02:05:30] [INFO] [Bullet] Distance to wall: 1182.26159667969 (80.5023661052989% of viewport)
[02:05:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1018.01, 1441.508), shooter_id=4020777257736, bullet_pos=(41.67921, 729.5751)
[02:05:30] [INFO] [Bullet] Using shooter_position, distance=1208.33349609375
[02:05:30] [INFO] [Bullet] Distance to wall: 1208.33349609375 (82.277649678398% of viewport)
[02:05:30] [INFO] [Bullet] Distance-based penetration chance: 50.6760753752023%
[02:05:30] [INFO] [Bullet] Starting wall penetration at (41.67921, 729.5751)
[02:05:30] [INFO] [Bullet] Raycast backward hit penetrating body at distance 34.6874122619629
[02:05:30] [INFO] [Bullet] Body exited signal received for penetrating body
[02:05:30] [INFO] [Bullet] Exiting penetration at (3.972645, 702.0798) after traveling 41.6666679382324 pixels through wall
[02:05:30] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:05:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(989.6003, 1416.68), shooter_id=4020777257736, bullet_pos=(42.53408, 666.2555)
[02:05:30] [INFO] [Bullet] Using shooter_position, distance=1208.33422851563
[02:05:30] [INFO] [Bullet] Distance to wall: 1208.33422851563 (82.2776995503503% of viewport)
[02:05:30] [INFO] [Bullet] Distance-based penetration chance: 50.676017191258%
[02:05:30] [INFO] [Bullet] Starting wall penetration at (42.53408, 666.2555)
[02:05:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1108.874, 1508.939), shooter_id=4020777257736, bullet_pos=(822.2486, 1002.274)
[02:05:30] [INFO] [Bullet] Using shooter_position, distance=582.119506835938
[02:05:30] [INFO] [Bullet] Distance to wall: 582.119506835938 (39.6375876438445% of viewport)
[02:05:30] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:05:30] [INFO] [Bullet] Raycast backward hit penetrating body at distance 33.2265319824219
[02:05:30] [INFO] [Bullet] Body exited signal received for penetrating body
[02:05:30] [INFO] [Bullet] Exiting penetration at (5.957748, 637.2736) after traveling 41.6666717529297 pixels through wall
[02:05:30] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:05:30] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[02:05:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1108.874, 1508.939), shooter_id=4020777257736, bullet_pos=(912.6354, 944.3507)
[02:05:30] [INFO] [Bullet] Using shooter_position, distance=597.720092773438
[02:05:30] [INFO] [Bullet] Distance to wall: 597.720092773438 (40.6998602272769% of viewport)
[02:05:30] [ENEMY] [Enemy4] Hit taken, health: 1/2
[02:05:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(637.3242, 762.7374), source=ENEMY (Enemy3), range=1469, listeners=10
[02:05:30] [ENEMY] [Enemy2] Heard gunshot at (637.3242, 762.7374), source_type=1, intensity=0.02, distance=319
[02:05:30] [ENEMY] [Enemy4] Heard gunshot at (637.3242, 762.7374), source_type=1, intensity=0.06, distance=213
[02:05:30] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[02:05:30] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[02:05:30] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[02:05:30] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[02:05:30] [INFO] [LastChance] Threat detected: Bullet
[02:05:30] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:05:30] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:05:30] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[02:05:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(600.3257, 767.7233), source=ENEMY (Enemy3), range=1469, listeners=10
[02:05:30] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[02:05:30] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[02:05:30] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[02:05:30] [INFO] [LastChance] Threat detected: @Area2D@3762
[02:05:30] [INFO] [LastChance] Player health is 3.0 - effect requires exactly 1 HP or less but alive
[02:05:30] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:05:30] [ENEMY] [Enemy10] State: PURSUING -> COMBAT
[02:05:30] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[02:05:30] [INFO] [LastChance] Resetting all effects (scene change detected)
[02:05:30] [ENEMY] [Enemy1] Death animation component initialized
[02:05:30] [ENEMY] [Enemy2] Death animation component initialized
[02:05:30] [ENEMY] [Enemy3] Death animation component initialized
[02:05:30] [ENEMY] [Enemy4] Death animation component initialized
[02:05:30] [ENEMY] [Enemy5] Death animation component initialized
[02:05:30] [ENEMY] [Enemy6] Death animation component initialized
[02:05:30] [ENEMY] [Enemy7] Death animation component initialized
[02:05:30] [ENEMY] [Enemy8] Death animation component initialized
[02:05:30] [ENEMY] [Enemy9] Death animation component initialized
[02:05:30] [ENEMY] [Enemy10] Death animation component initialized
[02:05:30] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[02:05:30] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[02:05:30] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[02:05:30] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[02:05:30] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[02:05:30] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[02:05:30] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[02:05:30] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[02:05:30] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[02:05:30] [ENEMY] [Enemy10] Grenade system configured: offensive=2, flashbangs=0
[02:05:30] [INFO] [ScoreManager] Level started with 10 enemies
[02:05:30] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[02:05:30] [ENEMY] [Enemy1] Registered as sound listener
[02:05:30] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[02:05:30] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[02:05:30] [ENEMY] [Enemy2] Registered as sound listener
[02:05:30] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[02:05:30] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[02:05:30] [ENEMY] [Enemy3] Registered as sound listener
[02:05:30] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[02:05:30] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[02:05:30] [ENEMY] [Enemy4] Registered as sound listener
[02:05:30] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[02:05:30] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[02:05:30] [ENEMY] [Enemy5] Registered as sound listener
[02:05:30] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[02:05:30] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[02:05:30] [ENEMY] [Enemy6] Registered as sound listener
[02:05:30] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[02:05:30] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[02:05:30] [ENEMY] [Enemy7] Registered as sound listener
[02:05:30] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[02:05:30] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[02:05:30] [ENEMY] [Enemy8] Registered as sound listener
[02:05:30] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[02:05:30] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[02:05:30] [ENEMY] [Enemy9] Registered as sound listener
[02:05:30] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[02:05:30] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[02:05:30] [ENEMY] [Enemy10] Registered as sound listener
[02:05:30] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[02:05:30] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[02:05:30] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[02:05:30] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[02:05:30] [INFO] [LastChance] Found player: Player
[02:05:30] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[02:05:30] [INFO] [LastChance] Connected to player Damaged signal (C#)
[02:05:30] [INFO] [LastChance] Connected to player Died signal (C#)
[02:05:31] [INFO] [Player] Detecting weapon pose (frame 3)...
[02:05:31] [INFO] [Player] Detected weapon: Rifle (default pose)
[02:05:31] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[02:05:32] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[02:05:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1144.73, 1517.8), source=ENEMY (Enemy10), range=1469, listeners=20
[02:05:32] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[02:05:32] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:05:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(779.0261, 1272.955), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:05:32] [ENEMY] [Enemy4] Heard gunshot at (779.0261, 1272.955), source_type=0, intensity=0.02, distance=374
[02:05:32] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=8
[02:05:32] [INFO] [LastChance] Threat detected: Bullet
[02:05:32] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:05:32] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:05:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1113.932, 1496.701), source=ENEMY (Enemy10), range=1469, listeners=10
[02:05:32] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:05:32] [ENEMY] [Enemy10] Hit taken, health: 1/2
[02:05:32] [INFO] [LastChance] Threat detected: @Area2D@4017
[02:05:32] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:05:32] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:05:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1085.378, 1476.118), source=ENEMY (Enemy10), range=1469, listeners=10
[02:05:32] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:05:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(799.0732, 958.7813), source=ENEMY (Enemy4), range=1469, listeners=10
[02:05:32] [ENEMY] [Enemy3] Heard gunshot at (799.0732, 958.7813), source_type=1, intensity=0.05, distance=231
[02:05:32] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=8
[02:05:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(774.6044, 1022.278), shooter_id=4155598966238, bullet_pos=(774.6044, 1022.278)
[02:05:32] [INFO] [Bullet] Using shooter_position, distance=0
[02:05:32] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[02:05:32] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[02:05:32] [INFO] [Bullet] Starting wall penetration at (774.6044, 1022.278)
[02:05:32] [INFO] [Bullet] Raycast backward hit penetrating body at distance 36.3894882202148
[02:05:32] [INFO] [Bullet] Body exited signal received for penetrating body
[02:05:32] [INFO] [Bullet] Exiting penetration at (756.8113, 1056.232) after traveling 33.3333358764648 pixels through wall
[02:05:32] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:05:32] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[02:05:32] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[02:05:32] [INFO] [LastChance] Threat detected: @Area2D@4018
[02:05:32] [INFO] [LastChance] Player health is 3.0 - effect requires exactly 1 HP or less but alive
[02:05:32] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:05:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1057.607, 1456.272), source=ENEMY (Enemy10), range=1469, listeners=10
[02:05:32] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:05:32] [ENEMY] [Enemy10] State: COMBAT -> RETREATING
[02:05:32] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[02:05:32] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[02:05:32] [INFO] [LastChance] Threat detected: @Area2D@4020
[02:05:32] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[02:05:32] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:05:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1053.501, 1443.394), source=ENEMY (Enemy10), range=1469, listeners=10
[02:05:32] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:05:33] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[02:05:33] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[02:05:33] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[02:05:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1062.149, 1437.153), source=ENEMY (Enemy10), range=1469, listeners=10
[02:05:33] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:05:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1083.963, 1487.052), shooter_id=4157310240706, bullet_pos=(61.45887, 812.431)
[02:05:33] [INFO] [Bullet] Using shooter_position, distance=1225.00073242188
[02:05:33] [INFO] [Bullet] Distance to wall: 1225.00073242188 (83.4125524483251% of viewport)
[02:05:33] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[02:05:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1083.963, 1487.052), shooter_id=4157310240706, bullet_pos=(202.0872, 708.274)
[02:05:33] [INFO] [Bullet] Using shooter_position, distance=1176.51977539063
[02:05:33] [INFO] [Bullet] Distance to wall: 1176.51977539063 (80.1113949354483% of viewport)
[02:05:33] [INFO] [LastChance] Threat detected: @Area2D@4022
[02:05:33] [INFO] [LastChance] Triggering last chance effect!
[02:05:33] [INFO] [LastChance] Starting last chance effect:
[02:05:33] [INFO] [LastChance]   - Time will be frozen (except player)
[02:05:33] [INFO] [LastChance]   - Duration: 6.0 real seconds
[02:05:33] [INFO] [LastChance]   - Sepia intensity: 0.70
[02:05:33] [INFO] [LastChance]   - Brightness: 0.60
[02:05:33] [INFO] [LastChance] Pushed bullet @Area2D@4021 from distance 51.2 to 200.0
[02:05:33] [INFO] [LastChance] Pushed bullet @Area2D@4022 from distance 130.6 to 200.0
[02:05:33] [INFO] [LastChance] Pushed 2 threatening bullets away from player
[02:05:33] [INFO] [LastChance] Set player Player and all 18 children to PROCESS_MODE_ALWAYS
[02:05:33] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[02:05:33] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:05:33] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:05:33] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[02:05:33] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:05:33] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:05:33] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:05:33] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:05:33] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:05:33] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:05:33] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:05:33] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:05:33] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:05:33] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:05:33] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:05:33] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:05:33] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:05:33] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[02:05:33] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[02:05:33] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:05:33] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:05:33] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:05:33] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:05:33] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:05:33] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[02:05:33] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[02:05:33] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:05:33] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[02:05:33] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[02:05:33] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:05:33] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:05:33] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[02:05:33] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[02:05:33] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[02:05:33] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[02:05:33] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[02:05:33] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[02:05:33] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[02:05:33] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[02:05:33] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[02:05:33] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[02:05:33] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[02:05:33] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[02:05:33] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[02:05:33] [INFO] [LastChance] Skipping player node: Player
[02:05:33] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[02:05:33] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[02:05:33] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[02:05:36] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@4025
[02:05:36] [INFO] [LastChance] Registered frozen player bullet: @Area2D@4025
[02:05:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(780.4617, 1380.614), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:05:36] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=7
[02:05:37] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[02:05:37] [ENEMY] [Enemy1] Player reloading state changed: false -> true
[02:05:37] [ENEMY] [Enemy2] Player reloading state changed: false -> true
[02:05:37] [ENEMY] [Enemy3] Player reloading state changed: false -> true
[02:05:37] [ENEMY] [Enemy4] Player reloading state changed: false -> true
[02:05:37] [ENEMY] [Enemy5] Player reloading state changed: false -> true
[02:05:37] [ENEMY] [Enemy6] Player reloading state changed: false -> true
[02:05:37] [ENEMY] [Enemy7] Player reloading state changed: false -> true
[02:05:37] [ENEMY] [Enemy8] Player reloading state changed: false -> true
[02:05:37] [ENEMY] [Enemy9] Player reloading state changed: false -> true
[02:05:37] [ENEMY] [Enemy10] Player reloading state changed: false -> true
[02:05:37] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(670.8806, 1585.723), source=PLAYER (Player), range=900, listeners=10
[02:05:37] [ENEMY] [Enemy10] Heard player RELOAD at (670.8806, 1585.723), intensity=0.01, distance=430
[02:05:37] [ENEMY] [Enemy10] Vulnerability sound triggered pursuit - transitioning from RETREATING to PURSUING
[02:05:37] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=7, self=0, below_threshold=2
[02:05:37] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[02:05:38] [INFO] [Player.Reload.Anim] Phase changed to: PullBolt (duration: 0,35s)
[02:05:38] [ENEMY] [Enemy1] Player reloading state changed: true -> false
[02:05:38] [ENEMY] [Enemy2] Player reloading state changed: true -> false
[02:05:38] [ENEMY] [Enemy3] Player reloading state changed: true -> false
[02:05:38] [ENEMY] [Enemy4] Player reloading state changed: true -> false
[02:05:38] [ENEMY] [Enemy5] Player reloading state changed: true -> false
[02:05:38] [ENEMY] [Enemy6] Player reloading state changed: true -> false
[02:05:38] [ENEMY] [Enemy7] Player reloading state changed: true -> false
[02:05:38] [ENEMY] [Enemy8] Player reloading state changed: true -> false
[02:05:38] [ENEMY] [Enemy9] Player reloading state changed: true -> false
[02:05:38] [ENEMY] [Enemy10] Player reloading state changed: true -> false
[02:05:38] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[02:05:38] [INFO] [Player.Reload.Anim] LeftArm: pos=(22.796741, 5.999048), target=(24, 6), base=(24, 6)
[02:05:38] [INFO] [Player.Reload.Anim] RightArm: pos=(-2.0000005, 6.19975), target=(-2, 6), base=(-2, 6)
[02:05:38] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[02:05:39] [INFO] [LastChance] Effect duration expired after 6.00 real seconds
[02:05:39] [INFO] [LastChance] Ending last chance effect
[02:05:39] [INFO] [LastChance] All process modes restored
[02:05:39] [INFO] [LastChance] Unfroze player bullet: @Area2D@4025
[02:05:39] [INFO] [LastChance] Restored original colors to 5 player sprites
[02:05:39] [INFO] [LastChance] Called player RefreshHealthVisual (C#)
[02:05:39] [ENEMY] [Enemy10] Pursuing vulnerability sound at (670.8806, 1585.723), distance=430
[02:05:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(780.4617, 1380.6143), shooter_id=4158132323834, bullet_pos=(1013.735, 1375.3253)
[02:05:39] [INFO] [Bullet] Using shooter_position, distance=233,33327
[02:05:39] [INFO] [Bullet] Distance to wall: 233,33327 (15,888092% of viewport)
[02:05:39] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:05:39] [INFO] [Bullet] Starting wall penetration at (1013.735, 1375.3253)
[02:05:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(780.4617, 1380.6143), shooter_id=4158132323834, bullet_pos=(1018.7337, 1375.212)
[02:05:39] [INFO] [Bullet] Using shooter_position, distance=238,33327
[02:05:39] [INFO] [Bullet] Distance to wall: 238,33327 (16,22855% of viewport)
[02:05:39] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:05:39] [INFO] [Bullet] Already penetrating, cannot start new penetration
[02:05:39] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[02:05:39] [INFO] [Bullet] Exiting penetration at (1060.3896, 1374.2676) after traveling 41,666668 pixels through wall
[02:05:39] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[02:05:39] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[02:05:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(991.693, 1414.927), shooter_id=4157310240706, bullet_pos=(57.14754, 1094.111)
[02:05:39] [INFO] [Bullet] Using shooter_position, distance=988.078247070313
[02:05:39] [INFO] [Bullet] Distance to wall: 988.078247070313 (67.2800647587024% of viewport)
[02:05:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1083.963, 1487.052), shooter_id=4157310240706, bullet_pos=(500.2583, 960.1749)
[02:05:39] [INFO] [Bullet] Using shooter_position, distance=786.326782226563
[02:05:39] [INFO] [Bullet] Distance to wall: 786.326782226563 (53.5424365292605% of viewport)
[02:05:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(998.912, 1412.02), shooter_id=4157310240706, bullet_pos=(36.73846, 1016.646)
[02:05:39] [INFO] [Bullet] Using shooter_position, distance=1040.23962402344
[02:05:39] [INFO] [Bullet] Distance to wall: 1040.23962402344 (70.8318288317552% of viewport)
[02:05:39] [INFO] [Bullet] Distance-based penetration chance: 64.0295330296189%
[02:05:39] [INFO] [Bullet] Starting wall penetration at (36.73846, 1016.646)
[02:05:39] [INFO] [Bullet] Raycast backward hit penetrating body at distance 41.5173301696777
[02:05:39] [INFO] [Bullet] Body exited signal received for penetrating body
[02:05:39] [INFO] [Bullet] Exiting penetration at (-6.204563, 998.379) after traveling 41.6666679382324 pixels through wall
[02:05:39] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:05:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1083.963, 1487.052), shooter_id=4157310240706, bullet_pos=(67.74872, 1328.279)
[02:05:39] [INFO] [Bullet] Using shooter_position, distance=1028.54223632813
[02:05:39] [INFO] [Bullet] Distance to wall: 1028.54223632813 (70.0353321939821% of viewport)
[02:05:39] [INFO] [Bullet] Distance-based penetration chance: 64.9587791070209%
[02:05:39] [INFO] [Bullet] Starting wall penetration at (67.74872, 1328.279)
[02:05:39] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[02:05:39] [INFO] [Bullet] Exiting penetration at (44.45461, 1348.104) after traveling 25.5885429382324 pixels through wall
[02:05:39] [INFO] [Bullet] Damage multiplier after penetration: 0.1125
[02:05:39] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:05:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(912.0897, 1375.555), source=ENEMY (Enemy10), range=1469, listeners=10
[02:05:39] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=8
[02:05:39] [ENEMY] [Enemy10] State: PURSUING -> COMBAT
[02:05:39] [ENEMY] [Enemy10] State: COMBAT -> RETREATING
[02:05:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(901.2604, 1375.934), source=ENEMY (Enemy10), range=1469, listeners=10
[02:05:39] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=8
[02:05:39] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:05:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(903.0562, 1373.954), source=ENEMY (Enemy10), range=1469, listeners=10
[02:05:39] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=8
[02:05:40] [INFO] [LastChance] Threat detected: Bullet
[02:05:40] [INFO] [LastChance] Effect already used this life
[02:05:40] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:05:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(912.1321, 1369.131), source=ENEMY (Enemy10), range=1469, listeners=10
[02:05:40] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=8
[02:05:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(868.1547, 1427.52), shooter_id=4157310240706, bullet_pos=(503.6957, 1769.82)
[02:05:40] [INFO] [Bullet] Using shooter_position, distance=499.999847412109
[02:05:40] [INFO] [Bullet] Distance to wall: 499.999847412109 (34.0459090289377% of viewport)
[02:05:40] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:05:40] [INFO] [LastChance] Threat detected: @Area2D@4033
[02:05:40] [INFO] [LastChance] Effect already used this life
[02:05:40] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:05:40] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[02:05:40] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[02:05:40] [INFO] [PenultimateHit] Player died - ending penultimate effect
[02:05:40] [INFO] [LastChance] Player died
[02:05:40] [ENEMY] [Enemy10] State: RETREATING -> IN_COVER
[02:05:40] [ENEMY] [Enemy10] State: IN_COVER -> SUPPRESSED
[02:05:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(856.707, 1427.369), shooter_id=4157310240706, bullet_pos=(514.2394, 1899.591)
[02:05:40] [INFO] [Bullet] Using shooter_position, distance=583.332824707031
[02:05:40] [INFO] [Bullet] Distance to wall: 583.332824707031 (39.7202046887821% of viewport)
[02:05:40] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:05:40] [INFO] [Bullet] Starting wall penetration at (514.2394, 1899.591)
[02:05:40] [INFO] [Bullet] Raycast backward hit penetrating body at distance 46.1609840393066
[02:05:40] [INFO] [Bullet] Body exited signal received for penetrating body
[02:05:40] [INFO] [Bullet] Exiting penetration at (486.842, 1937.368) after traveling 41.6666679382324 pixels through wall
[02:05:40] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:05:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(866.7929, 1419.875), shooter_id=4157310240706, bullet_pos=(522.9216, 1782.853)
[02:05:40] [INFO] [Bullet] Using shooter_position, distance=500.000549316406
[02:05:40] [INFO] [Bullet] Distance to wall: 500.000549316406 (34.0459568228919% of viewport)
[02:05:40] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:05:40] [INFO] [Bullet] Starting wall penetration at (522.9216, 1782.853)
[02:05:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(868.1547, 1427.52), shooter_id=4157310240706, bullet_pos=(761.498, 2068.54)
[02:05:40] [INFO] [Bullet] Using shooter_position, distance=649.8330078125
[02:05:40] [INFO] [Bullet] Distance to wall: 649.8330078125 (44.2483244394876% of viewport)
[02:05:40] [INFO] [Bullet] Raycast backward hit penetrating body at distance 13.3379583358765
[02:05:40] [INFO] [Bullet] Body exited signal received for penetrating body
[02:05:40] [INFO] [Bullet] Exiting penetration at (490.8269, 1816.731) after traveling 41.6666679382324 pixels through wall
[02:05:40] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:05:40] [ENEMY] [Enemy10] State: SUPPRESSED -> SEEKING_COVER
[02:05:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(868.1547, 1427.52), shooter_id=4157310240706, bullet_pos=(1169.505, 1660.575)
[02:05:40] [INFO] [Bullet] Using shooter_position, distance=380.955200195313
[02:05:40] [INFO] [Bullet] Distance to wall: 380.955200195313 (25.9399400961422% of viewport)
[02:05:40] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:05:40] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[02:05:40] [INFO] [LastChance] Resetting all effects (scene change detected)
[02:05:40] [ENEMY] [Enemy1] Death animation component initialized
[02:05:40] [ENEMY] [Enemy2] Death animation component initialized
[02:05:40] [ENEMY] [Enemy3] Death animation component initialized
[02:05:40] [ENEMY] [Enemy4] Death animation component initialized
[02:05:40] [ENEMY] [Enemy5] Death animation component initialized
[02:05:40] [ENEMY] [Enemy6] Death animation component initialized
[02:05:40] [ENEMY] [Enemy7] Death animation component initialized
[02:05:40] [ENEMY] [Enemy8] Death animation component initialized
[02:05:40] [ENEMY] [Enemy9] Death animation component initialized
[02:05:40] [ENEMY] [Enemy10] Death animation component initialized
[02:05:40] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[02:05:40] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[02:05:40] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[02:05:40] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[02:05:40] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[02:05:40] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[02:05:40] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[02:05:40] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[02:05:40] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[02:05:40] [ENEMY] [Enemy10] Grenade system configured: offensive=2, flashbangs=0
[02:05:40] [INFO] [ScoreManager] Level started with 10 enemies
[02:05:40] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[02:05:40] [ENEMY] [Enemy1] Registered as sound listener
[02:05:40] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[02:05:40] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[02:05:40] [ENEMY] [Enemy2] Registered as sound listener
[02:05:40] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[02:05:40] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[02:05:40] [ENEMY] [Enemy3] Registered as sound listener
[02:05:40] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[02:05:40] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[02:05:40] [ENEMY] [Enemy4] Registered as sound listener
[02:05:40] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[02:05:40] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[02:05:40] [ENEMY] [Enemy5] Registered as sound listener
[02:05:40] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[02:05:40] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[02:05:40] [ENEMY] [Enemy6] Registered as sound listener
[02:05:40] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[02:05:40] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[02:05:40] [ENEMY] [Enemy7] Registered as sound listener
[02:05:40] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[02:05:40] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[02:05:40] [ENEMY] [Enemy8] Registered as sound listener
[02:05:40] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[02:05:40] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[02:05:40] [ENEMY] [Enemy9] Registered as sound listener
[02:05:40] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[02:05:40] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[02:05:40] [ENEMY] [Enemy10] Registered as sound listener
[02:05:40] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[02:05:40] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[02:05:40] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[02:05:40] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[02:05:40] [INFO] [LastChance] Found player: Player
[02:05:40] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[02:05:40] [INFO] [LastChance] Connected to player Damaged signal (C#)
[02:05:40] [INFO] [LastChance] Connected to player Died signal (C#)
[02:05:40] [INFO] [Player] Detecting weapon pose (frame 3)...
[02:05:40] [INFO] [Player] Detected weapon: Rifle (default pose)
[02:05:40] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[02:05:41] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[02:05:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1110.101, 1503.25), source=ENEMY (Enemy10), range=1469, listeners=20
[02:05:42] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[02:05:42] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:05:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1047.182, 1477.218), shooter_id=4407609525580, bullet_pos=(901.4906, 1396.275)
[02:05:42] [INFO] [Bullet] Using shooter_position, distance=166.666732788086
[02:05:42] [INFO] [Bullet] Distance to wall: 166.666732788086 (11.3486443086383% of viewport)
[02:05:42] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:05:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1077.892, 1484.382), source=ENEMY (Enemy10), range=1469, listeners=10
[02:05:42] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:05:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(702.8996, 1247.615), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:05:42] [ENEMY] [Enemy3] Heard gunshot at (702.8996, 1247.615), source_type=0, intensity=0.01, distance=498
[02:05:42] [ENEMY] [Enemy4] Heard gunshot at (702.8996, 1247.615), source_type=0, intensity=0.02, distance=361
[02:05:42] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=6
[02:05:42] [INFO] [LastChance] Threat detected: @Area2D@4293
[02:05:42] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:05:42] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:05:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1046.875, 1463.613), source=ENEMY (Enemy10), range=1469, listeners=10
[02:05:42] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:05:42] [ENEMY] [Enemy10] Hit taken, health: 2/3
[02:05:42] [INFO] [LastChance] Threat detected: @Area2D@4295
[02:05:42] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:05:42] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:05:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(785.5599, 955.1252), source=ENEMY (Enemy4), range=1469, listeners=10
[02:05:42] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=8
[02:05:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(776.3687, 1022.55), shooter_id=4405898251015, bullet_pos=(776.3687, 1022.55)
[02:05:42] [INFO] [Bullet] Using shooter_position, distance=0
[02:05:42] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[02:05:42] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[02:05:42] [INFO] [Bullet] Starting wall penetration at (776.3687, 1022.55)
[02:05:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1019.29, 1443.511), source=ENEMY (Enemy10), range=1469, listeners=10
[02:05:42] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:05:42] [INFO] [Bullet] Raycast backward hit penetrating body at distance 36.8368034362793
[02:05:42] [INFO] [Bullet] Body exited signal received for penetrating body
[02:05:42] [INFO] [Bullet] Exiting penetration at (766.8715, 1059.688) after traveling 33.3333396911621 pixels through wall
[02:05:42] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:05:42] [INFO] [LastChance] Threat detected: @Area2D@4297
[02:05:42] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:05:42] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:05:42] [ENEMY] [Enemy10] State: COMBAT -> RETREATING
[02:05:42] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[02:05:42] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[02:05:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(979.8713, 1427.25), source=ENEMY (Enemy10), range=1469, listeners=10
[02:05:42] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=8
[02:05:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(969.6208, 1430.18), source=ENEMY (Enemy10), range=1469, listeners=10
[02:05:42] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=8
[02:05:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(910.545, 1396.406), shooter_id=4407609525580, bullet_pos=(910.545, 1396.406)
[02:05:42] [INFO] [Bullet] Using shooter_position, distance=0
[02:05:42] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[02:05:42] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[02:05:42] [INFO] [Bullet] Starting wall penetration at (910.545, 1396.406)
[02:05:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1016.582, 1454.691), shooter_id=4407609525580, bullet_pos=(45.76461, 838.2394)
[02:05:42] [INFO] [Bullet] Using shooter_position, distance=1150
[02:05:42] [INFO] [Bullet] Distance to wall: 1150 (78.3056146635337% of viewport)
[02:05:42] [INFO] [Bullet] Distance-based penetration chance: 55.3101162258773%
[02:05:42] [INFO] [Bullet] Penetration failed (distance roll)
[02:05:42] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[02:05:42] [INFO] [Bullet] Exiting penetration at (877.3718, 1377.198) after traveling 33.3333358764648 pixels through wall
[02:05:42] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:05:42] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[02:05:42] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[02:05:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(968.297, 1440.762), source=ENEMY (Enemy10), range=1469, listeners=10
[02:05:42] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=8
[02:05:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(908.6984, 1407.92), shooter_id=4407609525580, bullet_pos=(908.6984, 1407.92)
[02:05:42] [INFO] [Bullet] Using shooter_position, distance=0
[02:05:42] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[02:05:42] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[02:05:42] [INFO] [Bullet] Starting wall penetration at (908.6984, 1407.92)
[02:05:42] [INFO] [Bullet] Raycast backward hit penetrating body at distance 26.5148658752441
[02:05:42] [INFO] [Bullet] Body exited signal received for penetrating body
[02:05:42] [INFO] [Bullet] Exiting penetration at (880.2467, 1382.231) after traveling 33.3333358764648 pixels through wall
[02:05:42] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:05:42] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[02:05:42] [INFO] [LastChance] Resetting all effects (scene change detected)
[02:05:42] [ENEMY] [Enemy1] Death animation component initialized
[02:05:42] [ENEMY] [Enemy2] Death animation component initialized
[02:05:42] [ENEMY] [Enemy3] Death animation component initialized
[02:05:42] [ENEMY] [Enemy4] Death animation component initialized
[02:05:42] [ENEMY] [Enemy5] Death animation component initialized
[02:05:42] [ENEMY] [Enemy6] Death animation component initialized
[02:05:42] [ENEMY] [Enemy7] Death animation component initialized
[02:05:42] [ENEMY] [Enemy8] Death animation component initialized
[02:05:42] [ENEMY] [Enemy9] Death animation component initialized
[02:05:42] [ENEMY] [Enemy10] Death animation component initialized
[02:05:42] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[02:05:42] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[02:05:42] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[02:05:42] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[02:05:42] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[02:05:42] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[02:05:42] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[02:05:42] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[02:05:42] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[02:05:42] [ENEMY] [Enemy10] Grenade system configured: offensive=2, flashbangs=0
[02:05:42] [INFO] [ScoreManager] Level started with 10 enemies
[02:05:42] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[02:05:42] [ENEMY] [Enemy1] Registered as sound listener
[02:05:42] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[02:05:42] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[02:05:42] [ENEMY] [Enemy2] Registered as sound listener
[02:05:42] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[02:05:42] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[02:05:42] [ENEMY] [Enemy3] Registered as sound listener
[02:05:42] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[02:05:42] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[02:05:42] [ENEMY] [Enemy4] Registered as sound listener
[02:05:42] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[02:05:42] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[02:05:42] [ENEMY] [Enemy5] Registered as sound listener
[02:05:42] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[02:05:42] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[02:05:42] [ENEMY] [Enemy6] Registered as sound listener
[02:05:42] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[02:05:42] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[02:05:42] [ENEMY] [Enemy7] Registered as sound listener
[02:05:42] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[02:05:42] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[02:05:42] [ENEMY] [Enemy8] Registered as sound listener
[02:05:42] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[02:05:42] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[02:05:42] [ENEMY] [Enemy9] Registered as sound listener
[02:05:42] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[02:05:42] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[02:05:42] [ENEMY] [Enemy10] Registered as sound listener
[02:05:42] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[02:05:42] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[02:05:42] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[02:05:42] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[02:05:42] [INFO] [LastChance] Found player: Player
[02:05:42] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[02:05:42] [INFO] [LastChance] Connected to player Damaged signal (C#)
[02:05:42] [INFO] [LastChance] Connected to player Died signal (C#)
[02:05:42] [INFO] [Player] Detecting weapon pose (frame 3)...
[02:05:42] [INFO] [Player] Detected weapon: Rifle (default pose)
[02:05:42] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[02:05:43] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[02:05:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(555.5895, 1186.695), source=PLAYER (AssaultRifle), range=1469, listeners=20
[02:05:43] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[02:05:43] [ENEMY] [Enemy3] Heard gunshot at (555.5895, 1186.695), source_type=0, intensity=0.01, distance=460
[02:05:43] [ENEMY] [Enemy4] Heard gunshot at (555.5895, 1186.695), source_type=0, intensity=0.02, distance=377
[02:05:43] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=6
[02:05:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1144.175, 1518.735), source=ENEMY (Enemy10), range=1469, listeners=10
[02:05:43] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:05:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(563.9338, 1164.313), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:05:43] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=6
[02:05:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1112.507, 1498.966), source=ENEMY (Enemy10), range=1469, listeners=10
[02:05:43] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:05:43] [ENEMY] [Enemy10] Hit taken, health: 1/2
[02:05:43] [INFO] [LastChance] Threat detected: @Area2D@4556
[02:05:43] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:05:43] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:05:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1084.603, 1481.224), source=ENEMY (Enemy10), range=1469, listeners=10
[02:05:43] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:05:44] [ENEMY] [Enemy10] Hit taken, health: 0/2
[02:05:44] [ENEMY] [Enemy10] Enemy died (ricochet: false, penetration: false)
[02:05:44] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[02:05:44] [INFO] [SoundPropagation] Unregistered listener: Enemy10 (remaining: 9)
[02:05:44] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[02:05:44] [ENEMY] [Enemy10] Death animation started with hit direction: (1, 0)
[02:05:44] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[02:05:44] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[02:05:44] [INFO] [LastChance] Threat detected: @Area2D@4559
[02:05:44] [INFO] [LastChance] Player health is 3.0 - effect requires exactly 1 HP or less but alive
[02:05:44] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:05:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(702.927, 973.4852), source=ENEMY (Enemy4), range=1469, listeners=9
[02:05:44] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[02:05:44] [INFO] [LastChance] Threat detected: @Area2D@4561
[02:05:44] [INFO] [LastChance] Player health is 3.0 - effect requires exactly 1 HP or less but alive
[02:05:44] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:05:44] [INFO] [LastChance] Threat detected: Bullet
[02:05:44] [INFO] [LastChance] Player health is 3.0 - effect requires exactly 1 HP or less but alive
[02:05:44] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:05:44] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[02:05:44] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[02:05:44] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[02:05:44] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[02:05:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1051.276, 1469.256), shooter_id=4551675479477, bullet_pos=(52.86549, 834.0749)
[02:05:44] [INFO] [Bullet] Using shooter_position, distance=1183.33410644531
[02:05:44] [INFO] [Bullet] Distance to wall: 1183.33410644531 (80.5753952674118% of viewport)
[02:05:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1023.262, 1451.794), shooter_id=4551675479477, bullet_pos=(64.39315, 847.6293)
[02:05:44] [INFO] [Bullet] Using shooter_position, distance=1133.33337402344
[02:05:44] [INFO] [Bullet] Distance to wall: 1133.33337402344 (77.1707534535668% of viewport)
[02:05:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1051.276, 1469.256), shooter_id=4551675479477, bullet_pos=(281.3565, 710.011)
[02:05:44] [INFO] [Bullet] Using shooter_position, distance=1081.30932617188
[02:05:44] [INFO] [Bullet] Distance to wall: 1081.30932617188 (73.6283403715653% of viewport)
[02:05:44] [ENEMY] [Enemy10] Ragdoll activated
[02:05:44] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[02:05:44] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[02:05:44] [INFO] [LastChance] Resetting all effects (scene change detected)
[02:05:44] [ENEMY] [Enemy1] Death animation component initialized
[02:05:44] [ENEMY] [Enemy2] Death animation component initialized
[02:05:44] [ENEMY] [Enemy3] Death animation component initialized
[02:05:44] [ENEMY] [Enemy4] Death animation component initialized
[02:05:44] [ENEMY] [Enemy5] Death animation component initialized
[02:05:44] [ENEMY] [Enemy6] Death animation component initialized
[02:05:44] [ENEMY] [Enemy7] Death animation component initialized
[02:05:44] [ENEMY] [Enemy8] Death animation component initialized
[02:05:44] [ENEMY] [Enemy9] Death animation component initialized
[02:05:44] [ENEMY] [Enemy10] Death animation component initialized
[02:05:44] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[02:05:44] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[02:05:44] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[02:05:44] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[02:05:44] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[02:05:44] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[02:05:44] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[02:05:44] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[02:05:44] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[02:05:44] [ENEMY] [Enemy10] Grenade system configured: offensive=2, flashbangs=0
[02:05:44] [INFO] [ScoreManager] Level started with 10 enemies
[02:05:44] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[02:05:44] [ENEMY] [Enemy1] Registered as sound listener
[02:05:44] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[02:05:44] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[02:05:44] [ENEMY] [Enemy2] Registered as sound listener
[02:05:44] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[02:05:44] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[02:05:44] [ENEMY] [Enemy3] Registered as sound listener
[02:05:44] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[02:05:44] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[02:05:44] [ENEMY] [Enemy4] Registered as sound listener
[02:05:44] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[02:05:44] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[02:05:44] [ENEMY] [Enemy5] Registered as sound listener
[02:05:44] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[02:05:44] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[02:05:44] [ENEMY] [Enemy6] Registered as sound listener
[02:05:44] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[02:05:44] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[02:05:44] [ENEMY] [Enemy7] Registered as sound listener
[02:05:44] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[02:05:44] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[02:05:44] [ENEMY] [Enemy8] Registered as sound listener
[02:05:44] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[02:05:44] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[02:05:44] [ENEMY] [Enemy9] Registered as sound listener
[02:05:44] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[02:05:44] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[02:05:44] [ENEMY] [Enemy10] Registered as sound listener
[02:05:44] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[02:05:44] [INFO] [Player] Detecting weapon pose (frame 3)...
[02:05:44] [INFO] [Player] Detected weapon: Rifle (default pose)
[02:05:44] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[02:05:44] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[02:05:44] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[02:05:44] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[02:05:44] [INFO] [LastChance] Found player: Player
[02:05:44] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[02:05:44] [INFO] [LastChance] Connected to player Damaged signal (C#)
[02:05:44] [INFO] [LastChance] Connected to player Died signal (C#)
[02:05:45] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[02:05:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1144.2, 1518.696), source=ENEMY (Enemy10), range=1469, listeners=19
[02:05:45] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[02:05:45] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:05:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(569.2714, 1164.554), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:05:45] [ENEMY] [Enemy3] Heard gunshot at (569.2714, 1164.554), source_type=0, intensity=0.01, distance=435
[02:05:45] [ENEMY] [Enemy4] Heard gunshot at (569.2714, 1164.554), source_type=0, intensity=0.02, distance=351
[02:05:45] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=6
[02:05:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1112.747, 1498.587), source=ENEMY (Enemy10), range=1469, listeners=10
[02:05:45] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:05:45] [INFO] [LastChance] Threat detected: Bullet
[02:05:45] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:05:45] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:05:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1081.723, 1477.82), source=ENEMY (Enemy10), range=1469, listeners=10
[02:05:45] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:05:45] [ENEMY] [Enemy10] Hit taken, health: 3/4
[02:05:45] [INFO] [LastChance] Threat detected: @Area2D@4829
[02:05:45] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:05:45] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:05:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1051.507, 1457.765), source=ENEMY (Enemy10), range=1469, listeners=10
[02:05:45] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:05:45] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[02:05:45] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[02:05:45] [INFO] [LastChance] Threat detected: @Area2D@4830
[02:05:45] [INFO] [LastChance] Player health is 3.0 - effect requires exactly 1 HP or less but alive
[02:05:45] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:05:45] [ENEMY] [Enemy10] State: COMBAT -> RETREATING
[02:05:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1037.269, 1439.875), source=ENEMY (Enemy10), range=1469, listeners=10
[02:05:46] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:05:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1082.576, 1489.728), shooter_id=4666280643930, bullet_pos=(40.94507, 845.0337)
[02:05:46] [INFO] [Bullet] Using shooter_position, distance=1225.00012207031
[02:05:46] [INFO] [Bullet] Distance to wall: 1225.00012207031 (83.4125108883649% of viewport)
[02:05:46] [INFO] [Bullet] Distance-based penetration chance: 49.3520706302409%
[02:05:46] [INFO] [Bullet] Penetration failed (distance roll)
[02:05:46] [INFO] [LastChance] Threat detected: @Area2D@4831
[02:05:46] [INFO] [LastChance] Player health is 3.0 - effect requires exactly 1 HP or less but alive
[02:05:46] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:05:46] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[02:05:46] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[02:05:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1046.122, 1433.926), source=ENEMY (Enemy10), range=1469, listeners=10
[02:05:46] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:05:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1054.17, 1435.31), source=ENEMY (Enemy10), range=1469, listeners=10
[02:05:46] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:05:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1062.957, 1441.318), source=ENEMY (Enemy10), range=1469, listeners=10
[02:05:46] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:05:46] [INFO] [LastChance] Threat detected: Bullet
[02:05:46] [INFO] [LastChance] Player health is 3.0 - effect requires exactly 1 HP or less but alive
[02:05:46] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:05:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1021.276, 1446.575), shooter_id=4666280643930, bullet_pos=(46.21055, 790.9298)
[02:05:46] [INFO] [Bullet] Using shooter_position, distance=1174.99926757813
[02:05:46] [INFO] [Bullet] Distance to wall: 1174.99926757813 (80.0078607625278% of viewport)
[02:05:46] [INFO] [Bullet] Distance-based penetration chance: 53.3241624437175%
[02:05:46] [INFO] [Bullet] Penetration failed (distance roll)
[02:05:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(990.5089, 1427.664), shooter_id=4666280643930, bullet_pos=(66.40564, 830.9803)
[02:05:46] [INFO] [Bullet] Using shooter_position, distance=1099.99914550781
[02:05:46] [INFO] [Bullet] Distance to wall: 1099.99914550781 (74.9009645376966% of viewport)
[02:05:46] [INFO] [Bullet] Distance-based penetration chance: 59.2822080393539%
[02:05:46] [INFO] [Bullet] Starting wall penetration at (66.40564, 830.9803)
[02:05:46] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[02:05:46] [INFO] [Bullet] Exiting penetration at (34.20203, 810.1867) after traveling 33.3333358764648 pixels through wall
[02:05:46] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:05:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(974.2632, 1414.167), shooter_id=4666280643930, bullet_pos=(55.07228, 1114.948)
[02:05:46] [INFO] [Bullet] Using shooter_position, distance=966.666259765625
[02:05:46] [INFO] [Bullet] Distance to wall: 966.666259765625 (65.8220831699534% of viewport)
[02:05:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(981.81, 1411.689), shooter_id=4666280643930, bullet_pos=(63.59098, 1015.617)
[02:05:46] [INFO] [Bullet] Using shooter_position, distance=999.99951171875
[02:05:46] [INFO] [Bullet] Distance to wall: 999.99951171875 (68.0918055898872% of viewport)
[02:05:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(989.0233, 1415.652), shooter_id=4666280643930, bullet_pos=(51.44728, 981.2242)
[02:05:46] [INFO] [Bullet] Using shooter_position, distance=1033.33264160156
[02:05:46] [INFO] [Bullet] Distance to wall: 1033.33264160156 (70.361519697829% of viewport)
[02:05:46] [ENEMY] [Enemy10] State: RETREATING -> IN_COVER
[02:05:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(997.2334, 1423.682), shooter_id=4666280643930, bullet_pos=(55.31995, 855.5276)
[02:05:46] [INFO] [Bullet] Using shooter_position, distance=1100.00012207031
[02:05:46] [INFO] [Bullet] Distance to wall: 1100.00012207031 (74.901031033633% of viewport)
[02:05:46] [INFO] [Bullet] Distance-based penetration chance: 59.2821304607615%
[02:05:46] [INFO] [Bullet] Starting wall penetration at (55.31995, 855.5276)
[02:05:46] [ENEMY] [Enemy10] State: IN_COVER -> SUPPRESSED
[02:05:46] [INFO] [Bullet] Raycast backward hit penetrating body at distance 11.0994510650635
[02:05:46] [INFO] [Bullet] Body exited signal received for penetrating body
[02:05:46] [INFO] [Bullet] Exiting penetration at (22.49571, 835.7283) after traveling 33.3333358764648 pixels through wall
[02:05:46] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:05:47] [ENEMY] [Enemy4] FLANKING started: target=(762.2586, 1505.561), side=right, pos=(734.487, 957.3976)
[02:05:47] [ENEMY] [Enemy4] State: PURSUING -> FLANKING
[02:05:48] [ENEMY] [Enemy10] State: SUPPRESSED -> IN_COVER
[02:05:48] [ENEMY] [Enemy10] State: IN_COVER -> PURSUING
[02:05:49] [ENEMY] [Enemy3] FLANKING started: target=(484.7257, 1746.435), side=right, pos=(604.3191, 955.6608)
[02:05:49] [ENEMY] [Enemy3] State: PURSUING -> FLANKING
[02:05:52] [ENEMY] [Enemy10] FLANKING started: target=(140.1991, 1585.152), side=left, pos=(951.5696, 1464.445)
[02:05:52] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[02:05:53] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[02:05:53] [ENEMY] [Enemy4] FLANKING timeout (5.0s), target=(205.0282, 1972.375), pos=(260.4449, 1811.64)
[02:05:53] [ENEMY] [Enemy4] State: FLANKING -> COMBAT
[02:05:53] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[02:05:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(253.2193, 1819.486), source=ENEMY (Enemy4), range=1469, listeners=10
[02:05:53] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=1, below_threshold=2
[02:05:53] [INFO] [LastChance] Threat detected: Bullet
[02:05:53] [INFO] [LastChance] Player health is 3.0 - effect requires exactly 1 HP or less but alive
[02:05:53] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:05:53] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[02:05:53] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[02:05:53] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[02:05:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(249.6065, 1823.41), source=ENEMY (Enemy4), range=1469, listeners=10
[02:05:53] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=1, below_threshold=2
[02:05:53] [INFO] [LastChance] Threat detected: Bullet
[02:05:53] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[02:05:53] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:05:53] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[02:05:53] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[02:05:53] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[02:05:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(141.8779, 1818.486), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:05:53] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=6, self=0, below_threshold=2
[02:05:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(249.6065, 1823.41), source=ENEMY (Enemy4), range=1469, listeners=10
[02:05:53] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=1, below_threshold=2
[02:05:53] [INFO] [LastChance] Threat detected: Bullet
[02:05:53] [INFO] [LastChance] Triggering last chance effect!
[02:05:53] [INFO] [LastChance] Starting last chance effect:
[02:05:53] [INFO] [LastChance]   - Time will be frozen (except player)
[02:05:53] [INFO] [LastChance]   - Duration: 6.0 real seconds
[02:05:53] [INFO] [LastChance]   - Sepia intensity: 0.70
[02:05:53] [INFO] [LastChance]   - Brightness: 0.60
[02:05:53] [INFO] [LastChance] Pushed bullet Bullet from distance 47.5 to 200.0
[02:05:53] [INFO] [LastChance] Pushed 1 threatening bullets away from player
[02:05:53] [INFO] [LastChance] Set player Player and all 18 children to PROCESS_MODE_ALWAYS
[02:05:53] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[02:05:53] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:05:53] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:05:53] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[02:05:53] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:05:53] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:05:53] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:05:53] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:05:53] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:05:53] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:05:53] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:05:53] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:05:53] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:05:53] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:05:53] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:05:53] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:05:53] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:05:53] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[02:05:53] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[02:05:53] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:05:53] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:05:53] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:05:53] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:05:53] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:05:53] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[02:05:53] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[02:05:53] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:05:53] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[02:05:53] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[02:05:53] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:05:53] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:05:53] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[02:05:53] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[02:05:53] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[02:05:53] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[02:05:53] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[02:05:53] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[02:05:53] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[02:05:53] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[02:05:53] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[02:05:53] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[02:05:53] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[02:05:53] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[02:05:53] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[02:05:53] [INFO] [LastChance] Skipping player node: Player
[02:05:53] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[02:05:53] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[02:05:53] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[02:05:53] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@4843
[02:05:53] [INFO] [LastChance] Registered frozen player bullet: @Area2D@4843
[02:05:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(130.2159, 1846.153), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:05:53] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=6, self=0, below_threshold=2
[02:05:53] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@4845
[02:05:53] [INFO] [LastChance] Registered frozen player bullet: @Area2D@4845
[02:05:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(103.8983, 1871.577), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:05:53] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=0, below_threshold=3
[02:05:53] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@4847
[02:05:53] [INFO] [LastChance] Registered frozen player bullet: @Area2D@4847
[02:05:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(80.06754, 1883.646), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:05:53] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=0, below_threshold=3
[02:05:56] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@4849
[02:05:56] [INFO] [LastChance] Registered frozen player bullet: @Area2D@4849
[02:05:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(571.106, 1661.771), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:05:56] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=4
[02:05:56] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@4851
[02:05:56] [INFO] [LastChance] Registered frozen player bullet: @Area2D@4851
[02:05:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(590.3172, 1662.081), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:05:56] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=4
[02:05:56] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@4853
[02:05:56] [INFO] [LastChance] Registered frozen player bullet: @Area2D@4853
[02:05:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(601.6073, 1672.811), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:05:56] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=4
[02:05:56] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@4855
[02:05:56] [INFO] [LastChance] Registered frozen player bullet: @Area2D@4855
[02:05:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(620.4951, 1694.478), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:05:56] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=4
[02:05:58] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[02:05:58] [ENEMY] [Enemy1] Player reloading state changed: false -> true
[02:05:58] [ENEMY] [Enemy2] Player reloading state changed: false -> true
[02:05:58] [ENEMY] [Enemy3] Player reloading state changed: false -> true
[02:05:58] [ENEMY] [Enemy4] Player reloading state changed: false -> true
[02:05:58] [ENEMY] [Enemy5] Player reloading state changed: false -> true
[02:05:58] [ENEMY] [Enemy6] Player reloading state changed: false -> true
[02:05:58] [ENEMY] [Enemy7] Player reloading state changed: false -> true
[02:05:58] [ENEMY] [Enemy8] Player reloading state changed: false -> true
[02:05:58] [ENEMY] [Enemy9] Player reloading state changed: false -> true
[02:05:58] [ENEMY] [Enemy10] Player reloading state changed: false -> true
[02:05:58] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(1166.297, 1765.606), source=PLAYER (Player), range=900, listeners=10
[02:05:58] [ENEMY] [Enemy10] Heard player RELOAD at (1166.297, 1765.606), intensity=0.01, distance=494
[02:05:58] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=7, self=0, below_threshold=2
[02:05:58] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[02:05:59] [INFO] [Player.Reload.Anim] Phase changed to: PullBolt (duration: 0,35s)
[02:05:59] [ENEMY] [Enemy1] Player reloading state changed: true -> false
[02:05:59] [ENEMY] [Enemy2] Player reloading state changed: true -> false
[02:05:59] [ENEMY] [Enemy3] Player reloading state changed: true -> false
[02:05:59] [ENEMY] [Enemy4] Player reloading state changed: true -> false
[02:05:59] [ENEMY] [Enemy5] Player reloading state changed: true -> false
[02:05:59] [ENEMY] [Enemy6] Player reloading state changed: true -> false
[02:05:59] [ENEMY] [Enemy7] Player reloading state changed: true -> false
[02:05:59] [ENEMY] [Enemy8] Player reloading state changed: true -> false
[02:05:59] [ENEMY] [Enemy9] Player reloading state changed: true -> false
[02:05:59] [ENEMY] [Enemy10] Player reloading state changed: true -> false
[02:05:59] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[02:05:59] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[02:05:59] [INFO] [LastChance] Effect duration expired after 6.02 real seconds
[02:05:59] [INFO] [LastChance] Ending last chance effect
[02:05:59] [INFO] [LastChance] All process modes restored
[02:05:59] [INFO] [LastChance] Unfroze player bullet: @Area2D@4843
[02:05:59] [INFO] [LastChance] Unfroze player bullet: @Area2D@4845
[02:05:59] [INFO] [LastChance] Unfroze player bullet: @Area2D@4847
[02:05:59] [INFO] [LastChance] Unfroze player bullet: @Area2D@4849
[02:05:59] [INFO] [LastChance] Unfroze player bullet: @Area2D@4851
[02:05:59] [INFO] [LastChance] Unfroze player bullet: @Area2D@4853
[02:05:59] [INFO] [LastChance] Unfroze player bullet: @Area2D@4855
[02:05:59] [INFO] [LastChance] Restored original colors to 5 player sprites
[02:05:59] [INFO] [LastChance] Called player RefreshHealthVisual (C#)
[02:05:59] [ENEMY] [Enemy4] Hit taken, health: 3/4
[02:05:59] [ENEMY] [Enemy3] Hit taken, health: 1/2
[02:05:59] [ENEMY] [Enemy3] Hit taken, health: 0/2
[02:05:59] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[02:05:59] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[02:05:59] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[02:05:59] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[02:05:59] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[02:05:59] [ENEMY] [Enemy4] Hit taken, health: 2/4
[02:05:59] [ENEMY] [Enemy4] Hit taken, health: 1/4
[02:05:59] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[02:05:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(182.6871, 1834.156), shooter_id=4664569365883, bullet_pos=(43.67559, 1852.94)
[02:05:59] [INFO] [Bullet] Using shooter_position, distance=140.274932861328
[02:05:59] [INFO] [Bullet] Distance to wall: 140.274932861328 (9.55157812138454% of viewport)
[02:05:59] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:05:59] [INFO] [Bullet] Starting wall penetration at (43.67559, 1852.94)
[02:05:59] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[02:05:59] [INFO] [Bullet] Raycast backward hit penetrating body at distance 26.6464519500732
[02:05:59] [INFO] [Bullet] Body exited signal received for penetrating body
[02:05:59] [INFO] [Bullet] Exiting penetration at (5.37928, 1854.625) after traveling 33.3333358764648 pixels through wall
[02:05:59] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:05:59] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[02:05:59] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:05:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(141.87785, 1818.4861), shooter_id=4667102725577, bullet_pos=(892.76996, 1567.6926)
[02:05:59] [INFO] [Bullet] Using shooter_position, distance=791,6668
[02:05:59] [INFO] [Bullet] Distance to wall: 791,6668 (53,90605% of viewport)
[02:05:59] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:05:59] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:05:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(590.3172, 1662.0813), shooter_id=4667102725577, bullet_pos=(157.39026, 705.4853)
[02:05:59] [INFO] [Bullet] Using shooter_position, distance=1050,0007
[02:05:59] [INFO] [Bullet] Distance to wall: 1050,0007 (71,49648% of viewport)
[02:05:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(620.4951, 1694.4783), shooter_id=4667102725577, bullet_pos=(63.272125, 765.4392)
[02:05:59] [INFO] [Bullet] Using shooter_position, distance=1083,3333
[02:05:59] [INFO] [Bullet] Distance to wall: 1083,3333 (73,76615% of viewport)
[02:06:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(620.4951, 1694.4783), shooter_id=4667102725577, bullet_pos=(98.227104, 714.63635)
[02:06:00] [INFO] [Bullet] Using shooter_position, distance=1110,3396
[02:06:00] [INFO] [Bullet] Distance to wall: 1110,3396 (75,605064% of viewport)
[02:06:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(590.3172, 1662.0813), shooter_id=4667102725577, bullet_pos=(64.025055, 853.49854)
[02:06:00] [INFO] [Bullet] Using shooter_position, distance=964,7743
[02:06:00] [INFO] [Bullet] Distance to wall: 964,7743 (65,69326% of viewport)
[02:06:00] [ENEMY] [Enemy3] Ragdoll activated
[02:06:00] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[02:06:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(590.3172, 1662.0813), shooter_id=4667102725577, bullet_pos=(545.1426, 1399.1936)
[02:06:00] [INFO] [Bullet] Using shooter_position, distance=266,74088
[02:06:00] [INFO] [Bullet] Distance to wall: 266,74088 (18,162878% of viewport)
[02:06:00] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:06:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(590.3172, 1662.0813), shooter_id=4667102725577, bullet_pos=(871.03864, 1024.8875)
[02:06:00] [INFO] [Bullet] Using shooter_position, distance=696,2905
[02:06:00] [INFO] [Bullet] Distance to wall: 696,2905 (47,411705% of viewport)
[02:06:01] [ENEMY] [Enemy3] Death animation completed
[02:06:01] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:06:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1016.238, 1662.805), source=ENEMY (Enemy10), range=1469, listeners=9
[02:06:01] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=5
[02:06:01] [ENEMY] [Enemy10] State: FLANKING -> COMBAT
[02:06:01] [INFO] [LastChance] Threat detected: Bullet
[02:06:01] [INFO] [LastChance] Effect already used this life
[02:06:01] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:06:01] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[02:06:01] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[02:06:01] [INFO] [PenultimateHit] Player died - ending penultimate effect
[02:06:01] [INFO] [LastChance] Player died
[02:06:01] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(590.3172, 1662.0813), shooter_id=4667102725577, bullet_pos=(1219.3378, 1372.6714)
[02:06:01] [INFO] [Bullet] Using shooter_position, distance=692,4052
[02:06:01] [INFO] [Bullet] Distance to wall: 692,4052 (47,147144% of viewport)
[02:06:01] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:06:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1047.699, 1669.745), source=ENEMY (Enemy10), range=1469, listeners=9
[02:06:01] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=5
[02:06:01] [INFO] [LastChance] Threat detected: Bullet
[02:06:01] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:06:01] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:06:01] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:06:01] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[02:06:02] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[02:06:02] [INFO] [LastChance] Resetting all effects (scene change detected)
[02:06:02] [ENEMY] [Enemy1] Death animation component initialized
[02:06:02] [ENEMY] [Enemy2] Death animation component initialized
[02:06:02] [ENEMY] [Enemy3] Death animation component initialized
[02:06:02] [ENEMY] [Enemy4] Death animation component initialized
[02:06:02] [ENEMY] [Enemy5] Death animation component initialized
[02:06:02] [ENEMY] [Enemy6] Death animation component initialized
[02:06:02] [ENEMY] [Enemy7] Death animation component initialized
[02:06:02] [ENEMY] [Enemy8] Death animation component initialized
[02:06:02] [ENEMY] [Enemy9] Death animation component initialized
[02:06:02] [ENEMY] [Enemy10] Death animation component initialized
[02:06:02] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[02:06:02] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[02:06:02] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[02:06:02] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[02:06:02] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[02:06:02] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[02:06:02] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[02:06:02] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[02:06:02] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[02:06:02] [ENEMY] [Enemy10] Grenade system configured: offensive=2, flashbangs=0
[02:06:02] [INFO] [ScoreManager] Level started with 10 enemies
[02:06:02] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[02:06:02] [ENEMY] [Enemy1] Registered as sound listener
[02:06:02] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[02:06:02] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[02:06:02] [ENEMY] [Enemy2] Registered as sound listener
[02:06:02] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[02:06:02] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[02:06:02] [ENEMY] [Enemy3] Registered as sound listener
[02:06:02] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[02:06:02] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[02:06:02] [ENEMY] [Enemy4] Registered as sound listener
[02:06:02] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[02:06:02] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[02:06:02] [ENEMY] [Enemy5] Registered as sound listener
[02:06:02] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[02:06:02] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[02:06:02] [ENEMY] [Enemy6] Registered as sound listener
[02:06:02] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[02:06:02] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[02:06:02] [ENEMY] [Enemy7] Registered as sound listener
[02:06:02] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[02:06:02] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[02:06:02] [ENEMY] [Enemy8] Registered as sound listener
[02:06:02] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[02:06:02] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[02:06:02] [ENEMY] [Enemy9] Registered as sound listener
[02:06:02] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[02:06:02] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[02:06:02] [ENEMY] [Enemy10] Registered as sound listener
[02:06:02] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[02:06:02] [INFO] [Player] Detecting weapon pose (frame 3)...
[02:06:02] [INFO] [Player] Detected weapon: Rifle (default pose)
[02:06:02] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[02:06:02] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[02:06:02] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[02:06:02] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[02:06:02] [INFO] [LastChance] Found player: Player
[02:06:02] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[02:06:02] [INFO] [LastChance] Connected to player Damaged signal (C#)
[02:06:02] [INFO] [LastChance] Connected to player Died signal (C#)
[02:06:02] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[02:06:02] [INFO] [LastChance] Resetting all effects (scene change detected)
[02:06:02] [ENEMY] [Enemy1] Death animation component initialized
[02:06:02] [ENEMY] [Enemy2] Death animation component initialized
[02:06:02] [ENEMY] [Enemy3] Death animation component initialized
[02:06:02] [ENEMY] [Enemy4] Death animation component initialized
[02:06:02] [ENEMY] [Enemy5] Death animation component initialized
[02:06:02] [ENEMY] [Enemy6] Death animation component initialized
[02:06:02] [ENEMY] [Enemy7] Death animation component initialized
[02:06:02] [ENEMY] [Enemy8] Death animation component initialized
[02:06:02] [ENEMY] [Enemy9] Death animation component initialized
[02:06:02] [ENEMY] [Enemy10] Death animation component initialized
[02:06:02] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[02:06:02] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[02:06:02] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[02:06:02] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[02:06:02] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[02:06:02] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[02:06:02] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[02:06:02] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[02:06:02] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[02:06:02] [ENEMY] [Enemy10] Grenade system configured: offensive=2, flashbangs=0
[02:06:02] [INFO] [ScoreManager] Level started with 10 enemies
[02:06:02] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 20)
[02:06:02] [ENEMY] [Enemy1] Registered as sound listener
[02:06:02] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[02:06:02] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 21)
[02:06:02] [ENEMY] [Enemy2] Registered as sound listener
[02:06:02] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[02:06:02] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 22)
[02:06:02] [ENEMY] [Enemy3] Registered as sound listener
[02:06:02] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[02:06:02] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 23)
[02:06:02] [ENEMY] [Enemy4] Registered as sound listener
[02:06:02] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[02:06:02] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 24)
[02:06:02] [ENEMY] [Enemy5] Registered as sound listener
[02:06:02] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[02:06:02] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 25)
[02:06:02] [ENEMY] [Enemy6] Registered as sound listener
[02:06:02] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[02:06:02] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 26)
[02:06:02] [ENEMY] [Enemy7] Registered as sound listener
[02:06:02] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[02:06:02] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 27)
[02:06:02] [ENEMY] [Enemy8] Registered as sound listener
[02:06:02] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[02:06:02] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 28)
[02:06:02] [ENEMY] [Enemy9] Registered as sound listener
[02:06:02] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[02:06:02] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 29)
[02:06:02] [ENEMY] [Enemy10] Registered as sound listener
[02:06:02] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[02:06:02] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[02:06:02] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[02:06:02] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[02:06:02] [INFO] [LastChance] Found player: Player
[02:06:02] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[02:06:02] [INFO] [LastChance] Connected to player Damaged signal (C#)
[02:06:02] [INFO] [LastChance] Connected to player Died signal (C#)
[02:06:02] [INFO] [Player] Detecting weapon pose (frame 3)...
[02:06:02] [INFO] [Player] Detected weapon: Rifle (default pose)
[02:06:02] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[02:06:02] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:06:02] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:06:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1171.731, 1535.008), source=ENEMY (Enemy10), range=1469, listeners=29
[02:06:02] [INFO] [SoundPropagation] Cleaned up 19 invalid listeners
[02:06:02] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=8
[02:06:03] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:06:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1139.423, 1516.307), source=ENEMY (Enemy10), range=1469, listeners=10
[02:06:03] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:06:03] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:06:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1107.906, 1496.302), source=ENEMY (Enemy10), range=1469, listeners=10
[02:06:03] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:06:03] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:06:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1077.226, 1475.035), source=ENEMY (Enemy10), range=1469, listeners=10
[02:06:03] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:06:03] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:06:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1047.428, 1452.549), source=ENEMY (Enemy10), range=1469, listeners=10
[02:06:03] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:06:03] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1108.874, 1508.939), shooter_id=5357267060369, bullet_pos=(53.14801, 921.1365)
[02:06:03] [INFO] [Bullet] Using shooter_position, distance=1208.33337402344
[02:06:03] [INFO] [Bullet] Distance to wall: 1208.33337402344 (82.277641366406% of viewport)
[02:06:03] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[02:06:03] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1077.684, 1487.691), shooter_id=5357267060369, bullet_pos=(46.85162, 857.2495)
[02:06:03] [INFO] [Bullet] Using shooter_position, distance=1208.33435058594
[02:06:03] [INFO] [Bullet] Distance to wall: 1208.33435058594 (82.2777078623423% of viewport)
[02:06:03] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1108.874, 1508.939), shooter_id=5357267060369, bullet_pos=(426.435, 707.6959)
[02:06:03] [INFO] [Bullet] Using shooter_position, distance=1052.47973632813
[02:06:03] [INFO] [Bullet] Distance to wall: 1052.47973632813 (71.6652805861632% of viewport)
[02:06:03] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1047.382, 1465.197), shooter_id=5357267060369, bullet_pos=(43.06916, 793.3154)
[02:06:03] [INFO] [Bullet] Using shooter_position, distance=1208.33349609375
[02:06:03] [INFO] [Bullet] Distance to wall: 1208.33349609375 (82.277649678398% of viewport)
[02:06:03] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1077.684, 1487.691), shooter_id=5357267060369, bullet_pos=(291.8559, 705.233)
[02:06:03] [INFO] [Bullet] Using shooter_position, distance=1108.9482421875
[02:06:03] [INFO] [Bullet] Distance to wall: 1108.9482421875 (75.5103249865543% of viewport)
[02:06:03] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1047.382, 1465.197), shooter_id=5357267060369, bullet_pos=(197.9095, 697.5092)
[02:06:03] [INFO] [Bullet] Using shooter_position, distance=1144.96667480469
[02:06:03] [INFO] [Bullet] Distance to wall: 1144.96667480469 (77.962886295516% of viewport)
[02:06:03] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1018.01, 1441.508), shooter_id=5357267060369, bullet_pos=(41.67921, 729.5751)
[02:06:03] [INFO] [Bullet] Using shooter_position, distance=1208.33349609375
[02:06:03] [INFO] [Bullet] Distance to wall: 1208.33349609375 (82.277649678398% of viewport)
[02:06:03] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1108.874, 1508.939), shooter_id=5357267060369, bullet_pos=(680.3179, 878.5909)
[02:06:03] [INFO] [Bullet] Using shooter_position, distance=762.23291015625
[02:06:03] [INFO] [Bullet] Distance to wall: 762.23291015625 (51.9018404752689% of viewport)
[02:06:03] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1018.01, 1441.508), shooter_id=5357267060369, bullet_pos=(103.304, 685.3814)
[02:06:03] [INFO] [Bullet] Using shooter_position, distance=1186.76623535156
[02:06:03] [INFO] [Bullet] Distance to wall: 1186.76623535156 (80.809095235767% of viewport)
[02:06:03] [INFO] [Bullet] Distance-based penetration chance: 52.3893888916052%
[02:06:03] [INFO] [Bullet] Starting wall penetration at (103.304, 685.3814)
[02:06:03] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1077.684, 1487.691), shooter_id=5357267060369, bullet_pos=(500.9781, 834.469)
[02:06:03] [INFO] [Bullet] Using shooter_position, distance=871.371704101563
[02:06:03] [INFO] [Bullet] Distance to wall: 871.371704101563 (59.333301643551% of viewport)
[02:06:03] [INFO] [Bullet] Distance-based penetration chance: 77.4444814158571%
[02:06:03] [INFO] [Bullet] Penetration failed (distance roll)
[02:06:03] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[02:06:03] [INFO] [Bullet] Exiting penetration at (136.148, 661.8276) after traveling 35.4166679382324 pixels through wall
[02:06:03] [INFO] [Bullet] Damage multiplier after penetration: 0.45
[02:06:03] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[02:06:03] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(989.6003, 1416.68), shooter_id=5357267060369, bullet_pos=(42.53408, 666.2555)
[02:06:03] [INFO] [Bullet] Using shooter_position, distance=1208.33422851563
[02:06:03] [INFO] [Bullet] Distance to wall: 1208.33422851563 (82.2776995503503% of viewport)
[02:06:03] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1108.874, 1508.939), shooter_id=5357267060369, bullet_pos=(512.8707, 955.1514)
[02:06:03] [INFO] [Bullet] Using shooter_position, distance=813.572814941406
[02:06:03] [INFO] [Bullet] Distance to wall: 813.572814941406 (55.3976689978506% of viewport)
[02:06:03] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1047.382, 1465.197), shooter_id=5357267060369, bullet_pos=(516.423, 933.4027)
[02:06:03] [INFO] [Bullet] Using shooter_position, distance=751.480529785156
[02:06:03] [INFO] [Bullet] Distance to wall: 751.480529785156 (51.1696911239171% of viewport)
[02:06:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(451.8477, 793.432), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:06:03] [ENEMY] [Enemy1] Heard gunshot at (451.8477, 793.432), source_type=0, intensity=0.01, distance=469
[02:06:03] [ENEMY] [Enemy2] Heard gunshot at (451.8477, 793.432), source_type=0, intensity=0.04, distance=249
[02:06:03] [ENEMY] [Enemy4] Heard gunshot at (451.8477, 793.432), source_type=0, intensity=0.02, distance=364
[02:06:03] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[02:06:03] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1108.874, 1508.939), shooter_id=5357267060369, bullet_pos=(618.5533, 997.2295)
[02:06:03] [INFO] [Bullet] Using shooter_position, distance=708.703735351563
[02:06:03] [INFO] [Bullet] Distance to wall: 708.703735351563 (48.2569405313447% of viewport)
[02:06:04] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(989.6003, 1416.68), shooter_id=5357267060369, bullet_pos=(295.8274, 464.6207)
[02:06:04] [INFO] [Bullet] Using shooter_position, distance=1178.02294921875
[02:06:04] [INFO] [Bullet] Distance to wall: 1178.02294921875 (80.2137488054983% of viewport)
[02:06:04] [ENEMY] [Enemy3] Hit taken, health: 2/3
[02:06:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(464.005, 765.204), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:06:04] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[02:06:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[02:06:04] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[02:06:04] [INFO] [LastChance] Threat detected: @Area2D@5407
[02:06:04] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:06:04] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:06:04] [ENEMY] [Enemy2] Hit taken, health: 3/4
[02:06:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(483.968, 749.3124), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:06:04] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[02:06:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[02:06:04] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[02:06:04] [INFO] [LastChance] Threat detected: @Area2D@5410
[02:06:04] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:06:04] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:06:04] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[02:06:04] [ENEMY] [Enemy1] State: COMBAT -> RETREATING
[02:06:04] [ENEMY] [Enemy1] State: RETREATING -> IN_COVER
[02:06:04] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[02:06:04] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(464.005, 765.204), shooter_id=5358089145543, bullet_pos=(914.3192, 679.8422)
[02:06:04] [INFO] [Bullet] Using shooter_position, distance=458,3334
[02:06:04] [INFO] [Bullet] Distance to wall: 458,3334 (31,208765% of viewport)
[02:06:04] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:06:04] [INFO] [Bullet] Starting wall penetration at (914.3192, 679.8422)
[02:06:04] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[02:06:04] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[02:06:04] [ENEMY] [Enemy3] Hit taken, health: 1/3
[02:06:04] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[02:06:04] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[02:06:04] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[02:06:04] [INFO] [Bullet] Raycast backward hit penetrating body at distance 16,266481
[02:06:04] [INFO] [Bullet] Body exited signal received for penetrating body
[02:06:04] [INFO] [Bullet] Exiting penetration at (951.9819, 672.7029) after traveling 33,333336 pixels through wall
[02:06:04] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[02:06:04] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[02:06:04] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[02:06:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(692.5667, 756.3875), source=ENEMY (Enemy3), range=1469, listeners=10
[02:06:04] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[02:06:04] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[02:06:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(506.3793, 746.4853), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:06:04] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[02:06:04] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1047.382, 1465.197), shooter_id=5357267060369, bullet_pos=(61.87186, 1282.384)
[02:06:04] [INFO] [Bullet] Using shooter_position, distance=1002.32287597656
[02:06:04] [INFO] [Bullet] Distance to wall: 1002.32287597656 (68.2500077344918% of viewport)
[02:06:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700.7252, 763.2574), source=ENEMY (Enemy3), range=1469, listeners=10
[02:06:04] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[02:06:04] [ENEMY] [Enemy3] Hit taken, health: 0/3
[02:06:04] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[02:06:04] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[02:06:04] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[02:06:04] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[02:06:04] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[02:06:04] [INFO] [LastChance] Threat detected: @Area2D@5416
[02:06:04] [INFO] [LastChance] Player health is 3.0 - effect requires exactly 1 HP or less but alive
[02:06:04] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:06:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(530.0068, 757.2573), source=PLAYER (AssaultRifle), range=1469, listeners=9
[02:06:04] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[02:06:04] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[02:06:04] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[02:06:04] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[02:06:04] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1047.382, 1465.197), shooter_id=5357267060369, bullet_pos=(265.514, 1391.859)
[02:06:04] [INFO] [Bullet] Using shooter_position, distance=785.300170898438
[02:06:04] [INFO] [Bullet] Distance to wall: 785.300170898438 (53.4725326761567% of viewport)
[02:06:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=9
[02:06:04] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=4
[02:06:04] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[02:06:04] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(624.5466, 758.3545), shooter_id=5355270571408, bullet_pos=(65.34991, 850.0615)
[02:06:04] [INFO] [Bullet] Using shooter_position, distance=566.666625976563
[02:06:04] [INFO] [Bullet] Distance to wall: 566.666625976563 (38.5853725707874% of viewport)
[02:06:04] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:06:04] [INFO] [Bullet] Starting wall penetration at (65.34991, 850.0615)
[02:06:04] [INFO] [Bullet] Raycast backward hit penetrating body at distance 4.53791618347168
[02:06:04] [INFO] [Bullet] Body exited signal received for penetrating body
[02:06:04] [INFO] [Bullet] Exiting penetration at (27.5219, 856.2653) after traveling 33.3333320617676 pixels through wall
[02:06:04] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:06:04] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(530.0068, 757.25726), shooter_id=5358089145543, bullet_pos=(921.6689, 759.16205)
[02:06:04] [INFO] [Bullet] Using shooter_position, distance=391,66672
[02:06:04] [INFO] [Bullet] Distance to wall: 391,66672 (26,669308% of viewport)
[02:06:04] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:06:04] [INFO] [Bullet] Starting wall penetration at (921.6689, 759.16205)
[02:06:04] [INFO] [Bullet] Raycast backward hit penetrating body at distance 24,002054
[02:06:04] [INFO] [Bullet] Body exited signal received for penetrating body
[02:06:04] [INFO] [Bullet] Exiting penetration at (960.0018, 759.34845) after traveling 33,333332 pixels through wall
[02:06:04] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[02:06:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=9
[02:06:04] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=4
[02:06:04] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[02:06:04] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[02:06:04] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(432.1618, 609.9936), shooter_id=5354985360759, bullet_pos=(488.912, 692.3308)
[02:06:04] [INFO] [Bullet] Using shooter_position, distance=99.9999847412109
[02:06:04] [INFO] [Bullet] Distance to wall: 99.9999847412109 (6.80918284478653% of viewport)
[02:06:04] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:06:04] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(431.8774, 610.2727), shooter_id=5354985360759, bullet_pos=(680.0775, 832.7764)
[02:06:04] [INFO] [Bullet] Using shooter_position, distance=333.333404541016
[02:06:04] [INFO] [Bullet] Distance to wall: 333.333404541016 (22.6972844612805% of viewport)
[02:06:04] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:06:04] [ENEMY] [Enemy2] State: SEEKING_COVER -> IN_COVER
[02:06:04] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[02:06:04] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(431.8774, 610.2727), shooter_id=5354985360759, bullet_pos=(514.5452, 950.8592)
[02:06:04] [INFO] [Bullet] Using shooter_position, distance=350.475555419922
[02:06:04] [INFO] [Bullet] Distance to wall: 350.475555419922 (23.8645250362612% of viewport)
[02:06:04] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:06:04] [ENEMY] [Enemy4] State: SUPPRESSED -> SEEKING_COVER
[02:06:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(774.2708, 914.5134), source=ENEMY (Enemy4), range=1469, listeners=9
[02:06:04] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=7
[02:06:04] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(431.8774, 610.2727), shooter_id=5354985360759, bullet_pos=(600.9772, 1003.755)
[02:06:04] [INFO] [Bullet] Using shooter_position, distance=428.278991699219
[02:06:04] [INFO] [Bullet] Distance to wall: 428.278991699219 (29.1623040804224% of viewport)
[02:06:04] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:06:04] [INFO] [LastChance] Threat detected: @Area2D@5427
[02:06:04] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[02:06:04] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:06:04] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(710.3815, 901.995), shooter_id=5355555784077, bullet_pos=(678.586, 891.9871)
[02:06:04] [INFO] [Bullet] Using shooter_position, distance=33.333366394043
[02:06:04] [INFO] [Bullet] Distance to wall: 33.333366394043 (2.26973021242636% of viewport)
[02:06:04] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[02:06:04] [INFO] [Bullet] Starting wall penetration at (678.586, 891.9871)
[02:06:04] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[02:06:04] [INFO] [Bullet] Exiting penetration at (642.0211, 880.4781) after traveling 33.3333358764648 pixels through wall
[02:06:04] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:06:05] [ENEMY] [Enemy3] Ragdoll activated
[02:06:05] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[02:06:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(798.2581, 894.7883), source=ENEMY (Enemy4), range=1469, listeners=9
[02:06:05] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=8
[02:06:05] [INFO] [LastChance] Threat detected: @Area2D@5441
[02:06:05] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[02:06:05] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:06:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(577.9365, 911.3724), source=PLAYER (AssaultRifle), range=1469, listeners=9
[02:06:05] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[02:06:05] [ENEMY] [Enemy10] FLANKING started: target=(513.6741, 1106.621), side=right, pos=(1022.594, 1432.37)
[02:06:05] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[02:06:05] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(577.93646, 911.37244), shooter_id=5358089145543, bullet_pos=(735.10486, 892.2014)
[02:06:05] [INFO] [Bullet] Using shooter_position, distance=158,3333
[02:06:05] [INFO] [Bullet] Distance to wall: 158,3333 (10,781205% of viewport)
[02:06:05] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:06:05] [INFO] [LastChance] Threat detected: Bullet
[02:06:05] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[02:06:05] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:06:05] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(431.8774, 610.2727), shooter_id=5354985360759, bullet_pos=(925.3615, 864.5178)
[02:06:05] [INFO] [Bullet] Using shooter_position, distance=555.127990722656
[02:06:05] [INFO] [Bullet] Distance to wall: 555.127990722656 (37.7996856786696% of viewport)
[02:06:05] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:06:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(584.7698, 939.2292), source=PLAYER (AssaultRifle), range=1469, listeners=9
[02:06:05] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[02:06:05] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1047.382, 1465.197), shooter_id=5357267060369, bullet_pos=(737.7038, 1027.201)
[02:06:05] [INFO] [Bullet] Using shooter_position, distance=536.415222167969
[02:06:05] [INFO] [Bullet] Distance to wall: 536.415222167969 (36.5254988580337% of viewport)
[02:06:05] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:06:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(601.6208, 962.4879), source=PLAYER (AssaultRifle), range=1469, listeners=9
[02:06:05] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[02:06:05] [ENEMY] [Enemy4] State: SEEKING_COVER -> IN_COVER
[02:06:05] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[02:06:05] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(584.7698, 939.2292), shooter_id=5358089145543, bullet_pos=(933.82983, 858.2354)
[02:06:05] [INFO] [Bullet] Using shooter_position, distance=358,33353
[02:06:05] [INFO] [Bullet] Distance to wall: 358,33353 (24,39959% of viewport)
[02:06:05] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:06:05] [INFO] [Bullet] Starting wall penetration at (933.82983, 858.2354)
[02:06:05] [INFO] [Bullet] Raycast backward hit penetrating body at distance 36,105545
[02:06:05] [INFO] [Bullet] Body exited signal received for penetrating body
[02:06:05] [INFO] [Bullet] Exiting penetration at (971.17114, 849.571) after traveling 33,333336 pixels through wall
[02:06:05] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[02:06:05] [ENEMY] [Enemy4] State: SUPPRESSED -> SEEKING_COVER
[02:06:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(626.9284, 975.0274), source=PLAYER (AssaultRifle), range=1469, listeners=9
[02:06:05] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[02:06:05] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(601.62085, 962.4879), shooter_id=5358089145543, bullet_pos=(915.29486, 877.43787)
[02:06:05] [INFO] [Bullet] Using shooter_position, distance=324,99982
[02:06:05] [INFO] [Bullet] Distance to wall: 324,99982 (22,129835% of viewport)
[02:06:05] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:06:05] [ENEMY] [Enemy4] Hit taken, health: 1/2
[02:06:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(660.24, 977.4212), source=PLAYER (AssaultRifle), range=1469, listeners=9
[02:06:05] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=5
[02:06:05] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(626.9284, 975.0274), shooter_id=5358089145543, bullet_pos=(914.44867, 823.51086)
[02:06:05] [INFO] [Bullet] Using shooter_position, distance=325,00024
[02:06:05] [INFO] [Bullet] Distance to wall: 325,00024 (22,129866% of viewport)
[02:06:05] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:06:05] [ENEMY] [Enemy4] State: SEEKING_COVER -> IN_COVER
[02:06:05] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[02:06:05] [ENEMY] [Enemy4] State: SUPPRESSED -> SEEKING_COVER
[02:06:05] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[02:06:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(695.4402, 977.4212), source=PLAYER (AssaultRifle), range=1469, listeners=9
[02:06:05] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[02:06:05] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(660.24, 977.4212), shooter_id=5358089145543, bullet_pos=(908.6243, 824.5333)
[02:06:05] [INFO] [Bullet] Using shooter_position, distance=291,66675
[02:06:05] [INFO] [Bullet] Distance to wall: 291,66675 (19,860126% of viewport)
[02:06:05] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:06:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(802.5976, 816.7342), source=ENEMY (Enemy4), range=1469, listeners=9
[02:06:05] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[02:06:05] [INFO] [LastChance] Threat detected: @Area2D@5458
[02:06:05] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[02:06:05] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:06:05] [ENEMY] [Enemy4] Hit taken, health: 0/2
[02:06:05] [ENEMY] [Enemy4] Enemy died (ricochet: false, penetration: false)
[02:06:05] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[02:06:05] [INFO] [SoundPropagation] Unregistered listener: Enemy4 (remaining: 8)
[02:06:05] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[02:06:05] [ENEMY] [Enemy4] Death animation started with hit direction: (1, 0)
[02:06:05] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[02:06:05] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[02:06:05] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[02:06:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(730.6404, 977.4212), source=PLAYER (AssaultRifle), range=1469, listeners=8
[02:06:05] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=6
[02:06:05] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(695.4402, 977.4212), shooter_id=5358089145543, bullet_pos=(931.088, 753.60205)
[02:06:05] [INFO] [Bullet] Using shooter_position, distance=324,99985
[02:06:05] [INFO] [Bullet] Distance to wall: 324,99985 (22,129839% of viewport)
[02:06:05] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:06:06] [ENEMY] [Enemy2] State: SEEKING_COVER -> IN_COVER
[02:06:06] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[02:06:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(765.8406, 977.4212), source=PLAYER (AssaultRifle), range=1469, listeners=8
[02:06:06] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=7
[02:06:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(730.6404, 977.4212), shooter_id=5358089145543, bullet_pos=(919.5606, 755.2084)
[02:06:06] [INFO] [Bullet] Using shooter_position, distance=291,66656
[02:06:06] [INFO] [Bullet] Distance to wall: 291,66656 (19,860113% of viewport)
[02:06:06] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:06:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(801.0408, 977.4212), source=PLAYER (AssaultRifle), range=1469, listeners=8
[02:06:06] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=7
[02:06:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1047.382, 1465.197), shooter_id=5357267060369, bullet_pos=(1356.22, 1373.807)
[02:06:06] [INFO] [Bullet] Using shooter_position, distance=322.075714111328
[02:06:06] [INFO] [Bullet] Distance to wall: 322.075714111328 (21.9307276188557% of viewport)
[02:06:06] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:06:06] [ENEMY] [Enemy3] Death animation completed
[02:06:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(695.4402, 977.4212), shooter_id=5358089145543, bullet_pos=(520.4957, 397.75723)
[02:06:06] [INFO] [Bullet] Using shooter_position, distance=605,4881
[02:06:06] [INFO] [Bullet] Distance to wall: 605,4881 (41,228798% of viewport)
[02:06:06] [INFO] [Bullet] Distance-based penetration chance: 98,5664%
[02:06:06] [INFO] [Bullet] Starting wall penetration at (520.4957, 397.75723)
[02:06:06] [INFO] [Bullet] Raycast backward hit penetrating body at distance 6,2114515
[02:06:06] [INFO] [Bullet] Body exited signal received for penetrating body
[02:06:06] [INFO] [Bullet] Exiting penetration at (495.30606, 375.92627) after traveling 28,333332 pixels through wall
[02:06:06] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[02:06:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(730.6404, 977.4212), shooter_id=5358089145543, bullet_pos=(510.09424, 356.28467)
[02:06:06] [INFO] [Bullet] Using shooter_position, distance=659,1291
[02:06:06] [INFO] [Bullet] Distance to wall: 659,1291 (44,881313% of viewport)
[02:06:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(765.8406, 977.4212), shooter_id=5358089145543, bullet_pos=(974.2591, 248.29088)
[02:06:06] [INFO] [Bullet] Using shooter_position, distance=758,3332
[02:06:06] [INFO] [Bullet] Distance to wall: 758,3332 (51,636303% of viewport)
[02:06:06] [ENEMY] [Enemy4] Ragdoll activated
[02:06:06] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[02:06:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(765.8406, 977.4212), shooter_id=5358089145543, bullet_pos=(949.5129, 46.468964)
[02:06:06] [INFO] [Bullet] Using shooter_position, distance=948,89813
[02:06:06] [INFO] [Bullet] Distance to wall: 948,89813 (64,61222% of viewport)
[02:06:06] [INFO] [Bullet] Distance-based penetration chance: 71,28574%
[02:06:06] [INFO] [Bullet] Starting wall penetration at (949.5129, 46.468964)
[02:06:06] [INFO] [Bullet] Raycast backward hit penetrating body at distance 18,756014
[02:06:06] [INFO] [Bullet] Body exited signal received for penetrating body
[02:06:06] [INFO] [Bullet] Exiting penetration at (945.4561, 13.383406) after traveling 28,333334 pixels through wall
[02:06:06] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[02:06:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(801.0408, 977.4212), shooter_id=5358089145543, bullet_pos=(894.8122, 57.18624)
[02:06:06] [INFO] [Bullet] Using shooter_position, distance=925,00024
[02:06:06] [INFO] [Bullet] Distance to wall: 925,00024 (62,984966% of viewport)
[02:06:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(730.6404, 977.4212), shooter_id=5358089145543, bullet_pos=(732.00433, 64.91742)
[02:06:06] [INFO] [Bullet] Using shooter_position, distance=912,5048
[02:06:06] [INFO] [Bullet] Distance to wall: 912,5048 (62,134136% of viewport)
[02:06:07] [ENEMY] [Enemy1] State: SUPPRESSED -> IN_COVER
[02:06:07] [ENEMY] [Enemy1] State: IN_COVER -> PURSUING
[02:06:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(351.1511, 520.9229), source=ENEMY (Enemy2), range=1469, listeners=8
[02:06:07] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[02:06:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(351.1511, 520.9229), source=ENEMY (Enemy2), range=1469, listeners=8
[02:06:07] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[02:06:07] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[02:06:07] [INFO] [LastChance] Threat detected: Bullet
[02:06:07] [INFO] [LastChance] Triggering last chance effect!
[02:06:07] [INFO] [LastChance] Starting last chance effect:
[02:06:07] [INFO] [LastChance]   - Time will be frozen (except player)
[02:06:07] [INFO] [LastChance]   - Duration: 6.0 real seconds
[02:06:07] [INFO] [LastChance]   - Sepia intensity: 0.70
[02:06:07] [INFO] [LastChance]   - Brightness: 0.60
[02:06:07] [INFO] [LastChance] Set player Player and all 18 children to PROCESS_MODE_ALWAYS
[02:06:07] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[02:06:07] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:06:07] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:06:07] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[02:06:07] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:06:07] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:06:07] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:06:07] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:06:07] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:06:07] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:06:07] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:06:07] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:06:07] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:06:07] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:06:07] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:06:07] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:06:07] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:06:07] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[02:06:07] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[02:06:07] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:06:07] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:06:07] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:06:07] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:06:07] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:06:07] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[02:06:07] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[02:06:07] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:06:07] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[02:06:07] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[02:06:07] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:06:07] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:06:07] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[02:06:07] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[02:06:07] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[02:06:07] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[02:06:07] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[02:06:07] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[02:06:07] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[02:06:07] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[02:06:07] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[02:06:07] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[02:06:07] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[02:06:07] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[02:06:07] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[02:06:07] [INFO] [LastChance] Skipping player node: Player
[02:06:07] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[02:06:07] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[02:06:07] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[02:06:07] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@5487
[02:06:07] [INFO] [LastChance] Registered frozen player bullet: @Area2D@5487
[02:06:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(855.5836, 801.5952), source=PLAYER (AssaultRifle), range=1469, listeners=8
[02:06:07] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=7
[02:06:07] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@5489
[02:06:07] [INFO] [LastChance] Registered frozen player bullet: @Area2D@5489
[02:06:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(855.5836, 774.2175), source=PLAYER (AssaultRifle), range=1469, listeners=8
[02:06:07] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=7
[02:06:07] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@5491
[02:06:07] [INFO] [LastChance] Registered frozen player bullet: @Area2D@5491
[02:06:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(855.5836, 759.4975), source=PLAYER (AssaultRifle), range=1469, listeners=8
[02:06:07] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=6
[02:06:07] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@5493
[02:06:07] [INFO] [LastChance] Registered frozen player bullet: @Area2D@5493
[02:06:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(855.5836, 758.4308), source=PLAYER (AssaultRifle), range=1469, listeners=8
[02:06:07] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=6
[02:06:07] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@5495
[02:06:07] [INFO] [LastChance] Registered frozen player bullet: @Area2D@5495
[02:06:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(855.5836, 771.0175), source=PLAYER (AssaultRifle), range=1469, listeners=8
[02:06:07] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=7
[02:06:08] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@5497
[02:06:08] [INFO] [LastChance] Registered frozen player bullet: @Area2D@5497
[02:06:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(855.5836, 797.2575), source=PLAYER (AssaultRifle), range=1469, listeners=8
[02:06:08] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=7
[02:06:09] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[02:06:09] [ENEMY] [Enemy1] Player reloading state changed: false -> true
[02:06:09] [ENEMY] [Enemy2] Player reloading state changed: false -> true
[02:06:09] [ENEMY] [Enemy5] Player reloading state changed: false -> true
[02:06:09] [ENEMY] [Enemy6] Player reloading state changed: false -> true
[02:06:09] [ENEMY] [Enemy7] Player reloading state changed: false -> true
[02:06:09] [ENEMY] [Enemy8] Player reloading state changed: false -> true
[02:06:09] [ENEMY] [Enemy9] Player reloading state changed: false -> true
[02:06:09] [ENEMY] [Enemy10] Player reloading state changed: false -> true
[02:06:09] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(783.4084, 983.9335), source=PLAYER (Player), range=900, listeners=8
[02:06:09] [ENEMY] [Enemy10] Heard player RELOAD at (783.4084, 983.9335), intensity=0.05, distance=225
[02:06:09] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=0, below_threshold=3
[02:06:09] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[02:06:09] [INFO] [Player.Reload.Anim] LeftArm: pos=(7.6496496, 3.780166), target=(12, 6), base=(24, 6)
[02:06:09] [INFO] [Player.Reload.Anim] RightArm: pos=(-1.9988196, 6.875), target=(-2, 8), base=(-2, 6)
[02:06:09] [INFO] [Player.Reload.Anim] Phase changed to: PullBolt (duration: 0,35s)
[02:06:09] [ENEMY] [Enemy1] Player reloading state changed: true -> false
[02:06:09] [ENEMY] [Enemy2] Player reloading state changed: true -> false
[02:06:09] [ENEMY] [Enemy5] Player reloading state changed: true -> false
[02:06:09] [ENEMY] [Enemy6] Player reloading state changed: true -> false
[02:06:09] [ENEMY] [Enemy7] Player reloading state changed: true -> false
[02:06:09] [ENEMY] [Enemy8] Player reloading state changed: true -> false
[02:06:09] [ENEMY] [Enemy9] Player reloading state changed: true -> false
[02:06:09] [ENEMY] [Enemy10] Player reloading state changed: true -> false
[02:06:09] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[02:06:09] [INFO] [ScoreManager] Combo ended at 2. Max combo: 2
[02:06:09] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[02:06:13] [INFO] [LastChance] Effect duration expired after 6.01 real seconds
[02:06:13] [INFO] [LastChance] Ending last chance effect
[02:06:13] [INFO] [LastChance] All process modes restored
[02:06:13] [INFO] [LastChance] Unfroze player bullet: @Area2D@5487
[02:06:13] [INFO] [LastChance] Unfroze player bullet: @Area2D@5489
[02:06:13] [INFO] [LastChance] Unfroze player bullet: @Area2D@5491
[02:06:13] [INFO] [LastChance] Unfroze player bullet: @Area2D@5493
[02:06:13] [INFO] [LastChance] Unfroze player bullet: @Area2D@5495
[02:06:13] [INFO] [LastChance] Unfroze player bullet: @Area2D@5497
[02:06:13] [INFO] [LastChance] Restored original colors to 5 player sprites
[02:06:13] [INFO] [LastChance] Called player RefreshHealthVisual (C#)
[02:06:13] [ENEMY] [Enemy2] State: SEEKING_COVER -> IN_COVER
[02:06:13] [ENEMY] [Enemy2] State: IN_COVER -> PURSUING
[02:06:13] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[02:06:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(400.6875, 563.7211), shooter_id=5354985360759, bullet_pos=(915.926, 818.9747)
[02:06:13] [INFO] [Bullet] Using shooter_position, distance=575.000061035156
[02:06:13] [INFO] [Bullet] Distance to wall: 575.000061035156 (39.1528114877629% of viewport)
[02:06:13] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:06:13] [INFO] [Bullet] Starting wall penetration at (915.926, 818.9747)
[02:06:13] [INFO] [Bullet] Raycast backward hit penetrating body at distance 24.2643127441406
[02:06:13] [INFO] [Bullet] Body exited signal received for penetrating body
[02:06:13] [INFO] [Bullet] Exiting penetration at (957.7424, 839.6909) after traveling 41.6666679382324 pixels through wall
[02:06:13] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:06:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(855.58356, 797.2575), shooter_id=5358089145543, bullet_pos=(515.5541, 586.5913)
[02:06:13] [INFO] [Bullet] Using shooter_position, distance=400,00037
[02:06:13] [INFO] [Bullet] Distance to wall: 400,00037 (27,236763% of viewport)
[02:06:13] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:06:13] [INFO] [Bullet] Starting wall penetration at (515.5541, 586.5913)
[02:06:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(855.58356, 801.5952), shooter_id=5358089145543, bullet_pos=(511.01242, 598.44366)
[02:06:13] [INFO] [Bullet] Using shooter_position, distance=399,99976
[02:06:13] [INFO] [Bullet] Distance to wall: 399,99976 (27,236721% of viewport)
[02:06:13] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:06:13] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[02:06:13] [INFO] [Bullet] Raycast backward hit penetrating body at distance 28,36931
[02:06:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(401.9625, 562.1994), shooter_id=5354985360759, bullet_pos=(928.0066, 883.9998)
[02:06:13] [INFO] [Bullet] Using shooter_position, distance=616.666748046875
[02:06:13] [INFO] [Bullet] Distance to wall: 616.666748046875 (41.9899728246722% of viewport)
[02:06:13] [INFO] [Bullet] Body exited signal received for penetrating body
[02:06:13] [INFO] [Bullet] Exiting penetration at (475.884, 562.0136) after traveling 41,66667 pixels through wall
[02:06:13] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[02:06:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(855.58356, 801.5952), shooter_id=5358089145543, bullet_pos=(360.28046, 700.5916)
[02:06:13] [INFO] [Bullet] Using shooter_position, distance=505,49667
[02:06:13] [INFO] [Bullet] Distance to wall: 505,49667 (34,420197% of viewport)
[02:06:13] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:06:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(855.58356, 771.0175), shooter_id=5358089145543, bullet_pos=(233.32672, 469.02505)
[02:06:13] [INFO] [Bullet] Using shooter_position, distance=691,6668
[02:06:13] [INFO] [Bullet] Distance to wall: 691,6668 (47,096867% of viewport)
[02:06:13] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[02:06:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(401.9625, 562.1994), shooter_id=5354985360759, bullet_pos=(707.5659, 1007.986)
[02:06:13] [INFO] [Bullet] Using shooter_position, distance=540.480651855469
[02:06:13] [INFO] [Bullet] Distance to wall: 540.480651855469 (36.8023214411216% of viewport)
[02:06:13] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:06:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(855.58356, 758.43085), shooter_id=5358089145543, bullet_pos=(65.1579, 423.82166)
[02:06:13] [INFO] [Bullet] Using shooter_position, distance=858,3333
[02:06:13] [INFO] [Bullet] Distance to wall: 858,3333 (58,445496% of viewport)
[02:06:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(855.58356, 759.4975), shooter_id=5358089145543, bullet_pos=(52.555374, 456.37787)
[02:06:13] [INFO] [Bullet] Using shooter_position, distance=858,3331
[02:06:13] [INFO] [Bullet] Distance to wall: 858,3331 (58,445484% of viewport)
[02:06:13] [INFO] [Bullet] Distance-based penetration chance: 78,48027%
[02:06:13] [INFO] [Bullet] Starting wall penetration at (52.555374, 456.37787)
[02:06:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(855.58356, 774.21747), shooter_id=5358089145543, bullet_pos=(63.802494, 442.8283)
[02:06:13] [INFO] [Bullet] Using shooter_position, distance=858,33325
[02:06:13] [INFO] [Bullet] Distance to wall: 858,33325 (58,445488% of viewport)
[02:06:13] [INFO] [Bullet] Distance-based penetration chance: 78,48026%
[02:06:13] [INFO] [Bullet] Starting wall penetration at (63.802494, 442.8283)
[02:06:13] [INFO] [Bullet] Raycast backward hit penetrating body at distance 12,19105
[02:06:13] [INFO] [Bullet] Raycast backward hit penetrating body at distance 24,695644
[02:06:13] [INFO] [Bullet] Body exited signal received for penetrating body
[02:06:13] [INFO] [Bullet] Exiting penetration at (20.754208, 424.81104) after traveling 41,666668 pixels through wall
[02:06:13] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[02:06:13] [INFO] [Bullet] Body exited signal received for penetrating body
[02:06:13] [INFO] [Bullet] Exiting penetration at (8.895584, 439.89755) after traveling 41,666668 pixels through wall
[02:06:13] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[02:06:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(855.58356, 771.0175), shooter_id=5358089145543, bullet_pos=(66.35138, 541.6445)
[02:06:13] [INFO] [Bullet] Using shooter_position, distance=821,88776
[02:06:13] [INFO] [Bullet] Distance to wall: 821,88776 (55,963852% of viewport)
[02:06:13] [INFO] [Bullet] Distance-based penetration chance: 81,37551%
[02:06:13] [INFO] [Bullet] Starting wall penetration at (66.35138, 541.6445)
[02:06:13] [INFO] [Bullet] Raycast backward hit penetrating body at distance 2,9571643
[02:06:13] [INFO] [Bullet] Max penetration distance exceeded: 70,833336 >= 48
[02:06:13] [INFO] [Bullet] Body exited signal received for penetrating body
[02:06:13] [INFO] [Bullet] Exiting penetration at (-3.1898499, 571.88873) after traveling 70,833336 pixels through wall
[02:06:13] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[02:06:13] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[02:06:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(401.9625, 562.1994), shooter_id=5354985360759, bullet_pos=(509.0577, 923.5257)
[02:06:13] [INFO] [Bullet] Using shooter_position, distance=376.863464355469
[02:06:13] [INFO] [Bullet] Distance to wall: 376.863464355469 (25.6613262787684% of viewport)
[02:06:13] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:06:13] [INFO] [Bullet] Starting wall penetration at (509.0577, 923.5257)
[02:06:13] [ENEMY] [Enemy2] State: PURSUING -> RETREATING
[02:06:13] [INFO] [Bullet] Raycast backward hit penetrating body at distance 25.2607269287109
[02:06:13] [INFO] [Bullet] Body exited signal received for penetrating body
[02:06:13] [INFO] [Bullet] Exiting penetration at (476.7558, 909.782) after traveling 30.1041698455811 pixels through wall
[02:06:13] [INFO] [Bullet] Damage multiplier after penetration: 0.225
[02:06:13] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[02:06:13] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[02:06:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(855.58356, 801.5952), shooter_id=5358089145543, bullet_pos=(47.41801, 457.2528)
[02:06:13] [INFO] [Bullet] Using shooter_position, distance=878,4664
[02:06:13] [INFO] [Bullet] Distance to wall: 878,4664 (59,81639% of viewport)
[02:06:13] [ENEMY] [Enemy1] State: PURSUING -> RETREATING
[02:06:13] [ENEMY] [Enemy1] State: RETREATING -> IN_COVER
[02:06:13] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[02:06:13] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[02:06:14] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[02:06:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(855.58356, 801.5952), shooter_id=5358089145543, bullet_pos=(327.8041, 269.12534)
[02:06:14] [INFO] [Bullet] Using shooter_position, distance=749,7168
[02:06:14] [INFO] [Bullet] Distance to wall: 749,7168 (51,049595% of viewport)
[02:06:14] [INFO] [Bullet] Distance-based penetration chance: 87,1088%
[02:06:14] [INFO] [Bullet] Starting wall penetration at (327.8041, 269.12534)
[02:06:14] [INFO] [Bullet] Raycast backward hit penetrating body at distance 15,901816
[02:06:14] [INFO] [Bullet] Body exited signal received for penetrating body
[02:06:14] [INFO] [Bullet] Exiting penetration at (353.2049, 252.08247) after traveling 25,588541 pixels through wall
[02:06:14] [INFO] [Bullet] Damage multiplier after penetration: 0,1125
[02:06:14] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[02:06:14] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[02:06:14] [ENEMY] [Enemy10] State: FLANKING -> COMBAT
[02:06:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(496.4111, 776.1999), source=ENEMY (Enemy10), range=1469, listeners=8
[02:06:15] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=2
[02:06:15] [INFO] [LastChance] Threat detected: Bullet
[02:06:15] [INFO] [LastChance] Effect already used this life
[02:06:15] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:06:15] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[02:06:15] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[02:06:15] [INFO] [PenultimateHit] Player died - ending penultimate effect
[02:06:15] [INFO] [LastChance] Player died
[02:06:15] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[02:06:15] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[02:06:15] [INFO] [LastChance] Resetting all effects (scene change detected)
[02:06:15] [ENEMY] [Enemy1] Death animation component initialized
[02:06:15] [ENEMY] [Enemy2] Death animation component initialized
[02:06:15] [ENEMY] [Enemy3] Death animation component initialized
[02:06:15] [ENEMY] [Enemy4] Death animation component initialized
[02:06:15] [ENEMY] [Enemy5] Death animation component initialized
[02:06:15] [ENEMY] [Enemy6] Death animation component initialized
[02:06:15] [ENEMY] [Enemy7] Death animation component initialized
[02:06:15] [ENEMY] [Enemy8] Death animation component initialized
[02:06:15] [ENEMY] [Enemy9] Death animation component initialized
[02:06:15] [ENEMY] [Enemy10] Death animation component initialized
[02:06:15] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[02:06:15] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[02:06:15] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[02:06:15] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[02:06:15] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[02:06:15] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[02:06:15] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[02:06:15] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[02:06:15] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[02:06:15] [ENEMY] [Enemy10] Grenade system configured: offensive=2, flashbangs=0
[02:06:15] [INFO] [ScoreManager] Level started with 10 enemies
[02:06:15] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 9)
[02:06:15] [ENEMY] [Enemy1] Registered as sound listener
[02:06:15] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[02:06:15] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 10)
[02:06:15] [ENEMY] [Enemy2] Registered as sound listener
[02:06:15] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[02:06:15] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 11)
[02:06:15] [ENEMY] [Enemy3] Registered as sound listener
[02:06:15] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[02:06:15] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 12)
[02:06:15] [ENEMY] [Enemy4] Registered as sound listener
[02:06:15] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[02:06:15] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 13)
[02:06:15] [ENEMY] [Enemy5] Registered as sound listener
[02:06:15] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[02:06:15] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 14)
[02:06:15] [ENEMY] [Enemy6] Registered as sound listener
[02:06:15] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[02:06:15] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 15)
[02:06:15] [ENEMY] [Enemy7] Registered as sound listener
[02:06:15] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[02:06:15] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 16)
[02:06:15] [ENEMY] [Enemy8] Registered as sound listener
[02:06:15] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[02:06:15] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 17)
[02:06:15] [ENEMY] [Enemy9] Registered as sound listener
[02:06:15] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[02:06:15] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 18)
[02:06:15] [ENEMY] [Enemy10] Registered as sound listener
[02:06:15] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[02:06:15] [INFO] [Player] Detecting weapon pose (frame 3)...
[02:06:15] [INFO] [Player] Detected weapon: Rifle (default pose)
[02:06:15] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[02:06:15] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[02:06:15] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[02:06:15] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[02:06:15] [INFO] [LastChance] Found player: Player
[02:06:15] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[02:06:15] [INFO] [LastChance] Connected to player Damaged signal (C#)
[02:06:15] [INFO] [LastChance] Connected to player Died signal (C#)
[02:06:16] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[02:06:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(532.2008, 1183.786), source=PLAYER (AssaultRifle), range=1469, listeners=18
[02:06:17] [INFO] [SoundPropagation] Cleaned up 8 invalid listeners
[02:06:17] [ENEMY] [Enemy3] Heard gunshot at (532.2008, 1183.786), source_type=0, intensity=0.01, distance=465
[02:06:17] [ENEMY] [Enemy4] Heard gunshot at (532.2008, 1183.786), source_type=0, intensity=0.02, distance=390
[02:06:17] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=6
[02:06:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1143.995, 1519.044), source=ENEMY (Enemy10), range=1469, listeners=10
[02:06:17] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:06:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(539.5114, 1168.043), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:06:17] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=6
[02:06:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1111.898, 1499.977), source=ENEMY (Enemy10), range=1469, listeners=10
[02:06:17] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:06:17] [ENEMY] [Enemy10] Hit taken, health: 1/2
[02:06:17] [INFO] [LastChance] Threat detected: @Area2D@5765
[02:06:17] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:06:17] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:06:17] [ENEMY] [Enemy10] Hit taken, health: 0/2
[02:06:17] [ENEMY] [Enemy10] Enemy died (ricochet: false, penetration: false)
[02:06:17] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[02:06:17] [INFO] [SoundPropagation] Unregistered listener: Enemy10 (remaining: 9)
[02:06:17] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[02:06:17] [ENEMY] [Enemy10] Death animation started with hit direction: (1, 0)
[02:06:17] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[02:06:17] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[02:06:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(696.7543, 957.3187), source=ENEMY (Enemy4), range=1469, listeners=9
[02:06:17] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[02:06:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(658.5029, 1013.599), shooter_id=5840065005570, bullet_pos=(658.5029, 1013.599)
[02:06:17] [INFO] [Bullet] Using shooter_position, distance=0
[02:06:17] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[02:06:17] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[02:06:17] [INFO] [Bullet] Starting wall penetration at (658.5029, 1013.599)
[02:06:17] [INFO] [LastChance] Threat detected: @Area2D@5768
[02:06:17] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[02:06:17] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:06:17] [INFO] [Bullet] Raycast backward hit penetrating body at distance 24.5962982177734
[02:06:17] [INFO] [Bullet] Body exited signal received for penetrating body
[02:06:17] [INFO] [Bullet] Exiting penetration at (633.4631, 1042.624) after traveling 33.3333358764648 pixels through wall
[02:06:17] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:06:17] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[02:06:17] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[02:06:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1049.858, 1472.027), shooter_id=5841776282130, bullet_pos=(62.41807, 882.5668)
[02:06:17] [INFO] [Bullet] Using shooter_position, distance=1150.00048828125
[02:06:17] [INFO] [Bullet] Distance to wall: 1150.00048828125 (78.3056479115019% of viewport)
[02:06:18] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1049.858, 1472.027), shooter_id=5841776282130, bullet_pos=(261.0922, 714.851)
[02:06:18] [INFO] [Bullet] Using shooter_position, distance=1093.37414550781
[02:06:18] [INFO] [Bullet] Distance to wall: 1093.37414550781 (74.4498561053958% of viewport)
[02:06:18] [ENEMY] [Enemy10] Ragdoll activated
[02:06:18] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[02:06:18] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1049.858, 1472.027), shooter_id=5841776282130, bullet_pos=(511.0085, 869.6993)
[02:06:18] [INFO] [Bullet] Using shooter_position, distance=808.181518554688
[02:06:18] [INFO] [Bullet] Distance to wall: 808.181518554688 (55.030565713159% of viewport)
[02:06:18] [INFO] [Bullet] Distance-based penetration chance: 82.4643400013145%
[02:06:18] [INFO] [Bullet] Starting wall penetration at (511.0085, 869.6993)
[02:06:18] [INFO] [Bullet] Raycast backward hit penetrating body at distance 13.8002300262451
[02:06:18] [INFO] [Bullet] Body exited signal received for penetrating body
[02:06:18] [INFO] [Bullet] Exiting penetration at (535.731, 885.0173) after traveling 24.0833358764648 pixels through wall
[02:06:18] [INFO] [Bullet] Damage multiplier after penetration: 0.225
[02:06:18] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[02:06:18] [INFO] [LastChance] Resetting all effects (scene change detected)
[02:06:18] [ENEMY] [Enemy1] Death animation component initialized
[02:06:18] [ENEMY] [Enemy2] Death animation component initialized
[02:06:18] [ENEMY] [Enemy3] Death animation component initialized
[02:06:18] [ENEMY] [Enemy4] Death animation component initialized
[02:06:18] [ENEMY] [Enemy5] Death animation component initialized
[02:06:18] [ENEMY] [Enemy6] Death animation component initialized
[02:06:18] [ENEMY] [Enemy7] Death animation component initialized
[02:06:18] [ENEMY] [Enemy8] Death animation component initialized
[02:06:18] [ENEMY] [Enemy9] Death animation component initialized
[02:06:18] [ENEMY] [Enemy10] Death animation component initialized
[02:06:18] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[02:06:18] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[02:06:18] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[02:06:18] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[02:06:18] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[02:06:18] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[02:06:18] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[02:06:18] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[02:06:18] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[02:06:18] [ENEMY] [Enemy10] Grenade system configured: offensive=2, flashbangs=0
[02:06:18] [INFO] [ScoreManager] Level started with 10 enemies
[02:06:18] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[02:06:18] [ENEMY] [Enemy1] Registered as sound listener
[02:06:18] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[02:06:18] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[02:06:18] [ENEMY] [Enemy2] Registered as sound listener
[02:06:18] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[02:06:18] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[02:06:18] [ENEMY] [Enemy3] Registered as sound listener
[02:06:18] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[02:06:18] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[02:06:18] [ENEMY] [Enemy4] Registered as sound listener
[02:06:18] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[02:06:18] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[02:06:18] [ENEMY] [Enemy5] Registered as sound listener
[02:06:18] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[02:06:18] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[02:06:18] [ENEMY] [Enemy6] Registered as sound listener
[02:06:18] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[02:06:18] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[02:06:18] [ENEMY] [Enemy7] Registered as sound listener
[02:06:18] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[02:06:18] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[02:06:18] [ENEMY] [Enemy8] Registered as sound listener
[02:06:18] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[02:06:18] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[02:06:18] [ENEMY] [Enemy9] Registered as sound listener
[02:06:18] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[02:06:18] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[02:06:18] [ENEMY] [Enemy10] Registered as sound listener
[02:06:18] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[02:06:18] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[02:06:18] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[02:06:18] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[02:06:18] [INFO] [LastChance] Found player: Player
[02:06:18] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[02:06:18] [INFO] [LastChance] Connected to player Damaged signal (C#)
[02:06:18] [INFO] [LastChance] Connected to player Died signal (C#)
[02:06:18] [INFO] [Player] Detecting weapon pose (frame 3)...
[02:06:18] [INFO] [Player] Detected weapon: Rifle (default pose)
[02:06:18] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[02:06:18] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[02:06:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 1130.444), source=PLAYER (AssaultRifle), range=1469, listeners=19
[02:06:19] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[02:06:19] [ENEMY] [Enemy3] Heard gunshot at (450, 1130.444), source_type=0, intensity=0.01, distance=455
[02:06:19] [ENEMY] [Enemy4] Heard gunshot at (450, 1130.444), source_type=0, intensity=0.01, distance=419
[02:06:19] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=4, self=0, below_threshold=4
[02:06:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1143.876, 1519.26), source=ENEMY (Enemy10), range=1469, listeners=10
[02:06:19] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:06:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 1114.889), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:06:19] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=5
[02:06:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1111.705, 1500.318), source=ENEMY (Enemy10), range=1469, listeners=10
[02:06:19] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:06:19] [ENEMY] [Enemy10] Hit taken, health: 1/2
[02:06:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1079.562, 1481.327), source=ENEMY (Enemy10), range=1469, listeners=10
[02:06:19] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:06:19] [INFO] [LastChance] Threat detected: @Area2D@6037
[02:06:19] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:06:19] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:06:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(450, 1114.889), shooter_id=6007853942800, bullet_pos=(998.99817, 1395.7437)
[02:06:19] [INFO] [Bullet] Using shooter_position, distance=616,6671
[02:06:19] [INFO] [Bullet] Distance to wall: 616,6671 (41,99% of viewport)
[02:06:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(450, 1114.889), shooter_id=6007853942800, bullet_pos=(994.7416, 1398.367)
[02:06:19] [INFO] [Bullet] Using shooter_position, distance=614,0872
[02:06:19] [INFO] [Bullet] Distance to wall: 614,0872 (41,81433% of viewport)
[02:06:19] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[02:06:19] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[02:06:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1048.935, 1463.98), source=ENEMY (Enemy10), range=1469, listeners=10
[02:06:19] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:06:19] [INFO] [LastChance] Threat detected: @Area2D@6040
[02:06:19] [INFO] [LastChance] Player health is 3.0 - effect requires exactly 1 HP or less but alive
[02:06:19] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:06:19] [ENEMY] [Enemy10] State: COMBAT -> RETREATING
[02:06:19] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[02:06:19] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[02:06:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1021.609, 1453.064), source=ENEMY (Enemy10), range=1469, listeners=10
[02:06:19] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:06:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(957.3431, 1430.694), shooter_id=6007031859492, bullet_pos=(892.7722, 1414.109)
[02:06:19] [INFO] [Bullet] Using shooter_position, distance=66.6667022705078
[02:06:19] [INFO] [Bullet] Distance to wall: 66.6667022705078 (4.53945834685471% of viewport)
[02:06:19] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[02:06:19] [INFO] [Bullet] Starting wall penetration at (892.7722, 1414.109)
[02:06:19] [INFO] [Bullet] Raycast backward hit penetrating body at distance 33.4063301086426
[02:06:19] [INFO] [Bullet] Body exited signal received for penetrating body
[02:06:19] [INFO] [Bullet] Exiting penetration at (855.6439, 1404.573) after traveling 33.3333320617676 pixels through wall
[02:06:19] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:06:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1011.004, 1451.927), source=ENEMY (Enemy10), range=1469, listeners=10
[02:06:19] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:06:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(942.9573, 1452.472), shooter_id=6007031859492, bullet_pos=(909.636, 1451.574)
[02:06:19] [INFO] [Bullet] Using shooter_position, distance=33.3333320617676
[02:06:19] [INFO] [Bullet] Distance to wall: 33.3333320617676 (2.2697278746786% of viewport)
[02:06:19] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[02:06:19] [INFO] [Bullet] Starting wall penetration at (909.636, 1451.574)
[02:06:19] [INFO] [Bullet] Raycast backward hit penetrating body at distance 16.6894092559814
[02:06:19] [INFO] [Bullet] Body exited signal received for penetrating body
[02:06:19] [INFO] [Bullet] Exiting penetration at (871.3167, 1450.541) after traveling 33.3333320617676 pixels through wall
[02:06:19] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:06:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1049.601, 1472.497), shooter_id=6007031859492, bullet_pos=(53.74005, 880.8907)
[02:06:19] [INFO] [Bullet] Using shooter_position, distance=1158.33374023438
[02:06:19] [INFO] [Bullet] Distance to wall: 1158.33374023438 (78.8730743604893% of viewport)
[02:06:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1000.398, 1450.789), source=ENEMY (Enemy10), range=1469, listeners=10
[02:06:19] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:06:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(932.3515, 1451.334), shooter_id=6007031859492, bullet_pos=(899.6496, 1444.877)
[02:06:19] [INFO] [Bullet] Using shooter_position, distance=33.3333549499512
[02:06:19] [INFO] [Bullet] Distance to wall: 33.3333549499512 (2.26972943317711% of viewport)
[02:06:19] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[02:06:19] [INFO] [Bullet] Starting wall penetration at (899.6496, 1444.877)
[02:06:19] [INFO] [Bullet] Raycast backward hit penetrating body at distance 26.4587955474854
[02:06:19] [INFO] [Bullet] Body exited signal received for penetrating body
[02:06:19] [INFO] [Bullet] Exiting penetration at (862.0424, 1437.451) after traveling 33.3333320617676 pixels through wall
[02:06:19] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:06:19] [ENEMY] [Enemy10] State: RETREATING -> IN_COVER
[02:06:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1017.213, 1454.118), shooter_id=6007031859492, bullet_pos=(66.13261, 901.4479)
[02:06:19] [INFO] [Bullet] Using shooter_position, distance=1099.99938964844
[02:06:19] [INFO] [Bullet] Distance to wall: 1099.99938964844 (74.9009811616807% of viewport)
[02:06:19] [ENEMY] [Enemy10] State: IN_COVER -> SUPPRESSED
[02:06:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1049.601, 1472.497), shooter_id=6007031859492, bullet_pos=(386.1921, 711.0273)
[02:06:20] [INFO] [Bullet] Using shooter_position, distance=1009.92431640625
[02:06:20] [INFO] [Bullet] Distance to wall: 1009.92431640625 (68.7676037911657% of viewport)
[02:06:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(985.8367, 1438.596), shooter_id=6007031859492, bullet_pos=(48.43052, 929.6276)
[02:06:20] [INFO] [Bullet] Using shooter_position, distance=1066.66723632813
[02:06:20] [INFO] [Bullet] Distance to wall: 1066.66723632813 (72.6313335496753% of viewport)
[02:06:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1017.213, 1454.118), shooter_id=6007031859492, bullet_pos=(481.5779, 707.8644)
[02:06:20] [INFO] [Bullet] Using shooter_position, distance=918.585571289063
[02:06:20] [INFO] [Bullet] Distance to wall: 918.585571289063 (62.5481806789942% of viewport)
[02:06:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1049.601, 1472.497), shooter_id=6007031859492, bullet_pos=(681.7615, 828.5673)
[02:06:20] [INFO] [Bullet] Using shooter_position, distance=741.586791992188
[02:06:20] [INFO] [Bullet] Distance to wall: 741.586791992188 (50.4960083246142% of viewport)
[02:06:20] [INFO] [Bullet] Distance-based penetration chance: 87.7546569546167%
[02:06:20] [INFO] [Bullet] Starting wall penetration at (681.7615, 828.5673)
[02:06:20] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[02:06:20] [INFO] [Bullet] Exiting penetration at (708.7864, 839.3144) after traveling 24.0833339691162 pixels through wall
[02:06:20] [INFO] [Bullet] Damage multiplier after penetration: 0.225
[02:06:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(985.8367, 1438.596), shooter_id=6007031859492, bullet_pos=(342.7188, 699.9055)
[02:06:20] [INFO] [Bullet] Using shooter_position, distance=979.420349121094
[02:06:20] [INFO] [Bullet] Distance to wall: 979.420349121094 (66.6905325668696% of viewport)
[02:06:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(985.8367, 1438.596), shooter_id=6007031859492, bullet_pos=(502.4945, 816.2833)
[02:06:20] [INFO] [Bullet] Using shooter_position, distance=787.967468261719
[02:06:20] [INFO] [Bullet] Distance to wall: 787.967468261719 (53.6541538583499% of viewport)
[02:06:20] [ENEMY] [Enemy3] State: PURSUING -> RETREATING
[02:06:20] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[02:06:20] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[02:06:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1017.213, 1454.118), shooter_id=6007031859492, bullet_pos=(928.2029, 828.3211)
[02:06:20] [INFO] [Bullet] Using shooter_position, distance=632.09521484375
[02:06:20] [INFO] [Bullet] Distance to wall: 632.09521484375 (43.0405254993202% of viewport)
[02:06:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1017.213, 1454.118), shooter_id=6007031859492, bullet_pos=(761.5543, 854.975)
[02:06:20] [INFO] [Bullet] Using shooter_position, distance=651.408996582031
[02:06:20] [INFO] [Bullet] Distance to wall: 651.408996582031 (44.3556364127928% of viewport)
[02:06:21] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(204.616, 1377.934), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:06:21] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=5
[02:06:21] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(144.3237, 1408.229), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:06:21] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=5
[02:06:21] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(204.61598, 1377.9338), shooter_id=6007853942800, bullet_pos=(395.14697, 713.0271)
[02:06:21] [INFO] [Bullet] Using shooter_position, distance=691,6669
[02:06:21] [INFO] [Bullet] Distance to wall: 691,6669 (47,09687% of viewport)
[02:06:21] [INFO] [Bullet] Distance-based penetration chance: 91,72032%
[02:06:21] [INFO] [Bullet] Starting wall penetration at (395.14697, 713.0271)
[02:06:21] [INFO] [Bullet] Raycast backward hit penetrating body at distance 12,299023
[02:06:21] [INFO] [Bullet] Body exited signal received for penetrating body
[02:06:21] [INFO] [Bullet] Exiting penetration at (405.7065, 676.1768) after traveling 33,333336 pixels through wall
[02:06:21] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[02:06:21] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(100.766, 1451.788), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:06:21] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=5
[02:06:22] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(144.32375, 1408.2291), shooter_id=6007853942800, bullet_pos=(494.07443, 698.01074)
[02:06:22] [INFO] [Bullet] Using shooter_position, distance=791,6664
[02:06:22] [INFO] [Bullet] Distance to wall: 791,6664 (53,906025% of viewport)
[02:06:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(80.06496, 1501.569), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:06:22] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=5
[02:06:22] [ENEMY] [Enemy4] Hit taken, health: 3/4
[02:06:22] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(100.76601, 1451.7877), shooter_id=6007853942800, bullet_pos=(502.79767, 808.7947)
[02:06:22] [INFO] [Bullet] Using shooter_position, distance=758,3334
[02:06:22] [INFO] [Bullet] Distance to wall: 758,3334 (51,636314% of viewport)
[02:06:22] [INFO] [Bullet] Distance-based penetration chance: 86,4243%
[02:06:22] [INFO] [Bullet] Starting wall penetration at (502.79767, 808.7947)
[02:06:22] [INFO] [Bullet] Raycast backward hit penetrating body at distance 27,961039
[02:06:22] [INFO] [Bullet] Body exited signal received for penetrating body
[02:06:22] [INFO] [Bullet] Exiting penetration at (523.1201, 776.29175) after traveling 33,333336 pixels through wall
[02:06:22] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[02:06:22] [ENEMY] [Enemy4] State: PURSUING -> RETREATING
[02:06:22] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[02:06:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(80.06496, 1551.35), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:06:22] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=5
[02:06:22] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[02:06:22] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(80.064964, 1501.5688), shooter_id=6007853942800, bullet_pos=(508.45563, 875.82776)
[02:06:22] [INFO] [Bullet] Using shooter_position, distance=758,334
[02:06:22] [INFO] [Bullet] Distance to wall: 758,334 (51,636356% of viewport)
[02:06:22] [ENEMY] [Enemy10] State: SUPPRESSED -> IN_COVER
[02:06:22] [ENEMY] [Enemy10] State: IN_COVER -> PURSUING
[02:06:22] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(80.064964, 1501.5688), shooter_id=6007853942800, bullet_pos=(395.8167, 706.54425)
[02:06:22] [INFO] [Bullet] Using shooter_position, distance=855,43164
[02:06:22] [INFO] [Bullet] Distance to wall: 855,43164 (58,247917% of viewport)
[02:06:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(80.06496, 1601.131), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:06:22] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=5
[02:06:22] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(80.064964, 1551.3501), shooter_id=6007853942800, bullet_pos=(496.3771, 877.9856)
[02:06:22] [INFO] [Bullet] Using shooter_position, distance=791,6663
[02:06:22] [INFO] [Bullet] Distance to wall: 791,6663 (53,906017% of viewport)
[02:06:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(80.06496, 1641.792), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:06:22] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=5
[02:06:22] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(80.064964, 1551.3501), shooter_id=6007853942800, bullet_pos=(397.3846, 700.3767)
[02:06:22] [INFO] [Bullet] Using shooter_position, distance=908,2111
[02:06:22] [INFO] [Bullet] Distance to wall: 908,2111 (61,841766% of viewport)
[02:06:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(80.064964, 1601.1313), shooter_id=6007853942800, bullet_pos=(475.46155, 691.7008)
[02:06:23] [INFO] [Bullet] Using shooter_position, distance=991,66644
[02:06:23] [INFO] [Bullet] Distance to wall: 991,66644 (67,52439% of viewport)
[02:06:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(80.064964, 1601.1313), shooter_id=6007853942800, bullet_pos=(525.4664, 798.94946)
[02:06:23] [INFO] [Bullet] Using shooter_position, distance=917,5392
[02:06:23] [INFO] [Bullet] Distance to wall: 917,5392 (62,476933% of viewport)
[02:06:23] [INFO] [Bullet] Distance-based penetration chance: 73,77692%
[02:06:23] [INFO] [Bullet] Starting wall penetration at (525.4664, 798.94946)
[02:06:23] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[02:06:23] [INFO] [Bullet] Exiting penetration at (539.5522, 829.16034) after traveling 28,333332 pixels through wall
[02:06:23] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[02:06:23] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[02:06:23] [ENEMY] [Enemy1] Player reloading state changed: false -> true
[02:06:23] [ENEMY] [Enemy2] Player reloading state changed: false -> true
[02:06:23] [ENEMY] [Enemy3] Player reloading state changed: false -> true
[02:06:23] [ENEMY] [Enemy4] Player reloading state changed: false -> true
[02:06:23] [ENEMY] [Enemy5] Player reloading state changed: false -> true
[02:06:23] [ENEMY] [Enemy6] Player reloading state changed: false -> true
[02:06:23] [ENEMY] [Enemy7] Player reloading state changed: false -> true
[02:06:23] [ENEMY] [Enemy8] Player reloading state changed: false -> true
[02:06:23] [ENEMY] [Enemy9] Player reloading state changed: false -> true
[02:06:23] [ENEMY] [Enemy10] Player reloading state changed: false -> true
[02:06:23] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(80.06496, 1748.015), source=PLAYER (Player), range=900, listeners=10
[02:06:23] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=10, self=0, below_threshold=0
[02:06:23] [ENEMY] [Enemy1] Player vulnerable (reloading) but cannot attack: close=false (dist=1415), can_see=false
[02:06:23] [ENEMY] [Enemy2] Player vulnerable (reloading) but cannot attack: close=false (dist=1240), can_see=false
[02:06:23] [ENEMY] [Enemy3] Player vulnerable (reloading) but cannot attack: close=false (dist=1014), can_see=false
[02:06:23] [ENEMY] [Enemy4] Player vulnerable (reloading) but cannot attack: close=false (dist=912), can_see=false
[02:06:23] [ENEMY] [Enemy5] Player vulnerable (reloading) but cannot attack: close=false (dist=2140), can_see=false
[02:06:23] [ENEMY] [Enemy6] Player vulnerable (reloading) but cannot attack: close=false (dist=2276), can_see=false
[02:06:23] [ENEMY] [Enemy7] Player vulnerable (reloading) but cannot attack: close=false (dist=1751), can_see=false
[02:06:23] [ENEMY] [Enemy8] Player vulnerable (reloading) but cannot attack: close=false (dist=1844), can_see=false
[02:06:23] [ENEMY] [Enemy9] Player vulnerable (reloading) but cannot attack: close=false (dist=2030), can_see=false
[02:06:23] [ENEMY] [Enemy10] Player vulnerable (reloading) but cannot attack: close=false (dist=943), can_see=false
[02:06:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(80.064964, 1641.7919), shooter_id=6007853942800, bullet_pos=(325.96805, 715.5449)
[02:06:23] [INFO] [Bullet] Using shooter_position, distance=958,3328
[02:06:23] [INFO] [Bullet] Distance to wall: 958,3328 (65,25465% of viewport)
[02:06:23] [INFO] [Bullet] Distance-based penetration chance: 70,53625%
[02:06:23] [INFO] [Bullet] Starting wall penetration at (325.96805, 715.5449)
[02:06:23] [INFO] [Bullet] Raycast backward hit penetrating body at distance 9,834203
[02:06:23] [INFO] [Bullet] Body exited signal received for penetrating body
[02:06:23] [INFO] [Bullet] Exiting penetration at (335.80417, 678.49506) after traveling 33,333332 pixels through wall
[02:06:23] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[02:06:23] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[02:06:23] [INFO] [Player.Reload.Anim] Phase changed to: PullBolt (duration: 0,35s)
[02:06:23] [ENEMY] [Enemy1] Player reloading state changed: true -> false
[02:06:23] [ENEMY] [Enemy2] Player reloading state changed: true -> false
[02:06:23] [ENEMY] [Enemy3] Player reloading state changed: true -> false
[02:06:23] [ENEMY] [Enemy4] Player reloading state changed: true -> false
[02:06:23] [ENEMY] [Enemy5] Player reloading state changed: true -> false
[02:06:23] [ENEMY] [Enemy6] Player reloading state changed: true -> false
[02:06:23] [ENEMY] [Enemy7] Player reloading state changed: true -> false
[02:06:23] [ENEMY] [Enemy8] Player reloading state changed: true -> false
[02:06:23] [ENEMY] [Enemy9] Player reloading state changed: true -> false
[02:06:23] [ENEMY] [Enemy10] Player reloading state changed: true -> false
[02:06:23] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[02:06:24] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[02:06:24] [ENEMY] [Enemy10] FLANKING started: target=(283.3839, 2050.977), side=right, pos=(973.7279, 1445.608)
[02:06:24] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[02:06:24] [ENEMY] [Enemy10] State: FLANKING -> COMBAT
[02:06:25] [ENEMY] [Enemy4] State: SUPPRESSED -> IN_COVER
[02:06:25] [ENEMY] [Enemy4] State: IN_COVER -> PURSUING
[02:06:25] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[02:06:25] [ENEMY] [Enemy3] State: SUPPRESSED -> IN_COVER
[02:06:25] [ENEMY] [Enemy3] State: IN_COVER -> PURSUING
[02:06:26] [ENEMY] [Enemy4] FLANKING started: target=(63.64511, 1642.274), side=left, pos=(564.6591, 975.9337)
[02:06:26] [ENEMY] [Enemy4] State: PURSUING -> FLANKING
[02:06:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(194.3332, 1816.343), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:06:31] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=6, self=0, below_threshold=2
[02:06:31] [ENEMY] [Enemy4] State: FLANKING -> COMBAT
[02:06:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(207.0059, 1830.956), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:06:31] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=6, self=0, below_threshold=2
[02:06:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(204.7008, 1842.096), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:06:31] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=6, self=0, below_threshold=2
[02:06:31] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[02:06:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(194.33324, 1816.3431), shooter_id=6007853942800, bullet_pos=(911.7669, 1426.1711)
[02:06:31] [INFO] [Bullet] Using shooter_position, distance=816,6672
[02:06:31] [INFO] [Bullet] Distance to wall: 816,6672 (55,608376% of viewport)
[02:06:31] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[02:06:31] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[02:06:31] [ENEMY] [Enemy10] State: PURSUING -> RETREATING
[02:06:31] [ENEMY] [Enemy10] State: RETREATING -> IN_COVER
[02:06:31] [ENEMY] [Enemy10] Grenade trigger: critical health (1 HP)
[02:06:31] [ENEMY] [Enemy10] Preparing to throw frag grenade at (187.284, 1818.116)
[02:06:31] [ENEMY] [Enemy10] State: IN_COVER -> THROWING_GRENADE
[02:06:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(207.0059, 1830.9556), shooter_id=6007853942800, bullet_pos=(1349.7668, 1022.1931)
[02:06:31] [INFO] [Bullet] Using shooter_position, distance=1399,9998
[02:06:31] [INFO] [Bullet] Distance to wall: 1399,9998 (95,32856% of viewport)
[02:06:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(207.0059, 1830.9556), shooter_id=6007853942800, bullet_pos=(1353.309, 1025.722)
[02:06:31] [INFO] [Bullet] Using shooter_position, distance=1400,8611
[02:06:31] [INFO] [Bullet] Distance to wall: 1400,8611 (95,38721% of viewport)
[02:06:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(204.70078, 1842.0963), shooter_id=6007853942800, bullet_pos=(1329.8082, 1008.9499)
[02:06:31] [INFO] [Bullet] Using shooter_position, distance=1399,9999
[02:06:31] [INFO] [Bullet] Distance to wall: 1399,9999 (95,32857% of viewport)
[02:06:31] [INFO] [Bullet] Distance-based penetration chance: 35,450005%
[02:06:31] [INFO] [Bullet] Starting wall penetration at (1329.8082, 1008.9499)
[02:06:31] [INFO] [Bullet] Raycast backward hit penetrating body at distance 31,627506
[02:06:31] [INFO] [Bullet] Body exited signal received for penetrating body
[02:06:31] [INFO] [Bullet] Exiting penetration at (1367.3118, 981.1783) after traveling 41,666668 pixels through wall
[02:06:31] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[02:06:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(204.70078, 1842.0963), shooter_id=6007853942800, bullet_pos=(1367.3118, 981.1783)
[02:06:31] [INFO] [Bullet] Using shooter_position, distance=1446,6665
[02:06:31] [INFO] [Bullet] Distance to wall: 1446,6665 (98,50618% of viewport)
[02:06:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(207.0059, 1830.9556), shooter_id=6007853942800, bullet_pos=(1677.5336, 797.7423)
[02:06:32] [INFO] [Bullet] Using shooter_position, distance=1797,215
[02:06:32] [INFO] [Bullet] Distance to wall: 1797,215 (122,37568% of viewport)
[02:06:32] [ENEMY] [Enemy10] Threw frag grenade: target=(187.284, 1818.116), deviation=4.6°, distance=358
[02:06:32] [INFO] [GrenadeBase] Grenade created at (411.3984, 1578.785) (frozen)
[02:06:32] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[02:06:32] [INFO] [GrenadeBase] LEGACY throw_grenade() called! Direction: (-0.744227, 0.667927), Speed: 357.8 (unfrozen)
[02:06:32] [INFO] [GrenadeBase] NOTE: Using DRAG-BASED system. If velocity-based is expected, ensure grenade has throw_grenade_velocity_based() method.
[02:06:32] [INFO] [FragGrenade] Grenade thrown (legacy) - impact detection enabled
[02:06:32] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[02:06:32] [ENEMY] [Enemy10] State: THROWING_GRENADE -> SEEKING_COVER
[02:06:32] [INFO] [GrenadeBase] Collision detected with Enemy10 (type: CharacterBody2D)
[02:06:32] [INFO] [FragGrenade] Impact detected! Body: Enemy10 (type: CharacterBody2D), triggering explosion
[02:06:32] [INFO] [FragGrenade] Impact detected - exploding immediately!
[02:06:32] [INFO] [GrenadeBase] EXPLODED at (406.0299, 1583.603)!
[02:06:32] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(406.0299, 1583.603), source=NEUTRAL (FragGrenade), range=2937, listeners=10
[02:06:32] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=8
[02:06:32] [ENEMY] [Enemy10] Hit taken, health: 0/2
[02:06:32] [ENEMY] [Enemy10] Enemy died (ricochet: false, penetration: false)
[02:06:32] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[02:06:32] [INFO] [SoundPropagation] Unregistered listener: Enemy10 (remaining: 9)
[02:06:32] [INFO] [DeathAnim] Started - Angle: -41.9 deg, Index: 9
[02:06:32] [ENEMY] [Enemy10] Death animation started with hit direction: (0.744227, -0.667927)
[02:06:32] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 37.2
[02:06:32] [INFO] [FragGrenade] Spawned shrapnel #1 at angle 18.9 degrees
[02:06:32] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 80.7 degrees
[02:06:32] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 161.1 degrees
[02:06:32] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 280.6 degrees
[02:06:32] [INFO] [GrenadeBase] Collision detected with StorageRoom_WallTop (type: StaticBody2D)
[02:06:32] [ENEMY] [Enemy3] State: PURSUING -> RETREATING
[02:06:32] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[02:06:32] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[02:06:32] [ENEMY] [Enemy10] Ragdoll activated
[02:06:32] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[02:06:33] [ENEMY] [Enemy10] Death animation completed
[02:06:34] [ENEMY] [Enemy4] State: SUPPRESSED -> IN_COVER
[02:06:34] [ENEMY] [Enemy4] State: IN_COVER -> PURSUING
[02:06:35] [INFO] [ScoreManager] Combo ended at 1. Max combo: 1
[02:06:35] [ENEMY] [Enemy3] State: SUPPRESSED -> IN_COVER
[02:06:35] [ENEMY] [Enemy3] State: IN_COVER -> PURSUING
[02:06:36] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[02:06:36] [INFO] [LastChance] Resetting all effects (scene change detected)
[02:06:36] [ENEMY] [Enemy1] Death animation component initialized
[02:06:36] [ENEMY] [Enemy2] Death animation component initialized
[02:06:36] [ENEMY] [Enemy3] Death animation component initialized
[02:06:36] [ENEMY] [Enemy4] Death animation component initialized
[02:06:36] [ENEMY] [Enemy5] Death animation component initialized
[02:06:36] [ENEMY] [Enemy6] Death animation component initialized
[02:06:36] [ENEMY] [Enemy7] Death animation component initialized
[02:06:36] [ENEMY] [Enemy8] Death animation component initialized
[02:06:36] [ENEMY] [Enemy9] Death animation component initialized
[02:06:36] [ENEMY] [Enemy10] Death animation component initialized
[02:06:36] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[02:06:36] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[02:06:36] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[02:06:36] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[02:06:36] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[02:06:36] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[02:06:36] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[02:06:36] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[02:06:36] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[02:06:36] [ENEMY] [Enemy10] Grenade system configured: offensive=2, flashbangs=0
[02:06:36] [INFO] [ScoreManager] Level started with 10 enemies
[02:06:36] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[02:06:36] [ENEMY] [Enemy1] Registered as sound listener
[02:06:36] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[02:06:36] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[02:06:36] [ENEMY] [Enemy2] Registered as sound listener
[02:06:36] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[02:06:36] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[02:06:36] [ENEMY] [Enemy3] Registered as sound listener
[02:06:36] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[02:06:36] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[02:06:36] [ENEMY] [Enemy4] Registered as sound listener
[02:06:36] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[02:06:36] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[02:06:36] [ENEMY] [Enemy5] Registered as sound listener
[02:06:36] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[02:06:36] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[02:06:36] [ENEMY] [Enemy6] Registered as sound listener
[02:06:36] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[02:06:36] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[02:06:36] [ENEMY] [Enemy7] Registered as sound listener
[02:06:36] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[02:06:36] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[02:06:36] [ENEMY] [Enemy8] Registered as sound listener
[02:06:36] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[02:06:36] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[02:06:36] [ENEMY] [Enemy9] Registered as sound listener
[02:06:36] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[02:06:36] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[02:06:36] [ENEMY] [Enemy10] Registered as sound listener
[02:06:36] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[02:06:36] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[02:06:36] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[02:06:36] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[02:06:36] [INFO] [LastChance] Found player: Player
[02:06:36] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[02:06:36] [INFO] [LastChance] Connected to player Damaged signal (C#)
[02:06:36] [INFO] [LastChance] Connected to player Died signal (C#)
[02:06:36] [INFO] [Player] Detecting weapon pose (frame 3)...
[02:06:36] [INFO] [Player] Detected weapon: Rifle (default pose)
[02:06:36] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[02:06:39] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[02:06:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(824.0807, 1327.438), source=PLAYER (AssaultRifle), range=1469, listeners=19
[02:06:39] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[02:06:39] [ENEMY] [Enemy4] Heard gunshot at (824.0807, 1327.438), source_type=0, intensity=0.01, distance=428
[02:06:39] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=8
[02:06:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1132.575, 1555.725), source=ENEMY (Enemy10), range=1469, listeners=10
[02:06:39] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:06:39] [ENEMY] [Enemy10] Hit taken, health: 2/3
[02:06:39] [INFO] [LastChance] Threat detected: @Area2D@6371
[02:06:39] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:06:39] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:06:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(810.0394, 957.8021), source=ENEMY (Enemy4), range=1469, listeners=10
[02:06:39] [ENEMY] [Enemy3] Heard gunshot at (810.0394, 957.8021), source_type=1, intensity=0.05, distance=235
[02:06:39] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=8
[02:06:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(804.4637, 1025.622), shooter_id=7073391709678, bullet_pos=(804.4637, 1025.622)
[02:06:39] [INFO] [Bullet] Using shooter_position, distance=0
[02:06:39] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[02:06:39] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[02:06:39] [INFO] [Bullet] Starting wall penetration at (804.4637, 1025.622)
[02:06:39] [INFO] [Bullet] Raycast backward hit penetrating body at distance 39.9871559143066
[02:06:39] [INFO] [Bullet] Body exited signal received for penetrating body
[02:06:39] [INFO] [Bullet] Exiting penetration at (796.9644, 1063.214) after traveling 33.3333320617676 pixels through wall
[02:06:39] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:06:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1105.985, 1531.076), source=ENEMY (Enemy10), range=1469, listeners=10
[02:06:39] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:06:39] [INFO] [LastChance] Threat detected: Bullet
[02:06:39] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:06:39] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:06:39] [ENEMY] [Enemy10] State: COMBAT -> RETREATING
[02:06:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1086.461, 1500.842), source=ENEMY (Enemy10), range=1469, listeners=10
[02:06:39] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:06:39] [ENEMY] [Enemy10] State: RETREATING -> IN_COVER
[02:06:39] [ENEMY] [Enemy10] State: IN_COVER -> SUPPRESSED
[02:06:39] [ENEMY] [Enemy10] Grenade trigger: suppressed and player visible (being chased)
[02:06:39] [ENEMY] [Enemy10] Preparing to throw frag grenade at (952.9097, 1350.512)
[02:06:39] [ENEMY] [Enemy10] State: SUPPRESSED -> THROWING_GRENADE
[02:06:39] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[02:06:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1052.905, 1488.382), shooter_id=7075102984901, bullet_pos=(584.6861, 1013.814)
[02:06:39] [INFO] [Bullet] Using shooter_position, distance=666.666076660156
[02:06:39] [INFO] [Bullet] Distance to wall: 666.666076660156 (45.3945190506087% of viewport)
[02:06:39] [INFO] [Bullet] Distance-based penetration chance: 93.7063944409565%
[02:06:39] [INFO] [Bullet] Starting wall penetration at (584.6861, 1013.814)
[02:06:39] [INFO] [Bullet] Raycast backward hit penetrating body at distance 18.9281387329102
[02:06:39] [INFO] [Bullet] Body exited signal received for penetrating body
[02:06:39] [INFO] [Bullet] Exiting penetration at (557.7635, 986.5259) after traveling 33.3333358764648 pixels through wall
[02:06:39] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:06:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1076.347, 1517.26), shooter_id=7075102984901, bullet_pos=(138.5354, 703.4761)
[02:06:39] [INFO] [Bullet] Using shooter_position, distance=1241.66674804688
[02:06:39] [INFO] [Bullet] Distance to wall: 1241.66674804688 (84.5473720983318% of viewport)
[02:06:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1076.347, 1517.26), shooter_id=7075102984901, bullet_pos=(56.76338, 789.0104)
[02:06:40] [INFO] [Bullet] Using shooter_position, distance=1252.95642089844
[02:06:40] [INFO] [Bullet] Distance to wall: 1252.95642089844 (85.3161066826725% of viewport)
[02:06:40] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[02:06:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1035.396, 1455.865), shooter_id=7075102984901, bullet_pos=(64.17153, 809.4628)
[02:06:40] [INFO] [Bullet] Using shooter_position, distance=1166.66711425781
[02:06:40] [INFO] [Bullet] Distance to wall: 1166.66711425781 (79.4405091214688% of viewport)
[02:06:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1035.396, 1455.865), shooter_id=7075102984901, bullet_pos=(203.7743, 703.9354)
[02:06:40] [INFO] [Bullet] Using shooter_position, distance=1121.15661621094
[02:06:40] [INFO] [Bullet] Distance to wall: 1121.15661621094 (76.3416156230305% of viewport)
[02:06:40] [INFO] [Bullet] Distance-based penetration chance: 57.6014484397978%
[02:06:40] [INFO] [Bullet] Starting wall penetration at (203.7743, 703.9354)
[02:06:40] [ENEMY] [Enemy10] Threw frag grenade: target=(952.9097, 1350.512), deviation=4.2°, distance=197
[02:06:40] [INFO] [GrenadeBase] Grenade created at (1068.367, 1471.099) (frozen)
[02:06:40] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[02:06:40] [INFO] [GrenadeBase] LEGACY throw_grenade() called! Direction: (-0.626544, -0.779386), Speed: 196.9 (unfrozen)
[02:06:40] [INFO] [GrenadeBase] NOTE: Using DRAG-BASED system. If velocity-based is expected, ensure grenade has throw_grenade_velocity_based() method.
[02:06:40] [INFO] [FragGrenade] Grenade thrown (legacy) - impact detection enabled
[02:06:40] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[02:06:40] [ENEMY] [Enemy10] State: THROWING_GRENADE -> SEEKING_COVER
[02:06:40] [INFO] [Bullet] Raycast backward hit penetrating body at distance 6.90712928771973
[02:06:40] [INFO] [GrenadeBase] Collision detected with Enemy10 (type: CharacterBody2D)
[02:06:40] [INFO] [FragGrenade] Impact detected! Body: Enemy10 (type: CharacterBody2D), triggering explosion
[02:06:40] [INFO] [FragGrenade] Impact detected - exploding immediately!
[02:06:40] [INFO] [GrenadeBase] EXPLODED at (1065.895, 1468.024)!
[02:06:40] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1065.895, 1468.024), source=NEUTRAL (FragGrenade), range=2937, listeners=10
[02:06:40] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=9
[02:06:40] [ENEMY] [Enemy10] Hit taken, health: 1/3
[02:06:40] [ENEMY] [Enemy10] Hit taken, health: 0/3
[02:06:40] [ENEMY] [Enemy10] Enemy died (ricochet: false, penetration: false)
[02:06:40] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[02:06:40] [INFO] [SoundPropagation] Unregistered listener: Enemy10 (remaining: 9)
[02:06:40] [INFO] [DeathAnim] Started - Angle: 51.2 deg, Index: 15
[02:06:40] [ENEMY] [Enemy10] Death animation started with hit direction: (0.626543, 0.779387)
[02:06:40] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 33.9
[02:06:40] [INFO] [FragGrenade] Player found in blast radius at distance 104.3
[02:06:40] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[02:06:40] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[02:06:40] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[02:06:40] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[02:06:40] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[02:06:40] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[02:06:40] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[02:06:40] [INFO] [PenultimateHit] Player died - ending penultimate effect
[02:06:40] [INFO] [LastChance] Player died
[02:06:40] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 104.3
[02:06:40] [INFO] [FragGrenade] Spawned shrapnel #1 at angle -9.2 degrees
[02:06:40] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 106.2 degrees
[02:06:40] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 162.7 degrees
[02:06:40] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 277.0 degrees
[02:06:40] [INFO] [Bullet] Body exited signal received for penetrating body
[02:06:40] [INFO] [Bullet] Exiting penetration at (230.3653, 683.8349) after traveling 28.3333320617676 pixels through wall
[02:06:40] [INFO] [Bullet] Damage multiplier after penetration: 0.45
[02:06:40] [ENEMY] [Enemy10] Ragdoll activated
[02:06:40] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[02:06:41] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[02:06:41] [INFO] [LastChance] Resetting all effects (scene change detected)
[02:06:41] [ENEMY] [Enemy1] Death animation component initialized
[02:06:41] [ENEMY] [Enemy2] Death animation component initialized
[02:06:41] [ENEMY] [Enemy3] Death animation component initialized
[02:06:41] [ENEMY] [Enemy4] Death animation component initialized
[02:06:41] [ENEMY] [Enemy5] Death animation component initialized
[02:06:41] [ENEMY] [Enemy6] Death animation component initialized
[02:06:41] [ENEMY] [Enemy7] Death animation component initialized
[02:06:41] [ENEMY] [Enemy8] Death animation component initialized
[02:06:41] [ENEMY] [Enemy9] Death animation component initialized
[02:06:41] [ENEMY] [Enemy10] Death animation component initialized
[02:06:41] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[02:06:41] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[02:06:41] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[02:06:41] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[02:06:41] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[02:06:41] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[02:06:41] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[02:06:41] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[02:06:41] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[02:06:41] [ENEMY] [Enemy10] Grenade system configured: offensive=2, flashbangs=0
[02:06:41] [INFO] [ScoreManager] Level started with 10 enemies
[02:06:41] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[02:06:41] [ENEMY] [Enemy1] Registered as sound listener
[02:06:41] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[02:06:41] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[02:06:41] [ENEMY] [Enemy2] Registered as sound listener
[02:06:41] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[02:06:41] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[02:06:41] [ENEMY] [Enemy3] Registered as sound listener
[02:06:41] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[02:06:41] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[02:06:41] [ENEMY] [Enemy4] Registered as sound listener
[02:06:41] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[02:06:41] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[02:06:41] [ENEMY] [Enemy5] Registered as sound listener
[02:06:41] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[02:06:41] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[02:06:41] [ENEMY] [Enemy6] Registered as sound listener
[02:06:41] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[02:06:41] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[02:06:41] [ENEMY] [Enemy7] Registered as sound listener
[02:06:41] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[02:06:41] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[02:06:41] [ENEMY] [Enemy8] Registered as sound listener
[02:06:41] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[02:06:41] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[02:06:41] [ENEMY] [Enemy9] Registered as sound listener
[02:06:41] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[02:06:41] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[02:06:41] [ENEMY] [Enemy10] Registered as sound listener
[02:06:41] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[02:06:41] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[02:06:41] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[02:06:41] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[02:06:41] [INFO] [LastChance] Found player: Player
[02:06:41] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[02:06:41] [INFO] [LastChance] Connected to player Damaged signal (C#)
[02:06:41] [INFO] [LastChance] Connected to player Died signal (C#)
[02:06:41] [INFO] [Player] Detecting weapon pose (frame 3)...
[02:06:41] [INFO] [Player] Detected weapon: Rifle (default pose)
[02:06:41] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[02:06:41] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[02:06:41] [INFO] [LastChance] Resetting all effects (scene change detected)
[02:06:41] [ENEMY] [Enemy1] Death animation component initialized
[02:06:41] [ENEMY] [Enemy2] Death animation component initialized
[02:06:41] [ENEMY] [Enemy3] Death animation component initialized
[02:06:41] [ENEMY] [Enemy4] Death animation component initialized
[02:06:41] [ENEMY] [Enemy5] Death animation component initialized
[02:06:41] [ENEMY] [Enemy6] Death animation component initialized
[02:06:41] [ENEMY] [Enemy7] Death animation component initialized
[02:06:41] [ENEMY] [Enemy8] Death animation component initialized
[02:06:41] [ENEMY] [Enemy9] Death animation component initialized
[02:06:41] [ENEMY] [Enemy10] Death animation component initialized
[02:06:41] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[02:06:41] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[02:06:41] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[02:06:41] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[02:06:41] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[02:06:41] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[02:06:41] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[02:06:41] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[02:06:41] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[02:06:41] [ENEMY] [Enemy10] Grenade system configured: offensive=2, flashbangs=0
[02:06:41] [INFO] [ScoreManager] Level started with 10 enemies
[02:06:41] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 20)
[02:06:41] [ENEMY] [Enemy1] Registered as sound listener
[02:06:41] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[02:06:41] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 21)
[02:06:41] [ENEMY] [Enemy2] Registered as sound listener
[02:06:41] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[02:06:41] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 22)
[02:06:41] [ENEMY] [Enemy3] Registered as sound listener
[02:06:41] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[02:06:41] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 23)
[02:06:41] [ENEMY] [Enemy4] Registered as sound listener
[02:06:41] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[02:06:41] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 24)
[02:06:41] [ENEMY] [Enemy5] Registered as sound listener
[02:06:41] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[02:06:41] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 25)
[02:06:41] [ENEMY] [Enemy6] Registered as sound listener
[02:06:41] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[02:06:41] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 26)
[02:06:41] [ENEMY] [Enemy7] Registered as sound listener
[02:06:41] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[02:06:41] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 27)
[02:06:41] [ENEMY] [Enemy8] Registered as sound listener
[02:06:41] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[02:06:41] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 28)
[02:06:41] [ENEMY] [Enemy9] Registered as sound listener
[02:06:41] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[02:06:41] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 29)
[02:06:41] [ENEMY] [Enemy10] Registered as sound listener
[02:06:41] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[02:06:41] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[02:06:41] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[02:06:41] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[02:06:41] [INFO] [LastChance] Found player: Player
[02:06:41] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[02:06:41] [INFO] [LastChance] Connected to player Damaged signal (C#)
[02:06:41] [INFO] [LastChance] Connected to player Died signal (C#)
[02:06:41] [INFO] [Player] Detecting weapon pose (frame 3)...
[02:06:41] [INFO] [Player] Detected weapon: Rifle (default pose)
[02:06:41] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[02:06:41] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[02:06:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1144.095, 1518.869), source=ENEMY (Enemy10), range=1469, listeners=29
[02:06:41] [INFO] [SoundPropagation] Cleaned up 19 invalid listeners
[02:06:41] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:06:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1112.343, 1499.236), source=ENEMY (Enemy10), range=1469, listeners=10
[02:06:42] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:06:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1081.238, 1478.592), source=ENEMY (Enemy10), range=1469, listeners=10
[02:06:42] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:06:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1050.94, 1456.784), source=ENEMY (Enemy10), range=1469, listeners=10
[02:06:42] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:06:42] [INFO] [LastChance] Threat detected: @Area2D@6905
[02:06:42] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:06:42] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:06:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1021.541, 1433.776), source=ENEMY (Enemy10), range=1469, listeners=10
[02:06:42] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:06:42] [INFO] [LastChance] Threat detected: @Area2D@6906
[02:06:42] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:06:42] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:06:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1082.106, 1490.715), shooter_id=7349846673527, bullet_pos=(46.41494, 868.2908)
[02:06:42] [INFO] [Bullet] Using shooter_position, distance=1208.33312988281
[02:06:42] [INFO] [Bullet] Distance to wall: 1208.33312988281 (82.2776247424219% of viewport)
[02:06:42] [INFO] [LastChance] Threat detected: @Area2D@6907
[02:06:42] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:06:42] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:06:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(987.5532, 1424.065), source=ENEMY (Enemy10), range=1469, listeners=10
[02:06:42] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:06:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1051.231, 1469.223), shooter_id=7349846673527, bullet_pos=(34.80064, 815.8167)
[02:06:42] [INFO] [Bullet] Using shooter_position, distance=1208.33361816406
[02:06:42] [INFO] [Bullet] Distance to wall: 1208.33361816406 (82.2776579903901% of viewport)
[02:06:42] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[02:06:42] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[02:06:42] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[02:06:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1082.106, 1490.715), shooter_id=7349846673527, bullet_pos=(283.7047, 704.4933)
[02:06:42] [INFO] [Bullet] Using shooter_position, distance=1120.53112792969
[02:06:42] [INFO] [Bullet] Distance to wall: 1120.53112792969 (76.2990249757886% of viewport)
[02:06:42] [INFO] [Bullet] Distance-based penetration chance: 57.6511375282466%
[02:06:42] [INFO] [Bullet] Starting wall penetration at (283.7047, 704.4933)
[02:06:42] [INFO] [Bullet] Raycast backward hit penetrating body at distance 11.3832874298096
[02:06:42] [INFO] [Bullet] Body exited signal received for penetrating body
[02:06:42] [INFO] [Bullet] Exiting penetration at (316.9665, 681.5333) after traveling 35.4166679382324 pixels through wall
[02:06:42] [INFO] [Bullet] Damage multiplier after penetration: 0.45
[02:06:42] [INFO] [LastChance] Threat detected: @Area2D@6908
[02:06:42] [INFO] [LastChance] Triggering last chance effect!
[02:06:42] [INFO] [LastChance] Starting last chance effect:
[02:06:42] [INFO] [LastChance]   - Time will be frozen (except player)
[02:06:42] [INFO] [LastChance]   - Duration: 6.0 real seconds
[02:06:42] [INFO] [LastChance]   - Sepia intensity: 0.70
[02:06:42] [INFO] [LastChance]   - Brightness: 0.60
[02:06:42] [INFO] [LastChance] Pushed bullet @Area2D@6908 from distance 109.3 to 200.0
[02:06:42] [INFO] [LastChance] Pushed 1 threatening bullets away from player
[02:06:42] [INFO] [LastChance] Set player Player and all 18 children to PROCESS_MODE_ALWAYS
[02:06:42] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[02:06:42] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:06:42] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:06:42] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[02:06:42] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:06:42] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:06:42] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:06:42] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:06:42] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:06:42] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:06:42] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:06:42] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:06:42] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:06:42] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:06:42] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:06:42] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:06:42] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:06:42] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[02:06:42] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[02:06:42] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:06:42] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:06:42] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:06:42] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:06:42] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:06:42] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[02:06:42] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[02:06:42] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:06:42] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[02:06:42] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[02:06:42] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:06:42] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:06:42] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[02:06:42] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[02:06:42] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[02:06:42] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[02:06:42] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[02:06:42] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[02:06:42] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[02:06:42] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[02:06:42] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[02:06:42] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[02:06:42] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[02:06:42] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[02:06:42] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[02:06:42] [INFO] [LastChance] Skipping player node: Player
[02:06:42] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[02:06:42] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[02:06:42] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[02:06:43] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[02:06:43] [INFO] [LastChance] Resetting all effects (scene change detected)
[02:06:43] [INFO] [LastChance] Ending last chance effect
[02:06:43] [INFO] [LastChance] All process modes restored
[02:06:43] [INFO] [LastChance] Restored original colors to 5 player sprites
[02:06:43] [ENEMY] [Enemy1] Death animation component initialized
[02:06:43] [ENEMY] [Enemy2] Death animation component initialized
[02:06:43] [ENEMY] [Enemy3] Death animation component initialized
[02:06:43] [ENEMY] [Enemy4] Death animation component initialized
[02:06:43] [ENEMY] [Enemy5] Death animation component initialized
[02:06:43] [ENEMY] [Enemy6] Death animation component initialized
[02:06:43] [ENEMY] [Enemy7] Death animation component initialized
[02:06:43] [ENEMY] [Enemy8] Death animation component initialized
[02:06:43] [ENEMY] [Enemy9] Death animation component initialized
[02:06:43] [ENEMY] [Enemy10] Death animation component initialized
[02:06:43] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[02:06:43] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[02:06:43] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[02:06:43] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[02:06:43] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[02:06:43] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[02:06:43] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[02:06:43] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[02:06:43] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[02:06:43] [ENEMY] [Enemy10] Grenade system configured: offensive=2, flashbangs=0
[02:06:43] [INFO] [ScoreManager] Level started with 10 enemies
[02:06:43] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[02:06:43] [ENEMY] [Enemy1] Registered as sound listener
[02:06:43] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[02:06:43] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[02:06:43] [ENEMY] [Enemy2] Registered as sound listener
[02:06:43] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[02:06:43] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[02:06:43] [ENEMY] [Enemy3] Registered as sound listener
[02:06:43] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[02:06:43] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[02:06:43] [ENEMY] [Enemy4] Registered as sound listener
[02:06:43] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[02:06:43] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[02:06:43] [ENEMY] [Enemy5] Registered as sound listener
[02:06:43] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[02:06:43] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[02:06:43] [ENEMY] [Enemy6] Registered as sound listener
[02:06:43] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[02:06:43] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[02:06:43] [ENEMY] [Enemy7] Registered as sound listener
[02:06:43] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[02:06:43] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[02:06:43] [ENEMY] [Enemy8] Registered as sound listener
[02:06:43] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[02:06:43] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[02:06:43] [ENEMY] [Enemy9] Registered as sound listener
[02:06:43] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[02:06:43] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[02:06:43] [ENEMY] [Enemy10] Registered as sound listener
[02:06:43] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[02:06:43] [INFO] [Player] Detecting weapon pose (frame 3)...
[02:06:43] [INFO] [Player] Detected weapon: Rifle (default pose)
[02:06:43] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[02:06:43] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[02:06:43] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[02:06:43] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[02:06:43] [INFO] [LastChance] Found player: Player
[02:06:43] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[02:06:43] [INFO] [LastChance] Connected to player Damaged signal (C#)
[02:06:43] [INFO] [LastChance] Connected to player Died signal (C#)
[02:06:44] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[02:06:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1143.53, 1519.896), source=ENEMY (Enemy10), range=1469, listeners=20
[02:06:44] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[02:06:44] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:06:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1111.422, 1500.851), source=ENEMY (Enemy10), range=1469, listeners=10
[02:06:44] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:06:44] [INFO] [LastChance] Threat detected: Bullet
[02:06:44] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:06:44] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:06:44] [INFO] [LastChance] Threat detected: @Area2D@7164
[02:06:44] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:06:44] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:06:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1080.162, 1480.448), source=ENEMY (Enemy10), range=1469, listeners=10
[02:06:44] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:06:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(775.8334, 1256), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:06:44] [ENEMY] [Enemy4] Heard gunshot at (775.8334, 1256), source_type=0, intensity=0.02, distance=357
[02:06:44] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=8
[02:06:44] [INFO] [LastChance] Threat detected: @Area2D@7165
[02:06:44] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:06:44] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:06:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1050.055, 1458.382), source=ENEMY (Enemy10), range=1469, listeners=10
[02:06:44] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:06:44] [INFO] [LastChance] Threat detected: @Area2D@7167
[02:06:44] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:06:44] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:06:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(813.0577, 1252.92), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:06:44] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=8
[02:06:44] [ENEMY] [Enemy10] Hit taken, health: 1/2
[02:06:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1022.436, 1434.895), source=ENEMY (Enemy10), range=1469, listeners=10
[02:06:44] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:06:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1080.937, 1493.103), shooter_id=7445996899037, bullet_pos=(53.57942, 905.8929)
[02:06:44] [INFO] [Bullet] Using shooter_position, distance=1183.33337402344
[02:06:44] [INFO] [Bullet] Distance to wall: 1183.33337402344 (80.5753453954596% of viewport)
[02:06:44] [INFO] [LastChance] Threat detected: @Area2D@7170
[02:06:44] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:06:44] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:06:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(799.4626, 958.3649), source=ENEMY (Enemy4), range=1469, listeners=10
[02:06:44] [ENEMY] [Enemy3] Heard gunshot at (799.4626, 958.3649), source_type=1, intensity=0.05, distance=231
[02:06:44] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=8
[02:06:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(787.8404, 1025.414), shooter_id=7444285622784, bullet_pos=(787.8404, 1025.414)
[02:06:44] [INFO] [Bullet] Using shooter_position, distance=0
[02:06:44] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[02:06:44] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[02:06:44] [INFO] [Bullet] Starting wall penetration at (787.8404, 1025.414)
[02:06:44] [ENEMY] [Enemy10] Hit taken, health: 0/2
[02:06:44] [ENEMY] [Enemy10] Enemy died (ricochet: false, penetration: false)
[02:06:44] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[02:06:44] [INFO] [SoundPropagation] Unregistered listener: Enemy10 (remaining: 9)
[02:06:44] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[02:06:44] [ENEMY] [Enemy10] Death animation started with hit direction: (1, 0)
[02:06:44] [INFO] [Bullet] Raycast backward hit penetrating body at distance 39.8068962097168
[02:06:44] [INFO] [Bullet] Body exited signal received for penetrating body
[02:06:44] [INFO] [Bullet] Exiting penetration at (777.0071, 1062.184) after traveling 33.3333358764648 pixels through wall
[02:06:44] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:06:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1049.916, 1471.628), shooter_id=7445996899037, bullet_pos=(67.49549, 857.9619)
[02:06:44] [INFO] [Bullet] Using shooter_position, distance=1158.33337402344
[02:06:44] [INFO] [Bullet] Distance to wall: 1158.33337402344 (78.8730494245132% of viewport)
[02:06:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(968.0092, 1393.881), shooter_id=7445996899037, bullet_pos=(581.6029, 1026.273)
[02:06:45] [INFO] [Bullet] Using shooter_position, distance=533.333862304688
[02:06:45] [INFO] [Bullet] Distance to wall: 533.333862304688 (36.3156833988218% of viewport)
[02:06:45] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:06:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1020.14, 1448.26), shooter_id=7445996899037, bullet_pos=(61.8901, 782.7773)
[02:06:45] [INFO] [Bullet] Using shooter_position, distance=1166.66613769531
[02:06:45] [INFO] [Bullet] Distance to wall: 1166.66613769531 (79.4404426255325% of viewport)
[02:06:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1049.916, 1471.628), shooter_id=7445996899037, bullet_pos=(278.0893, 705.4815)
[02:06:45] [INFO] [Bullet] Using shooter_position, distance=1087.51867675781
[02:06:45] [INFO] [Bullet] Distance to wall: 1087.51867675781 (74.0511464709507% of viewport)
[02:06:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1080.937, 1493.103), shooter_id=7445996899037, bullet_pos=(500.4727, 713.1986)
[02:06:45] [INFO] [Bullet] Using shooter_position, distance=972.208190917969
[02:06:45] [INFO] [Bullet] Distance to wall: 972.208190917969 (66.1994434528293% of viewport)
[02:06:45] [INFO] [Bullet] Distance-based penetration chance: 69.4339826383658%
[02:06:45] [INFO] [Bullet] Starting wall penetration at (500.4727, 713.1986)
[02:06:45] [INFO] [Bullet] Body exited signal received for penetrating body
[02:06:45] [INFO] [Bullet] Exiting penetration at (531.0818, 700.0004) after traveling 0 pixels through wall
[02:06:45] [INFO] [Bullet] Damage multiplier after penetration: 0.45
[02:06:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1020.14, 1448.26), shooter_id=7445996899037, bullet_pos=(146.8846, 700.4445)
[02:06:45] [INFO] [Bullet] Using shooter_position, distance=1149.69677734375
[02:06:45] [INFO] [Bullet] Distance to wall: 1149.69677734375 (78.2849676752924% of viewport)
[02:06:45] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[02:06:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(992.1503, 1422.489), shooter_id=7445996899037, bullet_pos=(97.02867, 713.8557)
[02:06:45] [INFO] [Bullet] Using shooter_position, distance=1141.66735839844
[02:06:45] [INFO] [Bullet] Distance to wall: 1141.66735839844 (77.7382297745065% of viewport)
[02:06:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1049.916, 1471.628), shooter_id=7445996899037, bullet_pos=(502.8684, 894.9819)
[02:06:45] [INFO] [Bullet] Using shooter_position, distance=794.847106933594
[02:06:45] [INFO] [Bullet] Distance to wall: 794.847106933594 (54.1226011060579% of viewport)
[02:06:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(968.0092, 1393.881), shooter_id=7445996899037, bullet_pos=(60.83971, 1426.294)
[02:06:45] [INFO] [Bullet] Using shooter_position, distance=907.748291015625
[02:06:45] [INFO] [Bullet] Distance to wall: 907.748291015625 (61.8102503371746% of viewport)
[02:06:45] [INFO] [Bullet] Distance-based penetration chance: 74.554707939963%
[02:06:45] [INFO] [Bullet] Starting wall penetration at (60.83971, 1426.294)
[02:06:45] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[02:06:45] [INFO] [Bullet] Exiting penetration at (34.40504, 1446.599) after traveling 28.3333339691162 pixels through wall
[02:06:45] [INFO] [Bullet] Damage multiplier after penetration: 0.45
[02:06:45] [ENEMY] [Enemy10] Ragdoll activated
[02:06:45] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[02:06:45] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[02:06:45] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[02:06:45] [INFO] [LastChance] Resetting all effects (scene change detected)
[02:06:45] [ENEMY] [Enemy1] Death animation component initialized
[02:06:45] [ENEMY] [Enemy2] Death animation component initialized
[02:06:45] [ENEMY] [Enemy3] Death animation component initialized
[02:06:45] [ENEMY] [Enemy4] Death animation component initialized
[02:06:45] [ENEMY] [Enemy5] Death animation component initialized
[02:06:45] [ENEMY] [Enemy6] Death animation component initialized
[02:06:45] [ENEMY] [Enemy7] Death animation component initialized
[02:06:45] [ENEMY] [Enemy8] Death animation component initialized
[02:06:45] [ENEMY] [Enemy9] Death animation component initialized
[02:06:45] [ENEMY] [Enemy10] Death animation component initialized
[02:06:45] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[02:06:45] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[02:06:45] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[02:06:45] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[02:06:45] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[02:06:45] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[02:06:45] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[02:06:45] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[02:06:45] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[02:06:45] [ENEMY] [Enemy10] Grenade system configured: offensive=2, flashbangs=0
[02:06:45] [INFO] [ScoreManager] Level started with 10 enemies
[02:06:45] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[02:06:45] [ENEMY] [Enemy1] Registered as sound listener
[02:06:45] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[02:06:45] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[02:06:45] [ENEMY] [Enemy2] Registered as sound listener
[02:06:45] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[02:06:45] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[02:06:45] [ENEMY] [Enemy3] Registered as sound listener
[02:06:45] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[02:06:45] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[02:06:45] [ENEMY] [Enemy4] Registered as sound listener
[02:06:45] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[02:06:45] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[02:06:45] [ENEMY] [Enemy5] Registered as sound listener
[02:06:45] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[02:06:45] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[02:06:45] [ENEMY] [Enemy6] Registered as sound listener
[02:06:45] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[02:06:45] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[02:06:45] [ENEMY] [Enemy7] Registered as sound listener
[02:06:45] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[02:06:45] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[02:06:45] [ENEMY] [Enemy8] Registered as sound listener
[02:06:45] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[02:06:45] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[02:06:45] [ENEMY] [Enemy9] Registered as sound listener
[02:06:45] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[02:06:45] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[02:06:45] [ENEMY] [Enemy10] Registered as sound listener
[02:06:45] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[02:06:45] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[02:06:45] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[02:06:45] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[02:06:45] [INFO] [LastChance] Found player: Player
[02:06:45] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[02:06:45] [INFO] [LastChance] Connected to player Damaged signal (C#)
[02:06:45] [INFO] [LastChance] Connected to player Died signal (C#)
[02:06:45] [INFO] [Player] Detecting weapon pose (frame 3)...
[02:06:45] [INFO] [Player] Detected weapon: Rifle (default pose)
[02:06:45] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[02:06:46] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[02:06:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1144.065, 1518.928), source=ENEMY (Enemy10), range=1469, listeners=19
[02:06:46] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[02:06:46] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:06:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1112.407, 1499.144), source=ENEMY (Enemy10), range=1469, listeners=10
[02:06:46] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:06:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1081.55, 1478.135), source=ENEMY (Enemy10), range=1469, listeners=10
[02:06:46] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:06:46] [INFO] [LastChance] Threat detected: @Area2D@7447
[02:06:46] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:06:46] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:06:47] [INFO] [LastChance] Threat detected: @Area2D@7448
[02:06:47] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:06:47] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:06:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1051.737, 1455.671), source=ENEMY (Enemy10), range=1469, listeners=10
[02:06:47] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:06:47] [INFO] [LastChance] Threat detected: @Area2D@7449
[02:06:47] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:06:47] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:06:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1023.334, 1431.452), source=ENEMY (Enemy10), range=1469, listeners=10
[02:06:47] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:06:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1082.143, 1490.619), shooter_id=7605313342138, bullet_pos=(47.99799, 865.6289)
[02:06:47] [INFO] [Bullet] Using shooter_position, distance=1208.33288574219
[02:06:47] [INFO] [Bullet] Distance to wall: 1208.33288574219 (82.2776081184378% of viewport)
[02:06:47] [INFO] [Bullet] Distance-based penetration chance: 50.6761238618226%
[02:06:47] [INFO] [Bullet] Starting wall penetration at (47.99799, 865.6289)
[02:06:47] [INFO] [Bullet] Raycast backward hit penetrating body at distance 27.9740352630615
[02:06:47] [INFO] [Bullet] Body exited signal received for penetrating body
[02:06:47] [INFO] [Bullet] Exiting penetration at (8.058586, 841.4913) after traveling 41.6666717529297 pixels through wall
[02:06:47] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:06:47] [INFO] [LastChance] Threat detected: @Area2D@7450
[02:06:47] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:06:47] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:06:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(990.1082, 1424.067), source=ENEMY (Enemy10), range=1469, listeners=10
[02:06:47] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:06:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1051.543, 1468.614), shooter_id=7605313342138, bullet_pos=(40.6425, 806.6869)
[02:06:47] [INFO] [Bullet] Using shooter_position, distance=1208.33288574219
[02:06:47] [INFO] [Bullet] Distance to wall: 1208.33288574219 (82.2776081184378% of viewport)
[02:06:47] [INFO] [LastChance] Threat detected: Bullet
[02:06:47] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:06:47] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:06:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(968.3827, 1391.17), shooter_id=7605313342138, bullet_pos=(571.0488, 1023.028)
[02:06:47] [INFO] [Bullet] Using shooter_position, distance=541.666564941406
[02:06:47] [INFO] [Bullet] Distance to wall: 541.666564941406 (36.883072443845% of viewport)
[02:06:47] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:06:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1051.543, 1468.614), shooter_id=7605313342138, bullet_pos=(194.4617, 709.2496)
[02:06:47] [INFO] [Bullet] Using shooter_position, distance=1145.08666992188
[02:06:47] [INFO] [Bullet] Distance to wall: 1145.08666992188 (77.9710569836969% of viewport)
[02:06:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(964.8337, 1410.97), source=ENEMY (Enemy10), range=1469, listeners=10
[02:06:47] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:06:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1022.072, 1444.967), shooter_id=7605313342138, bullet_pos=(41.08407, 739.4652)
[02:06:47] [INFO] [Bullet] Using shooter_position, distance=1208.33325195313
[02:06:47] [INFO] [Bullet] Distance to wall: 1208.33325195313 (82.2776330544139% of viewport)
[02:06:47] [INFO] [LastChance] Threat detected: @Area2D@7454
[02:06:47] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:06:47] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:06:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1022.072, 1444.967), shooter_id=7605313342138, bullet_pos=(100.7026, 692.6003)
[02:06:47] [INFO] [Bullet] Using shooter_position, distance=1189.52770996094
[02:06:47] [INFO] [Bullet] Distance to wall: 1189.52770996094 (80.9971291198234% of viewport)
[02:06:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(942.0217, 1375.61), shooter_id=7605313342138, bullet_pos=(658.4434, 1015.536)
[02:06:47] [INFO] [Bullet] Using shooter_position, distance=458.333892822266
[02:06:47] [INFO] [Bullet] Distance to wall: 458.333892822266 (31.2087975639806% of viewport)
[02:06:47] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:06:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1022.072, 1444.967), shooter_id=7605313342138, bullet_pos=(43.46765, 661.3548)
[02:06:47] [INFO] [Bullet] Using shooter_position, distance=1253.68005371094
[02:06:47] [INFO] [Bullet] Distance to wall: 1253.68005371094 (85.3653801715191% of viewport)
[02:06:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(994.1357, 1419.315), shooter_id=7605313342138, bullet_pos=(117.7942, 713.8711)
[02:06:47] [INFO] [Bullet] Using shooter_position, distance=1125.00048828125
[02:06:47] [INFO] [Bullet] Distance to wall: 1125.00048828125 (76.6033519405555% of viewport)
[02:06:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(964.8337, 1410.97), source=ENEMY (Enemy10), range=1469, listeners=10
[02:06:47] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:06:47] [INFO] [LastChance] Threat detected: @Area2D@7460
[02:06:47] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:06:47] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:06:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(994.1357, 1419.315), shooter_id=7605313342138, bullet_pos=(56.74249, 758.8531)
[02:06:47] [INFO] [Bullet] Using shooter_position, distance=1146.69799804688
[02:06:47] [INFO] [Bullet] Distance to wall: 1146.69799804688 (78.0807752786992% of viewport)
[02:06:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(926.3284, 1354.669), shooter_id=7605313342138, bullet_pos=(751.4095, 1022.964)
[02:06:47] [INFO] [Bullet] Using shooter_position, distance=374.999542236328
[02:06:47] [INFO] [Bullet] Distance to wall: 374.999542236328 (25.5344083942256% of viewport)
[02:06:47] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:06:47] [INFO] [Bullet] Starting wall penetration at (751.4095, 1022.964)
[02:06:47] [INFO] [Bullet] Raycast backward hit penetrating body at distance 20.7050113677979
[02:06:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1051.543, 1468.614), shooter_id=7605313342138, bullet_pos=(496.1077, 857.5861)
[02:06:47] [INFO] [Bullet] Using shooter_position, distance=825.750610351563
[02:06:47] [INFO] [Bullet] Distance to wall: 825.750610351563 (56.2268774803193% of viewport)
[02:06:47] [INFO] [Bullet] Body exited signal received for penetrating body
[02:06:47] [INFO] [Bullet] Exiting penetration at (729.6418, 981.6854) after traveling 41.6666679382324 pixels through wall
[02:06:47] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:06:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(968.3827, 1391.17), shooter_id=7605313342138, bullet_pos=(231.3381, 1391.037)
[02:06:47] [INFO] [Bullet] Using shooter_position, distance=737.044555664063
[02:06:47] [INFO] [Bullet] Distance to wall: 737.044555664063 (50.1867191005961% of viewport)
[02:06:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(964.8337, 1410.97), source=ENEMY (Enemy10), range=1469, listeners=10
[02:06:47] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:06:47] [INFO] [LastChance] Threat detected: @Area2D@7465
[02:06:47] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:06:47] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:06:47] [ENEMY] [Enemy4] Hit taken, health: 1/2
[02:06:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(951.7162, 1247.219), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:06:47] [ENEMY] [Enemy4] Heard gunshot at (951.7162, 1247.219), source_type=0, intensity=0.02, distance=379
[02:06:47] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=8
[02:06:47] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:06:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(964.8337, 1410.97), source=ENEMY (Enemy10), range=1469, listeners=10
[02:06:47] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:06:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(968.3827, 1391.17), shooter_id=7605313342138, bullet_pos=(58.78339, 1215.941)
[02:06:47] [INFO] [Bullet] Using shooter_position, distance=926.324035644531
[02:06:47] [INFO] [Bullet] Distance to wall: 926.324035644531 (63.0751069467393% of viewport)
[02:06:47] [INFO] [LastChance] Threat detected: @Area2D@7467
[02:06:47] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:06:47] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:06:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(944.3054, 1345.939), shooter_id=7605313342138, bullet_pos=(880.9729, 1018.677)
[02:06:47] [INFO] [Bullet] Using shooter_position, distance=333.333526611328
[02:06:47] [INFO] [Bullet] Distance to wall: 333.333526611328 (22.6972927732725% of viewport)
[02:06:47] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:06:47] [INFO] [Bullet] Starting wall penetration at (880.9729, 1018.677)
[02:06:47] [INFO] [Bullet] Raycast backward hit penetrating body at distance 27.6433124542236
[02:06:47] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[02:06:47] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[02:06:47] [INFO] [Bullet] Body exited signal received for penetrating body
[02:06:47] [INFO] [Bullet] Exiting penetration at (872.1063, 972.8602) after traveling 41.6666679382324 pixels through wall
[02:06:47] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:06:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(978.9399, 1274.442), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:06:47] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=8
[02:06:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(964.8337, 1410.97), source=ENEMY (Enemy10), range=1469, listeners=10
[02:06:47] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=8
[02:06:47] [INFO] [LastChance] Threat detected: @Area2D@7471
[02:06:47] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[02:06:47] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:06:47] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[02:06:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(978.9399, 1274.4418), shooter_id=7606135426326, bullet_pos=(899.8647, 1401.906)
[02:06:47] [INFO] [Bullet] Using shooter_position, distance=150,00006
[02:06:47] [INFO] [Bullet] Distance to wall: 150,00006 (10,21378% of viewport)
[02:06:47] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:06:47] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[02:06:47] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[02:06:47] [ENEMY] [Enemy10] State: COMBAT -> RETREATING
[02:06:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(964.8337, 1410.97), source=ENEMY (Enemy10), range=1469, listeners=10
[02:06:47] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=8
[02:06:48] [INFO] [LastChance] Threat detected: @Area2D@7473
[02:06:48] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[02:06:48] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:06:48] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[02:06:48] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[02:06:48] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[02:06:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(951.7162, 1247.2185), shooter_id=7606135426326, bullet_pos=(588.36053, 2070.6104)
[02:06:48] [INFO] [Bullet] Using shooter_position, distance=900,0008
[02:06:48] [INFO] [Bullet] Distance to wall: 900,0008 (61,28271% of viewport)
[02:06:48] [INFO] [Bullet] Distance-based penetration chance: 75,17017%
[02:06:48] [INFO] [Bullet] Starting wall penetration at (588.36053, 2070.6104)
[02:06:48] [INFO] [Bullet] Raycast backward hit penetrating body at distance 18,91473
[02:06:48] [INFO] [Bullet] Body exited signal received for penetrating body
[02:06:48] [INFO] [Bullet] Exiting penetration at (569.5199, 2113.3047) after traveling 41,66667 pixels through wall
[02:06:48] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[02:06:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(978.9399, 1274.4418), shooter_id=7606135426326, bullet_pos=(627.239, 1024.6956)
[02:06:48] [INFO] [Bullet] Using shooter_position, distance=431,35446
[02:06:48] [INFO] [Bullet] Distance to wall: 431,35446 (29,371721% of viewport)
[02:06:48] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:06:48] [ENEMY] [Enemy10] State: RETREATING -> IN_COVER
[02:06:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(968.3827, 1391.17), shooter_id=7605313342138, bullet_pos=(516.5024, 879.6989)
[02:06:48] [INFO] [Bullet] Using shooter_position, distance=682.494384765625
[02:06:48] [INFO] [Bullet] Distance to wall: 682.494384765625 (46.4722976552022% of viewport)
[02:06:48] [ENEMY] [Enemy10] State: IN_COVER -> SUPPRESSED
[02:06:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(968.3827, 1391.17), shooter_id=7605313342138, bullet_pos=(309.7103, 712.3829)
[02:06:48] [INFO] [Bullet] Using shooter_position, distance=945.833618164063
[02:06:48] [INFO] [Bullet] Distance to wall: 945.833618164063 (64.403550295453% of viewport)
[02:06:48] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[02:06:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1698.427, 899.8815), source=ENEMY (Enemy7), range=1469, listeners=10
[02:06:48] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=8
[02:06:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(968.3827, 1391.17), shooter_id=7605313342138, bullet_pos=(61.74522, 913.5303)
[02:06:48] [INFO] [Bullet] Using shooter_position, distance=1024.75903320313
[02:06:48] [INFO] [Bullet] Distance to wall: 1024.75903320313 (69.7777269365037% of viewport)
[02:06:48] [INFO] [Bullet] Distance-based penetration chance: 65.259318574079%
[02:06:48] [INFO] [Bullet] Penetration failed (distance roll)
[02:06:48] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[02:06:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1673.831, 920.3495), source=ENEMY (Enemy7), range=1469, listeners=10
[02:06:48] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=8
[02:06:48] [INFO] [LastChance] Threat detected: Bullet
[02:06:48] [INFO] [LastChance] Triggering last chance effect!
[02:06:48] [INFO] [LastChance] Starting last chance effect:
[02:06:48] [INFO] [LastChance]   - Time will be frozen (except player)
[02:06:48] [INFO] [LastChance]   - Duration: 6.0 real seconds
[02:06:48] [INFO] [LastChance]   - Sepia intensity: 0.70
[02:06:48] [INFO] [LastChance]   - Brightness: 0.60
[02:06:48] [INFO] [LastChance] Pushed bullet Bullet from distance 138.5 to 200.0
[02:06:48] [INFO] [LastChance] Pushed 1 threatening bullets away from player
[02:06:48] [INFO] [LastChance] Set player Player and all 18 children to PROCESS_MODE_ALWAYS
[02:06:48] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[02:06:48] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:06:48] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:06:48] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[02:06:48] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:06:48] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:06:48] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:06:48] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:06:48] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:06:48] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:06:48] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:06:48] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:06:48] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:06:48] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:06:48] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:06:48] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:06:48] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:06:48] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[02:06:48] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[02:06:48] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:06:48] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:06:48] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:06:48] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:06:48] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:06:48] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[02:06:48] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[02:06:48] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:06:48] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[02:06:48] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[02:06:48] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:06:48] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:06:48] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[02:06:48] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[02:06:48] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[02:06:48] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[02:06:48] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[02:06:48] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[02:06:48] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[02:06:48] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[02:06:48] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[02:06:48] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[02:06:48] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[02:06:48] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[02:06:48] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[02:06:48] [INFO] [LastChance] Skipping player node: Player
[02:06:48] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[02:06:48] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[02:06:48] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[02:06:50] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@7480
[02:06:50] [INFO] [LastChance] Registered frozen player bullet: @Area2D@7480
[02:06:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(855.5629, 1334.63), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:06:50] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=8
[02:06:50] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@7482
[02:06:50] [INFO] [LastChance] Registered frozen player bullet: @Area2D@7482
[02:06:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(862.5629, 1334.63), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:06:50] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=8
[02:06:51] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@7484
[02:06:51] [INFO] [LastChance] Registered frozen player bullet: @Area2D@7484
[02:06:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(908.3962, 1334.63), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:06:51] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=8
[02:06:51] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@7486
[02:06:51] [INFO] [LastChance] Registered frozen player bullet: @Area2D@7486
[02:06:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(908.3962, 1334.63), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:06:51] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=8
[02:06:51] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@7488
[02:06:51] [INFO] [LastChance] Registered frozen player bullet: @Area2D@7488
[02:06:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(908.3962, 1334.63), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:06:51] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=8
[02:06:54] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@7490
[02:06:54] [INFO] [LastChance] Registered frozen player bullet: @Area2D@7490
[02:06:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(908.3962, 1334.63), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:06:54] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=8
[02:06:54] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[02:06:54] [ENEMY] [Enemy1] Player reloading state changed: false -> true
[02:06:54] [ENEMY] [Enemy2] Player reloading state changed: false -> true
[02:06:54] [ENEMY] [Enemy3] Player reloading state changed: false -> true
[02:06:54] [ENEMY] [Enemy4] Player reloading state changed: false -> true
[02:06:54] [ENEMY] [Enemy5] Player reloading state changed: false -> true
[02:06:54] [ENEMY] [Enemy6] Player reloading state changed: false -> true
[02:06:54] [ENEMY] [Enemy7] Player reloading state changed: false -> true
[02:06:54] [ENEMY] [Enemy8] Player reloading state changed: false -> true
[02:06:54] [ENEMY] [Enemy9] Player reloading state changed: false -> true
[02:06:54] [ENEMY] [Enemy10] Player reloading state changed: false -> true
[02:06:54] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(908.3962, 1328.63), source=PLAYER (Player), range=900, listeners=10
[02:06:54] [ENEMY] [Enemy4] Heard player RELOAD at (908.3962, 1328.63), intensity=0.02, distance=386
[02:06:54] [ENEMY] [Enemy4] Vulnerability sound triggered pursuit - transitioning from SUPPRESSED to PURSUING
[02:06:54] [ENEMY] [Enemy10] Heard player RELOAD at (908.3962, 1328.63), intensity=0.16, distance=123
[02:06:54] [ENEMY] [Enemy10] Vulnerability sound triggered pursuit - transitioning from SUPPRESSED to PURSUING
[02:06:54] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=6, self=0, below_threshold=2
[02:06:54] [INFO] [LastChance] Effect duration expired after 6.00 real seconds
[02:06:54] [INFO] [LastChance] Ending last chance effect
[02:06:54] [INFO] [LastChance] All process modes restored
[02:06:54] [INFO] [LastChance] Unfroze player bullet: @Area2D@7480
[02:06:54] [INFO] [LastChance] Unfroze player bullet: @Area2D@7482
[02:06:54] [INFO] [LastChance] Unfroze player bullet: @Area2D@7484
[02:06:54] [INFO] [LastChance] Unfroze player bullet: @Area2D@7486
[02:06:54] [INFO] [LastChance] Unfroze player bullet: @Area2D@7488
[02:06:54] [INFO] [LastChance] Unfroze player bullet: @Area2D@7490
[02:06:54] [INFO] [LastChance] Restored original colors to 5 player sprites
[02:06:54] [INFO] [LastChance] Called player RefreshHealthVisual (C#)
[02:06:54] [ENEMY] [Enemy1] Player vulnerable (reloading) but cannot attack: close=false (dist=1152), can_see=false
[02:06:54] [ENEMY] [Enemy2] Player vulnerable (reloading) but cannot attack: close=false (dist=930), can_see=false
[02:06:54] [ENEMY] [Enemy3] Player vulnerable (reloading) but cannot attack: close=false (dist=615), can_see=false
[02:06:54] [ENEMY] [Enemy4] Player vulnerable (reloading) but cannot attack: close=true (dist=386), can_see=false
[02:06:54] [ENEMY] [Enemy4] Pursuing vulnerability sound at (908.3962, 1328.63), distance=386
[02:06:54] [ENEMY] [Enemy5] Player vulnerable (reloading) but cannot attack: close=false (dist=1259), can_see=false
[02:06:54] [ENEMY] [Enemy6] Player vulnerable (reloading) but cannot attack: close=false (dist=1363), can_see=false
[02:06:54] [ENEMY] [Enemy7] Player vulnerable (reloading) but cannot attack: close=false (dist=847), can_see=false
[02:06:54] [ENEMY] [Enemy8] Player vulnerable (reloading) but cannot attack: close=false (dist=999), can_see=false
[02:06:54] [ENEMY] [Enemy9] Player vulnerable (reloading) but cannot attack: close=false (dist=1212), can_see=false
[02:06:54] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:06:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(973.5397, 1433.219), source=ENEMY (Enemy10), range=1469, listeners=10
[02:06:54] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:06:54] [INFO] [LastChance] Threat detected: @Area2D@7492
[02:06:54] [INFO] [LastChance] Effect already used this life
[02:06:54] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:06:54] [ENEMY] [Enemy10] Pursuing vulnerability sound at (908.3962, 1328.63), distance=123
[02:06:54] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[02:06:54] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[02:06:54] [INFO] [PenultimateHit] Player died - ending penultimate effect
[02:06:54] [INFO] [LastChance] Player died
[02:06:54] [ENEMY] [Enemy10] Hit taken, health: 3/4
[02:06:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1643.551, 941.7724), source=ENEMY (Enemy7), range=1469, listeners=10
[02:06:54] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:06:54] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[02:06:54] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1587.36, 980.1552), shooter_id=7604457705033, bullet_pos=(1587.36, 980.1552)
[02:06:54] [INFO] [Bullet] Using shooter_position, distance=0
[02:06:54] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[02:06:54] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[02:06:54] [INFO] [Bullet] Starting wall penetration at (1587.36, 980.1552)
[02:06:54] [INFO] [Bullet] Raycast backward hit penetrating body at distance 17.192985534668
[02:06:54] [INFO] [Bullet] Body exited signal received for penetrating body
[02:06:54] [INFO] [Bullet] Exiting penetration at (1553.437, 998.0065) after traveling 33.3333358764648 pixels through wall
[02:06:54] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:06:54] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:06:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(952.5521, 1415.152), source=ENEMY (Enemy10), range=1469, listeners=10
[02:06:54] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:06:54] [INFO] [LastChance] Threat detected: @Area2D@7494
[02:06:54] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:06:54] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:06:54] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1650.601, 948.288), shooter_id=7604457705033, bullet_pos=(1088.219, 1388.464)
[02:06:54] [INFO] [Bullet] Using shooter_position, distance=714.161865234375
[02:06:54] [INFO] [Bullet] Distance to wall: 714.161865234375 (48.6285946316813% of viewport)
[02:06:54] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(908.39624, 1334.6299), shooter_id=7606135426326, bullet_pos=(1223.7162, 1013.5794)
[02:06:54] [INFO] [Bullet] Using shooter_position, distance=450,0001
[02:06:54] [INFO] [Bullet] Distance to wall: 450,0001 (30,641335% of viewport)
[02:06:54] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:06:54] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(908.39624, 1334.6299), shooter_id=7606135426326, bullet_pos=(1220.1619, 1010.1269)
[02:06:54] [INFO] [Bullet] Using shooter_position, distance=450
[02:06:54] [INFO] [Bullet] Distance to wall: 450 (30,641329% of viewport)
[02:06:54] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:06:54] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(862.56287, 1334.6299), shooter_id=7606135426326, bullet_pos=(1189.86, 1025.7991)
[02:06:54] [INFO] [Bullet] Using shooter_position, distance=449,99985
[02:06:54] [INFO] [Bullet] Distance to wall: 449,99985 (30,641317% of viewport)
[02:06:54] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:06:54] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(908.39624, 1334.6299), shooter_id=7606135426326, bullet_pos=(1273.5883, 1018.01373)
[02:06:54] [INFO] [Bullet] Using shooter_position, distance=483,33322
[02:06:54] [INFO] [Bullet] Distance to wall: 483,33322 (32,91105% of viewport)
[02:06:54] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:06:54] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(855.56287, 1334.6299), shooter_id=7606135426326, bullet_pos=(1209.3972, 1005.3693)
[02:06:54] [INFO] [Bullet] Using shooter_position, distance=483,3335
[02:06:54] [INFO] [Bullet] Distance to wall: 483,3335 (32,911068% of viewport)
[02:06:54] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:06:54] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1627.636, 970.3156), shooter_id=7604457705033, bullet_pos=(1159.865, 1372.146)
[02:06:54] [INFO] [Bullet] Using shooter_position, distance=616.666809082031
[02:06:54] [INFO] [Bullet] Distance to wall: 616.666809082031 (41.9899769806682% of viewport)
[02:06:54] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:06:55] [INFO] [Player.Reload.Anim] Phase changed to: PullBolt (duration: 0,35s)
[02:06:55] [ENEMY] [Enemy1] Player reloading state changed: true -> false
[02:06:55] [ENEMY] [Enemy2] Player reloading state changed: true -> false
[02:06:55] [ENEMY] [Enemy3] Player reloading state changed: true -> false
[02:06:55] [ENEMY] [Enemy4] Player reloading state changed: true -> false
[02:06:55] [ENEMY] [Enemy5] Player reloading state changed: true -> false
[02:06:55] [ENEMY] [Enemy6] Player reloading state changed: true -> false
[02:06:55] [ENEMY] [Enemy7] Player reloading state changed: true -> false
[02:06:55] [ENEMY] [Enemy8] Player reloading state changed: true -> false
[02:06:55] [ENEMY] [Enemy9] Player reloading state changed: true -> false
[02:06:55] [ENEMY] [Enemy10] Player reloading state changed: true -> false
[02:06:55] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[02:06:55] [ENEMY] [Enemy10] State: PURSUING -> COMBAT
[02:06:55] [ENEMY] [Enemy10] State: COMBAT -> RETREATING
[02:06:55] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:06:55] [ENEMY] [Enemy7] State: COMBAT -> PURSUING
[02:06:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1650.601, 948.288), shooter_id=7604457705033, bullet_pos=(726.7889, 1021.595)
[02:06:55] [INFO] [Bullet] Using shooter_position, distance=926.715576171875
[02:06:55] [INFO] [Bullet] Distance to wall: 926.715576171875 (63.1017676612256% of viewport)
[02:06:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(908.39624, 1334.6299), shooter_id=7606135426326, bullet_pos=(1510.034, 1407.1097)
[02:06:55] [INFO] [Bullet] Using shooter_position, distance=605,988
[02:06:55] [INFO] [Bullet] Distance to wall: 605,988 (41,262836% of viewport)
[02:06:55] [INFO] [Bullet] Distance-based penetration chance: 98,526695%
[02:06:55] [INFO] [Bullet] Starting wall penetration at (1510.034, 1407.1097)
[02:06:55] [INFO] [Bullet] Raycast backward hit penetrating body at distance 29,991758
[02:06:55] [INFO] [Bullet] Body exited signal received for penetrating body
[02:06:55] [INFO] [Bullet] Exiting penetration at (1529.6449, 1434.0638) after traveling 28,333334 pixels through wall
[02:06:55] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[02:06:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(908.39624, 1334.6299), shooter_id=7606135426326, bullet_pos=(1701.5009, 1304.5706)
[02:06:55] [INFO] [Bullet] Using shooter_position, distance=793,6741
[02:06:55] [INFO] [Bullet] Distance to wall: 793,6741 (54,04273% of viewport)
[02:06:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1627.636, 970.3156), shooter_id=7604457705033, bullet_pos=(834.7717, 1009.987)
[02:06:55] [INFO] [Bullet] Using shooter_position, distance=793.85595703125
[02:06:55] [INFO] [Bullet] Distance to wall: 793.85595703125 (54.0551118866433% of viewport)
[02:06:55] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:06:55] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[02:06:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(908.39624, 1334.6299), shooter_id=7606135426326, bullet_pos=(1677.1475, 1481.6912)
[02:06:55] [INFO] [Bullet] Using shooter_position, distance=782,69116
[02:06:55] [INFO] [Bullet] Distance to wall: 782,69116 (53,29488% of viewport)
[02:06:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(862.56287, 1334.6299), shooter_id=7606135426326, bullet_pos=(1693.241, 1447.4824)
[02:06:55] [INFO] [Bullet] Using shooter_position, distance=838,3089
[02:06:55] [INFO] [Bullet] Distance to wall: 838,3089 (57,081997% of viewport)
[02:06:55] [INFO] [Bullet] Distance-based penetration chance: 80,071%
[02:06:55] [INFO] [Bullet] Penetration failed (distance roll)
[02:06:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(855.56287, 1334.6299), shooter_id=7606135426326, bullet_pos=(1685.344, 1415.5853)
[02:06:55] [INFO] [Bullet] Using shooter_position, distance=833,7209
[02:06:55] [INFO] [Bullet] Distance to wall: 833,7209 (56,769592% of viewport)
[02:06:55] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(908.39624, 1334.6299), shooter_id=7606135426326, bullet_pos=(1845.0636, 1206.995)
[02:06:55] [INFO] [Bullet] Using shooter_position, distance=945,3235
[02:06:55] [INFO] [Bullet] Distance to wall: 945,3235 (64,36881% of viewport)
[02:06:55] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:06:55] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[02:06:55] [INFO] [LastChance] Resetting all effects (scene change detected)
[02:06:55] [ENEMY] [Enemy1] Death animation component initialized
[02:06:55] [ENEMY] [Enemy2] Death animation component initialized
[02:06:55] [ENEMY] [Enemy3] Death animation component initialized
[02:06:55] [ENEMY] [Enemy4] Death animation component initialized
[02:06:55] [ENEMY] [Enemy5] Death animation component initialized
[02:06:55] [ENEMY] [Enemy6] Death animation component initialized
[02:06:55] [ENEMY] [Enemy7] Death animation component initialized
[02:06:55] [ENEMY] [Enemy8] Death animation component initialized
[02:06:55] [ENEMY] [Enemy9] Death animation component initialized
[02:06:55] [ENEMY] [Enemy10] Death animation component initialized
[02:06:55] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[02:06:55] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[02:06:55] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[02:06:55] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[02:06:55] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[02:06:55] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[02:06:55] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[02:06:55] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[02:06:55] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[02:06:55] [ENEMY] [Enemy10] Grenade system configured: offensive=2, flashbangs=0
[02:06:55] [INFO] [ScoreManager] Level started with 10 enemies
[02:06:55] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[02:06:55] [ENEMY] [Enemy1] Registered as sound listener
[02:06:55] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[02:06:55] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[02:06:55] [ENEMY] [Enemy2] Registered as sound listener
[02:06:55] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[02:06:55] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[02:06:55] [ENEMY] [Enemy3] Registered as sound listener
[02:06:55] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[02:06:55] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[02:06:55] [ENEMY] [Enemy4] Registered as sound listener
[02:06:55] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[02:06:55] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[02:06:55] [ENEMY] [Enemy5] Registered as sound listener
[02:06:55] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[02:06:55] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[02:06:55] [ENEMY] [Enemy6] Registered as sound listener
[02:06:55] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[02:06:55] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[02:06:55] [ENEMY] [Enemy7] Registered as sound listener
[02:06:55] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[02:06:55] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[02:06:55] [ENEMY] [Enemy8] Registered as sound listener
[02:06:55] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[02:06:55] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[02:06:55] [ENEMY] [Enemy9] Registered as sound listener
[02:06:55] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[02:06:55] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[02:06:55] [ENEMY] [Enemy10] Registered as sound listener
[02:06:55] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[02:06:55] [INFO] [Player] Detecting weapon pose (frame 3)...
[02:06:55] [INFO] [Player] Detected weapon: Rifle (default pose)
[02:06:55] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[02:06:55] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[02:06:55] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[02:06:55] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[02:06:55] [INFO] [LastChance] Found player: Player
[02:06:55] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[02:06:55] [INFO] [LastChance] Connected to player Damaged signal (C#)
[02:06:55] [INFO] [LastChance] Connected to player Died signal (C#)
[02:06:55] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[02:06:55] [INFO] [LastChance] Resetting all effects (scene change detected)
[02:06:55] [ENEMY] [Enemy1] Death animation component initialized
[02:06:55] [ENEMY] [Enemy2] Death animation component initialized
[02:06:55] [ENEMY] [Enemy3] Death animation component initialized
[02:06:55] [ENEMY] [Enemy4] Death animation component initialized
[02:06:55] [ENEMY] [Enemy5] Death animation component initialized
[02:06:55] [ENEMY] [Enemy6] Death animation component initialized
[02:06:55] [ENEMY] [Enemy7] Death animation component initialized
[02:06:55] [ENEMY] [Enemy8] Death animation component initialized
[02:06:55] [ENEMY] [Enemy9] Death animation component initialized
[02:06:55] [ENEMY] [Enemy10] Death animation component initialized
[02:06:55] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[02:06:55] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[02:06:55] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[02:06:55] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[02:06:55] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[02:06:55] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[02:06:55] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[02:06:55] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[02:06:55] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[02:06:55] [ENEMY] [Enemy10] Grenade system configured: offensive=2, flashbangs=0
[02:06:55] [INFO] [ScoreManager] Level started with 10 enemies
[02:06:55] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 21)
[02:06:55] [ENEMY] [Enemy1] Registered as sound listener
[02:06:55] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[02:06:55] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 22)
[02:06:55] [ENEMY] [Enemy2] Registered as sound listener
[02:06:55] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[02:06:55] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 23)
[02:06:55] [ENEMY] [Enemy3] Registered as sound listener
[02:06:55] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[02:06:55] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 24)
[02:06:55] [ENEMY] [Enemy4] Registered as sound listener
[02:06:55] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[02:06:55] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 25)
[02:06:55] [ENEMY] [Enemy5] Registered as sound listener
[02:06:55] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[02:06:55] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 26)
[02:06:55] [ENEMY] [Enemy6] Registered as sound listener
[02:06:55] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[02:06:55] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 27)
[02:06:55] [ENEMY] [Enemy7] Registered as sound listener
[02:06:55] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[02:06:55] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 28)
[02:06:55] [ENEMY] [Enemy8] Registered as sound listener
[02:06:55] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[02:06:55] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 29)
[02:06:55] [ENEMY] [Enemy9] Registered as sound listener
[02:06:55] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[02:06:55] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 30)
[02:06:55] [ENEMY] [Enemy10] Registered as sound listener
[02:06:55] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[02:06:55] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[02:06:55] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[02:06:55] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[02:06:55] [INFO] [LastChance] Found player: Player
[02:06:55] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[02:06:55] [INFO] [LastChance] Connected to player Damaged signal (C#)
[02:06:55] [INFO] [LastChance] Connected to player Died signal (C#)
[02:06:55] [INFO] [Player] Detecting weapon pose (frame 3)...
[02:06:55] [INFO] [Player] Detected weapon: Rifle (default pose)
[02:06:55] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[02:06:56] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[02:06:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1143.478, 1519.991), source=ENEMY (Enemy10), range=1469, listeners=30
[02:06:56] [INFO] [SoundPropagation] Cleaned up 20 invalid listeners
[02:06:56] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:06:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1110.812, 1501.915), source=ENEMY (Enemy10), range=1469, listeners=10
[02:06:56] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:06:56] [INFO] [LastChance] Threat detected: Bullet
[02:06:56] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:06:56] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:06:56] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[02:06:56] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[02:06:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1047.705, 1476.524), shooter_id=7888328199214, bullet_pos=(901.2379, 1396.994)
[02:06:56] [INFO] [Bullet] Using shooter_position, distance=166.666519165039
[02:06:56] [INFO] [Bullet] Distance to wall: 166.666519165039 (11.3486297626522% of viewport)
[02:06:56] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:06:56] [INFO] [Bullet] Starting wall penetration at (901.2379, 1396.994)
[02:06:56] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[02:06:56] [INFO] [Bullet] Exiting penetration at (860.2271, 1374.726) after traveling 41.6666717529297 pixels through wall
[02:06:56] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:06:56] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[02:06:58] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[02:06:58] [INFO] [LastChance] Resetting all effects (scene change detected)
[02:06:58] [ENEMY] [Enemy1] Death animation component initialized
[02:06:58] [ENEMY] [Enemy2] Death animation component initialized
[02:06:58] [ENEMY] [Enemy3] Death animation component initialized
[02:06:58] [ENEMY] [Enemy4] Death animation component initialized
[02:06:58] [ENEMY] [Enemy5] Death animation component initialized
[02:06:58] [ENEMY] [Enemy6] Death animation component initialized
[02:06:58] [ENEMY] [Enemy7] Death animation component initialized
[02:06:58] [ENEMY] [Enemy8] Death animation component initialized
[02:06:58] [ENEMY] [Enemy9] Death animation component initialized
[02:06:58] [ENEMY] [Enemy10] Death animation component initialized
[02:06:58] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[02:06:58] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[02:06:58] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[02:06:58] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[02:06:58] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[02:06:58] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[02:06:58] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[02:06:58] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[02:06:58] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[02:06:58] [ENEMY] [Enemy10] Grenade system configured: offensive=2, flashbangs=0
[02:06:58] [INFO] [ScoreManager] Level started with 10 enemies
[02:06:58] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[02:06:58] [ENEMY] [Enemy1] Registered as sound listener
[02:06:58] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[02:06:58] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[02:06:58] [ENEMY] [Enemy2] Registered as sound listener
[02:06:58] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[02:06:58] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[02:06:58] [ENEMY] [Enemy3] Registered as sound listener
[02:06:58] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[02:06:58] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[02:06:58] [ENEMY] [Enemy4] Registered as sound listener
[02:06:58] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[02:06:58] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[02:06:58] [ENEMY] [Enemy5] Registered as sound listener
[02:06:58] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[02:06:58] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[02:06:58] [ENEMY] [Enemy6] Registered as sound listener
[02:06:58] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[02:06:58] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[02:06:58] [ENEMY] [Enemy7] Registered as sound listener
[02:06:58] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[02:06:58] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[02:06:58] [ENEMY] [Enemy8] Registered as sound listener
[02:06:58] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[02:06:58] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[02:06:58] [ENEMY] [Enemy9] Registered as sound listener
[02:06:58] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[02:06:58] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[02:06:58] [ENEMY] [Enemy10] Registered as sound listener
[02:06:58] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[02:06:58] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[02:06:58] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[02:06:58] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[02:06:58] [INFO] [LastChance] Found player: Player
[02:06:58] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[02:06:58] [INFO] [LastChance] Connected to player Damaged signal (C#)
[02:06:58] [INFO] [LastChance] Connected to player Died signal (C#)
[02:06:58] [INFO] [Player] Detecting weapon pose (frame 3)...
[02:06:58] [INFO] [Player] Detected weapon: Rifle (default pose)
[02:06:58] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[02:06:58] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:06:58] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:06:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1171.731, 1535.008), source=ENEMY (Enemy10), range=1469, listeners=20
[02:06:58] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[02:06:58] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=8
[02:06:59] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:06:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1139.423, 1516.307), source=ENEMY (Enemy10), range=1469, listeners=10
[02:06:59] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:06:59] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:06:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1107.906, 1496.302), source=ENEMY (Enemy10), range=1469, listeners=10
[02:06:59] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:06:59] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:06:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1077.226, 1475.035), source=ENEMY (Enemy10), range=1469, listeners=10
[02:06:59] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:06:59] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:06:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1047.428, 1452.549), source=ENEMY (Enemy10), range=1469, listeners=10
[02:06:59] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:06:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1108.874, 1508.939), shooter_id=8059690681944, bullet_pos=(53.14801, 921.1365)
[02:06:59] [INFO] [Bullet] Using shooter_position, distance=1208.33337402344
[02:06:59] [INFO] [Bullet] Distance to wall: 1208.33337402344 (82.277641366406% of viewport)
[02:06:59] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[02:06:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1077.684, 1487.691), shooter_id=8059690681944, bullet_pos=(46.85162, 857.2495)
[02:06:59] [INFO] [Bullet] Using shooter_position, distance=1208.33435058594
[02:06:59] [INFO] [Bullet] Distance to wall: 1208.33435058594 (82.2777078623423% of viewport)
[02:06:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1047.382, 1465.197), shooter_id=8059690681944, bullet_pos=(43.06916, 793.3154)
[02:06:59] [INFO] [Bullet] Using shooter_position, distance=1208.33349609375
[02:06:59] [INFO] [Bullet] Distance to wall: 1208.33349609375 (82.277649678398% of viewport)
[02:06:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1077.684, 1487.691), shooter_id=8059690681944, bullet_pos=(253.6686, 711.6696)
[02:06:59] [INFO] [Bullet] Using shooter_position, distance=1131.90576171875
[02:06:59] [INFO] [Bullet] Distance to wall: 1131.90576171875 (77.0735447065931% of viewport)
[02:06:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1047.382, 1465.197), shooter_id=8059690681944, bullet_pos=(165.4267, 712.4467)
[02:06:59] [INFO] [Bullet] Using shooter_position, distance=1159.5166015625
[02:06:59] [INFO] [Bullet] Distance to wall: 1159.5166015625 (78.9536175634116% of viewport)
[02:06:59] [INFO] [LastChance] Threat detected: @Area2D@8270
[02:06:59] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:06:59] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:06:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1018.01, 1441.508), shooter_id=8059690681944, bullet_pos=(41.67921, 729.5751)
[02:06:59] [INFO] [Bullet] Using shooter_position, distance=1208.33349609375
[02:06:59] [INFO] [Bullet] Distance to wall: 1208.33349609375 (82.277649678398% of viewport)
[02:06:59] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[02:06:59] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[02:06:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1018.01, 1441.508), shooter_id=8059690681944, bullet_pos=(103.5092, 685.6691)
[02:06:59] [INFO] [Bullet] Using shooter_position, distance=1186.4248046875
[02:06:59] [INFO] [Bullet] Distance to wall: 1186.4248046875 (80.7858465940153% of viewport)
[02:06:59] [INFO] [Bullet] Distance-based penetration chance: 52.4165123069821%
[02:06:59] [INFO] [Bullet] Penetration failed (distance roll)
[02:06:59] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[02:06:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(989.6003, 1416.68), shooter_id=8059690681944, bullet_pos=(42.53408, 666.2555)
[02:06:59] [INFO] [Bullet] Using shooter_position, distance=1208.33422851563
[02:06:59] [INFO] [Bullet] Distance to wall: 1208.33422851563 (82.2776995503503% of viewport)
[02:06:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(422.09, 815.2275), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:06:59] [ENEMY] [Enemy1] Heard gunshot at (422.09, 815.2275), source_type=0, intensity=0.01, distance=481
[02:06:59] [ENEMY] [Enemy2] Heard gunshot at (422.09, 815.2275), source_type=0, intensity=0.04, distance=266
[02:06:59] [ENEMY] [Enemy4] Heard gunshot at (422.09, 815.2275), source_type=0, intensity=0.02, distance=387
[02:06:59] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[02:06:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1047.382, 1465.197), shooter_id=8059690681944, bullet_pos=(506.9555, 913.58)
[02:06:59] [INFO] [Bullet] Using shooter_position, distance=772.232238769531
[02:06:59] [INFO] [Bullet] Distance to wall: 772.232238769531 (52.5827131476912% of viewport)
[02:07:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(989.6003, 1416.68), shooter_id=8059690681944, bullet_pos=(289.2895, 456.6706)
[02:07:00] [INFO] [Bullet] Using shooter_position, distance=1188.29846191406
[02:07:00] [INFO] [Bullet] Distance to wall: 1188.29846191406 (80.9134273599238% of viewport)
[02:07:00] [INFO] [Bullet] Distance-based penetration chance: 52.2676680800889%
[02:07:00] [INFO] [Bullet] Penetration failed (distance roll)
[02:07:00] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(395.7903, 787.6211), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:07:00] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[02:07:00] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(631.6605, 760.8545), source=ENEMY (Enemy3), range=1469, listeners=10
[02:07:00] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[02:07:00] [INFO] [LastChance] Threat detected: @Area2D@8285
[02:07:00] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[02:07:00] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:07:00] [ENEMY] [Enemy3] Hit taken, health: 2/3
[02:07:00] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(381.8979, 758.5488), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:07:00] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[02:07:00] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[02:07:00] [ENEMY] [Enemy1] State: COMBAT -> RETREATING
[02:07:00] [ENEMY] [Enemy3] Hit taken, health: 1/3
[02:07:00] [ENEMY] [Enemy1] State: RETREATING -> IN_COVER
[02:07:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1047.382, 1465.197), shooter_id=8059690681944, bullet_pos=(50.58563, 1121.297)
[02:07:00] [INFO] [Bullet] Using shooter_position, distance=1054.45288085938
[02:07:00] [INFO] [Bullet] Distance to wall: 1054.45288085938 (71.7996356255889% of viewport)
[02:07:00] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[02:07:00] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(626.5877, 767.7163), source=ENEMY (Enemy3), range=1469, listeners=10
[02:07:00] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[02:07:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(564.0504, 770.7943), shooter_id=8057694193244, bullet_pos=(47.64274, 787.1495)
[02:07:00] [INFO] [Bullet] Using shooter_position, distance=516.666625976563
[02:07:00] [INFO] [Bullet] Distance to wall: 516.666625976563 (35.1807806288946% of viewport)
[02:07:00] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:07:00] [INFO] [Bullet] Starting wall penetration at (47.64274, 787.1495)
[02:07:00] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(620.2467, 776.2936), source=ENEMY (Enemy3), range=1469, listeners=10
[02:07:00] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[02:07:00] [INFO] [Bullet] Raycast backward hit penetrating body at distance 22.6827507019043
[02:07:00] [INFO] [Bullet] Body exited signal received for penetrating body
[02:07:00] [INFO] [Bullet] Exiting penetration at (9.328617, 788.3629) after traveling 33.3333320617676 pixels through wall
[02:07:00] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:07:00] [INFO] [LastChance] Threat detected: @Area2D@8292
[02:07:00] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[02:07:00] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:07:00] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[02:07:00] [INFO] [LastChance] Resetting all effects (scene change detected)
[02:07:00] [ENEMY] [Enemy1] Death animation component initialized
[02:07:00] [ENEMY] [Enemy2] Death animation component initialized
[02:07:00] [ENEMY] [Enemy3] Death animation component initialized
[02:07:00] [ENEMY] [Enemy4] Death animation component initialized
[02:07:00] [ENEMY] [Enemy5] Death animation component initialized
[02:07:00] [ENEMY] [Enemy6] Death animation component initialized
[02:07:00] [ENEMY] [Enemy7] Death animation component initialized
[02:07:00] [ENEMY] [Enemy8] Death animation component initialized
[02:07:00] [ENEMY] [Enemy9] Death animation component initialized
[02:07:00] [ENEMY] [Enemy10] Death animation component initialized
[02:07:00] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[02:07:00] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[02:07:00] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[02:07:00] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[02:07:00] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[02:07:00] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[02:07:00] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[02:07:00] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[02:07:00] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[02:07:00] [ENEMY] [Enemy10] Grenade system configured: offensive=2, flashbangs=0
[02:07:00] [INFO] [ScoreManager] Level started with 10 enemies
[02:07:00] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[02:07:00] [ENEMY] [Enemy1] Registered as sound listener
[02:07:00] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[02:07:00] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[02:07:00] [ENEMY] [Enemy2] Registered as sound listener
[02:07:00] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[02:07:00] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[02:07:00] [ENEMY] [Enemy3] Registered as sound listener
[02:07:00] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[02:07:00] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[02:07:00] [ENEMY] [Enemy4] Registered as sound listener
[02:07:00] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[02:07:00] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[02:07:00] [ENEMY] [Enemy5] Registered as sound listener
[02:07:00] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[02:07:00] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[02:07:00] [ENEMY] [Enemy6] Registered as sound listener
[02:07:00] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[02:07:00] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[02:07:00] [ENEMY] [Enemy7] Registered as sound listener
[02:07:00] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[02:07:00] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[02:07:00] [ENEMY] [Enemy8] Registered as sound listener
[02:07:00] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[02:07:00] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[02:07:00] [ENEMY] [Enemy9] Registered as sound listener
[02:07:00] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[02:07:00] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[02:07:00] [ENEMY] [Enemy10] Registered as sound listener
[02:07:00] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[02:07:00] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[02:07:00] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[02:07:00] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[02:07:00] [INFO] [LastChance] Found player: Player
[02:07:00] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[02:07:00] [INFO] [LastChance] Connected to player Damaged signal (C#)
[02:07:00] [INFO] [LastChance] Connected to player Died signal (C#)
[02:07:00] [INFO] [Player] Detecting weapon pose (frame 3)...
[02:07:00] [INFO] [Player] Detected weapon: Rifle (default pose)
[02:07:00] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[02:07:01] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:07:01] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:07:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1171.731, 1535.008), source=ENEMY (Enemy10), range=1469, listeners=20
[02:07:01] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[02:07:01] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=8
[02:07:01] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:07:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1139.423, 1516.307), source=ENEMY (Enemy10), range=1469, listeners=10
[02:07:01] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:07:01] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:07:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1107.906, 1496.302), source=ENEMY (Enemy10), range=1469, listeners=10
[02:07:01] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:07:01] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:07:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1077.226, 1475.035), source=ENEMY (Enemy10), range=1469, listeners=10
[02:07:01] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:07:01] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:07:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1047.428, 1452.549), source=ENEMY (Enemy10), range=1469, listeners=10
[02:07:01] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:07:01] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1108.874, 1508.939), shooter_id=8202699671220, bullet_pos=(53.14801, 921.1365)
[02:07:01] [INFO] [Bullet] Using shooter_position, distance=1208.33337402344
[02:07:01] [INFO] [Bullet] Distance to wall: 1208.33337402344 (82.277641366406% of viewport)
[02:07:01] [INFO] [Bullet] Distance-based penetration chance: 50.6760850725264%
[02:07:01] [INFO] [Bullet] Starting wall penetration at (53.14801, 921.1365)
[02:07:01] [INFO] [Bullet] Raycast backward hit penetrating body at distance 22.4616756439209
[02:07:01] [INFO] [Bullet] Body exited signal received for penetrating body
[02:07:01] [INFO] [Bullet] Exiting penetration at (12.37513, 898.4351) after traveling 41.6666641235352 pixels through wall
[02:07:01] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:07:01] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[02:07:01] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1077.684, 1487.691), shooter_id=8202699671220, bullet_pos=(46.85162, 857.2495)
[02:07:01] [INFO] [Bullet] Using shooter_position, distance=1208.33435058594
[02:07:01] [INFO] [Bullet] Distance to wall: 1208.33435058594 (82.2777078623423% of viewport)
[02:07:01] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1047.382, 1465.197), shooter_id=8202699671220, bullet_pos=(43.06916, 793.3154)
[02:07:01] [INFO] [Bullet] Using shooter_position, distance=1208.33349609375
[02:07:01] [INFO] [Bullet] Distance to wall: 1208.33349609375 (82.277649678398% of viewport)
[02:07:01] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1077.684, 1487.691), shooter_id=8202699671220, bullet_pos=(330.1218, 700.4943)
[02:07:01] [INFO] [Bullet] Using shooter_position, distance=1085.60034179688
[02:07:01] [INFO] [Bullet] Distance to wall: 1085.60034179688 (73.9205235159536% of viewport)
[02:07:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1047.382, 1465.197), shooter_id=8202699671220, bullet_pos=(204.4721, 709.0336)
[02:07:02] [INFO] [Bullet] Using shooter_position, distance=1132.37841796875
[02:07:02] [INFO] [Bullet] Distance to wall: 1132.37841796875 (77.1057287397938% of viewport)
[02:07:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1018.01, 1441.508), shooter_id=8202699671220, bullet_pos=(41.67921, 729.5751)
[02:07:02] [INFO] [Bullet] Using shooter_position, distance=1208.33349609375
[02:07:02] [INFO] [Bullet] Distance to wall: 1208.33349609375 (82.277649678398% of viewport)
[02:07:02] [INFO] [LastChance] Threat detected: @Area2D@8547
[02:07:02] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:07:02] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:07:02] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[02:07:02] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[02:07:02] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[02:07:02] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[02:07:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(989.6003, 1416.68), shooter_id=8202699671220, bullet_pos=(42.53408, 666.2555)
[02:07:02] [INFO] [Bullet] Using shooter_position, distance=1208.33422851563
[02:07:02] [INFO] [Bullet] Distance to wall: 1208.33422851563 (82.2776995503503% of viewport)
[02:07:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1077.684, 1487.691), shooter_id=8202699671220, bullet_pos=(703.136, 834.4977)
[02:07:02] [INFO] [Bullet] Using shooter_position, distance=752.959350585938
[02:07:02] [INFO] [Bullet] Distance to wall: 752.959350585938 (51.2703867515539% of viewport)
[02:07:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1018.01, 1441.508), shooter_id=8202699671220, bullet_pos=(339.9864, 471.2947)
[02:07:02] [INFO] [Bullet] Using shooter_position, distance=1183.65087890625
[02:07:02] [INFO] [Bullet] Distance to wall: 1183.65087890625 (80.5969648867703% of viewport)
[02:07:02] [INFO] [Bullet] Distance-based penetration chance: 52.636874298768%
[02:07:02] [INFO] [Bullet] Penetration failed (distance roll)
[02:07:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(419.5312, 797.0654), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:07:02] [ENEMY] [Enemy1] Heard gunshot at (419.5312, 797.0654), source_type=0, intensity=0.01, distance=463
[02:07:02] [ENEMY] [Enemy2] Heard gunshot at (419.5312, 797.0654), source_type=0, intensity=0.04, distance=248
[02:07:02] [ENEMY] [Enemy4] Heard gunshot at (419.5312, 797.0654), source_type=0, intensity=0.02, distance=394
[02:07:02] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[02:07:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1077.684, 1487.691), shooter_id=8202699671220, bullet_pos=(527.5105, 889.7772)
[02:07:02] [INFO] [Bullet] Using shooter_position, distance=812.521911621094
[02:07:02] [INFO] [Bullet] Distance to wall: 812.521911621094 (55.3261110583297% of viewport)
[02:07:02] [INFO] [Bullet] Distance-based penetration chance: 82.1195370986154%
[02:07:02] [INFO] [Bullet] Starting wall penetration at (527.5105, 889.7772)
[02:07:02] [INFO] [Bullet] Raycast backward hit penetrating body at distance 1.74749028682709
[02:07:02] [INFO] [Bullet] Max penetration distance exceeded: 51.1770858764648 >= 48
[02:07:02] [INFO] [Bullet] Body exited signal received for penetrating body
[02:07:02] [INFO] [Bullet] Exiting penetration at (473.9251, 906.6436) after traveling 51.1770858764648 pixels through wall
[02:07:02] [INFO] [Bullet] Damage multiplier after penetration: 0.1125
[02:07:02] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[02:07:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(427.3724, 766.985), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:07:02] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[02:07:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(989.6003, 1416.68), shooter_id=8202699671220, bullet_pos=(510.4065, 404.2257)
[02:07:02] [INFO] [Bullet] Using shooter_position, distance=1120.12963867188
[02:07:02] [INFO] [Bullet] Distance to wall: 1120.12963867188 (76.2716868339505% of viewport)
[02:07:02] [INFO] [Bullet] Distance-based penetration chance: 57.6830320270577%
[02:07:02] [INFO] [Bullet] Starting wall penetration at (510.4065, 404.2257)
[02:07:02] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[02:07:02] [INFO] [Bullet] Raycast backward hit penetrating body at distance 24.8364715576172
[02:07:02] [INFO] [Bullet] Body exited signal received for penetrating body
[02:07:02] [INFO] [Bullet] Exiting penetration at (545.6696, 384.4768) after traveling 35.4166717529297 pixels through wall
[02:07:02] [INFO] [Bullet] Damage multiplier after penetration: 0.45
[02:07:02] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[02:07:02] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[02:07:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(427.3724, 766.985), shooter_id=8203521756576, bullet_pos=(927.5886, 607.5831)
[02:07:02] [INFO] [Bullet] Using shooter_position, distance=525,0002
[02:07:02] [INFO] [Bullet] Distance to wall: 525,0002 (35,74823% of viewport)
[02:07:02] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:07:02] [INFO] [Bullet] Starting wall penetration at (927.5886, 607.5831)
[02:07:02] [INFO] [Bullet] Raycast backward hit penetrating body at distance 37,838577
[02:07:02] [INFO] [Bullet] Body exited signal received for penetrating body
[02:07:02] [INFO] [Bullet] Exiting penetration at (972.0523, 593.41406) after traveling 41,66667 pixels through wall
[02:07:02] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[02:07:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(419.53116, 797.06537), shooter_id=8203521756576, bullet_pos=(1371.5078, 417.1092)
[02:07:02] [INFO] [Bullet] Using shooter_position, distance=1025,0006
[02:07:02] [INFO] [Bullet] Distance to wall: 1025,0006 (69,794174% of viewport)
[02:07:02] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[02:07:02] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[02:07:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(587.3956, 811.9557), source=ENEMY (Enemy3), range=1469, listeners=10
[02:07:02] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[02:07:02] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[02:07:02] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[02:07:02] [INFO] [PenultimateHit] Player died - ending penultimate effect
[02:07:02] [INFO] [LastChance] Player died
[02:07:02] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[02:07:02] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[02:07:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=10
[02:07:02] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=4
[02:07:02] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[02:07:02] [INFO] [LastChance] Resetting all effects (scene change detected)
[02:07:02] [ENEMY] [Enemy1] Death animation component initialized
[02:07:02] [ENEMY] [Enemy2] Death animation component initialized
[02:07:02] [ENEMY] [Enemy3] Death animation component initialized
[02:07:02] [ENEMY] [Enemy4] Death animation component initialized
[02:07:02] [ENEMY] [Enemy5] Death animation component initialized
[02:07:02] [ENEMY] [Enemy6] Death animation component initialized
[02:07:02] [ENEMY] [Enemy7] Death animation component initialized
[02:07:02] [ENEMY] [Enemy8] Death animation component initialized
[02:07:02] [ENEMY] [Enemy9] Death animation component initialized
[02:07:02] [ENEMY] [Enemy10] Death animation component initialized
[02:07:02] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[02:07:02] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[02:07:02] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[02:07:02] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[02:07:02] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[02:07:02] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[02:07:02] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[02:07:02] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[02:07:02] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[02:07:02] [ENEMY] [Enemy10] Grenade system configured: offensive=2, flashbangs=0
[02:07:02] [INFO] [ScoreManager] Level started with 10 enemies
[02:07:02] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[02:07:02] [ENEMY] [Enemy1] Registered as sound listener
[02:07:02] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[02:07:02] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[02:07:02] [ENEMY] [Enemy2] Registered as sound listener
[02:07:02] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[02:07:02] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[02:07:02] [ENEMY] [Enemy3] Registered as sound listener
[02:07:02] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[02:07:02] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[02:07:02] [ENEMY] [Enemy4] Registered as sound listener
[02:07:02] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[02:07:02] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[02:07:02] [ENEMY] [Enemy5] Registered as sound listener
[02:07:02] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[02:07:02] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[02:07:02] [ENEMY] [Enemy6] Registered as sound listener
[02:07:02] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[02:07:02] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[02:07:02] [ENEMY] [Enemy7] Registered as sound listener
[02:07:02] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[02:07:02] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[02:07:02] [ENEMY] [Enemy8] Registered as sound listener
[02:07:02] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[02:07:02] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[02:07:02] [ENEMY] [Enemy9] Registered as sound listener
[02:07:02] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[02:07:02] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[02:07:02] [ENEMY] [Enemy10] Registered as sound listener
[02:07:02] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[02:07:02] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[02:07:02] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[02:07:02] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[02:07:02] [INFO] [LastChance] Found player: Player
[02:07:02] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[02:07:02] [INFO] [LastChance] Connected to player Damaged signal (C#)
[02:07:02] [INFO] [LastChance] Connected to player Died signal (C#)
[02:07:02] [INFO] [Player] Detecting weapon pose (frame 3)...
[02:07:02] [INFO] [Player] Detected weapon: Rifle (default pose)
[02:07:02] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[02:07:03] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[02:07:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1144.067, 1518.928), source=ENEMY (Enemy10), range=1469, listeners=20
[02:07:03] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[02:07:03] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:07:03] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:07:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1112.653, 1498.762), source=ENEMY (Enemy10), range=1469, listeners=10
[02:07:03] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:07:03] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:07:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1082.261, 1477.088), source=ENEMY (Enemy10), range=1469, listeners=10
[02:07:03] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:07:03] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:07:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1052.73, 1454.248), source=ENEMY (Enemy10), range=1469, listeners=10
[02:07:03] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:07:04] [INFO] [LastChance] Threat detected: @Area2D@8820
[02:07:04] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:07:04] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:07:04] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:07:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1023.207, 1431.397), source=ENEMY (Enemy10), range=1469, listeners=10
[02:07:04] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:07:04] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1082.299, 1490.246), shooter_id=8364197152343, bullet_pos=(51.85361, 859.1743)
[02:07:04] [INFO] [Bullet] Using shooter_position, distance=1208.33337402344
[02:07:04] [INFO] [Bullet] Distance to wall: 1208.33337402344 (82.277641366406% of viewport)
[02:07:04] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[02:07:04] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[02:07:04] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[02:07:04] [INFO] [LastChance] Threat detected: @Area2D@8821
[02:07:04] [INFO] [LastChance] Triggering last chance effect!
[02:07:04] [INFO] [LastChance] Starting last chance effect:
[02:07:04] [INFO] [LastChance]   - Time will be frozen (except player)
[02:07:04] [INFO] [LastChance]   - Duration: 6.0 real seconds
[02:07:04] [INFO] [LastChance]   - Sepia intensity: 0.70
[02:07:04] [INFO] [LastChance]   - Brightness: 0.60
[02:07:04] [INFO] [LastChance] Pushed bullet @Area2D@8821 from distance 130.7 to 200.0
[02:07:04] [INFO] [LastChance] Pushed 1 threatening bullets away from player
[02:07:04] [INFO] [LastChance] Set player Player and all 18 children to PROCESS_MODE_ALWAYS
[02:07:04] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[02:07:04] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:07:04] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:07:04] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[02:07:04] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:07:04] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:07:04] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:07:04] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:07:04] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:07:04] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:07:04] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:07:04] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:07:04] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:07:04] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:07:04] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:07:04] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:07:04] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:07:04] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[02:07:04] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[02:07:04] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:07:04] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:07:04] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:07:04] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:07:04] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:07:04] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[02:07:04] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[02:07:04] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:07:04] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[02:07:04] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[02:07:04] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:07:04] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:07:04] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[02:07:04] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[02:07:04] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[02:07:04] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[02:07:04] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[02:07:04] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[02:07:04] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[02:07:04] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[02:07:04] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[02:07:04] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[02:07:04] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[02:07:04] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[02:07:04] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[02:07:04] [INFO] [LastChance] Skipping player node: Player
[02:07:04] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[02:07:04] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[02:07:04] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[02:07:05] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@8823
[02:07:05] [INFO] [LastChance] Registered frozen player bullet: @Area2D@8823
[02:07:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(437.7224, 760.71), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:07:05] [ENEMY] [Enemy1] Heard gunshot at (437.7224, 760.71), source_type=0, intensity=0.01, distance=433
[02:07:05] [ENEMY] [Enemy2] Heard gunshot at (437.7224, 760.71), source_type=0, intensity=0.05, distance=214
[02:07:05] [ENEMY] [Enemy3] Heard gunshot at (437.7224, 760.71), source_type=0, intensity=0.04, distance=262
[02:07:05] [ENEMY] [Enemy4] Heard gunshot at (437.7224, 760.71), source_type=0, intensity=0.02, distance=388
[02:07:05] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[02:07:05] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@8824
[02:07:05] [INFO] [LastChance] Registered frozen player bullet: @Area2D@8824
[02:07:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(454.6433, 740.2208), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:07:05] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[02:07:07] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@8826
[02:07:07] [INFO] [LastChance] Registered frozen player bullet: @Area2D@8826
[02:07:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(737.9297, 989.9335), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:07:07] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=7
[02:07:07] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@8828
[02:07:07] [INFO] [LastChance] Registered frozen player bullet: @Area2D@8828
[02:07:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(737.9297, 989.9335), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:07:07] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=7
[02:07:08] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[02:07:08] [ENEMY] [Enemy1] Player reloading state changed: false -> true
[02:07:08] [ENEMY] [Enemy2] Player reloading state changed: false -> true
[02:07:08] [ENEMY] [Enemy3] Player reloading state changed: false -> true
[02:07:08] [ENEMY] [Enemy4] Player reloading state changed: false -> true
[02:07:08] [ENEMY] [Enemy5] Player reloading state changed: false -> true
[02:07:08] [ENEMY] [Enemy6] Player reloading state changed: false -> true
[02:07:08] [ENEMY] [Enemy7] Player reloading state changed: false -> true
[02:07:08] [ENEMY] [Enemy8] Player reloading state changed: false -> true
[02:07:08] [ENEMY] [Enemy9] Player reloading state changed: false -> true
[02:07:08] [ENEMY] [Enemy10] Player reloading state changed: false -> true
[02:07:08] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(703.205, 927.8568), source=PLAYER (Player), range=900, listeners=10
[02:07:08] [ENEMY] [Enemy2] Heard player RELOAD at (703.205, 927.8568), intensity=0.01, distance=484
[02:07:08] [ENEMY] [Enemy3] Heard player RELOAD at (703.205, 927.8568), intensity=0.08, distance=178
[02:07:08] [ENEMY] [Enemy4] Heard player RELOAD at (703.205, 927.8568), intensity=0.25, distance=101
[02:07:08] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=5, self=0, below_threshold=2
[02:07:08] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[02:07:08] [INFO] [Player.Reload.Anim] Phase changed to: PullBolt (duration: 0,35s)
[02:07:08] [ENEMY] [Enemy1] Player reloading state changed: true -> false
[02:07:08] [ENEMY] [Enemy2] Player reloading state changed: true -> false
[02:07:08] [ENEMY] [Enemy3] Player reloading state changed: true -> false
[02:07:08] [ENEMY] [Enemy4] Player reloading state changed: true -> false
[02:07:08] [ENEMY] [Enemy5] Player reloading state changed: true -> false
[02:07:08] [ENEMY] [Enemy6] Player reloading state changed: true -> false
[02:07:08] [ENEMY] [Enemy7] Player reloading state changed: true -> false
[02:07:08] [ENEMY] [Enemy8] Player reloading state changed: true -> false
[02:07:08] [ENEMY] [Enemy9] Player reloading state changed: true -> false
[02:07:08] [ENEMY] [Enemy10] Player reloading state changed: true -> false
[02:07:08] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[02:07:08] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[02:07:10] [INFO] [LastChance] Effect duration expired after 6.00 real seconds
[02:07:10] [INFO] [LastChance] Ending last chance effect
[02:07:10] [INFO] [LastChance] All process modes restored
[02:07:10] [INFO] [LastChance] Unfroze player bullet: @Area2D@8823
[02:07:10] [INFO] [LastChance] Unfroze player bullet: @Area2D@8824
[02:07:10] [INFO] [LastChance] Unfroze player bullet: @Area2D@8826
[02:07:10] [INFO] [LastChance] Unfroze player bullet: @Area2D@8828
[02:07:10] [INFO] [LastChance] Restored original colors to 5 player sprites
[02:07:10] [INFO] [LastChance] Called player RefreshHealthVisual (C#)
[02:07:10] [ENEMY] [Enemy1] Player distracted - priority attack triggered
[02:07:10] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[02:07:10] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[02:07:10] [ENEMY] [Enemy4] Hit taken, health: 3/4
[02:07:10] [ENEMY] [Enemy4] Hit taken, health: 2/4
[02:07:10] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1052.435, 1467.068), shooter_id=8364197152343, bullet_pos=(54.71786, 785.4303)
[02:07:10] [INFO] [Bullet] Using shooter_position, distance=1208.33374023438
[02:07:10] [INFO] [Bullet] Distance to wall: 1208.33374023438 (82.2776663023821% of viewport)
[02:07:10] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1082.299, 1490.246), shooter_id=8364197152343, bullet_pos=(352.2941, 704.5029)
[02:07:10] [INFO] [Bullet] Using shooter_position, distance=1072.52026367188
[02:07:10] [INFO] [Bullet] Distance to wall: 1072.52026367188 (73.0298769442795% of viewport)
[02:07:10] [ENEMY] [Enemy3] Hit taken, health: 1/2
[02:07:10] [ENEMY] [Enemy3] Hit taken, health: 0/2
[02:07:10] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[02:07:10] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[02:07:10] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[02:07:10] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[02:07:10] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[02:07:10] [ENEMY] [Enemy1] Player distracted - priority attack triggered
[02:07:10] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[02:07:10] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1052.435, 1467.068), shooter_id=8364197152343, bullet_pos=(213.2012, 711.2142)
[02:07:10] [INFO] [Bullet] Using shooter_position, distance=1129.43762207031
[02:07:10] [INFO] [Bullet] Distance to wall: 1129.43762207031 (76.9054845394224% of viewport)
[02:07:10] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1082.299, 1490.246), shooter_id=8364197152343, bullet_pos=(512.3037, 820.5592)
[02:07:10] [INFO] [Bullet] Using shooter_position, distance=879.417541503906
[02:07:10] [INFO] [Bullet] Distance to wall: 879.417541503906 (59.881157507267% of viewport)
[02:07:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(800, 900), source=ENEMY (Enemy4), range=1469, listeners=9
[02:07:10] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=7
[02:07:10] [INFO] [LastChance] Threat detected: @Area2D@8836
[02:07:10] [INFO] [LastChance] Effect already used this life
[02:07:10] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:07:10] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[02:07:10] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[02:07:10] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[02:07:10] [INFO] [PenultimateHit] Player died - ending penultimate effect
[02:07:10] [INFO] [LastChance] Player died
[02:07:10] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(994.6267, 1418.828), shooter_id=8364197152343, bullet_pos=(58.10903, 686.1891)
[02:07:10] [INFO] [Bullet] Using shooter_position, distance=1189.04370117188
[02:07:10] [INFO] [Bullet] Distance to wall: 1189.04370117188 (80.9641720713624% of viewport)
[02:07:10] [INFO] [Bullet] Distance-based penetration chance: 52.2084659167439%
[02:07:10] [INFO] [Bullet] Penetration failed (distance roll)
[02:07:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(800, 900), source=ENEMY (Enemy4), range=1469, listeners=9
[02:07:10] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=7
[02:07:10] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1052.435, 1467.068), shooter_id=8364197152343, bullet_pos=(516.4038, 869.7899)
[02:07:10] [INFO] [Bullet] Using shooter_position, distance=802.540588378906
[02:07:10] [INFO] [Bullet] Distance to wall: 802.540588378906 (54.6464644047341% of viewport)
[02:07:10] [INFO] [LastChance] Threat detected: @Area2D@8838
[02:07:10] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:07:10] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:07:10] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[02:07:10] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(964.7426, 1396.577), shooter_id=8364197152343, bullet_pos=(63.91397, 708.8607)
[02:07:10] [INFO] [Bullet] Using shooter_position, distance=1133.33374023438
[02:07:10] [INFO] [Bullet] Distance to wall: 1133.33374023438 (77.1707783895429% of viewport)
[02:07:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(800, 900), source=ENEMY (Enemy4), range=1469, listeners=9
[02:07:10] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=7
[02:07:10] [INFO] [LastChance] Threat detected: @Area2D@8841
[02:07:10] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:07:10] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:07:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(800, 900), source=ENEMY (Enemy4), range=1469, listeners=9
[02:07:10] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=7
[02:07:10] [INFO] [LastChance] Threat detected: @Area2D@8842
[02:07:10] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:07:10] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:07:10] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[02:07:10] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(964.7426, 1396.577), shooter_id=8364197152343, bullet_pos=(341.8322, 459.5831)
[02:07:10] [INFO] [Bullet] Using shooter_position, distance=1125.15515136719
[02:07:10] [INFO] [Bullet] Distance to wall: 1125.15515136719 (76.6138832344773% of viewport)
[02:07:10] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[02:07:10] [ENEMY] [Enemy2] Pursuing vulnerability sound at (703.205, 927.8568), distance=378
[02:07:10] [ENEMY] [Enemy3] Ragdoll activated
[02:07:10] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[02:07:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(800, 900), source=ENEMY (Enemy4), range=1469, listeners=9
[02:07:10] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=7
[02:07:10] [INFO] [LastChance] Threat detected: Bullet
[02:07:10] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:07:10] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:07:11] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[02:07:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(468.8038, 651.1874), source=ENEMY (Enemy2), range=1469, listeners=9
[02:07:11] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=3
[02:07:11] [ENEMY] [Enemy1] State: PURSUING -> RETREATING
[02:07:11] [ENEMY] [Enemy1] State: RETREATING -> IN_COVER
[02:07:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(800, 900), source=ENEMY (Enemy4), range=1469, listeners=9
[02:07:11] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=7
[02:07:11] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[02:07:11] [INFO] [LastChance] Resetting all effects (scene change detected)
[02:07:11] [ENEMY] [Enemy1] Death animation component initialized
[02:07:11] [ENEMY] [Enemy2] Death animation component initialized
[02:07:11] [ENEMY] [Enemy3] Death animation component initialized
[02:07:11] [ENEMY] [Enemy4] Death animation component initialized
[02:07:11] [ENEMY] [Enemy5] Death animation component initialized
[02:07:11] [ENEMY] [Enemy6] Death animation component initialized
[02:07:11] [ENEMY] [Enemy7] Death animation component initialized
[02:07:11] [ENEMY] [Enemy8] Death animation component initialized
[02:07:11] [ENEMY] [Enemy9] Death animation component initialized
[02:07:11] [ENEMY] [Enemy10] Death animation component initialized
[02:07:11] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[02:07:11] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[02:07:11] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[02:07:11] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[02:07:11] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[02:07:11] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[02:07:11] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[02:07:11] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[02:07:11] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[02:07:11] [ENEMY] [Enemy10] Grenade system configured: offensive=2, flashbangs=0
[02:07:11] [INFO] [ScoreManager] Level started with 10 enemies
[02:07:11] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[02:07:11] [ENEMY] [Enemy1] Registered as sound listener
[02:07:11] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[02:07:11] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[02:07:11] [ENEMY] [Enemy2] Registered as sound listener
[02:07:11] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[02:07:11] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[02:07:11] [ENEMY] [Enemy3] Registered as sound listener
[02:07:11] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[02:07:11] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[02:07:11] [ENEMY] [Enemy4] Registered as sound listener
[02:07:11] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[02:07:11] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[02:07:11] [ENEMY] [Enemy5] Registered as sound listener
[02:07:11] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[02:07:11] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[02:07:11] [ENEMY] [Enemy6] Registered as sound listener
[02:07:11] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[02:07:11] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[02:07:11] [ENEMY] [Enemy7] Registered as sound listener
[02:07:11] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[02:07:11] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[02:07:11] [ENEMY] [Enemy8] Registered as sound listener
[02:07:11] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[02:07:11] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[02:07:11] [ENEMY] [Enemy9] Registered as sound listener
[02:07:11] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[02:07:11] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[02:07:11] [ENEMY] [Enemy10] Registered as sound listener
[02:07:11] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[02:07:11] [INFO] [Player] Detecting weapon pose (frame 3)...
[02:07:11] [INFO] [Player] Detected weapon: Rifle (default pose)
[02:07:11] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[02:07:11] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[02:07:11] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[02:07:11] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[02:07:11] [INFO] [LastChance] Found player: Player
[02:07:11] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[02:07:11] [INFO] [LastChance] Connected to player Damaged signal (C#)
[02:07:11] [INFO] [LastChance] Connected to player Died signal (C#)
[02:07:12] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[02:07:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(696.6359, 1257.296), source=PLAYER (AssaultRifle), range=1469, listeners=19
[02:07:12] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[02:07:12] [ENEMY] [Enemy4] Heard gunshot at (696.6359, 1257.296), source_type=0, intensity=0.02, distance=372
[02:07:12] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=8
[02:07:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1144.105, 1518.857), source=ENEMY (Enemy10), range=1469, listeners=10
[02:07:12] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:07:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(692.0209, 1245.073), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:07:12] [ENEMY] [Enemy3] Heard gunshot at (692.0209, 1245.073), source_type=0, intensity=0.01, distance=495
[02:07:12] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=6
[02:07:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1112.275, 1499.349), source=ENEMY (Enemy10), range=1469, listeners=10
[02:07:12] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:07:12] [INFO] [LastChance] Threat detected: @Area2D@9109
[02:07:12] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:07:12] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:07:12] [ENEMY] [Enemy10] Hit taken, health: 3/4
[02:07:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(784.4486, 956.4835), source=ENEMY (Enemy4), range=1469, listeners=10
[02:07:12] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=8
[02:07:12] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(767.774, 1022.457), shooter_id=8528546761138, bullet_pos=(767.774, 1022.457)
[02:07:12] [INFO] [Bullet] Using shooter_position, distance=0
[02:07:12] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[02:07:12] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[02:07:12] [INFO] [Bullet] Starting wall penetration at (767.774, 1022.457)
[02:07:12] [INFO] [Bullet] Raycast backward hit penetrating body at distance 36.6835594177246
[02:07:12] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[02:07:12] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[02:07:12] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[02:07:12] [INFO] [Bullet] Body exited signal received for penetrating body
[02:07:12] [INFO] [Bullet] Exiting penetration at (754.1827, 1058.3) after traveling 33.3333358764648 pixels through wall
[02:07:12] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:07:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(692.0209, 1245.0728), shooter_id=8531080120208, bullet_pos=(992.0662, 1390.2758)
[02:07:13] [INFO] [Bullet] Using shooter_position, distance=333,33334
[02:07:13] [INFO] [Bullet] Distance to wall: 333,33334 (22,69728% of viewport)
[02:07:13] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:07:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1083.203, 1481.463), source=ENEMY (Enemy10), range=1469, listeners=10
[02:07:13] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:07:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(692.0209, 1245.0728), shooter_id=8531080120208, bullet_pos=(908.45996, 1423.5923)
[02:07:13] [INFO] [Bullet] Using shooter_position, distance=280,5621
[02:07:13] [INFO] [Bullet] Distance to wall: 280,5621 (19,10399% of viewport)
[02:07:13] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:07:13] [INFO] [Bullet] Starting wall penetration at (908.45996, 1423.5923)
[02:07:13] [INFO] [LastChance] Threat detected: @Area2D@9112
[02:07:13] [INFO] [LastChance] Triggering last chance effect!
[02:07:13] [INFO] [LastChance] Starting last chance effect:
[02:07:13] [INFO] [LastChance]   - Time will be frozen (except player)
[02:07:13] [INFO] [LastChance]   - Duration: 6.0 real seconds
[02:07:13] [INFO] [LastChance]   - Sepia intensity: 0.70
[02:07:13] [INFO] [LastChance]   - Brightness: 0.60
[02:07:13] [INFO] [LastChance] Pushed bullet @Area2D@9112 from distance 133.2 to 200.0
[02:07:13] [INFO] [LastChance] Pushed 1 threatening bullets away from player
[02:07:13] [INFO] [LastChance] Set player Player and all 18 children to PROCESS_MODE_ALWAYS
[02:07:13] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[02:07:13] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:07:13] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:07:13] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[02:07:13] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:07:13] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:07:13] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:07:13] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:07:13] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:07:13] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:07:13] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:07:13] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:07:13] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:07:13] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:07:13] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:07:13] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:07:13] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:07:13] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[02:07:13] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[02:07:13] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:07:13] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:07:13] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:07:13] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:07:13] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:07:13] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[02:07:13] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[02:07:13] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:07:13] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[02:07:13] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[02:07:13] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:07:13] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:07:13] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[02:07:13] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[02:07:13] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[02:07:13] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[02:07:13] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[02:07:13] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[02:07:13] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[02:07:13] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[02:07:13] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[02:07:13] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[02:07:13] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[02:07:13] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[02:07:13] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[02:07:13] [INFO] [LastChance] Skipping player node: Player
[02:07:13] [INFO] [Bullet] Body exited signal received for penetrating body
[02:07:13] [INFO] [Bullet] Exiting penetration at (903.8152, 1425.4432) after traveling 0 pixels through wall
[02:07:13] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[02:07:13] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[02:07:13] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[02:07:13] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[02:07:13] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[02:07:13] [INFO] [LastChance] Resetting all effects (scene change detected)
[02:07:13] [INFO] [LastChance] Ending last chance effect
[02:07:13] [INFO] [LastChance] All process modes restored
[02:07:13] [INFO] [LastChance] Restored original colors to 5 player sprites
[02:07:13] [ENEMY] [Enemy1] Death animation component initialized
[02:07:13] [ENEMY] [Enemy2] Death animation component initialized
[02:07:13] [ENEMY] [Enemy3] Death animation component initialized
[02:07:13] [ENEMY] [Enemy4] Death animation component initialized
[02:07:13] [ENEMY] [Enemy5] Death animation component initialized
[02:07:13] [ENEMY] [Enemy6] Death animation component initialized
[02:07:13] [ENEMY] [Enemy7] Death animation component initialized
[02:07:13] [ENEMY] [Enemy8] Death animation component initialized
[02:07:13] [ENEMY] [Enemy9] Death animation component initialized
[02:07:13] [ENEMY] [Enemy10] Death animation component initialized
[02:07:13] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[02:07:13] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[02:07:13] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[02:07:13] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[02:07:13] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[02:07:13] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[02:07:13] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[02:07:13] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[02:07:13] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[02:07:13] [ENEMY] [Enemy10] Grenade system configured: offensive=2, flashbangs=0
[02:07:13] [INFO] [ScoreManager] Level started with 10 enemies
[02:07:13] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[02:07:13] [ENEMY] [Enemy1] Registered as sound listener
[02:07:13] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[02:07:13] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[02:07:13] [ENEMY] [Enemy2] Registered as sound listener
[02:07:13] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[02:07:13] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[02:07:13] [ENEMY] [Enemy3] Registered as sound listener
[02:07:13] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[02:07:13] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[02:07:13] [ENEMY] [Enemy4] Registered as sound listener
[02:07:13] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[02:07:13] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[02:07:13] [ENEMY] [Enemy5] Registered as sound listener
[02:07:13] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[02:07:13] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[02:07:13] [ENEMY] [Enemy6] Registered as sound listener
[02:07:13] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[02:07:13] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[02:07:13] [ENEMY] [Enemy7] Registered as sound listener
[02:07:13] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[02:07:13] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[02:07:13] [ENEMY] [Enemy8] Registered as sound listener
[02:07:13] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[02:07:13] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[02:07:13] [ENEMY] [Enemy9] Registered as sound listener
[02:07:13] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[02:07:13] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[02:07:13] [ENEMY] [Enemy10] Registered as sound listener
[02:07:13] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[02:07:13] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[02:07:13] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[02:07:13] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[02:07:13] [INFO] [LastChance] Found player: Player
[02:07:13] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[02:07:13] [INFO] [LastChance] Connected to player Damaged signal (C#)
[02:07:13] [INFO] [LastChance] Connected to player Died signal (C#)
[02:07:13] [INFO] [Player] Detecting weapon pose (frame 3)...
[02:07:13] [INFO] [Player] Detected weapon: Rifle (default pose)
[02:07:13] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[02:07:13] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:07:14] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:07:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1171.731, 1535.008), source=ENEMY (Enemy10), range=1469, listeners=20
[02:07:14] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[02:07:14] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=8
[02:07:14] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:07:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1139.423, 1516.307), source=ENEMY (Enemy10), range=1469, listeners=10
[02:07:14] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:07:14] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:07:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1107.906, 1496.302), source=ENEMY (Enemy10), range=1469, listeners=10
[02:07:14] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:07:14] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:07:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1077.226, 1475.035), source=ENEMY (Enemy10), range=1469, listeners=10
[02:07:14] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:07:14] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:07:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1047.428, 1452.549), source=ENEMY (Enemy10), range=1469, listeners=10
[02:07:14] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:07:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1108.874, 1508.939), shooter_id=8657882318362, bullet_pos=(53.14801, 921.1365)
[02:07:14] [INFO] [Bullet] Using shooter_position, distance=1208.33337402344
[02:07:14] [INFO] [Bullet] Distance to wall: 1208.33337402344 (82.277641366406% of viewport)
[02:07:14] [INFO] [Bullet] Distance-based penetration chance: 50.6760850725264%
[02:07:14] [INFO] [Bullet] Starting wall penetration at (53.14801, 921.1365)
[02:07:14] [INFO] [Bullet] Raycast backward hit penetrating body at distance 22.4616756439209
[02:07:14] [INFO] [Bullet] Body exited signal received for penetrating body
[02:07:14] [INFO] [Bullet] Exiting penetration at (12.37513, 898.4351) after traveling 41.6666641235352 pixels through wall
[02:07:14] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:07:14] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[02:07:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1077.684, 1487.691), shooter_id=8657882318362, bullet_pos=(46.85162, 857.2495)
[02:07:14] [INFO] [Bullet] Using shooter_position, distance=1208.33435058594
[02:07:14] [INFO] [Bullet] Distance to wall: 1208.33435058594 (82.2777078623423% of viewport)
[02:07:14] [INFO] [Bullet] Distance-based penetration chance: 50.676007493934%
[02:07:14] [INFO] [Bullet] Penetration failed (distance roll)
[02:07:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1047.382, 1465.197), shooter_id=8657882318362, bullet_pos=(43.06916, 793.3154)
[02:07:14] [INFO] [Bullet] Using shooter_position, distance=1208.33349609375
[02:07:14] [INFO] [Bullet] Distance to wall: 1208.33349609375 (82.277649678398% of viewport)
[02:07:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1047.382, 1465.197), shooter_id=8657882318362, bullet_pos=(151.4833, 694.5353)
[02:07:14] [INFO] [Bullet] Using shooter_position, distance=1181.75903320313
[02:07:14] [INFO] [Bullet] Distance to wall: 1181.75903320313 (80.468145634047% of viewport)
[02:07:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1018.01, 1441.508), shooter_id=8657882318362, bullet_pos=(41.67921, 729.5751)
[02:07:14] [INFO] [Bullet] Using shooter_position, distance=1208.33349609375
[02:07:14] [INFO] [Bullet] Distance to wall: 1208.33349609375 (82.277649678398% of viewport)
[02:07:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1018.01, 1441.508), shooter_id=8657882318362, bullet_pos=(109.5114, 695.6711)
[02:07:14] [INFO] [Bullet] Using shooter_position, distance=1175.43273925781
[02:07:14] [INFO] [Bullet] Distance to wall: 1175.43273925781 (80.0373766462819% of viewport)
[02:07:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1018.01, 1441.508), shooter_id=8657882318362, bullet_pos=(47.52186, 675.437)
[02:07:14] [INFO] [Bullet] Using shooter_position, distance=1236.41076660156
[02:07:14] [INFO] [Bullet] Distance to wall: 1236.41076660156 (84.1894826568229% of viewport)
[02:07:14] [INFO] [Bullet] Distance-based penetration chance: 48.44560356704%
[02:07:14] [INFO] [Bullet] Penetration failed (distance roll)
[02:07:14] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[02:07:15] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(989.6003, 1416.68), shooter_id=8657882318362, bullet_pos=(42.53408, 666.2555)
[02:07:15] [INFO] [Bullet] Using shooter_position, distance=1208.33422851563
[02:07:15] [INFO] [Bullet] Distance to wall: 1208.33422851563 (82.2776995503503% of viewport)
[02:07:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450.308, 798.2942), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:07:15] [ENEMY] [Enemy1] Heard gunshot at (450.308, 798.2942), source_type=0, intensity=0.01, distance=473
[02:07:15] [ENEMY] [Enemy2] Heard gunshot at (450.308, 798.2942), source_type=0, intensity=0.04, distance=253
[02:07:15] [ENEMY] [Enemy4] Heard gunshot at (450.308, 798.2942), source_type=0, intensity=0.02, distance=364
[02:07:15] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[02:07:15] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1047.382, 1465.197), shooter_id=8657882318362, bullet_pos=(506.5681, 930.7167)
[02:07:15] [INFO] [Bullet] Using shooter_position, distance=760.361267089844
[02:07:15] [INFO] [Bullet] Distance to wall: 760.361267089844 (51.7743968572292% of viewport)
[02:07:15] [INFO] [Bullet] Distance-based penetration chance: 86.263203666566%
[02:07:15] [INFO] [Bullet] Penetration failed (distance roll)
[02:07:15] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(989.6003, 1416.68), shooter_id=8657882318362, bullet_pos=(260.7315, 477.7722)
[02:07:15] [INFO] [Bullet] Using shooter_position, distance=1188.61169433594
[02:07:15] [INFO] [Bullet] Distance to wall: 1188.61169433594 (80.9347559315129% of viewport)
[02:07:15] [ENEMY] [Enemy3] Hit taken, health: 3/4
[02:07:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(460.4727, 765.2254), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:07:15] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[02:07:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[02:07:15] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[02:07:15] [INFO] [LastChance] Threat detected: @Area2D@9382
[02:07:15] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:07:15] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:07:15] [ENEMY] [Enemy3] Hit taken, health: 2/4
[02:07:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(479.7835, 743.3364), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:07:15] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[02:07:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[02:07:15] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[02:07:15] [INFO] [LastChance] Threat detected: @Area2D@9385
[02:07:15] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:07:15] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:07:15] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[02:07:15] [ENEMY] [Enemy3] Hit taken, health: 1/4
[02:07:15] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[02:07:15] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[02:07:15] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[02:07:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(692.5667, 756.3875), source=ENEMY (Enemy3), range=1469, listeners=10
[02:07:15] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[02:07:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(505.1871, 734.1135), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:07:15] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[02:07:15] [INFO] [LastChance] Threat detected: Bullet
[02:07:15] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:07:15] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:07:15] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(616.8107, 762.2057), shooter_id=8655885831194, bullet_pos=(50.17018, 767.6345)
[02:07:15] [INFO] [Bullet] Using shooter_position, distance=566.66650390625
[02:07:15] [INFO] [Bullet] Distance to wall: 566.66650390625 (38.5853642587953% of viewport)
[02:07:15] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:07:15] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(989.6003, 1416.68), shooter_id=8657882318362, bullet_pos=(687.5442, 819.6836)
[02:07:15] [INFO] [Bullet] Using shooter_position, distance=669.06103515625
[02:07:15] [INFO] [Bullet] Distance to wall: 669.06103515625 (45.5575961785481% of viewport)
[02:07:15] [INFO] [Bullet] Distance-based penetration chance: 93.5161377916939%
[02:07:15] [INFO] [Bullet] Starting wall penetration at (687.5442, 819.6836)
[02:07:15] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[02:07:15] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[02:07:15] [INFO] [Bullet] Exiting penetration at (710.2425, 837.8668) after traveling 24.0833358764648 pixels through wall
[02:07:15] [INFO] [Bullet] Damage multiplier after penetration: 0.225
[02:07:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700.7252, 763.2574), source=ENEMY (Enemy3), range=1469, listeners=10
[02:07:15] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[02:07:15] [ENEMY] [Enemy3] Hit taken, health: 0/4
[02:07:15] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[02:07:15] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[02:07:15] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[02:07:15] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[02:07:15] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[02:07:15] [INFO] [LastChance] Threat detected: @Area2D@9391
[02:07:15] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:07:15] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:07:15] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[02:07:15] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[02:07:15] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[02:07:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=9
[02:07:15] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=3
[02:07:15] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[02:07:15] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[02:07:15] [INFO] [LastChance] Threat detected: @Area2D@9393
[02:07:15] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[02:07:15] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:07:15] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(624.555, 754.1473), shooter_id=8655885831194, bullet_pos=(57.89395, 756.7018)
[02:07:15] [INFO] [Bullet] Using shooter_position, distance=566.666748046875
[02:07:15] [INFO] [Bullet] Distance to wall: 566.666748046875 (38.5853808827794% of viewport)
[02:07:15] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:07:15] [INFO] [Bullet] Starting wall penetration at (57.89395, 756.7018)
[02:07:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=9
[02:07:15] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=3
[02:07:15] [INFO] [Bullet] Raycast backward hit penetrating body at distance 12.4391136169434
[02:07:15] [INFO] [Bullet] Body exited signal received for penetrating body
[02:07:15] [INFO] [Bullet] Exiting penetration at (19.56101, 756.8746) after traveling 33.3333320617676 pixels through wall
[02:07:15] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:07:15] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[02:07:15] [INFO] [LastChance] Threat detected: @Area2D@9395
[02:07:15] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[02:07:15] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:07:15] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(434.4422, 608.8087), shooter_id=8655600617946, bullet_pos=(497.6493, 686.2997)
[02:07:15] [INFO] [Bullet] Using shooter_position, distance=99.9999313354492
[02:07:15] [INFO] [Bullet] Distance to wall: 99.9999313354492 (6.80917920829002% of viewport)
[02:07:15] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:07:15] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(433.6075, 609.206), shooter_id=8655600617946, bullet_pos=(678.2864, 835.5762)
[02:07:15] [INFO] [Bullet] Using shooter_position, distance=333.33349609375
[02:07:15] [INFO] [Bullet] Distance to wall: 333.33349609375 (22.6972906952745% of viewport)
[02:07:15] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:07:15] [INFO] [Bullet] Starting wall penetration at (678.2864, 835.5762)
[02:07:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=9
[02:07:15] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=3
[02:07:15] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[02:07:15] [INFO] [Bullet] Exiting penetration at (706.4244, 861.6088) after traveling 33.3333320617676 pixels through wall
[02:07:15] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:07:15] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(434.4942, 608.6428), shooter_id=8655600617946, bullet_pos=(487.9482, 693.1572)
[02:07:15] [INFO] [Bullet] Using shooter_position, distance=100.000007629395
[02:07:15] [INFO] [Bullet] Distance to wall: 100.000007629395 (6.80918440328504% of viewport)
[02:07:15] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:07:15] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[02:07:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=9
[02:07:15] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=3
[02:07:15] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[02:07:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(433.1616, 609.3357), shooter_id=8655600617946, bullet_pos=(469.7115, 702.4168)
[02:07:16] [INFO] [Bullet] Using shooter_position, distance=99.9999313354492
[02:07:16] [INFO] [Bullet] Distance to wall: 99.9999313354492 (6.80917920829002% of viewport)
[02:07:16] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:07:16] [ENEMY] [Enemy2] State: SEEKING_COVER -> IN_COVER
[02:07:16] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[02:07:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(726.2646, 914.0656), source=ENEMY (Enemy4), range=1469, listeners=9
[02:07:16] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[02:07:16] [INFO] [LastChance] Threat detected: @Area2D@9401
[02:07:16] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[02:07:16] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:07:16] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[02:07:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(433.1616, 609.3357), shooter_id=8655600617946, bullet_pos=(516.4626, 593.7103)
[02:07:16] [INFO] [Bullet] Using shooter_position, distance=84.7538757324219
[02:07:16] [INFO] [Bullet] Distance to wall: 84.7538757324219 (5.7710472472557% of viewport)
[02:07:16] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:07:16] [ENEMY] [Enemy4] State: PURSUING -> RETREATING
[02:07:16] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[02:07:16] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[02:07:16] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[02:07:16] [ENEMY] [Enemy3] Ragdoll activated
[02:07:16] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[02:07:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(739.8842, 914.0654), source=ENEMY (Enemy4), range=1469, listeners=9
[02:07:16] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[02:07:16] [INFO] [LastChance] Threat detected: @Area2D@9414
[02:07:16] [INFO] [LastChance] Triggering last chance effect!
[02:07:16] [INFO] [LastChance] Starting last chance effect:
[02:07:16] [INFO] [LastChance]   - Time will be frozen (except player)
[02:07:16] [INFO] [LastChance]   - Duration: 6.0 real seconds
[02:07:16] [INFO] [LastChance]   - Sepia intensity: 0.70
[02:07:16] [INFO] [LastChance]   - Brightness: 0.60
[02:07:16] [INFO] [LastChance] Pushed bullet @Area2D@9399 from distance 130.5 to 200.0
[02:07:16] [INFO] [LastChance] Pushed bullet @Area2D@9414 from distance 94.0 to 200.0
[02:07:16] [INFO] [LastChance] Pushed 2 threatening bullets away from player
[02:07:16] [INFO] [LastChance] Set player Player and all 18 children to PROCESS_MODE_ALWAYS
[02:07:16] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[02:07:16] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:07:16] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:07:16] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[02:07:16] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:07:16] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:07:16] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:07:16] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:07:16] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:07:16] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:07:16] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:07:16] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:07:16] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:07:16] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:07:16] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:07:16] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:07:16] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:07:16] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[02:07:16] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[02:07:16] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:07:16] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:07:16] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:07:16] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:07:16] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:07:16] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[02:07:16] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[02:07:16] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:07:16] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[02:07:16] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[02:07:16] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:07:16] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:07:16] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[02:07:16] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[02:07:16] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[02:07:16] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[02:07:16] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[02:07:16] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[02:07:16] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[02:07:16] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[02:07:16] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[02:07:16] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[02:07:16] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[02:07:16] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[02:07:16] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[02:07:16] [INFO] [LastChance] Skipping player node: Player
[02:07:16] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[02:07:16] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[02:07:16] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[02:07:16] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@9415
[02:07:16] [INFO] [LastChance] Registered frozen player bullet: @Area2D@9415
[02:07:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(585.1268, 892.7887), source=PLAYER (AssaultRifle), range=1469, listeners=9
[02:07:16] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[02:07:16] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@9417
[02:07:16] [INFO] [LastChance] Registered frozen player bullet: @Area2D@9417
[02:07:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(593.799, 924.3965), source=PLAYER (AssaultRifle), range=1469, listeners=9
[02:07:16] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[02:07:16] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@9419
[02:07:16] [INFO] [LastChance] Registered frozen player bullet: @Area2D@9419
[02:07:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(614.8036, 950.8962), source=PLAYER (AssaultRifle), range=1469, listeners=9
[02:07:16] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[02:07:16] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@9421
[02:07:16] [INFO] [LastChance] Registered frozen player bullet: @Area2D@9421
[02:07:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(639.6937, 975.7863), source=PLAYER (AssaultRifle), range=1469, listeners=9
[02:07:16] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[02:07:16] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@9423
[02:07:16] [INFO] [LastChance] Registered frozen player bullet: @Area2D@9423
[02:07:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(666.5987, 989.9337), source=PLAYER (AssaultRifle), range=1469, listeners=9
[02:07:16] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[02:07:16] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@9425
[02:07:16] [INFO] [LastChance] Registered frozen player bullet: @Area2D@9425
[02:07:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700.4011, 989.9337), source=PLAYER (AssaultRifle), range=1469, listeners=9
[02:07:16] [ENEMY] [Enemy4] Heard gunshot at (700.4011, 989.9337), source_type=0, intensity=0.33, distance=87
[02:07:16] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=7
[02:07:19] [INFO] [ScoreManager] Combo ended at 1. Max combo: 1
[02:07:19] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[02:07:19] [ENEMY] [Enemy1] Player reloading state changed: false -> true
[02:07:19] [ENEMY] [Enemy2] Player reloading state changed: false -> true
[02:07:19] [ENEMY] [Enemy4] Player reloading state changed: false -> true
[02:07:19] [ENEMY] [Enemy5] Player reloading state changed: false -> true
[02:07:19] [ENEMY] [Enemy6] Player reloading state changed: false -> true
[02:07:19] [ENEMY] [Enemy7] Player reloading state changed: false -> true
[02:07:19] [ENEMY] [Enemy8] Player reloading state changed: false -> true
[02:07:19] [ENEMY] [Enemy9] Player reloading state changed: false -> true
[02:07:19] [ENEMY] [Enemy10] Player reloading state changed: false -> true
[02:07:19] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(540.0688, 983.9337), source=PLAYER (Player), range=900, listeners=9
[02:07:19] [ENEMY] [Enemy2] Heard player RELOAD at (540.0688, 983.9337), intensity=0.01, distance=438
[02:07:19] [ENEMY] [Enemy2] Vulnerability sound triggered pursuit - transitioning from SUPPRESSED to PURSUING
[02:07:19] [ENEMY] [Enemy4] Heard player RELOAD at (540.0688, 983.9337), intensity=0.05, distance=214
[02:07:19] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=2
[02:07:19] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[02:07:19] [INFO] [Player.Reload.Anim] Phase changed to: PullBolt (duration: 0,35s)
[02:07:19] [ENEMY] [Enemy1] Player reloading state changed: true -> false
[02:07:19] [ENEMY] [Enemy2] Player reloading state changed: true -> false
[02:07:19] [ENEMY] [Enemy4] Player reloading state changed: true -> false
[02:07:19] [ENEMY] [Enemy5] Player reloading state changed: true -> false
[02:07:19] [ENEMY] [Enemy6] Player reloading state changed: true -> false
[02:07:19] [ENEMY] [Enemy7] Player reloading state changed: true -> false
[02:07:19] [ENEMY] [Enemy8] Player reloading state changed: true -> false
[02:07:19] [ENEMY] [Enemy9] Player reloading state changed: true -> false
[02:07:19] [ENEMY] [Enemy10] Player reloading state changed: true -> false
[02:07:19] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[02:07:19] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[02:07:22] [INFO] [LastChance] Effect duration expired after 6.00 real seconds
[02:07:22] [INFO] [LastChance] Ending last chance effect
[02:07:22] [INFO] [LastChance] All process modes restored
[02:07:22] [INFO] [LastChance] Unfroze player bullet: @Area2D@9415
[02:07:22] [INFO] [LastChance] Unfroze player bullet: @Area2D@9417
[02:07:22] [INFO] [LastChance] Unfroze player bullet: @Area2D@9419
[02:07:22] [INFO] [LastChance] Unfroze player bullet: @Area2D@9421
[02:07:22] [INFO] [LastChance] Unfroze player bullet: @Area2D@9423
[02:07:22] [INFO] [LastChance] Unfroze player bullet: @Area2D@9425
[02:07:22] [INFO] [LastChance] Restored original colors to 5 player sprites
[02:07:22] [INFO] [LastChance] Called player RefreshHealthVisual (C#)
[02:07:22] [ENEMY] [Enemy2] Pursuing vulnerability sound at (540.0688, 983.9337), distance=438
[02:07:22] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(585.1268, 892.7887), shooter_id=8658704402893, bullet_pos=(693.2794, 886.5328)
[02:07:22] [INFO] [Bullet] Using shooter_position, distance=108,33343
[02:07:22] [INFO] [Bullet] Distance to wall: 108,33343 (7,376622% of viewport)
[02:07:22] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:07:22] [ENEMY] [Enemy4] Hit taken, health: 2/3
[02:07:22] [ENEMY] [Enemy4] Hit taken, health: 1/3
[02:07:22] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(433.1616, 609.3357), shooter_id=8655600617946, bullet_pos=(710.2787, 815.5173)
[02:07:22] [INFO] [Bullet] Using shooter_position, distance=345.405151367188
[02:07:22] [INFO] [Bullet] Distance to wall: 345.405151367188 (23.5192719006596% of viewport)
[02:07:22] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:07:22] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[02:07:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(746.2411, 914.0654), source=ENEMY (Enemy4), range=1469, listeners=9
[02:07:22] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[02:07:22] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(700.4011, 989.93365), shooter_id=8658704402893, bullet_pos=(918.55634, 796.34204)
[02:07:22] [INFO] [Bullet] Using shooter_position, distance=291,6666
[02:07:22] [INFO] [Bullet] Distance to wall: 291,6666 (19,860115% of viewport)
[02:07:22] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:07:22] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(666.5987, 989.93365), shooter_id=8658704402893, bullet_pos=(932.02655, 869.03107)
[02:07:22] [INFO] [Bullet] Using shooter_position, distance=291,66656
[02:07:22] [INFO] [Bullet] Distance to wall: 291,66656 (19,860113% of viewport)
[02:07:22] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:07:22] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(639.6937, 975.7863), shooter_id=8658704402893, bullet_pos=(921.02936, 898.8462)
[02:07:22] [INFO] [Bullet] Using shooter_position, distance=291,66678
[02:07:22] [INFO] [Bullet] Distance to wall: 291,66678 (19,860128% of viewport)
[02:07:22] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:07:22] [INFO] [Bullet] Starting wall penetration at (921.02936, 898.8462)
[02:07:22] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(673.3265, 901.1143), shooter_id=8656171044493, bullet_pos=(519.9698, 853.1501)
[02:07:22] [INFO] [Bullet] Using shooter_position, distance=160.682464599609
[02:07:22] [INFO] [Bullet] Distance to wall: 160.682464599609 (10.941164483586% of viewport)
[02:07:22] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:07:22] [INFO] [Bullet] Starting wall penetration at (519.9698, 853.1501)
[02:07:22] [INFO] [LastChance] Threat detected: Bullet
[02:07:22] [INFO] [LastChance] Effect already used this life
[02:07:22] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:07:22] [ENEMY] [Enemy10] FLANKING started: target=(495.4088, 1178.884), side=right, pos=(1022.594, 1432.37)
[02:07:22] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[02:07:22] [INFO] [Bullet] Raycast backward hit penetrating body at distance 17.2950229644775
[02:07:22] [INFO] [Bullet] Raycast backward hit penetrating body at distance 22,812931
[02:07:22] [INFO] [Bullet] Body exited signal received for penetrating body
[02:07:22] [INFO] [Bullet] Exiting penetration at (958.0049, 888.7341) after traveling 33,333336 pixels through wall
[02:07:22] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[02:07:22] [INFO] [Bullet] Body exited signal received for penetrating body
[02:07:22] [INFO] [Bullet] Exiting penetration at (483.5834, 841.0889) after traveling 33.3333358764648 pixels through wall
[02:07:22] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:07:22] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[02:07:22] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[02:07:22] [INFO] [PenultimateHit] Player died - ending penultimate effect
[02:07:22] [INFO] [LastChance] Player died
[02:07:22] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(666.5987, 989.93365), shooter_id=8658704402893, bullet_pos=(738.3065, 807.2488)
[02:07:22] [INFO] [Bullet] Using shooter_position, distance=196,25436
[02:07:22] [INFO] [Bullet] Distance to wall: 196,25436 (13,363321% of viewport)
[02:07:22] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:07:22] [INFO] [Bullet] Starting wall penetration at (738.3065, 807.2488)
[02:07:22] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[02:07:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(746.2411, 914.0654), source=ENEMY (Enemy4), range=1469, listeners=9
[02:07:22] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[02:07:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(540.0688, 989.9337), source=PLAYER (AssaultRifle), range=1469, listeners=9
[02:07:22] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=5
[02:07:22] [INFO] [Bullet] Raycast backward hit penetrating body at distance 42,387863
[02:07:22] [INFO] [LastChance] Threat detected: Bullet
[02:07:22] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:07:22] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:07:22] [INFO] [Bullet] Body exited signal received for penetrating body
[02:07:22] [INFO] [Bullet] Exiting penetration at (706.54913, 797.12054) after traveling 28,333334 pixels through wall
[02:07:22] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[02:07:22] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[02:07:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(746.2411, 914.0654), source=ENEMY (Enemy4), range=1469, listeners=9
[02:07:22] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[02:07:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(540.0688, 989.9337), source=PLAYER (AssaultRifle), range=1469, listeners=9
[02:07:22] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=5
[02:07:22] [INFO] [LastChance] Threat detected: Bullet
[02:07:22] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:07:22] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:07:22] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(700.4011, 989.93365), shooter_id=8658704402893, bullet_pos=(527.1942, 461.58722)
[02:07:22] [INFO] [Bullet] Using shooter_position, distance=556,0131
[02:07:22] [INFO] [Bullet] Distance to wall: 556,0131 (37,85996% of viewport)
[02:07:22] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:07:22] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(540.0688, 989.9337), shooter_id=8658704402893, bullet_pos=(526.19745, 598.5126)
[02:07:22] [INFO] [Bullet] Using shooter_position, distance=391,66684
[02:07:22] [INFO] [Bullet] Distance to wall: 391,66684 (26,669317% of viewport)
[02:07:22] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:07:22] [INFO] [Bullet] Starting wall penetration at (526.19745, 598.5126)
[02:07:22] [INFO] [Bullet] Raycast forward hit penetrating body at distance 23,714338
[02:07:22] [INFO] [Bullet] Max penetration distance exceeded: 66,66667 >= 48
[02:07:22] [INFO] [Bullet] Body exited signal received for penetrating body
[02:07:22] [INFO] [Bullet] Exiting penetration at (523.6593, 526.8908) after traveling 66,66667 pixels through wall
[02:07:22] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[02:07:22] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[02:07:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(746.2411, 914.0654), source=ENEMY (Enemy4), range=1469, listeners=9
[02:07:22] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[02:07:22] [INFO] [LastChance] Threat detected: Bullet
[02:07:22] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:07:22] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:07:22] [ENEMY] [Enemy2] Hit taken, health: 3/4
[02:07:22] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[02:07:22] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[02:07:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(746.2411, 914.0654), source=ENEMY (Enemy4), range=1469, listeners=9
[02:07:22] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=5
[02:07:22] [INFO] [LastChance] Threat detected: Bullet
[02:07:22] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:07:22] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:07:22] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[02:07:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(546.0422, 989.9252), source=PLAYER (AssaultRifle), range=1469, listeners=9
[02:07:22] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=5
[02:07:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(523.8912, 659.7849), source=ENEMY (Enemy2), range=1469, listeners=9
[02:07:22] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=4
[02:07:22] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[02:07:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(746.2411, 914.0654), source=ENEMY (Enemy4), range=1469, listeners=9
[02:07:22] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=5
[02:07:22] [INFO] [LastChance] Threat detected: @Area2D@9443
[02:07:22] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:07:22] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:07:23] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[02:07:23] [INFO] [LastChance] Resetting all effects (scene change detected)
[02:07:23] [ENEMY] [Enemy1] Death animation component initialized
[02:07:23] [ENEMY] [Enemy2] Death animation component initialized
[02:07:23] [ENEMY] [Enemy3] Death animation component initialized
[02:07:23] [ENEMY] [Enemy4] Death animation component initialized
[02:07:23] [ENEMY] [Enemy5] Death animation component initialized
[02:07:23] [ENEMY] [Enemy6] Death animation component initialized
[02:07:23] [ENEMY] [Enemy7] Death animation component initialized
[02:07:23] [ENEMY] [Enemy8] Death animation component initialized
[02:07:23] [ENEMY] [Enemy9] Death animation component initialized
[02:07:23] [ENEMY] [Enemy10] Death animation component initialized
[02:07:23] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[02:07:23] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[02:07:23] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[02:07:23] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[02:07:23] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[02:07:23] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[02:07:23] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[02:07:23] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[02:07:23] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[02:07:23] [ENEMY] [Enemy10] Grenade system configured: offensive=2, flashbangs=0
[02:07:23] [INFO] [ScoreManager] Level started with 10 enemies
[02:07:23] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[02:07:23] [ENEMY] [Enemy1] Registered as sound listener
[02:07:23] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[02:07:23] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[02:07:23] [ENEMY] [Enemy2] Registered as sound listener
[02:07:23] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[02:07:23] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[02:07:23] [ENEMY] [Enemy3] Registered as sound listener
[02:07:23] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[02:07:23] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[02:07:23] [ENEMY] [Enemy4] Registered as sound listener
[02:07:23] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[02:07:23] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[02:07:23] [ENEMY] [Enemy5] Registered as sound listener
[02:07:23] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[02:07:23] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[02:07:23] [ENEMY] [Enemy6] Registered as sound listener
[02:07:23] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[02:07:23] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[02:07:23] [ENEMY] [Enemy7] Registered as sound listener
[02:07:23] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[02:07:23] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[02:07:23] [ENEMY] [Enemy8] Registered as sound listener
[02:07:23] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[02:07:23] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[02:07:23] [ENEMY] [Enemy9] Registered as sound listener
[02:07:23] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[02:07:23] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[02:07:23] [ENEMY] [Enemy10] Registered as sound listener
[02:07:23] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[02:07:23] [INFO] [Player] Detecting weapon pose (frame 3)...
[02:07:23] [INFO] [Player] Detected weapon: Rifle (default pose)
[02:07:23] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[02:07:23] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[02:07:23] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[02:07:23] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[02:07:23] [INFO] [LastChance] Found player: Player
[02:07:23] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[02:07:23] [INFO] [LastChance] Connected to player Damaged signal (C#)
[02:07:23] [INFO] [LastChance] Connected to player Died signal (C#)
[02:07:23] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[02:07:23] [INFO] [LastChance] Resetting all effects (scene change detected)
[02:07:23] [ENEMY] [Enemy1] Death animation component initialized
[02:07:23] [ENEMY] [Enemy2] Death animation component initialized
[02:07:23] [ENEMY] [Enemy3] Death animation component initialized
[02:07:23] [ENEMY] [Enemy4] Death animation component initialized
[02:07:23] [ENEMY] [Enemy5] Death animation component initialized
[02:07:23] [ENEMY] [Enemy6] Death animation component initialized
[02:07:23] [ENEMY] [Enemy7] Death animation component initialized
[02:07:23] [ENEMY] [Enemy8] Death animation component initialized
[02:07:23] [ENEMY] [Enemy9] Death animation component initialized
[02:07:23] [ENEMY] [Enemy10] Death animation component initialized
[02:07:23] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[02:07:23] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[02:07:23] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[02:07:23] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[02:07:23] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[02:07:23] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[02:07:23] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[02:07:23] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[02:07:23] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[02:07:23] [ENEMY] [Enemy10] Grenade system configured: offensive=2, flashbangs=0
[02:07:23] [INFO] [ScoreManager] Level started with 10 enemies
[02:07:23] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 20)
[02:07:23] [ENEMY] [Enemy1] Registered as sound listener
[02:07:23] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[02:07:23] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 21)
[02:07:23] [ENEMY] [Enemy2] Registered as sound listener
[02:07:23] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[02:07:23] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 22)
[02:07:23] [ENEMY] [Enemy3] Registered as sound listener
[02:07:23] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[02:07:23] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 23)
[02:07:23] [ENEMY] [Enemy4] Registered as sound listener
[02:07:23] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[02:07:23] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 24)
[02:07:23] [ENEMY] [Enemy5] Registered as sound listener
[02:07:23] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[02:07:23] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 25)
[02:07:23] [ENEMY] [Enemy6] Registered as sound listener
[02:07:23] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[02:07:23] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 26)
[02:07:23] [ENEMY] [Enemy7] Registered as sound listener
[02:07:23] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[02:07:23] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 27)
[02:07:23] [ENEMY] [Enemy8] Registered as sound listener
[02:07:23] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[02:07:23] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 28)
[02:07:23] [ENEMY] [Enemy9] Registered as sound listener
[02:07:23] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[02:07:23] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 29)
[02:07:23] [ENEMY] [Enemy10] Registered as sound listener
[02:07:23] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[02:07:23] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[02:07:23] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[02:07:23] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[02:07:23] [INFO] [LastChance] Found player: Player
[02:07:23] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[02:07:23] [INFO] [LastChance] Connected to player Damaged signal (C#)
[02:07:23] [INFO] [LastChance] Connected to player Died signal (C#)
[02:07:23] [INFO] [Player] Detecting weapon pose (frame 3)...
[02:07:23] [INFO] [Player] Detected weapon: Rifle (default pose)
[02:07:23] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[02:07:23] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:07:24] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:07:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1171.731, 1535.008), source=ENEMY (Enemy10), range=1469, listeners=29
[02:07:24] [INFO] [SoundPropagation] Cleaned up 19 invalid listeners
[02:07:24] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=8
[02:07:24] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:07:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1139.423, 1516.307), source=ENEMY (Enemy10), range=1469, listeners=10
[02:07:24] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:07:24] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:07:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1107.906, 1496.302), source=ENEMY (Enemy10), range=1469, listeners=10
[02:07:24] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:07:24] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:07:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1077.226, 1475.035), source=ENEMY (Enemy10), range=1469, listeners=10
[02:07:24] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:07:24] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:07:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1047.428, 1452.549), source=ENEMY (Enemy10), range=1469, listeners=10
[02:07:24] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:07:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1108.874, 1508.939), shooter_id=8933297096892, bullet_pos=(53.14801, 921.1365)
[02:07:24] [INFO] [Bullet] Using shooter_position, distance=1208.33337402344
[02:07:24] [INFO] [Bullet] Distance to wall: 1208.33337402344 (82.277641366406% of viewport)
[02:07:24] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[02:07:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1077.684, 1487.691), shooter_id=8933297096892, bullet_pos=(46.85162, 857.2495)
[02:07:24] [INFO] [Bullet] Using shooter_position, distance=1208.33435058594
[02:07:24] [INFO] [Bullet] Distance to wall: 1208.33435058594 (82.2777078623423% of viewport)
[02:07:24] [INFO] [Bullet] Distance-based penetration chance: 50.676007493934%
[02:07:24] [INFO] [Bullet] Penetration failed (distance roll)
[02:07:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1047.382, 1465.197), shooter_id=8933297096892, bullet_pos=(43.06916, 793.3154)
[02:07:24] [INFO] [Bullet] Using shooter_position, distance=1208.33349609375
[02:07:24] [INFO] [Bullet] Distance to wall: 1208.33349609375 (82.277649678398% of viewport)
[02:07:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1047.382, 1465.197), shooter_id=8933297096892, bullet_pos=(207.4011, 714.8975)
[02:07:24] [INFO] [Bullet] Using shooter_position, distance=1126.28491210938
[02:07:24] [INFO] [Bullet] Distance to wall: 1126.28491210938 (76.6908107208597% of viewport)
[02:07:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1018.01, 1441.508), shooter_id=8933297096892, bullet_pos=(41.67921, 729.5751)
[02:07:24] [INFO] [Bullet] Using shooter_position, distance=1208.33349609375
[02:07:24] [INFO] [Bullet] Distance to wall: 1208.33349609375 (82.277649678398% of viewport)
[02:07:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1018.01, 1441.508), shooter_id=8933297096892, bullet_pos=(107.2306, 691.4474)
[02:07:24] [INFO] [Bullet] Using shooter_position, distance=1179.876953125
[02:07:24] [INFO] [Bullet] Distance to wall: 1179.876953125 (80.3399913406874% of viewport)
[02:07:24] [INFO] [LastChance] Threat detected: @Area2D@9951
[02:07:24] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:07:24] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:07:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1018.01, 1441.508), shooter_id=8933297096892, bullet_pos=(52.88656, 655.4077)
[02:07:24] [INFO] [Bullet] Using shooter_position, distance=1244.75561523438
[02:07:24] [INFO] [Bullet] Distance to wall: 1244.75561523438 (84.7576987450546% of viewport)
[02:07:24] [INFO] [Bullet] Distance-based penetration chance: 47.7826847974363%
[02:07:24] [INFO] [Bullet] Starting wall penetration at (52.88656, 655.4077)
[02:07:24] [INFO] [Bullet] Raycast backward hit penetrating body at distance 10.0420379638672
[02:07:24] [INFO] [Bullet] Body exited signal received for penetrating body
[02:07:24] [INFO] [Bullet] Exiting penetration at (23.63108, 636.0062) after traveling 30.1041698455811 pixels through wall
[02:07:24] [INFO] [Bullet] Damage multiplier after penetration: 0.225
[02:07:24] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[02:07:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(989.6003, 1416.68), shooter_id=8933297096892, bullet_pos=(42.53408, 666.2555)
[02:07:24] [INFO] [Bullet] Using shooter_position, distance=1208.33422851563
[02:07:24] [INFO] [Bullet] Distance to wall: 1208.33422851563 (82.2776995503503% of viewport)
[02:07:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1047.382, 1465.197), shooter_id=8933297096892, bullet_pos=(507.0523, 867.2235)
[02:07:25] [INFO] [Bullet] Using shooter_position, distance=805.93359375
[02:07:25] [INFO] [Bullet] Distance to wall: 805.93359375 (54.8775003796386% of viewport)
[02:07:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(443.2249, 779.7384), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:07:25] [ENEMY] [Enemy1] Heard gunshot at (443.2249, 779.7384), source_type=0, intensity=0.01, distance=453
[02:07:25] [ENEMY] [Enemy2] Heard gunshot at (443.2249, 779.7384), source_type=0, intensity=0.05, distance=234
[02:07:25] [ENEMY] [Enemy4] Heard gunshot at (443.2249, 779.7384), source_type=0, intensity=0.02, distance=376
[02:07:25] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[02:07:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(989.6003, 1416.68), shooter_id=8933297096892, bullet_pos=(253.1957, 469.3855)
[02:07:25] [INFO] [Bullet] Using shooter_position, distance=1199.85778808594
[02:07:25] [INFO] [Bullet] Distance to wall: 1199.85778808594 (81.7005231346933% of viewport)
[02:07:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(679.225, 754.8351), source=ENEMY (Enemy3), range=1469, listeners=10
[02:07:25] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[02:07:25] [ENEMY] [Enemy3] Hit taken, health: 1/2
[02:07:25] [INFO] [LastChance] Threat detected: @Area2D@9963
[02:07:25] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:07:25] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:07:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(455.4782, 747.541), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:07:25] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[02:07:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(989.6003, 1416.68), shooter_id=8933297096892, bullet_pos=(466.5195, 688.8269)
[02:07:25] [INFO] [Bullet] Using shooter_position, distance=896.316772460938
[02:07:25] [INFO] [Bullet] Distance to wall: 896.316772460938 (61.0318572180769% of viewport)
[02:07:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(679.225, 754.8351), source=ENEMY (Enemy3), range=1469, listeners=10
[02:07:25] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[02:07:25] [INFO] [LastChance] Threat detected: @Area2D@9966
[02:07:25] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:07:25] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:07:25] [ENEMY] [Enemy3] Hit taken, health: 0/2
[02:07:25] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[02:07:25] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[02:07:25] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[02:07:25] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[02:07:25] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[02:07:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(477.0742, 734.0665), source=PLAYER (AssaultRifle), range=1469, listeners=9
[02:07:25] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[02:07:25] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[02:07:25] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[02:07:25] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[02:07:25] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[02:07:25] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[02:07:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(611.4391, 762.3981), shooter_id=8931300608658, bullet_pos=(36.44262, 760.4008)
[02:07:25] [INFO] [Bullet] Using shooter_position, distance=575
[02:07:25] [INFO] [Bullet] Distance to wall: 575 (39.1528073317669% of viewport)
[02:07:25] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:07:25] [INFO] [Bullet] Starting wall penetration at (36.44262, 760.4008)
[02:07:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(505.999, 738.4534), source=PLAYER (AssaultRifle), range=1469, listeners=9
[02:07:25] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[02:07:25] [INFO] [Bullet] Raycast backward hit penetrating body at distance 33.8906860351563
[02:07:25] [INFO] [Bullet] Body exited signal received for penetrating body
[02:07:25] [INFO] [Bullet] Exiting penetration at (-1.89048, 760.2676) after traveling 33.3333358764648 pixels through wall
[02:07:25] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:07:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(477.07425, 734.0665), shooter_id=8934119181175, bullet_pos=(924.68195, 832.6395)
[02:07:25] [INFO] [Bullet] Using shooter_position, distance=458,33316
[02:07:25] [INFO] [Bullet] Distance to wall: 458,33316 (31,208748% of viewport)
[02:07:25] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:07:25] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[02:07:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(477.07425, 734.0665), shooter_id=8934119181175, bullet_pos=(753.5891, 869.41187)
[02:07:25] [INFO] [Bullet] Using shooter_position, distance=307,8617
[02:07:25] [INFO] [Bullet] Distance to wall: 307,8617 (20,96287% of viewport)
[02:07:25] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:07:25] [INFO] [Bullet] Starting wall penetration at (753.5891, 869.41187)
[02:07:25] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[02:07:25] [INFO] [Bullet] Exiting penetration at (721, 876.41614) after traveling 28,333334 pixels through wall
[02:07:25] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[02:07:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(505.999, 738.4534), shooter_id=8934119181175, bullet_pos=(923.39264, 818.5004)
[02:07:25] [INFO] [Bullet] Using shooter_position, distance=424,99997
[02:07:25] [INFO] [Bullet] Distance to wall: 424,99997 (28,93903% of viewport)
[02:07:25] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:07:25] [INFO] [Bullet] Starting wall penetration at (923.39264, 818.5004)
[02:07:25] [INFO] [Bullet] Raycast backward hit penetrating body at distance 25,496233
[02:07:25] [INFO] [Bullet] Body exited signal received for penetrating body
[02:07:25] [INFO] [Bullet] Exiting penetration at (961.0399, 825.72034) after traveling 33,333336 pixels through wall
[02:07:25] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[02:07:25] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[02:07:25] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[02:07:25] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[02:07:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=9
[02:07:25] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=3
[02:07:25] [INFO] [LastChance] Threat detected: Bullet
[02:07:25] [INFO] [LastChance] Player health is 3.0 - effect requires exactly 1 HP or less but alive
[02:07:25] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:07:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=9
[02:07:25] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=3
[02:07:25] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[02:07:25] [ENEMY] [Enemy4] State: PURSUING -> RETREATING
[02:07:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(432.5836, 609.7951), shooter_id=8931015396457, bullet_pos=(498.1385, 685.3104)
[02:07:25] [INFO] [Bullet] Using shooter_position, distance=99.9999771118164
[02:07:25] [INFO] [Bullet] Distance to wall: 99.9999771118164 (6.80918232528703% of viewport)
[02:07:25] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:07:25] [INFO] [Bullet] Starting wall penetration at (498.1385, 685.3104)
[02:07:25] [INFO] [LastChance] Threat detected: @Area2D@9975
[02:07:25] [INFO] [LastChance] Player health is 3.0 - effect requires exactly 1 HP or less but alive
[02:07:25] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:07:25] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[02:07:25] [INFO] [Bullet] Exiting penetration at (523.2679, 714.2579) after traveling 33.3333358764648 pixels through wall
[02:07:25] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:07:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(432.2107, 609.9946), shooter_id=8931015396457, bullet_pos=(678.3868, 834.7352)
[02:07:25] [INFO] [Bullet] Using shooter_position, distance=333.333221435547
[02:07:25] [INFO] [Bullet] Distance to wall: 333.333221435547 (22.6972719932924% of viewport)
[02:07:25] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:07:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=9
[02:07:25] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=3
[02:07:25] [ENEMY] [Enemy3] Ragdoll activated
[02:07:25] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[02:07:25] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[02:07:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(431.5685, 610.1566), shooter_id=8931015396457, bullet_pos=(481.2776, 696.9265)
[02:07:26] [INFO] [Bullet] Using shooter_position, distance=99.9999542236328
[02:07:26] [INFO] [Bullet] Distance to wall: 99.9999542236328 (6.80918076678852% of viewport)
[02:07:26] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:07:26] [INFO] [Bullet] Starting wall penetration at (481.2776, 696.9265)
[02:07:26] [ENEMY] [Enemy2] State: SEEKING_COVER -> IN_COVER
[02:07:26] [INFO] [Bullet] Raycast backward hit penetrating body at distance 20.9614582061768
[02:07:26] [INFO] [LastChance] Threat detected: @Area2D@9978
[02:07:26] [INFO] [LastChance] Player health is 3.0 - effect requires exactly 1 HP or less but alive
[02:07:26] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:07:26] [INFO] [Bullet] Body exited signal received for penetrating body
[02:07:26] [INFO] [Bullet] Exiting penetration at (500.3327, 730.1882) after traveling 33.3333320617676 pixels through wall
[02:07:26] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:07:26] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[02:07:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(432.2107, 609.9946), shooter_id=8931015396457, bullet_pos=(519.0726, 961.0816)
[02:07:26] [INFO] [Bullet] Using shooter_position, distance=361.672668457031
[02:07:26] [INFO] [Bullet] Distance to wall: 361.672668457031 (24.6269570526333% of viewport)
[02:07:26] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:07:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(432.2107, 609.9946), shooter_id=8931015396457, bullet_pos=(558.5829, 996.6573)
[02:07:26] [INFO] [Bullet] Using shooter_position, distance=406.789886474609
[02:07:26] [INFO] [Bullet] Distance to wall: 406.789886474609 (27.6990713906986% of viewport)
[02:07:26] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:07:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(432.2107, 609.9946), shooter_id=8931015396457, bullet_pos=(680.2206, 851.6912)
[02:07:26] [INFO] [Bullet] Using shooter_position, distance=346.303558349609
[02:07:26] [INFO] [Bullet] Distance to wall: 346.303558349609 (23.5804460841175% of viewport)
[02:07:26] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:07:26] [ENEMY] [Enemy10] FLANKING started: target=(777.3927, 867.6744), side=left, pos=(1022.594, 1432.37)
[02:07:26] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[02:07:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(580.3182, 920.9572), source=PLAYER (AssaultRifle), range=1469, listeners=9
[02:07:26] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[02:07:26] [ENEMY] [Enemy4] Hit taken, health: 1/2
[02:07:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(585.8368, 953.8713), source=PLAYER (AssaultRifle), range=1469, listeners=9
[02:07:26] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[02:07:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(603.1451, 980.5779), source=PLAYER (AssaultRifle), range=1469, listeners=9
[02:07:26] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[02:07:26] [ENEMY] [Enemy2] Hit taken, health: 2/3
[02:07:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(585.8368, 953.87134), shooter_id=8934119181175, bullet_pos=(908.55145, 915.3974)
[02:07:26] [INFO] [Bullet] Using shooter_position, distance=325
[02:07:26] [INFO] [Bullet] Distance to wall: 325 (22,129848% of viewport)
[02:07:26] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:07:26] [INFO] [Bullet] Starting wall penetration at (908.55145, 915.3974)
[02:07:26] [INFO] [Bullet] Raycast backward hit penetrating body at distance 10,69041
[02:07:26] [INFO] [Bullet] Body exited signal received for penetrating body
[02:07:26] [INFO] [Bullet] Exiting penetration at (946.61523, 910.85944) after traveling 33,333332 pixels through wall
[02:07:26] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[02:07:26] [ENEMY] [Enemy4] Hit taken, health: 0/2
[02:07:26] [ENEMY] [Enemy4] Enemy died (ricochet: false, penetration: false)
[02:07:26] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[02:07:26] [INFO] [SoundPropagation] Unregistered listener: Enemy4 (remaining: 8)
[02:07:26] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[02:07:26] [ENEMY] [Enemy4] Death animation started with hit direction: (1, 0)
[02:07:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(628.8784, 989.9337), source=PLAYER (AssaultRifle), range=1469, listeners=8
[02:07:26] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=6
[02:07:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(663.3539, 989.3424), source=PLAYER (AssaultRifle), range=1469, listeners=8
[02:07:26] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=6
[02:07:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(628.8784, 989.93365), shooter_id=8934119181175, bullet_pos=(913.39923, 925.7666)
[02:07:26] [INFO] [Bullet] Using shooter_position, distance=291,66678
[02:07:26] [INFO] [Bullet] Distance to wall: 291,66678 (19,860128% of viewport)
[02:07:26] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:07:26] [INFO] [Bullet] Starting wall penetration at (913.39923, 925.7666)
[02:07:26] [INFO] [Bullet] Raycast backward hit penetrating body at distance 15,164943
[02:07:26] [INFO] [Bullet] Body exited signal received for penetrating body
[02:07:26] [INFO] [Bullet] Exiting penetration at (950.7934, 917.3332) after traveling 33,333332 pixels through wall
[02:07:26] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[02:07:26] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[02:07:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(663.3539, 989.3424), shooter_id=8934119181175, bullet_pos=(916.875, 939.7124)
[02:07:26] [INFO] [Bullet] Using shooter_position, distance=258,3333
[02:07:26] [INFO] [Bullet] Distance to wall: 258,3333 (17,59039% of viewport)
[02:07:26] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:07:27] [ENEMY] [Enemy3] Death animation completed
[02:07:27] [ENEMY] [Enemy2] State: SEEKING_COVER -> IN_COVER
[02:07:27] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[02:07:27] [ENEMY] [Enemy4] Ragdoll activated
[02:07:27] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[02:07:27] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[02:07:27] [ENEMY] [Enemy1] Player reloading state changed: false -> true
[02:07:27] [ENEMY] [Enemy2] Player reloading state changed: false -> true
[02:07:27] [ENEMY] [Enemy3] Player reloading state changed: false -> true
[02:07:27] [ENEMY] [Enemy4] Player reloading state changed: false -> true
[02:07:27] [ENEMY] [Enemy5] Player reloading state changed: false -> true
[02:07:27] [ENEMY] [Enemy6] Player reloading state changed: false -> true
[02:07:27] [ENEMY] [Enemy7] Player reloading state changed: false -> true
[02:07:27] [ENEMY] [Enemy8] Player reloading state changed: false -> true
[02:07:27] [ENEMY] [Enemy9] Player reloading state changed: false -> true
[02:07:27] [ENEMY] [Enemy10] Player reloading state changed: false -> true
[02:07:27] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(730.1668, 906.0003), source=PLAYER (Player), range=900, listeners=8
[02:07:27] [ENEMY] [Enemy2] Heard player RELOAD at (730.1668, 906.0003), intensity=0.01, distance=430
[02:07:27] [ENEMY] [Enemy2] Vulnerability sound triggered pursuit - transitioning from SUPPRESSED to PURSUING
[02:07:27] [ENEMY] [Enemy10] Heard player RELOAD at (730.1668, 906.0003), intensity=0.02, distance=370
[02:07:27] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=1
[02:07:27] [ENEMY] [Enemy1] Player vulnerable (reloading) but cannot attack: close=false (dist=704), can_see=false
[02:07:27] [ENEMY] [Enemy2] Player vulnerable (reloading) but cannot attack: close=false (dist=430), can_see=false
[02:07:27] [ENEMY] [Enemy2] Pursuing vulnerability sound at (730.1668, 906.0003), distance=430
[02:07:27] [ENEMY] [Enemy5] Player vulnerable (reloading) but cannot attack: close=false (dist=1118), can_see=false
[02:07:27] [ENEMY] [Enemy6] Player vulnerable (reloading) but cannot attack: close=false (dist=1302), can_see=false
[02:07:27] [ENEMY] [Enemy7] Player vulnerable (reloading) but cannot attack: close=false (dist=910), can_see=false
[02:07:27] [ENEMY] [Enemy8] Player vulnerable (reloading) but cannot attack: close=false (dist=1290), can_see=false
[02:07:27] [ENEMY] [Enemy9] Player vulnerable (reloading) but cannot attack: close=false (dist=1514), can_see=false
[02:07:27] [ENEMY] [Enemy10] Player vulnerable (reloading) but cannot attack: close=true (dist=370), can_see=false
[02:07:27] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[02:07:27] [INFO] [Player.Reload.Anim] Phase changed to: PullBolt (duration: 0,35s)
[02:07:27] [ENEMY] [Enemy1] Player reloading state changed: true -> false
[02:07:27] [ENEMY] [Enemy2] Player reloading state changed: true -> false
[02:07:27] [ENEMY] [Enemy4] Player reloading state changed: true -> false
[02:07:27] [ENEMY] [Enemy5] Player reloading state changed: true -> false
[02:07:27] [ENEMY] [Enemy6] Player reloading state changed: true -> false
[02:07:27] [ENEMY] [Enemy7] Player reloading state changed: true -> false
[02:07:27] [ENEMY] [Enemy8] Player reloading state changed: true -> false
[02:07:27] [ENEMY] [Enemy9] Player reloading state changed: true -> false
[02:07:27] [ENEMY] [Enemy10] Player reloading state changed: true -> false
[02:07:27] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[02:07:27] [INFO] [Player.Reload.Anim] LeftArm: pos=(20.685658, 5.912271), target=(24, 6), base=(24, 6)
[02:07:27] [INFO] [Player.Reload.Anim] RightArm: pos=(-1.9998149, 6.479252), target=(-2, 6), base=(-2, 6)
[02:07:28] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[02:07:28] [ENEMY] [Enemy4] Death animation completed
[02:07:28] [ENEMY] [Enemy2] Pursuing vulnerability sound at (730.1668, 906.0003), distance=194
[02:07:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(715.4688, 930.9353), source=PLAYER (AssaultRifle), range=1469, listeners=8
[02:07:28] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=5
[02:07:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(715.46875, 930.9353), shooter_id=8934119181175, bullet_pos=(694.5793, 876.4705)
[02:07:28] [INFO] [Bullet] Using shooter_position, distance=58,33337
[02:07:28] [INFO] [Bullet] Distance to wall: 58,33337 (3,9720268% of viewport)
[02:07:28] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[02:07:28] [INFO] [Bullet] Starting wall penetration at (694.5793, 876.4705)
[02:07:28] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[02:07:28] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[02:07:28] [INFO] [Bullet] Exiting penetration at (680.8519, 840.6794) after traveling 33,333332 pixels through wall
[02:07:28] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[02:07:28] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[02:07:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(610.4705, 807.7076), source=ENEMY (Enemy2), range=1469, listeners=8
[02:07:28] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=4
[02:07:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(702.4632, 951.0461), source=PLAYER (AssaultRifle), range=1469, listeners=8
[02:07:28] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=5
[02:07:28] [INFO] [LastChance] Threat detected: Bullet
[02:07:28] [INFO] [LastChance] Player health is 3.0 - effect requires exactly 1 HP or less but alive
[02:07:28] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:07:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(702.4632, 951.0461), shooter_id=8934119181175, bullet_pos=(690.7232, 893.9063)
[02:07:28] [INFO] [Bullet] Using shooter_position, distance=58,33336
[02:07:28] [INFO] [Bullet] Distance to wall: 58,33336 (3,9720259% of viewport)
[02:07:28] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[02:07:28] [INFO] [Bullet] Starting wall penetration at (690.7232, 893.9063)
[02:07:28] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[02:07:28] [INFO] [Bullet] Exiting penetration at (683.00836, 856.3573) after traveling 33,333336 pixels through wall
[02:07:28] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[02:07:28] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[02:07:28] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[02:07:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(610.4705, 807.7076), source=ENEMY (Enemy2), range=1469, listeners=8
[02:07:28] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=4
[02:07:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(700.7559, 965.3046), source=PLAYER (AssaultRifle), range=1469, listeners=8
[02:07:28] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=5
[02:07:28] [INFO] [LastChance] Threat detected: Bullet
[02:07:28] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[02:07:28] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:07:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(700.75586, 965.30457), shooter_id=8934119181175, bullet_pos=(685.2191, 874.9641)
[02:07:29] [INFO] [Bullet] Using shooter_position, distance=91,666725
[02:07:29] [INFO] [Bullet] Distance to wall: 91,666725 (6,241756% of viewport)
[02:07:29] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:07:29] [INFO] [Bullet] Starting wall penetration at (685.2191, 874.9641)
[02:07:29] [INFO] [Bullet] Raycast backward hit penetrating body at distance 7,54068
[02:07:29] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[02:07:29] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[02:07:29] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[02:07:29] [INFO] [Bullet] Max penetration distance exceeded: 66,66667 >= 48
[02:07:29] [INFO] [Bullet] Body exited signal received for penetrating body
[02:07:29] [INFO] [Bullet] Exiting penetration at (673.0722, 804.3343) after traveling 66,66667 pixels through wall
[02:07:29] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[02:07:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(610.4705, 807.7076), source=ENEMY (Enemy2), range=1469, listeners=8
[02:07:29] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=4
[02:07:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(706.8694, 968.4896), source=PLAYER (AssaultRifle), range=1469, listeners=8
[02:07:29] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=5
[02:07:29] [INFO] [LastChance] Threat detected: Bullet
[02:07:29] [INFO] [LastChance] Triggering last chance effect!
[02:07:29] [INFO] [LastChance] Starting last chance effect:
[02:07:29] [INFO] [LastChance]   - Time will be frozen (except player)
[02:07:29] [INFO] [LastChance]   - Duration: 6.0 real seconds
[02:07:29] [INFO] [LastChance]   - Sepia intensity: 0.70
[02:07:29] [INFO] [LastChance]   - Brightness: 0.60
[02:07:29] [INFO] [LastChance] Pushed bullet Bullet from distance 115.0 to 200.0
[02:07:29] [INFO] [LastChance] Pushed bullet @Area2D@10027 from distance 19.2 to 200.0
[02:07:29] [INFO] [LastChance] Pushed 2 threatening bullets away from player
[02:07:29] [INFO] [LastChance] Set player Player and all 18 children to PROCESS_MODE_ALWAYS
[02:07:29] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[02:07:29] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:07:29] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:07:29] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[02:07:29] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:07:29] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:07:29] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:07:29] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:07:29] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:07:29] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:07:29] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:07:29] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:07:29] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:07:29] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:07:29] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:07:29] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:07:29] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:07:29] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[02:07:29] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[02:07:29] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:07:29] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:07:29] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:07:29] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:07:29] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:07:29] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[02:07:29] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[02:07:29] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:07:29] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[02:07:29] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[02:07:29] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:07:29] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:07:29] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[02:07:29] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[02:07:29] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[02:07:29] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[02:07:29] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[02:07:29] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[02:07:29] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[02:07:29] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[02:07:29] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[02:07:29] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[02:07:29] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[02:07:29] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[02:07:29] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[02:07:29] [INFO] [LastChance] Skipping player node: Player
[02:07:29] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[02:07:29] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[02:07:29] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[02:07:29] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@10029
[02:07:29] [INFO] [LastChance] Registered frozen player bullet: @Area2D@10029
[02:07:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(720.5732, 960.3255), source=PLAYER (AssaultRifle), range=1469, listeners=8
[02:07:29] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=5
[02:07:29] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@10031
[02:07:29] [INFO] [LastChance] Registered frozen player bullet: @Area2D@10031
[02:07:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(741.8672, 940.8123), source=PLAYER (AssaultRifle), range=1469, listeners=8
[02:07:29] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=5
[02:07:29] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[02:07:29] [INFO] [LastChance] Resetting all effects (scene change detected)
[02:07:29] [INFO] [LastChance] Ending last chance effect
[02:07:29] [INFO] [LastChance] All process modes restored
[02:07:29] [INFO] [LastChance] Restored original colors to 5 player sprites
[02:07:29] [ENEMY] [Enemy1] Death animation component initialized
[02:07:29] [ENEMY] [Enemy2] Death animation component initialized
[02:07:29] [ENEMY] [Enemy3] Death animation component initialized
[02:07:29] [ENEMY] [Enemy4] Death animation component initialized
[02:07:29] [ENEMY] [Enemy5] Death animation component initialized
[02:07:29] [ENEMY] [Enemy6] Death animation component initialized
[02:07:29] [ENEMY] [Enemy7] Death animation component initialized
[02:07:29] [ENEMY] [Enemy8] Death animation component initialized
[02:07:29] [ENEMY] [Enemy9] Death animation component initialized
[02:07:29] [ENEMY] [Enemy10] Death animation component initialized
[02:07:29] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[02:07:29] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[02:07:29] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[02:07:29] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[02:07:29] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[02:07:29] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[02:07:29] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[02:07:29] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[02:07:29] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[02:07:29] [ENEMY] [Enemy10] Grenade system configured: offensive=2, flashbangs=0
[02:07:29] [INFO] [ScoreManager] Level started with 10 enemies
[02:07:29] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 9)
[02:07:29] [ENEMY] [Enemy1] Registered as sound listener
[02:07:29] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[02:07:29] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 10)
[02:07:29] [ENEMY] [Enemy2] Registered as sound listener
[02:07:29] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[02:07:29] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 11)
[02:07:29] [ENEMY] [Enemy3] Registered as sound listener
[02:07:29] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[02:07:29] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 12)
[02:07:29] [ENEMY] [Enemy4] Registered as sound listener
[02:07:29] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[02:07:29] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 13)
[02:07:29] [ENEMY] [Enemy5] Registered as sound listener
[02:07:29] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[02:07:29] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 14)
[02:07:29] [ENEMY] [Enemy6] Registered as sound listener
[02:07:29] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[02:07:29] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 15)
[02:07:29] [ENEMY] [Enemy7] Registered as sound listener
[02:07:29] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[02:07:29] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 16)
[02:07:29] [ENEMY] [Enemy8] Registered as sound listener
[02:07:29] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[02:07:29] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 17)
[02:07:29] [ENEMY] [Enemy9] Registered as sound listener
[02:07:29] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[02:07:29] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 18)
[02:07:29] [ENEMY] [Enemy10] Registered as sound listener
[02:07:29] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[02:07:29] [INFO] [Player] Detecting weapon pose (frame 3)...
[02:07:29] [INFO] [Player] Detected weapon: Rifle (default pose)
[02:07:29] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[02:07:29] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[02:07:29] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[02:07:29] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[02:07:29] [INFO] [LastChance] Found player: Player
[02:07:29] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[02:07:29] [INFO] [LastChance] Connected to player Damaged signal (C#)
[02:07:29] [INFO] [LastChance] Connected to player Died signal (C#)
[02:07:30] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:07:30] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:07:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1171.731, 1535.008), source=ENEMY (Enemy10), range=1469, listeners=18
[02:07:30] [INFO] [SoundPropagation] Cleaned up 8 invalid listeners
[02:07:30] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=8
[02:07:30] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:07:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1139.423, 1516.307), source=ENEMY (Enemy10), range=1469, listeners=10
[02:07:30] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:07:30] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:07:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1107.906, 1496.302), source=ENEMY (Enemy10), range=1469, listeners=10
[02:07:30] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:07:30] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:07:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1077.226, 1475.035), source=ENEMY (Enemy10), range=1469, listeners=10
[02:07:30] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:07:30] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:07:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1047.428, 1452.549), source=ENEMY (Enemy10), range=1469, listeners=10
[02:07:30] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:07:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1108.874, 1508.939), shooter_id=9267549571412, bullet_pos=(53.14801, 921.1365)
[02:07:30] [INFO] [Bullet] Using shooter_position, distance=1208.33337402344
[02:07:30] [INFO] [Bullet] Distance to wall: 1208.33337402344 (82.277641366406% of viewport)
[02:07:30] [INFO] [Bullet] Distance-based penetration chance: 50.6760850725264%
[02:07:30] [INFO] [Bullet] Penetration failed (distance roll)
[02:07:30] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[02:07:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1077.684, 1487.691), shooter_id=9267549571412, bullet_pos=(46.85162, 857.2495)
[02:07:30] [INFO] [Bullet] Using shooter_position, distance=1208.33435058594
[02:07:30] [INFO] [Bullet] Distance to wall: 1208.33435058594 (82.2777078623423% of viewport)
[02:07:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1047.382, 1465.197), shooter_id=9267549571412, bullet_pos=(43.06916, 793.3154)
[02:07:30] [INFO] [Bullet] Using shooter_position, distance=1208.33349609375
[02:07:30] [INFO] [Bullet] Distance to wall: 1208.33349609375 (82.277649678398% of viewport)
[02:07:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1077.684, 1487.691), shooter_id=9267549571412, bullet_pos=(410.5345, 704.1787)
[02:07:30] [INFO] [Bullet] Using shooter_position, distance=1029.06750488281
[02:07:30] [INFO] [Bullet] Distance to wall: 1029.06750488281 (70.0710986957545% of viewport)
[02:07:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1047.382, 1465.197), shooter_id=9267549571412, bullet_pos=(203.1725, 706.5901)
[02:07:30] [INFO] [Bullet] Using shooter_position, distance=1134.97790527344
[02:07:30] [INFO] [Bullet] Distance to wall: 1134.97790527344 (77.2827326104056% of viewport)
[02:07:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1018.01, 1441.508), shooter_id=9267549571412, bullet_pos=(41.67921, 729.5751)
[02:07:31] [INFO] [Bullet] Using shooter_position, distance=1208.33349609375
[02:07:31] [INFO] [Bullet] Distance to wall: 1208.33349609375 (82.277649678398% of viewport)
[02:07:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1018.01, 1441.508), shooter_id=9267549571412, bullet_pos=(106.6817, 690.519)
[02:07:31] [INFO] [Bullet] Using shooter_position, distance=1180.89086914063
[02:07:31] [INFO] [Bullet] Distance to wall: 1180.89086914063 (80.4090307466184% of viewport)
[02:07:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1018.01, 1441.508), shooter_id=9267549571412, bullet_pos=(50.07716, 658.1453)
[02:07:31] [INFO] [Bullet] Using shooter_position, distance=1245.21105957031
[02:07:31] [INFO] [Bullet] Distance to wall: 1245.21105957031 (84.7887107873769% of viewport)
[02:07:31] [INFO] [Bullet] Distance-based penetration chance: 47.7465040813936%
[02:07:31] [INFO] [Bullet] Penetration failed (distance roll)
[02:07:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(989.6003, 1416.68), shooter_id=9267549571412, bullet_pos=(42.53408, 666.2555)
[02:07:31] [INFO] [Bullet] Using shooter_position, distance=1208.33422851563
[02:07:31] [INFO] [Bullet] Distance to wall: 1208.33422851563 (82.2776995503503% of viewport)
[02:07:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1077.684, 1487.691), shooter_id=9267549571412, bullet_pos=(728.5152, 813.1851)
[02:07:31] [INFO] [Bullet] Using shooter_position, distance=759.524291992188
[02:07:31] [INFO] [Bullet] Distance to wall: 759.524291992188 (51.7174056837683% of viewport)
[02:07:31] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[02:07:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1047.382, 1465.197), shooter_id=9267549571412, bullet_pos=(519.1456, 891.7933)
[02:07:31] [INFO] [Bullet] Using shooter_position, distance=779.631896972656
[02:07:31] [INFO] [Bullet] Distance to wall: 779.631896972656 (53.0865694815136% of viewport)
[02:07:31] [INFO] [Bullet] Distance-based penetration chance: 84.7323356049008%
[02:07:31] [INFO] [Bullet] Starting wall penetration at (519.1456, 891.7933)
[02:07:31] [INFO] [Bullet] Raycast backward hit penetrating body at distance 29.4772834777832
[02:07:31] [INFO] [Bullet] Body exited signal received for penetrating body
[02:07:31] [INFO] [Bullet] Exiting penetration at (549.4308, 909.5446) after traveling 30.1041698455811 pixels through wall
[02:07:31] [INFO] [Bullet] Damage multiplier after penetration: 0.225
[02:07:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(989.6003, 1416.68), shooter_id=9267549571412, bullet_pos=(238.0284, 454.3166)
[02:07:31] [INFO] [Bullet] Using shooter_position, distance=1221.06665039063
[02:07:31] [INFO] [Bullet] Distance to wall: 1221.06665039063 (83.1446735686784% of viewport)
[02:07:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(347.8602, 814.6098), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:07:31] [ENEMY] [Enemy1] Heard gunshot at (347.8602, 814.6098), source_type=0, intensity=0.01, distance=467
[02:07:31] [ENEMY] [Enemy2] Heard gunshot at (347.8602, 814.6098), source_type=0, intensity=0.03, distance=270
[02:07:31] [ENEMY] [Enemy4] Heard gunshot at (347.8602, 814.6098), source_type=0, intensity=0.01, distance=460
[02:07:31] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[02:07:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1077.684, 1487.691), shooter_id=9267549571412, bullet_pos=(922.6042, 733.7681)
[02:07:31] [INFO] [Bullet] Using shooter_position, distance=769.707397460938
[02:07:31] [INFO] [Bullet] Distance to wall: 769.707397460938 (52.4107920602153% of viewport)
[02:07:31] [INFO] [Bullet] Distance-based penetration chance: 85.5207425964155%
[02:07:31] [INFO] [Bullet] Starting wall penetration at (922.6042, 733.7681)
[02:07:31] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[02:07:31] [INFO] [Bullet] Raycast backward hit penetrating body at distance 16.1146717071533
[02:07:31] [INFO] [Bullet] Body exited signal received for penetrating body
[02:07:31] [INFO] [Bullet] Exiting penetration at (950.9144, 722.1842) after traveling 25.5885448455811 pixels through wall
[02:07:31] [INFO] [Bullet] Damage multiplier after penetration: 0.1125
[02:07:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(347.4662, 786.3222), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:07:31] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[02:07:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(989.6003, 1416.68), shooter_id=9267549571412, bullet_pos=(66.1418, 278.5637)
[02:07:31] [INFO] [Bullet] Using shooter_position, distance=1465.63452148438
[02:07:31] [INFO] [Bullet] Distance to wall: 1465.63452148438 (99.7977496321114% of viewport)
[02:07:31] [ENEMY] [Enemy3] Hit taken, health: 1/2
[02:07:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(359.2236, 767.6111), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:07:31] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[02:07:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(989.6003, 1416.68), shooter_id=9267549571412, bullet_pos=(273.0613, 65.91192)
[02:07:31] [INFO] [Bullet] Using shooter_position, distance=1529.05285644531
[02:07:31] [INFO] [Bullet] Distance to wall: 1529.05285644531 (104.116020675637% of viewport)
[02:07:31] [INFO] [Bullet] Distance-based penetration chance: 29.1767958648727%
[02:07:31] [INFO] [Bullet] Penetration failed (distance roll)
[02:07:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(381.6264, 757.8547), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:07:31] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[02:07:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(347.46622, 786.3222), shooter_id=9268371655604, bullet_pos=(908.76715, 708.52515)
[02:07:31] [INFO] [Bullet] Using shooter_position, distance=566,6666
[02:07:31] [INFO] [Bullet] Distance to wall: 566,6666 (38,585373% of viewport)
[02:07:31] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:07:31] [INFO] [Bullet] Starting wall penetration at (908.76715, 708.52515)
[02:07:31] [INFO] [Bullet] Raycast backward hit penetrating body at distance 10,840131
[02:07:31] [INFO] [Bullet] Body exited signal received for penetrating body
[02:07:31] [INFO] [Bullet] Exiting penetration at (946.7375, 703.2624) after traveling 33,33334 pixels through wall
[02:07:31] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[02:07:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(359.2236, 767.61115), shooter_id=9268371655604, bullet_pos=(917.49207, 759.0828)
[02:07:31] [INFO] [Bullet] Using shooter_position, distance=558,33356
[02:07:31] [INFO] [Bullet] Distance to wall: 558,33356 (38,01796% of viewport)
[02:07:31] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:07:31] [INFO] [Bullet] Starting wall penetration at (917.49207, 759.0828)
[02:07:31] [INFO] [Bullet] Raycast backward hit penetrating body at distance 19,823235
[02:07:31] [INFO] [Bullet] Body exited signal received for penetrating body
[02:07:31] [INFO] [Bullet] Exiting penetration at (955.8209, 758.4973) after traveling 33,333336 pixels through wall
[02:07:31] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[02:07:31] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[02:07:31] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[02:07:31] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[02:07:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(381.6264, 757.8547), shooter_id=9268371655604, bullet_pos=(938.6673, 795.82025)
[02:07:31] [INFO] [Bullet] Using shooter_position, distance=558,3332
[02:07:31] [INFO] [Bullet] Distance to wall: 558,3332 (38,017933% of viewport)
[02:07:31] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:07:31] [INFO] [Bullet] Starting wall penetration at (938.6673, 795.82025)
[02:07:31] [INFO] [Bullet] Raycast backward hit penetrating body at distance 41,006775
[02:07:31] [INFO] [Bullet] Body exited signal received for penetrating body
[02:07:31] [INFO] [Bullet] Exiting penetration at (976.91187, 798.4268) after traveling 33,333332 pixels through wall
[02:07:31] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[02:07:32] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[02:07:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(610.8703, 833.7705), source=ENEMY (Enemy3), range=1469, listeners=10
[02:07:32] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[02:07:32] [INFO] [LastChance] Threat detected: Bullet
[02:07:32] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:07:32] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:07:32] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[02:07:32] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[02:07:32] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[02:07:32] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[02:07:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(587.9001, 840.3481), source=ENEMY (Enemy3), range=1469, listeners=10
[02:07:32] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[02:07:32] [INFO] [LastChance] Threat detected: Bullet
[02:07:32] [INFO] [LastChance] Triggering last chance effect!
[02:07:32] [INFO] [LastChance] Starting last chance effect:
[02:07:32] [INFO] [LastChance]   - Time will be frozen (except player)
[02:07:32] [INFO] [LastChance]   - Duration: 6.0 real seconds
[02:07:32] [INFO] [LastChance]   - Sepia intensity: 0.70
[02:07:32] [INFO] [LastChance]   - Brightness: 0.60
[02:07:32] [INFO] [LastChance] Pushed bullet Bullet from distance 49.4 to 200.0
[02:07:32] [INFO] [LastChance] Pushed 1 threatening bullets away from player
[02:07:32] [INFO] [LastChance] Set player Player and all 18 children to PROCESS_MODE_ALWAYS
[02:07:32] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[02:07:32] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:07:32] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:07:32] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[02:07:32] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:07:32] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:07:32] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:07:32] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:07:32] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:07:32] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:07:32] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:07:32] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:07:32] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:07:32] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:07:32] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:07:32] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:07:32] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:07:32] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[02:07:32] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[02:07:32] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:07:32] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:07:32] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:07:32] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:07:32] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:07:32] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[02:07:32] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[02:07:32] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:07:32] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[02:07:32] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[02:07:32] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:07:32] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:07:32] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[02:07:32] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[02:07:32] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[02:07:32] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[02:07:32] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[02:07:32] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[02:07:32] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[02:07:32] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[02:07:32] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[02:07:32] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[02:07:32] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[02:07:32] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[02:07:32] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[02:07:32] [INFO] [LastChance] Skipping player node: Player
[02:07:32] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[02:07:32] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[02:07:32] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[02:07:32] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[02:07:32] [INFO] [LastChance] Resetting all effects (scene change detected)
[02:07:32] [INFO] [LastChance] Ending last chance effect
[02:07:32] [INFO] [LastChance] All process modes restored
[02:07:32] [INFO] [LastChance] Restored original colors to 5 player sprites
[02:07:32] [ENEMY] [Enemy1] Death animation component initialized
[02:07:32] [ENEMY] [Enemy2] Death animation component initialized
[02:07:32] [ENEMY] [Enemy3] Death animation component initialized
[02:07:32] [ENEMY] [Enemy4] Death animation component initialized
[02:07:32] [ENEMY] [Enemy5] Death animation component initialized
[02:07:32] [ENEMY] [Enemy6] Death animation component initialized
[02:07:32] [ENEMY] [Enemy7] Death animation component initialized
[02:07:32] [ENEMY] [Enemy8] Death animation component initialized
[02:07:32] [ENEMY] [Enemy9] Death animation component initialized
[02:07:32] [ENEMY] [Enemy10] Death animation component initialized
[02:07:32] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[02:07:32] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[02:07:32] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[02:07:32] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[02:07:32] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[02:07:32] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[02:07:32] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[02:07:32] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[02:07:32] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[02:07:32] [ENEMY] [Enemy10] Grenade system configured: offensive=2, flashbangs=0
[02:07:32] [INFO] [ScoreManager] Level started with 10 enemies
[02:07:32] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[02:07:32] [ENEMY] [Enemy1] Registered as sound listener
[02:07:32] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[02:07:32] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[02:07:32] [ENEMY] [Enemy2] Registered as sound listener
[02:07:32] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[02:07:32] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[02:07:32] [ENEMY] [Enemy3] Registered as sound listener
[02:07:32] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[02:07:32] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[02:07:32] [ENEMY] [Enemy4] Registered as sound listener
[02:07:32] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[02:07:32] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[02:07:32] [ENEMY] [Enemy5] Registered as sound listener
[02:07:32] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[02:07:32] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[02:07:32] [ENEMY] [Enemy6] Registered as sound listener
[02:07:32] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[02:07:32] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[02:07:32] [ENEMY] [Enemy7] Registered as sound listener
[02:07:32] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[02:07:32] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[02:07:32] [ENEMY] [Enemy8] Registered as sound listener
[02:07:32] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[02:07:32] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[02:07:32] [ENEMY] [Enemy9] Registered as sound listener
[02:07:32] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[02:07:32] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[02:07:32] [ENEMY] [Enemy10] Registered as sound listener
[02:07:32] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[02:07:32] [INFO] [Player] Detecting weapon pose (frame 3)...
[02:07:32] [INFO] [Player] Detected weapon: Rifle (default pose)
[02:07:32] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[02:07:32] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[02:07:32] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[02:07:32] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[02:07:32] [INFO] [LastChance] Found player: Player
[02:07:32] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[02:07:32] [INFO] [LastChance] Connected to player Damaged signal (C#)
[02:07:32] [INFO] [LastChance] Connected to player Died signal (C#)
[02:07:33] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:07:33] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:07:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1171.731, 1535.008), source=ENEMY (Enemy10), range=1469, listeners=20
[02:07:33] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[02:07:33] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=8
[02:07:33] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:07:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1139.423, 1516.307), source=ENEMY (Enemy10), range=1469, listeners=10
[02:07:33] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:07:33] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:07:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1107.906, 1496.302), source=ENEMY (Enemy10), range=1469, listeners=10
[02:07:33] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:07:33] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:07:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1077.226, 1475.035), source=ENEMY (Enemy10), range=1469, listeners=10
[02:07:33] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:07:33] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:07:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1047.423, 1452.555), source=ENEMY (Enemy10), range=1469, listeners=10
[02:07:33] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:07:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1108.874, 1508.939), shooter_id=9439197267370, bullet_pos=(53.14801, 921.1365)
[02:07:33] [INFO] [Bullet] Using shooter_position, distance=1208.33337402344
[02:07:33] [INFO] [Bullet] Distance to wall: 1208.33337402344 (82.277641366406% of viewport)
[02:07:33] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:07:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1077.684, 1487.691), shooter_id=9439197267370, bullet_pos=(46.85162, 857.2495)
[02:07:33] [INFO] [Bullet] Using shooter_position, distance=1208.33435058594
[02:07:33] [INFO] [Bullet] Distance to wall: 1208.33435058594 (82.2777078623423% of viewport)
[02:07:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1108.874, 1508.939), shooter_id=9439197267370, bullet_pos=(382.8358, 704.3371)
[02:07:33] [INFO] [Bullet] Using shooter_position, distance=1083.75061035156
[02:07:33] [INFO] [Bullet] Distance to wall: 1083.75061035156 (73.794571900486% of viewport)
[02:07:33] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:07:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1047.382, 1465.197), shooter_id=9439197267370, bullet_pos=(43.06916, 793.3154)
[02:07:33] [INFO] [Bullet] Using shooter_position, distance=1208.33349609375
[02:07:33] [INFO] [Bullet] Distance to wall: 1208.33349609375 (82.277649678398% of viewport)
[02:07:33] [INFO] [Bullet] Distance-based penetration chance: 50.6760753752023%
[02:07:33] [INFO] [Bullet] Starting wall penetration at (43.06916, 793.3154)
[02:07:33] [INFO] [LastChance] Threat detected: @Area2D@10568
[02:07:33] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:07:33] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:07:33] [INFO] [Bullet] Raycast backward hit penetrating body at distance 33.3488731384277
[02:07:33] [INFO] [Bullet] Body exited signal received for penetrating body
[02:07:33] [INFO] [Bullet] Exiting penetration at (4.281879, 767.3669) after traveling 41.6666679382324 pixels through wall
[02:07:33] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:07:33] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[02:07:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1108.874, 1508.939), shooter_id=9439197267370, bullet_pos=(499.4413, 807.2443)
[02:07:33] [INFO] [Bullet] Using shooter_position, distance=929.399658203125
[02:07:33] [INFO] [Bullet] Distance to wall: 929.399658203125 (63.2845317423251% of viewport)
[02:07:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1077.684, 1487.691), shooter_id=9439197267370, bullet_pos=(412.2701, 708.3689)
[02:07:34] [INFO] [Bullet] Using shooter_position, distance=1024.7529296875
[02:07:34] [INFO] [Bullet] Distance to wall: 1024.7529296875 (69.7773113369014% of viewport)
[02:07:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1018.01, 1441.508), shooter_id=9439197267370, bullet_pos=(41.67921, 729.5751)
[02:07:34] [INFO] [Bullet] Using shooter_position, distance=1208.33349609375
[02:07:34] [INFO] [Bullet] Distance to wall: 1208.33349609375 (82.277649678398% of viewport)
[02:07:34] [INFO] [Bullet] Distance-based penetration chance: 50.6760753752023%
[02:07:34] [INFO] [Bullet] Starting wall penetration at (41.67921, 729.5751)
[02:07:34] [INFO] [Bullet] Raycast backward hit penetrating body at distance 34.6874122619629
[02:07:34] [INFO] [Bullet] Body exited signal received for penetrating body
[02:07:34] [INFO] [Bullet] Exiting penetration at (3.972645, 702.0798) after traveling 41.6666679382324 pixels through wall
[02:07:34] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:07:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(989.5137, 1416.818), shooter_id=9439197267370, bullet_pos=(40.74029, 668.554)
[02:07:34] [INFO] [Bullet] Using shooter_position, distance=1208.33374023438
[02:07:34] [INFO] [Bullet] Distance to wall: 1208.33374023438 (82.2776663023821% of viewport)
[02:07:34] [INFO] [Bullet] Distance-based penetration chance: 50.6760559805542%
[02:07:34] [INFO] [Bullet] Starting wall penetration at (40.74029, 668.554)
[02:07:34] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[02:07:34] [INFO] [Bullet] Raycast backward hit penetrating body at distance 35.535270690918
[02:07:34] [INFO] [Bullet] Body exited signal received for penetrating body
[02:07:34] [INFO] [Bullet] Exiting penetration at (4.097996, 639.6555) after traveling 41.6666717529297 pixels through wall
[02:07:34] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:07:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1077.684, 1487.691), shooter_id=9439197267370, bullet_pos=(910.7206, 844.7484)
[02:07:34] [INFO] [Bullet] Using shooter_position, distance=664.26806640625
[02:07:34] [INFO] [Bullet] Distance to wall: 664.26806640625 (45.2312341228682% of viewport)
[02:07:34] [INFO] [Bullet] Distance-based penetration chance: 93.8968935233204%
[02:07:34] [INFO] [Bullet] Starting wall penetration at (910.7206, 844.7484)
[02:07:34] [INFO] [Bullet] Raycast backward hit penetrating body at distance 8.89569664001465
[02:07:34] [INFO] [Bullet] Body exited signal received for penetrating body
[02:07:34] [INFO] [Bullet] Exiting penetration at (944.5803, 854.0126) after traveling 30.1041698455811 pixels through wall
[02:07:34] [INFO] [Bullet] Damage multiplier after penetration: 0.225
[02:07:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(390.8542, 797.7169), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:07:34] [ENEMY] [Enemy1] Heard gunshot at (390.8542, 797.7169), source_type=0, intensity=0.01, distance=457
[02:07:34] [ENEMY] [Enemy2] Heard gunshot at (390.8542, 797.7169), source_type=0, intensity=0.04, distance=248
[02:07:34] [ENEMY] [Enemy4] Heard gunshot at (390.8542, 797.7169), source_type=0, intensity=0.01, distance=422
[02:07:34] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[02:07:34] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[02:07:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1108.874, 1508.939), shooter_id=9439197267370, bullet_pos=(65.79578, 1318.377)
[02:07:34] [INFO] [Bullet] Using shooter_position, distance=1060.34252929688
[02:07:34] [INFO] [Bullet] Distance to wall: 1060.34252929688 (72.2006726178068% of viewport)
[02:07:34] [ENEMY] [Enemy3] Hit taken, health: 1/2
[02:07:34] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[02:07:34] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[02:07:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(406.3593, 768.4448), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:07:34] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[02:07:34] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[02:07:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(429.4298, 751.7351), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:07:34] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[02:07:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(406.35934, 768.44476), shooter_id=9440019351122, bullet_pos=(928.5395, 714.1042)
[02:07:34] [INFO] [Bullet] Using shooter_position, distance=525
[02:07:34] [INFO] [Bullet] Distance to wall: 525 (35,748215% of viewport)
[02:07:34] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:07:34] [INFO] [Bullet] Starting wall penetration at (928.5395, 714.1042)
[02:07:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(460.3302, 746.105), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:07:34] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[02:07:34] [INFO] [Bullet] Raycast backward hit penetrating body at distance 30,832539
[02:07:34] [INFO] [Bullet] Body exited signal received for penetrating body
[02:07:34] [INFO] [Bullet] Exiting penetration at (966.66693, 710.1365) after traveling 33,333332 pixels through wall
[02:07:34] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[02:07:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(406.35934, 768.44476), shooter_id=9440019351122, bullet_pos=(966.66693, 710.1365)
[02:07:34] [INFO] [Bullet] Using shooter_position, distance=563,3334
[02:07:34] [INFO] [Bullet] Distance to wall: 563,3334 (38,358406% of viewport)
[02:07:34] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:07:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1108.874, 1508.939), shooter_id=9439197267370, bullet_pos=(297.9428, 1590.056)
[02:07:34] [INFO] [Bullet] Using shooter_position, distance=814.978393554688
[02:07:34] [INFO] [Bullet] Distance to wall: 814.978393554688 (55.4933774302601% of viewport)
[02:07:34] [INFO] [Bullet] Distance-based penetration chance: 81.9243929980299%
[02:07:34] [INFO] [Bullet] Starting wall penetration at (297.9428, 1590.056)
[02:07:34] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[02:07:34] [INFO] [Bullet] Exiting penetration at (312.4946, 1607.086) after traveling 17.4002113342285 pixels through wall
[02:07:34] [INFO] [Bullet] Damage multiplier after penetration: 0.05625
[02:07:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(429.42978, 751.7351), shooter_id=9440019351122, bullet_pos=(920.863, 766.8902)
[02:07:34] [INFO] [Bullet] Using shooter_position, distance=491,6668
[02:07:34] [INFO] [Bullet] Distance to wall: 491,6668 (33,4785% of viewport)
[02:07:34] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:07:34] [INFO] [Bullet] Starting wall penetration at (920.863, 766.8902)
[02:07:34] [INFO] [Bullet] Raycast backward hit penetrating body at distance 23,18912
[02:07:34] [INFO] [Bullet] Body exited signal received for penetrating body
[02:07:34] [INFO] [Bullet] Exiting penetration at (959.1781, 768.0718) after traveling 33,333332 pixels through wall
[02:07:34] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[02:07:34] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[02:07:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(581.7901, 819.3443), source=ENEMY (Enemy3), range=1469, listeners=10
[02:07:34] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[02:07:34] [INFO] [LastChance] Threat detected: Bullet
[02:07:34] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:07:34] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:07:34] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[02:07:34] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[02:07:34] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[02:07:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(460.3302, 746.105), shooter_id=9440019351122, bullet_pos=(909.9386, 835.1082)
[02:07:34] [INFO] [Bullet] Using shooter_position, distance=458,33316
[02:07:34] [INFO] [Bullet] Distance to wall: 458,33316 (31,208748% of viewport)
[02:07:34] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:07:34] [INFO] [Bullet] Starting wall penetration at (909.9386, 835.1082)
[02:07:34] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[02:07:34] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[02:07:34] [INFO] [Bullet] Raycast backward hit penetrating body at distance 11,766213
[02:07:34] [INFO] [Bullet] Body exited signal received for penetrating body
[02:07:34] [INFO] [Bullet] Exiting penetration at (947.54224, 842.5521) after traveling 33,333336 pixels through wall
[02:07:34] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[02:07:34] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[02:07:34] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[02:07:35] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[02:07:35] [INFO] [LastChance] Resetting all effects (scene change detected)
[02:07:35] [ENEMY] [Enemy1] Death animation component initialized
[02:07:35] [ENEMY] [Enemy2] Death animation component initialized
[02:07:35] [ENEMY] [Enemy3] Death animation component initialized
[02:07:35] [ENEMY] [Enemy4] Death animation component initialized
[02:07:35] [ENEMY] [Enemy5] Death animation component initialized
[02:07:35] [ENEMY] [Enemy6] Death animation component initialized
[02:07:35] [ENEMY] [Enemy7] Death animation component initialized
[02:07:35] [ENEMY] [Enemy8] Death animation component initialized
[02:07:35] [ENEMY] [Enemy9] Death animation component initialized
[02:07:35] [ENEMY] [Enemy10] Death animation component initialized
[02:07:35] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[02:07:35] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[02:07:35] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[02:07:35] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[02:07:35] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[02:07:35] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[02:07:35] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[02:07:35] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[02:07:35] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[02:07:35] [ENEMY] [Enemy10] Grenade system configured: offensive=2, flashbangs=0
[02:07:35] [INFO] [ScoreManager] Level started with 10 enemies
[02:07:35] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[02:07:35] [ENEMY] [Enemy1] Registered as sound listener
[02:07:35] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[02:07:35] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[02:07:35] [ENEMY] [Enemy2] Registered as sound listener
[02:07:35] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[02:07:35] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[02:07:35] [ENEMY] [Enemy3] Registered as sound listener
[02:07:35] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[02:07:35] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[02:07:35] [ENEMY] [Enemy4] Registered as sound listener
[02:07:35] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[02:07:35] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[02:07:35] [ENEMY] [Enemy5] Registered as sound listener
[02:07:35] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[02:07:35] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[02:07:35] [ENEMY] [Enemy6] Registered as sound listener
[02:07:35] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[02:07:35] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[02:07:35] [ENEMY] [Enemy7] Registered as sound listener
[02:07:35] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[02:07:35] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[02:07:35] [ENEMY] [Enemy8] Registered as sound listener
[02:07:35] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[02:07:35] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[02:07:35] [ENEMY] [Enemy9] Registered as sound listener
[02:07:35] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[02:07:35] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[02:07:35] [ENEMY] [Enemy10] Registered as sound listener
[02:07:35] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[02:07:35] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[02:07:35] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[02:07:35] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[02:07:35] [INFO] [LastChance] Found player: Player
[02:07:35] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[02:07:35] [INFO] [LastChance] Connected to player Damaged signal (C#)
[02:07:35] [INFO] [LastChance] Connected to player Died signal (C#)
[02:07:35] [INFO] [Player] Detecting weapon pose (frame 3)...
[02:07:35] [INFO] [Player] Detected weapon: Rifle (default pose)
[02:07:35] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[02:07:35] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[02:07:35] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:07:35] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:07:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1153.17, 1524.495), source=ENEMY (Enemy10), range=1469, listeners=20
[02:07:35] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[02:07:35] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:07:35] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:07:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1121.308, 1505.043), source=ENEMY (Enemy10), range=1469, listeners=10
[02:07:35] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:07:35] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:07:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1090.264, 1484.312), source=ENEMY (Enemy10), range=1469, listeners=10
[02:07:35] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:07:36] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:07:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1060.083, 1462.342), source=ENEMY (Enemy10), range=1469, listeners=10
[02:07:36] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:07:36] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:07:36] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[02:07:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1090.94, 1496.963), shooter_id=9616213674210, bullet_pos=(49.24072, 884.6459)
[02:07:36] [INFO] [Bullet] Using shooter_position, distance=1208.33312988281
[02:07:36] [INFO] [Bullet] Distance to wall: 1208.33312988281 (82.2776247424219% of viewport)
[02:07:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1060.252, 1474.997), shooter_id=9616213674210, bullet_pos=(44.39412, 820.7018)
[02:07:36] [INFO] [Bullet] Using shooter_position, distance=1208.33325195313
[02:07:36] [INFO] [Bullet] Distance to wall: 1208.33325195313 (82.2776330544139% of viewport)
[02:07:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1060.252, 1474.997), shooter_id=9616213674210, bullet_pos=(181.9997, 701.4581)
[02:07:36] [INFO] [Bullet] Using shooter_position, distance=1170.33728027344
[02:07:36] [INFO] [Bullet] Distance to wall: 1170.33728027344 (79.6904174743129% of viewport)
[02:07:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1090.94, 1496.963), shooter_id=9616213674210, bullet_pos=(438.9714, 702.9595)
[02:07:36] [INFO] [Bullet] Using shooter_position, distance=1027.37719726563
[02:07:36] [INFO] [Bullet] Distance to wall: 1027.37719726563 (69.9560025418985% of viewport)
[02:07:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1030.477, 1451.813), shooter_id=9616213674210, bullet_pos=(41.99573, 756.85)
[02:07:36] [INFO] [Bullet] Using shooter_position, distance=1208.33312988281
[02:07:36] [INFO] [Bullet] Distance to wall: 1208.33312988281 (82.2776247424219% of viewport)
[02:07:36] [INFO] [Bullet] Distance-based penetration chance: 50.6761044671745%
[02:07:36] [INFO] [Bullet] Penetration failed (distance roll)
[02:07:36] [INFO] [LastChance] Threat detected: @Area2D@10843
[02:07:36] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:07:36] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:07:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1001.652, 1427.466), shooter_id=9616213674210, bullet_pos=(41.90974, 693.3243)
[02:07:36] [INFO] [Bullet] Using shooter_position, distance=1208.33264160156
[02:07:36] [INFO] [Bullet] Distance to wall: 1208.33264160156 (82.2775914944537% of viewport)
[02:07:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1090.94, 1496.963), shooter_id=9616213674210, bullet_pos=(726.2212, 808.5494)
[02:07:36] [INFO] [Bullet] Using shooter_position, distance=779.058898925781
[02:07:36] [INFO] [Bullet] Distance to wall: 779.058898925781 (53.0475529908514% of viewport)
[02:07:36] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[02:07:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1060.252, 1474.997), shooter_id=9616213674210, bullet_pos=(506.8013, 928.6158)
[02:07:36] [INFO] [Bullet] Using shooter_position, distance=777.714538574219
[02:07:36] [INFO] [Bullet] Distance to wall: 777.714538574219 (52.9560130224528% of viewport)
[02:07:36] [INFO] [Bullet] Distance-based penetration chance: 84.8846514738051%
[02:07:36] [INFO] [Bullet] Penetration failed (distance roll)
[02:07:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1090.94, 1496.963), shooter_id=9616213674210, bullet_pos=(932.5363, 770.9778)
[02:07:36] [INFO] [Bullet] Using shooter_position, distance=743.065246582031
[02:07:36] [INFO] [Bullet] Distance to wall: 743.065246582031 (50.596679016275% of viewport)
[02:07:36] [INFO] [Bullet] Distance-based penetration chance: 87.6372078143459%
[02:07:36] [INFO] [Bullet] Starting wall penetration at (932.5363, 770.9778)
[02:07:36] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[02:07:36] [INFO] [Bullet] Raycast backward hit penetrating body at distance 27.0679035186768
[02:07:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1001.652, 1427.466), shooter_id=9616213674210, bullet_pos=(315.863, 461.0522)
[02:07:36] [INFO] [Bullet] Using shooter_position, distance=1185.01513671875
[02:07:36] [INFO] [Bullet] Distance to wall: 1185.01513671875 (80.6898597098723% of viewport)
[02:07:36] [INFO] [Bullet] Distance-based penetration chance: 52.528497005149%
[02:07:36] [INFO] [Bullet] Starting wall penetration at (315.863, 461.0522)
[02:07:36] [INFO] [Bullet] Body exited signal received for penetrating body
[02:07:36] [INFO] [Bullet] Exiting penetration at (962.6299, 765.4975) after traveling 25.5885429382324 pixels through wall
[02:07:36] [INFO] [Bullet] Damage multiplier after penetration: 0.1125
[02:07:36] [INFO] [Bullet] Raycast backward hit penetrating body at distance 8.77176570892334
[02:07:36] [INFO] [Bullet] Body exited signal received for penetrating body
[02:07:36] [INFO] [Bullet] Exiting penetration at (346.6906, 434.9148) after traveling 35.4166679382324 pixels through wall
[02:07:36] [INFO] [Bullet] Damage multiplier after penetration: 0.45
[02:07:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(389.3429, 796.3575), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:07:36] [ENEMY] [Enemy1] Heard gunshot at (389.3429, 796.3575), source_type=0, intensity=0.01, distance=455
[02:07:36] [ENEMY] [Enemy2] Heard gunshot at (389.3429, 796.3575), source_type=0, intensity=0.04, distance=247
[02:07:36] [ENEMY] [Enemy4] Heard gunshot at (389.3429, 796.3575), source_type=0, intensity=0.01, distance=424
[02:07:36] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[02:07:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(389.3429, 796.35754), shooter_id=9617035758221, bullet_pos=(497.5199, 802.17505)
[02:07:36] [INFO] [Bullet] Using shooter_position, distance=108,33331
[02:07:36] [INFO] [Bullet] Distance to wall: 108,33331 (7,376615% of viewport)
[02:07:36] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:07:36] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[02:07:36] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[02:07:36] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[02:07:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(390.7932, 765.5897), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:07:36] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[02:07:36] [ENEMY] [Enemy1] State: COMBAT -> RETREATING
[02:07:36] [ENEMY] [Enemy3] Hit taken, health: 1/2
[02:07:36] [ENEMY] [Enemy1] State: RETREATING -> IN_COVER
[02:07:36] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[02:07:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(407.6212, 742.2307), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:07:36] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[02:07:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(432.6217, 734.0662), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:07:37] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[02:07:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(407.62115, 742.2307), shooter_id=9617035758221, bullet_pos=(725.85535, 808.2003)
[02:07:37] [INFO] [Bullet] Using shooter_position, distance=325
[02:07:37] [INFO] [Bullet] Distance to wall: 325 (22,129848% of viewport)
[02:07:37] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:07:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(432.62173, 734.0662), shooter_id=9617035758221, bullet_pos=(677.0221, 817.75946)
[02:07:37] [INFO] [Bullet] Using shooter_position, distance=258,3333
[02:07:37] [INFO] [Bullet] Distance to wall: 258,3333 (17,59039% of viewport)
[02:07:37] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:07:37] [INFO] [Bullet] Starting wall penetration at (677.0221, 817.75946)
[02:07:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(467.0882, 734.0662), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:07:37] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[02:07:37] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[02:07:37] [INFO] [Bullet] Exiting penetration at (713.28796, 830.17847) after traveling 33,333336 pixels through wall
[02:07:37] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[02:07:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(407.62115, 742.2307), shooter_id=9617035758221, bullet_pos=(918.0086, 741.7058)
[02:07:37] [INFO] [Bullet] Using shooter_position, distance=510,38773
[02:07:37] [INFO] [Bullet] Distance to wall: 510,38773 (34,75324% of viewport)
[02:07:37] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:07:37] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[02:07:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(467.0882, 734.0662), shooter_id=9617035758221, bullet_pos=(676.5125, 816.3248)
[02:07:37] [INFO] [Bullet] Using shooter_position, distance=225,00005
[02:07:37] [INFO] [Bullet] Distance to wall: 225,00005 (15,320667% of viewport)
[02:07:37] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:07:37] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[02:07:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(570.5006, 847.4871), source=ENEMY (Enemy3), range=1469, listeners=10
[02:07:37] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[02:07:37] [INFO] [LastChance] Threat detected: @Area2D@10867
[02:07:37] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:07:37] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:07:37] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[02:07:37] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[02:07:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(550.1568, 860.0178), source=ENEMY (Enemy3), range=1469, listeners=10
[02:07:37] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=5
[02:07:37] [INFO] [LastChance] Threat detected: Bullet
[02:07:37] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:07:37] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:07:37] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[02:07:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=10
[02:07:37] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=4
[02:07:37] [INFO] [LastChance] Threat detected: @Area2D@10868
[02:07:37] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:07:37] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:07:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(436.4308, 607.4752), shooter_id=9613931972701, bullet_pos=(499.2958, 685.2439)
[02:07:37] [INFO] [Bullet] Using shooter_position, distance=99.9999542236328
[02:07:37] [INFO] [Bullet] Distance to wall: 99.9999542236328 (6.80918076678852% of viewport)
[02:07:37] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:07:37] [INFO] [Bullet] Starting wall penetration at (499.2958, 685.2439)
[02:07:37] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[02:07:37] [INFO] [Bullet] Exiting penetration at (523.3941, 715.0552) after traveling 33.3333358764648 pixels through wall
[02:07:37] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:07:37] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[02:07:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(568.3696, 866.6055), source=ENEMY (Enemy3), range=1469, listeners=10
[02:07:37] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[02:07:37] [INFO] [LastChance] Threat detected: Bullet
[02:07:37] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:07:37] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:07:37] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[02:07:37] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[02:07:37] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[02:07:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400, 550), source=ENEMY (Enemy2), range=1469, listeners=10
[02:07:37] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=4
[02:07:37] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[02:07:37] [INFO] [LastChance] Threat detected: @Area2D@10870
[02:07:37] [INFO] [LastChance] Player health is 3.0 - effect requires exactly 1 HP or less but alive
[02:07:37] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:07:37] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[02:07:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(551.848, 875.0635), source=ENEMY (Enemy3), range=1469, listeners=10
[02:07:37] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[02:07:37] [INFO] [LastChance] Threat detected: Bullet
[02:07:37] [INFO] [LastChance] Player health is 3.0 - effect requires exactly 1 HP or less but alive
[02:07:37] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:07:37] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[02:07:37] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[02:07:37] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[02:07:37] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[02:07:37] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[02:07:37] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[02:07:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(414.1032, 566.0065), source=ENEMY (Enemy2), range=1469, listeners=10
[02:07:37] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=4
[02:07:37] [ENEMY] [Enemy10] FLANKING started: target=(801.8796, 770.6942), side=left, pos=(1022.56, 1432.416)
[02:07:37] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[02:07:37] [INFO] [LastChance] Threat detected: @Area2D@10871
[02:07:37] [INFO] [LastChance] Triggering last chance effect!
[02:07:37] [INFO] [LastChance] Starting last chance effect:
[02:07:37] [INFO] [LastChance]   - Time will be frozen (except player)
[02:07:37] [INFO] [LastChance]   - Duration: 6.0 real seconds
[02:07:37] [INFO] [LastChance]   - Sepia intensity: 0.70
[02:07:37] [INFO] [LastChance]   - Brightness: 0.60
[02:07:37] [INFO] [LastChance] Pushed bullet @Area2D@10871 from distance 129.7 to 200.0
[02:07:37] [INFO] [LastChance] Pushed 1 threatening bullets away from player
[02:07:37] [INFO] [LastChance] Set player Player and all 18 children to PROCESS_MODE_ALWAYS
[02:07:37] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[02:07:37] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:07:37] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:07:37] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[02:07:37] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:07:37] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:07:37] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:07:37] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:07:37] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:07:37] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:07:37] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:07:37] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:07:37] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:07:37] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:07:37] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:07:37] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:07:37] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:07:37] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[02:07:37] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[02:07:37] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:07:37] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:07:37] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:07:37] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:07:37] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:07:37] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[02:07:37] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[02:07:37] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:07:37] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[02:07:37] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[02:07:37] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:07:37] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:07:37] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[02:07:37] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[02:07:37] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[02:07:37] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[02:07:37] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[02:07:37] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[02:07:37] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[02:07:37] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[02:07:37] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[02:07:37] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[02:07:37] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[02:07:37] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[02:07:37] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[02:07:37] [INFO] [LastChance] Skipping player node: Player
[02:07:37] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[02:07:37] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[02:07:37] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[02:07:38] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[02:07:38] [INFO] [LastChance] Resetting all effects (scene change detected)
[02:07:38] [INFO] [LastChance] Ending last chance effect
[02:07:38] [INFO] [LastChance] All process modes restored
[02:07:38] [INFO] [LastChance] Restored original colors to 5 player sprites
[02:07:38] [ENEMY] [Enemy1] Death animation component initialized
[02:07:38] [ENEMY] [Enemy2] Death animation component initialized
[02:07:38] [ENEMY] [Enemy3] Death animation component initialized
[02:07:38] [ENEMY] [Enemy4] Death animation component initialized
[02:07:38] [ENEMY] [Enemy5] Death animation component initialized
[02:07:38] [ENEMY] [Enemy6] Death animation component initialized
[02:07:38] [ENEMY] [Enemy7] Death animation component initialized
[02:07:38] [ENEMY] [Enemy8] Death animation component initialized
[02:07:38] [ENEMY] [Enemy9] Death animation component initialized
[02:07:38] [ENEMY] [Enemy10] Death animation component initialized
[02:07:38] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[02:07:38] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[02:07:38] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[02:07:38] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[02:07:38] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[02:07:38] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[02:07:38] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[02:07:38] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[02:07:38] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[02:07:38] [ENEMY] [Enemy10] Grenade system configured: offensive=2, flashbangs=0
[02:07:38] [INFO] [ScoreManager] Level started with 10 enemies
[02:07:38] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[02:07:38] [ENEMY] [Enemy1] Registered as sound listener
[02:07:38] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[02:07:38] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[02:07:38] [ENEMY] [Enemy2] Registered as sound listener
[02:07:38] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[02:07:38] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[02:07:38] [ENEMY] [Enemy3] Registered as sound listener
[02:07:38] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[02:07:38] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[02:07:38] [ENEMY] [Enemy4] Registered as sound listener
[02:07:38] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[02:07:38] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[02:07:38] [ENEMY] [Enemy5] Registered as sound listener
[02:07:38] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[02:07:38] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[02:07:38] [ENEMY] [Enemy6] Registered as sound listener
[02:07:38] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[02:07:38] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[02:07:38] [ENEMY] [Enemy7] Registered as sound listener
[02:07:38] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[02:07:38] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[02:07:38] [ENEMY] [Enemy8] Registered as sound listener
[02:07:38] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[02:07:38] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[02:07:38] [ENEMY] [Enemy9] Registered as sound listener
[02:07:38] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[02:07:38] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[02:07:38] [ENEMY] [Enemy10] Registered as sound listener
[02:07:38] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[02:07:38] [INFO] [Player] Detecting weapon pose (frame 3)...
[02:07:38] [INFO] [Player] Detected weapon: Rifle (default pose)
[02:07:38] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[02:07:38] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[02:07:38] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[02:07:38] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[02:07:38] [INFO] [LastChance] Found player: Player
[02:07:38] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[02:07:38] [INFO] [LastChance] Connected to player Damaged signal (C#)
[02:07:38] [INFO] [LastChance] Connected to player Died signal (C#)
[02:07:38] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:07:38] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:07:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1171.731, 1535.008), source=ENEMY (Enemy10), range=1469, listeners=20
[02:07:38] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[02:07:38] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=8
[02:07:38] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:07:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1139.423, 1516.307), source=ENEMY (Enemy10), range=1469, listeners=10
[02:07:38] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:07:38] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:07:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1107.906, 1496.302), source=ENEMY (Enemy10), range=1469, listeners=10
[02:07:38] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:07:39] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:07:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1077.226, 1475.035), source=ENEMY (Enemy10), range=1469, listeners=10
[02:07:39] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:07:39] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:07:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1047.428, 1452.549), source=ENEMY (Enemy10), range=1469, listeners=10
[02:07:39] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:07:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1108.874, 1508.939), shooter_id=9823932385354, bullet_pos=(53.14801, 921.1365)
[02:07:39] [INFO] [Bullet] Using shooter_position, distance=1208.33337402344
[02:07:39] [INFO] [Bullet] Distance to wall: 1208.33337402344 (82.277641366406% of viewport)
[02:07:39] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[02:07:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1077.684, 1487.691), shooter_id=9823932385354, bullet_pos=(46.85162, 857.2495)
[02:07:39] [INFO] [Bullet] Using shooter_position, distance=1208.33435058594
[02:07:39] [INFO] [Bullet] Distance to wall: 1208.33435058594 (82.2777078623423% of viewport)
[02:07:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1047.382, 1465.197), shooter_id=9823932385354, bullet_pos=(43.06916, 793.3154)
[02:07:39] [INFO] [Bullet] Using shooter_position, distance=1208.33349609375
[02:07:39] [INFO] [Bullet] Distance to wall: 1208.33349609375 (82.277649678398% of viewport)
[02:07:39] [INFO] [Bullet] Distance-based penetration chance: 50.6760753752023%
[02:07:39] [INFO] [Bullet] Starting wall penetration at (43.06916, 793.3154)
[02:07:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1077.684, 1487.691), shooter_id=9823932385354, bullet_pos=(246.6182, 702.136)
[02:07:39] [INFO] [Bullet] Using shooter_position, distance=1143.57641601563
[02:07:39] [INFO] [Bullet] Distance to wall: 1143.57641601563 (77.8682210181082% of viewport)
[02:07:39] [INFO] [Bullet] Raycast backward hit penetrating body at distance 33.3488731384277
[02:07:39] [INFO] [Bullet] Body exited signal received for penetrating body
[02:07:39] [INFO] [Bullet] Exiting penetration at (4.281879, 767.3669) after traveling 41.6666679382324 pixels through wall
[02:07:39] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:07:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1018.01, 1441.508), shooter_id=9823932385354, bullet_pos=(41.67921, 729.5751)
[02:07:39] [INFO] [Bullet] Using shooter_position, distance=1208.33349609375
[02:07:39] [INFO] [Bullet] Distance to wall: 1208.33349609375 (82.277649678398% of viewport)
[02:07:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1077.684, 1487.691), shooter_id=9823932385354, bullet_pos=(498.797, 875.5353)
[02:07:39] [INFO] [Bullet] Using shooter_position, distance=842.522827148438
[02:07:39] [INFO] [Bullet] Distance to wall: 842.522827148438 (57.3689285634057% of viewport)
[02:07:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(989.6003, 1416.68), shooter_id=9823932385354, bullet_pos=(42.53408, 666.2555)
[02:07:39] [INFO] [Bullet] Using shooter_position, distance=1208.33422851563
[02:07:39] [INFO] [Bullet] Distance to wall: 1208.33422851563 (82.2776995503503% of viewport)
[02:07:39] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[02:07:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1018.01, 1441.508), shooter_id=9823932385354, bullet_pos=(336.0476, 466.8143)
[02:07:39] [INFO] [Bullet] Using shooter_position, distance=1189.57983398438
[02:07:39] [INFO] [Bullet] Distance to wall: 1189.57983398438 (81.0006783404269% of viewport)
[02:07:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(360.7884, 829.6192), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:07:39] [ENEMY] [Enemy1] Heard gunshot at (360.7884, 829.6192), source_type=0, intensity=0.01, distance=483
[02:07:39] [ENEMY] [Enemy2] Heard gunshot at (360.7884, 829.6192), source_type=0, intensity=0.03, distance=282
[02:07:39] [ENEMY] [Enemy4] Heard gunshot at (360.7884, 829.6192), source_type=0, intensity=0.01, distance=445
[02:07:39] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[02:07:39] [ENEMY] [Enemy2] Hit taken, health: 3/4
[02:07:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(989.6003, 1416.68), shooter_id=9823932385354, bullet_pos=(234.257, 450.8989)
[02:07:39] [INFO] [Bullet] Using shooter_position, distance=1226.08178710938
[02:07:39] [INFO] [Bullet] Distance to wall: 1226.08178710938 (83.4861634498813% of viewport)
[02:07:39] [ENEMY] [Enemy3] Hit taken, health: 1/2
[02:07:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(346.9722, 800.2629), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:07:39] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[02:07:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(639.1948, 761.0223), source=ENEMY (Enemy3), range=1469, listeners=10
[02:07:39] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[02:07:39] [INFO] [LastChance] Threat detected: Bullet
[02:07:39] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:07:39] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:07:39] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[02:07:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(989.6003, 1416.68), shooter_id=9823932385354, bullet_pos=(55.95997, 217.1338)
[02:07:39] [INFO] [Bullet] Using shooter_position, distance=1520.06433105469
[02:07:39] [INFO] [Bullet] Distance to wall: 1520.06433105469 (103.503975453348% of viewport)
[02:07:39] [INFO] [Bullet] Distance-based penetration chance: 29.2992049093303%
[02:07:39] [INFO] [Bullet] Penetration failed (distance roll)
[02:07:39] [ENEMY] [Enemy3] Hit taken, health: 0/2
[02:07:39] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[02:07:39] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[02:07:39] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[02:07:39] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[02:07:39] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[02:07:39] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[02:07:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(347.0061, 778.6556), source=PLAYER (AssaultRifle), range=1469, listeners=9
[02:07:39] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[02:07:39] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[02:07:40] [ENEMY] [Enemy1] State: COMBAT -> RETREATING
[02:07:40] [ENEMY] [Enemy1] State: RETREATING -> IN_COVER
[02:07:40] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[02:07:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(358.6729, 764.1959), source=PLAYER (AssaultRifle), range=1469, listeners=9
[02:07:40] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[02:07:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(572.5229, 775.0311), shooter_id=9821935896562, bullet_pos=(41.46302, 824.2225)
[02:07:40] [INFO] [Bullet] Using shooter_position, distance=533.333312988281
[02:07:40] [INFO] [Bullet] Distance to wall: 533.333312988281 (36.3156459948575% of viewport)
[02:07:40] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:07:40] [INFO] [Bullet] Starting wall penetration at (41.46302, 824.2225)
[02:07:40] [INFO] [Bullet] Raycast backward hit penetrating body at distance 28.8297996520996
[02:07:40] [INFO] [Bullet] Body exited signal received for penetrating body
[02:07:40] [INFO] [Bullet] Exiting penetration at (3.293095, 827.7581) after traveling 33.3333320617676 pixels through wall
[02:07:40] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:07:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(381.9726, 756.884), source=PLAYER (AssaultRifle), range=1469, listeners=9
[02:07:40] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[02:07:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(347.00613, 778.6556), shooter_id=9824754470078, bullet_pos=(938.53595, 765.94214)
[02:07:40] [INFO] [Bullet] Using shooter_position, distance=591,6664
[02:07:40] [INFO] [Bullet] Distance to wall: 591,6664 (40,28765% of viewport)
[02:07:40] [INFO] [Bullet] Distance-based penetration chance: 99,664406%
[02:07:40] [INFO] [Bullet] Starting wall penetration at (938.53595, 765.94214)
[02:07:40] [INFO] [Bullet] Raycast backward hit penetrating body at distance 40,86985
[02:07:40] [INFO] [Bullet] Body exited signal received for penetrating body
[02:07:40] [INFO] [Bullet] Exiting penetration at (976.8604, 765.11847) after traveling 33,333332 pixels through wall
[02:07:40] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[02:07:40] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[02:07:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(358.67288, 764.1959), shooter_id=9824754470078, bullet_pos=(915.1278, 809.9578)
[02:07:40] [INFO] [Bullet] Using shooter_position, distance=558,3335
[02:07:40] [INFO] [Bullet] Distance to wall: 558,3335 (38,017956% of viewport)
[02:07:40] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:07:40] [INFO] [Bullet] Starting wall penetration at (915.1278, 809.9578)
[02:07:40] [INFO] [Bullet] Raycast backward hit penetrating body at distance 17,390663
[02:07:40] [INFO] [Bullet] Body exited signal received for penetrating body
[02:07:40] [INFO] [Bullet] Exiting penetration at (953.33215, 813.0997) after traveling 33,333336 pixels through wall
[02:07:40] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[02:07:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(381.97256, 756.884), shooter_id=9824754470078, bullet_pos=(936.7008, 820.2291)
[02:07:40] [INFO] [Bullet] Using shooter_position, distance=558,3333
[02:07:40] [INFO] [Bullet] Distance to wall: 558,3333 (38,017944% of viewport)
[02:07:40] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:07:40] [INFO] [Bullet] Starting wall penetration at (936.7008, 820.2291)
[02:07:40] [INFO] [Bullet] Raycast backward hit penetrating body at distance 39,03868
[02:07:40] [INFO] [Bullet] Body exited signal received for penetrating body
[02:07:40] [INFO] [Bullet] Exiting penetration at (974.7866, 824.5782) after traveling 33,333336 pixels through wall
[02:07:40] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[02:07:40] [ENEMY] [Enemy4] State: PURSUING -> RETREATING
[02:07:40] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[02:07:40] [ENEMY] [Enemy3] Ragdoll activated
[02:07:40] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[02:07:40] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[02:07:40] [ENEMY] [Enemy1] State: SUPPRESSED -> SEEKING_COVER
[02:07:40] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[02:07:40] [ENEMY] [Enemy10] FLANKING started: target=(758.3855, 755.2475), side=left, pos=(1022.594, 1432.37)
[02:07:40] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[02:07:40] [ENEMY] [Enemy1] State: SEEKING_COVER -> IN_COVER
[02:07:40] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[02:07:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(396.6312, 571.0645), source=ENEMY (Enemy2), range=1469, listeners=9
[02:07:40] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=4
[02:07:41] [INFO] [LastChance] Threat detected: Bullet
[02:07:41] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:07:41] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:07:41] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[02:07:41] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[02:07:41] [ENEMY] [Enemy2] State: SEEKING_COVER -> IN_COVER
[02:07:41] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[02:07:41] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(433.0922, 628.6208), shooter_id=9821650683929, bullet_pos=(681.3746, 851.0323)
[02:07:41] [INFO] [Bullet] Using shooter_position, distance=333.333251953125
[02:07:41] [INFO] [Bullet] Distance to wall: 333.333251953125 (22.6972740712904% of viewport)
[02:07:41] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:07:41] [INFO] [Bullet] Starting wall penetration at (681.3746, 851.0323)
[02:07:41] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[02:07:41] [INFO] [Bullet] Exiting penetration at (709.9271, 876.6096) after traveling 33.3333320617676 pixels through wall
[02:07:41] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:07:41] [ENEMY] [Enemy4] State: SUPPRESSED -> SEEKING_COVER
[02:07:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(587.3268, 895.5671), source=PLAYER (AssaultRifle), range=1469, listeners=9
[02:07:41] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[02:07:41] [ENEMY] [Enemy4] State: SEEKING_COVER -> IN_COVER
[02:07:41] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[02:07:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(606.9941, 922.6207), source=PLAYER (AssaultRifle), range=1469, listeners=9
[02:07:41] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[02:07:41] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(587.32684, 895.56714), shooter_id=9824754470078, bullet_pos=(911.7655, 914.6583)
[02:07:41] [INFO] [Bullet] Using shooter_position, distance=324,99988
[02:07:41] [INFO] [Bullet] Distance to wall: 324,99988 (22,129839% of viewport)
[02:07:41] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:07:41] [INFO] [Bullet] Starting wall penetration at (911.7655, 914.6583)
[02:07:41] [INFO] [Bullet] Raycast backward hit penetrating body at distance 14,056928
[02:07:41] [INFO] [Bullet] Body exited signal received for penetrating body
[02:07:41] [INFO] [Bullet] Exiting penetration at (950.03265, 916.9101) after traveling 33,333336 pixels through wall
[02:07:41] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[02:07:41] [ENEMY] [Enemy4] State: SUPPRESSED -> SEEKING_COVER
[02:07:41] [ENEMY] [Enemy4] State: SEEKING_COVER -> IN_COVER
[02:07:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(634.1701, 941.9922), source=PLAYER (AssaultRifle), range=1469, listeners=9
[02:07:41] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=5
[02:07:41] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[02:07:41] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(606.9941, 922.6207), shooter_id=9824754470078, bullet_pos=(931.8082, 911.6318)
[02:07:41] [INFO] [Bullet] Using shooter_position, distance=325
[02:07:41] [INFO] [Bullet] Distance to wall: 325 (22,129848% of viewport)
[02:07:41] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:07:41] [ENEMY] [Enemy3] Death animation completed
[02:07:41] [INFO] [LastChance] Threat detected: @Area2D@11164
[02:07:41] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:07:41] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:07:41] [ENEMY] [Enemy4] State: SUPPRESSED -> SEEKING_COVER
[02:07:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(666.5711, 948.7497), source=PLAYER (AssaultRifle), range=1469, listeners=9
[02:07:41] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=5
[02:07:41] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(634.1701, 941.99225), shooter_id=9824754470078, bullet_pos=(908.44073, 842.7702)
[02:07:41] [INFO] [Bullet] Using shooter_position, distance=291,66656
[02:07:41] [INFO] [Bullet] Distance to wall: 291,66656 (19,860113% of viewport)
[02:07:41] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:07:41] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(666.5711, 948.7497), shooter_id=9824754470078, bullet_pos=(735.06195, 887.8254)
[02:07:41] [INFO] [Bullet] Using shooter_position, distance=91,66661
[02:07:41] [INFO] [Bullet] Distance to wall: 91,66661 (6,2417483% of viewport)
[02:07:41] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:07:41] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[02:07:41] [ENEMY] [Enemy2] State: SEEKING_COVER -> IN_COVER
[02:07:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(701.7713, 948.7497), source=PLAYER (AssaultRifle), range=1469, listeners=9
[02:07:41] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=5
[02:07:41] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(666.5711, 948.7497), shooter_id=9824754470078, bullet_pos=(865.5693, 1004.41345)
[02:07:41] [INFO] [Bullet] Using shooter_position, distance=206,63669
[02:07:41] [INFO] [Bullet] Distance to wall: 206,63669 (14,070272% of viewport)
[02:07:41] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:07:41] [INFO] [Bullet] Starting wall penetration at (865.5693, 1004.41345)
[02:07:41] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[02:07:41] [INFO] [Bullet] Raycast backward hit penetrating body at distance 3,9337242
[02:07:42] [INFO] [Bullet] Max penetration distance exceeded: 56,666664 >= 48
[02:07:42] [INFO] [Bullet] Body exited signal received for penetrating body
[02:07:42] [INFO] [Bullet] Exiting penetration at (911.55756, 1045.497) after traveling 56,666664 pixels through wall
[02:07:42] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[02:07:42] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[02:07:42] [ENEMY] [Enemy4] Hit taken, health: 1/2
[02:07:42] [ENEMY] [Enemy2] State: SEEKING_COVER -> IN_COVER
[02:07:42] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[02:07:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(736.9715, 948.7497), source=PLAYER (AssaultRifle), range=1469, listeners=9
[02:07:42] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=5
[02:07:42] [ENEMY] [Enemy4] Hit taken, health: 0/2
[02:07:42] [ENEMY] [Enemy4] Enemy died (ricochet: false, penetration: false)
[02:07:42] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[02:07:42] [INFO] [SoundPropagation] Unregistered listener: Enemy4 (remaining: 8)
[02:07:42] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[02:07:42] [ENEMY] [Enemy4] Death animation started with hit direction: (1, 0)
[02:07:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(772.1717, 948.7497), source=PLAYER (AssaultRifle), range=1469, listeners=8
[02:07:42] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=7
[02:07:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(805.2036, 944.9284), source=PLAYER (AssaultRifle), range=1469, listeners=8
[02:07:42] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=7
[02:07:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(772.1717, 948.7497), shooter_id=9824754470078, bullet_pos=(913.0284, 655.8599)
[02:07:42] [INFO] [Bullet] Using shooter_position, distance=325,00003
[02:07:42] [INFO] [Bullet] Distance to wall: 325,00003 (22,12985% of viewport)
[02:07:42] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:07:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(827.6525, 937.9861), source=PLAYER (AssaultRifle), range=1469, listeners=8
[02:07:42] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=7
[02:07:42] [ENEMY] [Enemy4] Ragdoll activated
[02:07:42] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[02:07:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(772.1717, 948.7497), shooter_id=9824754470078, bullet_pos=(580.91327, 56.75656)
[02:07:42] [INFO] [Bullet] Using shooter_position, distance=912,2673
[02:07:42] [INFO] [Bullet] Distance to wall: 912,2673 (62,117958% of viewport)
[02:07:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(805.20355, 944.9284), shooter_id=9824754470078, bullet_pos=(902.7437, 58.612614)
[02:07:42] [INFO] [Bullet] Using shooter_position, distance=891,6668
[02:07:42] [INFO] [Bullet] Distance to wall: 891,6668 (60,715233% of viewport)
[02:07:42] [ENEMY] [Enemy2] State: SUPPRESSED -> IN_COVER
[02:07:42] [ENEMY] [Enemy2] State: IN_COVER -> PURSUING
[02:07:42] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[02:07:42] [ENEMY] [Enemy1] Player reloading state changed: false -> true
[02:07:42] [ENEMY] [Enemy2] Player reloading state changed: false -> true
[02:07:42] [ENEMY] [Enemy4] Player reloading state changed: false -> true
[02:07:42] [ENEMY] [Enemy5] Player reloading state changed: false -> true
[02:07:42] [ENEMY] [Enemy6] Player reloading state changed: false -> true
[02:07:42] [ENEMY] [Enemy7] Player reloading state changed: false -> true
[02:07:42] [ENEMY] [Enemy8] Player reloading state changed: false -> true
[02:07:42] [ENEMY] [Enemy9] Player reloading state changed: false -> true
[02:07:42] [ENEMY] [Enemy10] Player reloading state changed: false -> true
[02:07:42] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(834.0394, 923.397), source=PLAYER (Player), range=900, listeners=8
[02:07:42] [ENEMY] [Enemy10] Heard player RELOAD at (834.0394, 923.397), intensity=0.03, distance=296
[02:07:42] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=0, below_threshold=3
[02:07:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(772.1717, 948.7497), shooter_id=9824754470078, bullet_pos=(511.22372, 215.73633)
[02:07:42] [INFO] [Bullet] Using shooter_position, distance=778,0762
[02:07:42] [INFO] [Bullet] Distance to wall: 778,0762 (52,980637% of viewport)
[02:07:42] [INFO] [Bullet] Distance-based penetration chance: 84,85593%
[02:07:42] [INFO] [Bullet] Starting wall penetration at (511.22372, 215.73633)
[02:07:42] [ENEMY] [Enemy1] Player vulnerable (reloading) but cannot attack: close=false (dist=756), can_see=false
[02:07:42] [ENEMY] [Enemy1] State: SUPPRESSED -> IN_COVER
[02:07:42] [ENEMY] [Enemy2] Player vulnerable (reloading) but cannot attack: close=false (dist=539), can_see=false
[02:07:42] [ENEMY] [Enemy5] Player vulnerable (reloading) but cannot attack: close=false (dist=1039), can_see=false
[02:07:42] [ENEMY] [Enemy6] Player vulnerable (reloading) but cannot attack: close=false (dist=1212), can_see=false
[02:07:42] [ENEMY] [Enemy7] Player vulnerable (reloading) but cannot attack: close=false (dist=778), can_see=false
[02:07:42] [ENEMY] [Enemy8] Player vulnerable (reloading) but cannot attack: close=false (dist=1189), can_see=false
[02:07:42] [ENEMY] [Enemy9] Player vulnerable (reloading) but cannot attack: close=false (dist=1413), can_see=false
[02:07:42] [ENEMY] [Enemy10] Player vulnerable (reloading) but cannot attack: close=true (dist=296), can_see=false
[02:07:42] [INFO] [Bullet] Raycast backward hit penetrating body at distance 1,1271285
[02:07:42] [ENEMY] [Enemy1] State: IN_COVER -> PURSUING
[02:07:42] [INFO] [Bullet] Max penetration distance exceeded: 48,166668 >= 48
[02:07:42] [INFO] [Bullet] Body exited signal received for penetrating body
[02:07:42] [INFO] [Bullet] Exiting penetration at (489.87863, 264.43008) after traveling 48,166668 pixels through wall
[02:07:42] [INFO] [Bullet] Damage multiplier after penetration: 0,225
[02:07:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(827.6525, 937.98615), shooter_id=9824754470078, bullet_pos=(614.92566, 37.779476)
[02:07:42] [INFO] [Bullet] Using shooter_position, distance=924,9999
[02:07:42] [INFO] [Bullet] Distance to wall: 924,9999 (62,984943% of viewport)
[02:07:42] [INFO] [Bullet] Distance-based penetration chance: 73,184235%
[02:07:42] [INFO] [Bullet] Starting wall penetration at (614.92566, 37.779476)
[02:07:42] [INFO] [Bullet] Raycast backward hit penetrating body at distance 32,394688
[02:07:42] [INFO] [Bullet] Body exited signal received for penetrating body
[02:07:42] [INFO] [Bullet] Exiting penetration at (606.1099, 0.47360992) after traveling 33,333336 pixels through wall
[02:07:42] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[02:07:43] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[02:07:43] [INFO] [Player.Reload.Anim] Phase changed to: PullBolt (duration: 0,35s)
[02:07:43] [ENEMY] [Enemy1] Player reloading state changed: true -> false
[02:07:43] [ENEMY] [Enemy2] Player reloading state changed: true -> false
[02:07:43] [ENEMY] [Enemy4] Player reloading state changed: true -> false
[02:07:43] [ENEMY] [Enemy5] Player reloading state changed: true -> false
[02:07:43] [ENEMY] [Enemy6] Player reloading state changed: true -> false
[02:07:43] [ENEMY] [Enemy7] Player reloading state changed: true -> false
[02:07:43] [ENEMY] [Enemy8] Player reloading state changed: true -> false
[02:07:43] [ENEMY] [Enemy9] Player reloading state changed: true -> false
[02:07:43] [ENEMY] [Enemy10] Player reloading state changed: true -> false
[02:07:43] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[02:07:43] [INFO] [Player.Reload.Anim] LeftArm: pos=(13.339629, 5.465888), target=(24, 6), base=(24, 6)
[02:07:43] [INFO] [Player.Reload.Anim] RightArm: pos=(-1.9995784, 7.331565), target=(-2, 6), base=(-2, 6)
[02:07:43] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[02:07:43] [ENEMY] [Enemy4] Death animation completed
[02:07:44] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[02:07:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(852.2383, 835.8887), source=PLAYER (AssaultRifle), range=1469, listeners=8
[02:07:44] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=7
[02:07:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(877.1955, 812.024), source=PLAYER (AssaultRifle), range=1469, listeners=8
[02:07:44] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=7
[02:07:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(451.7926, 628.8013), source=ENEMY (Enemy2), range=1469, listeners=8
[02:07:44] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[02:07:44] [ENEMY] [Enemy2] Hit taken, health: 2/4
[02:07:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(895.9314, 799.1116), source=PLAYER (AssaultRifle), range=1469, listeners=8
[02:07:44] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=7
[02:07:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(485.9148, 627.9384), source=ENEMY (Enemy2), range=1469, listeners=8
[02:07:44] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[02:07:44] [INFO] [LastChance] Threat detected: @Area2D@11203
[02:07:44] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:07:44] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:07:44] [ENEMY] [Enemy2] Hit taken, health: 1/4
[02:07:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(511.4691, 661.5636), shooter_id=9821650683929, bullet_pos=(912.7147, 825.2094)
[02:07:44] [INFO] [Bullet] Using shooter_position, distance=433.333618164063
[02:07:44] [INFO] [Bullet] Distance to wall: 433.333618164063 (29.5064828910521% of viewport)
[02:07:44] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:07:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(895.9314, 799.7418), source=PLAYER (AssaultRifle), range=1469, listeners=8
[02:07:44] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=7
[02:07:44] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[02:07:44] [INFO] [LastChance] Threat detected: @Area2D@11205
[02:07:44] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:07:44] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:07:44] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[02:07:44] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[02:07:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(509.9482, 636.6786), source=ENEMY (Enemy2), range=1469, listeners=8
[02:07:44] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=1, below_threshold=4
[02:07:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(895.9314, 814.0254), source=PLAYER (AssaultRifle), range=1469, listeners=8
[02:07:44] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=7
[02:07:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(499.2893, 636.6284), source=ENEMY (Enemy2), range=1469, listeners=8
[02:07:44] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=1, below_threshold=4
[02:07:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(492.0766, 628.7924), source=ENEMY (Enemy2), range=1469, listeners=8
[02:07:45] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=1, below_threshold=4
[02:07:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(893.8063, 839.6422), source=PLAYER (AssaultRifle), range=1469, listeners=8
[02:07:45] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=7
[02:07:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(569.086, 670.3434), shooter_id=9821650683929, bullet_pos=(929.7133, 736.618)
[02:07:45] [INFO] [Bullet] Using shooter_position, distance=366.666595458984
[02:07:45] [INFO] [Bullet] Distance to wall: 366.666595458984 (24.9670027252183% of viewport)
[02:07:45] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:07:45] [INFO] [Bullet] Starting wall penetration at (929.7133, 736.618)
[02:07:45] [INFO] [Bullet] Raycast backward hit penetrating body at distance 31.9413814544678
[02:07:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(895.9314, 799.1116), shooter_id=9824754470078, bullet_pos=(43.9364, 536.1015)
[02:07:45] [INFO] [Bullet] Using shooter_position, distance=891,6669
[02:07:45] [INFO] [Bullet] Distance to wall: 891,6669 (60,71524% of viewport)
[02:07:45] [INFO] [LastChance] Threat detected: @Area2D@11212
[02:07:45] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[02:07:45] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:07:45] [INFO] [Bullet] Body exited signal received for penetrating body
[02:07:45] [INFO] [Bullet] Exiting penetration at (967.4153, 743.5468) after traveling 33.3333358764648 pixels through wall
[02:07:45] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:07:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(482.1349, 625.4562), source=ENEMY (Enemy2), range=1469, listeners=8
[02:07:45] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=3
[02:07:45] [ENEMY] [Enemy2] Hit taken, health: 0/4
[02:07:45] [ENEMY] [Enemy2] Enemy died (ricochet: false, penetration: false)
[02:07:45] [INFO] [ScoreManager] Kill registered. Combo: 3 (points: 3000)
[02:07:45] [INFO] [SoundPropagation] Unregistered listener: Enemy2 (remaining: 7)
[02:07:45] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[02:07:45] [ENEMY] [Enemy2] Death animation started with hit direction: (1, 0)
[02:07:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(557.8357, 671.3116), shooter_id=9821650683929, bullet_pos=(922.3621, 835.9952)
[02:07:45] [INFO] [Bullet] Using shooter_position, distance=400.000183105469
[02:07:45] [INFO] [Bullet] Distance to wall: 400.000183105469 (27.2367480031302% of viewport)
[02:07:45] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:07:45] [INFO] [LastChance] Threat detected: @Area2D@11213
[02:07:45] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[02:07:45] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:07:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(879.3556, 865.4523), source=PLAYER (AssaultRifle), range=1469, listeners=7
[02:07:45] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=7
[02:07:45] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[02:07:45] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[02:07:45] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[02:07:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(895.9314, 799.1116), shooter_id=9824754470078, bullet_pos=(236.11374, 469.6762)
[02:07:45] [INFO] [Bullet] Using shooter_position, distance=737,48694
[02:07:45] [INFO] [Bullet] Distance to wall: 737,48694 (50,216843% of viewport)
[02:07:45] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[02:07:45] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[02:07:45] [INFO] [PenultimateHit] Player died - ending penultimate effect
[02:07:45] [INFO] [LastChance] Player died
[02:07:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(537.7674, 664.6432), shooter_id=9821650683929, bullet_pos=(704.8155, 827.5521)
[02:07:45] [INFO] [Bullet] Using shooter_position, distance=233.333206176758
[02:07:45] [INFO] [Bullet] Distance to wall: 233.333206176758 (15.8880870705079% of viewport)
[02:07:45] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:07:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(895.9314, 799.1116), shooter_id=9824754470078, bullet_pos=(516.49054, 558.13446)
[02:07:45] [INFO] [Bullet] Using shooter_position, distance=449,49454
[02:07:45] [INFO] [Bullet] Distance to wall: 449,49454 (30,60691% of viewport)
[02:07:45] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:07:45] [INFO] [Bullet] Starting wall penetration at (516.49054, 558.13446)
[02:07:45] [INFO] [Bullet] Raycast backward hit penetrating body at distance 21,208975
[02:07:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(537.7674, 664.6432), shooter_id=9821650683929, bullet_pos=(908.9971, 623.9693)
[02:07:45] [INFO] [Bullet] Using shooter_position, distance=373.451232910156
[02:07:45] [INFO] [Bullet] Distance to wall: 373.451232910156 (25.4289811651168% of viewport)
[02:07:45] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:07:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(893.8063, 839.64215), shooter_id=9824754470078, bullet_pos=(235.18407, 463.76163)
[02:07:45] [INFO] [Bullet] Using shooter_position, distance=758,3333
[02:07:45] [INFO] [Bullet] Distance to wall: 758,3333 (51,636307% of viewport)
[02:07:45] [INFO] [Bullet] Body exited signal received for penetrating body
[02:07:45] [INFO] [Bullet] Exiting penetration at (544.2262, 566.885) after traveling 24,083334 pixels through wall
[02:07:45] [INFO] [Bullet] Damage multiplier after penetration: 0,225
[02:07:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(893.8063, 839.64215), shooter_id=9824754470078, bullet_pos=(44.953384, 535.572)
[02:07:45] [INFO] [Bullet] Using shooter_position, distance=901,6706
[02:07:45] [INFO] [Bullet] Distance to wall: 901,6706 (61,396408% of viewport)
[02:07:45] [INFO] [Bullet] Distance-based penetration chance: 75,03753%
[02:07:45] [INFO] [Bullet] Penetration failed (distance roll)
[02:07:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(879.3556, 865.4523), shooter_id=9824754470078, bullet_pos=(237.30571, 461.91608)
[02:07:45] [INFO] [Bullet] Using shooter_position, distance=758,3334
[02:07:45] [INFO] [Bullet] Distance to wall: 758,3334 (51,636314% of viewport)
[02:07:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(879.3556, 865.4523), shooter_id=9824754470078, bullet_pos=(46.479797, 593.27405)
[02:07:45] [INFO] [Bullet] Using shooter_position, distance=876,2209
[02:07:45] [INFO] [Bullet] Distance to wall: 876,2209 (59,663494% of viewport)
[02:07:45] [INFO] [Bullet] Distance-based penetration chance: 77,059265%
[02:07:45] [INFO] [Bullet] Starting wall penetration at (46.479797, 593.27405)
[02:07:45] [INFO] [Bullet] Raycast backward hit penetrating body at distance 15,7545595
[02:07:45] [INFO] [Bullet] Body exited signal received for penetrating body
[02:07:45] [INFO] [Bullet] Exiting penetration at (19.022833, 612.1745) after traveling 28,333334 pixels through wall
[02:07:45] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[02:07:45] [ENEMY] [Enemy2] Ragdoll activated
[02:07:45] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[02:07:45] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[02:07:45] [INFO] [LastChance] Resetting all effects (scene change detected)
[02:07:45] [ENEMY] [Enemy1] Death animation component initialized
[02:07:45] [ENEMY] [Enemy2] Death animation component initialized
[02:07:45] [ENEMY] [Enemy3] Death animation component initialized
[02:07:45] [ENEMY] [Enemy4] Death animation component initialized
[02:07:45] [ENEMY] [Enemy5] Death animation component initialized
[02:07:45] [ENEMY] [Enemy6] Death animation component initialized
[02:07:45] [ENEMY] [Enemy7] Death animation component initialized
[02:07:45] [ENEMY] [Enemy8] Death animation component initialized
[02:07:45] [ENEMY] [Enemy9] Death animation component initialized
[02:07:45] [ENEMY] [Enemy10] Death animation component initialized
[02:07:45] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[02:07:45] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[02:07:45] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[02:07:45] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[02:07:45] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[02:07:45] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[02:07:45] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[02:07:45] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[02:07:45] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[02:07:45] [ENEMY] [Enemy10] Grenade system configured: offensive=2, flashbangs=0
[02:07:45] [INFO] [ScoreManager] Level started with 10 enemies
[02:07:45] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 8)
[02:07:45] [ENEMY] [Enemy1] Registered as sound listener
[02:07:45] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[02:07:45] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 9)
[02:07:45] [ENEMY] [Enemy2] Registered as sound listener
[02:07:45] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[02:07:45] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 10)
[02:07:45] [ENEMY] [Enemy3] Registered as sound listener
[02:07:45] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[02:07:45] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 11)
[02:07:45] [ENEMY] [Enemy4] Registered as sound listener
[02:07:45] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[02:07:45] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 12)
[02:07:45] [ENEMY] [Enemy5] Registered as sound listener
[02:07:45] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[02:07:45] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 13)
[02:07:45] [ENEMY] [Enemy6] Registered as sound listener
[02:07:45] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[02:07:45] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 14)
[02:07:45] [ENEMY] [Enemy7] Registered as sound listener
[02:07:45] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[02:07:45] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 15)
[02:07:45] [ENEMY] [Enemy8] Registered as sound listener
[02:07:45] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[02:07:45] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 16)
[02:07:45] [ENEMY] [Enemy9] Registered as sound listener
[02:07:45] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[02:07:45] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 17)
[02:07:45] [ENEMY] [Enemy10] Registered as sound listener
[02:07:45] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[02:07:45] [INFO] [Player] Detecting weapon pose (frame 3)...
[02:07:45] [INFO] [Player] Detected weapon: Rifle (default pose)
[02:07:45] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[02:07:45] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[02:07:45] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[02:07:45] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[02:07:45] [INFO] [LastChance] Found player: Player
[02:07:45] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[02:07:45] [INFO] [LastChance] Connected to player Damaged signal (C#)
[02:07:45] [INFO] [LastChance] Connected to player Died signal (C#)
[02:07:46] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:07:46] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:07:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1171.731, 1535.008), source=ENEMY (Enemy10), range=1469, listeners=17
[02:07:46] [INFO] [SoundPropagation] Cleaned up 7 invalid listeners
[02:07:46] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=8
[02:07:46] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:07:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1139.423, 1516.307), source=ENEMY (Enemy10), range=1469, listeners=10
[02:07:46] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:07:46] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:07:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1107.906, 1496.302), source=ENEMY (Enemy10), range=1469, listeners=10
[02:07:46] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:07:46] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:07:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1077.226, 1475.035), source=ENEMY (Enemy10), range=1469, listeners=10
[02:07:46] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:07:46] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:07:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1047.428, 1452.549), source=ENEMY (Enemy10), range=1469, listeners=10
[02:07:46] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:07:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1108.874, 1508.939), shooter_id=10303341331937, bullet_pos=(53.14801, 921.1365)
[02:07:46] [INFO] [Bullet] Using shooter_position, distance=1208.33337402344
[02:07:46] [INFO] [Bullet] Distance to wall: 1208.33337402344 (82.277641366406% of viewport)
[02:07:46] [INFO] [Bullet] Distance-based penetration chance: 50.6760850725264%
[02:07:46] [INFO] [Bullet] Penetration failed (distance roll)
[02:07:46] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[02:07:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1077.684, 1487.691), shooter_id=10303341331937, bullet_pos=(46.85162, 857.2495)
[02:07:47] [INFO] [Bullet] Using shooter_position, distance=1208.33435058594
[02:07:47] [INFO] [Bullet] Distance to wall: 1208.33435058594 (82.2777078623423% of viewport)
[02:07:47] [INFO] [Bullet] Distance-based penetration chance: 50.676007493934%
[02:07:47] [INFO] [Bullet] Starting wall penetration at (46.85162, 857.2495)
[02:07:47] [INFO] [Bullet] Raycast backward hit penetrating body at distance 29.2577056884766
[02:07:47] [INFO] [Bullet] Body exited signal received for penetrating body
[02:07:47] [INFO] [Bullet] Exiting penetration at (7.040176, 832.9015) after traveling 41.6666679382324 pixels through wall
[02:07:47] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:07:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1047.382, 1465.197), shooter_id=10303341331937, bullet_pos=(43.06916, 793.3154)
[02:07:47] [INFO] [Bullet] Using shooter_position, distance=1208.33349609375
[02:07:47] [INFO] [Bullet] Distance to wall: 1208.33349609375 (82.277649678398% of viewport)
[02:07:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1047.382, 1465.197), shooter_id=10303341331937, bullet_pos=(199.0346, 699.3522)
[02:07:47] [INFO] [Bullet] Using shooter_position, distance=1142.89636230469
[02:07:47] [INFO] [Bullet] Distance to wall: 1142.89636230469 (77.821914910422% of viewport)
[02:07:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1018.01, 1441.508), shooter_id=10303341331937, bullet_pos=(41.67921, 729.5751)
[02:07:47] [INFO] [Bullet] Using shooter_position, distance=1208.33349609375
[02:07:47] [INFO] [Bullet] Distance to wall: 1208.33349609375 (82.277649678398% of viewport)
[02:07:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(422.09, 859.2275), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:07:47] [ENEMY] [Enemy2] Heard gunshot at (422.09, 859.2275), source_type=0, intensity=0.03, distance=310
[02:07:47] [ENEMY] [Enemy3] Heard gunshot at (422.09, 859.2275), source_type=0, intensity=0.03, distance=299
[02:07:47] [ENEMY] [Enemy4] Heard gunshot at (422.09, 859.2275), source_type=0, intensity=0.02, distance=380
[02:07:47] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=4
[02:07:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1018.01, 1441.508), shooter_id=10303341331937, bullet_pos=(109.0599, 694.7823)
[02:07:47] [INFO] [Bullet] Using shooter_position, distance=1176.345703125
[02:07:47] [INFO] [Bullet] Distance to wall: 1176.345703125 (80.0995420347912% of viewport)
[02:07:47] [INFO] [Bullet] Distance-based penetration chance: 53.2172009594103%
[02:07:47] [INFO] [Bullet] Starting wall penetration at (109.0599, 694.7823)
[02:07:47] [INFO] [LastChance] Threat detected: @Area2D@11497
[02:07:47] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:07:47] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:07:47] [INFO] [Bullet] Raycast backward hit penetrating body at distance 25.634147644043
[02:07:47] [INFO] [Bullet] Body exited signal received for penetrating body
[02:07:47] [INFO] [Bullet] Exiting penetration at (144.9715, 676.2389) after traveling 35.4166679382324 pixels through wall
[02:07:47] [INFO] [Bullet] Damage multiplier after penetration: 0.45
[02:07:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(422.09003, 859.2275), shooter_id=10304163417532, bullet_pos=(527.5543, 834.4608)
[02:07:47] [INFO] [Bullet] Using shooter_position, distance=108,333305
[02:07:47] [INFO] [Bullet] Distance to wall: 108,333305 (7,376614% of viewport)
[02:07:47] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:07:47] [INFO] [Bullet] Starting wall penetration at (527.5543, 834.4608)
[02:07:47] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[02:07:47] [INFO] [Bullet] Exiting penetration at (572.9851, 823.7921) after traveling 41,666668 pixels through wall
[02:07:47] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[02:07:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(989.6003, 1416.68), shooter_id=10303341331937, bullet_pos=(42.53408, 666.2555)
[02:07:47] [INFO] [Bullet] Using shooter_position, distance=1208.33422851563
[02:07:47] [INFO] [Bullet] Distance to wall: 1208.33422851563 (82.2776995503503% of viewport)
[02:07:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(394.8663, 832.0038), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:07:47] [ENEMY] [Enemy1] Heard gunshot at (394.8663, 832.0038), source_type=0, intensity=0.01, distance=491
[02:07:47] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[02:07:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1047.382, 1465.197), shooter_id=10303341331937, bullet_pos=(496.9384, 855.0682)
[02:07:47] [INFO] [Bullet] Using shooter_position, distance=821.7333984375
[02:07:47] [INFO] [Bullet] Distance to wall: 821.7333984375 (55.9533381340895% of viewport)
[02:07:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(394.86633, 832.0038), shooter_id=10304163417532, bullet_pos=(501.354, 812.0918)
[02:07:47] [INFO] [Bullet] Using shooter_position, distance=108,333336
[02:07:47] [INFO] [Bullet] Distance to wall: 108,333336 (7,3766165% of viewport)
[02:07:47] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:07:47] [INFO] [Bullet] Starting wall penetration at (501.354, 812.0918)
[02:07:47] [INFO] [Bullet] Raycast backward hit penetrating body at distance 23,628191
[02:07:47] [INFO] [Bullet] Body exited signal received for penetrating body
[02:07:47] [INFO] [Bullet] Exiting penetration at (547.22565, 803.51434) after traveling 41,66667 pixels through wall
[02:07:47] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[02:07:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(639.0527, 768.5048), source=ENEMY (Enemy3), range=1469, listeners=10
[02:07:47] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[02:07:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(989.6003, 1416.68), shooter_id=10303341331937, bullet_pos=(238.9756, 455.1942)
[02:07:47] [INFO] [Bullet] Using shooter_position, distance=1219.79187011719
[02:07:47] [INFO] [Bullet] Distance to wall: 1219.79187011719 (83.0578714357458% of viewport)
[02:07:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(376.3366, 801.6927), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:07:47] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[02:07:47] [INFO] [LastChance] Threat detected: Bullet
[02:07:47] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:07:47] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:07:47] [ENEMY] [Enemy3] Hit taken, health: 3/4
[02:07:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(617.8646, 770.968), source=ENEMY (Enemy3), range=1469, listeners=10
[02:07:47] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[02:07:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(373.6389, 772.2674), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:07:47] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[02:07:47] [INFO] [LastChance] Threat detected: @Area2D@11513
[02:07:47] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:07:47] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:07:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(989.6003, 1416.68), shooter_id=10303341331937, bullet_pos=(429.2114, 702.5671)
[02:07:47] [INFO] [Bullet] Using shooter_position, distance=907.740600585938
[02:07:47] [INFO] [Bullet] Distance to wall: 907.740600585938 (61.8097266816757% of viewport)
[02:07:47] [INFO] [Bullet] Distance-based penetration chance: 74.5553188713783%
[02:07:47] [INFO] [Bullet] Penetration failed (distance roll)
[02:07:47] [ENEMY] [Enemy1] State: COMBAT -> RETREATING
[02:07:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(572.9734, 785.5976), shooter_id=10301344845225, bullet_pos=(53.01047, 858.1483)
[02:07:47] [INFO] [Bullet] Using shooter_position, distance=525.000122070313
[02:07:47] [INFO] [Bullet] Distance to wall: 525.000122070313 (35.7482237018661% of viewport)
[02:07:47] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:07:47] [INFO] [Bullet] Starting wall penetration at (53.01047, 858.1483)
[02:07:47] [ENEMY] [Enemy3] Hit taken, health: 2/4
[02:07:47] [ENEMY] [Enemy1] State: RETREATING -> IN_COVER
[02:07:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(617.8646, 770.968), source=ENEMY (Enemy3), range=1469, listeners=10
[02:07:47] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[02:07:47] [INFO] [Bullet] Raycast backward hit penetrating body at distance 17.1193332672119
[02:07:47] [INFO] [Bullet] Body exited signal received for penetrating body
[02:07:47] [INFO] [Bullet] Exiting penetration at (15.04492, 863.4456) after traveling 33.3333358764648 pixels through wall
[02:07:47] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:07:47] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[02:07:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(383.4163, 749.3754), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:07:47] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[02:07:47] [INFO] [LastChance] Threat detected: @Area2D@11519
[02:07:47] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:07:47] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:07:47] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[02:07:47] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[02:07:47] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[02:07:47] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[02:07:47] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[02:07:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(550.2264, 779.5785), shooter_id=10301344845225, bullet_pos=(50.26239, 785.5743)
[02:07:47] [INFO] [Bullet] Using shooter_position, distance=499.999938964844
[02:07:47] [INFO] [Bullet] Distance to wall: 499.999938964844 (34.0459152629317% of viewport)
[02:07:47] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:07:47] [ENEMY] [Enemy3] Hit taken, health: 1/4
[02:07:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(612.4872, 777.5938), source=ENEMY (Enemy3), range=1469, listeners=10
[02:07:47] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[02:07:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(403.3397, 735.6195), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:07:47] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[02:07:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(605.7654, 785.876), source=ENEMY (Enemy3), range=1469, listeners=10
[02:07:47] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[02:07:47] [INFO] [LastChance] Threat detected: @Area2D@11526
[02:07:47] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:07:47] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:07:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(549.7395, 772.2936), shooter_id=10301344845225, bullet_pos=(52.00655, 724.7347)
[02:07:47] [INFO] [Bullet] Using shooter_position, distance=499.999908447266
[02:07:47] [INFO] [Bullet] Distance to wall: 499.999908447266 (34.0459131849337% of viewport)
[02:07:47] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:07:47] [INFO] [Bullet] Starting wall penetration at (52.00655, 724.7347)
[02:07:47] [INFO] [Bullet] Raycast backward hit penetrating body at distance 18.2356624603271
[02:07:48] [INFO] [Bullet] Body exited signal received for penetrating body
[02:07:48] [INFO] [Bullet] Exiting penetration at (13.84702, 721.0886) after traveling 33.3333320617676 pixels through wall
[02:07:48] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:07:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(599.0436, 794.1581), source=ENEMY (Enemy3), range=1469, listeners=10
[02:07:48] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[02:07:48] [INFO] [LastChance] Threat detected: @Area2D@11528
[02:07:48] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:07:48] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:07:48] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[02:07:48] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[02:07:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(538.8495, 773.5121), shooter_id=10301344845225, bullet_pos=(211.084, 712.8407)
[02:07:48] [INFO] [Bullet] Using shooter_position, distance=333.33349609375
[02:07:48] [INFO] [Bullet] Distance to wall: 333.33349609375 (22.6972906952745% of viewport)
[02:07:48] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:07:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(403.33966, 735.6195), shooter_id=10304163417532, bullet_pos=(924.4567, 799.352)
[02:07:48] [INFO] [Bullet] Using shooter_position, distance=524,9999
[02:07:48] [INFO] [Bullet] Distance to wall: 524,9999 (35,748207% of viewport)
[02:07:48] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:07:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(544.7923, 770.6651), shooter_id=10301344845225, bullet_pos=(44.89433, 780.7707)
[02:07:48] [INFO] [Bullet] Using shooter_position, distance=500.000091552734
[02:07:48] [INFO] [Bullet] Distance to wall: 500.000091552734 (34.0459256529217% of viewport)
[02:07:48] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:07:48] [INFO] [Bullet] Starting wall penetration at (44.89433, 780.7707)
[02:07:48] [INFO] [Bullet] Raycast backward hit penetrating body at distance 25.4363632202148
[02:07:48] [INFO] [Bullet] Body exited signal received for penetrating body
[02:07:48] [INFO] [Bullet] Exiting penetration at (6.568832, 781.5455) after traveling 33.3333320617676 pixels through wall
[02:07:48] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:07:48] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[02:07:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(581.5669, 815.6921), source=ENEMY (Enemy3), range=1469, listeners=10
[02:07:48] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[02:07:48] [INFO] [LastChance] Threat detected: @Area2D@11532
[02:07:48] [INFO] [LastChance] Player health is 3.0 - effect requires exactly 1 HP or less but alive
[02:07:48] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:07:48] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[02:07:48] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[02:07:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(538.8495, 773.5121), shooter_id=10301344845225, bullet_pos=(64.42332, 714.1649)
[02:07:48] [INFO] [Bullet] Using shooter_position, distance=478.123718261719
[02:07:48] [INFO] [Bullet] Distance to wall: 478.123718261719 (32.5563231684331% of viewport)
[02:07:48] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:07:48] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[02:07:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(557.1205, 838.8829), source=ENEMY (Enemy3), range=1469, listeners=10
[02:07:48] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=1, below_threshold=4
[02:07:48] [INFO] [LastChance] Threat detected: Bullet
[02:07:48] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[02:07:48] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:07:48] [ENEMY] [Enemy1] Player distracted - priority attack triggered
[02:07:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(521.1583, 781.1133), shooter_id=10301344845225, bullet_pos=(478.3897, 690.7206)
[02:07:48] [INFO] [Bullet] Using shooter_position, distance=100.000015258789
[02:07:48] [INFO] [Bullet] Distance to wall: 100.000015258789 (6.80918492278455% of viewport)
[02:07:48] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:07:48] [INFO] [Bullet] Starting wall penetration at (478.3897, 690.7206)
[02:07:48] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[02:07:48] [INFO] [Bullet] Raycast backward hit penetrating body at distance 35.3236274719238
[02:07:48] [INFO] [Bullet] Body exited signal received for penetrating body
[02:07:48] [INFO] [Bullet] Exiting penetration at (461.9951, 656.07) after traveling 33.3333358764648 pixels through wall
[02:07:48] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:07:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(335.4976, 401.9334), source=ENEMY (Enemy1), range=1469, listeners=10
[02:07:48] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=5
[02:07:48] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[02:07:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(567.4889, 857.5295), source=ENEMY (Enemy3), range=1469, listeners=10
[02:07:48] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[02:07:48] [INFO] [LastChance] Threat detected: @Area2D@11535
[02:07:48] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[02:07:48] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:07:48] [ENEMY] [Enemy1] Player distracted - priority attack triggered
[02:07:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(335.4976, 401.9334), source=ENEMY (Enemy1), range=1469, listeners=10
[02:07:48] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=5
[02:07:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(401.3128, 587.299), source=ENEMY (Enemy2), range=1469, listeners=10
[02:07:48] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=1, below_threshold=3
[02:07:48] [INFO] [LastChance] Threat detected: @Area2D@11537
[02:07:48] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[02:07:48] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:07:48] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[02:07:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(401.3128, 587.299), source=ENEMY (Enemy2), range=1469, listeners=10
[02:07:48] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=1, below_threshold=3
[02:07:48] [INFO] [LastChance] Threat detected: @Area2D@11538
[02:07:48] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[02:07:48] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:07:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(335.4976, 401.9334), source=ENEMY (Enemy1), range=1469, listeners=10
[02:07:48] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=4
[02:07:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(365.0015, 463.6807), shooter_id=10300774419974, bullet_pos=(507.8969, 603.6124)
[02:07:48] [INFO] [Bullet] Using shooter_position, distance=199.999938964844
[02:07:48] [INFO] [Bullet] Distance to wall: 199.999938964844 (13.6183636115751% of viewport)
[02:07:48] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:07:48] [INFO] [Bullet] Starting wall penetration at (507.8969, 603.6124)
[02:07:48] [INFO] [Bullet] Raycast backward hit penetrating body at distance 43.4964256286621
[02:07:48] [INFO] [Bullet] Body exited signal received for penetrating body
[02:07:48] [INFO] [Bullet] Exiting penetration at (535.2852, 630.4327) after traveling 33.3333358764648 pixels through wall
[02:07:48] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:07:48] [INFO] [LastChance] Threat detected: @Area2D@11536
[02:07:48] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[02:07:48] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:07:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(401.3128, 587.299), source=ENEMY (Enemy2), range=1469, listeners=10
[02:07:48] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=1, below_threshold=3
[02:07:48] [ENEMY] [Enemy3] Player distracted - priority attack triggered
[02:07:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(551.9534, 850.2437), source=ENEMY (Enemy3), range=1469, listeners=10
[02:07:48] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=1, below_threshold=4
[02:07:48] [INFO] [LastChance] Threat detected: @Area2D@11542
[02:07:48] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[02:07:48] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:07:48] [ENEMY] [Enemy1] Player distracted - priority attack triggered
[02:07:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(335.4976, 401.9334), source=ENEMY (Enemy1), range=1469, listeners=10
[02:07:48] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=5
[02:07:48] [INFO] [LastChance] Threat detected: @Area2D@11541
[02:07:48] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[02:07:48] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:07:48] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[02:07:48] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[02:07:48] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[02:07:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(335.4976, 401.9334), source=ENEMY (Enemy1), range=1469, listeners=10
[02:07:48] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=5
[02:07:48] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[02:07:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(401.3128, 587.299), source=ENEMY (Enemy2), range=1469, listeners=10
[02:07:48] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=1, below_threshold=3
[02:07:48] [INFO] [LastChance] Threat detected: @Area2D@11539
[02:07:48] [INFO] [LastChance] Triggering last chance effect!
[02:07:48] [INFO] [LastChance] Starting last chance effect:
[02:07:48] [INFO] [LastChance]   - Time will be frozen (except player)
[02:07:48] [INFO] [LastChance]   - Duration: 6.0 real seconds
[02:07:48] [INFO] [LastChance]   - Sepia intensity: 0.70
[02:07:48] [INFO] [LastChance]   - Brightness: 0.60
[02:07:48] [INFO] [LastChance] Pushed bullet @Area2D@11536 from distance 49.7 to 200.0
[02:07:48] [INFO] [LastChance] Pushed bullet @Area2D@11538 from distance 97.5 to 200.0
[02:07:48] [INFO] [LastChance] Pushed bullet @Area2D@11541 from distance 41.9 to 200.0
[02:07:48] [INFO] [LastChance] Pushed 3 threatening bullets away from player
[02:07:48] [INFO] [LastChance] Set player Player and all 18 children to PROCESS_MODE_ALWAYS
[02:07:48] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[02:07:48] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:07:48] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:07:48] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[02:07:48] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:07:48] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:07:48] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:07:48] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:07:48] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:07:48] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:07:48] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:07:48] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:07:48] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:07:48] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:07:48] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:07:48] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:07:48] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:07:48] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[02:07:48] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[02:07:48] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:07:48] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:07:48] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:07:48] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:07:48] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:07:48] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[02:07:48] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[02:07:48] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:07:48] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[02:07:48] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[02:07:48] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:07:48] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:07:48] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[02:07:48] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[02:07:48] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[02:07:48] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[02:07:48] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[02:07:48] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[02:07:48] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[02:07:48] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[02:07:48] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[02:07:48] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[02:07:48] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[02:07:48] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[02:07:48] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[02:07:48] [INFO] [LastChance] Skipping player node: Player
[02:07:48] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[02:07:48] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[02:07:48] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[02:07:48] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[02:07:48] [INFO] [LastChance] Resetting all effects (scene change detected)
[02:07:48] [INFO] [LastChance] Ending last chance effect
[02:07:48] [INFO] [LastChance] All process modes restored
[02:07:48] [INFO] [LastChance] Restored original colors to 5 player sprites
[02:07:48] [ENEMY] [Enemy1] Death animation component initialized
[02:07:48] [ENEMY] [Enemy2] Death animation component initialized
[02:07:48] [ENEMY] [Enemy3] Death animation component initialized
[02:07:48] [ENEMY] [Enemy4] Death animation component initialized
[02:07:48] [ENEMY] [Enemy5] Death animation component initialized
[02:07:48] [ENEMY] [Enemy6] Death animation component initialized
[02:07:48] [ENEMY] [Enemy7] Death animation component initialized
[02:07:48] [ENEMY] [Enemy8] Death animation component initialized
[02:07:48] [ENEMY] [Enemy9] Death animation component initialized
[02:07:48] [ENEMY] [Enemy10] Death animation component initialized
[02:07:48] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[02:07:48] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[02:07:48] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[02:07:48] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[02:07:48] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[02:07:48] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[02:07:48] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[02:07:48] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[02:07:48] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[02:07:48] [ENEMY] [Enemy10] Grenade system configured: offensive=2, flashbangs=0
[02:07:48] [INFO] [ScoreManager] Level started with 10 enemies
[02:07:48] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[02:07:48] [ENEMY] [Enemy1] Registered as sound listener
[02:07:48] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[02:07:48] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[02:07:48] [ENEMY] [Enemy2] Registered as sound listener
[02:07:48] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[02:07:48] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[02:07:48] [ENEMY] [Enemy3] Registered as sound listener
[02:07:48] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[02:07:48] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[02:07:48] [ENEMY] [Enemy4] Registered as sound listener
[02:07:48] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[02:07:48] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[02:07:48] [ENEMY] [Enemy5] Registered as sound listener
[02:07:48] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[02:07:48] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[02:07:48] [ENEMY] [Enemy6] Registered as sound listener
[02:07:48] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[02:07:48] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[02:07:48] [ENEMY] [Enemy7] Registered as sound listener
[02:07:48] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[02:07:48] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[02:07:48] [ENEMY] [Enemy8] Registered as sound listener
[02:07:48] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[02:07:48] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[02:07:48] [ENEMY] [Enemy9] Registered as sound listener
[02:07:48] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[02:07:48] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[02:07:48] [ENEMY] [Enemy10] Registered as sound listener
[02:07:48] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[02:07:48] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[02:07:48] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[02:07:48] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[02:07:48] [INFO] [LastChance] Found player: Player
[02:07:48] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[02:07:48] [INFO] [LastChance] Connected to player Damaged signal (C#)
[02:07:48] [INFO] [LastChance] Connected to player Died signal (C#)
[02:07:48] [INFO] [Player] Detecting weapon pose (frame 3)...
[02:07:48] [INFO] [Player] Detected weapon: Rifle (default pose)
[02:07:48] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[02:07:49] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:07:49] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:07:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1171.731, 1535.008), source=ENEMY (Enemy10), range=1469, listeners=20
[02:07:49] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[02:07:49] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=8
[02:07:49] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:07:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1139.423, 1516.307), source=ENEMY (Enemy10), range=1469, listeners=10
[02:07:49] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:07:49] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:07:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1107.906, 1496.302), source=ENEMY (Enemy10), range=1469, listeners=10
[02:07:49] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:07:49] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:07:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1077.226, 1475.035), source=ENEMY (Enemy10), range=1469, listeners=10
[02:07:49] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:07:49] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:07:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1047.428, 1452.549), source=ENEMY (Enemy10), range=1469, listeners=10
[02:07:49] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:07:49] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1108.874, 1508.939), shooter_id=10505859108274, bullet_pos=(53.14801, 921.1365)
[02:07:49] [INFO] [Bullet] Using shooter_position, distance=1208.33337402344
[02:07:49] [INFO] [Bullet] Distance to wall: 1208.33337402344 (82.277641366406% of viewport)
[02:07:49] [INFO] [Bullet] Distance-based penetration chance: 50.6760850725264%
[02:07:49] [INFO] [Bullet] Penetration failed (distance roll)
[02:07:49] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[02:07:49] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1077.684, 1487.691), shooter_id=10505859108274, bullet_pos=(46.85162, 857.2495)
[02:07:49] [INFO] [Bullet] Using shooter_position, distance=1208.33435058594
[02:07:49] [INFO] [Bullet] Distance to wall: 1208.33435058594 (82.2777078623423% of viewport)
[02:07:49] [INFO] [Bullet] Distance-based penetration chance: 50.676007493934%
[02:07:49] [INFO] [Bullet] Starting wall penetration at (46.85162, 857.2495)
[02:07:49] [INFO] [Bullet] Raycast backward hit penetrating body at distance 29.2577056884766
[02:07:49] [INFO] [Bullet] Body exited signal received for penetrating body
[02:07:49] [INFO] [Bullet] Exiting penetration at (7.040176, 832.9015) after traveling 41.6666679382324 pixels through wall
[02:07:49] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:07:50] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1047.382, 1465.197), shooter_id=10505859108274, bullet_pos=(43.06916, 793.3154)
[02:07:50] [INFO] [Bullet] Using shooter_position, distance=1208.33349609375
[02:07:50] [INFO] [Bullet] Distance to wall: 1208.33349609375 (82.277649678398% of viewport)
[02:07:50] [INFO] [Bullet] Distance-based penetration chance: 50.6760753752023%
[02:07:50] [INFO] [Bullet] Starting wall penetration at (43.06916, 793.3154)
[02:07:50] [INFO] [Bullet] Raycast backward hit penetrating body at distance 33.3488731384277
[02:07:50] [INFO] [Bullet] Body exited signal received for penetrating body
[02:07:50] [INFO] [Bullet] Exiting penetration at (4.281879, 767.3669) after traveling 41.6666679382324 pixels through wall
[02:07:50] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:07:50] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1018.01, 1441.508), shooter_id=10505859108274, bullet_pos=(41.67921, 729.5751)
[02:07:50] [INFO] [Bullet] Using shooter_position, distance=1208.33349609375
[02:07:50] [INFO] [Bullet] Distance to wall: 1208.33349609375 (82.277649678398% of viewport)
[02:07:50] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1018.01, 1441.508), shooter_id=10505859108274, bullet_pos=(103.7842, 686.0588)
[02:07:50] [INFO] [Bullet] Using shooter_position, distance=1185.96447753906
[02:07:50] [INFO] [Bullet] Distance to wall: 1185.96447753906 (80.7545020720112% of viewport)
[02:07:50] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1018.01, 1441.508), shooter_id=10505859108274, bullet_pos=(48.01051, 652.2738)
[02:07:50] [INFO] [Bullet] Using shooter_position, distance=1250.51550292969
[02:07:50] [INFO] [Bullet] Distance to wall: 1250.51550292969 (85.149900089728% of viewport)
[02:07:50] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(989.6003, 1416.68), shooter_id=10505859108274, bullet_pos=(42.53408, 666.2555)
[02:07:50] [INFO] [Bullet] Using shooter_position, distance=1208.33422851563
[02:07:50] [INFO] [Bullet] Distance to wall: 1208.33422851563 (82.2776995503503% of viewport)
[02:07:50] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[02:07:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(361.7122, 840.2365), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:07:50] [ENEMY] [Enemy1] Heard gunshot at (361.7122, 840.2365), source_type=0, intensity=0.01, distance=494
[02:07:50] [ENEMY] [Enemy2] Heard gunshot at (361.7122, 840.2365), source_type=0, intensity=0.03, distance=293
[02:07:50] [ENEMY] [Enemy4] Heard gunshot at (361.7122, 840.2365), source_type=0, intensity=0.01, distance=442
[02:07:50] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[02:07:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(349.6369, 807.3335), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:07:50] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[02:07:50] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(989.6003, 1416.68), shooter_id=10505859108274, bullet_pos=(339.6729, 464.4899)
[02:07:50] [INFO] [Bullet] Using shooter_position, distance=1152.85375976563
[02:07:50] [INFO] [Bullet] Distance to wall: 1152.85375976563 (78.4999324135766% of viewport)
[02:07:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(637.7197, 763.1674), source=ENEMY (Enemy3), range=1469, listeners=10
[02:07:50] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[02:07:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(351.8871, 779.9504), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:07:50] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[02:07:50] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(989.6003, 1416.68), shooter_id=10505859108274, bullet_pos=(497.0437, 562.9331)
[02:07:50] [INFO] [Bullet] Using shooter_position, distance=985.644897460938
[02:07:50] [INFO] [Bullet] Distance to wall: 985.644897460938 (67.1143735092647% of viewport)
[02:07:50] [ENEMY] [Enemy3] Hit taken, health: 3/4
[02:07:50] [INFO] [LastChance] Threat detected: @Area2D@11811
[02:07:50] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:07:50] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:07:50] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[02:07:50] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[02:07:50] [ENEMY] [Enemy1] State: COMBAT -> RETREATING
[02:07:50] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[02:07:50] [ENEMY] [Enemy3] Hit taken, health: 2/4
[02:07:50] [ENEMY] [Enemy1] State: RETREATING -> IN_COVER
[02:07:50] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[02:07:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(363.2914, 758.9782), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:07:50] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[02:07:50] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[02:07:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(600.6227, 771.6292), source=ENEMY (Enemy3), range=1469, listeners=10
[02:07:50] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[02:07:50] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(989.6003, 1416.68), shooter_id=10505859108274, bullet_pos=(324.115, 690.3923)
[02:07:50] [INFO] [Bullet] Using shooter_position, distance=985.070861816406
[02:07:50] [INFO] [Bullet] Distance to wall: 985.070861816406 (67.0752863666701% of viewport)
[02:07:50] [ENEMY] [Enemy3] Hit taken, health: 1/4
[02:07:50] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(570.6876, 775.5621), shooter_id=10503862618170, bullet_pos=(55.22126, 810.7616)
[02:07:50] [INFO] [Bullet] Using shooter_position, distance=516.666748046875
[02:07:50] [INFO] [Bullet] Distance to wall: 516.666748046875 (35.1807889408867% of viewport)
[02:07:50] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:07:50] [INFO] [Bullet] Starting wall penetration at (55.22126, 810.7616)
[02:07:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(595.554, 781.0145), source=ENEMY (Enemy3), range=1469, listeners=10
[02:07:50] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[02:07:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(384.9452, 745.1171), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:07:50] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[02:07:50] [INFO] [Bullet] Raycast backward hit penetrating body at distance 15.0580005645752
[02:07:50] [INFO] [Bullet] Body exited signal received for penetrating body
[02:07:50] [INFO] [Bullet] Exiting penetration at (16.97699, 813.3732) after traveling 33.3333320617676 pixels through wall
[02:07:50] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:07:50] [INFO] [LastChance] Threat detected: @Area2D@11822
[02:07:50] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:07:50] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:07:50] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(361.71225, 840.2365), shooter_id=10506681191097, bullet_pos=(1365.8813, 371.1449)
[02:07:50] [INFO] [Bullet] Using shooter_position, distance=1108,3333
[02:07:50] [INFO] [Bullet] Distance to wall: 1108,3333 (75,46845% of viewport)
[02:07:50] [INFO] [Bullet] Distance-based penetration chance: 58,620144%
[02:07:50] [INFO] [Bullet] Starting wall penetration at (1365.8813, 371.1449)
[02:07:50] [INFO] [Bullet] Raycast backward hit penetrating body at distance 13,920199
[02:07:50] [INFO] [Bullet] Body exited signal received for penetrating body
[02:07:50] [INFO] [Bullet] Exiting penetration at (1400.6119, 354.92065) after traveling 33,333332 pixels through wall
[02:07:50] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[02:07:50] [ENEMY] [Enemy3] Hit taken, health: 0/4
[02:07:50] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[02:07:50] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[02:07:50] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[02:07:50] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[02:07:50] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[02:07:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(416.1204, 740.9987), source=PLAYER (AssaultRifle), range=1469, listeners=9
[02:07:50] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[02:07:51] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(532.5832, 772.7362), shooter_id=10503862618170, bullet_pos=(39.146, 853.4811)
[02:07:51] [INFO] [Bullet] Using shooter_position, distance=500.000030517578
[02:07:51] [INFO] [Bullet] Distance to wall: 500.000030517578 (34.0459214969257% of viewport)
[02:07:51] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:07:51] [INFO] [Bullet] Starting wall penetration at (39.146, 853.4811)
[02:07:51] [INFO] [Bullet] Raycast backward hit penetrating body at distance 31.0922985076904
[02:07:51] [INFO] [Bullet] Body exited signal received for penetrating body
[02:07:51] [INFO] [Bullet] Exiting penetration at (1.315811, 859.6716) after traveling 33.3333358764648 pixels through wall
[02:07:51] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:07:51] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(989.6003, 1416.68), shooter_id=10505859108274, bullet_pos=(67.89323, 532.8067)
[02:07:51] [INFO] [Bullet] Using shooter_position, distance=1277.01843261719
[02:07:51] [INFO] [Bullet] Distance to wall: 1277.01843261719 (86.9545333067402% of viewport)
[02:07:51] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(527.6877, 776.0378), shooter_id=10503862618170, bullet_pos=(62.63422, 737.2687)
[02:07:51] [INFO] [Bullet] Using shooter_position, distance=466.666717529297
[02:07:51] [INFO] [Bullet] Distance to wall: 466.666717529297 (31.7761949209959% of viewport)
[02:07:51] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:07:51] [INFO] [Bullet] Starting wall penetration at (62.63422, 737.2687)
[02:07:51] [INFO] [Bullet] Raycast backward hit penetrating body at distance 7.592848777771
[02:07:51] [INFO] [Bullet] Body exited signal received for penetrating body
[02:07:51] [INFO] [Bullet] Exiting penetration at (24.4334, 734.084) after traveling 33.3333320617676 pixels through wall
[02:07:51] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:07:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(451.3203, 740.9987), source=PLAYER (AssaultRifle), range=1469, listeners=9
[02:07:51] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[02:07:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(672.7135, 913.1632), source=ENEMY (Enemy4), range=1469, listeners=9
[02:07:51] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[02:07:51] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(416.1204, 740.9987), shooter_id=10506681191097, bullet_pos=(734.0035, 808.63934)
[02:07:51] [INFO] [Bullet] Using shooter_position, distance=324,99985
[02:07:51] [INFO] [Bullet] Distance to wall: 324,99985 (22,129839% of viewport)
[02:07:51] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:07:51] [INFO] [LastChance] Threat detected: @Area2D@11833
[02:07:51] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:07:51] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:07:51] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(451.32034, 740.9987), shooter_id=10506681191097, bullet_pos=(697.7045, 818.6581)
[02:07:51] [INFO] [Bullet] Using shooter_position, distance=258,3334
[02:07:51] [INFO] [Bullet] Distance to wall: 258,3334 (17,590397% of viewport)
[02:07:51] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:07:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(486.5203, 740.9987), source=PLAYER (AssaultRifle), range=1469, listeners=9
[02:07:51] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[02:07:51] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(416.1204, 740.9987), shooter_id=10506681191097, bullet_pos=(922.68805, 732.8593)
[02:07:51] [INFO] [Bullet] Using shooter_position, distance=506,63306
[02:07:51] [INFO] [Bullet] Distance to wall: 506,63306 (34,497578% of viewport)
[02:07:51] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:07:51] [INFO] [Bullet] Starting wall penetration at (922.68805, 732.8593)
[02:07:51] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(989.6003, 1416.68), shooter_id=10505859108274, bullet_pos=(218.0697, 429.1403)
[02:07:51] [INFO] [Bullet] Using shooter_position, distance=1253.19360351563
[02:07:51] [INFO] [Bullet] Distance to wall: 1253.19360351563 (85.3322568832172% of viewport)
[02:07:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(652.5893, 898.1311), source=ENEMY (Enemy4), range=1469, listeners=9
[02:07:51] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[02:07:51] [INFO] [Bullet] Raycast backward hit penetrating body at distance 18,9879
[02:07:51] [INFO] [Bullet] Body exited signal received for penetrating body
[02:07:51] [INFO] [Bullet] Exiting penetration at (953.61993, 720.43634) after traveling 28,333336 pixels through wall
[02:07:51] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[02:07:51] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(615.0676, 876.7839), shooter_id=10504147830752, bullet_pos=(407.3174, 709.5984)
[02:07:51] [INFO] [Bullet] Using shooter_position, distance=266.666717529297
[02:07:51] [INFO] [Bullet] Distance to wall: 266.666717529297 (18.1578271534248% of viewport)
[02:07:51] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:07:51] [INFO] [LastChance] Threat detected: @Area2D@11840
[02:07:51] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:07:51] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:07:51] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(486.5203, 740.9987), shooter_id=10506681191097, bullet_pos=(692.12787, 832.3804)
[02:07:51] [INFO] [Bullet] Using shooter_position, distance=225,00018
[02:07:51] [INFO] [Bullet] Distance to wall: 225,00018 (15,320677% of viewport)
[02:07:51] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:07:51] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(451.32034, 740.9987), shooter_id=10506681191097, bullet_pos=(511.62134, 900.6185)
[02:07:51] [INFO] [Bullet] Using shooter_position, distance=170,6303
[02:07:51] [INFO] [Bullet] Distance to wall: 170,6303 (11,61853% of viewport)
[02:07:51] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:07:51] [ENEMY] [Enemy1] Player distracted - priority attack triggered
[02:07:51] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(598.8261, 856.2515), shooter_id=10504147830752, bullet_pos=(432.3693, 692.738)
[02:07:51] [INFO] [Bullet] Using shooter_position, distance=233.33349609375
[02:07:51] [INFO] [Bullet] Distance to wall: 233.33349609375 (15.888106811489% of viewport)
[02:07:51] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:07:51] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[02:07:51] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[02:07:51] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(486.5203, 740.9987), shooter_id=10506681191097, bullet_pos=(522.4405, 944.4102)
[02:07:51] [INFO] [Bullet] Using shooter_position, distance=206,55872
[02:07:51] [INFO] [Bullet] Distance to wall: 206,55872 (14,064963% of viewport)
[02:07:51] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:07:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(327.1174, 401.9326), source=ENEMY (Enemy1), range=1469, listeners=9
[02:07:51] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=4
[02:07:51] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(451.32034, 740.9987), shooter_id=10506681191097, bullet_pos=(684.65796, 996.1718)
[02:07:51] [INFO] [Bullet] Using shooter_position, distance=345,77414
[02:07:51] [INFO] [Bullet] Distance to wall: 345,77414 (23,544397% of viewport)
[02:07:51] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:07:51] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(989.6003, 1416.68), shooter_id=10505859108274, bullet_pos=(67.43405, 328.7856)
[02:07:51] [INFO] [Bullet] Using shooter_position, distance=1426.15051269531
[02:07:51] [INFO] [Bullet] Distance to wall: 1426.15051269531 (97.1092108689741% of viewport)
[02:07:51] [ENEMY] [Enemy1] Player distracted - priority attack triggered
[02:07:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(327.1174, 401.9326), source=ENEMY (Enemy1), range=1469, listeners=9
[02:07:51] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=4
[02:07:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(395.9072, 576.3484), source=ENEMY (Enemy2), range=1469, listeners=9
[02:07:51] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=3
[02:07:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(555.6958, 743.9551), source=PLAYER (AssaultRifle), range=1469, listeners=9
[02:07:51] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[02:07:51] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(615.0676, 876.7839), shooter_id=10504147830752, bullet_pos=(67.41722, 972.9765)
[02:07:51] [INFO] [Bullet] Using shooter_position, distance=556.034057617188
[02:07:51] [INFO] [Bullet] Distance to wall: 556.034057617188 (37.8613814396283% of viewport)
[02:07:51] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:07:51] [INFO] [LastChance] Threat detected: @Area2D@11849
[02:07:51] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:07:51] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:07:51] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[02:07:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(395.9072, 576.3484), source=ENEMY (Enemy2), range=1469, listeners=9
[02:07:51] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=3
[02:07:51] [ENEMY] [Enemy3] Ragdoll activated
[02:07:51] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[02:07:51] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(486.5203, 740.9987), shooter_id=10506681191097, bullet_pos=(659.2883, 1004.6014)
[02:07:51] [INFO] [Bullet] Using shooter_position, distance=315,1748
[02:07:51] [INFO] [Bullet] Distance to wall: 315,1748 (21,460833% of viewport)
[02:07:51] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:07:51] [INFO] [LastChance] Threat detected: @Area2D@11853
[02:07:51] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:07:51] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:07:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(327.1174, 401.9326), source=ENEMY (Enemy1), range=1469, listeners=9
[02:07:51] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=4
[02:07:51] [INFO] [LastChance] Threat detected: Bullet
[02:07:51] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:07:51] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:07:51] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[02:07:51] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[02:07:51] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[02:07:51] [ENEMY] [Enemy4] Hit taken, health: 3/4
[02:07:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(395.9072, 576.3484), source=ENEMY (Enemy2), range=1469, listeners=9
[02:07:51] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=3
[02:07:51] [INFO] [LastChance] Threat detected: @Area2D@11848
[02:07:51] [INFO] [LastChance] Triggering last chance effect!
[02:07:51] [INFO] [LastChance] Starting last chance effect:
[02:07:51] [INFO] [LastChance]   - Time will be frozen (except player)
[02:07:51] [INFO] [LastChance]   - Duration: 6.0 real seconds
[02:07:51] [INFO] [LastChance]   - Sepia intensity: 0.70
[02:07:51] [INFO] [LastChance]   - Brightness: 0.60
[02:07:51] [INFO] [LastChance] Pushed bullet Bullet from distance 95.8 to 200.0
[02:07:51] [INFO] [LastChance] Pushed bullet @Area2D@11848 from distance 128.8 to 200.0
[02:07:51] [INFO] [LastChance] Pushed bullet @Area2D@11853 from distance 51.3 to 200.0
[02:07:51] [INFO] [LastChance] Pushed 3 threatening bullets away from player
[02:07:51] [INFO] [LastChance] Set player Player and all 18 children to PROCESS_MODE_ALWAYS
[02:07:51] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[02:07:51] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:07:51] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:07:51] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[02:07:51] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:07:51] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:07:51] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:07:51] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:07:51] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:07:51] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:07:51] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:07:51] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:07:51] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:07:51] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:07:51] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:07:51] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:07:51] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:07:51] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[02:07:51] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[02:07:51] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:07:51] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:07:51] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:07:51] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:07:51] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:07:51] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[02:07:51] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[02:07:51] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:07:51] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[02:07:51] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[02:07:51] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:07:51] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:07:51] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[02:07:51] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[02:07:51] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[02:07:51] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[02:07:51] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[02:07:51] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[02:07:51] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[02:07:51] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[02:07:51] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[02:07:51] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[02:07:51] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[02:07:51] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[02:07:51] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[02:07:51] [INFO] [LastChance] Skipping player node: Player
[02:07:51] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[02:07:51] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[02:07:51] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[02:07:51] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@11869
[02:07:51] [INFO] [LastChance] Registered frozen player bullet: @Area2D@11869
[02:07:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(584.6912, 758.9343), source=PLAYER (AssaultRifle), range=1469, listeners=9
[02:07:51] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[02:07:51] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@11871
[02:07:51] [INFO] [LastChance] Registered frozen player bullet: @Area2D@11871
[02:07:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(608.6088, 783.8076), source=PLAYER (AssaultRifle), range=1469, listeners=9
[02:07:51] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=5
[02:07:51] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@11873
[02:07:51] [INFO] [LastChance] Registered frozen player bullet: @Area2D@11873
[02:07:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(620.73, 809.5867), source=PLAYER (AssaultRifle), range=1469, listeners=9
[02:07:51] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[02:07:52] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@11875
[02:07:52] [INFO] [LastChance] Registered frozen player bullet: @Area2D@11875
[02:07:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(623.4752, 848.0497), source=PLAYER (AssaultRifle), range=1469, listeners=9
[02:07:52] [ENEMY] [Enemy4] Heard gunshot at (623.4752, 848.0497), source_type=0, intensity=0.45, distance=74
[02:07:52] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[02:07:52] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@11877
[02:07:52] [INFO] [LastChance] Registered frozen player bullet: @Area2D@11877
[02:07:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(623.4752, 883.2499), source=PLAYER (AssaultRifle), range=1469, listeners=9
[02:07:52] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[02:07:53] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@11879
[02:07:53] [INFO] [LastChance] Registered frozen player bullet: @Area2D@11879
[02:07:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(851.3721, 837.7203), source=PLAYER (AssaultRifle), range=1469, listeners=9
[02:07:53] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=8
[02:07:53] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@11881
[02:07:53] [INFO] [LastChance] Registered frozen player bullet: @Area2D@11881
[02:07:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(859.7063, 805.9724), source=PLAYER (AssaultRifle), range=1469, listeners=9
[02:07:53] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=8
[02:07:54] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@11883
[02:07:54] [INFO] [LastChance] Registered frozen player bullet: @Area2D@11883
[02:07:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(859.8611, 770.8364), source=PLAYER (AssaultRifle), range=1469, listeners=9
[02:07:54] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=8
[02:07:54] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@11885
[02:07:54] [INFO] [LastChance] Registered frozen player bullet: @Area2D@11885
[02:07:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(859.8611, 735.6362), source=PLAYER (AssaultRifle), range=1469, listeners=9
[02:07:54] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[02:07:54] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@11887
[02:07:54] [INFO] [LastChance] Registered frozen player bullet: @Area2D@11887
[02:07:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(859.8611, 700.436), source=PLAYER (AssaultRifle), range=1469, listeners=9
[02:07:54] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[02:07:54] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@11889
[02:07:54] [INFO] [LastChance] Registered frozen player bullet: @Area2D@11889
[02:07:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(859.8611, 665.2358), source=PLAYER (AssaultRifle), range=1469, listeners=9
[02:07:54] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[02:07:54] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[02:07:54] [ENEMY] [Enemy1] Player reloading state changed: false -> true
[02:07:54] [ENEMY] [Enemy2] Player reloading state changed: false -> true
[02:07:54] [ENEMY] [Enemy4] Player reloading state changed: false -> true
[02:07:54] [ENEMY] [Enemy5] Player reloading state changed: false -> true
[02:07:54] [ENEMY] [Enemy6] Player reloading state changed: false -> true
[02:07:54] [ENEMY] [Enemy7] Player reloading state changed: false -> true
[02:07:54] [ENEMY] [Enemy8] Player reloading state changed: false -> true
[02:07:54] [ENEMY] [Enemy9] Player reloading state changed: false -> true
[02:07:54] [ENEMY] [Enemy10] Player reloading state changed: false -> true
[02:07:54] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(859.8611, 628.4356), source=PLAYER (Player), range=900, listeners=9
[02:07:54] [ENEMY] [Enemy2] Heard player RELOAD at (859.8611, 628.4356), intensity=0.01, distance=467
[02:07:54] [ENEMY] [Enemy2] Vulnerability sound triggered pursuit - transitioning from SUPPRESSED to PURSUING
[02:07:54] [ENEMY] [Enemy4] Heard player RELOAD at (859.8611, 628.4356), intensity=0.02, distance=345
[02:07:54] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=4
[02:07:54] [INFO] [ScoreManager] Combo ended at 1. Max combo: 1
[02:07:54] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[02:07:54] [INFO] [Player.Reload.Anim] LeftArm: pos=(6.023279, 3.0046573), target=(12, 6), base=(24, 6)
[02:07:54] [INFO] [Player.Reload.Anim] RightArm: pos=(-1.9999933, 6.5), target=(-2, 8), base=(-2, 6)
[02:07:55] [INFO] [Player.Reload.Anim] Phase changed to: PullBolt (duration: 0,35s)
[02:07:55] [ENEMY] [Enemy1] Player reloading state changed: true -> false
[02:07:55] [ENEMY] [Enemy2] Player reloading state changed: true -> false
[02:07:55] [ENEMY] [Enemy4] Player reloading state changed: true -> false
[02:07:55] [ENEMY] [Enemy5] Player reloading state changed: true -> false
[02:07:55] [ENEMY] [Enemy6] Player reloading state changed: true -> false
[02:07:55] [ENEMY] [Enemy7] Player reloading state changed: true -> false
[02:07:55] [ENEMY] [Enemy8] Player reloading state changed: true -> false
[02:07:55] [ENEMY] [Enemy9] Player reloading state changed: true -> false
[02:07:55] [ENEMY] [Enemy10] Player reloading state changed: true -> false
[02:07:55] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[02:07:55] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[02:07:57] [INFO] [LastChance] Effect duration expired after 6.01 real seconds
[02:07:57] [INFO] [LastChance] Ending last chance effect
[02:07:57] [INFO] [LastChance] All process modes restored
[02:07:57] [INFO] [LastChance] Unfroze player bullet: @Area2D@11869
[02:07:57] [INFO] [LastChance] Unfroze player bullet: @Area2D@11871
[02:07:57] [INFO] [LastChance] Unfroze player bullet: @Area2D@11873
[02:07:57] [INFO] [LastChance] Unfroze player bullet: @Area2D@11875
[02:07:57] [INFO] [LastChance] Unfroze player bullet: @Area2D@11877
[02:07:57] [INFO] [LastChance] Unfroze player bullet: @Area2D@11879
[02:07:57] [INFO] [LastChance] Unfroze player bullet: @Area2D@11881
[02:07:57] [INFO] [LastChance] Unfroze player bullet: @Area2D@11883
[02:07:57] [INFO] [LastChance] Unfroze player bullet: @Area2D@11885
[02:07:57] [INFO] [LastChance] Unfroze player bullet: @Area2D@11887
[02:07:57] [INFO] [LastChance] Unfroze player bullet: @Area2D@11889
[02:07:57] [INFO] [LastChance] Restored original colors to 5 player sprites
[02:07:57] [INFO] [LastChance] Called player RefreshHealthVisual (C#)
[02:07:57] [ENEMY] [Enemy2] Pursuing vulnerability sound at (859.8611, 628.4356), distance=467
[02:07:57] [ENEMY] [Enemy10] FLANKING started: target=(1150.428, 759.94), side=left, pos=(1022.594, 1432.37)
[02:07:57] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[02:07:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(357.5564, 463.195), shooter_id=10503292194128, bullet_pos=(515.6158, 600.5374)
[02:07:57] [INFO] [Bullet] Using shooter_position, distance=209.393676757813
[02:07:57] [INFO] [Bullet] Distance to wall: 209.393676757813 (14.258000491459% of viewport)
[02:07:57] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:07:57] [INFO] [Bullet] Starting wall penetration at (515.6158, 600.5374)
[02:07:57] [ENEMY] [Enemy4] Hit taken, health: 2/4
[02:07:57] [INFO] [Bullet] Raycast backward hit penetrating body at distance 47.3858604431152
[02:07:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(439.6938, 628.6721), shooter_id=10503577405358, bullet_pos=(499.9034, 686.285)
[02:07:57] [INFO] [Bullet] Using shooter_position, distance=83.3333740234375
[02:07:57] [INFO] [Bullet] Distance to wall: 83.3333740234375 (5.67432267381863% of viewport)
[02:07:57] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:07:57] [INFO] [Bullet] Starting wall penetration at (499.9034, 686.285)
[02:07:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(438.3405, 629.5463), shooter_id=10503577405358, bullet_pos=(461.2313, 711.386)
[02:07:57] [INFO] [Bullet] Using shooter_position, distance=84.9807510375977
[02:07:57] [INFO] [Bullet] Distance to wall: 84.9807510375977 (5.78649560397201% of viewport)
[02:07:57] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:07:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(598.8261, 856.2515), shooter_id=10504147830752, bullet_pos=(64.58092, 989.3653)
[02:07:57] [INFO] [Bullet] Using shooter_position, distance=550.578979492188
[02:07:57] [INFO] [Bullet] Distance to wall: 550.578979492188 (37.4899351390929% of viewport)
[02:07:57] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:07:57] [ENEMY] [Enemy4] Hit taken, health: 1/4
[02:07:57] [INFO] [Bullet] Body exited signal received for penetrating body
[02:07:57] [INFO] [Bullet] Exiting penetration at (546.634, 635.4035) after traveling 41.6666679382324 pixels through wall
[02:07:57] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:07:57] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[02:07:57] [INFO] [Bullet] Exiting penetration at (527.5999, 712.787) after traveling 33.3333320617676 pixels through wall
[02:07:57] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:07:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(623.4752, 883.24994), shooter_id=10506681191097, bullet_pos=(675.9007, 1014.85925)
[02:07:57] [INFO] [Bullet] Using shooter_position, distance=141,66666
[02:07:57] [INFO] [Bullet] Distance to wall: 141,66666 (9,646343% of viewport)
[02:07:57] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:07:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(357.8328, 462.6546), shooter_id=10503292194128, bullet_pos=(499.9673, 704.7632)
[02:07:57] [INFO] [Bullet] Using shooter_position, distance=280.746917724609
[02:07:57] [INFO] [Bullet] Distance to wall: 280.746917724609 (19.1165738759288% of viewport)
[02:07:57] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:07:57] [ENEMY] [Enemy4] Hit taken, health: 0/4
[02:07:57] [ENEMY] [Enemy4] Enemy died (ricochet: false, penetration: false)
[02:07:57] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[02:07:57] [INFO] [SoundPropagation] Unregistered listener: Enemy4 (remaining: 8)
[02:07:57] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[02:07:57] [ENEMY] [Enemy4] Death animation started with hit direction: (1, 0)
[02:07:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(451.32034, 740.9987), shooter_id=10506681191097, bullet_pos=(920.9577, 843.4508)
[02:07:57] [INFO] [Bullet] Using shooter_position, distance=480,68253
[02:07:57] [INFO] [Bullet] Distance to wall: 480,68253 (32,73056% of viewport)
[02:07:57] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:07:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(584.6912, 758.9343), shooter_id=10506681191097, bullet_pos=(707.3158, 1005.08124)
[02:07:57] [INFO] [Bullet] Using shooter_position, distance=275,00015
[02:07:57] [INFO] [Bullet] Distance to wall: 275,00015 (18,725267% of viewport)
[02:07:57] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:07:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(989.6003, 1416.68), shooter_id=10505859108274, bullet_pos=(221.4044, 255.2449)
[02:07:57] [INFO] [Bullet] Using shooter_position, distance=1392.50012207031
[02:07:57] [INFO] [Bullet] Distance to wall: 1392.50012207031 (94.8178938937057% of viewport)
[02:07:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(623.4752, 883.24994), shooter_id=10506681191097, bullet_pos=(752.2277, 889.6183)
[02:07:57] [INFO] [Bullet] Using shooter_position, distance=128,90991
[02:07:57] [INFO] [Bullet] Distance to wall: 128,90991 (8,777713% of viewport)
[02:07:57] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:07:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(859.86115, 665.2358), shooter_id=10506681191097, bullet_pos=(506.63712, 539.30774)
[02:07:57] [INFO] [Bullet] Using shooter_position, distance=375,00012
[02:07:57] [INFO] [Bullet] Distance to wall: 375,00012 (25,534449% of viewport)
[02:07:57] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:07:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(859.86115, 700.436), shooter_id=10506681191097, bullet_pos=(510.8048, 563.3788)
[02:07:57] [INFO] [Bullet] Using shooter_position, distance=375
[02:07:57] [INFO] [Bullet] Distance to wall: 375 (25,53444% of viewport)
[02:07:57] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:07:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(859.86115, 735.63617), shooter_id=10506681191097, bullet_pos=(516.1024, 585.7861)
[02:07:57] [INFO] [Bullet] Using shooter_position, distance=375,00015
[02:07:57] [INFO] [Bullet] Distance to wall: 375,00015 (25,53445% of viewport)
[02:07:57] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:07:57] [INFO] [Bullet] Starting wall penetration at (516.1024, 585.7861)
[02:07:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(486.5203, 740.9987), shooter_id=10506681191097, bullet_pos=(923.6026, 908.16925)
[02:07:57] [INFO] [Bullet] Using shooter_position, distance=467,9604
[02:07:57] [INFO] [Bullet] Distance to wall: 467,9604 (31,864285% of viewport)
[02:07:57] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:07:57] [INFO] [Bullet] Starting wall penetration at (923.6026, 908.16925)
[02:07:57] [INFO] [Bullet] Raycast backward hit penetrating body at distance 12,274088
[02:07:57] [INFO] [Bullet] Raycast backward hit penetrating body at distance 20,767508
[02:07:57] [INFO] [Bullet] Body exited signal received for penetrating body
[02:07:57] [INFO] [Bullet] Exiting penetration at (947.53064, 899.4394) after traveling 20,470833 pixels through wall
[02:07:57] [INFO] [Bullet] Damage multiplier after penetration: 0,1125
[02:07:57] [INFO] [Bullet] Body exited signal received for penetrating body
[02:07:57] [INFO] [Bullet] Exiting penetration at (480.96265, 570.4681) after traveling 33,333336 pixels through wall
[02:07:57] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[02:07:57] [ENEMY] [Enemy2] Hit taken, health: 1/2
[02:07:57] [ENEMY] [Enemy2] Hit taken, health: 0/2
[02:07:57] [ENEMY] [Enemy2] Enemy died (ricochet: false, penetration: false)
[02:07:57] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[02:07:57] [INFO] [SoundPropagation] Unregistered listener: Enemy2 (remaining: 7)
[02:07:57] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[02:07:57] [ENEMY] [Enemy2] Death animation started with hit direction: (1, 0)
[02:07:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(623.4752, 883.24994), shooter_id=10506681191097, bullet_pos=(847.72205, 1004.6448)
[02:07:57] [INFO] [Bullet] Using shooter_position, distance=254,99677
[02:07:57] [INFO] [Bullet] Distance to wall: 254,99677 (17,3632% of viewport)
[02:07:57] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:07:57] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:07:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(359.8672, 461.8587), shooter_id=10503292194128, bullet_pos=(766.5215, 1011.018)
[02:07:57] [INFO] [Bullet] Using shooter_position, distance=683.332946777344
[02:07:57] [INFO] [Bullet] Distance to wall: 683.332946777344 (46.5293968845597% of viewport)
[02:07:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(623.4752, 883.24994), shooter_id=10506681191097, bullet_pos=(910.2491, 917.3791)
[02:07:57] [INFO] [Bullet] Using shooter_position, distance=288,79758
[02:07:57] [INFO] [Bullet] Distance to wall: 288,79758 (19,664759% of viewport)
[02:07:57] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:07:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(859.86115, 770.83636), shooter_id=10506681191097, bullet_pos=(220.26352, 466.45038)
[02:07:57] [INFO] [Bullet] Using shooter_position, distance=708,33325
[02:07:57] [INFO] [Bullet] Distance to wall: 708,33325 (48,231716% of viewport)
[02:07:58] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:07:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(438.3405, 629.5463), shooter_id=10503577405358, bullet_pos=(972.4292, 299.2115)
[02:07:58] [INFO] [Bullet] Using shooter_position, distance=627.990234375
[02:07:58] [INFO] [Bullet] Distance to wall: 627.990234375 (42.7610098308095% of viewport)
[02:07:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(859.86115, 770.83636), shooter_id=10506681191097, bullet_pos=(61.640892, 540.36835)
[02:07:58] [INFO] [Bullet] Using shooter_position, distance=830,82556
[02:07:58] [INFO] [Bullet] Distance to wall: 830,82556 (56,572445% of viewport)
[02:07:58] [INFO] [Bullet] Distance-based penetration chance: 80,66549%
[02:07:58] [INFO] [Bullet] Starting wall penetration at (61.640892, 540.36835)
[02:07:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(989.6003, 1416.68), shooter_id=10505859108274, bullet_pos=(60.21442, 180.7367)
[02:07:58] [INFO] [Bullet] Using shooter_position, distance=1546.38745117188
[02:07:58] [INFO] [Bullet] Distance to wall: 1546.38745117188 (105.296365106077% of viewport)
[02:07:58] [INFO] [Bullet] Raycast backward hit penetrating body at distance 0,63211024
[02:07:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(359.8672, 461.8587), shooter_id=10503292194128, bullet_pos=(919.8246, 801.0225)
[02:07:58] [INFO] [Bullet] Using shooter_position, distance=654.663635253906
[02:07:58] [INFO] [Bullet] Distance to wall: 654.663635253906 (44.5772507447135% of viewport)
[02:07:58] [INFO] [Bullet] Max penetration distance exceeded: 56,666668 >= 48
[02:07:58] [INFO] [Bullet] Body exited signal received for penetrating body
[02:07:58] [INFO] [Bullet] Exiting penetration at (5.745304, 566.4156) after traveling 56,666668 pixels through wall
[02:07:58] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[02:07:58] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:07:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(451.32034, 740.9987), shooter_id=10506681191097, bullet_pos=(523.4707, 553.1567)
[02:07:58] [INFO] [Bullet] Using shooter_position, distance=201,22203
[02:07:58] [INFO] [Bullet] Distance to wall: 201,22203 (13,701579% of viewport)
[02:07:58] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:07:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(438.3405, 629.5463), shooter_id=10503577405358, bullet_pos=(736.4618, 51.42608)
[02:07:58] [INFO] [Bullet] Using shooter_position, distance=650.460754394531
[02:07:58] [INFO] [Bullet] Distance to wall: 650.460754394531 (44.2910688585823% of viewport)
[02:07:58] [ENEMY] [Enemy4] Ragdoll activated
[02:07:58] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[02:07:58] [ENEMY] [Enemy2] Ragdoll activated
[02:07:58] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[02:07:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(359.8672, 461.8587), shooter_id=10503292194128, bullet_pos=(522.6001, 341.9331)
[02:07:58] [INFO] [Bullet] Using shooter_position, distance=202.148803710938
[02:07:58] [INFO] [Bullet] Distance to wall: 202.148803710938 (13.7646837635504% of viewport)
[02:07:58] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:07:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(623.4752, 883.24994), shooter_id=10506681191097, bullet_pos=(522.1162, 441.6093)
[02:07:58] [INFO] [Bullet] Using shooter_position, distance=453,1226
[02:07:58] [INFO] [Bullet] Distance to wall: 453,1226 (30,85395% of viewport)
[02:07:58] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:07:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(438.3405, 629.5463), shooter_id=10503577405358, bullet_pos=(525.8839, 334.7437)
[02:07:58] [INFO] [Bullet] Using shooter_position, distance=307.526214599609
[02:07:58] [INFO] [Bullet] Distance to wall: 307.526214599609 (20.9400254429323% of viewport)
[02:07:58] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:07:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(451.32034, 740.9987), shooter_id=10506681191097, bullet_pos=(980.7845, 243.59177)
[02:07:58] [INFO] [Bullet] Using shooter_position, distance=726,46124
[02:07:58] [INFO] [Bullet] Distance to wall: 726,46124 (49,466084% of viewport)
[02:07:58] [INFO] [Bullet] Distance-based penetration chance: 88,95624%
[02:07:58] [INFO] [Bullet] Starting wall penetration at (980.7845, 243.59177)
[02:07:58] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[02:07:58] [INFO] [Bullet] Exiting penetration at (997.173, 232.49808) after traveling 14,790179 pixels through wall
[02:07:58] [INFO] [Bullet] Damage multiplier after penetration: 0,028125
[02:07:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(359.8672, 461.8587), shooter_id=10503292194128, bullet_pos=(851.4321, 57.33333)
[02:07:58] [INFO] [Bullet] Using shooter_position, distance=636.613586425781
[02:07:58] [INFO] [Bullet] Distance to wall: 636.613586425781 (43.3481897288934% of viewport)
[02:07:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(989.6003, 1416.68), shooter_id=10505859108274, bullet_pos=(409.9765, 66.75229)
[02:07:58] [INFO] [Bullet] Using shooter_position, distance=1469.10461425781
[02:07:58] [INFO] [Bullet] Distance to wall: 1469.10461425781 (100.034034629993% of viewport)
[02:07:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(359.8672, 461.8587), shooter_id=10503292194128, bullet_pos=(978.6794, 206.9395)
[02:07:59] [INFO] [Bullet] Using shooter_position, distance=669.262512207031
[02:07:59] [INFO] [Bullet] Distance to wall: 669.262512207031 (45.5713151214194% of viewport)
[02:07:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(623.4752, 883.24994), shooter_id=10506681191097, bullet_pos=(813.1805, 62.08414)
[02:07:59] [INFO] [Bullet] Using shooter_position, distance=842,79376
[02:07:59] [INFO] [Bullet] Distance to wall: 842,79376 (57,387375% of viewport)
[02:07:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(438.3405, 629.5463), shooter_id=10503577405358, bullet_pos=(915.9758, 786.1502)
[02:07:59] [INFO] [Bullet] Using shooter_position, distance=502.653167724609
[02:07:59] [INFO] [Bullet] Distance to wall: 502.653167724609 (34.2265784880416% of viewport)
[02:07:59] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:07:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(623.4752, 883.24994), shooter_id=10506681191097, bullet_pos=(974.905, 227.43292)
[02:07:59] [INFO] [Bullet] Using shooter_position, distance=744,04224
[02:07:59] [INFO] [Bullet] Distance to wall: 744,04224 (50,663204% of viewport)
[02:07:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(438.3405, 629.5463), shooter_id=10503577405358, bullet_pos=(706.592, 1002.117)
[02:07:59] [INFO] [Bullet] Using shooter_position, distance=459.094390869141
[02:07:59] [INFO] [Bullet] Distance to wall: 459.094390869141 (31.2605812744249% of viewport)
[02:07:59] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:07:59] [ENEMY] [Enemy4] Death animation completed
[02:07:59] [ENEMY] [Enemy1] State: SUPPRESSED -> IN_COVER
[02:07:59] [ENEMY] [Enemy1] State: IN_COVER -> PURSUING
[02:07:59] [ENEMY] [Enemy2] Death animation completed
[02:07:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(359.8672, 461.8587), shooter_id=10503292194128, bullet_pos=(468.2146, 686.1247)
[02:07:59] [INFO] [Bullet] Using shooter_position, distance=249.067092895508
[02:07:59] [INFO] [Bullet] Distance to wall: 249.067092895508 (16.9594363492541% of viewport)
[02:07:59] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:07:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(438.3405, 629.5463), shooter_id=10503577405358, bullet_pos=(526.6104, 802.1923)
[02:07:59] [INFO] [Bullet] Using shooter_position, distance=193.902557373047
[02:07:59] [INFO] [Bullet] Distance to wall: 193.902557373047 (13.2031816868935% of viewport)
[02:07:59] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:07:59] [INFO] [Bullet] Starting wall penetration at (526.6104, 802.1923)
[02:07:59] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[02:07:59] [INFO] [Bullet] Exiting penetration at (514.8538, 789.133) after traveling 12.5716505050659 pixels through wall
[02:07:59] [INFO] [Bullet] Damage multiplier after penetration: 0.0140625
[02:08:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(359.8672, 461.8587), shooter_id=10503292194128, bullet_pos=(231.0356, 472.3661)
[02:08:00] [INFO] [Bullet] Using shooter_position, distance=129.259338378906
[02:08:00] [INFO] [Bullet] Distance to wall: 129.259338378906 (8.8015060371843% of viewport)
[02:08:00] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:08:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(623.4752, 883.24994), shooter_id=10506681191097, bullet_pos=(446.41446, 685.8161)
[02:08:00] [INFO] [Bullet] Using shooter_position, distance=265,19922
[02:08:00] [INFO] [Bullet] Distance to wall: 265,19922 (18,057903% of viewport)
[02:08:00] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:08:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(359.8672, 461.8587), shooter_id=10503292194128, bullet_pos=(65.10628, 579.1979)
[02:08:00] [INFO] [Bullet] Using shooter_position, distance=317.257751464844
[02:08:00] [INFO] [Bullet] Distance to wall: 317.257751464844 (21.6026636828045% of viewport)
[02:08:00] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:08:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(623.4752, 883.24994), shooter_id=10506681191097, bullet_pos=(236.93109, 470.79053)
[02:08:00] [INFO] [Bullet] Using shooter_position, distance=565,2779
[02:08:00] [INFO] [Bullet] Distance to wall: 565,2779 (38,49081% of viewport)
[02:08:00] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:08:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(359.8672, 461.8587), shooter_id=10503292194128, bullet_pos=(297.3256, 684.0242)
[02:08:00] [INFO] [Bullet] Using shooter_position, distance=230.800750732422
[02:08:00] [INFO] [Bullet] Distance to wall: 230.800750732422 (15.7156475225281% of viewport)
[02:08:00] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:08:01] [INFO] [ScoreManager] Combo ended at 2. Max combo: 2
[02:08:02] [ENEMY] [Enemy10] State: FLANKING -> COMBAT
[02:08:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1797.358, 764.8493), source=ENEMY (Enemy10), range=1469, listeners=7
[02:08:02] [ENEMY] [Enemy5] Heard gunshot at (1797.358, 764.8493), source_type=1, intensity=0.01, distance=426
[02:08:02] [ENEMY] [Enemy6] Heard gunshot at (1797.358, 764.8493), source_type=1, intensity=0.02, distance=350
[02:08:02] [ENEMY] [Enemy7] Heard gunshot at (1797.358, 764.8493), source_type=1, intensity=0.05, distance=229
[02:08:02] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=1, below_threshold=3
[02:08:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1792.738, 758.6852), source=ENEMY (Enemy10), range=1469, listeners=7
[02:08:02] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=1, below_threshold=3
[02:08:02] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:08:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1758.648, 751.9337), source=ENEMY (Enemy10), range=1469, listeners=7
[02:08:02] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=1, below_threshold=3
[02:08:02] [INFO] [LastChance] Threat detected: Bullet
[02:08:02] [INFO] [LastChance] Effect already used this life
[02:08:02] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:08:02] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[02:08:02] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[02:08:02] [INFO] [PenultimateHit] Player died - ending penultimate effect
[02:08:02] [INFO] [LastChance] Player died
[02:08:02] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:08:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1721.927, 751.9337), source=ENEMY (Enemy10), range=1469, listeners=7
[02:08:02] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=1, below_threshold=3
[02:08:02] [INFO] [LastChance] Threat detected: @Area2D@11960
[02:08:02] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:08:02] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:08:02] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:08:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1686.081, 751.9333), source=ENEMY (Enemy10), range=1469, listeners=7
[02:08:02] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=1, below_threshold=3
[02:08:02] [INFO] [LastChance] Threat detected: @Area2D@11961
[02:08:02] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:08:02] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:08:02] [ENEMY] [Enemy5] State: COMBAT -> PURSUING
[02:08:02] [ENEMY] [Enemy6] State: COMBAT -> PURSUING
[02:08:02] [ENEMY] [Enemy7] State: COMBAT -> PURSUING
[02:08:02] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:08:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1650.393, 751.9335), source=ENEMY (Enemy10), range=1469, listeners=7
[02:08:02] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=1, below_threshold=3
[02:08:02] [INFO] [LastChance] Threat detected: Bullet
[02:08:02] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:08:02] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:08:03] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:08:03] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[02:08:03] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[02:08:03] [INFO] [LastChance] Resetting all effects (scene change detected)
[02:08:03] [ENEMY] [Enemy1] Death animation component initialized
[02:08:03] [ENEMY] [Enemy2] Death animation component initialized
[02:08:03] [ENEMY] [Enemy3] Death animation component initialized
[02:08:03] [ENEMY] [Enemy4] Death animation component initialized
[02:08:03] [ENEMY] [Enemy5] Death animation component initialized
[02:08:03] [ENEMY] [Enemy6] Death animation component initialized
[02:08:03] [ENEMY] [Enemy7] Death animation component initialized
[02:08:03] [ENEMY] [Enemy8] Death animation component initialized
[02:08:03] [ENEMY] [Enemy9] Death animation component initialized
[02:08:03] [ENEMY] [Enemy10] Death animation component initialized
[02:08:03] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[02:08:03] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[02:08:03] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[02:08:03] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[02:08:03] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[02:08:03] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[02:08:03] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[02:08:03] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[02:08:03] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[02:08:03] [ENEMY] [Enemy10] Grenade system configured: offensive=2, flashbangs=0
[02:08:03] [INFO] [ScoreManager] Level started with 10 enemies
[02:08:03] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 8)
[02:08:03] [ENEMY] [Enemy1] Registered as sound listener
[02:08:03] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[02:08:03] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 9)
[02:08:03] [ENEMY] [Enemy2] Registered as sound listener
[02:08:03] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[02:08:03] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 10)
[02:08:03] [ENEMY] [Enemy3] Registered as sound listener
[02:08:03] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[02:08:03] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 11)
[02:08:03] [ENEMY] [Enemy4] Registered as sound listener
[02:08:03] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[02:08:03] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 12)
[02:08:03] [ENEMY] [Enemy5] Registered as sound listener
[02:08:03] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[02:08:03] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 13)
[02:08:03] [ENEMY] [Enemy6] Registered as sound listener
[02:08:03] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[02:08:03] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 14)
[02:08:03] [ENEMY] [Enemy7] Registered as sound listener
[02:08:03] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[02:08:03] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 15)
[02:08:03] [ENEMY] [Enemy8] Registered as sound listener
[02:08:03] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[02:08:03] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 16)
[02:08:03] [ENEMY] [Enemy9] Registered as sound listener
[02:08:03] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[02:08:03] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 17)
[02:08:03] [ENEMY] [Enemy10] Registered as sound listener
[02:08:03] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[02:08:03] [INFO] [Player] Detecting weapon pose (frame 3)...
[02:08:03] [INFO] [Player] Detected weapon: Rifle (default pose)
[02:08:03] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[02:08:03] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[02:08:03] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[02:08:03] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[02:08:03] [INFO] [LastChance] Found player: Player
[02:08:03] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[02:08:03] [INFO] [LastChance] Connected to player Damaged signal (C#)
[02:08:03] [INFO] [LastChance] Connected to player Died signal (C#)
[02:08:04] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:08:04] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:08:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1171.707, 1535.054), source=ENEMY (Enemy10), range=1469, listeners=17
[02:08:04] [INFO] [SoundPropagation] Cleaned up 7 invalid listeners
[02:08:04] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=8
[02:08:04] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:08:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1139.37, 1516.403), source=ENEMY (Enemy10), range=1469, listeners=10
[02:08:04] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:08:04] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:08:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1107.822, 1496.445), source=ENEMY (Enemy10), range=1469, listeners=10
[02:08:04] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:08:04] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:08:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1077.113, 1475.22), source=ENEMY (Enemy10), range=1469, listeners=10
[02:08:04] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:08:04] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:08:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1047.286, 1452.773), source=ENEMY (Enemy10), range=1469, listeners=10
[02:08:04] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:08:04] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1108.808, 1509.084), shooter_id=10971997277668, bullet_pos=(52.15244, 922.9563)
[02:08:04] [INFO] [Bullet] Using shooter_position, distance=1208.33264160156
[02:08:04] [INFO] [Bullet] Distance to wall: 1208.33264160156 (82.2775914944537% of viewport)
[02:08:04] [INFO] [Bullet] Distance-based penetration chance: 50.6761432564707%
[02:08:04] [INFO] [Bullet] Penetration failed (distance roll)
[02:08:04] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[02:08:04] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1077.587, 1487.88), shooter_id=10971997277668, bullet_pos=(45.80564, 858.9956)
[02:08:04] [INFO] [Bullet] Using shooter_position, distance=1208.33312988281
[02:08:04] [INFO] [Bullet] Distance to wall: 1208.33312988281 (82.2776247424219% of viewport)
[02:08:04] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1047.255, 1465.426), shooter_id=10971997277668, bullet_pos=(41.98311, 794.9785)
[02:08:04] [INFO] [Bullet] Using shooter_position, distance=1208.33386230469
[02:08:04] [INFO] [Bullet] Distance to wall: 1208.33386230469 (82.2776746143741% of viewport)
[02:08:04] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1077.587, 1487.88), shooter_id=10971997277668, bullet_pos=(335.1301, 713.7188)
[02:08:04] [INFO] [Bullet] Using shooter_position, distance=1072.64538574219
[02:08:04] [INFO] [Bullet] Distance to wall: 1072.64538574219 (73.0383967361263% of viewport)
[02:08:05] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1047.255, 1465.426), shooter_id=10971997277668, bullet_pos=(240.8609, 706.9225)
[02:08:05] [INFO] [Bullet] Using shooter_position, distance=1107.06750488281
[02:08:05] [INFO] [Bullet] Distance to wall: 1107.06750488281 (75.3822621251072% of viewport)
[02:08:05] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1017.852, 1441.773), shooter_id=10971997277668, bullet_pos=(40.56596, 731.1526)
[02:08:05] [INFO] [Bullet] Using shooter_position, distance=1208.33325195313
[02:08:05] [INFO] [Bullet] Distance to wall: 1208.33325195313 (82.2776330544139% of viewport)
[02:08:05] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1017.852, 1441.773), shooter_id=10971997277668, bullet_pos=(103.0036, 688.115)
[02:08:05] [INFO] [Bullet] Using shooter_position, distance=1185.30505371094
[02:08:05] [INFO] [Bullet] Distance to wall: 1185.30505371094 (80.7096006909807% of viewport)
[02:08:05] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1017.852, 1441.773), shooter_id=10971997277668, bullet_pos=(52.23725, 647.1893)
[02:08:05] [INFO] [Bullet] Using shooter_position, distance=1250.50988769531
[02:08:05] [INFO] [Bullet] Distance to wall: 1250.50988769531 (85.1495177380939% of viewport)
[02:08:05] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(989.413, 1416.977), shooter_id=10971997277668, bullet_pos=(41.40649, 667.7419)
[02:08:05] [INFO] [Bullet] Using shooter_position, distance=1208.33337402344
[02:08:05] [INFO] [Bullet] Distance to wall: 1208.33337402344 (82.277641366406% of viewport)
[02:08:05] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1047.255, 1465.426), shooter_id=10971997277668, bullet_pos=(499.2605, 803.7275)
[02:08:05] [INFO] [Bullet] Using shooter_position, distance=859.152160644531
[02:08:05] [INFO] [Bullet] Distance to wall: 859.152160644531 (58.5012504598027% of viewport)
[02:08:05] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1077.587, 1487.88), shooter_id=10971997277668, bullet_pos=(700.9586, 866.2514)
[02:08:05] [INFO] [Bullet] Using shooter_position, distance=726.822692871094
[02:08:05] [INFO] [Bullet] Distance to wall: 726.822692871094 (49.4906936666746% of viewport)
[02:08:05] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[02:08:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(349.1211, 830.5078), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:08:05] [ENEMY] [Enemy1] Heard gunshot at (349.1211, 830.5078), source_type=0, intensity=0.01, distance=483
[02:08:05] [ENEMY] [Enemy2] Heard gunshot at (349.1211, 830.5078), source_type=0, intensity=0.03, distance=285
[02:08:05] [ENEMY] [Enemy4] Heard gunshot at (349.1211, 830.5078), source_type=0, intensity=0.01, distance=456
[02:08:05] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[02:08:05] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1017.852, 1441.773), shooter_id=10971997277668, bullet_pos=(232.4391, 458.5402)
[02:08:05] [INFO] [Bullet] Using shooter_position, distance=1258.41967773438
[02:08:05] [INFO] [Bullet] Distance to wall: 1258.41967773438 (85.688109886675% of viewport)
[02:08:05] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(989.413, 1416.977), shooter_id=10971997277668, bullet_pos=(299.5936, 472.4129)
[02:08:05] [INFO] [Bullet] Using shooter_position, distance=1169.6376953125
[02:08:05] [INFO] [Bullet] Distance to wall: 1169.6376953125 (79.6427814478994% of viewport)
[02:08:05] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1077.587, 1487.88), shooter_id=10971997277668, bullet_pos=(523.7651, 978.4124)
[02:08:05] [INFO] [Bullet] Using shooter_position, distance=752.513244628906
[02:08:05] [INFO] [Bullet] Distance to wall: 752.513244628906 (51.2400105766231% of viewport)
[02:08:05] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1077.587, 1487.88), shooter_id=10971997277668, bullet_pos=(567.1481, 1000.097)
[02:08:05] [INFO] [Bullet] Using shooter_position, distance=706.031555175781
[02:08:05] [INFO] [Bullet] Distance to wall: 706.031555175781 (48.0749868694697% of viewport)
[02:08:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(335.3049, 801.1516), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:08:05] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[02:08:05] [ENEMY] [Enemy2] Hit taken, health: 1/2
[02:08:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(637.1774, 761.8243), source=ENEMY (Enemy3), range=1469, listeners=10
[02:08:05] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[02:08:05] [INFO] [LastChance] Threat detected: @Area2D@12237
[02:08:05] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:08:05] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:08:05] [ENEMY] [Enemy3] Hit taken, health: 3/4
[02:08:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(336.1372, 778.0072), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:08:05] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[02:08:05] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(349.12106, 830.5078), shooter_id=10972819361429, bullet_pos=(915.6837, 608.97614)
[02:08:05] [INFO] [Bullet] Using shooter_position, distance=608,3334
[02:08:05] [INFO] [Bullet] Distance to wall: 608,3334 (41,42254% of viewport)
[02:08:05] [INFO] [Bullet] Distance-based penetration chance: 98,34037%
[02:08:05] [INFO] [Bullet] Starting wall penetration at (915.6837, 608.97614)
[02:08:05] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1017.852, 1441.773), shooter_id=10971997277668, bullet_pos=(55.88449, 231.3167)
[02:08:05] [INFO] [Bullet] Using shooter_position, distance=1546.15185546875
[02:08:05] [INFO] [Bullet] Distance to wall: 1546.15185546875 (105.280322961429% of viewport)
[02:08:05] [INFO] [Bullet] Raycast backward hit penetrating body at distance 16,519156
[02:08:05] [INFO] [Bullet] Body exited signal received for penetrating body
[02:08:05] [INFO] [Bullet] Exiting penetration at (951.3849, 595.0166) after traveling 33,333332 pixels through wall
[02:08:05] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[02:08:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(600.9923, 764.1202), source=ENEMY (Enemy3), range=1469, listeners=10
[02:08:05] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[02:08:05] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[02:08:05] [ENEMY] [Enemy4] Hit taken, health: 3/4
[02:08:05] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[02:08:05] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[02:08:05] [INFO] [LastChance] Threat detected: @Area2D@12243
[02:08:05] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:08:05] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:08:05] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[02:08:05] [ENEMY] [Enemy3] Hit taken, health: 2/4
[02:08:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(348.8945, 764.2176), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:08:05] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[02:08:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(584.9244, 772.2169), source=ENEMY (Enemy3), range=1469, listeners=10
[02:08:05] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=1, below_threshold=4
[02:08:05] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(570.5537, 776.155), shooter_id=10970000788987, bullet_pos=(64.61835, 825.4726)
[02:08:05] [INFO] [Bullet] Using shooter_position, distance=508.333374023438
[02:08:05] [INFO] [Bullet] Distance to wall: 508.333374023438 (34.6133541799072% of viewport)
[02:08:05] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:08:05] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[02:08:05] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1017.852, 1441.773), shooter_id=10971997277668, bullet_pos=(158.2693, 62.69373)
[02:08:05] [INFO] [Bullet] Using shooter_position, distance=1625.03601074219
[02:08:05] [INFO] [Bullet] Distance to wall: 1625.03601074219 (110.651690149169% of viewport)
[02:08:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(580.8373, 782.0695), source=ENEMY (Enemy3), range=1469, listeners=10
[02:08:05] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=1, below_threshold=4
[02:08:05] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[02:08:05] [INFO] [LastChance] Threat detected: @Area2D@12250
[02:08:05] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:08:05] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:08:05] [ENEMY] [Enemy3] Hit taken, health: 1/4
[02:08:05] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[02:08:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(373.2848, 757.5757), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:08:05] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[02:08:05] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(533.5175, 773.3978), shooter_id=10970000788987, bullet_pos=(66.96225, 783.603)
[02:08:05] [INFO] [Bullet] Using shooter_position, distance=466.666809082031
[02:08:05] [INFO] [Bullet] Distance to wall: 466.666809082031 (31.7762011549899% of viewport)
[02:08:05] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:08:05] [INFO] [Bullet] Starting wall penetration at (66.96225, 783.603)
[02:08:05] [INFO] [Bullet] Raycast backward hit penetrating body at distance 3.36272001266479
[02:08:05] [INFO] [Bullet] Max penetration distance exceeded: 66.6666717529297 >= 48
[02:08:05] [INFO] [Bullet] Body exited signal received for penetrating body
[02:08:05] [INFO] [Bullet] Exiting penetration at (-4.687279, 785.1702) after traveling 66.6666717529297 pixels through wall
[02:08:05] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:08:05] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[02:08:05] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[02:08:05] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[02:08:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(576.7501, 791.9221), source=ENEMY (Enemy3), range=1469, listeners=10
[02:08:05] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=1, below_threshold=4
[02:08:05] [INFO] [LastChance] Threat detected: @Area2D@12254
[02:08:05] [INFO] [LastChance] Triggering last chance effect!
[02:08:05] [INFO] [LastChance] Starting last chance effect:
[02:08:05] [INFO] [LastChance]   - Time will be frozen (except player)
[02:08:05] [INFO] [LastChance]   - Duration: 6.0 real seconds
[02:08:05] [INFO] [LastChance]   - Sepia intensity: 0.70
[02:08:05] [INFO] [LastChance]   - Brightness: 0.60
[02:08:05] [INFO] [LastChance] Pushed bullet Bullet from distance 113.8 to 200.0
[02:08:05] [INFO] [LastChance] Pushed bullet @Area2D@12254 from distance 128.4 to 200.0
[02:08:05] [INFO] [LastChance] Pushed 2 threatening bullets away from player
[02:08:05] [INFO] [LastChance] Set player Player and all 18 children to PROCESS_MODE_ALWAYS
[02:08:05] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[02:08:05] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:08:05] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:08:05] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[02:08:05] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:08:05] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:08:05] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:08:05] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:08:05] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:08:05] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:08:05] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:08:05] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:08:05] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:08:05] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:08:05] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:08:05] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:08:05] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:08:05] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[02:08:05] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[02:08:05] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:08:05] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:08:05] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:08:05] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:08:05] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:08:05] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[02:08:05] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[02:08:05] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:08:05] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[02:08:05] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[02:08:05] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:08:05] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:08:05] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[02:08:05] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[02:08:05] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[02:08:05] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[02:08:05] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[02:08:05] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[02:08:05] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[02:08:05] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[02:08:05] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[02:08:05] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[02:08:05] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[02:08:05] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[02:08:05] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[02:08:05] [INFO] [LastChance] Skipping player node: Player
[02:08:05] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[02:08:05] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[02:08:05] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[02:08:05] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@12255
[02:08:05] [INFO] [LastChance] Registered frozen player bullet: @Area2D@12255
[02:08:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(407.4303, 756.9278), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:08:05] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[02:08:07] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@12257
[02:08:07] [INFO] [LastChance] Registered frozen player bullet: @Area2D@12257
[02:08:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(634.5353, 957.4924), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:08:07] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=6
[02:08:07] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@12259
[02:08:07] [INFO] [LastChance] Registered frozen player bullet: @Area2D@12259
[02:08:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(634.5353, 957.9368), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:08:07] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=6
[02:08:08] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@12261
[02:08:08] [INFO] [LastChance] Registered frozen player bullet: @Area2D@12261
[02:08:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(634.5353, 957.9368), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:08:08] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=6
[02:08:08] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@12263
[02:08:08] [INFO] [LastChance] Registered frozen player bullet: @Area2D@12263
[02:08:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(634.5353, 957.9368), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:08:08] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=6
[02:08:08] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@12265
[02:08:08] [INFO] [LastChance] Registered frozen player bullet: @Area2D@12265
[02:08:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(634.5353, 957.9368), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:08:08] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=6
[02:08:08] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@12267
[02:08:08] [INFO] [LastChance] Registered frozen player bullet: @Area2D@12267
[02:08:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(634.5353, 957.9368), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:08:08] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=6
[02:08:09] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[02:08:09] [ENEMY] [Enemy1] Player reloading state changed: false -> true
[02:08:09] [ENEMY] [Enemy2] Player reloading state changed: false -> true
[02:08:09] [ENEMY] [Enemy3] Player reloading state changed: false -> true
[02:08:09] [ENEMY] [Enemy4] Player reloading state changed: false -> true
[02:08:09] [ENEMY] [Enemy5] Player reloading state changed: false -> true
[02:08:09] [ENEMY] [Enemy6] Player reloading state changed: false -> true
[02:08:09] [ENEMY] [Enemy7] Player reloading state changed: false -> true
[02:08:09] [ENEMY] [Enemy8] Player reloading state changed: false -> true
[02:08:09] [ENEMY] [Enemy9] Player reloading state changed: false -> true
[02:08:09] [ENEMY] [Enemy10] Player reloading state changed: false -> true
[02:08:09] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(540.0662, 983.9337), source=PLAYER (Player), range=900, listeners=10
[02:08:09] [ENEMY] [Enemy2] Heard player RELOAD at (540.0662, 983.9337), intensity=0.01, distance=433
[02:08:09] [ENEMY] [Enemy2] Vulnerability sound triggered pursuit - transitioning from SUPPRESSED to PURSUING
[02:08:09] [ENEMY] [Enemy3] Heard player RELOAD at (540.0662, 983.9337), intensity=0.07, distance=193
[02:08:09] [ENEMY] [Enemy3] Vulnerability sound triggered pursuit - transitioning from RETREATING to PURSUING
[02:08:09] [ENEMY] [Enemy4] Heard player RELOAD at (540.0662, 983.9337), intensity=0.05, distance=220
[02:08:09] [ENEMY] [Enemy4] Vulnerability sound triggered pursuit - transitioning from SUPPRESSED to PURSUING
[02:08:09] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=5, self=0, below_threshold=2
[02:08:09] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[02:08:09] [INFO] [Player.Reload.Anim] Phase changed to: PullBolt (duration: 0,35s)
[02:08:09] [ENEMY] [Enemy1] Player reloading state changed: true -> false
[02:08:09] [ENEMY] [Enemy2] Player reloading state changed: true -> false
[02:08:09] [ENEMY] [Enemy3] Player reloading state changed: true -> false
[02:08:09] [ENEMY] [Enemy4] Player reloading state changed: true -> false
[02:08:09] [ENEMY] [Enemy5] Player reloading state changed: true -> false
[02:08:09] [ENEMY] [Enemy6] Player reloading state changed: true -> false
[02:08:09] [ENEMY] [Enemy7] Player reloading state changed: true -> false
[02:08:09] [ENEMY] [Enemy8] Player reloading state changed: true -> false
[02:08:09] [ENEMY] [Enemy9] Player reloading state changed: true -> false
[02:08:09] [ENEMY] [Enemy10] Player reloading state changed: true -> false
[02:08:09] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[02:08:09] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[02:08:11] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@12269
[02:08:11] [INFO] [LastChance] Registered frozen player bullet: @Area2D@12269
[02:08:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(540.0662, 989.9337), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:08:11] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=5
[02:08:11] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@12271
[02:08:11] [INFO] [LastChance] Registered frozen player bullet: @Area2D@12271
[02:08:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(540.0662, 989.9337), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:08:11] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=5
[02:08:11] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@12273
[02:08:11] [INFO] [LastChance] Registered frozen player bullet: @Area2D@12273
[02:08:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(540.0662, 989.9337), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:08:11] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=5
[02:08:11] [INFO] [LastChance] Effect duration expired after 6.00 real seconds
[02:08:11] [INFO] [LastChance] Ending last chance effect
[02:08:11] [INFO] [LastChance] All process modes restored
[02:08:11] [INFO] [LastChance] Unfroze player bullet: @Area2D@12255
[02:08:11] [INFO] [LastChance] Unfroze player bullet: @Area2D@12257
[02:08:11] [INFO] [LastChance] Unfroze player bullet: @Area2D@12259
[02:08:11] [INFO] [LastChance] Unfroze player bullet: @Area2D@12261
[02:08:11] [INFO] [LastChance] Unfroze player bullet: @Area2D@12263
[02:08:11] [INFO] [LastChance] Unfroze player bullet: @Area2D@12265
[02:08:11] [INFO] [LastChance] Unfroze player bullet: @Area2D@12267
[02:08:11] [INFO] [LastChance] Unfroze player bullet: @Area2D@12269
[02:08:11] [INFO] [LastChance] Unfroze player bullet: @Area2D@12271
[02:08:11] [INFO] [LastChance] Unfroze player bullet: @Area2D@12273
[02:08:11] [INFO] [LastChance] Restored original colors to 5 player sprites
[02:08:11] [INFO] [LastChance] Called player RefreshHealthVisual (C#)
[02:08:11] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[02:08:11] [ENEMY] [Enemy2] Pursuing vulnerability sound at (540.0662, 983.9337), distance=433
[02:08:11] [ENEMY] [Enemy3] Pursuing vulnerability sound at (540.0662, 983.9337), distance=193
[02:08:11] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[02:08:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(748.5132, 914.0671), source=ENEMY (Enemy4), range=1469, listeners=10
[02:08:11] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[02:08:11] [INFO] [LastChance] Threat detected: @Area2D@12275
[02:08:11] [INFO] [LastChance] Effect already used this life
[02:08:11] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:08:11] [ENEMY] [Enemy4] Pursuing vulnerability sound at (540.0662, 983.9337), distance=220
[02:08:11] [ENEMY] [Enemy4] Hit taken, health: 2/4
[02:08:11] [ENEMY] [Enemy4] Hit taken, health: 1/4
[02:08:11] [ENEMY] [Enemy4] Hit taken, health: 0/4
[02:08:11] [ENEMY] [Enemy4] Enemy died (ricochet: false, penetration: false)
[02:08:11] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[02:08:11] [INFO] [SoundPropagation] Unregistered listener: Enemy4 (remaining: 9)
[02:08:11] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[02:08:11] [ENEMY] [Enemy4] Death animation started with hit direction: (1, 0)
[02:08:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(516.9813, 776.0008), shooter_id=10970000788987, bullet_pos=(60.44501, 816.5492)
[02:08:11] [INFO] [Bullet] Using shooter_position, distance=458.333435058594
[02:08:11] [INFO] [Bullet] Distance to wall: 458.333435058594 (31.2087663940104% of viewport)
[02:08:11] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:08:11] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[02:08:11] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[02:08:11] [INFO] [PenultimateHit] Player died - ending penultimate effect
[02:08:11] [INFO] [LastChance] Player died
[02:08:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(634.53534, 957.4924), shooter_id=10972819361429, bullet_pos=(914.99475, 917.2393)
[02:08:11] [INFO] [Bullet] Using shooter_position, distance=283,33334
[02:08:11] [INFO] [Bullet] Distance to wall: 283,33334 (19,292688% of viewport)
[02:08:11] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:08:11] [INFO] [Bullet] Starting wall penetration at (914.99475, 917.2393)
[02:08:11] [INFO] [Bullet] Raycast backward hit penetrating body at distance 17,11285
[02:08:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(634.53534, 957.9368), shooter_id=10972819361429, bullet_pos=(915.1186, 811.13464)
[02:08:11] [INFO] [Bullet] Using shooter_position, distance=316,66678
[02:08:11] [INFO] [Bullet] Distance to wall: 316,66678 (21,562424% of viewport)
[02:08:11] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:08:11] [INFO] [Bullet] Starting wall penetration at (915.1186, 811.13464)
[02:08:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(634.53534, 957.9368), shooter_id=10972819361429, bullet_pos=(913.35095, 807.80493)
[02:08:11] [INFO] [Bullet] Using shooter_position, distance=316,6666
[02:08:11] [INFO] [Bullet] Distance to wall: 316,6666 (21,56241% of viewport)
[02:08:11] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:08:11] [INFO] [Bullet] Starting wall penetration at (913.35095, 807.80493)
[02:08:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(508.9847, 785.7209), shooter_id=10970000788987, bullet_pos=(301.357, 712.5667)
[02:08:11] [INFO] [Bullet] Using shooter_position, distance=220.138153076172
[02:08:11] [INFO] [Bullet] Distance to wall: 220.138153076172 (14.9896116413258% of viewport)
[02:08:11] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:08:11] [INFO] [Bullet] Body exited signal received for penetrating body
[02:08:11] [INFO] [Bullet] Exiting penetration at (952.9393, 911.79333) after traveling 33,333332 pixels through wall
[02:08:11] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[02:08:11] [INFO] [Bullet] Raycast backward hit penetrating body at distance 12,609489
[02:08:11] [INFO] [Bullet] Raycast backward hit penetrating body at distance 14,766523
[02:08:11] [INFO] [Bullet] Body exited signal received for penetrating body
[02:08:11] [INFO] [Bullet] Exiting penetration at (947.1023, 789.6311) after traveling 33,333336 pixels through wall
[02:08:11] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[02:08:11] [INFO] [Bullet] Body exited signal received for penetrating body
[02:08:11] [INFO] [Bullet] Exiting penetration at (949.0839, 793.3639) after traveling 33,333332 pixels through wall
[02:08:11] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[02:08:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(373.28482, 757.57574), shooter_id=10972819361429, bullet_pos=(939.19495, 819.7933)
[02:08:11] [INFO] [Bullet] Using shooter_position, distance=569,32007
[02:08:11] [INFO] [Bullet] Distance to wall: 569,32007 (38,766052% of viewport)
[02:08:11] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:08:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1017.852, 1441.773), shooter_id=10971997277668, bullet_pos=(295.1931, 229.2006)
[02:08:11] [INFO] [Bullet] Using shooter_position, distance=1411.58337402344
[02:08:11] [INFO] [Bullet] Distance to wall: 1411.58337402344 (96.1173076102001% of viewport)
[02:08:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(540.0662, 989.93365), shooter_id=10972819361429, bullet_pos=(524.5525, 573.5558)
[02:08:11] [INFO] [Bullet] Using shooter_position, distance=416,66678
[02:08:11] [INFO] [Bullet] Distance to wall: 416,66678 (28,371609% of viewport)
[02:08:11] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:08:11] [INFO] [Bullet] Starting wall penetration at (524.5525, 573.5558)
[02:08:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(540.0662, 989.93365), shooter_id=10972819361429, bullet_pos=(524.55273, 573.5558)
[02:08:11] [INFO] [Bullet] Using shooter_position, distance=416,66678
[02:08:11] [INFO] [Bullet] Distance to wall: 416,66678 (28,371609% of viewport)
[02:08:11] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:08:11] [INFO] [Bullet] Starting wall penetration at (524.55273, 573.5558)
[02:08:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(540.0662, 989.93365), shooter_id=10972819361429, bullet_pos=(524.55273, 573.5558)
[02:08:11] [INFO] [Bullet] Using shooter_position, distance=416,66678
[02:08:11] [INFO] [Bullet] Distance to wall: 416,66678 (28,371609% of viewport)
[02:08:11] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:08:11] [INFO] [Bullet] Starting wall penetration at (524.55273, 573.5558)
[02:08:11] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[02:08:11] [INFO] [Bullet] Exiting penetration at (523.1255, 535.249) after traveling 33,333336 pixels through wall
[02:08:11] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[02:08:11] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[02:08:11] [INFO] [Bullet] Exiting penetration at (523.1255, 535.249) after traveling 33,333336 pixels through wall
[02:08:11] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[02:08:11] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[02:08:11] [INFO] [Bullet] Exiting penetration at (523.12524, 535.249) after traveling 33,333336 pixels through wall
[02:08:11] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[02:08:12] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(407.43027, 756.9278), shooter_id=10972819361429, bullet_pos=(921.83936, 805.1752)
[02:08:12] [INFO] [Bullet] Using shooter_position, distance=516,66675
[02:08:12] [INFO] [Bullet] Distance to wall: 516,66675 (35,18079% of viewport)
[02:08:12] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:08:12] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(508.9847, 785.7209), shooter_id=10970000788987, bullet_pos=(50.08362, 779.3627)
[02:08:12] [INFO] [Bullet] Using shooter_position, distance=458.945098876953
[02:08:12] [INFO] [Bullet] Distance to wall: 458.945098876953 (31.2504157081531% of viewport)
[02:08:12] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:08:12] [ENEMY] [Enemy3] State: PURSUING -> COMBAT
[02:08:12] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[02:08:12] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1017.852, 1441.773), shooter_id=10971997277668, bullet_pos=(396.0334, 59.56325)
[02:08:12] [INFO] [Bullet] Using shooter_position, distance=1515.63928222656
[02:08:12] [INFO] [Bullet] Distance to wall: 1515.63928222656 (103.202665741694% of viewport)
[02:08:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(563.1325, 861.5804), source=ENEMY (Enemy3), range=1469, listeners=9
[02:08:12] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[02:08:12] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[02:08:12] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(558.274, 929.4553), shooter_id=10970000788987, bullet_pos=(556.7094, 996.1036)
[02:08:12] [INFO] [Bullet] Using shooter_position, distance=66.6666793823242
[02:08:12] [INFO] [Bullet] Distance to wall: 66.6666793823242 (4.5394567883562% of viewport)
[02:08:12] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[02:08:12] [INFO] [Bullet] Starting wall penetration at (556.7094, 996.1036)
[02:08:12] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[02:08:12] [INFO] [Bullet] Raycast backward hit penetrating body at distance 10.429141998291
[02:08:12] [INFO] [Bullet] Body exited signal received for penetrating body
[02:08:12] [INFO] [Bullet] Exiting penetration at (555.8098, 1034.426) after traveling 33.3333358764648 pixels through wall
[02:08:12] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:08:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(557.4703, 852.542), source=ENEMY (Enemy3), range=1469, listeners=9
[02:08:12] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=1, below_threshold=5
[02:08:12] [ENEMY] [Enemy10] FLANKING started: target=(731.2545, 925.222), side=left, pos=(1022.427, 1432.625)
[02:08:12] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[02:08:12] [ENEMY] [Enemy4] Ragdoll activated
[02:08:12] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[02:08:12] [INFO] [LastChance] Threat detected: Bullet
[02:08:12] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:08:12] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:08:12] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[02:08:12] [INFO] [LastChance] Resetting all effects (scene change detected)
[02:08:12] [ENEMY] [Enemy1] Death animation component initialized
[02:08:12] [ENEMY] [Enemy2] Death animation component initialized
[02:08:12] [ENEMY] [Enemy3] Death animation component initialized
[02:08:12] [ENEMY] [Enemy4] Death animation component initialized
[02:08:12] [ENEMY] [Enemy5] Death animation component initialized
[02:08:12] [ENEMY] [Enemy6] Death animation component initialized
[02:08:12] [ENEMY] [Enemy7] Death animation component initialized
[02:08:12] [ENEMY] [Enemy8] Death animation component initialized
[02:08:12] [ENEMY] [Enemy9] Death animation component initialized
[02:08:12] [ENEMY] [Enemy10] Death animation component initialized
[02:08:12] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[02:08:12] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[02:08:12] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[02:08:12] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[02:08:12] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[02:08:12] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[02:08:12] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[02:08:12] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[02:08:12] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[02:08:12] [ENEMY] [Enemy10] Grenade system configured: offensive=2, flashbangs=0
[02:08:12] [INFO] [ScoreManager] Level started with 10 enemies
[02:08:12] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[02:08:12] [ENEMY] [Enemy1] Registered as sound listener
[02:08:12] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[02:08:12] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[02:08:12] [ENEMY] [Enemy2] Registered as sound listener
[02:08:12] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[02:08:12] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[02:08:12] [ENEMY] [Enemy3] Registered as sound listener
[02:08:12] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[02:08:12] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[02:08:12] [ENEMY] [Enemy4] Registered as sound listener
[02:08:12] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[02:08:12] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[02:08:12] [ENEMY] [Enemy5] Registered as sound listener
[02:08:12] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[02:08:12] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[02:08:12] [ENEMY] [Enemy6] Registered as sound listener
[02:08:12] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[02:08:12] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[02:08:12] [ENEMY] [Enemy7] Registered as sound listener
[02:08:12] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[02:08:12] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[02:08:12] [ENEMY] [Enemy8] Registered as sound listener
[02:08:12] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[02:08:12] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[02:08:12] [ENEMY] [Enemy9] Registered as sound listener
[02:08:12] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[02:08:12] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[02:08:12] [ENEMY] [Enemy10] Registered as sound listener
[02:08:12] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[02:08:12] [INFO] [Player] Detecting weapon pose (frame 3)...
[02:08:12] [INFO] [Player] Detected weapon: Rifle (default pose)
[02:08:12] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[02:08:12] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[02:08:12] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[02:08:12] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[02:08:12] [INFO] [LastChance] Found player: Player
[02:08:12] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[02:08:12] [INFO] [LastChance] Connected to player Damaged signal (C#)
[02:08:12] [INFO] [LastChance] Connected to player Died signal (C#)
[02:08:12] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[02:08:12] [INFO] [LastChance] Resetting all effects (scene change detected)
[02:08:12] [ENEMY] [Enemy1] Death animation component initialized
[02:08:12] [ENEMY] [Enemy2] Death animation component initialized
[02:08:12] [ENEMY] [Enemy3] Death animation component initialized
[02:08:12] [ENEMY] [Enemy4] Death animation component initialized
[02:08:12] [ENEMY] [Enemy5] Death animation component initialized
[02:08:12] [ENEMY] [Enemy6] Death animation component initialized
[02:08:12] [ENEMY] [Enemy7] Death animation component initialized
[02:08:12] [ENEMY] [Enemy8] Death animation component initialized
[02:08:12] [ENEMY] [Enemy9] Death animation component initialized
[02:08:12] [ENEMY] [Enemy10] Death animation component initialized
[02:08:12] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[02:08:12] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[02:08:12] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[02:08:12] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[02:08:12] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[02:08:12] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[02:08:12] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[02:08:12] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[02:08:12] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[02:08:12] [ENEMY] [Enemy10] Grenade system configured: offensive=2, flashbangs=0
[02:08:12] [INFO] [ScoreManager] Level started with 10 enemies
[02:08:12] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 20)
[02:08:12] [ENEMY] [Enemy1] Registered as sound listener
[02:08:12] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[02:08:12] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 21)
[02:08:12] [ENEMY] [Enemy2] Registered as sound listener
[02:08:12] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[02:08:12] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 22)
[02:08:12] [ENEMY] [Enemy3] Registered as sound listener
[02:08:12] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[02:08:12] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 23)
[02:08:12] [ENEMY] [Enemy4] Registered as sound listener
[02:08:12] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[02:08:12] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 24)
[02:08:12] [ENEMY] [Enemy5] Registered as sound listener
[02:08:12] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[02:08:12] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 25)
[02:08:12] [ENEMY] [Enemy6] Registered as sound listener
[02:08:12] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[02:08:12] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 26)
[02:08:12] [ENEMY] [Enemy7] Registered as sound listener
[02:08:12] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[02:08:12] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 27)
[02:08:12] [ENEMY] [Enemy8] Registered as sound listener
[02:08:12] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[02:08:12] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 28)
[02:08:12] [ENEMY] [Enemy9] Registered as sound listener
[02:08:12] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[02:08:12] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 29)
[02:08:12] [ENEMY] [Enemy10] Registered as sound listener
[02:08:12] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[02:08:12] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[02:08:12] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[02:08:12] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[02:08:12] [INFO] [LastChance] Found player: Player
[02:08:12] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[02:08:12] [INFO] [LastChance] Connected to player Damaged signal (C#)
[02:08:12] [INFO] [LastChance] Connected to player Died signal (C#)
[02:08:12] [INFO] [Player] Detecting weapon pose (frame 3)...
[02:08:12] [INFO] [Player] Detected weapon: Rifle (default pose)
[02:08:12] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[02:08:13] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[02:08:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(462.5202, 1162.137), source=PLAYER (AssaultRifle), range=1469, listeners=29
[02:08:13] [INFO] [SoundPropagation] Cleaned up 19 invalid listeners
[02:08:13] [ENEMY] [Enemy3] Heard gunshot at (462.5202, 1162.137), source_type=0, intensity=0.01, distance=476
[02:08:13] [ENEMY] [Enemy4] Heard gunshot at (462.5202, 1162.137), source_type=0, intensity=0.01, distance=427
[02:08:13] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=5
[02:08:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(435.2965, 1134.914), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:08:13] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=4, self=0, below_threshold=4
[02:08:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1110.679, 1502.161), source=ENEMY (Enemy10), range=1469, listeners=10
[02:08:14] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:08:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(408.0728, 1107.691), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:08:14] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=4, self=0, below_threshold=4
[02:08:14] [ENEMY] [Enemy10] Hit taken, health: 2/3
[02:08:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1079.17, 1484.205), source=ENEMY (Enemy10), range=1469, listeners=10
[02:08:14] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:08:14] [ENEMY] [Enemy10] Hit taken, health: 1/3
[02:08:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1049.802, 1466.811), source=ENEMY (Enemy10), range=1469, listeners=10
[02:08:14] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:08:14] [ENEMY] [Enemy10] State: COMBAT -> RETREATING
[02:08:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(408.07285, 1107.6909), shooter_id=11238620792319, bullet_pos=(987.4565, 1402.3333)
[02:08:14] [INFO] [Bullet] Using shooter_position, distance=649,99963
[02:08:14] [INFO] [Bullet] Distance to wall: 649,99963 (44,25967% of viewport)
[02:08:14] [INFO] [Bullet] Distance-based penetration chance: 95,03039%
[02:08:14] [INFO] [Bullet] Starting wall penetration at (987.4565, 1402.3333)
[02:08:14] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[02:08:14] [INFO] [Bullet] Exiting penetration at (1021.62524, 1419.7096) after traveling 33,333332 pixels through wall
[02:08:14] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[02:08:14] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[02:08:14] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[02:08:14] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:08:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1042.079, 1452.68), source=ENEMY (Enemy10), range=1469, listeners=10
[02:08:14] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:08:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1043.783, 1451.395), source=ENEMY (Enemy10), range=1469, listeners=10
[02:08:14] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:08:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1054.082, 1454.152), source=ENEMY (Enemy10), range=1469, listeners=10
[02:08:14] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:08:14] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:08:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1060.408, 1455.123), source=ENEMY (Enemy10), range=1469, listeners=10
[02:08:14] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:08:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1047.928, 1475.8), shooter_id=11237798710093, bullet_pos=(52.97182, 915.9216)
[02:08:14] [INFO] [Bullet] Using shooter_position, distance=1141.66625976563
[02:08:14] [INFO] [Bullet] Distance to wall: 1141.66625976563 (77.7381549665781% of viewport)
[02:08:14] [ENEMY] [Enemy10] State: RETREATING -> IN_COVER
[02:08:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1016.775, 1457.013), shooter_id=11237798710093, bullet_pos=(65.37984, 904.8829)
[02:08:14] [INFO] [Bullet] Using shooter_position, distance=1099.99951171875
[02:08:14] [INFO] [Bullet] Distance to wall: 1099.99951171875 (74.9009894736728% of viewport)
[02:08:14] [ENEMY] [Enemy10] State: IN_COVER -> SUPPRESSED
[02:08:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1047.928, 1475.8), shooter_id=11237798710093, bullet_pos=(321.3883, 699.1783)
[02:08:14] [INFO] [Bullet] Using shooter_position, distance=1063.48547363281
[02:08:14] [INFO] [Bullet] Distance to wall: 1063.48547363281 (72.4146814770058% of viewport)
[02:08:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(988.0308, 1438.198), shooter_id=11237798710093, bullet_pos=(49.45981, 864.5403)
[02:08:14] [INFO] [Bullet] Using shooter_position, distance=1099.99926757813
[02:08:14] [INFO] [Bullet] Distance to wall: 1099.99926757813 (74.9009728496887% of viewport)
[02:08:14] [INFO] [Bullet] Distance-based penetration chance: 59.2821983420299%
[02:08:14] [INFO] [Bullet] Starting wall penetration at (49.45981, 864.5403)
[02:08:14] [INFO] [Bullet] Raycast backward hit penetrating body at distance 17.8705539703369
[02:08:14] [INFO] [Bullet] Body exited signal received for penetrating body
[02:08:14] [INFO] [Bullet] Exiting penetration at (16.75202, 844.5491) after traveling 33.3333358764648 pixels through wall
[02:08:14] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:08:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(982.8351, 1421.13), shooter_id=11237798710093, bullet_pos=(43.21888, 1078.898)
[02:08:14] [INFO] [Bullet] Using shooter_position, distance=1000.00054931641
[02:08:14] [INFO] [Bullet] Distance to wall: 1000.00054931641 (68.0918762418196% of viewport)
[02:08:14] [INFO] [Bullet] Distance-based penetration chance: 67.2261443845438%
[02:08:14] [INFO] [Bullet] Penetration failed (distance roll)
[02:08:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1016.775, 1457.013), shooter_id=11237798710093, bullet_pos=(415.1664, 707.436)
[02:08:14] [INFO] [Bullet] Using shooter_position, distance=961.143798828125
[02:08:14] [INFO] [Bullet] Distance to wall: 961.143798828125 (65.4460486498088% of viewport)
[02:08:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1047.928, 1475.8), shooter_id=11237798710093, bullet_pos=(514.0252, 851.9037)
[02:08:14] [INFO] [Bullet] Using shooter_position, distance=821.157043457031
[02:08:14] [INFO] [Bullet] Distance to wall: 821.157043457031 (55.914093063646% of viewport)
[02:08:14] [INFO] [Bullet] Distance-based penetration chance: 81.433558092413%
[02:08:14] [INFO] [Bullet] Starting wall penetration at (514.0252, 851.9037)
[02:08:14] [INFO] [Bullet] Raycast backward hit penetrating body at distance 16.3540115356445
[02:08:15] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(981.0671, 1422.544), shooter_id=11237798710093, bullet_pos=(57.15377, 825.5635)
[02:08:15] [INFO] [Bullet] Using shooter_position, distance=1100.00061035156
[02:08:15] [INFO] [Bullet] Distance to wall: 1100.00061035156 (74.9010642816012% of viewport)
[02:08:15] [INFO] [Bullet] Body exited signal received for penetrating body
[02:08:15] [INFO] [Bullet] Exiting penetration at (536.8151, 869.9719) after traveling 24.0833339691162 pixels through wall
[02:08:15] [INFO] [Bullet] Damage multiplier after penetration: 0.225
[02:08:15] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(993.707, 1422.761), shooter_id=11237798710093, bullet_pos=(54.88619, 916.409)
[02:08:15] [INFO] [Bullet] Using shooter_position, distance=1066.66625976563
[02:08:15] [INFO] [Bullet] Distance to wall: 1066.66625976563 (72.631267053739% of viewport)
[02:08:15] [INFO] [Bullet] Distance-based penetration chance: 61.9301884373046%
[02:08:15] [INFO] [Bullet] Starting wall penetration at (54.88619, 916.409)
[02:08:15] [INFO] [Bullet] Raycast backward hit penetrating body at distance 12.3305740356445
[02:08:15] [INFO] [Bullet] Body exited signal received for penetrating body
[02:08:15] [INFO] [Bullet] Exiting penetration at (21.14731, 898.2119) after traveling 33.3333358764648 pixels through wall
[02:08:15] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:08:15] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1000.206, 1423.4), shooter_id=11237798710093, bullet_pos=(64.72751, 783.6142)
[02:08:15] [INFO] [Bullet] Using shooter_position, distance=1133.33447265625
[02:08:15] [INFO] [Bullet] Distance to wall: 1133.33447265625 (77.1708282614952% of viewport)
[02:08:15] [INFO] [Bullet] Distance-based penetration chance: 56.6340336949222%
[02:08:15] [INFO] [Bullet] Starting wall penetration at (64.72751, 783.6142)
[02:08:15] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(981.0671, 1422.544), shooter_id=11237798710093, bullet_pos=(291.4117, 712.7664)
[02:08:15] [INFO] [Bullet] Using shooter_position, distance=989.650756835938
[02:08:15] [INFO] [Bullet] Distance to wall: 989.650756835938 (67.3871398402343% of viewport)
[02:08:15] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[02:08:15] [INFO] [Bullet] Exiting penetration at (33.08633, 761.9744) after traveling 33.3333320617676 pixels through wall
[02:08:15] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:08:15] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1016.775, 1457.013), shooter_id=11237798710093, bullet_pos=(691.8174, 806.9358)
[02:08:15] [INFO] [Bullet] Using shooter_position, distance=726.771606445313
[02:08:15] [INFO] [Bullet] Distance to wall: 726.771606445313 (49.4872150980035% of viewport)
[02:08:15] [ENEMY] [Enemy3] State: PURSUING -> RETREATING
[02:08:15] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[02:08:15] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[02:08:15] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1016.775, 1457.013), shooter_id=11237798710093, bullet_pos=(918.1588, 765.0767)
[02:08:15] [INFO] [Bullet] Using shooter_position, distance=698.928039550781
[02:08:15] [INFO] [Bullet] Distance to wall: 698.928039550781 (47.59129542835% of viewport)
[02:08:15] [INFO] [Bullet] Distance-based penetration chance: 91.143488666925%
[02:08:15] [INFO] [Bullet] Starting wall penetration at (918.1588, 765.0767)
[02:08:15] [INFO] [Bullet] Raycast backward hit penetrating body at distance 7.32707023620605
[02:08:15] [INFO] [Bullet] Body exited signal received for penetrating body
[02:08:15] [INFO] [Bullet] Exiting penetration at (943.2049, 760.4447) after traveling 20.4708347320557 pixels through wall
[02:08:15] [INFO] [Bullet] Damage multiplier after penetration: 0.1125
[02:08:15] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(981.0671, 1422.544), shooter_id=11237798710093, bullet_pos=(689.1959, 828.9934)
[02:08:15] [INFO] [Bullet] Using shooter_position, distance=661.430969238281
[02:08:15] [INFO] [Bullet] Distance to wall: 661.430969238281 (45.0380509597395% of viewport)
[02:08:15] [INFO] [Bullet] Distance-based penetration chance: 94.1222738803039%
[02:08:15] [INFO] [Bullet] Starting wall penetration at (689.1959, 828.9934)
[02:08:15] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[02:08:15] [INFO] [Bullet] Exiting penetration at (717.112, 837.1501) after traveling 24.0833358764648 pixels through wall
[02:08:15] [INFO] [Bullet] Damage multiplier after penetration: 0.225
[02:08:15] [ENEMY] [Enemy4] State: PURSUING -> RETREATING
[02:08:15] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[02:08:15] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[02:08:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(366.3571, 745.7342), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:08:15] [ENEMY] [Enemy1] Heard gunshot at (366.3571, 745.7342), source_type=0, intensity=0.02, distance=401
[02:08:15] [ENEMY] [Enemy2] Heard gunshot at (366.3571, 745.7342), source_type=0, intensity=0.06, distance=199
[02:08:15] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[02:08:15] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(366.35706, 745.7342), shooter_id=11238620792319, bullet_pos=(513.4496, 804.3279)
[02:08:15] [INFO] [Bullet] Using shooter_position, distance=158,3333
[02:08:15] [INFO] [Bullet] Distance to wall: 158,3333 (10,781205% of viewport)
[02:08:15] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:08:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(362.0995, 734.5745), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:08:15] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[02:08:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(349.5404, 743.3787), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:08:15] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[02:08:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(362.09946, 734.5745), shooter_id=11238620792319, bullet_pos=(696.73047, 862.7341)
[02:08:16] [INFO] [Bullet] Using shooter_position, distance=358,33334
[02:08:16] [INFO] [Bullet] Distance to wall: 358,33334 (24,399576% of viewport)
[02:08:16] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:08:16] [INFO] [Bullet] Starting wall penetration at (696.73047, 862.7341)
[02:08:16] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[02:08:16] [INFO] [Bullet] Exiting penetration at (732.5282, 876.44415) after traveling 33,333332 pixels through wall
[02:08:16] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[02:08:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(366.35706, 745.7342), shooter_id=11238620792319, bullet_pos=(909.45135, 636.7494)
[02:08:16] [INFO] [Bullet] Using shooter_position, distance=553,9216
[02:08:16] [INFO] [Bullet] Distance to wall: 553,9216 (37,71754% of viewport)
[02:08:16] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:08:16] [INFO] [Bullet] Starting wall penetration at (909.45135, 636.7494)
[02:08:16] [INFO] [Bullet] Raycast backward hit penetrating body at distance 4,5054026
[02:08:16] [INFO] [Bullet] Body exited signal received for penetrating body
[02:08:16] [INFO] [Bullet] Exiting penetration at (940.1492, 623.7588) after traveling 28,333334 pixels through wall
[02:08:16] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[02:08:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(349.54037, 743.3787), shooter_id=11238620792319, bullet_pos=(694.686, 839.69763)
[02:08:16] [INFO] [Bullet] Using shooter_position, distance=358,33337
[02:08:16] [INFO] [Bullet] Distance to wall: 358,33337 (24,399578% of viewport)
[02:08:16] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:08:16] [ENEMY] [Enemy3] Hit taken, health: 1/2
[02:08:16] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[02:08:16] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[02:08:16] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[02:08:16] [INFO] [Player.Grenade] G pressed - starting grab animation
[02:08:16] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (635.3232, 789.4137)
[02:08:16] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[02:08:16] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[02:08:16] [INFO] [Player.Grenade] Timer started, grenade created at (396.32797, 876.9355)
[02:08:16] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[02:08:16] [INFO] [Player.Grenade] Step 1 complete! Drag: (100.20874, 2.9052124)
[02:08:16] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[02:08:16] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[02:08:16] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[02:08:16] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[02:08:17] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[02:08:17] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[02:08:17] [ENEMY] [Enemy10] State: SUPPRESSED -> IN_COVER
[02:08:17] [ENEMY] [Enemy10] State: IN_COVER -> PURSUING
[02:08:17] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[02:08:17] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (3365.3445, -1353.8112) (3627,4 px/s), Swing distance: 343,3
[02:08:17] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,38247043
[02:08:17] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (3365.344, -1353.811), Swing: 343.3, Transfer: 1.00, Final speed: 1352.8
[02:08:17] [INFO] [Player.Grenade] Thrown! Velocity: 3627,4, Swing: 343,3
[02:08:17] [INFO] [Player.Grenade] State reset to IDLE
[02:08:17] [INFO] [Player.Grenade] Player rotation restored to 0
[02:08:17] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[02:08:18] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[02:08:18] [INFO] [GrenadeBase] Collision detected with Room2_WallRight (type: StaticBody2D)
[02:08:19] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[02:08:19] [INFO] [LastChance] Resetting all effects (scene change detected)
[02:08:19] [ENEMY] [Enemy1] Death animation component initialized
[02:08:19] [ENEMY] [Enemy2] Death animation component initialized
[02:08:19] [ENEMY] [Enemy3] Death animation component initialized
[02:08:19] [ENEMY] [Enemy4] Death animation component initialized
[02:08:19] [ENEMY] [Enemy5] Death animation component initialized
[02:08:19] [ENEMY] [Enemy6] Death animation component initialized
[02:08:19] [ENEMY] [Enemy7] Death animation component initialized
[02:08:19] [ENEMY] [Enemy8] Death animation component initialized
[02:08:19] [ENEMY] [Enemy9] Death animation component initialized
[02:08:19] [ENEMY] [Enemy10] Death animation component initialized
[02:08:19] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[02:08:19] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[02:08:19] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[02:08:19] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[02:08:19] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[02:08:19] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[02:08:19] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[02:08:19] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[02:08:19] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[02:08:19] [ENEMY] [Enemy10] Grenade system configured: offensive=2, flashbangs=0
[02:08:19] [INFO] [ScoreManager] Level started with 10 enemies
[02:08:19] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[02:08:19] [ENEMY] [Enemy1] Registered as sound listener
[02:08:19] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[02:08:19] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[02:08:19] [ENEMY] [Enemy2] Registered as sound listener
[02:08:19] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[02:08:19] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[02:08:19] [ENEMY] [Enemy3] Registered as sound listener
[02:08:19] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[02:08:19] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[02:08:19] [ENEMY] [Enemy4] Registered as sound listener
[02:08:19] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[02:08:19] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[02:08:19] [ENEMY] [Enemy5] Registered as sound listener
[02:08:19] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[02:08:19] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[02:08:19] [ENEMY] [Enemy6] Registered as sound listener
[02:08:19] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[02:08:19] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[02:08:19] [ENEMY] [Enemy7] Registered as sound listener
[02:08:19] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[02:08:19] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[02:08:19] [ENEMY] [Enemy8] Registered as sound listener
[02:08:19] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[02:08:19] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[02:08:19] [ENEMY] [Enemy9] Registered as sound listener
[02:08:19] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[02:08:19] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[02:08:19] [ENEMY] [Enemy10] Registered as sound listener
[02:08:19] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[02:08:19] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[02:08:19] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[02:08:19] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[02:08:19] [INFO] [LastChance] Found player: Player
[02:08:19] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[02:08:19] [INFO] [LastChance] Connected to player Damaged signal (C#)
[02:08:19] [INFO] [LastChance] Connected to player Died signal (C#)
[02:08:19] [INFO] [Player] Detecting weapon pose (frame 3)...
[02:08:19] [INFO] [Player] Detected weapon: Rifle (default pose)
[02:08:19] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[02:08:19] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[02:08:19] [INFO] [Player.Grenade] G pressed - starting grab animation
[02:08:19] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (702.84, 1088.3673)
[02:08:19] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[02:08:19] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[02:08:19] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1250)
[02:08:19] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[02:08:19] [INFO] [Player.Grenade] Step 1 complete! Drag: (218.3175, 34.06311)
[02:08:19] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[02:08:19] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[02:08:19] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[02:08:19] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[02:08:19] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[02:08:19] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[02:08:20] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:08:20] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:08:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1171.731, 1535.008), source=ENEMY (Enemy10), range=1469, listeners=20
[02:08:20] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[02:08:20] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=8
[02:08:20] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:08:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1139.423, 1516.307), source=ENEMY (Enemy10), range=1469, listeners=10
[02:08:20] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:08:20] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:08:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1107.906, 1496.302), source=ENEMY (Enemy10), range=1469, listeners=10
[02:08:20] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:08:20] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:08:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1077.226, 1475.035), source=ENEMY (Enemy10), range=1469, listeners=10
[02:08:20] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:08:20] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:08:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1047.428, 1452.549), source=ENEMY (Enemy10), range=1469, listeners=10
[02:08:20] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:08:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1108.874, 1508.939), shooter_id=11663319238384, bullet_pos=(53.14801, 921.1365)
[02:08:20] [INFO] [Bullet] Using shooter_position, distance=1208.33337402344
[02:08:20] [INFO] [Bullet] Distance to wall: 1208.33337402344 (82.277641366406% of viewport)
[02:08:20] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[02:08:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1077.684, 1487.691), shooter_id=11663319238384, bullet_pos=(46.85162, 857.2495)
[02:08:20] [INFO] [Bullet] Using shooter_position, distance=1208.33435058594
[02:08:20] [INFO] [Bullet] Distance to wall: 1208.33435058594 (82.2777078623423% of viewport)
[02:08:20] [INFO] [Bullet] Distance-based penetration chance: 50.676007493934%
[02:08:20] [INFO] [Bullet] Starting wall penetration at (46.85162, 857.2495)
[02:08:20] [INFO] [Bullet] Raycast backward hit penetrating body at distance 29.2577056884766
[02:08:20] [INFO] [Bullet] Body exited signal received for penetrating body
[02:08:20] [INFO] [Bullet] Exiting penetration at (7.040176, 832.9015) after traveling 41.6666679382324 pixels through wall
[02:08:20] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:08:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1047.382, 1465.197), shooter_id=11663319238384, bullet_pos=(43.06916, 793.3154)
[02:08:20] [INFO] [Bullet] Using shooter_position, distance=1208.33349609375
[02:08:20] [INFO] [Bullet] Distance to wall: 1208.33349609375 (82.277649678398% of viewport)
[02:08:20] [INFO] [Bullet] Distance-based penetration chance: 50.6760753752023%
[02:08:20] [INFO] [Bullet] Starting wall penetration at (43.06916, 793.3154)
[02:08:20] [INFO] [Bullet] Raycast backward hit penetrating body at distance 33.3488731384277
[02:08:20] [INFO] [Bullet] Body exited signal received for penetrating body
[02:08:20] [INFO] [Bullet] Exiting penetration at (4.281879, 767.3669) after traveling 41.6666679382324 pixels through wall
[02:08:20] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:08:21] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1018.01, 1441.508), shooter_id=11663319238384, bullet_pos=(41.67921, 729.5751)
[02:08:21] [INFO] [Bullet] Using shooter_position, distance=1208.33349609375
[02:08:21] [INFO] [Bullet] Distance to wall: 1208.33349609375 (82.277649678398% of viewport)
[02:08:21] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1018.01, 1441.508), shooter_id=11663319238384, bullet_pos=(104.7459, 687.4647)
[02:08:21] [INFO] [Bullet] Using shooter_position, distance=1184.32775878906
[02:08:21] [INFO] [Bullet] Distance to wall: 1184.32775878906 (80.6430548826633% of viewport)
[02:08:21] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[02:08:21] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (1502.2312, -1569.1615) (2172,3 px/s), Swing distance: 571,6
[02:08:21] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,80718625
[02:08:21] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (1502.231, -1569.161), Swing: 571.6, Transfer: 1.00, Final speed: 1144.9
[02:08:21] [INFO] [Player.Grenade] Thrown! Velocity: 2172,3, Swing: 571,6
[02:08:21] [INFO] [Player.Grenade] State reset to IDLE
[02:08:21] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1018.01, 1441.508), shooter_id=11663319238384, bullet_pos=(54.78827, 645.5558)
[02:08:21] [INFO] [Bullet] Using shooter_position, distance=1249.53405761719
[02:08:21] [INFO] [Bullet] Distance to wall: 1249.53405761719 (85.0830716736811% of viewport)
[02:08:21] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(989.6003, 1416.68), shooter_id=11663319238384, bullet_pos=(42.53408, 666.2555)
[02:08:21] [INFO] [Bullet] Using shooter_position, distance=1208.33422851563
[02:08:21] [INFO] [Bullet] Distance to wall: 1208.33422851563 (82.2776995503503% of viewport)
[02:08:21] [INFO] [Bullet] Distance-based penetration chance: 50.676017191258%
[02:08:21] [INFO] [Bullet] Starting wall penetration at (42.53408, 666.2555)
[02:08:21] [INFO] [Bullet] Raycast backward hit penetrating body at distance 33.2265319824219
[02:08:21] [INFO] [Bullet] Body exited signal received for penetrating body
[02:08:21] [INFO] [Bullet] Exiting penetration at (5.957748, 637.2736) after traveling 41.6666717529297 pixels through wall
[02:08:21] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:08:21] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[02:08:21] [INFO] [Player.Grenade] Player rotation restored to 0
[02:08:21] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[02:08:21] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1018.01, 1441.508), shooter_id=11663319238384, bullet_pos=(340.6011, 465.7805)
[02:08:21] [INFO] [Bullet] Using shooter_position, distance=1187.82434082031
[02:08:21] [INFO] [Bullet] Distance to wall: 1187.82434082031 (80.8811435828186% of viewport)
[02:08:21] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1018.01, 1441.508), shooter_id=11663319238384, bullet_pos=(501.541, 585.7802)
[02:08:21] [INFO] [Bullet] Using shooter_position, distance=999.504943847656
[02:08:21] [INFO] [Bullet] Distance to wall: 999.504943847656 (68.0581295541143% of viewport)
[02:08:21] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[02:08:21] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1018.01, 1441.508), shooter_id=11663319238384, bullet_pos=(368.5813, 693.9282)
[02:08:21] [INFO] [Bullet] Using shooter_position, distance=990.269104003906
[02:08:21] [INFO] [Bullet] Distance to wall: 990.269104003906 (67.4292442359415% of viewport)
[02:08:21] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(570.6854, 782.2738), source=ENEMY (Enemy3), range=1469, listeners=10
[02:08:21] [ENEMY] [Enemy2] Heard gunshot at (570.6854, 782.2738), source_type=1, intensity=0.03, distance=288
[02:08:21] [ENEMY] [Enemy4] Heard gunshot at (570.6854, 782.2738), source_type=1, intensity=0.04, distance=258
[02:08:21] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=5
[02:08:21] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(509.9557, 812.9738), shooter_id=11661322749986, bullet_pos=(509.9557, 812.9738)
[02:08:21] [INFO] [Bullet] Using shooter_position, distance=0
[02:08:21] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[02:08:21] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[02:08:21] [INFO] [Bullet] Starting wall penetration at (509.9557, 812.9738)
[02:08:21] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[02:08:21] [INFO] [Bullet] Raycast backward hit penetrating body at distance 36.0561103820801
[02:08:21] [INFO] [LastChance] Threat detected: Bullet
[02:08:21] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:08:21] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:08:21] [INFO] [Bullet] Body exited signal received for penetrating body
[02:08:21] [INFO] [Bullet] Exiting penetration at (466.1693, 829.1149) after traveling 41.6666679382324 pixels through wall
[02:08:21] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:08:21] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[02:08:21] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:08:21] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[02:08:21] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[02:08:21] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:08:21] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:08:22] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[02:08:22] [INFO] [LastChance] Resetting all effects (scene change detected)
[02:08:22] [ENEMY] [Enemy1] Death animation component initialized
[02:08:22] [ENEMY] [Enemy2] Death animation component initialized
[02:08:22] [ENEMY] [Enemy3] Death animation component initialized
[02:08:22] [ENEMY] [Enemy4] Death animation component initialized
[02:08:22] [ENEMY] [Enemy5] Death animation component initialized
[02:08:22] [ENEMY] [Enemy6] Death animation component initialized
[02:08:22] [ENEMY] [Enemy7] Death animation component initialized
[02:08:22] [ENEMY] [Enemy8] Death animation component initialized
[02:08:22] [ENEMY] [Enemy9] Death animation component initialized
[02:08:22] [ENEMY] [Enemy10] Death animation component initialized
[02:08:22] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[02:08:22] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[02:08:22] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[02:08:22] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[02:08:22] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[02:08:22] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[02:08:22] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[02:08:22] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[02:08:22] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[02:08:22] [ENEMY] [Enemy10] Grenade system configured: offensive=2, flashbangs=0
[02:08:22] [INFO] [ScoreManager] Level started with 10 enemies
[02:08:22] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[02:08:22] [ENEMY] [Enemy1] Registered as sound listener
[02:08:22] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[02:08:22] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[02:08:22] [ENEMY] [Enemy2] Registered as sound listener
[02:08:22] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[02:08:22] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[02:08:22] [ENEMY] [Enemy3] Registered as sound listener
[02:08:22] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[02:08:22] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[02:08:22] [ENEMY] [Enemy4] Registered as sound listener
[02:08:22] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[02:08:22] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[02:08:22] [ENEMY] [Enemy5] Registered as sound listener
[02:08:22] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[02:08:22] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[02:08:22] [ENEMY] [Enemy6] Registered as sound listener
[02:08:22] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[02:08:22] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[02:08:22] [ENEMY] [Enemy7] Registered as sound listener
[02:08:22] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[02:08:22] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[02:08:22] [ENEMY] [Enemy8] Registered as sound listener
[02:08:22] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[02:08:22] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[02:08:22] [ENEMY] [Enemy9] Registered as sound listener
[02:08:22] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[02:08:22] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[02:08:22] [ENEMY] [Enemy10] Registered as sound listener
[02:08:22] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[02:08:22] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[02:08:22] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[02:08:22] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[02:08:22] [INFO] [LastChance] Found player: Player
[02:08:22] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[02:08:22] [INFO] [LastChance] Connected to player Damaged signal (C#)
[02:08:22] [INFO] [LastChance] Connected to player Died signal (C#)
[02:08:22] [INFO] [Player] Detecting weapon pose (frame 3)...
[02:08:22] [INFO] [Player] Detected weapon: Rifle (default pose)
[02:08:22] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[02:08:22] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[02:08:22] [INFO] [Player.Grenade] G pressed - starting grab animation
[02:08:22] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:08:22] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (912.4581, 1040.7776)
[02:08:22] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:08:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1171.731, 1535.008), source=ENEMY (Enemy10), range=1469, listeners=20
[02:08:22] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[02:08:22] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=8
[02:08:22] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[02:08:22] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[02:08:22] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1116.6666)
[02:08:22] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[02:08:22] [INFO] [Player.Grenade] Step 1 complete! Drag: (161.94177, -30.462036)
[02:08:22] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:08:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1139.423, 1516.307), source=ENEMY (Enemy10), range=1469, listeners=10
[02:08:22] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:08:22] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[02:08:22] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[02:08:22] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:08:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1107.906, 1496.302), source=ENEMY (Enemy10), range=1469, listeners=10
[02:08:22] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:08:23] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[02:08:23] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[02:08:23] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:08:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1077.226, 1475.035), source=ENEMY (Enemy10), range=1469, listeners=10
[02:08:23] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:08:23] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:08:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1047.428, 1452.549), source=ENEMY (Enemy10), range=1469, listeners=10
[02:08:23] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:08:23] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[02:08:23] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[02:08:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1108.874, 1508.939), shooter_id=11850687186450, bullet_pos=(53.14801, 921.1365)
[02:08:23] [INFO] [Bullet] Using shooter_position, distance=1208.33337402344
[02:08:23] [INFO] [Bullet] Distance to wall: 1208.33337402344 (82.277641366406% of viewport)
[02:08:23] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[02:08:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1077.684, 1487.691), shooter_id=11850687186450, bullet_pos=(46.85162, 857.2495)
[02:08:23] [INFO] [Bullet] Using shooter_position, distance=1208.33435058594
[02:08:23] [INFO] [Bullet] Distance to wall: 1208.33435058594 (82.2777078623423% of viewport)
[02:08:23] [INFO] [Bullet] Distance-based penetration chance: 50.676007493934%
[02:08:23] [INFO] [Bullet] Penetration failed (distance roll)
[02:08:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1047.382, 1465.197), shooter_id=11850687186450, bullet_pos=(43.06916, 793.3154)
[02:08:23] [INFO] [Bullet] Using shooter_position, distance=1208.33349609375
[02:08:23] [INFO] [Bullet] Distance to wall: 1208.33349609375 (82.277649678398% of viewport)
[02:08:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1047.382, 1465.197), shooter_id=11850687186450, bullet_pos=(202.945, 706.1715)
[02:08:23] [INFO] [Bullet] Using shooter_position, distance=1135.42687988281
[02:08:23] [INFO] [Bullet] Distance to wall: 1135.42687988281 (77.3133041171495% of viewport)
[02:08:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1018.01, 1441.508), shooter_id=11850687186450, bullet_pos=(41.67921, 729.5751)
[02:08:23] [INFO] [Bullet] Using shooter_position, distance=1208.33349609375
[02:08:23] [INFO] [Bullet] Distance to wall: 1208.33349609375 (82.277649678398% of viewport)
[02:08:23] [INFO] [Bullet] Distance-based penetration chance: 50.6760753752023%
[02:08:23] [INFO] [Bullet] Starting wall penetration at (41.67921, 729.5751)
[02:08:23] [INFO] [Bullet] Raycast backward hit penetrating body at distance 34.6874122619629
[02:08:23] [INFO] [Bullet] Body exited signal received for penetrating body
[02:08:23] [INFO] [Bullet] Exiting penetration at (3.972645, 702.0798) after traveling 41.6666679382324 pixels through wall
[02:08:23] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:08:23] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[02:08:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(989.6003, 1416.68), shooter_id=11850687186450, bullet_pos=(42.53408, 666.2555)
[02:08:23] [INFO] [Bullet] Using shooter_position, distance=1208.33422851563
[02:08:23] [INFO] [Bullet] Distance to wall: 1208.33422851563 (82.2776995503503% of viewport)
[02:08:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1047.382, 1465.197), shooter_id=11850687186450, bullet_pos=(518.4753, 822.0797)
[02:08:23] [INFO] [Bullet] Using shooter_position, distance=832.671997070313
[02:08:23] [INFO] [Bullet] Distance to wall: 832.671997070313 (56.6981674293069% of viewport)
[02:08:23] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[02:08:23] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (2902.7488, -501.02216) (2945,7 px/s), Swing distance: 479,9
[02:08:23] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,17091861
[02:08:23] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (2902.749, -501.0222), Swing: 479.9, Transfer: 1.00, Final speed: 1352.8
[02:08:23] [INFO] [Player.Grenade] Thrown! Velocity: 2945,7, Swing: 479,9
[02:08:23] [INFO] [Player.Grenade] State reset to IDLE
[02:08:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(989.6003, 1416.68), shooter_id=11850687186450, bullet_pos=(337.9241, 461.9384)
[02:08:23] [INFO] [Bullet] Using shooter_position, distance=1155.94702148438
[02:08:23] [INFO] [Bullet] Distance to wall: 1155.94702148438 (78.710558292013% of viewport)
[02:08:23] [INFO] [Bullet] Distance-based penetration chance: 54.8376819926514%
[02:08:23] [INFO] [Bullet] Starting wall penetration at (337.9241, 461.9384)
[02:08:23] [INFO] [Bullet] Raycast backward hit penetrating body at distance 37.8925857543945
[02:08:23] [INFO] [Bullet] Body exited signal received for penetrating body
[02:08:23] [INFO] [Bullet] Exiting penetration at (371.1641, 438.9468) after traveling 35.4166679382324 pixels through wall
[02:08:23] [INFO] [Bullet] Damage multiplier after penetration: 0.45
[02:08:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(637.1627, 761.8436), source=ENEMY (Enemy3), range=1469, listeners=10
[02:08:23] [ENEMY] [Enemy2] Heard gunshot at (637.1627, 761.8436), source_type=1, intensity=0.02, distance=318
[02:08:23] [ENEMY] [Enemy4] Heard gunshot at (637.1627, 761.8436), source_type=1, intensity=0.05, distance=214
[02:08:23] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[02:08:23] [INFO] [GrenadeBase] Collision detected with Enemy3 (type: CharacterBody2D)
[02:08:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(600.0731, 766.1001), source=ENEMY (Enemy3), range=1469, listeners=10
[02:08:23] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[02:08:23] [INFO] [Player.Grenade] Player rotation restored to 0
[02:08:24] [INFO] [LastChance] Threat detected: Bullet
[02:08:24] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:08:24] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:08:24] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[02:08:24] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[02:08:24] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[02:08:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(600.0731, 766.1001), source=ENEMY (Enemy3), range=1469, listeners=10
[02:08:24] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[02:08:24] [INFO] [GrenadeBase] Collision detected with Room1_WallBottom (type: StaticBody2D)
[02:08:24] [INFO] [LastChance] Threat detected: Bullet
[02:08:24] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[02:08:24] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:08:24] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[02:08:24] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[02:08:24] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[02:08:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(600.0731, 766.1001), source=ENEMY (Enemy3), range=1469, listeners=10
[02:08:24] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[02:08:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(536.8171, 790.8309), shooter_id=11848690698299, bullet_pos=(496.5254, 801.4464)
[02:08:24] [INFO] [Bullet] Using shooter_position, distance=41.6666641235352
[02:08:24] [INFO] [Bullet] Distance to wall: 41.6666641235352 (2.83715977841081% of viewport)
[02:08:24] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[02:08:24] [INFO] [Bullet] Starting wall penetration at (496.5254, 801.4464)
[02:08:24] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[02:08:24] [INFO] [Bullet] Exiting penetration at (451.3987, 813.3357) after traveling 41.6666641235352 pixels through wall
[02:08:24] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:08:24] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:08:24] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[02:08:24] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[02:08:24] [ENEMY] [Enemy10] State: PURSUING -> COMBAT
[02:08:24] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[02:08:24] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[02:08:24] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:08:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1008.068, 1426.496), source=ENEMY (Enemy10), range=1469, listeners=10
[02:08:24] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:08:24] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:08:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(975.0316, 1420.634), source=ENEMY (Enemy10), range=1469, listeners=10
[02:08:24] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:08:24] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:08:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(941.5639, 1405.886), source=ENEMY (Enemy10), range=1469, listeners=10
[02:08:24] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:08:24] [INFO] [LastChance] Threat detected: Bullet
[02:08:24] [INFO] [LastChance] Triggering last chance effect!
[02:08:24] [INFO] [LastChance] Starting last chance effect:
[02:08:24] [INFO] [LastChance]   - Time will be frozen (except player)
[02:08:24] [INFO] [LastChance]   - Duration: 6.0 real seconds
[02:08:24] [INFO] [LastChance]   - Sepia intensity: 0.70
[02:08:24] [INFO] [LastChance]   - Brightness: 0.60
[02:08:24] [INFO] [LastChance] Pushed bullet Bullet from distance 124.2 to 200.0
[02:08:24] [INFO] [LastChance] Pushed 1 threatening bullets away from player
[02:08:24] [INFO] [LastChance] Set player Player and all 18 children to PROCESS_MODE_ALWAYS
[02:08:24] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[02:08:24] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:08:24] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:08:24] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[02:08:24] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:08:24] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:08:24] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:08:24] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:08:24] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:08:24] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:08:24] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:08:24] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:08:24] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:08:24] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:08:24] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:08:24] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:08:24] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:08:24] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[02:08:24] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[02:08:24] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:08:24] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:08:24] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:08:24] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:08:24] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:08:24] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[02:08:24] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[02:08:24] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:08:24] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[02:08:24] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[02:08:24] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:08:24] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:08:24] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[02:08:24] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[02:08:24] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[02:08:24] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[02:08:24] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[02:08:24] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[02:08:24] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[02:08:24] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[02:08:24] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[02:08:24] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[02:08:24] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[02:08:24] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[02:08:24] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[02:08:24] [INFO] [LastChance] Skipping player node: Player
[02:08:24] [INFO] [LastChance] Froze existing grenade: FlashbangGrenade
[02:08:24] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[02:08:24] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[02:08:24] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[02:08:24] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[02:08:24] [INFO] [LastChance] Resetting all effects (scene change detected)
[02:08:24] [INFO] [LastChance] Ending last chance effect
[02:08:24] [INFO] [LastChance] All process modes restored
[02:08:24] [INFO] [LastChance] Restored original colors to 5 player sprites
[02:08:24] [ENEMY] [Enemy1] Death animation component initialized
[02:08:24] [ENEMY] [Enemy2] Death animation component initialized
[02:08:24] [ENEMY] [Enemy3] Death animation component initialized
[02:08:24] [ENEMY] [Enemy4] Death animation component initialized
[02:08:24] [ENEMY] [Enemy5] Death animation component initialized
[02:08:24] [ENEMY] [Enemy6] Death animation component initialized
[02:08:24] [ENEMY] [Enemy7] Death animation component initialized
[02:08:24] [ENEMY] [Enemy8] Death animation component initialized
[02:08:24] [ENEMY] [Enemy9] Death animation component initialized
[02:08:24] [ENEMY] [Enemy10] Death animation component initialized
[02:08:24] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[02:08:24] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[02:08:24] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[02:08:24] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[02:08:24] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[02:08:24] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[02:08:24] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[02:08:24] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[02:08:24] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[02:08:24] [ENEMY] [Enemy10] Grenade system configured: offensive=2, flashbangs=0
[02:08:24] [INFO] [ScoreManager] Level started with 10 enemies
[02:08:24] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[02:08:24] [ENEMY] [Enemy1] Registered as sound listener
[02:08:24] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[02:08:24] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[02:08:24] [ENEMY] [Enemy2] Registered as sound listener
[02:08:24] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[02:08:24] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[02:08:24] [ENEMY] [Enemy3] Registered as sound listener
[02:08:24] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[02:08:24] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[02:08:24] [ENEMY] [Enemy4] Registered as sound listener
[02:08:24] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[02:08:24] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[02:08:24] [ENEMY] [Enemy5] Registered as sound listener
[02:08:24] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[02:08:24] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[02:08:24] [ENEMY] [Enemy6] Registered as sound listener
[02:08:24] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[02:08:24] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[02:08:24] [ENEMY] [Enemy7] Registered as sound listener
[02:08:24] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[02:08:24] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[02:08:24] [ENEMY] [Enemy8] Registered as sound listener
[02:08:24] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[02:08:24] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[02:08:24] [ENEMY] [Enemy9] Registered as sound listener
[02:08:24] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[02:08:24] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[02:08:24] [ENEMY] [Enemy10] Registered as sound listener
[02:08:24] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[02:08:24] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[02:08:24] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[02:08:24] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[02:08:24] [INFO] [LastChance] Found player: Player
[02:08:24] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[02:08:24] [INFO] [LastChance] Connected to player Damaged signal (C#)
[02:08:24] [INFO] [LastChance] Connected to player Died signal (C#)
[02:08:24] [INFO] [Player] Detecting weapon pose (frame 3)...
[02:08:24] [INFO] [Player] Detected weapon: Rifle (default pose)
[02:08:24] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[02:08:25] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[02:08:25] [INFO] [Player.Grenade] G pressed - starting grab animation
[02:08:25] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (920.9576, 1070.2858)
[02:08:25] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[02:08:25] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[02:08:25] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1177.1666)
[02:08:25] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[02:08:25] [INFO] [Player.Grenade] Step 1 complete! Drag: (272.99188, 8.590454)
[02:08:25] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:08:25] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[02:08:25] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[02:08:25] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:08:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1171.731, 1535.008), source=ENEMY (Enemy10), range=1469, listeners=20
[02:08:25] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[02:08:25] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=8
[02:08:25] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[02:08:25] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[02:08:25] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:08:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1139.423, 1516.307), source=ENEMY (Enemy10), range=1469, listeners=10
[02:08:25] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:08:25] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[02:08:25] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[02:08:25] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:08:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1107.906, 1496.302), source=ENEMY (Enemy10), range=1469, listeners=10
[02:08:25] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:08:25] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:08:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1077.226, 1475.035), source=ENEMY (Enemy10), range=1469, listeners=10
[02:08:25] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:08:25] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:08:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1047.428, 1452.549), source=ENEMY (Enemy10), range=1469, listeners=10
[02:08:25] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:08:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1108.874, 1508.939), shooter_id=12018190911377, bullet_pos=(53.14801, 921.1365)
[02:08:25] [INFO] [Bullet] Using shooter_position, distance=1208.33337402344
[02:08:25] [INFO] [Bullet] Distance to wall: 1208.33337402344 (82.277641366406% of viewport)
[02:08:25] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[02:08:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1077.684, 1487.691), shooter_id=12018190911377, bullet_pos=(46.85162, 857.2495)
[02:08:26] [INFO] [Bullet] Using shooter_position, distance=1208.33435058594
[02:08:26] [INFO] [Bullet] Distance to wall: 1208.33435058594 (82.2777078623423% of viewport)
[02:08:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1108.874, 1508.939), shooter_id=12018190911377, bullet_pos=(343.3822, 709.5595)
[02:08:26] [INFO] [Bullet] Using shooter_position, distance=1106.79052734375
[02:08:26] [INFO] [Bullet] Distance to wall: 1106.79052734375 (75.3634022151556% of viewport)
[02:08:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1047.382, 1465.197), shooter_id=12018190911377, bullet_pos=(43.06916, 793.3154)
[02:08:26] [INFO] [Bullet] Using shooter_position, distance=1208.33349609375
[02:08:26] [INFO] [Bullet] Distance to wall: 1208.33349609375 (82.277649678398% of viewport)
[02:08:26] [INFO] [Bullet] Distance-based penetration chance: 50.6760753752023%
[02:08:26] [INFO] [Bullet] Penetration failed (distance roll)
[02:08:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1077.684, 1487.691), shooter_id=12018190911377, bullet_pos=(252.0738, 709.4297)
[02:08:26] [INFO] [Bullet] Using shooter_position, distance=1134.6025390625
[02:08:26] [INFO] [Bullet] Distance to wall: 1134.6025390625 (77.2571732348653% of viewport)
[02:08:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1108.874, 1508.939), shooter_id=12018190911377, bullet_pos=(519.4546, 834.2094)
[02:08:26] [INFO] [Bullet] Using shooter_position, distance=895.921447753906
[02:08:26] [INFO] [Bullet] Distance to wall: 895.921447753906 (61.0049388318371% of viewport)
[02:08:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1018.01, 1441.508), shooter_id=12018190911377, bullet_pos=(41.67921, 729.5751)
[02:08:26] [INFO] [Bullet] Using shooter_position, distance=1208.33349609375
[02:08:26] [INFO] [Bullet] Distance to wall: 1208.33349609375 (82.277649678398% of viewport)
[02:08:26] [INFO] [Bullet] Distance-based penetration chance: 50.6760753752023%
[02:08:26] [INFO] [Bullet] Penetration failed (distance roll)
[02:08:26] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[02:08:26] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[02:08:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1077.684, 1487.691), shooter_id=12018190911377, bullet_pos=(502.7985, 884.925)
[02:08:26] [INFO] [Bullet] Using shooter_position, distance=832.958679199219
[02:08:26] [INFO] [Bullet] Distance to wall: 832.958679199219 (56.7176881426261% of viewport)
[02:08:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(989.6003, 1416.68), shooter_id=12018190911377, bullet_pos=(42.53408, 666.2555)
[02:08:26] [INFO] [Bullet] Using shooter_position, distance=1208.33422851563
[02:08:26] [INFO] [Bullet] Distance to wall: 1208.33422851563 (82.2776995503503% of viewport)
[02:08:26] [INFO] [Bullet] Distance-based penetration chance: 50.676017191258%
[02:08:26] [INFO] [Bullet] Starting wall penetration at (42.53408, 666.2555)
[02:08:26] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[02:08:26] [INFO] [Bullet] Raycast backward hit penetrating body at distance 33.2265319824219
[02:08:26] [INFO] [Bullet] Body exited signal received for penetrating body
[02:08:26] [INFO] [Bullet] Exiting penetration at (5.957748, 637.2736) after traveling 41.6666717529297 pixels through wall
[02:08:26] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:08:26] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[02:08:26] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (1757.2825, -786.30023) (1925,2 px/s), Swing distance: 449,4
[02:08:26] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,4207333
[02:08:26] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (1757.282, -786.3002), Swing: 449.4, Transfer: 1.00, Final speed: 1014.7
[02:08:26] [INFO] [Player.Grenade] Thrown! Velocity: 1925,2, Swing: 449,4
[02:08:26] [INFO] [Player.Grenade] State reset to IDLE
[02:08:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(637.2915, 762.5636), source=ENEMY (Enemy3), range=1469, listeners=10
[02:08:26] [ENEMY] [Enemy2] Heard gunshot at (637.2915, 762.5636), source_type=1, intensity=0.02, distance=319
[02:08:26] [ENEMY] [Enemy4] Heard gunshot at (637.2915, 762.5636), source_type=1, intensity=0.06, distance=213
[02:08:26] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[02:08:26] [INFO] [Player.Grenade] Player rotation restored to 0
[02:08:26] [INFO] [LastChance] Threat detected: Bullet
[02:08:26] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[02:08:26] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:08:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1077.684, 1487.691), shooter_id=12018190911377, bullet_pos=(63.60836, 1245.032)
[02:08:26] [INFO] [Bullet] Using shooter_position, distance=1042.70458984375
[02:08:26] [INFO] [Bullet] Distance to wall: 1042.70458984375 (70.9996728871327% of viewport)
[02:08:26] [INFO] [Bullet] Distance-based penetration chance: 63.8337149650118%
[02:08:26] [INFO] [Bullet] Starting wall penetration at (63.60836, 1245.032)
[02:08:26] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[02:08:26] [INFO] [Bullet] Body exited signal received for penetrating body
[02:08:26] [INFO] [Bullet] Exiting penetration at (39.95447, 1264.427) after traveling 0 pixels through wall
[02:08:26] [INFO] [Bullet] Damage multiplier after penetration: 0.1125
[02:08:26] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[02:08:26] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[02:08:26] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[02:08:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(600.2725, 767.3948), source=ENEMY (Enemy3), range=1469, listeners=10
[02:08:26] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[02:08:26] [INFO] [LastChance] Threat detected: @Area2D@13642
[02:08:26] [INFO] [LastChance] Triggering last chance effect!
[02:08:26] [INFO] [LastChance] Starting last chance effect:
[02:08:26] [INFO] [LastChance]   - Time will be frozen (except player)
[02:08:26] [INFO] [LastChance]   - Duration: 6.0 real seconds
[02:08:26] [INFO] [LastChance]   - Sepia intensity: 0.70
[02:08:26] [INFO] [LastChance]   - Brightness: 0.60
[02:08:26] [INFO] [LastChance] Pushed bullet @Area2D@13642 from distance 127.7 to 200.0
[02:08:26] [INFO] [LastChance] Pushed 1 threatening bullets away from player
[02:08:26] [INFO] [LastChance] Set player Player and all 18 children to PROCESS_MODE_ALWAYS
[02:08:26] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[02:08:26] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:08:26] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:08:26] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[02:08:26] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:08:26] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:08:26] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:08:26] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:08:26] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:08:26] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:08:26] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:08:26] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:08:26] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:08:26] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:08:26] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:08:26] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:08:26] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:08:26] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[02:08:26] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[02:08:26] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:08:26] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:08:26] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:08:26] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:08:26] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:08:26] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[02:08:26] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[02:08:26] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:08:26] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[02:08:26] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[02:08:26] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:08:26] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:08:26] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[02:08:26] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[02:08:26] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[02:08:26] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[02:08:26] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[02:08:26] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[02:08:26] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[02:08:26] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[02:08:26] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[02:08:26] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[02:08:26] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[02:08:26] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[02:08:26] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[02:08:26] [INFO] [LastChance] Skipping player node: Player
[02:08:26] [INFO] [LastChance] Froze existing grenade: FlashbangGrenade
[02:08:26] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[02:08:26] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[02:08:26] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[02:08:26] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[02:08:27] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[02:08:27] [INFO] [LastChance] Resetting all effects (scene change detected)
[02:08:27] [INFO] [LastChance] Ending last chance effect
[02:08:27] [INFO] [LastChance] All process modes restored
[02:08:27] [INFO] [LastChance] Restored original colors to 5 player sprites
[02:08:27] [ENEMY] [Enemy1] Death animation component initialized
[02:08:27] [ENEMY] [Enemy2] Death animation component initialized
[02:08:27] [ENEMY] [Enemy3] Death animation component initialized
[02:08:27] [ENEMY] [Enemy4] Death animation component initialized
[02:08:27] [ENEMY] [Enemy5] Death animation component initialized
[02:08:27] [ENEMY] [Enemy6] Death animation component initialized
[02:08:27] [ENEMY] [Enemy7] Death animation component initialized
[02:08:27] [ENEMY] [Enemy8] Death animation component initialized
[02:08:27] [ENEMY] [Enemy9] Death animation component initialized
[02:08:27] [ENEMY] [Enemy10] Death animation component initialized
[02:08:27] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[02:08:27] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[02:08:27] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[02:08:27] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[02:08:27] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[02:08:27] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[02:08:27] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[02:08:27] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[02:08:27] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[02:08:27] [ENEMY] [Enemy10] Grenade system configured: offensive=2, flashbangs=0
[02:08:27] [INFO] [ScoreManager] Level started with 10 enemies
[02:08:27] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[02:08:27] [ENEMY] [Enemy1] Registered as sound listener
[02:08:27] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[02:08:27] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[02:08:27] [ENEMY] [Enemy2] Registered as sound listener
[02:08:27] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[02:08:27] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[02:08:27] [ENEMY] [Enemy3] Registered as sound listener
[02:08:27] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[02:08:27] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[02:08:27] [ENEMY] [Enemy4] Registered as sound listener
[02:08:27] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[02:08:27] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[02:08:27] [ENEMY] [Enemy5] Registered as sound listener
[02:08:27] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[02:08:27] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[02:08:27] [ENEMY] [Enemy6] Registered as sound listener
[02:08:27] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[02:08:27] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[02:08:27] [ENEMY] [Enemy7] Registered as sound listener
[02:08:27] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[02:08:27] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[02:08:27] [ENEMY] [Enemy8] Registered as sound listener
[02:08:27] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[02:08:27] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[02:08:27] [ENEMY] [Enemy9] Registered as sound listener
[02:08:27] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[02:08:27] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[02:08:27] [ENEMY] [Enemy10] Registered as sound listener
[02:08:27] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[02:08:27] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[02:08:27] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[02:08:27] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[02:08:27] [INFO] [LastChance] Found player: Player
[02:08:27] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[02:08:27] [INFO] [LastChance] Connected to player Damaged signal (C#)
[02:08:27] [INFO] [LastChance] Connected to player Died signal (C#)
[02:08:27] [INFO] [Player] Detecting weapon pose (frame 3)...
[02:08:27] [INFO] [Player] Detected weapon: Rifle (default pose)
[02:08:27] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[02:08:27] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[02:08:27] [INFO] [Player.Grenade] G pressed - starting grab animation
[02:08:27] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:08:27] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1080.7172, 1050.7961)
[02:08:27] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[02:08:27] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[02:08:27] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1138.6666)
[02:08:27] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[02:08:27] [INFO] [Player.Grenade] Step 1 complete! Drag: (185.31604, -15.429443)
[02:08:27] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:08:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1171.731, 1535.008), source=ENEMY (Enemy10), range=1469, listeners=20
[02:08:27] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[02:08:27] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=8
[02:08:27] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[02:08:27] [INFO] [Player.Grenade] Step 2 part 1: G+RMB held - now release G to ready the throw
[02:08:27] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:08:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1139.423, 1516.307), source=ENEMY (Enemy10), range=1469, listeners=10
[02:08:27] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:08:28] [INFO] [Player.Grenade.Anim] Phase changed to: Transfer (duration: 0,15s)
[02:08:28] [INFO] [Player.Grenade] Step 2 complete: G released, RMB held - now aiming (velocity-based throwing enabled)
[02:08:28] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:08:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1107.906, 1496.302), source=ENEMY (Enemy10), range=1469, listeners=10
[02:08:28] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:08:28] [INFO] [Player.Grenade.Anim] Phase changed to: WindUp (duration: 0,00s)
[02:08:28] [INFO] [Player.Grenade.Anim] Entered wind-up phase
[02:08:28] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:08:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1077.226, 1475.035), source=ENEMY (Enemy10), range=1469, listeners=10
[02:08:28] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:08:28] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:08:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1047.428, 1452.549), source=ENEMY (Enemy10), range=1469, listeners=10
[02:08:28] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:08:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1108.874, 1508.939), shooter_id=12150412151999, bullet_pos=(53.14801, 921.1365)
[02:08:28] [INFO] [Bullet] Using shooter_position, distance=1208.33337402344
[02:08:28] [INFO] [Bullet] Distance to wall: 1208.33337402344 (82.277641366406% of viewport)
[02:08:28] [INFO] [Bullet] Distance-based penetration chance: 50.6760850725264%
[02:08:28] [INFO] [Bullet] Penetration failed (distance roll)
[02:08:28] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[02:08:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1077.684, 1487.691), shooter_id=12150412151999, bullet_pos=(46.85162, 857.2495)
[02:08:28] [INFO] [Bullet] Using shooter_position, distance=1208.33435058594
[02:08:28] [INFO] [Bullet] Distance to wall: 1208.33435058594 (82.2777078623423% of viewport)
[02:08:28] [INFO] [Bullet] Distance-based penetration chance: 50.676007493934%
[02:08:28] [INFO] [Bullet] Penetration failed (distance roll)
[02:08:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1047.382, 1465.197), shooter_id=12150412151999, bullet_pos=(43.06916, 793.3154)
[02:08:28] [INFO] [Bullet] Using shooter_position, distance=1208.33349609375
[02:08:28] [INFO] [Bullet] Distance to wall: 1208.33349609375 (82.277649678398% of viewport)
[02:08:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1047.382, 1465.197), shooter_id=12150412151999, bullet_pos=(207.3304, 714.7496)
[02:08:28] [INFO] [Bullet] Using shooter_position, distance=1126.43627929688
[02:08:28] [INFO] [Bullet] Distance to wall: 1126.43627929688 (76.7011175909963% of viewport)
[02:08:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1018.01, 1441.508), shooter_id=12150412151999, bullet_pos=(41.67921, 729.5751)
[02:08:28] [INFO] [Bullet] Using shooter_position, distance=1208.33349609375
[02:08:28] [INFO] [Bullet] Distance to wall: 1208.33349609375 (82.277649678398% of viewport)
[02:08:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1018.01, 1441.508), shooter_id=12150412151999, bullet_pos=(107.1192, 691.2567)
[02:08:28] [INFO] [Bullet] Using shooter_position, distance=1180.08410644531
[02:08:28] [INFO] [Bullet] Distance to wall: 1180.08410644531 (80.3540967911888% of viewport)
[02:08:28] [INFO] [Bullet] Distance-based penetration chance: 52.9202204102797%
[02:08:28] [INFO] [Bullet] Penetration failed (distance roll)
[02:08:28] [INFO] [LastChance] Threat detected: @Area2D@13897
[02:08:28] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:08:28] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:08:28] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[02:08:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(989.6003, 1416.68), shooter_id=12150412151999, bullet_pos=(42.53408, 666.2555)
[02:08:28] [INFO] [Bullet] Using shooter_position, distance=1208.33422851563
[02:08:28] [INFO] [Bullet] Distance to wall: 1208.33422851563 (82.2776995503503% of viewport)
[02:08:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1047.382, 1465.197), shooter_id=12150412151999, bullet_pos=(517.0303, 910.2618)
[02:08:28] [INFO] [Bullet] Using shooter_position, distance=767.61083984375
[02:08:28] [INFO] [Bullet] Distance to wall: 767.61083984375 (52.2680335968315% of viewport)
[02:08:28] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[02:08:28] [INFO] [Player.Grenade] Velocity-based throw! Mouse velocity: (619.1864, -422.98273) (749,9 px/s), Swing distance: 354,6
[02:08:28] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,5993116
[02:08:28] [INFO] [GrenadeBase] Velocity-based throw! Mouse vel: (619.1864, -422.9827), Swing: 354.6, Transfer: 1.00, Final speed: 395.2
[02:08:28] [INFO] [Player.Grenade] Thrown! Velocity: 749,9, Swing: 354,6
[02:08:28] [INFO] [Player.Grenade] State reset to IDLE
[02:08:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(989.6003, 1416.68), shooter_id=12150412151999, bullet_pos=(298.1015, 467.5109)
[02:08:28] [INFO] [Bullet] Using shooter_position, distance=1174.34777832031
[02:08:28] [INFO] [Bullet] Distance to wall: 1174.34777832031 (79.9634996609803% of viewport)
[02:08:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4684, 753.8406), source=ENEMY (Enemy3), range=1469, listeners=10
[02:08:29] [ENEMY] [Enemy2] Heard gunshot at (684.4684, 753.8406), source_type=1, intensity=0.02, distance=350
[02:08:29] [ENEMY] [Enemy4] Heard gunshot at (684.4684, 753.8406), source_type=1, intensity=0.07, distance=186
[02:08:29] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[02:08:29] [ENEMY] [Enemy2] Hit taken, health: 2/3
[02:08:29] [INFO] [LastChance] Threat detected: Bullet
[02:08:29] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:08:29] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:08:29] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[02:08:29] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[02:08:29] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[02:08:29] [INFO] [Player.Grenade] Player rotation restored to 0
[02:08:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4684, 753.8406), source=ENEMY (Enemy3), range=1469, listeners=10
[02:08:29] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[02:08:29] [INFO] [LastChance] Threat detected: Bullet
[02:08:29] [INFO] [LastChance] Triggering last chance effect!
[02:08:29] [INFO] [LastChance] Starting last chance effect:
[02:08:29] [INFO] [LastChance]   - Time will be frozen (except player)
[02:08:29] [INFO] [LastChance]   - Duration: 6.0 real seconds
[02:08:29] [INFO] [LastChance]   - Sepia intensity: 0.70
[02:08:29] [INFO] [LastChance]   - Brightness: 0.60
[02:08:29] [INFO] [LastChance] Pushed bullet Bullet from distance 126.8 to 200.0
[02:08:29] [INFO] [LastChance] Pushed 1 threatening bullets away from player
[02:08:29] [INFO] [LastChance] Set player Player and all 18 children to PROCESS_MODE_ALWAYS
[02:08:29] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[02:08:29] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:08:29] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:08:29] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[02:08:29] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:08:29] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:08:29] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:08:29] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:08:29] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:08:29] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:08:29] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:08:29] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:08:29] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:08:29] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:08:29] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:08:29] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:08:29] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:08:29] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[02:08:29] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[02:08:29] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:08:29] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:08:29] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:08:29] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:08:29] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:08:29] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[02:08:29] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[02:08:29] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:08:29] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[02:08:29] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[02:08:29] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:08:29] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:08:29] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[02:08:29] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[02:08:29] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[02:08:29] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[02:08:29] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[02:08:29] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[02:08:29] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[02:08:29] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[02:08:29] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[02:08:29] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[02:08:29] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[02:08:29] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[02:08:29] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[02:08:29] [INFO] [LastChance] Skipping player node: Player
[02:08:29] [INFO] [LastChance] Froze existing grenade: FlashbangGrenade
[02:08:29] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[02:08:29] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[02:08:29] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[02:08:29] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[02:08:29] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[02:08:31] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@13908
[02:08:31] [INFO] [LastChance] Registered frozen player bullet: @Area2D@13908
[02:08:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(385.706, 1052.689), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:08:31] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=4, self=0, below_threshold=4
[02:08:32] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@13909
[02:08:32] [INFO] [LastChance] Registered frozen player bullet: @Area2D@13909
[02:08:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(385.706, 1052.689), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:08:32] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=4, self=0, below_threshold=4
[02:08:32] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@13911
[02:08:32] [INFO] [LastChance] Registered frozen player bullet: @Area2D@13911
[02:08:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(385.706, 1052.689), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:08:32] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=4, self=0, below_threshold=4
[02:08:32] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@13913
[02:08:32] [INFO] [LastChance] Registered frozen player bullet: @Area2D@13913
[02:08:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(385.706, 1052.689), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:08:32] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=4, self=0, below_threshold=4
[02:08:33] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@13915
[02:08:33] [INFO] [LastChance] Registered frozen player bullet: @Area2D@13915
[02:08:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(345.3465, 773.6734), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:08:33] [ENEMY] [Enemy1] Heard gunshot at (345.3465, 773.6734), source_type=0, intensity=0.01, distance=426
[02:08:33] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[02:08:33] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@13917
[02:08:33] [INFO] [LastChance] Registered frozen player bullet: @Area2D@13917
[02:08:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(343.6667, 776.9536), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:08:33] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[02:08:33] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@13919
[02:08:33] [INFO] [LastChance] Registered frozen player bullet: @Area2D@13919
[02:08:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(358.7444, 800.4539), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:08:33] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[02:08:34] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[02:08:34] [ENEMY] [Enemy1] Player reloading state changed: false -> true
[02:08:34] [ENEMY] [Enemy2] Player reloading state changed: false -> true
[02:08:34] [ENEMY] [Enemy3] Player reloading state changed: false -> true
[02:08:34] [ENEMY] [Enemy4] Player reloading state changed: false -> true
[02:08:34] [ENEMY] [Enemy5] Player reloading state changed: false -> true
[02:08:34] [ENEMY] [Enemy6] Player reloading state changed: false -> true
[02:08:34] [ENEMY] [Enemy7] Player reloading state changed: false -> true
[02:08:34] [ENEMY] [Enemy8] Player reloading state changed: false -> true
[02:08:34] [ENEMY] [Enemy9] Player reloading state changed: false -> true
[02:08:34] [ENEMY] [Enemy10] Player reloading state changed: false -> true
[02:08:34] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(483.9349, 901.9232), source=PLAYER (Player), range=900, listeners=10
[02:08:34] [ENEMY] [Enemy2] Heard player RELOAD at (483.9349, 901.9232), intensity=0.02, distance=362
[02:08:34] [ENEMY] [Enemy3] Heard player RELOAD at (483.9349, 901.9232), intensity=0.04, distance=249
[02:08:34] [ENEMY] [Enemy4] Heard player RELOAD at (483.9349, 901.9232), intensity=0.03, distance=297
[02:08:34] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=5, self=0, below_threshold=2
[02:08:34] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[02:08:34] [INFO] [Player.Reload.Anim] Phase changed to: PullBolt (duration: 0,35s)
[02:08:34] [ENEMY] [Enemy1] Player reloading state changed: true -> false
[02:08:34] [ENEMY] [Enemy2] Player reloading state changed: true -> false
[02:08:34] [ENEMY] [Enemy3] Player reloading state changed: true -> false
[02:08:34] [ENEMY] [Enemy4] Player reloading state changed: true -> false
[02:08:34] [ENEMY] [Enemy5] Player reloading state changed: true -> false
[02:08:34] [ENEMY] [Enemy6] Player reloading state changed: true -> false
[02:08:34] [ENEMY] [Enemy7] Player reloading state changed: true -> false
[02:08:34] [ENEMY] [Enemy8] Player reloading state changed: true -> false
[02:08:34] [ENEMY] [Enemy9] Player reloading state changed: true -> false
[02:08:34] [ENEMY] [Enemy10] Player reloading state changed: true -> false
[02:08:34] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[02:08:35] [INFO] [Player.Reload.Anim] LeftArm: pos=(23.310148, 5.992897), target=(24, 6), base=(24, 6)
[02:08:35] [INFO] [Player.Reload.Anim] RightArm: pos=(-2.0000181, 6.10906), target=(-2, 6), base=(-2, 6)
[02:08:35] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[02:08:35] [INFO] [LastChance] Effect duration expired after 6.00 real seconds
[02:08:35] [INFO] [LastChance] Ending last chance effect
[02:08:35] [INFO] [LastChance] All process modes restored
[02:08:35] [INFO] [LastChance] Unfroze player bullet: @Area2D@13908
[02:08:35] [INFO] [LastChance] Unfroze player bullet: @Area2D@13909
[02:08:35] [INFO] [LastChance] Unfroze player bullet: @Area2D@13911
[02:08:35] [INFO] [LastChance] Unfroze player bullet: @Area2D@13913
[02:08:35] [INFO] [LastChance] Unfroze player bullet: @Area2D@13915
[02:08:35] [INFO] [LastChance] Unfroze player bullet: @Area2D@13917
[02:08:35] [INFO] [LastChance] Unfroze player bullet: @Area2D@13919
[02:08:35] [INFO] [LastChance] Unfroze grenade: FlashbangGrenade
[02:08:35] [INFO] [LastChance] Restored original colors to 5 player sprites
[02:08:35] [INFO] [LastChance] Called player RefreshHealthVisual (C#)
[02:08:35] [ENEMY] [Enemy3] Hit taken, health: 2/3
[02:08:35] [ENEMY] [Enemy3] Hit taken, health: 1/3
[02:08:35] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[02:08:35] [ENEMY] [Enemy3] Pursuing vulnerability sound at (483.9349, 901.9232), distance=249
[02:08:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(345.34653, 773.6734), shooter_id=12151234234070, bullet_pos=(924.08105, 650.64636)
[02:08:35] [INFO] [Bullet] Using shooter_position, distance=591,6665
[02:08:35] [INFO] [Bullet] Distance to wall: 591,6665 (40,287663% of viewport)
[02:08:35] [INFO] [Bullet] Distance-based penetration chance: 99,6644%
[02:08:35] [INFO] [Bullet] Starting wall penetration at (924.08105, 650.64636)
[02:08:35] [INFO] [Bullet] Raycast backward hit penetrating body at distance 26,14806
[02:08:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(618.0239, 768.3848), shooter_id=12148415662932, bullet_pos=(52.65066, 828.2917)
[02:08:35] [INFO] [Bullet] Using shooter_position, distance=568.538330078125
[02:08:35] [INFO] [Bullet] Distance to wall: 568.538330078125 (38.7128203448231% of viewport)
[02:08:35] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:08:35] [INFO] [Bullet] Starting wall penetration at (52.65066, 828.2917)
[02:08:35] [INFO] [Bullet] Body exited signal received for penetrating body
[02:08:35] [INFO] [Bullet] Exiting penetration at (961.57654, 642.6756) after traveling 33,333336 pixels through wall
[02:08:35] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[02:08:35] [INFO] [Bullet] Raycast backward hit penetrating body at distance 17.5778121948242
[02:08:35] [INFO] [Bullet] Body exited signal received for penetrating body
[02:08:35] [INFO] [Bullet] Exiting penetration at (14.511, 832.1403) after traveling 33.3333358764648 pixels through wall
[02:08:35] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:08:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(385.706, 1052.6886), shooter_id=12151234234070, bullet_pos=(994.5448, 1380.8937)
[02:08:35] [INFO] [Bullet] Using shooter_position, distance=691,667
[02:08:35] [INFO] [Bullet] Distance to wall: 691,667 (47,096878% of viewport)
[02:08:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(385.706, 1052.6886), shooter_id=12151234234070, bullet_pos=(991.11865, 1387.1709)
[02:08:35] [INFO] [Bullet] Using shooter_position, distance=691,66675
[02:08:35] [INFO] [Bullet] Distance to wall: 691,66675 (47,096863% of viewport)
[02:08:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(385.706, 1052.6886), shooter_id=12151234234070, bullet_pos=(996.9001, 1376.4851)
[02:08:35] [INFO] [Bullet] Using shooter_position, distance=691,6664
[02:08:35] [INFO] [Bullet] Distance to wall: 691,6664 (47,096836% of viewport)
[02:08:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(385.706, 1052.6886), shooter_id=12151234234070, bullet_pos=(1001.586, 1374.7408)
[02:08:35] [INFO] [Bullet] Using shooter_position, distance=695,0006
[02:08:35] [INFO] [Bullet] Distance to wall: 695,0006 (47,32387% of viewport)
[02:08:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(385.706, 1052.6886), shooter_id=12151234234070, bullet_pos=(996.9203, 1376.4469)
[02:08:35] [INFO] [Bullet] Using shooter_position, distance=691,6664
[02:08:35] [INFO] [Bullet] Distance to wall: 691,6664 (47,096836% of viewport)
[02:08:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(385.706, 1052.6886), shooter_id=12151234234070, bullet_pos=(1001.3294, 1374.0891)
[02:08:35] [INFO] [Bullet] Using shooter_position, distance=694,4714
[02:08:35] [INFO] [Bullet] Distance to wall: 694,4714 (47,287834% of viewport)
[02:08:35] [INFO] [Bullet] Distance-based penetration chance: 91,49753%
[02:08:35] [INFO] [Bullet] Starting wall penetration at (1001.3294, 1374.0891)
[02:08:35] [INFO] [Bullet] Raycast backward hit penetrating body at distance 37,38527
[02:08:35] [INFO] [Bullet] Body exited signal received for penetrating body
[02:08:35] [INFO] [Bullet] Exiting penetration at (1030.7236, 1358.3702) after traveling 28,333336 pixels through wall
[02:08:35] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[02:08:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(385.706, 1052.6886), shooter_id=12151234234070, bullet_pos=(906.5151, 1417.8666)
[02:08:35] [INFO] [Bullet] Using shooter_position, distance=636,07947
[02:08:35] [INFO] [Bullet] Distance to wall: 636,07947 (43,31182% of viewport)
[02:08:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(385.706, 1052.6886), shooter_id=12151234234070, bullet_pos=(899.6807, 1451.6296)
[02:08:35] [INFO] [Bullet] Using shooter_position, distance=650,63354
[02:08:35] [INFO] [Bullet] Distance to wall: 650,63354 (44,302837% of viewport)
[02:08:35] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[02:08:35] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[02:08:35] [ENEMY] [Enemy4] Pursuing vulnerability sound at (483.9349, 901.9232), distance=296
[02:08:35] [ENEMY] [Enemy2] Pursuing vulnerability sound at (483.9349, 901.9232), distance=362
[02:08:35] [ENEMY] [Enemy10] State: PURSUING -> RETREATING
[02:08:35] [INFO] [GrenadeBase] Grenade landed at (607.4137, 675.5221)
[02:08:35] [ENEMY] [Enemy10] State: RETREATING -> IN_COVER
[02:08:35] [ENEMY] [Enemy10] State: IN_COVER -> SUPPRESSED
[02:08:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(385.706, 1052.6886), shooter_id=12151234234070, bullet_pos=(1162.0724, 1631.4286)
[02:08:35] [INFO] [Bullet] Using shooter_position, distance=968,34125
[02:08:35] [INFO] [Bullet] Distance to wall: 968,34125 (65,936134% of viewport)
[02:08:35] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[02:08:36] [ENEMY] [Enemy3] State: PURSUING -> COMBAT
[02:08:36] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[02:08:36] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[02:08:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(480.4644, 913.3214), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:08:36] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=4
[02:08:36] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[02:08:36] [ENEMY] [Enemy3] Hit taken, health: 0/3
[02:08:36] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[02:08:36] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[02:08:36] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[02:08:36] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[02:08:36] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[02:08:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(505.4713, 647.574), source=ENEMY (Enemy2), range=1469, listeners=9
[02:08:36] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=4
[02:08:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(467.7071, 925.1854), source=PLAYER (AssaultRifle), range=1469, listeners=9
[02:08:36] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=4
[02:08:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(385.706, 1052.6886), shooter_id=12151234234070, bullet_pos=(1748.649, 1211.3586)
[02:08:36] [INFO] [Bullet] Using shooter_position, distance=1372,148
[02:08:36] [INFO] [Bullet] Distance to wall: 1372,148 (93,43208% of viewport)
[02:08:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(505.1689, 715.6218), shooter_id=12148130449675, bullet_pos=(513.4428, 815.279)
[02:08:36] [INFO] [Bullet] Using shooter_position, distance=100.000045776367
[02:08:36] [INFO] [Bullet] Distance to wall: 100.000045776367 (6.80918700078256% of viewport)
[02:08:36] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:08:36] [INFO] [Bullet] Starting wall penetration at (513.4428, 815.279)
[02:08:36] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[02:08:36] [INFO] [Bullet] Exiting penetration at (516.6145, 853.4809) after traveling 33.3333358764648 pixels through wall
[02:08:36] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:08:36] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[02:08:36] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[02:08:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(467.7071, 925.1854), shooter_id=12151234234070, bullet_pos=(473.2298, 700.2531)
[02:08:36] [INFO] [Bullet] Using shooter_position, distance=225,0001
[02:08:36] [INFO] [Bullet] Distance to wall: 225,0001 (15,320672% of viewport)
[02:08:36] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:08:36] [INFO] [Bullet] Starting wall penetration at (473.2298, 700.2531)
[02:08:36] [INFO] [Bullet] Raycast backward hit penetrating body at distance 26,07652
[02:08:36] [INFO] [Bullet] Body exited signal received for penetrating body
[02:08:36] [INFO] [Bullet] Exiting penetration at (474.17072, 661.93134) after traveling 33,333336 pixels through wall
[02:08:36] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[02:08:36] [ENEMY] [Enemy2] Hit taken, health: 1/3
[02:08:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(445.8923, 944.9862), source=PLAYER (AssaultRifle), range=1469, listeners=9
[02:08:36] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=4
[02:08:36] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:08:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(445.89233, 944.9862), shooter_id=12151234234070, bullet_pos=(471.76736, 687.95197)
[02:08:36] [INFO] [Bullet] Using shooter_position, distance=258,33334
[02:08:36] [INFO] [Bullet] Distance to wall: 258,33334 (17,590393% of viewport)
[02:08:36] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:08:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(417.4159, 956.2166), source=PLAYER (AssaultRifle), range=1469, listeners=9
[02:08:36] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=4
[02:08:36] [ENEMY] [Enemy4] Pursuing vulnerability sound at (483.9349, 901.9232), distance=222
[02:08:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1022.594, 1432.37), source=ENEMY (Enemy10), range=1469, listeners=9
[02:08:36] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=8
[02:08:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(445.89233, 944.9862), shooter_id=12151234234070, bullet_pos=(497.79016, 832.29156)
[02:08:36] [INFO] [Bullet] Using shooter_position, distance=124,07041
[02:08:36] [INFO] [Bullet] Distance to wall: 124,07041 (8,448183% of viewport)
[02:08:36] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:08:36] [INFO] [Bullet] Starting wall penetration at (497.79016, 832.29156)
[02:08:36] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:08:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1022.594, 1432.37), source=ENEMY (Enemy10), range=1469, listeners=9
[02:08:36] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=8
[02:08:36] [INFO] [Bullet] Body exited signal received for penetrating body
[02:08:36] [INFO] [Bullet] Exiting penetration at (503.70444, 865.096) after traveling 0 pixels through wall
[02:08:36] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[02:08:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(417.4159, 956.2166), shooter_id=12151234234070, bullet_pos=(494.221, 709.56476)
[02:08:36] [INFO] [Bullet] Using shooter_position, distance=258,33344
[02:08:36] [INFO] [Bullet] Distance to wall: 258,33344 (17,590399% of viewport)
[02:08:36] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:08:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1022.594, 1432.37), source=ENEMY (Enemy10), range=1469, listeners=9
[02:08:36] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=8
[02:08:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(417.4159, 956.2166), shooter_id=12151234234070, bullet_pos=(506.44113, 798.7312)
[02:08:36] [INFO] [Bullet] Using shooter_position, distance=180,90646
[02:08:36] [INFO] [Bullet] Distance to wall: 180,90646 (12,318254% of viewport)
[02:08:36] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:08:36] [ENEMY] [Enemy10] State: SUPPRESSED -> SEEKING_COVER
[02:08:36] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:08:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1026.591, 1430.876), source=ENEMY (Enemy10), range=1469, listeners=9
[02:08:36] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=8
[02:08:36] [ENEMY] [Enemy3] Ragdoll activated
[02:08:36] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[02:08:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(417.4159, 956.2166), shooter_id=12151234234070, bullet_pos=(175.6662, 711.1763)
[02:08:37] [INFO] [Bullet] Using shooter_position, distance=344,2204
[02:08:37] [INFO] [Bullet] Distance to wall: 344,2204 (23,4386% of viewport)
[02:08:37] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:08:37] [INFO] [LastChance] Threat detected: @Area2D@13946
[02:08:37] [INFO] [LastChance] Effect already used this life
[02:08:37] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:08:37] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[02:08:37] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[02:08:37] [INFO] [PenultimateHit] Player died - ending penultimate effect
[02:08:37] [INFO] [LastChance] Player died
[02:08:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(417.4159, 956.2166), shooter_id=12151234234070, bullet_pos=(49.235584, 730.00543)
[02:08:37] [INFO] [Bullet] Using shooter_position, distance=432,12064
[02:08:37] [INFO] [Bullet] Distance to wall: 432,12064 (29,42389% of viewport)
[02:08:37] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:08:37] [INFO] [Bullet] Starting wall penetration at (49.235584, 730.00543)
[02:08:37] [INFO] [Bullet] Raycast backward hit penetrating body at distance 8,045165
[02:08:37] [INFO] [Bullet] Body exited signal received for penetrating body
[02:08:37] [INFO] [Bullet] Exiting penetration at (24.042603, 733.7574) after traveling 20,470833 pixels through wall
[02:08:37] [INFO] [Bullet] Damage multiplier after penetration: 0,1125
[02:08:37] [INFO] [LastChance] Threat detected: @Area2D@13949
[02:08:37] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:08:37] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:08:37] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[02:08:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(964.6273, 1396.983), shooter_id=12150412151999, bullet_pos=(67.21137, 955.7979)
[02:08:37] [INFO] [Bullet] Using shooter_position, distance=999.999938964844
[02:08:37] [INFO] [Bullet] Distance to wall: 999.999938964844 (68.0918346818594% of viewport)
[02:08:37] [INFO] [Bullet] Distance-based penetration chance: 67.226192871164%
[02:08:37] [INFO] [Bullet] Starting wall penetration at (67.21137, 955.7979)
[02:08:37] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[02:08:37] [INFO] [Bullet] Exiting penetration at (32.81044, 938.8857) after traveling 33.3333320617676 pixels through wall
[02:08:37] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:08:37] [ENEMY] [Enemy10] State: SEEKING_COVER -> IN_COVER
[02:08:37] [ENEMY] [Enemy10] State: IN_COVER -> SUPPRESSED
[02:08:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(964.1511, 1397.658), shooter_id=12150412151999, bullet_pos=(42.98315, 796.451)
[02:08:37] [INFO] [Bullet] Using shooter_position, distance=1100
[02:08:37] [INFO] [Bullet] Distance to wall: 1100 (74.901022721641% of viewport)
[02:08:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(967.8401, 1396.541), shooter_id=12150412151999, bullet_pos=(61.35333, 716.3002)
[02:08:37] [INFO] [Bullet] Using shooter_position, distance=1133.33386230469
[02:08:37] [INFO] [Bullet] Distance to wall: 1133.33386230469 (77.170786701535% of viewport)
[02:08:37] [INFO] [Bullet] Distance-based penetration chance: 56.6340821815425%
[02:08:37] [INFO] [Bullet] Starting wall penetration at (61.35333, 716.3002)
[02:08:37] [INFO] [Bullet] Raycast backward hit penetrating body at distance 1.63441169261932
[02:08:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(528.485, 776.3571), source=ENEMY (Enemy4), range=1469, listeners=9
[02:08:37] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=4
[02:08:37] [INFO] [Bullet] Max penetration distance exceeded: 66.6666717529297 >= 48
[02:08:37] [INFO] [Bullet] Body exited signal received for penetrating body
[02:08:37] [INFO] [Bullet] Exiting penetration at (4.031372, 673.285) after traveling 66.6666717529297 pixels through wall
[02:08:37] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:08:37] [INFO] [LastChance] Threat detected: @Area2D@13966
[02:08:37] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:08:37] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:08:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(964.1511, 1397.658), shooter_id=12150412151999, bullet_pos=(227.4709, 710.9602)
[02:08:37] [INFO] [Bullet] Using shooter_position, distance=1007.10040283203
[02:08:37] [INFO] [Bullet] Distance to wall: 1007.10040283203 (68.5753183231779% of viewport)
[02:08:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(526.439, 774.1733), source=ENEMY (Enemy4), range=1469, listeners=9
[02:08:37] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=4
[02:08:37] [INFO] [LastChance] Threat detected: @Area2D@13968
[02:08:37] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:08:37] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:08:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(964.1511, 1397.658), shooter_id=12150412151999, bullet_pos=(501.3483, 817.858)
[02:08:37] [INFO] [Bullet] Using shooter_position, distance=741.858581542969
[02:08:37] [INFO] [Bullet] Distance to wall: 741.858581542969 (50.5145149749038% of viewport)
[02:08:37] [INFO] [Bullet] Distance-based penetration chance: 87.7330658626122%
[02:08:37] [INFO] [Bullet] Starting wall penetration at (501.3483, 817.858)
[02:08:37] [ENEMY] [Enemy1] FLANKING started: target=(241.5566, 868.509), side=left, pos=(240.9075, 401.9332)
[02:08:37] [ENEMY] [Enemy1] State: PURSUING -> FLANKING
[02:08:37] [INFO] [Bullet] Raycast backward hit penetrating body at distance 4.76728057861328
[02:08:37] [INFO] [Bullet] Body exited signal received for penetrating body
[02:08:37] [INFO] [Bullet] Exiting penetration at (528.441, 828.4327) after traveling 24.0833339691162 pixels through wall
[02:08:37] [INFO] [Bullet] Damage multiplier after penetration: 0.225
[02:08:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(519.2739, 768.8314), source=ENEMY (Enemy4), range=1469, listeners=9
[02:08:37] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=4
[02:08:37] [INFO] [LastChance] Threat detected: Bullet
[02:08:37] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:08:37] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:08:37] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[02:08:37] [INFO] [LastChance] Resetting all effects (scene change detected)
[02:08:37] [ENEMY] [Enemy1] Death animation component initialized
[02:08:37] [ENEMY] [Enemy2] Death animation component initialized
[02:08:37] [ENEMY] [Enemy3] Death animation component initialized
[02:08:37] [ENEMY] [Enemy4] Death animation component initialized
[02:08:37] [ENEMY] [Enemy5] Death animation component initialized
[02:08:37] [ENEMY] [Enemy6] Death animation component initialized
[02:08:37] [ENEMY] [Enemy7] Death animation component initialized
[02:08:37] [ENEMY] [Enemy8] Death animation component initialized
[02:08:37] [ENEMY] [Enemy9] Death animation component initialized
[02:08:37] [ENEMY] [Enemy10] Death animation component initialized
[02:08:37] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[02:08:37] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[02:08:37] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[02:08:37] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[02:08:37] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[02:08:37] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[02:08:37] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[02:08:37] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[02:08:37] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[02:08:37] [ENEMY] [Enemy10] Grenade system configured: offensive=2, flashbangs=0
[02:08:37] [INFO] [ScoreManager] Level started with 10 enemies
[02:08:37] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[02:08:37] [ENEMY] [Enemy1] Registered as sound listener
[02:08:37] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[02:08:37] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[02:08:37] [ENEMY] [Enemy2] Registered as sound listener
[02:08:37] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[02:08:37] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[02:08:37] [ENEMY] [Enemy3] Registered as sound listener
[02:08:37] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[02:08:37] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[02:08:37] [ENEMY] [Enemy4] Registered as sound listener
[02:08:37] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[02:08:37] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[02:08:37] [ENEMY] [Enemy5] Registered as sound listener
[02:08:37] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[02:08:37] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[02:08:37] [ENEMY] [Enemy6] Registered as sound listener
[02:08:37] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[02:08:37] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[02:08:37] [ENEMY] [Enemy7] Registered as sound listener
[02:08:37] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[02:08:37] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[02:08:37] [ENEMY] [Enemy8] Registered as sound listener
[02:08:37] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[02:08:37] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[02:08:37] [ENEMY] [Enemy9] Registered as sound listener
[02:08:37] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[02:08:37] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[02:08:37] [ENEMY] [Enemy10] Registered as sound listener
[02:08:37] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[02:08:37] [INFO] [Player] Detecting weapon pose (frame 3)...
[02:08:37] [INFO] [Player] Detected weapon: Rifle (default pose)
[02:08:37] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[02:08:37] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[02:08:37] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[02:08:37] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[02:08:37] [INFO] [LastChance] Found player: Player
[02:08:37] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[02:08:37] [INFO] [LastChance] Connected to player Damaged signal (C#)
[02:08:37] [INFO] [LastChance] Connected to player Died signal (C#)
[02:08:39] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[02:08:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1144.456, 1518.279), source=ENEMY (Enemy10), range=1469, listeners=19
[02:08:39] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[02:08:39] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:08:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(735.9437, 1234.552), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:08:39] [ENEMY] [Enemy3] Heard gunshot at (735.9437, 1234.552), source_type=0, intensity=0.01, distance=486
[02:08:39] [ENEMY] [Enemy4] Heard gunshot at (735.9437, 1234.552), source_type=0, intensity=0.02, distance=341
[02:08:39] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=0, below_threshold=7
[02:08:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1114.034, 1496.656), source=ENEMY (Enemy10), range=1469, listeners=10
[02:08:39] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:08:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(763.1674, 1207.329), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:08:39] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=0, below_threshold=7
[02:08:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(797.2548, 955.9802), source=ENEMY (Enemy4), range=1469, listeners=10
[02:08:39] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=8
[02:08:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(801.316, 1023.907), shooter_id=12472417259308, bullet_pos=(801.316, 1023.907)
[02:08:39] [INFO] [Bullet] Using shooter_position, distance=0
[02:08:39] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[02:08:39] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[02:08:39] [INFO] [Bullet] Starting wall penetration at (801.316, 1023.907)
[02:08:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(793.9629, 1188.728), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:08:39] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=0, below_threshold=7
[02:08:39] [INFO] [Bullet] Raycast backward hit penetrating body at distance 46.5738868713379
[02:08:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(735.9437, 1234.5524), shooter_id=12474950617548, bullet_pos=(1193.7366, 1635.1719)
[02:08:39] [INFO] [Bullet] Using shooter_position, distance=608,33405
[02:08:39] [INFO] [Bullet] Distance to wall: 608,33405 (41,422585% of viewport)
[02:08:39] [INFO] [LastChance] Threat detected: @Area2D@14227
[02:08:39] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:08:39] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:08:39] [INFO] [Bullet] Body exited signal received for penetrating body
[02:08:39] [INFO] [Bullet] Exiting penetration at (798.7432, 1070.503) after traveling 41.6666679382324 pixels through wall
[02:08:39] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:08:39] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[02:08:39] [ENEMY] [Enemy10] Hit taken, health: 1/2
[02:08:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(797.2548, 955.9802), source=ENEMY (Enemy4), range=1469, listeners=10
[02:08:39] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=8
[02:08:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(811.1677, 1022.591), shooter_id=12472417259308, bullet_pos=(811.1677, 1022.591)
[02:08:39] [INFO] [Bullet] Using shooter_position, distance=0
[02:08:39] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[02:08:39] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[02:08:39] [INFO] [Bullet] Starting wall penetration at (811.1677, 1022.591)
[02:08:39] [ENEMY] [Enemy10] State: PURSUING -> RETREATING
[02:08:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(825.9604, 1184.769), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:08:39] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=0, below_threshold=7
[02:08:39] [INFO] [Bullet] Raycast backward hit penetrating body at distance 36.9187278747559
[02:08:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(793.9629, 1188.7283), shooter_id=12474950617548, bullet_pos=(997.205, 1386.1375)
[02:08:39] [INFO] [Bullet] Using shooter_position, distance=283,33328
[02:08:39] [INFO] [Bullet] Distance to wall: 283,33328 (19,292685% of viewport)
[02:08:39] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:08:39] [INFO] [Bullet] Starting wall penetration at (997.205, 1386.1375)
[02:08:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(793.9629, 1188.7283), shooter_id=12474950617548, bullet_pos=(1000.7916, 1389.6211)
[02:08:39] [INFO] [Bullet] Using shooter_position, distance=288,33322
[02:08:39] [INFO] [Bullet] Distance to wall: 288,33322 (19,63314% of viewport)
[02:08:39] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:08:39] [INFO] [LastChance] Threat detected: @Area2D@14231
[02:08:39] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:08:39] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:08:39] [INFO] [Bullet] Body exited signal received for penetrating body
[02:08:39] [INFO] [Bullet] Exiting penetration at (814.6523, 1060.766) after traveling 33.3333320617676 pixels through wall
[02:08:39] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:08:39] [ENEMY] [Enemy10] State: RETREATING -> IN_COVER
[02:08:39] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[02:08:39] [INFO] [Bullet] Exiting penetration at (973.85547, 1409.2566) after traveling 28,333332 pixels through wall
[02:08:39] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[02:08:39] [ENEMY] [Enemy10] Grenade trigger: critical health (1 HP)
[02:08:39] [ENEMY] [Enemy10] Preparing to throw frag grenade at (830.043, 1179.119)
[02:08:39] [ENEMY] [Enemy10] State: IN_COVER -> THROWING_GRENADE
[02:08:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(797.2548, 955.9802), source=ENEMY (Enemy4), range=1469, listeners=10
[02:08:39] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=8
[02:08:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(819.934, 1020.138), shooter_id=12472417259308, bullet_pos=(819.934, 1020.138)
[02:08:40] [INFO] [Bullet] Using shooter_position, distance=0
[02:08:40] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[02:08:40] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[02:08:40] [INFO] [Bullet] Starting wall penetration at (819.934, 1020.138)
[02:08:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(825.9604, 1184.769), shooter_id=12474950617548, bullet_pos=(984.65234, 1388.6143)
[02:08:40] [INFO] [Bullet] Using shooter_position, distance=258,33313
[02:08:40] [INFO] [Bullet] Distance to wall: 258,33313 (17,590378% of viewport)
[02:08:40] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:08:40] [INFO] [Bullet] Starting wall penetration at (984.65234, 1388.6143)
[02:08:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(856.6391, 1193.206), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:08:40] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=0, below_threshold=7
[02:08:40] [INFO] [Bullet] Raycast backward hit penetrating body at distance 23,904196
[02:08:40] [INFO] [Bullet] Raycast backward hit penetrating body at distance 34.3717269897461
[02:08:40] [INFO] [LastChance] Threat detected: @Area2D@14237
[02:08:40] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:08:40] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:08:40] [INFO] [Bullet] Body exited signal received for penetrating body
[02:08:40] [INFO] [Bullet] Exiting penetration at (1008.2002, 1418.8623) after traveling 33,333336 pixels through wall
[02:08:40] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[02:08:40] [INFO] [Bullet] Body exited signal received for penetrating body
[02:08:40] [INFO] [Bullet] Exiting penetration at (828.4827, 1057.506) after traveling 33.3333358764648 pixels through wall
[02:08:40] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:08:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1083.709, 1487.431), shooter_id=12474128533641, bullet_pos=(62.14108, 811.3964)
[02:08:40] [INFO] [Bullet] Using shooter_position, distance=1224.99938964844
[02:08:40] [INFO] [Bullet] Distance to wall: 1224.99938964844 (83.4124610164126% of viewport)
[02:08:40] [INFO] [Bullet] Distance-based penetration chance: 49.3521288141852%
[02:08:40] [INFO] [Bullet] Penetration failed (distance roll)
[02:08:40] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[02:08:40] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[02:08:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(856.6391, 1193.2064), shooter_id=12474950617548, bullet_pos=(1018.234, 1394.7584)
[02:08:40] [INFO] [Bullet] Using shooter_position, distance=258,33337
[02:08:40] [INFO] [Bullet] Distance to wall: 258,33337 (17,590395% of viewport)
[02:08:40] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:08:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(735.9437, 1234.5524), shooter_id=12474950617548, bullet_pos=(1716.3627, 1203.3916)
[02:08:40] [INFO] [Bullet] Using shooter_position, distance=980,914
[02:08:40] [INFO] [Bullet] Distance to wall: 980,914 (66,79224% of viewport)
[02:08:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1055.916, 1461.084), shooter_id=12474128533641, bullet_pos=(58.32489, 680.5344)
[02:08:40] [INFO] [Bullet] Using shooter_position, distance=1266.66711425781
[02:08:40] [INFO] [Bullet] Distance to wall: 1266.66711425781 (86.2496930052544% of viewport)
[02:08:40] [INFO] [Bullet] Distance-based penetration chance: 46.0420248272033%
[02:08:40] [INFO] [Bullet] Starting wall penetration at (58.32489, 680.5344)
[02:08:40] [INFO] [Bullet] Raycast backward hit penetrating body at distance 4.9079213142395
[02:08:40] [INFO] [Bullet] Max penetration distance exceeded: 66.6666641235352 >= 48
[02:08:40] [INFO] [Bullet] Body exited signal received for penetrating body
[02:08:40] [INFO] [Bullet] Exiting penetration at (1.882259, 636.3718) after traveling 66.6666641235352 pixels through wall
[02:08:40] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:08:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(735.9437, 1234.5524), shooter_id=12474950617548, bullet_pos=(2035.8525, 1467.3369)
[02:08:40] [INFO] [Bullet] Using shooter_position, distance=1320,5875
[02:08:40] [INFO] [Bullet] Distance to wall: 1320,5875 (89,921234% of viewport)
[02:08:40] [ENEMY] [Enemy10] Threw frag grenade: target=(830.043, 1179.119), deviation=-2.4°, distance=363
[02:08:40] [INFO] [GrenadeBase] Grenade created at (1045.862, 1432.13) (frozen)
[02:08:40] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[02:08:40] [INFO] [GrenadeBase] LEGACY throw_grenade() called! Direction: (-0.682803, -0.730602), Speed: 362.5 (unfrozen)
[02:08:40] [INFO] [GrenadeBase] NOTE: Using DRAG-BASED system. If velocity-based is expected, ensure grenade has throw_grenade_velocity_based() method.
[02:08:40] [INFO] [FragGrenade] Grenade thrown (legacy) - impact detection enabled
[02:08:40] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[02:08:40] [ENEMY] [Enemy10] State: THROWING_GRENADE -> SEEKING_COVER
[02:08:40] [INFO] [GrenadeBase] Collision detected with Enemy10 (type: CharacterBody2D)
[02:08:40] [INFO] [FragGrenade] Impact detected! Body: Enemy10 (type: CharacterBody2D), triggering explosion
[02:08:40] [INFO] [FragGrenade] Impact detected - exploding immediately!
[02:08:40] [INFO] [GrenadeBase] EXPLODED at (1041.681, 1427.657)!
[02:08:40] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1041.681, 1427.657), source=NEUTRAL (FragGrenade), range=2937, listeners=10
[02:08:40] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=9
[02:08:40] [ENEMY] [Enemy10] Hit taken, health: 0/2
[02:08:40] [ENEMY] [Enemy10] Enemy died (ricochet: false, penetration: false)
[02:08:40] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[02:08:40] [INFO] [SoundPropagation] Unregistered listener: Enemy10 (remaining: 9)
[02:08:40] [INFO] [DeathAnim] Started - Angle: 46.9 deg, Index: 15
[02:08:40] [ENEMY] [Enemy10] Death animation started with hit direction: (0.682804, 0.730601)
[02:08:40] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 36.1
[02:08:40] [INFO] [FragGrenade] Spawned shrapnel #1 at angle -17.9 degrees
[02:08:40] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 109.3 degrees
[02:08:40] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 194.0 degrees
[02:08:40] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 275.9 degrees
[02:08:40] [INFO] [GrenadeBase] Collision detected with MainHall_WallTop (type: StaticBody2D)
[02:08:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(735.9437, 1234.5524), shooter_id=12474950617548, bullet_pos=(2471.5994, 1153.0851)
[02:08:40] [INFO] [Bullet] Using shooter_position, distance=1737,5665
[02:08:40] [INFO] [Bullet] Distance to wall: 1737,5665 (118,3141% of viewport)
[02:08:40] [INFO] [Bullet] Distance-based penetration chance: 26,337183%
[02:08:40] [INFO] [Bullet] Starting wall penetration at (2471.5994, 1153.0851)
[02:08:40] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[02:08:40] [INFO] [Bullet] Exiting penetration at (2492.2583, 1138.1863) after traveling 20,470835 pixels through wall
[02:08:40] [INFO] [Bullet] Damage multiplier after penetration: 0,1125
[02:08:41] [ENEMY] [Enemy3] Hit taken, health: 2/3
[02:08:41] [ENEMY] [Enemy10] Ragdoll activated
[02:08:41] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[02:08:41] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[02:08:41] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[02:08:41] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[02:08:41] [ENEMY] [Enemy3] State: PURSUING -> RETREATING
[02:08:41] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[02:08:41] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[02:08:41] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[02:08:41] [INFO] [LastChance] Resetting all effects (scene change detected)
[02:08:41] [ENEMY] [Enemy1] Death animation component initialized
[02:08:41] [ENEMY] [Enemy2] Death animation component initialized
[02:08:41] [ENEMY] [Enemy3] Death animation component initialized
[02:08:41] [ENEMY] [Enemy4] Death animation component initialized
[02:08:41] [ENEMY] [Enemy5] Death animation component initialized
[02:08:41] [ENEMY] [Enemy6] Death animation component initialized
[02:08:41] [ENEMY] [Enemy7] Death animation component initialized
[02:08:41] [ENEMY] [Enemy8] Death animation component initialized
[02:08:41] [ENEMY] [Enemy9] Death animation component initialized
[02:08:41] [ENEMY] [Enemy10] Death animation component initialized
[02:08:41] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[02:08:41] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[02:08:41] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[02:08:41] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[02:08:41] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[02:08:41] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[02:08:41] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[02:08:41] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[02:08:41] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[02:08:41] [ENEMY] [Enemy10] Grenade system configured: offensive=2, flashbangs=0
[02:08:41] [INFO] [ScoreManager] Level started with 10 enemies
[02:08:41] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[02:08:41] [ENEMY] [Enemy1] Registered as sound listener
[02:08:41] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[02:08:41] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[02:08:41] [ENEMY] [Enemy2] Registered as sound listener
[02:08:41] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[02:08:41] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[02:08:41] [ENEMY] [Enemy3] Registered as sound listener
[02:08:41] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[02:08:41] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[02:08:41] [ENEMY] [Enemy4] Registered as sound listener
[02:08:41] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[02:08:41] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[02:08:41] [ENEMY] [Enemy5] Registered as sound listener
[02:08:41] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[02:08:41] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[02:08:41] [ENEMY] [Enemy6] Registered as sound listener
[02:08:41] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[02:08:41] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[02:08:41] [ENEMY] [Enemy7] Registered as sound listener
[02:08:41] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[02:08:41] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[02:08:41] [ENEMY] [Enemy8] Registered as sound listener
[02:08:41] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[02:08:41] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[02:08:41] [ENEMY] [Enemy9] Registered as sound listener
[02:08:41] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[02:08:41] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[02:08:41] [ENEMY] [Enemy10] Registered as sound listener
[02:08:41] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[02:08:41] [INFO] [Player] Detecting weapon pose (frame 3)...
[02:08:41] [INFO] [Player] Detected weapon: Rifle (default pose)
[02:08:41] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[02:08:41] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[02:08:41] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[02:08:41] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[02:08:41] [INFO] [LastChance] Found player: Player
[02:08:41] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[02:08:41] [INFO] [LastChance] Connected to player Damaged signal (C#)
[02:08:41] [INFO] [LastChance] Connected to player Died signal (C#)
[02:08:41] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[02:08:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1144.08, 1518.907), source=ENEMY (Enemy10), range=1469, listeners=19
[02:08:42] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[02:08:42] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:08:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(533.3365, 1104.806), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:08:42] [ENEMY] [Enemy3] Heard gunshot at (533.3365, 1104.806), source_type=0, intensity=0.02, distance=392
[02:08:42] [ENEMY] [Enemy4] Heard gunshot at (533.3365, 1104.806), source_type=0, intensity=0.02, distance=336
[02:08:42] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=6
[02:08:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1112.733, 1498.638), source=ENEMY (Enemy10), range=1469, listeners=10
[02:08:42] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:08:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(564.132, 1086.205), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:08:42] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=6
[02:08:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1082.475, 1476.776), source=ENEMY (Enemy10), range=1469, listeners=10
[02:08:42] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:08:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(600.9554, 1082.157), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:08:42] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=6
[02:08:42] [ENEMY] [Enemy10] Hit taken, health: 2/3
[02:08:42] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1053.251, 1453.548), source=ENEMY (Enemy10), range=1469, listeners=10
[02:08:42] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:08:42] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[02:08:42] [ENEMY] [Enemy10] Hit taken, health: 1/3
[02:08:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1082.382, 1490.072), shooter_id=12697768822757, bullet_pos=(53.49808, 856.455)
[02:08:42] [INFO] [Bullet] Using shooter_position, distance=1208.33447265625
[02:08:42] [INFO] [Bullet] Distance to wall: 1208.33447265625 (82.2777161743344% of viewport)
[02:08:42] [ENEMY] [Enemy10] State: PURSUING -> RETREATING
[02:08:42] [ENEMY] [Enemy10] Hit taken, health: 0/3
[02:08:42] [ENEMY] [Enemy10] Enemy died (ricochet: false, penetration: false)
[02:08:42] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[02:08:42] [INFO] [SoundPropagation] Unregistered listener: Enemy10 (remaining: 9)
[02:08:42] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[02:08:42] [ENEMY] [Enemy10] Death animation started with hit direction: (1, 0)
[02:08:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1082.382, 1490.072), shooter_id=12697768822757, bullet_pos=(233.629, 710.7761)
[02:08:42] [INFO] [Bullet] Using shooter_position, distance=1152.25146484375
[02:08:42] [INFO] [Bullet] Distance to wall: 1152.25146484375 (78.4589210448235% of viewport)
[02:08:42] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[02:08:42] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[02:08:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(996.3133, 1416.199), shooter_id=12697768822757, bullet_pos=(510.0262, 1010.445)
[02:08:42] [INFO] [Bullet] Using shooter_position, distance=633.33349609375
[02:08:42] [INFO] [Bullet] Distance to wall: 633.33349609375 (43.1248423466312% of viewport)
[02:08:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(996.3133, 1416.199), shooter_id=12697768822757, bullet_pos=(506.3858, 1013.872)
[02:08:42] [INFO] [Bullet] Using shooter_position, distance=633.952270507813
[02:08:42] [INFO] [Bullet] Distance to wall: 633.952270507813 (43.1669758343105% of viewport)
[02:08:42] [INFO] [Bullet] Distance-based penetration chance: 96.3051948599711%
[02:08:42] [INFO] [Bullet] Penetration failed (distance roll)
[02:08:42] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1052.615, 1466.629), shooter_id=12697768822757, bullet_pos=(51.24112, 775.5956)
[02:08:42] [INFO] [Bullet] Using shooter_position, distance=1216.66650390625
[02:08:42] [INFO] [Bullet] Distance to wall: 1216.66650390625 (82.8450595034014% of viewport)
[02:08:42] [INFO] [Bullet] Distance-based penetration chance: 50.0140972460318%
[02:08:42] [INFO] [Bullet] Penetration failed (distance roll)
[02:08:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1024.006, 1441.863), shooter_id=12697768822757, bullet_pos=(51.09101, 697.5101)
[02:08:43] [INFO] [Bullet] Using shooter_position, distance=1225.00024414063
[02:08:43] [INFO] [Bullet] Distance to wall: 1225.00024414063 (83.412519200357% of viewport)
[02:08:43] [INFO] [Bullet] Distance-based penetration chance: 49.3520609329169%
[02:08:43] [INFO] [Bullet] Starting wall penetration at (51.09101, 697.5101)
[02:08:43] [INFO] [Bullet] Raycast backward hit penetrating body at distance 14.2957792282104
[02:08:43] [INFO] [Bullet] Body exited signal received for penetrating body
[02:08:43] [INFO] [Bullet] Exiting penetration at (20.64603, 674.2175) after traveling 33.3333320617676 pixels through wall
[02:08:43] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:08:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1082.382, 1490.072), shooter_id=12697768822757, bullet_pos=(500.2769, 961.8493)
[02:08:43] [INFO] [Bullet] Using shooter_position, distance=786.044067382813
[02:08:43] [INFO] [Bullet] Distance to wall: 786.044067382813 (53.5231859556828% of viewport)
[02:08:43] [ENEMY] [Enemy10] Ragdoll activated
[02:08:43] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[02:08:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1082.382, 1490.072), shooter_id=12697768822757, bullet_pos=(60.66505, 1305.046)
[02:08:43] [INFO] [Bullet] Using shooter_position, distance=1038.3349609375
[02:08:43] [INFO] [Bullet] Distance to wall: 1038.3349609375 (70.7021368198672% of viewport)
[02:08:43] [INFO] [Bullet] Distance-based penetration chance: 64.1808403768217%
[02:08:43] [INFO] [Bullet] Penetration failed (distance roll)
[02:08:43] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[02:08:43] [INFO] [LastChance] Resetting all effects (scene change detected)
[02:08:43] [ENEMY] [Enemy1] Death animation component initialized
[02:08:43] [ENEMY] [Enemy2] Death animation component initialized
[02:08:43] [ENEMY] [Enemy3] Death animation component initialized
[02:08:43] [ENEMY] [Enemy4] Death animation component initialized
[02:08:43] [ENEMY] [Enemy5] Death animation component initialized
[02:08:43] [ENEMY] [Enemy6] Death animation component initialized
[02:08:43] [ENEMY] [Enemy7] Death animation component initialized
[02:08:43] [ENEMY] [Enemy8] Death animation component initialized
[02:08:43] [ENEMY] [Enemy9] Death animation component initialized
[02:08:43] [ENEMY] [Enemy10] Death animation component initialized
[02:08:43] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[02:08:43] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[02:08:43] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[02:08:43] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[02:08:43] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[02:08:43] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[02:08:43] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[02:08:43] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[02:08:43] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[02:08:43] [ENEMY] [Enemy10] Grenade system configured: offensive=2, flashbangs=0
[02:08:43] [INFO] [ScoreManager] Level started with 10 enemies
[02:08:43] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[02:08:43] [ENEMY] [Enemy1] Registered as sound listener
[02:08:43] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[02:08:43] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[02:08:43] [ENEMY] [Enemy2] Registered as sound listener
[02:08:43] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[02:08:43] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[02:08:43] [ENEMY] [Enemy3] Registered as sound listener
[02:08:43] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[02:08:43] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[02:08:43] [ENEMY] [Enemy4] Registered as sound listener
[02:08:43] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[02:08:43] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[02:08:43] [ENEMY] [Enemy5] Registered as sound listener
[02:08:43] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[02:08:43] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[02:08:43] [ENEMY] [Enemy6] Registered as sound listener
[02:08:43] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[02:08:43] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[02:08:43] [ENEMY] [Enemy7] Registered as sound listener
[02:08:43] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[02:08:43] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[02:08:43] [ENEMY] [Enemy8] Registered as sound listener
[02:08:43] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[02:08:43] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[02:08:43] [ENEMY] [Enemy9] Registered as sound listener
[02:08:43] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[02:08:43] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[02:08:43] [ENEMY] [Enemy10] Registered as sound listener
[02:08:43] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[02:08:43] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[02:08:43] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[02:08:43] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[02:08:43] [INFO] [LastChance] Found player: Player
[02:08:43] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[02:08:43] [INFO] [LastChance] Connected to player Damaged signal (C#)
[02:08:43] [INFO] [LastChance] Connected to player Died signal (C#)
[02:08:43] [INFO] [Player] Detecting weapon pose (frame 3)...
[02:08:43] [INFO] [Player] Detected weapon: Rifle (default pose)
[02:08:43] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[02:08:44] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[02:08:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1144.249, 1518.62), source=ENEMY (Enemy10), range=1469, listeners=19
[02:08:44] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[02:08:44] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:08:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(627.8308, 1177.533), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:08:44] [ENEMY] [Enemy3] Heard gunshot at (627.8308, 1177.533), source_type=0, intensity=0.01, distance=434
[02:08:44] [ENEMY] [Enemy4] Heard gunshot at (627.8308, 1177.533), source_type=0, intensity=0.02, distance=327
[02:08:44] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=6
[02:08:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1113.283, 1497.777), source=ENEMY (Enemy10), range=1469, listeners=10
[02:08:44] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:08:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(655.0545, 1150.309), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:08:44] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=6
[02:08:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(627.8308, 1177.5326), shooter_id=12835090336173, bullet_pos=(897.9702, 1412.9629)
[02:08:44] [INFO] [Bullet] Using shooter_position, distance=358,33325
[02:08:44] [INFO] [Bullet] Distance to wall: 358,33325 (24,39957% of viewport)
[02:08:44] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:08:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1083.745, 1474.956), source=ENEMY (Enemy10), range=1469, listeners=10
[02:08:44] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:08:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(682.2782, 1123.086), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:08:44] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=7
[02:08:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(655.0545, 1150.3093), shooter_id=12835090336173, bullet_pos=(911.3811, 1400.7078)
[02:08:44] [INFO] [Bullet] Using shooter_position, distance=358,33322
[02:08:44] [INFO] [Bullet] Distance to wall: 358,33322 (24,399569% of viewport)
[02:08:44] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:08:44] [INFO] [Bullet] Starting wall penetration at (911.3811, 1400.7078)
[02:08:44] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[02:08:44] [INFO] [Bullet] Raycast backward hit penetrating body at distance 45,801506
[02:08:44] [INFO] [Bullet] Body exited signal received for penetrating body
[02:08:44] [INFO] [Bullet] Exiting penetration at (944.7632, 1433.3177) after traveling 41,666668 pixels through wall
[02:08:44] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[02:08:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1082.948, 1488.924), shooter_id=12834268252108, bullet_pos=(62.96924, 841.0717)
[02:08:45] [INFO] [Bullet] Using shooter_position, distance=1208.33325195313
[02:08:45] [INFO] [Bullet] Distance to wall: 1208.33325195313 (82.2776330544139% of viewport)
[02:08:45] [INFO] [Bullet] Distance-based penetration chance: 50.6760947698504%
[02:08:45] [INFO] [Bullet] Starting wall penetration at (62.96924, 841.0717)
[02:08:45] [INFO] [Bullet] Raycast backward hit penetrating body at distance 9.97848415374756
[02:08:45] [INFO] [Bullet] Body exited signal received for penetrating body
[02:08:45] [INFO] [Bullet] Exiting penetration at (23.57694, 816.0511) after traveling 41.6666679382324 pixels through wall
[02:08:45] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:08:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1026.922, 1437.516), shooter_id=12834268252108, bullet_pos=(515.9468, 1009.322)
[02:08:45] [INFO] [Bullet] Using shooter_position, distance=666.66748046875
[02:08:45] [INFO] [Bullet] Distance to wall: 666.66748046875 (45.3946146385172% of viewport)
[02:08:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1026.922, 1437.516), shooter_id=12834268252108, bullet_pos=(512.3245, 1012.769)
[02:08:45] [INFO] [Bullet] Using shooter_position, distance=667.24853515625
[02:08:45] [INFO] [Bullet] Distance to wall: 667.24853515625 (45.4341797206545% of viewport)
[02:08:45] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[02:08:45] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[02:08:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(682.2782, 1123.086), shooter_id=12835090336173, bullet_pos=(1199.6069, 1642.8446)
[02:08:45] [INFO] [Bullet] Using shooter_position, distance=733,3335
[02:08:45] [INFO] [Bullet] Distance to wall: 733,3335 (49,934025% of viewport)
[02:08:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1053.968, 1464.276), shooter_id=12834268252108, bullet_pos=(43.10716, 728.9799)
[02:08:45] [INFO] [Bullet] Using shooter_position, distance=1250.00048828125
[02:08:45] [INFO] [Bullet] Distance to wall: 1250.00048828125 (85.1148317952874% of viewport)
[02:08:45] [ENEMY] [Enemy10] State: PURSUING -> RETREATING
[02:08:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1053.968, 1464.276), shooter_id=12834268252108, bullet_pos=(107.1711, 688.4027)
[02:08:45] [INFO] [Bullet] Using shooter_position, distance=1224.09350585938
[02:08:45] [INFO] [Bullet] Distance to wall: 1224.09350585938 (83.350777723442% of viewport)
[02:08:45] [ENEMY] [Enemy10] State: RETREATING -> IN_COVER
[02:08:45] [ENEMY] [Enemy10] State: IN_COVER -> SUPPRESSED
[02:08:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1053.968, 1464.276), shooter_id=12834268252108, bullet_pos=(54.25659, 650.2953)
[02:08:45] [INFO] [Bullet] Using shooter_position, distance=1289.18139648438
[02:08:45] [INFO] [Bullet] Distance to wall: 1289.18139648438 (87.7827318821754% of viewport)
[02:08:45] [INFO] [Bullet] Distance-based penetration chance: 44.2534794707953%
[02:08:45] [INFO] [Bullet] Penetration failed (distance roll)
[02:08:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(682.2782, 1123.086), shooter_id=12835090336173, bullet_pos=(1388.9125, 1380.2097)
[02:08:45] [INFO] [Bullet] Using shooter_position, distance=751,96045
[02:08:45] [INFO] [Bullet] Distance to wall: 751,96045 (51,20237% of viewport)
[02:08:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(682.2782, 1123.086), shooter_id=12835090336173, bullet_pos=(1392.1132, 1384.051)
[02:08:45] [INFO] [Bullet] Using shooter_position, distance=756,2859
[02:08:45] [INFO] [Bullet] Distance to wall: 756,2859 (51,4969% of viewport)
[02:08:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1026.922, 1437.516), shooter_id=12834268252108, bullet_pos=(220.9452, 701.377)
[02:08:45] [INFO] [Bullet] Using shooter_position, distance=1091.55822753906
[02:08:45] [INFO] [Bullet] Distance to wall: 1091.55822753906 (74.326206911725% of viewport)
[02:08:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1026.922, 1437.516), shooter_id=12834268252108, bullet_pos=(67.90515, 880.1042)
[02:08:45] [INFO] [Bullet] Using shooter_position, distance=1109.24365234375
[02:08:45] [INFO] [Bullet] Distance to wall: 1109.24365234375 (75.5304400073047% of viewport)
[02:08:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1026.922, 1437.516), shooter_id=12834268252108, bullet_pos=(550.8604, 1388.205)
[02:08:46] [INFO] [Bullet] Using shooter_position, distance=478.608947753906
[02:08:46] [INFO] [Bullet] Distance to wall: 478.608947753906 (32.5893633368145% of viewport)
[02:08:46] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:08:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1026.922, 1437.516), shooter_id=12834268252108, bullet_pos=(1022.959, 1023.426)
[02:08:46] [INFO] [Bullet] Using shooter_position, distance=414.108978271484
[02:08:46] [INFO] [Bullet] Distance to wall: 414.108978271484 (28.1974418097709% of viewport)
[02:08:46] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:08:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1026.922, 1437.516), shooter_id=12834268252108, bullet_pos=(1672.741, 1445.833)
[02:08:47] [INFO] [Bullet] Using shooter_position, distance=645.872009277344
[02:08:47] [INFO] [Bullet] Distance to wall: 645.872009277344 (43.9786127655947% of viewport)
[02:08:47] [ENEMY] [Enemy10] Grenade trigger: suppressed and player visible (being chased)
[02:08:47] [ENEMY] [Enemy10] Preparing to throw frag grenade at (962.5057, 1365.407)
[02:08:47] [ENEMY] [Enemy10] State: SUPPRESSED -> THROWING_GRENADE
[02:08:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1026.922, 1437.516), shooter_id=12834268252108, bullet_pos=(1509.333, 1546.644)
[02:08:47] [INFO] [Bullet] Using shooter_position, distance=494.599822998047
[02:08:47] [INFO] [Bullet] Distance to wall: 494.599822998047 (33.6782114368148% of viewport)
[02:08:47] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:08:47] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:08:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1063.631, 1457.451), source=ENEMY (Enemy10), range=1469, listeners=10
[02:08:47] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:08:47] [INFO] [LastChance] Threat detected: Bullet
[02:08:47] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:08:47] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:08:47] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[02:08:47] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[02:08:47] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:08:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1063.631, 1457.451), source=ENEMY (Enemy10), range=1469, listeners=10
[02:08:47] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:08:47] [INFO] [LastChance] Threat detected: Bullet
[02:08:47] [INFO] [LastChance] Player health is 3.0 - effect requires exactly 1 HP or less but alive
[02:08:47] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:08:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(995.8689, 1463.689), shooter_id=12834268252108, bullet_pos=(912.5577, 1461.767)
[02:08:47] [INFO] [Bullet] Using shooter_position, distance=83.3333358764648
[02:08:47] [INFO] [Bullet] Distance to wall: 83.3333358764648 (5.67432007632112% of viewport)
[02:08:47] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:08:47] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:08:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1063.631, 1457.451), source=ENEMY (Enemy10), range=1469, listeners=10
[02:08:47] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:08:47] [INFO] [LastChance] Threat detected: @Area2D@14835
[02:08:47] [INFO] [LastChance] Player health is 3.0 - effect requires exactly 1 HP or less but alive
[02:08:47] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:08:47] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[02:08:47] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[02:08:47] [ENEMY] [Enemy10] Threw frag grenade: target=(962.5057, 1365.407), deviation=-1.1°, distance=137
[02:08:47] [INFO] [GrenadeBase] Grenade created at (1041.051, 1437.699) (frozen)
[02:08:47] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[02:08:47] [INFO] [GrenadeBase] LEGACY throw_grenade() called! Direction: (-0.75266, -0.658409), Speed: 136.7 (unfrozen)
[02:08:47] [INFO] [GrenadeBase] NOTE: Using DRAG-BASED system. If velocity-based is expected, ensure grenade has throw_grenade_velocity_based() method.
[02:08:47] [INFO] [FragGrenade] Grenade thrown (legacy) - impact detection enabled
[02:08:47] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[02:08:47] [ENEMY] [Enemy10] State: THROWING_GRENADE -> SEEKING_COVER
[02:08:47] [INFO] [GrenadeBase] Collision detected with Enemy10 (type: CharacterBody2D)
[02:08:47] [INFO] [FragGrenade] Impact detected! Body: Enemy10 (type: CharacterBody2D), triggering explosion
[02:08:47] [INFO] [FragGrenade] Impact detected - exploding immediately!
[02:08:47] [INFO] [GrenadeBase] EXPLODED at (1038.344, 1435.33)!
[02:08:47] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1038.344, 1435.33), source=NEUTRAL (FragGrenade), range=2937, listeners=10
[02:08:47] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=9
[02:08:47] [ENEMY] [Enemy10] Hit taken, health: 2/3
[02:08:47] [ENEMY] [Enemy10] Hit taken, health: 1/3
[02:08:47] [ENEMY] [Enemy10] Hit taken, health: 0/3
[02:08:47] [ENEMY] [Enemy10] Enemy died (ricochet: false, penetration: false)
[02:08:47] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[02:08:47] [INFO] [SoundPropagation] Unregistered listener: Enemy10 (remaining: 9)
[02:08:47] [INFO] [DeathAnim] Started - Angle: 41.2 deg, Index: 14
[02:08:47] [ENEMY] [Enemy10] Death animation started with hit direction: (0.752661, 0.658408)
[02:08:47] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 33.6
[02:08:47] [INFO] [FragGrenade] Player found in blast radius at distance 108.5
[02:08:47] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[02:08:47] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[02:08:47] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[02:08:47] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[02:08:47] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[02:08:47] [INFO] [PenultimateHit] Player died - ending penultimate effect
[02:08:47] [INFO] [LastChance] Player died
[02:08:47] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 108.5
[02:08:47] [INFO] [FragGrenade] Spawned shrapnel #1 at angle 7.3 degrees
[02:08:47] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 77.3 degrees
[02:08:47] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 175.7 degrees
[02:08:47] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 262.4 degrees
[02:08:48] [ENEMY] [Enemy4] FLANKING started: target=(852.1353, 1575.249), side=left, pos=(809.0249, 960.2161)
[02:08:48] [ENEMY] [Enemy4] State: PURSUING -> FLANKING
[02:08:48] [ENEMY] [Enemy10] Ragdoll activated
[02:08:48] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[02:08:48] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[02:08:48] [INFO] [LastChance] Resetting all effects (scene change detected)
[02:08:48] [ENEMY] [Enemy1] Death animation component initialized
[02:08:48] [ENEMY] [Enemy2] Death animation component initialized
[02:08:48] [ENEMY] [Enemy3] Death animation component initialized
[02:08:48] [ENEMY] [Enemy4] Death animation component initialized
[02:08:48] [ENEMY] [Enemy5] Death animation component initialized
[02:08:48] [ENEMY] [Enemy6] Death animation component initialized
[02:08:48] [ENEMY] [Enemy7] Death animation component initialized
[02:08:48] [ENEMY] [Enemy8] Death animation component initialized
[02:08:48] [ENEMY] [Enemy9] Death animation component initialized
[02:08:48] [ENEMY] [Enemy10] Death animation component initialized
[02:08:48] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[02:08:48] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[02:08:48] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[02:08:48] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[02:08:48] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[02:08:48] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[02:08:48] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[02:08:48] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[02:08:48] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[02:08:48] [ENEMY] [Enemy10] Grenade system configured: offensive=2, flashbangs=0
[02:08:48] [INFO] [ScoreManager] Level started with 10 enemies
[02:08:48] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[02:08:48] [ENEMY] [Enemy1] Registered as sound listener
[02:08:48] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[02:08:48] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[02:08:48] [ENEMY] [Enemy2] Registered as sound listener
[02:08:48] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[02:08:48] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[02:08:48] [ENEMY] [Enemy3] Registered as sound listener
[02:08:48] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[02:08:48] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[02:08:48] [ENEMY] [Enemy4] Registered as sound listener
[02:08:48] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[02:08:48] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[02:08:48] [ENEMY] [Enemy5] Registered as sound listener
[02:08:48] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[02:08:48] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[02:08:48] [ENEMY] [Enemy6] Registered as sound listener
[02:08:48] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[02:08:48] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[02:08:48] [ENEMY] [Enemy7] Registered as sound listener
[02:08:48] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[02:08:48] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[02:08:48] [ENEMY] [Enemy8] Registered as sound listener
[02:08:48] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[02:08:48] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[02:08:48] [ENEMY] [Enemy9] Registered as sound listener
[02:08:48] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[02:08:48] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[02:08:48] [ENEMY] [Enemy10] Registered as sound listener
[02:08:48] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[02:08:48] [INFO] [Player] Detecting weapon pose (frame 3)...
[02:08:48] [INFO] [Player] Detected weapon: Rifle (default pose)
[02:08:48] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[02:08:48] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[02:08:48] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[02:08:48] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[02:08:48] [INFO] [LastChance] Found player: Player
[02:08:48] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[02:08:48] [INFO] [LastChance] Connected to player Damaged signal (C#)
[02:08:48] [INFO] [LastChance] Connected to player Died signal (C#)
[02:08:50] [INFO] ------------------------------------------------------------
[02:08:50] [INFO] GAME LOG ENDED: 2026-01-24T02:08:50
[02:08:50] [INFO] ============================================================
