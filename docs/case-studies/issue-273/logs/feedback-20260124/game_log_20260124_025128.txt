[02:51:28] [INFO] ============================================================
[02:51:28] [INFO] GAME LOG STARTED
[02:51:28] [INFO] ============================================================
[02:51:28] [INFO] Timestamp: 2026-01-24T02:51:28
[02:51:28] [INFO] Log file: I:/Загрузки/godot exe/game_log_20260124_025128.txt
[02:51:28] [INFO] Executable: I:/Загрузки/godot exe/Godot-Top-Down-Template.exe
[02:51:28] [INFO] OS: Windows
[02:51:28] [INFO] Debug build: false
[02:51:28] [INFO] Engine version: 4.3-stable (official)
[02:51:28] [INFO] Project: Godot Top-Down Template
[02:51:28] [INFO] ------------------------------------------------------------
[02:51:28] [INFO] [GameManager] GameManager ready
[02:51:28] [INFO] [ScoreManager] ScoreManager ready
[02:51:28] [INFO] [SoundPropagation] SoundPropagation autoload initialized
[02:51:28] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[02:51:28] [INFO] [PenultimateHit] Saturation shader loaded successfully
[02:51:28] [INFO] [PenultimateHit] PenultimateHitEffectsManager ready - Configuration:
[02:51:28] [INFO] [PenultimateHit]   Time scale: 0.10 (10x slowdown)
[02:51:28] [INFO] [PenultimateHit]   Saturation boost: 2.0 (3.0x)
[02:51:28] [INFO] [PenultimateHit]   Contrast boost: 1.0 (2.0x)
[02:51:28] [INFO] [PenultimateHit]   Effect duration: 3.0 real seconds
[02:51:28] [INFO] [LastChance] Resetting all effects (scene change detected)
[02:51:28] [INFO] [LastChance] Last chance shader loaded successfully
[02:51:28] [INFO] [LastChance] LastChanceEffectsManager ready - Configuration:
[02:51:28] [INFO] [LastChance]   Freeze duration: 6.0 real seconds
[02:51:28] [INFO] [LastChance]   Sepia intensity: 0.70
[02:51:28] [INFO] [LastChance]   Brightness: 0.60
[02:51:28] [INFO] [GrenadeManager] Loaded grenade scene: res://scenes/projectiles/FlashbangGrenade.tscn
[02:51:28] [INFO] [GrenadeManager] Loaded grenade scene: res://scenes/projectiles/FragGrenade.tscn
[02:51:28] [ENEMY] [Enemy1] Death animation component initialized
[02:51:28] [ENEMY] [Enemy2] Death animation component initialized
[02:51:28] [ENEMY] [Enemy3] Death animation component initialized
[02:51:28] [ENEMY] [Enemy4] Death animation component initialized
[02:51:28] [ENEMY] [Enemy5] Death animation component initialized
[02:51:28] [ENEMY] [Enemy6] Death animation component initialized
[02:51:28] [ENEMY] [Enemy7] Death animation component initialized
[02:51:28] [ENEMY] [Enemy8] Death animation component initialized
[02:51:28] [ENEMY] [Enemy9] Death animation component initialized
[02:51:28] [ENEMY] [Enemy10] Death animation component initialized
[02:51:28] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[02:51:28] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[02:51:28] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[02:51:28] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[02:51:28] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[02:51:28] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[02:51:28] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[02:51:28] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[02:51:28] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[02:51:28] [ENEMY] [Enemy10] Grenade system configured: offensive=2, flashbangs=0
[02:51:28] [INFO] [ScoreManager] Level started with 10 enemies
[02:51:28] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 1)
[02:51:28] [ENEMY] [Enemy1] Registered as sound listener
[02:51:28] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[02:51:28] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 2)
[02:51:28] [ENEMY] [Enemy2] Registered as sound listener
[02:51:28] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[02:51:28] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 3)
[02:51:28] [ENEMY] [Enemy3] Registered as sound listener
[02:51:28] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[02:51:28] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 4)
[02:51:28] [ENEMY] [Enemy4] Registered as sound listener
[02:51:28] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[02:51:28] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 5)
[02:51:28] [ENEMY] [Enemy5] Registered as sound listener
[02:51:28] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[02:51:28] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 6)
[02:51:28] [ENEMY] [Enemy6] Registered as sound listener
[02:51:28] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 3, behavior: GUARD, player_found: yes
[02:51:28] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 7)
[02:51:28] [ENEMY] [Enemy7] Registered as sound listener
[02:51:28] [ENEMY] [Enemy7] Enemy spawned at (1606.114, 893.8859), health: 4, behavior: PATROL, player_found: yes
[02:51:28] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 8)
[02:51:28] [ENEMY] [Enemy8] Registered as sound listener
[02:51:28] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[02:51:28] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 9)
[02:51:28] [ENEMY] [Enemy9] Registered as sound listener
[02:51:28] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[02:51:28] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 10)
[02:51:28] [ENEMY] [Enemy10] Registered as sound listener
[02:51:28] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[02:51:28] [INFO] [Player] Detecting weapon pose (frame 3)...
[02:51:28] [INFO] [Player] Detected weapon: Rifle (default pose)
[02:51:28] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[02:51:28] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[02:51:28] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[02:51:28] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[02:51:28] [INFO] [LastChance] Found player: Player
[02:51:28] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[02:51:28] [INFO] [LastChance] Connected to player Damaged signal (C#)
[02:51:28] [INFO] [LastChance] Connected to player Died signal (C#)
[02:51:29] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:51:29] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:51:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1171.731, 1535.008), source=ENEMY (Enemy10), range=1469, listeners=10
[02:51:29] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=8
[02:51:29] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:51:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1139.423, 1516.307), source=ENEMY (Enemy10), range=1469, listeners=10
[02:51:29] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:51:29] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:51:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1107.906, 1496.302), source=ENEMY (Enemy10), range=1469, listeners=10
[02:51:29] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:51:29] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:51:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1077.226, 1475.035), source=ENEMY (Enemy10), range=1469, listeners=10
[02:51:29] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:51:30] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:51:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1047.428, 1452.549), source=ENEMY (Enemy10), range=1469, listeners=10
[02:51:30] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:51:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1108.874, 1508.939), shooter_id=48016393878, bullet_pos=(53.14801, 921.1365)
[02:51:30] [INFO] [Bullet] Using shooter_position, distance=1208.33337402344
[02:51:30] [INFO] [Bullet] Distance to wall: 1208.33337402344 (82.277641366406% of viewport)
[02:51:30] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[02:51:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1077.684, 1487.691), shooter_id=48016393878, bullet_pos=(46.85162, 857.2495)
[02:51:30] [INFO] [Bullet] Using shooter_position, distance=1208.33435058594
[02:51:30] [INFO] [Bullet] Distance to wall: 1208.33435058594 (82.2777078623423% of viewport)
[02:51:30] [INFO] [Bullet] Distance-based penetration chance: 50.676007493934%
[02:51:30] [INFO] [Bullet] Penetration failed (distance roll)
[02:51:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1108.874, 1508.939), shooter_id=48016393878, bullet_pos=(383.2605, 704.9844)
[02:51:30] [INFO] [Bullet] Using shooter_position, distance=1082.98559570313
[02:51:30] [INFO] [Bullet] Distance to wall: 1082.98559570313 (73.742480646336% of viewport)
[02:51:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1047.382, 1465.197), shooter_id=48016393878, bullet_pos=(43.06916, 793.3154)
[02:51:30] [INFO] [Bullet] Using shooter_position, distance=1208.33349609375
[02:51:30] [INFO] [Bullet] Distance to wall: 1208.33349609375 (82.277649678398% of viewport)
[02:51:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1108.874, 1508.939), shooter_id=48016393878, bullet_pos=(504.4508, 802.4506)
[02:51:30] [INFO] [Bullet] Using shooter_position, distance=929.759765625
[02:51:30] [INFO] [Bullet] Distance to wall: 929.759765625 (63.3090521188597% of viewport)
[02:51:30] [INFO] [Bullet] Distance-based penetration chance: 72.8061058613303%
[02:51:30] [INFO] [Bullet] Starting wall penetration at (504.4508, 802.4506)
[02:51:30] [INFO] [Bullet] Raycast backward hit penetrating body at distance 10.0171537399292
[02:51:30] [INFO] [Bullet] Body exited signal received for penetrating body
[02:51:30] [INFO] [Bullet] Exiting penetration at (531.8059, 824.4506) after traveling 30.1041698455811 pixels through wall
[02:51:30] [INFO] [Bullet] Damage multiplier after penetration: 0.225
[02:51:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1047.382, 1465.197), shooter_id=48016393878, bullet_pos=(202.3746, 705.1331)
[02:51:30] [INFO] [Bullet] Using shooter_position, distance=1136.54528808594
[02:51:30] [INFO] [Bullet] Distance to wall: 1136.54528808594 (77.3894585882716% of viewport)
[02:51:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1018.01, 1441.508), shooter_id=48016393878, bullet_pos=(41.67921, 729.5751)
[02:51:30] [INFO] [Bullet] Using shooter_position, distance=1208.33349609375
[02:51:30] [INFO] [Bullet] Distance to wall: 1208.33349609375 (82.277649678398% of viewport)
[02:51:30] [INFO] [Bullet] Distance-based penetration chance: 50.6760753752023%
[02:51:30] [INFO] [Bullet] Penetration failed (distance roll)
[02:51:30] [INFO] [LastChance] Threat detected: @Area2D@289
[02:51:30] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:51:30] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:51:30] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[02:51:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(989.6003, 1416.68), shooter_id=48016393878, bullet_pos=(42.53408, 666.2555)
[02:51:30] [INFO] [Bullet] Using shooter_position, distance=1208.33422851563
[02:51:30] [INFO] [Bullet] Distance to wall: 1208.33422851563 (82.2776995503503% of viewport)
[02:51:30] [INFO] [Bullet] Distance-based penetration chance: 50.676017191258%
[02:51:30] [INFO] [Bullet] Starting wall penetration at (42.53408, 666.2555)
[02:51:30] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[02:51:30] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[02:51:30] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[02:51:30] [INFO] [Bullet] Raycast backward hit penetrating body at distance 33.2265319824219
[02:51:30] [INFO] [Bullet] Body exited signal received for penetrating body
[02:51:30] [INFO] [Bullet] Exiting penetration at (5.957748, 637.2736) after traveling 41.6666717529297 pixels through wall
[02:51:30] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:51:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(458.6229, 768.7384), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:51:30] [ENEMY] [Enemy1] Heard gunshot at (458.6229, 768.7384), source_type=0, intensity=0.01, distance=448
[02:51:30] [ENEMY] [Enemy2] Heard gunshot at (458.6229, 768.7384), source_type=0, intensity=0.05, distance=226
[02:51:30] [ENEMY] [Enemy4] Heard gunshot at (458.6229, 768.7384), source_type=0, intensity=0.02, distance=366
[02:51:30] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[02:51:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.4485, 753.7583), source=ENEMY (Enemy3), range=1469, listeners=10
[02:51:30] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[02:51:30] [INFO] [LastChance] Threat detected: @Area2D@303
[02:51:30] [INFO] [LastChance] Triggering last chance effect!
[02:51:30] [INFO] [LastChance] Starting last chance effect:
[02:51:30] [INFO] [LastChance]   - Time will be frozen (except player)
[02:51:30] [INFO] [LastChance]   - Duration: 6.0 real seconds
[02:51:30] [INFO] [LastChance]   - Sepia intensity: 0.70
[02:51:30] [INFO] [LastChance]   - Brightness: 0.60
[02:51:30] [INFO] [LastChance] Pushed bullet Bullet from distance 140.9 to 200.0
[02:51:30] [INFO] [LastChance] Pushed 1 threatening bullets away from player
[02:51:30] [INFO] [LastChance] Set player Player and all 18 children to PROCESS_MODE_ALWAYS
[02:51:30] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[02:51:30] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:51:30] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:51:30] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[02:51:30] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:51:30] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:51:30] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:51:30] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:51:30] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:51:30] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:51:30] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:51:30] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:51:30] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:51:30] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:51:30] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:51:30] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:51:30] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:51:30] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[02:51:30] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[02:51:30] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:51:30] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:51:30] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:51:30] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:51:30] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:51:30] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[02:51:30] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[02:51:30] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:51:30] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[02:51:30] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[02:51:30] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:51:30] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:51:30] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[02:51:30] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[02:51:30] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[02:51:30] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[02:51:30] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[02:51:30] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[02:51:30] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[02:51:30] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[02:51:30] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[02:51:30] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[02:51:30] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[02:51:30] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[02:51:30] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[02:51:30] [INFO] [LastChance] Skipping player node: Player
[02:51:30] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[02:51:30] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[02:51:30] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[02:51:30] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@305
[02:51:30] [INFO] [LastChance] Registered frozen player bullet: @Area2D@305
[02:51:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(484.8215, 738.899), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:51:30] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[02:51:30] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@307
[02:51:30] [INFO] [LastChance] Registered frozen player bullet: @Area2D@307
[02:51:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(518.2562, 734.0663), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:51:30] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=2, self=0, below_threshold=4
[02:51:31] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@309
[02:51:31] [INFO] [LastChance] Registered frozen player bullet: @Area2D@309
[02:51:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(553.1844, 742.6892), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:51:31] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=2, self=0, below_threshold=4
[02:51:32] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@311
[02:51:32] [INFO] [LastChance] Registered frozen player bullet: @Area2D@311
[02:51:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(726.4981, 934.6089), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:51:32] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=7
[02:51:32] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@313
[02:51:32] [INFO] [LastChance] Registered frozen player bullet: @Area2D@313
[02:51:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(725.4981, 934.6089), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:51:32] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=7
[02:51:32] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@315
[02:51:32] [INFO] [LastChance] Registered frozen player bullet: @Area2D@315
[02:51:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(711.4981, 934.6089), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:51:32] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=6
[02:51:33] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@317
[02:51:33] [INFO] [LastChance] Registered frozen player bullet: @Area2D@317
[02:51:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(682.3608, 933.6283), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:51:33] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=6
[02:51:35] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@319
[02:51:35] [INFO] [LastChance] Registered frozen player bullet: @Area2D@319
[02:51:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(393.2912, 650.5876), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:51:35] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[02:51:35] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@321
[02:51:35] [INFO] [LastChance] Registered frozen player bullet: @Area2D@321
[02:51:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(391.2912, 650.5876), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:51:35] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[02:51:35] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@323
[02:51:35] [INFO] [LastChance] Registered frozen player bullet: @Area2D@323
[02:51:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(374.9579, 650.5876), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:51:35] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[02:51:35] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@325
[02:51:35] [INFO] [LastChance] Registered frozen player bullet: @Area2D@325
[02:51:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(342.4579, 650.5876), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:51:35] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=4
[02:51:36] [INFO] [LastChance] Effect duration expired after 6.00 real seconds
[02:51:36] [INFO] [LastChance] Ending last chance effect
[02:51:36] [INFO] [LastChance] All process modes restored
[02:51:36] [INFO] [LastChance] Unfroze player bullet: @Area2D@305
[02:51:36] [INFO] [LastChance] Unfroze player bullet: @Area2D@307
[02:51:36] [INFO] [LastChance] Unfroze player bullet: @Area2D@309
[02:51:36] [INFO] [LastChance] Unfroze player bullet: @Area2D@311
[02:51:36] [INFO] [LastChance] Unfroze player bullet: @Area2D@313
[02:51:36] [INFO] [LastChance] Unfroze player bullet: @Area2D@315
[02:51:36] [INFO] [LastChance] Unfroze player bullet: @Area2D@317
[02:51:36] [INFO] [LastChance] Unfroze player bullet: @Area2D@319
[02:51:36] [INFO] [LastChance] Unfroze player bullet: @Area2D@321
[02:51:36] [INFO] [LastChance] Unfroze player bullet: @Area2D@323
[02:51:36] [INFO] [LastChance] Unfroze player bullet: @Area2D@325
[02:51:36] [INFO] [LastChance] Restored original colors to 5 player sprites
[02:51:36] [INFO] [LastChance] Called player RefreshHealthVisual (C#)
[02:51:36] [ENEMY] [Enemy4] Hit taken, health: 1/2
[02:51:36] [ENEMY] [Enemy4] Hit taken, health: 0/2
[02:51:36] [ENEMY] [Enemy4] Enemy died (ricochet: false, penetration: false)
[02:51:36] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[02:51:36] [INFO] [SoundPropagation] Unregistered listener: Enemy4 (remaining: 9)
[02:51:36] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[02:51:36] [ENEMY] [Enemy4] Death animation started with hit direction: (1, 0)
[02:51:36] [ENEMY] [Enemy3] Hit taken, health: 2/3
[02:51:36] [ENEMY] [Enemy3] Hit taken, health: 1/3
[02:51:36] [ENEMY] [Enemy2] Hit taken, health: 1/2
[02:51:36] [ENEMY] [Enemy2] Hit taken, health: 0/2
[02:51:36] [ENEMY] [Enemy2] Enemy died (ricochet: false, penetration: false)
[02:51:36] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[02:51:36] [INFO] [SoundPropagation] Unregistered listener: Enemy2 (remaining: 8)
[02:51:36] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[02:51:36] [ENEMY] [Enemy2] Death animation started with hit direction: (1, 0)
[02:51:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(196.683, 378.3509), source=PLAYER (AssaultRifle), range=1469, listeners=8
[02:51:36] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=2
[02:51:36] [ENEMY] [Enemy3] Hit taken, health: 0/3
[02:51:36] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[02:51:36] [INFO] [ScoreManager] Kill registered. Combo: 3 (points: 3000)
[02:51:36] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 7)
[02:51:36] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[02:51:36] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[02:51:36] [ENEMY] [Enemy1] Hit taken, health: 3/4
[02:51:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(726.4981, 934.6089), shooter_id=48838477511, bullet_pos=(931.6247, 806.8361)
[02:51:36] [INFO] [Bullet] Using shooter_position, distance=241,6667
[02:51:36] [INFO] [Bullet] Distance to wall: 241,6667 (16,455532% of viewport)
[02:51:36] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:51:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(682.36084, 933.6283), shooter_id=48838477511, bullet_pos=(924.8188, 803.8625)
[02:51:36] [INFO] [Bullet] Using shooter_position, distance=275,00003
[02:51:36] [INFO] [Bullet] Distance to wall: 275,00003 (18,725258% of viewport)
[02:51:36] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:51:36] [INFO] [Bullet] Starting wall penetration at (924.8188, 803.8625)
[02:51:36] [INFO] [Bullet] Raycast backward hit penetrating body at distance 25,651438
[02:51:36] [INFO] [Bullet] Body exited signal received for penetrating body
[02:51:36] [INFO] [Bullet] Exiting penetration at (958.61597, 785.7739) after traveling 33,333336 pixels through wall
[02:51:36] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[02:51:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(307.8847, 369.8221), source=ENEMY (Enemy1), range=1469, listeners=7
[02:51:36] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=2
[02:51:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(196.683, 378.3509), source=PLAYER (AssaultRifle), range=1469, listeners=7
[02:51:36] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=1
[02:51:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(518.25616, 734.06635), shooter_id=48838477511, bullet_pos=(926.1936, 752.0487)
[02:51:36] [INFO] [Bullet] Using shooter_position, distance=408,3336
[02:51:36] [INFO] [Bullet] Distance to wall: 408,3336 (27,804188% of viewport)
[02:51:36] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:51:36] [INFO] [Bullet] Starting wall penetration at (926.1936, 752.0487)
[02:51:36] [INFO] [LastChance] Threat detected: Bullet
[02:51:36] [INFO] [LastChance] Effect already used this life
[02:51:36] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:51:36] [INFO] [Bullet] Raycast backward hit penetrating body at distance 28,517475
[02:51:36] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[02:51:36] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[02:51:36] [INFO] [PenultimateHit] Player died - ending penultimate effect
[02:51:36] [INFO] [LastChance] Player died
[02:51:36] [INFO] [Bullet] Body exited signal received for penetrating body
[02:51:36] [INFO] [Bullet] Exiting penetration at (964.4898, 753.7369) after traveling 33,333336 pixels through wall
[02:51:36] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[02:51:36] [ENEMY] [Enemy1] Hit taken, health: 2/4
[02:51:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(616.7019, 761.6025), shooter_id=46019905055, bullet_pos=(66.70218, 761.9731)
[02:51:37] [INFO] [Bullet] Using shooter_position, distance=549.999877929688
[02:51:37] [INFO] [Bullet] Distance to wall: 549.999877929688 (37.4505030488284% of viewport)
[02:51:37] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:51:37] [INFO] [Bullet] Starting wall penetration at (66.70218, 761.9731)
[02:51:37] [INFO] [Bullet] Raycast backward hit penetrating body at distance 3.63114643096924
[02:51:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(342.4579, 650.58765), shooter_id=48838477511, bullet_pos=(456.55157, 53.049313)
[02:51:37] [INFO] [Bullet] Using shooter_position, distance=608,3333
[02:51:37] [INFO] [Bullet] Distance to wall: 608,3333 (41,422535% of viewport)
[02:51:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(374.9579, 650.58765), shooter_id=48838477511, bullet_pos=(436.42856, 45.368042)
[02:51:37] [INFO] [Bullet] Using shooter_position, distance=608,3333
[02:51:37] [INFO] [Bullet] Distance to wall: 608,3333 (41,422535% of viewport)
[02:51:37] [INFO] [Bullet] Distance-based penetration chance: 98,34038%
[02:51:37] [INFO] [Bullet] Starting wall penetration at (436.42856, 45.368042)
[02:51:37] [ENEMY] [Enemy1] State: COMBAT -> RETREATING
[02:51:37] [INFO] [Bullet] Max penetration distance exceeded: 66.6666641235352 >= 48
[02:51:37] [INFO] [Bullet] Raycast backward hit penetrating body at distance 24,896517
[02:51:37] [INFO] [Bullet] Body exited signal received for penetrating body
[02:51:37] [INFO] [Bullet] Exiting penetration at (-4.96447, 762.0214) after traveling 66.6666641235352 pixels through wall
[02:51:37] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:51:37] [INFO] [Bullet] Body exited signal received for penetrating body
[02:51:37] [INFO] [Bullet] Exiting penetration at (440.30206, 7.230915) after traveling 33,333332 pixels through wall
[02:51:37] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[02:51:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(196.683, 378.3509), source=PLAYER (AssaultRifle), range=1469, listeners=7
[02:51:37] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=1
[02:51:37] [ENEMY] [Enemy1] Hit taken, health: 1/4
[02:51:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(311.2032, 377.5445), source=ENEMY (Enemy1), range=1469, listeners=7
[02:51:37] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=2
[02:51:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(726.4981, 934.6089), shooter_id=48838477511, bullet_pos=(509.17926, 512.2772)
[02:51:37] [INFO] [Bullet] Using shooter_position, distance=474,96475
[02:51:37] [INFO] [Bullet] Distance to wall: 474,96475 (32,341225% of viewport)
[02:51:37] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:51:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(314.5689, 387.666), source=ENEMY (Enemy1), range=1469, listeners=7
[02:51:37] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=1, below_threshold=2
[02:51:37] [INFO] [LastChance] Threat detected: @Area2D@349
[02:51:37] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:51:37] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:51:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(243.3192, 382.2739), shooter_id=45449479677, bullet_pos=(48.30865, 426.6685)
[02:51:37] [INFO] [Bullet] Using shooter_position, distance=200.000045776367
[02:51:37] [INFO] [Bullet] Distance to wall: 200.000045776367 (13.6183708845681% of viewport)
[02:51:37] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:51:37] [INFO] [Bullet] Starting wall penetration at (48.30865, 426.6685)
[02:51:37] [INFO] [Bullet] Raycast backward hit penetrating body at distance 21.6074295043945
[02:51:37] [INFO] [Bullet] Body exited signal received for penetrating body
[02:51:37] [INFO] [Bullet] Exiting penetration at (10.93162, 435.1775) after traveling 33.3333358764648 pixels through wall
[02:51:37] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:51:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(246.5274, 386.692), shooter_id=45449479677, bullet_pos=(46.60266, 381.2054)
[02:51:37] [INFO] [Bullet] Using shooter_position, distance=199.999984741211
[02:51:37] [INFO] [Bullet] Distance to wall: 199.999984741211 (13.6183667285721% of viewport)
[02:51:37] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:51:37] [ENEMY] [Enemy4] Ragdoll activated
[02:51:37] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[02:51:37] [ENEMY] [Enemy2] Ragdoll activated
[02:51:37] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[02:51:37] [ENEMY] [Enemy3] Ragdoll activated
[02:51:37] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[02:51:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(726.4981, 934.6089), shooter_id=48838477511, bullet_pos=(973.891, 201.74368)
[02:51:37] [INFO] [Bullet] Using shooter_position, distance=773,4951
[02:51:37] [INFO] [Bullet] Distance to wall: 773,4951 (52,66871% of viewport)
[02:51:37] [INFO] [Bullet] Distance-based penetration chance: 85,21984%
[02:51:37] [INFO] [Bullet] Starting wall penetration at (973.891, 201.74368)
[02:51:37] [INFO] [Bullet] Body exited signal received for penetrating body
[02:51:37] [INFO] [Bullet] Exiting penetration at (998.0723, 185.58502) after traveling 0 pixels through wall
[02:51:37] [INFO] [Bullet] Damage multiplier after penetration: 0,225
[02:51:37] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[02:51:37] [INFO] [LastChance] Resetting all effects (scene change detected)
[02:51:37] [ENEMY] [Enemy1] Death animation component initialized
[02:51:37] [ENEMY] [Enemy2] Death animation component initialized
[02:51:37] [ENEMY] [Enemy3] Death animation component initialized
[02:51:37] [ENEMY] [Enemy4] Death animation component initialized
[02:51:37] [ENEMY] [Enemy5] Death animation component initialized
[02:51:37] [ENEMY] [Enemy6] Death animation component initialized
[02:51:37] [ENEMY] [Enemy7] Death animation component initialized
[02:51:37] [ENEMY] [Enemy8] Death animation component initialized
[02:51:37] [ENEMY] [Enemy9] Death animation component initialized
[02:51:37] [ENEMY] [Enemy10] Death animation component initialized
[02:51:37] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[02:51:37] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[02:51:37] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[02:51:37] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[02:51:37] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[02:51:37] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[02:51:37] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[02:51:37] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[02:51:37] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[02:51:37] [ENEMY] [Enemy10] Grenade system configured: offensive=2, flashbangs=0
[02:51:37] [INFO] [ScoreManager] Level started with 10 enemies
[02:51:37] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 8)
[02:51:37] [ENEMY] [Enemy1] Registered as sound listener
[02:51:37] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[02:51:37] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 9)
[02:51:37] [ENEMY] [Enemy2] Registered as sound listener
[02:51:37] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[02:51:37] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 10)
[02:51:37] [ENEMY] [Enemy3] Registered as sound listener
[02:51:37] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[02:51:37] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 11)
[02:51:37] [ENEMY] [Enemy4] Registered as sound listener
[02:51:37] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[02:51:37] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 12)
[02:51:37] [ENEMY] [Enemy5] Registered as sound listener
[02:51:37] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[02:51:37] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 13)
[02:51:37] [ENEMY] [Enemy6] Registered as sound listener
[02:51:37] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[02:51:37] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 14)
[02:51:37] [ENEMY] [Enemy7] Registered as sound listener
[02:51:37] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[02:51:37] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 15)
[02:51:37] [ENEMY] [Enemy8] Registered as sound listener
[02:51:37] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[02:51:37] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 16)
[02:51:37] [ENEMY] [Enemy9] Registered as sound listener
[02:51:37] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[02:51:37] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 17)
[02:51:37] [ENEMY] [Enemy10] Registered as sound listener
[02:51:37] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[02:51:37] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[02:51:37] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[02:51:37] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[02:51:37] [INFO] [LastChance] Found player: Player
[02:51:37] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[02:51:37] [INFO] [LastChance] Connected to player Damaged signal (C#)
[02:51:37] [INFO] [LastChance] Connected to player Died signal (C#)
[02:51:37] [INFO] [Player] Detecting weapon pose (frame 3)...
[02:51:37] [INFO] [Player] Detected weapon: Rifle (default pose)
[02:51:37] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[02:51:38] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:51:38] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:51:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1171.731, 1535.008), source=ENEMY (Enemy10), range=1469, listeners=17
[02:51:38] [INFO] [SoundPropagation] Cleaned up 7 invalid listeners
[02:51:38] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=8
[02:51:38] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:51:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1139.423, 1516.307), source=ENEMY (Enemy10), range=1469, listeners=10
[02:51:38] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:51:38] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:51:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1107.906, 1496.302), source=ENEMY (Enemy10), range=1469, listeners=10
[02:51:38] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:51:38] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:51:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1077.226, 1475.035), source=ENEMY (Enemy10), range=1469, listeners=10
[02:51:38] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:51:39] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:51:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1047.428, 1452.549), source=ENEMY (Enemy10), range=1469, listeners=10
[02:51:39] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:51:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1108.874, 1508.939), shooter_id=248168582390, bullet_pos=(53.14801, 921.1365)
[02:51:39] [INFO] [Bullet] Using shooter_position, distance=1208.33337402344
[02:51:39] [INFO] [Bullet] Distance to wall: 1208.33337402344 (82.277641366406% of viewport)
[02:51:39] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[02:51:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1077.684, 1487.691), shooter_id=248168582390, bullet_pos=(46.85162, 857.2495)
[02:51:39] [INFO] [Bullet] Using shooter_position, distance=1208.33435058594
[02:51:39] [INFO] [Bullet] Distance to wall: 1208.33435058594 (82.2777078623423% of viewport)
[02:51:39] [INFO] [Bullet] Distance-based penetration chance: 50.676007493934%
[02:51:39] [INFO] [Bullet] Starting wall penetration at (46.85162, 857.2495)
[02:51:39] [INFO] [Bullet] Raycast backward hit penetrating body at distance 29.2577056884766
[02:51:39] [INFO] [Bullet] Body exited signal received for penetrating body
[02:51:39] [INFO] [Bullet] Exiting penetration at (7.040176, 832.9015) after traveling 41.6666679382324 pixels through wall
[02:51:39] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:51:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1047.382, 1465.197), shooter_id=248168582390, bullet_pos=(43.06916, 793.3154)
[02:51:39] [INFO] [Bullet] Using shooter_position, distance=1208.33349609375
[02:51:39] [INFO] [Bullet] Distance to wall: 1208.33349609375 (82.277649678398% of viewport)
[02:51:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1047.382, 1465.197), shooter_id=248168582390, bullet_pos=(154.108, 697.4954)
[02:51:39] [INFO] [Bullet] Using shooter_position, distance=1177.83898925781
[02:51:39] [INFO] [Bullet] Distance to wall: 1177.83898925781 (80.2012226334855% of viewport)
[02:51:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1018.01, 1441.508), shooter_id=248168582390, bullet_pos=(41.67921, 729.5751)
[02:51:39] [INFO] [Bullet] Using shooter_position, distance=1208.33349609375
[02:51:39] [INFO] [Bullet] Distance to wall: 1208.33349609375 (82.277649678398% of viewport)
[02:51:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1018.01, 1441.508), shooter_id=248168582390, bullet_pos=(106.8813, 690.8533)
[02:51:39] [INFO] [Bullet] Using shooter_position, distance=1180.52429199219
[02:51:39] [INFO] [Bullet] Distance to wall: 1180.52429199219 (80.3840698345054% of viewport)
[02:51:39] [INFO] [Bullet] Distance-based penetration chance: 52.8852518597437%
[02:51:39] [INFO] [Bullet] Starting wall penetration at (106.8813, 690.8533)
[02:51:39] [INFO] [Bullet] Raycast backward hit penetrating body at distance 34.8287620544434
[02:51:39] [INFO] [Bullet] Body exited signal received for penetrating body
[02:51:39] [INFO] [Bullet] Exiting penetration at (141.6319, 670.2158) after traveling 35.4166679382324 pixels through wall
[02:51:39] [INFO] [Bullet] Damage multiplier after penetration: 0.45
[02:51:39] [INFO] [LastChance] Threat detected: @Area2D@641
[02:51:39] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:51:39] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:51:39] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[02:51:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(989.6003, 1416.68), shooter_id=248168582390, bullet_pos=(42.53408, 666.2555)
[02:51:39] [INFO] [Bullet] Using shooter_position, distance=1208.33422851563
[02:51:39] [INFO] [Bullet] Distance to wall: 1208.33422851563 (82.2776995503503% of viewport)
[02:51:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1047.382, 1465.197), shooter_id=248168582390, bullet_pos=(518.6363, 918.8232)
[02:51:39] [INFO] [Bullet] Using shooter_position, distance=760.326721191406
[02:51:39] [INFO] [Bullet] Distance to wall: 760.326721191406 (51.7720445634803% of viewport)
[02:51:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(411.3466, 797.6775), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:51:39] [ENEMY] [Enemy1] Heard gunshot at (411.3466, 797.6775), source_type=0, intensity=0.01, distance=461
[02:51:39] [ENEMY] [Enemy2] Heard gunshot at (411.3466, 797.6775), source_type=0, intensity=0.04, distance=248
[02:51:39] [ENEMY] [Enemy4] Heard gunshot at (411.3466, 797.6775), source_type=0, intensity=0.02, distance=402
[02:51:39] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[02:51:39] [ENEMY] [Enemy3] Hit taken, health: 1/2
[02:51:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(647.5945, 759.559), source=ENEMY (Enemy3), range=1469, listeners=10
[02:51:39] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[02:51:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(397.3593, 770.2642), source=PLAYER (AssaultRifle), range=1469, listeners=10
[02:51:39] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[02:51:39] [INFO] [LastChance] Threat detected: @Area2D@655
[02:51:39] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:51:39] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:51:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(989.6003, 1416.68), shooter_id=248168582390, bullet_pos=(506.6541, 370.3651)
[02:51:39] [INFO] [Bullet] Using shooter_position, distance=1152.39404296875
[02:51:39] [INFO] [Bullet] Distance to wall: 1152.39404296875 (78.4686294515327% of viewport)
[02:51:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(647.5945, 759.559), source=ENEMY (Enemy3), range=1469, listeners=10
[02:51:39] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[02:51:39] [ENEMY] [Enemy3] Hit taken, health: 0/2
[02:51:39] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[02:51:39] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[02:51:39] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[02:51:39] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[02:51:39] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[02:51:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(396.5157, 750.6952), source=PLAYER (AssaultRifle), range=1469, listeners=9
[02:51:39] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[02:51:39] [INFO] [LastChance] Threat detected: @Area2D@659
[02:51:39] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:51:39] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:51:39] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[02:51:39] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[02:51:39] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[02:51:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(989.6003, 1416.68), shooter_id=248168582390, bullet_pos=(329.3306, 237.2133)
[02:51:39] [INFO] [Bullet] Using shooter_position, distance=1351.70190429688
[02:51:39] [INFO] [Bullet] Distance to wall: 1351.70190429688 (92.0398682242051% of viewport)
[02:51:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(580.2966, 770.4524), shooter_id=246172093567, bullet_pos=(47.5232, 794.885)
[02:51:40] [INFO] [Bullet] Using shooter_position, distance=533.333374023438
[02:51:40] [INFO] [Bullet] Distance to wall: 533.333374023438 (36.3156501508536% of viewport)
[02:51:40] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:51:40] [INFO] [Bullet] Starting wall penetration at (47.5232, 794.885)
[02:51:40] [INFO] [Bullet] Raycast backward hit penetrating body at distance 22.7938194274902
[02:51:40] [INFO] [Bullet] Body exited signal received for penetrating body
[02:51:40] [INFO] [Bullet] Exiting penetration at (9.23011, 796.6411) after traveling 33.3333320617676 pixels through wall
[02:51:40] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:51:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(396.51575, 750.6952), shooter_id=248990666023, bullet_pos=(715.7908, 811.42737)
[02:51:40] [INFO] [Bullet] Using shooter_position, distance=324,9999
[02:51:40] [INFO] [Bullet] Distance to wall: 324,9999 (22,129843% of viewport)
[02:51:40] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:51:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(579.6558, 764.5125), shooter_id=246172093567, bullet_pos=(46.79206, 742.1355)
[02:51:40] [INFO] [Bullet] Using shooter_position, distance=533.333312988281
[02:51:40] [INFO] [Bullet] Distance to wall: 533.333312988281 (36.3156459948575% of viewport)
[02:51:40] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:51:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(396.51575, 750.6952), shooter_id=248990666023, bullet_pos=(914.9212, 770.3002)
[02:51:40] [INFO] [Bullet] Using shooter_position, distance=518,776
[02:51:40] [INFO] [Bullet] Distance to wall: 518,776 (35,324413% of viewport)
[02:51:40] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:51:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(989.6003, 1416.68), shooter_id=248168582390, bullet_pos=(562.055, 61.52862)
[02:51:40] [INFO] [Bullet] Using shooter_position, distance=1420.99633789063
[02:51:40] [INFO] [Bullet] Distance to wall: 1420.99633789063 (96.7582536288312% of viewport)
[02:51:40] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[02:51:40] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[02:51:40] [ENEMY] [Enemy3] Ragdoll activated
[02:51:40] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[02:51:40] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[02:51:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(989.6003, 1416.68), shooter_id=248168582390, bullet_pos=(973.2922, 298.8557)
[02:51:40] [INFO] [Bullet] Using shooter_position, distance=1117.943359375
[02:51:40] [INFO] [Bullet] Distance to wall: 1117.943359375 (76.1228190564132% of viewport)
[02:51:40] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[02:51:40] [ENEMY] [Enemy10] FLANKING started: target=(751.8701, 785.8785), side=left, pos=(1022.594, 1432.37)
[02:51:40] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[02:51:41] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[02:51:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(566.3815, 903.3657), source=PLAYER (AssaultRifle), range=1469, listeners=9
[02:51:41] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[02:51:41] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(566.38153, 903.3657), shooter_id=248990666023, bullet_pos=(687.74207, 873.42224)
[02:51:41] [INFO] [Bullet] Using shooter_position, distance=124,99996
[02:51:41] [INFO] [Bullet] Distance to wall: 124,99996 (8,511477% of viewport)
[02:51:41] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:51:41] [INFO] [Bullet] Starting wall penetration at (687.74207, 873.42224)
[02:51:41] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[02:51:41] [INFO] [Bullet] Exiting penetration at (724.95935, 864.23956) after traveling 33,333336 pixels through wall
[02:51:41] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[02:51:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(776.0119, 907.9685), source=ENEMY (Enemy4), range=1469, listeners=9
[02:51:41] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=7
[02:51:41] [INFO] [LastChance] Threat detected: Bullet
[02:51:41] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:51:41] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:51:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(588.1066, 925.6699), source=PLAYER (AssaultRifle), range=1469, listeners=9
[02:51:41] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[02:51:41] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[02:51:41] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[02:51:41] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[02:51:41] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(588.1066, 925.66986), shooter_id=248990666023, bullet_pos=(742.0221, 888.5283)
[02:51:41] [INFO] [Bullet] Using shooter_position, distance=158,3334
[02:51:41] [INFO] [Bullet] Distance to wall: 158,3334 (10,781213% of viewport)
[02:51:41] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:51:41] [ENEMY] [Enemy4] Hit taken, health: 1/2
[02:51:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(776.0119, 907.9685), source=ENEMY (Enemy4), range=1469, listeners=9
[02:51:41] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[02:51:41] [INFO] [LastChance] Threat detected: Bullet
[02:51:41] [INFO] [LastChance] Triggering last chance effect!
[02:51:41] [INFO] [LastChance] Starting last chance effect:
[02:51:41] [INFO] [LastChance]   - Time will be frozen (except player)
[02:51:41] [INFO] [LastChance]   - Duration: 6.0 real seconds
[02:51:41] [INFO] [LastChance]   - Sepia intensity: 0.70
[02:51:41] [INFO] [LastChance]   - Brightness: 0.60
[02:51:41] [INFO] [LastChance] Pushed bullet Bullet from distance 107.7 to 200.0
[02:51:41] [INFO] [LastChance] Pushed 1 threatening bullets away from player
[02:51:41] [INFO] [LastChance] Set player Player and all 18 children to PROCESS_MODE_ALWAYS
[02:51:41] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[02:51:41] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:51:41] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:51:41] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[02:51:41] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:51:41] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:51:41] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:51:41] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:51:41] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:51:41] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:51:41] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:51:41] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:51:41] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:51:41] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:51:41] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:51:41] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:51:41] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:51:41] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[02:51:41] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[02:51:41] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:51:41] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:51:41] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:51:41] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:51:41] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:51:41] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[02:51:41] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[02:51:41] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:51:41] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[02:51:41] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[02:51:41] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:51:41] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:51:41] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[02:51:41] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[02:51:41] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[02:51:41] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[02:51:41] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[02:51:41] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[02:51:41] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[02:51:41] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[02:51:41] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[02:51:41] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[02:51:41] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[02:51:41] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[02:51:41] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[02:51:41] [INFO] [LastChance] Skipping player node: Player
[02:51:41] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[02:51:41] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[02:51:41] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[02:51:41] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@689
[02:51:41] [INFO] [LastChance] Registered frozen player bullet: @Area2D@689
[02:51:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(605.9939, 939.5264), source=PLAYER (AssaultRifle), range=1469, listeners=9
[02:51:41] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[02:51:41] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@691
[02:51:41] [INFO] [LastChance] Registered frozen player bullet: @Area2D@691
[02:51:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(611.9829, 949.043), source=PLAYER (AssaultRifle), range=1469, listeners=9
[02:51:41] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[02:51:41] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@693
[02:51:41] [INFO] [LastChance] Registered frozen player bullet: @Area2D@693
[02:51:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(605.0109, 955.0556), source=PLAYER (AssaultRifle), range=1469, listeners=9
[02:51:41] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[02:51:43] [INFO] [ScoreManager] Combo ended at 1. Max combo: 1
[02:51:43] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@695
[02:51:43] [INFO] [LastChance] Registered frozen player bullet: @Area2D@695
[02:51:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(461.0382, 668.942), source=PLAYER (AssaultRifle), range=1469, listeners=9
[02:51:43] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[02:51:43] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@697
[02:51:43] [INFO] [LastChance] Registered frozen player bullet: @Area2D@697
[02:51:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(452.6471, 668.942), source=PLAYER (AssaultRifle), range=1469, listeners=9
[02:51:43] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[02:51:44] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@699
[02:51:44] [INFO] [LastChance] Registered frozen player bullet: @Area2D@699
[02:51:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(434.5138, 668.942), source=PLAYER (AssaultRifle), range=1469, listeners=9
[02:51:44] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[02:51:45] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@701
[02:51:45] [INFO] [LastChance] Registered frozen player bullet: @Area2D@701
[02:51:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(119.2218, 401.4165), source=PLAYER (AssaultRifle), range=1469, listeners=9
[02:51:45] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=2
[02:51:45] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@703
[02:51:45] [INFO] [LastChance] Registered frozen player bullet: @Area2D@703
[02:51:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(119.2218, 392.6387), source=PLAYER (AssaultRifle), range=1469, listeners=9
[02:51:45] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=2
[02:51:45] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@705
[02:51:45] [INFO] [LastChance] Registered frozen player bullet: @Area2D@705
[02:51:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(119.2218, 400.0276), source=PLAYER (AssaultRifle), range=1469, listeners=9
[02:51:45] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=2
[02:51:45] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@707
[02:51:45] [INFO] [LastChance] Registered frozen player bullet: @Area2D@707
[02:51:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(119.2218, 423.7498), source=PLAYER (AssaultRifle), range=1469, listeners=9
[02:51:45] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=2
[02:51:46] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@709
[02:51:46] [INFO] [LastChance] Registered frozen player bullet: @Area2D@709
[02:51:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(119.2218, 460.9164), source=PLAYER (AssaultRifle), range=1469, listeners=9
[02:51:46] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=2
[02:51:47] [INFO] [LastChance] Effect duration expired after 6.02 real seconds
[02:51:47] [INFO] [LastChance] Ending last chance effect
[02:51:47] [INFO] [LastChance] All process modes restored
[02:51:47] [INFO] [LastChance] Unfroze player bullet: @Area2D@689
[02:51:47] [INFO] [LastChance] Unfroze player bullet: @Area2D@691
[02:51:47] [INFO] [LastChance] Unfroze player bullet: @Area2D@693
[02:51:47] [INFO] [LastChance] Unfroze player bullet: @Area2D@695
[02:51:47] [INFO] [LastChance] Unfroze player bullet: @Area2D@697
[02:51:47] [INFO] [LastChance] Unfroze player bullet: @Area2D@699
[02:51:47] [INFO] [LastChance] Unfroze player bullet: @Area2D@701
[02:51:47] [INFO] [LastChance] Unfroze player bullet: @Area2D@703
[02:51:47] [INFO] [LastChance] Unfroze player bullet: @Area2D@705
[02:51:47] [INFO] [LastChance] Unfroze player bullet: @Area2D@707
[02:51:47] [INFO] [LastChance] Unfroze player bullet: @Area2D@709
[02:51:47] [INFO] [LastChance] Restored original colors to 5 player sprites
[02:51:47] [INFO] [LastChance] Called player RefreshHealthVisual (C#)
[02:51:47] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:51:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(916.6407, 1369.663), source=ENEMY (Enemy10), range=1469, listeners=9
[02:51:47] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=7
[02:51:47] [ENEMY] [Enemy10] State: FLANKING -> COMBAT
[02:51:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(119.22183, 460.9164), shooter_id=248990666023, bullet_pos=(225.74161, 441.17688)
[02:51:47] [INFO] [Bullet] Using shooter_position, distance=108,333336
[02:51:47] [INFO] [Bullet] Distance to wall: 108,333336 (7,3766165% of viewport)
[02:51:47] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:51:47] [INFO] [Bullet] Starting wall penetration at (225.74161, 441.17688)
[02:51:47] [ENEMY] [Enemy2] Hit taken, health: 3/4
[02:51:47] [ENEMY] [Enemy2] Hit taken, health: 2/4
[02:51:47] [ENEMY] [Enemy2] Hit taken, health: 1/4
[02:51:47] [ENEMY] [Enemy1] Hit taken, health: 2/3
[02:51:47] [ENEMY] [Enemy1] Hit taken, health: 1/3
[02:51:47] [ENEMY] [Enemy1] Hit taken, health: 0/3
[02:51:47] [ENEMY] [Enemy1] Enemy died (ricochet: false, penetration: false)
[02:51:47] [ENEMY] [Enemy10] Witnessed ally death #1
[02:51:47] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[02:51:47] [INFO] [SoundPropagation] Unregistered listener: Enemy1 (remaining: 8)
[02:51:47] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[02:51:47] [ENEMY] [Enemy1] Death animation started with hit direction: (1, 0)
[02:51:47] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[02:51:47] [INFO] [Bullet] Exiting penetration at (271.62704, 432.6737) after traveling 41,666668 pixels through wall
[02:51:47] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[02:51:47] [ENEMY] [Enemy4] Hit taken, health: 0/2
[02:51:47] [ENEMY] [Enemy4] Enemy died (ricochet: false, penetration: false)
[02:51:47] [ENEMY] [Enemy10] Witnessed ally death #2
[02:51:47] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[02:51:47] [INFO] [SoundPropagation] Unregistered listener: Enemy4 (remaining: 7)
[02:51:47] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[02:51:47] [ENEMY] [Enemy4] Death animation started with hit direction: (1, 0)
[02:51:47] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:51:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(887.4398, 1362.73), source=ENEMY (Enemy10), range=1469, listeners=7
[02:51:47] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=6
[02:51:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(605.0109, 955.0556), shooter_id=248990666023, bullet_pos=(921.5485, 946.01324)
[02:51:47] [INFO] [Bullet] Using shooter_position, distance=316,66672
[02:51:47] [INFO] [Bullet] Distance to wall: 316,66672 (21,56242% of viewport)
[02:51:47] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:51:47] [INFO] [Bullet] Starting wall penetration at (921.5485, 946.01324)
[02:51:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(611.9829, 949.043), shooter_id=248990666023, bullet_pos=(926.7794, 914.6774)
[02:51:47] [INFO] [Bullet] Using shooter_position, distance=316,66675
[02:51:47] [INFO] [Bullet] Distance to wall: 316,66675 (21,562422% of viewport)
[02:51:47] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:51:47] [INFO] [Bullet] Starting wall penetration at (926.7794, 914.6774)
[02:51:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(709.9111, 923.7795), shooter_id=246457306256, bullet_pos=(512.4315, 952.7285)
[02:51:47] [INFO] [Bullet] Using shooter_position, distance=199.590179443359
[02:51:47] [INFO] [Bullet] Distance to wall: 199.590179443359 (13.5904623322759% of viewport)
[02:51:47] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:51:47] [INFO] [Bullet] Starting wall penetration at (512.4315, 952.7285)
[02:51:47] [INFO] [Bullet] Raycast backward hit penetrating body at distance 25.8121166229248
[02:51:47] [INFO] [Bullet] Raycast backward hit penetrating body at distance 29,05797
[02:51:47] [INFO] [Bullet] Raycast backward hit penetrating body at distance 23,876007
[02:51:47] [INFO] [Bullet] Body exited signal received for penetrating body
[02:51:47] [INFO] [Bullet] Exiting penetration at (959.8663, 944.91864) after traveling 33,333336 pixels through wall
[02:51:47] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[02:51:47] [INFO] [Bullet] Body exited signal received for penetrating body
[02:51:47] [INFO] [Bullet] Exiting penetration at (964.88635, 910.5174) after traveling 33,333336 pixels through wall
[02:51:47] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[02:51:47] [INFO] [Bullet] Body exited signal received for penetrating body
[02:51:47] [INFO] [Bullet] Exiting penetration at (474.3728, 957.3087) after traveling 33.3333320617676 pixels through wall
[02:51:47] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:51:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(119.22183, 392.6387), shooter_id=248990666023, bullet_pos=(497.13162, 328.38358)
[02:51:47] [INFO] [Bullet] Using shooter_position, distance=383,33344
[02:51:47] [INFO] [Bullet] Distance to wall: 383,33344 (26,10188% of viewport)
[02:51:47] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:51:47] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[02:51:47] [ENEMY] [Enemy1] Player reloading state changed: false -> true
[02:51:47] [ENEMY] [Enemy2] Player reloading state changed: false -> true
[02:51:47] [ENEMY] [Enemy4] Player reloading state changed: false -> true
[02:51:47] [ENEMY] [Enemy5] Player reloading state changed: false -> true
[02:51:47] [ENEMY] [Enemy6] Player reloading state changed: false -> true
[02:51:47] [ENEMY] [Enemy7] Player reloading state changed: false -> true
[02:51:47] [ENEMY] [Enemy8] Player reloading state changed: false -> true
[02:51:47] [ENEMY] [Enemy9] Player reloading state changed: false -> true
[02:51:47] [ENEMY] [Enemy10] Player reloading state changed: false -> true
[02:51:47] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(80.07516, 790.0918), source=PLAYER (Player), range=900, listeners=7
[02:51:47] [ENEMY] [Enemy2] Heard player RELOAD at (80.07516, 790.0918), intensity=0.02, distance=400
[02:51:47] [ENEMY] [Enemy2] Vulnerability sound triggered pursuit - transitioning from SUPPRESSED to PURSUING
[02:51:47] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=0, below_threshold=0
[02:51:47] [ENEMY] [Enemy2] Player vulnerable (reloading) but cannot attack: close=true (dist=400), can_see=false
[02:51:47] [ENEMY] [Enemy2] Pursuing vulnerability sound at (80.07516, 790.0918), distance=400
[02:51:47] [ENEMY] [Enemy5] Player vulnerable (reloading) but cannot attack: close=false (dist=1679), can_see=false
[02:51:47] [ENEMY] [Enemy6] Player vulnerable (reloading) but cannot attack: close=false (dist=1901), can_see=false
[02:51:47] [ENEMY] [Enemy7] Player vulnerable (reloading) but cannot attack: close=false (dist=1570), can_see=false
[02:51:47] [ENEMY] [Enemy8] Player vulnerable (reloading) but cannot attack: close=false (dist=1936), can_see=false
[02:51:47] [ENEMY] [Enemy9] Player vulnerable (reloading) but cannot attack: close=false (dist=2158), can_see=false
[02:51:47] [ENEMY] [Enemy10] Player vulnerable (reloading) but cannot attack: close=false (dist=964), can_see=true
[02:51:47] [ENEMY] [Enemy10] Player vulnerable (reloading) - pursuing to attack (dist=964)
[02:51:47] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[02:51:47] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:51:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(872.5215, 1338.17), source=ENEMY (Enemy10), range=1469, listeners=7
[02:51:47] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=6
[02:51:47] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:51:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(872.5215, 1338.17), source=ENEMY (Enemy10), range=1469, listeners=7
[02:51:47] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=6
[02:51:47] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[02:51:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(857.9486, 1335.227), shooter_id=248168582390, bullet_pos=(45.82263, 723.6214)
[02:51:48] [INFO] [Bullet] Using shooter_position, distance=1016.66619873047
[02:51:48] [INFO] [Bullet] Distance to wall: 1016.66619873047 (69.2266709558502% of viewport)
[02:51:48] [INFO] [LastChance] Threat detected: @Area2D@721
[02:51:48] [INFO] [LastChance] Effect already used this life
[02:51:48] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:51:48] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:51:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(872.5215, 1338.17), source=ENEMY (Enemy10), range=1469, listeners=7
[02:51:48] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=6
[02:51:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(857.9486, 1335.227), shooter_id=248168582390, bullet_pos=(100.5315, 695.1658)
[02:51:48] [INFO] [Bullet] Using shooter_position, distance=991.644653320313
[02:51:48] [INFO] [Bullet] Distance to wall: 991.644653320313 (67.5229079183077% of viewport)
[02:51:48] [INFO] [Bullet] Distance-based penetration chance: 67.8899407619743%
[02:51:48] [INFO] [Bullet] Starting wall penetration at (100.5315, 695.1658)
[02:51:48] [INFO] [Bullet] Raycast backward hit penetrating body at distance 17.8042335510254
[02:51:48] [INFO] [Bullet] Body exited signal received for penetrating body
[02:51:48] [INFO] [Bullet] Exiting penetration at (130.1038, 679.7844) after traveling 28.3333377838135 pixels through wall
[02:51:48] [INFO] [Bullet] Damage multiplier after penetration: 0.45
[02:51:48] [INFO] [Player.Reload.Anim] Phase changed to: PullBolt (duration: 0,35s)
[02:51:48] [ENEMY] [Enemy1] Player reloading state changed: true -> false
[02:51:48] [ENEMY] [Enemy2] Player reloading state changed: true -> false
[02:51:48] [ENEMY] [Enemy4] Player reloading state changed: true -> false
[02:51:48] [ENEMY] [Enemy5] Player reloading state changed: true -> false
[02:51:48] [ENEMY] [Enemy6] Player reloading state changed: true -> false
[02:51:48] [ENEMY] [Enemy7] Player reloading state changed: true -> false
[02:51:48] [ENEMY] [Enemy8] Player reloading state changed: true -> false
[02:51:48] [ENEMY] [Enemy9] Player reloading state changed: true -> false
[02:51:48] [ENEMY] [Enemy10] Player reloading state changed: true -> false
[02:51:48] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[02:51:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(828.3104, 1329.051), shooter_id=248168582390, bullet_pos=(48.72107, 757.4865)
[02:51:48] [INFO] [Bullet] Using shooter_position, distance=966.666931152344
[02:51:48] [INFO] [Bullet] Distance to wall: 966.666931152344 (65.8221288859097% of viewport)
[02:51:48] [ENEMY] [Enemy1] Ragdoll activated
[02:51:48] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[02:51:48] [INFO] [LastChance] Threat detected: Bullet
[02:51:48] [INFO] [LastChance] Effect already used this life
[02:51:48] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:51:48] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:51:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(872.5215, 1338.17), source=ENEMY (Enemy10), range=1469, listeners=7
[02:51:48] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=6
[02:51:48] [ENEMY] [Enemy4] Ragdoll activated
[02:51:48] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[02:51:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(828.3104, 1329.051), shooter_id=248168582390, bullet_pos=(113.6099, 695.1211)
[02:51:48] [INFO] [Bullet] Using shooter_position, distance=955.334106445313
[02:51:48] [INFO] [Bullet] Distance to wall: 955.334106445313 (65.0504560123808% of viewport)
[02:51:48] [ENEMY] [Enemy10] State: PURSUING -> COMBAT
[02:51:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(828.3104, 1329.051), shooter_id=248168582390, bullet_pos=(50.14521, 651.0779)
[02:51:48] [INFO] [Bullet] Using shooter_position, distance=1032.07946777344
[02:51:48] [INFO] [Bullet] Distance to wall: 1032.07946777344 (70.2761887874885% of viewport)
[02:51:48] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[02:51:48] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[02:51:48] [INFO] [PenultimateHit] Player died - ending penultimate effect
[02:51:48] [INFO] [LastChance] Player died
[02:51:48] [INFO] [LastChance] Threat detected: @Area2D@728
[02:51:48] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:51:48] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:51:48] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:51:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(851.3077, 1323.841), source=ENEMY (Enemy10), range=1469, listeners=7
[02:51:48] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=6
[02:51:48] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[02:51:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(812.1595, 1306.753), shooter_id=248168582390, bullet_pos=(66.70966, 802.4678)
[02:51:48] [INFO] [Bullet] Using shooter_position, distance=899.999694824219
[02:51:48] [INFO] [Bullet] Distance to wall: 899.999694824219 (61.2826341740898% of viewport)
[02:51:48] [INFO] [Bullet] Distance-based penetration chance: 75.1702601302286%
[02:51:48] [INFO] [Bullet] Starting wall penetration at (66.70966, 802.4678)
[02:51:48] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[02:51:48] [INFO] [Bullet] Exiting penetration at (34.95901, 780.989) after traveling 33.3333320617676 pixels through wall
[02:51:48] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:51:48] [INFO] [LastChance] Threat detected: @Area2D@731
[02:51:48] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:51:48] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:51:48] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:51:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(823.0225, 1304.736), source=ENEMY (Enemy10), range=1469, listeners=7
[02:51:48] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=6
[02:51:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(812.1377, 1306.795), shooter_id=248168582390, bullet_pos=(66.3385, 803.0264)
[02:51:48] [INFO] [Bullet] Using shooter_position, distance=899.999755859375
[02:51:48] [INFO] [Bullet] Distance to wall: 899.999755859375 (61.2826383300858% of viewport)
[02:51:48] [INFO] [LastChance] Threat detected: @Area2D@746
[02:51:48] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:51:48] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:51:48] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:51:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(794.7374, 1285.63), source=ENEMY (Enemy10), range=1469, listeners=7
[02:51:48] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=6
[02:51:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(812.1377, 1306.795), shooter_id=248168582390, bullet_pos=(66.3385, 803.0264)
[02:51:48] [INFO] [Bullet] Using shooter_position, distance=899.999755859375
[02:51:48] [INFO] [Bullet] Distance to wall: 899.999755859375 (61.2826383300858% of viewport)
[02:51:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(828.3104, 1329.051), shooter_id=248168582390, bullet_pos=(500.9146, 398.3739)
[02:51:48] [INFO] [Bullet] Using shooter_position, distance=986.58349609375
[02:51:48] [INFO] [Bullet] Distance to wall: 986.58349609375 (67.1782844161036% of viewport)
[02:51:48] [INFO] [Bullet] Distance-based penetration chance: 68.2920015145458%
[02:51:48] [INFO] [Bullet] Starting wall penetration at (500.9146, 398.3739)
[02:51:48] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[02:51:48] [INFO] [Bullet] Exiting penetration at (523.1323, 385.9185) after traveling 20.4708347320557 pixels through wall
[02:51:48] [INFO] [Bullet] Damage multiplier after penetration: 0.1125
[02:51:48] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[02:51:48] [INFO] [LastChance] Threat detected: Bullet
[02:51:48] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:51:48] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:51:48] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[02:51:48] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:51:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(766.4522, 1266.524), source=ENEMY (Enemy10), range=1469, listeners=7
[02:51:48] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=6
[02:51:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(523.2432, 723.4271), source=ENEMY (Enemy2), range=1469, listeners=7
[02:51:48] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=4
[02:51:48] [INFO] [LastChance] Threat detected: @Area2D@763
[02:51:48] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:51:48] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:51:48] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:51:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(738.1671, 1247.418), source=ENEMY (Enemy10), range=1469, listeners=7
[02:51:48] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=6
[02:51:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(531.4683, 727.3001), source=ENEMY (Enemy2), range=1469, listeners=7
[02:51:48] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=4
[02:51:48] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[02:51:48] [INFO] [LastChance] Resetting all effects (scene change detected)
[02:51:48] [ENEMY] [Enemy1] Death animation component initialized
[02:51:48] [ENEMY] [Enemy2] Death animation component initialized
[02:51:48] [ENEMY] [Enemy3] Death animation component initialized
[02:51:48] [ENEMY] [Enemy4] Death animation component initialized
[02:51:48] [ENEMY] [Enemy5] Death animation component initialized
[02:51:48] [ENEMY] [Enemy6] Death animation component initialized
[02:51:48] [ENEMY] [Enemy7] Death animation component initialized
[02:51:48] [ENEMY] [Enemy8] Death animation component initialized
[02:51:48] [ENEMY] [Enemy9] Death animation component initialized
[02:51:48] [ENEMY] [Enemy10] Death animation component initialized
[02:51:48] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[02:51:48] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[02:51:48] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[02:51:48] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[02:51:48] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[02:51:48] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[02:51:48] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[02:51:48] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[02:51:48] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[02:51:48] [ENEMY] [Enemy10] Grenade system configured: offensive=2, flashbangs=0
[02:51:48] [INFO] [ScoreManager] Level started with 10 enemies
[02:51:48] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 8)
[02:51:48] [ENEMY] [Enemy1] Registered as sound listener
[02:51:48] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[02:51:48] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 9)
[02:51:48] [ENEMY] [Enemy2] Registered as sound listener
[02:51:48] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[02:51:48] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 10)
[02:51:48] [ENEMY] [Enemy3] Registered as sound listener
[02:51:48] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[02:51:48] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 11)
[02:51:48] [ENEMY] [Enemy4] Registered as sound listener
[02:51:48] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[02:51:48] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 12)
[02:51:48] [ENEMY] [Enemy5] Registered as sound listener
[02:51:48] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[02:51:48] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 13)
[02:51:48] [ENEMY] [Enemy6] Registered as sound listener
[02:51:48] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[02:51:48] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 14)
[02:51:48] [ENEMY] [Enemy7] Registered as sound listener
[02:51:48] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[02:51:48] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 15)
[02:51:48] [ENEMY] [Enemy8] Registered as sound listener
[02:51:48] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[02:51:48] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 16)
[02:51:48] [ENEMY] [Enemy9] Registered as sound listener
[02:51:48] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[02:51:48] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 17)
[02:51:48] [ENEMY] [Enemy10] Registered as sound listener
[02:51:48] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[02:51:48] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[02:51:48] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[02:51:48] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[02:51:48] [INFO] [LastChance] Found player: Player
[02:51:48] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[02:51:48] [INFO] [LastChance] Connected to player Damaged signal (C#)
[02:51:48] [INFO] [LastChance] Connected to player Died signal (C#)
[02:51:48] [INFO] [Player] Detecting weapon pose (frame 3)...
[02:51:48] [INFO] [Player] Detected weapon: Rifle (default pose)
[02:51:48] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[02:51:49] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:51:49] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:51:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1171.731, 1535.008), source=ENEMY (Enemy10), range=1469, listeners=17
[02:51:49] [INFO] [SoundPropagation] Cleaned up 7 invalid listeners
[02:51:49] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=8
[02:51:49] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:51:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1139.423, 1516.307), source=ENEMY (Enemy10), range=1469, listeners=10
[02:51:49] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:51:50] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:51:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1107.906, 1496.302), source=ENEMY (Enemy10), range=1469, listeners=10
[02:51:50] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:51:50] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:51:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1077.226, 1475.035), source=ENEMY (Enemy10), range=1469, listeners=10
[02:51:50] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:51:50] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:51:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1047.428, 1452.549), source=ENEMY (Enemy10), range=1469, listeners=10
[02:51:50] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:51:50] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1108.874, 1508.939), shooter_id=573277474206, bullet_pos=(53.14801, 921.1365)
[02:51:50] [INFO] [Bullet] Using shooter_position, distance=1208.33337402344
[02:51:50] [INFO] [Bullet] Distance to wall: 1208.33337402344 (82.277641366406% of viewport)
[02:51:50] [INFO] [Bullet] Distance-based penetration chance: 50.6760850725264%
[02:51:50] [INFO] [Bullet] Starting wall penetration at (53.14801, 921.1365)
[02:51:50] [INFO] [Bullet] Raycast backward hit penetrating body at distance 22.4616756439209
[02:51:50] [INFO] [Bullet] Body exited signal received for penetrating body
[02:51:50] [INFO] [Bullet] Exiting penetration at (12.37513, 898.4351) after traveling 41.6666641235352 pixels through wall
[02:51:50] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:51:50] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[02:51:50] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1077.684, 1487.691), shooter_id=573277474206, bullet_pos=(46.85162, 857.2495)
[02:51:50] [INFO] [Bullet] Using shooter_position, distance=1208.33435058594
[02:51:50] [INFO] [Bullet] Distance to wall: 1208.33435058594 (82.2777078623423% of viewport)
[02:51:50] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1047.382, 1465.197), shooter_id=573277474206, bullet_pos=(43.06916, 793.3154)
[02:51:50] [INFO] [Bullet] Using shooter_position, distance=1208.33349609375
[02:51:50] [INFO] [Bullet] Distance to wall: 1208.33349609375 (82.277649678398% of viewport)
[02:51:50] [INFO] [Bullet] Distance-based penetration chance: 50.6760753752023%
[02:51:50] [INFO] [Bullet] Penetration failed (distance roll)
[02:51:50] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1077.684, 1487.691), shooter_id=573277474206, bullet_pos=(289.1133, 700.8995)
[02:51:50] [INFO] [Bullet] Using shooter_position, distance=1113.94995117188
[02:51:50] [INFO] [Bullet] Distance to wall: 1113.94995117188 (75.8509005486322% of viewport)
[02:51:50] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1018.01, 1441.508), shooter_id=573277474206, bullet_pos=(41.67921, 729.5751)
[02:51:50] [INFO] [Bullet] Using shooter_position, distance=1208.33349609375
[02:51:50] [INFO] [Bullet] Distance to wall: 1208.33349609375 (82.277649678398% of viewport)
[02:51:50] [INFO] [Bullet] Distance-based penetration chance: 50.6760753752023%
[02:51:50] [INFO] [Bullet] Penetration failed (distance roll)
[02:51:50] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1077.684, 1487.691), shooter_id=573277474206, bullet_pos=(497.0815, 831.9846)
[02:51:50] [INFO] [Bullet] Using shooter_position, distance=875.81396484375
[02:51:50] [INFO] [Bullet] Distance to wall: 875.81396484375 (59.6357833460838% of viewport)
[02:51:50] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(989.6003, 1416.68), shooter_id=573277474206, bullet_pos=(42.53408, 666.2555)
[02:51:50] [INFO] [Bullet] Using shooter_position, distance=1208.33422851563
[02:51:50] [INFO] [Bullet] Distance to wall: 1208.33422851563 (82.2776995503503% of viewport)
[02:51:50] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[02:51:50] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(989.6003, 1416.68), shooter_id=573277474206, bullet_pos=(341.4376, 467.1141)
[02:51:50] [INFO] [Bullet] Using shooter_position, distance=1149.69140625
[02:51:50] [INFO] [Bullet] Distance to wall: 1149.69140625 (78.2846019476424% of viewport)
[02:51:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(637.7459, 763.2927), source=ENEMY (Enemy3), range=1469, listeners=10
[02:51:51] [ENEMY] [Enemy2] Heard gunshot at (637.7459, 763.2927), source_type=1, intensity=0.02, distance=319
[02:51:51] [ENEMY] [Enemy4] Heard gunshot at (637.7459, 763.2927), source_type=1, intensity=0.06, distance=212
[02:51:51] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[02:51:51] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1077.684, 1487.691), shooter_id=573277474206, bullet_pos=(52.40982, 1095.27)
[02:51:51] [INFO] [Bullet] Using shooter_position, distance=1097.80749511719
[02:51:51] [INFO] [Bullet] Distance to wall: 1097.80749511719 (74.7517310325093% of viewport)
[02:51:51] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(989.6003, 1416.68), shooter_id=573277474206, bullet_pos=(499.5093, 564.4277)
[02:51:51] [INFO] [Bullet] Using shooter_position, distance=983.119140625
[02:51:51] [INFO] [Bullet] Distance to wall: 983.119140625 (66.9423900818484% of viewport)
[02:51:51] [INFO] [Bullet] Distance-based penetration chance: 68.5672115711769%
[02:51:51] [INFO] [Bullet] Starting wall penetration at (499.5093, 564.4277)
[02:51:51] [INFO] [LastChance] Threat detected: Bullet
[02:51:51] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:51:51] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:51:51] [INFO] [Bullet] Raycast backward hit penetrating body at distance 6.34460496902466
[02:51:51] [INFO] [Bullet] Body exited signal received for penetrating body
[02:51:51] [INFO] [Bullet] Exiting penetration at (529.4028, 582.8309) after traveling 30.1041698455811 pixels through wall
[02:51:51] [INFO] [Bullet] Damage multiplier after penetration: 0.225
[02:51:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(600.4471, 764.657), source=ENEMY (Enemy3), range=1469, listeners=10
[02:51:51] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=5
[02:51:51] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[02:51:51] [INFO] [LastChance] Threat detected: @Area2D@1046
[02:51:51] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:51:51] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:51:51] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[02:51:51] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[02:51:51] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[02:51:51] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[02:51:51] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(570.7775, 775.9689), shooter_id=571280984935, bullet_pos=(30.52964, 815.1483)
[02:51:51] [INFO] [Bullet] Using shooter_position, distance=541.666687011719
[02:51:51] [INFO] [Bullet] Distance to wall: 541.666687011719 (36.883080755837% of viewport)
[02:51:51] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:51:51] [INFO] [Bullet] Starting wall penetration at (30.52964, 815.1483)
[02:51:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(579.1158, 764.3805), source=ENEMY (Enemy3), range=1469, listeners=10
[02:51:51] [ENEMY] [Enemy1] Heard gunshot at (579.1158, 764.3805), source_type=1, intensity=0.01, distance=500
[02:51:51] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=1, below_threshold=4
[02:51:51] [INFO] [Bullet] Raycast backward hit penetrating body at distance 48.1408920288086
[02:51:51] [INFO] [Bullet] Body exited signal received for penetrating body
[02:51:51] [INFO] [Bullet] Exiting penetration at (-16.0148, 818.5237) after traveling 41.6666717529297 pixels through wall
[02:51:51] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:51:51] [INFO] [LastChance] Threat detected: @Area2D@1049
[02:51:51] [INFO] [LastChance] Player health is 3.0 - effect requires exactly 1 HP or less but alive
[02:51:51] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:51:51] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[02:51:51] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[02:51:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(579.1158, 764.3805), source=ENEMY (Enemy3), range=1469, listeners=10
[02:51:51] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=1, below_threshold=4
[02:51:51] [INFO] [LastChance] Threat detected: Bullet
[02:51:51] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[02:51:51] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:51:51] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[02:51:51] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[02:51:51] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[02:51:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(579.1158, 764.3805), source=ENEMY (Enemy3), range=1469, listeners=10
[02:51:51] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=1, below_threshold=4
[02:51:51] [INFO] [LastChance] Threat detected: Bullet
[02:51:51] [INFO] [LastChance] Triggering last chance effect!
[02:51:51] [INFO] [LastChance] Starting last chance effect:
[02:51:51] [INFO] [LastChance]   - Time will be frozen (except player)
[02:51:51] [INFO] [LastChance]   - Duration: 6.0 real seconds
[02:51:51] [INFO] [LastChance]   - Sepia intensity: 0.70
[02:51:51] [INFO] [LastChance]   - Brightness: 0.60
[02:51:51] [INFO] [LastChance] Pushed bullet Bullet from distance 138.8 to 200.0
[02:51:51] [INFO] [LastChance] Pushed 1 threatening bullets away from player
[02:51:51] [INFO] [LastChance] Set player Player and all 18 children to PROCESS_MODE_ALWAYS
[02:51:51] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[02:51:51] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:51:51] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:51:51] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[02:51:51] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:51:51] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:51:51] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:51:51] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:51:51] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:51:51] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:51:51] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:51:51] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:51:51] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:51:51] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:51:51] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:51:51] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:51:51] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:51:51] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[02:51:51] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[02:51:51] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:51:51] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:51:51] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:51:51] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:51:51] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:51:51] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[02:51:51] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[02:51:51] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:51:51] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[02:51:51] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[02:51:51] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:51:51] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:51:51] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[02:51:51] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[02:51:51] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[02:51:51] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[02:51:51] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[02:51:51] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[02:51:51] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[02:51:51] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[02:51:51] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[02:51:51] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[02:51:51] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[02:51:51] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[02:51:51] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[02:51:51] [INFO] [LastChance] Skipping player node: Player
[02:51:51] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[02:51:51] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[02:51:51] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[02:51:53] [INFO] [Player.Debug] Debug mode toggled: ON
[02:51:53] [INFO] [GameManager] Debug mode toggled: ON
[02:51:54] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[02:51:54] [INFO] [LastChance] Resetting all effects (scene change detected)
[02:51:54] [INFO] [LastChance] Ending last chance effect
[02:51:54] [INFO] [LastChance] All process modes restored
[02:51:54] [INFO] [LastChance] Restored original colors to 5 player sprites
[02:51:54] [ENEMY] [Enemy1] Death animation component initialized
[02:51:54] [ENEMY] [Enemy2] Death animation component initialized
[02:51:54] [ENEMY] [Enemy3] Death animation component initialized
[02:51:54] [ENEMY] [Enemy4] Death animation component initialized
[02:51:54] [ENEMY] [Enemy5] Death animation component initialized
[02:51:54] [ENEMY] [Enemy6] Death animation component initialized
[02:51:54] [ENEMY] [Enemy7] Death animation component initialized
[02:51:54] [ENEMY] [Enemy8] Death animation component initialized
[02:51:54] [ENEMY] [Enemy9] Death animation component initialized
[02:51:54] [ENEMY] [Enemy10] Death animation component initialized
[02:51:54] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[02:51:54] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[02:51:54] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[02:51:54] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[02:51:54] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[02:51:54] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[02:51:54] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[02:51:54] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[02:51:54] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[02:51:54] [ENEMY] [Enemy10] Grenade system configured: offensive=2, flashbangs=0
[02:51:54] [INFO] [ScoreManager] Level started with 10 enemies
[02:51:54] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[02:51:54] [ENEMY] [Enemy1] Registered as sound listener
[02:51:54] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[02:51:54] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[02:51:54] [ENEMY] [Enemy2] Registered as sound listener
[02:51:54] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[02:51:54] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[02:51:54] [ENEMY] [Enemy3] Registered as sound listener
[02:51:54] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[02:51:54] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[02:51:54] [ENEMY] [Enemy4] Registered as sound listener
[02:51:54] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[02:51:54] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[02:51:54] [ENEMY] [Enemy5] Registered as sound listener
[02:51:54] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[02:51:54] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[02:51:54] [ENEMY] [Enemy6] Registered as sound listener
[02:51:54] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[02:51:54] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[02:51:54] [ENEMY] [Enemy7] Registered as sound listener
[02:51:54] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[02:51:54] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[02:51:54] [ENEMY] [Enemy8] Registered as sound listener
[02:51:54] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[02:51:54] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[02:51:54] [ENEMY] [Enemy9] Registered as sound listener
[02:51:54] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[02:51:54] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[02:51:54] [ENEMY] [Enemy10] Registered as sound listener
[02:51:54] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[02:51:54] [INFO] [Player] Detecting weapon pose (frame 3)...
[02:51:54] [INFO] [Player] Detected weapon: Rifle (default pose)
[02:51:54] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[02:51:54] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[02:51:54] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[02:51:54] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[02:51:54] [INFO] [LastChance] Found player: Player
[02:51:54] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[02:51:54] [INFO] [LastChance] Connected to player Damaged signal (C#)
[02:51:54] [INFO] [LastChance] Connected to player Died signal (C#)
[02:51:55] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:51:55] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:51:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1171.731, 1535.008), source=ENEMY (Enemy10), range=1469, listeners=20
[02:51:55] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[02:51:55] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=8
[02:51:55] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:51:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1139.423, 1516.307), source=ENEMY (Enemy10), range=1469, listeners=10
[02:51:55] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:51:55] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:51:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1107.858, 1496.375), source=ENEMY (Enemy10), range=1469, listeners=10
[02:51:55] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:51:56] [INFO] [PauseMenu] Armory button pressed
[02:51:56] [INFO] [PauseMenu] Creating new armory menu instance
[02:51:56] [INFO] [PauseMenu] armory_menu_scene resource path: res://scenes/ui/ArmoryMenu.tscn
[02:51:56] [INFO] [PauseMenu] Instance created, class: CanvasLayer, name: ArmoryMenu
[02:51:56] [INFO] [PauseMenu] Script attached: res://scripts/ui/armory_menu.gd
[02:51:56] [INFO] [PauseMenu] back_pressed signal exists on instance
[02:51:56] [INFO] [PauseMenu] back_pressed signal connected
[02:51:56] [INFO] [PauseMenu] Armory menu instance added as child, is_inside_tree: true
[02:51:56] [INFO] [PauseMenu] _populate_weapon_grid method exists
[02:51:57] [INFO] [GameManager] Weapon selected: mini_uzi
[02:51:58] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[02:51:58] [INFO] [LastChance] Resetting all effects (scene change detected)
[02:51:58] [ENEMY] [Enemy1] Death animation component initialized
[02:51:58] [ENEMY] [Enemy2] Death animation component initialized
[02:51:58] [ENEMY] [Enemy3] Death animation component initialized
[02:51:58] [ENEMY] [Enemy4] Death animation component initialized
[02:51:58] [ENEMY] [Enemy5] Death animation component initialized
[02:51:58] [ENEMY] [Enemy6] Death animation component initialized
[02:51:58] [ENEMY] [Enemy7] Death animation component initialized
[02:51:58] [ENEMY] [Enemy8] Death animation component initialized
[02:51:58] [ENEMY] [Enemy9] Death animation component initialized
[02:51:58] [ENEMY] [Enemy10] Death animation component initialized
[02:51:58] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[02:51:58] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[02:51:58] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[02:51:58] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[02:51:58] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[02:51:58] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[02:51:58] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[02:51:58] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[02:51:58] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[02:51:58] [ENEMY] [Enemy10] Grenade system configured: offensive=2, flashbangs=0
[02:51:58] [INFO] [ScoreManager] Level started with 10 enemies
[02:51:58] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[02:51:58] [ENEMY] [Enemy1] Registered as sound listener
[02:51:58] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[02:51:58] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[02:51:58] [ENEMY] [Enemy2] Registered as sound listener
[02:51:58] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[02:51:58] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[02:51:58] [ENEMY] [Enemy3] Registered as sound listener
[02:51:58] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[02:51:58] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[02:51:58] [ENEMY] [Enemy4] Registered as sound listener
[02:51:58] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[02:51:58] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[02:51:58] [ENEMY] [Enemy5] Registered as sound listener
[02:51:58] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[02:51:58] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[02:51:58] [ENEMY] [Enemy6] Registered as sound listener
[02:51:58] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[02:51:58] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[02:51:58] [ENEMY] [Enemy7] Registered as sound listener
[02:51:58] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[02:51:58] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[02:51:58] [ENEMY] [Enemy8] Registered as sound listener
[02:51:58] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[02:51:58] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[02:51:58] [ENEMY] [Enemy9] Registered as sound listener
[02:51:58] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[02:51:58] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[02:51:58] [ENEMY] [Enemy10] Registered as sound listener
[02:51:58] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[02:51:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 1250), source=PLAYER (MiniUzi), range=1469, listeners=20
[02:51:58] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[02:51:58] [ENEMY] [Enemy4] Heard gunshot at (450, 1250), source_type=0, intensity=0.01, distance=495
[02:51:58] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=6
[02:51:58] [INFO] [Player] Detecting weapon pose (frame 3)...
[02:51:58] [INFO] [Player] Detected weapon: Mini UZI (SMG pose)
[02:51:58] [INFO] [Player] Applied SMG arm pose: Left=(14, 6), Right=(1, 6)
[02:51:58] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[02:51:58] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[02:51:58] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[02:51:58] [INFO] [LastChance] Found player: Player
[02:51:58] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[02:51:58] [INFO] [LastChance] Connected to player Damaged signal (C#)
[02:51:58] [INFO] [LastChance] Connected to player Died signal (C#)
[02:51:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(694.8868, 961.8645), source=ENEMY (Enemy4), range=1469, listeners=10
[02:51:58] [ENEMY] [Enemy3] Heard gunshot at (694.8868, 961.8645), source_type=1, intensity=0.06, distance=212
[02:51:58] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=7
[02:51:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(657.0521, 1018.425), shooter_id=835639577109, bullet_pos=(657.0521, 1018.425)
[02:51:58] [INFO] [Bullet] Using shooter_position, distance=0
[02:51:58] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[02:51:58] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[02:51:58] [INFO] [Bullet] Starting wall penetration at (657.0521, 1018.425)
[02:51:58] [INFO] [Bullet] Raycast backward hit penetrating body at distance 39.3506202697754
[02:51:58] [INFO] [Bullet] Body exited signal received for penetrating body
[02:51:58] [INFO] [Bullet] Exiting penetration at (626.8306, 1053.984) after traveling 41.6666679382324 pixels through wall
[02:51:58] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:51:58] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[02:51:58] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[02:51:58] [INFO] [LastChance] Resetting all effects (scene change detected)
[02:51:58] [ENEMY] [Enemy1] Death animation component initialized
[02:51:58] [ENEMY] [Enemy2] Death animation component initialized
[02:51:58] [ENEMY] [Enemy3] Death animation component initialized
[02:51:58] [ENEMY] [Enemy4] Death animation component initialized
[02:51:58] [ENEMY] [Enemy5] Death animation component initialized
[02:51:58] [ENEMY] [Enemy6] Death animation component initialized
[02:51:58] [ENEMY] [Enemy7] Death animation component initialized
[02:51:58] [ENEMY] [Enemy8] Death animation component initialized
[02:51:58] [ENEMY] [Enemy9] Death animation component initialized
[02:51:58] [ENEMY] [Enemy10] Death animation component initialized
[02:51:58] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[02:51:58] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[02:51:58] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[02:51:58] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[02:51:58] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[02:51:58] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[02:51:58] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[02:51:58] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[02:51:58] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[02:51:58] [ENEMY] [Enemy10] Grenade system configured: offensive=2, flashbangs=0
[02:51:58] [INFO] [ScoreManager] Level started with 10 enemies
[02:51:58] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[02:51:58] [ENEMY] [Enemy1] Registered as sound listener
[02:51:58] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[02:51:58] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[02:51:58] [ENEMY] [Enemy2] Registered as sound listener
[02:51:58] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[02:51:58] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[02:51:58] [ENEMY] [Enemy3] Registered as sound listener
[02:51:58] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[02:51:58] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[02:51:58] [ENEMY] [Enemy4] Registered as sound listener
[02:51:58] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[02:51:58] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[02:51:58] [ENEMY] [Enemy5] Registered as sound listener
[02:51:58] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 3, behavior: GUARD, player_found: yes
[02:51:58] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[02:51:58] [ENEMY] [Enemy6] Registered as sound listener
[02:51:58] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[02:51:58] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[02:51:58] [ENEMY] [Enemy7] Registered as sound listener
[02:51:58] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 4, behavior: PATROL, player_found: yes
[02:51:58] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[02:51:58] [ENEMY] [Enemy8] Registered as sound listener
[02:51:58] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[02:51:58] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[02:51:58] [ENEMY] [Enemy9] Registered as sound listener
[02:51:58] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[02:51:58] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[02:51:58] [ENEMY] [Enemy10] Registered as sound listener
[02:51:58] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[02:51:58] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[02:51:58] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[02:51:58] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[02:51:58] [INFO] [LastChance] Found player: Player
[02:51:58] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[02:51:58] [INFO] [LastChance] Connected to player Damaged signal (C#)
[02:51:58] [INFO] [LastChance] Connected to player Died signal (C#)
[02:51:58] [INFO] [Player] Detecting weapon pose (frame 3)...
[02:51:58] [INFO] [Player] Detected weapon: Mini UZI (SMG pose)
[02:51:58] [INFO] [Player] Applied SMG arm pose: Left=(14, 6), Right=(1, 6)
[02:51:59] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[02:51:59] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:51:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1144.004, 1519.036), source=ENEMY (Enemy10), range=1469, listeners=20
[02:51:59] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[02:51:59] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:51:59] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:51:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1112.369, 1499.216), source=ENEMY (Enemy10), range=1469, listeners=10
[02:51:59] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:51:59] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:51:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1081.567, 1478.127), source=ENEMY (Enemy10), range=1469, listeners=10
[02:51:59] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:51:59] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:51:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1051.639, 1455.814), source=ENEMY (Enemy10), range=1469, listeners=10
[02:51:59] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:51:59] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[02:51:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1082.098, 1490.783), shooter_id=887447620099, bullet_pos=(47.58658, 866.3981)
[02:51:59] [INFO] [Bullet] Using shooter_position, distance=1208.33349609375
[02:51:59] [INFO] [Bullet] Distance to wall: 1208.33349609375 (82.277649678398% of viewport)
[02:51:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1051.666, 1468.465), shooter_id=887447620099, bullet_pos=(43.44983, 802.4554)
[02:51:59] [INFO] [Bullet] Using shooter_position, distance=1208.33264160156
[02:51:59] [INFO] [Bullet] Distance to wall: 1208.33264160156 (82.2775914944537% of viewport)
[02:52:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1082.098, 1490.783), shooter_id=887447620099, bullet_pos=(371.531, 711.2828)
[02:52:00] [INFO] [Bullet] Using shooter_position, distance=1054.76330566406
[02:52:00] [INFO] [Bullet] Distance to wall: 1054.76330566406 (71.820773021361% of viewport)
[02:52:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1051.666, 1468.465), shooter_id=887447620099, bullet_pos=(242.9092, 715.7248)
[02:52:00] [INFO] [Bullet] Using shooter_position, distance=1104.85510253906
[02:52:00] [INFO] [Bullet] Distance to wall: 1104.85510253906 (75.2316155812721% of viewport)
[02:52:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1022.157, 1444.944), shooter_id=887447620099, bullet_pos=(41.72453, 738.6708)
[02:52:00] [INFO] [Bullet] Using shooter_position, distance=1208.33374023438
[02:52:00] [INFO] [Bullet] Distance to wall: 1208.33374023438 (82.2776663023821% of viewport)
[02:52:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1022.157, 1444.944), shooter_id=887447620099, bullet_pos=(106.7142, 699.5934)
[02:52:00] [INFO] [Bullet] Using shooter_position, distance=1180.50146484375
[02:52:00] [INFO] [Bullet] Distance to wall: 1180.50146484375 (80.3825154919929% of viewport)
[02:52:00] [INFO] [Bullet] Distance-based penetration chance: 52.8870652593417%
[02:52:00] [INFO] [Bullet] Starting wall penetration at (106.7142, 699.5934)
[02:52:00] [INFO] [Bullet] Raycast backward hit penetrating body at distance 17.9186630249023
[02:52:00] [INFO] [Bullet] Body exited signal received for penetrating body
[02:52:00] [INFO] [Bullet] Exiting penetration at (141.3515, 678.7664) after traveling 35.4166679382324 pixels through wall
[02:52:00] [INFO] [Bullet] Damage multiplier after penetration: 0.45
[02:52:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(993.6077, 1420.276), shooter_id=887447620099, bullet_pos=(42.26835, 675.2775)
[02:52:00] [INFO] [Bullet] Using shooter_position, distance=1208.33325195313
[02:52:00] [INFO] [Bullet] Distance to wall: 1208.33325195313 (82.2776330544139% of viewport)
[02:52:00] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[02:52:00] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(400.6032, 812.6275), source=PLAYER (MiniUzi), range=1469, listeners=10
[02:52:00] [ENEMY] [Enemy1] Heard gunshot at (400.6032, 812.6275), source_type=0, intensity=0.01, distance=473
[02:52:00] [ENEMY] [Enemy2] Heard gunshot at (400.6032, 812.6275), source_type=0, intensity=0.04, distance=263
[02:52:00] [ENEMY] [Enemy4] Heard gunshot at (400.6032, 812.6275), source_type=0, intensity=0.01, distance=409
[02:52:00] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[02:52:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1051.666, 1468.465), shooter_id=887447620099, bullet_pos=(682.5098, 839.0159)
[02:52:00] [INFO] [Bullet] Using shooter_position, distance=729.713684082031
[02:52:00] [INFO] [Bullet] Distance to wall: 729.713684082031 (49.6875465742914% of viewport)
[02:52:00] [INFO] [Bullet] Distance-based penetration chance: 88.6978623299934%
[02:52:00] [INFO] [Bullet] Starting wall penetration at (682.5098, 839.0159)
[02:52:00] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(393.5554, 799.0468), source=PLAYER (MiniUzi), range=1469, listeners=10
[02:52:00] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[02:52:00] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[02:52:00] [INFO] [Bullet] Exiting penetration at (716.3099, 848.4955) after traveling 30.1041698455811 pixels through wall
[02:52:00] [INFO] [Bullet] Damage multiplier after penetration: 0.225
[02:52:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1082.098, 1490.783), shooter_id=887447620099, bullet_pos=(869.7089, 1002.356)
[02:52:00] [INFO] [Bullet] Using shooter_position, distance=532.606689453125
[02:52:00] [INFO] [Bullet] Distance to wall: 532.606689453125 (36.2661688622059% of viewport)
[02:52:00] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:52:00] [INFO] [Bullet] Starting wall penetration at (869.7089, 1002.356)
[02:52:00] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[02:52:00] [INFO] [Bullet] Exiting penetration at (900.0187, 1020.065) after traveling 30.1041660308838 pixels through wall
[02:52:00] [INFO] [Bullet] Damage multiplier after penetration: 0.225
[02:52:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(993.6077, 1420.276), shooter_id=887447620099, bullet_pos=(330.0626, 460.3933)
[02:52:00] [INFO] [Bullet] Using shooter_position, distance=1166.90490722656
[02:52:00] [INFO] [Bullet] Distance to wall: 1166.90490722656 (79.4567008819737% of viewport)
[02:52:00] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(389.3429, 784.8575), source=PLAYER (MiniUzi), range=1469, listeners=10
[02:52:00] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[02:52:00] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(387.7477, 771.9846), source=PLAYER (MiniUzi), range=1469, listeners=10
[02:52:00] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[02:52:00] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[02:52:00] [ENEMY] [Enemy3] Hit taken, health: 1/2
[02:52:00] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(631.6092, 760.5201), source=ENEMY (Enemy3), range=1469, listeners=10
[02:52:00] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=5
[02:52:00] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[02:52:00] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[02:52:00] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(388.597, 760.8506), source=PLAYER (MiniUzi), range=1469, listeners=10
[02:52:00] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[02:52:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(993.6077, 1420.276), shooter_id=887447620099, bullet_pos=(497.077, 596.9409)
[02:52:00] [INFO] [Bullet] Using shooter_position, distance=961.469421386719
[02:52:00] [INFO] [Bullet] Distance to wall: 961.469421386719 (65.4682208885906% of viewport)
[02:52:00] [INFO] [LastChance] Threat detected: Bullet
[02:52:00] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:52:00] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:52:00] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[02:52:00] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(391.8909, 751.4557), source=PLAYER (MiniUzi), range=1469, listeners=10
[02:52:00] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[02:52:00] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(632.5606, 768.4634), source=ENEMY (Enemy3), range=1469, listeners=10
[02:52:00] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[02:52:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(993.6077, 1420.276), shooter_id=887447620099, bullet_pos=(402.7729, 690.6452)
[02:52:00] [INFO] [Bullet] Using shooter_position, distance=938.85400390625
[02:52:00] [INFO] [Bullet] Distance to wall: 938.85400390625 (63.9282955262596% of viewport)
[02:52:00] [ENEMY] [Enemy3] Hit taken, health: 0/2
[02:52:00] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[02:52:00] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[02:52:00] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[02:52:00] [INFO] [DeathAnim] Started - Angle: -9.1 deg, Index: 11
[02:52:00] [ENEMY] [Enemy3] Death animation started with hit direction: (0.987487, -0.157703)
[02:52:00] [ENEMY] [Enemy1] State: COMBAT -> RETREATING
[02:52:00] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(397.6293, 743.7999), source=PLAYER (MiniUzi), range=1469, listeners=9
[02:52:00] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[02:52:00] [ENEMY] [Enemy1] State: RETREATING -> IN_COVER
[02:52:00] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[02:52:00] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[02:52:00] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[02:52:00] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[02:52:00] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(405.8123, 737.8831), source=PLAYER (MiniUzi), range=1469, listeners=9
[02:52:00] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[02:52:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(564.0275, 770.4149), shooter_id=885451131795, bullet_pos=(64.26753, 785.9085)
[02:52:00] [INFO] [Bullet] Using shooter_position, distance=500.000061035156
[02:52:00] [INFO] [Bullet] Distance to wall: 500.000061035156 (34.0459235749237% of viewport)
[02:52:00] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:52:00] [INFO] [Bullet] Starting wall penetration at (64.26753, 785.9085)
[02:52:00] [INFO] [Bullet] Raycast backward hit penetrating body at distance 14.3836288452148
[02:52:00] [INFO] [Bullet] Body exited signal received for penetrating body
[02:52:00] [INFO] [Bullet] Exiting penetration at (17.62328, 787.3546) after traveling 41.6666641235352 pixels through wall
[02:52:00] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:52:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(393.5554, 799.0468), shooter_id=888269702785, bullet_pos=(913.4735, 653.1538)
[02:52:00] [INFO] [Bullet] Using shooter_position, distance=539.999572753906
[02:52:00] [INFO] [Bullet] Distance to wall: 539.999572753906 (36.7695638804698% of viewport)
[02:52:00] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:52:00] [INFO] [Bullet] Caliber cannot penetrate walls
[02:52:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(564.5479, 770.6696), shooter_id=885451131795, bullet_pos=(30.05032, 858.506)
[02:52:00] [INFO] [Bullet] Using shooter_position, distance=541.666748046875
[02:52:00] [INFO] [Bullet] Distance to wall: 541.666748046875 (36.883084911833% of viewport)
[02:52:00] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:52:00] [INFO] [Bullet] Starting wall penetration at (30.05032, 858.506)
[02:52:00] [INFO] [Bullet] Raycast backward hit penetrating body at distance 48.6424980163574
[02:52:00] [INFO] [Bullet] Body exited signal received for penetrating body
[02:52:00] [INFO] [Bullet] Exiting penetration at (-15.9987, 866.0735) after traveling 41.6666717529297 pixels through wall
[02:52:00] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:52:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(387.7477, 771.9846), shooter_id=888269702785, bullet_pos=(923.6558, 705.6332)
[02:52:00] [INFO] [Bullet] Using shooter_position, distance=540
[02:52:00] [INFO] [Bullet] Distance to wall: 540 (36.7695929724419% of viewport)
[02:52:00] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:52:00] [INFO] [Bullet] Caliber cannot penetrate walls
[02:52:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(388.597, 760.8506), shooter_id=888269702785, bullet_pos=(927.7467, 730.5531)
[02:52:00] [INFO] [Bullet] Using shooter_position, distance=540.000244140625
[02:52:00] [INFO] [Bullet] Distance to wall: 540.000244140625 (36.769609596426% of viewport)
[02:52:00] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:52:00] [INFO] [Bullet] Caliber cannot penetrate walls
[02:52:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(993.6077, 1420.276), shooter_id=887447620099, bullet_pos=(61.14944, 318.3858)
[02:52:00] [INFO] [Bullet] Using shooter_position, distance=1443.48205566406
[02:52:00] [INFO] [Bullet] Distance to wall: 1443.48205566406 (98.2893474996136% of viewport)
[02:52:00] [INFO] [Bullet] Distance-based penetration chance: 31.9957612504508%
[02:52:00] [INFO] [Bullet] Starting wall penetration at (61.14944, 318.3858)
[02:52:00] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[02:52:00] [INFO] [Bullet] Exiting penetration at (43.06252, 298.6769) after traveling 21.7502632141113 pixels through wall
[02:52:00] [INFO] [Bullet] Damage multiplier after penetration: 0.05625
[02:52:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(391.8909, 751.4557), shooter_id=888269702785, bullet_pos=(923.7451, 658.0154)
[02:52:00] [INFO] [Bullet] Using shooter_position, distance=540
[02:52:00] [INFO] [Bullet] Distance to wall: 540 (36.7695929724419% of viewport)
[02:52:00] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:52:00] [INFO] [Bullet] Caliber cannot penetrate walls
[02:52:01] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(397.6293, 743.7999), shooter_id=888269702785, bullet_pos=(914.4872, 686.7186)
[02:52:01] [INFO] [Bullet] Using shooter_position, distance=520.000366210938
[02:52:01] [INFO] [Bullet] Distance to wall: 520.000366210938 (35.4077811316609% of viewport)
[02:52:01] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:52:01] [INFO] [Bullet] Caliber cannot penetrate walls
[02:52:01] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[02:52:01] [ENEMY] [Enemy3] Ragdoll activated
[02:52:01] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[02:52:01] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(405.8123, 737.8831), shooter_id=888269702785, bullet_pos=(923.935, 693.7383)
[02:52:01] [INFO] [Bullet] Using shooter_position, distance=519.999877929688
[02:52:01] [INFO] [Bullet] Distance to wall: 519.999877929688 (35.4077478836928% of viewport)
[02:52:01] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:52:01] [INFO] [Bullet] Caliber cannot penetrate walls
[02:52:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(399.9251, 565.9996), source=ENEMY (Enemy2), range=1469, listeners=9
[02:52:01] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=4
[02:52:01] [INFO] [LastChance] Threat detected: Bullet
[02:52:01] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:52:01] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:52:01] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[02:52:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(399.9251, 565.9996), source=ENEMY (Enemy2), range=1469, listeners=9
[02:52:01] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=4
[02:52:01] [INFO] [LastChance] Threat detected: @Area2D@1907
[02:52:01] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:52:01] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:52:01] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[02:52:01] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[02:52:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(399.9251, 565.9996), source=ENEMY (Enemy2), range=1469, listeners=9
[02:52:01] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=4
[02:52:01] [INFO] [LastChance] Threat detected: @Area2D@1909
[02:52:01] [INFO] [LastChance] Player health is 3.0 - effect requires exactly 1 HP or less but alive
[02:52:01] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:52:01] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[02:52:01] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[02:52:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(399.9251, 565.9996), source=ENEMY (Enemy2), range=1469, listeners=9
[02:52:01] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=4
[02:52:01] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[02:52:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(399.9251, 565.9996), source=ENEMY (Enemy2), range=1469, listeners=9
[02:52:01] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=4
[02:52:01] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[02:52:01] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[02:52:01] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[02:52:01] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[02:52:01] [INFO] [LastChance] Threat detected: Bullet
[02:52:01] [INFO] [LastChance] Triggering last chance effect!
[02:52:01] [INFO] [LastChance] Starting last chance effect:
[02:52:01] [INFO] [LastChance]   - Time will be frozen (except player)
[02:52:01] [INFO] [LastChance]   - Duration: 6.0 real seconds
[02:52:01] [INFO] [LastChance]   - Sepia intensity: 0.70
[02:52:01] [INFO] [LastChance]   - Brightness: 0.60
[02:52:01] [INFO] [LastChance] Pushed bullet Bullet from distance 126.5 to 200.0
[02:52:01] [INFO] [LastChance] Pushed 1 threatening bullets away from player
[02:52:01] [INFO] [LastChance] Set player Player and all 17 children to PROCESS_MODE_ALWAYS
[02:52:01] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[02:52:01] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:52:01] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:52:01] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[02:52:01] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:52:01] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:52:01] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:52:01] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:52:01] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:52:01] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:52:01] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:52:01] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:52:01] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:52:01] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:52:01] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:52:01] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:52:01] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:52:01] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[02:52:01] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[02:52:01] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:52:01] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:52:01] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:52:01] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:52:01] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:52:01] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[02:52:01] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[02:52:01] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:52:01] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[02:52:01] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[02:52:01] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:52:01] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:52:01] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[02:52:01] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[02:52:01] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[02:52:01] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[02:52:01] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[02:52:01] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[02:52:01] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[02:52:01] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[02:52:01] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[02:52:01] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[02:52:01] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[02:52:01] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[02:52:01] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[02:52:01] [INFO] [LastChance] Skipping player node: Player
[02:52:01] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[02:52:01] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[02:52:01] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[02:52:01] [INFO] [LastChance] Freezing newly fired player bullet: Bullet9mm
[02:52:01] [INFO] [LastChance] Registered frozen player bullet: Bullet9mm
[02:52:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(604.2853, 929.0191), source=PLAYER (MiniUzi), range=1469, listeners=9
[02:52:01] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[02:52:01] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@1913
[02:52:01] [INFO] [LastChance] Registered frozen player bullet: @Area2D@1913
[02:52:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(604.2853, 945.5191), source=PLAYER (MiniUzi), range=1469, listeners=9
[02:52:01] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[02:52:01] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@1915
[02:52:01] [INFO] [LastChance] Registered frozen player bullet: @Area2D@1915
[02:52:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(604.2853, 961.1858), source=PLAYER (MiniUzi), range=1469, listeners=9
[02:52:01] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[02:52:01] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@1917
[02:52:01] [INFO] [LastChance] Registered frozen player bullet: @Area2D@1917
[02:52:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(605.0478, 974.5388), source=PLAYER (MiniUzi), range=1469, listeners=9
[02:52:01] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[02:52:02] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@1919
[02:52:02] [INFO] [LastChance] Registered frozen player bullet: @Area2D@1919
[02:52:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(608.0978, 983.9335), source=PLAYER (MiniUzi), range=1469, listeners=9
[02:52:02] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[02:52:02] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@1921
[02:52:02] [INFO] [LastChance] Registered frozen player bullet: @Area2D@1921
[02:52:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(613.9104, 983.9335), source=PLAYER (MiniUzi), range=1469, listeners=9
[02:52:02] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[02:52:02] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@1923
[02:52:02] [INFO] [LastChance] Registered frozen player bullet: @Area2D@1923
[02:52:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(622.723, 983.9335), source=PLAYER (MiniUzi), range=1469, listeners=9
[02:52:02] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[02:52:03] [INFO] [ScoreManager] Combo ended at 1. Max combo: 1
[02:52:03] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@1925
[02:52:03] [INFO] [LastChance] Registered frozen player bullet: @Area2D@1925
[02:52:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(501.5375, 639.9178), source=PLAYER (MiniUzi), range=1469, listeners=9
[02:52:03] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[02:52:03] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@1927
[02:52:03] [INFO] [LastChance] Registered frozen player bullet: @Area2D@1927
[02:52:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(489.8702, 628.2505), source=PLAYER (MiniUzi), range=1469, listeners=9
[02:52:03] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[02:52:03] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@1929
[02:52:03] [INFO] [LastChance] Registered frozen player bullet: @Area2D@1929
[02:52:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(477.8202, 617.5071), source=PLAYER (MiniUzi), range=1469, listeners=9
[02:52:03] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[02:52:03] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@1931
[02:52:03] [INFO] [LastChance] Registered frozen player bullet: @Area2D@1931
[02:52:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(464.6223, 609.5353), source=PLAYER (MiniUzi), range=1469, listeners=9
[02:52:03] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[02:52:04] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@1933
[02:52:04] [INFO] [LastChance] Registered frozen player bullet: @Area2D@1933
[02:52:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450.2762, 604.3353), source=PLAYER (MiniUzi), range=1469, listeners=9
[02:52:04] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[02:52:05] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@1935
[02:52:05] [INFO] [LastChance] Registered frozen player bullet: @Area2D@1935
[02:52:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(129.8352, 417.5363), source=PLAYER (MiniUzi), range=1469, listeners=9
[02:52:05] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=2
[02:52:05] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@1937
[02:52:05] [INFO] [LastChance] Registered frozen player bullet: @Area2D@1937
[02:52:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(127.4067, 402.0422), source=PLAYER (MiniUzi), range=1469, listeners=9
[02:52:05] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=2
[02:52:05] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@1939
[02:52:05] [INFO] [LastChance] Registered frozen player bullet: @Area2D@1939
[02:52:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(127.2131, 385.6224), source=PLAYER (MiniUzi), range=1469, listeners=9
[02:52:05] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=2
[02:52:05] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@1941
[02:52:05] [INFO] [LastChance] Registered frozen player bullet: @Area2D@1941
[02:52:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(128.137, 369.5051), source=PLAYER (MiniUzi), range=1469, listeners=9
[02:52:05] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=2
[02:52:05] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@1943
[02:52:05] [INFO] [LastChance] Registered frozen player bullet: @Area2D@1943
[02:52:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(131.8325, 354.5359), source=PLAYER (MiniUzi), range=1469, listeners=9
[02:52:05] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=2
[02:52:06] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[02:52:06] [ENEMY] [Enemy1] Player reloading state changed: false -> true
[02:52:06] [ENEMY] [Enemy2] Player reloading state changed: false -> true
[02:52:06] [ENEMY] [Enemy4] Player reloading state changed: false -> true
[02:52:06] [ENEMY] [Enemy5] Player reloading state changed: false -> true
[02:52:06] [ENEMY] [Enemy6] Player reloading state changed: false -> true
[02:52:06] [ENEMY] [Enemy7] Player reloading state changed: false -> true
[02:52:06] [ENEMY] [Enemy8] Player reloading state changed: false -> true
[02:52:06] [ENEMY] [Enemy9] Player reloading state changed: false -> true
[02:52:06] [ENEMY] [Enemy10] Player reloading state changed: false -> true
[02:52:06] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(288.373, 182.7585), source=PLAYER (Player), range=900, listeners=9
[02:52:06] [ENEMY] [Enemy1] Heard player RELOAD at (288.373, 182.7585), intensity=0.05, distance=222
[02:52:06] [ENEMY] [Enemy1] Vulnerability sound triggered pursuit - transitioning from SUPPRESSED to PURSUING
[02:52:06] [ENEMY] [Enemy2] Heard player RELOAD at (288.373, 182.7585), intensity=0.02, distance=399
[02:52:06] [ENEMY] [Enemy2] Vulnerability sound triggered pursuit - transitioning from SEEKING_COVER to PURSUING
[02:52:06] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=6, self=0, below_threshold=1
[02:52:06] [INFO] [Player.Reload.Anim] LeftArm: pos=(-4.656371, 2.2701743), target=(-6, 2), base=(14, 6)
[02:52:06] [INFO] [Player.Reload.Anim] RightArm: pos=(1.0072422, 6), target=(1, 6), base=(1, 6)
[02:52:06] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[02:52:06] [INFO] [Player.Reload.Anim] Phase changed to: PullBolt (duration: 0,35s)
[02:52:06] [ENEMY] [Enemy1] Player reloading state changed: true -> false
[02:52:06] [ENEMY] [Enemy2] Player reloading state changed: true -> false
[02:52:06] [ENEMY] [Enemy4] Player reloading state changed: true -> false
[02:52:06] [ENEMY] [Enemy5] Player reloading state changed: true -> false
[02:52:06] [ENEMY] [Enemy6] Player reloading state changed: true -> false
[02:52:06] [ENEMY] [Enemy7] Player reloading state changed: true -> false
[02:52:06] [ENEMY] [Enemy8] Player reloading state changed: true -> false
[02:52:06] [ENEMY] [Enemy9] Player reloading state changed: true -> false
[02:52:06] [ENEMY] [Enemy10] Player reloading state changed: true -> false
[02:52:06] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[02:52:07] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[02:52:07] [INFO] [LastChance] Effect duration expired after 6.00 real seconds
[02:52:07] [INFO] [LastChance] Ending last chance effect
[02:52:07] [INFO] [LastChance] All process modes restored
[02:52:07] [INFO] [LastChance] Unfroze player bullet: Bullet9mm
[02:52:07] [INFO] [LastChance] Unfroze player bullet: @Area2D@1913
[02:52:07] [INFO] [LastChance] Unfroze player bullet: @Area2D@1915
[02:52:07] [INFO] [LastChance] Unfroze player bullet: @Area2D@1917
[02:52:07] [INFO] [LastChance] Unfroze player bullet: @Area2D@1919
[02:52:07] [INFO] [LastChance] Unfroze player bullet: @Area2D@1921
[02:52:07] [INFO] [LastChance] Unfroze player bullet: @Area2D@1923
[02:52:07] [INFO] [LastChance] Unfroze player bullet: @Area2D@1925
[02:52:07] [INFO] [LastChance] Unfroze player bullet: @Area2D@1927
[02:52:07] [INFO] [LastChance] Unfroze player bullet: @Area2D@1929
[02:52:07] [INFO] [LastChance] Unfroze player bullet: @Area2D@1931
[02:52:07] [INFO] [LastChance] Unfroze player bullet: @Area2D@1933
[02:52:07] [INFO] [LastChance] Unfroze player bullet: @Area2D@1935
[02:52:07] [INFO] [LastChance] Unfroze player bullet: @Area2D@1937
[02:52:07] [INFO] [LastChance] Unfroze player bullet: @Area2D@1939
[02:52:07] [INFO] [LastChance] Unfroze player bullet: @Area2D@1941
[02:52:07] [INFO] [LastChance] Unfroze player bullet: @Area2D@1943
[02:52:07] [INFO] [LastChance] Restored original colors to 5 player sprites
[02:52:07] [INFO] [LastChance] Called player RefreshHealthVisual (C#)
[02:52:07] [ENEMY] [Enemy1] Pursuing vulnerability sound at (288.373, 182.7585), distance=222
[02:52:07] [ENEMY] [Enemy2] Pursuing vulnerability sound at (288.373, 182.7585), distance=399
[02:52:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(441.5538, 619.9445), shooter_id=885165919149, bullet_pos=(497.7988, 695.3165)
[02:52:07] [INFO] [Bullet] Using shooter_position, distance=94.0448989868164
[02:52:07] [INFO] [Bullet] Distance to wall: 94.0448989868164 (6.40369010533269% of viewport)
[02:52:07] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:52:07] [ENEMY] [Enemy2] Hit taken, health: 3/4
[02:52:07] [ENEMY] [Enemy10] FLANKING started: target=(189.8126, 356.8447), side=right, pos=(1022.606, 1432.347)
[02:52:07] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[02:52:07] [ENEMY] [Enemy2] Hit taken, health: 2/4
[02:52:07] [ENEMY] [Enemy2] Hit taken, health: 1/4
[02:52:07] [ENEMY] [Enemy2] Hit taken, health: 0/4
[02:52:07] [ENEMY] [Enemy2] Enemy died (ricochet: false, penetration: false)
[02:52:07] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[02:52:07] [INFO] [SoundPropagation] Unregistered listener: Enemy2 (remaining: 8)
[02:52:07] [INFO] [DeathAnim] Started - Angle: -130.5 deg, Index: 3
[02:52:07] [ENEMY] [Enemy2] Death animation started with hit direction: (-0.649518, -0.760346)
[02:52:07] [ENEMY] [Enemy1] Hit taken, health: 1/2
[02:52:07] [ENEMY] [Enemy1] Hit taken, health: 0/2
[02:52:07] [ENEMY] [Enemy1] Enemy died (ricochet: false, penetration: false)
[02:52:07] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[02:52:07] [INFO] [SoundPropagation] Unregistered listener: Enemy1 (remaining: 7)
[02:52:07] [INFO] [DeathAnim] Started - Angle: -14.7 deg, Index: 11
[02:52:07] [ENEMY] [Enemy1] Death animation started with hit direction: (0.967252, -0.253818)
[02:52:07] [ENEMY] [Enemy4] Hit taken, health: 1/2
[02:52:07] [ENEMY] [Enemy4] Hit taken, health: 0/2
[02:52:07] [ENEMY] [Enemy4] Enemy died (ricochet: false, penetration: false)
[02:52:07] [INFO] [ScoreManager] Kill registered. Combo: 3 (points: 3000)
[02:52:07] [INFO] [SoundPropagation] Unregistered listener: Enemy4 (remaining: 6)
[02:52:07] [INFO] [DeathAnim] Started - Angle: -30.9 deg, Index: 9
[02:52:07] [ENEMY] [Enemy4] Death animation started with hit direction: (0.858401, -0.512979)
[02:52:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(441.4713, 619.8931), shooter_id=885165919149, bullet_pos=(702.9569, 888.6873)
[02:52:07] [INFO] [Bullet] Using shooter_position, distance=375.000091552734
[02:52:07] [INFO] [Bullet] Distance to wall: 375.000091552734 (25.5344457981898% of viewport)
[02:52:07] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:52:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(501.5375, 639.9178), shooter_id=888269702785, bullet_pos=(334.1018, 441.0076)
[02:52:07] [INFO] [Bullet] Using shooter_position, distance=259.999938964844
[02:52:07] [INFO] [Bullet] Distance to wall: 259.999938964844 (17.7038739418464% of viewport)
[02:52:07] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:52:07] [INFO] [Bullet] Caliber cannot penetrate walls
[02:52:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(441.4713, 619.8931), shooter_id=885165919149, bullet_pos=(576.4982, 1019.693)
[02:52:07] [INFO] [Bullet] Using shooter_position, distance=421.986236572266
[02:52:07] [INFO] [Bullet] Distance to wall: 421.986236572266 (28.7338188124718% of viewport)
[02:52:07] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:52:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(613.9104, 983.9335), shooter_id=888269702785, bullet_pos=(926.2561, 914.3613)
[02:52:07] [INFO] [Bullet] Using shooter_position, distance=320.000213623047
[02:52:07] [INFO] [Bullet] Distance to wall: 320.000213623047 (21.7894029740998% of viewport)
[02:52:07] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:52:07] [INFO] [Bullet] Caliber cannot penetrate walls
[02:52:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(608.0978, 983.9335), shooter_id=888269702785, bullet_pos=(924.3537, 935.1279)
[02:52:07] [INFO] [Bullet] Using shooter_position, distance=319.999633789063
[02:52:07] [INFO] [Bullet] Distance to wall: 319.999633789063 (21.7893634921376% of viewport)
[02:52:07] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:52:07] [INFO] [Bullet] Caliber cannot penetrate walls
[02:52:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(605.0478, 974.5388), shooter_id=888269702785, bullet_pos=(921.8994, 929.7605)
[02:52:07] [INFO] [Bullet] Using shooter_position, distance=320.000030517578
[02:52:07] [INFO] [Bullet] Distance to wall: 320.000030517578 (21.7893905061117% of viewport)
[02:52:07] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:52:07] [INFO] [Bullet] Caliber cannot penetrate walls
[02:52:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(604.2853, 961.1858), shooter_id=888269702785, bullet_pos=(916.7531, 892.1643)
[02:52:07] [INFO] [Bullet] Using shooter_position, distance=320.000122070313
[02:52:07] [INFO] [Bullet] Distance to wall: 320.000122070313 (21.7893967401058% of viewport)
[02:52:07] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:52:07] [INFO] [Bullet] Caliber cannot penetrate walls
[02:52:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(604.2853, 945.5191), shooter_id=888269702785, bullet_pos=(917.2042, 878.5728)
[02:52:07] [INFO] [Bullet] Using shooter_position, distance=320.000122070313
[02:52:07] [INFO] [Bullet] Distance to wall: 320.000122070313 (21.7893967401058% of viewport)
[02:52:07] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:52:07] [INFO] [Bullet] Caliber cannot penetrate walls
[02:52:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(441.4713, 619.8931), shooter_id=885165919149, bullet_pos=(514.8602, 946.9937)
[02:52:07] [INFO] [Bullet] Using shooter_position, distance=335.232391357422
[02:52:07] [INFO] [Bullet] Distance to wall: 335.232391357422 (22.8265899655384% of viewport)
[02:52:07] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:52:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(128.137, 369.5051), shooter_id=888269702785, bullet_pos=(501.16, 297.0218)
[02:52:07] [INFO] [Bullet] Using shooter_position, distance=379.999938964844
[02:52:07] [INFO] [Bullet] Distance to wall: 379.999938964844 (25.874894602389% of viewport)
[02:52:07] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:52:07] [INFO] [Bullet] Caliber cannot penetrate walls
[02:52:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(127.2131, 385.6224), shooter_id=888269702785, bullet_pos=(501.155, 318.0399)
[02:52:07] [INFO] [Bullet] Using shooter_position, distance=379.999938964844
[02:52:07] [INFO] [Bullet] Distance to wall: 379.999938964844 (25.874894602389% of viewport)
[02:52:07] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:52:07] [INFO] [Bullet] Caliber cannot penetrate walls
[02:52:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(131.8325, 354.5359), shooter_id=888269702785, bullet_pos=(507.6425, 217.5437)
[02:52:07] [INFO] [Bullet] Using shooter_position, distance=399.999969482422
[02:52:07] [INFO] [Bullet] Distance to wall: 399.999969482422 (27.2367334571442% of viewport)
[02:52:07] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:52:07] [INFO] [Bullet] Caliber cannot penetrate walls
[02:52:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(441.5538, 619.9445), shooter_id=885165919149, bullet_pos=(980.6537, 271.457)
[02:52:07] [INFO] [Bullet] Using shooter_position, distance=641.928588867188
[02:52:07] [INFO] [Bullet] Distance to wall: 641.928588867188 (43.7100980185565% of viewport)
[02:52:07] [ENEMY] [Enemy1] Ragdoll activated
[02:52:07] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[02:52:07] [ENEMY] [Enemy2] Ragdoll activated
[02:52:07] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[02:52:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(441.5538, 619.9445), shooter_id=885165919149, bullet_pos=(648.8544, 54.64883)
[02:52:07] [INFO] [Bullet] Using shooter_position, distance=602.10693359375
[02:52:07] [INFO] [Bullet] Distance to wall: 602.10693359375 (40.9985682854209% of viewport)
[02:52:07] [ENEMY] [Enemy4] Ragdoll activated
[02:52:07] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[02:52:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(441.5538, 619.9445), shooter_id=885165919149, bullet_pos=(229.8255, 438.0282)
[02:52:08] [INFO] [Bullet] Using shooter_position, distance=279.145904541016
[02:52:08] [INFO] [Bullet] Distance to wall: 279.145904541016 (19.0075579442542% of viewport)
[02:52:08] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:52:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(441.5538, 619.9445), shooter_id=885165919149, bullet_pos=(66.18324, 256.6978)
[02:52:08] [INFO] [Bullet] Using shooter_position, distance=522.351623535156
[02:52:08] [INFO] [Bullet] Distance to wall: 522.351623535156 (35.567882566448% of viewport)
[02:52:08] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:52:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(441.5538, 619.9445), shooter_id=885165919149, bullet_pos=(217.3936, 63.49496)
[02:52:08] [INFO] [Bullet] Using shooter_position, distance=599.903259277344
[02:52:08] [INFO] [Bullet] Distance to wall: 599.903259277344 (40.8485160490171% of viewport)
[02:52:08] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[02:52:08] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[02:52:08] [INFO] [PenultimateHit] Player died - ending penultimate effect
[02:52:08] [INFO] [LastChance] Player died
[02:52:08] [ENEMY] [Enemy1] Death animation completed
[02:52:08] [ENEMY] [Enemy2] Death animation completed
[02:52:08] [ENEMY] [Enemy4] Death animation completed
[02:52:09] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[02:52:09] [INFO] [LastChance] Resetting all effects (scene change detected)
[02:52:09] [ENEMY] [Enemy1] Death animation component initialized
[02:52:09] [ENEMY] [Enemy2] Death animation component initialized
[02:52:09] [ENEMY] [Enemy3] Death animation component initialized
[02:52:09] [ENEMY] [Enemy4] Death animation component initialized
[02:52:09] [ENEMY] [Enemy5] Death animation component initialized
[02:52:09] [ENEMY] [Enemy6] Death animation component initialized
[02:52:09] [ENEMY] [Enemy7] Death animation component initialized
[02:52:09] [ENEMY] [Enemy8] Death animation component initialized
[02:52:09] [ENEMY] [Enemy9] Death animation component initialized
[02:52:09] [ENEMY] [Enemy10] Death animation component initialized
[02:52:09] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[02:52:09] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[02:52:09] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[02:52:09] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[02:52:09] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[02:52:09] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[02:52:09] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[02:52:09] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[02:52:09] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[02:52:09] [ENEMY] [Enemy10] Grenade system configured: offensive=2, flashbangs=0
[02:52:09] [INFO] [ScoreManager] Level started with 10 enemies
[02:52:09] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 7)
[02:52:09] [ENEMY] [Enemy1] Registered as sound listener
[02:52:09] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[02:52:09] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 8)
[02:52:09] [ENEMY] [Enemy2] Registered as sound listener
[02:52:09] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 2, behavior: GUARD, player_found: yes
[02:52:09] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 9)
[02:52:09] [ENEMY] [Enemy3] Registered as sound listener
[02:52:09] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[02:52:09] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 10)
[02:52:09] [ENEMY] [Enemy4] Registered as sound listener
[02:52:09] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[02:52:09] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 11)
[02:52:09] [ENEMY] [Enemy5] Registered as sound listener
[02:52:09] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[02:52:09] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 12)
[02:52:09] [ENEMY] [Enemy6] Registered as sound listener
[02:52:09] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[02:52:09] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 13)
[02:52:09] [ENEMY] [Enemy7] Registered as sound listener
[02:52:09] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[02:52:09] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 14)
[02:52:09] [ENEMY] [Enemy8] Registered as sound listener
[02:52:09] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 3, behavior: GUARD, player_found: yes
[02:52:09] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 15)
[02:52:09] [ENEMY] [Enemy9] Registered as sound listener
[02:52:09] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[02:52:09] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 16)
[02:52:09] [ENEMY] [Enemy10] Registered as sound listener
[02:52:09] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[02:52:09] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[02:52:09] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[02:52:09] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[02:52:09] [INFO] [LastChance] Found player: Player
[02:52:09] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[02:52:09] [INFO] [LastChance] Connected to player Damaged signal (C#)
[02:52:09] [INFO] [LastChance] Connected to player Died signal (C#)
[02:52:09] [INFO] [Player] Detecting weapon pose (frame 3)...
[02:52:09] [INFO] [Player] Detected weapon: Mini UZI (SMG pose)
[02:52:09] [INFO] [Player] Applied SMG arm pose: Left=(14, 6), Right=(1, 6)
[02:52:10] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:52:10] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:52:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1171.761, 1534.951), source=ENEMY (Enemy10), range=1469, listeners=16
[02:52:10] [INFO] [SoundPropagation] Cleaned up 6 invalid listeners
[02:52:10] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=8
[02:52:10] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:52:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1139.49, 1516.187), source=ENEMY (Enemy10), range=1469, listeners=10
[02:52:10] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:52:11] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:52:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1108.009, 1496.124), source=ENEMY (Enemy10), range=1469, listeners=10
[02:52:11] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:52:11] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:52:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1077.366, 1474.803), source=ENEMY (Enemy10), range=1469, listeners=10
[02:52:11] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:52:11] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:52:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1047.605, 1452.269), source=ENEMY (Enemy10), range=1469, listeners=10
[02:52:11] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:52:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1108.956, 1508.757), shooter_id=1159473400041, bullet_pos=(54.39279, 918.8701)
[02:52:11] [INFO] [Bullet] Using shooter_position, distance=1208.333984375
[02:52:11] [INFO] [Bullet] Distance to wall: 1208.333984375 (82.2776829263662% of viewport)
[02:52:11] [INFO] [Bullet] Distance-based penetration chance: 50.6760365859061%
[02:52:11] [INFO] [Bullet] Starting wall penetration at (54.39279, 918.8701)
[02:52:11] [INFO] [Bullet] Raycast backward hit penetrating body at distance 21.0087127685547
[02:52:11] [INFO] [Bullet] Body exited signal received for penetrating body
[02:52:11] [INFO] [Bullet] Exiting penetration at (13.66483, 896.0883) after traveling 41.6666679382324 pixels through wall
[02:52:11] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:52:11] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[02:52:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1077.804, 1487.455), shooter_id=1159473400041, bullet_pos=(48.15939, 855.0771)
[02:52:11] [INFO] [Bullet] Using shooter_position, distance=1208.33386230469
[02:52:11] [INFO] [Bullet] Distance to wall: 1208.33386230469 (82.2776746143741% of viewport)
[02:52:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1047.541, 1464.911), shooter_id=1159473400041, bullet_pos=(44.42503, 791.2449)
[02:52:11] [INFO] [Bullet] Using shooter_position, distance=1208.33288574219
[02:52:11] [INFO] [Bullet] Distance to wall: 1208.33288574219 (82.2776081184378% of viewport)
[02:52:11] [INFO] [Bullet] Distance-based penetration chance: 50.6761238618226%
[02:52:11] [INFO] [Bullet] Penetration failed (distance roll)
[02:52:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1077.804, 1487.455), shooter_id=1159473400041, bullet_pos=(293.9765, 704.3784)
[02:52:11] [INFO] [Bullet] Using shooter_position, distance=1107.96899414063
[02:52:11] [INFO] [Bullet] Distance to wall: 1107.96899414063 (75.4436461863642% of viewport)
[02:52:11] [INFO] [Bullet] Distance-based penetration chance: 58.6490794492418%
[02:52:11] [INFO] [Bullet] Penetration failed (distance roll)
[02:52:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1018.206, 1441.178), shooter_id=1159473400041, bullet_pos=(43.06874, 727.6122)
[02:52:11] [INFO] [Bullet] Using shooter_position, distance=1208.33325195313
[02:52:11] [INFO] [Bullet] Distance to wall: 1208.33325195313 (82.2776330544139% of viewport)
[02:52:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1018.206, 1441.178), shooter_id=1159473400041, bullet_pos=(105.5589, 684.6509)
[02:52:11] [INFO] [Bullet] Using shooter_position, distance=1185.43591308594
[02:52:11] [INFO] [Bullet] Distance to wall: 1185.43591308594 (80.7185111464536% of viewport)
[02:52:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1018.206, 1441.178), shooter_id=1159473400041, bullet_pos=(53.58162, 645.2747)
[02:52:11] [INFO] [Bullet] Using shooter_position, distance=1250.58483886719
[02:52:11] [INFO] [Bullet] Distance to wall: 1250.58483886719 (85.1546213012099% of viewport)
[02:52:11] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[02:52:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(989.8334, 1416.31), shooter_id=1159473400041, bullet_pos=(43.94339, 664.4055)
[02:52:11] [INFO] [Bullet] Using shooter_position, distance=1208.33276367188
[02:52:11] [INFO] [Bullet] Distance to wall: 1208.33276367188 (82.2775998064458% of viewport)
[02:52:11] [INFO] [Bullet] Distance-based penetration chance: 50.6761335591466%
[02:52:11] [INFO] [Bullet] Starting wall penetration at (43.94339, 664.4055)
[02:52:11] [INFO] [Bullet] Raycast backward hit penetrating body at distance 31.4094886779785
[02:52:11] [INFO] [Bullet] Body exited signal received for penetrating body
[02:52:11] [INFO] [Bullet] Exiting penetration at (7.412457, 635.3665) after traveling 41.6666717529297 pixels through wall
[02:52:11] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:52:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 801.5558), source=PLAYER (MiniUzi), range=1469, listeners=10
[02:52:11] [ENEMY] [Enemy1] Heard gunshot at (450, 801.5558), source_type=0, intensity=0.01, distance=476
[02:52:11] [ENEMY] [Enemy2] Heard gunshot at (450, 801.5558), source_type=0, intensity=0.04, distance=256
[02:52:11] [ENEMY] [Enemy4] Heard gunshot at (450, 801.5558), source_type=0, intensity=0.02, distance=364
[02:52:11] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[02:52:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(450, 801.5558), shooter_id=1160295482894, bullet_pos=(509.8716, 797.6324)
[02:52:11] [INFO] [Bullet] Using shooter_position, distance=59.9999656677246
[02:52:11] [INFO] [Bullet] Distance to wall: 59.9999656677246 (4.08550799252356% of viewport)
[02:52:11] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[02:52:11] [INFO] [Bullet] Caliber cannot penetrate walls
[02:52:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(448.3592, 791.1994), source=PLAYER (MiniUzi), range=1469, listeners=10
[02:52:11] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[02:52:11] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1018.206, 1441.178), shooter_id=1159473400041, bullet_pos=(279.5248, 469.1583)
[02:52:11] [INFO] [Bullet] Using shooter_position, distance=1220.84899902344
[02:52:11] [INFO] [Bullet] Distance to wall: 1220.84899902344 (83.129853286861% of viewport)
[02:52:11] [INFO] [Bullet] Distance-based penetration chance: 49.6818378319955%
[02:52:11] [INFO] [Bullet] Starting wall penetration at (279.5248, 469.1583)
[02:52:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(444.2572, 782.5583), source=PLAYER (MiniUzi), range=1469, listeners=10
[02:52:11] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[02:52:11] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[02:52:11] [INFO] [Bullet] Exiting penetration at (303.6501, 450.3533) after traveling 25.5885448455811 pixels through wall
[02:52:11] [INFO] [Bullet] Damage multiplier after penetration: 0.1125
[02:52:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.5211, 754.0477), source=ENEMY (Enemy3), range=1469, listeners=10
[02:52:11] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[02:52:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(437.694, 775.6327), source=PLAYER (MiniUzi), range=1469, listeners=10
[02:52:12] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[02:52:12] [INFO] [LastChance] Threat detected: Bullet
[02:52:12] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:52:12] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:52:12] [ENEMY] [Enemy3] Hit taken, health: 1/2
[02:52:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(684.5211, 754.0477), source=ENEMY (Enemy3), range=1469, listeners=10
[02:52:12] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[02:52:12] [ENEMY] [Enemy1] State: COMBAT -> RETREATING
[02:52:12] [INFO] [LastChance] Threat detected: @Area2D@2282
[02:52:12] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:52:12] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:52:12] [ENEMY] [Enemy1] State: RETREATING -> IN_COVER
[02:52:12] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[02:52:12] [ENEMY] [Enemy3] Hit taken, health: 0/2
[02:52:12] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[02:52:12] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[02:52:12] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[02:52:12] [INFO] [DeathAnim] Started - Angle: -1.0 deg, Index: 11
[02:52:12] [ENEMY] [Enemy3] Death animation started with hit direction: (0.999836, -0.018102)
[02:52:12] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[02:52:12] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[02:52:12] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(617.9099, 768.345), shooter_id=1157476910782, bullet_pos=(37.30155, 824.6629)
[02:52:12] [INFO] [Bullet] Using shooter_position, distance=583.333312988281
[02:52:12] [INFO] [Bullet] Distance to wall: 583.333312988281 (39.7202379367503% of viewport)
[02:52:12] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:52:12] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(444.2572, 782.5583), shooter_id=1160295482894, bullet_pos=(924.2529, 780.6262)
[02:52:12] [INFO] [Bullet] Using shooter_position, distance=479.999603271484
[02:52:12] [INFO] [Bullet] Distance to wall: 479.999603271484 (32.6840556281964% of viewport)
[02:52:12] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:52:12] [INFO] [Bullet] Caliber cannot penetrate walls
[02:52:12] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[02:52:12] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[02:52:12] [ENEMY] [Enemy3] Ragdoll activated
[02:52:12] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[02:52:12] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:52:12] [ENEMY] [Enemy10] State: PURSUING -> COMBAT
[02:52:12] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:52:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1018.547, 1428.831), source=ENEMY (Enemy10), range=1469, listeners=9
[02:52:12] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=8
[02:52:12] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:52:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(984.4146, 1424.066), source=ENEMY (Enemy10), range=1469, listeners=9
[02:52:12] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=8
[02:52:13] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:52:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(953.2386, 1408.121), source=ENEMY (Enemy10), range=1469, listeners=9
[02:52:13] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=8
[02:52:13] [INFO] [LastChance] Threat detected: Bullet
[02:52:13] [INFO] [LastChance] Player health is 3.0 - effect requires exactly 1 HP or less but alive
[02:52:13] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:52:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(960.7825, 1392.861), shooter_id=1159473400041, bullet_pos=(47.64302, 666.7158)
[02:52:13] [INFO] [Bullet] Using shooter_position, distance=1166.66625976563
[02:52:13] [INFO] [Bullet] Distance to wall: 1166.66625976563 (79.4404509375245% of viewport)
[02:52:13] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[02:52:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(927.4332, 1386.867), shooter_id=1159473400041, bullet_pos=(62.09678, 667.9658)
[02:52:13] [INFO] [Bullet] Using shooter_position, distance=1125.00061035156
[02:52:13] [INFO] [Bullet] Distance to wall: 1125.00061035156 (76.6033602525476% of viewport)
[02:52:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(897.1043, 1369.657), shooter_id=1159473400041, bullet_pos=(142.4164, 713.573)
[02:52:13] [INFO] [Bullet] Using shooter_position, distance=999.999816894531
[02:52:13] [INFO] [Bullet] Distance to wall: 999.999816894531 (68.0918263698673% of viewport)
[02:52:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(897.1043, 1369.657), shooter_id=1159473400041, bullet_pos=(47.28427, 771.2482)
[02:52:13] [INFO] [Bullet] Using shooter_position, distance=1039.36853027344
[02:52:13] [INFO] [Bullet] Distance to wall: 1039.36853027344 (70.7725144565175% of viewport)
[02:52:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(960.7825, 1392.861), shooter_id=1159473400041, bullet_pos=(518.7716, 410.5867)
[02:52:13] [INFO] [Bullet] Using shooter_position, distance=1077.14245605469
[02:52:13] [INFO] [Bullet] Distance to wall: 1077.14245605469 (73.3446105230875% of viewport)
[02:52:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(927.4332, 1386.867), shooter_id=1159473400041, bullet_pos=(510.2332, 373.4529)
[02:52:13] [INFO] [Bullet] Using shooter_position, distance=1095.93078613281
[02:52:13] [INFO] [Bullet] Distance to wall: 1095.93078613281 (74.6239424667996% of viewport)
[02:52:13] [ENEMY] [Enemy2] State: PURSUING -> RETREATING
[02:52:13] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[02:52:13] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[02:52:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(960.7825, 1392.861), shooter_id=1159473400041, bullet_pos=(243.4538, 276.9393)
[02:52:13] [INFO] [Bullet] Using shooter_position, distance=1326.58996582031
[02:52:13] [INFO] [Bullet] Distance to wall: 1326.58996582031 (90.3299501565528% of viewport)
[02:52:13] [ENEMY] [Enemy3] Death animation completed
[02:52:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(927.4332, 1386.867), shooter_id=1159473400041, bullet_pos=(287.1747, 270.114)
[02:52:13] [INFO] [Bullet] Using shooter_position, distance=1287.27172851563
[02:52:13] [INFO] [Bullet] Distance to wall: 1287.27172851563 (87.6526990786135% of viewport)
[02:52:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(960.7825, 1392.861), shooter_id=1159473400041, bullet_pos=(56.16269, 371.2772)
[02:52:13] [INFO] [Bullet] Using shooter_position, distance=1364.54016113281
[02:52:13] [INFO] [Bullet] Distance to wall: 1364.54016113281 (92.9140487396367% of viewport)
[02:52:13] [INFO] [Bullet] Distance-based penetration chance: 38.2669431370905%
[02:52:13] [INFO] [Bullet] Penetration failed (distance roll)
[02:52:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(927.4332, 1386.867), shooter_id=1159473400041, bullet_pos=(67.95739, 355.6033)
[02:52:13] [INFO] [Bullet] Using shooter_position, distance=1342.4619140625
[02:52:13] [INFO] [Bullet] Distance to wall: 1342.4619140625 (91.4107002983026% of viewport)
[02:52:13] [INFO] [Bullet] Distance-based penetration chance: 40.0208496519802%
[02:52:13] [INFO] [Bullet] Starting wall penetration at (67.95739, 355.6033)
[02:52:13] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[02:52:13] [INFO] [Bullet] Exiting penetration at (39.4592, 366.7169) after traveling 25.5885429382324 pixels through wall
[02:52:13] [INFO] [Bullet] Damage multiplier after penetration: 0.1125
[02:52:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(402.0795, 560.462), source=ENEMY (Enemy2), range=1469, listeners=9
[02:52:13] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=4
[02:52:13] [INFO] [LastChance] Threat detected: Bullet
[02:52:13] [INFO] [LastChance] Player health is 3.0 - effect requires exactly 1 HP or less but alive
[02:52:13] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:52:13] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[02:52:13] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[02:52:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(402.0795, 560.462), source=ENEMY (Enemy2), range=1469, listeners=9
[02:52:13] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=4
[02:52:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(551.1987, 690.4374), source=PLAYER (MiniUzi), range=1469, listeners=9
[02:52:14] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[02:52:14] [INFO] [LastChance] Threat detected: @Area2D@2313
[02:52:14] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[02:52:14] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:52:14] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[02:52:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(563.6314, 680.6179), source=PLAYER (MiniUzi), range=1469, listeners=9
[02:52:14] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[02:52:14] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[02:52:14] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[02:52:14] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[02:52:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(577.2122, 673.57), source=PLAYER (MiniUzi), range=1469, listeners=9
[02:52:14] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[02:52:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(591.9409, 669.2938), source=PLAYER (MiniUzi), range=1469, listeners=9
[02:52:14] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[02:52:14] [ENEMY] [Enemy2] State: SEEKING_COVER -> IN_COVER
[02:52:14] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[02:52:14] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[02:52:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(682.2482, 914.0655), source=ENEMY (Enemy4), range=1469, listeners=9
[02:52:14] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[02:52:14] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[02:52:14] [INFO] [LastChance] Threat detected: Bullet
[02:52:14] [INFO] [LastChance] Triggering last chance effect!
[02:52:14] [INFO] [LastChance] Starting last chance effect:
[02:52:14] [INFO] [LastChance]   - Time will be frozen (except player)
[02:52:14] [INFO] [LastChance]   - Duration: 6.0 real seconds
[02:52:14] [INFO] [LastChance]   - Sepia intensity: 0.70
[02:52:14] [INFO] [LastChance]   - Brightness: 0.60
[02:52:14] [INFO] [LastChance] Pushed bullet Bullet from distance 135.2 to 200.0
[02:52:14] [INFO] [LastChance] Pushed 1 threatening bullets away from player
[02:52:14] [INFO] [LastChance] Set player Player and all 17 children to PROCESS_MODE_ALWAYS
[02:52:14] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[02:52:14] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:52:14] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:52:14] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[02:52:14] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:52:14] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:52:14] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:52:14] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:52:14] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:52:14] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:52:14] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:52:14] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:52:14] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:52:14] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:52:14] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:52:14] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:52:14] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:52:14] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[02:52:14] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[02:52:14] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:52:14] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:52:14] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:52:14] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:52:14] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:52:14] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[02:52:14] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[02:52:14] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:52:14] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[02:52:14] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[02:52:14] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:52:14] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:52:14] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[02:52:14] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[02:52:14] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[02:52:14] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[02:52:14] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[02:52:14] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[02:52:14] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[02:52:14] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[02:52:14] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[02:52:14] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[02:52:14] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[02:52:14] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[02:52:14] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[02:52:14] [INFO] [LastChance] Skipping player node: Player
[02:52:14] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[02:52:14] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[02:52:14] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[02:52:15] [INFO] [ScoreManager] Combo ended at 1. Max combo: 1
[02:52:15] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@2322
[02:52:15] [INFO] [LastChance] Registered frozen player bullet: @Area2D@2322
[02:52:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(560.2643, 863.192), source=PLAYER (MiniUzi), range=1469, listeners=9
[02:52:15] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[02:52:15] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@2324
[02:52:15] [INFO] [LastChance] Registered frozen player bullet: @Area2D@2324
[02:52:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(560.2643, 863.192), source=PLAYER (MiniUzi), range=1469, listeners=9
[02:52:15] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[02:52:15] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@2326
[02:52:15] [INFO] [LastChance] Registered frozen player bullet: @Area2D@2326
[02:52:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(560.2643, 863.192), source=PLAYER (MiniUzi), range=1469, listeners=9
[02:52:15] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[02:52:15] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@2328
[02:52:15] [INFO] [LastChance] Registered frozen player bullet: @Area2D@2328
[02:52:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(560.2643, 863.192), source=PLAYER (MiniUzi), range=1469, listeners=9
[02:52:15] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[02:52:15] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@2330
[02:52:15] [INFO] [LastChance] Registered frozen player bullet: @Area2D@2330
[02:52:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(560.2643, 863.192), source=PLAYER (MiniUzi), range=1469, listeners=9
[02:52:15] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[02:52:15] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@2332
[02:52:15] [INFO] [LastChance] Registered frozen player bullet: @Area2D@2332
[02:52:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(560.2643, 863.192), source=PLAYER (MiniUzi), range=1469, listeners=9
[02:52:15] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[02:52:15] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@2334
[02:52:15] [INFO] [LastChance] Registered frozen player bullet: @Area2D@2334
[02:52:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(560.2643, 863.192), source=PLAYER (MiniUzi), range=1469, listeners=9
[02:52:15] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[02:52:16] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@2336
[02:52:16] [INFO] [LastChance] Registered frozen player bullet: @Area2D@2336
[02:52:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(560.2643, 862.8587), source=PLAYER (MiniUzi), range=1469, listeners=9
[02:52:16] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[02:52:17] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@2338
[02:52:17] [INFO] [LastChance] Registered frozen player bullet: @Area2D@2338
[02:52:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(430.324, 609.5018), source=PLAYER (MiniUzi), range=1469, listeners=9
[02:52:17] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[02:52:17] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@2340
[02:52:17] [INFO] [LastChance] Registered frozen player bullet: @Area2D@2340
[02:52:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(430.324, 609.5018), source=PLAYER (MiniUzi), range=1469, listeners=9
[02:52:17] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[02:52:17] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@2342
[02:52:17] [INFO] [LastChance] Registered frozen player bullet: @Area2D@2342
[02:52:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(430.324, 609.5018), source=PLAYER (MiniUzi), range=1469, listeners=9
[02:52:17] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[02:52:17] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@2344
[02:52:17] [INFO] [LastChance] Registered frozen player bullet: @Area2D@2344
[02:52:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(428.324, 609.5018), source=PLAYER (MiniUzi), range=1469, listeners=9
[02:52:17] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[02:52:17] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@2346
[02:52:17] [INFO] [LastChance] Registered frozen player bullet: @Area2D@2346
[02:52:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(423.324, 609.5018), source=PLAYER (MiniUzi), range=1469, listeners=9
[02:52:17] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[02:52:19] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@2348
[02:52:19] [INFO] [LastChance] Registered frozen player bullet: @Area2D@2348
[02:52:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(186.2365, 364.2037), source=PLAYER (MiniUzi), range=1469, listeners=9
[02:52:19] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=2
[02:52:19] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@2350
[02:52:19] [INFO] [LastChance] Registered frozen player bullet: @Area2D@2350
[02:52:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(186.2365, 364.037), source=PLAYER (MiniUzi), range=1469, listeners=9
[02:52:19] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=2
[02:52:19] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@2352
[02:52:19] [INFO] [LastChance] Registered frozen player bullet: @Area2D@2352
[02:52:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(186.2365, 364.037), source=PLAYER (MiniUzi), range=1469, listeners=9
[02:52:19] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=2
[02:52:19] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@2354
[02:52:19] [INFO] [LastChance] Registered frozen player bullet: @Area2D@2354
[02:52:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(186.2365, 364.037), source=PLAYER (MiniUzi), range=1469, listeners=9
[02:52:19] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=2
[02:52:19] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@2356
[02:52:19] [INFO] [LastChance] Registered frozen player bullet: @Area2D@2356
[02:52:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(186.2365, 364.037), source=PLAYER (MiniUzi), range=1469, listeners=9
[02:52:19] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=2
[02:52:19] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@2358
[02:52:19] [INFO] [LastChance] Registered frozen player bullet: @Area2D@2358
[02:52:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(186.2365, 364.037), source=PLAYER (MiniUzi), range=1469, listeners=9
[02:52:19] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=2
[02:52:19] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@2360
[02:52:19] [INFO] [LastChance] Registered frozen player bullet: @Area2D@2360
[02:52:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(188.2365, 364.037), source=PLAYER (MiniUzi), range=1469, listeners=9
[02:52:19] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=2
[02:52:20] [INFO] [LastChance] Effect duration expired after 6.00 real seconds
[02:52:20] [INFO] [LastChance] Ending last chance effect
[02:52:20] [INFO] [LastChance] All process modes restored
[02:52:20] [INFO] [LastChance] Unfroze player bullet: @Area2D@2322
[02:52:20] [INFO] [LastChance] Unfroze player bullet: @Area2D@2324
[02:52:20] [INFO] [LastChance] Unfroze player bullet: @Area2D@2326
[02:52:20] [INFO] [LastChance] Unfroze player bullet: @Area2D@2328
[02:52:20] [INFO] [LastChance] Unfroze player bullet: @Area2D@2330
[02:52:20] [INFO] [LastChance] Unfroze player bullet: @Area2D@2332
[02:52:20] [INFO] [LastChance] Unfroze player bullet: @Area2D@2334
[02:52:20] [INFO] [LastChance] Unfroze player bullet: @Area2D@2336
[02:52:20] [INFO] [LastChance] Unfroze player bullet: @Area2D@2338
[02:52:20] [INFO] [LastChance] Unfroze player bullet: @Area2D@2340
[02:52:20] [INFO] [LastChance] Unfroze player bullet: @Area2D@2342
[02:52:20] [INFO] [LastChance] Unfroze player bullet: @Area2D@2344
[02:52:20] [INFO] [LastChance] Unfroze player bullet: @Area2D@2346
[02:52:20] [INFO] [LastChance] Unfroze player bullet: @Area2D@2348
[02:52:20] [INFO] [LastChance] Unfroze player bullet: @Area2D@2350
[02:52:20] [INFO] [LastChance] Unfroze player bullet: @Area2D@2352
[02:52:20] [INFO] [LastChance] Unfroze player bullet: @Area2D@2354
[02:52:20] [INFO] [LastChance] Unfroze player bullet: @Area2D@2356
[02:52:20] [INFO] [LastChance] Unfroze player bullet: @Area2D@2358
[02:52:20] [INFO] [LastChance] Unfroze player bullet: @Area2D@2360
[02:52:20] [INFO] [LastChance] Restored original colors to 5 player sprites
[02:52:20] [INFO] [LastChance] Called player RefreshHealthVisual (C#)
[02:52:20] [ENEMY] [Enemy1] Player distracted - priority attack triggered
[02:52:20] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[02:52:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(429.2584, 514.5734), source=ENEMY (Enemy2), range=1469, listeners=9
[02:52:20] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=3
[02:52:20] [INFO] [LastChance] Threat detected: @Area2D@2362
[02:52:20] [INFO] [LastChance] Effect already used this life
[02:52:20] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:52:20] [ENEMY] [Enemy1] Hit taken, health: 2/3
[02:52:20] [ENEMY] [Enemy1] Hit taken, health: 1/3
[02:52:20] [ENEMY] [Enemy1] Hit taken, health: 0/3
[02:52:20] [ENEMY] [Enemy1] Enemy died (ricochet: false, penetration: false)
[02:52:20] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[02:52:20] [INFO] [SoundPropagation] Unregistered listener: Enemy1 (remaining: 8)
[02:52:20] [INFO] [DeathAnim] Started - Angle: 22.3 deg, Index: 13
[02:52:20] [ENEMY] [Enemy1] Death animation started with hit direction: (0.924901, 0.380208)
[02:52:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(563.6314, 680.6179), shooter_id=1160295482894, bullet_pos=(222.1673, 472.2855)
[02:52:20] [INFO] [Bullet] Using shooter_position, distance=400.000183105469
[02:52:20] [INFO] [Bullet] Distance to wall: 400.000183105469 (27.2367480031302% of viewport)
[02:52:20] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:52:20] [INFO] [Bullet] Caliber cannot penetrate walls
[02:52:20] [ENEMY] [Enemy2] Hit taken, health: 1/2
[02:52:20] [ENEMY] [Enemy2] Hit taken, health: 0/2
[02:52:20] [ENEMY] [Enemy2] Enemy died (ricochet: false, penetration: false)
[02:52:20] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[02:52:20] [INFO] [SoundPropagation] Unregistered listener: Enemy2 (remaining: 7)
[02:52:20] [INFO] [DeathAnim] Started - Angle: -80.9 deg, Index: 6
[02:52:20] [ENEMY] [Enemy2] Death animation started with hit direction: (0.157641, -0.987496)
[02:52:20] [ENEMY] [Enemy4] Hit taken, health: 2/3
[02:52:20] [ENEMY] [Enemy4] Hit taken, health: 1/3
[02:52:20] [ENEMY] [Enemy4] Hit taken, health: 0/3
[02:52:20] [ENEMY] [Enemy4] Enemy died (ricochet: false, penetration: false)
[02:52:20] [INFO] [ScoreManager] Kill registered. Combo: 3 (points: 3000)
[02:52:20] [INFO] [SoundPropagation] Unregistered listener: Enemy4 (remaining: 6)
[02:52:20] [INFO] [DeathAnim] Started - Angle: 22.2 deg, Index: 13
[02:52:20] [ENEMY] [Enemy4] Death animation started with hit direction: (0.925838, 0.37792)
[02:52:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(188.2365, 364.037), shooter_id=1160295482894, bullet_pos=(288.8292, 429.4672)
[02:52:20] [INFO] [Bullet] Using shooter_position, distance=120.000007629395
[02:52:20] [INFO] [Bullet] Distance to wall: 120.000007629395 (8.17102118004215% of viewport)
[02:52:20] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:52:20] [INFO] [Bullet] Caliber cannot penetrate walls
[02:52:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(577.2122, 673.57), shooter_id=1160295482894, bullet_pos=(254.0104, 473.7186)
[02:52:20] [INFO] [Bullet] Using shooter_position, distance=379.999969482422
[02:52:20] [INFO] [Bullet] Distance to wall: 379.999969482422 (25.874896680387% of viewport)
[02:52:20] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:52:20] [INFO] [Bullet] Caliber cannot penetrate walls
[02:52:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(186.2365, 364.037), shooter_id=1160295482894, bullet_pos=(312.5997, 424.3061)
[02:52:20] [INFO] [Bullet] Using shooter_position, distance=140.000015258789
[02:52:20] [INFO] [Bullet] Distance to wall: 140.000015258789 (9.53285847629876% of viewport)
[02:52:20] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:52:20] [INFO] [Bullet] Caliber cannot penetrate walls
[02:52:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(186.2365, 364.037), shooter_id=1160295482894, bullet_pos=(312.3878, 424.7483)
[02:52:20] [INFO] [Bullet] Using shooter_position, distance=140.000030517578
[02:52:20] [INFO] [Bullet] Distance to wall: 140.000030517578 (9.53285951529777% of viewport)
[02:52:20] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:52:20] [INFO] [Bullet] Caliber cannot penetrate walls
[02:52:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(591.9409, 669.2938), shooter_id=1160295482894, bullet_pos=(293.8889, 467.3904)
[02:52:20] [INFO] [Bullet] Using shooter_position, distance=360.000030517578
[02:52:20] [INFO] [Bullet] Distance to wall: 360.000030517578 (24.513064059626% of viewport)
[02:52:20] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:52:20] [INFO] [Bullet] Caliber cannot penetrate walls
[02:52:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(551.1987, 690.4374), shooter_id=1160295482894, bullet_pos=(59.41827, 382.9443)
[02:52:20] [INFO] [Bullet] Using shooter_position, distance=580
[02:52:20] [INFO] [Bullet] Distance to wall: 580 (39.4932665259561% of viewport)
[02:52:20] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:52:20] [INFO] [Bullet] Caliber cannot penetrate walls
[02:52:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(560.2643, 863.192), shooter_id=1160295482894, bullet_pos=(802.3565, 1003.875)
[02:52:20] [INFO] [Bullet] Using shooter_position, distance=280.000457763672
[02:52:20] [INFO] [Bullet] Distance to wall: 280.000457763672 (19.0657460445697% of viewport)
[02:52:20] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:52:20] [INFO] [Bullet] Caliber cannot penetrate walls
[02:52:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(186.2365, 364.037), shooter_id=1160295482894, bullet_pos=(510.3914, 466.6212)
[02:52:20] [INFO] [Bullet] Using shooter_position, distance=339.999847412109
[02:52:20] [INFO] [Bullet] Distance to wall: 339.999847412109 (23.1512148148808% of viewport)
[02:52:20] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:52:20] [INFO] [Bullet] Caliber cannot penetrate walls
[02:52:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(660.8036, 849.4843), shooter_id=1157762123113, bullet_pos=(522.2614, 220.6426)
[02:52:20] [INFO] [Bullet] Using shooter_position, distance=643.922180175781
[02:52:20] [INFO] [Bullet] Distance to wall: 643.922180175781 (43.8458453166498% of viewport)
[02:52:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(560.2643, 863.192), shooter_id=1160295482894, bullet_pos=(894.1696, 997.7559)
[02:52:20] [INFO] [Bullet] Using shooter_position, distance=360.000213623047
[02:52:20] [INFO] [Bullet] Distance to wall: 360.000213623047 (24.513076527614% of viewport)
[02:52:20] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:52:20] [INFO] [Bullet] Caliber cannot penetrate walls
[02:52:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(560.2643, 863.192), shooter_id=1160295482894, bullet_pos=(892.0031, 1003.012)
[02:52:20] [INFO] [Bullet] Using shooter_position, distance=360.000213623047
[02:52:20] [INFO] [Bullet] Distance to wall: 360.000213623047 (24.513076527614% of viewport)
[02:52:20] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:52:20] [INFO] [Bullet] Caliber cannot penetrate walls
[02:52:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(560.2643, 862.8587), shooter_id=1160295482894, bullet_pos=(919.3381, 987.2203)
[02:52:20] [INFO] [Bullet] Using shooter_position, distance=379.999725341797
[02:52:20] [INFO] [Bullet] Distance to wall: 379.999725341797 (25.874880056403% of viewport)
[02:52:20] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:52:20] [INFO] [Bullet] Caliber cannot penetrate walls
[02:52:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(560.2643, 862.8587), shooter_id=1160295482894, bullet_pos=(919.3381, 987.2203)
[02:52:20] [INFO] [Bullet] Using shooter_position, distance=379.999725341797
[02:52:20] [INFO] [Bullet] Distance to wall: 379.999725341797 (25.874880056403% of viewport)
[02:52:20] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:52:20] [INFO] [Bullet] Caliber cannot penetrate walls
[02:52:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(560.2643, 863.192), shooter_id=1160295482894, bullet_pos=(913.4308, 1003.454)
[02:52:20] [INFO] [Bullet] Using shooter_position, distance=379.999908447266
[02:52:20] [INFO] [Bullet] Distance to wall: 379.999908447266 (25.874892524391% of viewport)
[02:52:20] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:52:20] [INFO] [Bullet] Caliber cannot penetrate walls
[02:52:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(560.2643, 863.192), shooter_id=1160295482894, bullet_pos=(913.4308, 1003.454)
[02:52:20] [INFO] [Bullet] Using shooter_position, distance=379.999908447266
[02:52:20] [INFO] [Bullet] Distance to wall: 379.999908447266 (25.874892524391% of viewport)
[02:52:20] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:52:20] [INFO] [Bullet] Caliber cannot penetrate walls
[02:52:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(660.8036, 849.4843), shooter_id=1157762123113, bullet_pos=(567.1658, 44.18309)
[02:52:20] [INFO] [Bullet] Using shooter_position, distance=810.726806640625
[02:52:20] [INFO] [Bullet] Distance to wall: 810.726806640625 (55.2038790593026% of viewport)
[02:52:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(423.324, 609.5018), shooter_id=1160295482894, bullet_pos=(509.1723, 56.1209)
[02:52:20] [INFO] [Bullet] Using shooter_position, distance=560.000305175781
[02:52:20] [INFO] [Bullet] Distance to wall: 560.000305175781 (38.1314505291791% of viewport)
[02:52:20] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:52:20] [INFO] [Bullet] Caliber cannot penetrate walls
[02:52:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(428.324, 609.5018), shooter_id=1160295482894, bullet_pos=(512.4898, 55.8627)
[02:52:20] [INFO] [Bullet] Using shooter_position, distance=560.000183105469
[02:52:20] [INFO] [Bullet] Distance to wall: 560.000183105469 (38.1314422171871% of viewport)
[02:52:20] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:52:20] [INFO] [Bullet] Caliber cannot penetrate walls
[02:52:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(430.324, 609.5018), shooter_id=1160295482894, bullet_pos=(498.9944, 53.72815)
[02:52:20] [INFO] [Bullet] Using shooter_position, distance=560
[02:52:20] [INFO] [Bullet] Distance to wall: 560 (38.131429749199% of viewport)
[02:52:20] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:52:20] [INFO] [Bullet] Caliber cannot penetrate walls
[02:52:20] [ENEMY] [Enemy10] FLANKING started: target=(551.769, 315.9154), side=left, pos=(920.3041, 1377.441)
[02:52:20] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[02:52:20] [ENEMY] [Enemy1] Ragdoll activated
[02:52:20] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[02:52:20] [ENEMY] [Enemy2] Ragdoll activated
[02:52:20] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[02:52:20] [ENEMY] [Enemy4] Ragdoll activated
[02:52:20] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[02:52:21] [ENEMY] [Enemy1] Death animation completed
[02:52:21] [ENEMY] [Enemy4] Death animation completed
[02:52:21] [ENEMY] [Enemy2] Death animation completed
[02:52:22] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[02:52:22] [ENEMY] [Enemy1] Player reloading state changed: false -> true
[02:52:22] [ENEMY] [Enemy2] Player reloading state changed: false -> true
[02:52:22] [ENEMY] [Enemy4] Player reloading state changed: false -> true
[02:52:22] [ENEMY] [Enemy5] Player reloading state changed: false -> true
[02:52:22] [ENEMY] [Enemy6] Player reloading state changed: false -> true
[02:52:22] [ENEMY] [Enemy7] Player reloading state changed: false -> true
[02:52:22] [ENEMY] [Enemy8] Player reloading state changed: false -> true
[02:52:22] [ENEMY] [Enemy9] Player reloading state changed: false -> true
[02:52:22] [ENEMY] [Enemy10] Player reloading state changed: false -> true
[02:52:22] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(270.5872, 409.9335), source=PLAYER (Player), range=900, listeners=6
[02:52:22] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=1
[02:52:22] [ENEMY] [Enemy5] Player vulnerable (reloading) but cannot attack: close=false (dist=1431), can_see=false
[02:52:22] [ENEMY] [Enemy6] Player vulnerable (reloading) but cannot attack: close=false (dist=1680), can_see=false
[02:52:22] [ENEMY] [Enemy7] Player vulnerable (reloading) but cannot attack: close=false (dist=1427), can_see=false
[02:52:22] [ENEMY] [Enemy8] Player vulnerable (reloading) but cannot attack: close=false (dist=1933), can_see=false
[02:52:22] [ENEMY] [Enemy9] Player vulnerable (reloading) but cannot attack: close=false (dist=2156), can_see=false
[02:52:22] [ENEMY] [Enemy10] Player vulnerable (reloading) but cannot attack: close=false (dist=821), can_see=false
[02:52:22] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[02:52:22] [INFO] [Player.Reload.Anim] Phase changed to: PullBolt (duration: 0,35s)
[02:52:22] [ENEMY] [Enemy1] Player reloading state changed: true -> false
[02:52:22] [ENEMY] [Enemy2] Player reloading state changed: true -> false
[02:52:22] [ENEMY] [Enemy4] Player reloading state changed: true -> false
[02:52:22] [ENEMY] [Enemy5] Player reloading state changed: true -> false
[02:52:22] [ENEMY] [Enemy6] Player reloading state changed: true -> false
[02:52:22] [ENEMY] [Enemy7] Player reloading state changed: true -> false
[02:52:22] [ENEMY] [Enemy8] Player reloading state changed: true -> false
[02:52:22] [ENEMY] [Enemy9] Player reloading state changed: true -> false
[02:52:22] [ENEMY] [Enemy10] Player reloading state changed: true -> false
[02:52:22] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[02:52:22] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[02:52:23] [INFO] [ScoreManager] Combo ended at 3. Max combo: 3
[02:52:23] [ENEMY] [Enemy10] State: FLANKING -> COMBAT
[02:52:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(522.3181, 678.9736), source=ENEMY (Enemy10), range=1469, listeners=6
[02:52:24] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=3
[02:52:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(155.2614, 642.2107), source=PLAYER (MiniUzi), range=1469, listeners=6
[02:52:24] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=0
[02:52:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(146.0226, 654.8838), source=PLAYER (MiniUzi), range=1469, listeners=6
[02:52:24] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=0
[02:52:24] [INFO] [LastChance] Threat detected: Bullet
[02:52:24] [INFO] [LastChance] Effect already used this life
[02:52:24] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:52:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(134.5489, 666.6312), source=PLAYER (MiniUzi), range=1469, listeners=6
[02:52:24] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=0
[02:52:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(521.1573, 676.5292), source=ENEMY (Enemy10), range=1469, listeners=6
[02:52:24] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=3
[02:52:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(122.8812, 671.9342), source=PLAYER (MiniUzi), range=1469, listeners=6
[02:52:24] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=0
[02:52:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(454.3845, 679.1379), shooter_id=1159473400041, bullet_pos=(40.35831, 632.3038)
[02:52:24] [INFO] [Bullet] Using shooter_position, distance=416.666687011719
[02:52:24] [INFO] [Bullet] Distance to wall: 416.666687011719 (28.3716009011051% of viewport)
[02:52:24] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:52:24] [INFO] [Bullet] Starting wall penetration at (40.35831, 632.3038)
[02:52:24] [INFO] [Bullet] Raycast backward hit penetrating body at distance 38.2550468444824
[02:52:24] [INFO] [Bullet] Body exited signal received for penetrating body
[02:52:24] [INFO] [Bullet] Exiting penetration at (-6.012619, 627.0583) after traveling 41.6666641235352 pixels through wall
[02:52:24] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:52:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(111.214, 671.9338), source=PLAYER (MiniUzi), range=1469, listeners=6
[02:52:24] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=0
[02:52:24] [INFO] [LastChance] Threat detected: @Area2D@2432
[02:52:24] [INFO] [LastChance] Effect already used this life
[02:52:24] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:52:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(520.8171, 675.924), source=ENEMY (Enemy10), range=1469, listeners=6
[02:52:24] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=3
[02:52:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(99.54681, 671.9327), source=PLAYER (MiniUzi), range=1469, listeners=6
[02:52:24] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=0
[02:52:24] [INFO] [LastChance] Threat detected: Bullet
[02:52:24] [INFO] [LastChance] Effect already used this life
[02:52:24] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:52:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(520.5642, 675.498), source=ENEMY (Enemy10), range=1469, listeners=6
[02:52:24] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=3
[02:52:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(111.214, 671.9338), shooter_id=1160295482894, bullet_pos=(350.8357, 685.403)
[02:52:24] [INFO] [Bullet] Using shooter_position, distance=239.999969482422
[02:52:24] [INFO] [Bullet] Distance to wall: 239.999969482422 (16.3420392430873% of viewport)
[02:52:24] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:52:24] [INFO] [Bullet] Caliber cannot penetrate walls
[02:52:24] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[02:52:24] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[02:52:24] [INFO] [PenultimateHit] Player died - ending penultimate effect
[02:52:24] [INFO] [LastChance] Player died
[02:52:24] [ENEMY] [Enemy10] Hit taken, health: 2/3
[02:52:24] [ENEMY] [Enemy10] State: COMBAT -> RETREATING
[02:52:24] [INFO] [LastChance] Threat detected: @Area2D@2441
[02:52:24] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:52:24] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:52:24] [ENEMY] [Enemy10] State: RETREATING -> IN_COVER
[02:52:24] [ENEMY] [Enemy10] State: IN_COVER -> SUPPRESSED
[02:52:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(522.748, 679.8798), source=ENEMY (Enemy10), range=1469, listeners=6
[02:52:24] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=3
[02:52:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(455.5404, 690.1481), shooter_id=1159473400041, bullet_pos=(455.5404, 690.1481)
[02:52:24] [INFO] [Bullet] Using shooter_position, distance=0
[02:52:24] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[02:52:24] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[02:52:24] [INFO] [Bullet] Starting wall penetration at (455.5404, 690.1481)
[02:52:24] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[02:52:24] [INFO] [Bullet] Exiting penetration at (408.9051, 691.8574) after traveling 41.6666679382324 pixels through wall
[02:52:24] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:52:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(155.2614, 642.2107), shooter_id=1160295482894, bullet_pos=(915.2341, 648.6121)
[02:52:24] [INFO] [Bullet] Using shooter_position, distance=759.999633789063
[02:52:24] [INFO] [Bullet] Distance to wall: 759.999633789063 (51.749772580794% of viewport)
[02:52:24] [INFO] [Bullet] Distance-based penetration chance: 86.2919319890737%
[02:52:24] [INFO] [Bullet] Penetration failed (distance roll)
[02:52:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(146.0226, 654.8838), shooter_id=1160295482894, bullet_pos=(925.5322, 627.231)
[02:52:24] [INFO] [Bullet] Using shooter_position, distance=780
[02:52:24] [INFO] [Bullet] Distance to wall: 780 (53.1116342935272% of viewport)
[02:52:24] [INFO] [Bullet] Distance-based penetration chance: 84.7030933242182%
[02:52:24] [INFO] [Bullet] Caliber cannot penetrate walls
[02:52:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(122.8812, 671.9342), shooter_id=1160295482894, bullet_pos=(921.4358, 623.8605)
[02:52:24] [INFO] [Bullet] Using shooter_position, distance=800.000244140625
[02:52:24] [INFO] [Bullet] Distance to wall: 800.000244140625 (54.4734876942684% of viewport)
[02:52:24] [INFO] [Bullet] Distance-based penetration chance: 83.1142643566868%
[02:52:24] [INFO] [Bullet] Caliber cannot penetrate walls
[02:52:24] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[02:52:24] [INFO] [LastChance] Resetting all effects (scene change detected)
[02:52:24] [ENEMY] [Enemy1] Death animation component initialized
[02:52:24] [ENEMY] [Enemy2] Death animation component initialized
[02:52:24] [ENEMY] [Enemy3] Death animation component initialized
[02:52:24] [ENEMY] [Enemy4] Death animation component initialized
[02:52:24] [ENEMY] [Enemy5] Death animation component initialized
[02:52:24] [ENEMY] [Enemy6] Death animation component initialized
[02:52:24] [ENEMY] [Enemy7] Death animation component initialized
[02:52:24] [ENEMY] [Enemy8] Death animation component initialized
[02:52:24] [ENEMY] [Enemy9] Death animation component initialized
[02:52:25] [ENEMY] [Enemy10] Death animation component initialized
[02:52:25] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[02:52:25] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[02:52:25] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[02:52:25] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[02:52:25] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[02:52:25] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[02:52:25] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[02:52:25] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[02:52:25] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[02:52:25] [ENEMY] [Enemy10] Grenade system configured: offensive=2, flashbangs=0
[02:52:25] [INFO] [ScoreManager] Level started with 10 enemies
[02:52:25] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 7)
[02:52:25] [ENEMY] [Enemy1] Registered as sound listener
[02:52:25] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[02:52:25] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 8)
[02:52:25] [ENEMY] [Enemy2] Registered as sound listener
[02:52:25] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[02:52:25] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 9)
[02:52:25] [ENEMY] [Enemy3] Registered as sound listener
[02:52:25] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[02:52:25] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 10)
[02:52:25] [ENEMY] [Enemy4] Registered as sound listener
[02:52:25] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[02:52:25] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 11)
[02:52:25] [ENEMY] [Enemy5] Registered as sound listener
[02:52:25] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[02:52:25] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 12)
[02:52:25] [ENEMY] [Enemy6] Registered as sound listener
[02:52:25] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[02:52:25] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 13)
[02:52:25] [ENEMY] [Enemy7] Registered as sound listener
[02:52:25] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[02:52:25] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 14)
[02:52:25] [ENEMY] [Enemy8] Registered as sound listener
[02:52:25] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[02:52:25] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 15)
[02:52:25] [ENEMY] [Enemy9] Registered as sound listener
[02:52:25] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 2, behavior: GUARD, player_found: yes
[02:52:25] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 16)
[02:52:25] [ENEMY] [Enemy10] Registered as sound listener
[02:52:25] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[02:52:25] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[02:52:25] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[02:52:25] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[02:52:25] [INFO] [LastChance] Found player: Player
[02:52:25] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[02:52:25] [INFO] [LastChance] Connected to player Damaged signal (C#)
[02:52:25] [INFO] [LastChance] Connected to player Died signal (C#)
[02:52:25] [INFO] [Player] Detecting weapon pose (frame 3)...
[02:52:25] [INFO] [Player] Detected weapon: Mini UZI (SMG pose)
[02:52:25] [INFO] [Player] Applied SMG arm pose: Left=(14, 6), Right=(1, 6)
[02:52:25] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[02:52:25] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:52:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1181.091, 1540.124), source=ENEMY (Enemy10), range=1469, listeners=16
[02:52:25] [INFO] [SoundPropagation] Cleaned up 6 invalid listeners
[02:52:25] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=8
[02:52:25] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:52:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1148.62, 1521.709), source=ENEMY (Enemy10), range=1469, listeners=10
[02:52:25] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:52:25] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:52:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1116.933, 1501.972), source=ENEMY (Enemy10), range=1469, listeners=10
[02:52:25] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:52:26] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:52:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1085.733, 1481.47), source=ENEMY (Enemy10), range=1469, listeners=10
[02:52:26] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:52:26] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:52:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1054.819, 1460.541), source=ENEMY (Enemy10), range=1469, listeners=10
[02:52:26] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:52:26] [INFO] [LastChance] Threat detected: @Area2D@2704
[02:52:26] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:52:26] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:52:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1117.956, 1514.735), shooter_id=1647002519434, bullet_pos=(55.94052, 938.3739)
[02:52:26] [INFO] [Bullet] Using shooter_position, distance=1208.33312988281
[02:52:26] [INFO] [Bullet] Distance to wall: 1208.33312988281 (82.2776247424219% of viewport)
[02:52:26] [INFO] [Bullet] Distance-based penetration chance: 50.6761044671745%
[02:52:26] [INFO] [Bullet] Penetration failed (distance roll)
[02:52:26] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:52:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1024.461, 1438.815), source=ENEMY (Enemy10), range=1469, listeners=10
[02:52:26] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:52:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1086.7, 1493.486), shooter_id=1647002519434, bullet_pos=(51.87689, 869.6182)
[02:52:26] [INFO] [Bullet] Using shooter_position, distance=1208.33349609375
[02:52:26] [INFO] [Bullet] Distance to wall: 1208.33349609375 (82.277649678398% of viewport)
[02:52:26] [INFO] [Bullet] Distance-based penetration chance: 50.6760753752023%
[02:52:26] [INFO] [Bullet] Penetration failed (distance roll)
[02:52:26] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:52:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1055.953, 1471.771), shooter_id=1647002519434, bullet_pos=(41.75384, 814.9067)
[02:52:26] [INFO] [Bullet] Using shooter_position, distance=1208.33410644531
[02:52:26] [INFO] [Bullet] Distance to wall: 1208.33410644531 (82.2776912383582% of viewport)
[02:52:26] [INFO] [Bullet] Distance-based penetration chance: 50.6760268885821%
[02:52:26] [INFO] [Bullet] Penetration failed (distance roll)
[02:52:26] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[02:52:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1025.189, 1450.406), shooter_id=1647002519434, bullet_pos=(55.06199, 802.3593)
[02:52:26] [INFO] [Bullet] Using shooter_position, distance=1166.66650390625
[02:52:26] [INFO] [Bullet] Distance to wall: 1166.66650390625 (79.4404675615086% of viewport)
[02:52:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1025.189, 1450.406), shooter_id=1647002519434, bullet_pos=(168.6654, 709.594)
[02:52:26] [INFO] [Bullet] Using shooter_position, distance=1132.44653320313
[02:52:26] [INFO] [Bullet] Distance to wall: 1132.44653320313 (77.1103668313553% of viewport)
[02:52:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(994.8569, 1428.367), shooter_id=1647002519434, bullet_pos=(36.83815, 762.5498)
[02:52:26] [INFO] [Bullet] Using shooter_position, distance=1166.6669921875
[02:52:26] [INFO] [Bullet] Distance to wall: 1166.6669921875 (79.4405008094768% of viewport)
[02:52:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(994.8569, 1428.367), shooter_id=1647002519434, bullet_pos=(126.1, 696.1505)
[02:52:26] [INFO] [Bullet] Using shooter_position, distance=1136.16857910156
[02:52:26] [INFO] [Bullet] Distance to wall: 1136.16857910156 (77.3638077808188% of viewport)
[02:52:26] [INFO] [LastChance] Threat detected: @Area2D@2706
[02:52:26] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:52:26] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:52:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(965.7285, 1404.448), shooter_id=1647002519434, bullet_pos=(66.26474, 728.7329)
[02:52:26] [INFO] [Bullet] Using shooter_position, distance=1125.00048828125
[02:52:26] [INFO] [Bullet] Distance to wall: 1125.00048828125 (76.6033519405555% of viewport)
[02:52:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(965.7285, 1404.448), shooter_id=1647002519434, bullet_pos=(98.21922, 703.9858)
[02:52:26] [INFO] [Bullet] Using shooter_position, distance=1114.99768066406
[02:52:26] [INFO] [Bullet] Distance to wall: 1114.99768066406 (75.9222423763599% of viewport)
[02:52:26] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[02:52:26] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[02:52:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(965.7285, 1404.448), shooter_id=1647002519434, bullet_pos=(42.23544, 670.5502)
[02:52:26] [INFO] [Bullet] Using shooter_position, distance=1179.59558105469
[02:52:26] [INFO] [Bullet] Distance to wall: 1179.59558105469 (80.3208321990222% of viewport)
[02:52:26] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[02:52:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(422.0063, 816.5245), source=PLAYER (MiniUzi), range=1469, listeners=10
[02:52:26] [ENEMY] [Enemy1] Heard gunshot at (422.0063, 816.5245), source_type=0, intensity=0.01, distance=482
[02:52:26] [ENEMY] [Enemy2] Heard gunshot at (422.0063, 816.5245), source_type=0, intensity=0.03, distance=267
[02:52:26] [ENEMY] [Enemy4] Heard gunshot at (422.0063, 816.5245), source_type=0, intensity=0.02, distance=387
[02:52:26] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[02:52:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(994.8569, 1428.367), shooter_id=1647002519434, bullet_pos=(496.5505, 1011.762)
[02:52:26] [INFO] [Bullet] Using shooter_position, distance=649.514099121094
[02:52:26] [INFO] [Bullet] Distance to wall: 649.514099121094 (44.2266093602684% of viewport)
[02:52:26] [INFO] [Bullet] Distance-based penetration chance: 95.0689557463536%
[02:52:26] [INFO] [Bullet] Penetration failed (distance roll)
[02:52:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(412.7033, 804.7458), source=PLAYER (MiniUzi), range=1469, listeners=10
[02:52:26] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[02:52:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(422.0063, 816.5245), shooter_id=1647824604351, bullet_pos=(500.1623, 799.4468)
[02:52:26] [INFO] [Bullet] Using shooter_position, distance=80.0000457763672
[02:52:26] [INFO] [Bullet] Distance to wall: 80.0000457763672 (5.44735022402545% of viewport)
[02:52:26] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:52:26] [INFO] [Bullet] Caliber cannot penetrate walls
[02:52:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(965.7285, 1404.448), shooter_id=1647002519434, bullet_pos=(278.4979, 466.6799)
[02:52:26] [INFO] [Bullet] Using shooter_position, distance=1162.62426757813
[02:52:26] [INFO] [Bullet] Distance to wall: 1162.62426757813 (79.1652242569094% of viewport)
[02:52:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(404.9498, 794.929), source=PLAYER (MiniUzi), range=1469, listeners=10
[02:52:27] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[02:52:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(398.656, 787.1791), source=PLAYER (MiniUzi), range=1469, listeners=10
[02:52:27] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[02:52:27] [ENEMY] [Enemy2] Hit taken, health: 2/3
[02:52:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(642.4382, 760.9944), source=ENEMY (Enemy3), range=1469, listeners=10
[02:52:27] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[02:52:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(393.1926, 782.2314), source=PLAYER (MiniUzi), range=1469, listeners=10
[02:52:27] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[02:52:27] [INFO] [LastChance] Threat detected: Bullet
[02:52:27] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[02:52:27] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:52:27] [ENEMY] [Enemy3] Hit taken, health: 2/3
[02:52:27] [ENEMY] [Enemy3] Hit taken, health: 1/3
[02:52:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(642.4382, 760.9944), source=ENEMY (Enemy3), range=1469, listeners=10
[02:52:27] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[02:52:27] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[02:52:27] [INFO] [LastChance] Threat detected: @Area2D@2734
[02:52:27] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[02:52:27] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:52:27] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[02:52:27] [ENEMY] [Enemy3] Hit taken, health: 0/3
[02:52:27] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[02:52:27] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[02:52:27] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[02:52:27] [INFO] [DeathAnim] Started - Angle: -10.0 deg, Index: 11
[02:52:27] [ENEMY] [Enemy3] Death animation started with hit direction: (0.984721, -0.174139)
[02:52:27] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[02:52:27] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[02:52:27] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[02:52:27] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[02:52:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(575.861, 775.3931), shooter_id=1645006030977, bullet_pos=(36.80579, 828.5174)
[02:52:27] [INFO] [Bullet] Using shooter_position, distance=541.666625976563
[02:52:27] [INFO] [Bullet] Distance to wall: 541.666625976563 (36.883076599841% of viewport)
[02:52:27] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:52:27] [INFO] [Bullet] Starting wall penetration at (36.80579, 828.5174)
[02:52:27] [INFO] [Bullet] Raycast backward hit penetrating body at distance 41.8375968933105
[02:52:27] [INFO] [Bullet] Body exited signal received for penetrating body
[02:52:27] [INFO] [Bullet] Exiting penetration at (-9.635899, 833.0942) after traveling 41.6666679382324 pixels through wall
[02:52:27] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:52:27] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[02:52:27] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[02:52:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(393.1926, 782.2314), shooter_id=1647824604351, bullet_pos=(912.3905, 633.794)
[02:52:27] [INFO] [Bullet] Using shooter_position, distance=540.000122070313
[02:52:27] [INFO] [Bullet] Distance to wall: 540.000122070313 (36.769601284434% of viewport)
[02:52:27] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:52:27] [INFO] [Bullet] Caliber cannot penetrate walls
[02:52:27] [ENEMY] [Enemy3] Ragdoll activated
[02:52:27] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[02:52:27] [ENEMY] [Enemy10] FLANKING started: target=(693.8044, 728.1859), side=left, pos=(973.5126, 1421.107)
[02:52:27] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[02:52:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(401.1961, 565.955), source=ENEMY (Enemy2), range=1469, listeners=9
[02:52:28] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=4
[02:52:28] [INFO] [LastChance] Threat detected: Bullet
[02:52:28] [INFO] [LastChance] Triggering last chance effect!
[02:52:28] [INFO] [LastChance] Starting last chance effect:
[02:52:28] [INFO] [LastChance]   - Time will be frozen (except player)
[02:52:28] [INFO] [LastChance]   - Duration: 6.0 real seconds
[02:52:28] [INFO] [LastChance]   - Sepia intensity: 0.70
[02:52:28] [INFO] [LastChance]   - Brightness: 0.60
[02:52:28] [INFO] [LastChance] Pushed bullet Bullet from distance 138.0 to 200.0
[02:52:28] [INFO] [LastChance] Pushed 1 threatening bullets away from player
[02:52:28] [INFO] [LastChance] Set player Player and all 17 children to PROCESS_MODE_ALWAYS
[02:52:28] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[02:52:28] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:52:28] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:52:28] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[02:52:28] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:52:28] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:52:28] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:52:28] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:52:28] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:52:28] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:52:28] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:52:28] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:52:28] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:52:28] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:52:28] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:52:28] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:52:28] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:52:28] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[02:52:28] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[02:52:28] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:52:28] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:52:28] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:52:28] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:52:28] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:52:28] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[02:52:28] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[02:52:28] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:52:28] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[02:52:28] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[02:52:28] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:52:28] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:52:28] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[02:52:28] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[02:52:28] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[02:52:28] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[02:52:28] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[02:52:28] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[02:52:28] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[02:52:28] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[02:52:28] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[02:52:28] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[02:52:28] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[02:52:28] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[02:52:28] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[02:52:28] [INFO] [LastChance] Skipping player node: Player
[02:52:28] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[02:52:28] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[02:52:28] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[02:52:28] [INFO] [LastChance] Freezing newly fired player bullet: Bullet9mm
[02:52:28] [INFO] [LastChance] Registered frozen player bullet: Bullet9mm
[02:52:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(548.372, 717.2234), source=PLAYER (MiniUzi), range=1469, listeners=9
[02:52:28] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[02:52:28] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@2751
[02:52:28] [INFO] [LastChance] Registered frozen player bullet: @Area2D@2751
[02:52:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(563.821, 716.6), source=PLAYER (MiniUzi), range=1469, listeners=9
[02:52:28] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[02:52:28] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@2753
[02:52:28] [INFO] [LastChance] Registered frozen player bullet: @Area2D@2753
[02:52:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(577.3704, 718.2632), source=PLAYER (MiniUzi), range=1469, listeners=9
[02:52:28] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[02:52:28] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@2755
[02:52:28] [INFO] [LastChance] Registered frozen player bullet: @Area2D@2755
[02:52:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(588.3743, 721.3713), source=PLAYER (MiniUzi), range=1469, listeners=9
[02:52:28] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[02:52:28] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@2757
[02:52:28] [INFO] [LastChance] Registered frozen player bullet: @Area2D@2757
[02:52:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(596.5715, 725.5389), source=PLAYER (MiniUzi), range=1469, listeners=9
[02:52:28] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[02:52:28] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@2759
[02:52:28] [INFO] [LastChance] Registered frozen player bullet: @Area2D@2759
[02:52:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(601.9622, 730.7662), source=PLAYER (MiniUzi), range=1469, listeners=9
[02:52:28] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[02:52:29] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@2761
[02:52:29] [INFO] [LastChance] Registered frozen player bullet: @Area2D@2761
[02:52:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(679.9557, 944.399), source=PLAYER (MiniUzi), range=1469, listeners=9
[02:52:29] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[02:52:29] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@2763
[02:52:29] [INFO] [LastChance] Registered frozen player bullet: @Area2D@2763
[02:52:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(679.9557, 944.399), source=PLAYER (MiniUzi), range=1469, listeners=9
[02:52:29] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[02:52:30] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@2765
[02:52:30] [INFO] [LastChance] Registered frozen player bullet: @Area2D@2765
[02:52:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(679.9557, 944.399), source=PLAYER (MiniUzi), range=1469, listeners=9
[02:52:30] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[02:52:30] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@2767
[02:52:30] [INFO] [LastChance] Registered frozen player bullet: @Area2D@2767
[02:52:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(679.9557, 944.0657), source=PLAYER (MiniUzi), range=1469, listeners=9
[02:52:30] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[02:52:30] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@2769
[02:52:30] [INFO] [LastChance] Registered frozen player bullet: @Area2D@2769
[02:52:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(679.9557, 941.0657), source=PLAYER (MiniUzi), range=1469, listeners=9
[02:52:30] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[02:52:30] [INFO] [ScoreManager] Combo ended at 1. Max combo: 1
[02:52:31] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[02:52:31] [ENEMY] [Enemy1] Player reloading state changed: false -> true
[02:52:31] [ENEMY] [Enemy2] Player reloading state changed: false -> true
[02:52:31] [ENEMY] [Enemy4] Player reloading state changed: false -> true
[02:52:31] [ENEMY] [Enemy5] Player reloading state changed: false -> true
[02:52:31] [ENEMY] [Enemy6] Player reloading state changed: false -> true
[02:52:31] [ENEMY] [Enemy7] Player reloading state changed: false -> true
[02:52:31] [ENEMY] [Enemy8] Player reloading state changed: false -> true
[02:52:31] [ENEMY] [Enemy9] Player reloading state changed: false -> true
[02:52:31] [ENEMY] [Enemy10] Player reloading state changed: false -> true
[02:52:31] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(581.7303, 706.1046), source=PLAYER (Player), range=900, listeners=9
[02:52:31] [ENEMY] [Enemy1] Heard player RELOAD at (581.7303, 706.1046), intensity=0.01, distance=456
[02:52:31] [ENEMY] [Enemy2] Heard player RELOAD at (581.7303, 706.1046), intensity=0.05, distance=229
[02:52:31] [ENEMY] [Enemy2] Vulnerability sound triggered pursuit - transitioning from SUPPRESSED to PURSUING
[02:52:31] [ENEMY] [Enemy4] Heard player RELOAD at (581.7303, 706.1046), intensity=0.03, distance=280
[02:52:31] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=5, self=0, below_threshold=1
[02:52:31] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[02:52:31] [INFO] [Player.Reload.Anim] LeftArm: pos=(-1.3398541, 4.3201985), target=(2, 6), base=(14, 6)
[02:52:31] [INFO] [Player.Reload.Anim] RightArm: pos=(1.0033472, 7.15625), target=(1, 8), base=(1, 6)
[02:52:32] [INFO] [Player.Reload.Anim] Phase changed to: PullBolt (duration: 0,35s)
[02:52:32] [ENEMY] [Enemy1] Player reloading state changed: true -> false
[02:52:32] [ENEMY] [Enemy2] Player reloading state changed: true -> false
[02:52:32] [ENEMY] [Enemy4] Player reloading state changed: true -> false
[02:52:32] [ENEMY] [Enemy5] Player reloading state changed: true -> false
[02:52:32] [ENEMY] [Enemy6] Player reloading state changed: true -> false
[02:52:32] [ENEMY] [Enemy7] Player reloading state changed: true -> false
[02:52:32] [ENEMY] [Enemy8] Player reloading state changed: true -> false
[02:52:32] [ENEMY] [Enemy9] Player reloading state changed: true -> false
[02:52:32] [ENEMY] [Enemy10] Player reloading state changed: true -> false
[02:52:32] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[02:52:32] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[02:52:33] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@2771
[02:52:33] [INFO] [LastChance] Registered frozen player bullet: @Area2D@2771
[02:52:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(475.2087, 140.7667), source=PLAYER (MiniUzi), range=1469, listeners=9
[02:52:33] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=4
[02:52:33] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@2773
[02:52:33] [INFO] [LastChance] Registered frozen player bullet: @Area2D@2773
[02:52:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(462.7664, 139.2633), source=PLAYER (MiniUzi), range=1469, listeners=9
[02:52:33] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=4
[02:52:33] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@2775
[02:52:33] [INFO] [LastChance] Registered frozen player bullet: @Area2D@2775
[02:52:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(452.6638, 139.5116), source=PLAYER (MiniUzi), range=1469, listeners=9
[02:52:33] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=4
[02:52:33] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@2777
[02:52:33] [INFO] [LastChance] Registered frozen player bullet: @Area2D@2777
[02:52:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(445.218, 141.1535), source=PLAYER (MiniUzi), range=1469, listeners=9
[02:52:33] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=4
[02:52:33] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@2779
[02:52:33] [INFO] [LastChance] Registered frozen player bullet: @Area2D@2779
[02:52:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(440.4287, 144.1888), source=PLAYER (MiniUzi), range=1469, listeners=9
[02:52:33] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=4
[02:52:33] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@2781
[02:52:33] [INFO] [LastChance] Registered frozen player bullet: @Area2D@2781
[02:52:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(438.2963, 148.6177), source=PLAYER (MiniUzi), range=1469, listeners=9
[02:52:33] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=4
[02:52:33] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@2783
[02:52:33] [INFO] [LastChance] Registered frozen player bullet: @Area2D@2783
[02:52:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(438.888, 153.6728), source=PLAYER (MiniUzi), range=1469, listeners=9
[02:52:33] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=4
[02:52:33] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@2785
[02:52:33] [INFO] [LastChance] Registered frozen player bullet: @Area2D@2785
[02:52:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(442.3388, 157.8193), source=PLAYER (MiniUzi), range=1469, listeners=9
[02:52:33] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=4
[02:52:33] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@2787
[02:52:33] [INFO] [LastChance] Registered frozen player bullet: @Area2D@2787
[02:52:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(448.6487, 161.0573), source=PLAYER (MiniUzi), range=1469, listeners=9
[02:52:33] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=4
[02:52:33] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@2789
[02:52:33] [INFO] [LastChance] Registered frozen player bullet: @Area2D@2789
[02:52:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(457.8178, 163.3868), source=PLAYER (MiniUzi), range=1469, listeners=9
[02:52:33] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=4
[02:52:34] [INFO] [LastChance] Effect duration expired after 6.00 real seconds
[02:52:34] [INFO] [LastChance] Ending last chance effect
[02:52:34] [INFO] [LastChance] All process modes restored
[02:52:34] [INFO] [LastChance] Unfroze player bullet: Bullet9mm
[02:52:34] [INFO] [LastChance] Unfroze player bullet: @Area2D@2751
[02:52:34] [INFO] [LastChance] Unfroze player bullet: @Area2D@2753
[02:52:34] [INFO] [LastChance] Unfroze player bullet: @Area2D@2755
[02:52:34] [INFO] [LastChance] Unfroze player bullet: @Area2D@2757
[02:52:34] [INFO] [LastChance] Unfroze player bullet: @Area2D@2759
[02:52:34] [INFO] [LastChance] Unfroze player bullet: @Area2D@2761
[02:52:34] [INFO] [LastChance] Unfroze player bullet: @Area2D@2763
[02:52:34] [INFO] [LastChance] Unfroze player bullet: @Area2D@2765
[02:52:34] [INFO] [LastChance] Unfroze player bullet: @Area2D@2767
[02:52:34] [INFO] [LastChance] Unfroze player bullet: @Area2D@2769
[02:52:34] [INFO] [LastChance] Unfroze player bullet: @Area2D@2771
[02:52:34] [INFO] [LastChance] Unfroze player bullet: @Area2D@2773
[02:52:34] [INFO] [LastChance] Unfroze player bullet: @Area2D@2775
[02:52:34] [INFO] [LastChance] Unfroze player bullet: @Area2D@2777
[02:52:34] [INFO] [LastChance] Unfroze player bullet: @Area2D@2779
[02:52:34] [INFO] [LastChance] Unfroze player bullet: @Area2D@2781
[02:52:34] [INFO] [LastChance] Unfroze player bullet: @Area2D@2783
[02:52:34] [INFO] [LastChance] Unfroze player bullet: @Area2D@2785
[02:52:34] [INFO] [LastChance] Unfroze player bullet: @Area2D@2787
[02:52:34] [INFO] [LastChance] Unfroze player bullet: @Area2D@2789
[02:52:34] [INFO] [LastChance] Restored original colors to 5 player sprites
[02:52:34] [INFO] [LastChance] Called player RefreshHealthVisual (C#)
[02:52:34] [ENEMY] [Enemy1] State: PURSUING -> COMBAT
[02:52:34] [ENEMY] [Enemy2] Pursuing vulnerability sound at (581.7303, 706.1046), distance=229
[02:52:34] [ENEMY] [Enemy4] Pursuing vulnerability sound at (581.7303, 706.1046), distance=280
[02:52:34] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[02:52:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(409.6219, 572.496), source=ENEMY (Enemy2), range=1469, listeners=9
[02:52:34] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=3
[02:52:34] [ENEMY] [Enemy4] Hit taken, health: 1/2
[02:52:34] [ENEMY] [Enemy4] Hit taken, health: 0/2
[02:52:34] [ENEMY] [Enemy4] Enemy died (ricochet: false, penetration: false)
[02:52:34] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[02:52:34] [INFO] [SoundPropagation] Unregistered listener: Enemy4 (remaining: 8)
[02:52:34] [INFO] [DeathAnim] Started - Angle: -27.1 deg, Index: 10
[02:52:34] [ENEMY] [Enemy4] Death animation started with hit direction: (0.889835, -0.456282)
[02:52:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(448.6487, 161.0573), shooter_id=1647824604351, bullet_pos=(338.2092, 247.0987)
[02:52:34] [INFO] [Bullet] Using shooter_position, distance=140
[02:52:34] [INFO] [Bullet] Distance to wall: 140 (9.53285743729976% of viewport)
[02:52:34] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:52:34] [INFO] [Bullet] Caliber cannot penetrate walls
[02:52:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(442.3388, 157.8193), shooter_id=1647824604351, bullet_pos=(336.1324, 249.0346)
[02:52:34] [INFO] [Bullet] Using shooter_position, distance=140.000076293945
[02:52:34] [INFO] [Bullet] Distance to wall: 140.000076293945 (9.53286263229479% of viewport)
[02:52:34] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:52:34] [INFO] [Bullet] Caliber cannot penetrate walls
[02:52:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(438.888, 153.6728), shooter_id=1647824604351, bullet_pos=(336.9872, 249.6741)
[02:52:34] [INFO] [Bullet] Using shooter_position, distance=140.000076293945
[02:52:34] [INFO] [Bullet] Distance to wall: 140.000076293945 (9.53286263229479% of viewport)
[02:52:34] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:52:34] [INFO] [Bullet] Caliber cannot penetrate walls
[02:52:34] [ENEMY] [Enemy2] Hit taken, health: 1/3
[02:52:34] [INFO] [LastChance] Threat detected: @Area2D@2791
[02:52:34] [INFO] [LastChance] Effect already used this life
[02:52:34] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:52:34] [ENEMY] [Enemy2] Hit taken, health: 0/3
[02:52:34] [ENEMY] [Enemy2] Enemy died (ricochet: false, penetration: false)
[02:52:34] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[02:52:34] [INFO] [SoundPropagation] Unregistered listener: Enemy2 (remaining: 7)
[02:52:34] [INFO] [DeathAnim] Started - Angle: -137.0 deg, Index: 2
[02:52:34] [ENEMY] [Enemy2] Death animation started with hit direction: (-0.731654, -0.681676)
[02:52:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(432.1595, 508.2881), shooter_id=1644720819684, bullet_pos=(496.5775, 223.824)
[02:52:34] [INFO] [Bullet] Using shooter_position, distance=291.666748046875
[02:52:34] [INFO] [Bullet] Distance to wall: 291.666748046875 (19.8601252023692% of viewport)
[02:52:34] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:52:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(442.8165, 623.3506), shooter_id=1644720819684, bullet_pos=(741.8309, 815.738)
[02:52:34] [INFO] [Bullet] Using shooter_position, distance=355.559478759766
[02:52:34] [INFO] [Bullet] Distance to wall: 355.559478759766 (24.2106987249818% of viewport)
[02:52:34] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:52:34] [ENEMY] [Enemy1] Hit taken, health: 3/4
[02:52:34] [ENEMY] [Enemy1] Hit taken, health: 2/4
[02:52:34] [ENEMY] [Enemy1] Hit taken, health: 1/4
[02:52:34] [ENEMY] [Enemy1] Hit taken, health: 0/4
[02:52:34] [ENEMY] [Enemy1] Enemy died (ricochet: false, penetration: false)
[02:52:34] [INFO] [ScoreManager] Kill registered. Combo: 3 (points: 3000)
[02:52:34] [INFO] [SoundPropagation] Unregistered listener: Enemy1 (remaining: 6)
[02:52:34] [INFO] [DeathAnim] Started - Angle: 126.1 deg, Index: 20
[02:52:34] [ENEMY] [Enemy1] Death animation started with hit direction: (-0.588876, 0.808223)
[02:52:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(440.4287, 144.1888), shooter_id=1647824604351, bullet_pos=(283.67, 423.1631)
[02:52:34] [INFO] [Bullet] Using shooter_position, distance=319.999877929688
[02:52:34] [INFO] [Bullet] Distance to wall: 319.999877929688 (21.7893801161217% of viewport)
[02:52:34] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:52:34] [INFO] [Bullet] Caliber cannot penetrate walls
[02:52:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(452.6638, 139.5116), shooter_id=1647824604351, bullet_pos=(268.6801, 425.4312)
[02:52:34] [INFO] [Bullet] Using shooter_position, distance=339.999938964844
[02:52:34] [INFO] [Bullet] Distance to wall: 339.999938964844 (23.1512210488748% of viewport)
[02:52:34] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:52:34] [INFO] [Bullet] Caliber cannot penetrate walls
[02:52:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(442.8165, 623.3506), shooter_id=1644720819684, bullet_pos=(936.0497, 717.8334)
[02:52:34] [INFO] [Bullet] Using shooter_position, distance=502.201171875
[02:52:34] [INFO] [Bullet] Distance to wall: 502.201171875 (34.1958012594946% of viewport)
[02:52:34] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:52:34] [INFO] [Bullet] Starting wall penetration at (936.0497, 717.8334)
[02:52:34] [INFO] [Bullet] Raycast backward hit penetrating body at distance 40.472282409668
[02:52:34] [INFO] [Bullet] Body exited signal received for penetrating body
[02:52:34] [INFO] [Bullet] Exiting penetration at (972.1401, 699.6404) after traveling 35.4166717529297 pixels through wall
[02:52:34] [INFO] [Bullet] Damage multiplier after penetration: 0.45
[02:52:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(442.8165, 623.3506), shooter_id=1644720819684, bullet_pos=(972.1401, 699.6404)
[02:52:34] [INFO] [Bullet] Using shooter_position, distance=534.793151855469
[02:52:34] [INFO] [Bullet] Distance to wall: 534.793151855469 (36.4150491077313% of viewport)
[02:52:34] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:52:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(475.2087, 140.7667), shooter_id=1647824604351, bullet_pos=(230.2869, 431.3063)
[02:52:34] [INFO] [Bullet] Using shooter_position, distance=380
[02:52:34] [INFO] [Bullet] Distance to wall: 380 (25.8748987583851% of viewport)
[02:52:34] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:52:34] [INFO] [Bullet] Caliber cannot penetrate walls
[02:52:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(596.5715, 725.5389), shooter_id=1647824604351, bullet_pos=(320.3108, 464.6173)
[02:52:34] [INFO] [Bullet] Using shooter_position, distance=380.000122070313
[02:52:34] [INFO] [Bullet] Distance to wall: 380.000122070313 (25.8749070703771% of viewport)
[02:52:34] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:52:34] [INFO] [Bullet] Caliber cannot penetrate walls
[02:52:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(548.372, 717.2234), shooter_id=1647824604351, bullet_pos=(54.7077, 376.2023)
[02:52:34] [INFO] [Bullet] Using shooter_position, distance=599.999877929688
[02:52:34] [INFO] [Bullet] Distance to wall: 599.999877929688 (40.8550949907212% of viewport)
[02:52:34] [INFO] [Bullet] Distance-based penetration chance: 99.0023891774919%
[02:52:34] [INFO] [Bullet] Caliber cannot penetrate walls
[02:52:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(577.3704, 718.2632), shooter_id=1647824604351, bullet_pos=(61.48346, 374.3725)
[02:52:34] [INFO] [Bullet] Using shooter_position, distance=620.000122070313
[02:52:34] [INFO] [Bullet] Distance to wall: 620.000122070313 (42.2169483914624% of viewport)
[02:52:34] [INFO] [Bullet] Distance-based penetration chance: 97.4135602099605%
[02:52:34] [INFO] [Bullet] Caliber cannot penetrate walls
[02:52:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(563.821, 716.6), shooter_id=1647824604351, bullet_pos=(51.75716, 367.0425)
[02:52:34] [INFO] [Bullet] Using shooter_position, distance=619.999938964844
[02:52:34] [INFO] [Bullet] Distance to wall: 619.999938964844 (42.2169359234743% of viewport)
[02:52:34] [INFO] [Bullet] Distance-based penetration chance: 97.4135747559466%
[02:52:34] [INFO] [Bullet] Caliber cannot penetrate walls
[02:52:34] [ENEMY] [Enemy4] Ragdoll activated
[02:52:34] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[02:52:34] [ENEMY] [Enemy2] Ragdoll activated
[02:52:34] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[02:52:34] [ENEMY] [Enemy1] Ragdoll activated
[02:52:34] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[02:52:35] [ENEMY] [Enemy4] Death animation completed
[02:52:35] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[02:52:35] [ENEMY] [Enemy1] Player reloading state changed: false -> true
[02:52:35] [ENEMY] [Enemy2] Player reloading state changed: false -> true
[02:52:35] [ENEMY] [Enemy4] Player reloading state changed: false -> true
[02:52:35] [ENEMY] [Enemy5] Player reloading state changed: false -> true
[02:52:35] [ENEMY] [Enemy6] Player reloading state changed: false -> true
[02:52:35] [ENEMY] [Enemy7] Player reloading state changed: false -> true
[02:52:35] [ENEMY] [Enemy8] Player reloading state changed: false -> true
[02:52:35] [ENEMY] [Enemy9] Player reloading state changed: false -> true
[02:52:35] [ENEMY] [Enemy10] Player reloading state changed: false -> true
[02:52:35] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(795.5336, 331.34), source=PLAYER (Player), range=900, listeners=6
[02:52:35] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=5, self=0, below_threshold=1
[02:52:35] [ENEMY] [Enemy5] Player vulnerable (reloading) but cannot attack: close=false (dist=905), can_see=false
[02:52:35] [ENEMY] [Enemy6] Player vulnerable (reloading) but cannot attack: close=false (dist=1161), can_see=false
[02:52:35] [ENEMY] [Enemy7] Player vulnerable (reloading) but cannot attack: close=false (dist=994), can_see=false
[02:52:35] [ENEMY] [Enemy8] Player vulnerable (reloading) but cannot attack: close=false (dist=1572), can_see=false
[02:52:35] [ENEMY] [Enemy9] Player vulnerable (reloading) but cannot attack: close=false (dist=1785), can_see=false
[02:52:35] [ENEMY] [Enemy10] Player vulnerable (reloading) but cannot attack: close=false (dist=801), can_see=false
[02:52:35] [ENEMY] [Enemy1] Death animation completed
[02:52:35] [ENEMY] [Enemy2] Death animation completed
[02:52:35] [INFO] [Player.Reload.Anim] LeftArm: pos=(-5.754755, 2.0536282), target=(-6, 2), base=(14, 6)
[02:52:35] [INFO] [Player.Reload.Anim] RightArm: pos=(1.0228969, 6), target=(1, 6), base=(1, 6)
[02:52:35] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[02:52:36] [INFO] [Player.Reload.Anim] Phase changed to: PullBolt (duration: 0,35s)
[02:52:36] [ENEMY] [Enemy1] Player reloading state changed: true -> false
[02:52:36] [ENEMY] [Enemy2] Player reloading state changed: true -> false
[02:52:36] [ENEMY] [Enemy4] Player reloading state changed: true -> false
[02:52:36] [ENEMY] [Enemy5] Player reloading state changed: true -> false
[02:52:36] [ENEMY] [Enemy6] Player reloading state changed: true -> false
[02:52:36] [ENEMY] [Enemy7] Player reloading state changed: true -> false
[02:52:36] [ENEMY] [Enemy8] Player reloading state changed: true -> false
[02:52:36] [ENEMY] [Enemy9] Player reloading state changed: true -> false
[02:52:36] [ENEMY] [Enemy10] Player reloading state changed: true -> false
[02:52:36] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[02:52:36] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[02:52:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(795.5336, 545.84), source=PLAYER (MiniUzi), range=1469, listeners=6
[02:52:36] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=4
[02:52:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(795.5336, 562.34), source=PLAYER (MiniUzi), range=1469, listeners=6
[02:52:36] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=4
[02:52:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(795.5336, 578.84), source=PLAYER (MiniUzi), range=1469, listeners=6
[02:52:36] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=4
[02:52:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(795.5336, 595.34), source=PLAYER (MiniUzi), range=1469, listeners=6
[02:52:36] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=4
[02:52:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(795.5336, 611.84), source=PLAYER (MiniUzi), range=1469, listeners=6
[02:52:36] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=4
[02:52:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(795.5336, 628.34), source=PLAYER (MiniUzi), range=1469, listeners=6
[02:52:36] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=4
[02:52:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(795.5336, 644.84), source=PLAYER (MiniUzi), range=1469, listeners=6
[02:52:36] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=4
[02:52:36] [ENEMY] [Enemy10] State: FLANKING -> COMBAT
[02:52:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(795.5336, 661.34), source=PLAYER (MiniUzi), range=1469, listeners=6
[02:52:36] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=4
[02:52:36] [ENEMY] [Enemy10] Hit taken, health: 1/2
[02:52:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(795.5336, 611.84), shooter_id=1647824604351, bullet_pos=(525.7022, 818.6996)
[02:52:36] [INFO] [Bullet] Using shooter_position, distance=339.999847412109
[02:52:36] [INFO] [Bullet] Distance to wall: 339.999847412109 (23.1512148148808% of viewport)
[02:52:36] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:52:36] [INFO] [Bullet] Caliber cannot penetrate walls
[02:52:36] [ENEMY] [Enemy10] State: COMBAT -> RETREATING
[02:52:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(795.5336, 628.34), shooter_id=1647824604351, bullet_pos=(518.816, 888.7771)
[02:52:36] [INFO] [Bullet] Using shooter_position, distance=380.000152587891
[02:52:36] [INFO] [Bullet] Distance to wall: 380.000152587891 (25.8749091483751% of viewport)
[02:52:36] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:52:36] [INFO] [Bullet] Caliber cannot penetrate walls
[02:52:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(478.77, 776.9575), source=ENEMY (Enemy10), range=1469, listeners=6
[02:52:36] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=2
[02:52:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(795.5336, 644.84), shooter_id=1647824604351, bullet_pos=(515.9536, 930.9081)
[02:52:37] [INFO] [Bullet] Using shooter_position, distance=400
[02:52:37] [INFO] [Bullet] Distance to wall: 400 (27.2367355351422% of viewport)
[02:52:37] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:52:37] [INFO] [Bullet] Caliber cannot penetrate walls
[02:52:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(472.9386, 785.887), source=ENEMY (Enemy10), range=1469, listeners=6
[02:52:37] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=2
[02:52:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(795.5336, 661.34), shooter_id=1647824604351, bullet_pos=(525.5664, 928.7676)
[02:52:37] [INFO] [Bullet] Using shooter_position, distance=379.999725341797
[02:52:37] [INFO] [Bullet] Distance to wall: 379.999725341797 (25.874880056403% of viewport)
[02:52:37] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:52:37] [INFO] [Bullet] Caliber cannot penetrate walls
[02:52:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(471.537, 796.4612), source=ENEMY (Enemy10), range=1469, listeners=6
[02:52:37] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=2
[02:52:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(795.5336, 545.84), shooter_id=1647824604351, bullet_pos=(50.20135, 974.8847)
[02:52:37] [INFO] [Bullet] Using shooter_position, distance=859.999694824219
[02:52:37] [INFO] [Bullet] Distance to wall: 859.999694824219 (58.5589606205755% of viewport)
[02:52:37] [INFO] [Bullet] Distance-based penetration chance: 78.3478792759952%
[02:52:37] [INFO] [Bullet] Penetration failed (distance roll)
[02:52:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(795.5336, 562.34), shooter_id=1647824604351, bullet_pos=(57.01444, 1003.009)
[02:52:37] [INFO] [Bullet] Using shooter_position, distance=859.999633789063
[02:52:37] [INFO] [Bullet] Distance to wall: 859.999633789063 (58.5589564645795% of viewport)
[02:52:37] [INFO] [Bullet] Distance-based penetration chance: 78.3478841246572%
[02:52:37] [INFO] [Bullet] Caliber cannot penetrate walls
[02:52:37] [INFO] [LastChance] Threat detected: @Area2D@2869
[02:52:37] [INFO] [LastChance] Effect already used this life
[02:52:37] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:52:37] [ENEMY] [Enemy10] State: RETREATING -> IN_COVER
[02:52:37] [ENEMY] [Enemy10] Grenade trigger: critical health (1 HP)
[02:52:37] [ENEMY] [Enemy10] Preparing to throw frag grenade at (795.5336, 804.34)
[02:52:37] [ENEMY] [Enemy10] State: IN_COVER -> THROWING_GRENADE
[02:52:37] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[02:52:37] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[02:52:37] [INFO] [PenultimateHit] Player died - ending penultimate effect
[02:52:37] [INFO] [LastChance] Player died
[02:52:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(795.5336, 595.34), shooter_id=1647824604351, bullet_pos=(56.83045, 951.3148)
[02:52:37] [INFO] [Bullet] Using shooter_position, distance=820.000244140625
[02:52:37] [INFO] [Bullet] Distance to wall: 820.000244140625 (55.8353244710255% of viewport)
[02:52:37] [INFO] [Bullet] Distance-based penetration chance: 81.5254547838036%
[02:52:37] [INFO] [Bullet] Caliber cannot penetrate walls
[02:52:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(546.7627, 774.2023), shooter_id=1647002519434, bullet_pos=(1380.257, 507.9058)
[02:52:37] [INFO] [Bullet] Using shooter_position, distance=875.00048828125
[02:52:37] [INFO] [Bullet] Distance to wall: 875.00048828125 (59.5803922310917% of viewport)
[02:52:37] [INFO] [Bullet] Distance-based penetration chance: 77.1562090637264%
[02:52:37] [INFO] [Bullet] Starting wall penetration at (1380.257, 507.9058)
[02:52:37] [INFO] [Bullet] Raycast backward hit penetrating body at distance 38.5376777648926
[02:52:37] [INFO] [Bullet] Body exited signal received for penetrating body
[02:52:37] [INFO] [Bullet] Exiting penetration at (1424.71, 493.7033) after traveling 41.6666679382324 pixels through wall
[02:52:37] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:52:37] [INFO] [ScoreManager] Combo ended at 3. Max combo: 3
[02:52:37] [ENEMY] [Enemy6] Hit taken, health: 1/2
[02:52:37] [ENEMY] [Enemy10] Threw frag grenade: target=(795.5336, 804.34), deviation=3.1°, distance=329
[02:52:37] [INFO] [GrenadeBase] CCD enabled (mode: CAST_RAY) to prevent wall tunneling
[02:52:37] [INFO] [GrenadeBase] Grenade created at (497.6808, 825.2089) (frozen)
[02:52:37] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[02:52:37] [INFO] [GrenadeBase] LEGACY throw_grenade() called! Direction: (0.999939, -0.01105), Speed: 328.5 (unfrozen)
[02:52:37] [INFO] [GrenadeBase] NOTE: Using DRAG-BASED system. If velocity-based is expected, ensure grenade has throw_grenade_velocity_based() method.
[02:52:37] [INFO] [FragGrenade] Grenade thrown (legacy) - impact detection enabled
[02:52:37] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[02:52:37] [ENEMY] [Enemy10] State: THROWING_GRENADE -> SEEKING_COVER
[02:52:37] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[02:52:37] [INFO] [LastChance] Resetting all effects (scene change detected)
[02:52:37] [ENEMY] [Enemy1] Death animation component initialized
[02:52:37] [ENEMY] [Enemy2] Death animation component initialized
[02:52:37] [ENEMY] [Enemy3] Death animation component initialized
[02:52:37] [ENEMY] [Enemy4] Death animation component initialized
[02:52:37] [ENEMY] [Enemy5] Death animation component initialized
[02:52:37] [ENEMY] [Enemy6] Death animation component initialized
[02:52:37] [ENEMY] [Enemy7] Death animation component initialized
[02:52:37] [ENEMY] [Enemy8] Death animation component initialized
[02:52:37] [ENEMY] [Enemy9] Death animation component initialized
[02:52:37] [ENEMY] [Enemy10] Death animation component initialized
[02:52:37] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[02:52:37] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[02:52:37] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[02:52:37] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[02:52:37] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[02:52:37] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[02:52:37] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[02:52:37] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[02:52:37] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[02:52:37] [ENEMY] [Enemy10] Grenade system configured: offensive=2, flashbangs=0
[02:52:37] [INFO] [ScoreManager] Level started with 10 enemies
[02:52:37] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 7)
[02:52:37] [ENEMY] [Enemy1] Registered as sound listener
[02:52:37] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[02:52:37] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 8)
[02:52:37] [ENEMY] [Enemy2] Registered as sound listener
[02:52:37] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[02:52:37] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 9)
[02:52:37] [ENEMY] [Enemy3] Registered as sound listener
[02:52:37] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[02:52:37] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 10)
[02:52:37] [ENEMY] [Enemy4] Registered as sound listener
[02:52:37] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 4, behavior: GUARD, player_found: yes
[02:52:37] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 11)
[02:52:37] [ENEMY] [Enemy5] Registered as sound listener
[02:52:37] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[02:52:37] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 12)
[02:52:37] [ENEMY] [Enemy6] Registered as sound listener
[02:52:37] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 2, behavior: GUARD, player_found: yes
[02:52:37] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 13)
[02:52:37] [ENEMY] [Enemy7] Registered as sound listener
[02:52:37] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[02:52:37] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 14)
[02:52:37] [ENEMY] [Enemy8] Registered as sound listener
[02:52:37] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[02:52:37] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 15)
[02:52:37] [ENEMY] [Enemy9] Registered as sound listener
[02:52:37] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[02:52:37] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 16)
[02:52:37] [ENEMY] [Enemy10] Registered as sound listener
[02:52:37] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 3, behavior: PATROL, player_found: yes
[02:52:37] [INFO] [Player] Detecting weapon pose (frame 3)...
[02:52:37] [INFO] [Player] Detected weapon: Mini UZI (SMG pose)
[02:52:37] [INFO] [Player] Applied SMG arm pose: Left=(14, 6), Right=(1, 6)
[02:52:37] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[02:52:37] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[02:52:37] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[02:52:37] [INFO] [LastChance] Found player: Player
[02:52:37] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[02:52:37] [INFO] [LastChance] Connected to player Damaged signal (C#)
[02:52:37] [INFO] [LastChance] Connected to player Died signal (C#)
[02:52:38] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[02:52:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(506.0419, 1164.04), source=PLAYER (MiniUzi), range=1469, listeners=16
[02:52:38] [INFO] [SoundPropagation] Cleaned up 6 invalid listeners
[02:52:38] [ENEMY] [Enemy3] Heard gunshot at (506.0419, 1164.04), source_type=0, intensity=0.01, distance=457
[02:52:38] [ENEMY] [Enemy4] Heard gunshot at (506.0419, 1164.04), source_type=0, intensity=0.02, distance=395
[02:52:38] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=6
[02:52:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(518.6935, 1165.059), source=PLAYER (MiniUzi), range=1469, listeners=10
[02:52:38] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=6
[02:52:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1143.683, 1519.609), source=ENEMY (Enemy10), range=1469, listeners=10
[02:52:38] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:52:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(531.0691, 1169.064), source=PLAYER (MiniUzi), range=1469, listeners=10
[02:52:38] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=6
[02:52:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(543.1685, 1176.057), source=PLAYER (MiniUzi), range=1469, listeners=10
[02:52:38] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=6
[02:52:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1111.264, 1501.094), source=ENEMY (Enemy10), range=1469, listeners=10
[02:52:38] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:52:38] [INFO] [LastChance] Threat detected: Bullet
[02:52:38] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:52:38] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:52:39] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[02:52:39] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[02:52:39] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[02:52:39] [INFO] [LastChance] Threat detected: @Area2D@3135
[02:52:39] [INFO] [LastChance] Triggering last chance effect!
[02:52:39] [INFO] [LastChance] Starting last chance effect:
[02:52:39] [INFO] [LastChance]   - Time will be frozen (except player)
[02:52:39] [INFO] [LastChance]   - Duration: 6.0 real seconds
[02:52:39] [INFO] [LastChance]   - Sepia intensity: 0.70
[02:52:39] [INFO] [LastChance]   - Brightness: 0.60
[02:52:39] [INFO] [LastChance] Pushed bullet @Area2D@3135 from distance 107.5 to 200.0
[02:52:39] [INFO] [LastChance] Pushed 1 threatening bullets away from player
[02:52:39] [INFO] [LastChance] Set player Player and all 17 children to PROCESS_MODE_ALWAYS
[02:52:39] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[02:52:39] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:52:39] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:52:39] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[02:52:39] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:52:39] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:52:39] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:52:39] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:52:39] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:52:39] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:52:39] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:52:39] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:52:39] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:52:39] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:52:39] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:52:39] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:52:39] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:52:39] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[02:52:39] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[02:52:39] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:52:39] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:52:39] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:52:39] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:52:39] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:52:39] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[02:52:39] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[02:52:39] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:52:39] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[02:52:39] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[02:52:39] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:52:39] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:52:39] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[02:52:39] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[02:52:39] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[02:52:39] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[02:52:39] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[02:52:39] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[02:52:39] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[02:52:39] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[02:52:39] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[02:52:39] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[02:52:39] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[02:52:39] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[02:52:39] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[02:52:39] [INFO] [LastChance] Skipping player node: Player
[02:52:39] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[02:52:39] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[02:52:39] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[02:52:40] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[02:52:40] [ENEMY] [Enemy1] Player reloading state changed: false -> true
[02:52:40] [ENEMY] [Enemy2] Player reloading state changed: false -> true
[02:52:40] [ENEMY] [Enemy3] Player reloading state changed: false -> true
[02:52:40] [ENEMY] [Enemy4] Player reloading state changed: false -> true
[02:52:40] [ENEMY] [Enemy5] Player reloading state changed: false -> true
[02:52:40] [ENEMY] [Enemy6] Player reloading state changed: false -> true
[02:52:40] [ENEMY] [Enemy7] Player reloading state changed: false -> true
[02:52:40] [ENEMY] [Enemy8] Player reloading state changed: false -> true
[02:52:40] [ENEMY] [Enemy9] Player reloading state changed: false -> true
[02:52:40] [ENEMY] [Enemy10] Player reloading state changed: false -> true
[02:52:40] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(852.5253, 1530.548), source=PLAYER (Player), range=900, listeners=10
[02:52:40] [ENEMY] [Enemy10] Heard player RELOAD at (852.5253, 1530.548), intensity=0.05, distance=215
[02:52:40] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=7, self=0, below_threshold=2
[02:52:40] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[02:52:40] [INFO] [Player.Reload.Anim] Phase changed to: PullBolt (duration: 0,35s)
[02:52:40] [ENEMY] [Enemy1] Player reloading state changed: true -> false
[02:52:40] [ENEMY] [Enemy2] Player reloading state changed: true -> false
[02:52:40] [ENEMY] [Enemy3] Player reloading state changed: true -> false
[02:52:40] [ENEMY] [Enemy4] Player reloading state changed: true -> false
[02:52:40] [ENEMY] [Enemy5] Player reloading state changed: true -> false
[02:52:40] [ENEMY] [Enemy6] Player reloading state changed: true -> false
[02:52:40] [ENEMY] [Enemy7] Player reloading state changed: true -> false
[02:52:40] [ENEMY] [Enemy8] Player reloading state changed: true -> false
[02:52:40] [ENEMY] [Enemy9] Player reloading state changed: true -> false
[02:52:40] [ENEMY] [Enemy10] Player reloading state changed: true -> false
[02:52:40] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[02:52:40] [INFO] [Player.Reload.Anim] LeftArm: pos=(12.339077, 5.970167), target=(14, 6), base=(14, 6)
[02:52:40] [INFO] [Player.Reload.Anim] RightArm: pos=(1.0001559, 6.251934), target=(1, 6), base=(1, 6)
[02:52:41] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[02:52:45] [INFO] [LastChance] Effect duration expired after 6.00 real seconds
[02:52:45] [INFO] [LastChance] Ending last chance effect
[02:52:45] [INFO] [LastChance] All process modes restored
[02:52:45] [INFO] [LastChance] Restored original colors to 5 player sprites
[02:52:45] [INFO] [LastChance] Called player RefreshHealthVisual (C#)
[02:52:45] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[02:52:45] [ENEMY] [Enemy10] Pursuing vulnerability sound at (852.5253, 1530.548), distance=212
[02:52:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(518.6935, 1165.059), shooter_id=2005263189365, bullet_pos=(987.7774, 1389.47)
[02:52:45] [INFO] [Bullet] Using shooter_position, distance=520.000305175781
[02:52:45] [INFO] [Bullet] Distance to wall: 520.000305175781 (35.4077769756649% of viewport)
[02:52:45] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:52:45] [INFO] [Bullet] Caliber cannot penetrate walls
[02:52:45] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[02:52:45] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[02:52:45] [ENEMY] [Enemy10] Hit taken, health: 2/3
[02:52:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(543.1685, 1176.057), shooter_id=2005263189365, bullet_pos=(1022.099, 1378.604)
[02:52:45] [INFO] [Bullet] Using shooter_position, distance=520
[02:52:45] [INFO] [Bullet] Distance to wall: 520 (35.4077561956848% of viewport)
[02:52:45] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:52:45] [INFO] [Bullet] Caliber cannot penetrate walls
[02:52:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1048.696, 1474.357), shooter_id=2004441106434, bullet_pos=(46.39994, 894.8318)
[02:52:45] [INFO] [Bullet] Using shooter_position, distance=1157.77685546875
[02:52:45] [INFO] [Bullet] Distance to wall: 1157.77685546875 (78.8351550527771% of viewport)
[02:52:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1048.696, 1474.357), shooter_id=2004441106434, bullet_pos=(475.0738, 713.5823)
[02:52:45] [INFO] [Bullet] Using shooter_position, distance=952.796325683594
[02:52:45] [INFO] [Bullet] Distance to wall: 952.796325683594 (64.8776538537481% of viewport)
[02:52:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(506.0419, 1164.04), shooter_id=2005263189365, bullet_pos=(1491.575, 1652.635)
[02:52:45] [INFO] [Bullet] Using shooter_position, distance=1100.00073242188
[02:52:45] [INFO] [Bullet] Distance to wall: 1100.00073242188 (74.9010725935932% of viewport)
[02:52:45] [INFO] [Bullet] Distance-based penetration chance: 59.2820819741412%
[02:52:45] [INFO] [Bullet] Caliber cannot penetrate walls
[02:52:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1048.696, 1474.357), shooter_id=2004441106434, bullet_pos=(693.2665, 826.8339)
[02:52:45] [INFO] [Bullet] Using shooter_position, distance=738.658508300781
[02:52:45] [INFO] [Bullet] Distance to wall: 738.658508300781 (50.2966161034275% of viewport)
[02:52:45] [ENEMY] [Enemy3] Hit taken, health: 2/3
[02:52:45] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:52:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(893.178, 1375.933), source=ENEMY (Enemy10), range=1469, listeners=10
[02:52:45] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=8
[02:52:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(884.9821, 1443.487), shooter_id=2004441106434, bullet_pos=(884.9821, 1443.487)
[02:52:45] [INFO] [Bullet] Using shooter_position, distance=0
[02:52:45] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[02:52:45] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[02:52:45] [INFO] [Bullet] Starting wall penetration at (884.9821, 1443.487)
[02:52:45] [INFO] [LastChance] Threat detected: Bullet
[02:52:45] [INFO] [LastChance] Effect already used this life
[02:52:45] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:52:45] [ENEMY] [Enemy10] State: PURSUING -> COMBAT
[02:52:45] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[02:52:45] [INFO] [Bullet] Exiting penetration at (874.0884, 1488.864) after traveling 41.6666717529297 pixels through wall
[02:52:45] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:52:45] [ENEMY] [Enemy10] State: COMBAT -> RETREATING
[02:52:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(885.6191, 1375.974), source=ENEMY (Enemy10), range=1469, listeners=10
[02:52:45] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=8
[02:52:45] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:52:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(886.7366, 1373.553), source=ENEMY (Enemy10), range=1469, listeners=10
[02:52:45] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=8
[02:52:45] [INFO] [LastChance] Threat detected: @Area2D@3145
[02:52:45] [INFO] [LastChance] Effect already used this life
[02:52:45] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:52:45] [ENEMY] [Enemy3] State: PURSUING -> RETREATING
[02:52:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(880.3052, 1443.815), shooter_id=2004441106434, bullet_pos=(885.0711, 1527.012)
[02:52:45] [INFO] [Bullet] Using shooter_position, distance=83.3334121704102
[02:52:45] [INFO] [Bullet] Distance to wall: 83.3334121704102 (5.67432527131615% of viewport)
[02:52:45] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:52:45] [INFO] [Bullet] Starting wall penetration at (885.0711, 1527.012)
[02:52:45] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[02:52:45] [INFO] [Bullet] Raycast forward hit penetrating body at distance 4.54638147354126
[02:52:45] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[02:52:45] [INFO] [Bullet] Max penetration distance exceeded: 83.3333358764648 >= 48
[02:52:45] [INFO] [Bullet] Body exited signal received for penetrating body
[02:52:45] [INFO] [Bullet] Exiting penetration at (890.1229, 1615.201) after traveling 83.3333358764648 pixels through wall
[02:52:45] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:52:45] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[02:52:45] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[02:52:45] [INFO] [PenultimateHit] Player died - ending penultimate effect
[02:52:45] [INFO] [LastChance] Player died
[02:52:46] [ENEMY] [Enemy10] State: RETREATING -> IN_COVER
[02:52:46] [ENEMY] [Enemy10] State: IN_COVER -> SUPPRESSED
[02:52:46] [ENEMY] [Enemy10] State: SUPPRESSED -> SEEKING_COVER
[02:52:46] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[02:52:46] [INFO] [LastChance] Resetting all effects (scene change detected)
[02:52:46] [ENEMY] [Enemy1] Death animation component initialized
[02:52:46] [ENEMY] [Enemy2] Death animation component initialized
[02:52:46] [ENEMY] [Enemy3] Death animation component initialized
[02:52:46] [ENEMY] [Enemy4] Death animation component initialized
[02:52:46] [ENEMY] [Enemy5] Death animation component initialized
[02:52:46] [ENEMY] [Enemy6] Death animation component initialized
[02:52:46] [ENEMY] [Enemy7] Death animation component initialized
[02:52:46] [ENEMY] [Enemy8] Death animation component initialized
[02:52:46] [ENEMY] [Enemy9] Death animation component initialized
[02:52:46] [ENEMY] [Enemy10] Death animation component initialized
[02:52:46] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[02:52:46] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[02:52:46] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[02:52:46] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[02:52:46] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[02:52:46] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[02:52:46] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[02:52:46] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[02:52:46] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[02:52:46] [ENEMY] [Enemy10] Grenade system configured: offensive=2, flashbangs=0
[02:52:46] [INFO] [ScoreManager] Level started with 10 enemies
[02:52:46] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[02:52:46] [ENEMY] [Enemy1] Registered as sound listener
[02:52:46] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 2, behavior: GUARD, player_found: yes
[02:52:46] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[02:52:46] [ENEMY] [Enemy2] Registered as sound listener
[02:52:46] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[02:52:46] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[02:52:46] [ENEMY] [Enemy3] Registered as sound listener
[02:52:46] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 2, behavior: GUARD, player_found: yes
[02:52:46] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[02:52:46] [ENEMY] [Enemy4] Registered as sound listener
[02:52:46] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 3, behavior: GUARD, player_found: yes
[02:52:46] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[02:52:46] [ENEMY] [Enemy5] Registered as sound listener
[02:52:46] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[02:52:46] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[02:52:46] [ENEMY] [Enemy6] Registered as sound listener
[02:52:46] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[02:52:46] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[02:52:46] [ENEMY] [Enemy7] Registered as sound listener
[02:52:46] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[02:52:46] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[02:52:46] [ENEMY] [Enemy8] Registered as sound listener
[02:52:46] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 4, behavior: GUARD, player_found: yes
[02:52:46] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[02:52:46] [ENEMY] [Enemy9] Registered as sound listener
[02:52:46] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 4, behavior: GUARD, player_found: yes
[02:52:46] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[02:52:46] [ENEMY] [Enemy10] Registered as sound listener
[02:52:46] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[02:52:46] [INFO] [Player] Detecting weapon pose (frame 3)...
[02:52:46] [INFO] [Player] Detected weapon: Mini UZI (SMG pose)
[02:52:46] [INFO] [Player] Applied SMG arm pose: Left=(14, 6), Right=(1, 6)
[02:52:46] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[02:52:46] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[02:52:46] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[02:52:46] [INFO] [LastChance] Found player: Player
[02:52:46] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[02:52:46] [INFO] [LastChance] Connected to player Damaged signal (C#)
[02:52:46] [INFO] [LastChance] Connected to player Died signal (C#)
[02:52:47] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:52:47] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:52:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1171.73, 1535.009), source=ENEMY (Enemy10), range=1469, listeners=20
[02:52:47] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[02:52:47] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=8
[02:52:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1139.362, 1516.411), source=ENEMY (Enemy10), range=1469, listeners=10
[02:52:47] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:52:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1107.554, 1496.867), source=ENEMY (Enemy10), range=1469, listeners=10
[02:52:47] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:52:47] [INFO] [LastChance] Threat detected: @Area2D@3401
[02:52:47] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:52:47] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:52:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1076.021, 1476.881), source=ENEMY (Enemy10), range=1469, listeners=10
[02:52:47] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:52:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(542.4057, 1142.124), source=PLAYER (MiniUzi), range=1469, listeners=10
[02:52:47] [ENEMY] [Enemy3] Heard gunshot at (542.4057, 1142.124), source_type=0, intensity=0.01, distance=423
[02:52:47] [ENEMY] [Enemy4] Heard gunshot at (542.4057, 1142.124), source_type=0, intensity=0.02, distance=354
[02:52:47] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=6
[02:52:47] [INFO] [LastChance] Threat detected: @Area2D@3403
[02:52:47] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:52:47] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:52:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(554.073, 1153.792), source=PLAYER (MiniUzi), range=1469, listeners=10
[02:52:47] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=6
[02:52:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1044.423, 1456.998), source=ENEMY (Enemy10), range=1469, listeners=10
[02:52:47] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:52:47] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 3.0
[02:52:47] [INFO] [LastChance] Player health updated (C# Damaged): 3.0
[02:52:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1108.847, 1509.004), shooter_id=2183554665692, bullet_pos=(52.52365, 922.2744)
[02:52:47] [INFO] [Bullet] Using shooter_position, distance=1208.33361816406
[02:52:47] [INFO] [Bullet] Distance to wall: 1208.33361816406 (82.2776579903901% of viewport)
[02:52:47] [INFO] [Bullet] Distance-based penetration chance: 50.6760656778783%
[02:52:47] [INFO] [Bullet] Penetration failed (distance roll)
[02:52:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(565.7403, 1165.459), source=PLAYER (MiniUzi), range=1469, listeners=10
[02:52:47] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=6
[02:52:47] [INFO] [LastChance] Threat detected: @Area2D@3405
[02:52:47] [INFO] [LastChance] Player health is 3.0 - effect requires exactly 1 HP or less but alive
[02:52:47] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:52:47] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 2.0
[02:52:47] [INFO] [LastChance] Player health updated (C# Damaged): 2.0
[02:52:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1012.533, 1437.588), source=ENEMY (Enemy10), range=1469, listeners=10
[02:52:47] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:52:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1077.368, 1488.273), shooter_id=2183554665692, bullet_pos=(41.52785, 866.0972)
[02:52:47] [INFO] [Bullet] Using shooter_position, distance=1208.33288574219
[02:52:47] [INFO] [Bullet] Distance to wall: 1208.33288574219 (82.2776081184378% of viewport)
[02:52:47] [INFO] [Bullet] Distance-based penetration chance: 50.6761238618226%
[02:52:47] [INFO] [Bullet] Starting wall penetration at (41.52785, 866.0972)
[02:52:47] [INFO] [LastChance] Threat detected: @Area2D@3410
[02:52:47] [INFO] [LastChance] Player health is 2.0 - effect requires exactly 1 HP or less but alive
[02:52:47] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:52:47] [INFO] [Bullet] Raycast backward hit penetrating body at distance 35.5521812438965
[02:52:47] [INFO] [Bullet] Body exited signal received for penetrating body
[02:52:47] [INFO] [Bullet] Exiting penetration at (1.522976, 842.0683) after traveling 41.6666679382324 pixels through wall
[02:52:47] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:52:47] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[02:52:47] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[02:52:47] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[02:52:47] [INFO] [LastChance] Threat detected: Bullet
[02:52:47] [INFO] [LastChance] Triggering last chance effect!
[02:52:47] [INFO] [LastChance] Starting last chance effect:
[02:52:47] [INFO] [LastChance]   - Time will be frozen (except player)
[02:52:47] [INFO] [LastChance]   - Duration: 6.0 real seconds
[02:52:47] [INFO] [LastChance]   - Sepia intensity: 0.70
[02:52:47] [INFO] [LastChance]   - Brightness: 0.60
[02:52:47] [INFO] [LastChance] Pushed bullet Bullet from distance 146.9 to 200.0
[02:52:47] [INFO] [LastChance] Pushed 1 threatening bullets away from player
[02:52:47] [INFO] [LastChance] Set player Player and all 17 children to PROCESS_MODE_ALWAYS
[02:52:47] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[02:52:47] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:52:47] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:52:47] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[02:52:47] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:52:47] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:52:47] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:52:47] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:52:47] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:52:47] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:52:47] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:52:47] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:52:47] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:52:47] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:52:47] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:52:47] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:52:47] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:52:47] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[02:52:47] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[02:52:47] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:52:47] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:52:47] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:52:47] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:52:47] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:52:47] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[02:52:47] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[02:52:47] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:52:47] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[02:52:47] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[02:52:47] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:52:47] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:52:47] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[02:52:47] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[02:52:47] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[02:52:47] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[02:52:47] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[02:52:47] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[02:52:47] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[02:52:47] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[02:52:47] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[02:52:47] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[02:52:47] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[02:52:47] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[02:52:47] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[02:52:47] [INFO] [LastChance] Skipping player node: Player
[02:52:47] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[02:52:47] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[02:52:47] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[02:52:50] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[02:52:50] [ENEMY] [Enemy1] Player reloading state changed: false -> true
[02:52:50] [ENEMY] [Enemy2] Player reloading state changed: false -> true
[02:52:50] [ENEMY] [Enemy3] Player reloading state changed: false -> true
[02:52:50] [ENEMY] [Enemy4] Player reloading state changed: false -> true
[02:52:50] [ENEMY] [Enemy5] Player reloading state changed: false -> true
[02:52:50] [ENEMY] [Enemy6] Player reloading state changed: false -> true
[02:52:50] [ENEMY] [Enemy7] Player reloading state changed: false -> true
[02:52:50] [ENEMY] [Enemy8] Player reloading state changed: false -> true
[02:52:50] [ENEMY] [Enemy9] Player reloading state changed: false -> true
[02:52:50] [ENEMY] [Enemy10] Player reloading state changed: false -> true
[02:52:50] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(845.069, 1632.754), source=PLAYER (Player), range=900, listeners=10
[02:52:50] [ENEMY] [Enemy10] Heard player RELOAD at (845.069, 1632.754), intensity=0.04, distance=249
[02:52:50] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=7, self=0, below_threshold=2
[02:52:50] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[02:52:50] [INFO] [Player.Reload.Anim] Phase changed to: PullBolt (duration: 0,35s)
[02:52:50] [ENEMY] [Enemy1] Player reloading state changed: true -> false
[02:52:50] [ENEMY] [Enemy2] Player reloading state changed: true -> false
[02:52:50] [ENEMY] [Enemy3] Player reloading state changed: true -> false
[02:52:50] [ENEMY] [Enemy4] Player reloading state changed: true -> false
[02:52:50] [ENEMY] [Enemy5] Player reloading state changed: true -> false
[02:52:50] [ENEMY] [Enemy6] Player reloading state changed: true -> false
[02:52:50] [ENEMY] [Enemy7] Player reloading state changed: true -> false
[02:52:50] [ENEMY] [Enemy8] Player reloading state changed: true -> false
[02:52:50] [ENEMY] [Enemy9] Player reloading state changed: true -> false
[02:52:50] [ENEMY] [Enemy10] Player reloading state changed: true -> false
[02:52:50] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[02:52:50] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[02:52:52] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@3416
[02:52:52] [INFO] [LastChance] Registered frozen player bullet: @Area2D@3416
[02:52:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(845.069, 1623.198), source=PLAYER (MiniUzi), range=1469, listeners=10
[02:52:52] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=7
[02:52:52] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@3418
[02:52:52] [INFO] [LastChance] Registered frozen player bullet: @Area2D@3418
[02:52:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(845.069, 1623.198), source=PLAYER (MiniUzi), range=1469, listeners=10
[02:52:52] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=7
[02:52:52] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@3420
[02:52:52] [INFO] [LastChance] Registered frozen player bullet: @Area2D@3420
[02:52:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(845.069, 1623.198), source=PLAYER (MiniUzi), range=1469, listeners=10
[02:52:52] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=7
[02:52:52] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@3422
[02:52:52] [INFO] [LastChance] Registered frozen player bullet: @Area2D@3422
[02:52:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(845.069, 1623.198), source=PLAYER (MiniUzi), range=1469, listeners=10
[02:52:52] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=7
[02:52:53] [INFO] [LastChance] Effect duration expired after 6.00 real seconds
[02:52:53] [INFO] [LastChance] Ending last chance effect
[02:52:53] [INFO] [LastChance] All process modes restored
[02:52:53] [INFO] [LastChance] Unfroze player bullet: @Area2D@3416
[02:52:53] [INFO] [LastChance] Unfroze player bullet: @Area2D@3418
[02:52:53] [INFO] [LastChance] Unfroze player bullet: @Area2D@3420
[02:52:53] [INFO] [LastChance] Unfroze player bullet: @Area2D@3422
[02:52:53] [INFO] [LastChance] Restored original colors to 5 player sprites
[02:52:53] [INFO] [LastChance] Called player RefreshHealthVisual (C#)
[02:52:53] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[02:52:53] [ENEMY] [Enemy10] Pursuing vulnerability sound at (845.069, 1632.754), distance=247
[02:52:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(742.707, 961.3777), source=ENEMY (Enemy4), range=1469, listeners=10
[02:52:53] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=7
[02:52:53] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(542.4057, 1142.124), shooter_id=2184376748847, bullet_pos=(900.1675, 1398.261)
[02:52:53] [INFO] [Bullet] Using shooter_position, distance=439.999481201172
[02:52:53] [INFO] [Bullet] Distance to wall: 439.999481201172 (29.9603737626902% of viewport)
[02:52:53] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:52:53] [INFO] [Bullet] Caliber cannot penetrate walls
[02:52:53] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(554.073, 1153.792), shooter_id=2184376748847, bullet_pos=(889.0374, 1407.168)
[02:52:53] [INFO] [Bullet] Using shooter_position, distance=420.0009765625
[02:52:53] [INFO] [Bullet] Distance to wall: 420.0009765625 (28.5986388078356% of viewport)
[02:52:53] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:52:53] [INFO] [Bullet] Caliber cannot penetrate walls
[02:52:54] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(565.7403, 1165.459), shooter_id=2184376748847, bullet_pos=(898.5001, 1421.722)
[02:52:54] [INFO] [Bullet] Using shooter_position, distance=419.999786376953
[02:52:54] [INFO] [Bullet] Distance to wall: 419.999786376953 (28.5985577659132% of viewport)
[02:52:54] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:52:54] [INFO] [Bullet] Caliber cannot penetrate walls
[02:52:54] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(734.9523, 1028.983), shooter_id=2181843387895, bullet_pos=(649.7957, 1394.186)
[02:52:54] [INFO] [Bullet] Using shooter_position, distance=374.999969482422
[02:52:54] [INFO] [Bullet] Distance to wall: 374.999969482422 (25.5344374861978% of viewport)
[02:52:54] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:52:54] [INFO] [Bullet] Starting wall penetration at (649.7957, 1394.186)
[02:52:54] [INFO] [Bullet] Raycast backward hit penetrating body at distance 28.3748340606689
[02:52:54] [INFO] [Bullet] Body exited signal received for penetrating body
[02:52:54] [INFO] [Bullet] Exiting penetration at (639.1984, 1439.634) after traveling 41.6666717529297 pixels through wall
[02:52:54] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:52:54] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[02:52:54] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[02:52:54] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(950.4676, 1409.737), shooter_id=2183554665692, bullet_pos=(65.39246, 882.4398)
[02:52:54] [INFO] [Bullet] Using shooter_position, distance=1030.24267578125
[02:52:54] [INFO] [Bullet] Distance to wall: 1030.24267578125 (70.1511182431778% of viewport)
[02:52:54] [INFO] [Bullet] Distance-based penetration chance: 64.8236953829592%
[02:52:54] [INFO] [Bullet] Starting wall penetration at (65.39246, 882.4398)
[02:52:54] [INFO] [Bullet] Raycast backward hit penetrating body at distance 7.81084156036377
[02:52:54] [INFO] [Bullet] Body exited signal received for penetrating body
[02:52:54] [INFO] [Bullet] Exiting penetration at (25.2874, 858.5784) after traveling 41.6666679382324 pixels through wall
[02:52:54] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:52:54] [ENEMY] [Enemy10] State: PURSUING -> COMBAT
[02:52:54] [ENEMY] [Enemy10] State: COMBAT -> RETREATING
[02:52:54] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(845.069, 1623.198), shooter_id=2184376748847, bullet_pos=(925.7042, 1008.466)
[02:52:54] [INFO] [Bullet] Using shooter_position, distance=619.998413085938
[02:52:54] [INFO] [Bullet] Distance to wall: 619.998413085938 (42.2168320235738% of viewport)
[02:52:54] [INFO] [Bullet] Distance-based penetration chance: 97.4136959724973%
[02:52:54] [INFO] [Bullet] Caliber cannot penetrate walls
[02:52:54] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(845.069, 1623.198), shooter_id=2184376748847, bullet_pos=(934.4459, 989.4713)
[02:52:54] [INFO] [Bullet] Using shooter_position, distance=639.998229980469
[02:52:54] [INFO] [Bullet] Distance to wall: 639.998229980469 (43.5786563323428% of viewport)
[02:52:54] [INFO] [Bullet] Distance-based penetration chance: 95.8249009456001%
[02:52:54] [INFO] [Bullet] Caliber cannot penetrate walls
[02:52:54] [ENEMY] [Enemy10] State: RETREATING -> IN_COVER
[02:52:54] [ENEMY] [Enemy10] State: IN_COVER -> SUPPRESSED
[02:52:54] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(845.069, 1623.198), shooter_id=2184376748847, bullet_pos=(990.877, 714.8271)
[02:52:54] [INFO] [Bullet] Using shooter_position, distance=919.998718261719
[02:52:54] [INFO] [Bullet] Distance to wall: 919.998718261719 (62.6444044549105% of viewport)
[02:52:54] [INFO] [Bullet] Distance-based penetration chance: 73.5815281359378%
[02:52:54] [INFO] [Bullet] Caliber cannot penetrate walls
[02:52:54] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(845.069, 1623.198), shooter_id=2184376748847, bullet_pos=(988.4736, 714.4443)
[02:52:54] [INFO] [Bullet] Using shooter_position, distance=919.998962402344
[02:52:54] [INFO] [Bullet] Distance to wall: 919.998962402344 (62.6444210788946% of viewport)
[02:52:54] [INFO] [Bullet] Distance-based penetration chance: 73.5815087412897%
[02:52:54] [INFO] [Bullet] Penetration failed (distance roll)
[02:52:54] [ENEMY] [Enemy10] State: SUPPRESSED -> SEEKING_COVER
[02:52:54] [ENEMY] [Enemy10] State: SEEKING_COVER -> IN_COVER
[02:52:54] [ENEMY] [Enemy10] State: IN_COVER -> SUPPRESSED
[02:52:55] [ENEMY] [Enemy4] FLANKING started: target=(980.8173, 1568.844), side=right, pos=(692.1777, 975.9333)
[02:52:55] [ENEMY] [Enemy4] State: PURSUING -> FLANKING
[02:52:56] [ENEMY] [Enemy10] State: SUPPRESSED -> IN_COVER
[02:52:56] [ENEMY] [Enemy10] State: IN_COVER -> PURSUING
[02:52:57] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[02:52:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(468.8932, 973.3112), source=ENEMY (Enemy4), range=1469, listeners=10
[02:52:57] [ENEMY] [Enemy2] Heard gunshot at (468.8932, 973.3112), source_type=1, intensity=0.01, distance=429
[02:52:57] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=4
[02:52:57] [ENEMY] [Enemy4] State: FLANKING -> COMBAT
[02:52:57] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[02:52:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(475.9319, 1007.059), source=ENEMY (Enemy4), range=1469, listeners=10
[02:52:57] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=4
[02:52:57] [INFO] [LastChance] Threat detected: Bullet
[02:52:57] [INFO] [LastChance] Effect already used this life
[02:52:57] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:52:57] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[02:52:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(487.4167, 1034.589), source=ENEMY (Enemy4), range=1469, listeners=10
[02:52:57] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=4
[02:52:57] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[02:52:57] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[02:52:57] [INFO] [PenultimateHit] Player died - ending penultimate effect
[02:52:57] [INFO] [LastChance] Player died
[02:52:57] [INFO] [LastChance] Threat detected: @Area2D@3435
[02:52:57] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:52:57] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:52:57] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[02:52:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(511.4145, 1063.188), source=ENEMY (Enemy4), range=1469, listeners=10
[02:52:57] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=5
[02:52:57] [INFO] [LastChance] Threat detected: @Area2D@3437
[02:52:57] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:52:57] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:52:57] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[02:52:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(535.4124, 1091.787), source=ENEMY (Enemy4), range=1469, listeners=10
[02:52:57] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=1, below_threshold=4
[02:52:57] [INFO] [LastChance] Threat detected: Bullet
[02:52:57] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:52:57] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:52:57] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[02:52:57] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[02:52:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(559.4104, 1120.386), source=ENEMY (Enemy4), range=1469, listeners=10
[02:52:57] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=1, below_threshold=4
[02:52:57] [INFO] [LastChance] Threat detected: @Area2D@3440
[02:52:57] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:52:57] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:52:57] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[02:52:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(583.4084, 1148.985), source=ENEMY (Enemy4), range=1469, listeners=10
[02:52:57] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=5
[02:52:57] [INFO] [LastChance] Threat detected: Bullet
[02:52:57] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:52:57] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:52:58] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[02:52:58] [INFO] [LastChance] Resetting all effects (scene change detected)
[02:52:58] [ENEMY] [Enemy1] Death animation component initialized
[02:52:58] [ENEMY] [Enemy2] Death animation component initialized
[02:52:58] [ENEMY] [Enemy3] Death animation component initialized
[02:52:58] [ENEMY] [Enemy4] Death animation component initialized
[02:52:58] [ENEMY] [Enemy5] Death animation component initialized
[02:52:58] [ENEMY] [Enemy6] Death animation component initialized
[02:52:58] [ENEMY] [Enemy7] Death animation component initialized
[02:52:58] [ENEMY] [Enemy8] Death animation component initialized
[02:52:58] [ENEMY] [Enemy9] Death animation component initialized
[02:52:58] [ENEMY] [Enemy10] Death animation component initialized
[02:52:58] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[02:52:58] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[02:52:58] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[02:52:58] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[02:52:58] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[02:52:58] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[02:52:58] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[02:52:58] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[02:52:58] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[02:52:58] [ENEMY] [Enemy10] Grenade system configured: offensive=2, flashbangs=0
[02:52:58] [INFO] [ScoreManager] Level started with 10 enemies
[02:52:58] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[02:52:58] [ENEMY] [Enemy1] Registered as sound listener
[02:52:58] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 3, behavior: GUARD, player_found: yes
[02:52:58] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[02:52:58] [ENEMY] [Enemy2] Registered as sound listener
[02:52:58] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 3, behavior: GUARD, player_found: yes
[02:52:58] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[02:52:58] [ENEMY] [Enemy3] Registered as sound listener
[02:52:58] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 4, behavior: GUARD, player_found: yes
[02:52:58] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[02:52:58] [ENEMY] [Enemy4] Registered as sound listener
[02:52:58] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[02:52:58] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[02:52:58] [ENEMY] [Enemy5] Registered as sound listener
[02:52:58] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 2, behavior: GUARD, player_found: yes
[02:52:58] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[02:52:58] [ENEMY] [Enemy6] Registered as sound listener
[02:52:58] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[02:52:58] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[02:52:58] [ENEMY] [Enemy7] Registered as sound listener
[02:52:58] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 2, behavior: PATROL, player_found: yes
[02:52:58] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[02:52:58] [ENEMY] [Enemy8] Registered as sound listener
[02:52:58] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[02:52:58] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[02:52:58] [ENEMY] [Enemy9] Registered as sound listener
[02:52:58] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[02:52:58] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[02:52:58] [ENEMY] [Enemy10] Registered as sound listener
[02:52:58] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 2, behavior: PATROL, player_found: yes
[02:52:58] [INFO] [Player] Detecting weapon pose (frame 3)...
[02:52:58] [INFO] [Player] Detected weapon: Mini UZI (SMG pose)
[02:52:58] [INFO] [Player] Applied SMG arm pose: Left=(14, 6), Right=(1, 6)
[02:52:58] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[02:52:58] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[02:52:58] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[02:52:58] [INFO] [LastChance] Found player: Player
[02:52:58] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[02:52:58] [INFO] [LastChance] Connected to player Damaged signal (C#)
[02:52:58] [INFO] [LastChance] Connected to player Died signal (C#)
[02:52:59] [ENEMY] [Enemy10] State: IDLE -> COMBAT
[02:52:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(765.5122, 1280.854), source=PLAYER (MiniUzi), range=1469, listeners=20
[02:52:59] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[02:52:59] [ENEMY] [Enemy4] Heard gunshot at (765.5122, 1280.854), source_type=0, intensity=0.02, distance=382
[02:52:59] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=8
[02:52:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(778.3276, 1271.958), source=PLAYER (MiniUzi), range=1469, listeners=10
[02:52:59] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=8
[02:52:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1144.545, 1518.14), source=ENEMY (Enemy10), range=1469, listeners=10
[02:52:59] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:52:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(792.291, 1265.834), source=PLAYER (MiniUzi), range=1469, listeners=10
[02:52:59] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=8
[02:52:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(807.4024, 1262.482), source=PLAYER (MiniUzi), range=1469, listeners=10
[02:52:59] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=8
[02:52:59] [INFO] [LastChance] Threat detected: Bullet
[02:52:59] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:52:59] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:52:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1114.21, 1496.392), source=ENEMY (Enemy10), range=1469, listeners=10
[02:52:59] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:52:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(798.0102, 962.0087), source=ENEMY (Enemy4), range=1469, listeners=10
[02:52:59] [ENEMY] [Enemy3] Heard gunshot at (798.0102, 962.0087), source_type=1, intensity=0.05, distance=234
[02:52:59] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=8
[02:52:59] [INFO] [LastChance] Threat detected: @Area2D@3705
[02:52:59] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:52:59] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:52:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(792.291, 1265.834), shooter_id=2526145416009, bullet_pos=(992.2583, 1398.549)
[02:52:59] [INFO] [Bullet] Using shooter_position, distance=240.000305175781
[02:52:59] [INFO] [Bullet] Distance to wall: 240.000305175781 (16.3420621010654% of viewport)
[02:52:59] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:52:59] [INFO] [Bullet] Caliber cannot penetrate walls
[02:52:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(807.4024, 1262.482), shooter_id=2526145416009, bullet_pos=(986.9735, 1389.58)
[02:52:59] [INFO] [Bullet] Using shooter_position, distance=219.999786376953
[02:52:59] [INFO] [Bullet] Distance to wall: 219.999786376953 (14.9801899983421% of viewport)
[02:52:59] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:52:59] [INFO] [Bullet] Caliber cannot penetrate walls
[02:52:59] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[02:52:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(784.0266, 1028.605), shooter_id=2523612056366, bullet_pos=(665.4072, 1384.35)
[02:52:59] [INFO] [Bullet] Using shooter_position, distance=375.000091552734
[02:52:59] [INFO] [Bullet] Distance to wall: 375.000091552734 (25.5344457981898% of viewport)
[02:52:59] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:52:59] [INFO] [Bullet] Starting wall penetration at (665.4072, 1384.35)
[02:52:59] [INFO] [Bullet] Raycast backward hit penetrating body at distance 17.5200881958008
[02:52:59] [INFO] [Bullet] Body exited signal received for penetrating body
[02:52:59] [INFO] [Bullet] Exiting penetration at (650.6456, 1428.62) after traveling 41.6666679382324 pixels through wall
[02:52:59] [INFO] [Bullet] Damage multiplier after penetration: 0.9
[02:52:59] [ENEMY] [Enemy10] State: PURSUING -> RETREATING
[02:52:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(765.5122, 1280.854), shooter_id=2526145416009, bullet_pos=(1230.443, 1627.607)
[02:52:59] [INFO] [Bullet] Using shooter_position, distance=579.999267578125
[02:52:59] [INFO] [Bullet] Distance to wall: 579.999267578125 (39.4932166540039% of viewport)
[02:52:59] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:52:59] [INFO] [Bullet] Caliber cannot penetrate walls
[02:53:00] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[02:53:00] [ENEMY] [Enemy10] State: RETREATING -> IN_COVER
[02:53:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(778.3276, 1271.958), shooter_id=2526145416009, bullet_pos=(1236.826, 1627.176)
[02:53:00] [INFO] [Bullet] Using shooter_position, distance=580.000854492188
[02:53:00] [INFO] [Bullet] Distance to wall: 580.000854492188 (39.4933247099005% of viewport)
[02:53:00] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:53:00] [INFO] [Bullet] Caliber cannot penetrate walls
[02:53:00] [ENEMY] [Enemy10] State: IN_COVER -> SUPPRESSED
[02:53:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1084.024, 1486.854), shooter_id=2525323332779, bullet_pos=(46.6321, 789.4887)
[02:53:00] [INFO] [Bullet] Using shooter_position, distance=1249.99975585938
[02:53:00] [INFO] [Bullet] Distance to wall: 1249.99975585938 (85.1147819233352% of viewport)
[02:53:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1084.024, 1486.854), shooter_id=2525323332779, bullet_pos=(172.3923, 714.0204)
[02:53:00] [INFO] [Bullet] Using shooter_position, distance=1195.13305664063
[02:53:00] [INFO] [Bullet] Distance to wall: 1195.13305664063 (81.378807482567% of viewport)
[02:53:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1055.995, 1461.013), shooter_id=2525323332779, bullet_pos=(36.25177, 668.2167)
[02:53:00] [INFO] [Bullet] Using shooter_position, distance=1291.66674804688
[02:53:00] [INFO] [Bullet] Distance to wall: 1291.66674804688 (87.9519640402246% of viewport)
[02:53:00] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[02:53:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1084.024, 1486.854), shooter_id=2525323332779, bullet_pos=(503.0239, 871.5699)
[02:53:00] [INFO] [Bullet] Using shooter_position, distance=846.247619628906
[02:53:00] [INFO] [Bullet] Distance to wall: 846.247619628906 (57.6225565326902% of viewport)
[02:53:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1055.995, 1461.013), shooter_id=2525323332779, bullet_pos=(502.4349, 403.1934)
[02:53:00] [INFO] [Bullet] Using shooter_position, distance=1193.90588378906
[02:53:00] [INFO] [Bullet] Distance to wall: 1193.90588378906 (81.2952470265322% of viewport)
[02:53:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1055.995, 1461.013), shooter_id=2525323332779, bullet_pos=(293.3039, 273.9717)
[02:53:00] [INFO] [Bullet] Using shooter_position, distance=1410.94470214844
[02:53:00] [INFO] [Bullet] Distance to wall: 1410.94470214844 (96.0738192678173% of viewport)
[02:53:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1055.995, 1461.013), shooter_id=2525323332779, bullet_pos=(65.90866, 401.8492)
[02:53:00] [INFO] [Bullet] Using shooter_position, distance=1449.86193847656
[02:53:00] [INFO] [Bullet] Distance to wall: 1449.86193847656 (98.7237654518867% of viewport)
[02:53:00] [INFO] [Bullet] Distance-based penetration chance: 31.4889403061322%
[02:53:00] [INFO] [Bullet] Starting wall penetration at (65.90866, 401.8492)
[02:53:00] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[02:53:00] [INFO] [Bullet] Exiting penetration at (39.2468, 416.8427) after traveling 25.5885467529297 pixels through wall
[02:53:00] [INFO] [Bullet] Damage multiplier after penetration: 0.1125
[02:53:01] [ENEMY] [Enemy10] Grenade trigger: suppressed and player visible (being chased)
[02:53:01] [ENEMY] [Enemy10] Preparing to throw frag grenade at (962.8579, 1371.319)
[02:53:01] [ENEMY] [Enemy10] State: SUPPRESSED -> THROWING_GRENADE
[02:53:01] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:53:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1062.681, 1440.515), source=ENEMY (Enemy10), range=1469, listeners=10
[02:53:01] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:53:01] [INFO] [LastChance] Threat detected: Bullet
[02:53:01] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:53:01] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:53:01] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 1.0
[02:53:01] [INFO] [PenultimateHit] Hard mode active - skipping regular penultimate hit effect (using last chance instead)
[02:53:01] [INFO] [LastChance] Player health updated (C# Damaged): 1.0
[02:53:01] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[02:53:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1062.681, 1440.515), source=ENEMY (Enemy10), range=1469, listeners=10
[02:53:01] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=9
[02:53:01] [INFO] [LastChance] Threat detected: Bullet
[02:53:01] [INFO] [LastChance] Triggering last chance effect!
[02:53:01] [INFO] [LastChance] Starting last chance effect:
[02:53:01] [INFO] [LastChance]   - Time will be frozen (except player)
[02:53:01] [INFO] [LastChance]   - Duration: 6.0 real seconds
[02:53:01] [INFO] [LastChance]   - Sepia intensity: 0.70
[02:53:01] [INFO] [LastChance]   - Brightness: 0.60
[02:53:01] [INFO] [LastChance] Pushed bullet Bullet from distance 47.3 to 200.0
[02:53:01] [INFO] [LastChance] Pushed 1 threatening bullets away from player
[02:53:01] [INFO] [LastChance] Set player Player and all 17 children to PROCESS_MODE_ALWAYS
[02:53:01] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[02:53:01] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:53:01] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:53:01] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[02:53:01] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:53:01] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:53:01] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:53:01] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:53:01] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:53:01] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:53:01] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:53:01] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:53:01] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[02:53:01] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:53:01] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:53:01] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:53:01] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:53:01] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[02:53:01] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[02:53:01] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:53:01] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:53:01] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[02:53:01] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[02:53:01] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[02:53:01] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[02:53:01] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[02:53:01] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:53:01] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[02:53:01] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[02:53:01] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:53:01] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[02:53:01] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[02:53:01] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[02:53:01] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[02:53:01] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[02:53:01] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[02:53:01] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[02:53:01] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[02:53:01] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[02:53:01] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[02:53:01] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[02:53:01] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[02:53:01] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[02:53:01] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[02:53:01] [INFO] [LastChance] Skipping player node: Player
[02:53:01] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[02:53:01] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[02:53:01] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[02:53:07] [INFO] [LastChance] Effect duration expired after 6.02 real seconds
[02:53:07] [INFO] [LastChance] Ending last chance effect
[02:53:07] [INFO] [LastChance] All process modes restored
[02:53:07] [INFO] [LastChance] Restored original colors to 5 player sprites
[02:53:07] [INFO] [LastChance] Called player RefreshHealthVisual (C#)
[02:53:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(999.5844, 1465.997), shooter_id=2525323332779, bullet_pos=(907.7353, 1499.682)
[02:53:07] [INFO] [Bullet] Using shooter_position, distance=97.8311996459961
[02:53:07] [INFO] [Bullet] Distance to wall: 97.8311996459961 (6.66150627960922% of viewport)
[02:53:07] [INFO] [Bullet] Within ricochet range - trying ricochet first
[02:53:07] [ENEMY] [Enemy4] FLANKING started: target=(961.1602, 1693.674), side=left, pos=(731.4557, 975.9333)
[02:53:07] [ENEMY] [Enemy4] State: PURSUING -> FLANKING
[02:53:07] [ENEMY] [Enemy10] Threw frag grenade: target=(962.8579, 1371.319), deviation=4.6°, distance=121
[02:53:07] [INFO] [GrenadeBase] CCD enabled (mode: CAST_RAY) to prevent wall tunneling
[02:53:07] [INFO] [GrenadeBase] Grenade created at (1039.484, 1421.492) (frozen)
[02:53:07] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[02:53:07] [INFO] [GrenadeBase] LEGACY throw_grenade() called! Direction: (-0.77326, -0.634089), Speed: 121.5 (unfrozen)
[02:53:07] [INFO] [GrenadeBase] NOTE: Using DRAG-BASED system. If velocity-based is expected, ensure grenade has throw_grenade_velocity_based() method.
[02:53:07] [INFO] [FragGrenade] Grenade thrown (legacy) - impact detection enabled
[02:53:07] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[02:53:07] [ENEMY] [Enemy10] State: THROWING_GRENADE -> SEEKING_COVER
[02:53:07] [INFO] [GrenadeBase] Collision detected with Enemy10 (type: CharacterBody2D)
[02:53:07] [ENEMY] [Enemy10] State: SEEKING_COVER -> IN_COVER
[02:53:07] [ENEMY] [Enemy10] State: IN_COVER -> SUPPRESSED
[02:53:07] [INFO] [GrenadeBase] Grenade landed at (1025.411, 1409.952)
[02:53:07] [INFO] [FragGrenade] Impact detected - exploding immediately!
[02:53:07] [INFO] [GrenadeBase] EXPLODED at (1025.411, 1409.952)!
[02:53:07] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1025.411, 1409.952), source=NEUTRAL (FragGrenade), range=2937, listeners=10
[02:53:07] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=9
[02:53:07] [ENEMY] [Enemy10] Hit taken, health: 1/2
[02:53:07] [ENEMY] [Enemy10] Hit taken, health: 0/2
[02:53:07] [ENEMY] [Enemy10] Enemy died (ricochet: false, penetration: false)
[02:53:07] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[02:53:07] [INFO] [SoundPropagation] Unregistered listener: Enemy10 (remaining: 9)
[02:53:07] [INFO] [DeathAnim] Started - Angle: 39.4 deg, Index: 14
[02:53:07] [ENEMY] [Enemy10] Death animation started with hit direction: (0.773258, 0.634092)
[02:53:07] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 48.2
[02:53:07] [INFO] [FragGrenade] Spawned shrapnel #1 at angle -5.0 degrees
[02:53:07] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 87.3 degrees
[02:53:07] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 175.0 degrees
[02:53:07] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 254.7 degrees
[02:53:07] [INFO] [GrenadeBase] Collision detected with MainHall_WallTop (type: StaticBody2D)
[02:53:08] [ENEMY] [Enemy10] Ragdoll activated
[02:53:08] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[02:53:09] [ENEMY] [Enemy10] Death animation completed
[02:53:10] [INFO] [ScoreManager] Combo ended at 1. Max combo: 1
[02:53:10] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[02:53:11] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[02:53:11] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[02:53:11] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[02:53:11] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[02:53:11] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[02:53:11] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[02:53:11] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[02:53:11] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[02:53:11] [ENEMY] [Enemy4] State: FLANKING -> COMBAT
[02:53:12] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[02:53:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(972.7715, 1545.159), source=ENEMY (Enemy4), range=1469, listeners=9
[02:53:12] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=8
[02:53:12] [ENEMY] [Enemy3] FLANKING started: target=(1283.159, 1531.609), side=right, pos=(866.7961, 975.933)
[02:53:12] [ENEMY] [Enemy3] State: PURSUING -> FLANKING
[02:53:12] [INFO] [LastChance] Threat detected: Bullet
[02:53:12] [INFO] [LastChance] Effect already used this life
[02:53:12] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:53:12] [INFO] [PenultimateHit] Player damaged: 1.0 damage, current health: 0.0
[02:53:12] [INFO] [LastChance] Player health updated (C# Damaged): 0.0
[02:53:12] [INFO] [PenultimateHit] Player died - ending penultimate effect
[02:53:12] [INFO] [LastChance] Player died
[02:53:12] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[02:53:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(972.7715, 1545.159), source=ENEMY (Enemy4), range=1469, listeners=9
[02:53:12] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=8
[02:53:12] [INFO] [LastChance] Threat detected: Bullet
[02:53:12] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:53:12] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:53:12] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[02:53:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(972.7715, 1545.159), source=ENEMY (Enemy4), range=1469, listeners=9
[02:53:12] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=8
[02:53:12] [INFO] [LastChance] Threat detected: Bullet
[02:53:12] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:53:12] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:53:12] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[02:53:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(972.7715, 1545.159), source=ENEMY (Enemy4), range=1469, listeners=9
[02:53:12] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=8
[02:53:12] [INFO] [LastChance] Threat detected: Bullet
[02:53:12] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:53:12] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:53:12] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[02:53:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(972.7715, 1545.159), source=ENEMY (Enemy4), range=1469, listeners=9
[02:53:12] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=8
[02:53:12] [INFO] [LastChance] Threat detected: Bullet
[02:53:12] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[02:53:12] [INFO] [LastChance] Cannot trigger effect - conditions not met
[02:53:12] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[02:53:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(972.7715, 1545.159), source=ENEMY (Enemy4), range=1469, listeners=9
[02:53:12] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=8
[02:53:12] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[02:53:12] [INFO] [LastChance] Resetting all effects (scene change detected)
[02:53:12] [ENEMY] [Enemy1] Death animation component initialized
[02:53:12] [ENEMY] [Enemy2] Death animation component initialized
[02:53:12] [ENEMY] [Enemy3] Death animation component initialized
[02:53:12] [ENEMY] [Enemy4] Death animation component initialized
[02:53:12] [ENEMY] [Enemy5] Death animation component initialized
[02:53:12] [ENEMY] [Enemy6] Death animation component initialized
[02:53:12] [ENEMY] [Enemy7] Death animation component initialized
[02:53:12] [ENEMY] [Enemy8] Death animation component initialized
[02:53:12] [ENEMY] [Enemy9] Death animation component initialized
[02:53:12] [ENEMY] [Enemy10] Death animation component initialized
[02:53:12] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[02:53:12] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[02:53:12] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[02:53:12] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[02:53:12] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[02:53:12] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[02:53:12] [INFO] [Player.Debug] Connected to GameManager, debug mode: True
[02:53:12] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[02:53:12] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[02:53:12] [ENEMY] [Enemy10] Grenade system configured: offensive=2, flashbangs=0
[02:53:12] [INFO] [ScoreManager] Level started with 10 enemies
[02:53:12] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[02:53:12] [ENEMY] [Enemy1] Registered as sound listener
[02:53:12] [ENEMY] [Enemy1] Enemy spawned at (300, 350), health: 4, behavior: GUARD, player_found: yes
[02:53:12] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[02:53:12] [ENEMY] [Enemy2] Registered as sound listener
[02:53:12] [ENEMY] [Enemy2] Enemy spawned at (400, 550), health: 4, behavior: GUARD, player_found: yes
[02:53:12] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[02:53:12] [ENEMY] [Enemy3] Registered as sound listener
[02:53:12] [ENEMY] [Enemy3] Enemy spawned at (700, 750), health: 3, behavior: GUARD, player_found: yes
[02:53:12] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[02:53:12] [ENEMY] [Enemy4] Registered as sound listener
[02:53:12] [ENEMY] [Enemy4] Enemy spawned at (800, 900), health: 2, behavior: GUARD, player_found: yes
[02:53:12] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[02:53:12] [ENEMY] [Enemy5] Registered as sound listener
[02:53:12] [ENEMY] [Enemy5] Enemy spawned at (1700, 350), health: 4, behavior: GUARD, player_found: yes
[02:53:12] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[02:53:12] [ENEMY] [Enemy6] Registered as sound listener
[02:53:12] [ENEMY] [Enemy6] Enemy spawned at (1950, 450), health: 4, behavior: GUARD, player_found: yes
[02:53:12] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[02:53:12] [ENEMY] [Enemy7] Registered as sound listener
[02:53:12] [ENEMY] [Enemy7] Enemy spawned at (1600, 900), health: 3, behavior: PATROL, player_found: yes
[02:53:12] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[02:53:12] [ENEMY] [Enemy8] Registered as sound listener
[02:53:12] [ENEMY] [Enemy8] Enemy spawned at (1900, 1450), health: 2, behavior: GUARD, player_found: yes
[02:53:12] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[02:53:12] [ENEMY] [Enemy9] Registered as sound listener
[02:53:12] [ENEMY] [Enemy9] Enemy spawned at (2100, 1550), health: 3, behavior: GUARD, player_found: yes
[02:53:12] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[02:53:12] [ENEMY] [Enemy10] Registered as sound listener
[02:53:12] [ENEMY] [Enemy10] Enemy spawned at (1200, 1550), health: 4, behavior: PATROL, player_found: yes
[02:53:12] [INFO] [Player] Detecting weapon pose (frame 3)...
[02:53:12] [INFO] [Player] Detected weapon: Mini UZI (SMG pose)
[02:53:12] [INFO] [Player] Applied SMG arm pose: Left=(14, 6), Right=(1, 6)
[02:53:12] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[02:53:12] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[02:53:12] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[02:53:12] [INFO] [LastChance] Found player: Player
[02:53:12] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[02:53:12] [INFO] [LastChance] Connected to player Damaged signal (C#)
[02:53:12] [INFO] [LastChance] Connected to player Died signal (C#)
[02:53:14] [INFO] ------------------------------------------------------------
[02:53:14] [INFO] GAME LOG ENDED: 2026-01-24T02:53:14
[02:53:14] [INFO] ============================================================
