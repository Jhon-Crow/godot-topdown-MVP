[22:31:20] [INFO] ============================================================
[22:31:20] [INFO] GAME LOG STARTED
[22:31:20] [INFO] ============================================================
[22:31:20] [INFO] Timestamp: 2026-02-07T22:31:20
[22:31:20] [INFO] Log file: I:/Загрузки/godot exe/ai стены/game_log_20260207_223120.txt
[22:31:20] [INFO] Executable: I:/Загрузки/godot exe/ai стены/Godot-Top-Down-Template.exe
[22:31:20] [INFO] OS: Windows
[22:31:20] [INFO] Debug build: false
[22:31:20] [INFO] Engine version: 4.3-stable (official)
[22:31:20] [INFO] Project: Godot Top-Down Template
[22:31:20] [INFO] ------------------------------------------------------------
[22:31:20] [INFO] [GameManager] GameManager ready
[22:31:20] [INFO] [ScoreManager] ScoreManager ready
[22:31:20] [INFO] [SoundPropagation] SoundPropagation autoload initialized
[22:31:20] [INFO] [ImpactEffects] Scenes loaded: DustEffect, BloodEffect, SparksEffect, BloodDecal
[22:31:20] [INFO] [ImpactEffects] ImpactEffectsManager ready - FULL VERSION with blood effects enabled
[22:31:20] [INFO] [ImpactEffects] Starting particle shader warmup (Issue #343 fix)...
[22:31:20] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[22:31:20] [INFO] [PenultimateHit] Saturation shader loaded successfully
[22:31:20] [INFO] [PenultimateHit] Starting shader warmup (Issue #343 fix)...
[22:31:20] [INFO] [PenultimateHit] PenultimateHitEffectsManager ready - Configuration:
[22:31:20] [INFO] [PenultimateHit]   Time scale: 0.10 (10x slowdown)
[22:31:20] [INFO] [PenultimateHit]   Saturation boost: 2.0 (3.0x)
[22:31:20] [INFO] [PenultimateHit]   Contrast boost: 1.0 (2.0x)
[22:31:20] [INFO] [PenultimateHit]   Effect duration: 3.0 real seconds
[22:31:20] [INFO] [LastChance] Resetting all effects (scene change detected)
[22:31:20] [INFO] [LastChance] Last chance shader loaded successfully
[22:31:20] [INFO] [LastChance] Starting shader warmup (Issue #343 fix)...
[22:31:20] [INFO] [LastChance] LastChanceEffectsManager ready - Configuration:
[22:31:20] [INFO] [LastChance]   Freeze duration: 6.0 real seconds
[22:31:20] [INFO] [LastChance]   Sepia intensity: 0.70
[22:31:20] [INFO] [LastChance]   Brightness: 0.60
[22:31:20] [INFO] [GrenadeManager] Loaded grenade scene: res://scenes/projectiles/FlashbangGrenade.tscn
[22:31:20] [INFO] [GrenadeManager] Loaded grenade scene: res://scenes/projectiles/FragGrenade.tscn
[22:31:20] [INFO] [GrenadeManager] Loaded grenade scene: res://scenes/projectiles/DefensiveGrenade.tscn
[22:31:20] [INFO] [ExperimentalSettings] ExperimentalSettings initialized - FOV: true, Complex grenades: false, AI prediction: true, Debug: true, Invincibility: true, Realistic visibility: false
[22:31:20] [INFO] [CinemaEffects] CinemaEffectsManager initializing (v5.3 - overlay approach with simplified death circle)...
[22:31:20] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[22:31:20] [INFO] [CinemaEffects] Created effects layer at layer 99
[22:31:20] [INFO] [CinemaEffects] Cinema shader loaded successfully (v5.0 - no screen_texture)
[22:31:20] [INFO] [CinemaEffects] Starting cinema shader warmup (Issue #343 fix)...
[22:31:20] [INFO] [CinemaEffects] Cinema film effect initialized (v5.3) - Configuration:
[22:31:20] [INFO] [CinemaEffects]   Approach: Overlay-based (no screen_texture)
[22:31:20] [INFO] [CinemaEffects]   Grain intensity: 0.15
[22:31:20] [INFO] [CinemaEffects]   Warm tint: 0.12 intensity
[22:31:20] [INFO] [CinemaEffects]   Sunny effect: 0.08 intensity
[22:31:20] [INFO] [CinemaEffects]   Vignette: 0.25 intensity
[22:31:20] [INFO] [CinemaEffects]   Film defects: 1.5% probability
[22:31:20] [INFO] [CinemaEffects]   White specks: 0.70 intensity, 4.0% probability
[22:31:20] [INFO] [CinemaEffects]   Death effects: cigarette burn + expanding spots + end of reel circle (160px, blinks 2x)
[22:31:20] [INFO] [CinemaEffects] Enabling effect after 1 frame(s)...
[22:31:20] [INFO] [GrenadeTimerHelper] Autoload ready
[22:31:20] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[22:31:20] [INFO] [PowerFantasy] Saturation shader loaded successfully
[22:31:20] [INFO] [PowerFantasy] PowerFantasyEffectsManager ready - Configuration:
[22:31:20] [INFO] [PowerFantasy]   Kill effect duration: 300ms
[22:31:20] [INFO] [PowerFantasy]   Grenade effect duration: 2000ms (2.0s)
[22:31:20] [INFO] [ProgressManager] ProgressManager ready, loaded 6 entries
[22:31:20] [INFO] [ReplayManager] ReplayManager ready (C# version loaded and _Ready called)
[22:31:20] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:31:20] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[22:31:20] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[22:31:20] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[22:31:20] [ENEMY] [Enemy1] Death animation component initialized
[22:31:20] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:31:20] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[22:31:20] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[22:31:20] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[22:31:20] [ENEMY] [Enemy2] Death animation component initialized
[22:31:20] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:31:20] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[22:31:20] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[22:31:20] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[22:31:20] [ENEMY] [Enemy3] Death animation component initialized
[22:31:20] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:31:20] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[22:31:20] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[22:31:20] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[22:31:20] [ENEMY] [Enemy4] Death animation component initialized
[22:31:20] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:31:20] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[22:31:20] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[22:31:20] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[22:31:20] [ENEMY] [Enemy5] Death animation component initialized
[22:31:20] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:31:20] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[22:31:20] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[22:31:20] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[22:31:20] [ENEMY] [Enemy6] Death animation component initialized
[22:31:20] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:31:20] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[22:31:20] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[22:31:20] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[22:31:20] [ENEMY] [Enemy7] Death animation component initialized
[22:31:20] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:31:20] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[22:31:20] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[22:31:20] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[22:31:20] [ENEMY] [Enemy8] Death animation component initialized
[22:31:20] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:31:20] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[22:31:20] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[22:31:20] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[22:31:20] [ENEMY] [Enemy9] Death animation component initialized
[22:31:20] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:31:20] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[22:31:20] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[22:31:20] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[22:31:20] [ENEMY] [Enemy10] Death animation component initialized
[22:31:20] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:31:20] [INFO] [BloodyFeet:Player] Footprint scene loaded
[22:31:20] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[22:31:20] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[22:31:20] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[22:31:20] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[22:31:20] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[22:31:20] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[22:31:20] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[22:31:20] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[22:31:20] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[22:31:20] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[22:31:20] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[22:31:20] [INFO] [Player] Ready! Ammo: 9/9, Grenades: 1/3, Health: 10/10
[22:31:20] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[22:31:20] [INFO] [BloodDecal] Blood puddle created at (640, 360) (added to group)
[22:31:20] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[22:31:20] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[22:31:20] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[22:31:20] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[22:31:20] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[22:31:20] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[22:31:20] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[22:31:20] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[22:31:20] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[22:31:20] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[22:31:20] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[22:31:20] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[22:31:20] [INFO] [BuildingLevel] Setting up weapon: makarov_pm
[22:31:20] [INFO] [ScoreManager] Level started with 10 enemies
[22:31:20] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[22:31:20] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[22:31:20] [INFO] [ReplayManager] Replay data cleared
[22:31:20] [INFO] [BuildingLevel] Previous replay data cleared
[22:31:20] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[22:31:20] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[22:31:20] [INFO] [ReplayManager] Level: BuildingLevel
[22:31:20] [INFO] [ReplayManager] Player: Player (valid: True)
[22:31:20] [INFO] [ReplayManager] Enemies count: 10
[22:31:20] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[22:31:20] [INFO] [ReplayManager]   Enemy 0: Enemy1
[22:31:20] [INFO] [ReplayManager]   Enemy 1: Enemy2
[22:31:20] [INFO] [ReplayManager]   Enemy 2: Enemy3
[22:31:20] [INFO] [ReplayManager]   Enemy 3: Enemy4
[22:31:20] [INFO] [ReplayManager]   Enemy 4: Enemy5
[22:31:20] [INFO] [ReplayManager]   Enemy 5: Enemy6
[22:31:20] [INFO] [ReplayManager]   Enemy 6: Enemy7
[22:31:20] [INFO] [ReplayManager]   Enemy 7: Enemy8
[22:31:20] [INFO] [ReplayManager]   Enemy 8: Enemy9
[22:31:20] [INFO] [ReplayManager]   Enemy 9: Enemy10
[22:31:20] [INFO] [BuildingLevel] Replay recording started successfully
[22:31:20] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[22:31:20] [INFO] [CinemaEffects] Found player node: Player
[22:31:20] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[22:31:20] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[22:31:20] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 1)
[22:31:20] [ENEMY] [Enemy1] Registered as sound listener
[22:31:20] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 4, behavior: GUARD
[22:31:20] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[22:31:20] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 2)
[22:31:20] [ENEMY] [Enemy2] Registered as sound listener
[22:31:20] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 4, behavior: GUARD
[22:31:20] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[22:31:20] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 3)
[22:31:20] [ENEMY] [Enemy3] Registered as sound listener
[22:31:20] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 3, behavior: GUARD
[22:31:20] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[22:31:20] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 4)
[22:31:20] [ENEMY] [Enemy4] Registered as sound listener
[22:31:20] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 4, behavior: GUARD
[22:31:20] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[22:31:20] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 5)
[22:31:20] [ENEMY] [Enemy5] Registered as sound listener
[22:31:20] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 3, behavior: GUARD
[22:31:20] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[22:31:20] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 6)
[22:31:20] [ENEMY] [Enemy6] Registered as sound listener
[22:31:20] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 4, behavior: GUARD
[22:31:20] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[22:31:20] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 7)
[22:31:20] [ENEMY] [Enemy7] Registered as sound listener
[22:31:20] [ENEMY] [Enemy7] Spawned at (1606.114, 893.8859), hp: 2, behavior: PATROL
[22:31:20] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[22:31:20] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 8)
[22:31:20] [ENEMY] [Enemy8] Registered as sound listener
[22:31:20] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 2, behavior: GUARD
[22:31:20] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[22:31:20] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 9)
[22:31:20] [ENEMY] [Enemy9] Registered as sound listener
[22:31:20] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 2, behavior: GUARD
[22:31:20] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[22:31:20] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 10)
[22:31:20] [ENEMY] [Enemy10] Registered as sound listener
[22:31:20] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 4, behavior: PATROL
[22:31:20] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[22:31:20] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:31:20] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:31:20] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:31:20] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:31:20] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:31:20] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:31:20] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:31:20] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:31:20] [INFO] [Player] Detecting weapon pose (frame 3)...
[22:31:20] [INFO] [Player] Detected weapon: Makarov PM (Pistol pose)
[22:31:20] [INFO] [Player] Applied Pistol arm pose: Left=(16, 6), Right=(4, 6)
[22:31:20] [INFO] [PenultimateHit] Shader warmup complete in 447 ms
[22:31:20] [INFO] [LastChance] Shader warmup complete in 446 ms
[22:31:20] [INFO] [CinemaEffects] Cinema shader warmup complete in 394 ms
[22:31:20] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[22:31:20] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[22:31:20] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[22:31:20] [INFO] [LastChance] Found player: Player
[22:31:20] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[22:31:20] [INFO] [LastChance] Connected to player Damaged signal (C#)
[22:31:20] [INFO] [LastChance] Connected to player Died signal (C#)
[22:31:20] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[22:31:21] [INFO] [ImpactEffects] Particle shader warmup complete: 7 effects warmed up in 716 ms
[22:31:21] [INFO] [Player] Invincibility mode: ON
[22:31:21] [INFO] [GameManager] Invincibility mode toggled: ON
[22:31:21] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[22:31:22] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[22:31:22] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[22:31:22] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,1067), corner_timer=0.30
[22:31:22] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,1067), corner_timer=0.30
[22:31:22] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(450,962), corner_timer=-0.02
[22:31:22] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[22:31:22] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.7°, player=(450,962), corner_timer=-0.02
[22:31:22] [ENEMY] [Enemy10] PATROL corner check: angle 14.6°
[22:31:22] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(450,957), corner_timer=0.30
[22:31:22] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.6°, current=53.0°, player=(450,957), corner_timer=0.30
[22:31:22] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[22:31:23] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.3°, player=(450,852), corner_timer=-0.02
[22:31:23] [ENEMY] [Enemy10] PATROL corner check: angle 7.1°
[22:31:23] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.1°, current=16.9°, player=(450,847), corner_timer=0.30
[22:31:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 791.3333), source=PLAYER (MakarovPM), range=1469, listeners=10
[22:31:23] [ENEMY] [Enemy1] Heard gunshot at (450, 791.3333), source_type=0, intensity=0.01, distance=466
[22:31:23] [ENEMY] [Enemy2] Heard gunshot at (450, 791.3333), source_type=0, intensity=0.04, distance=246
[22:31:23] [ENEMY] [Enemy3] Heard gunshot at (450, 791.3333), source_type=0, intensity=0.04, distance=253
[22:31:23] [ENEMY] [Enemy4] Heard gunshot at (450, 791.3333), source_type=0, intensity=0.02, distance=366
[22:31:23] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[22:31:23] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=71.0°, current=-157.5°, player=(450,785), corner_timer=0.00
[22:31:23] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=78.0°, current=-157.5°, player=(450,785), corner_timer=0.00
[22:31:23] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=172.0°, current=-33.8°, player=(450,785), corner_timer=0.00
[22:31:23] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=-161.9°, current=-101.3°, player=(450,785), corner_timer=0.00
[22:31:23] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=172.8°, current=135.3°, player=(450,781), corner_timer=0.00
[22:31:23] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(450,764), corner_timer=-0.02
[22:31:23] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[22:31:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 768.7777), source=PLAYER (MakarovPM), range=1469, listeners=10
[22:31:23] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[22:31:23] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.7°, player=(450,762), corner_timer=0.30
[22:31:23] [ENEMY] [Enemy3] Hit: dmg=1, hp=3/3->2/3
[22:31:23] [INFO] [ImpactEffects] spawn_blood_effect called at (689.4384, 751.4927), dir=(0.997907, -0.064666), lethal=false
[22:31:23] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[22:31:23] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[22:31:23] [INFO] [ImpactEffects] Blood effect spawned at (689.4384, 751.4927) (scale=0.5)
[22:31:23] [ENEMY] [Enemy3] Hit: dmg=1, hp=2/3->1/3
[22:31:23] [INFO] [ImpactEffects] spawn_blood_effect called at (689.4384, 751.4927), dir=(0.993464, -0.114141), lethal=false
[22:31:23] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[22:31:23] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[22:31:23] [INFO] [ImpactEffects] Blood effect spawned at (689.4384, 751.4927) (scale=0.5)
[22:31:23] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[22:31:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(447.0186, 781.1017), source=PLAYER (MakarovPM), range=1469, listeners=10
[22:31:23] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[22:31:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(682.6454, 747.3171), source=ENEMY (Enemy3), range=1469, listeners=10
[22:31:23] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[22:31:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(616.42395, 762.97986), shooter_id=53083113079, bullet_pos=(497.5158, 801.5267)
[22:31:23] [INFO] [Bullet] Using shooter_position, distance=125,000015
[22:31:23] [INFO] [Bullet] Distance to wall: 125,000015 (8,511481% of viewport)
[22:31:23] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:31:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(673.8929, 741.2205), source=ENEMY (Enemy3), range=1469, listeners=10
[22:31:23] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[22:31:23] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(439,786), corner_timer=-0.02
[22:31:23] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[22:31:23] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.8°, current=6.3°, player=(436,790), corner_timer=0.30
[22:31:23] [INFO] [BloodDecal] Blood puddle created at (747.8176, 735.4291) (added to group)
[22:31:23] [INFO] [BloodDecal] Blood puddle created at (745.063, 790.963) (added to group)
[22:31:23] [INFO] [LastChance] Threat detected: @Area2D@293
[22:31:23] [INFO] [LastChance] Not in hard mode - effect disabled
[22:31:23] [INFO] [LastChance] Cannot trigger effect - conditions not met
[22:31:23] [INFO] [BloodDecal] Blood puddle created at (758.3382, 800.501) (added to group)
[22:31:23] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[22:31:23] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[22:31:23] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[22:31:23] [INFO] [BloodDecal] Blood puddle created at (737.6428, 773.5693) (added to group)
[22:31:23] [INFO] [BloodDecal] Blood puddle created at (753.1663, 772.7986) (added to group)
[22:31:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(665.1405, 735.1238), source=ENEMY (Enemy3), range=1469, listeners=10
[22:31:23] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[22:31:23] [INFO] [BloodDecal] Blood puddle created at (753.8193, 774.6287) (added to group)
[22:31:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(616.42395, 762.97986), shooter_id=53083113079, bullet_pos=(304.15384, 701.94055)
[22:31:23] [INFO] [Bullet] Using shooter_position, distance=318,17987
[22:31:23] [INFO] [Bullet] Distance to wall: 318,17987 (21,665453% of viewport)
[22:31:23] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:31:23] [INFO] [LastChance] Threat detected: @Area2D@298
[22:31:23] [INFO] [LastChance] Not in hard mode - effect disabled
[22:31:23] [INFO] [LastChance] Cannot trigger effect - conditions not met
[22:31:23] [INFO] [Player] Hit blocked by invincibility mode (C#)
[22:31:23] [INFO] [Player] Spawning blood effect at (418.98022, 808.56616), dir=(1, 0), lethal=False (C#)
[22:31:23] [INFO] [ImpactEffects] spawn_blood_effect called at (418.9802, 808.5662), dir=(1, 0), lethal=false
[22:31:23] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[22:31:23] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[22:31:23] [INFO] [ImpactEffects] Wall found for blood splatter at (500, 808.5662) (dist=81 px)
[22:31:23] [INFO] [BloodDecal] Blood puddle created at (499, 808.5662) (added to group)
[22:31:23] [INFO] [ImpactEffects] Blood effect spawned at (418.9802, 808.5662) (scale=1)
[22:31:23] [ENEMY] [Enemy3] Hit: dmg=1, hp=1/3->0/3
[22:31:23] [INFO] [ImpactEffects] spawn_blood_effect called at (658.5761, 730.5512), dir=(0.985003, -0.172535), lethal=true
[22:31:23] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[22:31:23] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[22:31:23] [INFO] [ImpactEffects] Blood effect spawned at (658.5761, 730.5512) (scale=0.75)
[22:31:23] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[22:31:23] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[22:31:23] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[22:31:23] [INFO] [PowerFantasy] Starting power fantasy effect:
[22:31:23] [INFO] [PowerFantasy]   - Time scale: 0.10
[22:31:23] [INFO] [PowerFantasy]   - Duration: 300ms
[22:31:23] [ENEMY] [Enemy3] [AllyDeath] Notified 2 enemies
[22:31:23] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[22:31:23] [INFO] [DeathAnim] Started - Angle: -9.9 deg, Index: 11
[22:31:23] [ENEMY] [Enemy3] Death animation started with hit direction: (0.985003, -0.172535)
[22:31:23] [INFO] [BloodDecal] Blood puddle created at (759.5341, 808.3397) (added to group)
[22:31:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(414.7022, 818.8442), source=PLAYER (MakarovPM), range=1469, listeners=9
[22:31:23] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[22:31:23] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=10
[22:31:24] [INFO] [PowerFantasy] Effect duration expired after 312.00 ms
[22:31:24] [INFO] [PowerFantasy] Ending power fantasy effect
[22:31:24] [INFO] [BloodDecal] Blood puddle created at (785.0528, 740.5268) (added to group)
[22:31:24] [INFO] [BloodDecal] Blood puddle created at (745.4469, 778.4485) (added to group)
[22:31:24] [INFO] [BloodDecal] Blood puddle created at (774.03, 779.6019) (added to group)
[22:31:24] [INFO] [BloodDecal] Blood puddle created at (731.9722, 748.665) (added to group)
[22:31:24] [INFO] [BloodDecal] Blood puddle created at (772.1826, 772.2363) (added to group)
[22:31:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(616.42395, 762.97986), shooter_id=53083113079, bullet_pos=(52.889313, 815.9912)
[22:31:24] [INFO] [Bullet] Using shooter_position, distance=566,0226
[22:31:24] [INFO] [Bullet] Distance to wall: 566,0226 (38,54152% of viewport)
[22:31:24] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:31:24] [INFO] [Bullet] Starting wall penetration at (52.889313, 815.9912)
[22:31:24] [INFO] [Bullet] Raycast backward hit penetrating body at distance 12,163611
[22:31:24] [INFO] [Bullet] Body exited signal received for penetrating body
[22:31:24] [INFO] [Bullet] Exiting penetration at (20.923988, 830.5005) after traveling 30,104164 pixels through wall
[22:31:24] [INFO] [Bullet] Damage multiplier after penetration: 0,225
[22:31:24] [INFO] [BloodDecal] Blood puddle created at (806.0078, 787.0783) (added to group)
[22:31:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(602.0396, 760.59674), shooter_id=53083113079, bullet_pos=(66.56619, 842.2725)
[22:31:24] [INFO] [Bullet] Using shooter_position, distance=541,66656
[22:31:24] [INFO] [Bullet] Distance to wall: 541,66656 (36,883076% of viewport)
[22:31:24] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:31:24] [INFO] [Bullet] Starting wall penetration at (66.56619, 842.2725)
[22:31:24] [INFO] [Bullet] Raycast backward hit penetrating body at distance 11,700695
[22:31:24] [INFO] [Bullet] Body exited signal received for penetrating body
[22:31:24] [INFO] [Bullet] Exiting penetration at (20.433083, 849.30914) after traveling 41,666668 pixels through wall
[22:31:24] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[22:31:24] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.8°, player=(367,858), corner_timer=-0.00
[22:31:24] [ENEMY] [Enemy10] PATROL corner check: angle 1.0°
[22:31:24] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.0°, current=4.6°, player=(364,861), corner_timer=0.30
[22:31:24] [INFO] [BloodDecal] Blood puddle created at (855.8558, 762.1998) (added to group)
[22:31:24] [INFO] [BloodDecal] Blood puddle created at (770.4399, 809.1416) (added to group)
[22:31:24] [INFO] [BloodDecal] Blood puddle created at (732.0972, 763.4199) (added to group)
[22:31:24] [INFO] [BloodDecal] Blood puddle created at (706.4055, 745.1747) (added to group)
[22:31:24] [INFO] [BloodDecal] Blood puddle created at (735.3145, 758.7557) (added to group)
[22:31:24] [INFO] [BloodDecal] Blood puddle created at (820.2795, 772.4999) (added to group)
[22:31:24] [INFO] [BloodDecal] Blood puddle created at (753.1051, 706.1365) (added to group)
[22:31:24] [INFO] [BloodDecal] Blood puddle created at (723.9519, 773.0377) (added to group)
[22:31:24] [INFO] [BloodDecal] Blood puddle created at (841.3912, 864.177) (added to group)
[22:31:24] [INFO] [BloodDecal] Blood puddle created at (483.5524, 863.1245) (added to group)
[22:31:24] [INFO] [BloodDecal] Blood puddle created at (474.0713, 815.8351) (added to group)
[22:31:24] [INFO] [BloodDecal] Blood puddle created at (740.0187, 767.4731) (added to group)
[22:31:24] [INFO] [BloodDecal] Blood puddle created at (855.9172, 806.7196) (added to group)
[22:31:24] [INFO] [BloodDecal] Blood puddle created at (498.5781, 820.7198) (added to group)
[22:31:24] [INFO] [BloodDecal] Blood puddle created at (784.4733, 697.6212) (added to group)
[22:31:24] [INFO] [BloodDecal] Blood puddle created at (810.3842, 809.7477) (added to group)
[22:31:24] [INFO] [BloodDecal] Blood puddle created at (805.4154, 739.2174) (added to group)
[22:31:24] [INFO] [BloodDecal] Blood puddle created at (767.4776, 748.1383) (added to group)
[22:31:24] [ENEMY] [Enemy3] Ragdoll activated
[22:31:24] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[22:31:24] [INFO] [BloodDecal] Blood puddle created at (733.3278, 765.5079) (added to group)
[22:31:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(414.7022, 818.8442), shooter_id=56438556479, bullet_pos=(916.8825, 701.6844)
[22:31:24] [INFO] [Bullet] Using shooter_position, distance=515.666015625
[22:31:24] [INFO] [Bullet] Distance to wall: 515.666015625 (35.1126472300965% of viewport)
[22:31:24] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:31:24] [INFO] [Bullet] Caliber cannot penetrate walls
[22:31:24] [INFO] [BloodDecal] Blood puddle created at (783.2622, 794.6086) (added to group)
[22:31:24] [INFO] [BloodDecal] Blood puddle created at (831.1811, 763.3196) (added to group)
[22:31:24] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:31:24] [INFO] [BloodDecal] Blood puddle created at (758.7524, 752.3937) (added to group)
[22:31:24] [INFO] [BloodDecal] Blood puddle created at (857.9722, 765.1204) (added to group)
[22:31:24] [INFO] [BloodDecal] Blood puddle created at (765.4658, 775.1686) (added to group)
[22:31:24] [INFO] [BloodDecal] Blood puddle created at (802.9693, 765.8456) (added to group)
[22:31:24] [INFO] [BloodDecal] Blood puddle created at (769.0817, 815.7216) (added to group)
[22:31:24] [INFO] [BloodDecal] Blood puddle created at (859.5367, 860.5053) (added to group)
[22:31:24] [INFO] [ReplayManager] Recording frame 240 (3,7s): player_valid=True, enemies=10
[22:31:24] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=-130.1°, player=(309,931), corner_timer=-0.02
[22:31:24] [ENEMY] [Enemy7] PATROL corner check: angle 90.0°
[22:31:24] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=-133.0°, player=(310,929), corner_timer=0.30
[22:31:25] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:31:25] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=179.1°, current=172.4°, player=(374,868), corner_timer=-0.02
[22:31:25] [ENEMY] [Enemy7] PATROL corner check: angle 89.8°
[22:31:25] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.8°, current=175.3°, player=(378,864), corner_timer=0.30
[22:31:25] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:31:25] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=178.4°, current=120.7°, player=(451,790), corner_timer=-0.02
[22:31:25] [ENEMY] [Enemy7] PATROL corner check: angle 89.7°
[22:31:25] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.7°, current=123.6°, player=(455,786), corner_timer=0.30
[22:31:25] [ENEMY] [Enemy1] Warning: No valid flank position (both sides behind walls)
[22:31:25] [ENEMY] [Enemy1] FLANKING started: target=(263.6165, 782.7056), side=left, pos=(236.8743, 401.933)
[22:31:25] [ENEMY] [Enemy1] State: PURSUING -> FLANKING
[22:31:25] [ENEMY] [Enemy1] FLANKING corner check: angle -162.1°
[22:31:25] [ENEMY] [Enemy2] PURSUING corner check: angle 169.5°
[22:31:25] [ENEMY] [Enemy4] PURSUING corner check: angle -96.3°
[22:31:25] [ENEMY] [Enemy3] Death animation completed
[22:31:25] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:31:25] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=42.0°, current=45.7°, player=(521,720), corner_timer=0.08
[22:31:25] [INFO] [ReplayManager] Recording frame 300 (4,7s): player_valid=True, enemies=10
[22:31:25] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-131.9°, current=-134.1°, player=(525,716), corner_timer=0.07
[22:31:25] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[22:31:25] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.9°, current=89.7°, player=(529,713), corner_timer=-0.02
[22:31:25] [ENEMY] [Enemy7] PATROL corner check: angle 89.6°
[22:31:25] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.6°, current=92.5°, player=(533,709), corner_timer=0.30
[22:31:25] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[22:31:25] [ENEMY] [Enemy1] FLANKING corner check: angle 3.4°
[22:31:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(549.146, 699.6459), source=PLAYER (MakarovPM), range=1469, listeners=9
[22:31:25] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[22:31:26] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:31:26] [ENEMY] [Enemy2] Hit: dmg=1, hp=4/4->3/4
[22:31:26] [INFO] [ImpactEffects] spawn_blood_effect called at (414.1916, 644.6578), dir=(-0.868636, -0.495451), lethal=false
[22:31:26] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[22:31:26] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[22:31:26] [INFO] [ImpactEffects] Blood effect spawned at (414.1916, 644.6578) (scale=0.5)
[22:31:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(592.0536, 657.1738), source=PLAYER (MakarovPM), range=1469, listeners=9
[22:31:26] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[22:31:26] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[22:31:26] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.7°, current=89.6°, player=(609,639), corner_timer=-0.02
[22:31:26] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[22:31:26] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.4°, player=(614,637), corner_timer=0.30
[22:31:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(412.5635, 636.8253), source=ENEMY (Enemy2), range=1469, listeners=9
[22:31:26] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=3
[22:31:26] [INFO] [LastChance] Threat detected: Bullet
[22:31:26] [INFO] [LastChance] Not in hard mode - effect disabled
[22:31:26] [INFO] [LastChance] Cannot trigger effect - conditions not met
[22:31:26] [ENEMY] [Enemy1] FLANKING corner check: angle -10.6°
[22:31:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(633.9438, 638.8019), source=PLAYER (MakarovPM), range=1469, listeners=9
[22:31:26] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[22:31:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(410.3927, 626.3819), source=ENEMY (Enemy2), range=1469, listeners=9
[22:31:26] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=3
[22:31:26] [INFO] [BloodDecal] Blood puddle created at (324.8658, 643.3361) (added to group)
[22:31:26] [INFO] [LastChance] Threat detected: @Area2D@368
[22:31:26] [INFO] [LastChance] Not in hard mode - effect disabled
[22:31:26] [INFO] [LastChance] Cannot trigger effect - conditions not met
[22:31:26] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:31:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(633.9438, 638.8019), shooter_id=56438556479, bullet_pos=(524.4031, 596.7552)
[22:31:26] [INFO] [Bullet] Using shooter_position, distance=117.333251953125
[22:31:26] [INFO] [Bullet] Distance to wall: 117.333251953125 (7.98943688231367% of viewport)
[22:31:26] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:31:26] [INFO] [Bullet] Caliber cannot penetrate walls
[22:31:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(408.222, 615.9385), source=ENEMY (Enemy2), range=1469, listeners=9
[22:31:26] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=3
[22:31:26] [INFO] [BloodDecal] Blood puddle created at (357.371, 624.2535) (added to group)
[22:31:26] [INFO] [LastChance] Threat detected: @Area2D@372
[22:31:26] [INFO] [LastChance] Not in hard mode - effect disabled
[22:31:26] [INFO] [LastChance] Cannot trigger effect - conditions not met
[22:31:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(683.1559, 638.1068), source=PLAYER (MakarovPM), range=1469, listeners=9
[22:31:26] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[22:31:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(406.0512, 605.4952), source=ENEMY (Enemy2), range=1469, listeners=9
[22:31:26] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=3
[22:31:26] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=169.5°, current=-64.2°, player=(694,632), corner_timer=0.03
[22:31:26] [INFO] [BloodDecal] Blood puddle created at (360.2633, 622.971) (added to group)
[22:31:26] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.5°, current=89.5°, player=(716,632), corner_timer=-0.02
[22:31:26] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[22:31:26] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.4°, player=(721,632), corner_timer=0.30
[22:31:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(477.09143, 627.9229), shooter_id=52730791522, bullet_pos=(928.5211, 707.1761)
[22:31:26] [INFO] [Bullet] Using shooter_position, distance=458,33374
[22:31:26] [INFO] [Bullet] Distance to wall: 458,33374 (31,20879% of viewport)
[22:31:26] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:31:26] [INFO] [Bullet] Starting wall penetration at (928.5211, 707.1761)
[22:31:26] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[22:31:26] [INFO] [Bullet] Raycast backward hit penetrating body at distance 39,07344
[22:31:26] [INFO] [BloodDecal] Blood puddle created at (334.7688, 612.9183) (added to group)
[22:31:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(683.1559, 638.1068), shooter_id=56438556479, bullet_pos=(513.0197, 568.0375)
[22:31:26] [INFO] [Bullet] Using shooter_position, distance=184.000076293945
[22:31:26] [INFO] [Bullet] Distance to wall: 184.000076293945 (12.5289035411604% of viewport)
[22:31:26] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:31:26] [INFO] [Bullet] Caliber cannot penetrate walls
[22:31:26] [INFO] [Bullet] Body exited signal received for penetrating body
[22:31:26] [INFO] [Bullet] Exiting penetration at (974.48486, 715.2455) after traveling 41,66667 pixels through wall
[22:31:26] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[22:31:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(477.09143, 627.9229), shooter_id=52730791522, bullet_pos=(974.48486, 715.2455)
[22:31:26] [INFO] [Bullet] Using shooter_position, distance=505,00046
[22:31:26] [INFO] [Bullet] Distance to wall: 505,00046 (34,38641% of viewport)
[22:31:26] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:31:26] [INFO] [Bullet] Starting wall penetration at (974.48486, 715.2455)
[22:31:26] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[22:31:26] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[22:31:26] [INFO] [Bullet] Exiting penetration at (1020.4486, 723.3149) after traveling 41,66667 pixels through wall
[22:31:26] [ENEMY] [Enemy1] FLANKING corner check: angle -19.7°
[22:31:26] [ENEMY] [Enemy4] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-73.6°, current=-73.6°, player=(737,633), corner_timer=0.07
[22:31:26] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[22:31:26] [INFO] [BloodDecal] Blood puddle created at (324.4127, 669.0394) (added to group)
[22:31:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(480.1885, 644.4053), shooter_id=52730791522, bullet_pos=(1373.8365, 440.27014)
[22:31:26] [INFO] [Bullet] Using shooter_position, distance=916,6668
[22:31:26] [INFO] [Bullet] Distance to wall: 916,6668 (62,41753% of viewport)
[22:31:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(747.2424, 642.7262), source=PLAYER (MakarovPM), range=1469, listeners=9
[22:31:26] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[22:31:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(475.54108, 619.44086), shooter_id=52730791522, bullet_pos=(917.0873, 742.3496)
[22:31:26] [INFO] [Bullet] Using shooter_position, distance=458,33353
[22:31:26] [INFO] [Bullet] Distance to wall: 458,33353 (31,208775% of viewport)
[22:31:26] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:31:26] [INFO] [Bullet] Starting wall penetration at (917.0873, 742.3496)
[22:31:26] [INFO] [Bullet] Raycast backward hit penetrating body at distance 27,034946
[22:31:26] [INFO] [Bullet] Body exited signal received for penetrating body
[22:31:26] [INFO] [Bullet] Exiting penetration at (962.04474, 754.86395) after traveling 41,666668 pixels through wall
[22:31:26] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[22:31:26] [INFO] [BloodDecal] Blood puddle created at (209.8305, 685.1812) (added to group)
[22:31:26] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:31:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(592.0536, 657.1738), shooter_id=56438556479, bullet_pos=(56.82608, 423.5346)
[22:31:26] [INFO] [Bullet] Using shooter_position, distance=583.999816894531
[22:31:26] [INFO] [Bullet] Distance to wall: 583.999816894531 (39.7656214133195% of viewport)
[22:31:26] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:31:26] [INFO] [Bullet] Caliber cannot penetrate walls
[22:31:26] [ENEMY] [Enemy1] State: FLANKING -> RETREATING
[22:31:26] [ENEMY] [Enemy1] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=-19.7°, current=21.4°, player=(765,645), corner_timer=0.23
[22:31:26] [ENEMY] [Enemy1] State: RETREATING -> IN_COVER
[22:31:26] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[22:31:26] [INFO] [BloodDecal] Blood puddle created at (266.3253, 665.3535) (added to group)
[22:31:26] [INFO] [BloodDecal] Blood puddle created at (285.8271, 606.4036) (added to group)
[22:31:26] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[22:31:26] [ENEMY] [Enemy2] State: SEEKING_COVER -> IN_COVER
[22:31:26] [ENEMY] [Enemy1] Player ammo empty: false -> true
[22:31:26] [ENEMY] [Enemy2] Player ammo empty: false -> true
[22:31:26] [ENEMY] [Enemy4] Player ammo empty: false -> true
[22:31:26] [ENEMY] [Enemy5] Player ammo empty: false -> true
[22:31:26] [ENEMY] [Enemy6] Player ammo empty: false -> true
[22:31:26] [ENEMY] [Enemy7] Player ammo empty: false -> true
[22:31:26] [ENEMY] [Enemy8] Player ammo empty: false -> true
[22:31:26] [ENEMY] [Enemy9] Player ammo empty: false -> true
[22:31:26] [ENEMY] [Enemy10] Player ammo empty: false -> true
[22:31:26] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(792.3384, 672.0668), source=PLAYER (Player), range=600, listeners=9
[22:31:26] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (792.3384, 672.0668), intensity=0.02, distance=397
[22:31:26] [ENEMY] [Enemy2] Vulnerability sound triggered pursuit - transitioning from IN_COVER to PURSUING
[22:31:26] [ENEMY] [Enemy4] Heard player EMPTY_CLICK at (792.3384, 672.0668), intensity=0.03, distance=267
[22:31:26] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=7, self=0, below_threshold=0
[22:31:26] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=606), can_see=false
[22:31:26] [ENEMY] [Enemy2] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=16.9°, current=-40.1°, player=(792,672), corner_timer=0.03
[22:31:26] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=397), can_see=false
[22:31:26] [ENEMY] [Enemy2] Pursuing vulnerability sound at (792.3384, 672.0668), distance=397
[22:31:26] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=267), can_see=false
[22:31:26] [ENEMY] [Enemy4] Pursuing vulnerability sound at (792.3384, 672.0668), distance=267
[22:31:26] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=963), can_see=false
[22:31:26] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1179), can_see=false
[22:31:26] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=850), can_see=false
[22:31:26] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1354), can_see=false
[22:31:26] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1575), can_see=false
[22:31:26] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1000), can_see=false
[22:31:26] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(747.2424, 642.7262), shooter_id=56438556479, bullet_pos=(511.4511, 557.6608)
[22:31:26] [INFO] [Bullet] Using shooter_position, distance=250.666458129883
[22:31:26] [INFO] [Bullet] Distance to wall: 250.666458129883 (17.068340069036% of viewport)
[22:31:26] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:31:26] [INFO] [Bullet] Caliber cannot penetrate walls
[22:31:26] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[22:31:26] [INFO] [ReplayManager] Recording frame 360 (5,7s): player_valid=True, enemies=10
[22:31:26] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.4°, current=89.5°, player=(800,685), corner_timer=-0.02
[22:31:26] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[22:31:26] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.3°, player=(802,689), corner_timer=0.30
[22:31:27] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:31:27] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=24.1°, current=23.6°, player=(808,737), corner_timer=0.03
[22:31:27] [ENEMY] [Enemy2] Player empty ammo - priority attack triggered
[22:31:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(475.9337, 590.7772), source=ENEMY (Enemy2), range=1469, listeners=9
[22:31:27] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=3
[22:31:27] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-22.4°, current=-14.8°, player=(808,759), corner_timer=0.07
[22:31:27] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[22:31:27] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[22:31:27] [ENEMY] [Enemy4] Player empty ammo - priority attack triggered
[22:31:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(655.9333, 817.6171), source=ENEMY (Enemy4), range=1469, listeners=9
[22:31:27] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[22:31:27] [INFO] [LastChance] Threat detected: Bullet
[22:31:27] [INFO] [LastChance] Not in hard mode - effect disabled
[22:31:27] [INFO] [LastChance] Cannot trigger effect - conditions not met
[22:31:27] [INFO] [LastChance] Threat detected: @Area2D@411
[22:31:27] [INFO] [LastChance] Not in hard mode - effect disabled
[22:31:27] [INFO] [LastChance] Cannot trigger effect - conditions not met
[22:31:27] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[22:31:27] [INFO] [Player] Hit blocked by invincibility mode (C#)
[22:31:27] [INFO] [Player] Spawning blood effect at (808.13226, 781.0248), dir=(1, 0), lethal=False (C#)
[22:31:27] [INFO] [ImpactEffects] spawn_blood_effect called at (808.1323, 781.0248), dir=(1, 0), lethal=false
[22:31:27] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[22:31:27] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[22:31:27] [INFO] [ImpactEffects] Blood effect spawned at (808.1323, 781.0248) (scale=1)
[22:31:27] [ENEMY] [Enemy2] Player empty ammo - priority attack triggered
[22:31:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(474.3352, 606.5723), source=ENEMY (Enemy2), range=1469, listeners=9
[22:31:27] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=3
[22:31:27] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.5°, player=(808,792), corner_timer=-0.02
[22:31:27] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[22:31:27] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(808,797), corner_timer=0.30
[22:31:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(534.1813, 625.9598), shooter_id=52730791522, bullet_pos=(913.82544, 797.66144)
[22:31:27] [INFO] [Bullet] Using shooter_position, distance=416,66672
[22:31:27] [INFO] [Bullet] Distance to wall: 416,66672 (28,371605% of viewport)
[22:31:27] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:31:27] [INFO] [Bullet] Starting wall penetration at (913.82544, 797.66144)
[22:31:27] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) - pursuing to attack (dist=402)
[22:31:27] [ENEMY] [Enemy4] Player empty ammo - priority attack triggered
[22:31:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(655.9333, 809.6431), source=ENEMY (Enemy4), range=1469, listeners=9
[22:31:27] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[22:31:27] [INFO] [Bullet] Raycast backward hit penetrating body at distance 22,329649
[22:31:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(723.8084, 814.4989), shooter_id=53435434636, bullet_pos=(723.8084, 814.4989)
[22:31:27] [INFO] [Bullet] Using shooter_position, distance=0
[22:31:27] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[22:31:27] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[22:31:27] [INFO] [Bullet] Starting wall penetration at (723.8084, 814.4989)
[22:31:27] [INFO] [LastChance] Threat detected: @Area2D@421
[22:31:27] [INFO] [LastChance] Not in hard mode - effect disabled
[22:31:27] [INFO] [LastChance] Cannot trigger effect - conditions not met
[22:31:27] [INFO] [Bullet] Body exited signal received for penetrating body
[22:31:27] [INFO] [Bullet] Exiting penetration at (956.3456, 816.892) after traveling 41,66667 pixels through wall
[22:31:27] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[22:31:27] [INFO] [Bullet] Raycast backward hit penetrating body at distance 10,425895
[22:31:27] [INFO] [Bullet] Body exited signal received for penetrating body
[22:31:27] [INFO] [Bullet] Exiting penetration at (770.41174, 812.0683) after traveling 41,66667 pixels through wall
[22:31:27] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[22:31:27] [INFO] [LastChance] Threat detected: @Area2D@415
[22:31:27] [INFO] [LastChance] Not in hard mode - effect disabled
[22:31:27] [INFO] [LastChance] Cannot trigger effect - conditions not met
[22:31:27] [ENEMY] [Enemy4] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=7.2°, current=8.6°, player=(808,825), corner_timer=0.07
[22:31:27] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=707), can_see=false
[22:31:27] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=442), can_see=true
[22:31:27] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=155), can_see=false
[22:31:27] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[22:31:27] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1016), can_see=false
[22:31:27] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1205), can_see=false
[22:31:27] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=806), can_see=false
[22:31:27] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1253), can_see=false
[22:31:27] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1476), can_see=false
[22:31:27] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=842), can_see=false
[22:31:27] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:31:27] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=-96.3°, current=12.6°, player=(808,841), corner_timer=0.07
[22:31:27] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[22:31:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(530.63354, 644.7965), shooter_id=52730791522, bullet_pos=(936.33374, 858.04974)
[22:31:27] [INFO] [Bullet] Using shooter_position, distance=458,3335
[22:31:27] [INFO] [Bullet] Distance to wall: 458,3335 (31,20877% of viewport)
[22:31:27] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:31:27] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[22:31:27] [INFO] [BloodDecal] Blood puddle created at (858.1188, 815.5671) (added to group)
[22:31:27] [INFO] [BloodDecal] Blood puddle created at (846.7299, 788.1456) (added to group)
[22:31:27] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=169.5°, current=37.1°, player=(808,863), corner_timer=0.03
[22:31:27] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[22:31:27] [INFO] [BloodDecal] Blood puddle created at (892.4962, 777.9002) (added to group)
[22:31:27] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[22:31:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(530.63354, 644.7965), shooter_id=52730791522, bullet_pos=(689.75507, 1007.4988)
[22:31:27] [INFO] [Bullet] Using shooter_position, distance=396,07144
[22:31:27] [INFO] [Bullet] Distance to wall: 396,07144 (26,969233% of viewport)
[22:31:27] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:31:27] [INFO] [BloodDecal] Blood puddle created at (908.1262, 853.4575) (added to group)
[22:31:27] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(808,896), corner_timer=-0.02
[22:31:27] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[22:31:27] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(808,899), corner_timer=0.30
[22:31:27] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[22:31:27] [ENEMY] [Enemy1] Player reloading: false -> true
[22:31:27] [ENEMY] [Enemy2] Player reloading: false -> true
[22:31:27] [ENEMY] [Enemy4] Player reloading: false -> true
[22:31:27] [ENEMY] [Enemy5] Player reloading: false -> true
[22:31:27] [ENEMY] [Enemy6] Player reloading: false -> true
[22:31:27] [ENEMY] [Enemy7] Player reloading: false -> true
[22:31:27] [ENEMY] [Enemy8] Player reloading: false -> true
[22:31:27] [ENEMY] [Enemy9] Player reloading: false -> true
[22:31:27] [ENEMY] [Enemy10] Player reloading: false -> true
[22:31:27] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(808.1323, 903.0248), source=PLAYER (Player), range=900, listeners=9
[22:31:27] [ENEMY] [Enemy4] Heard player RELOAD at (808.1323, 903.0248), intensity=0.08, distance=182
[22:31:27] [ENEMY] [Enemy4] Vulnerability sound triggered pursuit - transitioning from SUPPRESSED to PURSUING
[22:31:27] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=0, below_threshold=4
[22:31:27] [ENEMY] [Enemy4] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=33.6°, current=-24.7°, player=(808,903), corner_timer=0.07
[22:31:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(530.63354, 644.7965), shooter_id=52730791522, bullet_pos=(503.9822, 897.82837)
[22:31:27] [INFO] [Bullet] Using shooter_position, distance=254,43155
[22:31:27] [INFO] [Bullet] Distance to wall: 254,43155 (17,324713% of viewport)
[22:31:27] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:31:27] [INFO] [Bullet] Starting wall penetration at (503.9822, 897.82837)
[22:31:27] [INFO] [Bullet] Raycast backward hit penetrating body at distance 30,479828
[22:31:27] [INFO] [Bullet] Body exited signal received for penetrating body
[22:31:27] [INFO] [Bullet] Exiting penetration at (473.75266, 879.9824) after traveling 30,104166 pixels through wall
[22:31:27] [INFO] [Bullet] Damage multiplier after penetration: 0,225
[22:31:27] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:31:27] [INFO] [BloodDecal] Blood puddle created at (893.5914, 798.4198) (added to group)
[22:31:27] [ENEMY] [Enemy4] Pursuing vulnerability sound at (808.1323, 903.0248), distance=157
[22:31:27] [INFO] [ReplayManager] Recording frame 420 (6,7s): player_valid=True, enemies=10
[22:31:27] [ENEMY] [Enemy1] Player vulnerable (reloading) but cannot attack: close=false (dist=762), can_see=false
[22:31:27] [ENEMY] [Enemy2] Player vulnerable (reloading) but cannot attack: close=false (dist=518), can_see=false
[22:31:27] [ENEMY] [Enemy4] Player vulnerable (reloading) but cannot attack: close=true (dist=161), can_see=false
[22:31:27] [ENEMY] [Enemy5] Player vulnerable (reloading) but cannot attack: close=false (dist=1059), can_see=false
[22:31:27] [ENEMY] [Enemy6] Player vulnerable (reloading) but cannot attack: close=false (dist=1235), can_see=false
[22:31:27] [ENEMY] [Enemy7] Player vulnerable (reloading) but cannot attack: close=false (dist=804), can_see=false
[22:31:27] [ENEMY] [Enemy8] Player vulnerable (reloading) but cannot attack: close=false (dist=1213), can_see=false
[22:31:27] [ENEMY] [Enemy9] Player vulnerable (reloading) but cannot attack: close=false (dist=1437), can_see=false
[22:31:27] [ENEMY] [Enemy10] Player vulnerable (reloading) but cannot attack: close=false (dist=766), can_see=false
[22:31:27] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(808,920), corner_timer=-0.02
[22:31:27] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[22:31:27] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(808,920), corner_timer=0.30
[22:31:27] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[22:31:27] [ENEMY] [Enemy1] Player reloading: true -> false
[22:31:27] [ENEMY] [Enemy2] Player reloading: true -> false
[22:31:27] [ENEMY] [Enemy4] Player reloading: true -> false
[22:31:27] [ENEMY] [Enemy5] Player reloading: true -> false
[22:31:27] [ENEMY] [Enemy6] Player reloading: true -> false
[22:31:27] [ENEMY] [Enemy7] Player reloading: true -> false
[22:31:27] [ENEMY] [Enemy8] Player reloading: true -> false
[22:31:27] [ENEMY] [Enemy9] Player reloading: true -> false
[22:31:27] [ENEMY] [Enemy10] Player reloading: true -> false
[22:31:27] [ENEMY] [Enemy1] Player ammo empty: true -> false
[22:31:27] [ENEMY] [Enemy2] Player ammo empty: true -> false
[22:31:27] [ENEMY] [Enemy4] Player ammo empty: true -> false
[22:31:27] [ENEMY] [Enemy5] Player ammo empty: true -> false
[22:31:27] [ENEMY] [Enemy6] Player ammo empty: true -> false
[22:31:27] [ENEMY] [Enemy7] Player ammo empty: true -> false
[22:31:27] [ENEMY] [Enemy8] Player ammo empty: true -> false
[22:31:27] [ENEMY] [Enemy9] Player ammo empty: true -> false
[22:31:27] [ENEMY] [Enemy10] Player ammo empty: true -> false
[22:31:27] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[22:31:27] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=14.2°, current=14.1°, player=(808,920), corner_timer=0.07
[22:31:27] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[22:31:27] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[22:31:28] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:31:28] [ENEMY] [Enemy4] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=-96.3°, current=-0.4°, player=(808,920), corner_timer=0.07
[22:31:28] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[22:31:28] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[22:31:28] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[22:31:28] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(808,920), corner_timer=-0.02
[22:31:28] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[22:31:28] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(808,920), corner_timer=0.30
[22:31:28] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:31:28] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(808,920), corner_timer=-0.02
[22:31:28] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[22:31:28] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(808,920), corner_timer=0.30
[22:31:28] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:31:28] [INFO] [ReplayManager] Recording frame 480 (7,7s): player_valid=True, enemies=10
[22:31:28] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(808,920), corner_timer=-0.02
[22:31:28] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[22:31:28] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(808,920), corner_timer=0.30
[22:31:29] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:31:29] [ENEMY] [Enemy1] State: SUPPRESSED -> IN_COVER
[22:31:29] [ENEMY] [Enemy1] State: IN_COVER -> PURSUING
[22:31:29] [ENEMY] [Enemy1] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=42.9°, current=-19.7°, player=(807,920), corner_timer=0.23
[22:31:29] [INFO] [ScoreManager] Combo ended at 1. Max combo: 1
[22:31:29] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(801,920), corner_timer=-0.02
[22:31:29] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[22:31:29] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(798,920), corner_timer=0.30
[22:31:29] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:31:29] [ENEMY] [Enemy4] State: SUPPRESSED -> SEEKING_COVER
[22:31:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(726.2124, 931.3664), source=PLAYER (MakarovPM), range=1469, listeners=9
[22:31:29] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[22:31:29] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[22:31:29] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(712,931), corner_timer=-0.02
[22:31:29] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[22:31:29] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(708,934), corner_timer=0.30
[22:31:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(689.8096, 957.6603), source=PLAYER (MakarovPM), range=1469, listeners=9
[22:31:29] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[22:31:29] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:31:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(726.2124, 931.3664), shooter_id=56438556479, bullet_pos=(475.5571, 710.6219)
[22:31:29] [INFO] [Bullet] Using shooter_position, distance=334.000335693359
[22:31:29] [INFO] [Bullet] Distance to wall: 334.000335693359 (22.7426970298218% of viewport)
[22:31:29] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:31:29] [INFO] [Bullet] Caliber cannot penetrate walls
[22:31:29] [INFO] [ReplayManager] Recording frame 540 (8,7s): player_valid=True, enemies=10
[22:31:29] [ENEMY] [Enemy4] State: SEEKING_COVER -> IN_COVER
[22:31:29] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[22:31:29] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(679,983), corner_timer=-0.02
[22:31:29] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[22:31:29] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(680,983), corner_timer=0.30
[22:31:29] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(685.2144, 989.9338), source=PLAYER (MakarovPM), range=1469, listeners=9
[22:31:29] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[22:31:29] [ENEMY] [Enemy2] State: SEEKING_COVER -> IN_COVER
[22:31:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(689.8096, 957.6603), shooter_id=56438556479, bullet_pos=(472.7343, 703.8211)
[22:31:29] [INFO] [Bullet] Using shooter_position, distance=334.000030517578
[22:31:29] [INFO] [Bullet] Distance to wall: 334.000030517578 (22.7426762498417% of viewport)
[22:31:29] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:31:29] [INFO] [Bullet] Caliber cannot penetrate walls
[22:31:29] [ENEMY] [Enemy2] State: IN_COVER -> PURSUING
[22:31:29] [ENEMY] [Enemy2] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=53.8°, current=-140.0°, player=(690,983), corner_timer=0.03
[22:31:30] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:31:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(685.2144, 989.9338), shooter_id=56438556479, bullet_pos=(518.9097, 802.3799)
[22:31:30] [INFO] [Bullet] Using shooter_position, distance=250.666534423828
[22:31:30] [INFO] [Bullet] Distance to wall: 250.666534423828 (17.068345264031% of viewport)
[22:31:30] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:31:30] [INFO] [Bullet] Caliber cannot penetrate walls
[22:31:30] [ENEMY] [Enemy2] State: PURSUING -> RETREATING
[22:31:30] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=169.5°, current=-174.4°, player=(747,980), corner_timer=0.03
[22:31:30] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[22:31:30] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[22:31:30] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(761,975), corner_timer=-0.02
[22:31:30] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[22:31:30] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(765,972), corner_timer=0.30
[22:31:30] [INFO] [BloodyFeet:Player] Blood ran out - no more footprints
[22:31:30] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:31:30] [ENEMY] [Enemy4] State: SUPPRESSED -> SEEKING_COVER
[22:31:30] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(836,899), corner_timer=-0.02
[22:31:30] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[22:31:30] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[22:31:30] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(838,895), corner_timer=0.30
[22:31:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(843.9987, 864.903), source=PLAYER (MakarovPM), range=1469, listeners=9
[22:31:30] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=7
[22:31:30] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[22:31:30] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:31:30] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(843.9987, 864.903), shooter_id=56438556479, bullet_pos=(754.8176, 818.2066)
[22:31:30] [INFO] [Bullet] Using shooter_position, distance=100.666831970215
[22:31:30] [INFO] [Bullet] Distance to wall: 100.666831970215 (6.85458969883334% of viewport)
[22:31:30] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:31:30] [INFO] [Bullet] Caliber cannot penetrate walls
[22:31:30] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(843.9987, 808.5696), source=PLAYER (MakarovPM), range=1469, listeners=9
[22:31:30] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=7
[22:31:30] [INFO] [ReplayManager] Recording frame 600 (9,7s): player_valid=True, enemies=10
[22:31:30] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(843,798), corner_timer=-0.02
[22:31:30] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[22:31:30] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(843,795), corner_timer=0.30
[22:31:30] [ENEMY] [Enemy1] PURSUING corner check: angle -78.2°
[22:31:30] [INFO] [BloodyFeet:Enemy2] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[22:31:31] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:31:31] [ENEMY] [Enemy2] State: SEEKING_COVER -> IN_COVER
[22:31:31] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[22:31:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(843.9987, 784.5698), source=PLAYER (MakarovPM), range=1469, listeners=9
[22:31:31] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=7
[22:31:31] [ENEMY] [Enemy4] State: SEEKING_COVER -> IN_COVER
[22:31:31] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[22:31:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(843.9987, 808.5696), shooter_id=56438556479, bullet_pos=(492.0825, 703.265)
[22:31:31] [INFO] [Bullet] Using shooter_position, distance=367.333740234375
[22:31:31] [INFO] [Bullet] Distance to wall: 367.333740234375 (25.0124298397457% of viewport)
[22:31:31] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:31:31] [INFO] [Bullet] Caliber cannot penetrate walls
[22:31:31] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(843,789), corner_timer=-0.02
[22:31:31] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[22:31:31] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(843,792), corner_timer=0.30
[22:31:31] [ENEMY] [Enemy1] PURSUING corner check: angle -68.1°
[22:31:31] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:31:31] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(825,876), corner_timer=-0.02
[22:31:31] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[22:31:31] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(823,879), corner_timer=0.30
[22:31:31] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[22:31:31] [ENEMY] [Enemy1] Player reloading: false -> true
[22:31:31] [ENEMY] [Enemy2] Player reloading: false -> true
[22:31:31] [ENEMY] [Enemy4] Player reloading: false -> true
[22:31:31] [ENEMY] [Enemy5] Player reloading: false -> true
[22:31:31] [ENEMY] [Enemy6] Player reloading: false -> true
[22:31:31] [ENEMY] [Enemy7] Player reloading: false -> true
[22:31:31] [ENEMY] [Enemy8] Player reloading: false -> true
[22:31:31] [ENEMY] [Enemy9] Player reloading: false -> true
[22:31:31] [ENEMY] [Enemy10] Player reloading: false -> true
[22:31:31] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(816.9162, 891.5503), source=PLAYER (Player), range=900, listeners=9
[22:31:31] [ENEMY] [Enemy4] Heard player RELOAD at (816.9162, 891.5503), intensity=0.04, distance=264
[22:31:31] [ENEMY] [Enemy4] Vulnerability sound triggered pursuit - transitioning from SUPPRESSED to PURSUING
[22:31:31] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=0, below_threshold=4
[22:31:31] [ENEMY] [Enemy1] Player vulnerable (reloading) but cannot attack: close=false (dist=600), can_see=false
[22:31:31] [ENEMY] [Enemy2] Player vulnerable (reloading) but cannot attack: close=false (dist=542), can_see=false
[22:31:31] [ENEMY] [Enemy4] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=7.5°, current=-175.2°, player=(816,891), corner_timer=0.07
[22:31:31] [ENEMY] [Enemy4] Player vulnerable (reloading) but cannot attack: close=true (dist=264), can_see=false
[22:31:31] [ENEMY] [Enemy4] Pursuing vulnerability sound at (816.9162, 891.5503), distance=264
[22:31:31] [ENEMY] [Enemy5] Player vulnerable (reloading) but cannot attack: close=false (dist=1036), can_see=false
[22:31:31] [ENEMY] [Enemy6] Player vulnerable (reloading) but cannot attack: close=false (dist=1216), can_see=false
[22:31:31] [ENEMY] [Enemy7] Player vulnerable (reloading) but cannot attack: close=false (dist=794), can_see=false
[22:31:31] [ENEMY] [Enemy8] Player vulnerable (reloading) but cannot attack: close=false (dist=1219), can_see=false
[22:31:31] [ENEMY] [Enemy9] Player vulnerable (reloading) but cannot attack: close=false (dist=1442), can_see=false
[22:31:31] [ENEMY] [Enemy10] Player vulnerable (reloading) but cannot attack: close=false (dist=788), can_see=false
[22:31:31] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:31:31] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[22:31:31] [ENEMY] [Enemy1] Player reloading: true -> false
[22:31:31] [ENEMY] [Enemy2] Player reloading: true -> false
[22:31:31] [ENEMY] [Enemy4] Player reloading: true -> false
[22:31:31] [ENEMY] [Enemy5] Player reloading: true -> false
[22:31:31] [ENEMY] [Enemy6] Player reloading: true -> false
[22:31:31] [ENEMY] [Enemy7] Player reloading: true -> false
[22:31:31] [ENEMY] [Enemy8] Player reloading: true -> false
[22:31:31] [ENEMY] [Enemy9] Player reloading: true -> false
[22:31:31] [ENEMY] [Enemy10] Player reloading: true -> false
[22:31:31] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[22:31:31] [INFO] [ReplayManager] Recording frame 660 (10,7s): player_valid=True, enemies=10
[22:31:31] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(814,895), corner_timer=-0.02
[22:31:31] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[22:31:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(843.9987, 784.5698), shooter_id=56438556479, bullet_pos=(62.94725, 543.7548)
[22:31:31] [INFO] [Bullet] Using shooter_position, distance=817.332946777344
[22:31:31] [INFO] [Bullet] Distance to wall: 817.332946777344 (55.6537032888323% of viewport)
[22:31:31] [INFO] [Bullet] Distance-based penetration chance: 81.7373461630289%
[22:31:31] [INFO] [Bullet] Penetration failed (distance roll)
[22:31:31] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(814,895), corner_timer=0.30
[22:31:32] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:31:32] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[22:31:32] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(814,876), corner_timer=-0.02
[22:31:32] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[22:31:32] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-12.4°, current=36.7°, player=(814,873), corner_timer=0.07
[22:31:32] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(814,873), corner_timer=0.30
[22:31:32] [ENEMY] [Enemy4] ROT_CHANGE: P1:visible -> P2:combat_state, state=PURSUING, target=-17.0°, current=22.5°, player=(814,864), corner_timer=0.07
[22:31:32] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:31:32] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-61.7°, current=-37.5°, player=(814,783), corner_timer=0.07
[22:31:32] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[22:31:32] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[22:31:32] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(814,772), corner_timer=-0.02
[22:31:32] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[22:31:32] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(814,767), corner_timer=0.30
[22:31:32] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[22:31:32] [ENEMY] [Enemy4] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=-96.3°, current=-99.6°, player=(814,756), corner_timer=0.07
[22:31:32] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[22:31:32] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:31:32] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[22:31:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(814.8969, 718.3937), source=PLAYER (MakarovPM), range=1469, listeners=9
[22:31:32] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[22:31:32] [INFO] [ReplayManager] Recording frame 720 (11,7s): player_valid=True, enemies=10
[22:31:32] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(814,662), corner_timer=-0.02
[22:31:32] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[22:31:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(815.2048, 663.5212), source=PLAYER (MakarovPM), range=1469, listeners=9
[22:31:32] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[22:31:32] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(815,657), corner_timer=0.30
[22:31:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(814.8969, 718.3937), shooter_id=56438556479, bullet_pos=(497.7467, 707.6279)
[22:31:33] [INFO] [Bullet] Using shooter_position, distance=317.332855224609
[22:31:33] [INFO] [Bullet] Distance to wall: 317.332855224609 (21.6077776359106% of viewport)
[22:31:33] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:31:33] [INFO] [Bullet] Caliber cannot penetrate walls
[22:31:33] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:31:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(850.585, 601.1763), source=PLAYER (MakarovPM), range=1469, listeners=9
[22:31:33] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[22:31:33] [ENEMY] [Enemy1] PURSUING corner check: angle 175.7°
[22:31:33] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(870,575), corner_timer=-0.02
[22:31:33] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[22:31:33] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(873,571), corner_timer=0.30
[22:31:33] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:31:33] [ENEMY] [Enemy2] State: SEEKING_COVER -> IN_COVER
[22:31:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(910.1971, 545.9195), source=PLAYER (MakarovPM), range=1469, listeners=9
[22:31:33] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[22:31:33] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[22:31:33] [ENEMY] [Enemy4] State: SUPPRESSED -> SEEKING_COVER
[22:31:33] [ENEMY] [Enemy4] State: SEEKING_COVER -> IN_COVER
[22:31:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(850.585, 601.1763), shooter_id=56438556479, bullet_pos=(518.006, 570.3959)
[22:31:33] [INFO] [Bullet] Using shooter_position, distance=334.000396728516
[22:31:33] [INFO] [Bullet] Distance to wall: 334.000396728516 (22.7427011858179% of viewport)
[22:31:33] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:31:33] [INFO] [Bullet] Caliber cannot penetrate walls
[22:31:33] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[22:31:33] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(960,529), corner_timer=-0.02
[22:31:33] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[22:31:33] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(966,529), corner_timer=0.30
[22:31:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(815.2048, 663.5212), shooter_id=56438556479, bullet_pos=(66.8363, 604.8241)
[22:31:33] [INFO] [Bullet] Using shooter_position, distance=750.666931152344
[22:31:33] [INFO] [Bullet] Distance to wall: 750.666931152344 (51.1142916969329% of viewport)
[22:31:33] [INFO] [Bullet] Distance-based penetration chance: 87.0333263535783%
[22:31:33] [INFO] [Bullet] Penetration failed (distance roll)
[22:31:33] [ENEMY] [Enemy1] State: PURSUING -> RETREATING
[22:31:33] [ENEMY] [Enemy4] State: SUPPRESSED -> IN_COVER
[22:31:33] [ENEMY] [Enemy1] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=175.7°, current=1.3°, player=(988,529), corner_timer=0.30
[22:31:33] [ENEMY] [Enemy1] State: RETREATING -> IN_COVER
[22:31:33] [ENEMY] [Enemy4] State: IN_COVER -> PURSUING
[22:31:33] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[22:31:33] [ENEMY] [Enemy4] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=-54.6°, current=-175.1°, player=(993,529), corner_timer=0.07
[22:31:33] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:31:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(910.1971, 545.9195), shooter_id=56438556479, bullet_pos=(512.9723, 493.5139)
[22:31:33] [INFO] [Bullet] Using shooter_position, distance=400.666839599609
[22:31:33] [INFO] [Bullet] Distance to wall: 400.666839599609 (27.2821418696895% of viewport)
[22:31:33] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:31:33] [INFO] [Bullet] Caliber cannot penetrate walls
[22:31:33] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[22:31:33] [INFO] [ReplayManager] Recording frame 780 (12,7s): player_valid=True, enemies=10
[22:31:33] [ENEMY] [Enemy2] State: SEEKING_COVER -> IN_COVER
[22:31:33] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1056,561), corner_timer=-0.02
[22:31:33] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[22:31:33] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[22:31:33] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1059,565), corner_timer=0.30
[22:31:33] [INFO] [BloodyFeet:Player] Blood ran out - no more footprints
[22:31:33] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[22:31:33] [ENEMY] [Enemy2] State: SEEKING_COVER -> IN_COVER
[22:31:34] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[22:31:34] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[22:31:34] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:31:34] [ENEMY] [Enemy2] State: SEEKING_COVER -> IN_COVER
[22:31:34] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[22:31:34] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1059,642), corner_timer=-0.02
[22:31:34] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[22:31:34] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1056,644), corner_timer=0.30
[22:31:34] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:31:34] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1036,659), corner_timer=-0.02
[22:31:34] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[22:31:34] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1036,659), corner_timer=0.30
[22:31:34] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:31:34] [INFO] [ReplayManager] Recording frame 840 (13,7s): player_valid=True, enemies=10
[22:31:34] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1036,659), corner_timer=-0.02
[22:31:34] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[22:31:34] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1035,659), corner_timer=0.30
[22:31:35] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:31:35] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(991,671), corner_timer=-0.02
[22:31:35] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[22:31:35] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(990,671), corner_timer=0.30
[22:31:35] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:31:35] [ENEMY] [Enemy4] PURSUING corner check: angle -112.5°
[22:31:35] [INFO] [BloodyFeet:Enemy4] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[22:31:35] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(986,671), corner_timer=-0.02
[22:31:35] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[22:31:35] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(986,671), corner_timer=0.30
[22:31:35] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:31:35] [INFO] [ReplayManager] Recording frame 900 (14,7s): player_valid=True, enemies=10
[22:31:35] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(986,671), corner_timer=-0.02
[22:31:35] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[22:31:35] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(986,671), corner_timer=0.30
[22:31:35] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[22:31:35] [ENEMY] [Enemy1] Player reloading: false -> true
[22:31:35] [ENEMY] [Enemy2] Player reloading: false -> true
[22:31:35] [ENEMY] [Enemy4] Player reloading: false -> true
[22:31:35] [ENEMY] [Enemy5] Player reloading: false -> true
[22:31:35] [ENEMY] [Enemy6] Player reloading: false -> true
[22:31:35] [ENEMY] [Enemy7] Player reloading: false -> true
[22:31:35] [ENEMY] [Enemy8] Player reloading: false -> true
[22:31:35] [ENEMY] [Enemy9] Player reloading: false -> true
[22:31:35] [ENEMY] [Enemy10] Player reloading: false -> true
[22:31:35] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(986.7658, 671.9337), source=PLAYER (Player), range=900, listeners=9
[22:31:35] [ENEMY] [Enemy4] Heard player RELOAD at (986.7658, 671.9337), intensity=0.07, distance=192
[22:31:35] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=0, below_threshold=4
[22:31:35] [ENEMY] [Enemy1] Player vulnerable (reloading) but cannot attack: close=false (dist=545), can_see=false
[22:31:35] [ENEMY] [Enemy2] Player vulnerable (reloading) but cannot attack: close=false (dist=885), can_see=false
[22:31:35] [ENEMY] [Enemy4] Player vulnerable (reloading) but cannot attack: close=true (dist=192), can_see=false
[22:31:35] [ENEMY] [Enemy4] Pursuing vulnerability sound at (986.7658, 671.9337), distance=192
[22:31:35] [ENEMY] [Enemy5] Player vulnerable (reloading) but cannot attack: close=false (dist=783), can_see=false
[22:31:35] [ENEMY] [Enemy6] Player vulnerable (reloading) but cannot attack: close=false (dist=988), can_see=false
[22:31:35] [ENEMY] [Enemy7] Player vulnerable (reloading) but cannot attack: close=false (dist=665), can_see=false
[22:31:35] [ENEMY] [Enemy8] Player vulnerable (reloading) but cannot attack: close=false (dist=1200), can_see=false
[22:31:35] [ENEMY] [Enemy9] Player vulnerable (reloading) but cannot attack: close=false (dist=1418), can_see=false
[22:31:35] [ENEMY] [Enemy10] Player vulnerable (reloading) but cannot attack: close=false (dist=946), can_see=false
[22:31:36] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:31:36] [ENEMY] [Enemy2] State: SUPPRESSED -> IN_COVER
[22:31:36] [ENEMY] [Enemy2] State: IN_COVER -> PURSUING
[22:31:36] [ENEMY] [Enemy2] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=5.4°, current=169.5°, player=(986,671), corner_timer=0.03
[22:31:36] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(986,671), corner_timer=-0.02
[22:31:36] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[22:31:36] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(986,671), corner_timer=0.30
[22:31:36] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[22:31:36] [ENEMY] [Enemy1] Player reloading: true -> false
[22:31:36] [ENEMY] [Enemy2] Player reloading: true -> false
[22:31:36] [ENEMY] [Enemy4] Player reloading: true -> false
[22:31:36] [ENEMY] [Enemy5] Player reloading: true -> false
[22:31:36] [ENEMY] [Enemy6] Player reloading: true -> false
[22:31:36] [ENEMY] [Enemy7] Player reloading: true -> false
[22:31:36] [ENEMY] [Enemy8] Player reloading: true -> false
[22:31:36] [ENEMY] [Enemy9] Player reloading: true -> false
[22:31:36] [ENEMY] [Enemy10] Player reloading: true -> false
[22:31:36] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[22:31:36] [ENEMY] [Enemy1] State: SUPPRESSED -> IN_COVER
[22:31:36] [ENEMY] [Enemy1] State: IN_COVER -> PURSUING
[22:31:36] [ENEMY] [Enemy1] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=16.4°, current=175.7°, player=(986,671), corner_timer=0.30
[22:31:36] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:31:36] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[22:31:36] [INFO] [Player.Reload.Anim] LeftArm: pos=(15.524872, 5.904974), target=(16, 6), base=(16, 6)
[22:31:36] [INFO] [Player.Reload.Anim] RightArm: pos=(3.9999998, 6), target=(4, 6), base=(4, 6)
[22:31:36] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(986,671), corner_timer=-0.02
[22:31:36] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[22:31:36] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(986,671), corner_timer=0.30
[22:31:36] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:31:36] [INFO] [ReplayManager] Recording frame 960 (15,7s): player_valid=True, enemies=10
[22:31:36] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1032,671), corner_timer=-0.02
[22:31:36] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[22:31:36] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1037,671), corner_timer=0.30
[22:31:36] [ENEMY] [Enemy4] Pursuing vulnerability sound at (986.7658, 671.9337), distance=110
[22:31:37] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:31:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1081.599, 677.9337), source=PLAYER (MakarovPM), range=1469, listeners=9
[22:31:37] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=8
[22:31:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1081.599, 677.9337), shooter_id=56438556479, bullet_pos=(923.6948, 622.5562)
[22:31:37] [INFO] [Bullet] Using shooter_position, distance=167.333419799805
[22:31:37] [INFO] [Bullet] Distance to wall: 167.333419799805 (11.3940402531955% of viewport)
[22:31:37] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:31:37] [INFO] [Bullet] Caliber cannot penetrate walls
[22:31:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1128.731, 661.6688), source=PLAYER (MakarovPM), range=1469, listeners=9
[22:31:37] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=8
[22:31:37] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1132,652), corner_timer=-0.02
[22:31:37] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[22:31:37] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1135,649), corner_timer=0.30
[22:31:37] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:31:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1128.731, 661.6688), shooter_id=56438556479, bullet_pos=(936.7245, 603.3516)
[22:31:37] [INFO] [Bullet] Using shooter_position, distance=200.666976928711
[22:31:37] [INFO] [Bullet] Distance to wall: 200.666976928711 (13.6637834531094% of viewport)
[22:31:37] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:31:37] [INFO] [Bullet] Caliber cannot penetrate walls
[22:31:37] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1145,595), corner_timer=-0.02
[22:31:37] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[22:31:37] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1142,593), corner_timer=0.30
[22:31:37] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:31:37] [ENEMY] [Enemy2] PURSUING corner check: angle -74.7°
[22:31:37] [INFO] [ReplayManager] Recording frame 1020 (16,7s): player_valid=True, enemies=10
[22:31:37] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1052,586), corner_timer=-0.02
[22:31:37] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[22:31:37] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1046,586), corner_timer=0.30
[22:31:37] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-1.3°, current=47.9°, player=(1041,586), corner_timer=0.15
[22:31:37] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[22:31:38] [ENEMY] [Enemy4] Pursuing vulnerability sound at (986.7658, 671.9337), distance=103
[22:31:38] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:31:38] [ENEMY] [Enemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-2.3°, current=-8.6°, player=(982,582), corner_timer=0.03
[22:31:38] [ENEMY] [Enemy1] State: PURSUING -> COMBAT
[22:31:38] [ENEMY] [Enemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-3.0°, current=-88.2°, player=(971,582), corner_timer=0.03
[22:31:38] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(944,582), corner_timer=-0.02
[22:31:38] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[22:31:38] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(938,582), corner_timer=0.30
[22:31:38] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-52.4°, current=-65.2°, player=(933,582), corner_timer=0.00
[22:31:38] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[22:31:38] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[22:31:38] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-2.1°, current=-2.1°, player=(911,582), corner_timer=0.15
[22:31:38] [ENEMY] [Enemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-6.3°, current=-53.9°, player=(900,582), corner_timer=0.03
[22:31:38] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:31:38] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[22:31:38] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(834,583), corner_timer=-0.02
[22:31:38] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[22:31:38] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-2.1°, current=-2.2°, player=(829,585), corner_timer=0.15
[22:31:38] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(829,585), corner_timer=0.30
[22:31:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(825.0668, 592.6775), source=PLAYER (MakarovPM), range=1469, listeners=9
[22:31:38] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=5
[22:31:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(825.0668, 592.6775), shooter_id=56438556479, bullet_pos=(923.7911, 612.3572)
[22:31:38] [INFO] [Bullet] Using shooter_position, distance=100.66674041748
[22:31:38] [INFO] [Bullet] Distance to wall: 100.66674041748 (6.85458346483931% of viewport)
[22:31:38] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:31:38] [INFO] [Bullet] Caliber cannot penetrate walls
[22:31:38] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:31:38] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[22:31:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(775.1578, 631.5245), source=PLAYER (MakarovPM), range=1469, listeners=9
[22:31:38] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=5
[22:31:38] [INFO] [ReplayManager] Recording frame 1080 (17,7s): player_valid=True, enemies=10
[22:31:38] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(751,648), corner_timer=-0.02
[22:31:38] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[22:31:38] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(775.1578, 631.5245), shooter_id=56438556479, bullet_pos=(922.7645, 661.7355)
[22:31:38] [INFO] [Bullet] Using shooter_position, distance=150.666702270508
[22:31:38] [INFO] [Bullet] Distance to wall: 150.666702270508 (10.2591728092346% of viewport)
[22:31:38] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:31:38] [INFO] [Bullet] Caliber cannot penetrate walls
[22:31:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(586.1026, 622.5878), source=ENEMY (Enemy1), range=1469, listeners=9
[22:31:38] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=4
[22:31:38] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(747,652), corner_timer=0.30
[22:31:38] [INFO] [LastChance] Threat detected: Bullet
[22:31:38] [INFO] [LastChance] Not in hard mode - effect disabled
[22:31:38] [INFO] [LastChance] Cannot trigger effect - conditions not met
[22:31:38] [INFO] [Player] Hit blocked by invincibility mode (C#)
[22:31:38] [INFO] [Player] Spawning blood effect at (736.2668, 664.41547), dir=(1, 0), lethal=False (C#)
[22:31:38] [INFO] [ImpactEffects] spawn_blood_effect called at (736.2668, 664.4155), dir=(1, 0), lethal=false
[22:31:38] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[22:31:38] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[22:31:38] [INFO] [ImpactEffects] Blood effect spawned at (736.2668, 664.4155) (scale=1)
[22:31:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(586.1026, 622.5878), source=ENEMY (Enemy1), range=1469, listeners=9
[22:31:39] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=4
[22:31:39] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:31:39] [INFO] [LastChance] Threat detected: Bullet
[22:31:39] [INFO] [LastChance] Not in hard mode - effect disabled
[22:31:39] [INFO] [LastChance] Cannot trigger effect - conditions not met
[22:31:39] [INFO] [Player] Hit blocked by invincibility mode (C#)
[22:31:39] [INFO] [Player] Spawning blood effect at (709.0431, 691.63916), dir=(1, 0), lethal=False (C#)
[22:31:39] [INFO] [ImpactEffects] spawn_blood_effect called at (709.0431, 691.6392), dir=(1, 0), lethal=false
[22:31:39] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[22:31:39] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[22:31:39] [INFO] [ImpactEffects] Blood effect spawned at (709.0431, 691.6392) (scale=1)
[22:31:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(705.154, 701.5283), source=PLAYER (MakarovPM), range=1469, listeners=9
[22:31:39] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=5
[22:31:39] [ENEMY] [Enemy1] State: COMBAT -> RETREATING
[22:31:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(586.1026, 622.5878), source=ENEMY (Enemy1), range=1469, listeners=9
[22:31:39] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=4
[22:31:39] [INFO] [LastChance] Threat detected: Bullet
[22:31:39] [INFO] [LastChance] Not in hard mode - effect disabled
[22:31:39] [INFO] [LastChance] Cannot trigger effect - conditions not met
[22:31:39] [INFO] [Player] Hit blocked by invincibility mode (C#)
[22:31:39] [INFO] [Player] Spawning blood effect at (681.8194, 718.86285), dir=(1, 0), lethal=False (C#)
[22:31:39] [INFO] [ImpactEffects] spawn_blood_effect called at (681.8194, 718.8629), dir=(1, 0), lethal=false
[22:31:39] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[22:31:39] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[22:31:39] [INFO] [ImpactEffects] Blood effect spawned at (681.8194, 718.8629) (scale=1)
[22:31:39] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(673,725), corner_timer=-0.02
[22:31:39] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[22:31:39] [INFO] [BloodDecal] Blood puddle created at (796.8376, 648.091) (added to group)
[22:31:39] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(669,728), corner_timer=0.30
[22:31:39] [INFO] [BloodDecal] Blood puddle created at (810.8605, 684.1541) (added to group)
[22:31:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(571.7963, 600.718), source=ENEMY (Enemy1), range=1469, listeners=9
[22:31:39] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=4
[22:31:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(705.154, 701.5283), shooter_id=56438556479, bullet_pos=(914.6846, 759.2405)
[22:31:39] [INFO] [Bullet] Using shooter_position, distance=217.333297729492
[22:31:39] [INFO] [Bullet] Distance to wall: 217.333297729492 (14.7986238830962% of viewport)
[22:31:39] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:31:39] [INFO] [Bullet] Caliber cannot penetrate walls
[22:31:39] [INFO] [LastChance] Threat detected: Bullet
[22:31:39] [INFO] [LastChance] Not in hard mode - effect disabled
[22:31:39] [INFO] [LastChance] Cannot trigger effect - conditions not met
[22:31:39] [INFO] [BloodDecal] Blood puddle created at (771.5449, 678.4449) (added to group)
[22:31:39] [INFO] [Player] Hit blocked by invincibility mode (C#)
[22:31:39] [INFO] [Player] Spawning blood effect at (651.0239, 737.46356), dir=(1, 0), lethal=False (C#)
[22:31:39] [INFO] [ImpactEffects] spawn_blood_effect called at (651.0239, 737.4636), dir=(1, 0), lethal=false
[22:31:39] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[22:31:39] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[22:31:39] [INFO] [ImpactEffects] Blood effect spawned at (651.0239, 737.4636) (scale=1)
[22:31:39] [INFO] [BloodDecal] Blood puddle created at (855.9861, 671.7634) (added to group)
[22:31:39] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:31:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(630.6203, 747.3174), source=PLAYER (MakarovPM), range=1469, listeners=9
[22:31:39] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=5
[22:31:39] [INFO] [BloodDecal] Blood puddle created at (773.064, 741.3891) (added to group)
[22:31:39] [INFO] [BloodDecal] Blood puddle created at (876.3984, 740.5676) (added to group)
[22:31:39] [INFO] [BloodDecal] Blood puddle created at (824.1683, 740.5754) (added to group)
[22:31:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(551.3586, 569.4753), source=ENEMY (Enemy1), range=1469, listeners=9
[22:31:39] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=4
[22:31:39] [INFO] [LastChance] Threat detected: Bullet
[22:31:39] [INFO] [LastChance] Not in hard mode - effect disabled
[22:31:39] [INFO] [LastChance] Cannot trigger effect - conditions not met
[22:31:39] [INFO] [BloodDecal] Blood puddle created at (817.9262, 690.3377) (added to group)
[22:31:39] [INFO] [BloodDecal] Blood puddle created at (779.6142, 723.8486) (added to group)
[22:31:39] [INFO] [BloodDecal] Blood puddle created at (764.2183, 710.6936) (added to group)
[22:31:39] [INFO] [BloodDecal] Blood puddle created at (877.2874, 776.9014) (added to group)
[22:31:39] [INFO] [BloodDecal] Blood puddle created at (797.1142, 737.7777) (added to group)
[22:31:39] [INFO] [Player] Hit blocked by invincibility mode (C#)
[22:31:39] [INFO] [Player] Spawning blood effect at (592.2005, 741.511), dir=(1, 0), lethal=False (C#)
[22:31:39] [INFO] [ImpactEffects] spawn_blood_effect called at (592.2005, 741.511), dir=(1, 0), lethal=false
[22:31:39] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[22:31:39] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[22:31:39] [INFO] [ImpactEffects] Blood effect spawned at (592.2005, 741.511) (scale=1)
[22:31:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(467.3416, 627.9554), source=ENEMY (Enemy2), range=1469, listeners=9
[22:31:39] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=3
[22:31:39] [INFO] [LastChance] Threat detected: Bullet
[22:31:39] [INFO] [LastChance] Not in hard mode - effect disabled
[22:31:39] [INFO] [LastChance] Cannot trigger effect - conditions not met
[22:31:39] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(570,741), corner_timer=-0.02
[22:31:39] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[22:31:39] [INFO] [BloodDecal] Blood puddle created at (779.662, 756.137) (added to group)
[22:31:39] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(564,741), corner_timer=0.30
[22:31:39] [INFO] [BloodDecal] Blood puddle created at (883.6075, 756.8868) (added to group)
[22:31:39] [INFO] [Player] Hit blocked by invincibility mode (C#)
[22:31:39] [INFO] [Player] Spawning blood effect at (559.2005, 741.511), dir=(1, 0), lethal=False (C#)
[22:31:39] [INFO] [ImpactEffects] spawn_blood_effect called at (559.2005, 741.511), dir=(1, 0), lethal=false
[22:31:39] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[22:31:39] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[22:31:39] [INFO] [ImpactEffects] Blood effect spawned at (559.2005, 741.511) (scale=1)
[22:31:39] [INFO] [BloodDecal] Blood puddle created at (910.9386, 726.9792) (added to group)
[22:31:39] [INFO] [BloodDecal] Blood puddle created at (896.0725, 768.7315) (added to group)
[22:31:39] [INFO] [BloodDecal] Blood puddle created at (830.4777, 709.4771) (added to group)
[22:31:39] [INFO] [BloodDecal] Blood puddle created at (806.7115, 788.4847) (added to group)
[22:31:39] [INFO] [BloodDecal] Blood puddle created at (784.7332, 776.7391) (added to group)
[22:31:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(630.6203, 747.3174), shooter_id=56438556479, bullet_pos=(914.6176, 746.1214)
[22:31:39] [INFO] [Bullet] Using shooter_position, distance=283.999755859375
[22:31:39] [INFO] [Bullet] Distance to wall: 283.999755859375 (19.3380656059668% of viewport)
[22:31:39] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:31:39] [INFO] [Bullet] Caliber cannot penetrate walls
[22:31:39] [INFO] [BloodDecal] Blood puddle created at (849.6635, 758.1475) (added to group)
[22:31:39] [INFO] [BloodDecal] Blood puddle created at (854.5635, 729.9548) (added to group)
[22:31:39] [INFO] [BloodDecal] Blood puddle created at (789.8952, 813.6812) (added to group)
[22:31:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(548.6075, 566.8801), source=ENEMY (Enemy1), range=1469, listeners=9
[22:31:39] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=4
[22:31:39] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[22:31:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(537.2005, 747.511), source=PLAYER (MakarovPM), range=1469, listeners=9
[22:31:39] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[22:31:39] [INFO] [LastChance] Threat detected: Bullet
[22:31:39] [INFO] [LastChance] Not in hard mode - effect disabled
[22:31:39] [INFO] [LastChance] Cannot trigger effect - conditions not met
[22:31:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(467.3416, 627.9554), source=ENEMY (Enemy2), range=1469, listeners=9
[22:31:39] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=3
[22:31:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(495.85956, 689.16364), shooter_id=52730791522, bullet_pos=(495.85956, 689.16364)
[22:31:39] [INFO] [Bullet] Using shooter_position, distance=0
[22:31:39] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[22:31:39] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[22:31:39] [INFO] [Bullet] Starting wall penetration at (495.85956, 689.16364)
[22:31:39] [INFO] [LastChance] Threat detected: @Area2D@671
[22:31:39] [INFO] [LastChance] Not in hard mode - effect disabled
[22:31:39] [INFO] [LastChance] Cannot trigger effect - conditions not met
[22:31:39] [INFO] [Bullet] Raycast backward hit penetrating body at distance 37,118076
[22:31:39] [INFO] [Bullet] Body exited signal received for penetrating body
[22:31:39] [INFO] [Bullet] Exiting penetration at (516.09485, 731.2149) after traveling 41,666668 pixels through wall
[22:31:39] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[22:31:39] [INFO] [Player] Hit blocked by invincibility mode (C#)
[22:31:39] [INFO] [Player] Spawning blood effect at (526.32806, 741.819), dir=(1, 0), lethal=False (C#)
[22:31:39] [INFO] [ImpactEffects] spawn_blood_effect called at (526.3281, 741.819), dir=(1, 0), lethal=false
[22:31:39] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[22:31:39] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[22:31:39] [INFO] [ImpactEffects] Blood effect spawned at (526.3281, 741.819) (scale=1)
[22:31:39] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:31:39] [INFO] [BloodDecal] Blood puddle created at (780.7697, 806.4008) (added to group)
[22:31:39] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=-74.7°, current=59.7°, player=(521,742), corner_timer=0.15
[22:31:39] [INFO] [BloodDecal] Blood puddle created at (786.7068, 729.0457) (added to group)
[22:31:39] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[22:31:39] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[22:31:39] [INFO] [BloodDecal] Blood puddle created at (733.352, 799.7427) (added to group)
[22:31:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(563.5755, 567.1392), source=ENEMY (Enemy1), range=1469, listeners=9
[22:31:39] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=4
[22:31:39] [INFO] [LastChance] Threat detected: @Area2D@683
[22:31:39] [INFO] [LastChance] Not in hard mode - effect disabled
[22:31:39] [INFO] [LastChance] Cannot trigger effect - conditions not met
[22:31:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(554.0489, 635.5084), shooter_id=52378469965, bullet_pos=(592.4681, 1008.53546)
[22:31:39] [INFO] [Bullet] Using shooter_position, distance=375,00027
[22:31:39] [INFO] [Bullet] Distance to wall: 375,00027 (25,53446% of viewport)
[22:31:39] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:31:39] [INFO] [BloodDecal] Blood puddle created at (735.3193, 774.3958) (added to group)
[22:31:39] [INFO] [BloodDecal] Blood puddle created at (647.8029, 781.73) (added to group)
[22:31:39] [INFO] [BloodDecal] Blood puddle created at (785.8835, 810.5695) (added to group)
[22:31:39] [INFO] [BloodDecal] Blood puddle created at (664.3324, 796.0482) (added to group)
[22:31:39] [INFO] [ReplayManager] Recording frame 1140 (18,7s): player_valid=True, enemies=10
[22:31:39] [INFO] [BloodDecal] Blood puddle created at (811.4872, 801.9046) (added to group)
[22:31:39] [INFO] [BloodDecal] Blood puddle created at (891.7523, 869.9548) (added to group)
[22:31:39] [INFO] [BloodDecal] Blood puddle created at (815.5219, 841.9727) (added to group)
[22:31:39] [INFO] [BloodDecal] Blood puddle created at (784.194, 739.1874) (added to group)
[22:31:39] [INFO] [BloodDecal] Blood puddle created at (835.043, 812.6234) (added to group)
[22:31:39] [INFO] [BloodDecal] Blood puddle created at (810.1687, 759.4061) (added to group)
[22:31:39] [INFO] [BloodDecal] Blood puddle created at (680.5771, 781.5827) (added to group)
[22:31:39] [INFO] [BloodDecal] Blood puddle created at (683.004, 782.1938) (added to group)
[22:31:39] [ENEMY] [Enemy4] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=-112.5°, current=-170.9°, player=(471,769), corner_timer=0.00
[22:31:39] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(471,769), corner_timer=-0.02
[22:31:39] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[22:31:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(467.8721, 779.3101), source=PLAYER (MakarovPM), range=1469, listeners=9
[22:31:39] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[22:31:39] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(467,773), corner_timer=0.30
[22:31:39] [INFO] [BloodDecal] Blood puddle created at (911.8398, 926.4404) (added to group)
[22:31:39] [INFO] [BloodDecal] Blood puddle created at (850.4382, 789.3412) (added to group)
[22:31:39] [INFO] [BloodDecal] Blood puddle created at (670.1176, 775.6931) (added to group)
[22:31:39] [INFO] [BloodDecal] Blood puddle created at (604.4628, 772.575) (added to group)
[22:31:39] [INFO] [BloodDecal] Blood puddle created at (654.8384, 769.2277) (added to group)
[22:31:39] [INFO] [BloodDecal] Blood puddle created at (653.7057, 725.4822) (added to group)
[22:31:39] [INFO] [BloodDecal] Blood puddle created at (619.4285, 741.4456) (added to group)
[22:31:39] [ENEMY] [Enemy1] State: RETREATING -> IN_COVER
[22:31:39] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[22:31:39] [ENEMY] [Enemy1] ROT_CHANGE: P1:visible -> P3:corner, state=IN_COVER, target=175.7°, current=113.0°, player=(460,781), corner_timer=0.03
[22:31:39] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[22:31:39] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[22:31:39] [INFO] [BloodDecal] Blood puddle created at (643.7385, 759.9581) (added to group)
[22:31:40] [INFO] [BloodDecal] Blood puddle created at (746.0357, 794.043) (added to group)
[22:31:40] [INFO] [BloodDecal] Blood puddle created at (607.9335, 764.4997) (added to group)
[22:31:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(537.2005, 747.511), shooter_id=56438556479, bullet_pos=(919.6205, 627.9772)
[22:31:40] [INFO] [Bullet] Using shooter_position, distance=400.666229248047
[22:31:40] [INFO] [Bullet] Distance to wall: 400.666229248047 (27.2821003097292% of viewport)
[22:31:40] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:31:40] [INFO] [Bullet] Caliber cannot penetrate walls
[22:31:40] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:31:40] [INFO] [BloodDecal] Blood puddle created at (578.6881, 745.7284) (added to group)
[22:31:40] [INFO] [BloodDecal] Blood puddle created at (611.7485, 768.1464) (added to group)
[22:31:40] [INFO] [BloodDecal] Blood puddle created at (627.4777, 811.6371) (added to group)
[22:31:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(429.2891, 818.3286), source=PLAYER (MakarovPM), range=1469, listeners=9
[22:31:40] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[22:31:40] [INFO] [BloodDecal] Blood puddle created at (691.8858, 726.537) (added to group)
[22:31:40] [INFO] [BloodDecal] Blood puddle created at (649.6584, 805.4835) (added to group)
[22:31:40] [INFO] [BloodDecal] Blood puddle created at (742.3557, 758.3701) (added to group)
[22:31:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(429.2891, 818.3286), shooter_id=56438556479, bullet_pos=(511.2201, 799.8002)
[22:31:40] [INFO] [Bullet] Using shooter_position, distance=84.0000152587891
[22:31:40] [INFO] [Bullet] Distance to wall: 84.0000152587891 (5.71971550137886% of viewport)
[22:31:40] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:31:40] [INFO] [Bullet] Caliber cannot penetrate walls
[22:31:40] [INFO] [BloodDecal] Blood puddle created at (706.5958, 800.4661) (added to group)
[22:31:40] [INFO] [BloodDecal] Blood puddle created at (679.0448, 775.9342) (added to group)
[22:31:40] [INFO] [BloodDecal] Blood puddle created at (774.0619, 771.751) (added to group)
[22:31:40] [INFO] [BloodDecal] Blood puddle created at (666.1641, 801.4666) (added to group)
[22:31:40] [INFO] [BloodDecal] Blood puddle created at (606.0244, 829.3292) (added to group)
[22:31:40] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(411,849), corner_timer=-0.02
[22:31:40] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[22:31:40] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(411,853), corner_timer=0.30
[22:31:40] [ENEMY] [Enemy1] State: SUPPRESSED -> SEEKING_COVER
[22:31:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(467.8721, 779.3101), shooter_id=56438556479, bullet_pos=(922.254, 670.0526)
[22:31:40] [INFO] [Bullet] Using shooter_position, distance=467.332946777344
[22:31:40] [INFO] [Bullet] Distance to wall: 467.332946777344 (31.821559695583% of viewport)
[22:31:40] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:31:40] [INFO] [Bullet] Caliber cannot penetrate walls
[22:31:40] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:31:40] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(461,927), corner_timer=-0.02
[22:31:40] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[22:31:40] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(465,931), corner_timer=0.30
[22:31:40] [ENEMY] [Enemy1] State: SEEKING_COVER -> IN_COVER
[22:31:40] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[22:31:40] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:31:40] [INFO] [ReplayManager] Recording frame 1200 (19,7s): player_valid=True, enemies=10
[22:31:40] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(483,966), corner_timer=-0.02
[22:31:40] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[22:31:40] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(483,966), corner_timer=0.30
[22:31:41] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:31:41] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[22:31:41] [ENEMY] [Enemy1] Player reloading: false -> true
[22:31:41] [ENEMY] [Enemy2] Player reloading: false -> true
[22:31:41] [ENEMY] [Enemy4] Player reloading: false -> true
[22:31:41] [ENEMY] [Enemy5] Player reloading: false -> true
[22:31:41] [ENEMY] [Enemy6] Player reloading: false -> true
[22:31:41] [ENEMY] [Enemy7] Player reloading: false -> true
[22:31:41] [ENEMY] [Enemy8] Player reloading: false -> true
[22:31:41] [ENEMY] [Enemy9] Player reloading: false -> true
[22:31:41] [ENEMY] [Enemy10] Player reloading: false -> true
[22:31:41] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(483.935, 966.3326), source=PLAYER (Player), range=900, listeners=9
[22:31:41] [ENEMY] [Enemy1] Heard player RELOAD at (483.935, 966.3326), intensity=0.01, distance=454
[22:31:41] [ENEMY] [Enemy1] Vulnerability sound triggered pursuit - transitioning from SUPPRESSED to PURSUING
[22:31:41] [ENEMY] [Enemy2] Heard player RELOAD at (483.935, 966.3326), intensity=0.02, distance=330
[22:31:41] [ENEMY] [Enemy2] Vulnerability sound triggered pursuit - transitioning from SUPPRESSED to PURSUING
[22:31:41] [ENEMY] [Enemy4] Heard player RELOAD at (483.935, 966.3326), intensity=0.01, distance=422
[22:31:41] [ENEMY] [Enemy4] Vulnerability sound triggered pursuit - transitioning from SUPPRESSED to PURSUING
[22:31:41] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[22:31:41] [ENEMY] [Enemy1] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=99.6°, current=175.7°, player=(483,966), corner_timer=0.03
[22:31:41] [ENEMY] [Enemy1] Player vulnerable (reloading) but cannot attack: close=false (dist=454), can_see=false
[22:31:41] [ENEMY] [Enemy1] Pursuing vulnerability sound at (483.935, 966.3326), distance=454
[22:31:41] [ENEMY] [Enemy2] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=84.4°, current=-74.7°, player=(483,966), corner_timer=0.15
[22:31:41] [ENEMY] [Enemy2] Player vulnerable (reloading) but cannot attack: close=true (dist=330), can_see=false
[22:31:41] [ENEMY] [Enemy2] Pursuing vulnerability sound at (483.935, 966.3326), distance=330
[22:31:41] [ENEMY] [Enemy4] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=163.3°, current=-112.5°, player=(483,966), corner_timer=0.00
[22:31:41] [ENEMY] [Enemy4] Player vulnerable (reloading) but cannot attack: close=false (dist=422), can_see=false
[22:31:41] [ENEMY] [Enemy4] Pursuing vulnerability sound at (483.935, 966.3326), distance=422
[22:31:41] [ENEMY] [Enemy5] Player vulnerable (reloading) but cannot attack: close=false (dist=1363), can_see=false
[22:31:41] [ENEMY] [Enemy6] Player vulnerable (reloading) but cannot attack: close=false (dist=1554), can_see=false
[22:31:41] [ENEMY] [Enemy7] Player vulnerable (reloading) but cannot attack: close=false (dist=1129), can_see=false
[22:31:41] [ENEMY] [Enemy8] Player vulnerable (reloading) but cannot attack: close=false (dist=1496), can_see=false
[22:31:41] [ENEMY] [Enemy9] Player vulnerable (reloading) but cannot attack: close=false (dist=1718), can_see=false
[22:31:41] [ENEMY] [Enemy10] Player vulnerable (reloading) but cannot attack: close=false (dist=927), can_see=false
[22:31:41] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[22:31:41] [ENEMY] [Enemy1] Player reloading: true -> false
[22:31:41] [ENEMY] [Enemy2] Player reloading: true -> false
[22:31:41] [ENEMY] [Enemy4] Player reloading: true -> false
[22:31:41] [ENEMY] [Enemy5] Player reloading: true -> false
[22:31:41] [ENEMY] [Enemy6] Player reloading: true -> false
[22:31:41] [ENEMY] [Enemy7] Player reloading: true -> false
[22:31:41] [ENEMY] [Enemy8] Player reloading: true -> false
[22:31:41] [ENEMY] [Enemy9] Player reloading: true -> false
[22:31:41] [ENEMY] [Enemy10] Player reloading: true -> false
[22:31:41] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[22:31:41] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(483,966), corner_timer=-0.02
[22:31:41] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[22:31:41] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(483,966), corner_timer=0.30
[22:31:41] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:31:41] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[22:31:41] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(483,966), corner_timer=-0.02
[22:31:41] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[22:31:41] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(483,966), corner_timer=0.30
[22:31:41] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:31:41] [INFO] [ReplayManager] Recording frame 1260 (20,7s): player_valid=True, enemies=10
[22:31:41] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(483,966), corner_timer=-0.02
[22:31:41] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[22:31:41] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(483,966), corner_timer=0.30
[22:31:42] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:31:42] [ENEMY] [Enemy1] Pursuing vulnerability sound at (483.935, 966.3326), distance=192
[22:31:42] [ENEMY] [Enemy2] Pursuing vulnerability sound at (483.935, 966.3326), distance=316
[22:31:42] [ENEMY] [Enemy4] Pursuing vulnerability sound at (483.935, 966.3326), distance=188
[22:31:42] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(483,966), corner_timer=-0.02
[22:31:42] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[22:31:42] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(483,966), corner_timer=0.30
[22:31:42] [ENEMY] [Enemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=96.0°, current=96.0°, player=(483,966), corner_timer=0.03
[22:31:42] [ENEMY] [Enemy1] State: PURSUING -> COMBAT
[22:31:42] [ENEMY] [Enemy1] State: COMBAT -> RETREATING
[22:31:42] [ENEMY] [Enemy1] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=175.7°, current=95.1°, player=(483,966), corner_timer=0.03
[22:31:42] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:31:42] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(483,966), corner_timer=-0.02
[22:31:42] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[22:31:42] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(483,966), corner_timer=0.30
[22:31:42] [ENEMY] [Enemy1] State: RETREATING -> IN_COVER
[22:31:42] [ENEMY] [Enemy1] State: IN_COVER -> PURSUING
[22:31:42] [ENEMY] [Enemy1] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=99.9°, current=147.6°, player=(483,966), corner_timer=0.03
[22:31:42] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:31:42] [INFO] [ReplayManager] Recording frame 1320 (21,7s): player_valid=True, enemies=10
[22:31:42] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(483,966), corner_timer=-0.02
[22:31:42] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[22:31:42] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(483,966), corner_timer=0.30
[22:31:43] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:31:43] [ENEMY] [Enemy2] Pursuing vulnerability sound at (483.935, 966.3326), distance=323
[22:31:43] [ENEMY] [Enemy4] Pursuing vulnerability sound at (483.935, 966.3326), distance=65
[22:31:43] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(483,966), corner_timer=-0.02
[22:31:43] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[22:31:43] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(483,966), corner_timer=0.30
[22:31:43] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:31:43] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(482,966), corner_timer=-0.02
[22:31:43] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[22:31:43] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(481,966), corner_timer=0.30
[22:31:43] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:31:43] [ENEMY] [Enemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=106.4°, current=105.6°, player=(455,964), corner_timer=0.03
[22:31:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(440.9384, 963.0931), source=PLAYER (MakarovPM), range=1469, listeners=9
[22:31:43] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[22:31:43] [INFO] [ReplayManager] Recording frame 1380 (22,7s): player_valid=True, enemies=10
[22:31:43] [ENEMY] [Enemy1] State: PURSUING -> COMBAT
[22:31:43] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(421,940), corner_timer=-0.02
[22:31:43] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[22:31:43] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(418,936), corner_timer=0.30
[22:31:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(398.5896, 923.3301), source=PLAYER (MakarovPM), range=1469, listeners=9
[22:31:43] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[22:31:44] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:31:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(440.9384, 963.0931), shooter_id=56438556479, bullet_pos=(498.6478, 702.0632)
[22:31:44] [INFO] [Bullet] Using shooter_position, distance=267.333068847656
[22:31:44] [INFO] [Bullet] Distance to wall: 267.333068847656 (18.2032002400039% of viewport)
[22:31:44] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:31:44] [INFO] [Bullet] Caliber cannot penetrate walls
[22:31:44] [ENEMY] [Enemy2] Pursuing vulnerability sound at (421.9242, 940.6647), distance=286
[22:31:44] [ENEMY] [Enemy4] Pursuing vulnerability sound at (421.9242, 940.6647), distance=131
[22:31:44] [ENEMY] [Enemy1] State: COMBAT -> RETREATING
[22:31:44] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(344,862), corner_timer=-0.02
[22:31:44] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[22:31:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(340.2531, 864.9937), source=PLAYER (MakarovPM), range=1469, listeners=9
[22:31:44] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[22:31:44] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(340,858), corner_timer=0.30
[22:31:44] [ENEMY] [Enemy1] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=175.7°, current=144.6°, player=(316,835), corner_timer=0.03
[22:31:44] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:31:44] [ENEMY] [Enemy1] State: RETREATING -> IN_COVER
[22:31:44] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[22:31:44] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(253,816), corner_timer=-0.02
[22:31:44] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[22:31:44] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(247,816), corner_timer=0.30
[22:31:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(221.4644, 825.9796), source=PLAYER (MakarovPM), range=1469, listeners=9
[22:31:44] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=2
[22:31:44] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:31:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(221.4644, 825.9796), shooter_id=56438556479, bullet_pos=(444.8612, 712.2792)
[22:31:44] [INFO] [Bullet] Using shooter_position, distance=250.666976928711
[22:31:44] [INFO] [Bullet] Distance to wall: 250.666976928711 (17.0683753950022% of viewport)
[22:31:44] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:31:44] [INFO] [Bullet] Caliber cannot penetrate walls
[22:31:44] [INFO] [ReplayManager] Recording frame 1440 (23,7s): player_valid=True, enemies=10
[22:31:44] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(167,865), corner_timer=-0.02
[22:31:44] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[22:31:44] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(165,869), corner_timer=0.30
[22:31:45] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:31:45] [ENEMY] [Enemy2] Pursuing vulnerability sound at (320.8076, 839.5482), distance=182
[22:31:45] [ENEMY] [Enemy4] Pursuing vulnerability sound at (320.8076, 839.5482), distance=265
[22:31:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(340.2531, 864.9937), shooter_id=56438556479, bullet_pos=(1125.547, 300.1515)
[22:31:45] [INFO] [Bullet] Using shooter_position, distance=967.333129882813
[22:31:45] [INFO] [Bullet] Distance to wall: 967.333129882813 (65.8674915824987% of viewport)
[22:31:45] [INFO] [Bullet] Distance-based penetration chance: 69.8212598204182%
[22:31:45] [INFO] [Bullet] Caliber cannot penetrate walls
[22:31:45] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(174,913), corner_timer=-0.02
[22:31:45] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[22:31:45] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(175,912), corner_timer=0.30
[22:31:45] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:31:45] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(143,867), corner_timer=-0.02
[22:31:45] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[22:31:45] [INFO] [BloodyFeet:Enemy4] Blood ran out - no more footprints
[22:31:45] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(139,863), corner_timer=0.30
[22:31:45] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:31:45] [INFO] [ReplayManager] Recording frame 1500 (24,7s): player_valid=True, enemies=10
[22:31:45] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(80,787), corner_timer=-0.02
[22:31:45] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[22:31:45] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(80,782), corner_timer=0.30
[22:31:46] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:31:46] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=168.2°, current=166.4°, player=(80,699), corner_timer=0.15
[22:31:46] [ENEMY] [Enemy2] Pursuing vulnerability sound at (80.07475, 699.7008), distance=174
[22:31:46] [ENEMY] [Enemy4] Pursuing vulnerability sound at (320.8076, 839.5482), distance=265
[22:31:46] [ENEMY] [Enemy1] ROT_CHANGE: P3:corner -> P1:visible, state=SUPPRESSED, target=176.0°, current=175.7°, player=(80,694), corner_timer=0.03
[22:31:46] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=PURSUING, target=169.6°, current=-109.4°, player=(80,694), corner_timer=0.15
[22:31:46] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=174.8°, current=-141.3°, player=(80,677), corner_timer=0.15
[22:31:46] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[22:31:46] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(80,677), corner_timer=-0.02
[22:31:46] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[22:31:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(533.8486, 662.6898), source=ENEMY (Enemy1), range=1469, listeners=9
[22:31:46] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=4
[22:31:46] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(80,672), corner_timer=0.30
[22:31:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(80.07475, 672.7008), source=PLAYER (MakarovPM), range=1469, listeners=9
[22:31:46] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=2
[22:31:46] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-178.9°, current=-126.0°, player=(80,661), corner_timer=0.15
[22:31:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(463.90674, 671.5418), shooter_id=52378469965, bullet_pos=(381.58862, 684.50995)
[22:31:46] [INFO] [Bullet] Using shooter_position, distance=83,333336
[22:31:46] [INFO] [Bullet] Distance to wall: 83,333336 (5,67432% of viewport)
[22:31:46] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:31:46] [INFO] [Bullet] Starting wall penetration at (381.58862, 684.50995)
[22:31:46] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[22:31:46] [INFO] [Bullet] Exiting penetration at (335.49048, 691.7721) after traveling 41,666676 pixels through wall
[22:31:46] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[22:31:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(533.8486, 662.6898), source=ENEMY (Enemy1), range=1469, listeners=9
[22:31:46] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=4
[22:31:46] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-172.3°, current=-123.6°, player=(80,644), corner_timer=0.15
[22:31:46] [ENEMY] [Enemy2] Hit: dmg=1, hp=3/4->2/4
[22:31:46] [INFO] [ImpactEffects] spawn_blood_effect called at (221.5629, 663.9336), dir=(0.997603, 0.069195), lethal=false
[22:31:46] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[22:31:46] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[22:31:46] [INFO] [ImpactEffects] Blood effect spawned at (221.5629, 663.9336) (scale=0.5)
[22:31:46] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:31:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(533.8486, 662.6898), source=ENEMY (Enemy1), range=1469, listeners=9
[22:31:46] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=4
[22:31:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(465.06683, 668.53595), shooter_id=52378469965, bullet_pos=(257.52396, 686.66736)
[22:31:46] [INFO] [Bullet] Using shooter_position, distance=208,33337
[22:31:46] [INFO] [Bullet] Distance to wall: 208,33337 (14,185802% of viewport)
[22:31:46] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:31:46] [INFO] [Bullet] Starting wall penetration at (257.52396, 686.66736)
[22:31:46] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[22:31:46] [INFO] [Bullet] Exiting penetration at (211.03435, 690.7288) after traveling 41,66667 pixels through wall
[22:31:46] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[22:31:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(533.8486, 662.6898), source=ENEMY (Enemy1), range=1469, listeners=9
[22:31:46] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=4
[22:31:46] [ENEMY] [Enemy1] State: SUPPRESSED -> SEEKING_COVER
[22:31:46] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[22:31:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(80.07475, 595.7008), source=PLAYER (MakarovPM), range=1469, listeners=9
[22:31:46] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=6, self=0, below_threshold=1
[22:31:46] [INFO] [LastChance] Threat detected: @Area2D@771
[22:31:46] [INFO] [LastChance] Not in hard mode - effect disabled
[22:31:46] [INFO] [LastChance] Cannot trigger effect - conditions not met
[22:31:46] [ENEMY] [Enemy1] ROT_CHANGE: P1:visible -> P3:corner, state=SEEKING_COVER, target=175.7°, current=100.8°, player=(80,589), corner_timer=0.03
[22:31:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(465.47668, 665.3065), shooter_id=52378469965, bullet_pos=(55.828625, 589.1511)
[22:31:46] [INFO] [Bullet] Using shooter_position, distance=416,66675
[22:31:46] [INFO] [Bullet] Distance to wall: 416,66675 (28,371605% of viewport)
[22:31:46] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:31:46] [INFO] [Bullet] Starting wall penetration at (55.828625, 589.1511)
[22:31:46] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(80,567), corner_timer=-0.02
[22:31:46] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[22:31:46] [INFO] [Bullet] Raycast backward hit penetrating body at distance 22,429777
[22:31:46] [INFO] [Bullet] Body exited signal received for penetrating body
[22:31:46] [INFO] [Bullet] Exiting penetration at (9.948048, 580.6217) after traveling 41,666668 pixels through wall
[22:31:46] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[22:31:46] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(80,562), corner_timer=0.30
[22:31:46] [ENEMY] [Enemy2] Hit: dmg=1, hp=2/4->1/4
[22:31:46] [INFO] [ImpactEffects] spawn_blood_effect called at (227.9233, 649.2439), dir=(0.959635, 0.281249), lethal=false
[22:31:46] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[22:31:46] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[22:31:46] [INFO] [ImpactEffects] Blood effect spawned at (227.9233, 649.2439) (scale=0.5)
[22:31:46] [INFO] [BloodDecal] Blood puddle created at (272.0774, 676.0195) (added to group)
[22:31:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(465.43262, 662.024), shooter_id=52378469965, bullet_pos=(34.62961, 505.56873)
[22:31:46] [INFO] [Bullet] Using shooter_position, distance=458,33337
[22:31:46] [INFO] [Bullet] Distance to wall: 458,33337 (31,208763% of viewport)
[22:31:46] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:31:46] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=-74.7°, current=156.3°, player=(80,534), corner_timer=0.15
[22:31:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(80.07475, 529.7008), source=PLAYER (MakarovPM), range=1469, listeners=9
[22:31:46] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=6, self=0, below_threshold=1
[22:31:46] [INFO] [BloodDecal] Blood puddle created at (301.4426, 670.5255) (added to group)
[22:31:46] [ENEMY] [Enemy1] State: SEEKING_COVER -> IN_COVER
[22:31:46] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:31:46] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[22:31:46] [ENEMY] [Enemy4] GLOBAL STUCK: pos=(548.0669, 971.1902) for 4.0s without player contact, State: PURSUING -> SEARCHING
[22:31:46] [ENEMY] [Enemy4] SEARCHING started: center=(548.0669, 971.1902), radius=100, waypoints=5
[22:31:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(465.43262, 662.024), shooter_id=52378469965, bullet_pos=(243.37761, 444.49057)
[22:31:46] [INFO] [Bullet] Using shooter_position, distance=310,85242
[22:31:46] [INFO] [Bullet] Distance to wall: 310,85242 (21,166513% of viewport)
[22:31:46] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:31:46] [INFO] [Bullet] Starting wall penetration at (243.37761, 444.49057)
[22:31:46] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[22:31:46] [INFO] [Bullet] Exiting penetration at (282.16794, 433.1408) after traveling 35,41667 pixels through wall
[22:31:46] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[22:31:46] [ENEMY] [Enemy2] ROT_CHANGE: P3:corner -> P1:visible, state=RETREATING, target=-129.4°, current=-106.4°, player=(80,485), corner_timer=0.15
[22:31:46] [INFO] [ReplayManager] Recording frame 1560 (25,7s): player_valid=True, enemies=10
[22:31:46] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(84,459), corner_timer=-0.02
[22:31:46] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[22:31:46] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(86,454), corner_timer=0.30
[22:31:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(232.5289, 641.5804), source=ENEMY (Enemy2), range=1469, listeners=9
[22:31:46] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=4, self=1, below_threshold=2
[22:31:46] [ENEMY] [Enemy1] State: SUPPRESSED -> SEEKING_COVER
[22:31:46] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=-74.7°, current=148.5°, player=(93,441), corner_timer=0.15
[22:31:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(97.01254, 443.2166), source=PLAYER (MakarovPM), range=1469, listeners=9
[22:31:46] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=0, below_threshold=2
[22:31:46] [ENEMY] [Enemy1] State: SEEKING_COVER -> IN_COVER
[22:31:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(80.07475, 529.7008), shooter_id=56438556479, bullet_pos=(394.1774, 685.6066)
[22:31:47] [INFO] [Bullet] Using shooter_position, distance=350.666687011719
[22:31:47] [INFO] [Bullet] Distance to wall: 350.666687011719 (23.8775395378066% of viewport)
[22:31:47] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:31:47] [INFO] [Bullet] Caliber cannot penetrate walls
[22:31:47] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[22:31:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(186.63235, 591.33997), shooter_id=52730791522, bullet_pos=(64.33835, 478.10583)
[22:31:47] [INFO] [Bullet] Using shooter_position, distance=166,66672
[22:31:47] [INFO] [Bullet] Distance to wall: 166,66672 (11,348644% of viewport)
[22:31:47] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:31:47] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:31:47] [INFO] [BloodDecal] Blood puddle created at (321.7445, 679.7098) (added to group)
[22:31:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(146.8756, 392.3704), source=PLAYER (MakarovPM), range=1469, listeners=9
[22:31:47] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=0, below_threshold=2
[22:31:47] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(154,378), corner_timer=-0.02
[22:31:47] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[22:31:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(146.8756, 392.3704), shooter_id=56438556479, bullet_pos=(218.8414, 435.6938)
[22:31:47] [INFO] [Bullet] Using shooter_position, distance=83.9999847412109
[22:31:47] [INFO] [Bullet] Distance to wall: 83.9999847412109 (5.71971342338085% of viewport)
[22:31:47] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:31:47] [INFO] [Bullet] Caliber cannot penetrate walls
[22:31:47] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(158,374), corner_timer=0.30
[22:31:47] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[22:31:47] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[22:31:47] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:31:47] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(232,300), corner_timer=-0.02
[22:31:47] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[22:31:47] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(236,296), corner_timer=0.30
[22:31:47] [ENEMY] [Enemy1] State: SUPPRESSED -> SEEKING_COVER
[22:31:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(97.01254, 443.2166), shooter_id=56438556479, bullet_pos=(730.4396, 814.0622)
[22:31:47] [INFO] [Bullet] Using shooter_position, distance=734.000244140625
[22:31:47] [INFO] [Bullet] Distance to wall: 734.000244140625 (49.97942633097% of viewport)
[22:31:47] [INFO] [Bullet] Distance-based penetration chance: 88.3573359472017%
[22:31:47] [INFO] [Bullet] Caliber cannot penetrate walls
[22:31:47] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:31:47] [ENEMY] [Enemy1] State: SEEKING_COVER -> IN_COVER
[22:31:47] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[22:31:47] [INFO] [ReplayManager] Recording frame 1620 (26,7s): player_valid=True, enemies=10
[22:31:47] [ENEMY] [Enemy4] SEARCHING corner check: angle 30.4°
[22:31:47] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(331,290), corner_timer=-0.02
[22:31:47] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[22:31:47] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(336,290), corner_timer=0.30
[22:31:47] [ENEMY] [Enemy1] Player ammo empty: false -> true
[22:31:47] [ENEMY] [Enemy2] Player ammo empty: false -> true
[22:31:47] [ENEMY] [Enemy4] Player ammo empty: false -> true
[22:31:47] [ENEMY] [Enemy5] Player ammo empty: false -> true
[22:31:47] [ENEMY] [Enemy6] Player ammo empty: false -> true
[22:31:47] [ENEMY] [Enemy7] Player ammo empty: false -> true
[22:31:47] [ENEMY] [Enemy8] Player ammo empty: false -> true
[22:31:47] [ENEMY] [Enemy9] Player ammo empty: false -> true
[22:31:47] [ENEMY] [Enemy10] Player ammo empty: false -> true
[22:31:47] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(358.7706, 290.0651), source=PLAYER (Player), range=600, listeners=9
[22:31:47] [ENEMY] [Enemy1] Heard player EMPTY_CLICK at (358.7706, 290.0651), intensity=0.01, distance=474
[22:31:47] [ENEMY] [Enemy1] Vulnerability sound triggered pursuit - transitioning from SUPPRESSED to PURSUING
[22:31:47] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (358.7706, 290.0651), intensity=0.02, distance=348
[22:31:47] [ENEMY] [Enemy2] Vulnerability sound triggered pursuit - transitioning from SUPPRESSED to PURSUING
[22:31:47] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=7, self=0, below_threshold=0
[22:31:47] [ENEMY] [Enemy1] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=-106.8°, current=175.7°, player=(358,290), corner_timer=0.03
[22:31:47] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=474), can_see=false
[22:31:47] [ENEMY] [Enemy1] Pursuing vulnerability sound at (358.7706, 290.0651), distance=474
[22:31:47] [ENEMY] [Enemy2] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=-81.0°, current=-74.7°, player=(358,290), corner_timer=0.15
[22:31:47] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=348), can_see=false
[22:31:47] [ENEMY] [Enemy2] Pursuing vulnerability sound at (358.7706, 290.0651), distance=348
[22:31:47] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=654), can_see=false
[22:31:47] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1343), can_see=false
[22:31:47] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1599), can_see=false
[22:31:47] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1393), can_see=false
[22:31:47] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1929), can_see=false
[22:31:47] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2149), can_see=false
[22:31:47] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1537), can_see=false
[22:31:48] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:31:48] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-75.2°, current=-124.3°, player=(391,290), corner_timer=0.15
[22:31:48] [ENEMY] [Enemy2] Player empty ammo - priority attack triggered
[22:31:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(309.0494, 602.2645), source=ENEMY (Enemy2), range=1469, listeners=9
[22:31:48] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=3
[22:31:48] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=SEARCHING, target=-103.3°, current=-102.3°, player=(402,290), corner_timer=0.23
[22:31:48] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) - pursuing to attack (dist=633)
[22:31:48] [ENEMY] [Enemy4] Pursuing vulnerability sound at (402.7706, 290.0651), distance=633
[22:31:48] [ENEMY] [Enemy4] State: SEARCHING -> PURSUING
[22:31:48] [INFO] [LastChance] Threat detected: Bullet
[22:31:48] [INFO] [LastChance] Not in hard mode - effect disabled
[22:31:48] [INFO] [LastChance] Cannot trigger effect - conditions not met
[22:31:48] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(419.2706, 290.0651), source=PLAYER (Player), range=600, listeners=9
[22:31:48] [ENEMY] [Enemy1] Heard player EMPTY_CLICK at (419.2706, 290.0651), intensity=0.01, distance=449
[22:31:48] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (419.2706, 290.0651), intensity=0.03, distance=305
[22:31:48] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=7, self=0, below_threshold=0
[22:31:48] [ENEMY] [Enemy2] Player empty ammo - priority attack triggered
[22:31:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(319.9398, 566.6313), source=ENEMY (Enemy2), range=1469, listeners=9
[22:31:48] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=3
[22:31:48] [ENEMY] [Enemy4] ROT_CHANGE: P1:visible -> P2:combat_state, state=PURSUING, target=-102.1°, current=-103.7°, player=(441,290), corner_timer=0.23
[22:31:48] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(441,290), corner_timer=-0.02
[22:31:48] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[22:31:48] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(446.7706, 290.0651), source=PLAYER (Player), range=600, listeners=9
[22:31:48] [ENEMY] [Enemy1] Heard player EMPTY_CLICK at (446.7706, 290.0651), intensity=0.01, distance=446
[22:31:48] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (446.7706, 290.0651), intensity=0.03, distance=288
[22:31:48] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=6, self=0, below_threshold=1
[22:31:48] [INFO] [LastChance] Threat detected: @Area2D@812
[22:31:48] [INFO] [LastChance] Not in hard mode - effect disabled
[22:31:48] [INFO] [LastChance] Cannot trigger effect - conditions not met
[22:31:48] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(446,290), corner_timer=0.30
[22:31:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(333.90314, 538.9171), shooter_id=52730791522, bullet_pos=(459.7475, 55.012943)
[22:31:48] [INFO] [Bullet] Using shooter_position, distance=500,00006
[22:31:48] [INFO] [Bullet] Distance to wall: 500,00006 (34,045925% of viewport)
[22:31:48] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:31:48] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[22:31:48] [ENEMY] [Enemy2] Player empty ammo - priority attack triggered
[22:31:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(335.3975, 532.6748), source=ENEMY (Enemy2), range=1469, listeners=9
[22:31:48] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=3
[22:31:48] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[22:31:48] [INFO] [LastChance] Threat detected: @Area2D@817
[22:31:48] [INFO] [LastChance] Not in hard mode - effect disabled
[22:31:48] [INFO] [LastChance] Cannot trigger effect - conditions not met
[22:31:48] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:31:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(333.90314, 538.9171), shooter_id=52730791522, bullet_pos=(506.6102, 230.96245)
[22:31:48] [INFO] [Bullet] Using shooter_position, distance=353,0776
[22:31:48] [INFO] [Bullet] Distance to wall: 353,0776 (24,041704% of viewport)
[22:31:48] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:31:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(352.23264, 506.73334), shooter_id=52730791522, bullet_pos=(539.88275, 43.281654)
[22:31:48] [INFO] [Bullet] Using shooter_position, distance=500,00003
[22:31:48] [INFO] [Bullet] Distance to wall: 500,00003 (34,04592% of viewport)
[22:31:48] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:31:48] [INFO] [Player] Hit blocked by invincibility mode (C#)
[22:31:48] [INFO] [Player] Spawning blood effect at (483.93192, 279.93152), dir=(1, 0), lethal=False (C#)
[22:31:48] [INFO] [ImpactEffects] spawn_blood_effect called at (483.9319, 279.9315), dir=(1, 0), lethal=false
[22:31:48] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[22:31:48] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[22:31:48] [INFO] [ImpactEffects] Wall found for blood splatter at (500, 279.9315) (dist=16 px)
[22:31:48] [INFO] [BloodDecal] Blood puddle created at (499, 279.9315) (added to group)
[22:31:48] [INFO] [ImpactEffects] Blood effect spawned at (483.9319, 279.9315) (scale=1)
[22:31:48] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[22:31:48] [ENEMY] [Enemy2] Player empty ammo - priority attack triggered
[22:31:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(321.7148, 520.5641), source=ENEMY (Enemy2), range=1469, listeners=9
[22:31:48] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=3
[22:31:48] [INFO] [LastChance] Threat detected: Bullet
[22:31:48] [INFO] [LastChance] Not in hard mode - effect disabled
[22:31:48] [INFO] [LastChance] Cannot trigger effect - conditions not met
[22:31:48] [INFO] [BloodyFeet:Enemy4] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[22:31:48] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=470), can_see=false
[22:31:48] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=532), can_see=false
[22:31:48] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1219), can_see=false
[22:31:48] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1477), can_see=false
[22:31:48] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1291), can_see=false
[22:31:48] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1844), can_see=false
[22:31:48] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2062), can_see=false
[22:31:48] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1494), can_see=false
[22:31:48] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[22:31:48] [ENEMY] [Enemy1] Player reloading: false -> true
[22:31:48] [ENEMY] [Enemy2] Player reloading: false -> true
[22:31:48] [ENEMY] [Enemy4] Player reloading: false -> true
[22:31:48] [ENEMY] [Enemy5] Player reloading: false -> true
[22:31:48] [ENEMY] [Enemy6] Player reloading: false -> true
[22:31:48] [ENEMY] [Enemy7] Player reloading: false -> true
[22:31:48] [ENEMY] [Enemy8] Player reloading: false -> true
[22:31:48] [ENEMY] [Enemy9] Player reloading: false -> true
[22:31:48] [ENEMY] [Enemy10] Player reloading: false -> true
[22:31:48] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(483.9319, 266.722), source=PLAYER (Player), range=900, listeners=9
[22:31:48] [ENEMY] [Enemy1] Heard player RELOAD at (483.9319, 266.722), intensity=0.01, distance=473
[22:31:48] [ENEMY] [Enemy2] Heard player RELOAD at (483.9319, 266.722), intensity=0.03, distance=309
[22:31:48] [ENEMY] [Enemy2] Vulnerability sound triggered pursuit - transitioning from RETREATING to PURSUING
[22:31:48] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=6, self=0, below_threshold=1
[22:31:48] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=PURSUING, target=-54.3°, current=-54.2°, player=(483,266), corner_timer=0.15
[22:31:48] [ENEMY] [Enemy2] Player vulnerable (reloading) but cannot attack: close=true (dist=309), can_see=false
[22:31:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(365.71252, 468.65274), shooter_id=52730791522, bullet_pos=(505.77887, 261.5744)
[22:31:48] [INFO] [Bullet] Using shooter_position, distance=250,00005
[22:31:48] [INFO] [Bullet] Distance to wall: 250,00005 (17,022963% of viewport)
[22:31:48] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:31:48] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(483,257), corner_timer=-0.02
[22:31:48] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[22:31:48] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(483,253), corner_timer=0.30
[22:31:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(365.71252, 468.65274), shooter_id=52730791522, bullet_pos=(376.9058, 43.954193)
[22:31:48] [INFO] [Bullet] Using shooter_position, distance=424,84604
[22:31:48] [INFO] [Bullet] Distance to wall: 424,84604 (28,928549% of viewport)
[22:31:48] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:31:48] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[22:31:48] [ENEMY] [Enemy1] Player reloading: true -> false
[22:31:48] [ENEMY] [Enemy2] Player reloading: true -> false
[22:31:48] [ENEMY] [Enemy4] Player reloading: true -> false
[22:31:48] [ENEMY] [Enemy5] Player reloading: true -> false
[22:31:48] [ENEMY] [Enemy6] Player reloading: true -> false
[22:31:48] [ENEMY] [Enemy7] Player reloading: true -> false
[22:31:48] [ENEMY] [Enemy8] Player reloading: true -> false
[22:31:48] [ENEMY] [Enemy9] Player reloading: true -> false
[22:31:48] [ENEMY] [Enemy10] Player reloading: true -> false
[22:31:48] [ENEMY] [Enemy1] Player ammo empty: true -> false
[22:31:48] [ENEMY] [Enemy2] Player ammo empty: true -> false
[22:31:48] [ENEMY] [Enemy4] Player ammo empty: true -> false
[22:31:48] [ENEMY] [Enemy5] Player ammo empty: true -> false
[22:31:48] [ENEMY] [Enemy6] Player ammo empty: true -> false
[22:31:48] [ENEMY] [Enemy7] Player ammo empty: true -> false
[22:31:48] [ENEMY] [Enemy8] Player ammo empty: true -> false
[22:31:48] [ENEMY] [Enemy9] Player ammo empty: true -> false
[22:31:48] [ENEMY] [Enemy10] Player ammo empty: true -> false
[22:31:48] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[22:31:48] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:31:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(365.71252, 468.65274), shooter_id=52730791522, bullet_pos=(235.63806, 245.14435)
[22:31:48] [INFO] [Bullet] Using shooter_position, distance=258,60272
[22:31:48] [INFO] [Bullet] Distance to wall: 258,60272 (17,608734% of viewport)
[22:31:48] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:31:48] [INFO] [Bullet] Starting wall penetration at (235.63806, 245.14435)
[22:31:48] [INFO] [Bullet] Raycast backward hit penetrating body at distance 7,890896
[22:31:48] [INFO] [Bullet] Body exited signal received for penetrating body
[22:31:48] [INFO] [Bullet] Exiting penetration at (215.46552, 273.87363) after traveling 30,104172 pixels through wall
[22:31:48] [INFO] [Bullet] Damage multiplier after penetration: 0,225
[22:31:48] [INFO] [ReplayManager] Recording frame 1680 (27,7s): player_valid=True, enemies=10
[22:31:48] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[22:31:48] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(483,152), corner_timer=-0.02
[22:31:48] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[22:31:48] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(483,147), corner_timer=0.30
[22:31:48] [ENEMY] [Enemy1] Pursuing vulnerability sound at (483.9319, 269.1458), distance=477
[22:31:48] [ENEMY] [Enemy2] Pursuing vulnerability sound at (483.9319, 266.722), distance=294
[22:31:49] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:31:49] [ENEMY] [Enemy4] Pursuing vulnerability sound at (435.7706, 290.0651), distance=343
[22:31:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(483.9562, 86.0663), source=PLAYER (MakarovPM), range=1469, listeners=9
[22:31:49] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=0, below_threshold=4
[22:31:49] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(483,80), corner_timer=-0.02
[22:31:49] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[22:31:49] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(482,80), corner_timer=0.30
[22:31:49] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-92.2°, current=-92.1°, player=(479,80), corner_timer=0.23
[22:31:49] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[22:31:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(475.4811, 86.07594), source=PLAYER (MakarovPM), range=1469, listeners=9
[22:31:49] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=0, below_threshold=4
[22:31:49] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:31:49] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(438,91), corner_timer=-0.02
[22:31:49] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[22:31:49] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(435,94), corner_timer=0.30
[22:31:49] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:31:49] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(483.9562, 86.0663), shooter_id=56438556479, bullet_pos=(353.7115, 689.5037)
[22:31:49] [INFO] [Bullet] Using shooter_position, distance=617.333251953125
[22:31:49] [INFO] [Bullet] Distance to wall: 617.333251953125 (42.0353563012414% of viewport)
[22:31:49] [INFO] [Bullet] Distance-based penetration chance: 97.6254176485517%
[22:31:49] [INFO] [Bullet] Caliber cannot penetrate walls
[22:31:49] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[22:31:49] [INFO] [ReplayManager] Recording frame 1740 (28,7s): player_valid=True, enemies=10
[22:31:49] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(381,176), corner_timer=-0.02
[22:31:49] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[22:31:49] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(379,180), corner_timer=0.30
[22:31:49] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(475.4811, 86.07594), shooter_id=56438556479, bullet_pos=(334.7906, 687.1642)
[22:31:49] [INFO] [Bullet] Using shooter_position, distance=617.333679199219
[22:31:49] [INFO] [Bullet] Distance to wall: 617.333679199219 (42.0353853932135% of viewport)
[22:31:49] [INFO] [Bullet] Distance-based penetration chance: 97.6253837079176%
[22:31:49] [INFO] [Bullet] Caliber cannot penetrate walls
[22:31:49] [INFO] [BloodyFeet:Player] Blood ran out - no more footprints
[22:31:50] [ENEMY] [Enemy1] Pursuing vulnerability sound at (431.3951, 97.95029), distance=647
[22:31:50] [ENEMY] [Enemy2] Pursuing vulnerability sound at (431.3951, 97.95029), distance=425
[22:31:50] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:31:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(356.2545, 231.9818), source=PLAYER (MakarovPM), range=1469, listeners=9
[22:31:50] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=4, self=0, below_threshold=3
[22:31:50] [INFO] [BloodyFeet:Enemy4] Blood ran out - no more footprints
[22:31:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(356.0663, 281.1445), source=PLAYER (MakarovPM), range=1469, listeners=9
[22:31:50] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=2
[22:31:50] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(356,275), corner_timer=-0.02
[22:31:50] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[22:31:50] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(356,280), corner_timer=0.30
[22:31:50] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:31:50] [INFO] [BloodyFeet:Enemy4] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[22:31:50] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(356.2545, 231.9818), shooter_id=56438556479, bullet_pos=(496.8169, 695.121)
[22:31:50] [INFO] [Bullet] Using shooter_position, distance=483.999755859375
[22:31:50] [INFO] [Bullet] Distance to wall: 483.999755859375 (32.9564333735379% of viewport)
[22:31:50] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:31:50] [INFO] [Bullet] Caliber cannot penetrate walls
[22:31:50] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(356,385), corner_timer=-0.02
[22:31:50] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[22:31:50] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(356,390), corner_timer=0.30
[22:31:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(356.9902, 401.7618), source=PLAYER (MakarovPM), range=1469, listeners=9
[22:31:50] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[22:31:50] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(356.0663, 281.1445), shooter_id=56438556479, bullet_pos=(475.9904, 698.247)
[22:31:50] [INFO] [Bullet] Using shooter_position, distance=434.000274658203
[22:31:50] [INFO] [Bullet] Distance to wall: 434.000274658203 (29.5518767576114% of viewport)
[22:31:50] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:31:50] [INFO] [Bullet] Caliber cannot penetrate walls
[22:31:50] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:31:50] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-23.4°, current=-25.4°, player=(385,446), corner_timer=0.15
[22:31:50] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[22:31:50] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[22:31:50] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(356.9902, 401.7618), shooter_id=56438556479, bullet_pos=(450.8821, 687.3924)
[22:31:50] [INFO] [Bullet] Using shooter_position, distance=300.666778564453
[22:31:50] [INFO] [Bullet] Distance to wall: 300.666778564453 (20.4729538299079% of viewport)
[22:31:50] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:31:50] [INFO] [Bullet] Caliber cannot penetrate walls
[22:31:50] [INFO] [ReplayManager] Recording frame 1800 (29,7s): player_valid=True, enemies=10
[22:31:50] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=-74.7°, current=48.6°, player=(409,469), corner_timer=0.15
[22:31:50] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(409,469), corner_timer=-0.02
[22:31:50] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[22:31:50] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(412,473), corner_timer=0.30
[22:31:50] [ENEMY] [Enemy2] ROT_CHANGE: P3:corner -> P1:visible, state=RETREATING, target=-4.5°, current=43.3°, player=(428,488), corner_timer=0.15
[22:31:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(440.1603, 506.4186), source=PLAYER (MakarovPM), range=1469, listeners=9
[22:31:51] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[22:31:51] [ENEMY] [Enemy1] Pursuing vulnerability sound at (359.1459, 405.8689), distance=346
[22:31:51] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:31:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(483.9324, 553.0878), source=PLAYER (MakarovPM), range=1469, listeners=9
[22:31:51] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[22:31:51] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(483,547), corner_timer=-0.02
[22:31:51] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[22:31:51] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(483,550), corner_timer=0.30
[22:31:51] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:31:51] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(440.1603, 506.4186), shooter_id=56438556479, bullet_pos=(57.36335, 536.7908)
[22:31:51] [INFO] [Bullet] Using shooter_position, distance=383.999969482422
[22:31:51] [INFO] [Bullet] Distance to wall: 383.999969482422 (26.1472640357385% of viewport)
[22:31:51] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:31:51] [INFO] [Bullet] Caliber cannot penetrate walls
[22:31:51] [ENEMY] [Enemy4] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=30.4°, current=-119.5°, player=(480,593), corner_timer=0.23
[22:31:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(479.2051, 604.2468), source=PLAYER (MakarovPM), range=1469, listeners=9
[22:31:51] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[22:31:51] [ENEMY] [Enemy4] Hit: dmg=1, hp=4/4->3/4
[22:31:51] [INFO] [ImpactEffects] spawn_blood_effect called at (171.3738, 546.4174), dir=(-0.994473, -0.104989), lethal=false
[22:31:51] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[22:31:51] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[22:31:51] [INFO] [ImpactEffects] Blood effect spawned at (171.3738, 546.4174) (scale=0.5)
[22:31:51] [ENEMY] [Enemy4] ROT_CHANGE: P3:corner -> P1:visible, state=RETREATING, target=14.9°, current=6.0°, player=(463,624), corner_timer=0.23
[22:31:51] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(451,635), corner_timer=-0.02
[22:31:51] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[22:31:51] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(447,639), corner_timer=0.30
[22:31:51] [INFO] [BloodyFeet:Enemy2] Blood ran out - no more footprints
[22:31:51] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:31:51] [INFO] [BloodDecal] Blood puddle created at (117.9153, 579.1205) (added to group)
[22:31:51] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(479.2051, 604.2468), shooter_id=56438556479, bullet_pos=(52.04301, 527.5095)
[22:31:51] [INFO] [Bullet] Using shooter_position, distance=434.000091552734
[22:31:51] [INFO] [Bullet] Distance to wall: 434.000091552734 (29.5518642896233% of viewport)
[22:31:51] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:31:51] [INFO] [Bullet] Caliber cannot penetrate walls
[22:31:51] [INFO] [ReplayManager] Recording frame 1860 (30,7s): player_valid=True, enemies=10
[22:31:51] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(412,671), corner_timer=-0.02
[22:31:51] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[22:31:51] [INFO] [BloodDecal] Blood puddle created at (75.17438, 557.3973) (added to group)
[22:31:51] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(413,671), corner_timer=0.30
[22:31:51] [ENEMY] [Enemy4] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=30.4°, current=88.1°, player=(421,671), corner_timer=0.23
[22:31:51] [INFO] [BloodDecal] Blood puddle created at (97.81109, 607.4002) (added to group)
[22:31:52] [INFO] [BloodDecal] Blood puddle created at (93.10309, 563.8133) (added to group)
[22:31:52] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:31:52] [ENEMY] [Enemy1] Pursuing vulnerability sound at (428.5353, 659.2336), distance=190
[22:31:52] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=-74.7°, current=43.7°, player=(435,671), corner_timer=0.15
[22:31:52] [INFO] [BloodyFeet:Enemy4] Blood ran out - no more footprints
[22:31:52] [INFO] [BloodDecal] Blood puddle created at (83.95795, 619.9714) (added to group)
[22:31:52] [INFO] [BloodDecal] Blood puddle created at (77.00757, 624.2886) (added to group)
[22:31:52] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[22:31:52] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[22:31:52] [INFO] [BloodDecal] Blood puddle created at (65.04529, 664.3506) (added to group)
[22:31:52] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[22:31:52] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[22:31:52] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(493,671), corner_timer=-0.02
[22:31:52] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[22:31:52] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(498,671), corner_timer=0.30
[22:31:52] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:31:52] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(575,625), corner_timer=-0.02
[22:31:52] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[22:31:52] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[22:31:52] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:31:52] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[22:31:52] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[22:31:52] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[22:31:52] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[22:31:52] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[22:31:52] [INFO] [LastChance] Resetting all effects (scene change detected)
[22:31:52] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[22:31:52] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[22:31:52] [ENEMY] [Enemy1] Death animation component initialized
[22:31:52] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:31:52] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[22:31:52] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[22:31:52] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[22:31:52] [ENEMY] [Enemy2] Death animation component initialized
[22:31:52] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:31:52] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[22:31:52] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[22:31:52] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[22:31:52] [ENEMY] [Enemy3] Death animation component initialized
[22:31:52] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:31:52] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[22:31:52] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[22:31:52] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[22:31:52] [ENEMY] [Enemy4] Death animation component initialized
[22:31:52] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:31:52] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[22:31:52] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[22:31:52] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[22:31:52] [ENEMY] [Enemy5] Death animation component initialized
[22:31:52] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:31:52] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[22:31:52] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[22:31:52] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[22:31:52] [ENEMY] [Enemy6] Death animation component initialized
[22:31:52] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:31:52] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[22:31:52] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[22:31:52] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[22:31:52] [ENEMY] [Enemy7] Death animation component initialized
[22:31:52] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:31:52] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[22:31:52] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[22:31:52] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[22:31:52] [ENEMY] [Enemy8] Death animation component initialized
[22:31:52] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:31:52] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[22:31:52] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[22:31:52] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[22:31:52] [ENEMY] [Enemy9] Death animation component initialized
[22:31:52] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:31:52] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[22:31:52] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[22:31:52] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[22:31:52] [ENEMY] [Enemy10] Death animation component initialized
[22:31:52] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:31:52] [INFO] [BloodyFeet:Player] Footprint scene loaded
[22:31:52] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[22:31:52] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[22:31:52] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[22:31:52] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[22:31:52] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[22:31:52] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[22:31:52] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[22:31:52] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[22:31:52] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[22:31:52] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: True
[22:31:52] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[22:31:52] [INFO] [Player] Ready! Ammo: 9/9, Grenades: 1/3, Health: 10/10
[22:31:52] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[22:31:52] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[22:31:52] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[22:31:52] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[22:31:52] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[22:31:52] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[22:31:52] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[22:31:52] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[22:31:52] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[22:31:52] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[22:31:52] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[22:31:52] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[22:31:52] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[22:31:52] [INFO] [BuildingLevel] Setting up weapon: makarov_pm
[22:31:52] [INFO] [ScoreManager] Level started with 10 enemies
[22:31:52] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[22:31:52] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[22:31:52] [INFO] [ReplayManager] Replay data cleared
[22:31:52] [INFO] [BuildingLevel] Previous replay data cleared
[22:31:52] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[22:31:52] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[22:31:52] [INFO] [ReplayManager] Level: BuildingLevel
[22:31:52] [INFO] [ReplayManager] Player: Player (valid: True)
[22:31:52] [INFO] [ReplayManager] Enemies count: 10
[22:31:52] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[22:31:52] [INFO] [ReplayManager]   Enemy 0: Enemy1
[22:31:52] [INFO] [ReplayManager]   Enemy 1: Enemy2
[22:31:52] [INFO] [ReplayManager]   Enemy 2: Enemy3
[22:31:52] [INFO] [ReplayManager]   Enemy 3: Enemy4
[22:31:52] [INFO] [ReplayManager]   Enemy 4: Enemy5
[22:31:52] [INFO] [ReplayManager]   Enemy 5: Enemy6
[22:31:52] [INFO] [ReplayManager]   Enemy 6: Enemy7
[22:31:52] [INFO] [ReplayManager]   Enemy 7: Enemy8
[22:31:52] [INFO] [ReplayManager]   Enemy 8: Enemy9
[22:31:52] [INFO] [ReplayManager]   Enemy 9: Enemy10
[22:31:52] [INFO] [BuildingLevel] Replay recording started successfully
[22:31:52] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[22:31:52] [INFO] [CinemaEffects] Found player node: Player
[22:31:52] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[22:31:52] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[22:31:52] [ENEMY] [Enemy1] Registered as sound listener
[22:31:52] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 3, behavior: GUARD
[22:31:52] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[22:31:52] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[22:31:52] [ENEMY] [Enemy2] Registered as sound listener
[22:31:52] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 3, behavior: GUARD
[22:31:52] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[22:31:52] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[22:31:52] [ENEMY] [Enemy3] Registered as sound listener
[22:31:52] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 3, behavior: GUARD
[22:31:52] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[22:31:52] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[22:31:52] [ENEMY] [Enemy4] Registered as sound listener
[22:31:52] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 4, behavior: GUARD
[22:31:52] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[22:31:52] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[22:31:52] [ENEMY] [Enemy5] Registered as sound listener
[22:31:52] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 4, behavior: GUARD
[22:31:52] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[22:31:52] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[22:31:52] [ENEMY] [Enemy6] Registered as sound listener
[22:31:52] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 4, behavior: GUARD
[22:31:52] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[22:31:52] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[22:31:52] [ENEMY] [Enemy7] Registered as sound listener
[22:31:52] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 4, behavior: PATROL
[22:31:52] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[22:31:52] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[22:31:52] [ENEMY] [Enemy8] Registered as sound listener
[22:31:52] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 3, behavior: GUARD
[22:31:52] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[22:31:52] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[22:31:52] [ENEMY] [Enemy9] Registered as sound listener
[22:31:52] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 4, behavior: GUARD
[22:31:52] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[22:31:52] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[22:31:52] [ENEMY] [Enemy10] Registered as sound listener
[22:31:52] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 4, behavior: PATROL
[22:31:52] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[22:31:52] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[22:31:52] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=33.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[22:31:52] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[22:31:52] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[22:31:52] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[22:31:52] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[22:31:52] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[22:31:52] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=157.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[22:31:52] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[22:31:52] [INFO] [Player] Detecting weapon pose (frame 3)...
[22:31:52] [INFO] [Player] Detected weapon: Makarov PM (Pistol pose)
[22:31:52] [INFO] [Player] Applied Pistol arm pose: Left=(16, 6), Right=(4, 6)
[22:31:52] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[22:31:52] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[22:31:52] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[22:31:52] [INFO] [LastChance] Found player: Player
[22:31:52] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[22:31:52] [INFO] [LastChance] Connected to player Damaged signal (C#)
[22:31:52] [INFO] [LastChance] Connected to player Died signal (C#)
[22:31:52] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[22:31:53] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[22:31:54] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=164.4°, current=-168.8°, player=(450,819), corner_timer=0.00
[22:31:54] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[22:31:54] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=166.8°, current=-8.9°, player=(449,809), corner_timer=0.00
[22:31:54] [ENEMY] [Enemy4] Memory: high confidence (0.89) - transitioning to PURSUING
[22:31:54] [ENEMY] [Enemy4] State: IDLE -> PURSUING
[22:31:54] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[22:31:54] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[22:31:54] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=-162.2°, current=168.8°, player=(441,784), corner_timer=0.00
[22:31:54] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(441,784), corner_timer=0.30
[22:31:54] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(441,784), corner_timer=0.30
[22:31:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(436.768, 782.7252), source=PLAYER (MakarovPM), range=1469, listeners=19
[22:31:54] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[22:31:54] [ENEMY] [Enemy1] Heard gunshot at (436.768, 782.7252), source_type=0, intensity=0.01, distance=454
[22:31:54] [ENEMY] [Enemy2] Heard gunshot at (436.768, 782.7252), source_type=0, intensity=0.05, distance=236
[22:31:54] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[22:31:54] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=72.2°, current=33.8°, player=(436,776), corner_timer=0.00
[22:31:54] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=80.8°, current=-101.3°, player=(436,776), corner_timer=0.00
[22:31:54] [ENEMY] [Enemy4] PURSUING corner check: angle -90.6°
[22:31:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(407.3046, 759.804), source=PLAYER (MakarovPM), range=1469, listeners=10
[22:31:54] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[22:31:54] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(378,755), corner_timer=-0.02
[22:31:54] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[22:31:54] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.7°, player=(378,755), corner_timer=-0.02
[22:31:54] [ENEMY] [Enemy10] PATROL corner check: angle 14.6°
[22:31:54] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(374,757), corner_timer=0.30
[22:31:54] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.6°, current=53.0°, player=(374,757), corner_timer=0.30
[22:31:54] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[22:31:54] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P4:velocity, state=RETREATING, target=-138.4°, current=81.5°, player=(362,764), corner_timer=0.00
[22:31:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(359.0961, 773.274), source=PLAYER (MakarovPM), range=1469, listeners=10
[22:31:54] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[22:31:54] [ENEMY] [Enemy3] Hit: dmg=1, hp=3/3->2/3
[22:31:54] [INFO] [ImpactEffects] spawn_blood_effect called at (679.3392, 748.361), dir=(0.999193, -0.040159), lethal=false
[22:31:54] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[22:31:54] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[22:31:54] [INFO] [ImpactEffects] Blood effect spawned at (679.3392, 748.361) (scale=0.5)
[22:31:54] [ENEMY] [Enemy3] ROT_CHANGE: P4:velocity -> P1:visible, state=RETREATING, target=176.6°, current=177.7°, player=(359,767), corner_timer=0.00
[22:31:54] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[22:31:54] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(436.768, 782.7252), shooter_id=1022504210399, bullet_pos=(920.7668, 783.746)
[22:31:54] [INFO] [Bullet] Using shooter_position, distance=483.999908447266
[22:31:54] [INFO] [Bullet] Distance to wall: 483.999908447266 (32.956443763528% of viewport)
[22:31:54] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:31:54] [INFO] [Bullet] Caliber cannot penetrate walls
[22:31:54] [ENEMY] [Enemy4] PURSUING corner check: angle -92.2°
[22:31:54] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[22:31:54] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[22:31:54] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.3°, player=(335,820), corner_timer=-0.02
[22:31:54] [ENEMY] [Enemy10] PATROL corner check: angle 7.1°
[22:31:54] [INFO] [BloodDecal] Blood puddle created at (749.9265, 789.2697) (added to group)
[22:31:54] [INFO] [BloodDecal] Blood puddle created at (751.9189, 738.0226) (added to group)
[22:31:54] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.1°, current=16.9°, player=(336,823), corner_timer=0.30
[22:31:54] [INFO] [BloodDecal] Blood puddle created at (736.8112, 746.2243) (added to group)
[22:31:54] [INFO] [BloodDecal] Blood puddle created at (760.5008, 754.2962) (added to group)
[22:31:54] [INFO] [BloodDecal] Blood puddle created at (788.9589, 785.0727) (added to group)
[22:31:54] [INFO] [BloodDecal] Blood puddle created at (797.3848, 792.7424) (added to group)
[22:31:55] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[22:31:55] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:31:55] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[22:31:55] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[22:31:55] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[22:31:55] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[22:31:55] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[22:31:55] [INFO] [LastChance] Resetting all effects (scene change detected)
[22:31:55] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[22:31:55] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[22:31:55] [ENEMY] [Enemy1] Death animation component initialized
[22:31:55] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:31:55] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[22:31:55] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[22:31:55] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[22:31:55] [ENEMY] [Enemy2] Death animation component initialized
[22:31:55] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:31:55] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[22:31:55] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[22:31:55] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[22:31:55] [ENEMY] [Enemy3] Death animation component initialized
[22:31:55] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:31:55] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[22:31:55] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[22:31:55] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[22:31:55] [ENEMY] [Enemy4] Death animation component initialized
[22:31:55] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:31:55] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[22:31:55] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[22:31:55] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[22:31:55] [ENEMY] [Enemy5] Death animation component initialized
[22:31:55] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:31:55] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[22:31:55] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[22:31:55] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[22:31:55] [ENEMY] [Enemy6] Death animation component initialized
[22:31:55] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:31:55] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[22:31:55] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[22:31:55] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[22:31:55] [ENEMY] [Enemy7] Death animation component initialized
[22:31:55] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:31:55] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[22:31:55] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[22:31:55] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[22:31:55] [ENEMY] [Enemy8] Death animation component initialized
[22:31:55] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:31:55] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[22:31:55] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[22:31:55] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[22:31:55] [ENEMY] [Enemy9] Death animation component initialized
[22:31:55] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:31:55] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[22:31:55] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[22:31:55] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[22:31:55] [ENEMY] [Enemy10] Death animation component initialized
[22:31:55] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:31:55] [INFO] [BloodyFeet:Player] Footprint scene loaded
[22:31:55] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[22:31:55] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[22:31:55] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[22:31:55] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[22:31:55] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[22:31:55] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[22:31:55] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[22:31:55] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[22:31:55] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[22:31:55] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: True
[22:31:55] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[22:31:55] [INFO] [Player] Ready! Ammo: 9/9, Grenades: 1/3, Health: 10/10
[22:31:55] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[22:31:55] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[22:31:55] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[22:31:55] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[22:31:55] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[22:31:55] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[22:31:55] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[22:31:55] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[22:31:55] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[22:31:55] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[22:31:55] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[22:31:55] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[22:31:55] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[22:31:55] [INFO] [BuildingLevel] Setting up weapon: makarov_pm
[22:31:55] [INFO] [ScoreManager] Level started with 10 enemies
[22:31:55] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[22:31:55] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[22:31:55] [INFO] [ReplayManager] Replay data cleared
[22:31:55] [INFO] [BuildingLevel] Previous replay data cleared
[22:31:55] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[22:31:55] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[22:31:55] [INFO] [ReplayManager] Level: BuildingLevel
[22:31:55] [INFO] [ReplayManager] Player: Player (valid: True)
[22:31:55] [INFO] [ReplayManager] Enemies count: 10
[22:31:55] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[22:31:55] [INFO] [ReplayManager]   Enemy 0: Enemy1
[22:31:55] [INFO] [ReplayManager]   Enemy 1: Enemy2
[22:31:55] [INFO] [ReplayManager]   Enemy 2: Enemy3
[22:31:55] [INFO] [ReplayManager]   Enemy 3: Enemy4
[22:31:55] [INFO] [ReplayManager]   Enemy 4: Enemy5
[22:31:55] [INFO] [ReplayManager]   Enemy 5: Enemy6
[22:31:55] [INFO] [ReplayManager]   Enemy 6: Enemy7
[22:31:55] [INFO] [ReplayManager]   Enemy 7: Enemy8
[22:31:55] [INFO] [ReplayManager]   Enemy 8: Enemy9
[22:31:55] [INFO] [ReplayManager]   Enemy 9: Enemy10
[22:31:55] [INFO] [BuildingLevel] Replay recording started successfully
[22:31:55] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[22:31:55] [INFO] [CinemaEffects] Found player node: Player
[22:31:55] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[22:31:55] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[22:31:55] [ENEMY] [Enemy1] Registered as sound listener
[22:31:55] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 3, behavior: GUARD
[22:31:55] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[22:31:55] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[22:31:55] [ENEMY] [Enemy2] Registered as sound listener
[22:31:55] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 3, behavior: GUARD
[22:31:55] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[22:31:55] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[22:31:55] [ENEMY] [Enemy3] Registered as sound listener
[22:31:55] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 2, behavior: GUARD
[22:31:55] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[22:31:55] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[22:31:55] [ENEMY] [Enemy4] Registered as sound listener
[22:31:55] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 3, behavior: GUARD
[22:31:55] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[22:31:55] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[22:31:55] [ENEMY] [Enemy5] Registered as sound listener
[22:31:55] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 3, behavior: GUARD
[22:31:55] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[22:31:55] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[22:31:55] [ENEMY] [Enemy6] Registered as sound listener
[22:31:55] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 3, behavior: GUARD
[22:31:55] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[22:31:55] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[22:31:55] [ENEMY] [Enemy7] Registered as sound listener
[22:31:55] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 4, behavior: PATROL
[22:31:55] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[22:31:55] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[22:31:55] [ENEMY] [Enemy8] Registered as sound listener
[22:31:55] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 3, behavior: GUARD
[22:31:55] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[22:31:55] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[22:31:55] [ENEMY] [Enemy9] Registered as sound listener
[22:31:55] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 2, behavior: GUARD
[22:31:55] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[22:31:55] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[22:31:55] [ENEMY] [Enemy10] Registered as sound listener
[22:31:55] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 3, behavior: PATROL
[22:31:55] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[22:31:55] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[22:31:55] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[22:31:55] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=45.0°, current=0.0°, player=(450,1249), corner_timer=0.00
[22:31:55] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[22:31:55] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[22:31:55] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[22:31:55] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[22:31:55] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=157.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[22:31:55] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[22:31:55] [INFO] [Player] Detecting weapon pose (frame 3)...
[22:31:55] [INFO] [Player] Detected weapon: Makarov PM (Pistol pose)
[22:31:55] [INFO] [Player] Applied Pistol arm pose: Left=(16, 6), Right=(4, 6)
[22:31:55] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[22:31:55] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[22:31:55] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[22:31:55] [INFO] [LastChance] Found player: Player
[22:31:55] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[22:31:55] [INFO] [LastChance] Connected to player Damaged signal (C#)
[22:31:55] [INFO] [LastChance] Connected to player Died signal (C#)
[22:31:55] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[22:31:55] [INFO] [BloodDecal] Blood puddle created at (800.6993, 830.134) (added to group)
[22:31:55] [INFO] [BloodDecal] Blood puddle created at (853.6577, 739.0823) (added to group)
[22:31:55] [INFO] [BloodDecal] Blood puddle created at (896.3802, 767.3527) (added to group)
[22:31:56] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[22:31:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(449.692, 803.7942), source=PLAYER (MakarovPM), range=1469, listeners=20
[22:31:56] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[22:31:56] [ENEMY] [Enemy1] Heard gunshot at (449.692, 803.7942), source_type=0, intensity=0.01, distance=478
[22:31:56] [ENEMY] [Enemy2] Heard gunshot at (449.692, 803.7942), source_type=0, intensity=0.04, distance=259
[22:31:56] [ENEMY] [Enemy3] Heard gunshot at (449.692, 803.7942), source_type=0, intensity=0.04, distance=256
[22:31:56] [ENEMY] [Enemy4] Heard gunshot at (449.692, 803.7942), source_type=0, intensity=0.02, distance=363
[22:31:56] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[22:31:56] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=71.5°, current=-33.8°, player=(449,797), corner_timer=0.00
[22:31:56] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=78.7°, current=45.0°, player=(449,797), corner_timer=0.00
[22:31:56] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=169.2°, current=11.3°, player=(449,797), corner_timer=0.00
[22:31:56] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=-163.7°, current=-67.5°, player=(449,797), corner_timer=0.00
[22:31:56] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=170.4°, current=-176.7°, player=(449,792), corner_timer=0.00
[22:31:56] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[22:31:56] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[22:31:56] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(446,782), corner_timer=0.30
[22:31:56] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(446,782), corner_timer=0.30
[22:31:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(431.7211, 759.8344), source=PLAYER (MakarovPM), range=1469, listeners=10
[22:31:56] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[22:31:56] [ENEMY] [Enemy3] Hit: dmg=1, hp=2/2->1/2
[22:31:56] [INFO] [ImpactEffects] spawn_blood_effect called at (689.5226, 752.0006), dir=(0.982165, -0.188021), lethal=false
[22:31:56] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[22:31:56] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[22:31:56] [INFO] [ImpactEffects] Blood effect spawned at (689.5226, 752.0006) (scale=0.5)
[22:31:56] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[22:31:56] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(391,738), corner_timer=-0.02
[22:31:56] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[22:31:56] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.7°, player=(391,738), corner_timer=-0.02
[22:31:56] [ENEMY] [Enemy10] PATROL corner check: angle 14.6°
[22:31:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(683.9058, 757.6972), source=ENEMY (Enemy3), range=1469, listeners=10
[22:31:56] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[22:31:56] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(387,739), corner_timer=0.30
[22:31:56] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.6°, current=53.0°, player=(387,739), corner_timer=0.30
[22:31:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(380.5695, 747.8417), source=PLAYER (MakarovPM), range=1469, listeners=10
[22:31:56] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[22:31:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(676.4168, 765.2927), source=ENEMY (Enemy3), range=1469, listeners=10
[22:31:57] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[22:31:57] [INFO] [BloodDecal] Blood puddle created at (742.399, 777.1091) (added to group)
[22:31:57] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[22:31:57] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[22:31:57] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[22:31:57] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[22:31:57] [INFO] [LastChance] Threat detected: @Area2D@1460
[22:31:57] [INFO] [LastChance] Not in hard mode - effect disabled
[22:31:57] [INFO] [LastChance] Cannot trigger effect - conditions not met
[22:31:57] [INFO] [BloodDecal] Blood puddle created at (746.4576, 739.1496) (added to group)
[22:31:57] [INFO] [Player] Hit blocked by invincibility mode (C#)
[22:31:57] [INFO] [Player] Spawning blood effect at (346.29572, 769.5295), dir=(1, 0), lethal=False (C#)
[22:31:57] [INFO] [ImpactEffects] spawn_blood_effect called at (346.2957, 769.5295), dir=(1, 0), lethal=false
[22:31:57] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[22:31:57] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[22:31:57] [INFO] [ImpactEffects] Blood effect spawned at (346.2957, 769.5295) (scale=1)
[22:31:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(431.7211, 759.8344), shooter_id=1091542452050, bullet_pos=(911.0867, 693.0144)
[22:31:57] [INFO] [Bullet] Using shooter_position, distance=484.000244140625
[22:31:57] [INFO] [Bullet] Distance to wall: 484.000244140625 (32.9564666215061% of viewport)
[22:31:57] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:31:57] [INFO] [Bullet] Caliber cannot penetrate walls
[22:31:57] [INFO] [BloodDecal] Blood puddle created at (749.8153, 762.5266) (added to group)
[22:31:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(617.2974, 761.2205), shooter_id=1088187009322, bullet_pos=(42.967014, 863.3101)
[22:31:57] [INFO] [Bullet] Using shooter_position, distance=583,33325
[22:31:57] [INFO] [Bullet] Distance to wall: 583,33325 (39,720234% of viewport)
[22:31:57] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:31:57] [INFO] [Bullet] Starting wall penetration at (42.967014, 863.3101)
[22:31:57] [INFO] [Bullet] Raycast backward hit penetrating body at distance 35,52774
[22:31:57] [INFO] [BloodDecal] Blood puddle created at (800.9315, 815.5035) (added to group)
[22:31:57] [INFO] [Bullet] Body exited signal received for penetrating body
[22:31:57] [INFO] [Bullet] Exiting penetration at (-2.9794197, 871.4773) after traveling 41,666668 pixels through wall
[22:31:57] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[22:31:57] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=129.9°, current=-176.0°, player=(324,793), corner_timer=0.00
[22:31:57] [INFO] [BloodDecal] Blood puddle created at (832.758, 824.5231) (added to group)
[22:31:57] [INFO] [BloodDecal] Blood puddle created at (832.5869, 840.6434) (added to group)
[22:31:57] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[22:31:57] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[22:31:57] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.3°, player=(319,802), corner_timer=-0.02
[22:31:57] [ENEMY] [Enemy10] PATROL corner check: angle 7.1°
[22:31:57] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.1°, current=16.9°, player=(317,807), corner_timer=0.30
[22:31:57] [INFO] [BloodDecal] Blood puddle created at (812.3381, 842.0811) (added to group)
[22:31:57] [INFO] [BloodDecal] Blood puddle created at (393.7249, 769.8655) (added to group)
[22:31:57] [INFO] [BloodDecal] Blood puddle created at (398.9554, 794.345) (added to group)
[22:31:57] [INFO] [BloodDecal] Blood puddle created at (829.5269, 789.6609) (added to group)
[22:31:57] [INFO] [BloodDecal] Blood puddle created at (836.2606, 847.2069) (added to group)
[22:31:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(380.5695, 747.8417), shooter_id=1091542452050, bullet_pos=(912.8043, 704.4575)
[22:31:57] [INFO] [Bullet] Using shooter_position, distance=534.000061035156
[22:31:57] [INFO] [Bullet] Distance to wall: 534.000061035156 (36.3610460954108% of viewport)
[22:31:57] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:31:57] [INFO] [Bullet] Caliber cannot penetrate walls
[22:31:57] [INFO] [BloodDecal] Blood puddle created at (404.8905, 777.542) (added to group)
[22:31:57] [INFO] [BloodDecal] Blood puddle created at (457.8056, 844.493) (added to group)
[22:31:57] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[22:31:57] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:31:57] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[22:31:57] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[22:31:57] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[22:31:57] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[22:31:57] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[22:31:57] [INFO] [LastChance] Resetting all effects (scene change detected)
[22:31:57] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[22:31:57] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[22:31:57] [ENEMY] [Enemy1] Death animation component initialized
[22:31:57] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:31:57] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[22:31:57] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[22:31:57] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[22:31:57] [ENEMY] [Enemy2] Death animation component initialized
[22:31:57] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:31:57] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[22:31:57] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[22:31:57] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[22:31:57] [ENEMY] [Enemy3] Death animation component initialized
[22:31:57] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:31:57] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[22:31:57] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[22:31:57] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[22:31:57] [ENEMY] [Enemy4] Death animation component initialized
[22:31:57] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:31:57] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[22:31:57] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[22:31:57] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[22:31:57] [ENEMY] [Enemy5] Death animation component initialized
[22:31:57] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:31:57] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[22:31:57] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[22:31:57] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[22:31:57] [ENEMY] [Enemy6] Death animation component initialized
[22:31:57] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:31:57] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[22:31:57] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[22:31:57] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[22:31:57] [ENEMY] [Enemy7] Death animation component initialized
[22:31:57] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:31:57] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[22:31:57] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[22:31:57] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[22:31:57] [ENEMY] [Enemy8] Death animation component initialized
[22:31:57] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:31:57] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[22:31:57] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[22:31:57] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[22:31:57] [ENEMY] [Enemy9] Death animation component initialized
[22:31:57] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:31:57] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[22:31:57] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[22:31:57] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[22:31:57] [ENEMY] [Enemy10] Death animation component initialized
[22:31:57] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:31:57] [INFO] [BloodyFeet:Player] Footprint scene loaded
[22:31:57] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[22:31:57] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[22:31:57] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[22:31:57] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[22:31:57] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[22:31:57] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[22:31:57] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[22:31:57] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[22:31:57] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[22:31:57] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: True
[22:31:57] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[22:31:57] [INFO] [Player] Ready! Ammo: 9/9, Grenades: 1/3, Health: 10/10
[22:31:57] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[22:31:57] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[22:31:57] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[22:31:57] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[22:31:57] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[22:31:57] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[22:31:57] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[22:31:57] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[22:31:57] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[22:31:57] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[22:31:57] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[22:31:57] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[22:31:57] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[22:31:57] [INFO] [BuildingLevel] Setting up weapon: makarov_pm
[22:31:57] [INFO] [ScoreManager] Level started with 10 enemies
[22:31:57] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[22:31:57] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[22:31:57] [INFO] [ReplayManager] Replay data cleared
[22:31:57] [INFO] [BuildingLevel] Previous replay data cleared
[22:31:57] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[22:31:57] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[22:31:57] [INFO] [ReplayManager] Level: BuildingLevel
[22:31:57] [INFO] [ReplayManager] Player: Player (valid: True)
[22:31:57] [INFO] [ReplayManager] Enemies count: 10
[22:31:57] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[22:31:57] [INFO] [ReplayManager]   Enemy 0: Enemy1
[22:31:57] [INFO] [ReplayManager]   Enemy 1: Enemy2
[22:31:57] [INFO] [ReplayManager]   Enemy 2: Enemy3
[22:31:57] [INFO] [ReplayManager]   Enemy 3: Enemy4
[22:31:57] [INFO] [ReplayManager]   Enemy 4: Enemy5
[22:31:57] [INFO] [ReplayManager]   Enemy 5: Enemy6
[22:31:57] [INFO] [ReplayManager]   Enemy 6: Enemy7
[22:31:57] [INFO] [ReplayManager]   Enemy 7: Enemy8
[22:31:57] [INFO] [ReplayManager]   Enemy 8: Enemy9
[22:31:57] [INFO] [ReplayManager]   Enemy 9: Enemy10
[22:31:57] [INFO] [BuildingLevel] Replay recording started successfully
[22:31:57] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[22:31:57] [INFO] [CinemaEffects] Found player node: Player
[22:31:57] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[22:31:57] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[22:31:57] [ENEMY] [Enemy1] Registered as sound listener
[22:31:57] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 2, behavior: GUARD
[22:31:57] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[22:31:57] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[22:31:57] [ENEMY] [Enemy2] Registered as sound listener
[22:31:57] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 4, behavior: GUARD
[22:31:57] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[22:31:57] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[22:31:57] [ENEMY] [Enemy3] Registered as sound listener
[22:31:57] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 3, behavior: GUARD
[22:31:57] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[22:31:57] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[22:31:57] [ENEMY] [Enemy4] Registered as sound listener
[22:31:57] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 3, behavior: GUARD
[22:31:57] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[22:31:57] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[22:31:57] [ENEMY] [Enemy5] Registered as sound listener
[22:31:57] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 3, behavior: GUARD
[22:31:57] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[22:31:57] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[22:31:57] [ENEMY] [Enemy6] Registered as sound listener
[22:31:57] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 3, behavior: GUARD
[22:31:57] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[22:31:57] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[22:31:57] [ENEMY] [Enemy7] Registered as sound listener
[22:31:57] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 4, behavior: PATROL
[22:31:57] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[22:31:57] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[22:31:57] [ENEMY] [Enemy8] Registered as sound listener
[22:31:57] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 2, behavior: GUARD
[22:31:57] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[22:31:57] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[22:31:57] [ENEMY] [Enemy9] Registered as sound listener
[22:31:57] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 2, behavior: GUARD
[22:31:57] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[22:31:57] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[22:31:57] [ENEMY] [Enemy10] Registered as sound listener
[22:31:57] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 3, behavior: PATROL
[22:31:57] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[22:31:57] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[22:31:57] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[22:31:57] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[22:31:57] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[22:31:57] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[22:31:57] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[22:31:57] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=337.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[22:31:57] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=157.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[22:31:57] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=180.0°, current=0.0°, player=(450,1249), corner_timer=0.00
[22:31:57] [INFO] [Player] Detecting weapon pose (frame 3)...
[22:31:57] [INFO] [Player] Detected weapon: Makarov PM (Pistol pose)
[22:31:57] [INFO] [Player] Applied Pistol arm pose: Left=(16, 6), Right=(4, 6)
[22:31:57] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[22:31:57] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[22:31:57] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[22:31:57] [INFO] [LastChance] Found player: Player
[22:31:57] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[22:31:57] [INFO] [LastChance] Connected to player Damaged signal (C#)
[22:31:57] [INFO] [LastChance] Connected to player Died signal (C#)
[22:31:57] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[22:31:57] [INFO] [BloodDecal] Blood puddle created at (482.6692, 792.4213) (added to group)
[22:31:57] [INFO] [BloodDecal] Blood puddle created at (466.4849, 808.4464) (added to group)
[22:31:57] [INFO] [BloodDecal] Blood puddle created at (438.8119, 829.8525) (added to group)
[22:31:57] [INFO] [BloodDecal] Blood puddle created at (438.019, 866.1485) (added to group)
[22:31:58] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[22:31:58] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[22:31:59] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[22:31:59] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[22:31:59] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(443,783), corner_timer=0.30
[22:31:59] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(443,783), corner_timer=0.30
[22:31:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(441.3771, 785.2384), source=PLAYER (MakarovPM), range=1469, listeners=20
[22:31:59] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[22:31:59] [ENEMY] [Enemy1] Heard gunshot at (441.3771, 785.2384), source_type=0, intensity=0.01, distance=458
[22:31:59] [ENEMY] [Enemy2] Heard gunshot at (441.3771, 785.2384), source_type=0, intensity=0.04, distance=239
[22:31:59] [ENEMY] [Enemy3] Heard gunshot at (441.3771, 785.2384), source_type=0, intensity=0.04, distance=261
[22:31:59] [ENEMY] [Enemy4] Heard gunshot at (441.3771, 785.2384), source_type=0, intensity=0.02, distance=377
[22:31:59] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[22:31:59] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=71.8°, current=-157.5°, player=(441,779), corner_timer=0.00
[22:31:59] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=79.8°, current=-67.5°, player=(441,779), corner_timer=0.00
[22:31:59] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=173.5°, current=11.3°, player=(441,779), corner_timer=0.00
[22:31:59] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=-161.4°, current=-101.3°, player=(441,779), corner_timer=0.00
[22:31:59] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=174.6°, current=-172.3°, player=(439,774), corner_timer=0.00
[22:31:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(402.1053, 751.629), source=PLAYER (MakarovPM), range=1469, listeners=10
[22:31:59] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[22:31:59] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(379,745), corner_timer=-0.02
[22:31:59] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[22:31:59] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.7°, player=(379,745), corner_timer=-0.02
[22:31:59] [ENEMY] [Enemy10] PATROL corner check: angle 14.6°
[22:31:59] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[22:31:59] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(375,747), corner_timer=0.30
[22:31:59] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.6°, current=53.0°, player=(375,747), corner_timer=0.30
[22:31:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(364.0496, 758.7943), source=PLAYER (MakarovPM), range=1469, listeners=10
[22:31:59] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[22:31:59] [ENEMY] [Enemy3] Hit: dmg=1, hp=3/3->2/3
[22:31:59] [INFO] [ImpactEffects] spawn_blood_effect called at (661.7754, 766.7616), dir=(0.999995, -0.00321), lethal=false
[22:31:59] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[22:31:59] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[22:31:59] [INFO] [ImpactEffects] Blood effect spawned at (661.7754, 766.7616) (scale=0.5)
[22:31:59] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[22:31:59] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(441.3771, 785.2384), shooter_id=1168851863415, bullet_pos=(925.3741, 783.4216)
[22:31:59] [INFO] [Bullet] Using shooter_position, distance=484.000427246094
[22:31:59] [INFO] [Bullet] Distance to wall: 484.000427246094 (32.9564790894942% of viewport)
[22:31:59] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:31:59] [INFO] [Bullet] Caliber cannot penetrate walls
[22:31:59] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[22:31:59] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[22:31:59] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[22:31:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(329.1364, 790.4291), source=PLAYER (MakarovPM), range=1469, listeners=10
[22:31:59] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[22:31:59] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=110.8°, current=179.1°, player=(306,808), corner_timer=0.00
[22:31:59] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.3°, player=(303,812), corner_timer=-0.02
[22:31:59] [ENEMY] [Enemy10] PATROL corner check: angle 7.1°
[22:31:59] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[22:31:59] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.1°, current=16.9°, player=(300,815), corner_timer=0.30
[22:31:59] [INFO] [BloodDecal] Blood puddle created at (730.5463, 787.5842) (added to group)
[22:31:59] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[22:31:59] [INFO] [BloodDecal] Blood puddle created at (712.4467, 772.5345) (added to group)
[22:31:59] [INFO] [BloodDecal] Blood puddle created at (743.5829, 745.4636) (added to group)
[22:31:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(288.7372, 843.9799), source=PLAYER (MakarovPM), range=1469, listeners=10
[22:31:59] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=4, self=0, below_threshold=2
[22:32:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(364.0496, 758.7943), shooter_id=1168851863415, bullet_pos=(914.7167, 758.5161)
[22:32:00] [INFO] [Bullet] Using shooter_position, distance=550.667175292969
[22:32:00] [INFO] [Bullet] Distance to wall: 550.667175292969 (37.4959405533459% of viewport)
[22:32:00] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:32:00] [INFO] [Bullet] Caliber cannot penetrate walls
[22:32:00] [INFO] [BloodDecal] Blood puddle created at (753.3576, 776.2976) (added to group)
[22:32:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(288.7372, 843.9799), shooter_id=1168851863415, bullet_pos=(505.5853, 829.4659)
[22:32:00] [INFO] [Bullet] Using shooter_position, distance=217.333297729492
[22:32:00] [INFO] [Bullet] Distance to wall: 217.333297729492 (14.7986238830962% of viewport)
[22:32:00] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:32:00] [INFO] [Bullet] Caliber cannot penetrate walls
[22:32:00] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(297,853), corner_timer=-0.02
[22:32:00] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[22:32:00] [INFO] [BloodDecal] Blood puddle created at (758.8694, 809.4033) (added to group)
[22:32:00] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.7°, player=(298,853), corner_timer=0.30
[22:32:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(329.1364, 790.4291), shooter_id=1168851863415, bullet_pos=(912.4036, 761.1848)
[22:32:00] [INFO] [Bullet] Using shooter_position, distance=583.999816894531
[22:32:00] [INFO] [Bullet] Distance to wall: 583.999816894531 (39.7656214133195% of viewport)
[22:32:00] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:32:00] [INFO] [Bullet] Caliber cannot penetrate walls
[22:32:00] [ENEMY] [Enemy3] State: SUPPRESSED -> SEEKING_COVER
[22:32:00] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(361,798), corner_timer=-0.02
[22:32:00] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[22:32:00] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.8°, current=6.3°, player=(365,794), corner_timer=0.30
[22:32:00] [ENEMY] [Enemy3] State: SEEKING_COVER -> IN_COVER
[22:32:00] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[22:32:00] [ENEMY] [Enemy3] State: SUPPRESSED -> SEEKING_COVER
[22:32:00] [INFO] [BloodyFeet:Player] Blood ran out - no more footprints
[22:32:00] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=10
[22:32:00] [ENEMY] [Enemy3] ROT_CHANGE: P4:velocity -> P1:visible, state=SEEKING_COVER, target=-153.9°, current=165.9°, player=(412,749), corner_timer=0.00
[22:32:00] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.8°, player=(446,737), corner_timer=-0.02
[22:32:00] [ENEMY] [Enemy10] PATROL corner check: angle 0.9°
[22:32:00] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=0.9°, current=4.6°, player=(451,736), corner_timer=0.30
[22:32:00] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P4:velocity, state=SEEKING_COVER, target=110.4°, current=153.3°, player=(489,734), corner_timer=0.00
[22:32:01] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=57.2°, current=58.6°, player=(513,725), corner_timer=0.00
[22:32:01] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[22:32:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(529.6525, 718.5292), source=PLAYER (MakarovPM), range=1469, listeners=10
[22:32:01] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=2, self=0, below_threshold=4
[22:32:01] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(529.6525, 718.5292), shooter_id=1168851863415, bullet_pos=(501.7943, 696.7953)
[22:32:01] [INFO] [Bullet] Using shooter_position, distance=35.333324432373
[22:32:01] [INFO] [Bullet] Distance to wall: 35.333324432373 (2.4059110328548% of viewport)
[22:32:01] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[22:32:01] [INFO] [Bullet] Caliber cannot penetrate walls
[22:32:01] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:32:01] [ENEMY] [Enemy1] PURSUING corner check: angle -128.7°
[22:32:01] [ENEMY] [Enemy4] PURSUING corner check: angle 175.8°
[22:32:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(571.2224, 686.1054), source=PLAYER (MakarovPM), range=1469, listeners=10
[22:32:01] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=2, self=0, below_threshold=4
[22:32:01] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=-130.1°, player=(596,674), corner_timer=-0.02
[22:32:01] [ENEMY] [Enemy7] PATROL corner check: angle 90.0°
[22:32:01] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=-133.0°, player=(601,674), corner_timer=0.30
[22:32:01] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:32:01] [ENEMY] [Enemy1] PURSUING corner check: angle -62.2°
[22:32:01] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[22:32:01] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-91.9°, current=-94.5°, player=(674,685), corner_timer=-0.02
[22:32:01] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[22:32:01] [INFO] [ReplayManager] Recording frame 240 (4,0s): player_valid=True, enemies=10
[22:32:01] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=5.9°, current=28.8°, player=(694,702), corner_timer=0.00
[22:32:01] [ENEMY] [Enemy4] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-83.7°, current=-21.2°, player=(694,702), corner_timer=-0.02
[22:32:01] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=179.1°, current=172.4°, player=(694,702), corner_timer=-0.02
[22:32:01] [ENEMY] [Enemy7] PATROL corner check: angle 89.8°
[22:32:01] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.8°, current=175.3°, player=(698,706), corner_timer=0.30
[22:32:01] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[22:32:01] [ENEMY] [Enemy3] State: SEEKING_COVER -> IN_COVER
[22:32:01] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(571.2224, 686.1054), shooter_id=1168851863415, bullet_pos=(66.49365, 392.3289)
[22:32:01] [INFO] [Bullet] Using shooter_position, distance=583.999755859375
[22:32:01] [INFO] [Bullet] Distance to wall: 583.999755859375 (39.7656172573235% of viewport)
[22:32:01] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:32:01] [INFO] [Bullet] Caliber cannot penetrate walls
[22:32:01] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[22:32:01] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:32:01] [ENEMY] [Enemy1] PURSUING corner check: angle 132.4°
[22:32:01] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[22:32:01] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[22:32:01] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=178.4°, current=120.7°, player=(772,780), corner_timer=-0.02
[22:32:01] [ENEMY] [Enemy7] PATROL corner check: angle 89.7°
[22:32:02] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.7°, current=123.6°, player=(776,783), corner_timer=0.30
[22:32:02] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[22:32:02] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:32:02] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[22:32:02] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-35.9°, current=-37.9°, player=(826,834), corner_timer=-0.02
[22:32:02] [ENEMY] [Enemy3] State: SUPPRESSED -> SEEKING_COVER
[22:32:02] [ENEMY] [Enemy3] ROT_CHANGE: P4:velocity -> P1:visible, state=SEEKING_COVER, target=-26.0°, current=23.6°, player=(838,846), corner_timer=0.00
[22:32:02] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P4:velocity, state=SEEKING_COVER, target=-93.6°, current=-96.4°, player=(842,850), corner_timer=0.00
[22:32:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(850.3309, 863.7986), source=PLAYER (MakarovPM), range=1469, listeners=10
[22:32:02] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=8
[22:32:02] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.9°, current=89.7°, player=(850,857), corner_timer=-0.02
[22:32:02] [ENEMY] [Enemy7] PATROL corner check: angle 89.6°
[22:32:02] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.6°, current=92.5°, player=(854,861), corner_timer=0.30
[22:32:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(850.3309, 863.7986), shooter_id=1168851863415, bullet_pos=(750.3488, 875.5184)
[22:32:02] [INFO] [Bullet] Using shooter_position, distance=100.666725158691
[22:32:02] [INFO] [Bullet] Distance to wall: 100.666725158691 (6.8545824258403% of viewport)
[22:32:02] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:32:02] [INFO] [Bullet] Caliber cannot penetrate walls
[22:32:02] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[22:32:02] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:32:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(893.9205, 911.7434), source=PLAYER (MakarovPM), range=1469, listeners=10
[22:32:02] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=8
[22:32:02] [ENEMY] [Enemy3] State: SEEKING_COVER -> IN_COVER
[22:32:02] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[22:32:02] [ENEMY] [Enemy3] State: SUPPRESSED -> IN_COVER
[22:32:02] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[22:32:02] [ENEMY] [Enemy2] State: SEEKING_COVER -> IN_COVER
[22:32:02] [ENEMY] [Enemy3] State: IN_COVER -> PURSUING
[22:32:02] [INFO] [ReplayManager] Recording frame 300 (5,0s): player_valid=True, enemies=10
[22:32:02] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[22:32:02] [ENEMY] [Enemy3] ROT_CHANGE: P4:velocity -> P2:combat_state, state=PURSUING, target=13.7°, current=-91.3°, player=(894,924), corner_timer=0.00
[22:32:02] [ENEMY] [Enemy4] Hit: dmg=1, hp=3/3->2/3
[22:32:02] [INFO] [ImpactEffects] spawn_blood_effect called at (703.6497, 923.7001), dir=(-0.994395, 0.105729), lethal=false
[22:32:02] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[22:32:02] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[22:32:02] [INFO] [ImpactEffects] Blood effect spawned at (703.6497, 923.7001) (scale=0.5)
[22:32:02] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.7°, current=89.6°, player=(889,942), corner_timer=-0.02
[22:32:02] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[22:32:02] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.4°, player=(886,946), corner_timer=0.30
[22:32:02] [ENEMY] [Enemy1] Player ammo empty: false -> true
[22:32:02] [ENEMY] [Enemy2] Player ammo empty: false -> true
[22:32:02] [ENEMY] [Enemy3] Player ammo empty: false -> true
[22:32:02] [ENEMY] [Enemy4] Player ammo empty: false -> true
[22:32:02] [ENEMY] [Enemy5] Player ammo empty: false -> true
[22:32:02] [ENEMY] [Enemy6] Player ammo empty: false -> true
[22:32:02] [ENEMY] [Enemy7] Player ammo empty: false -> true
[22:32:02] [ENEMY] [Enemy8] Player ammo empty: false -> true
[22:32:02] [ENEMY] [Enemy9] Player ammo empty: false -> true
[22:32:02] [ENEMY] [Enemy10] Player ammo empty: false -> true
[22:32:02] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(884.6303, 950.5722), source=PLAYER (Player), range=600, listeners=10
[22:32:02] [ENEMY] [Enemy3] Heard player EMPTY_CLICK at (884.6303, 950.5722), intensity=0.04, distance=255
[22:32:02] [ENEMY] [Enemy4] Heard player EMPTY_CLICK at (884.6303, 950.5722), intensity=0.07, distance=183
[22:32:02] [ENEMY] [Enemy4] Vulnerability sound triggered pursuit - transitioning from RETREATING to PURSUING
[22:32:02] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=7, self=0, below_threshold=1
[22:32:02] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=662), can_see=false
[22:32:02] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=585), can_see=false
[22:32:02] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=255), can_see=false
[22:32:02] [ENEMY] [Enemy3] Pursuing vulnerability sound at (884.6303, 950.5722), distance=255
[22:32:02] [ENEMY] [Enemy4] Player empty ammo - priority attack triggered
[22:32:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(703.6497, 923.7001), source=ENEMY (Enemy4), range=1469, listeners=10
[22:32:02] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[22:32:02] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1013), can_see=false
[22:32:02] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1177), can_see=false
[22:32:02] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=729), can_see=false
[22:32:02] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1132), can_see=false
[22:32:02] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1355), can_see=false
[22:32:02] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=707), can_see=false
[22:32:02] [INFO] [LastChance] Threat detected: Bullet
[22:32:02] [INFO] [LastChance] Not in hard mode - effect disabled
[22:32:02] [INFO] [LastChance] Cannot trigger effect - conditions not met
[22:32:02] [ENEMY] [Enemy4] Pursuing vulnerability sound at (882.0588, 954.1722), distance=181
[22:32:02] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:32:02] [ENEMY] [Enemy4] Player empty ammo - priority attack triggered
[22:32:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(734.31, 932.1393), source=ENEMY (Enemy4), range=1469, listeners=10
[22:32:02] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[22:32:02] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(858.1687, 972.1316), source=PLAYER (Player), range=600, listeners=10
[22:32:02] [ENEMY] [Enemy3] Heard player EMPTY_CLICK at (858.1687, 972.1316), intensity=0.05, distance=215
[22:32:02] [ENEMY] [Enemy4] Heard player EMPTY_CLICK at (858.1687, 972.1316), intensity=0.16, distance=125
[22:32:02] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=7, self=0, below_threshold=1
[22:32:02] [INFO] [LastChance] Threat detected: Bullet
[22:32:02] [INFO] [LastChance] Not in hard mode - effect disabled
[22:32:02] [INFO] [LastChance] Cannot trigger effect - conditions not met
[22:32:02] [INFO] [Player] Hit blocked by invincibility mode (C#)
[22:32:02] [INFO] [Player] Spawning blood effect at (853.9144, 973.6629), dir=(1, 0), lethal=False (C#)
[22:32:02] [INFO] [ImpactEffects] spawn_blood_effect called at (853.9144, 973.6629), dir=(1, 0), lethal=false
[22:32:02] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[22:32:02] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[22:32:02] [INFO] [ImpactEffects] Wall found for blood splatter at (912, 973.6629) (dist=58 px)
[22:32:02] [INFO] [BloodDecal] Blood puddle created at (911, 973.6629) (added to group)
[22:32:02] [INFO] [ImpactEffects] Blood effect spawned at (853.9144, 973.6629) (scale=1)
[22:32:02] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=18.4°, current=11.2°, player=(849,974), corner_timer=0.00
[22:32:02] [ENEMY] [Enemy3] Player empty ammo - priority attack triggered
[22:32:02] [ENEMY] [Enemy3] State: PURSUING -> COMBAT
[22:32:02] [INFO] [Player.Reload.Anim] Phase changed to: GrabMagazine (duration: 0,25s)
[22:32:02] [ENEMY] [Enemy1] Player reloading: false -> true
[22:32:02] [ENEMY] [Enemy2] Player reloading: false -> true
[22:32:02] [ENEMY] [Enemy3] Player reloading: false -> true
[22:32:02] [ENEMY] [Enemy4] Player reloading: false -> true
[22:32:02] [ENEMY] [Enemy5] Player reloading: false -> true
[22:32:02] [ENEMY] [Enemy6] Player reloading: false -> true
[22:32:02] [ENEMY] [Enemy7] Player reloading: false -> true
[22:32:02] [ENEMY] [Enemy8] Player reloading: false -> true
[22:32:02] [ENEMY] [Enemy9] Player reloading: false -> true
[22:32:02] [ENEMY] [Enemy10] Player reloading: false -> true
[22:32:02] [INFO] [SoundPropagation] Sound emitted: type=RELOAD, pos=(829.4877, 977.4408), source=PLAYER (Player), range=900, listeners=10
[22:32:02] [ENEMY] [Enemy3] Heard player RELOAD at (829.4877, 977.4408), intensity=0.10, distance=160
[22:32:02] [ENEMY] [Enemy4] Heard player RELOAD at (829.4877, 977.4408), intensity=0.53, distance=69
[22:32:02] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=4, self=0, below_threshold=4
[22:32:02] [INFO] [BloodDecal] Blood puddle created at (659.3693, 928.3841) (added to group)
[22:32:02] [ENEMY] [Enemy4] Player reloading - priority attack triggered
[22:32:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(769.8995, 943.1271), source=ENEMY (Enemy4), range=1469, listeners=10
[22:32:02] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=8
[22:32:02] [INFO] [Player] Hit blocked by invincibility mode (C#)
[22:32:02] [INFO] [Player] Spawning blood effect at (823.98773, 977.4408), dir=(1, 0), lethal=False (C#)
[22:32:02] [INFO] [ImpactEffects] spawn_blood_effect called at (823.9877, 977.4408), dir=(1, 0), lethal=false
[22:32:02] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[22:32:02] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[22:32:02] [INFO] [ImpactEffects] Wall found for blood splatter at (912, 977.4408) (dist=88 px)
[22:32:02] [INFO] [BloodDecal] Blood puddle created at (911, 977.4408) (added to group)
[22:32:02] [INFO] [ImpactEffects] Blood effect spawned at (823.9877, 977.4408) (scale=1)
[22:32:02] [INFO] [BloodyFeet:Enemy3] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[22:32:02] [INFO] [BloodDecal] Blood puddle created at (619.7713, 923.4236) (added to group)
[22:32:02] [INFO] [BloodDecal] Blood puddle created at (612.3575, 931.0408) (added to group)
[22:32:02] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[22:32:02] [INFO] [BloodDecal] Blood puddle created at (617.4661, 976.0964) (added to group)
[22:32:02] [ENEMY] [Enemy3] Player reloading - priority attack triggered
[22:32:02] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[22:32:02] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.5°, current=89.5°, player=(807,977), corner_timer=-0.02
[22:32:02] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[22:32:03] [ENEMY] [Enemy4] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=-149.4°, current=124.3°, player=(801,977), corner_timer=-0.02
[22:32:03] [ENEMY] [Enemy4] Player vulnerable (reloading) but cannot attack: close=true (dist=34), can_see=false
[22:32:03] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.4°, player=(801,977), corner_timer=0.30
[22:32:03] [INFO] [BloodDecal] Blood puddle created at (624.2459, 973.2264) (added to group)
[22:32:03] [INFO] [BloodDecal] Blood puddle created at (627.5516, 970.2887) (added to group)
[22:32:03] [ENEMY] [Enemy3] Player reloading - priority attack triggered
[22:32:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(679.3049, 921.3284), source=ENEMY (Enemy3), range=1469, listeners=10
[22:32:03] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[22:32:03] [INFO] [Player.Reload.Anim] Phase changed to: InsertMagazine (duration: 0,30s)
[22:32:03] [ENEMY] [Enemy1] Player reloading: true -> false
[22:32:03] [ENEMY] [Enemy2] Player reloading: true -> false
[22:32:03] [ENEMY] [Enemy3] Player reloading: true -> false
[22:32:03] [ENEMY] [Enemy4] Player reloading: true -> false
[22:32:03] [ENEMY] [Enemy5] Player reloading: true -> false
[22:32:03] [ENEMY] [Enemy6] Player reloading: true -> false
[22:32:03] [ENEMY] [Enemy7] Player reloading: true -> false
[22:32:03] [ENEMY] [Enemy8] Player reloading: true -> false
[22:32:03] [ENEMY] [Enemy9] Player reloading: true -> false
[22:32:03] [ENEMY] [Enemy10] Player reloading: true -> false
[22:32:03] [ENEMY] [Enemy1] Player ammo empty: true -> false
[22:32:03] [ENEMY] [Enemy2] Player ammo empty: true -> false
[22:32:03] [ENEMY] [Enemy3] Player ammo empty: true -> false
[22:32:03] [ENEMY] [Enemy4] Player ammo empty: true -> false
[22:32:03] [ENEMY] [Enemy5] Player ammo empty: true -> false
[22:32:03] [ENEMY] [Enemy6] Player ammo empty: true -> false
[22:32:03] [ENEMY] [Enemy7] Player ammo empty: true -> false
[22:32:03] [ENEMY] [Enemy8] Player ammo empty: true -> false
[22:32:03] [ENEMY] [Enemy9] Player ammo empty: true -> false
[22:32:03] [ENEMY] [Enemy10] Player ammo empty: true -> false
[22:32:03] [INFO] [Player.Reload.Anim] Phase changed to: ReturnIdle (duration: 0,20s)
[22:32:03] [INFO] [LastChance] Threat detected: Bullet
[22:32:03] [INFO] [LastChance] Not in hard mode - effect disabled
[22:32:03] [INFO] [LastChance] Cannot trigger effect - conditions not met
[22:32:03] [INFO] [Player] Hit blocked by invincibility mode (C#)
[22:32:03] [INFO] [Player] Spawning blood effect at (763.48773, 977.4408), dir=(1, 0), lethal=False (C#)
[22:32:03] [INFO] [ImpactEffects] spawn_blood_effect called at (763.4877, 977.4408), dir=(1, 0), lethal=false
[22:32:03] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[22:32:03] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[22:32:03] [INFO] [ImpactEffects] Blood effect spawned at (763.4877, 977.4408) (scale=1)
[22:32:03] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:32:03] [ENEMY] [Enemy2] ROT_CHANGE: P4:velocity -> P1:visible, state=SUPPRESSED, target=56.5°, current=9.9°, player=(746,977), corner_timer=0.00
[22:32:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(679.3049, 921.3284), source=ENEMY (Enemy3), range=1469, listeners=10
[22:32:03] [ENEMY] [Enemy4] Heard gunshot at (679.3049, 921.3284), source_type=1, intensity=0.51, distance=70
[22:32:03] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[22:32:03] [ENEMY] [Enemy4] ROT_CHANGE: P4:velocity -> P2:combat_state, state=COMBAT, target=103.9°, current=-127.1°, player=(735,977), corner_timer=-0.02
[22:32:03] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[22:32:03] [INFO] [BloodyFeet:Player] Blood ran out - no more footprints
[22:32:03] [INFO] [Player] Hit blocked by invincibility mode (C#)
[22:32:03] [INFO] [Player] Spawning blood effect at (730.48773, 977.4408), dir=(1, 0), lethal=False (C#)
[22:32:03] [INFO] [ImpactEffects] spawn_blood_effect called at (730.4877, 977.4408), dir=(1, 0), lethal=false
[22:32:03] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[22:32:03] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[22:32:03] [INFO] [ImpactEffects] Blood effect spawned at (730.4877, 977.4408) (scale=1)
[22:32:03] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P4:velocity, state=RETREATING, target=-149.4°, current=-130.0°, player=(730,977), corner_timer=-0.02
[22:32:03] [INFO] [BloodDecal] Blood puddle created at (898.525, 973.656) (added to group)
[22:32:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(461.9694, 546.7346), source=ENEMY (Enemy2), range=1469, listeners=10
[22:32:03] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=1, below_threshold=3
[22:32:03] [ENEMY] [Enemy4] ROT_CHANGE: P4:velocity -> P1:visible, state=RETREATING, target=110.3°, current=111.2°, player=(708,977), corner_timer=-0.02
[22:32:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(461.9694, 546.7346), source=ENEMY (Enemy2), range=1469, listeners=10
[22:32:03] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=1, below_threshold=3
[22:32:03] [INFO] [Player.Reload.Anim] Animation complete, returning to normal
[22:32:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(679.3049, 921.3284), source=ENEMY (Enemy3), range=1469, listeners=10
[22:32:03] [ENEMY] [Enemy4] Heard gunshot at (679.3049, 921.3284), source_type=1, intensity=0.94, distance=52
[22:32:03] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[22:32:03] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[22:32:03] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.4°, current=89.5°, player=(697,977), corner_timer=-0.02
[22:32:03] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[22:32:03] [INFO] [Player] Hit blocked by invincibility mode (C#)
[22:32:03] [INFO] [Player] Spawning blood effect at (691.98773, 977.4408), dir=(1, 0), lethal=False (C#)
[22:32:03] [INFO] [ImpactEffects] spawn_blood_effect called at (691.9877, 977.4408), dir=(1, 0), lethal=false
[22:32:03] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[22:32:03] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[22:32:03] [INFO] [ImpactEffects] Blood effect spawned at (691.9877, 977.4408) (scale=1)
[22:32:03] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.3°, player=(691,977), corner_timer=0.30
[22:32:03] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(491.29837, 609.527), shooter_id=1165144100791, bullet_pos=(695.4554, 817.82825)
[22:32:03] [INFO] [Bullet] Using shooter_position, distance=291,66675
[22:32:03] [INFO] [Bullet] Distance to wall: 291,66675 (19,860126% of viewport)
[22:32:03] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:32:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(461.9694, 546.7346), source=ENEMY (Enemy2), range=1469, listeners=10
[22:32:03] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=1, below_threshold=3
[22:32:03] [INFO] [BloodDecal] Blood puddle created at (808.3006, 973.2445) (added to group)
[22:32:03] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[22:32:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(461.9694, 546.7346), source=ENEMY (Enemy2), range=1469, listeners=10
[22:32:03] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=1, below_threshold=3
[22:32:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(679.3049, 921.3284), source=ENEMY (Enemy3), range=1469, listeners=10
[22:32:03] [ENEMY] [Enemy4] Heard gunshot at (679.3049, 921.3284), source_type=1, intensity=1.00, distance=48
[22:32:03] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[22:32:03] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[22:32:03] [INFO] [Player] Hit blocked by invincibility mode (C#)
[22:32:03] [INFO] [Player] Spawning blood effect at (656.16656, 970.97363), dir=(1, 0), lethal=False (C#)
[22:32:03] [INFO] [ImpactEffects] spawn_blood_effect called at (656.1666, 970.9736), dir=(1, 0), lethal=false
[22:32:03] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[22:32:03] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[22:32:03] [INFO] [ImpactEffects] Blood effect spawned at (656.1666, 970.9736) (scale=1)
[22:32:03] [ENEMY] [Enemy2] State: SUPPRESSED -> SEEKING_COVER
[22:32:03] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:32:03] [ENEMY] [Enemy3] Hit: dmg=1, hp=2/3->1/3
[22:32:03] [INFO] [ImpactEffects] spawn_blood_effect called at (679.3049, 921.3284), dir=(1, 0), lethal=false
[22:32:03] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[22:32:03] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[22:32:03] [INFO] [ImpactEffects] Blood effect spawned at (679.3049, 921.3284) (scale=1)
[22:32:03] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=120.3°, current=180.0°, player=(651,968), corner_timer=0.00
[22:32:03] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[22:32:03] [INFO] [BloodDecal] Blood puddle created at (881.1589, 997.1036) (added to group)
[22:32:03] [INFO] [LastChance] Threat detected: @Area2D@1873
[22:32:03] [INFO] [LastChance] Not in hard mode - effect disabled
[22:32:03] [INFO] [LastChance] Cannot trigger effect - conditions not met
[22:32:03] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P4:velocity, state=SEEKING_COVER, target=-120.7°, current=-119.8°, player=(647,966), corner_timer=0.00
[22:32:03] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=133.4°, current=164.9°, player=(642,963), corner_timer=0.00
[22:32:03] [ENEMY] [Enemy3] State: PURSUING -> COMBAT
[22:32:03] [INFO] [Player] Hit blocked by invincibility mode (C#)
[22:32:03] [INFO] [Player] Spawning blood effect at (634.4069, 957.1154), dir=(1, 0), lethal=False (C#)
[22:32:03] [INFO] [ImpactEffects] spawn_blood_effect called at (634.4069, 957.1154), dir=(1, 0), lethal=false
[22:32:03] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[22:32:03] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[22:32:03] [INFO] [ImpactEffects] Blood effect spawned at (634.4069, 957.1154) (scale=1)
[22:32:03] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[22:32:03] [ENEMY] [Enemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=68.1°, current=116.0°, player=(626,949), corner_timer=0.13
[22:32:03] [ENEMY] [Enemy1] State: PURSUING -> COMBAT
[22:32:03] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=-12.4°, current=-120.6°, player=(626,949), corner_timer=0.00
[22:32:03] [INFO] [BloodDecal] Blood puddle created at (835.3265, 996.4295) (added to group)
[22:32:03] [INFO] [BloodDecal] Blood puddle created at (820.5923, 969.2074) (added to group)
[22:32:03] [INFO] [ReplayManager] Recording frame 360 (6,0s): player_valid=True, enemies=10
[22:32:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(618.7704, 947.7526), source=PLAYER (MakarovPM), range=1469, listeners=10
[22:32:03] [ENEMY] [Enemy3] Heard gunshot at (618.7704, 947.7526), source_type=0, intensity=0.70, distance=60
[22:32:03] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=1, self=0, below_threshold=5
[22:32:03] [ENEMY] [Enemy3] ROT_CHANGE: P4:velocity -> P2:combat_state, state=COMBAT, target=175.6°, current=-106.9°, player=(618,941), corner_timer=0.00
[22:32:03] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[22:32:03] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(483.39105, 611.044), shooter_id=1165144100791, bullet_pos=(600.36804, 1010.95306)
[22:32:03] [INFO] [Bullet] Using shooter_position, distance=416,66635
[22:32:03] [INFO] [Bullet] Distance to wall: 416,66635 (28,371578% of viewport)
[22:32:03] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:32:03] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P4:velocity, state=RETREATING, target=-32.6°, current=-109.7°, player=(614,937), corner_timer=0.00
[22:32:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(737.9346, 922.3694), source=ENEMY (Enemy4), range=1469, listeners=10
[22:32:03] [ENEMY] [Enemy3] Heard gunshot at (737.9346, 922.3694), source_type=1, intensity=0.77, distance=57
[22:32:03] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=7
[22:32:03] [ENEMY] [Enemy3] Hit: dmg=1, hp=1/3->0/3
[22:32:03] [INFO] [ImpactEffects] spawn_blood_effect called at (682.4659, 935.2485), dir=(1, 0), lethal=true
[22:32:03] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[22:32:03] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[22:32:03] [INFO] [ImpactEffects] Blood effect spawned at (682.4659, 935.2485) (scale=1.5)
[22:32:03] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[22:32:03] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[22:32:03] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[22:32:03] [INFO] [PowerFantasy] Starting power fantasy effect:
[22:32:03] [INFO] [PowerFantasy]   - Time scale: 0.10
[22:32:03] [INFO] [PowerFantasy]   - Duration: 300ms
[22:32:03] [ENEMY] [Enemy3] [AllyDeath] Notified 3 enemies
[22:32:03] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[22:32:03] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[22:32:03] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[22:32:03] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.5°, player=(607,930), corner_timer=-0.02
[22:32:03] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[22:32:03] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=89.7°, player=(606,929), corner_timer=0.30
[22:32:03] [INFO] [PowerFantasy] Effect duration expired after 310.00 ms
[22:32:03] [INFO] [PowerFantasy] Ending power fantasy effect
[22:32:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(747.2423, 917.1611), source=ENEMY (Enemy4), range=1469, listeners=9
[22:32:04] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[22:32:04] [INFO] [LastChance] Threat detected: @Area2D@1957
[22:32:04] [INFO] [LastChance] Not in hard mode - effect disabled
[22:32:04] [INFO] [LastChance] Cannot trigger effect - conditions not met
[22:32:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(754.8489, 914.0657), source=ENEMY (Enemy4), range=1469, listeners=9
[22:32:04] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[22:32:04] [INFO] [LastChance] Threat detected: Bullet
[22:32:04] [INFO] [LastChance] Not in hard mode - effect disabled
[22:32:04] [INFO] [LastChance] Cannot trigger effect - conditions not met
[22:32:04] [ENEMY] [Enemy4] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=0.0°, current=-116.8°, player=(586,900), corner_timer=-0.02
[22:32:04] [INFO] [BloodDecal] Blood puddle created at (775.3376, 896.5444) (added to group)
[22:32:04] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:32:04] [INFO] [BloodyFeet:Enemy4] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[22:32:04] [INFO] [BloodDecal] Blood puddle created at (722.9777, 998.8204) (added to group)
[22:32:04] [INFO] [BloodDecal] Blood puddle created at (772.7778, 952.2137) (added to group)
[22:32:04] [INFO] [BloodDecal] Blood puddle created at (757.1672, 912.9656) (added to group)
[22:32:04] [INFO] [BloodDecal] Blood puddle created at (697.5825, 965.2487) (added to group)
[22:32:04] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(682.52313, 916.4451), shooter_id=1165848743872, bullet_pos=(516.43207, 902.6048)
[22:32:04] [INFO] [Bullet] Using shooter_position, distance=166,66672
[22:32:04] [INFO] [Bullet] Distance to wall: 166,66672 (11,348644% of viewport)
[22:32:04] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:32:04] [INFO] [Bullet] Starting wall penetration at (516.43207, 902.6048)
[22:32:04] [INFO] [Bullet] Raycast backward hit penetrating body at distance 30,177654
[22:32:04] [INFO] [BloodDecal] Blood puddle created at (772.6114, 966.1534) (added to group)
[22:32:04] [INFO] [BloodDecal] Blood puddle created at (728.2686, 983.0304) (added to group)
[22:32:04] [INFO] [Bullet] Body exited signal received for penetrating body
[22:32:04] [INFO] [Bullet] Exiting penetration at (469.92657, 898.7295) after traveling 41,666664 pixels through wall
[22:32:04] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[22:32:04] [INFO] [BloodDecal] Blood puddle created at (780.5302, 979.0296) (added to group)
[22:32:04] [ENEMY] [Enemy2] State: SEEKING_COVER -> IN_COVER
[22:32:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(580.7998, 864.4803), source=PLAYER (MakarovPM), range=1469, listeners=9
[22:32:04] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=5
[22:32:04] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[22:32:04] [INFO] [BloodDecal] Blood puddle created at (751.5138, 944.3972) (added to group)
[22:32:04] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[22:32:04] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[22:32:04] [INFO] [BloodDecal] Blood puddle created at (846.2864, 952.7662) (added to group)
[22:32:04] [INFO] [BloodDecal] Blood puddle created at (767.6273, 945.7835) (added to group)
[22:32:04] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(580.7998, 864.4803), shooter_id=1168851863415, bullet_pos=(679.6049, 883.7505)
[22:32:04] [INFO] [Bullet] Using shooter_position, distance=100.66667175293
[22:32:04] [INFO] [Bullet] Distance to wall: 100.66667175293 (6.85457878934378% of viewport)
[22:32:04] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:32:04] [INFO] [Bullet] Caliber cannot penetrate walls
[22:32:04] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.6°, current=89.4°, player=(580,836), corner_timer=-0.01
[22:32:04] [ENEMY] [Enemy7] PATROL corner check: angle 89.2°
[22:32:04] [INFO] [BloodDecal] Blood puddle created at (776.3143, 999.1984) (added to group)
[22:32:04] [INFO] [BloodDecal] Blood puddle created at (738.7921, 971.5089) (added to group)
[22:32:04] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.2°, current=92.3°, player=(580,830), corner_timer=0.30
[22:32:04] [INFO] [BloodDecal] Blood puddle created at (803.7233, 976.7285) (added to group)
[22:32:04] [INFO] [BloodDecal] Blood puddle created at (779.5645, 999.2471) (added to group)
[22:32:04] [INFO] [BloodDecal] Blood puddle created at (821.967, 940.1666) (added to group)
[22:32:04] [INFO] [BloodDecal] Blood puddle created at (733.3747, 999.3387) (added to group)
[22:32:04] [INFO] [BloodDecal] Blood puddle created at (788.775, 963.2647) (added to group)
[22:32:04] [INFO] [BloodDecal] Blood puddle created at (800.1315, 954.7554) (added to group)
[22:32:04] [INFO] [BloodDecal] Blood puddle created at (795.5375, 927.9357) (added to group)
[22:32:04] [INFO] [BloodDecal] Blood puddle created at (755.0065, 983.4124) (added to group)
[22:32:04] [ENEMY] [Enemy3] Ragdoll activated
[22:32:04] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[22:32:04] [INFO] [BloodDecal] Blood puddle created at (855.3031, 998.073) (added to group)
[22:32:04] [INFO] [BloodDecal] Blood puddle created at (799.0812, 956.8389) (added to group)
[22:32:04] [INFO] [BloodDecal] Blood puddle created at (816.3872, 976.7809) (added to group)
[22:32:04] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:32:04] [INFO] [BloodDecal] Blood puddle created at (804.743, 966.0184) (added to group)
[22:32:04] [INFO] [BloodDecal] Blood puddle created at (840.7402, 940.6018) (added to group)
[22:32:04] [INFO] [BloodDecal] Blood puddle created at (888.9443, 983.4144) (added to group)
[22:32:04] [INFO] [ReplayManager] Recording frame 420 (6,7s): player_valid=True, enemies=10
[22:32:04] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.8°, current=89.2°, player=(580,726), corner_timer=-0.02
[22:32:04] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[22:32:04] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=92.1°, player=(580,720), corner_timer=0.30
[22:32:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(481.8344, 618.5423), source=ENEMY (Enemy1), range=1469, listeners=9
[22:32:04] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=3
[22:32:04] [INFO] [LastChance] Threat detected: Bullet
[22:32:04] [INFO] [LastChance] Not in hard mode - effect disabled
[22:32:04] [INFO] [LastChance] Cannot trigger effect - conditions not met
[22:32:04] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:32:04] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(527.94586, 668.9093), shooter_id=1164791777368, bullet_pos=(716.7719, 832.7528)
[22:32:04] [INFO] [Bullet] Using shooter_position, distance=249,99994
[22:32:04] [INFO] [Bullet] Distance to wall: 249,99994 (17,022955% of viewport)
[22:32:04] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:32:04] [INFO] [Bullet] Starting wall penetration at (716.7719, 832.7528)
[22:32:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(481.8344, 618.5423), source=ENEMY (Enemy1), range=1469, listeners=9
[22:32:04] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=3
[22:32:04] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[22:32:04] [INFO] [Bullet] Exiting penetration at (752.0195, 863.3369) after traveling 41,666668 pixels through wall
[22:32:04] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[22:32:04] [INFO] [Player] Hit blocked by invincibility mode (C#)
[22:32:04] [INFO] [Player] Spawning blood effect at (585.4192, 656.8938), dir=(1, 0), lethal=False (C#)
[22:32:04] [INFO] [ImpactEffects] spawn_blood_effect called at (585.4192, 656.8938), dir=(1, 0), lethal=false
[22:32:04] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[22:32:04] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[22:32:04] [INFO] [ImpactEffects] Blood effect spawned at (585.4192, 656.8938) (scale=1)
[22:32:04] [ENEMY] [Enemy1] State: COMBAT -> RETREATING
[22:32:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(597.0648, 641.3494), source=PLAYER (MakarovPM), range=1469, listeners=9
[22:32:04] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[22:32:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(481.8344, 618.5423), source=ENEMY (Enemy1), range=1469, listeners=9
[22:32:04] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=3
[22:32:04] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.0°, current=89.3°, player=(603,628), corner_timer=-0.02
[22:32:04] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[22:32:04] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=92.2°, player=(606,625), corner_timer=0.30
[22:32:04] [ENEMY] [Enemy1] Hit: dmg=1, hp=2/2->1/2
[22:32:04] [INFO] [ImpactEffects] spawn_blood_effect called at (473.9164, 613.0272), dir=(-0.944297, -0.329093), lethal=false
[22:32:04] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[22:32:04] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[22:32:04] [INFO] [ImpactEffects] Blood effect spawned at (473.9164, 613.0272) (scale=0.5)
[22:32:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(470.4869, 606.3947), source=ENEMY (Enemy1), range=1469, listeners=9
[22:32:05] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=3
[22:32:05] [INFO] [LastChance] Threat detected: Bullet
[22:32:05] [INFO] [LastChance] Not in hard mode - effect disabled
[22:32:05] [INFO] [LastChance] Cannot trigger effect - conditions not met
[22:32:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(635.2662, 618.2078), source=PLAYER (MakarovPM), range=1469, listeners=9
[22:32:05] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[22:32:05] [ENEMY] [Enemy4] State: SUPPRESSED -> SEEKING_COVER
[22:32:05] [ENEMY] [Enemy1] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=132.4°, current=5.9°, player=(640,611), corner_timer=0.13
[22:32:05] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:32:05] [INFO] [BloodDecal] Blood puddle created at (636.5098, 650.1107) (added to group)
[22:32:05] [INFO] [BloodDecal] Blood puddle created at (628.2868, 662.6335) (added to group)
[22:32:05] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(635.2662, 618.2078), shooter_id=1168851863415, bullet_pos=(522.7491, 584.9359)
[22:32:05] [INFO] [Bullet] Using shooter_position, distance=117.333374023438
[22:32:05] [INFO] [Bullet] Distance to wall: 117.333374023438 (7.98944519430572% of viewport)
[22:32:05] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:32:05] [INFO] [Bullet] Caliber cannot penetrate walls
[22:32:05] [ENEMY] [Enemy1] State: RETREATING -> IN_COVER
[22:32:05] [INFO] [BloodDecal] Blood puddle created at (696.5146, 710.9438) (added to group)
[22:32:05] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[22:32:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(693.7642, 618.3521), source=PLAYER (MakarovPM), range=1469, listeners=9
[22:32:05] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=5
[22:32:05] [INFO] [BloodDecal] Blood puddle created at (719.6023, 689.9917) (added to group)
[22:32:05] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.1°, current=89.3°, player=(698,613), corner_timer=-0.02
[22:32:05] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[22:32:05] [INFO] [BloodyFeet:Player] Blood ran out - no more footprints
[22:32:05] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.2°, player=(703,614), corner_timer=0.30
[22:32:05] [INFO] [BloodDecal] Blood puddle created at (387.8415, 614.5793) (added to group)
[22:32:05] [INFO] [BloodDecal] Blood puddle created at (415.3709, 613.7328) (added to group)
[22:32:05] [INFO] [BloodDecal] Blood puddle created at (426.7537, 615.4615) (added to group)
[22:32:05] [ENEMY] [Enemy4] State: SEEKING_COVER -> IN_COVER
[22:32:05] [INFO] [BloodDecal] Blood puddle created at (680.1812, 725.2854) (added to group)
[22:32:05] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[22:32:05] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(693.7642, 618.3521), shooter_id=1168851863415, bullet_pos=(516.1694, 570.2274)
[22:32:05] [INFO] [Bullet] Using shooter_position, distance=183.999786376953
[22:32:05] [INFO] [Bullet] Distance to wall: 183.999786376953 (12.5288838001793% of viewport)
[22:32:05] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:32:05] [INFO] [Bullet] Caliber cannot penetrate walls
[22:32:05] [ENEMY] [Enemy3] Death animation completed
[22:32:05] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:32:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(731.088, 637.1587), source=PLAYER (MakarovPM), range=1469, listeners=9
[22:32:05] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=5
[22:32:05] [INFO] [BloodDecal] Blood puddle created at (713.6299, 717.9979) (added to group)
[22:32:05] [INFO] [BloodDecal] Blood puddle created at (399.0235, 666.7178) (added to group)
[22:32:05] [ENEMY] [Enemy4] State: SUPPRESSED -> SEEKING_COVER
[22:32:05] [INFO] [BloodDecal] Blood puddle created at (320.3924, 669.0376) (added to group)
[22:32:05] [ENEMY] [Enemy1] State: SUPPRESSED -> SEEKING_COVER
[22:32:05] [INFO] [BloodDecal] Blood puddle created at (767.1536, 768.704) (added to group)
[22:32:05] [INFO] [BloodDecal] Blood puddle created at (786.1426, 769.9843) (added to group)
[22:32:05] [ENEMY] [Enemy1] State: SEEKING_COVER -> IN_COVER
[22:32:05] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[22:32:05] [INFO] [BloodDecal] Blood puddle created at (374.1102, 658.0998) (added to group)
[22:32:05] [ENEMY] [Enemy4] State: SEEKING_COVER -> IN_COVER
[22:32:05] [INFO] [BloodDecal] Blood puddle created at (288.1501, 665.2518) (added to group)
[22:32:05] [INFO] [BloodDecal] Blood puddle created at (301.8461, 598.962) (added to group)
[22:32:05] [INFO] [BloodDecal] Blood puddle created at (298.7415, 648.6498) (added to group)
[22:32:05] [INFO] [ReplayManager] Recording frame 480 (7,7s): player_valid=True, enemies=10
[22:32:05] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[22:32:05] [INFO] [BloodDecal] Blood puddle created at (325.2751, 684.958) (added to group)
[22:32:05] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[22:32:05] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.1°, current=89.4°, player=(731,658), corner_timer=-0.02
[22:32:05] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[22:32:05] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(731.088, 637.1587), shooter_id=1168851863415, bullet_pos=(520.6707, 582.7693)
[22:32:05] [INFO] [Bullet] Using shooter_position, distance=217.3330078125
[22:32:05] [INFO] [Bullet] Distance to wall: 217.3330078125 (14.7986041421151% of viewport)
[22:32:05] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:32:05] [INFO] [Bullet] Caliber cannot penetrate walls
[22:32:05] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.2°, player=(729,661), corner_timer=0.30
[22:32:05] [ENEMY] [Enemy1] State: SUPPRESSED -> SEEKING_COVER
[22:32:05] [ENEMY] [Enemy1] State: SEEKING_COVER -> IN_COVER
[22:32:05] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[22:32:05] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:32:05] [ENEMY] [Enemy1] State: SUPPRESSED -> SEEKING_COVER
[22:32:05] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(652,701), corner_timer=-0.02
[22:32:05] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[22:32:05] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(646,701), corner_timer=0.30
[22:32:06] [ENEMY] [Enemy1] State: SEEKING_COVER -> IN_COVER
[22:32:06] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[22:32:06] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:32:06] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(560,657), corner_timer=-0.02
[22:32:06] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[22:32:06] [ENEMY] [Enemy2] State: SUPPRESSED -> IN_COVER
[22:32:06] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(556,654), corner_timer=0.30
[22:32:06] [ENEMY] [Enemy2] State: IN_COVER -> PURSUING
[22:32:06] [ENEMY] [Enemy1] State: SUPPRESSED -> SEEKING_COVER
[22:32:06] [ENEMY] [Enemy2] ROT_CHANGE: P4:velocity -> P2:combat_state, state=PURSUING, target=70.8°, current=-89.6°, player=(548,648), corner_timer=0.00
[22:32:06] [ENEMY] [Enemy1] State: SEEKING_COVER -> IN_COVER
[22:32:06] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[22:32:06] [ENEMY] [Enemy1] State: SUPPRESSED -> SEEKING_COVER
[22:32:06] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:32:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(509.2628, 641.4281), source=PLAYER (MakarovPM), range=1469, listeners=9
[22:32:06] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=2, self=0, below_threshold=4
[22:32:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(509.2628, 641.4281), shooter_id=1168851863415, bullet_pos=(507.571, 590.7897)
[22:32:06] [INFO] [Bullet] Using shooter_position, distance=50.6666221618652
[22:32:06] [INFO] [Bullet] Distance to wall: 50.6666221618652 (3.44998347070424% of viewport)
[22:32:06] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[22:32:06] [INFO] [Bullet] Caliber cannot penetrate walls
[22:32:06] [ENEMY] [Enemy1] ROT_CHANGE: P3:corner -> P1:visible, state=SEEKING_COVER, target=83.7°, current=132.4°, player=(481,635), corner_timer=0.13
[22:32:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(464.9977, 480.8423), source=ENEMY (Enemy1), range=1469, listeners=9
[22:32:06] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=4
[22:32:06] [ENEMY] [Enemy4] State: SUPPRESSED -> SEEKING_COVER
[22:32:06] [INFO] [LastChance] Threat detected: Bullet
[22:32:06] [INFO] [LastChance] Not in hard mode - effect disabled
[22:32:06] [INFO] [LastChance] Cannot trigger effect - conditions not met
[22:32:06] [ENEMY] [Enemy1] ROT_CHANGE: P1:visible -> P3:corner, state=SEEKING_COVER, target=132.4°, current=153.4°, player=(476,636), corner_timer=0.13
[22:32:06] [ENEMY] [Enemy1] ROT_CHANGE: P3:corner -> P1:visible, state=SEEKING_COVER, target=87.7°, current=126.6°, player=(471,637), corner_timer=0.13
[22:32:06] [INFO] [Player] Hit blocked by invincibility mode (C#)
[22:32:06] [INFO] [Player] Spawning blood effect at (466.61865, 638.31415), dir=(1, 0), lethal=False (C#)
[22:32:06] [INFO] [ImpactEffects] spawn_blood_effect called at (466.6187, 638.3141), dir=(1, 0), lethal=false
[22:32:06] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[22:32:06] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[22:32:06] [INFO] [ImpactEffects] Blood effect spawned at (466.6187, 638.3141) (scale=1)
[22:32:06] [INFO] [ReplayManager] Recording frame 540 (8,7s): player_valid=True, enemies=10
[22:32:06] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(461,639), corner_timer=-0.02
[22:32:06] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[22:32:06] [ENEMY] [Enemy4] State: SEEKING_COVER -> IN_COVER
[22:32:06] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(457,641), corner_timer=0.30
[22:32:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(452.1597, 649.2415), source=PLAYER (MakarovPM), range=1469, listeners=9
[22:32:06] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=3
[22:32:06] [ENEMY] [Enemy4] State: IN_COVER -> PURSUING
[22:32:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(464.9994, 443.5089), source=ENEMY (Enemy1), range=1469, listeners=9
[22:32:06] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=4
[22:32:06] [ENEMY] [Enemy4] ROT_CHANGE: P4:velocity -> P2:combat_state, state=PURSUING, target=-134.6°, current=165.5°, player=(447,644), corner_timer=-0.02
[22:32:06] [INFO] [LastChance] Threat detected: Bullet
[22:32:06] [INFO] [LastChance] Not in hard mode - effect disabled
[22:32:06] [INFO] [LastChance] Cannot trigger effect - conditions not met
[22:32:06] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:32:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(464.9996, 438.1755), source=ENEMY (Enemy1), range=1469, listeners=9
[22:32:06] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=1, below_threshold=4
[22:32:06] [INFO] [LastChance] Threat detected: @Area2D@2065
[22:32:06] [INFO] [LastChance] Not in hard mode - effect disabled
[22:32:06] [INFO] [LastChance] Cannot trigger effect - conditions not met
[22:32:06] [ENEMY] [Enemy1] Hit: dmg=1, hp=1/2->0/2
[22:32:06] [INFO] [ImpactEffects] spawn_blood_effect called at (461.2472, 434.3855), dir=(0.149149, -0.988815), lethal=true
[22:32:06] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[22:32:06] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[22:32:06] [INFO] [ImpactEffects] Blood effect spawned at (461.2472, 434.3855) (scale=0.75)
[22:32:06] [ENEMY] [Enemy1] Enemy died (ricochet: false, penetration: false)
[22:32:06] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[22:32:06] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[22:32:06] [INFO] [PowerFantasy] Starting power fantasy effect:
[22:32:06] [INFO] [PowerFantasy]   - Time scale: 0.10
[22:32:06] [INFO] [PowerFantasy]   - Duration: 300ms
[22:32:06] [ENEMY] [Enemy1] [AllyDeath] Notified 1 enemies
[22:32:06] [INFO] [SoundPropagation] Unregistered listener: Enemy1 (remaining: 8)
[22:32:06] [INFO] [DeathAnim] Started - Angle: -81.4 deg, Index: 6
[22:32:06] [ENEMY] [Enemy1] Death animation started with hit direction: (0.149149, -0.988815)
[22:32:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(388.5354, 652.3211), source=PLAYER (MakarovPM), range=1469, listeners=8
[22:32:06] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=3
[22:32:07] [INFO] [BloodDecal] Blood puddle created at (548.2128, 683.9818) (added to group)
[22:32:07] [ENEMY] [Enemy1] Player ammo empty: false -> true
[22:32:07] [ENEMY] [Enemy2] Player ammo empty: false -> true
[22:32:07] [ENEMY] [Enemy4] Player ammo empty: false -> true
[22:32:07] [ENEMY] [Enemy5] Player ammo empty: false -> true
[22:32:07] [ENEMY] [Enemy6] Player ammo empty: false -> true
[22:32:07] [ENEMY] [Enemy7] Player ammo empty: false -> true
[22:32:07] [ENEMY] [Enemy8] Player ammo empty: false -> true
[22:32:07] [ENEMY] [Enemy9] Player ammo empty: false -> true
[22:32:07] [ENEMY] [Enemy10] Player ammo empty: false -> true
[22:32:07] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(383.0813, 646.2103), source=PLAYER (Player), range=600, listeners=8
[22:32:07] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (383.0813, 646.2103), intensity=0.04, distance=251
[22:32:07] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=0, below_threshold=1
[22:32:07] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=251), can_see=false
[22:32:07] [ENEMY] [Enemy2] Pursuing vulnerability sound at (383.0813, 646.2103), distance=251
[22:32:07] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=502), can_see=false
[22:32:07] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1350), can_see=false
[22:32:07] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1579), can_see=false
[22:32:07] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1254), can_see=false
[22:32:07] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1717), can_see=false
[22:32:07] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1940), can_see=false
[22:32:07] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1231), can_see=false
[22:32:07] [INFO] [PowerFantasy] Effect duration expired after 304.00 ms
[22:32:07] [INFO] [PowerFantasy] Ending power fantasy effect
[22:32:07] [INFO] [BloodDecal] Blood puddle created at (540.5778, 625.9354) (added to group)
[22:32:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(455.26987, 502.2781), shooter_id=1164791777368, bullet_pos=(402.56454, 699.5249)
[22:32:07] [INFO] [Bullet] Using shooter_position, distance=204,16696
[22:32:07] [INFO] [Bullet] Distance to wall: 204,16696 (13,902103% of viewport)
[22:32:07] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:32:07] [INFO] [Bullet] Starting wall penetration at (402.56454, 699.5249)
[22:32:07] [INFO] [Bullet] Raycast backward hit penetrating body at distance 33,75387
[22:32:07] [INFO] [Bullet] Body exited signal received for penetrating body
[22:32:07] [INFO] [Bullet] Exiting penetration at (390.51764, 744.6098) after traveling 41,666676 pixels through wall
[22:32:07] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[22:32:07] [INFO] [BloodDecal] Blood puddle created at (518.8021, 682.9098) (added to group)
[22:32:07] [INFO] [BloodDecal] Blood puddle created at (579.371, 651.8222) (added to group)
[22:32:07] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.3°, current=89.4°, player=(357,640), corner_timer=-0.01
[22:32:07] [ENEMY] [Enemy7] PATROL corner check: angle 89.2°
[22:32:07] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.2°, current=92.3°, player=(352,638), corner_timer=0.30
[22:32:07] [ENEMY] [Enemy2] Hit: dmg=1, hp=4/4->3/4
[22:32:07] [INFO] [ImpactEffects] spawn_blood_effect called at (448.8554, 454.789), dir=(0.342154, -0.939644), lethal=false
[22:32:07] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[22:32:07] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[22:32:07] [INFO] [ImpactEffects] Blood effect spawned at (448.8554, 454.789) (scale=0.5)
[22:32:07] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=121.7°, current=110.0°, player=(338,633), corner_timer=0.00
[22:32:07] [ENEMY] [Enemy2] Player empty ammo - priority attack triggered
[22:32:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(448.8554, 454.789), source=ENEMY (Enemy2), range=1469, listeners=8
[22:32:07] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=4
[22:32:07] [INFO] [LastChance] Threat detected: @Area2D@2077
[22:32:07] [INFO] [LastChance] Not in hard mode - effect disabled
[22:32:07] [INFO] [LastChance] Cannot trigger effect - conditions not met
[22:32:07] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[22:32:07] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[22:32:07] [INFO] [BloodDecal] Blood puddle created at (601.3596, 715.2039) (added to group)
[22:32:07] [INFO] [BloodDecal] Blood puddle created at (497.6121, 395.5702) (added to group)
[22:32:07] [INFO] [BloodDecal] Blood puddle created at (449.8848, 393.9085) (added to group)
[22:32:07] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:32:07] [INFO] [BloodDecal] Blood puddle created at (603.7845, 709.069) (added to group)
[22:32:07] [INFO] [BloodDecal] Blood puddle created at (456.3037, 371.622) (added to group)
[22:32:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(419.92496, 516.3814), shooter_id=1165144100791, bullet_pos=(311.32846, 694.17224)
[22:32:07] [INFO] [Bullet] Using shooter_position, distance=208,33334
[22:32:07] [INFO] [Bullet] Distance to wall: 208,33334 (14,1858015% of viewport)
[22:32:07] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:32:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(466.80225, 510.24426), shooter_id=1164791777368, bullet_pos=(371.70566, 1585.2134)
[22:32:07] [INFO] [Bullet] Using shooter_position, distance=1079,1672
[22:32:07] [INFO] [Bullet] Distance to wall: 1079,1672 (73,48248% of viewport)
[22:32:07] [INFO] [Bullet] Distance-based penetration chance: 60,937107%
[22:32:07] [INFO] [Bullet] Starting wall penetration at (371.70566, 1585.2134)
[22:32:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(439.4514, 463.1739), source=ENEMY (Enemy2), range=1469, listeners=8
[22:32:07] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=4
[22:32:07] [INFO] [Bullet] Raycast backward hit penetrating body at distance 19,775415
[22:32:07] [INFO] [BloodDecal] Blood puddle created at (455.876, 398.3928) (added to group)
[22:32:07] [INFO] [LastChance] Threat detected: @Area2D@2100
[22:32:07] [INFO] [LastChance] Not in hard mode - effect disabled
[22:32:07] [INFO] [LastChance] Cannot trigger effect - conditions not met
[22:32:07] [INFO] [Bullet] Body exited signal received for penetrating body
[22:32:07] [INFO] [Bullet] Exiting penetration at (367.59335, 1631.6985) after traveling 41,66667 pixels through wall
[22:32:07] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[22:32:07] [ENEMY] [Enemy2] Player empty ammo - priority attack triggered
[22:32:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(437.7208, 461.1451), source=ENEMY (Enemy2), range=1469, listeners=8
[22:32:07] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=1, below_threshold=4
[22:32:07] [INFO] [BloodDecal] Blood puddle created at (466.6709, 395.1356) (added to group)
[22:32:07] [INFO] [LastChance] Threat detected: @Area2D@2105
[22:32:07] [INFO] [LastChance] Not in hard mode - effect disabled
[22:32:07] [INFO] [LastChance] Cannot trigger effect - conditions not met
[22:32:07] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=-130.5°, current=-177.7°, player=(289,631), corner_timer=0.00
[22:32:07] [INFO] [BloodDecal] Blood puddle created at (659.4449, 675.868) (added to group)
[22:32:07] [INFO] [BloodDecal] Blood puddle created at (606.5177, 721.8677) (added to group)
[22:32:07] [INFO] [BloodDecal] Blood puddle created at (457.0467, 388.8186) (added to group)
[22:32:07] [INFO] [BloodDecal] Blood puddle created at (440.8792, 377.2247) (added to group)
[22:32:07] [INFO] [BloodDecal] Blood puddle created at (470.8495, 368.6149) (added to group)
[22:32:07] [INFO] [BloodDecal] Blood puddle created at (484.2053, 348.0186) (added to group)
[22:32:07] [INFO] [BloodDecal] Blood puddle created at (484.7543, 386.4262) (added to group)
[22:32:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(400.17236, 523.5078), shooter_id=1165144100791, bullet_pos=(300.33533, 706.3612)
[22:32:07] [INFO] [Bullet] Using shooter_position, distance=208,33337
[22:32:07] [INFO] [Bullet] Distance to wall: 208,33337 (14,185802% of viewport)
[22:32:07] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:32:07] [INFO] [BloodDecal] Blood puddle created at (662.9138, 805.0739) (added to group)
[22:32:07] [INFO] [BloodDecal] Blood puddle created at (481.2312, 328.5896) (added to group)
[22:32:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(401.43665, 518.713), shooter_id=1165144100791, bullet_pos=(244.91975, 713.65515)
[22:32:07] [INFO] [Bullet] Using shooter_position, distance=249,99995
[22:32:07] [INFO] [Bullet] Distance to wall: 249,99995 (17,022957% of viewport)
[22:32:07] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:32:07] [ENEMY] [Enemy1] Ragdoll activated
[22:32:07] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[22:32:07] [INFO] [BloodDecal] Blood puddle created at (621.4905, 754.368) (added to group)
[22:32:07] [INFO] [BloodDecal] Blood puddle created at (464.4828, 404.2516) (added to group)
[22:32:07] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.6°, current=89.2°, player=(251,631), corner_timer=-0.02
[22:32:07] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[22:32:07] [INFO] [BloodyFeet:Enemy1] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[22:32:07] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=92.0°, player=(245,631), corner_timer=0.30
[22:32:07] [INFO] [BloodDecal] Blood puddle created at (482.4258, 337.7141) (added to group)
[22:32:07] [INFO] [ReplayManager] Recording frame 600 (9,4s): player_valid=True, enemies=10
[22:32:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(419.92496, 516.3814), shooter_id=1165144100791, bullet_pos=(48.237885, 310.2502)
[22:32:07] [INFO] [Bullet] Using shooter_position, distance=425,01923
[22:32:07] [INFO] [Bullet] Distance to wall: 425,01923 (28,94034% of viewport)
[22:32:07] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:32:07] [INFO] [BloodDecal] Blood puddle created at (497.1423, 349.1206) (added to group)
[22:32:07] [INFO] [BloodDecal] Blood puddle created at (458.72, 377.5081) (added to group)
[22:32:07] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=279), can_see=false
[22:32:07] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=640), can_see=false
[22:32:07] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1503), can_see=false
[22:32:07] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1736), can_see=false
[22:32:07] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1413), can_see=false
[22:32:07] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1866), can_see=false
[22:32:07] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2089), can_see=false
[22:32:07] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1348), can_see=false
[22:32:07] [INFO] [BloodDecal] Blood puddle created at (492.1209, 387.846) (added to group)
[22:32:07] [INFO] [BloodDecal] Blood puddle created at (459.4937, 410.1327) (added to group)
[22:32:07] [INFO] [BloodDecal] Blood puddle created at (452.1307, 418.1975) (added to group)
[22:32:07] [INFO] [BloodDecal] Blood puddle created at (413.5527, 331.452) (added to group)
[22:32:07] [INFO] [BloodDecal] Blood puddle created at (485.4228, 420.1098) (added to group)
[22:32:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(401.43665, 518.713), shooter_id=1165144100791, bullet_pos=(56.774277, 407.71088)
[22:32:07] [INFO] [Bullet] Using shooter_position, distance=362,09613
[22:32:07] [INFO] [Bullet] Distance to wall: 362,09613 (24,655792% of viewport)
[22:32:07] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:32:07] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:32:07] [INFO] [BloodDecal] Blood puddle created at (393.4049, 316.8403) (added to group)
[22:32:07] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[22:32:07] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[22:32:07] [INFO] [BloodDecal] Blood puddle created at (467.6976, 417.0111) (added to group)
[22:32:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(419.92496, 516.3814), shooter_id=1165144100791, bullet_pos=(179.97037, 67.78772)
[22:32:07] [INFO] [Bullet] Using shooter_position, distance=508,73816
[22:32:07] [INFO] [Bullet] Distance to wall: 508,73816 (34,64092% of viewport)
[22:32:07] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:32:07] [INFO] [BloodDecal] Blood puddle created at (473.3938, 441.2831) (added to group)
[22:32:07] [INFO] [BloodDecal] Blood puddle created at (450.4429, 440.5583) (added to group)
[22:32:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(419.92496, 516.3814), shooter_id=1165144100791, bullet_pos=(240.2481, 241.76099)
[22:32:07] [INFO] [Bullet] Using shooter_position, distance=328,177
[22:32:07] [INFO] [Bullet] Distance to wall: 328,177 (22,346176% of viewport)
[22:32:07] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:32:07] [INFO] [Bullet] Starting wall penetration at (240.2481, 241.76099)
[22:32:07] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[22:32:07] [INFO] [Bullet] Exiting penetration at (250.26227, 270.66385) after traveling 25,588541 pixels through wall
[22:32:07] [INFO] [Bullet] Damage multiplier after penetration: 0,1125
[22:32:07] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.8°, current=89.3°, player=(141,631), corner_timer=-0.02
[22:32:07] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[22:32:07] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=92.1°, player=(135,631), corner_timer=0.30
[22:32:07] [INFO] [BloodDecal] Blood puddle created at (489.2795, 355.025) (added to group)
[22:32:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(401.43665, 518.713), shooter_id=1165144100791, bullet_pos=(338.39713, 48.353226)
[22:32:07] [INFO] [Bullet] Using shooter_position, distance=474,5654
[22:32:07] [INFO] [Bullet] Distance to wall: 474,5654 (32,314034% of viewport)
[22:32:07] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:32:07] [INFO] [BloodDecal] Blood puddle created at (468.974, 368.037) (added to group)
[22:32:07] [INFO] [BloodDecal] Blood puddle created at (495.5508, 454.4314) (added to group)
[22:32:08] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:32:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(401.43665, 518.713), shooter_id=1165144100791, bullet_pos=(501.2863, 344.11563)
[22:32:08] [INFO] [Bullet] Using shooter_position, distance=201,13228
[22:32:08] [INFO] [Bullet] Distance to wall: 201,13228 (13,695467% of viewport)
[22:32:08] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:32:08] [INFO] [Bullet] Starting wall penetration at (501.2863, 344.11563)
[22:32:08] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=384), can_see=false
[22:32:08] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=765), can_see=false
[22:32:08] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1645), can_see=false
[22:32:08] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1879), can_see=false
[22:32:08] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1554), can_see=false
[22:32:08] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1994), can_see=false
[22:32:08] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2218), can_see=false
[22:32:08] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1450), can_see=false
[22:32:08] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[22:32:08] [INFO] [Bullet] Exiting penetration at (516.0427, 370.9094) after traveling 25,588543 pixels through wall
[22:32:08] [INFO] [Bullet] Damage multiplier after penetration: 0,1125
[22:32:08] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.0°, current=89.3°, player=(80,639), corner_timer=-0.02
[22:32:08] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[22:32:08] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=92.2°, player=(80,641), corner_timer=0.30
[22:32:08] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:32:08] [ENEMY] [Enemy1] Death animation completed
[22:32:08] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.1°, current=89.4°, player=(80,684), corner_timer=-0.02
[22:32:08] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[22:32:08] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.2°, player=(80,685), corner_timer=0.30
[22:32:08] [INFO] [ReplayManager] Recording frame 660 (10,4s): player_valid=True, enemies=10
[22:32:08] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[22:32:08] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:32:08] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[22:32:08] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[22:32:08] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[22:32:08] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[22:32:08] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[22:32:08] [INFO] [LastChance] Resetting all effects (scene change detected)
[22:32:08] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[22:32:08] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[22:32:08] [ENEMY] [Enemy1] Death animation component initialized
[22:32:08] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:32:08] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[22:32:08] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[22:32:08] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[22:32:08] [ENEMY] [Enemy2] Death animation component initialized
[22:32:08] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:32:08] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[22:32:08] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[22:32:08] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[22:32:08] [ENEMY] [Enemy3] Death animation component initialized
[22:32:08] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:32:08] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[22:32:08] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[22:32:08] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[22:32:08] [ENEMY] [Enemy4] Death animation component initialized
[22:32:08] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:32:08] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[22:32:08] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[22:32:08] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[22:32:08] [ENEMY] [Enemy5] Death animation component initialized
[22:32:08] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:32:08] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[22:32:08] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[22:32:08] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[22:32:08] [ENEMY] [Enemy6] Death animation component initialized
[22:32:08] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:32:08] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[22:32:08] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[22:32:08] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[22:32:08] [ENEMY] [Enemy7] Death animation component initialized
[22:32:08] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:32:08] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[22:32:08] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[22:32:08] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[22:32:08] [ENEMY] [Enemy8] Death animation component initialized
[22:32:08] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:32:08] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[22:32:08] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[22:32:08] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[22:32:08] [ENEMY] [Enemy9] Death animation component initialized
[22:32:08] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:32:08] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[22:32:08] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[22:32:08] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[22:32:08] [ENEMY] [Enemy10] Death animation component initialized
[22:32:08] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:32:08] [INFO] [BloodyFeet:Player] Footprint scene loaded
[22:32:08] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[22:32:08] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[22:32:08] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[22:32:08] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[22:32:08] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[22:32:08] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[22:32:08] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[22:32:08] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[22:32:08] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[22:32:08] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: True
[22:32:08] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[22:32:08] [INFO] [Player] Ready! Ammo: 9/9, Grenades: 1/3, Health: 10/10
[22:32:08] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[22:32:08] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[22:32:08] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[22:32:08] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[22:32:08] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[22:32:08] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[22:32:08] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[22:32:08] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[22:32:08] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[22:32:08] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[22:32:08] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[22:32:08] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[22:32:08] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[22:32:08] [INFO] [BuildingLevel] Setting up weapon: makarov_pm
[22:32:08] [INFO] [ScoreManager] Level started with 10 enemies
[22:32:08] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[22:32:08] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[22:32:08] [INFO] [ReplayManager] Replay data cleared
[22:32:08] [INFO] [BuildingLevel] Previous replay data cleared
[22:32:08] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[22:32:08] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[22:32:08] [INFO] [ReplayManager] Level: BuildingLevel
[22:32:08] [INFO] [ReplayManager] Player: Player (valid: True)
[22:32:08] [INFO] [ReplayManager] Enemies count: 10
[22:32:08] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[22:32:08] [INFO] [ReplayManager]   Enemy 0: Enemy1
[22:32:08] [INFO] [ReplayManager]   Enemy 1: Enemy2
[22:32:08] [INFO] [ReplayManager]   Enemy 2: Enemy3
[22:32:08] [INFO] [ReplayManager]   Enemy 3: Enemy4
[22:32:08] [INFO] [ReplayManager]   Enemy 4: Enemy5
[22:32:08] [INFO] [ReplayManager]   Enemy 5: Enemy6
[22:32:08] [INFO] [ReplayManager]   Enemy 6: Enemy7
[22:32:08] [INFO] [ReplayManager]   Enemy 7: Enemy8
[22:32:08] [INFO] [ReplayManager]   Enemy 8: Enemy9
[22:32:08] [INFO] [ReplayManager]   Enemy 9: Enemy10
[22:32:08] [INFO] [BuildingLevel] Replay recording started successfully
[22:32:08] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[22:32:08] [INFO] [CinemaEffects] Found player node: Player
[22:32:08] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[22:32:08] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 9)
[22:32:08] [ENEMY] [Enemy1] Registered as sound listener
[22:32:08] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 3, behavior: GUARD
[22:32:08] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[22:32:08] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 10)
[22:32:08] [ENEMY] [Enemy2] Registered as sound listener
[22:32:08] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 4, behavior: GUARD
[22:32:08] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[22:32:08] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 11)
[22:32:08] [ENEMY] [Enemy3] Registered as sound listener
[22:32:08] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 2, behavior: GUARD
[22:32:08] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[22:32:08] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 12)
[22:32:08] [ENEMY] [Enemy4] Registered as sound listener
[22:32:08] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 2, behavior: GUARD
[22:32:08] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[22:32:08] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 13)
[22:32:08] [ENEMY] [Enemy5] Registered as sound listener
[22:32:08] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 3, behavior: GUARD
[22:32:08] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[22:32:08] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 14)
[22:32:08] [ENEMY] [Enemy6] Registered as sound listener
[22:32:08] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 2, behavior: GUARD
[22:32:08] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[22:32:08] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 15)
[22:32:08] [ENEMY] [Enemy7] Registered as sound listener
[22:32:08] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 4, behavior: PATROL
[22:32:08] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[22:32:08] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 16)
[22:32:08] [ENEMY] [Enemy8] Registered as sound listener
[22:32:08] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 3, behavior: GUARD
[22:32:08] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[22:32:08] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 17)
[22:32:08] [ENEMY] [Enemy9] Registered as sound listener
[22:32:08] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 4, behavior: GUARD
[22:32:08] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[22:32:08] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 18)
[22:32:08] [ENEMY] [Enemy10] Registered as sound listener
[22:32:08] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 2, behavior: PATROL
[22:32:08] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[22:32:08] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[22:32:08] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=33.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:32:08] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:32:08] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=123.7°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:32:08] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:32:08] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:32:08] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:32:08] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:32:08] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:32:08] [INFO] [Player] Detecting weapon pose (frame 3)...
[22:32:08] [INFO] [Player] Detected weapon: Makarov PM (Pistol pose)
[22:32:08] [INFO] [Player] Applied Pistol arm pose: Left=(16, 6), Right=(4, 6)
[22:32:08] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[22:32:08] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[22:32:08] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[22:32:08] [INFO] [LastChance] Found player: Player
[22:32:08] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[22:32:08] [INFO] [LastChance] Connected to player Damaged signal (C#)
[22:32:08] [INFO] [LastChance] Connected to player Died signal (C#)
[22:32:08] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[22:32:09] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[22:32:10] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[22:32:10] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[22:32:10] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,924), corner_timer=0.30
[22:32:10] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,924), corner_timer=0.30
[22:32:10] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=163.7°, current=123.7°, player=(454,821), corner_timer=0.00
[22:32:10] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[22:32:10] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(454,821), corner_timer=-0.02
[22:32:10] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[22:32:10] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.7°, player=(454,821), corner_timer=-0.02
[22:32:10] [ENEMY] [Enemy10] PATROL corner check: angle 14.6°
[22:32:10] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(456,816), corner_timer=0.30
[22:32:10] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.6°, current=53.0°, player=(456,816), corner_timer=0.30
[22:32:10] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=165.6°, current=-65.9°, player=(458,812), corner_timer=0.00
[22:32:10] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[22:32:10] [ENEMY] [Enemy4] Memory: high confidence (0.88) - transitioning to PURSUING
[22:32:10] [ENEMY] [Enemy4] State: IDLE -> PURSUING
[22:32:10] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=-157.3°, current=-67.5°, player=(493,771), corner_timer=0.00
[22:32:10] [ENEMY] [Enemy4] PURSUING corner check: angle -90.6°
[22:32:10] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=60.8°, current=33.8°, player=(520,744), corner_timer=0.00
[22:32:10] [ENEMY] [Enemy1] State: IDLE -> COMBAT
[22:32:10] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.3°, player=(524,740), corner_timer=-0.02
[22:32:10] [ENEMY] [Enemy10] PATROL corner check: angle 7.1°
[22:32:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(528.4683, 742.6692), source=PLAYER (MakarovPM), range=1469, listeners=18
[22:32:10] [INFO] [SoundPropagation] Cleaned up 8 invalid listeners
[22:32:10] [ENEMY] [Enemy2] Heard gunshot at (528.4683, 742.6692), source_type=0, intensity=0.05, distance=232
[22:32:10] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=2, self=0, below_threshold=4
[22:32:10] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=55.5°, current=168.8°, player=(528,736), corner_timer=0.00
[22:32:10] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.1°, current=16.9°, player=(528,736), corner_timer=0.30
[22:32:11] [ENEMY] [Enemy3] Hit: dmg=1, hp=2/2->1/2
[22:32:11] [INFO] [ImpactEffects] spawn_blood_effect called at (689.7137, 752.8234), dir=(0.984025, 0.178032), lethal=false
[22:32:11] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[22:32:11] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[22:32:11] [INFO] [ImpactEffects] Blood effect spawned at (689.7137, 752.8234) (scale=0.5)
[22:32:11] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-162.1°, current=-169.7°, player=(555,709), corner_timer=0.00
[22:32:11] [ENEMY] [Enemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=50.4°, current=65.5°, player=(563,701), corner_timer=0.00
[22:32:11] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[22:32:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(686.8141, 760.2794), source=ENEMY (Enemy3), range=1469, listeners=10
[22:32:11] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[22:32:11] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=111.3°, current=179.5°, player=(602,662), corner_timer=0.00
[22:32:11] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(602,662), corner_timer=-0.02
[22:32:11] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[22:32:11] [ENEMY] [Enemy4] PURSUING corner check: angle -92.2°
[22:32:11] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.7°, player=(606,658), corner_timer=0.30
[22:32:11] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-98.2°, current=-145.7°, player=(614,651), corner_timer=0.28
[22:32:11] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[22:32:11] [INFO] [BloodDecal] Blood puddle created at (770.1379, 776.1937) (added to group)
[22:32:11] [INFO] [BloodDecal] Blood puddle created at (760.3502, 767.6749) (added to group)
[22:32:11] [ENEMY] [Enemy2] Hit: dmg=1, hp=4/4->3/4
[22:32:11] [INFO] [ImpactEffects] spawn_blood_effect called at (400, 550), dir=(1, 0), lethal=false
[22:32:11] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[22:32:11] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[22:32:11] [INFO] [ImpactEffects] Wall found for blood splatter at (500, 550) (dist=100 px)
[22:32:11] [INFO] [BloodDecal] Blood puddle created at (499, 550) (added to group)
[22:32:11] [INFO] [ImpactEffects] Blood effect spawned at (400, 550) (scale=1)
[22:32:11] [INFO] [BloodDecal] Blood puddle created at (798.8145, 786.5289) (added to group)
[22:32:11] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[22:32:11] [INFO] [BloodDecal] Blood puddle created at (804.9599, 832.5983) (added to group)
[22:32:11] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[22:32:11] [INFO] [BloodDecal] Blood puddle created at (796.222, 758.5181) (added to group)
[22:32:11] [INFO] [BloodDecal] Blood puddle created at (833.686, 800.1154) (added to group)
[22:32:11] [ENEMY] [Enemy2] State: PURSUING -> RETREATING
[22:32:11] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[22:32:11] [INFO] [BloodDecal] Blood puddle created at (826.9001, 817.4491) (added to group)
[22:32:11] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[22:32:11] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(680,584), corner_timer=-0.02
[22:32:11] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[22:32:11] [ENEMY] [Enemy3] ROT_CHANGE: P4:velocity -> P1:visible, state=RETREATING, target=-101.8°, current=-58.4°, player=(684,581), corner_timer=0.00
[22:32:11] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.8°, current=6.3°, player=(684,581), corner_timer=0.30
[22:32:11] [INFO] [BloodDecal] Blood puddle created at (452.5514, 588.9082) (added to group)
[22:32:11] [INFO] [BloodDecal] Blood puddle created at (876.5858, 862.4973) (added to group)
[22:32:11] [INFO] [BloodDecal] Blood puddle created at (847.4855, 838.7488) (added to group)
[22:32:11] [INFO] [BloodDecal] Blood puddle created at (871.0376, 827.5884) (added to group)
[22:32:11] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=10
[22:32:11] [INFO] [BloodDecal] Blood puddle created at (494.2323, 550.2786) (added to group)
[22:32:11] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=85.9°, current=113.6°, player=(718,558), corner_timer=0.00
[22:32:11] [ENEMY] [Enemy3] ROT_CHANGE: P4:velocity -> P1:visible, state=RETREATING, target=-85.9°, current=-69.4°, player=(744,554), corner_timer=0.00
[22:32:11] [INFO] [BloodDecal] Blood puddle created at (532.8984, 654.5219) (added to group)
[22:32:11] [INFO] [BloodDecal] Blood puddle created at (475.5057, 583.4662) (added to group)
[22:32:11] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=110.0°, current=112.0°, player=(766,554), corner_timer=0.00
[22:32:11] [INFO] [BloodDecal] Blood puddle created at (475.7054, 630.6257) (added to group)
[22:32:11] [INFO] [BloodDecal] Blood puddle created at (571.4927, 704.5488) (added to group)
[22:32:11] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.8°, player=(777,554), corner_timer=-0.02
[22:32:11] [ENEMY] [Enemy10] PATROL corner check: angle 0.9°
[22:32:11] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=0.9°, current=4.6°, player=(783,554), corner_timer=0.30
[22:32:11] [INFO] [BloodDecal] Blood puddle created at (552.1069, 681.0331) (added to group)
[22:32:11] [ENEMY] [Enemy3] ROT_CHANGE: P4:velocity -> P1:visible, state=RETREATING, target=-74.0°, current=-79.3°, player=(788,554), corner_timer=0.00
[22:32:11] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=120.9°, current=130.7°, player=(810,554), corner_timer=0.00
[22:32:11] [INFO] [BloodDecal] Blood puddle created at (495.0584, 609.7934) (added to group)
[22:32:12] [INFO] [BloodDecal] Blood puddle created at (525.8921, 627.3737) (added to group)
[22:32:12] [ENEMY] [Enemy3] ROT_CHANGE: P4:velocity -> P1:visible, state=RETREATING, target=-60.9°, current=-101.3°, player=(838,554), corner_timer=0.00
[22:32:12] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=107.8°, current=122.1°, player=(860,554), corner_timer=0.00
[22:32:12] [ENEMY] [Enemy4] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-53.7°, current=-53.7°, player=(871,554), corner_timer=0.28
[22:32:12] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[22:32:12] [ENEMY] [Enemy3] ROT_CHANGE: P4:velocity -> P1:visible, state=RETREATING, target=-51.5°, current=-76.2°, player=(882,554), corner_timer=0.00
[22:32:12] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:32:12] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=123.2°, current=137.5°, player=(904,554), corner_timer=0.00
[22:32:12] [ENEMY] [Enemy3] ROT_CHANGE: P4:velocity -> P1:visible, state=RETREATING, target=-41.6°, current=4.6°, player=(942,554), corner_timer=0.00
[22:32:12] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=-130.1°, player=(953,554), corner_timer=-0.02
[22:32:12] [ENEMY] [Enemy7] PATROL corner check: angle 90.0°
[22:32:12] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=-133.0°, player=(959,554), corner_timer=0.30
[22:32:12] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[22:32:12] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[22:32:12] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:32:12] [INFO] [ReplayManager] Recording frame 240 (4,0s): player_valid=True, enemies=10
[22:32:12] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=179.1°, current=172.4°, player=(1051,582), corner_timer=-0.02
[22:32:12] [ENEMY] [Enemy7] PATROL corner check: angle 89.8°
[22:32:12] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.8°, current=175.3°, player=(1055,586), corner_timer=0.30
[22:32:12] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:32:12] [ENEMY] [Enemy1] PURSUING corner check: angle -88.7°
[22:32:13] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=178.4°, current=120.7°, player=(1129,660), corner_timer=-0.02
[22:32:13] [ENEMY] [Enemy7] PATROL corner check: angle 89.7°
[22:32:13] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.7°, current=123.6°, player=(1133,664), corner_timer=0.30
[22:32:13] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:32:13] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.9°, current=89.7°, player=(1223,671), corner_timer=-0.02
[22:32:13] [ENEMY] [Enemy7] PATROL corner check: angle 89.6°
[22:32:13] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.6°, current=92.5°, player=(1229,671), corner_timer=0.30
[22:32:13] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:32:13] [INFO] [ReplayManager] Recording frame 300 (5,0s): player_valid=True, enemies=10
[22:32:13] [ENEMY] [Enemy3] State: SUPPRESSED -> IN_COVER
[22:32:13] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.7°, current=89.6°, player=(1333,671), corner_timer=-0.02
[22:32:13] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[22:32:13] [ENEMY] [Enemy3] State: IN_COVER -> PURSUING
[22:32:13] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.4°, player=(1339,671), corner_timer=0.30
[22:32:13] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P2:combat_state, state=PURSUING, target=-8.9°, current=-38.0°, player=(1344,671), corner_timer=0.00
[22:32:13] [ENEMY] [Enemy2] State: SUPPRESSED -> IN_COVER
[22:32:13] [ENEMY] [Enemy2] State: IN_COVER -> PURSUING
[22:32:13] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:32:14] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.5°, current=89.5°, player=(1428,692), corner_timer=-0.02
[22:32:14] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[22:32:14] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.4°, player=(1431,695), corner_timer=0.30
[22:32:14] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:32:14] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.4°, current=89.5°, player=(1423,759), corner_timer=-0.02
[22:32:14] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[22:32:14] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.3°, player=(1419,759), corner_timer=0.30
[22:32:14] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:32:14] [INFO] [ReplayManager] Recording frame 360 (6,0s): player_valid=True, enemies=10
[22:32:14] [ENEMY] [Enemy1] Warning: No valid flank position (both sides behind walls)
[22:32:14] [ENEMY] [Enemy1] FLANKING started: target=(1172.219, 888.124), side=left, pos=(458.3415, 441.8159)
[22:32:14] [ENEMY] [Enemy1] State: PURSUING -> FLANKING
[22:32:14] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.5°, player=(1320,759), corner_timer=-0.02
[22:32:14] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[22:32:14] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1314,759), corner_timer=0.30
[22:32:14] [ENEMY] [Enemy1] FLANKING corner check: angle -175.9°
[22:32:14] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:32:15] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(1210,759), corner_timer=-0.02
[22:32:15] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[22:32:15] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1204,759), corner_timer=0.30
[22:32:15] [ENEMY] [Enemy1] FLANKING corner check: angle -175.9°
[22:32:15] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:32:15] [ENEMY] [Enemy3] PURSUING corner check: angle -133.6°
[22:32:15] [INFO] [BloodyFeet:Enemy3] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[22:32:15] [ENEMY] [Enemy2] PURSUING corner check: angle -98.4°
[22:32:15] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(1121,728), corner_timer=-0.02
[22:32:15] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[22:32:15] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1117,728), corner_timer=0.30
[22:32:15] [ENEMY] [Enemy1] FLANKING corner check: angle -170.4°
[22:32:15] [ENEMY] [Enemy4] PURSUING corner check: angle -106.8°
[22:32:15] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:32:15] [ENEMY] [Enemy3] PURSUING corner check: angle -133.6°
[22:32:15] [INFO] [ReplayManager] Recording frame 420 (7,0s): player_valid=True, enemies=10
[22:32:15] [INFO] [BloodyFeet:Enemy4] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[22:32:15] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(1048,728), corner_timer=-0.02
[22:32:15] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[22:32:15] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1046,728), corner_timer=0.30
[22:32:15] [ENEMY] [Enemy1] FLANKING corner check: angle -36.4°
[22:32:15] [ENEMY] [Enemy4] PURSUING corner check: angle -106.6°
[22:32:15] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:32:16] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(1040,728), corner_timer=-0.02
[22:32:16] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[22:32:16] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1040,728), corner_timer=0.30
[22:32:16] [ENEMY] [Enemy1] FLANKING corner check: angle -24.9°
[22:32:16] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:32:16] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1040,728), corner_timer=-0.02
[22:32:16] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[22:32:16] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1040,728), corner_timer=0.30
[22:32:16] [ENEMY] [Enemy1] FLANKING corner check: angle -24.6°
[22:32:16] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:32:16] [INFO] [ReplayManager] Recording frame 480 (8,0s): player_valid=True, enemies=10
[22:32:16] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1040,728), corner_timer=-0.02
[22:32:16] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[22:32:16] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1040,728), corner_timer=0.30
[22:32:16] [ENEMY] [Enemy1] FLANKING corner check: angle -24.4°
[22:32:16] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:32:17] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1040,728), corner_timer=-0.02
[22:32:17] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[22:32:17] [ENEMY] [Enemy2] Warning: No valid flank position (both sides behind walls)
[22:32:17] [ENEMY] [Enemy2] FLANKING started: target=(891.8522, 861.7867), side=left, pos=(457.1352, 538.0403)
[22:32:17] [ENEMY] [Enemy2] State: PURSUING -> FLANKING
[22:32:17] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1040,728), corner_timer=0.30
[22:32:17] [ENEMY] [Enemy1] FLANKING corner check: angle -24.5°
[22:32:17] [INFO] [BloodyFeet:Enemy2] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[22:32:17] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:32:17] [ENEMY] [Enemy2] FLANKING corner check: angle 166.9°
[22:32:17] [ENEMY] [Enemy3] Warning: No valid flank position (both sides behind walls)
[22:32:17] [ENEMY] [Enemy3] FLANKING started: target=(867.5701, 828.4106), side=left, pos=(868.6334, 629.2515)
[22:32:17] [ENEMY] [Enemy3] State: PURSUING -> FLANKING
[22:32:17] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1040,728), corner_timer=-0.02
[22:32:17] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[22:32:17] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1040,728), corner_timer=0.30
[22:32:17] [ENEMY] [Enemy1] FLANKING corner check: angle -25.2°
[22:32:17] [ENEMY] [Enemy3] FLANKING corner check: angle 176.6°
[22:32:17] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:32:17] [ENEMY] [Enemy2] FLANKING corner check: angle -60.3°
[22:32:17] [INFO] [ReplayManager] Recording frame 540 (9,0s): player_valid=True, enemies=10
[22:32:17] [ENEMY] [Enemy4] PURSUING corner check: angle -170.1°
[22:32:17] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1040,728), corner_timer=-0.02
[22:32:17] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[22:32:17] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1040,728), corner_timer=0.30
[22:32:17] [ENEMY] [Enemy1] FLANKING corner check: angle -156.4°
[22:32:17] [ENEMY] [Enemy3] FLANKING corner check: angle 169.7°
[22:32:17] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:32:17] [ENEMY] [Enemy2] FLANKING corner check: angle -114.1°
[22:32:18] [INFO] [BloodyFeet:Enemy3] Blood ran out - no more footprints
[22:32:18] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1040,728), corner_timer=-0.02
[22:32:18] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[22:32:18] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1040,728), corner_timer=0.30
[22:32:18] [ENEMY] [Enemy1] FLANKING corner check: angle -161.5°
[22:32:18] [ENEMY] [Enemy3] FLANKING corner check: angle -164.2°
[22:32:18] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:32:18] [ENEMY] [Enemy2] FLANKING corner check: angle -126.5°
[22:32:18] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1040,728), corner_timer=-0.02
[22:32:18] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[22:32:18] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1040,728), corner_timer=0.30
[22:32:18] [ENEMY] [Enemy1] FLANKING corner check: angle -163.5°
[22:32:18] [ENEMY] [Enemy3] FLANKING corner check: angle -163.9°
[22:32:18] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:32:18] [ENEMY] [Enemy2] FLANKING corner check: angle -143.1°
[22:32:18] [INFO] [ReplayManager] Recording frame 600 (10,0s): player_valid=True, enemies=10
[22:32:18] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1040,728), corner_timer=-0.02
[22:32:18] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[22:32:18] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1040,728), corner_timer=0.30
[22:32:18] [ENEMY] [Enemy1] FLANKING corner check: angle -164.0°
[22:32:18] [ENEMY] [Enemy3] FLANKING corner check: angle -162.6°
[22:32:18] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:32:18] [ENEMY] [Enemy2] FLANKING corner check: angle -158.7°
[22:32:18] [INFO] [BloodyFeet:Enemy2] Blood ran out - no more footprints
[22:32:19] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1040,728), corner_timer=-0.02
[22:32:19] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[22:32:19] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1040,728), corner_timer=0.30
[22:32:19] [ENEMY] [Enemy1] FLANKING corner check: angle -162.4°
[22:32:19] [ENEMY] [Enemy3] FLANKING corner check: angle -163.4°
[22:32:19] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:32:19] [ENEMY] [Enemy2] FLANKING corner check: angle -162.7°
[22:32:19] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1040,728), corner_timer=-0.02
[22:32:19] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[22:32:19] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1040,728), corner_timer=0.30
[22:32:19] [ENEMY] [Enemy1] FLANKING corner check: angle -163.3°
[22:32:19] [ENEMY] [Enemy3] FLANKING corner check: angle -163.7°
[22:32:19] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:32:19] [ENEMY] [Enemy2] FLANKING corner check: angle -163.7°
[22:32:19] [INFO] [ReplayManager] Recording frame 660 (11,0s): player_valid=True, enemies=10
[22:32:19] [ENEMY] [Enemy1] FLANKING timeout (5.0s), target=(923.1393, 889.9564), pos=(886.0784, 717.2354)
[22:32:19] [ENEMY] [Enemy1] State: FLANKING -> PURSUING
[22:32:19] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1040,728), corner_timer=-0.02
[22:32:19] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[22:32:19] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1040,728), corner_timer=0.30
[22:32:19] [ENEMY] [Enemy3] FLANKING corner check: angle 161.0°
[22:32:19] [ENEMY] [Enemy1] PURSUING corner check: angle 177.5°
[22:32:19] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:32:19] [ENEMY] [Enemy2] FLANKING corner check: angle -163.9°
[22:32:20] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1040,728), corner_timer=-0.02
[22:32:20] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[22:32:20] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1040,728), corner_timer=0.30
[22:32:20] [ENEMY] [Enemy3] FLANKING corner check: angle -167.8°
[22:32:20] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:32:20] [ENEMY] [Enemy2] FLANKING corner check: angle -162.5°
[22:32:20] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1040,728), corner_timer=-0.02
[22:32:20] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[22:32:20] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1040,728), corner_timer=0.30
[22:32:20] [ENEMY] [Enemy3] FLANKING corner check: angle -165.4°
[22:32:20] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:32:20] [ENEMY] [Enemy2] FLANKING corner check: angle -163.4°
[22:32:20] [INFO] [ReplayManager] Recording frame 720 (12,0s): player_valid=True, enemies=10
[22:32:20] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1040,728), corner_timer=-0.02
[22:32:20] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[22:32:20] [ENEMY] [Enemy3] FLANKING stuck (2.0s), pos=(887.7216, 709.3123), fail=1
[22:32:20] [ENEMY] [Enemy3] State: FLANKING -> PURSUING
[22:32:20] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1040,728), corner_timer=0.30
[22:32:20] [ENEMY] [Enemy3] PURSUING corner check: angle 174.3°
[22:32:20] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:32:20] [ENEMY] [Enemy2] FLANKING corner check: angle -163.7°
[22:32:20] [ENEMY] [Enemy4] Warning: No valid flank position (both sides behind walls)
[22:32:20] [ENEMY] [Enemy4] FLANKING started: target=(861.847, 817.8217), side=left, pos=(876.7908, 620.3382)
[22:32:20] [ENEMY] [Enemy4] State: PURSUING -> FLANKING
[22:32:21] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1040,728), corner_timer=-0.02
[22:32:21] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[22:32:21] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1040,728), corner_timer=0.30
[22:32:21] [ENEMY] [Enemy4] FLANKING corner check: angle 178.0°
[22:32:21] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:32:21] [ENEMY] [Enemy2] FLANKING corner check: angle -163.8°
[22:32:21] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1040,728), corner_timer=-0.02
[22:32:21] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[22:32:21] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1040,728), corner_timer=0.30
[22:32:21] [ENEMY] [Enemy4] FLANKING corner check: angle 167.4°
[22:32:21] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:32:21] [ENEMY] [Enemy1] Warning: No valid flank position (both sides behind walls)
[22:32:21] [ENEMY] [Enemy1] FLANKING started: target=(864.2631, 822.4794), side=left, pos=(877.1893, 626.6385)
[22:32:21] [ENEMY] [Enemy1] State: PURSUING -> FLANKING
[22:32:21] [ENEMY] [Enemy2] FLANKING corner check: angle -163.8°
[22:32:21] [INFO] [ReplayManager] Recording frame 780 (13,0s): player_valid=True, enemies=10
[22:32:21] [INFO] [BloodyFeet:Enemy4] Blood ran out - no more footprints
[22:32:21] [ENEMY] [Enemy1] FLANKING corner check: angle 178.1°
[22:32:21] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1040,728), corner_timer=-0.02
[22:32:21] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[22:32:21] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1040,728), corner_timer=0.30
[22:32:21] [ENEMY] [Enemy4] FLANKING corner check: angle 163.1°
[22:32:21] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:32:21] [ENEMY] [Enemy2] FLANKING corner check: angle -163.8°
[22:32:22] [ENEMY] [Enemy1] FLANKING corner check: angle 167.0°
[22:32:22] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1040,728), corner_timer=-0.02
[22:32:22] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[22:32:22] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1040,728), corner_timer=0.30
[22:32:22] [ENEMY] [Enemy2] FLANKING timeout (5.0s), target=(923.9678, 890.5542), pos=(886.5332, 718.0769)
[22:32:22] [ENEMY] [Enemy2] State: FLANKING -> PURSUING
[22:32:22] [ENEMY] [Enemy4] FLANKING corner check: angle 163.5°
[22:32:22] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:32:22] [ENEMY] [Enemy2] PURSUING corner check: angle 177.0°
[22:32:22] [ENEMY] [Enemy1] FLANKING corner check: angle 162.9°
[22:32:22] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1040,728), corner_timer=-0.02
[22:32:22] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[22:32:22] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1040,728), corner_timer=0.30
[22:32:22] [ENEMY] [Enemy4] FLANKING corner check: angle 163.8°
[22:32:22] [ENEMY] [Enemy3] State: PURSUING -> COMBAT
[22:32:22] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:32:22] [INFO] [ReplayManager] Recording frame 840 (14,0s): player_valid=True, enemies=10
[22:32:22] [ENEMY] [Enemy1] FLANKING corner check: angle 163.6°
[22:32:22] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1040,728), corner_timer=-0.02
[22:32:22] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[22:32:22] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1040,728), corner_timer=0.30
[22:32:22] [ENEMY] [Enemy4] FLANKING corner check: angle 163.9°
[22:32:22] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:32:23] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[22:32:23] [ENEMY] [Enemy1] FLANKING corner check: angle 163.9°
[22:32:23] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1040,728), corner_timer=-0.02
[22:32:23] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[22:32:23] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1040,728), corner_timer=0.30
[22:32:23] [ENEMY] [Enemy4] FLANKING corner check: angle 163.9°
[22:32:23] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:32:23] [ENEMY] [Enemy1] FLANKING corner check: angle 163.9°
[22:32:23] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1040,728), corner_timer=-0.02
[22:32:23] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[22:32:23] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1040,728), corner_timer=0.30
[22:32:23] [ENEMY] [Enemy4] FLANKING corner check: angle -164.1°
[22:32:23] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:32:23] [INFO] [ReplayManager] Recording frame 900 (15,0s): player_valid=True, enemies=10
[22:32:23] [ENEMY] [Enemy1] FLANKING corner check: angle 163.9°
[22:32:23] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1040,728), corner_timer=-0.02
[22:32:23] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[22:32:23] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1040,728), corner_timer=0.30
[22:32:23] [ENEMY] [Enemy4] FLANKING corner check: angle -165.7°
[22:32:23] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:32:23] [ENEMY] [Enemy2] Warning: No valid flank position (both sides behind walls)
[22:32:23] [ENEMY] [Enemy2] FLANKING started: target=(1041.524, 528.0673), side=right, pos=(877.2661, 632.7423)
[22:32:23] [ENEMY] [Enemy2] State: PURSUING -> FLANKING
[22:32:24] [ENEMY] [Enemy1] FLANKING corner check: angle 163.9°
[22:32:24] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1040,728), corner_timer=-0.02
[22:32:24] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[22:32:24] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1040,728), corner_timer=0.30
[22:32:24] [ENEMY] [Enemy4] FLANKING corner check: angle -164.5°
[22:32:24] [ENEMY] [Enemy2] FLANKING corner check: angle -115.1°
[22:32:24] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:32:24] [ENEMY] [Enemy1] FLANKING corner check: angle 163.9°
[22:32:24] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1040,728), corner_timer=-0.02
[22:32:24] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[22:32:24] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1040,728), corner_timer=0.30
[22:32:24] [ENEMY] [Enemy4] FLANKING corner check: angle -164.3°
[22:32:24] [ENEMY] [Enemy2] FLANKING corner check: angle -81.9°
[22:32:24] [ENEMY] [Enemy3] State: PURSUING -> COMBAT
[22:32:24] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:32:24] [INFO] [ReplayManager] Recording frame 960 (16,0s): player_valid=True, enemies=10
[22:32:24] [ENEMY] [Enemy1] FLANKING corner check: angle 163.9°
[22:32:24] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1040,728), corner_timer=-0.02
[22:32:24] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[22:32:24] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1040,728), corner_timer=0.30
[22:32:24] [ENEMY] [Enemy4] FLANKING corner check: angle -164.3°
[22:32:24] [ENEMY] [Enemy2] FLANKING corner check: angle -77.6°
[22:32:24] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:32:25] [ENEMY] [Enemy1] FLANKING stuck (2.0s), pos=(886.4872, 708.3748), fail=1
[22:32:25] [ENEMY] [Enemy1] State: FLANKING -> PURSUING
[22:32:25] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[22:32:25] [ENEMY] [Enemy1] PURSUING corner check: angle 171.3°
[22:32:25] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1040,728), corner_timer=-0.02
[22:32:25] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[22:32:25] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1040,728), corner_timer=0.30
[22:32:25] [ENEMY] [Enemy4] FLANKING corner check: angle -164.3°
[22:32:25] [ENEMY] [Enemy2] FLANKING corner check: angle -77.6°
[22:32:25] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:32:25] [ENEMY] [Enemy4] GLOBAL STUCK: pos=(887.9339, 709.9944) for 4.0s without player contact, State: FLANKING -> SEARCHING
[22:32:25] [ENEMY] [Enemy4] SEARCHING started: center=(887.9339, 709.9944), radius=100, waypoints=5
[22:32:25] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1040,728), corner_timer=-0.02
[22:32:25] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[22:32:25] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1040,728), corner_timer=0.30
[22:32:25] [ENEMY] [Enemy2] FLANKING corner check: angle -87.0°
[22:32:25] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:32:25] [INFO] [ReplayManager] Recording frame 1020 (17,0s): player_valid=True, enemies=10
[22:32:25] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1040,728), corner_timer=-0.02
[22:32:25] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[22:32:25] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1040,728), corner_timer=0.30
[22:32:25] [ENEMY] [Enemy2] FLANKING corner check: angle 17.2°
[22:32:25] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:32:25] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=177.9°, current=-132.8°, player=(1040,728), corner_timer=0.17
[22:32:25] [ENEMY] [Enemy2] State: FLANKING -> COMBAT
[22:32:26] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=178.6°, current=-73.1°, player=(1040,728), corner_timer=0.17
[22:32:26] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1040,728), corner_timer=-0.02
[22:32:26] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[22:32:26] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1040,728), corner_timer=0.30
[22:32:26] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:32:26] [ENEMY] [Enemy7] Memory: high confidence (0.88) - transitioning to PURSUING
[22:32:26] [ENEMY] [Enemy7] State: IDLE -> PURSUING
[22:32:26] [ENEMY] [Enemy5] Memory: medium confidence (0.79) - transitioning to PURSUING
[22:32:26] [ENEMY] [Enemy5] State: IDLE -> PURSUING
[22:32:26] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=-163.3°, current=89.4°, player=(1040,728), corner_timer=0.17
[22:32:26] [ENEMY] [Enemy5] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=150.2°, current=11.3°, player=(1040,728), corner_timer=0.00
[22:32:26] [ENEMY] [Enemy5] PURSUING corner check: angle 25.7°
[22:32:26] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-177.8°, current=-130.1°, player=(1040,728), corner_timer=0.17
[22:32:26] [ENEMY] [Enemy4] SEARCHING corner check: angle -0.0°
[22:32:26] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:32:26] [ENEMY] [Enemy3] FLANKING started: target=(865.8409, 825.3683), side=left, pos=(877.8602, 630.7279)
[22:32:26] [ENEMY] [Enemy3] State: PURSUING -> FLANKING
[22:32:26] [ENEMY] [Enemy5] PURSUING corner check: angle 24.4°
[22:32:26] [ENEMY] [Enemy7] PURSUING corner check: angle 91.6°
[22:32:26] [ENEMY] [Enemy1] State: PURSUING -> COMBAT
[22:32:26] [INFO] [ReplayManager] Recording frame 1080 (18,0s): player_valid=True, enemies=10
[22:32:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1284.807, 736.0659), source=ENEMY (Enemy2), range=1469, listeners=10
[22:32:26] [INFO] [SoundPropagation] Sound result: notified=5, out_of_range=0, self=1, below_threshold=4
[22:32:26] [ENEMY] [Enemy3] FLANKING corner check: angle 176.9°
[22:32:26] [INFO] [LastChance] Threat detected: Bullet
[22:32:26] [INFO] [LastChance] Not in hard mode - effect disabled
[22:32:26] [INFO] [LastChance] Cannot trigger effect - conditions not met
[22:32:26] [ENEMY] [Enemy4] SEARCHING corner check: angle -0.0°
[22:32:26] [INFO] [Player] Hit blocked by invincibility mode (C#)
[22:32:26] [INFO] [Player] Spawning blood effect at (1040.5752, 728.06506), dir=(1, 0), lethal=False (C#)
[22:32:26] [INFO] [ImpactEffects] spawn_blood_effect called at (1040.575, 728.0651), dir=(1, 0), lethal=false
[22:32:26] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[22:32:26] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[22:32:26] [INFO] [ImpactEffects] Blood effect spawned at (1040.575, 728.0651) (scale=1)
[22:32:26] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:32:26] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1284.807, 736.0659), source=ENEMY (Enemy2), range=1469, listeners=10
[22:32:26] [INFO] [SoundPropagation] Sound result: notified=5, out_of_range=0, self=1, below_threshold=4
[22:32:26] [INFO] [LastChance] Threat detected: Bullet
[22:32:26] [INFO] [LastChance] Not in hard mode - effect disabled
[22:32:26] [INFO] [LastChance] Cannot trigger effect - conditions not met
[22:32:26] [ENEMY] [Enemy5] PURSUING corner check: angle -155.6°
[22:32:26] [INFO] [Player] Hit blocked by invincibility mode (C#)
[22:32:26] [INFO] [Player] Spawning blood effect at (1040.5752, 728.06506), dir=(1, 0), lethal=False (C#)
[22:32:26] [INFO] [ImpactEffects] spawn_blood_effect called at (1040.575, 728.0651), dir=(1, 0), lethal=false
[22:32:26] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[22:32:26] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[22:32:26] [INFO] [ImpactEffects] Blood effect spawned at (1040.575, 728.0651) (scale=1)
[22:32:27] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[22:32:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1284.807, 736.0659), source=ENEMY (Enemy2), range=1469, listeners=10
[22:32:27] [INFO] [SoundPropagation] Sound result: notified=5, out_of_range=0, self=1, below_threshold=4
[22:32:27] [INFO] [LastChance] Threat detected: Bullet
[22:32:27] [INFO] [LastChance] Not in hard mode - effect disabled
[22:32:27] [INFO] [LastChance] Cannot trigger effect - conditions not met
[22:32:27] [INFO] [Player] Hit blocked by invincibility mode (C#)
[22:32:27] [INFO] [Player] Spawning blood effect at (1040.5752, 728.06506), dir=(1, 0), lethal=False (C#)
[22:32:27] [INFO] [ImpactEffects] spawn_blood_effect called at (1040.575, 728.0651), dir=(1, 0), lethal=false
[22:32:27] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[22:32:27] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[22:32:27] [INFO] [ImpactEffects] Blood effect spawned at (1040.575, 728.0651) (scale=1)
[22:32:27] [INFO] [BloodDecal] Blood puddle created at (1084.881, 740.1758) (added to group)
[22:32:27] [ENEMY] [Enemy3] FLANKING corner check: angle 169.2°
[22:32:27] [INFO] [BloodDecal] Blood puddle created at (1108.797, 758.3491) (added to group)
[22:32:27] [ENEMY] [Enemy4] SEARCHING corner check: angle -0.0°
[22:32:27] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[22:32:27] [INFO] [BloodDecal] Blood puddle created at (1141.186, 786.4943) (added to group)
[22:32:27] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:32:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1290.268, 736.0679), source=ENEMY (Enemy2), range=1469, listeners=10
[22:32:27] [INFO] [SoundPropagation] Sound result: notified=5, out_of_range=0, self=1, below_threshold=4
[22:32:27] [INFO] [BloodDecal] Blood puddle created at (1113.987, 744.2963) (added to group)
[22:32:27] [INFO] [BloodDecal] Blood puddle created at (1146.375, 720.9783) (added to group)
[22:32:27] [INFO] [BloodDecal] Blood puddle created at (1089.303, 724.3676) (added to group)
[22:32:27] [INFO] [LastChance] Threat detected: Bullet
[22:32:27] [INFO] [LastChance] Not in hard mode - effect disabled
[22:32:27] [INFO] [LastChance] Cannot trigger effect - conditions not met
[22:32:27] [INFO] [BloodDecal] Blood puddle created at (1113.786, 762.0732) (added to group)
[22:32:27] [INFO] [BloodDecal] Blood puddle created at (1121.123, 754.9226) (added to group)
[22:32:27] [INFO] [BloodDecal] Blood puddle created at (1160.032, 779.8624) (added to group)
[22:32:27] [INFO] [BloodDecal] Blood puddle created at (1087.578, 757.6231) (added to group)
[22:32:27] [INFO] [Player] Hit blocked by invincibility mode (C#)
[22:32:27] [INFO] [Player] Spawning blood effect at (1040.5752, 728.06506), dir=(1, 0), lethal=False (C#)
[22:32:27] [INFO] [ImpactEffects] spawn_blood_effect called at (1040.575, 728.0651), dir=(1, 0), lethal=false
[22:32:27] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[22:32:27] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[22:32:27] [INFO] [ImpactEffects] Blood effect spawned at (1040.575, 728.0651) (scale=1)
[22:32:27] [INFO] [BloodDecal] Blood puddle created at (1185.036, 776.9246) (added to group)
[22:32:27] [INFO] [BloodDecal] Blood puddle created at (1139.03, 791.0375) (added to group)
[22:32:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1302.867, 758.9706), source=ENEMY (Enemy2), range=1469, listeners=10
[22:32:27] [INFO] [SoundPropagation] Sound result: notified=5, out_of_range=0, self=1, below_threshold=4
[22:32:27] [INFO] [BloodDecal] Blood puddle created at (1076.136, 758.6802) (added to group)
[22:32:27] [INFO] [BloodDecal] Blood puddle created at (1161.455, 814.0834) (added to group)
[22:32:27] [INFO] [BloodDecal] Blood puddle created at (1081.93, 745.887) (added to group)
[22:32:27] [INFO] [BloodDecal] Blood puddle created at (1143.636, 808.8278) (added to group)
[22:32:27] [INFO] [BloodDecal] Blood puddle created at (1106.462, 780.0416) (added to group)
[22:32:27] [INFO] [BloodDecal] Blood puddle created at (1115.57, 773.71) (added to group)
[22:32:27] [INFO] [BloodDecal] Blood puddle created at (1132.282, 769.4731) (added to group)
[22:32:27] [INFO] [BloodDecal] Blood puddle created at (1083.896, 768.1995) (added to group)
[22:32:27] [ENEMY] [Enemy3] FLANKING corner check: angle 166.7°
[22:32:27] [INFO] [BloodDecal] Blood puddle created at (1108.114, 771.0336) (added to group)
[22:32:27] [INFO] [BloodDecal] Blood puddle created at (1129.486, 738.3102) (added to group)
[22:32:27] [ENEMY] [Enemy4] SEARCHING corner check: angle -0.0°
[22:32:27] [INFO] [BloodDecal] Blood puddle created at (1160.563, 809.4077) (added to group)
[22:32:27] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:32:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1316.404, 758.4688), source=ENEMY (Enemy2), range=1469, listeners=10
[22:32:27] [INFO] [SoundPropagation] Sound result: notified=5, out_of_range=0, self=1, below_threshold=4
[22:32:27] [INFO] [BloodDecal] Blood puddle created at (1183.806, 808.5063) (added to group)
[22:32:27] [INFO] [LastChance] Threat detected: @Area2D@2522
[22:32:27] [INFO] [LastChance] Not in hard mode - effect disabled
[22:32:27] [INFO] [LastChance] Cannot trigger effect - conditions not met
[22:32:27] [INFO] [BloodDecal] Blood puddle created at (1177.492, 840.1739) (added to group)
[22:32:27] [INFO] [BloodDecal] Blood puddle created at (1138.695, 733.567) (added to group)
[22:32:27] [INFO] [Player] Hit blocked by invincibility mode (C#)
[22:32:27] [INFO] [Player] Spawning blood effect at (1040.5752, 728.06506), dir=(1, 0), lethal=False (C#)
[22:32:27] [INFO] [ImpactEffects] spawn_blood_effect called at (1040.575, 728.0651), dir=(1, 0), lethal=false
[22:32:27] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[22:32:27] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[22:32:27] [INFO] [ImpactEffects] Blood effect spawned at (1040.575, 728.0651) (scale=1)
[22:32:27] [INFO] [BloodDecal] Blood puddle created at (1097.556, 783.2689) (added to group)
[22:32:27] [INFO] [ReplayManager] Recording frame 1140 (19,0s): player_valid=True, enemies=10
[22:32:27] [ENEMY] [Enemy3] State: FLANKING -> RETREATING
[22:32:27] [INFO] [BloodDecal] Blood puddle created at (1138.257, 778.0668) (added to group)
[22:32:27] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=166.7°, current=-147.6°, player=(1040,728), corner_timer=0.10
[22:32:27] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[22:32:27] [INFO] [BloodDecal] Blood puddle created at (1171.937, 800.0736) (added to group)
[22:32:27] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[22:32:27] [INFO] [BloodDecal] Blood puddle created at (1224.75, 896.9228) (added to group)
[22:32:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1328.469, 758.6033), source=ENEMY (Enemy2), range=1469, listeners=10
[22:32:27] [INFO] [SoundPropagation] Sound result: notified=5, out_of_range=0, self=1, below_threshold=4
[22:32:27] [INFO] [BloodDecal] Blood puddle created at (1154.766, 731.3167) (added to group)
[22:32:27] [INFO] [BloodDecal] Blood puddle created at (1250.355, 883.4915) (added to group)
[22:32:27] [INFO] [LastChance] Threat detected: @Area2D@2534
[22:32:27] [INFO] [LastChance] Not in hard mode - effect disabled
[22:32:27] [INFO] [LastChance] Cannot trigger effect - conditions not met
[22:32:27] [INFO] [BloodDecal] Blood puddle created at (1206.363, 797.546) (added to group)
[22:32:27] [INFO] [BloodDecal] Blood puddle created at (1197.543, 850.3495) (added to group)
[22:32:27] [INFO] [BloodDecal] Blood puddle created at (1179.438, 857.7437) (added to group)
[22:32:27] [INFO] [BloodDecal] Blood puddle created at (1229.365, 751.644) (added to group)
[22:32:27] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:32:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1346.765, 743.1226), source=ENEMY (Enemy2), range=1469, listeners=10
[22:32:27] [INFO] [SoundPropagation] Sound result: notified=5, out_of_range=0, self=1, below_threshold=4
[22:32:27] [INFO] [BloodDecal] Blood puddle created at (1140.051, 782.7715) (added to group)
[22:32:27] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1259.8337, 759.1436), shooter_id=1620897171593, bullet_pos=(927.05035, 740.0069)
[22:32:27] [INFO] [Bullet] Using shooter_position, distance=333,33316
[22:32:27] [INFO] [Bullet] Distance to wall: 333,33316 (22,697268% of viewport)
[22:32:27] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:32:27] [INFO] [Bullet] Starting wall penetration at (927.05035, 740.0069)
[22:32:27] [INFO] [Bullet] Raycast backward hit penetrating body at distance 31,591475
[22:32:27] [INFO] [BloodDecal] Blood puddle created at (1205.273, 894.8464) (added to group)
[22:32:27] [INFO] [BloodDecal] Blood puddle created at (1157.856, 774.901) (added to group)
[22:32:27] [INFO] [Bullet] Body exited signal received for penetrating body
[22:32:27] [INFO] [Bullet] Exiting penetration at (880.46063, 737.32776) after traveling 41,666668 pixels through wall
[22:32:27] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[22:32:27] [INFO] [LastChance] Threat detected: @Area2D@2542
[22:32:27] [INFO] [LastChance] Not in hard mode - effect disabled
[22:32:27] [INFO] [LastChance] Cannot trigger effect - conditions not met
[22:32:27] [INFO] [BloodDecal] Blood puddle created at (1090.67, 725.4754) (added to group)
[22:32:27] [INFO] [BloodDecal] Blood puddle created at (1113.12, 735.7833) (added to group)
[22:32:27] [INFO] [BloodDecal] Blood puddle created at (1130.29, 766.9301) (added to group)
[22:32:28] [INFO] [Player] Hit blocked by invincibility mode (C#)
[22:32:28] [INFO] [Player] Spawning blood effect at (1040.5752, 728.06506), dir=(1, 0), lethal=False (C#)
[22:32:28] [INFO] [ImpactEffects] spawn_blood_effect called at (1040.575, 728.0651), dir=(1, 0), lethal=false
[22:32:28] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[22:32:28] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[22:32:28] [INFO] [ImpactEffects] Blood effect spawned at (1040.575, 728.0651) (scale=1)
[22:32:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1370.243, 736.0659), source=ENEMY (Enemy2), range=1469, listeners=10
[22:32:28] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=0, self=1, below_threshold=5
[22:32:28] [INFO] [BloodDecal] Blood puddle created at (1232.164, 818.3478) (added to group)
[22:32:28] [INFO] [BloodDecal] Blood puddle created at (1144.345, 771.9843) (added to group)
[22:32:28] [INFO] [BloodDecal] Blood puddle created at (1145.902, 776.358) (added to group)
[22:32:28] [INFO] [LastChance] Threat detected: @Area2D@2549
[22:32:28] [INFO] [LastChance] Not in hard mode - effect disabled
[22:32:28] [INFO] [LastChance] Cannot trigger effect - conditions not met
[22:32:28] [INFO] [BloodDecal] Blood puddle created at (1175.796, 825.1879) (added to group)
[22:32:28] [ENEMY] [Enemy1] State: PURSUING -> RETREATING
[22:32:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1395.015, 732.3309), source=ENEMY (Enemy2), range=1469, listeners=10
[22:32:28] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=1, below_threshold=7
[22:32:28] [ENEMY] [Enemy1] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=171.3°, current=22.3°, player=(1040,728), corner_timer=0.25
[22:32:28] [ENEMY] [Enemy1] State: RETREATING -> IN_COVER
[22:32:28] [INFO] [BloodDecal] Blood puddle created at (1204.726, 753.5965) (added to group)
[22:32:28] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[22:32:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1302.4761, 742.22345), shooter_id=1620897171593, bullet_pos=(928.50916, 770.03644)
[22:32:28] [INFO] [Bullet] Using shooter_position, distance=374,99976
[22:32:28] [INFO] [Bullet] Distance to wall: 374,99976 (25,534424% of viewport)
[22:32:28] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:32:28] [INFO] [Bullet] Starting wall penetration at (928.50916, 770.03644)
[22:32:28] [INFO] [Bullet] Raycast backward hit penetrating body at distance 30,111866
[22:32:28] [INFO] [Bullet] Body exited signal received for penetrating body
[22:32:28] [INFO] [Bullet] Exiting penetration at (881.97107, 773.4976) after traveling 41,666668 pixels through wall
[22:32:28] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[22:32:28] [INFO] [BloodDecal] Blood puddle created at (1217.428, 798.312) (added to group)
[22:32:28] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:32:28] [INFO] [BloodDecal] Blood puddle created at (1177.333, 772.5783) (added to group)
[22:32:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1419.313, 724.3178), source=ENEMY (Enemy2), range=1469, listeners=10
[22:32:28] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=1, below_threshold=7
[22:32:28] [INFO] [BloodDecal] Blood puddle created at (1215.516, 800.8367) (added to group)
[22:32:28] [INFO] [BloodDecal] Blood puddle created at (1131.83, 712.6306) (added to group)
[22:32:28] [INFO] [BloodDecal] Blood puddle created at (1097.351, 743.8039) (added to group)
[22:32:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1327.3353, 739.3169), shooter_id=1620897171593, bullet_pos=(913.9273, 791.328)
[22:32:28] [INFO] [Bullet] Using shooter_position, distance=416,66693
[22:32:28] [INFO] [Bullet] Distance to wall: 416,66693 (28,371616% of viewport)
[22:32:28] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:32:28] [INFO] [Bullet] Starting wall penetration at (913.9273, 791.328)
[22:32:28] [INFO] [Bullet] Raycast backward hit penetrating body at distance 44,724136
[22:32:28] [INFO] [Bullet] Body exited signal received for penetrating body
[22:32:28] [INFO] [Bullet] Exiting penetration at (867.6257, 797.15326) after traveling 41,666668 pixels through wall
[22:32:28] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[22:32:28] [INFO] [LastChance] Threat detected: @Area2D@2564
[22:32:28] [INFO] [LastChance] Not in hard mode - effect disabled
[22:32:28] [INFO] [LastChance] Cannot trigger effect - conditions not met
[22:32:28] [INFO] [BloodDecal] Blood puddle created at (1104.269, 748.813) (added to group)
[22:32:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1442.642, 713.3383), source=ENEMY (Enemy2), range=1469, listeners=10
[22:32:28] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=1, below_threshold=7
[22:32:28] [INFO] [BloodDecal] Blood puddle created at (1109.106, 722.568) (added to group)
[22:32:28] [INFO] [BloodDecal] Blood puddle created at (1128.334, 781.3013) (added to group)
[22:32:28] [INFO] [BloodDecal] Blood puddle created at (1125.979, 787.2255) (added to group)
[22:32:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1351.8185, 732.7859), shooter_id=1620897171593, bullet_pos=(977.2573, 714.6447)
[22:32:28] [INFO] [Bullet] Using shooter_position, distance=375,00024
[22:32:28] [INFO] [Bullet] Distance to wall: 375,00024 (25,534456% of viewport)
[22:32:28] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:32:28] [INFO] [Bullet] Starting wall penetration at (977.2573, 714.6447)
[22:32:28] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=17.2°, current=176.8°, player=(1040,728), corner_timer=0.17
[22:32:28] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[22:32:28] [INFO] [Bullet] Exiting penetration at (930.6453, 712.38715) after traveling 41,666668 pixels through wall
[22:32:28] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[22:32:28] [INFO] [BloodDecal] Blood puddle created at (1139.878, 720.1772) (added to group)
[22:32:28] [INFO] [BloodDecal] Blood puddle created at (1167.893, 717.0131) (added to group)
[22:32:28] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[22:32:28] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[22:32:28] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:32:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1375.425, 723.6052), shooter_id=1620897171593, bullet_pos=(921.835, 789.3756)
[22:32:28] [INFO] [Bullet] Using shooter_position, distance=458,33356
[22:32:28] [INFO] [Bullet] Distance to wall: 458,33356 (31,208775% of viewport)
[22:32:28] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:32:28] [INFO] [Bullet] Starting wall penetration at (921.835, 789.3756)
[22:32:28] [INFO] [Bullet] Raycast backward hit penetrating body at distance 36,728764
[22:32:28] [INFO] [Bullet] Body exited signal received for penetrating body
[22:32:28] [INFO] [Bullet] Exiting penetration at (875.65137, 796.0722) after traveling 41,666668 pixels through wall
[22:32:28] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[22:32:28] [INFO] [BloodDecal] Blood puddle created at (1226.939, 766.0588) (added to group)
[22:32:28] [INFO] [ReplayManager] Recording frame 1200 (20,0s): player_valid=True, enemies=10
[22:32:28] [INFO] [BloodDecal] Blood puddle created at (1158.58, 816.453) (added to group)
[22:32:28] [ENEMY] [Enemy5] PURSUING corner check: angle -98.9°
[22:32:28] [ENEMY] [Enemy6] Memory: high confidence (0.86) - transitioning to PURSUING
[22:32:28] [ENEMY] [Enemy6] State: IDLE -> PURSUING
[22:32:28] [ENEMY] [Enemy6] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=163.0°, current=-109.2°, player=(1040,728), corner_timer=0.00
[22:32:28] [ENEMY] [Enemy4] SEARCHING corner check: angle -168.7°
[22:32:28] [ENEMY] [Enemy6] PURSUING corner check: angle 38.6°
[22:32:28] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:32:29] [ENEMY] [Enemy4] SEARCHING corner check: angle -168.7°
[22:32:29] [ENEMY] [Enemy6] PURSUING corner check: angle 38.6°
[22:32:29] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:32:29] [ENEMY] [Enemy4] SEARCHING corner check: angle -168.7°
[22:32:29] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:32:29] [INFO] [ReplayManager] Recording frame 1260 (21,0s): player_valid=True, enemies=10
[22:32:29] [ENEMY] [Enemy4] SEARCHING corner check: angle -168.7°
[22:32:29] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:32:30] [ENEMY] [Enemy4] SEARCHING corner check: angle -92.0°
[22:32:30] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:32:30] [ENEMY] [Enemy1] State: SUPPRESSED -> IN_COVER
[22:32:30] [ENEMY] [Enemy1] State: IN_COVER -> PURSUING
[22:32:30] [ENEMY] [Enemy1] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=22.3°, current=171.3°, player=(1040,728), corner_timer=0.25
[22:32:30] [ENEMY] [Enemy4] SEARCHING corner check: angle -90.1°
[22:32:30] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:32:30] [ENEMY] [Enemy5] Warning: No valid flank position (both sides behind walls)
[22:32:30] [ENEMY] [Enemy5] FLANKING started: target=(1062.264, 529.2445), side=left, pos=(1423.656, 559.3114)
[22:32:30] [ENEMY] [Enemy5] State: PURSUING -> FLANKING
[22:32:30] [INFO] [ReplayManager] Recording frame 1320 (22,0s): player_valid=True, enemies=10
[22:32:30] [ENEMY] [Enemy5] FLANKING corner check: angle 25.7°
[22:32:30] [ENEMY] [Enemy4] SEARCHING corner check: angle -11.6°
[22:32:30] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:32:30] [ENEMY] [Enemy2] State: SUPPRESSED -> IN_COVER
[22:32:30] [ENEMY] [Enemy7] GLOBAL STUCK: pos=(1422.045, 825.0429) for 4.0s without player contact, State: PURSUING -> SEARCHING
[22:32:30] [ENEMY] [Enemy7] SEARCHING started: center=(1422.045, 825.0429), radius=100, waypoints=5
[22:32:30] [ENEMY] [Enemy2] State: IN_COVER -> PURSUING
[22:32:30] [ENEMY] [Enemy2] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=174.6°, current=17.2°, player=(1040,728), corner_timer=0.17
[22:32:31] [ENEMY] [Enemy5] FLANKING corner check: angle -41.6°
[22:32:31] [ENEMY] [Enemy6] PURSUING corner check: angle 41.7°
[22:32:31] [ENEMY] [Enemy3] State: SUPPRESSED -> IN_COVER
[22:32:31] [ENEMY] [Enemy3] State: IN_COVER -> PURSUING
[22:32:31] [ENEMY] [Enemy3] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=10.6°, current=166.7°, player=(1040,728), corner_timer=0.10
[22:32:31] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:32:31] [ENEMY] [Enemy5] FLANKING corner check: angle -42.9°
[22:32:31] [ENEMY] [Enemy6] PURSUING corner check: angle 45.1°
[22:32:31] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:32:31] [ENEMY] [Enemy6] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=176.4°, current=155.5°, player=(1043,728), corner_timer=0.28
[22:32:31] [ENEMY] [Enemy6] State: PURSUING -> COMBAT
[22:32:31] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[22:32:31] [INFO] [ReplayManager] Recording frame 1380 (23,0s): player_valid=True, enemies=10
[22:32:31] [ENEMY] [Enemy5] FLANKING corner check: angle -42.9°
[22:32:31] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:32:32] [ENEMY] [Enemy1] Warning: No valid flank position (both sides behind walls)
[22:32:32] [ENEMY] [Enemy1] FLANKING started: target=(1032.106, 874.4264), side=left, pos=(877.931, 661.2063)
[22:32:32] [ENEMY] [Enemy1] State: PURSUING -> FLANKING
[22:32:32] [ENEMY] [Enemy5] FLANKING corner check: angle -42.9°
[22:32:32] [ENEMY] [Enemy7] SEARCHING corner check: angle 111.1°
[22:32:32] [ENEMY] [Enemy4] SEARCHING corner check: angle -110.9°
[22:32:32] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:32:32] [ENEMY] [Enemy1] FLANKING corner check: angle -91.0°
[22:32:32] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=168.3°, current=168.6°, player=(1272,728), corner_timer=0.17
[22:32:32] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[22:32:32] [ENEMY] [Enemy5] FLANKING corner check: angle -153.2°
[22:32:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1472.315, 708.881), source=ENEMY (Enemy6), range=1469, listeners=10
[22:32:32] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=1, below_threshold=6
[22:32:32] [INFO] [LastChance] Threat detected: Bullet
[22:32:32] [INFO] [LastChance] Not in hard mode - effect disabled
[22:32:32] [INFO] [LastChance] Cannot trigger effect - conditions not met
[22:32:32] [INFO] [Player] Hit blocked by invincibility mode (C#)
[22:32:32] [INFO] [Player] Spawning blood effect at (1305.9086, 728.06506), dir=(1, 0), lethal=False (C#)
[22:32:32] [INFO] [ImpactEffects] spawn_blood_effect called at (1305.909, 728.0651), dir=(1, 0), lethal=false
[22:32:32] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[22:32:32] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[22:32:32] [INFO] [ImpactEffects] Blood effect spawned at (1305.909, 728.0651) (scale=1)
[22:32:32] [ENEMY] [Enemy7] SEARCHING corner check: angle 94.3°
[22:32:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1472.315, 708.881), source=ENEMY (Enemy6), range=1469, listeners=10
[22:32:32] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=1, below_threshold=6
[22:32:32] [INFO] [LastChance] Threat detected: Bullet
[22:32:32] [INFO] [LastChance] Not in hard mode - effect disabled
[22:32:32] [INFO] [LastChance] Cannot trigger effect - conditions not met
[22:32:32] [ENEMY] [Enemy4] SEARCHING corner check: angle -99.7°
[22:32:32] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:32:32] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[22:32:32] [ENEMY] [Enemy6] State: COMBAT -> RETREATING
[22:32:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1472.315, 708.881), source=ENEMY (Enemy6), range=1469, listeners=10
[22:32:32] [ENEMY] [Enemy2] Heard gunshot at (1472.315, 708.881), source_type=1, intensity=1.00, distance=25
[22:32:32] [INFO] [SoundPropagation] Sound result: notified=5, out_of_range=0, self=1, below_threshold=4
[22:32:32] [INFO] [LastChance] Threat detected: Bullet
[22:32:32] [INFO] [LastChance] Not in hard mode - effect disabled
[22:32:32] [INFO] [LastChance] Cannot trigger effect - conditions not met
[22:32:32] [ENEMY] [Enemy1] FLANKING corner check: angle -78.6°
[22:32:32] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[22:32:32] [INFO] [Player] Hit blocked by invincibility mode (C#)
[22:32:32] [INFO] [Player] Spawning blood effect at (1377.4086, 728.06506), dir=(1, 0), lethal=False (C#)
[22:32:32] [INFO] [ImpactEffects] spawn_blood_effect called at (1377.409, 728.0651), dir=(1, 0), lethal=false
[22:32:32] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[22:32:32] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[22:32:32] [INFO] [ImpactEffects] Blood effect spawned at (1377.409, 728.0651) (scale=1)
[22:32:32] [ENEMY] [Enemy3] FLANKING started: target=(1267.24, 894.9867), side=left, pos=(882.7188, 698.4588)
[22:32:32] [ENEMY] [Enemy3] State: PURSUING -> FLANKING
[22:32:32] [ENEMY] [Enemy5] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=81.0°, current=66.8°, player=(1382,727), corner_timer=0.03
[22:32:32] [INFO] [ReplayManager] Recording frame 1440 (24,0s): player_valid=True, enemies=10
[22:32:32] [ENEMY] [Enemy5] ROT_CHANGE: P1:visible -> P2:combat_state, state=FLANKING, target=80.1°, current=69.0°, player=(1388,727), corner_timer=0.02
[22:32:32] [INFO] [BloodDecal] Blood puddle created at (1343.78, 733.7016) (added to group)
[22:32:32] [ENEMY] [Enemy5] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=79.1°, current=71.2°, player=(1393,726), corner_timer=0.00
[22:32:32] [INFO] [BloodDecal] Blood puddle created at (1346.301, 738.5212) (added to group)
[22:32:32] [ENEMY] [Enemy5] FLANKING corner check: angle -165.8°
[22:32:32] [ENEMY] [Enemy5] ROT_CHANGE: P1:visible -> P2:combat_state, state=FLANKING, target=77.3°, current=75.7°, player=(1402,723), corner_timer=0.30
[22:32:32] [INFO] [BloodDecal] Blood puddle created at (1361.218, 721.6437) (added to group)
[22:32:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1482.003, 737.1329), source=ENEMY (Enemy6), range=1469, listeners=10
[22:32:32] [ENEMY] [Enemy2] Heard gunshot at (1482.003, 737.1329), source_type=1, intensity=0.35, distance=84
[22:32:32] [INFO] [SoundPropagation] Sound result: notified=5, out_of_range=0, self=1, below_threshold=4
[22:32:32] [INFO] [Player] Hit blocked by invincibility mode (C#)
[22:32:32] [INFO] [Player] Spawning blood effect at (1411.9442, 719.73456), dir=(1, 0), lethal=False (C#)
[22:32:32] [INFO] [ImpactEffects] spawn_blood_effect called at (1411.944, 719.7346), dir=(1, 0), lethal=false
[22:32:32] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[22:32:32] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[22:32:32] [INFO] [ImpactEffects] Blood effect spawned at (1411.944, 719.7346) (scale=1)
[22:32:32] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[22:32:32] [INFO] [BloodDecal] Blood puddle created at (1370.988, 724.8216) (added to group)
[22:32:32] [ENEMY] [Enemy3] FLANKING corner check: angle -175.8°
[22:32:32] [ENEMY] [Enemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=17.7°, current=18.1°, player=(1423,712), corner_timer=0.13
[22:32:32] [INFO] [BloodDecal] Blood puddle created at (1376.001, 757.4979) (added to group)
[22:32:32] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=SEARCHING, target=15.5°, current=17.3°, player=(1426,709), corner_timer=0.02
[22:32:32] [ENEMY] [Enemy4] SEARCHING: Player spotted! Transitioning to COMBAT
[22:32:32] [ENEMY] [Enemy4] State: SEARCHING -> COMBAT
[22:32:32] [ENEMY] [Enemy1] State: FLANKING -> COMBAT
[22:32:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1508.422, 751.0576), source=ENEMY (Enemy6), range=1469, listeners=10
[22:32:32] [INFO] [SoundPropagation] Sound result: notified=5, out_of_range=0, self=1, below_threshold=4
[22:32:32] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:32:32] [INFO] [BloodDecal] Blood puddle created at (1463.325, 765.0519) (added to group)
[22:32:32] [INFO] [BloodDecal] Blood puddle created at (1483.775, 715.0468) (added to group)
[22:32:32] [INFO] [BloodDecal] Blood puddle created at (1439.859, 742.6853) (added to group)
[22:32:32] [INFO] [BloodDecal] Blood puddle created at (1407.912, 762.9589) (added to group)
[22:32:32] [INFO] [BloodDecal] Blood puddle created at (1427.419, 758.6124) (added to group)
[22:32:33] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=8.2°, current=-1.8°, player=(1444,673), corner_timer=0.10
[22:32:33] [ENEMY] [Enemy3] State: FLANKING -> COMBAT
[22:32:33] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=8.0°, current=102.5°, player=(1444,665), corner_timer=0.10
[22:32:33] [INFO] [BloodDecal] Blood puddle created at (1484.127, 750.5983) (added to group)
[22:32:33] [ENEMY] [Enemy5] FLANKING corner check: angle -171.3°
[22:32:33] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=17.2°, current=59.2°, player=(1442,658), corner_timer=0.17
[22:32:33] [ENEMY] [Enemy7] SEARCHING corner check: angle 80.9°
[22:32:33] [INFO] [BloodDecal] Blood puddle created at (1506.892, 725.6808) (added to group)
[22:32:33] [INFO] [BloodDecal] Blood puddle created at (1511.083, 728.1233) (added to group)
[22:32:33] [INFO] [BloodDecal] Blood puddle created at (1509.97, 735.6851) (added to group)
[22:32:33] [ENEMY] [Enemy2] ROT_CHANGE: P3:corner -> P1:visible, state=RETREATING, target=-120.1°, current=-159.3°, player=(1429,640), corner_timer=0.17
[22:32:33] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[22:32:33] [ENEMY] [Enemy1] State: COMBAT -> RETREATING
[22:32:33] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:32:33] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=8.7°, current=57.0°, player=(1400,640), corner_timer=0.10
[22:32:33] [ENEMY] [Enemy5] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=53.6°, current=54.8°, player=(1400,640), corner_timer=0.07
[22:32:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1531.566, 751.9336), source=ENEMY (Enemy6), range=1469, listeners=10
[22:32:33] [ENEMY] [Enemy2] Heard gunshot at (1531.566, 751.9336), source_type=1, intensity=0.36, distance=83
[22:32:33] [INFO] [SoundPropagation] Sound result: notified=5, out_of_range=0, self=1, below_threshold=4
[22:32:33] [INFO] [BloodDecal] Blood puddle created at (1498.327, 770.5594) (added to group)
[22:32:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1446.5233, 716.9515), shooter_id=1622306458455, bullet_pos=(523.4398, 234.26562)
[22:32:33] [INFO] [Bullet] Using shooter_position, distance=1041,6664
[22:32:33] [INFO] [Bullet] Distance to wall: 1041,6664 (70,92898% of viewport)
[22:32:33] [INFO] [LastChance] Threat detected: @Area2D@2653
[22:32:33] [INFO] [LastChance] Not in hard mode - effect disabled
[22:32:33] [INFO] [LastChance] Cannot trigger effect - conditions not met
[22:32:33] [ENEMY] [Enemy2] Hit: dmg=1, hp=3/4->2/4
[22:32:33] [INFO] [ImpactEffects] spawn_blood_effect called at (1458.882, 712.0629), dir=(1, 0), lethal=false
[22:32:33] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[22:32:33] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[22:32:33] [INFO] [ImpactEffects] Blood effect spawned at (1458.882, 712.0629) (scale=1)
[22:32:33] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[22:32:33] [ENEMY] [Enemy5] State: FLANKING -> COMBAT
[22:32:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1457.736, 723.4803), source=ENEMY (Enemy2), range=1469, listeners=10
[22:32:33] [ENEMY] [Enemy6] Heard gunshot at (1457.736, 723.4803), source_type=1, intensity=0.34, distance=85
[22:32:33] [INFO] [SoundPropagation] Sound result: notified=5, out_of_range=0, self=1, below_threshold=4
[22:32:33] [ENEMY] [Enemy6] State: COMBAT -> RETREATING
[22:32:33] [INFO] [BloodyFeet:Player] Blood ran out - no more footprints
[22:32:33] [INFO] [BloodDecal] Blood puddle created at (1589.53, 774.592) (added to group)
[22:32:33] [INFO] [LastChance] Threat detected: @Area2D@2658
[22:32:33] [INFO] [LastChance] Not in hard mode - effect disabled
[22:32:33] [INFO] [LastChance] Cannot trigger effect - conditions not met
[22:32:33] [ENEMY] [Enemy2] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=17.2°, current=167.9°, player=(1367,640), corner_timer=0.17
[22:32:33] [ENEMY] [Enemy7] SEARCHING corner check: angle 96.5°
[22:32:33] [INFO] [BloodDecal] Blood puddle created at (1610.938, 754.3602) (added to group)
[22:32:33] [INFO] [Player] Hit blocked by invincibility mode (C#)
[22:32:33] [INFO] [Player] Spawning blood effect at (1356.6577, 640.06696), dir=(1, 0), lethal=False (C#)
[22:32:33] [INFO] [ImpactEffects] spawn_blood_effect called at (1356.658, 640.067), dir=(1, 0), lethal=false
[22:32:33] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[22:32:33] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[22:32:33] [INFO] [ImpactEffects] Blood effect spawned at (1356.658, 640.067) (scale=1)
[22:32:33] [ENEMY] [Enemy5] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=57.7°, current=4.0°, player=(1356,640), corner_timer=0.02
[22:32:33] [INFO] [BloodyFeet:Enemy2] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[22:32:33] [ENEMY] [Enemy5] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=60.8°, current=12.7°, player=(1345,640), corner_timer=0.02
[22:32:33] [INFO] [BloodDecal] Blood puddle created at (1610.811, 737.7916) (added to group)
[22:32:33] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:32:33] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[22:32:33] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[22:32:33] [INFO] [ReplayManager] Recording frame 1500 (25,0s): player_valid=True, enemies=10
[22:32:33] [INFO] [BloodDecal] Blood puddle created at (1535.919, 760.0237) (added to group)
[22:32:33] [INFO] [BloodDecal] Blood puddle created at (1526.545, 744.3572) (added to group)
[22:32:33] [INFO] [BloodyFeet:Enemy6] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[22:32:33] [INFO] [BloodDecal] Blood puddle created at (1573.725, 706.2478) (added to group)
[22:32:33] [ENEMY] [Enemy7] SEARCHING corner check: angle 94.7°
[22:32:33] [INFO] [BloodDecal] Blood puddle created at (1436.433, 679.9237) (added to group)
[22:32:33] [INFO] [BloodDecal] Blood puddle created at (1414.856, 656.4156) (added to group)
[22:32:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1055.234, 590.1472), source=ENEMY (Enemy3), range=1469, listeners=10
[22:32:33] [INFO] [SoundPropagation] Sound result: notified=5, out_of_range=0, self=1, below_threshold=4
[22:32:33] [INFO] [LastChance] Threat detected: Bullet
[22:32:33] [INFO] [LastChance] Not in hard mode - effect disabled
[22:32:33] [INFO] [LastChance] Cannot trigger effect - conditions not met
[22:32:33] [ENEMY] [Enemy6] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=45.1°, current=-159.1°, player=(1230,640), corner_timer=0.27
[22:32:33] [INFO] [BloodDecal] Blood puddle created at (1499.216, 660.3632) (added to group)
[22:32:33] [ENEMY] [Enemy6] State: RETREATING -> IN_COVER
[22:32:33] [INFO] [BloodDecal] Blood puddle created at (1571.002, 755.1284) (added to group)
[22:32:33] [INFO] [BloodDecal] Blood puddle created at (1465.805, 654.2654) (added to group)
[22:32:33] [INFO] [BloodDecal] Blood puddle created at (1492.791, 687.8237) (added to group)
[22:32:33] [ENEMY] [Enemy6] State: IN_COVER -> SUPPRESSED
[22:32:33] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:32:33] [INFO] [BloodDecal] Blood puddle created at (1426.733, 718.3267) (added to group)
[22:32:33] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1055.234, 590.1472), source=ENEMY (Enemy3), range=1469, listeners=10
[22:32:33] [INFO] [SoundPropagation] Sound result: notified=5, out_of_range=0, self=1, below_threshold=4
[22:32:33] [INFO] [BloodDecal] Blood puddle created at (1648.175, 724.911) (added to group)
[22:32:33] [INFO] [LastChance] Threat detected: @Area2D@2682
[22:32:33] [INFO] [LastChance] Not in hard mode - effect disabled
[22:32:33] [INFO] [LastChance] Cannot trigger effect - conditions not met
[22:32:33] [INFO] [BloodDecal] Blood puddle created at (1528.344, 708.736) (added to group)
[22:32:33] [INFO] [BloodDecal] Blood puddle created at (1448.56, 687.0502) (added to group)
[22:32:33] [INFO] [BloodDecal] Blood puddle created at (1501.758, 664.1189) (added to group)
[22:32:33] [INFO] [Player] Hit blocked by invincibility mode (C#)
[22:32:33] [INFO] [Player] Spawning blood effect at (1180.6577, 640.06696), dir=(1, 0), lethal=False (C#)
[22:32:33] [INFO] [ImpactEffects] spawn_blood_effect called at (1180.658, 640.067), dir=(1, 0), lethal=false
[22:32:33] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[22:32:33] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[22:32:33] [INFO] [ImpactEffects] Blood effect spawned at (1180.658, 640.067) (scale=1)
[22:32:34] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[22:32:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1055.234, 590.1472), source=ENEMY (Enemy3), range=1469, listeners=10
[22:32:34] [INFO] [SoundPropagation] Sound result: notified=5, out_of_range=0, self=1, below_threshold=4
[22:32:34] [INFO] [BloodDecal] Blood puddle created at (1500.473, 704.119) (added to group)
[22:32:34] [INFO] [LastChance] Threat detected: @Area2D@2688
[22:32:34] [INFO] [LastChance] Not in hard mode - effect disabled
[22:32:34] [INFO] [LastChance] Cannot trigger effect - conditions not met
[22:32:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1118.2493, 615.675), shooter_id=1621249493509, bullet_pos=(1721.7704, 778.117)
[22:32:34] [INFO] [Bullet] Using shooter_position, distance=625,0001
[22:32:34] [INFO] [Bullet] Distance to wall: 625,0001 (42,55741% of viewport)
[22:32:34] [INFO] [Player] Hit blocked by invincibility mode (C#)
[22:32:34] [INFO] [Player] Spawning blood effect at (1148.4231, 638.2192), dir=(1, 0), lethal=False (C#)
[22:32:34] [INFO] [ImpactEffects] spawn_blood_effect called at (1148.423, 638.2192), dir=(1, 0), lethal=false
[22:32:34] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[22:32:34] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[22:32:34] [INFO] [ImpactEffects] Blood effect spawned at (1148.423, 638.2192) (scale=1)
[22:32:34] [ENEMY] [Enemy7] SEARCHING corner check: angle 84.2°
[22:32:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1054.475, 616.2694), source=ENEMY (Enemy3), range=1469, listeners=10
[22:32:34] [INFO] [SoundPropagation] Sound result: notified=5, out_of_range=0, self=1, below_threshold=4
[22:32:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1259.982, 486.9949), source=ENEMY (Enemy5), range=1469, listeners=10
[22:32:34] [INFO] [SoundPropagation] Sound result: notified=5, out_of_range=0, self=1, below_threshold=4
[22:32:34] [INFO] [LastChance] Threat detected: @Area2D@2695
[22:32:34] [INFO] [LastChance] Not in hard mode - effect disabled
[22:32:34] [INFO] [LastChance] Cannot trigger effect - conditions not met
[22:32:34] [INFO] [Player] Hit blocked by invincibility mode (C#)
[22:32:34] [INFO] [Player] Spawning blood effect at (1120.3981, 626.20874), dir=(1, 0), lethal=False (C#)
[22:32:34] [INFO] [ImpactEffects] spawn_blood_effect called at (1120.398, 626.2087), dir=(1, 0), lethal=false
[22:32:34] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[22:32:34] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[22:32:34] [INFO] [ImpactEffects] Blood effect spawned at (1120.398, 626.2087) (scale=1)
[22:32:34] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:32:34] [INFO] [BloodDecal] Blood puddle created at (1272.987, 652.6701) (added to group)
[22:32:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1218.8698, 541.4663), shooter_id=1621954136228, bullet_pos=(1076.0951, 693.18353)
[22:32:34] [INFO] [Bullet] Using shooter_position, distance=208,33319
[22:32:34] [INFO] [Bullet] Distance to wall: 208,33319 (14,185791% of viewport)
[22:32:34] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:32:34] [ENEMY] [Enemy3] Hit: dmg=1, hp=1/2->0/2
[22:32:34] [INFO] [ImpactEffects] spawn_blood_effect called at (1056.416, 642.1268), dir=(1, 0), lethal=true
[22:32:34] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[22:32:34] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[22:32:34] [INFO] [ImpactEffects] Blood effect spawned at (1056.416, 642.1268) (scale=1.5)
[22:32:34] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[22:32:34] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[22:32:34] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[22:32:34] [INFO] [PowerFantasy] Starting power fantasy effect:
[22:32:34] [INFO] [PowerFantasy]   - Time scale: 0.10
[22:32:34] [INFO] [PowerFantasy]   - Duration: 300ms
[22:32:34] [ENEMY] [Enemy3] [AllyDeath] Notified 5 enemies
[22:32:34] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[22:32:34] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[22:32:34] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[22:32:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1259.982, 486.9949), source=ENEMY (Enemy5), range=1469, listeners=9
[22:32:34] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=0, self=1, below_threshold=4
[22:32:34] [INFO] [BloodDecal] Blood puddle created at (1244.508, 683.2161) (added to group)
[22:32:34] [INFO] [LastChance] Threat detected: @Area2D@2710
[22:32:34] [INFO] [LastChance] Not in hard mode - effect disabled
[22:32:34] [INFO] [LastChance] Cannot trigger effect - conditions not met
[22:32:34] [INFO] [PowerFantasy] Effect duration expired after 313.00 ms
[22:32:34] [INFO] [PowerFantasy] Ending power fantasy effect
[22:32:34] [INFO] [BloodDecal] Blood puddle created at (1272.272, 676.4745) (added to group)
[22:32:34] [ENEMY] [Enemy5] State: COMBAT -> RETREATING
[22:32:34] [INFO] [BloodyFeet:Enemy4] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[22:32:34] [ENEMY] [Enemy6] State: SUPPRESSED -> SEEKING_COVER
[22:32:34] [INFO] [BloodDecal] Blood puddle created at (1232.944, 631.4271) (added to group)
[22:32:34] [INFO] [BloodDecal] Blood puddle created at (1203.482, 661.4728) (added to group)
[22:32:34] [INFO] [ReplayManager] Recording frame 1560 (25,7s): player_valid=True, enemies=10
[22:32:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1263.649, 486.2961), source=ENEMY (Enemy5), range=1469, listeners=9
[22:32:34] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=0, self=1, below_threshold=4
[22:32:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1209.4391, 532.8704), shooter_id=1621954136228, bullet_pos=(973.8402, 704.8083)
[22:32:34] [INFO] [Bullet] Using shooter_position, distance=291,6667
[22:32:34] [INFO] [Bullet] Distance to wall: 291,6667 (19,86012% of viewport)
[22:32:34] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:32:34] [INFO] [LastChance] Threat detected: @Area2D@2717
[22:32:34] [INFO] [LastChance] Not in hard mode - effect disabled
[22:32:34] [INFO] [LastChance] Cannot trigger effect - conditions not met
[22:32:34] [ENEMY] [Enemy6] State: SEEKING_COVER -> IN_COVER
[22:32:34] [ENEMY] [Enemy7] SEARCHING corner check: angle 55.1°
[22:32:34] [ENEMY] [Enemy6] State: IN_COVER -> SUPPRESSED
[22:32:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1209.4391, 532.8704), shooter_id=1621954136228, bullet_pos=(913.953, 658.2871)
[22:32:34] [INFO] [Bullet] Using shooter_position, distance=321,00058
[22:32:34] [INFO] [Bullet] Distance to wall: 321,00058 (21,857521% of viewport)
[22:32:34] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:32:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1118.2493, 615.675), shooter_id=1621249493509, bullet_pos=(2476.5046, 565.30133)
[22:32:34] [INFO] [Bullet] Using shooter_position, distance=1359,1891
[22:32:34] [INFO] [Bullet] Distance to wall: 1359,1891 (92,54969% of viewport)
[22:32:34] [INFO] [Bullet] Distance-based penetration chance: 38,69204%
[22:32:34] [INFO] [Bullet] Penetration failed (distance roll)
[22:32:34] [INFO] [BloodDecal] Blood puddle created at (1259.607, 630.9929) (added to group)
[22:32:34] [INFO] [LastChance] Threat detected: @Area2D@2710
[22:32:34] [INFO] [LastChance] Not in hard mode - effect disabled
[22:32:34] [INFO] [LastChance] Cannot trigger effect - conditions not met
[22:32:34] [INFO] [Player] Hit blocked by invincibility mode (C#)
[22:32:34] [INFO] [Player] Spawning blood effect at (1043.5596, 572.7073), dir=(1, 0), lethal=False (C#)
[22:32:34] [INFO] [ImpactEffects] spawn_blood_effect called at (1043.56, 572.7073), dir=(1, 0), lethal=false
[22:32:34] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[22:32:34] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[22:32:34] [INFO] [ImpactEffects] Blood effect spawned at (1043.56, 572.7073) (scale=1)
[22:32:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1289.321, 481.4044), source=ENEMY (Enemy5), range=1469, listeners=9
[22:32:34] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=0, self=1, below_threshold=4
[22:32:34] [INFO] [BloodDecal] Blood puddle created at (1100.801, 643.5569) (added to group)
[22:32:34] [INFO] [BloodyFeet:Enemy1] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[22:32:34] [ENEMY] [Enemy8] Memory: high confidence (0.81) - transitioning to PURSUING
[22:32:34] [ENEMY] [Enemy8] State: IDLE -> PURSUING
[22:32:34] [ENEMY] [Enemy8] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=-135.0°, current=78.7°, player=(1022,571), corner_timer=0.00
[22:32:34] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:32:34] [INFO] [BloodDecal] Blood puddle created at (1338.889, 681.825) (added to group)
[22:32:34] [INFO] [BloodDecal] Blood puddle created at (1230.176, 598.7377) (added to group)
[22:32:34] [INFO] [BloodDecal] Blood puddle created at (1110.149, 687.1493) (added to group)
[22:32:34] [INFO] [BloodDecal] Blood puddle created at (1108.381, 676.2858) (added to group)
[22:32:34] [INFO] [LastChance] Threat detected: Bullet
[22:32:34] [INFO] [LastChance] Not in hard mode - effect disabled
[22:32:34] [INFO] [LastChance] Cannot trigger effect - conditions not met
[22:32:34] [ENEMY] [Enemy8] PURSUING corner check: angle 154.1°
[22:32:34] [INFO] [BloodDecal] Blood puddle created at (1240.294, 644.8582) (added to group)
[22:32:34] [ENEMY] [Enemy4] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=-99.7°, current=-162.5°, player=(1000,571), corner_timer=0.02
[22:32:34] [INFO] [BloodDecal] Blood puddle created at (1309.435, 617.8701) (added to group)
[22:32:34] [INFO] [BloodDecal] Blood puddle created at (1192.729, 647.6399) (added to group)
[22:32:34] [INFO] [BloodDecal] Blood puddle created at (1141.838, 685.0338) (added to group)
[22:32:34] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1314.992, 476.5126), source=ENEMY (Enemy5), range=1469, listeners=9
[22:32:34] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=0, self=1, below_threshold=4
[22:32:34] [INFO] [BloodDecal] Blood puddle created at (1332.807, 673.3029) (added to group)
[22:32:34] [INFO] [BloodDecal] Blood puddle created at (1305.131, 637.5543) (added to group)
[22:32:34] [INFO] [BloodDecal] Blood puddle created at (1131.777, 648.7448) (added to group)
[22:32:34] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1228.0718, 511.23608), shooter_id=1621954136228, bullet_pos=(923.97784, 647.7566)
[22:32:34] [INFO] [Bullet] Using shooter_position, distance=333,33313
[22:32:34] [INFO] [Bullet] Distance to wall: 333,33313 (22,697268% of viewport)
[22:32:34] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:32:34] [INFO] [Bullet] Starting wall penetration at (923.97784, 647.7566)
[22:32:34] [INFO] [Bullet] Raycast backward hit penetrating body at distance 33,537136
[22:32:34] [INFO] [Bullet] Body exited signal received for penetrating body
[22:32:34] [INFO] [Bullet] Exiting penetration at (881.40466, 666.86945) after traveling 41,666668 pixels through wall
[22:32:34] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[22:32:34] [INFO] [BloodDecal] Blood puddle created at (1268.711, 667.3185) (added to group)
[22:32:35] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[22:32:35] [INFO] [LastChance] Threat detected: @Area2D@2733
[22:32:35] [INFO] [LastChance] Not in hard mode - effect disabled
[22:32:35] [INFO] [LastChance] Cannot trigger effect - conditions not met
[22:32:35] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[22:32:35] [INFO] [BloodDecal] Blood puddle created at (1278.355, 665.1893) (added to group)
[22:32:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1339.932, 471.621), source=ENEMY (Enemy5), range=1469, listeners=9
[22:32:35] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=0, self=1, below_threshold=4
[22:32:35] [ENEMY] [Enemy7] SEARCHING corner check: angle 21.5°
[22:32:35] [ENEMY] [Enemy3] Ragdoll activated
[22:32:35] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[22:32:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1252.3572, 503.22803), shooter_id=1621954136228, bullet_pos=(933.1394, 599.2031)
[22:32:35] [INFO] [Bullet] Using shooter_position, distance=333,33347
[22:32:35] [INFO] [Bullet] Distance to wall: 333,33347 (22,697289% of viewport)
[22:32:35] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:32:35] [ENEMY] [Enemy1] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=-78.6°, current=45.3°, player=(945,571), corner_timer=0.07
[22:32:35] [INFO] [BloodDecal] Blood puddle created at (1224.745, 683.8455) (added to group)
[22:32:35] [INFO] [BloodDecal] Blood puddle created at (1188.322, 681.6067) (added to group)
[22:32:35] [INFO] [BloodDecal] Blood puddle created at (1187.06, 660.2202) (added to group)
[22:32:35] [INFO] [BloodDecal] Blood puddle created at (1118.708, 570.6085) (added to group)
[22:32:35] [INFO] [BloodDecal] Blood puddle created at (1110.431, 606.7228) (added to group)
[22:32:35] [INFO] [BloodDecal] Blood puddle created at (1239.128, 686.3862) (added to group)
[22:32:35] [ENEMY] [Enemy7] ROT_CHANGE: P2:combat_state -> P1:visible, state=SEARCHING, target=-166.6°, current=-167.9°, player=(923,571), corner_timer=0.22
[22:32:35] [ENEMY] [Enemy7] SEARCHING: Player spotted! Transitioning to COMBAT
[22:32:35] [ENEMY] [Enemy7] State: SEARCHING -> COMBAT
[22:32:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1319.008, 487.2873), source=ENEMY (Enemy5), range=1469, listeners=9
[22:32:35] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=0, self=1, below_threshold=4
[22:32:35] [ENEMY] [Enemy7] State: COMBAT -> RETREATING
[22:32:35] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:32:35] [ENEMY] [Enemy8] PURSUING corner check: angle 154.1°
[22:32:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1276.2659, 496.25372), shooter_id=1621954136228, bullet_pos=(920.8274, 615.7877)
[22:32:35] [INFO] [Bullet] Using shooter_position, distance=374,99985
[22:32:35] [INFO] [Bullet] Distance to wall: 374,99985 (25,53443% of viewport)
[22:32:35] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:32:35] [INFO] [BloodDecal] Blood puddle created at (1107.437, 586.5168) (added to group)
[22:32:35] [ENEMY] [Enemy7] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=21.5°, current=127.1°, player=(895,571), corner_timer=0.22
[22:32:35] [ENEMY] [Enemy1] State: RETREATING -> IN_COVER
[22:32:35] [ENEMY] [Enemy1] State: IN_COVER -> SUPPRESSED
[22:32:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1252.3572, 503.22803), shooter_id=1621954136228, bullet_pos=(519.99554, 479.98706)
[22:32:35] [INFO] [Bullet] Using shooter_position, distance=732,7303
[22:32:35] [INFO] [Bullet] Distance to wall: 732,7303 (49,892952% of viewport)
[22:32:35] [INFO] [LastChance] Threat detected: @Area2D@2766
[22:32:35] [INFO] [LastChance] Not in hard mode - effect disabled
[22:32:35] [INFO] [LastChance] Cannot trigger effect - conditions not met
[22:32:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1339.935, 498.5516), source=ENEMY (Enemy5), range=1469, listeners=9
[22:32:35] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=0, self=1, below_threshold=4
[22:32:35] [INFO] [BloodDecal] Blood puddle created at (1149.01, 682.8883) (added to group)
[22:32:35] [INFO] [BloodDecal] Blood puddle created at (1175.681, 598.5112) (added to group)
[22:32:35] [INFO] [BloodDecal] Blood puddle created at (1110.528, 661.6959) (added to group)
[22:32:35] [INFO] [BloodDecal] Blood puddle created at (1172.993, 686.4256) (added to group)
[22:32:35] [INFO] [BloodDecal] Blood puddle created at (1224.552, 666.7348) (added to group)
[22:32:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1276.2659, 496.25372), shooter_id=1621954136228, bullet_pos=(1161.1195, 694.69586)
[22:32:35] [INFO] [Bullet] Using shooter_position, distance=229,42966
[22:32:35] [INFO] [Bullet] Distance to wall: 229,42966 (15,622288% of viewport)
[22:32:35] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:32:35] [INFO] [BloodDecal] Blood puddle created at (1160.004, 629.0941) (added to group)
[22:32:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1339.935, 522.9981), source=ENEMY (Enemy5), range=1469, listeners=9
[22:32:35] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=0, self=1, below_threshold=4
[22:32:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1274.3132, 516.84485), shooter_id=1621954136228, bullet_pos=(915.09436, 624.48615)
[22:32:35] [INFO] [Bullet] Using shooter_position, distance=374,9998
[22:32:35] [INFO] [Bullet] Distance to wall: 374,9998 (25,534428% of viewport)
[22:32:35] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:32:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1276.2659, 496.25372), shooter_id=1621954136228, bullet_pos=(1392.9968, 613.04443)
[22:32:35] [INFO] [Bullet] Using shooter_position, distance=165,12476
[22:32:35] [INFO] [Bullet] Distance to wall: 165,12476 (11,243649% of viewport)
[22:32:35] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:32:35] [INFO] [Bullet] Starting wall penetration at (1392.9968, 613.04443)
[22:32:35] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[22:32:35] [INFO] [Bullet] Exiting penetration at (1426.1082, 601.3849) after traveling 30,10417 pixels through wall
[22:32:35] [INFO] [Bullet] Damage multiplier after penetration: 0,225
[22:32:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1339.934, 547.0242), source=ENEMY (Enemy5), range=1469, listeners=9
[22:32:35] [INFO] [SoundPropagation] Sound result: notified=5, out_of_range=0, self=1, below_threshold=3
[22:32:35] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:32:35] [INFO] [BloodDecal] Blood puddle created at (1199.886, 667.7426) (added to group)
[22:32:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1273.3457, 537.3114), shooter_id=1621954136228, bullet_pos=(908.1415, 622.46423)
[22:32:35] [INFO] [Bullet] Using shooter_position, distance=375,00015
[22:32:35] [INFO] [Bullet] Distance to wall: 375,00015 (25,53445% of viewport)
[22:32:35] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:32:35] [INFO] [Bullet] Starting wall penetration at (908.1415, 622.46423)
[22:32:35] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[22:32:35] [INFO] [Bullet] Exiting penetration at (862.69385, 633.06104) after traveling 41,66667 pixels through wall
[22:32:35] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[22:32:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1339.935, 571.0346), source=ENEMY (Enemy5), range=1469, listeners=9
[22:32:35] [INFO] [SoundPropagation] Sound result: notified=5, out_of_range=0, self=1, below_threshold=3
[22:32:35] [INFO] [ReplayManager] Recording frame 1620 (26,7s): player_valid=True, enemies=10
[22:32:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1339.935, 595.0389), source=ENEMY (Enemy5), range=1469, listeners=9
[22:32:35] [INFO] [SoundPropagation] Sound result: notified=5, out_of_range=0, self=1, below_threshold=3
[22:32:35] [INFO] [LastChance] Threat detected: @Area2D@2792
[22:32:35] [INFO] [LastChance] Not in hard mode - effect disabled
[22:32:35] [INFO] [LastChance] Cannot trigger effect - conditions not met
[22:32:35] [ENEMY] [Enemy7] State: RETREATING -> IN_COVER
[22:32:35] [ENEMY] [Enemy7] State: IN_COVER -> SUPPRESSED
[22:32:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1272.7067, 557.90015), shooter_id=1621954136228, bullet_pos=(491.5512, 686.4772)
[22:32:35] [INFO] [Bullet] Using shooter_position, distance=791,66656
[22:32:35] [INFO] [Bullet] Distance to wall: 791,66656 (53,906036% of viewport)
[22:32:35] [INFO] [Bullet] Distance-based penetration chance: 83,7763%
[22:32:35] [INFO] [Bullet] Penetration failed (distance roll)
[22:32:35] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:32:35] [ENEMY] [Enemy5] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=-171.3°, current=-177.9°, player=(692,599), corner_timer=0.02
[22:32:35] [ENEMY] [Enemy5] State: RETREATING -> IN_COVER
[22:32:35] [ENEMY] [Enemy5] State: IN_COVER -> SUPPRESSED
[22:32:35] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1272.2949, 578.8975), shooter_id=1621954136228, bullet_pos=(522.6692, 555.2176)
[22:32:35] [INFO] [Bullet] Using shooter_position, distance=749,9997
[22:32:35] [INFO] [Bullet] Distance to wall: 749,9997 (51,06886% of viewport)
[22:32:35] [INFO] [Bullet] Distance-based penetration chance: 87,086334%
[22:32:35] [INFO] [Bullet] Starting wall penetration at (522.6692, 555.2176)
[22:32:35] [INFO] [Bullet] Raycast backward hit penetrating body at distance 23,986172
[22:32:35] [INFO] [Bullet] Body exited signal received for penetrating body
[22:32:35] [INFO] [Bullet] Exiting penetration at (476.0258, 553.74414) after traveling 41,66667 pixels through wall
[22:32:35] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[22:32:36] [ENEMY] [Enemy3] Death animation completed
[22:32:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1272.1045, 600.7571), shooter_id=1621954136228, bullet_pos=(328.02533, 436.08438)
[22:32:36] [INFO] [Bullet] Using shooter_position, distance=958,3332
[22:32:36] [INFO] [Bullet] Distance to wall: 958,3332 (65,25467% of viewport)
[22:32:36] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:32:36] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[22:32:36] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:32:36] [INFO] [ReplayManager] Recording frame 1680 (27,7s): player_valid=True, enemies=10
[22:32:36] [ENEMY] [Enemy1] State: SUPPRESSED -> IN_COVER
[22:32:36] [ENEMY] [Enemy1] State: IN_COVER -> PURSUING
[22:32:36] [ENEMY] [Enemy4] State: SUPPRESSED -> IN_COVER
[22:32:36] [ENEMY] [Enemy1] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=-174.8°, current=-78.6°, player=(425,640), corner_timer=0.07
[22:32:36] [ENEMY] [Enemy4] State: IN_COVER -> PURSUING
[22:32:36] [ENEMY] [Enemy4] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=-175.2°, current=-99.7°, player=(421,638), corner_timer=0.02
[22:32:36] [ENEMY] [Enemy2] State: SUPPRESSED -> IN_COVER
[22:32:36] [ENEMY] [Enemy2] State: IN_COVER -> PURSUING
[22:32:36] [ENEMY] [Enemy2] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=-173.1°, current=17.2°, player=(407,627), corner_timer=0.17
[22:32:36] [ENEMY] [Enemy6] State: SUPPRESSED -> IN_COVER
[22:32:36] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:32:36] [ENEMY] [Enemy6] State: IN_COVER -> PURSUING
[22:32:36] [ENEMY] [Enemy6] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=-173.1°, current=45.1°, player=(401,620), corner_timer=0.27
[22:32:36] [ENEMY] [Enemy7] State: SUPPRESSED -> IN_COVER
[22:32:36] [ENEMY] [Enemy7] State: IN_COVER -> PURSUING
[22:32:36] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=-178.5°, current=21.5°, player=(393,602), corner_timer=0.22
[22:32:37] [ENEMY] [Enemy8] Warning: No valid flank position (both sides behind walls)
[22:32:37] [ENEMY] [Enemy8] FLANKING started: target=(557.5507, 469.8648), side=left, pos=(1804.477, 1253.301)
[22:32:37] [ENEMY] [Enemy8] State: PURSUING -> FLANKING
[22:32:37] [ENEMY] [Enemy8] FLANKING corner check: angle 97.7°
[22:32:37] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:32:37] [ENEMY] [Enemy8] FLANKING corner check: angle 113.3°
[22:32:37] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:32:37] [INFO] [ReplayManager] Recording frame 1740 (28,7s): player_valid=True, enemies=10
[22:32:37] [ENEMY] [Enemy8] FLANKING corner check: angle -160.0°
[22:32:37] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:32:37] [ENEMY] [Enemy9] Memory: medium confidence (0.57) - transitioning to PURSUING
[22:32:37] [ENEMY] [Enemy9] State: IDLE -> PURSUING
[22:32:37] [ENEMY] [Enemy9] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=-144.2°, current=101.3°, player=(483,383), corner_timer=0.00
[22:32:37] [ENEMY] [Enemy9] PURSUING_MEMORY corner check: angle 4.4°
[22:32:38] [ENEMY] [Enemy8] FLANKING corner check: angle -160.0°
[22:32:38] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:32:38] [ENEMY] [Enemy4] Warning: No valid flank position (both sides behind walls)
[22:32:38] [ENEMY] [Enemy4] FLANKING started: target=(638.184, 250.6858), side=left, pos=(1404.739, 721.6407)
[22:32:38] [ENEMY] [Enemy4] State: PURSUING -> FLANKING
[22:32:38] [ENEMY] [Enemy9] PURSUING corner check: angle -40.8°
[22:32:38] [ENEMY] [Enemy5] State: SUPPRESSED -> IN_COVER
[22:32:38] [ENEMY] [Enemy5] State: IN_COVER -> PURSUING
[22:32:38] [ENEMY] [Enemy4] FLANKING corner check: angle 160.8°
[22:32:38] [ENEMY] [Enemy5] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=-163.8°, current=-171.3°, player=(483,377), corner_timer=0.02
[22:32:38] [ENEMY] [Enemy1] PURSUING corner check: angle -112.0°
[22:32:38] [ENEMY] [Enemy8] FLANKING corner check: angle -160.0°
[22:32:38] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:32:38] [ENEMY] [Enemy9] PURSUING corner check: angle 164.4°
[22:32:38] [ENEMY] [Enemy2] PURSUING corner check: angle 87.3°
[22:32:38] [ENEMY] [Enemy4] FLANKING corner check: angle -83.0°
[22:32:38] [INFO] [ReplayManager] Recording frame 1800 (29,7s): player_valid=True, enemies=10
[22:32:38] [ENEMY] [Enemy8] FLANKING corner check: angle -160.0°
[22:32:38] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:32:38] [ENEMY] [Enemy4] FLANKING corner check: angle -80.3°
[22:32:39] [ENEMY] [Enemy8] FLANKING corner check: angle 175.7°
[22:32:39] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:32:39] [ENEMY] [Enemy4] FLANKING corner check: angle -55.3°
[22:32:39] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:32:39] [INFO] [ScoreManager] Combo ended at 1. Max combo: 1
[22:32:39] [INFO] [BloodyFeet:Enemy8] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[22:32:39] [ENEMY] [Enemy4] FLANKING corner check: angle 124.9°
[22:32:39] [INFO] [ReplayManager] Recording frame 1860 (30,7s): player_valid=True, enemies=10
[22:32:39] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:32:39] [INFO] [BloodyFeet:Enemy5] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[22:32:39] [ENEMY] [Enemy5] PURSUING corner check: angle -84.4°
[22:32:39] [ENEMY] [Enemy4] FLANKING corner check: angle 125.2°
[22:32:40] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:32:40] [ENEMY] [Enemy6] Warning: No valid flank position (both sides behind walls)
[22:32:40] [ENEMY] [Enemy6] FLANKING started: target=(636.2858, 248.4202), side=left, pos=(1416.794, 710.5186)
[22:32:40] [ENEMY] [Enemy6] State: PURSUING -> FLANKING
[22:32:40] [ENEMY] [Enemy5] PURSUING corner check: angle -102.1°
[22:32:40] [ENEMY] [Enemy6] FLANKING corner check: angle 152.0°
[22:32:40] [ENEMY] [Enemy8] FLANKING corner check: angle -34.6°
[22:32:40] [ENEMY] [Enemy1] PURSUING corner check: angle 91.1°
[22:32:40] [ENEMY] [Enemy4] FLANKING corner check: angle 125.3°
[22:32:40] [ENEMY] [Enemy9] Warning: No valid flank position (both sides behind walls)
[22:32:40] [ENEMY] [Enemy9] FLANKING started: target=(656.7856, 277.3819), side=left, pos=(2012.594, 1253.373)
[22:32:40] [ENEMY] [Enemy9] State: PURSUING -> FLANKING
[22:32:40] [ENEMY] [Enemy9] FLANKING corner check: angle 93.8°
[22:32:40] [ENEMY] [Enemy2] PURSUING corner check: angle 89.5°
[22:32:40] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:32:40] [ENEMY] [Enemy6] FLANKING corner check: angle -83.0°
[22:32:40] [ENEMY] [Enemy1] PURSUING corner check: angle 107.5°
[22:32:40] [ENEMY] [Enemy8] FLANKING corner check: angle -82.9°
[22:32:40] [ENEMY] [Enemy4] FLANKING corner check: angle 124.7°
[22:32:40] [INFO] [ReplayManager] Recording frame 1920 (31,7s): player_valid=True, enemies=10
[22:32:40] [INFO] [BloodyFeet:Enemy4] Blood ran out - no more footprints
[22:32:40] [ENEMY] [Enemy9] FLANKING corner check: angle 16.2°
[22:32:40] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:32:40] [INFO] [BloodyFeet:Enemy7] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[22:32:40] [ENEMY] [Enemy6] FLANKING corner check: angle -80.1°
[22:32:40] [ENEMY] [Enemy8] FLANKING corner check: angle -80.0°
[22:32:41] [ENEMY] [Enemy4] FLANKING corner check: angle 126.2°
[22:32:41] [ENEMY] [Enemy7] PURSUING corner check: angle 47.2°
[22:32:41] [ENEMY] [Enemy9] FLANKING corner check: angle -24.3°
[22:32:41] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:32:41] [ENEMY] [Enemy6] FLANKING corner check: angle -54.6°
[22:32:41] [ENEMY] [Enemy8] FLANKING corner check: angle -54.2°
[22:32:41] [ENEMY] [Enemy4] FLANKING corner check: angle 126.2°
[22:32:41] [ENEMY] [Enemy9] FLANKING corner check: angle 140.3°
[22:32:41] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:32:41] [ENEMY] [Enemy6] FLANKING corner check: angle 125.6°
[22:32:41] [ENEMY] [Enemy8] FLANKING corner check: angle 125.3°
[22:32:41] [ENEMY] [Enemy4] FLANKING corner check: angle 90.8°
[22:32:41] [INFO] [ReplayManager] Recording frame 1980 (32,7s): player_valid=True, enemies=10
[22:32:41] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=105.3°, current=83.6°, player=(448,377), corner_timer=0.23
[22:32:41] [ENEMY] [Enemy4] State: FLANKING -> COMBAT
[22:32:41] [INFO] [BloodyFeet:Player] Blood ran out - no more footprints
[22:32:41] [ENEMY] [Enemy9] FLANKING corner check: angle 140.3°
[22:32:41] [ENEMY] [Enemy4] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=108.2°, current=47.3°, player=(427,377), corner_timer=0.23
[22:32:41] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:32:41] [ENEMY] [Enemy6] FLANKING corner check: angle 121.8°
[22:32:41] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=118.7°, current=70.9°, player=(383,377), corner_timer=0.23
[22:32:41] [ENEMY] [Enemy8] FLANKING corner check: angle 127.1°
[22:32:42] [ENEMY] [Enemy8] FLANKING timeout (5.0s), target=(484.116, 224.3387), pos=(947.2009, 477.6238)
[22:32:42] [ENEMY] [Enemy8] State: FLANKING -> PURSUING
[22:32:42] [ENEMY] [Enemy5] PURSUING corner check: angle -110.3°
[22:32:42] [ENEMY] [Enemy9] FLANKING corner check: angle 137.2°
[22:32:42] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:32:42] [ENEMY] [Enemy6] FLANKING corner check: angle 126.7°
[22:32:42] [ENEMY] [Enemy2] PURSUING corner check: angle 111.4°
[22:32:42] [ENEMY] [Enemy8] PURSUING corner check: angle 11.6°
[22:32:42] [ENEMY] [Enemy5] PURSUING corner check: angle -104.7°
[22:32:42] [ENEMY] [Enemy4] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=151.0°, current=151.0°, player=(251,311), corner_timer=0.23
[22:32:42] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[22:32:42] [ENEMY] [Enemy1] PURSUING corner check: angle 110.4°
[22:32:42] [ENEMY] [Enemy9] FLANKING corner check: angle 137.2°
[22:32:42] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:32:42] [ENEMY] [Enemy6] FLANKING corner check: angle 126.7°
[22:32:42] [INFO] [BloodyFeet:Enemy6] Blood ran out - no more footprints
[22:32:42] [INFO] [ReplayManager] Recording frame 2040 (33,7s): player_valid=True, enemies=10
[22:32:42] [ENEMY] [Enemy2] PURSUING corner check: angle 108.7°
[22:32:42] [ENEMY] [Enemy1] PURSUING corner check: angle 113.3°
[22:32:42] [ENEMY] [Enemy9] FLANKING corner check: angle 93.3°
[22:32:42] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:32:42] [ENEMY] [Enemy6] FLANKING corner check: angle 126.7°
[22:32:42] [ENEMY] [Enemy7] PURSUING corner check: angle -115.9°
[22:32:43] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:32:43] [INFO] [BloodyFeet:Enemy9] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[22:32:43] [ENEMY] [Enemy6] FLANKING corner check: angle 126.7°
[22:32:43] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:32:43] [INFO] [ReplayManager] Recording frame 2100 (34,7s): player_valid=True, enemies=10
[22:32:43] [ENEMY] [Enemy6] FLANKING corner check: angle 87.2°
[22:32:43] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=168.0°, current=166.9°, player=(201,239), corner_timer=0.23
[22:32:43] [ENEMY] [Enemy6] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=166.8°, current=166.6°, player=(201,239), corner_timer=0.25
[22:32:43] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[22:32:43] [ENEMY] [Enemy6] State: FLANKING -> COMBAT
[22:32:43] [ENEMY] [Enemy9] FLANKING corner check: angle -43.9°
[22:32:43] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:32:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(199.6145, 202.3362), source=PLAYER (MakarovPM), range=1469, listeners=9
[22:32:43] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[22:32:44] [ENEMY] [Enemy5] Warning: No valid flank position (both sides behind walls)
[22:32:44] [ENEMY] [Enemy5] FLANKING started: target=(172.5364, 361.2693), side=right, pos=(974.2322, 663.9221)
[22:32:44] [ENEMY] [Enemy5] State: PURSUING -> FLANKING
[22:32:44] [ENEMY] [Enemy8] FLANKING started: target=(357.5585, 68.0221), side=left, pos=(878.4795, 600.0876)
[22:32:44] [ENEMY] [Enemy8] State: PURSUING -> FLANKING
[22:32:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(169.9153, 161.4106), source=PLAYER (MakarovPM), range=1469, listeners=9
[22:32:44] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[22:32:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(199.6145, 202.3362), shooter_id=1624604937340, bullet_pos=(498.5364, 234.6797)
[22:32:44] [INFO] [Bullet] Using shooter_position, distance=300.666564941406
[22:32:44] [INFO] [Bullet] Distance to wall: 300.666564941406 (20.4729392839218% of viewport)
[22:32:44] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:32:44] [INFO] [Bullet] Caliber cannot penetrate walls
[22:32:44] [INFO] [BloodyFeet:Enemy8] Blood ran out - no more footprints
[22:32:44] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:32:44] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[22:32:44] [ENEMY] [Enemy6] State: COMBAT -> RETREATING
[22:32:44] [ENEMY] [Enemy8] FLANKING corner check: angle 141.9°
[22:32:44] [ENEMY] [Enemy5] FLANKING corner check: angle -45.6°
[22:32:44] [ENEMY] [Enemy9] FLANKING corner check: angle -82.0°
[22:32:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(162.1316, 176.1805), source=PLAYER (MakarovPM), range=1469, listeners=9
[22:32:44] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[22:32:44] [ENEMY] [Enemy6] Hit: dmg=1, hp=2/2->1/2
[22:32:44] [INFO] [ImpactEffects] spawn_blood_effect called at (423.8174, 205.2657), dir=(0.994642, 0.103375), lethal=false
[22:32:44] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[22:32:44] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[22:32:44] [INFO] [ImpactEffects] Wall found for blood splatter at (500, 213.1835) (dist=76 px)
[22:32:44] [INFO] [BloodDecal] Blood puddle created at (499, 213.1835) (added to group)
[22:32:44] [INFO] [ImpactEffects] Blood effect spawned at (423.8174, 205.2657) (scale=0.5)
[22:32:44] [ENEMY] [Enemy2] Warning: No valid flank position (both sides behind walls)
[22:32:44] [ENEMY] [Enemy2] FLANKING started: target=(148.9192, 374.4673), side=right, pos=(977.1964, 736.0647)
[22:32:44] [ENEMY] [Enemy2] State: PURSUING -> FLANKING
[22:32:44] [ENEMY] [Enemy1] Warning: No valid flank position (both sides behind walls)
[22:32:44] [ENEMY] [Enemy1] FLANKING started: target=(349.701, 94.66628), side=left, pos=(976.8689, 736.0655)
[22:32:44] [ENEMY] [Enemy1] State: PURSUING -> FLANKING
[22:32:44] [ENEMY] [Enemy4] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=90.8°, current=-167.1°, player=(180,193), corner_timer=0.23
[22:32:44] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:32:44] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[22:32:44] [ENEMY] [Enemy2] FLANKING corner check: angle 111.2°
[22:32:44] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[22:32:44] [ENEMY] [Enemy6] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=87.2°, current=-171.2°, player=(196,209), corner_timer=0.22
[22:32:44] [ENEMY] [Enemy8] FLANKING corner check: angle 141.9°
[22:32:44] [ENEMY] [Enemy6] State: RETREATING -> IN_COVER
[22:32:44] [INFO] [BloodDecal] Blood puddle created at (466.8819, 202.2668) (added to group)
[22:32:44] [ENEMY] [Enemy5] FLANKING corner check: angle 92.8°
[22:32:44] [ENEMY] [Enemy6] State: IN_COVER -> SUPPRESSED
[22:32:44] [ENEMY] [Enemy9] FLANKING corner check: angle -79.5°
[22:32:44] [ENEMY] [Enemy1] FLANKING corner check: angle 109.9°
[22:32:44] [INFO] [ReplayManager] Recording frame 2160 (35,7s): player_valid=True, enemies=10
[22:32:44] [INFO] [BloodDecal] Blood puddle created at (481.0142, 242.8774) (added to group)
[22:32:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(203.9349, 253.4967), source=PLAYER (MakarovPM), range=1469, listeners=9
[22:32:44] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=6
[22:32:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(203.9349, 253.4967), shooter_id=1624604937340, bullet_pos=(222.5866, 254.2442)
[22:32:44] [INFO] [Bullet] Using shooter_position, distance=18.6666774749756
[22:32:44] [INFO] [Bullet] Distance to wall: 18.6666774749756 (1.27104839426426% of viewport)
[22:32:44] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[22:32:44] [INFO] [Bullet] Caliber cannot penetrate walls
[22:32:44] [ENEMY] [Enemy7] PURSUING corner check: angle 98.2°
[22:32:44] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:32:44] [ENEMY] [Enemy2] FLANKING corner check: angle 83.3°
[22:32:44] [ENEMY] [Enemy8] FLANKING corner check: angle 141.9°
[22:32:44] [INFO] [BloodyFeet:Enemy5] Blood ran out - no more footprints
[22:32:44] [ENEMY] [Enemy5] FLANKING corner check: angle 85.3°
[22:32:44] [ENEMY] [Enemy9] FLANKING corner check: angle -54.9°
[22:32:44] [ENEMY] [Enemy1] FLANKING corner check: angle 98.0°
[22:32:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(162.1316, 176.1805), shooter_id=1624604937340, bullet_pos=(978.5955, 213.8502)
[22:32:45] [INFO] [Bullet] Using shooter_position, distance=817.332458496094
[22:32:45] [INFO] [Bullet] Distance to wall: 817.332458496094 (55.6536700408642% of viewport)
[22:32:45] [INFO] [Bullet] Distance-based penetration chance: 81.7373849523252%
[22:32:45] [INFO] [Bullet] Caliber cannot penetrate walls
[22:32:45] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:32:45] [ENEMY] [Enemy2] FLANKING corner check: angle 78.6°
[22:32:45] [ENEMY] [Enemy8] FLANKING corner check: angle 141.9°
[22:32:45] [ENEMY] [Enemy5] FLANKING corner check: angle 85.3°
[22:32:45] [ENEMY] [Enemy4] State: SUPPRESSED -> SEEKING_COVER
[22:32:45] [ENEMY] [Enemy9] FLANKING corner check: angle 125.1°
[22:32:45] [ENEMY] [Enemy1] FLANKING corner check: angle 76.4°
[22:32:45] [ENEMY] [Enemy4] State: SEEKING_COVER -> IN_COVER
[22:32:45] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[22:32:45] [ENEMY] [Enemy6] State: SUPPRESSED -> SEEKING_COVER
[22:32:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(191.89, 313.9118), source=PLAYER (MakarovPM), range=1469, listeners=9
[22:32:45] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=0, below_threshold=5
[22:32:45] [ENEMY] [Enemy4] State: SUPPRESSED -> SEEKING_COVER
[22:32:45] [ENEMY] [Enemy6] State: SEEKING_COVER -> IN_COVER
[22:32:45] [ENEMY] [Enemy6] State: IN_COVER -> SUPPRESSED
[22:32:45] [ENEMY] [Enemy9] FLANKING timeout (5.0s), target=(330.442, 163.6781), pos=(1024.876, 511.2764)
[22:32:45] [ENEMY] [Enemy9] State: FLANKING -> PURSUING
[22:32:45] [ENEMY] [Enemy4] State: SEEKING_COVER -> IN_COVER
[22:32:45] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[22:32:45] [ENEMY] [Enemy6] State: SUPPRESSED -> SEEKING_COVER
[22:32:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(191.89, 313.9118), shooter_id=1624604937340, bullet_pos=(301.3911, 271.762)
[22:32:45] [INFO] [Bullet] Using shooter_position, distance=117.333290100098
[22:32:45] [INFO] [Bullet] Distance to wall: 117.333290100098 (7.98943947981118% of viewport)
[22:32:45] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:32:45] [INFO] [Bullet] Caliber cannot penetrate walls
[22:32:45] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:32:45] [ENEMY] [Enemy4] State: SUPPRESSED -> SEEKING_COVER
[22:32:45] [ENEMY] [Enemy8] FLANKING corner check: angle -38.1°
[22:32:45] [ENEMY] [Enemy6] State: SEEKING_COVER -> IN_COVER
[22:32:45] [ENEMY] [Enemy6] State: IN_COVER -> SUPPRESSED
[22:32:45] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(214.9727, 355.8312), source=PLAYER (MakarovPM), range=1469, listeners=9
[22:32:45] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=1, self=0, below_threshold=4
[22:32:45] [ENEMY] [Enemy4] State: SEEKING_COVER -> IN_COVER
[22:32:45] [ENEMY] [Enemy5] FLANKING corner check: angle 85.3°
[22:32:45] [ENEMY] [Enemy2] FLANKING corner check: angle 103.9°
[22:32:45] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[22:32:45] [ENEMY] [Enemy6] State: SUPPRESSED -> SEEKING_COVER
[22:32:45] [ENEMY] [Enemy4] State: SUPPRESSED -> SEEKING_COVER
[22:32:45] [INFO] [BloodyFeet:Enemy5] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[22:32:45] [INFO] [ReplayManager] Recording frame 2220 (36,7s): player_valid=True, enemies=10
[22:32:45] [ENEMY] [Enemy4] State: SEEKING_COVER -> IN_COVER
[22:32:45] [ENEMY] [Enemy6] State: SEEKING_COVER -> IN_COVER
[22:32:45] [ENEMY] [Enemy9] PURSUING corner check: angle 20.1°
[22:32:45] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[22:32:45] [ENEMY] [Enemy6] State: IN_COVER -> SUPPRESSED
[22:32:45] [ENEMY] [Enemy6] State: SUPPRESSED -> SEEKING_COVER
[22:32:45] [ENEMY] [Enemy4] State: SUPPRESSED -> SEEKING_COVER
[22:32:45] [ENEMY] [Enemy6] State: SEEKING_COVER -> IN_COVER
[22:32:45] [ENEMY] [Enemy6] State: IN_COVER -> SUPPRESSED
[22:32:45] [ENEMY] [Enemy4] State: SEEKING_COVER -> IN_COVER
[22:32:45] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[22:32:45] [ENEMY] [Enemy1] FLANKING corner check: angle 168.8°
[22:32:45] [ENEMY] [Enemy8] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=141.8°, current=109.6°, player=(230,409), corner_timer=0.03
[22:32:45] [ENEMY] [Enemy8] State: FLANKING -> COMBAT
[22:32:45] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:32:45] [ENEMY] [Enemy8] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=140.9°, current=75.0°, player=(230,409), corner_timer=0.03
[22:32:45] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(214.9727, 355.8312), shooter_id=1624604937340, bullet_pos=(506.2344, 229.8666)
[22:32:45] [INFO] [Bullet] Using shooter_position, distance=317.333435058594
[22:32:45] [INFO] [Bullet] Distance to wall: 317.333435058594 (21.6078171178728% of viewport)
[22:32:45] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:32:45] [INFO] [Bullet] Caliber cannot penetrate walls
[22:32:45] [ENEMY] [Enemy2] FLANKING corner check: angle -12.3°
[22:32:45] [ENEMY] [Enemy8] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=138.2°, current=89.5°, player=(230,409), corner_timer=0.03
[22:32:45] [INFO] [BloodyFeet:Enemy8] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[22:32:46] [ENEMY] [Enemy8] State: COMBAT -> RETREATING
[22:32:46] [ENEMY] [Enemy5] FLANKING corner check: angle -90.4°
[22:32:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(230.2244, 415.9743), source=PLAYER (MakarovPM), range=1469, listeners=9
[22:32:46] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=1, self=0, below_threshold=4
[22:32:46] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:32:46] [ENEMY] [Enemy1] FLANKING corner check: angle -82.1°
[22:32:46] [ENEMY] [Enemy2] FLANKING corner check: angle -100.1°
[22:32:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(230.2244, 415.9743), shooter_id=1624604937340, bullet_pos=(497.1854, 277.6552)
[22:32:46] [INFO] [Bullet] Using shooter_position, distance=300.66650390625
[22:32:46] [INFO] [Bullet] Distance to wall: 300.66650390625 (20.4729351279258% of viewport)
[22:32:46] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:32:46] [INFO] [Bullet] Caliber cannot penetrate walls
[22:32:46] [ENEMY] [Enemy5] FLANKING corner check: angle -84.6°
[22:32:46] [ENEMY] [Enemy8] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=-38.1°, current=126.5°, player=(230,409), corner_timer=0.03
[22:32:46] [ENEMY] [Enemy8] State: RETREATING -> IN_COVER
[22:32:46] [ENEMY] [Enemy8] State: IN_COVER -> SUPPRESSED
[22:32:46] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:32:46] [ENEMY] [Enemy1] FLANKING corner check: angle -97.8°
[22:32:46] [ENEMY] [Enemy2] FLANKING corner check: angle -94.5°
[22:32:46] [ENEMY] [Enemy7] PURSUING corner check: angle 107.1°
[22:32:46] [INFO] [ReplayManager] Recording frame 2280 (37,7s): player_valid=True, enemies=10
[22:32:46] [ENEMY] [Enemy5] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=-84.7°, current=-84.6°, player=(230,409), corner_timer=-0.02
[22:32:46] [ENEMY] [Enemy5] FLANKING corner check: angle 124.6°
[22:32:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(230.2244, 415.9743), source=PLAYER (MakarovPM), range=1469, listeners=9
[22:32:46] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=1, self=0, below_threshold=4
[22:32:46] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:32:46] [ENEMY] [Enemy1] FLANKING corner check: angle -87.3°
[22:32:46] [ENEMY] [Enemy2] FLANKING corner check: angle -92.0°
[22:32:46] [ENEMY] [Enemy7] PURSUING corner check: angle 104.6°
[22:32:47] [ENEMY] [Enemy1] Player ammo empty: false -> true
[22:32:47] [ENEMY] [Enemy2] Player ammo empty: false -> true
[22:32:47] [ENEMY] [Enemy4] Player ammo empty: false -> true
[22:32:47] [ENEMY] [Enemy5] Player ammo empty: false -> true
[22:32:47] [ENEMY] [Enemy6] Player ammo empty: false -> true
[22:32:47] [ENEMY] [Enemy7] Player ammo empty: false -> true
[22:32:47] [ENEMY] [Enemy8] Player ammo empty: false -> true
[22:32:47] [ENEMY] [Enemy9] Player ammo empty: false -> true
[22:32:47] [ENEMY] [Enemy10] Player ammo empty: false -> true
[22:32:47] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(230.2244, 409.9743), source=PLAYER (Player), range=600, listeners=9
[22:32:47] [ENEMY] [Enemy4] Heard player EMPTY_CLICK at (230.2244, 409.9743), intensity=0.04, distance=246
[22:32:47] [ENEMY] [Enemy4] Vulnerability sound triggered pursuit - transitioning from SUPPRESSED to PURSUING
[22:32:47] [ENEMY] [Enemy5] Heard player EMPTY_CLICK at (230.2244, 409.9743), intensity=0.17, distance=120
[22:32:47] [ENEMY] [Enemy6] Heard player EMPTY_CLICK at (230.2244, 409.9743), intensity=0.04, distance=247
[22:32:47] [ENEMY] [Enemy6] Vulnerability sound triggered pursuit - transitioning from SUPPRESSED to PURSUING
[22:32:47] [ENEMY] [Enemy8] Heard player EMPTY_CLICK at (230.2244, 409.9743), intensity=0.02, distance=358
[22:32:47] [ENEMY] [Enemy8] Vulnerability sound triggered pursuit - transitioning from SUPPRESSED to PURSUING
[22:32:47] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=5, self=0, below_threshold=0
[22:32:47] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=890), can_see=false
[22:32:47] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=882), can_see=false
[22:32:47] [ENEMY] [Enemy4] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=122.2°, current=90.8°, player=(230,409), corner_timer=0.23
[22:32:47] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=246), can_see=false
[22:32:47] [ENEMY] [Enemy4] Pursuing vulnerability sound at (230.2244, 409.9743), distance=246
[22:32:47] [ENEMY] [Enemy5] Player empty ammo - priority attack triggered
[22:32:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(151.0862, 500.0413), source=ENEMY (Enemy5), range=1469, listeners=9
[22:32:47] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=4
[22:32:47] [ENEMY] [Enemy6] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=122.9°, current=87.2°, player=(230,409), corner_timer=0.22
[22:32:47] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=247), can_see=false
[22:32:47] [ENEMY] [Enemy6] Pursuing vulnerability sound at (230.2244, 409.9743), distance=247
[22:32:47] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=898), can_see=false
[22:32:47] [ENEMY] [Enemy8] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=124.6°, current=7.6°, player=(230,409), corner_timer=0.03
[22:32:47] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=358), can_see=false
[22:32:47] [ENEMY] [Enemy8] Pursuing vulnerability sound at (230.2244, 409.9743), distance=358
[22:32:47] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=766), can_see=false
[22:32:47] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1511), can_see=false
[22:32:47] [INFO] [LastChance] Threat detected: Bullet
[22:32:47] [INFO] [LastChance] Not in hard mode - effect disabled
[22:32:47] [INFO] [LastChance] Cannot trigger effect - conditions not met
[22:32:47] [ENEMY] [Enemy5] State: FLANKING -> COMBAT
[22:32:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(201.56567, 454.40775), shooter_id=1621954136228, bullet_pos=(229.04056, 423.08295)
[22:32:47] [INFO] [Bullet] Using shooter_position, distance=41,66668
[22:32:47] [INFO] [Bullet] Distance to wall: 41,66668 (2,837161% of viewport)
[22:32:47] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[22:32:47] [INFO] [Bullet] Starting wall penetration at (229.04056, 423.08295)
[22:32:47] [INFO] [Player] Hit blocked by invincibility mode (C#)
[22:32:47] [INFO] [Player] Spawning blood effect at (230.22441, 409.97433), dir=(1, 0), lethal=False (C#)
[22:32:47] [INFO] [ImpactEffects] spawn_blood_effect called at (230.2244, 409.9743), dir=(1, 0), lethal=false
[22:32:47] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[22:32:47] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[22:32:47] [INFO] [ImpactEffects] Blood effect spawned at (230.2244, 409.9743) (scale=1)
[22:32:47] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[22:32:47] [INFO] [Bullet] Exiting penetration at (259.8124, 387.99918) after traveling 41,666668 pixels through wall
[22:32:47] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[22:32:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(230.2244, 415.9743), shooter_id=1624604937340, bullet_pos=(509.3876, 232.606)
[22:32:47] [INFO] [Bullet] Using shooter_position, distance=334
[22:32:47] [INFO] [Bullet] Distance to wall: 334 (22.7426741718437% of viewport)
[22:32:47] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:32:47] [INFO] [Bullet] Caliber cannot penetrate walls
[22:32:47] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:32:47] [ENEMY] [Enemy5] Player empty ammo - priority attack triggered
[22:32:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(143.7008, 485.8478), source=ENEMY (Enemy5), range=1469, listeners=9
[22:32:47] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=4
[22:32:47] [INFO] [LastChance] Threat detected: Bullet
[22:32:47] [INFO] [LastChance] Not in hard mode - effect disabled
[22:32:47] [INFO] [LastChance] Cannot trigger effect - conditions not met
[22:32:47] [INFO] [Player] Hit blocked by invincibility mode (C#)
[22:32:47] [INFO] [Player] Spawning blood effect at (230.22441, 409.97433), dir=(1, 0), lethal=False (C#)
[22:32:47] [INFO] [ImpactEffects] spawn_blood_effect called at (230.2244, 409.9743), dir=(1, 0), lethal=false
[22:32:47] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[22:32:47] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[22:32:47] [INFO] [ImpactEffects] Blood effect spawned at (230.2244, 409.9743) (scale=1)
[22:32:47] [ENEMY] [Enemy1] FLANKING corner check: angle -69.5°
[22:32:47] [ENEMY] [Enemy2] FLANKING corner check: angle -31.4°
[22:32:47] [ENEMY] [Enemy5] State: COMBAT -> RETREATING
[22:32:47] [ENEMY] [Enemy7] PURSUING corner check: angle 91.0°
[22:32:47] [ENEMY] [Enemy5] Player empty ammo - priority attack triggered
[22:32:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(143.7008, 485.8478), source=ENEMY (Enemy5), range=1469, listeners=9
[22:32:47] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=4
[22:32:47] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(230.2244, 409.9743), source=PLAYER (Player), range=600, listeners=9
[22:32:47] [ENEMY] [Enemy4] Heard player EMPTY_CLICK at (230.2244, 409.9743), intensity=0.07, distance=195
[22:32:47] [ENEMY] [Enemy5] Heard player EMPTY_CLICK at (230.2244, 409.9743), intensity=0.19, distance=115
[22:32:47] [ENEMY] [Enemy5] Vulnerability sound triggered pursuit - transitioning from RETREATING to PURSUING
[22:32:47] [ENEMY] [Enemy6] Heard player EMPTY_CLICK at (230.2244, 409.9743), intensity=0.07, distance=194
[22:32:47] [ENEMY] [Enemy8] Heard player EMPTY_CLICK at (230.2244, 409.9743), intensity=0.03, distance=282
[22:32:47] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=5, self=0, below_threshold=0
[22:32:47] [INFO] [LastChance] Threat detected: Bullet
[22:32:47] [INFO] [LastChance] Not in hard mode - effect disabled
[22:32:47] [INFO] [LastChance] Cannot trigger effect - conditions not met
[22:32:47] [ENEMY] [Enemy5] Pursuing vulnerability sound at (230.2244, 409.9743), distance=115
[22:32:47] [INFO] [Player] Hit blocked by invincibility mode (C#)
[22:32:47] [INFO] [Player] Spawning blood effect at (230.22441, 409.97433), dir=(1, 0), lethal=False (C#)
[22:32:47] [INFO] [ImpactEffects] spawn_blood_effect called at (230.2244, 409.9743), dir=(1, 0), lethal=false
[22:32:47] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[22:32:47] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[22:32:47] [INFO] [ImpactEffects] Blood effect spawned at (230.2244, 409.9743) (scale=1)
[22:32:47] [INFO] [BloodyFeet:Enemy5] Blood ran out - no more footprints
[22:32:47] [ENEMY] [Enemy9] FLANKING started: target=(374.3369, 271.2963), side=left, pos=(966.3604, 622.462)
[22:32:47] [ENEMY] [Enemy9] State: PURSUING -> FLANKING
[22:32:47] [INFO] [BloodDecal] Blood puddle created at (323.8681, 420.6636) (added to group)
[22:32:47] [ENEMY] [Enemy5] Player empty ammo - priority attack triggered
[22:32:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(160.6361, 458.6965), source=ENEMY (Enemy5), range=1469, listeners=9
[22:32:47] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=4
[22:32:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(220.4859, 426.31442), shooter_id=1621954136228, bullet_pos=(220.4859, 426.31442)
[22:32:47] [INFO] [Bullet] Using shooter_position, distance=0
[22:32:47] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[22:32:47] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[22:32:47] [INFO] [Bullet] Starting wall penetration at (220.4859, 426.31442)
[22:32:47] [INFO] [Player] Hit blocked by invincibility mode (C#)
[22:32:47] [INFO] [Player] Spawning blood effect at (230.22441, 409.97433), dir=(1, 0), lethal=False (C#)
[22:32:47] [INFO] [ImpactEffects] spawn_blood_effect called at (230.2244, 409.9743), dir=(1, 0), lethal=false
[22:32:47] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[22:32:47] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[22:32:47] [INFO] [ImpactEffects] Blood effect spawned at (230.2244, 409.9743) (scale=1)
[22:32:47] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[22:32:47] [INFO] [Bullet] Exiting penetration at (258.5572, 399.32635) after traveling 41,666668 pixels through wall
[22:32:47] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[22:32:47] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=140.5°, current=91.1°, player=(230,409), corner_timer=0.23
[22:32:47] [ENEMY] [Enemy4] Player empty ammo - priority attack triggered
[22:32:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(358.8429, 303.9565), source=ENEMY (Enemy4), range=1469, listeners=9
[22:32:47] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=4
[22:32:47] [ENEMY] [Enemy6] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=139.8°, current=104.6°, player=(230,409), corner_timer=0.22
[22:32:47] [ENEMY] [Enemy6] Player empty ammo - priority attack triggered
[22:32:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(356.7738, 303.0811), source=ENEMY (Enemy6), range=1469, listeners=9
[22:32:47] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=4
[22:32:47] [INFO] [BloodDecal] Blood puddle created at (309.1938, 402.8322) (added to group)
[22:32:47] [INFO] [BloodDecal] Blood puddle created at (282.133, 411.971) (added to group)
[22:32:47] [INFO] [LastChance] Threat detected: Bullet
[22:32:47] [INFO] [LastChance] Not in hard mode - effect disabled
[22:32:47] [INFO] [LastChance] Cannot trigger effect - conditions not met
[22:32:47] [INFO] [LastChance] Threat detected: @Area2D@3043
[22:32:47] [INFO] [LastChance] Not in hard mode - effect disabled
[22:32:47] [INFO] [LastChance] Cannot trigger effect - conditions not met
[22:32:47] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[22:32:47] [ENEMY] [Enemy6] State: PURSUING -> COMBAT
[22:32:47] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[22:32:47] [ENEMY] [Enemy6] State: COMBAT -> RETREATING
[22:32:47] [ENEMY] [Enemy8] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=131.8°, current=82.0°, player=(230,409), corner_timer=0.03
[22:32:47] [ENEMY] [Enemy8] Player empty ammo - priority attack triggered
[22:32:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(383.6446, 238.1705), source=ENEMY (Enemy8), range=1469, listeners=9
[22:32:47] [ENEMY] [Enemy4] Heard gunshot at (383.6446, 238.1705), source_type=1, intensity=0.36, distance=83
[22:32:47] [ENEMY] [Enemy6] Heard gunshot at (383.6446, 238.1705), source_type=1, intensity=0.35, distance=84
[22:32:47] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=1, self=1, below_threshold=4
[22:32:47] [INFO] [Player] Hit blocked by invincibility mode (C#)
[22:32:47] [INFO] [Player] Spawning blood effect at (230.22441, 409.97433), dir=(1, 0), lethal=False (C#)
[22:32:47] [INFO] [ImpactEffects] spawn_blood_effect called at (230.2244, 409.9743), dir=(1, 0), lethal=false
[22:32:47] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[22:32:47] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[22:32:47] [INFO] [ImpactEffects] Blood effect spawned at (230.2244, 409.9743) (scale=1)
[22:32:47] [INFO] [Player] Hit blocked by invincibility mode (C#)
[22:32:47] [INFO] [Player] Spawning blood effect at (230.22441, 409.97433), dir=(1, 0), lethal=False (C#)
[22:32:47] [INFO] [ImpactEffects] spawn_blood_effect called at (230.2244, 409.9743), dir=(1, 0), lethal=false
[22:32:47] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[22:32:47] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[22:32:47] [INFO] [ImpactEffects] Blood effect spawned at (230.2244, 409.9743) (scale=1)
[22:32:47] [ENEMY] [Enemy4] Hit: dmg=1, hp=2/2->1/2
[22:32:47] [INFO] [ImpactEffects] spawn_blood_effect called at (344.9366, 311.8694), dir=(1, 0), lethal=false
[22:32:47] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[22:32:47] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[22:32:47] [INFO] [ImpactEffects] Blood effect spawned at (344.9366, 311.8694) (scale=1)
[22:32:47] [ENEMY] [Enemy6] Hit: dmg=1, hp=1/2->0/2
[22:32:47] [INFO] [ImpactEffects] spawn_blood_effect called at (343.834, 312.4919), dir=(1, 0), lethal=true
[22:32:47] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[22:32:47] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[22:32:47] [INFO] [ImpactEffects] Blood effect spawned at (343.834, 312.4919) (scale=1.5)
[22:32:47] [ENEMY] [Enemy6] Enemy died (ricochet: false, penetration: false)
[22:32:47] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[22:32:47] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[22:32:47] [INFO] [PowerFantasy] Starting power fantasy effect:
[22:32:47] [INFO] [PowerFantasy]   - Time scale: 0.10
[22:32:47] [INFO] [PowerFantasy]   - Duration: 300ms
[22:32:47] [ENEMY] [Enemy5] [AllyDeath] Witnessed at (343.834, 312.4919), entering SEARCHING
[22:32:47] [ENEMY] [Enemy5] SEARCHING started: center=(343.834, 312.4919), radius=100, waypoints=5
[22:32:47] [ENEMY] [Enemy8] [AllyDeath] Witnessed at (343.834, 312.4919), entering SEARCHING
[22:32:47] [ENEMY] [Enemy8] SEARCHING started: center=(343.834, 312.4919), radius=100, waypoints=5
[22:32:47] [ENEMY] [Enemy6] [AllyDeath] Notified 3 enemies
[22:32:47] [INFO] [SoundPropagation] Unregistered listener: Enemy6 (remaining: 8)
[22:32:47] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[22:32:47] [ENEMY] [Enemy6] Death animation started with hit direction: (1, 0)
[22:32:47] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[22:32:47] [ENEMY] [Enemy5] SEARCHING: Player spotted! Transitioning to COMBAT
[22:32:47] [ENEMY] [Enemy5] State: SEARCHING -> COMBAT
[22:32:47] [ENEMY] [Enemy8] SEARCHING: Player spotted! Transitioning to COMBAT
[22:32:47] [ENEMY] [Enemy8] State: SEARCHING -> COMBAT
[22:32:47] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:32:47] [INFO] [BloodDecal] Blood puddle created at (320.6018, 411.2619) (added to group)
[22:32:47] [INFO] [BloodDecal] Blood puddle created at (299.6736, 405.9508) (added to group)
[22:32:47] [ENEMY] [Enemy5] State: COMBAT -> RETREATING
[22:32:47] [ENEMY] [Enemy8] State: COMBAT -> RETREATING
[22:32:47] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(230.2244, 409.9743), source=PLAYER (Player), range=600, listeners=8
[22:32:47] [ENEMY] [Enemy4] Heard player EMPTY_CLICK at (230.2244, 409.9743), intensity=0.12, distance=146
[22:32:47] [ENEMY] [Enemy4] Vulnerability sound triggered pursuit - transitioning from RETREATING to PURSUING
[22:32:47] [ENEMY] [Enemy5] Heard player EMPTY_CLICK at (230.2244, 409.9743), intensity=0.78, distance=56
[22:32:47] [ENEMY] [Enemy5] Vulnerability sound triggered pursuit - transitioning from RETREATING to PURSUING
[22:32:47] [ENEMY] [Enemy8] Heard player EMPTY_CLICK at (230.2244, 409.9743), intensity=0.05, distance=219
[22:32:47] [ENEMY] [Enemy8] Vulnerability sound triggered pursuit - transitioning from RETREATING to PURSUING
[22:32:47] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=5, self=0, below_threshold=0
[22:32:47] [ENEMY] [Enemy4] ROT_CHANGE: P1:visible -> P2:combat_state, state=PURSUING, target=139.1°, current=-136.1°, player=(230,409), corner_timer=0.23
[22:32:47] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=753), can_see=false
[22:32:47] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=753), can_see=false
[22:32:47] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=144), can_see=false
[22:32:47] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=815), can_see=false
[22:32:47] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=752), can_see=false
[22:32:47] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1511), can_see=false
[22:32:47] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[22:32:47] [INFO] [ReplayManager] Recording frame 2340 (38,6s): player_valid=True, enemies=10
[22:32:47] [INFO] [ReplayManager] Recording frame 2340 (38,6s): player_valid=True, enemies=10
[22:32:47] [INFO] [ReplayManager] Recording frame 2340 (38,6s): player_valid=True, enemies=10
[22:32:47] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:32:47] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[22:32:47] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[22:32:47] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[22:32:47] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[22:32:47] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[22:32:47] [INFO] [LastChance] Resetting all effects (scene change detected)
[22:32:47] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[22:32:47] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[22:32:47] [ENEMY] [Enemy1] Death animation component initialized
[22:32:47] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:32:47] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[22:32:47] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[22:32:47] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[22:32:47] [ENEMY] [Enemy2] Death animation component initialized
[22:32:47] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:32:47] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[22:32:47] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[22:32:47] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[22:32:47] [ENEMY] [Enemy3] Death animation component initialized
[22:32:47] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:32:47] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[22:32:47] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[22:32:47] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[22:32:47] [ENEMY] [Enemy4] Death animation component initialized
[22:32:47] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:32:47] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[22:32:47] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[22:32:47] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[22:32:47] [ENEMY] [Enemy5] Death animation component initialized
[22:32:47] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:32:47] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[22:32:47] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[22:32:47] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[22:32:47] [ENEMY] [Enemy6] Death animation component initialized
[22:32:47] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:32:47] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[22:32:47] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[22:32:47] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[22:32:47] [ENEMY] [Enemy7] Death animation component initialized
[22:32:47] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:32:47] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[22:32:47] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[22:32:47] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[22:32:47] [ENEMY] [Enemy8] Death animation component initialized
[22:32:47] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:32:47] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[22:32:47] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[22:32:47] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[22:32:47] [ENEMY] [Enemy9] Death animation component initialized
[22:32:47] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:32:47] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[22:32:47] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[22:32:47] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[22:32:47] [ENEMY] [Enemy10] Death animation component initialized
[22:32:47] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:32:47] [INFO] [BloodyFeet:Player] Footprint scene loaded
[22:32:47] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[22:32:47] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[22:32:47] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[22:32:47] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[22:32:47] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[22:32:47] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[22:32:47] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[22:32:47] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[22:32:47] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[22:32:47] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: True
[22:32:47] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[22:32:47] [INFO] [Player] Ready! Ammo: 9/9, Grenades: 1/3, Health: 10/10
[22:32:47] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[22:32:47] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[22:32:47] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[22:32:47] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[22:32:47] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[22:32:47] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[22:32:47] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[22:32:47] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[22:32:47] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[22:32:47] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[22:32:47] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[22:32:47] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[22:32:47] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[22:32:47] [INFO] [BuildingLevel] Setting up weapon: makarov_pm
[22:32:47] [INFO] [ScoreManager] Level started with 10 enemies
[22:32:47] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[22:32:47] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[22:32:47] [INFO] [ReplayManager] Replay data cleared
[22:32:47] [INFO] [BuildingLevel] Previous replay data cleared
[22:32:47] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[22:32:47] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[22:32:47] [INFO] [ReplayManager] Level: BuildingLevel
[22:32:47] [INFO] [ReplayManager] Player: Player (valid: True)
[22:32:47] [INFO] [ReplayManager] Enemies count: 10
[22:32:47] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[22:32:47] [INFO] [ReplayManager]   Enemy 0: Enemy1
[22:32:47] [INFO] [ReplayManager]   Enemy 1: Enemy2
[22:32:47] [INFO] [ReplayManager]   Enemy 2: Enemy3
[22:32:47] [INFO] [ReplayManager]   Enemy 3: Enemy4
[22:32:47] [INFO] [ReplayManager]   Enemy 4: Enemy5
[22:32:47] [INFO] [ReplayManager]   Enemy 5: Enemy6
[22:32:47] [INFO] [ReplayManager]   Enemy 6: Enemy7
[22:32:47] [INFO] [ReplayManager]   Enemy 7: Enemy8
[22:32:47] [INFO] [ReplayManager]   Enemy 8: Enemy9
[22:32:47] [INFO] [ReplayManager]   Enemy 9: Enemy10
[22:32:47] [INFO] [BuildingLevel] Replay recording started successfully
[22:32:47] [INFO] [BloodDecal] Blood puddle created at (343.7717, 404.2046) (added to group)
[22:32:47] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[22:32:47] [INFO] [CinemaEffects] Found player node: Player
[22:32:47] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[22:32:47] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 9)
[22:32:47] [ENEMY] [Enemy1] Registered as sound listener
[22:32:47] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 4, behavior: GUARD
[22:32:47] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[22:32:47] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 10)
[22:32:47] [ENEMY] [Enemy2] Registered as sound listener
[22:32:47] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 4, behavior: GUARD
[22:32:47] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[22:32:47] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 11)
[22:32:47] [ENEMY] [Enemy3] Registered as sound listener
[22:32:47] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 4, behavior: GUARD
[22:32:47] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[22:32:47] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 12)
[22:32:47] [ENEMY] [Enemy4] Registered as sound listener
[22:32:47] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 2, behavior: GUARD
[22:32:47] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[22:32:47] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 13)
[22:32:47] [ENEMY] [Enemy5] Registered as sound listener
[22:32:47] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 3, behavior: GUARD
[22:32:47] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[22:32:47] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 14)
[22:32:47] [ENEMY] [Enemy6] Registered as sound listener
[22:32:47] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 3, behavior: GUARD
[22:32:47] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[22:32:47] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 15)
[22:32:47] [ENEMY] [Enemy7] Registered as sound listener
[22:32:47] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 4, behavior: PATROL
[22:32:47] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[22:32:47] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 16)
[22:32:47] [ENEMY] [Enemy8] Registered as sound listener
[22:32:47] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 2, behavior: GUARD
[22:32:47] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[22:32:47] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 17)
[22:32:47] [ENEMY] [Enemy9] Registered as sound listener
[22:32:47] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 2, behavior: GUARD
[22:32:47] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[22:32:47] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 18)
[22:32:47] [ENEMY] [Enemy10] Registered as sound listener
[22:32:47] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 3, behavior: PATROL
[22:32:47] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[22:32:47] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[22:32:47] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:32:47] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:32:47] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=281.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:32:47] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:32:47] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:32:47] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:32:47] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:32:47] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:32:47] [INFO] [Player] Detecting weapon pose (frame 3)...
[22:32:47] [INFO] [Player] Detected weapon: Makarov PM (Pistol pose)
[22:32:47] [INFO] [Player] Applied Pistol arm pose: Left=(16, 6), Right=(4, 6)
[22:32:47] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[22:32:47] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[22:32:47] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[22:32:47] [INFO] [LastChance] Found player: Player
[22:32:47] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[22:32:47] [INFO] [LastChance] Connected to player Damaged signal (C#)
[22:32:47] [INFO] [LastChance] Connected to player Died signal (C#)
[22:32:47] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[22:32:47] [INFO] [BloodDecal] Blood puddle created at (320.283, 410.9066) (added to group)
[22:32:47] [INFO] [BloodDecal] Blood puddle created at (303.0337, 425.2871) (added to group)
[22:32:47] [INFO] [BloodDecal] Blood puddle created at (342.3959, 424.1217) (added to group)
[22:32:47] [INFO] [BloodDecal] Blood puddle created at (337.5793, 385.0054) (added to group)
[22:32:47] [INFO] [BloodDecal] Blood puddle created at (300.4784, 411.8153) (added to group)
[22:32:47] [INFO] [BloodDecal] Blood puddle created at (408.5731, 309.5033) (added to group)
[22:32:47] [INFO] [BloodDecal] Blood puddle created at (276.9121, 409.4777) (added to group)
[22:32:47] [INFO] [BloodDecal] Blood puddle created at (407.9213, 310.7741) (added to group)
[22:32:47] [INFO] [BloodDecal] Blood puddle created at (393.3685, 335.7903) (added to group)
[22:32:47] [INFO] [BloodDecal] Blood puddle created at (410.6966, 333.4448) (added to group)
[22:32:47] [INFO] [BloodDecal] Blood puddle created at (392.8626, 354.2712) (added to group)
[22:32:47] [INFO] [BloodDecal] Blood puddle created at (412.1002, 306.7234) (added to group)
[22:32:47] [INFO] [BloodDecal] Blood puddle created at (424.424, 324.1015) (added to group)
[22:32:48] [INFO] [BloodDecal] Blood puddle created at (453.252, 334.35) (added to group)
[22:32:48] [INFO] [BloodDecal] Blood puddle created at (406.6234, 356.3981) (added to group)
[22:32:48] [INFO] [BloodDecal] Blood puddle created at (350.115, 397.7207) (added to group)
[22:32:48] [INFO] [BloodDecal] Blood puddle created at (328.1921, 401.6298) (added to group)
[22:32:48] [INFO] [BloodDecal] Blood puddle created at (470.1803, 363.8741) (added to group)
[22:32:48] [INFO] [BloodDecal] Blood puddle created at (436.9731, 323.3345) (added to group)
[22:32:48] [INFO] [BloodDecal] Blood puddle created at (465.44, 347.7186) (added to group)
[22:32:48] [INFO] [BloodDecal] Blood puddle created at (418.9165, 377.8307) (added to group)
[22:32:48] [INFO] [BloodDecal] Blood puddle created at (421.772, 330.983) (added to group)
[22:32:48] [INFO] [BloodDecal] Blood puddle created at (428.1275, 409.5005) (added to group)
[22:32:48] [INFO] [BloodDecal] Blood puddle created at (490.9002, 405.3436) (added to group)
[22:32:48] [INFO] [BloodDecal] Blood puddle created at (492.6825, 319.3569) (added to group)
[22:32:48] [INFO] [BloodDecal] Blood puddle created at (429.5313, 420.966) (added to group)
[22:32:48] [INFO] [BloodDecal] Blood puddle created at (467.5291, 415.4356) (added to group)
[22:32:48] [INFO] [BloodDecal] Blood puddle created at (459.1664, 443.9535) (added to group)
[22:32:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 1256), source=PLAYER (MakarovPM), range=1469, listeners=18
[22:32:48] [INFO] [SoundPropagation] Cleaned up 8 invalid listeners
[22:32:48] [ENEMY] [Enemy4] Heard gunshot at (450, 1256), source_type=0, intensity=0.01, distance=499
[22:32:48] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=6
[22:32:48] [INFO] [BloodDecal] Blood puddle created at (479.8477, 441.508) (added to group)
[22:32:48] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=135.0°, current=-100.3°, player=(450,1250), corner_timer=0.00
[22:32:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 1256), source=PLAYER (MakarovPM), range=1469, listeners=10
[22:32:48] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=6
[22:32:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(450, 1256), shooter_id=2954081866000, bullet_pos=(754.3688, 1021.873)
[22:32:48] [INFO] [Bullet] Using shooter_position, distance=383.999542236328
[22:32:48] [INFO] [Bullet] Distance to wall: 383.999542236328 (26.1472349437663% of viewport)
[22:32:48] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:32:48] [INFO] [Bullet] Caliber cannot penetrate walls
[22:32:48] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[22:32:48] [ENEMY] [Enemy3] Memory: medium confidence (0.59) - transitioning to PURSUING
[22:32:48] [ENEMY] [Enemy3] State: IDLE -> PURSUING
[22:32:48] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=116.6°, current=-78.7°, player=(450,1250), corner_timer=0.00
[22:32:48] [ENEMY] [Enemy3] PURSUING corner check: angle -129.3°
[22:32:48] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[22:32:48] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P4:velocity, state=RETREATING, target=-175.8°, current=112.2°, player=(450,1250), corner_timer=0.00
[22:32:48] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[22:32:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 1256), source=PLAYER (MakarovPM), range=1469, listeners=10
[22:32:48] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=6
[22:32:48] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[22:32:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(450, 1256), shooter_id=2954081866000, bullet_pos=(771.6363, 1017.079)
[22:32:48] [INFO] [Bullet] Using shooter_position, distance=400.665924072266
[22:32:48] [INFO] [Bullet] Distance to wall: 400.665924072266 (27.2820795297491% of viewport)
[22:32:48] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:32:48] [INFO] [Bullet] Caliber cannot penetrate walls
[22:32:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 1256), source=PLAYER (MakarovPM), range=1469, listeners=10
[22:32:48] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=6
[22:32:49] [ENEMY] [Enemy3] PURSUING corner check: angle -161.0°
[22:32:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 1256), source=PLAYER (MakarovPM), range=1469, listeners=10
[22:32:49] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=5
[22:32:49] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(450, 1256), shooter_id=2954081866000, bullet_pos=(795.8633, 1022.448)
[22:32:49] [INFO] [Bullet] Using shooter_position, distance=417.334197998047
[22:32:49] [INFO] [Bullet] Distance to wall: 417.334197998047 (28.4170529516086% of viewport)
[22:32:49] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:32:49] [INFO] [Bullet] Caliber cannot penetrate walls
[22:32:49] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[22:32:49] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[22:32:49] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,1250), corner_timer=0.30
[22:32:49] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,1250), corner_timer=0.30
[22:32:49] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(450, 1256), shooter_id=2954081866000, bullet_pos=(774.5004, 1020.982)
[22:32:49] [INFO] [Bullet] Using shooter_position, distance=400.666900634766
[22:32:49] [INFO] [Bullet] Distance to wall: 400.666900634766 (27.2821460256855% of viewport)
[22:32:49] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:32:49] [INFO] [Bullet] Caliber cannot penetrate walls
[22:32:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 1256), source=PLAYER (MakarovPM), range=1469, listeners=10
[22:32:49] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=5
[22:32:49] [ENEMY] [Enemy3] PURSUING corner check: angle 19.0°
[22:32:49] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(450, 1256), shooter_id=2954081866000, bullet_pos=(815.0035, 1021.207)
[22:32:49] [INFO] [Bullet] Using shooter_position, distance=433.998962402344
[22:32:49] [INFO] [Bullet] Distance to wall: 433.998962402344 (29.5517874036969% of viewport)
[22:32:49] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:32:49] [INFO] [Bullet] Caliber cannot penetrate walls
[22:32:49] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(450,1250), corner_timer=-0.02
[22:32:49] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[22:32:49] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.7°, player=(450,1250), corner_timer=-0.02
[22:32:49] [ENEMY] [Enemy10] PATROL corner check: angle 14.6°
[22:32:49] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(450,1250), corner_timer=0.30
[22:32:49] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.6°, current=53.0°, player=(450,1250), corner_timer=0.30
[22:32:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 1256), source=PLAYER (MakarovPM), range=1469, listeners=10
[22:32:49] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=5
[22:32:49] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[22:32:49] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[22:32:49] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:32:49] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[22:32:49] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[22:32:49] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[22:32:49] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[22:32:49] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[22:32:49] [INFO] [LastChance] Resetting all effects (scene change detected)
[22:32:49] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[22:32:49] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[22:32:49] [ENEMY] [Enemy1] Death animation component initialized
[22:32:49] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:32:49] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[22:32:49] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[22:32:49] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[22:32:49] [ENEMY] [Enemy2] Death animation component initialized
[22:32:49] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:32:49] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[22:32:49] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[22:32:49] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[22:32:49] [ENEMY] [Enemy3] Death animation component initialized
[22:32:49] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:32:49] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[22:32:49] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[22:32:49] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[22:32:49] [ENEMY] [Enemy4] Death animation component initialized
[22:32:49] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:32:49] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[22:32:49] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[22:32:49] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[22:32:49] [ENEMY] [Enemy5] Death animation component initialized
[22:32:49] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:32:49] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[22:32:49] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[22:32:49] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[22:32:49] [ENEMY] [Enemy6] Death animation component initialized
[22:32:49] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:32:49] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[22:32:49] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[22:32:49] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[22:32:49] [ENEMY] [Enemy7] Death animation component initialized
[22:32:49] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:32:49] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[22:32:49] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[22:32:49] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[22:32:49] [ENEMY] [Enemy8] Death animation component initialized
[22:32:49] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:32:49] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[22:32:49] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[22:32:49] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[22:32:49] [ENEMY] [Enemy9] Death animation component initialized
[22:32:49] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:32:49] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[22:32:49] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[22:32:49] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[22:32:49] [ENEMY] [Enemy10] Death animation component initialized
[22:32:49] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:32:49] [INFO] [BloodyFeet:Player] Footprint scene loaded
[22:32:49] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[22:32:49] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[22:32:49] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[22:32:49] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[22:32:49] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[22:32:49] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[22:32:49] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[22:32:49] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[22:32:49] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[22:32:49] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: True
[22:32:49] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[22:32:49] [INFO] [Player] Ready! Ammo: 9/9, Grenades: 1/3, Health: 10/10
[22:32:49] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[22:32:49] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[22:32:49] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[22:32:49] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[22:32:49] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[22:32:49] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[22:32:49] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[22:32:49] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[22:32:49] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[22:32:49] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[22:32:49] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[22:32:49] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[22:32:49] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[22:32:49] [INFO] [BuildingLevel] Setting up weapon: makarov_pm
[22:32:49] [INFO] [ScoreManager] Level started with 10 enemies
[22:32:49] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[22:32:49] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[22:32:49] [INFO] [ReplayManager] Replay data cleared
[22:32:49] [INFO] [BuildingLevel] Previous replay data cleared
[22:32:49] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[22:32:49] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[22:32:49] [INFO] [ReplayManager] Level: BuildingLevel
[22:32:49] [INFO] [ReplayManager] Player: Player (valid: True)
[22:32:49] [INFO] [ReplayManager] Enemies count: 10
[22:32:49] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[22:32:49] [INFO] [ReplayManager]   Enemy 0: Enemy1
[22:32:49] [INFO] [ReplayManager]   Enemy 1: Enemy2
[22:32:49] [INFO] [ReplayManager]   Enemy 2: Enemy3
[22:32:49] [INFO] [ReplayManager]   Enemy 3: Enemy4
[22:32:49] [INFO] [ReplayManager]   Enemy 4: Enemy5
[22:32:49] [INFO] [ReplayManager]   Enemy 5: Enemy6
[22:32:49] [INFO] [ReplayManager]   Enemy 6: Enemy7
[22:32:49] [INFO] [ReplayManager]   Enemy 7: Enemy8
[22:32:49] [INFO] [ReplayManager]   Enemy 8: Enemy9
[22:32:49] [INFO] [ReplayManager]   Enemy 9: Enemy10
[22:32:49] [INFO] [BuildingLevel] Replay recording started successfully
[22:32:49] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[22:32:49] [INFO] [CinemaEffects] Found player node: Player
[22:32:49] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[22:32:49] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[22:32:49] [ENEMY] [Enemy1] Registered as sound listener
[22:32:49] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 4, behavior: GUARD
[22:32:49] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[22:32:49] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[22:32:49] [ENEMY] [Enemy2] Registered as sound listener
[22:32:49] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 4, behavior: GUARD
[22:32:49] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[22:32:49] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[22:32:49] [ENEMY] [Enemy3] Registered as sound listener
[22:32:49] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 2, behavior: GUARD
[22:32:49] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[22:32:49] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[22:32:49] [ENEMY] [Enemy4] Registered as sound listener
[22:32:49] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 2, behavior: GUARD
[22:32:49] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[22:32:49] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[22:32:49] [ENEMY] [Enemy5] Registered as sound listener
[22:32:49] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 3, behavior: GUARD
[22:32:49] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[22:32:49] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[22:32:49] [ENEMY] [Enemy6] Registered as sound listener
[22:32:49] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 2, behavior: GUARD
[22:32:49] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[22:32:49] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[22:32:49] [ENEMY] [Enemy7] Registered as sound listener
[22:32:49] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 4, behavior: PATROL
[22:32:49] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[22:32:49] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[22:32:49] [ENEMY] [Enemy8] Registered as sound listener
[22:32:49] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 3, behavior: GUARD
[22:32:49] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[22:32:49] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[22:32:49] [ENEMY] [Enemy9] Registered as sound listener
[22:32:49] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 3, behavior: GUARD
[22:32:49] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[22:32:49] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[22:32:49] [ENEMY] [Enemy10] Registered as sound listener
[22:32:49] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 4, behavior: PATROL
[22:32:49] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[22:32:49] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[22:32:49] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=33.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:32:49] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=45.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:32:49] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:32:49] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:32:49] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:32:49] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:32:49] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:32:49] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:32:49] [INFO] [Player] Detecting weapon pose (frame 3)...
[22:32:49] [INFO] [Player] Detected weapon: Makarov PM (Pistol pose)
[22:32:49] [INFO] [Player] Applied Pistol arm pose: Left=(16, 6), Right=(4, 6)
[22:32:49] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[22:32:49] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[22:32:49] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[22:32:49] [INFO] [LastChance] Found player: Player
[22:32:49] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[22:32:49] [INFO] [LastChance] Connected to player Damaged signal (C#)
[22:32:49] [INFO] [LastChance] Connected to player Died signal (C#)
[22:32:49] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[22:32:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 1256), source=PLAYER (MakarovPM), range=1469, listeners=20
[22:32:50] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[22:32:50] [ENEMY] [Enemy4] Heard gunshot at (450, 1256), source_type=0, intensity=0.01, distance=499
[22:32:50] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=6
[22:32:50] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=135.0°, current=97.4°, player=(450,1250), corner_timer=0.00
[22:32:50] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[22:32:50] [ENEMY] [Enemy3] Memory: medium confidence (0.59) - transitioning to PURSUING
[22:32:50] [ENEMY] [Enemy3] State: IDLE -> PURSUING
[22:32:50] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=116.6°, current=-33.8°, player=(450,1250), corner_timer=0.00
[22:32:50] [ENEMY] [Enemy3] PURSUING corner check: angle -129.3°
[22:32:50] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[22:32:50] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[22:32:50] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:32:50] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[22:32:50] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[22:32:50] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[22:32:50] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[22:32:50] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[22:32:50] [INFO] [LastChance] Resetting all effects (scene change detected)
[22:32:50] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[22:32:50] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[22:32:50] [ENEMY] [Enemy1] Death animation component initialized
[22:32:50] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:32:50] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[22:32:50] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[22:32:50] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[22:32:50] [ENEMY] [Enemy2] Death animation component initialized
[22:32:50] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:32:50] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[22:32:50] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[22:32:50] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[22:32:50] [ENEMY] [Enemy3] Death animation component initialized
[22:32:50] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:32:50] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[22:32:50] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[22:32:50] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[22:32:50] [INFO] [EnemyGrenade] Initialized: 1 grenades
[22:32:50] [ENEMY] [Enemy4] Death animation component initialized
[22:32:50] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:32:50] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[22:32:50] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[22:32:50] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[22:32:50] [ENEMY] [Enemy5] Death animation component initialized
[22:32:50] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:32:50] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[22:32:50] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[22:32:50] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[22:32:50] [ENEMY] [Enemy6] Death animation component initialized
[22:32:50] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:32:50] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[22:32:50] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[22:32:50] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[22:32:51] [ENEMY] [Enemy7] Death animation component initialized
[22:32:51] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:32:51] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[22:32:51] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[22:32:51] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[22:32:51] [ENEMY] [Enemy8] Death animation component initialized
[22:32:51] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:32:51] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[22:32:51] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[22:32:51] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[22:32:51] [ENEMY] [Enemy9] Death animation component initialized
[22:32:51] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:32:51] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[22:32:51] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[22:32:51] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[22:32:51] [ENEMY] [Enemy10] Death animation component initialized
[22:32:51] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:32:51] [INFO] [BloodyFeet:Player] Footprint scene loaded
[22:32:51] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[22:32:51] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[22:32:51] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[22:32:51] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[22:32:51] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[22:32:51] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[22:32:51] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[22:32:51] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[22:32:51] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[22:32:51] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: True
[22:32:51] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[22:32:51] [INFO] [Player] Ready! Ammo: 9/9, Grenades: 1/3, Health: 10/10
[22:32:51] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[22:32:51] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[22:32:51] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[22:32:51] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[22:32:51] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[22:32:51] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[22:32:51] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[22:32:51] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[22:32:51] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[22:32:51] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[22:32:51] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[22:32:51] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[22:32:51] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[22:32:51] [INFO] [BuildingLevel] Setting up weapon: makarov_pm
[22:32:51] [INFO] [ScoreManager] Level started with 10 enemies
[22:32:51] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[22:32:51] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[22:32:51] [INFO] [ReplayManager] Replay data cleared
[22:32:51] [INFO] [BuildingLevel] Previous replay data cleared
[22:32:51] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[22:32:51] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[22:32:51] [INFO] [ReplayManager] Level: BuildingLevel
[22:32:51] [INFO] [ReplayManager] Player: Player (valid: True)
[22:32:51] [INFO] [ReplayManager] Enemies count: 10
[22:32:51] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[22:32:51] [INFO] [ReplayManager]   Enemy 0: Enemy1
[22:32:51] [INFO] [ReplayManager]   Enemy 1: Enemy2
[22:32:51] [INFO] [ReplayManager]   Enemy 2: Enemy3
[22:32:51] [INFO] [ReplayManager]   Enemy 3: Enemy4
[22:32:51] [INFO] [ReplayManager]   Enemy 4: Enemy5
[22:32:51] [INFO] [ReplayManager]   Enemy 5: Enemy6
[22:32:51] [INFO] [ReplayManager]   Enemy 6: Enemy7
[22:32:51] [INFO] [ReplayManager]   Enemy 7: Enemy8
[22:32:51] [INFO] [ReplayManager]   Enemy 8: Enemy9
[22:32:51] [INFO] [ReplayManager]   Enemy 9: Enemy10
[22:32:51] [INFO] [BuildingLevel] Replay recording started successfully
[22:32:51] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[22:32:51] [INFO] [CinemaEffects] Found player node: Player
[22:32:51] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[22:32:51] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[22:32:51] [ENEMY] [Enemy1] Registered as sound listener
[22:32:51] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 3, behavior: GUARD
[22:32:51] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[22:32:51] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[22:32:51] [ENEMY] [Enemy2] Registered as sound listener
[22:32:51] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 3, behavior: GUARD
[22:32:51] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[22:32:51] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[22:32:51] [ENEMY] [Enemy3] Registered as sound listener
[22:32:51] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 3, behavior: GUARD
[22:32:51] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[22:32:51] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[22:32:51] [ENEMY] [Enemy4] Registered as sound listener
[22:32:51] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 4, behavior: GUARD
[22:32:51] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[22:32:51] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[22:32:51] [ENEMY] [Enemy5] Registered as sound listener
[22:32:51] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 3, behavior: GUARD
[22:32:51] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[22:32:51] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[22:32:51] [ENEMY] [Enemy6] Registered as sound listener
[22:32:51] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 4, behavior: GUARD
[22:32:51] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[22:32:51] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[22:32:51] [ENEMY] [Enemy7] Registered as sound listener
[22:32:51] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 2, behavior: PATROL
[22:32:51] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[22:32:51] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[22:32:51] [ENEMY] [Enemy8] Registered as sound listener
[22:32:51] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 3, behavior: GUARD
[22:32:51] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[22:32:51] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[22:32:51] [ENEMY] [Enemy9] Registered as sound listener
[22:32:51] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 3, behavior: GUARD
[22:32:51] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[22:32:51] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[22:32:51] [ENEMY] [Enemy10] Registered as sound listener
[22:32:51] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 4, behavior: PATROL
[22:32:51] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[22:32:51] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[22:32:51] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:32:51] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:32:51] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=236.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:32:51] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:32:51] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:32:51] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:32:51] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:32:51] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:32:51] [INFO] [Player] Detecting weapon pose (frame 3)...
[22:32:51] [INFO] [Player] Detected weapon: Makarov PM (Pistol pose)
[22:32:51] [INFO] [Player] Applied Pistol arm pose: Left=(16, 6), Right=(4, 6)
[22:32:51] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[22:32:51] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[22:32:51] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[22:32:51] [INFO] [LastChance] Found player: Player
[22:32:51] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[22:32:51] [INFO] [LastChance] Connected to player Damaged signal (C#)
[22:32:51] [INFO] [LastChance] Connected to player Died signal (C#)
[22:32:51] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[22:32:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 1256), source=PLAYER (MakarovPM), range=1469, listeners=20
[22:32:51] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[22:32:51] [ENEMY] [Enemy4] Heard gunshot at (450, 1256), source_type=0, intensity=0.01, distance=499
[22:32:51] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=6
[22:32:51] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=135.0°, current=68.8°, player=(450,1250), corner_timer=0.00
[22:32:51] [ENEMY] [Enemy3] Memory: medium confidence (0.62) - transitioning to PURSUING
[22:32:51] [ENEMY] [Enemy3] State: IDLE -> PURSUING
[22:32:51] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=116.6°, current=-88.8°, player=(450,1250), corner_timer=0.00
[22:32:51] [ENEMY] [Enemy3] PURSUING corner check: angle -129.3°
[22:32:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 1256), source=PLAYER (MakarovPM), range=1469, listeners=10
[22:32:51] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=6
[22:32:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 1256), source=PLAYER (MakarovPM), range=1469, listeners=10
[22:32:51] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=6
[22:32:51] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 1256), source=PLAYER (MakarovPM), range=1469, listeners=10
[22:32:51] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=5
[22:32:51] [ENEMY] [Enemy3] PURSUING corner check: angle -161.0°
[22:32:51] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[22:32:51] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[22:32:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 1256), source=PLAYER (MakarovPM), range=1469, listeners=10
[22:32:52] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=5
[22:32:52] [ENEMY] [Enemy3] PURSUING corner check: angle 19.0°
[22:32:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 1256), source=PLAYER (MakarovPM), range=1469, listeners=10
[22:32:52] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=5
[22:32:52] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[22:32:52] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[22:32:52] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,1250), corner_timer=0.30
[22:32:52] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,1250), corner_timer=0.30
[22:32:52] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[22:32:52] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:32:52] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[22:32:52] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[22:32:52] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[22:32:52] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[22:32:52] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[22:32:52] [INFO] [LastChance] Resetting all effects (scene change detected)
[22:32:52] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[22:32:52] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[22:32:52] [ENEMY] [Enemy1] Death animation component initialized
[22:32:52] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:32:52] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[22:32:52] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[22:32:52] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[22:32:52] [ENEMY] [Enemy2] Death animation component initialized
[22:32:52] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:32:52] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[22:32:52] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[22:32:52] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[22:32:52] [ENEMY] [Enemy3] Death animation component initialized
[22:32:52] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:32:52] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[22:32:52] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[22:32:52] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[22:32:52] [ENEMY] [Enemy4] Death animation component initialized
[22:32:52] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:32:52] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[22:32:52] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[22:32:52] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[22:32:52] [ENEMY] [Enemy5] Death animation component initialized
[22:32:52] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:32:52] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[22:32:52] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[22:32:52] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[22:32:52] [ENEMY] [Enemy6] Death animation component initialized
[22:32:52] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:32:52] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[22:32:52] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[22:32:52] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[22:32:52] [INFO] [EnemyGrenade] Initialized: 1 grenades
[22:32:52] [ENEMY] [Enemy7] Death animation component initialized
[22:32:52] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:32:52] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[22:32:52] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[22:32:52] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[22:32:52] [ENEMY] [Enemy8] Death animation component initialized
[22:32:52] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:32:52] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[22:32:52] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[22:32:52] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[22:32:52] [ENEMY] [Enemy9] Death animation component initialized
[22:32:52] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:32:52] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[22:32:52] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[22:32:52] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[22:32:52] [ENEMY] [Enemy10] Death animation component initialized
[22:32:52] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:32:52] [INFO] [BloodyFeet:Player] Footprint scene loaded
[22:32:52] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[22:32:52] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[22:32:52] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[22:32:52] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[22:32:52] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[22:32:52] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[22:32:52] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[22:32:52] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[22:32:52] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[22:32:52] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: True
[22:32:52] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[22:32:52] [INFO] [Player] Ready! Ammo: 9/9, Grenades: 1/3, Health: 10/10
[22:32:52] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[22:32:52] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[22:32:52] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[22:32:52] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[22:32:52] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[22:32:52] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[22:32:52] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[22:32:52] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[22:32:52] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[22:32:52] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[22:32:52] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[22:32:52] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[22:32:52] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[22:32:52] [INFO] [BuildingLevel] Setting up weapon: makarov_pm
[22:32:52] [INFO] [ScoreManager] Level started with 10 enemies
[22:32:52] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[22:32:52] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[22:32:52] [INFO] [ReplayManager] Replay data cleared
[22:32:52] [INFO] [BuildingLevel] Previous replay data cleared
[22:32:52] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[22:32:52] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[22:32:52] [INFO] [ReplayManager] Level: BuildingLevel
[22:32:52] [INFO] [ReplayManager] Player: Player (valid: True)
[22:32:52] [INFO] [ReplayManager] Enemies count: 10
[22:32:52] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[22:32:52] [INFO] [ReplayManager]   Enemy 0: Enemy1
[22:32:52] [INFO] [ReplayManager]   Enemy 1: Enemy2
[22:32:52] [INFO] [ReplayManager]   Enemy 2: Enemy3
[22:32:52] [INFO] [ReplayManager]   Enemy 3: Enemy4
[22:32:52] [INFO] [ReplayManager]   Enemy 4: Enemy5
[22:32:52] [INFO] [ReplayManager]   Enemy 5: Enemy6
[22:32:52] [INFO] [ReplayManager]   Enemy 6: Enemy7
[22:32:52] [INFO] [ReplayManager]   Enemy 7: Enemy8
[22:32:52] [INFO] [ReplayManager]   Enemy 8: Enemy9
[22:32:52] [INFO] [ReplayManager]   Enemy 9: Enemy10
[22:32:52] [INFO] [BuildingLevel] Replay recording started successfully
[22:32:52] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[22:32:52] [INFO] [CinemaEffects] Found player node: Player
[22:32:52] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[22:32:52] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[22:32:52] [ENEMY] [Enemy1] Registered as sound listener
[22:32:52] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 4, behavior: GUARD
[22:32:52] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[22:32:52] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[22:32:52] [ENEMY] [Enemy2] Registered as sound listener
[22:32:52] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 4, behavior: GUARD
[22:32:52] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[22:32:52] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[22:32:52] [ENEMY] [Enemy3] Registered as sound listener
[22:32:52] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 2, behavior: GUARD
[22:32:52] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[22:32:52] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[22:32:52] [ENEMY] [Enemy4] Registered as sound listener
[22:32:52] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 2, behavior: GUARD
[22:32:52] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[22:32:52] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[22:32:52] [ENEMY] [Enemy5] Registered as sound listener
[22:32:52] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 3, behavior: GUARD
[22:32:52] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[22:32:52] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[22:32:52] [ENEMY] [Enemy6] Registered as sound listener
[22:32:52] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 4, behavior: GUARD
[22:32:52] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[22:32:52] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[22:32:52] [ENEMY] [Enemy7] Registered as sound listener
[22:32:52] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 2, behavior: PATROL
[22:32:52] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[22:32:52] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[22:32:52] [ENEMY] [Enemy8] Registered as sound listener
[22:32:52] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 4, behavior: GUARD
[22:32:52] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[22:32:52] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[22:32:52] [ENEMY] [Enemy9] Registered as sound listener
[22:32:52] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 2, behavior: GUARD
[22:32:52] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[22:32:52] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[22:32:52] [ENEMY] [Enemy10] Registered as sound listener
[22:32:52] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 3, behavior: PATROL
[22:32:52] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[22:32:52] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[22:32:52] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:32:52] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:32:52] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:32:52] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:32:52] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=180.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:32:52] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=337.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:32:52] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:32:52] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:32:52] [INFO] [Player] Detecting weapon pose (frame 3)...
[22:32:52] [INFO] [Player] Detected weapon: Makarov PM (Pistol pose)
[22:32:52] [INFO] [Player] Applied Pistol arm pose: Left=(16, 6), Right=(4, 6)
[22:32:52] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[22:32:52] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[22:32:52] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[22:32:52] [INFO] [LastChance] Found player: Player
[22:32:52] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[22:32:52] [INFO] [LastChance] Connected to player Damaged signal (C#)
[22:32:52] [INFO] [LastChance] Connected to player Died signal (C#)
[22:32:52] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[22:32:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 1256), source=PLAYER (MakarovPM), range=1469, listeners=20
[22:32:53] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[22:32:53] [ENEMY] [Enemy4] Heard gunshot at (450, 1256), source_type=0, intensity=0.01, distance=499
[22:32:53] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=6
[22:32:53] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=135.0°, current=65.9°, player=(450,1250), corner_timer=0.00
[22:32:53] [ENEMY] [Enemy3] Memory: medium confidence (0.62) - transitioning to PURSUING
[22:32:53] [ENEMY] [Enemy3] State: IDLE -> PURSUING
[22:32:53] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=116.6°, current=-88.8°, player=(450,1250), corner_timer=0.00
[22:32:53] [ENEMY] [Enemy3] PURSUING corner check: angle -129.3°
[22:32:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 1256), source=PLAYER (MakarovPM), range=1469, listeners=10
[22:32:53] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=6
[22:32:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 1256), source=PLAYER (MakarovPM), range=1469, listeners=10
[22:32:53] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=5
[22:32:53] [ENEMY] [Enemy3] PURSUING corner check: angle -161.0°
[22:32:53] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[22:32:53] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[22:32:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 1256), source=PLAYER (MakarovPM), range=1469, listeners=10
[22:32:53] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=5
[22:32:53] [ENEMY] [Enemy3] PURSUING corner check: angle 19.0°
[22:32:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 1256), source=PLAYER (MakarovPM), range=1469, listeners=10
[22:32:54] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=5
[22:32:54] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[22:32:54] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[22:32:54] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,1250), corner_timer=0.30
[22:32:54] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,1250), corner_timer=0.30
[22:32:54] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[22:32:54] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:32:54] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[22:32:54] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[22:32:54] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[22:32:54] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[22:32:54] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[22:32:54] [INFO] [LastChance] Resetting all effects (scene change detected)
[22:32:54] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[22:32:54] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[22:32:54] [ENEMY] [Enemy1] Death animation component initialized
[22:32:54] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:32:54] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[22:32:54] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[22:32:54] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[22:32:54] [ENEMY] [Enemy2] Death animation component initialized
[22:32:54] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:32:54] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[22:32:54] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[22:32:54] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[22:32:54] [ENEMY] [Enemy3] Death animation component initialized
[22:32:54] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:32:54] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[22:32:54] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[22:32:54] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[22:32:54] [ENEMY] [Enemy4] Death animation component initialized
[22:32:54] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:32:54] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[22:32:54] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[22:32:54] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[22:32:54] [ENEMY] [Enemy5] Death animation component initialized
[22:32:54] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:32:54] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[22:32:54] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[22:32:54] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[22:32:54] [ENEMY] [Enemy6] Death animation component initialized
[22:32:54] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:32:54] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[22:32:54] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[22:32:54] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[22:32:54] [ENEMY] [Enemy7] Death animation component initialized
[22:32:54] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:32:54] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[22:32:54] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[22:32:54] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[22:32:54] [ENEMY] [Enemy8] Death animation component initialized
[22:32:54] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:32:54] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[22:32:54] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[22:32:54] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[22:32:54] [ENEMY] [Enemy9] Death animation component initialized
[22:32:54] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:32:54] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[22:32:54] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[22:32:54] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[22:32:54] [ENEMY] [Enemy10] Death animation component initialized
[22:32:54] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:32:54] [INFO] [BloodyFeet:Player] Footprint scene loaded
[22:32:54] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[22:32:54] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[22:32:54] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[22:32:54] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[22:32:54] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[22:32:54] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[22:32:54] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[22:32:54] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[22:32:54] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[22:32:54] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: True
[22:32:54] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[22:32:54] [INFO] [Player] Ready! Ammo: 9/9, Grenades: 1/3, Health: 10/10
[22:32:54] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[22:32:54] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[22:32:54] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[22:32:54] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[22:32:54] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[22:32:54] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[22:32:54] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[22:32:54] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[22:32:54] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[22:32:54] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[22:32:54] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[22:32:54] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[22:32:54] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[22:32:54] [INFO] [BuildingLevel] Setting up weapon: makarov_pm
[22:32:54] [INFO] [ScoreManager] Level started with 10 enemies
[22:32:54] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[22:32:54] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[22:32:54] [INFO] [ReplayManager] Replay data cleared
[22:32:54] [INFO] [BuildingLevel] Previous replay data cleared
[22:32:54] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[22:32:54] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[22:32:54] [INFO] [ReplayManager] Level: BuildingLevel
[22:32:54] [INFO] [ReplayManager] Player: Player (valid: True)
[22:32:54] [INFO] [ReplayManager] Enemies count: 10
[22:32:54] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[22:32:54] [INFO] [ReplayManager]   Enemy 0: Enemy1
[22:32:54] [INFO] [ReplayManager]   Enemy 1: Enemy2
[22:32:54] [INFO] [ReplayManager]   Enemy 2: Enemy3
[22:32:54] [INFO] [ReplayManager]   Enemy 3: Enemy4
[22:32:54] [INFO] [ReplayManager]   Enemy 4: Enemy5
[22:32:54] [INFO] [ReplayManager]   Enemy 5: Enemy6
[22:32:54] [INFO] [ReplayManager]   Enemy 6: Enemy7
[22:32:54] [INFO] [ReplayManager]   Enemy 7: Enemy8
[22:32:54] [INFO] [ReplayManager]   Enemy 8: Enemy9
[22:32:54] [INFO] [ReplayManager]   Enemy 9: Enemy10
[22:32:54] [INFO] [BuildingLevel] Replay recording started successfully
[22:32:54] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[22:32:54] [INFO] [CinemaEffects] Found player node: Player
[22:32:54] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[22:32:54] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[22:32:54] [ENEMY] [Enemy1] Registered as sound listener
[22:32:54] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 4, behavior: GUARD
[22:32:54] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[22:32:54] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[22:32:54] [ENEMY] [Enemy2] Registered as sound listener
[22:32:54] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 3, behavior: GUARD
[22:32:54] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[22:32:54] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[22:32:54] [ENEMY] [Enemy3] Registered as sound listener
[22:32:54] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 2, behavior: GUARD
[22:32:54] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[22:32:54] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[22:32:54] [ENEMY] [Enemy4] Registered as sound listener
[22:32:54] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 2, behavior: GUARD
[22:32:54] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[22:32:54] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[22:32:54] [ENEMY] [Enemy5] Registered as sound listener
[22:32:54] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 2, behavior: GUARD
[22:32:54] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[22:32:54] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[22:32:54] [ENEMY] [Enemy6] Registered as sound listener
[22:32:54] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 4, behavior: GUARD
[22:32:54] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[22:32:54] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[22:32:54] [ENEMY] [Enemy7] Registered as sound listener
[22:32:54] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 2, behavior: PATROL
[22:32:54] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[22:32:54] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[22:32:54] [ENEMY] [Enemy8] Registered as sound listener
[22:32:54] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 4, behavior: GUARD
[22:32:54] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[22:32:54] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[22:32:54] [ENEMY] [Enemy9] Registered as sound listener
[22:32:54] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 2, behavior: GUARD
[22:32:54] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[22:32:54] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[22:32:54] [ENEMY] [Enemy10] Registered as sound listener
[22:32:54] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 2, behavior: PATROL
[22:32:54] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[22:32:54] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[22:32:54] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:32:54] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:32:54] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=281.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:32:54] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:32:54] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:32:54] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:32:54] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=78.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:32:54] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:32:54] [INFO] [Player] Detecting weapon pose (frame 3)...
[22:32:54] [INFO] [Player] Detected weapon: Makarov PM (Pistol pose)
[22:32:54] [INFO] [Player] Applied Pistol arm pose: Left=(16, 6), Right=(4, 6)
[22:32:54] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[22:32:54] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[22:32:54] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[22:32:54] [INFO] [LastChance] Found player: Player
[22:32:54] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[22:32:54] [INFO] [LastChance] Connected to player Damaged signal (C#)
[22:32:54] [INFO] [LastChance] Connected to player Died signal (C#)
[22:32:54] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[22:32:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 1256), source=PLAYER (MakarovPM), range=1469, listeners=20
[22:32:54] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[22:32:54] [ENEMY] [Enemy4] Heard gunshot at (450, 1256), source_type=0, intensity=0.01, distance=499
[22:32:54] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=6
[22:32:54] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=135.0°, current=83.1°, player=(450,1250), corner_timer=0.00
[22:32:54] [ENEMY] [Enemy3] Memory: medium confidence (0.63) - transitioning to PURSUING
[22:32:54] [ENEMY] [Enemy3] State: IDLE -> PURSUING
[22:32:55] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=116.6°, current=-78.7°, player=(450,1250), corner_timer=0.00
[22:32:55] [ENEMY] [Enemy3] PURSUING corner check: angle -129.3°
[22:32:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 1256), source=PLAYER (MakarovPM), range=1469, listeners=10
[22:32:55] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=6
[22:32:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 1256), source=PLAYER (MakarovPM), range=1469, listeners=10
[22:32:55] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=5
[22:32:55] [ENEMY] [Enemy3] PURSUING corner check: angle -161.0°
[22:32:55] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[22:32:55] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[22:32:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 1256), source=PLAYER (MakarovPM), range=1469, listeners=10
[22:32:55] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=5
[22:32:55] [ENEMY] [Enemy3] PURSUING corner check: angle 19.0°
[22:32:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 1256), source=PLAYER (MakarovPM), range=1469, listeners=10
[22:32:55] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=5
[22:32:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 1256), source=PLAYER (MakarovPM), range=1469, listeners=10
[22:32:55] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=5
[22:32:56] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[22:32:56] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[22:32:56] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,1250), corner_timer=0.30
[22:32:56] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,1250), corner_timer=0.30
[22:32:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 1256), source=PLAYER (MakarovPM), range=1469, listeners=10
[22:32:56] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=5
[22:32:56] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(450,1250), corner_timer=-0.02
[22:32:56] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[22:32:56] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.7°, player=(450,1250), corner_timer=-0.02
[22:32:56] [ENEMY] [Enemy10] PATROL corner check: angle 14.6°
[22:32:56] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(450,1250), corner_timer=0.30
[22:32:56] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.6°, current=53.0°, player=(450,1250), corner_timer=0.30
[22:32:56] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[22:32:56] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:32:56] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[22:32:56] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[22:32:56] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[22:32:56] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[22:32:56] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[22:32:56] [INFO] [LastChance] Resetting all effects (scene change detected)
[22:32:56] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[22:32:56] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[22:32:56] [ENEMY] [Enemy1] Death animation component initialized
[22:32:56] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:32:56] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[22:32:56] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[22:32:56] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[22:32:56] [INFO] [EnemyGrenade] Initialized: 1 grenades
[22:32:56] [ENEMY] [Enemy2] Death animation component initialized
[22:32:56] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:32:56] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[22:32:56] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[22:32:56] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[22:32:56] [INFO] [EnemyGrenade] Initialized: 1 grenades
[22:32:56] [ENEMY] [Enemy3] Death animation component initialized
[22:32:56] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:32:56] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[22:32:56] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[22:32:56] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[22:32:56] [ENEMY] [Enemy4] Death animation component initialized
[22:32:56] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:32:56] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[22:32:56] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[22:32:56] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[22:32:56] [ENEMY] [Enemy5] Death animation component initialized
[22:32:56] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:32:56] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[22:32:56] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[22:32:56] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[22:32:56] [ENEMY] [Enemy6] Death animation component initialized
[22:32:56] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:32:56] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[22:32:56] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[22:32:56] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[22:32:56] [ENEMY] [Enemy7] Death animation component initialized
[22:32:56] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:32:56] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[22:32:56] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[22:32:56] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[22:32:56] [ENEMY] [Enemy8] Death animation component initialized
[22:32:56] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:32:56] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[22:32:56] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[22:32:56] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[22:32:56] [ENEMY] [Enemy9] Death animation component initialized
[22:32:56] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:32:56] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[22:32:56] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[22:32:56] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[22:32:56] [ENEMY] [Enemy10] Death animation component initialized
[22:32:56] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:32:56] [INFO] [BloodyFeet:Player] Footprint scene loaded
[22:32:56] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[22:32:56] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[22:32:56] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[22:32:56] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[22:32:56] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[22:32:56] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[22:32:56] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[22:32:56] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[22:32:56] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[22:32:56] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: True
[22:32:56] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[22:32:56] [INFO] [Player] Ready! Ammo: 9/9, Grenades: 1/3, Health: 10/10
[22:32:56] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[22:32:56] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[22:32:56] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[22:32:56] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[22:32:56] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[22:32:56] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[22:32:56] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[22:32:56] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[22:32:56] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[22:32:56] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[22:32:56] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[22:32:56] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[22:32:56] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[22:32:56] [INFO] [BuildingLevel] Setting up weapon: makarov_pm
[22:32:56] [INFO] [ScoreManager] Level started with 10 enemies
[22:32:56] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[22:32:56] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[22:32:56] [INFO] [ReplayManager] Replay data cleared
[22:32:56] [INFO] [BuildingLevel] Previous replay data cleared
[22:32:56] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[22:32:56] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[22:32:56] [INFO] [ReplayManager] Level: BuildingLevel
[22:32:56] [INFO] [ReplayManager] Player: Player (valid: True)
[22:32:56] [INFO] [ReplayManager] Enemies count: 10
[22:32:56] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[22:32:56] [INFO] [ReplayManager]   Enemy 0: Enemy1
[22:32:56] [INFO] [ReplayManager]   Enemy 1: Enemy2
[22:32:56] [INFO] [ReplayManager]   Enemy 2: Enemy3
[22:32:56] [INFO] [ReplayManager]   Enemy 3: Enemy4
[22:32:56] [INFO] [ReplayManager]   Enemy 4: Enemy5
[22:32:56] [INFO] [ReplayManager]   Enemy 5: Enemy6
[22:32:56] [INFO] [ReplayManager]   Enemy 6: Enemy7
[22:32:56] [INFO] [ReplayManager]   Enemy 7: Enemy8
[22:32:56] [INFO] [ReplayManager]   Enemy 8: Enemy9
[22:32:56] [INFO] [ReplayManager]   Enemy 9: Enemy10
[22:32:56] [INFO] [BuildingLevel] Replay recording started successfully
[22:32:56] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[22:32:56] [INFO] [CinemaEffects] Found player node: Player
[22:32:56] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[22:32:56] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[22:32:56] [ENEMY] [Enemy1] Registered as sound listener
[22:32:56] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 4, behavior: GUARD
[22:32:56] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[22:32:56] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[22:32:56] [ENEMY] [Enemy2] Registered as sound listener
[22:32:56] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 2, behavior: GUARD
[22:32:56] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[22:32:56] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[22:32:56] [ENEMY] [Enemy3] Registered as sound listener
[22:32:56] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 4, behavior: GUARD
[22:32:56] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[22:32:56] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[22:32:56] [ENEMY] [Enemy4] Registered as sound listener
[22:32:56] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 4, behavior: GUARD
[22:32:56] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[22:32:56] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[22:32:56] [ENEMY] [Enemy5] Registered as sound listener
[22:32:56] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 2, behavior: GUARD
[22:32:56] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[22:32:56] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[22:32:56] [ENEMY] [Enemy6] Registered as sound listener
[22:32:56] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 3, behavior: GUARD
[22:32:56] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[22:32:56] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[22:32:56] [ENEMY] [Enemy7] Registered as sound listener
[22:32:56] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 3, behavior: PATROL
[22:32:56] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[22:32:56] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[22:32:56] [ENEMY] [Enemy8] Registered as sound listener
[22:32:56] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 4, behavior: GUARD
[22:32:56] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[22:32:56] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[22:32:56] [ENEMY] [Enemy9] Registered as sound listener
[22:32:56] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 2, behavior: GUARD
[22:32:56] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[22:32:56] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[22:32:56] [ENEMY] [Enemy10] Registered as sound listener
[22:32:56] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 3, behavior: PATROL
[22:32:56] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[22:32:56] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[22:32:56] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=33.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:32:56] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:32:56] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:32:56] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:32:56] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:32:56] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=337.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:32:56] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=78.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:32:56] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=180.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:32:56] [INFO] [Player] Detecting weapon pose (frame 3)...
[22:32:56] [INFO] [Player] Detected weapon: Makarov PM (Pistol pose)
[22:32:56] [INFO] [Player] Applied Pistol arm pose: Left=(16, 6), Right=(4, 6)
[22:32:56] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[22:32:56] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[22:32:56] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[22:32:56] [INFO] [LastChance] Found player: Player
[22:32:56] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[22:32:56] [INFO] [LastChance] Connected to player Damaged signal (C#)
[22:32:56] [INFO] [LastChance] Connected to player Died signal (C#)
[22:32:56] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[22:32:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 1256), source=PLAYER (MakarovPM), range=1469, listeners=20
[22:32:56] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[22:32:56] [ENEMY] [Enemy4] Heard gunshot at (450, 1256), source_type=0, intensity=0.01, distance=499
[22:32:56] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=6
[22:32:56] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=135.0°, current=-71.6°, player=(450,1250), corner_timer=0.00
[22:32:56] [ENEMY] [Enemy3] Memory: medium confidence (0.62) - transitioning to PURSUING
[22:32:56] [ENEMY] [Enemy3] State: IDLE -> PURSUING
[22:32:56] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=116.6°, current=11.3°, player=(450,1250), corner_timer=0.00
[22:32:56] [ENEMY] [Enemy3] PURSUING corner check: angle -129.3°
[22:32:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 1256), source=PLAYER (MakarovPM), range=1469, listeners=10
[22:32:57] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=6
[22:32:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 1256), source=PLAYER (MakarovPM), range=1469, listeners=10
[22:32:57] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=5
[22:32:57] [ENEMY] [Enemy3] PURSUING corner check: angle -161.0°
[22:32:57] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[22:32:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 1256), source=PLAYER (MakarovPM), range=1469, listeners=10
[22:32:57] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=5
[22:32:57] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[22:32:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 1256), source=PLAYER (MakarovPM), range=1469, listeners=10
[22:32:57] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=5
[22:32:57] [ENEMY] [Enemy3] PURSUING corner check: angle 19.0°
[22:32:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 1256), source=PLAYER (MakarovPM), range=1469, listeners=10
[22:32:57] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=5
[22:32:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 1256), source=PLAYER (MakarovPM), range=1469, listeners=10
[22:32:57] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=5
[22:32:57] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[22:32:57] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[22:32:57] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,1250), corner_timer=0.30
[22:32:57] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,1250), corner_timer=0.30
[22:32:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(450, 1256), shooter_id=3201210257485, bullet_pos=(1683.183, 1300.928)
[22:32:58] [INFO] [Bullet] Using shooter_position, distance=1234.00158691406
[22:32:58] [INFO] [Bullet] Distance to wall: 1234.00158691406 (84.0254371818102% of viewport)
[22:32:58] [INFO] [Bullet] Distance-based penetration chance: 48.6369899545548%
[22:32:58] [INFO] [Bullet] Penetration failed (distance roll)
[22:32:58] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[22:32:58] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:32:58] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[22:32:58] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[22:32:58] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[22:32:58] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[22:32:58] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[22:32:58] [INFO] [LastChance] Resetting all effects (scene change detected)
[22:32:58] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[22:32:58] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[22:32:58] [ENEMY] [Enemy1] Death animation component initialized
[22:32:58] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:32:58] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[22:32:58] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[22:32:58] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[22:32:58] [ENEMY] [Enemy2] Death animation component initialized
[22:32:58] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:32:58] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[22:32:58] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[22:32:58] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[22:32:58] [ENEMY] [Enemy3] Death animation component initialized
[22:32:58] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:32:58] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[22:32:58] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[22:32:58] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[22:32:58] [INFO] [EnemyGrenade] Initialized: 1 grenades
[22:32:58] [ENEMY] [Enemy4] Death animation component initialized
[22:32:58] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:32:58] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[22:32:58] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[22:32:58] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[22:32:58] [ENEMY] [Enemy5] Death animation component initialized
[22:32:58] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:32:58] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[22:32:58] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[22:32:58] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[22:32:58] [INFO] [EnemyGrenade] Initialized: 1 grenades
[22:32:58] [ENEMY] [Enemy6] Death animation component initialized
[22:32:58] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:32:58] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[22:32:58] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[22:32:58] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[22:32:58] [INFO] [EnemyGrenade] Initialized: 1 grenades
[22:32:58] [ENEMY] [Enemy7] Death animation component initialized
[22:32:58] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:32:58] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[22:32:58] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[22:32:58] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[22:32:58] [ENEMY] [Enemy8] Death animation component initialized
[22:32:58] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:32:58] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[22:32:58] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[22:32:58] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[22:32:58] [ENEMY] [Enemy9] Death animation component initialized
[22:32:58] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:32:58] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[22:32:58] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[22:32:58] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[22:32:58] [INFO] [EnemyGrenade] Initialized: 1 grenades
[22:32:58] [ENEMY] [Enemy10] Death animation component initialized
[22:32:58] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:32:58] [INFO] [BloodyFeet:Player] Footprint scene loaded
[22:32:58] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[22:32:58] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[22:32:58] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[22:32:58] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[22:32:58] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[22:32:58] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[22:32:58] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[22:32:58] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[22:32:58] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[22:32:58] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: True
[22:32:58] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[22:32:58] [INFO] [Player] Ready! Ammo: 9/9, Grenades: 1/3, Health: 10/10
[22:32:58] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[22:32:58] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[22:32:58] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[22:32:58] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[22:32:58] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[22:32:58] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[22:32:58] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[22:32:58] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[22:32:58] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[22:32:58] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[22:32:58] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[22:32:58] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[22:32:58] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[22:32:58] [INFO] [BuildingLevel] Setting up weapon: makarov_pm
[22:32:58] [INFO] [ScoreManager] Level started with 10 enemies
[22:32:58] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[22:32:58] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[22:32:58] [INFO] [ReplayManager] Replay data cleared
[22:32:58] [INFO] [BuildingLevel] Previous replay data cleared
[22:32:58] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[22:32:58] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[22:32:58] [INFO] [ReplayManager] Level: BuildingLevel
[22:32:58] [INFO] [ReplayManager] Player: Player (valid: True)
[22:32:58] [INFO] [ReplayManager] Enemies count: 10
[22:32:58] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[22:32:58] [INFO] [ReplayManager]   Enemy 0: Enemy1
[22:32:58] [INFO] [ReplayManager]   Enemy 1: Enemy2
[22:32:58] [INFO] [ReplayManager]   Enemy 2: Enemy3
[22:32:58] [INFO] [ReplayManager]   Enemy 3: Enemy4
[22:32:58] [INFO] [ReplayManager]   Enemy 4: Enemy5
[22:32:58] [INFO] [ReplayManager]   Enemy 5: Enemy6
[22:32:58] [INFO] [ReplayManager]   Enemy 6: Enemy7
[22:32:58] [INFO] [ReplayManager]   Enemy 7: Enemy8
[22:32:58] [INFO] [ReplayManager]   Enemy 8: Enemy9
[22:32:58] [INFO] [ReplayManager]   Enemy 9: Enemy10
[22:32:58] [INFO] [BuildingLevel] Replay recording started successfully
[22:32:58] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[22:32:58] [INFO] [CinemaEffects] Found player node: Player
[22:32:58] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[22:32:58] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[22:32:58] [ENEMY] [Enemy1] Registered as sound listener
[22:32:58] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 4, behavior: GUARD
[22:32:58] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[22:32:58] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[22:32:58] [ENEMY] [Enemy2] Registered as sound listener
[22:32:58] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 2, behavior: GUARD
[22:32:58] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[22:32:58] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[22:32:58] [ENEMY] [Enemy3] Registered as sound listener
[22:32:58] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 2, behavior: GUARD
[22:32:58] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[22:32:58] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[22:32:58] [ENEMY] [Enemy4] Registered as sound listener
[22:32:58] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 2, behavior: GUARD
[22:32:58] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[22:32:58] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[22:32:58] [ENEMY] [Enemy5] Registered as sound listener
[22:32:58] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 4, behavior: GUARD
[22:32:58] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[22:32:58] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[22:32:58] [ENEMY] [Enemy6] Registered as sound listener
[22:32:58] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 2, behavior: GUARD
[22:32:58] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[22:32:58] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[22:32:58] [ENEMY] [Enemy7] Registered as sound listener
[22:32:58] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 4, behavior: PATROL
[22:32:58] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[22:32:58] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[22:32:58] [ENEMY] [Enemy8] Registered as sound listener
[22:32:58] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 2, behavior: GUARD
[22:32:58] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[22:32:58] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[22:32:58] [ENEMY] [Enemy9] Registered as sound listener
[22:32:58] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 4, behavior: GUARD
[22:32:58] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[22:32:58] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[22:32:58] [ENEMY] [Enemy10] Registered as sound listener
[22:32:58] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 3, behavior: PATROL
[22:32:58] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[22:32:58] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[22:32:58] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=33.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:32:58] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:32:58] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:32:58] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:32:58] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:32:58] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:32:58] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:32:58] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=337.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:32:58] [INFO] [Player] Detecting weapon pose (frame 3)...
[22:32:58] [INFO] [Player] Detected weapon: Makarov PM (Pistol pose)
[22:32:58] [INFO] [Player] Applied Pistol arm pose: Left=(16, 6), Right=(4, 6)
[22:32:58] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[22:32:58] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[22:32:58] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[22:32:58] [INFO] [LastChance] Found player: Player
[22:32:58] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[22:32:58] [INFO] [LastChance] Connected to player Damaged signal (C#)
[22:32:58] [INFO] [LastChance] Connected to player Died signal (C#)
[22:32:58] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[22:32:59] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[22:32:59] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[22:32:59] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[22:32:59] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,814), corner_timer=0.30
[22:32:59] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,814), corner_timer=0.30
[22:32:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(449.7074, 785.8262), source=PLAYER (MakarovPM), range=1469, listeners=20
[22:32:59] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[22:32:59] [ENEMY] [Enemy1] Heard gunshot at (449.7074, 785.8262), source_type=0, intensity=0.01, distance=461
[22:32:59] [ENEMY] [Enemy2] Heard gunshot at (449.7074, 785.8262), source_type=0, intensity=0.04, distance=241
[22:32:59] [ENEMY] [Enemy3] Heard gunshot at (449.7074, 785.8262), source_type=0, intensity=0.04, distance=253
[22:32:59] [ENEMY] [Enemy4] Heard gunshot at (449.7074, 785.8262), source_type=0, intensity=0.02, distance=368
[22:32:59] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[22:32:59] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=70.8°, current=33.8°, player=(449,779), corner_timer=0.00
[22:32:59] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=77.8°, current=-157.5°, player=(449,779), corner_timer=0.00
[22:32:59] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=173.2°, current=-33.8°, player=(449,779), corner_timer=0.00
[22:32:59] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=-161.1°, current=-101.3°, player=(449,779), corner_timer=0.00
[22:33:00] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=173.8°, current=136.6°, player=(449,777), corner_timer=0.00
[22:33:00] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(433.9052, 767.4456), source=PLAYER (MakarovPM), range=1469, listeners=10
[22:33:00] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[22:33:00] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(430,760), corner_timer=-0.02
[22:33:00] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[22:33:00] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.7°, player=(430,760), corner_timer=-0.02
[22:33:00] [ENEMY] [Enemy10] PATROL corner check: angle 14.6°
[22:33:00] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(427,759), corner_timer=0.30
[22:33:00] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.6°, current=53.0°, player=(427,759), corner_timer=0.30
[22:33:00] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[22:33:00] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[22:33:00] [ENEMY] [Enemy3] Hit: dmg=1, hp=2/2->1/2
[22:33:00] [INFO] [ImpactEffects] spawn_blood_effect called at (684.2485, 745.9038), dir=(0.999984, 0.00559), lethal=false
[22:33:00] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[22:33:00] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[22:33:00] [INFO] [ImpactEffects] Blood effect spawned at (684.2485, 745.9038) (scale=0.5)
[22:33:00] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(350.5875, 762.2692), source=PLAYER (MakarovPM), range=1469, listeners=10
[22:33:00] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[22:33:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(449.7074, 785.8262), shooter_id=3258722554085, bullet_pos=(916.9865, 792.9526)
[22:33:00] [INFO] [Bullet] Using shooter_position, distance=467.333404541016
[22:33:00] [INFO] [Bullet] Distance to wall: 467.333404541016 (31.8215908655531% of viewport)
[22:33:00] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:33:00] [INFO] [Bullet] Caliber cannot penetrate walls
[22:33:00] [ENEMY] [Enemy1] State: COMBAT -> PURSUING
[22:33:00] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[22:33:00] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[22:33:00] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.3°, player=(328,756), corner_timer=-0.02
[22:33:00] [ENEMY] [Enemy10] PATROL corner check: angle 7.1°
[22:33:00] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.1°, current=16.9°, player=(323,756), corner_timer=0.30
[22:33:00] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(262.5875, 762.2692), source=PLAYER (MakarovPM), range=1469, listeners=10
[22:33:00] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=3
[22:33:00] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=-129.0°, current=168.6°, player=(246,756), corner_timer=0.00
[22:33:00] [INFO] [BloodDecal] Blood puddle created at (811.4866, 733.2595) (added to group)
[22:33:00] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[22:33:00] [INFO] [BloodDecal] Blood puddle created at (824.1938, 825.8692) (added to group)
[22:33:00] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[22:33:00] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(218,756), corner_timer=-0.02
[22:33:00] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[22:33:00] [INFO] [BloodDecal] Blood puddle created at (775.3882, 766.6914) (added to group)
[22:33:00] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.7°, player=(213,756), corner_timer=0.30
[22:33:00] [INFO] [BloodDecal] Blood puddle created at (854.1118, 819.0663) (added to group)
[22:33:00] [INFO] [BloodDecal] Blood puddle created at (804.6955, 844.8586) (added to group)
[22:33:00] [INFO] [BloodDecal] Blood puddle created at (870.0396, 819.7593) (added to group)
[22:33:00] [INFO] [BloodDecal] Blood puddle created at (889.4215, 790.575) (added to group)
[22:33:00] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(350.5875, 762.2692), shooter_id=3258722554085, bullet_pos=(917.7179, 747.0817)
[22:33:00] [INFO] [Bullet] Using shooter_position, distance=567.333679199219
[22:33:00] [INFO] [Bullet] Distance to wall: 567.333679199219 (38.6307934513208% of viewport)
[22:33:00] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:33:00] [INFO] [Bullet] Caliber cannot penetrate walls
[22:33:00] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(163.5875, 762.2692), source=PLAYER (MakarovPM), range=1469, listeners=10
[22:33:00] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=5, self=0, below_threshold=2
[22:33:00] [INFO] [BloodDecal] Blood puddle created at (876.9554, 786.0607) (added to group)
[22:33:00] [INFO] [BloodDecal] Blood puddle created at (783.2278, 798.8862) (added to group)
[22:33:01] [INFO] [BloodDecal] Blood puddle created at (900.7798, 822.7764) (added to group)
[22:33:01] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(108,756), corner_timer=-0.02
[22:33:01] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[22:33:01] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.8°, current=6.3°, player=(103,756), corner_timer=0.30
[22:33:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(80.01328, 762.2692), source=PLAYER (MakarovPM), range=1469, listeners=10
[22:33:01] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=3
[22:33:01] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=10
[22:33:01] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(262.5875, 762.2692), shooter_id=3258722554085, bullet_pos=(911.7581, 718.1657)
[22:33:01] [INFO] [Bullet] Using shooter_position, distance=650.667114257813
[22:33:01] [INFO] [Bullet] Distance to wall: 650.667114257813 (44.3051202811354% of viewport)
[22:33:01] [INFO] [Bullet] Distance-based penetration chance: 94.9773596720087%
[22:33:01] [INFO] [Bullet] Caliber cannot penetrate walls
[22:33:01] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.8°, player=(80,756), corner_timer=-0.02
[22:33:01] [ENEMY] [Enemy10] PATROL corner check: angle 0.9°
[22:33:01] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=0.9°, current=4.6°, player=(80,756), corner_timer=0.30
[22:33:01] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(163.5875, 762.2692), shooter_id=3258722554085, bullet_pos=(913.1466, 721.4984)
[22:33:01] [INFO] [Bullet] Using shooter_position, distance=750.667053222656
[22:33:01] [INFO] [Bullet] Distance to wall: 750.667053222656 (51.1143000089249% of viewport)
[22:33:01] [INFO] [Bullet] Distance-based penetration chance: 87.0333166562542%
[22:33:01] [INFO] [Bullet] Caliber cannot penetrate walls
[22:33:01] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:33:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(80.01328, 762.2692), source=PLAYER (MakarovPM), range=1469, listeners=10
[22:33:01] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=3
[22:33:02] [ENEMY] [Enemy1] Warning: No valid flank position (both sides behind walls)
[22:33:02] [ENEMY] [Enemy1] FLANKING started: target=(-32.51122, 590.9265), side=left, pos=(251.0208, 401.9338)
[22:33:02] [ENEMY] [Enemy1] State: PURSUING -> FLANKING
[22:33:02] [ENEMY] [Enemy2] PURSUING corner check: angle 48.6°
[22:33:02] [ENEMY] [Enemy4] PURSUING corner check: angle 176.3°
[22:33:02] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=-130.1°, player=(80,756), corner_timer=-0.02
[22:33:02] [ENEMY] [Enemy7] PATROL corner check: angle 90.0°
[22:33:02] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=-133.0°, player=(80,756), corner_timer=0.30
[22:33:02] [ENEMY] [Enemy1] FLANKING corner check: angle -102.3°
[22:33:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(80.01328, 762.2692), shooter_id=3258722554085, bullet_pos=(913.0917, 723.0594)
[22:33:02] [INFO] [Bullet] Using shooter_position, distance=834.000732421875
[22:33:02] [INFO] [Bullet] Distance to wall: 834.000732421875 (56.7886434627237% of viewport)
[22:33:02] [INFO] [Bullet] Distance-based penetration chance: 80.413249293489%
[22:33:02] [INFO] [Bullet] Caliber cannot penetrate walls
[22:33:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(80.01328, 762.2692), source=PLAYER (MakarovPM), range=1469, listeners=10
[22:33:02] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=3
[22:33:02] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:33:02] [ENEMY] [Enemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=108.7°, current=129.3°, player=(80,756), corner_timer=0.17
[22:33:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(80.01328, 762.2692), source=PLAYER (MakarovPM), range=1469, listeners=10
[22:33:02] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=3
[22:33:02] [INFO] [ReplayManager] Recording frame 240 (4,0s): player_valid=True, enemies=10
[22:33:02] [ENEMY] [Enemy2] PURSUING corner check: angle -131.4°
[22:33:02] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=179.1°, current=172.4°, player=(80,756), corner_timer=-0.02
[22:33:02] [ENEMY] [Enemy7] PATROL corner check: angle 89.8°
[22:33:02] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.8°, current=175.3°, player=(80,756), corner_timer=0.30
[22:33:02] [ENEMY] [Enemy1] FLANKING corner check: angle 28.5°
[22:33:02] [ENEMY] [Enemy1] Player ammo empty: false -> true
[22:33:02] [ENEMY] [Enemy2] Player ammo empty: false -> true
[22:33:02] [ENEMY] [Enemy3] Player ammo empty: false -> true
[22:33:02] [ENEMY] [Enemy4] Player ammo empty: false -> true
[22:33:02] [ENEMY] [Enemy5] Player ammo empty: false -> true
[22:33:02] [ENEMY] [Enemy6] Player ammo empty: false -> true
[22:33:02] [ENEMY] [Enemy7] Player ammo empty: false -> true
[22:33:02] [ENEMY] [Enemy8] Player ammo empty: false -> true
[22:33:02] [ENEMY] [Enemy9] Player ammo empty: false -> true
[22:33:02] [ENEMY] [Enemy10] Player ammo empty: false -> true
[22:33:02] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(80.01328, 756.2692), source=PLAYER (Player), range=600, listeners=10
[22:33:02] [ENEMY] [Enemy1] Heard player EMPTY_CLICK at (80.01328, 756.2692), intensity=0.03, distance=287
[22:33:02] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (80.01328, 756.2692), intensity=0.04, distance=244
[22:33:02] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=7, self=0, below_threshold=1
[22:33:02] [ENEMY] [Enemy1] Player empty ammo - priority attack triggered
[22:33:02] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=244), can_see=false
[22:33:02] [ENEMY] [Enemy2] Pursuing vulnerability sound at (80.01328, 756.2692), distance=244
[22:33:02] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=548), can_see=false
[22:33:02] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=608), can_see=false
[22:33:02] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1670), can_see=false
[22:33:02] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1895), can_see=false
[22:33:02] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1538), can_see=false
[22:33:02] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1948), can_see=false
[22:33:02] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2170), can_see=false
[22:33:02] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1371), can_see=false
[22:33:02] [ENEMY] [Enemy4] PURSUING corner check: angle -92.4°
[22:33:02] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:33:02] [ENEMY] [Enemy1] Player empty ammo - priority attack triggered
[22:33:02] [ENEMY] [Enemy1] State: FLANKING -> COMBAT
[22:33:02] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(80.01328, 756.2692), source=PLAYER (Player), range=600, listeners=10
[22:33:02] [ENEMY] [Enemy1] Heard player EMPTY_CLICK at (80.01328, 756.2692), intensity=0.05, distance=230
[22:33:02] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (80.01328, 756.2692), intensity=0.03, distance=300
[22:33:02] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=6, self=0, below_threshold=2
[22:33:02] [ENEMY] [Enemy1] Player empty ammo - priority attack triggered
[22:33:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(131.4729, 532.5555), source=ENEMY (Enemy1), range=1469, listeners=10
[22:33:02] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=1, below_threshold=2
[22:33:02] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=178.4°, current=120.7°, player=(80,756), corner_timer=-0.02
[22:33:02] [ENEMY] [Enemy7] PATROL corner check: angle 89.7°
[22:33:02] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.7°, current=123.6°, player=(80,756), corner_timer=0.30
[22:33:02] [INFO] [LastChance] Threat detected: Bullet
[22:33:02] [INFO] [LastChance] Not in hard mode - effect disabled
[22:33:02] [INFO] [LastChance] Cannot trigger effect - conditions not met
[22:33:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(80.01328, 762.2692), shooter_id=3258722554085, bullet_pos=(913.0942, 723.1144)
[22:33:02] [INFO] [Bullet] Using shooter_position, distance=834.000549316406
[22:33:02] [INFO] [Bullet] Distance to wall: 834.000549316406 (56.7886309947356% of viewport)
[22:33:02] [INFO] [Bullet] Distance-based penetration chance: 80.4132638394751%
[22:33:02] [INFO] [Bullet] Caliber cannot penetrate walls
[22:33:02] [INFO] [Player] Hit blocked by invincibility mode (C#)
[22:33:02] [INFO] [Player] Spawning blood effect at (80.013275, 756.2692), dir=(1, 0), lethal=False (C#)
[22:33:02] [INFO] [ImpactEffects] spawn_blood_effect called at (80.01328, 756.2692), dir=(1, 0), lethal=false
[22:33:02] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[22:33:02] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[22:33:02] [INFO] [ImpactEffects] Blood effect spawned at (80.01328, 756.2692) (scale=1)
[22:33:02] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(80.01328, 756.2692), source=PLAYER (Player), range=600, listeners=10
[22:33:02] [ENEMY] [Enemy1] Heard player EMPTY_CLICK at (80.01328, 756.2692), intensity=0.05, distance=230
[22:33:02] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (80.01328, 756.2692), intensity=0.02, distance=344
[22:33:02] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=6, self=0, below_threshold=2
[22:33:02] [ENEMY] [Enemy1] Player empty ammo - priority attack triggered
[22:33:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(131.4729, 532.5555), source=ENEMY (Enemy1), range=1469, listeners=10
[22:33:02] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=1, below_threshold=2
[22:33:02] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:33:02] [INFO] [LastChance] Threat detected: Bullet
[22:33:02] [INFO] [LastChance] Not in hard mode - effect disabled
[22:33:02] [INFO] [LastChance] Cannot trigger effect - conditions not met
[22:33:02] [INFO] [Player] Hit blocked by invincibility mode (C#)
[22:33:02] [INFO] [Player] Spawning blood effect at (80.013275, 756.2692), dir=(1, 0), lethal=False (C#)
[22:33:02] [INFO] [ImpactEffects] spawn_blood_effect called at (80.01328, 756.2692), dir=(1, 0), lethal=false
[22:33:02] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[22:33:02] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[22:33:02] [INFO] [ImpactEffects] Blood effect spawned at (80.01328, 756.2692) (scale=1)
[22:33:02] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(80.01328, 762.2692), shooter_id=3258722554085, bullet_pos=(913.6516, 737.7379)
[22:33:02] [INFO] [Bullet] Using shooter_position, distance=833.999145507813
[22:33:02] [INFO] [Bullet] Distance to wall: 833.999145507813 (56.7885354068271% of viewport)
[22:33:02] [INFO] [Bullet] Distance-based penetration chance: 80.4133753587017%
[22:33:02] [INFO] [Bullet] Caliber cannot penetrate walls
[22:33:02] [ENEMY] [Enemy1] Player empty ammo - priority attack triggered
[22:33:02] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(131.4729, 532.5555), source=ENEMY (Enemy1), range=1469, listeners=10
[22:33:02] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=1, below_threshold=2
[22:33:02] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(80.01328, 756.2692), source=PLAYER (Player), range=600, listeners=10
[22:33:02] [ENEMY] [Enemy1] Heard player EMPTY_CLICK at (80.01328, 756.2692), intensity=0.05, distance=230
[22:33:02] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (80.01328, 756.2692), intensity=0.02, distance=390
[22:33:02] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=6, self=0, below_threshold=2
[22:33:02] [INFO] [LastChance] Threat detected: Bullet
[22:33:02] [INFO] [LastChance] Not in hard mode - effect disabled
[22:33:02] [INFO] [LastChance] Cannot trigger effect - conditions not met
[22:33:02] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=400), can_see=false
[22:33:02] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=548), can_see=false
[22:33:02] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=511), can_see=false
[22:33:02] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1670), can_see=false
[22:33:02] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1895), can_see=false
[22:33:02] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1538), can_see=false
[22:33:02] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1948), can_see=false
[22:33:02] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2170), can_see=false
[22:33:02] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1371), can_see=false
[22:33:03] [INFO] [EnemyGrenade] Throw path blocked to (251.5875, 756.2692)
[22:33:03] [INFO] [Player] Hit blocked by invincibility mode (C#)
[22:33:03] [INFO] [Player] Spawning blood effect at (80.013275, 756.2692), dir=(1, 0), lethal=False (C#)
[22:33:03] [INFO] [ImpactEffects] spawn_blood_effect called at (80.01328, 756.2692), dir=(1, 0), lethal=false
[22:33:03] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[22:33:03] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[22:33:03] [INFO] [ImpactEffects] Blood effect spawned at (80.01328, 756.2692) (scale=1)
[22:33:03] [INFO] [EnemyGrenade] Throw path blocked to (251.5875, 756.2692)
[22:33:03] [INFO] [EnemyGrenade] Throw path blocked to (251.5875, 756.2692)
[22:33:03] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.9°, current=89.7°, player=(80,756), corner_timer=-0.02
[22:33:03] [ENEMY] [Enemy7] PATROL corner check: angle 89.6°
[22:33:03] [INFO] [BloodDecal] Blood puddle created at (163.9025, 737.988) (added to group)
[22:33:03] [ENEMY] [Enemy1] Player empty ammo - priority attack triggered
[22:33:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(131.4729, 532.5555), source=ENEMY (Enemy1), range=1469, listeners=10
[22:33:03] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=1, below_threshold=2
[22:33:03] [INFO] [EnemyGrenade] Throw path blocked to (251.5875, 756.2692)
[22:33:03] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.6°, current=92.5°, player=(80,756), corner_timer=0.30
[22:33:03] [INFO] [BloodDecal] Blood puddle created at (150.1932, 740.8446) (added to group)
[22:33:03] [INFO] [EnemyGrenade] Throw path blocked to (251.5875, 756.2692)
[22:33:03] [INFO] [BloodDecal] Blood puddle created at (161.2818, 784.6929) (added to group)
[22:33:03] [INFO] [LastChance] Threat detected: Bullet
[22:33:03] [INFO] [LastChance] Not in hard mode - effect disabled
[22:33:03] [INFO] [LastChance] Cannot trigger effect - conditions not met
[22:33:03] [INFO] [EnemyGrenade] Throw path blocked to (251.5875, 756.2692)
[22:33:03] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(80.01328, 762.2692), shooter_id=3258722554085, bullet_pos=(913.9746, 770.2866)
[22:33:03] [INFO] [Bullet] Using shooter_position, distance=833.999816894531
[22:33:03] [INFO] [Bullet] Distance to wall: 833.999816894531 (56.7885811227833% of viewport)
[22:33:03] [INFO] [Bullet] Distance-based penetration chance: 80.4133220234194%
[22:33:03] [INFO] [Bullet] Caliber cannot penetrate walls
[22:33:03] [INFO] [EnemyGrenade] Throw path blocked to (251.5875, 756.2692)
[22:33:03] [INFO] [EnemyGrenade] Throw path blocked to (251.5875, 756.2692)
[22:33:03] [INFO] [Player] Hit blocked by invincibility mode (C#)
[22:33:03] [INFO] [Player] Spawning blood effect at (80.013275, 759.60254), dir=(1, 0), lethal=False (C#)
[22:33:03] [INFO] [ImpactEffects] spawn_blood_effect called at (80.01328, 759.6025), dir=(1, 0), lethal=false
[22:33:03] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[22:33:03] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[22:33:03] [INFO] [ImpactEffects] Blood effect spawned at (80.01328, 759.6025) (scale=1)
[22:33:03] [INFO] [EnemyGrenade] Throw path blocked to (251.5875, 756.2692)
[22:33:03] [INFO] [EnemyGrenade] Throw path blocked to (251.5875, 756.2692)
[22:33:03] [ENEMY] [Enemy1] Player empty ammo - priority attack triggered
[22:33:03] [INFO] [EnemyGrenade] Throw path blocked to (251.5875, 756.2692)
[22:33:03] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:33:03] [INFO] [BloodDecal] Blood puddle created at (154.3486, 800.559) (added to group)
[22:33:03] [INFO] [EnemyGrenade] Throw path blocked to (251.5875, 756.2692)
[22:33:03] [INFO] [EnemyGrenade] Throw path blocked to (251.5875, 756.2692)
[22:33:03] [INFO] [EnemyGrenade] Throw path blocked to (251.5875, 756.2692)
[22:33:03] [INFO] [BloodDecal] Blood puddle created at (186.2891, 778.0792) (added to group)
[22:33:03] [INFO] [EnemyGrenade] Throw path blocked to (251.5875, 756.2692)
[22:33:03] [INFO] [BloodDecal] Blood puddle created at (152.5883, 815.8719) (added to group)
[22:33:03] [INFO] [EnemyGrenade] Throw path blocked to (251.5875, 756.2692)
[22:33:03] [INFO] [BloodDecal] Blood puddle created at (194.5735, 822.5323) (added to group)
[22:33:03] [INFO] [EnemyGrenade] Throw path blocked to (251.5875, 756.2692)
[22:33:03] [INFO] [BloodDecal] Blood puddle created at (237.4053, 871.2575) (added to group)
[22:33:03] [INFO] [BloodDecal] Blood puddle created at (218.5921, 776.9769) (added to group)
[22:33:03] [ENEMY] [Enemy1] Player empty ammo - priority attack triggered
[22:33:03] [INFO] [EnemyGrenade] Throw path blocked to (251.5875, 756.2692)
[22:33:03] [INFO] [BloodDecal] Blood puddle created at (187.2843, 823.5931) (added to group)
[22:33:03] [INFO] [BloodDecal] Blood puddle created at (172.5746, 789.6348) (added to group)
[22:33:03] [INFO] [ReplayManager] Recording frame 300 (5,0s): player_valid=True, enemies=10
[22:33:03] [INFO] [EnemyGrenade] Throw path blocked to (251.5875, 756.2692)
[22:33:03] [INFO] [BloodDecal] Blood puddle created at (216.436, 828.0553) (added to group)
[22:33:03] [INFO] [EnemyGrenade] Throw path blocked to (251.5875, 756.2692)
[22:33:03] [ENEMY] [Enemy3] State: SUPPRESSED -> SEEKING_COVER
[22:33:03] [INFO] [EnemyGrenade] Throw path blocked to (251.5875, 756.2692)
[22:33:03] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[22:33:03] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:33:03] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[22:33:03] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[22:33:03] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[22:33:03] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[22:33:03] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[22:33:03] [INFO] [LastChance] Resetting all effects (scene change detected)
[22:33:03] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[22:33:03] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[22:33:03] [ENEMY] [Enemy1] Death animation component initialized
[22:33:03] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:33:03] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[22:33:03] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[22:33:03] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[22:33:03] [ENEMY] [Enemy2] Death animation component initialized
[22:33:03] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:33:03] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[22:33:03] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[22:33:03] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[22:33:03] [ENEMY] [Enemy3] Death animation component initialized
[22:33:03] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:33:03] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[22:33:03] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[22:33:03] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[22:33:03] [ENEMY] [Enemy4] Death animation component initialized
[22:33:03] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:33:03] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[22:33:03] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[22:33:03] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[22:33:03] [ENEMY] [Enemy5] Death animation component initialized
[22:33:03] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:33:03] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[22:33:03] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[22:33:03] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[22:33:03] [ENEMY] [Enemy6] Death animation component initialized
[22:33:03] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:33:03] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[22:33:03] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[22:33:03] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[22:33:03] [ENEMY] [Enemy7] Death animation component initialized
[22:33:03] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:33:03] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[22:33:03] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[22:33:03] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[22:33:03] [ENEMY] [Enemy8] Death animation component initialized
[22:33:03] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:33:03] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[22:33:03] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[22:33:03] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[22:33:03] [ENEMY] [Enemy9] Death animation component initialized
[22:33:03] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:33:03] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[22:33:03] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[22:33:03] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[22:33:03] [ENEMY] [Enemy10] Death animation component initialized
[22:33:03] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:33:03] [INFO] [BloodyFeet:Player] Footprint scene loaded
[22:33:03] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[22:33:03] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[22:33:03] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[22:33:03] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[22:33:03] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[22:33:03] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[22:33:03] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[22:33:03] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[22:33:03] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[22:33:03] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: True
[22:33:03] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[22:33:03] [INFO] [Player] Ready! Ammo: 9/9, Grenades: 1/3, Health: 10/10
[22:33:03] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[22:33:03] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[22:33:03] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[22:33:03] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[22:33:03] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[22:33:03] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[22:33:03] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[22:33:03] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[22:33:03] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[22:33:03] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[22:33:03] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[22:33:03] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[22:33:03] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[22:33:03] [INFO] [BuildingLevel] Setting up weapon: makarov_pm
[22:33:03] [INFO] [ScoreManager] Level started with 10 enemies
[22:33:03] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[22:33:03] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[22:33:03] [INFO] [ReplayManager] Replay data cleared
[22:33:03] [INFO] [BuildingLevel] Previous replay data cleared
[22:33:03] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[22:33:03] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[22:33:03] [INFO] [ReplayManager] Level: BuildingLevel
[22:33:03] [INFO] [ReplayManager] Player: Player (valid: True)
[22:33:03] [INFO] [ReplayManager] Enemies count: 10
[22:33:03] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[22:33:03] [INFO] [ReplayManager]   Enemy 0: Enemy1
[22:33:03] [INFO] [ReplayManager]   Enemy 1: Enemy2
[22:33:03] [INFO] [ReplayManager]   Enemy 2: Enemy3
[22:33:03] [INFO] [ReplayManager]   Enemy 3: Enemy4
[22:33:03] [INFO] [ReplayManager]   Enemy 4: Enemy5
[22:33:03] [INFO] [ReplayManager]   Enemy 5: Enemy6
[22:33:03] [INFO] [ReplayManager]   Enemy 6: Enemy7
[22:33:03] [INFO] [ReplayManager]   Enemy 7: Enemy8
[22:33:03] [INFO] [ReplayManager]   Enemy 8: Enemy9
[22:33:03] [INFO] [ReplayManager]   Enemy 9: Enemy10
[22:33:03] [INFO] [BuildingLevel] Replay recording started successfully
[22:33:03] [INFO] [BloodDecal] Blood puddle created at (170.1172, 791.3975) (added to group)
[22:33:03] [INFO] [BloodDecal] Blood puddle created at (182.0271, 760.9769) (added to group)
[22:33:03] [INFO] [BloodDecal] Blood puddle created at (150.9341, 765.9222) (added to group)
[22:33:03] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[22:33:03] [INFO] [CinemaEffects] Found player node: Player
[22:33:03] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[22:33:03] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[22:33:03] [ENEMY] [Enemy1] Registered as sound listener
[22:33:03] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 4, behavior: GUARD
[22:33:03] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[22:33:03] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[22:33:03] [ENEMY] [Enemy2] Registered as sound listener
[22:33:03] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 4, behavior: GUARD
[22:33:03] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[22:33:03] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[22:33:03] [ENEMY] [Enemy3] Registered as sound listener
[22:33:03] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 2, behavior: GUARD
[22:33:03] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[22:33:03] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[22:33:03] [ENEMY] [Enemy4] Registered as sound listener
[22:33:03] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 3, behavior: GUARD
[22:33:03] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[22:33:03] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[22:33:03] [ENEMY] [Enemy5] Registered as sound listener
[22:33:03] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 3, behavior: GUARD
[22:33:03] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[22:33:03] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[22:33:03] [ENEMY] [Enemy6] Registered as sound listener
[22:33:03] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 2, behavior: GUARD
[22:33:03] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[22:33:03] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[22:33:03] [ENEMY] [Enemy7] Registered as sound listener
[22:33:03] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 2, behavior: PATROL
[22:33:03] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[22:33:03] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[22:33:03] [ENEMY] [Enemy8] Registered as sound listener
[22:33:03] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 2, behavior: GUARD
[22:33:03] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[22:33:03] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[22:33:03] [ENEMY] [Enemy9] Registered as sound listener
[22:33:03] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 2, behavior: GUARD
[22:33:03] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[22:33:03] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[22:33:03] [ENEMY] [Enemy10] Registered as sound listener
[22:33:03] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 4, behavior: PATROL
[22:33:03] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[22:33:03] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[22:33:03] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:33:03] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:33:03] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=236.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:33:03] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:33:03] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:33:03] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:33:03] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:33:03] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=180.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:33:03] [INFO] [Player] Detecting weapon pose (frame 3)...
[22:33:03] [INFO] [Player] Detected weapon: Makarov PM (Pistol pose)
[22:33:03] [INFO] [Player] Applied Pistol arm pose: Left=(16, 6), Right=(4, 6)
[22:33:03] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[22:33:03] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[22:33:03] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[22:33:03] [INFO] [LastChance] Found player: Player
[22:33:03] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[22:33:03] [INFO] [LastChance] Connected to player Damaged signal (C#)
[22:33:03] [INFO] [LastChance] Connected to player Died signal (C#)
[22:33:03] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[22:33:03] [INFO] [BloodDecal] Blood puddle created at (304.4938, 855.166) (added to group)
[22:33:03] [INFO] [BloodDecal] Blood puddle created at (188.9799, 901.2015) (added to group)
[22:33:03] [INFO] [BloodDecal] Blood puddle created at (222.9202, 826.0018) (added to group)
[22:33:03] [INFO] [BloodDecal] Blood puddle created at (196.0407, 876.2957) (added to group)
[22:33:03] [INFO] [BloodDecal] Blood puddle created at (168.6073, 797.8246) (added to group)
[22:33:03] [INFO] [BloodDecal] Blood puddle created at (184.3155, 798.8328) (added to group)
[22:33:03] [INFO] [BloodDecal] Blood puddle created at (218.9525, 792.9689) (added to group)
[22:33:03] [INFO] [BloodDecal] Blood puddle created at (184.6406, 813.936) (added to group)
[22:33:03] [INFO] [BloodDecal] Blood puddle created at (149.9437, 791.5969) (added to group)
[22:33:03] [INFO] [BloodDecal] Blood puddle created at (177.9607, 777.0168) (added to group)
[22:33:03] [INFO] [BloodDecal] Blood puddle created at (270.5334, 834.2906) (added to group)
[22:33:03] [INFO] [BloodDecal] Blood puddle created at (146.1589, 816.3886) (added to group)
[22:33:03] [INFO] [BloodDecal] Blood puddle created at (264.1391, 802.3777) (added to group)
[22:33:03] [INFO] [BloodDecal] Blood puddle created at (244.5232, 784.9197) (added to group)
[22:33:03] [INFO] [BloodDecal] Blood puddle created at (217.9478, 752.1393) (added to group)
[22:33:03] [INFO] [BloodDecal] Blood puddle created at (243.1133, 893.1851) (added to group)
[22:33:03] [INFO] [BloodDecal] Blood puddle created at (190.6325, 783.6899) (added to group)
[22:33:03] [INFO] [BloodDecal] Blood puddle created at (302.917, 818.4705) (added to group)
[22:33:03] [INFO] [BloodDecal] Blood puddle created at (197.1944, 812.1348) (added to group)
[22:33:03] [INFO] [BloodDecal] Blood puddle created at (160.9347, 834.428) (added to group)
[22:33:03] [INFO] [BloodDecal] Blood puddle created at (242.8887, 900.4681) (added to group)
[22:33:03] [INFO] [BloodDecal] Blood puddle created at (189.5217, 846.3188) (added to group)
[22:33:03] [INFO] [BloodDecal] Blood puddle created at (262.2283, 907.0839) (added to group)
[22:33:03] [INFO] [BloodDecal] Blood puddle created at (261.346, 933.3388) (added to group)
[22:33:03] [INFO] [BloodDecal] Blood puddle created at (230.3879, 866.1281) (added to group)
[22:33:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 1161.167), source=PLAYER (MakarovPM), range=1469, listeners=20
[22:33:03] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[22:33:03] [ENEMY] [Enemy3] Heard gunshot at (450, 1161.167), source_type=0, intensity=0.01, distance=481
[22:33:03] [ENEMY] [Enemy4] Heard gunshot at (450, 1161.167), source_type=0, intensity=0.01, distance=437
[22:33:03] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=4, self=0, below_threshold=4
[22:33:03] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=121.7°, current=-100.3°, player=(450,1155), corner_timer=0.00
[22:33:03] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=143.9°, current=100.3°, player=(450,1155), corner_timer=0.00
[22:33:04] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[22:33:04] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[22:33:04] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[22:33:04] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[22:33:04] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:33:04] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[22:33:04] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[22:33:04] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[22:33:04] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[22:33:04] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[22:33:04] [INFO] [LastChance] Resetting all effects (scene change detected)
[22:33:04] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[22:33:04] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[22:33:04] [ENEMY] [Enemy1] Death animation component initialized
[22:33:04] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:33:04] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[22:33:04] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[22:33:04] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[22:33:04] [ENEMY] [Enemy2] Death animation component initialized
[22:33:04] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:33:04] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[22:33:04] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[22:33:04] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[22:33:04] [ENEMY] [Enemy3] Death animation component initialized
[22:33:04] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:33:04] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[22:33:04] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[22:33:04] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[22:33:04] [ENEMY] [Enemy4] Death animation component initialized
[22:33:04] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:33:04] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[22:33:04] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[22:33:04] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[22:33:04] [ENEMY] [Enemy5] Death animation component initialized
[22:33:04] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:33:04] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[22:33:04] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[22:33:04] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[22:33:04] [ENEMY] [Enemy6] Death animation component initialized
[22:33:04] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:33:04] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[22:33:04] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[22:33:04] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[22:33:04] [ENEMY] [Enemy7] Death animation component initialized
[22:33:04] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:33:04] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[22:33:04] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[22:33:04] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[22:33:04] [ENEMY] [Enemy8] Death animation component initialized
[22:33:04] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:33:04] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[22:33:04] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[22:33:04] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[22:33:04] [ENEMY] [Enemy9] Death animation component initialized
[22:33:04] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:33:04] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[22:33:04] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[22:33:04] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[22:33:04] [ENEMY] [Enemy10] Death animation component initialized
[22:33:04] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:33:04] [INFO] [BloodyFeet:Player] Footprint scene loaded
[22:33:04] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[22:33:04] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[22:33:04] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[22:33:04] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[22:33:04] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[22:33:04] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[22:33:04] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[22:33:04] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[22:33:04] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[22:33:04] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: True
[22:33:04] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[22:33:04] [INFO] [Player] Ready! Ammo: 9/9, Grenades: 1/3, Health: 10/10
[22:33:04] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[22:33:04] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[22:33:04] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[22:33:04] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[22:33:04] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[22:33:04] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[22:33:04] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[22:33:04] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[22:33:04] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[22:33:04] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[22:33:04] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[22:33:04] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[22:33:04] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[22:33:04] [INFO] [BuildingLevel] Setting up weapon: makarov_pm
[22:33:04] [INFO] [ScoreManager] Level started with 10 enemies
[22:33:04] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[22:33:04] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[22:33:04] [INFO] [ReplayManager] Replay data cleared
[22:33:04] [INFO] [BuildingLevel] Previous replay data cleared
[22:33:04] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[22:33:04] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[22:33:04] [INFO] [ReplayManager] Level: BuildingLevel
[22:33:04] [INFO] [ReplayManager] Player: Player (valid: True)
[22:33:04] [INFO] [ReplayManager] Enemies count: 10
[22:33:04] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[22:33:04] [INFO] [ReplayManager]   Enemy 0: Enemy1
[22:33:04] [INFO] [ReplayManager]   Enemy 1: Enemy2
[22:33:04] [INFO] [ReplayManager]   Enemy 2: Enemy3
[22:33:04] [INFO] [ReplayManager]   Enemy 3: Enemy4
[22:33:04] [INFO] [ReplayManager]   Enemy 4: Enemy5
[22:33:04] [INFO] [ReplayManager]   Enemy 5: Enemy6
[22:33:04] [INFO] [ReplayManager]   Enemy 6: Enemy7
[22:33:04] [INFO] [ReplayManager]   Enemy 7: Enemy8
[22:33:04] [INFO] [ReplayManager]   Enemy 8: Enemy9
[22:33:04] [INFO] [ReplayManager]   Enemy 9: Enemy10
[22:33:04] [INFO] [BuildingLevel] Replay recording started successfully
[22:33:04] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[22:33:04] [INFO] [CinemaEffects] Found player node: Player
[22:33:04] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[22:33:04] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[22:33:04] [ENEMY] [Enemy1] Registered as sound listener
[22:33:04] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 4, behavior: GUARD
[22:33:04] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[22:33:04] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[22:33:04] [ENEMY] [Enemy2] Registered as sound listener
[22:33:04] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 4, behavior: GUARD
[22:33:04] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[22:33:04] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[22:33:04] [ENEMY] [Enemy3] Registered as sound listener
[22:33:04] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 3, behavior: GUARD
[22:33:04] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[22:33:04] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[22:33:04] [ENEMY] [Enemy4] Registered as sound listener
[22:33:04] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 4, behavior: GUARD
[22:33:04] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[22:33:04] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[22:33:04] [ENEMY] [Enemy5] Registered as sound listener
[22:33:04] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 2, behavior: GUARD
[22:33:04] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[22:33:04] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[22:33:04] [ENEMY] [Enemy6] Registered as sound listener
[22:33:04] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 2, behavior: GUARD
[22:33:04] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[22:33:04] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[22:33:04] [ENEMY] [Enemy7] Registered as sound listener
[22:33:04] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 3, behavior: PATROL
[22:33:04] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[22:33:04] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[22:33:04] [ENEMY] [Enemy8] Registered as sound listener
[22:33:04] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 4, behavior: GUARD
[22:33:04] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[22:33:04] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[22:33:04] [ENEMY] [Enemy9] Registered as sound listener
[22:33:04] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 4, behavior: GUARD
[22:33:04] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[22:33:04] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[22:33:04] [ENEMY] [Enemy10] Registered as sound listener
[22:33:04] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 3, behavior: PATROL
[22:33:04] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[22:33:04] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[22:33:04] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:33:04] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=45.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:33:04] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:33:04] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:33:04] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:33:04] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:33:04] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=157.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:33:04] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:33:04] [INFO] [Player] Detecting weapon pose (frame 3)...
[22:33:04] [INFO] [Player] Detected weapon: Makarov PM (Pistol pose)
[22:33:04] [INFO] [Player] Applied Pistol arm pose: Left=(16, 6), Right=(4, 6)
[22:33:04] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[22:33:04] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[22:33:04] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[22:33:04] [INFO] [LastChance] Found player: Player
[22:33:04] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[22:33:04] [INFO] [LastChance] Connected to player Damaged signal (C#)
[22:33:04] [INFO] [LastChance] Connected to player Died signal (C#)
[22:33:04] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[22:33:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 1256), source=PLAYER (MakarovPM), range=1469, listeners=20
[22:33:05] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[22:33:05] [ENEMY] [Enemy4] Heard gunshot at (450, 1256), source_type=0, intensity=0.01, distance=499
[22:33:05] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=6
[22:33:05] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=135.0°, current=-67.5°, player=(450,1250), corner_timer=0.00
[22:33:05] [ENEMY] [Enemy3] Memory: medium confidence (0.63) - transitioning to PURSUING
[22:33:05] [ENEMY] [Enemy3] State: IDLE -> PURSUING
[22:33:05] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=116.6°, current=11.3°, player=(450,1250), corner_timer=0.00
[22:33:05] [ENEMY] [Enemy3] PURSUING corner check: angle -129.3°
[22:33:05] [ENEMY] [Enemy3] PURSUING corner check: angle -161.0°
[22:33:05] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[22:33:05] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[22:33:05] [ENEMY] [Enemy3] PURSUING corner check: angle 19.0°
[22:33:05] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[22:33:05] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:33:05] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[22:33:05] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[22:33:05] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[22:33:05] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[22:33:05] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[22:33:05] [INFO] [LastChance] Resetting all effects (scene change detected)
[22:33:05] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[22:33:05] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[22:33:05] [ENEMY] [Enemy1] Death animation component initialized
[22:33:05] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:33:05] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[22:33:05] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[22:33:05] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[22:33:05] [ENEMY] [Enemy2] Death animation component initialized
[22:33:05] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:33:05] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[22:33:05] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[22:33:05] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[22:33:05] [ENEMY] [Enemy3] Death animation component initialized
[22:33:05] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:33:05] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[22:33:05] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[22:33:05] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[22:33:05] [ENEMY] [Enemy4] Death animation component initialized
[22:33:05] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:33:05] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[22:33:05] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[22:33:05] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[22:33:05] [ENEMY] [Enemy5] Death animation component initialized
[22:33:05] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:33:05] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[22:33:05] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[22:33:05] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[22:33:05] [ENEMY] [Enemy6] Death animation component initialized
[22:33:05] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:33:05] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[22:33:05] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[22:33:05] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[22:33:05] [ENEMY] [Enemy7] Death animation component initialized
[22:33:05] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:33:05] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[22:33:05] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[22:33:05] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[22:33:05] [ENEMY] [Enemy8] Death animation component initialized
[22:33:05] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:33:05] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[22:33:05] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[22:33:05] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[22:33:05] [ENEMY] [Enemy9] Death animation component initialized
[22:33:05] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:33:05] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[22:33:05] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[22:33:05] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[22:33:05] [ENEMY] [Enemy10] Death animation component initialized
[22:33:05] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:33:05] [INFO] [BloodyFeet:Player] Footprint scene loaded
[22:33:05] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[22:33:05] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[22:33:05] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[22:33:05] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[22:33:05] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[22:33:05] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[22:33:05] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[22:33:05] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[22:33:05] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[22:33:05] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: True
[22:33:05] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[22:33:05] [INFO] [Player] Ready! Ammo: 9/9, Grenades: 1/3, Health: 10/10
[22:33:05] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[22:33:05] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[22:33:05] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[22:33:05] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[22:33:05] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[22:33:05] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[22:33:05] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[22:33:05] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[22:33:05] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[22:33:05] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[22:33:05] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[22:33:05] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[22:33:05] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[22:33:05] [INFO] [BuildingLevel] Setting up weapon: makarov_pm
[22:33:05] [INFO] [ScoreManager] Level started with 10 enemies
[22:33:05] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[22:33:05] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[22:33:05] [INFO] [ReplayManager] Replay data cleared
[22:33:05] [INFO] [BuildingLevel] Previous replay data cleared
[22:33:05] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[22:33:05] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[22:33:05] [INFO] [ReplayManager] Level: BuildingLevel
[22:33:05] [INFO] [ReplayManager] Player: Player (valid: True)
[22:33:05] [INFO] [ReplayManager] Enemies count: 10
[22:33:05] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[22:33:05] [INFO] [ReplayManager]   Enemy 0: Enemy1
[22:33:05] [INFO] [ReplayManager]   Enemy 1: Enemy2
[22:33:05] [INFO] [ReplayManager]   Enemy 2: Enemy3
[22:33:05] [INFO] [ReplayManager]   Enemy 3: Enemy4
[22:33:05] [INFO] [ReplayManager]   Enemy 4: Enemy5
[22:33:05] [INFO] [ReplayManager]   Enemy 5: Enemy6
[22:33:05] [INFO] [ReplayManager]   Enemy 6: Enemy7
[22:33:05] [INFO] [ReplayManager]   Enemy 7: Enemy8
[22:33:05] [INFO] [ReplayManager]   Enemy 8: Enemy9
[22:33:05] [INFO] [ReplayManager]   Enemy 9: Enemy10
[22:33:05] [INFO] [BuildingLevel] Replay recording started successfully
[22:33:05] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[22:33:05] [INFO] [CinemaEffects] Found player node: Player
[22:33:05] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[22:33:05] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[22:33:05] [ENEMY] [Enemy1] Registered as sound listener
[22:33:05] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 4, behavior: GUARD
[22:33:05] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[22:33:05] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[22:33:05] [ENEMY] [Enemy2] Registered as sound listener
[22:33:05] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 3, behavior: GUARD
[22:33:05] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[22:33:05] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[22:33:05] [ENEMY] [Enemy3] Registered as sound listener
[22:33:05] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 3, behavior: GUARD
[22:33:05] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[22:33:05] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[22:33:05] [ENEMY] [Enemy4] Registered as sound listener
[22:33:05] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 4, behavior: GUARD
[22:33:05] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[22:33:05] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[22:33:05] [ENEMY] [Enemy5] Registered as sound listener
[22:33:05] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 2, behavior: GUARD
[22:33:05] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[22:33:05] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[22:33:05] [ENEMY] [Enemy6] Registered as sound listener
[22:33:05] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 3, behavior: GUARD
[22:33:05] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[22:33:05] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[22:33:05] [ENEMY] [Enemy7] Registered as sound listener
[22:33:05] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 4, behavior: PATROL
[22:33:05] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[22:33:05] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[22:33:05] [ENEMY] [Enemy8] Registered as sound listener
[22:33:05] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 4, behavior: GUARD
[22:33:05] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[22:33:05] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[22:33:05] [ENEMY] [Enemy9] Registered as sound listener
[22:33:05] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 2, behavior: GUARD
[22:33:05] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[22:33:05] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[22:33:05] [ENEMY] [Enemy10] Registered as sound listener
[22:33:05] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 3, behavior: PATROL
[22:33:05] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[22:33:06] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[22:33:06] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:33:06] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:33:06] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:33:06] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:33:06] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:33:06] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=225.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:33:06] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:33:06] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:33:06] [INFO] [Player] Detecting weapon pose (frame 3)...
[22:33:06] [INFO] [Player] Detected weapon: Makarov PM (Pistol pose)
[22:33:06] [INFO] [Player] Applied Pistol arm pose: Left=(16, 6), Right=(4, 6)
[22:33:06] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[22:33:06] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[22:33:06] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[22:33:06] [INFO] [LastChance] Found player: Player
[22:33:06] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[22:33:06] [INFO] [LastChance] Connected to player Damaged signal (C#)
[22:33:06] [INFO] [LastChance] Connected to player Died signal (C#)
[22:33:06] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[22:33:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 1256), source=PLAYER (MakarovPM), range=1469, listeners=20
[22:33:06] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[22:33:06] [ENEMY] [Enemy4] Heard gunshot at (450, 1256), source_type=0, intensity=0.01, distance=499
[22:33:06] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=6
[22:33:06] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=135.0°, current=-67.5°, player=(450,1250), corner_timer=0.00
[22:33:06] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[22:33:06] [ENEMY] [Enemy3] Memory: medium confidence (0.58) - transitioning to PURSUING
[22:33:06] [ENEMY] [Enemy3] State: IDLE -> PURSUING
[22:33:06] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[22:33:06] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=116.6°, current=-168.8°, player=(450,1250), corner_timer=0.00
[22:33:07] [ENEMY] [Enemy3] PURSUING corner check: angle -129.3°
[22:33:07] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[22:33:07] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:33:07] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[22:33:07] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[22:33:07] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[22:33:07] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[22:33:07] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[22:33:07] [INFO] [LastChance] Resetting all effects (scene change detected)
[22:33:07] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[22:33:07] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[22:33:07] [ENEMY] [Enemy1] Death animation component initialized
[22:33:07] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:33:07] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[22:33:07] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[22:33:07] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[22:33:07] [ENEMY] [Enemy2] Death animation component initialized
[22:33:07] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:33:07] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[22:33:07] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[22:33:07] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[22:33:07] [INFO] [EnemyGrenade] Initialized: 1 grenades
[22:33:07] [ENEMY] [Enemy3] Death animation component initialized
[22:33:07] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:33:07] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[22:33:07] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[22:33:07] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[22:33:07] [ENEMY] [Enemy4] Death animation component initialized
[22:33:07] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:33:07] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[22:33:07] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[22:33:07] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[22:33:07] [ENEMY] [Enemy5] Death animation component initialized
[22:33:07] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:33:07] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[22:33:07] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[22:33:07] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[22:33:07] [ENEMY] [Enemy6] Death animation component initialized
[22:33:07] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:33:07] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[22:33:07] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[22:33:07] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[22:33:07] [ENEMY] [Enemy7] Death animation component initialized
[22:33:07] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:33:07] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[22:33:07] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[22:33:07] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[22:33:07] [ENEMY] [Enemy8] Death animation component initialized
[22:33:07] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:33:07] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[22:33:07] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[22:33:07] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[22:33:07] [ENEMY] [Enemy9] Death animation component initialized
[22:33:07] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:33:07] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[22:33:07] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[22:33:07] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[22:33:07] [ENEMY] [Enemy10] Death animation component initialized
[22:33:07] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:33:07] [INFO] [BloodyFeet:Player] Footprint scene loaded
[22:33:07] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[22:33:07] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[22:33:07] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[22:33:07] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[22:33:07] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[22:33:07] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[22:33:07] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[22:33:07] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[22:33:07] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[22:33:07] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: True
[22:33:07] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[22:33:07] [INFO] [Player] Ready! Ammo: 9/9, Grenades: 1/3, Health: 10/10
[22:33:07] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[22:33:07] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[22:33:07] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[22:33:07] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[22:33:07] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[22:33:07] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[22:33:07] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[22:33:07] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[22:33:07] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[22:33:07] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[22:33:07] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[22:33:07] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[22:33:07] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[22:33:07] [INFO] [BuildingLevel] Setting up weapon: makarov_pm
[22:33:07] [INFO] [ScoreManager] Level started with 10 enemies
[22:33:07] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[22:33:07] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[22:33:07] [INFO] [ReplayManager] Replay data cleared
[22:33:07] [INFO] [BuildingLevel] Previous replay data cleared
[22:33:07] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[22:33:07] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[22:33:07] [INFO] [ReplayManager] Level: BuildingLevel
[22:33:07] [INFO] [ReplayManager] Player: Player (valid: True)
[22:33:07] [INFO] [ReplayManager] Enemies count: 10
[22:33:07] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[22:33:07] [INFO] [ReplayManager]   Enemy 0: Enemy1
[22:33:07] [INFO] [ReplayManager]   Enemy 1: Enemy2
[22:33:07] [INFO] [ReplayManager]   Enemy 2: Enemy3
[22:33:07] [INFO] [ReplayManager]   Enemy 3: Enemy4
[22:33:07] [INFO] [ReplayManager]   Enemy 4: Enemy5
[22:33:07] [INFO] [ReplayManager]   Enemy 5: Enemy6
[22:33:07] [INFO] [ReplayManager]   Enemy 6: Enemy7
[22:33:07] [INFO] [ReplayManager]   Enemy 7: Enemy8
[22:33:07] [INFO] [ReplayManager]   Enemy 8: Enemy9
[22:33:07] [INFO] [ReplayManager]   Enemy 9: Enemy10
[22:33:07] [INFO] [BuildingLevel] Replay recording started successfully
[22:33:07] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[22:33:07] [INFO] [CinemaEffects] Found player node: Player
[22:33:07] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[22:33:07] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[22:33:07] [ENEMY] [Enemy1] Registered as sound listener
[22:33:07] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 4, behavior: GUARD
[22:33:07] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[22:33:07] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[22:33:07] [ENEMY] [Enemy2] Registered as sound listener
[22:33:07] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 2, behavior: GUARD
[22:33:07] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[22:33:07] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[22:33:07] [ENEMY] [Enemy3] Registered as sound listener
[22:33:07] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 2, behavior: GUARD
[22:33:07] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[22:33:07] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[22:33:07] [ENEMY] [Enemy4] Registered as sound listener
[22:33:07] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 4, behavior: GUARD
[22:33:07] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[22:33:07] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[22:33:07] [ENEMY] [Enemy5] Registered as sound listener
[22:33:07] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 3, behavior: GUARD
[22:33:07] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[22:33:07] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[22:33:07] [ENEMY] [Enemy6] Registered as sound listener
[22:33:07] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 2, behavior: GUARD
[22:33:07] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[22:33:07] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[22:33:07] [ENEMY] [Enemy7] Registered as sound listener
[22:33:07] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 2, behavior: PATROL
[22:33:07] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[22:33:07] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[22:33:07] [ENEMY] [Enemy8] Registered as sound listener
[22:33:07] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 3, behavior: GUARD
[22:33:07] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[22:33:07] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[22:33:07] [ENEMY] [Enemy9] Registered as sound listener
[22:33:07] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 3, behavior: GUARD
[22:33:07] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[22:33:07] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[22:33:07] [ENEMY] [Enemy10] Registered as sound listener
[22:33:07] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 3, behavior: PATROL
[22:33:07] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[22:33:07] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[22:33:07] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:33:07] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:33:07] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:33:07] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:33:07] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:33:07] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:33:07] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:33:07] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:33:07] [INFO] [Player] Detecting weapon pose (frame 3)...
[22:33:07] [INFO] [Player] Detected weapon: Makarov PM (Pistol pose)
[22:33:07] [INFO] [Player] Applied Pistol arm pose: Left=(16, 6), Right=(4, 6)
[22:33:07] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[22:33:07] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[22:33:07] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[22:33:07] [INFO] [LastChance] Found player: Player
[22:33:07] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[22:33:07] [INFO] [LastChance] Connected to player Damaged signal (C#)
[22:33:07] [INFO] [LastChance] Connected to player Died signal (C#)
[22:33:07] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[22:33:07] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 1256), source=PLAYER (MakarovPM), range=1469, listeners=20
[22:33:07] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[22:33:07] [ENEMY] [Enemy4] Heard gunshot at (450, 1256), source_type=0, intensity=0.01, distance=499
[22:33:07] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=6
[22:33:07] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=135.0°, current=-71.6°, player=(450,1250), corner_timer=0.00
[22:33:07] [ENEMY] [Enemy3] Memory: medium confidence (0.62) - transitioning to PURSUING
[22:33:07] [ENEMY] [Enemy3] State: IDLE -> PURSUING
[22:33:07] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=116.6°, current=11.3°, player=(450,1250), corner_timer=0.00
[22:33:07] [ENEMY] [Enemy3] PURSUING corner check: angle -129.3°
[22:33:08] [ENEMY] [Enemy3] PURSUING corner check: angle -161.0°
[22:33:08] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[22:33:08] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[22:33:08] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[22:33:08] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:33:08] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[22:33:08] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[22:33:08] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[22:33:08] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[22:33:08] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[22:33:08] [INFO] [LastChance] Resetting all effects (scene change detected)
[22:33:08] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[22:33:08] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[22:33:08] [ENEMY] [Enemy1] Death animation component initialized
[22:33:08] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:33:08] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[22:33:08] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[22:33:08] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[22:33:08] [ENEMY] [Enemy2] Death animation component initialized
[22:33:08] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:33:08] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[22:33:08] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[22:33:08] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[22:33:08] [ENEMY] [Enemy3] Death animation component initialized
[22:33:08] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:33:08] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[22:33:08] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[22:33:08] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[22:33:08] [ENEMY] [Enemy4] Death animation component initialized
[22:33:08] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:33:08] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[22:33:08] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[22:33:08] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[22:33:08] [ENEMY] [Enemy5] Death animation component initialized
[22:33:08] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:33:08] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[22:33:08] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[22:33:08] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[22:33:08] [ENEMY] [Enemy6] Death animation component initialized
[22:33:08] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:33:08] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[22:33:08] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[22:33:08] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[22:33:08] [ENEMY] [Enemy7] Death animation component initialized
[22:33:08] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:33:08] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[22:33:08] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[22:33:08] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[22:33:08] [ENEMY] [Enemy8] Death animation component initialized
[22:33:08] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:33:08] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[22:33:08] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[22:33:08] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[22:33:08] [ENEMY] [Enemy9] Death animation component initialized
[22:33:08] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:33:08] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[22:33:08] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[22:33:08] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[22:33:08] [ENEMY] [Enemy10] Death animation component initialized
[22:33:08] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:33:08] [INFO] [BloodyFeet:Player] Footprint scene loaded
[22:33:08] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[22:33:08] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[22:33:08] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[22:33:08] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[22:33:08] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[22:33:08] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[22:33:08] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[22:33:08] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[22:33:08] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[22:33:08] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: True
[22:33:08] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[22:33:08] [INFO] [Player] Ready! Ammo: 9/9, Grenades: 1/3, Health: 10/10
[22:33:08] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[22:33:08] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[22:33:08] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[22:33:08] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[22:33:08] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[22:33:08] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[22:33:08] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[22:33:08] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[22:33:08] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[22:33:08] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[22:33:08] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[22:33:08] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[22:33:08] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[22:33:08] [INFO] [BuildingLevel] Setting up weapon: makarov_pm
[22:33:08] [INFO] [ScoreManager] Level started with 10 enemies
[22:33:08] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[22:33:08] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[22:33:08] [INFO] [ReplayManager] Replay data cleared
[22:33:08] [INFO] [BuildingLevel] Previous replay data cleared
[22:33:08] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[22:33:08] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[22:33:08] [INFO] [ReplayManager] Level: BuildingLevel
[22:33:08] [INFO] [ReplayManager] Player: Player (valid: True)
[22:33:08] [INFO] [ReplayManager] Enemies count: 10
[22:33:08] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[22:33:08] [INFO] [ReplayManager]   Enemy 0: Enemy1
[22:33:08] [INFO] [ReplayManager]   Enemy 1: Enemy2
[22:33:08] [INFO] [ReplayManager]   Enemy 2: Enemy3
[22:33:08] [INFO] [ReplayManager]   Enemy 3: Enemy4
[22:33:08] [INFO] [ReplayManager]   Enemy 4: Enemy5
[22:33:08] [INFO] [ReplayManager]   Enemy 5: Enemy6
[22:33:08] [INFO] [ReplayManager]   Enemy 6: Enemy7
[22:33:08] [INFO] [ReplayManager]   Enemy 7: Enemy8
[22:33:08] [INFO] [ReplayManager]   Enemy 8: Enemy9
[22:33:08] [INFO] [ReplayManager]   Enemy 9: Enemy10
[22:33:08] [INFO] [BuildingLevel] Replay recording started successfully
[22:33:08] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[22:33:08] [INFO] [CinemaEffects] Found player node: Player
[22:33:08] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[22:33:08] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[22:33:08] [ENEMY] [Enemy1] Registered as sound listener
[22:33:08] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 3, behavior: GUARD
[22:33:08] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[22:33:08] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[22:33:08] [ENEMY] [Enemy2] Registered as sound listener
[22:33:08] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 4, behavior: GUARD
[22:33:08] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[22:33:08] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[22:33:08] [ENEMY] [Enemy3] Registered as sound listener
[22:33:08] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 3, behavior: GUARD
[22:33:08] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[22:33:08] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[22:33:08] [ENEMY] [Enemy4] Registered as sound listener
[22:33:08] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 2, behavior: GUARD
[22:33:08] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[22:33:08] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[22:33:08] [ENEMY] [Enemy5] Registered as sound listener
[22:33:08] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 4, behavior: GUARD
[22:33:08] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[22:33:08] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[22:33:08] [ENEMY] [Enemy6] Registered as sound listener
[22:33:08] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 2, behavior: GUARD
[22:33:08] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[22:33:08] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[22:33:08] [ENEMY] [Enemy7] Registered as sound listener
[22:33:08] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 2, behavior: PATROL
[22:33:08] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[22:33:08] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[22:33:08] [ENEMY] [Enemy8] Registered as sound listener
[22:33:08] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 3, behavior: GUARD
[22:33:08] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[22:33:08] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[22:33:08] [ENEMY] [Enemy9] Registered as sound listener
[22:33:08] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 4, behavior: GUARD
[22:33:08] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[22:33:08] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[22:33:08] [ENEMY] [Enemy10] Registered as sound listener
[22:33:08] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 4, behavior: PATROL
[22:33:08] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[22:33:08] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[22:33:08] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:33:08] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:33:08] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=123.7°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:33:08] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:33:08] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:33:08] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:33:08] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=78.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:33:08] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:33:08] [INFO] [Player] Detecting weapon pose (frame 3)...
[22:33:08] [INFO] [Player] Detected weapon: Makarov PM (Pistol pose)
[22:33:08] [INFO] [Player] Applied Pistol arm pose: Left=(16, 6), Right=(4, 6)
[22:33:08] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[22:33:08] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[22:33:08] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[22:33:08] [INFO] [LastChance] Found player: Player
[22:33:08] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[22:33:08] [INFO] [LastChance] Connected to player Damaged signal (C#)
[22:33:08] [INFO] [LastChance] Connected to player Died signal (C#)
[22:33:08] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[22:33:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 1256), source=PLAYER (MakarovPM), range=1469, listeners=20
[22:33:08] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[22:33:08] [ENEMY] [Enemy4] Heard gunshot at (450, 1256), source_type=0, intensity=0.01, distance=499
[22:33:08] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=6
[22:33:08] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=135.0°, current=-74.5°, player=(450,1250), corner_timer=0.00
[22:33:08] [ENEMY] [Enemy3] Memory: medium confidence (0.62) - transitioning to PURSUING
[22:33:08] [ENEMY] [Enemy3] State: IDLE -> PURSUING
[22:33:08] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=116.6°, current=88.8°, player=(450,1250), corner_timer=0.00
[22:33:08] [ENEMY] [Enemy3] PURSUING corner check: angle -129.3°
[22:33:09] [ENEMY] [Enemy3] PURSUING corner check: angle -161.0°
[22:33:09] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[22:33:09] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[22:33:09] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[22:33:09] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:33:09] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[22:33:09] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[22:33:09] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[22:33:09] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[22:33:09] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[22:33:09] [INFO] [LastChance] Resetting all effects (scene change detected)
[22:33:09] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[22:33:09] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[22:33:09] [ENEMY] [Enemy1] Death animation component initialized
[22:33:09] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:33:09] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[22:33:09] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[22:33:09] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[22:33:09] [ENEMY] [Enemy2] Death animation component initialized
[22:33:09] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:33:09] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[22:33:09] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[22:33:09] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[22:33:09] [ENEMY] [Enemy3] Death animation component initialized
[22:33:09] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:33:09] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[22:33:09] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[22:33:09] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[22:33:09] [ENEMY] [Enemy4] Death animation component initialized
[22:33:09] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:33:09] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[22:33:09] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[22:33:09] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[22:33:09] [ENEMY] [Enemy5] Death animation component initialized
[22:33:09] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:33:09] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[22:33:09] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[22:33:09] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[22:33:09] [ENEMY] [Enemy6] Death animation component initialized
[22:33:09] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:33:09] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[22:33:09] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[22:33:09] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[22:33:09] [ENEMY] [Enemy7] Death animation component initialized
[22:33:09] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:33:09] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[22:33:09] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[22:33:09] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[22:33:09] [ENEMY] [Enemy8] Death animation component initialized
[22:33:09] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:33:09] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[22:33:09] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[22:33:09] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[22:33:09] [ENEMY] [Enemy9] Death animation component initialized
[22:33:09] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:33:09] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[22:33:09] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[22:33:09] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[22:33:09] [INFO] [EnemyGrenade] Initialized: 1 grenades
[22:33:09] [ENEMY] [Enemy10] Death animation component initialized
[22:33:09] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:33:09] [INFO] [BloodyFeet:Player] Footprint scene loaded
[22:33:09] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[22:33:09] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[22:33:09] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[22:33:09] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[22:33:09] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[22:33:09] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[22:33:09] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[22:33:09] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[22:33:09] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[22:33:09] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: True
[22:33:09] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[22:33:09] [INFO] [Player] Ready! Ammo: 9/9, Grenades: 1/3, Health: 10/10
[22:33:09] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[22:33:09] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[22:33:09] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[22:33:09] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[22:33:09] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[22:33:09] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[22:33:09] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[22:33:09] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[22:33:09] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[22:33:09] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[22:33:09] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[22:33:09] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[22:33:09] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[22:33:09] [INFO] [BuildingLevel] Setting up weapon: makarov_pm
[22:33:09] [INFO] [ScoreManager] Level started with 10 enemies
[22:33:09] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[22:33:09] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[22:33:09] [INFO] [ReplayManager] Replay data cleared
[22:33:09] [INFO] [BuildingLevel] Previous replay data cleared
[22:33:09] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[22:33:09] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[22:33:09] [INFO] [ReplayManager] Level: BuildingLevel
[22:33:09] [INFO] [ReplayManager] Player: Player (valid: True)
[22:33:09] [INFO] [ReplayManager] Enemies count: 10
[22:33:09] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[22:33:09] [INFO] [ReplayManager]   Enemy 0: Enemy1
[22:33:09] [INFO] [ReplayManager]   Enemy 1: Enemy2
[22:33:09] [INFO] [ReplayManager]   Enemy 2: Enemy3
[22:33:09] [INFO] [ReplayManager]   Enemy 3: Enemy4
[22:33:09] [INFO] [ReplayManager]   Enemy 4: Enemy5
[22:33:09] [INFO] [ReplayManager]   Enemy 5: Enemy6
[22:33:09] [INFO] [ReplayManager]   Enemy 6: Enemy7
[22:33:09] [INFO] [ReplayManager]   Enemy 7: Enemy8
[22:33:09] [INFO] [ReplayManager]   Enemy 8: Enemy9
[22:33:09] [INFO] [ReplayManager]   Enemy 9: Enemy10
[22:33:09] [INFO] [BuildingLevel] Replay recording started successfully
[22:33:09] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[22:33:09] [INFO] [CinemaEffects] Found player node: Player
[22:33:09] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[22:33:09] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[22:33:09] [ENEMY] [Enemy1] Registered as sound listener
[22:33:09] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 3, behavior: GUARD
[22:33:09] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[22:33:09] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[22:33:09] [ENEMY] [Enemy2] Registered as sound listener
[22:33:09] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 3, behavior: GUARD
[22:33:09] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[22:33:09] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[22:33:09] [ENEMY] [Enemy3] Registered as sound listener
[22:33:09] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 2, behavior: GUARD
[22:33:09] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[22:33:09] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[22:33:09] [ENEMY] [Enemy4] Registered as sound listener
[22:33:09] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 3, behavior: GUARD
[22:33:09] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[22:33:09] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[22:33:09] [ENEMY] [Enemy5] Registered as sound listener
[22:33:09] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 4, behavior: GUARD
[22:33:09] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[22:33:09] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[22:33:09] [ENEMY] [Enemy6] Registered as sound listener
[22:33:09] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 2, behavior: GUARD
[22:33:09] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[22:33:09] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[22:33:09] [ENEMY] [Enemy7] Registered as sound listener
[22:33:09] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 2, behavior: PATROL
[22:33:09] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[22:33:09] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[22:33:09] [ENEMY] [Enemy8] Registered as sound listener
[22:33:09] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 4, behavior: GUARD
[22:33:09] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[22:33:09] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[22:33:09] [ENEMY] [Enemy9] Registered as sound listener
[22:33:09] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 3, behavior: GUARD
[22:33:09] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[22:33:09] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[22:33:09] [ENEMY] [Enemy10] Registered as sound listener
[22:33:09] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 2, behavior: PATROL
[22:33:09] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[22:33:09] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[22:33:09] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=33.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:33:09] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:33:09] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=236.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:33:09] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:33:09] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:33:09] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:33:09] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=213.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:33:09] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:33:09] [INFO] [Player] Detecting weapon pose (frame 3)...
[22:33:09] [INFO] [Player] Detected weapon: Makarov PM (Pistol pose)
[22:33:09] [INFO] [Player] Applied Pistol arm pose: Left=(16, 6), Right=(4, 6)
[22:33:09] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[22:33:09] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[22:33:09] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[22:33:09] [INFO] [LastChance] Found player: Player
[22:33:09] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[22:33:09] [INFO] [LastChance] Connected to player Damaged signal (C#)
[22:33:09] [INFO] [LastChance] Connected to player Died signal (C#)
[22:33:09] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[22:33:09] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 1256), source=PLAYER (MakarovPM), range=1469, listeners=20
[22:33:09] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[22:33:09] [ENEMY] [Enemy4] Heard gunshot at (450, 1256), source_type=0, intensity=0.01, distance=499
[22:33:09] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=6
[22:33:09] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=135.0°, current=-65.9°, player=(450,1250), corner_timer=0.00
[22:33:09] [ENEMY] [Enemy3] Memory: medium confidence (0.62) - transitioning to PURSUING
[22:33:09] [ENEMY] [Enemy3] State: IDLE -> PURSUING
[22:33:09] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=116.6°, current=-88.8°, player=(450,1250), corner_timer=0.00
[22:33:09] [ENEMY] [Enemy3] PURSUING corner check: angle -129.3°
[22:33:10] [ENEMY] [Enemy3] PURSUING corner check: angle -161.0°
[22:33:10] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[22:33:10] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[22:33:10] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:33:10] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[22:33:10] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[22:33:10] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[22:33:10] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[22:33:10] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[22:33:10] [INFO] [LastChance] Resetting all effects (scene change detected)
[22:33:10] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[22:33:10] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[22:33:10] [ENEMY] [Enemy1] Death animation component initialized
[22:33:10] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:33:10] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[22:33:10] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[22:33:10] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[22:33:10] [ENEMY] [Enemy2] Death animation component initialized
[22:33:10] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:33:10] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[22:33:10] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[22:33:10] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[22:33:10] [ENEMY] [Enemy3] Death animation component initialized
[22:33:10] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:33:10] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[22:33:10] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[22:33:10] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[22:33:10] [INFO] [EnemyGrenade] Initialized: 1 grenades
[22:33:10] [ENEMY] [Enemy4] Death animation component initialized
[22:33:10] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:33:10] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[22:33:10] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[22:33:10] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[22:33:10] [ENEMY] [Enemy5] Death animation component initialized
[22:33:10] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:33:10] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[22:33:10] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[22:33:10] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[22:33:10] [ENEMY] [Enemy6] Death animation component initialized
[22:33:10] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:33:10] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[22:33:10] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[22:33:10] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[22:33:10] [ENEMY] [Enemy7] Death animation component initialized
[22:33:10] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:33:10] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[22:33:10] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[22:33:10] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[22:33:10] [ENEMY] [Enemy8] Death animation component initialized
[22:33:10] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:33:10] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[22:33:10] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[22:33:10] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[22:33:10] [ENEMY] [Enemy9] Death animation component initialized
[22:33:10] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:33:10] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[22:33:10] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[22:33:10] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[22:33:10] [ENEMY] [Enemy10] Death animation component initialized
[22:33:10] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:33:10] [INFO] [BloodyFeet:Player] Footprint scene loaded
[22:33:10] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[22:33:10] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[22:33:10] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[22:33:10] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[22:33:10] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[22:33:10] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[22:33:10] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[22:33:10] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[22:33:10] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[22:33:10] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: True
[22:33:10] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[22:33:10] [INFO] [Player] Ready! Ammo: 9/9, Grenades: 1/3, Health: 10/10
[22:33:10] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[22:33:10] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[22:33:10] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[22:33:10] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[22:33:10] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[22:33:10] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[22:33:10] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[22:33:10] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[22:33:10] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[22:33:10] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[22:33:10] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[22:33:10] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[22:33:10] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[22:33:10] [INFO] [BuildingLevel] Setting up weapon: makarov_pm
[22:33:10] [INFO] [ScoreManager] Level started with 10 enemies
[22:33:10] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[22:33:10] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[22:33:10] [INFO] [ReplayManager] Replay data cleared
[22:33:10] [INFO] [BuildingLevel] Previous replay data cleared
[22:33:10] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[22:33:10] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[22:33:10] [INFO] [ReplayManager] Level: BuildingLevel
[22:33:10] [INFO] [ReplayManager] Player: Player (valid: True)
[22:33:10] [INFO] [ReplayManager] Enemies count: 10
[22:33:10] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[22:33:10] [INFO] [ReplayManager]   Enemy 0: Enemy1
[22:33:10] [INFO] [ReplayManager]   Enemy 1: Enemy2
[22:33:10] [INFO] [ReplayManager]   Enemy 2: Enemy3
[22:33:10] [INFO] [ReplayManager]   Enemy 3: Enemy4
[22:33:10] [INFO] [ReplayManager]   Enemy 4: Enemy5
[22:33:10] [INFO] [ReplayManager]   Enemy 5: Enemy6
[22:33:10] [INFO] [ReplayManager]   Enemy 6: Enemy7
[22:33:10] [INFO] [ReplayManager]   Enemy 7: Enemy8
[22:33:10] [INFO] [ReplayManager]   Enemy 8: Enemy9
[22:33:10] [INFO] [ReplayManager]   Enemy 9: Enemy10
[22:33:10] [INFO] [BuildingLevel] Replay recording started successfully
[22:33:10] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[22:33:10] [INFO] [CinemaEffects] Found player node: Player
[22:33:10] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[22:33:10] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[22:33:10] [ENEMY] [Enemy1] Registered as sound listener
[22:33:10] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 4, behavior: GUARD
[22:33:10] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[22:33:10] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[22:33:10] [ENEMY] [Enemy2] Registered as sound listener
[22:33:10] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 2, behavior: GUARD
[22:33:10] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[22:33:10] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[22:33:10] [ENEMY] [Enemy3] Registered as sound listener
[22:33:10] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 2, behavior: GUARD
[22:33:10] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[22:33:10] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[22:33:10] [ENEMY] [Enemy4] Registered as sound listener
[22:33:10] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 4, behavior: GUARD
[22:33:10] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[22:33:10] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[22:33:10] [ENEMY] [Enemy5] Registered as sound listener
[22:33:10] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 2, behavior: GUARD
[22:33:10] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[22:33:10] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[22:33:10] [ENEMY] [Enemy6] Registered as sound listener
[22:33:10] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 3, behavior: GUARD
[22:33:10] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[22:33:10] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[22:33:10] [ENEMY] [Enemy7] Registered as sound listener
[22:33:10] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 2, behavior: PATROL
[22:33:10] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[22:33:10] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[22:33:10] [ENEMY] [Enemy8] Registered as sound listener
[22:33:10] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 3, behavior: GUARD
[22:33:10] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[22:33:10] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[22:33:10] [ENEMY] [Enemy9] Registered as sound listener
[22:33:10] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 4, behavior: GUARD
[22:33:10] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[22:33:10] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[22:33:10] [ENEMY] [Enemy10] Registered as sound listener
[22:33:10] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 4, behavior: PATROL
[22:33:10] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[22:33:10] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[22:33:10] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:33:10] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:33:10] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=281.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:33:10] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:33:10] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:33:10] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:33:10] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:33:10] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=337.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:33:10] [INFO] [Player] Detecting weapon pose (frame 3)...
[22:33:10] [INFO] [Player] Detected weapon: Makarov PM (Pistol pose)
[22:33:10] [INFO] [Player] Applied Pistol arm pose: Left=(16, 6), Right=(4, 6)
[22:33:10] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[22:33:10] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[22:33:10] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[22:33:10] [INFO] [LastChance] Found player: Player
[22:33:10] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[22:33:10] [INFO] [LastChance] Connected to player Damaged signal (C#)
[22:33:10] [INFO] [LastChance] Connected to player Died signal (C#)
[22:33:10] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[22:33:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 1256), source=PLAYER (MakarovPM), range=1469, listeners=20
[22:33:10] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[22:33:10] [ENEMY] [Enemy4] Heard gunshot at (450, 1256), source_type=0, intensity=0.01, distance=499
[22:33:10] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=6
[22:33:10] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=135.0°, current=-65.9°, player=(450,1250), corner_timer=0.00
[22:33:10] [ENEMY] [Enemy3] Memory: medium confidence (0.62) - transitioning to PURSUING
[22:33:10] [ENEMY] [Enemy3] State: IDLE -> PURSUING
[22:33:10] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=116.6°, current=-78.7°, player=(450,1250), corner_timer=0.00
[22:33:10] [ENEMY] [Enemy3] PURSUING corner check: angle -129.3°
[22:33:11] [ENEMY] [Enemy3] PURSUING corner check: angle -161.0°
[22:33:11] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[22:33:11] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[22:33:11] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:33:11] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[22:33:11] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[22:33:11] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[22:33:11] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[22:33:11] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[22:33:11] [INFO] [LastChance] Resetting all effects (scene change detected)
[22:33:11] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[22:33:11] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[22:33:11] [ENEMY] [Enemy1] Death animation component initialized
[22:33:11] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:33:11] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[22:33:11] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[22:33:11] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[22:33:11] [ENEMY] [Enemy2] Death animation component initialized
[22:33:11] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:33:11] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[22:33:11] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[22:33:11] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[22:33:11] [ENEMY] [Enemy3] Death animation component initialized
[22:33:11] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:33:11] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[22:33:11] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[22:33:11] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[22:33:11] [ENEMY] [Enemy4] Death animation component initialized
[22:33:11] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:33:11] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[22:33:11] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[22:33:11] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[22:33:11] [ENEMY] [Enemy5] Death animation component initialized
[22:33:11] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:33:11] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[22:33:11] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[22:33:11] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[22:33:11] [ENEMY] [Enemy6] Death animation component initialized
[22:33:11] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:33:11] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[22:33:11] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[22:33:11] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[22:33:11] [ENEMY] [Enemy7] Death animation component initialized
[22:33:11] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:33:11] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[22:33:11] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[22:33:11] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[22:33:11] [ENEMY] [Enemy8] Death animation component initialized
[22:33:11] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:33:11] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[22:33:11] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[22:33:11] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[22:33:11] [ENEMY] [Enemy9] Death animation component initialized
[22:33:11] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:33:11] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[22:33:11] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[22:33:11] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[22:33:11] [INFO] [EnemyGrenade] Initialized: 1 grenades
[22:33:11] [ENEMY] [Enemy10] Death animation component initialized
[22:33:11] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:33:11] [INFO] [BloodyFeet:Player] Footprint scene loaded
[22:33:11] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[22:33:11] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[22:33:11] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[22:33:11] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[22:33:11] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[22:33:11] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[22:33:11] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[22:33:11] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[22:33:11] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[22:33:11] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: True
[22:33:11] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[22:33:11] [INFO] [Player] Ready! Ammo: 9/9, Grenades: 1/3, Health: 10/10
[22:33:11] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[22:33:11] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[22:33:11] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[22:33:11] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[22:33:11] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[22:33:11] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[22:33:11] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[22:33:11] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[22:33:11] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[22:33:11] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[22:33:11] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[22:33:11] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[22:33:11] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[22:33:11] [INFO] [BuildingLevel] Setting up weapon: makarov_pm
[22:33:11] [INFO] [ScoreManager] Level started with 10 enemies
[22:33:11] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[22:33:11] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[22:33:11] [INFO] [ReplayManager] Replay data cleared
[22:33:11] [INFO] [BuildingLevel] Previous replay data cleared
[22:33:11] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[22:33:11] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[22:33:11] [INFO] [ReplayManager] Level: BuildingLevel
[22:33:11] [INFO] [ReplayManager] Player: Player (valid: True)
[22:33:11] [INFO] [ReplayManager] Enemies count: 10
[22:33:11] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[22:33:11] [INFO] [ReplayManager]   Enemy 0: Enemy1
[22:33:11] [INFO] [ReplayManager]   Enemy 1: Enemy2
[22:33:11] [INFO] [ReplayManager]   Enemy 2: Enemy3
[22:33:11] [INFO] [ReplayManager]   Enemy 3: Enemy4
[22:33:11] [INFO] [ReplayManager]   Enemy 4: Enemy5
[22:33:11] [INFO] [ReplayManager]   Enemy 5: Enemy6
[22:33:11] [INFO] [ReplayManager]   Enemy 6: Enemy7
[22:33:11] [INFO] [ReplayManager]   Enemy 7: Enemy8
[22:33:11] [INFO] [ReplayManager]   Enemy 8: Enemy9
[22:33:11] [INFO] [ReplayManager]   Enemy 9: Enemy10
[22:33:11] [INFO] [BuildingLevel] Replay recording started successfully
[22:33:11] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[22:33:11] [INFO] [CinemaEffects] Found player node: Player
[22:33:11] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[22:33:11] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[22:33:11] [ENEMY] [Enemy1] Registered as sound listener
[22:33:11] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 2, behavior: GUARD
[22:33:11] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[22:33:11] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[22:33:11] [ENEMY] [Enemy2] Registered as sound listener
[22:33:11] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 3, behavior: GUARD
[22:33:11] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[22:33:11] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[22:33:11] [ENEMY] [Enemy3] Registered as sound listener
[22:33:11] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 3, behavior: GUARD
[22:33:11] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[22:33:11] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[22:33:11] [ENEMY] [Enemy4] Registered as sound listener
[22:33:11] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 4, behavior: GUARD
[22:33:11] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[22:33:11] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[22:33:11] [ENEMY] [Enemy5] Registered as sound listener
[22:33:11] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 3, behavior: GUARD
[22:33:11] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[22:33:11] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[22:33:11] [ENEMY] [Enemy6] Registered as sound listener
[22:33:11] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 4, behavior: GUARD
[22:33:11] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[22:33:11] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[22:33:11] [ENEMY] [Enemy7] Registered as sound listener
[22:33:11] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 3, behavior: PATROL
[22:33:11] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[22:33:11] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[22:33:11] [ENEMY] [Enemy8] Registered as sound listener
[22:33:11] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 2, behavior: GUARD
[22:33:11] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[22:33:11] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[22:33:11] [ENEMY] [Enemy9] Registered as sound listener
[22:33:11] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 4, behavior: GUARD
[22:33:11] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[22:33:11] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[22:33:11] [ENEMY] [Enemy10] Registered as sound listener
[22:33:11] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 4, behavior: PATROL
[22:33:11] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[22:33:11] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[22:33:11] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:33:11] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:33:11] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:33:11] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:33:11] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:33:11] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=225.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:33:11] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:33:11] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=180.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:33:11] [INFO] [Player] Detecting weapon pose (frame 3)...
[22:33:11] [INFO] [Player] Detected weapon: Makarov PM (Pistol pose)
[22:33:11] [INFO] [Player] Applied Pistol arm pose: Left=(16, 6), Right=(4, 6)
[22:33:11] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[22:33:11] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[22:33:11] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[22:33:11] [INFO] [LastChance] Found player: Player
[22:33:11] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[22:33:11] [INFO] [LastChance] Connected to player Damaged signal (C#)
[22:33:11] [INFO] [LastChance] Connected to player Died signal (C#)
[22:33:11] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[22:33:11] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 1256), source=PLAYER (MakarovPM), range=1469, listeners=20
[22:33:11] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[22:33:11] [ENEMY] [Enemy4] Heard gunshot at (450, 1256), source_type=0, intensity=0.01, distance=499
[22:33:11] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=6
[22:33:11] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=135.0°, current=-67.5°, player=(450,1250), corner_timer=0.00
[22:33:11] [ENEMY] [Enemy3] Memory: medium confidence (0.63) - transitioning to PURSUING
[22:33:11] [ENEMY] [Enemy3] State: IDLE -> PURSUING
[22:33:11] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=116.6°, current=-88.8°, player=(450,1250), corner_timer=0.00
[22:33:11] [ENEMY] [Enemy3] PURSUING corner check: angle -129.3°
[22:33:12] [ENEMY] [Enemy3] PURSUING corner check: angle -161.0°
[22:33:12] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[22:33:12] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[22:33:12] [ENEMY] [Enemy3] PURSUING corner check: angle 19.0°
[22:33:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 1256), source=PLAYER (MakarovPM), range=1469, listeners=10
[22:33:12] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=5
[22:33:12] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[22:33:12] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[22:33:12] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,1250), corner_timer=0.30
[22:33:12] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,1250), corner_timer=0.30
[22:33:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 1256), source=PLAYER (MakarovPM), range=1469, listeners=10
[22:33:12] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=5
[22:33:12] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(450, 1256), shooter_id=3625606710776, bullet_pos=(1679.767, 1358.13)
[22:33:12] [INFO] [Bullet] Using shooter_position, distance=1234.00073242188
[22:33:12] [INFO] [Bullet] Distance to wall: 1234.00073242188 (84.0253789978659% of viewport)
[22:33:12] [INFO] [Bullet] Distance-based penetration chance: 48.6370578358232%
[22:33:12] [INFO] [Bullet] Penetration failed (distance roll)
[22:33:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 1256), source=PLAYER (MakarovPM), range=1469, listeners=10
[22:33:13] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=5
[22:33:13] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(450,1250), corner_timer=-0.02
[22:33:13] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[22:33:13] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.7°, player=(450,1250), corner_timer=-0.02
[22:33:13] [ENEMY] [Enemy10] PATROL corner check: angle 14.6°
[22:33:13] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(450,1250), corner_timer=0.30
[22:33:13] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.6°, current=53.0°, player=(450,1250), corner_timer=0.30
[22:33:13] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[22:33:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 1256), source=PLAYER (MakarovPM), range=1469, listeners=10
[22:33:13] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=5
[22:33:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 1256), source=PLAYER (MakarovPM), range=1469, listeners=10
[22:33:13] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=5
[22:33:13] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.3°, player=(450,1250), corner_timer=-0.02
[22:33:13] [ENEMY] [Enemy10] PATROL corner check: angle 7.1°
[22:33:13] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.1°, current=16.9°, player=(450,1250), corner_timer=0.30
[22:33:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 1256), source=PLAYER (MakarovPM), range=1469, listeners=10
[22:33:13] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=5
[22:33:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(450, 1256), shooter_id=3625606710776, bullet_pos=(1326.079, 1374.064)
[22:33:13] [INFO] [Bullet] Using shooter_position, distance=883.999145507813
[22:33:13] [INFO] [Bullet] Distance to wall: 883.999145507813 (60.1931273487199% of viewport)
[22:33:13] [INFO] [Bullet] Distance-based penetration chance: 76.4413514264935%
[22:33:13] [INFO] [Bullet] Caliber cannot penetrate walls
[22:33:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(450, 1256), shooter_id=3625606710776, bullet_pos=(1191.166, 1375.049)
[22:33:13] [INFO] [Bullet] Using shooter_position, distance=750.666442871094
[22:33:13] [INFO] [Bullet] Distance to wall: 750.666442871094 (51.1142584489647% of viewport)
[22:33:13] [INFO] [Bullet] Distance-based penetration chance: 87.0333651428745%
[22:33:13] [INFO] [Bullet] Caliber cannot penetrate walls
[22:33:13] [ENEMY] [Enemy4] PURSUING corner check: angle -91.8°
[22:33:13] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(450,1250), corner_timer=-0.02
[22:33:13] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[22:33:13] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.7°, player=(450,1250), corner_timer=0.30
[22:33:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 1256), source=PLAYER (MakarovPM), range=1469, listeners=10
[22:33:13] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=5
[22:33:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(450, 1256), shooter_id=3625606710776, bullet_pos=(1676.875, 1388.399)
[22:33:13] [INFO] [Bullet] Using shooter_position, distance=1233.99829101563
[22:33:13] [INFO] [Bullet] Distance to wall: 1233.99829101563 (84.0252127580249% of viewport)
[22:33:13] [INFO] [Bullet] Distance-based penetration chance: 48.6372517823042%
[22:33:13] [INFO] [Bullet] Caliber cannot penetrate walls
[22:33:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(450, 1256), shooter_id=3625606710776, bullet_pos=(1021.611, 1375.646)
[22:33:14] [INFO] [Bullet] Using shooter_position, distance=583.998962402344
[22:33:14] [INFO] [Bullet] Distance to wall: 583.998962402344 (39.7655632293752% of viewport)
[22:33:14] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:33:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(450, 1256), shooter_id=3625606710776, bullet_pos=(1224.91, 1375.036)
[22:33:14] [INFO] [Bullet] Using shooter_position, distance=783.999572753906
[22:33:14] [INFO] [Bullet] Distance to wall: 783.999572753906 (53.3839725569065% of viewport)
[22:33:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 1256), source=PLAYER (MakarovPM), range=1469, listeners=10
[22:33:14] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=5
[22:33:14] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(450,1250), corner_timer=-0.02
[22:33:14] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[22:33:14] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.8°, current=6.3°, player=(450,1250), corner_timer=0.30
[22:33:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(450, 1256), shooter_id=3625606710776, bullet_pos=(985.819, 1383.014)
[22:33:14] [INFO] [Bullet] Using shooter_position, distance=550.667236328125
[22:33:14] [INFO] [Bullet] Distance to wall: 550.667236328125 (37.4959447093419% of viewport)
[22:33:14] [INFO] [Bullet] Within ricochet range - trying ricochet first
[22:33:14] [INFO] [Bullet] Caliber cannot penetrate walls
[22:33:14] [ENEMY] [Enemy1] Player ammo empty: false -> true
[22:33:14] [ENEMY] [Enemy2] Player ammo empty: false -> true
[22:33:14] [ENEMY] [Enemy3] Player ammo empty: false -> true
[22:33:14] [ENEMY] [Enemy4] Player ammo empty: false -> true
[22:33:14] [ENEMY] [Enemy5] Player ammo empty: false -> true
[22:33:14] [ENEMY] [Enemy6] Player ammo empty: false -> true
[22:33:14] [ENEMY] [Enemy7] Player ammo empty: false -> true
[22:33:14] [ENEMY] [Enemy8] Player ammo empty: false -> true
[22:33:14] [ENEMY] [Enemy9] Player ammo empty: false -> true
[22:33:14] [ENEMY] [Enemy10] Player ammo empty: false -> true
[22:33:14] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(450, 1250), source=PLAYER (Player), range=600, listeners=10
[22:33:14] [ENEMY] [Enemy3] Heard player EMPTY_CLICK at (450, 1250), intensity=0.03, distance=298
[22:33:14] [ENEMY] [Enemy4] Heard player EMPTY_CLICK at (450, 1250), intensity=0.03, distance=296
[22:33:14] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=8, self=0, below_threshold=0
[22:33:14] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=912), can_see=false
[22:33:14] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=702), can_see=false
[22:33:14] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=298), can_see=false
[22:33:14] [ENEMY] [Enemy3] Pursuing vulnerability sound at (450, 1250), distance=298
[22:33:14] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=296), can_see=false
[22:33:14] [ENEMY] [Enemy4] Pursuing vulnerability sound at (450, 1250), distance=296
[22:33:14] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1540), can_see=false
[22:33:14] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1700), can_see=false
[22:33:14] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1297), can_see=false
[22:33:14] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1464), can_see=false
[22:33:14] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1677), can_see=false
[22:33:14] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=793), can_see=false
[22:33:14] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=10
[22:33:14] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[22:33:14] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:33:14] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[22:33:14] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[22:33:14] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[22:33:14] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[22:33:14] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[22:33:14] [INFO] [LastChance] Resetting all effects (scene change detected)
[22:33:14] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[22:33:14] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[22:33:14] [ENEMY] [Enemy1] Death animation component initialized
[22:33:14] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:33:14] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[22:33:14] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[22:33:14] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[22:33:14] [ENEMY] [Enemy2] Death animation component initialized
[22:33:14] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:33:14] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[22:33:14] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[22:33:14] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[22:33:14] [ENEMY] [Enemy3] Death animation component initialized
[22:33:14] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:33:14] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[22:33:14] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[22:33:14] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[22:33:14] [ENEMY] [Enemy4] Death animation component initialized
[22:33:14] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:33:14] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[22:33:14] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[22:33:14] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[22:33:14] [ENEMY] [Enemy5] Death animation component initialized
[22:33:14] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:33:14] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[22:33:14] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[22:33:14] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[22:33:14] [ENEMY] [Enemy6] Death animation component initialized
[22:33:14] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:33:14] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[22:33:14] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[22:33:14] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[22:33:14] [ENEMY] [Enemy7] Death animation component initialized
[22:33:14] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:33:14] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[22:33:14] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[22:33:14] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[22:33:14] [ENEMY] [Enemy8] Death animation component initialized
[22:33:14] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:33:14] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[22:33:14] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[22:33:14] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[22:33:14] [ENEMY] [Enemy9] Death animation component initialized
[22:33:14] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:33:14] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[22:33:14] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[22:33:14] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[22:33:14] [ENEMY] [Enemy10] Death animation component initialized
[22:33:14] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:33:14] [INFO] [BloodyFeet:Player] Footprint scene loaded
[22:33:14] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[22:33:14] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[22:33:14] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[22:33:14] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[22:33:14] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[22:33:14] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[22:33:14] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[22:33:14] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[22:33:14] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[22:33:14] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: True
[22:33:14] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[22:33:14] [INFO] [Player] Ready! Ammo: 9/9, Grenades: 1/3, Health: 10/10
[22:33:14] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[22:33:14] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[22:33:14] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[22:33:14] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[22:33:14] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[22:33:14] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[22:33:14] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[22:33:14] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[22:33:14] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[22:33:14] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[22:33:14] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[22:33:14] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[22:33:14] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[22:33:14] [INFO] [BuildingLevel] Setting up weapon: makarov_pm
[22:33:14] [INFO] [ScoreManager] Level started with 10 enemies
[22:33:14] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[22:33:14] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[22:33:14] [INFO] [ReplayManager] Replay data cleared
[22:33:14] [INFO] [BuildingLevel] Previous replay data cleared
[22:33:14] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[22:33:14] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[22:33:14] [INFO] [ReplayManager] Level: BuildingLevel
[22:33:14] [INFO] [ReplayManager] Player: Player (valid: True)
[22:33:14] [INFO] [ReplayManager] Enemies count: 10
[22:33:14] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[22:33:14] [INFO] [ReplayManager]   Enemy 0: Enemy1
[22:33:14] [INFO] [ReplayManager]   Enemy 1: Enemy2
[22:33:14] [INFO] [ReplayManager]   Enemy 2: Enemy3
[22:33:14] [INFO] [ReplayManager]   Enemy 3: Enemy4
[22:33:14] [INFO] [ReplayManager]   Enemy 4: Enemy5
[22:33:14] [INFO] [ReplayManager]   Enemy 5: Enemy6
[22:33:14] [INFO] [ReplayManager]   Enemy 6: Enemy7
[22:33:14] [INFO] [ReplayManager]   Enemy 7: Enemy8
[22:33:14] [INFO] [ReplayManager]   Enemy 8: Enemy9
[22:33:14] [INFO] [ReplayManager]   Enemy 9: Enemy10
[22:33:14] [INFO] [BuildingLevel] Replay recording started successfully
[22:33:14] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[22:33:14] [INFO] [CinemaEffects] Found player node: Player
[22:33:14] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[22:33:14] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[22:33:14] [ENEMY] [Enemy1] Registered as sound listener
[22:33:14] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 2, behavior: GUARD
[22:33:14] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[22:33:14] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[22:33:14] [ENEMY] [Enemy2] Registered as sound listener
[22:33:14] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 4, behavior: GUARD
[22:33:14] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[22:33:14] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[22:33:14] [ENEMY] [Enemy3] Registered as sound listener
[22:33:14] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 2, behavior: GUARD
[22:33:14] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[22:33:14] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[22:33:14] [ENEMY] [Enemy4] Registered as sound listener
[22:33:14] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 4, behavior: GUARD
[22:33:14] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[22:33:14] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[22:33:14] [ENEMY] [Enemy5] Registered as sound listener
[22:33:14] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 3, behavior: GUARD
[22:33:14] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[22:33:14] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[22:33:14] [ENEMY] [Enemy6] Registered as sound listener
[22:33:14] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 2, behavior: GUARD
[22:33:14] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[22:33:14] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[22:33:14] [ENEMY] [Enemy7] Registered as sound listener
[22:33:14] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 3, behavior: PATROL
[22:33:14] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[22:33:14] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[22:33:14] [ENEMY] [Enemy8] Registered as sound listener
[22:33:14] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 2, behavior: GUARD
[22:33:14] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[22:33:14] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[22:33:14] [ENEMY] [Enemy9] Registered as sound listener
[22:33:14] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 2, behavior: GUARD
[22:33:14] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[22:33:14] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[22:33:14] [ENEMY] [Enemy10] Registered as sound listener
[22:33:14] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 2, behavior: PATROL
[22:33:14] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[22:33:14] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[22:33:14] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:33:14] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:33:14] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:33:14] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:33:14] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:33:14] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:33:14] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:33:14] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:33:14] [INFO] [Player] Detecting weapon pose (frame 3)...
[22:33:14] [INFO] [Player] Detected weapon: Makarov PM (Pistol pose)
[22:33:14] [INFO] [Player] Applied Pistol arm pose: Left=(16, 6), Right=(4, 6)
[22:33:14] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[22:33:14] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[22:33:14] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[22:33:14] [INFO] [LastChance] Found player: Player
[22:33:14] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[22:33:14] [INFO] [LastChance] Connected to player Damaged signal (C#)
[22:33:14] [INFO] [LastChance] Connected to player Died signal (C#)
[22:33:14] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[22:33:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 1256), source=PLAYER (MakarovPM), range=1469, listeners=20
[22:33:14] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[22:33:14] [ENEMY] [Enemy4] Heard gunshot at (450, 1256), source_type=0, intensity=0.01, distance=499
[22:33:14] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=6
[22:33:14] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=135.0°, current=77.3°, player=(450,1250), corner_timer=0.00
[22:33:14] [ENEMY] [Enemy3] Memory: medium confidence (0.62) - transitioning to PURSUING
[22:33:14] [ENEMY] [Enemy3] State: IDLE -> PURSUING
[22:33:15] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=116.6°, current=-88.8°, player=(450,1250), corner_timer=0.00
[22:33:15] [ENEMY] [Enemy3] PURSUING corner check: angle -129.3°
[22:33:15] [ENEMY] [Enemy3] PURSUING corner check: angle -161.0°
[22:33:15] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[22:33:15] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[22:33:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 1256), source=PLAYER (MakarovPM), range=1469, listeners=10
[22:33:15] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=5
[22:33:15] [ENEMY] [Enemy3] PURSUING corner check: angle 19.0°
[22:33:16] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[22:33:16] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[22:33:16] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,1250), corner_timer=0.30
[22:33:16] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,1250), corner_timer=0.30
[22:33:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 1256), source=PLAYER (MakarovPM), range=1469, listeners=10
[22:33:16] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=5
[22:33:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(450, 1256), shooter_id=3690937192647, bullet_pos=(1676.85, 1388.643)
[22:33:16] [INFO] [Bullet] Using shooter_position, distance=1233.99951171875
[22:33:16] [INFO] [Bullet] Distance to wall: 1233.99951171875 (84.0252958779454% of viewport)
[22:33:16] [INFO] [Bullet] Distance-based penetration chance: 48.6371548090637%
[22:33:16] [INFO] [Bullet] Caliber cannot penetrate walls
[22:33:16] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(450,1250), corner_timer=-0.02
[22:33:16] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[22:33:16] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.7°, player=(450,1250), corner_timer=-0.02
[22:33:16] [ENEMY] [Enemy10] PATROL corner check: angle 14.6°
[22:33:16] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(450,1250), corner_timer=0.30
[22:33:16] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.6°, current=53.0°, player=(450,1250), corner_timer=0.30
[22:33:16] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[22:33:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 1256), source=PLAYER (MakarovPM), range=1469, listeners=10
[22:33:16] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=5
[22:33:16] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.3°, player=(450,1250), corner_timer=-0.02
[22:33:16] [ENEMY] [Enemy10] PATROL corner check: angle 7.1°
[22:33:16] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.1°, current=16.9°, player=(450,1250), corner_timer=0.30
[22:33:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(450, 1256), shooter_id=3690937192647, bullet_pos=(1678.879, 1368.307)
[22:33:16] [INFO] [Bullet] Using shooter_position, distance=1234.00061035156
[22:33:16] [INFO] [Bullet] Distance to wall: 1234.00061035156 (84.0253706858738% of viewport)
[22:33:16] [INFO] [Bullet] Distance-based penetration chance: 48.6370675331472%
[22:33:16] [INFO] [Bullet] Penetration failed (distance roll)
[22:33:16] [ENEMY] [Enemy4] PURSUING corner check: angle -91.8°
[22:33:17] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(450,1250), corner_timer=-0.02
[22:33:17] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[22:33:17] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.7°, player=(450,1250), corner_timer=0.30
[22:33:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 1256), source=PLAYER (MakarovPM), range=1469, listeners=10
[22:33:17] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=5
[22:33:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(450, 1256), shooter_id=3690937192647, bullet_pos=(1679.245, 1364.213)
[22:33:17] [INFO] [Bullet] Using shooter_position, distance=1233.99890136719
[22:33:17] [INFO] [Bullet] Distance to wall: 1233.99890136719 (84.0252543179852% of viewport)
[22:33:17] [INFO] [Bullet] Distance-based penetration chance: 48.637203295684%
[22:33:17] [INFO] [Bullet] Caliber cannot penetrate walls
[22:33:17] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(450,1250), corner_timer=-0.02
[22:33:17] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[22:33:17] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.8°, current=6.3°, player=(450,1250), corner_timer=0.30
[22:33:17] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=10
[22:33:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 1256), source=PLAYER (MakarovPM), range=1469, listeners=10
[22:33:17] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=5
[22:33:17] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.8°, player=(450,1250), corner_timer=-0.02
[22:33:17] [ENEMY] [Enemy10] PATROL corner check: angle 0.9°
[22:33:17] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=0.9°, current=4.6°, player=(450,1250), corner_timer=0.30
[22:33:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(450, 1256), shooter_id=3690937192647, bullet_pos=(1678.321, 1374.227)
[22:33:17] [INFO] [Bullet] Using shooter_position, distance=1233.99780273438
[22:33:17] [INFO] [Bullet] Distance to wall: 1233.99780273438 (84.0251795100568% of viewport)
[22:33:17] [INFO] [Bullet] Distance-based penetration chance: 48.6372905716004%
[22:33:17] [INFO] [Bullet] Penetration failed (distance roll)
[22:33:18] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[22:33:18] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[22:33:18] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:33:18] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[22:33:18] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[22:33:18] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[22:33:18] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[22:33:18] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[22:33:18] [INFO] [LastChance] Resetting all effects (scene change detected)
[22:33:18] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[22:33:18] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[22:33:18] [ENEMY] [Enemy1] Death animation component initialized
[22:33:18] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:33:18] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[22:33:18] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[22:33:18] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[22:33:18] [ENEMY] [Enemy2] Death animation component initialized
[22:33:18] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:33:18] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[22:33:18] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[22:33:18] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[22:33:18] [INFO] [EnemyGrenade] Initialized: 1 grenades
[22:33:18] [ENEMY] [Enemy3] Death animation component initialized
[22:33:18] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:33:18] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[22:33:18] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[22:33:18] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[22:33:18] [ENEMY] [Enemy4] Death animation component initialized
[22:33:18] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:33:18] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[22:33:18] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[22:33:18] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[22:33:18] [ENEMY] [Enemy5] Death animation component initialized
[22:33:18] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:33:18] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[22:33:18] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[22:33:18] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[22:33:18] [ENEMY] [Enemy6] Death animation component initialized
[22:33:18] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:33:18] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[22:33:18] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[22:33:18] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[22:33:18] [ENEMY] [Enemy7] Death animation component initialized
[22:33:18] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:33:18] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[22:33:18] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[22:33:18] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[22:33:18] [ENEMY] [Enemy8] Death animation component initialized
[22:33:18] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:33:18] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[22:33:18] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[22:33:18] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[22:33:18] [ENEMY] [Enemy9] Death animation component initialized
[22:33:18] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:33:18] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[22:33:18] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[22:33:18] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[22:33:18] [ENEMY] [Enemy10] Death animation component initialized
[22:33:18] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:33:18] [INFO] [BloodyFeet:Player] Footprint scene loaded
[22:33:18] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[22:33:18] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[22:33:18] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[22:33:18] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[22:33:18] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[22:33:18] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[22:33:18] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[22:33:18] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[22:33:18] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[22:33:18] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: True
[22:33:18] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[22:33:18] [INFO] [Player] Ready! Ammo: 9/9, Grenades: 1/3, Health: 10/10
[22:33:18] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[22:33:18] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[22:33:18] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[22:33:18] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[22:33:18] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[22:33:18] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[22:33:18] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[22:33:18] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[22:33:18] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[22:33:18] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[22:33:18] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[22:33:18] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[22:33:18] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[22:33:18] [INFO] [BuildingLevel] Setting up weapon: makarov_pm
[22:33:18] [INFO] [ScoreManager] Level started with 10 enemies
[22:33:18] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[22:33:18] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[22:33:18] [INFO] [ReplayManager] Replay data cleared
[22:33:18] [INFO] [BuildingLevel] Previous replay data cleared
[22:33:18] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[22:33:18] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[22:33:18] [INFO] [ReplayManager] Level: BuildingLevel
[22:33:18] [INFO] [ReplayManager] Player: Player (valid: True)
[22:33:18] [INFO] [ReplayManager] Enemies count: 10
[22:33:18] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[22:33:18] [INFO] [ReplayManager]   Enemy 0: Enemy1
[22:33:18] [INFO] [ReplayManager]   Enemy 1: Enemy2
[22:33:18] [INFO] [ReplayManager]   Enemy 2: Enemy3
[22:33:18] [INFO] [ReplayManager]   Enemy 3: Enemy4
[22:33:18] [INFO] [ReplayManager]   Enemy 4: Enemy5
[22:33:18] [INFO] [ReplayManager]   Enemy 5: Enemy6
[22:33:18] [INFO] [ReplayManager]   Enemy 6: Enemy7
[22:33:18] [INFO] [ReplayManager]   Enemy 7: Enemy8
[22:33:18] [INFO] [ReplayManager]   Enemy 8: Enemy9
[22:33:18] [INFO] [ReplayManager]   Enemy 9: Enemy10
[22:33:18] [INFO] [BuildingLevel] Replay recording started successfully
[22:33:18] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[22:33:18] [INFO] [CinemaEffects] Found player node: Player
[22:33:18] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[22:33:18] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[22:33:18] [ENEMY] [Enemy1] Registered as sound listener
[22:33:18] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 4, behavior: GUARD
[22:33:18] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[22:33:18] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[22:33:18] [ENEMY] [Enemy2] Registered as sound listener
[22:33:18] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 3, behavior: GUARD
[22:33:18] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[22:33:18] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[22:33:18] [ENEMY] [Enemy3] Registered as sound listener
[22:33:18] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 2, behavior: GUARD
[22:33:18] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[22:33:18] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[22:33:18] [ENEMY] [Enemy4] Registered as sound listener
[22:33:18] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 2, behavior: GUARD
[22:33:18] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[22:33:18] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[22:33:18] [ENEMY] [Enemy5] Registered as sound listener
[22:33:18] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 4, behavior: GUARD
[22:33:18] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[22:33:18] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[22:33:18] [ENEMY] [Enemy6] Registered as sound listener
[22:33:18] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 3, behavior: GUARD
[22:33:18] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[22:33:18] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[22:33:18] [ENEMY] [Enemy7] Registered as sound listener
[22:33:18] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 2, behavior: PATROL
[22:33:18] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[22:33:18] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[22:33:18] [ENEMY] [Enemy8] Registered as sound listener
[22:33:18] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 2, behavior: GUARD
[22:33:18] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[22:33:18] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[22:33:18] [ENEMY] [Enemy9] Registered as sound listener
[22:33:18] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 2, behavior: GUARD
[22:33:18] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[22:33:18] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[22:33:18] [ENEMY] [Enemy10] Registered as sound listener
[22:33:18] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 3, behavior: PATROL
[22:33:18] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[22:33:18] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[22:33:18] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:33:18] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:33:18] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=123.7°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:33:18] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:33:18] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:33:18] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:33:18] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=78.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:33:18] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=180.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:33:18] [INFO] [Player] Detecting weapon pose (frame 3)...
[22:33:18] [INFO] [Player] Detected weapon: Makarov PM (Pistol pose)
[22:33:18] [INFO] [Player] Applied Pistol arm pose: Left=(16, 6), Right=(4, 6)
[22:33:18] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[22:33:18] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[22:33:18] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[22:33:18] [INFO] [LastChance] Found player: Player
[22:33:18] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[22:33:18] [INFO] [LastChance] Connected to player Damaged signal (C#)
[22:33:18] [INFO] [LastChance] Connected to player Died signal (C#)
[22:33:18] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[22:33:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 1256), source=PLAYER (MakarovPM), range=1469, listeners=20
[22:33:18] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[22:33:18] [ENEMY] [Enemy4] Heard gunshot at (450, 1256), source_type=0, intensity=0.01, distance=499
[22:33:18] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=6
[22:33:18] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=135.0°, current=-67.5°, player=(450,1250), corner_timer=0.00
[22:33:19] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[22:33:19] [ENEMY] [Enemy3] Memory: medium confidence (0.59) - transitioning to PURSUING
[22:33:19] [ENEMY] [Enemy3] State: IDLE -> PURSUING
[22:33:19] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=116.6°, current=123.7°, player=(450,1250), corner_timer=0.00
[22:33:19] [ENEMY] [Enemy3] PURSUING corner check: angle -129.3°
[22:33:19] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[22:33:19] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[22:33:19] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:33:19] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[22:33:19] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[22:33:19] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[22:33:19] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[22:33:19] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[22:33:19] [INFO] [LastChance] Resetting all effects (scene change detected)
[22:33:19] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[22:33:19] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[22:33:19] [ENEMY] [Enemy1] Death animation component initialized
[22:33:19] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:33:19] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[22:33:19] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[22:33:19] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[22:33:19] [ENEMY] [Enemy2] Death animation component initialized
[22:33:19] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:33:19] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[22:33:19] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[22:33:19] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[22:33:19] [ENEMY] [Enemy3] Death animation component initialized
[22:33:19] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:33:19] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[22:33:19] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[22:33:19] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[22:33:19] [ENEMY] [Enemy4] Death animation component initialized
[22:33:19] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:33:19] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[22:33:19] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[22:33:19] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[22:33:19] [ENEMY] [Enemy5] Death animation component initialized
[22:33:19] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:33:19] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[22:33:19] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[22:33:19] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[22:33:19] [ENEMY] [Enemy6] Death animation component initialized
[22:33:19] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:33:19] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[22:33:19] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[22:33:19] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[22:33:19] [INFO] [EnemyGrenade] Initialized: 1 grenades
[22:33:19] [ENEMY] [Enemy7] Death animation component initialized
[22:33:19] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:33:19] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[22:33:19] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[22:33:19] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[22:33:19] [ENEMY] [Enemy8] Death animation component initialized
[22:33:19] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:33:19] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[22:33:19] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[22:33:19] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[22:33:19] [ENEMY] [Enemy9] Death animation component initialized
[22:33:19] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:33:19] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[22:33:19] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[22:33:19] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[22:33:19] [ENEMY] [Enemy10] Death animation component initialized
[22:33:19] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[22:33:19] [INFO] [BloodyFeet:Player] Footprint scene loaded
[22:33:19] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[22:33:19] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[22:33:19] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[22:33:19] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[22:33:19] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[22:33:19] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[22:33:19] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[22:33:19] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[22:33:19] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[22:33:19] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: True
[22:33:19] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[22:33:19] [INFO] [Player] Ready! Ammo: 9/9, Grenades: 1/3, Health: 10/10
[22:33:19] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[22:33:19] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[22:33:19] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[22:33:19] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[22:33:19] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[22:33:19] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[22:33:19] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[22:33:19] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[22:33:19] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[22:33:19] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[22:33:19] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[22:33:19] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[22:33:19] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[22:33:19] [INFO] [BuildingLevel] Setting up weapon: makarov_pm
[22:33:19] [INFO] [ScoreManager] Level started with 10 enemies
[22:33:19] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[22:33:19] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[22:33:19] [INFO] [ReplayManager] Replay data cleared
[22:33:19] [INFO] [BuildingLevel] Previous replay data cleared
[22:33:19] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[22:33:19] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[22:33:19] [INFO] [ReplayManager] Level: BuildingLevel
[22:33:19] [INFO] [ReplayManager] Player: Player (valid: True)
[22:33:19] [INFO] [ReplayManager] Enemies count: 10
[22:33:19] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[22:33:19] [INFO] [ReplayManager]   Enemy 0: Enemy1
[22:33:19] [INFO] [ReplayManager]   Enemy 1: Enemy2
[22:33:19] [INFO] [ReplayManager]   Enemy 2: Enemy3
[22:33:19] [INFO] [ReplayManager]   Enemy 3: Enemy4
[22:33:19] [INFO] [ReplayManager]   Enemy 4: Enemy5
[22:33:19] [INFO] [ReplayManager]   Enemy 5: Enemy6
[22:33:19] [INFO] [ReplayManager]   Enemy 6: Enemy7
[22:33:19] [INFO] [ReplayManager]   Enemy 7: Enemy8
[22:33:19] [INFO] [ReplayManager]   Enemy 8: Enemy9
[22:33:19] [INFO] [ReplayManager]   Enemy 9: Enemy10
[22:33:19] [INFO] [BuildingLevel] Replay recording started successfully
[22:33:19] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[22:33:19] [INFO] [CinemaEffects] Found player node: Player
[22:33:19] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[22:33:19] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[22:33:19] [ENEMY] [Enemy1] Registered as sound listener
[22:33:19] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 3, behavior: GUARD
[22:33:19] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[22:33:19] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[22:33:19] [ENEMY] [Enemy2] Registered as sound listener
[22:33:19] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 2, behavior: GUARD
[22:33:19] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[22:33:19] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[22:33:19] [ENEMY] [Enemy3] Registered as sound listener
[22:33:19] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 3, behavior: GUARD
[22:33:19] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[22:33:19] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[22:33:19] [ENEMY] [Enemy4] Registered as sound listener
[22:33:19] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 4, behavior: GUARD
[22:33:19] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[22:33:19] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[22:33:19] [ENEMY] [Enemy5] Registered as sound listener
[22:33:19] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 3, behavior: GUARD
[22:33:19] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[22:33:19] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[22:33:19] [ENEMY] [Enemy6] Registered as sound listener
[22:33:19] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 4, behavior: GUARD
[22:33:19] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[22:33:19] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[22:33:19] [ENEMY] [Enemy7] Registered as sound listener
[22:33:19] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 4, behavior: PATROL
[22:33:19] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[22:33:19] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[22:33:19] [ENEMY] [Enemy8] Registered as sound listener
[22:33:19] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 2, behavior: GUARD
[22:33:19] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[22:33:19] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[22:33:19] [ENEMY] [Enemy9] Registered as sound listener
[22:33:19] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 2, behavior: GUARD
[22:33:19] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[22:33:19] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[22:33:19] [ENEMY] [Enemy10] Registered as sound listener
[22:33:19] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 2, behavior: PATROL
[22:33:19] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[22:33:19] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[22:33:19] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:33:19] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:33:19] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:33:19] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:33:19] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:33:19] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=225.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:33:19] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:33:19] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=337.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[22:33:19] [INFO] [Player] Detecting weapon pose (frame 3)...
[22:33:19] [INFO] [Player] Detected weapon: Makarov PM (Pistol pose)
[22:33:19] [INFO] [Player] Applied Pistol arm pose: Left=(16, 6), Right=(4, 6)
[22:33:19] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[22:33:19] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[22:33:19] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[22:33:19] [INFO] [LastChance] Found player: Player
[22:33:19] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[22:33:19] [INFO] [LastChance] Connected to player Damaged signal (C#)
[22:33:19] [INFO] [LastChance] Connected to player Died signal (C#)
[22:33:19] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[22:33:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 1256), source=PLAYER (MakarovPM), range=1469, listeners=20
[22:33:19] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[22:33:19] [ENEMY] [Enemy4] Heard gunshot at (450, 1256), source_type=0, intensity=0.01, distance=499
[22:33:19] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=6
[22:33:19] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=135.0°, current=77.3°, player=(450,1250), corner_timer=0.00
[22:33:20] [ENEMY] [Enemy3] Memory: medium confidence (0.62) - transitioning to PURSUING
[22:33:20] [ENEMY] [Enemy3] State: IDLE -> PURSUING
[22:33:20] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=116.6°, current=-33.8°, player=(450,1250), corner_timer=0.00
[22:33:20] [ENEMY] [Enemy3] PURSUING corner check: angle -129.3°
[22:33:20] [ENEMY] [Enemy3] PURSUING corner check: angle -161.0°
[22:33:20] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[22:33:20] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[22:33:20] [ENEMY] [Enemy3] PURSUING corner check: angle 19.0°
[22:33:21] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[22:33:21] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[22:33:21] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,1250), corner_timer=0.30
[22:33:21] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,1250), corner_timer=0.30
[22:33:21] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(450, 1256), shooter_id=3814367169624, bullet_pos=(1679.387, 1362.613)
[22:33:21] [INFO] [Bullet] Using shooter_position, distance=1234.00158691406
[22:33:21] [INFO] [Bullet] Distance to wall: 1234.00158691406 (84.0254371818102% of viewport)
[22:33:21] [INFO] [Bullet] Distance-based penetration chance: 48.6369899545548%
[22:33:21] [INFO] [Bullet] Penetration failed (distance roll)
[22:33:21] [INFO] ------------------------------------------------------------
[22:33:21] [INFO] GAME LOG ENDED: 2026-02-07T22:33:21
[22:33:21] [INFO] ============================================================
