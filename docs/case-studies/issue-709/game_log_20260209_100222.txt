[10:02:22] [INFO] ============================================================
[10:02:22] [INFO] GAME LOG STARTED
[10:02:22] [INFO] ============================================================
[10:02:22] [INFO] Timestamp: 2026-02-09T10:02:22
[10:02:22] [INFO] Log file: I:/Загрузки/godot exe/САмонаводящиеся пУЛи/game_log_20260209_100222.txt
[10:02:22] [INFO] Executable: I:/Загрузки/godot exe/САмонаводящиеся пУЛи/Godot-Top-Down-Template.exe
[10:02:22] [INFO] OS: Windows
[10:02:22] [INFO] Debug build: false
[10:02:22] [INFO] Engine version: 4.3-stable (official)
[10:02:22] [INFO] Project: Godot Top-Down Template
[10:02:22] [INFO] ------------------------------------------------------------
[10:02:22] [INFO] [GameManager] GameManager ready
[10:02:22] [INFO] [ScoreManager] ScoreManager ready
[10:02:22] [INFO] [SoundPropagation] SoundPropagation autoload initialized
[10:02:22] [INFO] [ImpactEffects] Scenes loaded: DustEffect, BloodEffect, SparksEffect, BloodDecal
[10:02:22] [INFO] [ImpactEffects] ImpactEffectsManager ready - FULL VERSION with blood effects enabled
[10:02:22] [INFO] [ImpactEffects] Starting particle shader warmup (Issue #343 fix)...
[10:02:22] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[10:02:22] [INFO] [PenultimateHit] Saturation shader loaded successfully
[10:02:22] [INFO] [PenultimateHit] Starting shader warmup (Issue #343 fix)...
[10:02:22] [INFO] [PenultimateHit] PenultimateHitEffectsManager ready - Configuration:
[10:02:22] [INFO] [PenultimateHit]   Time scale: 0.10 (10x slowdown)
[10:02:22] [INFO] [PenultimateHit]   Saturation boost: 2.0 (3.0x)
[10:02:22] [INFO] [PenultimateHit]   Contrast boost: 1.0 (2.0x)
[10:02:22] [INFO] [PenultimateHit]   Effect duration: 3.0 real seconds
[10:02:22] [INFO] [LastChance] Resetting all effects (scene change detected)
[10:02:22] [INFO] [LastChance] Last chance shader loaded successfully
[10:02:22] [INFO] [LastChance] Starting shader warmup (Issue #343 fix)...
[10:02:22] [INFO] [LastChance] LastChanceEffectsManager ready - Configuration:
[10:02:22] [INFO] [LastChance]   Freeze duration: 6.0 real seconds
[10:02:22] [INFO] [LastChance]   Sepia intensity: 0.70
[10:02:22] [INFO] [LastChance]   Brightness: 0.60
[10:02:22] [INFO] [GrenadeManager] Loaded grenade scene: res://scenes/projectiles/FlashbangGrenade.tscn
[10:02:22] [INFO] [GrenadeManager] Loaded grenade scene: res://scenes/projectiles/FragGrenade.tscn
[10:02:22] [INFO] [GrenadeManager] Loaded grenade scene: res://scenes/projectiles/DefensiveGrenade.tscn
[10:02:22] [INFO] [ExperimentalSettings] ExperimentalSettings initialized - FOV: true, Complex grenades: false, AI prediction: true, Debug: true, Invincibility: true, Realistic visibility: false
[10:02:22] [INFO] [CinemaEffects] CinemaEffectsManager initializing (v5.3 - overlay approach with simplified death circle)...
[10:02:22] [INFO] [CinemaEffects] Scene changed to: LabyrinthLevel
[10:02:22] [INFO] [CinemaEffects] Created effects layer at layer 99
[10:02:22] [INFO] [CinemaEffects] Cinema shader loaded successfully (v5.0 - no screen_texture)
[10:02:22] [INFO] [CinemaEffects] Starting cinema shader warmup (Issue #343 fix)...
[10:02:22] [INFO] [CinemaEffects] Cinema film effect initialized (v5.3) - Configuration:
[10:02:22] [INFO] [CinemaEffects]   Approach: Overlay-based (no screen_texture)
[10:02:22] [INFO] [CinemaEffects]   Grain intensity: 0.15
[10:02:22] [INFO] [CinemaEffects]   Warm tint: 0.12 intensity
[10:02:22] [INFO] [CinemaEffects]   Sunny effect: 0.08 intensity
[10:02:22] [INFO] [CinemaEffects]   Vignette: 0.25 intensity
[10:02:22] [INFO] [CinemaEffects]   Film defects: 1.5% probability
[10:02:22] [INFO] [CinemaEffects]   White specks: 0.70 intensity, 4.0% probability
[10:02:22] [INFO] [CinemaEffects]   Death effects: cigarette burn + expanding spots + end of reel circle (160px, blinks 2x)
[10:02:22] [INFO] [CinemaEffects] Enabling effect after 1 frame(s)...
[10:02:22] [INFO] [GrenadeTimerHelper] Autoload ready
[10:02:22] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[10:02:22] [INFO] [PowerFantasy] Saturation shader loaded successfully
[10:02:22] [INFO] [PowerFantasy] PowerFantasyEffectsManager ready - Configuration:
[10:02:22] [INFO] [PowerFantasy]   Kill effect duration: 300ms
[10:02:22] [INFO] [PowerFantasy]   Grenade effect duration: 2000ms (2.0s)
[10:02:22] [INFO] [ProgressManager] ProgressManager ready, loaded 8 entries
[10:02:22] [INFO] [ReplayManager] ReplayManager ready (C# version loaded and _Ready called)
[10:02:22] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[10:02:22] [INFO] [FlashbangPlayer] Flashbang player shader loaded successfully
[10:02:22] [INFO] [FlashbangPlayer] Starting shader warmup (Issue #343 fix)...
[10:02:22] [INFO] [FlashbangPlayer] FlashbangPlayerEffectsManager ready
[10:02:22] [INFO] [FlashbangPlayer]   Duration range: 1.0-5.0 seconds
[10:02:22] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:02:22] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[10:02:22] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[10:02:22] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[10:02:22] [ENEMY] [Enemy1] Death animation component initialized
[10:02:22] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:02:22] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[10:02:22] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[10:02:22] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[10:02:22] [ENEMY] [Enemy2] Death animation component initialized
[10:02:22] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:02:22] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[10:02:22] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[10:02:22] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[10:02:22] [ENEMY] [Enemy3] Death animation component initialized
[10:02:22] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:02:22] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[10:02:22] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[10:02:22] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[10:02:22] [ENEMY] [Enemy4] Death animation component initialized
[10:02:22] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:02:22] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[10:02:22] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[10:02:22] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[10:02:22] [ENEMY] [Enemy5] Death animation component initialized
[10:02:22] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:02:22] [INFO] [BloodyFeet:Player] Footprint scene loaded
[10:02:22] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[10:02:22] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[10:02:22] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[10:02:22] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[10:02:22] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[10:02:22] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[10:02:22] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[10:02:22] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[10:02:22] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[10:02:22] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[10:02:22] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[10:02:22] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[10:02:22] [INFO] [Player.Homing] No homing bullets selected in ActiveItemManager
[10:02:22] [INFO] [Player] Ready! Ammo: 9/9, Grenades: 1/3, Health: 10/10
[10:02:22] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[10:02:22] [INFO] [BloodDecal] Blood puddle created at (640, 360) (added to group)
[10:02:22] [INFO] [LabyrinthLevel] Found Environment/Enemies node with 5 children
[10:02:22] [INFO] [LabyrinthLevel] Child 'Enemy1': script=true, has_died_signal=true
[10:02:22] [INFO] [LabyrinthLevel] Child 'Enemy2': script=true, has_died_signal=true
[10:02:22] [INFO] [LabyrinthLevel] Child 'Enemy3': script=true, has_died_signal=true
[10:02:22] [INFO] [LabyrinthLevel] Child 'Enemy4': script=true, has_died_signal=true
[10:02:22] [INFO] [LabyrinthLevel] Child 'Enemy5': script=true, has_died_signal=true
[10:02:22] [INFO] [LabyrinthLevel] Enemy tracking complete: 5 enemies registered
[10:02:22] [INFO] [LabyrinthLevel] Setting up weapon: makarov_pm
[10:02:22] [INFO] [ScoreManager] Level started with 5 enemies
[10:02:22] [INFO] [LabyrinthLevel] ReplayManager found as C# autoload - verified OK
[10:02:22] [INFO] [LabyrinthLevel] Starting replay recording - Player: Player, Enemies count: 5
[10:02:22] [INFO] [ReplayManager] Replay data cleared
[10:02:22] [INFO] [LabyrinthLevel] Previous replay data cleared
[10:02:22] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[10:02:22] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[10:02:22] [INFO] [ReplayManager] Level: LabyrinthLevel
[10:02:22] [INFO] [ReplayManager] Player: Player (valid: True)
[10:02:22] [INFO] [ReplayManager] Enemies count: 5
[10:02:22] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[10:02:22] [INFO] [ReplayManager]   Enemy 0: Enemy1
[10:02:22] [INFO] [ReplayManager]   Enemy 1: Enemy2
[10:02:22] [INFO] [ReplayManager]   Enemy 2: Enemy3
[10:02:22] [INFO] [ReplayManager]   Enemy 3: Enemy4
[10:02:22] [INFO] [ReplayManager]   Enemy 4: Enemy5
[10:02:22] [INFO] [LabyrinthLevel] Replay recording started successfully
[10:02:22] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=5
[10:02:22] [INFO] [CinemaEffects] Found player node: Player
[10:02:22] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[10:02:22] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[10:02:22] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 1)
[10:02:22] [ENEMY] [Enemy1] Registered as sound listener
[10:02:22] [ENEMY] [Enemy1] Spawned at (400, 300), hp: 1, behavior: GUARD
[10:02:22] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[10:02:22] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 2)
[10:02:22] [ENEMY] [Enemy2] Registered as sound listener
[10:02:22] [ENEMY] [Enemy2] Spawned at (900, 950), hp: 2, behavior: GUARD
[10:02:22] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[10:02:22] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 3)
[10:02:22] [ENEMY] [Enemy3] Registered as sound listener
[10:02:22] [ENEMY] [Enemy3] Spawned at (1200, 1000), hp: 1, behavior: PATROL
[10:02:22] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[10:02:22] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 4)
[10:02:22] [ENEMY] [Enemy4] Registered as sound listener
[10:02:22] [ENEMY] [Enemy4] Spawned at (1650, 650), hp: 2, behavior: GUARD
[10:02:22] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[10:02:22] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 5)
[10:02:22] [ENEMY] [Enemy5] Registered as sound listener
[10:02:22] [ENEMY] [Enemy5] Spawned at (1500, 300), hp: 2, behavior: GUARD
[10:02:22] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[10:02:22] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(150,1000), corner_timer=0.00
[10:02:22] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(150,1000), corner_timer=0.00
[10:02:22] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=315.0°, current=0.0°, player=(150,1000), corner_timer=0.00
[10:02:22] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=33.8°, current=0.0°, player=(150,1000), corner_timer=0.00
[10:02:22] [INFO] [Player] Detecting weapon pose (frame 3)...
[10:02:22] [INFO] [Player] Detected weapon: Makarov PM (Pistol pose)
[10:02:22] [INFO] [Player] Applied Pistol arm pose: Left=(16, 6), Right=(4, 6)
[10:02:22] [INFO] [PenultimateHit] Shader warmup complete in 533 ms
[10:02:22] [INFO] [LastChance] Shader warmup complete in 531 ms
[10:02:22] [INFO] [CinemaEffects] Cinema shader warmup complete in 480 ms
[10:02:22] [INFO] [FlashbangPlayer] Shader warmup complete in 470 ms
[10:02:22] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[10:02:22] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[10:02:22] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[10:02:22] [INFO] [LastChance] Found player: Player
[10:02:22] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[10:02:22] [INFO] [LastChance] Connected to player Damaged signal (C#)
[10:02:22] [INFO] [LastChance] Connected to player Died signal (C#)
[10:02:22] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[10:02:23] [INFO] [ImpactEffects] Particle shader warmup complete: 7 effects warmed up in 949 ms
[10:02:23] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=5
[10:02:24] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=5
[10:02:25] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[10:02:25] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:02:25] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[10:02:25] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[10:02:25] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[10:02:25] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[10:02:25] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[10:02:25] [INFO] [LastChance] Resetting all effects (scene change detected)
[10:02:25] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[10:02:25] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[10:02:25] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[10:02:25] [ENEMY] [Enemy1] Death animation component initialized
[10:02:25] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:02:25] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[10:02:25] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[10:02:25] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[10:02:25] [ENEMY] [Enemy2] Death animation component initialized
[10:02:25] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:02:25] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[10:02:25] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[10:02:25] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[10:02:25] [ENEMY] [Enemy3] Death animation component initialized
[10:02:25] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:02:25] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[10:02:25] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[10:02:25] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[10:02:25] [ENEMY] [Enemy4] Death animation component initialized
[10:02:25] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:02:25] [INFO] [BloodyFeet:Grenadier] Footprint scene loaded
[10:02:25] [INFO] [BloodyFeet:Grenadier] Found EnemyModel for facing direction
[10:02:25] [INFO] [BloodyFeet:Grenadier] BloodyFeetComponent ready on Grenadier
[10:02:25] [INFO] [EnemyGrenade] Grenade bag built (normal): [Flashbang, Flashbang, Flashbang, Offensive, Offensive, Offensive, Offensive, Offensive]
[10:02:25] [INFO] [EnemyGrenade] Grenadier initialized: 8 grenades in bag
[10:02:25] [ENEMY] [Grenadier] Death animation component initialized
[10:02:25] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:02:25] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[10:02:25] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[10:02:25] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[10:02:25] [ENEMY] [Enemy6] Death animation component initialized
[10:02:25] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:02:25] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[10:02:25] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[10:02:25] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[10:02:25] [ENEMY] [Enemy7] Death animation component initialized
[10:02:25] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:02:25] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[10:02:25] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[10:02:25] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[10:02:25] [ENEMY] [Enemy8] Death animation component initialized
[10:02:25] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:02:25] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[10:02:25] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[10:02:25] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[10:02:25] [ENEMY] [Enemy9] Death animation component initialized
[10:02:25] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:02:25] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[10:02:25] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[10:02:25] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[10:02:25] [ENEMY] [Enemy10] Death animation component initialized
[10:02:25] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:02:25] [INFO] [BloodyFeet:Player] Footprint scene loaded
[10:02:25] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[10:02:25] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[10:02:25] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[10:02:25] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[10:02:25] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[10:02:25] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[10:02:25] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[10:02:25] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[10:02:25] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[10:02:25] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[10:02:25] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[10:02:25] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[10:02:25] [INFO] [Player.Homing] No homing bullets selected in ActiveItemManager
[10:02:25] [INFO] [Player] Ready! Ammo: 9/9, Grenades: 1/3, Health: 10/10
[10:02:25] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[10:02:25] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[10:02:25] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[10:02:25] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[10:02:25] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[10:02:25] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[10:02:25] [INFO] [BuildingLevel] Child 'Grenadier': script=true, has_died_signal=true
[10:02:25] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[10:02:25] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[10:02:25] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[10:02:25] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[10:02:25] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[10:02:25] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[10:02:25] [INFO] [BuildingLevel] Setting up weapon: makarov_pm
[10:02:25] [INFO] [ScoreManager] Level started with 10 enemies
[10:02:25] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[10:02:25] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[10:02:25] [INFO] [ReplayManager] Replay data cleared
[10:02:25] [INFO] [BuildingLevel] Previous replay data cleared
[10:02:25] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[10:02:25] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[10:02:25] [INFO] [ReplayManager] Level: BuildingLevel
[10:02:25] [INFO] [ReplayManager] Player: Player (valid: True)
[10:02:25] [INFO] [ReplayManager] Enemies count: 10
[10:02:25] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[10:02:25] [INFO] [ReplayManager]   Enemy 0: Enemy1
[10:02:25] [INFO] [ReplayManager]   Enemy 1: Enemy2
[10:02:25] [INFO] [ReplayManager]   Enemy 2: Enemy3
[10:02:25] [INFO] [ReplayManager]   Enemy 3: Enemy4
[10:02:25] [INFO] [ReplayManager]   Enemy 4: Grenadier
[10:02:25] [INFO] [ReplayManager]   Enemy 5: Enemy6
[10:02:25] [INFO] [ReplayManager]   Enemy 6: Enemy7
[10:02:25] [INFO] [ReplayManager]   Enemy 7: Enemy8
[10:02:25] [INFO] [ReplayManager]   Enemy 8: Enemy9
[10:02:25] [INFO] [ReplayManager]   Enemy 9: Enemy10
[10:02:25] [INFO] [BuildingLevel] Replay recording started successfully
[10:02:25] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[10:02:25] [INFO] [CinemaEffects] Found player node: Player
[10:02:25] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[10:02:25] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 6)
[10:02:25] [ENEMY] [Enemy1] Registered as sound listener
[10:02:25] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 3, behavior: GUARD
[10:02:25] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[10:02:25] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 7)
[10:02:25] [ENEMY] [Enemy2] Registered as sound listener
[10:02:25] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 3, behavior: GUARD
[10:02:25] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[10:02:25] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 8)
[10:02:25] [ENEMY] [Enemy3] Registered as sound listener
[10:02:25] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 4, behavior: GUARD
[10:02:25] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[10:02:25] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 9)
[10:02:25] [ENEMY] [Enemy4] Registered as sound listener
[10:02:25] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 4, behavior: GUARD
[10:02:25] [INFO] [BloodyFeet:Grenadier] Blood detector created and attached to Grenadier
[10:02:25] [INFO] [SoundPropagation] Registered listener: Grenadier (total: 10)
[10:02:25] [ENEMY] [Grenadier] Registered as sound listener
[10:02:25] [ENEMY] [Grenadier] Spawned at (1700, 350), hp: 2, behavior: GUARD
[10:02:25] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[10:02:25] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 11)
[10:02:25] [ENEMY] [Enemy6] Registered as sound listener
[10:02:25] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 3, behavior: GUARD
[10:02:25] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[10:02:25] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 12)
[10:02:25] [ENEMY] [Enemy7] Registered as sound listener
[10:02:25] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 3, behavior: PATROL
[10:02:25] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[10:02:25] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 13)
[10:02:25] [ENEMY] [Enemy8] Registered as sound listener
[10:02:25] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 4, behavior: GUARD
[10:02:25] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[10:02:25] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 14)
[10:02:25] [ENEMY] [Enemy9] Registered as sound listener
[10:02:25] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 3, behavior: GUARD
[10:02:25] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[10:02:25] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 15)
[10:02:25] [ENEMY] [Enemy10] Registered as sound listener
[10:02:25] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 4, behavior: PATROL
[10:02:25] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[10:02:25] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[10:02:25] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=33.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[10:02:25] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[10:02:25] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=123.7°, current=0.0°, player=(450,1250), corner_timer=0.00
[10:02:25] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[10:02:25] [ENEMY] [Grenadier] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[10:02:25] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[10:02:25] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=78.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[10:02:25] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[10:02:25] [INFO] [Player] Detecting weapon pose (frame 3)...
[10:02:25] [INFO] [Player] Detected weapon: Makarov PM (Pistol pose)
[10:02:25] [INFO] [Player] Applied Pistol arm pose: Left=(16, 6), Right=(4, 6)
[10:02:25] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[10:02:25] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[10:02:25] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[10:02:25] [INFO] [LastChance] Found player: Player
[10:02:25] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[10:02:25] [INFO] [LastChance] Connected to player Damaged signal (C#)
[10:02:25] [INFO] [LastChance] Connected to player Died signal (C#)
[10:02:25] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[10:02:26] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[10:02:26] [INFO] [PauseMenu] Armory button pressed
[10:02:26] [INFO] [PauseMenu] Creating new armory menu instance
[10:02:26] [INFO] [PauseMenu] armory_menu_scene resource path: res://scenes/ui/ArmoryMenu.tscn
[10:02:26] [INFO] [PauseMenu] Instance created, class: CanvasLayer, name: ArmoryMenu
[10:02:26] [INFO] [PauseMenu] Script attached: res://scripts/ui/armory_menu.gd
[10:02:26] [INFO] [PauseMenu] back_pressed signal exists on instance
[10:02:26] [INFO] [PauseMenu] back_pressed signal connected
[10:02:26] [INFO] [PauseMenu] Armory menu instance added as child, is_inside_tree: true
[10:02:26] [INFO] [PauseMenu] _populate_weapon_grid method exists
[10:02:27] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[10:02:28] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=10
[10:02:29] [INFO] [GameManager] Weapon selected: sniper
[10:02:29] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[10:02:29] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:02:29] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[10:02:29] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[10:02:29] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[10:02:29] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[10:02:29] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[10:02:29] [INFO] [LastChance] Resetting all effects (scene change detected)
[10:02:29] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[10:02:29] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[10:02:29] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[10:02:29] [ENEMY] [Enemy1] Death animation component initialized
[10:02:29] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:02:29] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[10:02:29] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[10:02:29] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[10:02:29] [INFO] [EnemyGrenade] Initialized: 1 grenades
[10:02:29] [ENEMY] [Enemy2] Death animation component initialized
[10:02:29] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:02:29] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[10:02:29] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[10:02:29] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[10:02:29] [ENEMY] [Enemy3] Death animation component initialized
[10:02:29] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:02:29] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[10:02:29] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[10:02:29] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[10:02:29] [ENEMY] [Enemy4] Death animation component initialized
[10:02:29] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:02:29] [INFO] [BloodyFeet:Grenadier] Footprint scene loaded
[10:02:29] [INFO] [BloodyFeet:Grenadier] Found EnemyModel for facing direction
[10:02:29] [INFO] [BloodyFeet:Grenadier] BloodyFeetComponent ready on Grenadier
[10:02:29] [INFO] [EnemyGrenade] Grenade bag built (normal): [Flashbang, Flashbang, Flashbang, Offensive, Offensive, Offensive, Offensive, Offensive]
[10:02:29] [INFO] [EnemyGrenade] Grenadier initialized: 8 grenades in bag
[10:02:29] [ENEMY] [Grenadier] Death animation component initialized
[10:02:29] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:02:29] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[10:02:29] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[10:02:29] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[10:02:29] [ENEMY] [Enemy6] Death animation component initialized
[10:02:29] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:02:29] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[10:02:29] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[10:02:29] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[10:02:29] [ENEMY] [Enemy7] Death animation component initialized
[10:02:29] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:02:29] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[10:02:29] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[10:02:29] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[10:02:29] [ENEMY] [Enemy8] Death animation component initialized
[10:02:29] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:02:29] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[10:02:29] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[10:02:29] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[10:02:29] [ENEMY] [Enemy9] Death animation component initialized
[10:02:29] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:02:29] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[10:02:29] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[10:02:29] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[10:02:29] [ENEMY] [Enemy10] Death animation component initialized
[10:02:29] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:02:29] [INFO] [BloodyFeet:Player] Footprint scene loaded
[10:02:29] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[10:02:29] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[10:02:29] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[10:02:29] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[10:02:29] [INFO] [Player.Weapon] GameManager weapon selection: sniper (SniperRifle)
[10:02:29] [INFO] [Player.Weapon] Removed default MakarovPM
[10:02:29] [INFO] [Player.Weapon] Equipped SniperRifle (ammo: 5/5)
[10:02:29] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[10:02:29] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[10:02:29] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[10:02:29] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[10:02:29] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[10:02:29] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[10:02:29] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[10:02:29] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[10:02:29] [INFO] [Player.Homing] No homing bullets selected in ActiveItemManager
[10:02:29] [INFO] [Player] Ready! Ammo: 5/5, Grenades: 1/3, Health: 10/10
[10:02:29] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[10:02:29] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[10:02:29] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[10:02:29] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[10:02:29] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[10:02:29] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[10:02:29] [INFO] [BuildingLevel] Child 'Grenadier': script=true, has_died_signal=true
[10:02:29] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[10:02:29] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[10:02:29] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[10:02:29] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[10:02:29] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[10:02:29] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[10:02:29] [INFO] [BuildingLevel] Setting up weapon: sniper
[10:02:29] [INFO] [BuildingLevel] SniperRifle already equipped by C# Player - skipping GDScript weapon swap
[10:02:29] [INFO] [ScoreManager] Level started with 10 enemies
[10:02:29] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[10:02:29] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[10:02:29] [INFO] [ReplayManager] Replay data cleared
[10:02:29] [INFO] [BuildingLevel] Previous replay data cleared
[10:02:29] [INFO] [ReplayManager] Detected player weapon: Sniper Rifle (ASVK)
[10:02:29] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[10:02:29] [INFO] [ReplayManager] Level: BuildingLevel
[10:02:29] [INFO] [ReplayManager] Player: Player (valid: True)
[10:02:29] [INFO] [ReplayManager] Enemies count: 10
[10:02:29] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/asvk_topdown.png
[10:02:29] [INFO] [ReplayManager]   Enemy 0: Enemy1
[10:02:29] [INFO] [ReplayManager]   Enemy 1: Enemy2
[10:02:29] [INFO] [ReplayManager]   Enemy 2: Enemy3
[10:02:29] [INFO] [ReplayManager]   Enemy 3: Enemy4
[10:02:29] [INFO] [ReplayManager]   Enemy 4: Grenadier
[10:02:29] [INFO] [ReplayManager]   Enemy 5: Enemy6
[10:02:29] [INFO] [ReplayManager]   Enemy 6: Enemy7
[10:02:29] [INFO] [ReplayManager]   Enemy 7: Enemy8
[10:02:29] [INFO] [ReplayManager]   Enemy 8: Enemy9
[10:02:29] [INFO] [ReplayManager]   Enemy 9: Enemy10
[10:02:29] [INFO] [BuildingLevel] Replay recording started successfully
[10:02:29] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[10:02:29] [INFO] [CinemaEffects] Found player node: Player
[10:02:29] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[10:02:29] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 16)
[10:02:29] [ENEMY] [Enemy1] Registered as sound listener
[10:02:29] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 4, behavior: GUARD
[10:02:29] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[10:02:29] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 17)
[10:02:29] [ENEMY] [Enemy2] Registered as sound listener
[10:02:29] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 2, behavior: GUARD
[10:02:29] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[10:02:29] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 18)
[10:02:29] [ENEMY] [Enemy3] Registered as sound listener
[10:02:29] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 2, behavior: GUARD
[10:02:29] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[10:02:29] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 19)
[10:02:29] [ENEMY] [Enemy4] Registered as sound listener
[10:02:29] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 3, behavior: GUARD
[10:02:29] [INFO] [BloodyFeet:Grenadier] Blood detector created and attached to Grenadier
[10:02:29] [INFO] [SoundPropagation] Registered listener: Grenadier (total: 20)
[10:02:29] [ENEMY] [Grenadier] Registered as sound listener
[10:02:29] [ENEMY] [Grenadier] Spawned at (1700, 350), hp: 2, behavior: GUARD
[10:02:29] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[10:02:29] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 21)
[10:02:29] [ENEMY] [Enemy6] Registered as sound listener
[10:02:29] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 4, behavior: GUARD
[10:02:29] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[10:02:29] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 22)
[10:02:29] [ENEMY] [Enemy7] Registered as sound listener
[10:02:29] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 4, behavior: PATROL
[10:02:29] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[10:02:29] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 23)
[10:02:29] [ENEMY] [Enemy8] Registered as sound listener
[10:02:29] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 3, behavior: GUARD
[10:02:29] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[10:02:29] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 24)
[10:02:29] [ENEMY] [Enemy9] Registered as sound listener
[10:02:29] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 2, behavior: GUARD
[10:02:29] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[10:02:29] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 25)
[10:02:29] [ENEMY] [Enemy10] Registered as sound listener
[10:02:29] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 3, behavior: PATROL
[10:02:29] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[10:02:29] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[10:02:29] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[10:02:29] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=45.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[10:02:29] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=123.7°, current=0.0°, player=(450,1250), corner_timer=0.00
[10:02:29] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[10:02:29] [ENEMY] [Grenadier] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[10:02:29] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[10:02:29] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=123.7°, current=0.0°, player=(450,1250), corner_timer=0.00
[10:02:29] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[10:02:29] [INFO] [Player] Detecting weapon pose (frame 3)...
[10:02:29] [INFO] [Player] Detected weapon: ASVK Sniper Rifle (Sniper pose)
[10:02:29] [INFO] [Player] Applied Sniper arm pose: Left=(28, 6), Right=(-3, 6)
[10:02:29] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[10:02:29] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[10:02:29] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[10:02:29] [INFO] [LastChance] Found player: Player
[10:02:29] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[10:02:29] [INFO] [LastChance] Connected to player Damaged signal (C#)
[10:02:29] [INFO] [LastChance] Connected to player Died signal (C#)
[10:02:29] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[10:02:30] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[10:02:30] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[10:02:30] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[10:02:30] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(344,1028), corner_timer=0.30
[10:02:30] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(344,1028), corner_timer=0.30
[10:02:31] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(344,1022), corner_timer=-0.02
[10:02:31] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[10:02:31] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(344,1022), corner_timer=-0.02
[10:02:31] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[10:02:31] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(344,1022), corner_timer=0.30
[10:02:31] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(344,1022), corner_timer=0.30
[10:02:31] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[10:02:31] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(344,1022), corner_timer=-0.02
[10:02:31] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[10:02:31] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(344,1022), corner_timer=0.30
[10:02:31] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(344,1022), corner_timer=-0.02
[10:02:31] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[10:02:31] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.6°, player=(344,1022), corner_timer=0.30
[10:02:32] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=10
[10:02:33] [INFO] [PauseMenu] Armory button pressed
[10:02:33] [INFO] [PauseMenu] Creating new armory menu instance
[10:02:33] [INFO] [PauseMenu] armory_menu_scene resource path: res://scenes/ui/ArmoryMenu.tscn
[10:02:33] [INFO] [PauseMenu] Instance created, class: CanvasLayer, name: ArmoryMenu
[10:02:33] [INFO] [PauseMenu] Script attached: res://scripts/ui/armory_menu.gd
[10:02:33] [INFO] [PauseMenu] back_pressed signal exists on instance
[10:02:33] [INFO] [PauseMenu] back_pressed signal connected
[10:02:33] [INFO] [PauseMenu] Armory menu instance added as child, is_inside_tree: true
[10:02:33] [INFO] [PauseMenu] _populate_weapon_grid method exists
[10:02:33] [INFO] [ReplayManager] Recording frame 240 (4,0s): player_valid=True, enemies=10
[10:02:34] [INFO] [ReplayManager] Recording frame 300 (5,0s): player_valid=True, enemies=10
[10:02:34] [INFO] [ActiveItemManager] Active item changed from None to Homing Bullets
[10:02:34] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[10:02:34] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:02:34] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[10:02:34] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[10:02:34] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[10:02:34] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[10:02:34] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[10:02:34] [INFO] [LastChance] Resetting all effects (scene change detected)
[10:02:34] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[10:02:34] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[10:02:34] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[10:02:34] [ENEMY] [Enemy1] Death animation component initialized
[10:02:34] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:02:34] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[10:02:34] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[10:02:34] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[10:02:34] [ENEMY] [Enemy2] Death animation component initialized
[10:02:34] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:02:34] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[10:02:34] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[10:02:34] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[10:02:34] [ENEMY] [Enemy3] Death animation component initialized
[10:02:34] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:02:34] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[10:02:34] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[10:02:34] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[10:02:34] [ENEMY] [Enemy4] Death animation component initialized
[10:02:34] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:02:34] [INFO] [BloodyFeet:Grenadier] Footprint scene loaded
[10:02:34] [INFO] [BloodyFeet:Grenadier] Found EnemyModel for facing direction
[10:02:34] [INFO] [BloodyFeet:Grenadier] BloodyFeetComponent ready on Grenadier
[10:02:34] [INFO] [EnemyGrenade] Grenade bag built (normal): [Flashbang, Flashbang, Flashbang, Offensive, Offensive, Offensive, Offensive, Offensive]
[10:02:34] [INFO] [EnemyGrenade] Grenadier initialized: 8 grenades in bag
[10:02:34] [ENEMY] [Grenadier] Death animation component initialized
[10:02:34] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:02:34] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[10:02:34] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[10:02:34] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[10:02:34] [ENEMY] [Enemy6] Death animation component initialized
[10:02:34] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:02:34] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[10:02:34] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[10:02:34] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[10:02:34] [ENEMY] [Enemy7] Death animation component initialized
[10:02:34] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:02:34] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[10:02:34] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[10:02:34] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[10:02:34] [ENEMY] [Enemy8] Death animation component initialized
[10:02:34] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:02:34] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[10:02:34] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[10:02:34] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[10:02:34] [ENEMY] [Enemy9] Death animation component initialized
[10:02:34] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:02:34] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[10:02:34] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[10:02:34] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[10:02:34] [ENEMY] [Enemy10] Death animation component initialized
[10:02:34] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:02:34] [INFO] [BloodyFeet:Player] Footprint scene loaded
[10:02:34] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[10:02:34] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[10:02:34] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[10:02:34] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[10:02:34] [INFO] [Player.Weapon] GameManager weapon selection: sniper (SniperRifle)
[10:02:34] [INFO] [Player.Weapon] Removed default MakarovPM
[10:02:34] [INFO] [Player.Weapon] Equipped SniperRifle (ammo: 5/5)
[10:02:34] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[10:02:34] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[10:02:34] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[10:02:34] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[10:02:34] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[10:02:34] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[10:02:34] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[10:02:34] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[10:02:34] [INFO] [Player.Homing] Homing activation sound loaded
[10:02:34] [INFO] [Player.Homing] Homing bullets equipped, charges: 6/6
[10:02:34] [INFO] [Player] Ready! Ammo: 5/5, Grenades: 1/3, Health: 10/10
[10:02:34] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[10:02:34] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[10:02:34] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[10:02:34] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[10:02:34] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[10:02:34] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[10:02:34] [INFO] [BuildingLevel] Child 'Grenadier': script=true, has_died_signal=true
[10:02:34] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[10:02:34] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[10:02:34] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[10:02:34] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[10:02:34] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[10:02:34] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[10:02:34] [INFO] [BuildingLevel] Setting up weapon: sniper
[10:02:34] [INFO] [BuildingLevel] SniperRifle already equipped by C# Player - skipping GDScript weapon swap
[10:02:34] [INFO] [ScoreManager] Level started with 10 enemies
[10:02:34] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[10:02:34] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[10:02:34] [INFO] [ReplayManager] Replay data cleared
[10:02:34] [INFO] [BuildingLevel] Previous replay data cleared
[10:02:34] [INFO] [ReplayManager] Detected player weapon: Sniper Rifle (ASVK)
[10:02:34] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[10:02:34] [INFO] [ReplayManager] Level: BuildingLevel
[10:02:34] [INFO] [ReplayManager] Player: Player (valid: True)
[10:02:34] [INFO] [ReplayManager] Enemies count: 10
[10:02:34] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/asvk_topdown.png
[10:02:34] [INFO] [ReplayManager]   Enemy 0: Enemy1
[10:02:34] [INFO] [ReplayManager]   Enemy 1: Enemy2
[10:02:34] [INFO] [ReplayManager]   Enemy 2: Enemy3
[10:02:34] [INFO] [ReplayManager]   Enemy 3: Enemy4
[10:02:34] [INFO] [ReplayManager]   Enemy 4: Grenadier
[10:02:34] [INFO] [ReplayManager]   Enemy 5: Enemy6
[10:02:34] [INFO] [ReplayManager]   Enemy 6: Enemy7
[10:02:34] [INFO] [ReplayManager]   Enemy 7: Enemy8
[10:02:34] [INFO] [ReplayManager]   Enemy 8: Enemy9
[10:02:34] [INFO] [ReplayManager]   Enemy 9: Enemy10
[10:02:34] [INFO] [BuildingLevel] Replay recording started successfully
[10:02:34] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[10:02:34] [INFO] [CinemaEffects] Found player node: Player
[10:02:34] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[10:02:34] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 26)
[10:02:34] [ENEMY] [Enemy1] Registered as sound listener
[10:02:34] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 3, behavior: GUARD
[10:02:34] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[10:02:34] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 27)
[10:02:34] [ENEMY] [Enemy2] Registered as sound listener
[10:02:34] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 2, behavior: GUARD
[10:02:34] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[10:02:34] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 28)
[10:02:34] [ENEMY] [Enemy3] Registered as sound listener
[10:02:34] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 2, behavior: GUARD
[10:02:34] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[10:02:34] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 29)
[10:02:34] [ENEMY] [Enemy4] Registered as sound listener
[10:02:34] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 3, behavior: GUARD
[10:02:34] [INFO] [BloodyFeet:Grenadier] Blood detector created and attached to Grenadier
[10:02:34] [INFO] [SoundPropagation] Registered listener: Grenadier (total: 30)
[10:02:34] [ENEMY] [Grenadier] Registered as sound listener
[10:02:34] [ENEMY] [Grenadier] Spawned at (1700, 350), hp: 2, behavior: GUARD
[10:02:34] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[10:02:34] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 31)
[10:02:34] [ENEMY] [Enemy6] Registered as sound listener
[10:02:34] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 3, behavior: GUARD
[10:02:34] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[10:02:34] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 32)
[10:02:34] [ENEMY] [Enemy7] Registered as sound listener
[10:02:34] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 2, behavior: PATROL
[10:02:34] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[10:02:34] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 33)
[10:02:34] [ENEMY] [Enemy8] Registered as sound listener
[10:02:34] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 4, behavior: GUARD
[10:02:34] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[10:02:34] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 34)
[10:02:34] [ENEMY] [Enemy9] Registered as sound listener
[10:02:34] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 2, behavior: GUARD
[10:02:34] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[10:02:34] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 35)
[10:02:34] [ENEMY] [Enemy10] Registered as sound listener
[10:02:34] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 3, behavior: PATROL
[10:02:34] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[10:02:34] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[10:02:34] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[10:02:34] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[10:02:34] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[10:02:34] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[10:02:34] [ENEMY] [Grenadier] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[10:02:34] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[10:02:34] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=213.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[10:02:34] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[10:02:34] [INFO] [Player] Detecting weapon pose (frame 3)...
[10:02:34] [INFO] [Player] Detected weapon: ASVK Sniper Rifle (Sniper pose)
[10:02:34] [INFO] [Player] Applied Sniper arm pose: Left=(28, 6), Right=(-3, 6)
[10:02:34] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[10:02:34] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[10:02:34] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[10:02:34] [INFO] [LastChance] Found player: Player
[10:02:34] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[10:02:34] [INFO] [LastChance] Connected to player Damaged signal (C#)
[10:02:34] [INFO] [LastChance] Connected to player Died signal (C#)
[10:02:34] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[10:02:35] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[10:02:36] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[10:02:36] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[10:02:36] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(305,952), corner_timer=0.30
[10:02:36] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(305,952), corner_timer=0.30
[10:02:36] [INFO] [Player.Homing] Homing activated! Duration: 1s, charges remaining: 5/6
[10:02:36] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(305,952), corner_timer=-0.02
[10:02:36] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[10:02:36] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(305,952), corner_timer=-0.02
[10:02:36] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[10:02:36] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(305,952), corner_timer=0.30
[10:02:36] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(305,952), corner_timer=0.30
[10:02:36] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[10:02:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(305.5595, 952.1309), source=PLAYER (SniperRifle), range=3000, listeners=35
[10:02:36] [INFO] [SoundPropagation] Cleaned up 25 invalid listeners
[10:02:36] [ENEMY] [Enemy2] Heard gunshot at (305.5595, 952.1309), source_type=0, intensity=0.01, distance=413
[10:02:36] [ENEMY] [Enemy3] Heard gunshot at (305.5595, 952.1309), source_type=0, intensity=0.01, distance=443
[10:02:36] [ENEMY] [Enemy4] Heard gunshot at (305.5595, 952.1309), source_type=0, intensity=0.01, distance=497
[10:02:36] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=0, below_threshold=7
[10:02:36] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=103.2°, current=-157.5°, player=(305,952), corner_timer=0.00
[10:02:36] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=152.9°, current=-168.8°, player=(305,952), corner_timer=0.00
[10:02:36] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=174.0°, current=-101.3°, player=(305,952), corner_timer=0.00
[10:02:36] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(305,952), corner_timer=-0.02
[10:02:36] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[10:02:36] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(305,952), corner_timer=0.30
[10:02:37] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(305,952), corner_timer=-0.02
[10:02:37] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[10:02:37] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.6°, player=(305,952), corner_timer=0.30
[10:02:37] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[10:02:37] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[10:02:37] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[10:02:37] [ENEMY] [Enemy1] Memory: medium confidence (0.58) - transitioning to PURSUING
[10:02:37] [ENEMY] [Enemy1] State: IDLE -> PURSUING
[10:02:37] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=89.5°, current=-157.5°, player=(305,952), corner_timer=0.00
[10:02:37] [ENEMY] [Enemy1] PURSUING corner check: angle -50.9°
[10:02:37] [INFO] [Player.Homing] Homing effect expired, charges remaining: 5/6
[10:02:37] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(305,952), corner_timer=-0.02
[10:02:37] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[10:02:37] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[10:02:37] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:02:37] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[10:02:37] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[10:02:37] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[10:02:37] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[10:02:37] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[10:02:37] [INFO] [LastChance] Resetting all effects (scene change detected)
[10:02:37] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[10:02:37] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[10:02:37] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[10:02:37] [ENEMY] [Enemy1] Death animation component initialized
[10:02:37] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:02:37] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[10:02:37] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[10:02:37] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[10:02:37] [ENEMY] [Enemy2] Death animation component initialized
[10:02:37] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:02:37] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[10:02:37] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[10:02:37] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[10:02:37] [ENEMY] [Enemy3] Death animation component initialized
[10:02:37] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:02:37] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[10:02:37] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[10:02:37] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[10:02:37] [ENEMY] [Enemy4] Death animation component initialized
[10:02:37] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:02:37] [INFO] [BloodyFeet:Grenadier] Footprint scene loaded
[10:02:37] [INFO] [BloodyFeet:Grenadier] Found EnemyModel for facing direction
[10:02:37] [INFO] [BloodyFeet:Grenadier] BloodyFeetComponent ready on Grenadier
[10:02:37] [INFO] [EnemyGrenade] Grenade bag built (normal): [Flashbang, Flashbang, Flashbang, Offensive, Offensive, Offensive, Offensive, Offensive]
[10:02:37] [INFO] [EnemyGrenade] Grenadier initialized: 8 grenades in bag
[10:02:37] [ENEMY] [Grenadier] Death animation component initialized
[10:02:37] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:02:37] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[10:02:37] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[10:02:37] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[10:02:37] [ENEMY] [Enemy6] Death animation component initialized
[10:02:37] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:02:37] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[10:02:37] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[10:02:37] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[10:02:37] [ENEMY] [Enemy7] Death animation component initialized
[10:02:37] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:02:37] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[10:02:37] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[10:02:37] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[10:02:37] [ENEMY] [Enemy8] Death animation component initialized
[10:02:37] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:02:37] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[10:02:37] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[10:02:37] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[10:02:37] [ENEMY] [Enemy9] Death animation component initialized
[10:02:37] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:02:37] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[10:02:37] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[10:02:37] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[10:02:37] [ENEMY] [Enemy10] Death animation component initialized
[10:02:37] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:02:37] [INFO] [BloodyFeet:Player] Footprint scene loaded
[10:02:37] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[10:02:37] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[10:02:37] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[10:02:37] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[10:02:37] [INFO] [Player.Weapon] GameManager weapon selection: sniper (SniperRifle)
[10:02:37] [INFO] [Player.Weapon] Removed default MakarovPM
[10:02:37] [INFO] [Player.Weapon] Equipped SniperRifle (ammo: 5/5)
[10:02:37] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[10:02:37] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[10:02:37] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[10:02:37] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[10:02:37] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[10:02:37] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[10:02:37] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[10:02:37] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[10:02:37] [INFO] [Player.Homing] Homing activation sound loaded
[10:02:37] [INFO] [Player.Homing] Homing bullets equipped, charges: 6/6
[10:02:37] [INFO] [Player] Ready! Ammo: 5/5, Grenades: 1/3, Health: 10/10
[10:02:37] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[10:02:37] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[10:02:37] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[10:02:37] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[10:02:37] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[10:02:37] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[10:02:37] [INFO] [BuildingLevel] Child 'Grenadier': script=true, has_died_signal=true
[10:02:37] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[10:02:37] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[10:02:37] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[10:02:37] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[10:02:37] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[10:02:37] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[10:02:37] [INFO] [BuildingLevel] Setting up weapon: sniper
[10:02:37] [INFO] [BuildingLevel] SniperRifle already equipped by C# Player - skipping GDScript weapon swap
[10:02:37] [INFO] [ScoreManager] Level started with 10 enemies
[10:02:37] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[10:02:37] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[10:02:37] [INFO] [ReplayManager] Replay data cleared
[10:02:37] [INFO] [BuildingLevel] Previous replay data cleared
[10:02:37] [INFO] [ReplayManager] Detected player weapon: Sniper Rifle (ASVK)
[10:02:37] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[10:02:37] [INFO] [ReplayManager] Level: BuildingLevel
[10:02:37] [INFO] [ReplayManager] Player: Player (valid: True)
[10:02:37] [INFO] [ReplayManager] Enemies count: 10
[10:02:37] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/asvk_topdown.png
[10:02:37] [INFO] [ReplayManager]   Enemy 0: Enemy1
[10:02:37] [INFO] [ReplayManager]   Enemy 1: Enemy2
[10:02:37] [INFO] [ReplayManager]   Enemy 2: Enemy3
[10:02:37] [INFO] [ReplayManager]   Enemy 3: Enemy4
[10:02:37] [INFO] [ReplayManager]   Enemy 4: Grenadier
[10:02:37] [INFO] [ReplayManager]   Enemy 5: Enemy6
[10:02:37] [INFO] [ReplayManager]   Enemy 6: Enemy7
[10:02:37] [INFO] [ReplayManager]   Enemy 7: Enemy8
[10:02:37] [INFO] [ReplayManager]   Enemy 8: Enemy9
[10:02:37] [INFO] [ReplayManager]   Enemy 9: Enemy10
[10:02:37] [INFO] [BuildingLevel] Replay recording started successfully
[10:02:37] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[10:02:37] [INFO] [CinemaEffects] Found player node: Player
[10:02:37] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[10:02:37] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[10:02:37] [ENEMY] [Enemy1] Registered as sound listener
[10:02:37] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 2, behavior: GUARD
[10:02:37] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[10:02:37] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[10:02:37] [ENEMY] [Enemy2] Registered as sound listener
[10:02:37] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 2, behavior: GUARD
[10:02:37] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[10:02:37] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[10:02:37] [ENEMY] [Enemy3] Registered as sound listener
[10:02:37] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 4, behavior: GUARD
[10:02:37] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[10:02:37] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[10:02:37] [ENEMY] [Enemy4] Registered as sound listener
[10:02:37] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 3, behavior: GUARD
[10:02:37] [INFO] [BloodyFeet:Grenadier] Blood detector created and attached to Grenadier
[10:02:37] [INFO] [SoundPropagation] Registered listener: Grenadier (total: 15)
[10:02:37] [ENEMY] [Grenadier] Registered as sound listener
[10:02:37] [ENEMY] [Grenadier] Spawned at (1700, 350), hp: 2, behavior: GUARD
[10:02:37] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[10:02:37] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[10:02:37] [ENEMY] [Enemy6] Registered as sound listener
[10:02:37] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 2, behavior: GUARD
[10:02:37] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[10:02:37] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[10:02:37] [ENEMY] [Enemy7] Registered as sound listener
[10:02:37] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 3, behavior: PATROL
[10:02:37] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[10:02:37] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[10:02:37] [ENEMY] [Enemy8] Registered as sound listener
[10:02:37] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 2, behavior: GUARD
[10:02:37] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[10:02:37] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[10:02:37] [ENEMY] [Enemy9] Registered as sound listener
[10:02:37] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 2, behavior: GUARD
[10:02:37] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[10:02:37] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[10:02:37] [ENEMY] [Enemy10] Registered as sound listener
[10:02:37] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 3, behavior: PATROL
[10:02:37] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[10:02:37] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[10:02:37] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[10:02:37] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[10:02:37] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=236.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[10:02:37] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[10:02:37] [ENEMY] [Grenadier] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[10:02:37] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[10:02:37] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=157.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[10:02:37] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[10:02:37] [INFO] [Player] Detecting weapon pose (frame 3)...
[10:02:37] [INFO] [Player] Detected weapon: ASVK Sniper Rifle (Sniper pose)
[10:02:37] [INFO] [Player] Applied Sniper arm pose: Left=(28, 6), Right=(-3, 6)
[10:02:37] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[10:02:37] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[10:02:37] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[10:02:37] [INFO] [LastChance] Found player: Player
[10:02:37] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[10:02:37] [INFO] [LastChance] Connected to player Damaged signal (C#)
[10:02:37] [INFO] [LastChance] Connected to player Died signal (C#)
[10:02:37] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[10:02:38] [INFO] [Player.Homing] Homing activated! Duration: 1s, charges remaining: 5/6
[10:02:38] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[10:02:38] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 1250), source=PLAYER (SniperRifle), range=3000, listeners=20
[10:02:38] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[10:02:38] [ENEMY] [Enemy4] Heard gunshot at (450, 1250), source_type=0, intensity=0.01, distance=495
[10:02:38] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=9
[10:02:38] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=135.0°, current=-101.3°, player=(450,1250), corner_timer=0.00
[10:02:39] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[10:02:39] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[10:02:39] [ENEMY] [Enemy3] Memory: medium confidence (0.60) - transitioning to PURSUING
[10:02:39] [ENEMY] [Enemy3] State: IDLE -> PURSUING
[10:02:39] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,1250), corner_timer=0.30
[10:02:39] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,1250), corner_timer=0.30
[10:02:39] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=116.6°, current=-123.8°, player=(450,1250), corner_timer=0.00
[10:02:39] [ENEMY] [Enemy3] PURSUING corner check: angle -129.3°
[10:02:39] [INFO] [Player.Homing] Homing effect expired, charges remaining: 5/6
[10:02:39] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[10:02:39] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(450,1250), corner_timer=-0.02
[10:02:39] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[10:02:39] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(450,1250), corner_timer=-0.02
[10:02:39] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[10:02:39] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(450,1250), corner_timer=0.30
[10:02:39] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(450,1250), corner_timer=0.30
[10:02:39] [ENEMY] [Enemy3] PURSUING corner check: angle -161.0°
[10:02:39] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[10:02:39] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[10:02:39] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:02:39] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[10:02:39] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[10:02:39] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[10:02:39] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[10:02:39] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[10:02:39] [INFO] [LastChance] Resetting all effects (scene change detected)
[10:02:39] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[10:02:39] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[10:02:39] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[10:02:39] [ENEMY] [Enemy1] Death animation component initialized
[10:02:39] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:02:39] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[10:02:39] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[10:02:39] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[10:02:39] [ENEMY] [Enemy2] Death animation component initialized
[10:02:39] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:02:39] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[10:02:39] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[10:02:39] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[10:02:39] [ENEMY] [Enemy3] Death animation component initialized
[10:02:39] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:02:39] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[10:02:39] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[10:02:39] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[10:02:39] [ENEMY] [Enemy4] Death animation component initialized
[10:02:39] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:02:39] [INFO] [BloodyFeet:Grenadier] Footprint scene loaded
[10:02:39] [INFO] [BloodyFeet:Grenadier] Found EnemyModel for facing direction
[10:02:39] [INFO] [BloodyFeet:Grenadier] BloodyFeetComponent ready on Grenadier
[10:02:39] [INFO] [EnemyGrenade] Grenade bag built (normal): [Flashbang, Flashbang, Flashbang, Offensive, Offensive, Offensive, Offensive, Offensive]
[10:02:39] [INFO] [EnemyGrenade] Grenadier initialized: 8 grenades in bag
[10:02:39] [ENEMY] [Grenadier] Death animation component initialized
[10:02:39] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:02:39] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[10:02:39] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[10:02:39] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[10:02:39] [ENEMY] [Enemy6] Death animation component initialized
[10:02:39] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:02:39] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[10:02:39] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[10:02:39] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[10:02:39] [ENEMY] [Enemy7] Death animation component initialized
[10:02:39] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:02:39] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[10:02:39] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[10:02:39] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[10:02:39] [ENEMY] [Enemy8] Death animation component initialized
[10:02:39] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:02:39] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[10:02:39] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[10:02:39] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[10:02:39] [ENEMY] [Enemy9] Death animation component initialized
[10:02:39] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:02:39] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[10:02:39] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[10:02:39] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[10:02:39] [ENEMY] [Enemy10] Death animation component initialized
[10:02:39] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:02:39] [INFO] [BloodyFeet:Player] Footprint scene loaded
[10:02:39] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[10:02:39] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[10:02:39] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[10:02:39] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[10:02:39] [INFO] [Player.Weapon] GameManager weapon selection: sniper (SniperRifle)
[10:02:39] [INFO] [Player.Weapon] Removed default MakarovPM
[10:02:39] [INFO] [Player.Weapon] Equipped SniperRifle (ammo: 5/5)
[10:02:39] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[10:02:39] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[10:02:39] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[10:02:39] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[10:02:39] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[10:02:39] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[10:02:39] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[10:02:39] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[10:02:39] [INFO] [Player.Homing] Homing activation sound loaded
[10:02:39] [INFO] [Player.Homing] Homing bullets equipped, charges: 6/6
[10:02:39] [INFO] [Player] Ready! Ammo: 5/5, Grenades: 1/3, Health: 10/10
[10:02:39] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[10:02:39] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[10:02:39] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[10:02:39] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[10:02:39] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[10:02:39] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[10:02:39] [INFO] [BuildingLevel] Child 'Grenadier': script=true, has_died_signal=true
[10:02:39] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[10:02:39] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[10:02:39] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[10:02:39] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[10:02:39] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[10:02:39] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[10:02:39] [INFO] [BuildingLevel] Setting up weapon: sniper
[10:02:39] [INFO] [BuildingLevel] SniperRifle already equipped by C# Player - skipping GDScript weapon swap
[10:02:39] [INFO] [ScoreManager] Level started with 10 enemies
[10:02:39] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[10:02:39] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[10:02:39] [INFO] [ReplayManager] Replay data cleared
[10:02:39] [INFO] [BuildingLevel] Previous replay data cleared
[10:02:39] [INFO] [ReplayManager] Detected player weapon: Sniper Rifle (ASVK)
[10:02:39] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[10:02:39] [INFO] [ReplayManager] Level: BuildingLevel
[10:02:39] [INFO] [ReplayManager] Player: Player (valid: True)
[10:02:39] [INFO] [ReplayManager] Enemies count: 10
[10:02:39] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/asvk_topdown.png
[10:02:39] [INFO] [ReplayManager]   Enemy 0: Enemy1
[10:02:39] [INFO] [ReplayManager]   Enemy 1: Enemy2
[10:02:39] [INFO] [ReplayManager]   Enemy 2: Enemy3
[10:02:39] [INFO] [ReplayManager]   Enemy 3: Enemy4
[10:02:39] [INFO] [ReplayManager]   Enemy 4: Grenadier
[10:02:39] [INFO] [ReplayManager]   Enemy 5: Enemy6
[10:02:39] [INFO] [ReplayManager]   Enemy 6: Enemy7
[10:02:39] [INFO] [ReplayManager]   Enemy 7: Enemy8
[10:02:39] [INFO] [ReplayManager]   Enemy 8: Enemy9
[10:02:39] [INFO] [ReplayManager]   Enemy 9: Enemy10
[10:02:39] [INFO] [BuildingLevel] Replay recording started successfully
[10:02:39] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[10:02:39] [INFO] [CinemaEffects] Found player node: Player
[10:02:39] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[10:02:39] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[10:02:39] [ENEMY] [Enemy1] Registered as sound listener
[10:02:39] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 2, behavior: GUARD
[10:02:39] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[10:02:39] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[10:02:39] [ENEMY] [Enemy2] Registered as sound listener
[10:02:39] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 2, behavior: GUARD
[10:02:39] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[10:02:39] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[10:02:39] [ENEMY] [Enemy3] Registered as sound listener
[10:02:39] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 3, behavior: GUARD
[10:02:39] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[10:02:39] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[10:02:39] [ENEMY] [Enemy4] Registered as sound listener
[10:02:39] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 4, behavior: GUARD
[10:02:39] [INFO] [BloodyFeet:Grenadier] Blood detector created and attached to Grenadier
[10:02:39] [INFO] [SoundPropagation] Registered listener: Grenadier (total: 15)
[10:02:39] [ENEMY] [Grenadier] Registered as sound listener
[10:02:39] [ENEMY] [Grenadier] Spawned at (1700, 350), hp: 2, behavior: GUARD
[10:02:39] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[10:02:39] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[10:02:39] [ENEMY] [Enemy6] Registered as sound listener
[10:02:39] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 4, behavior: GUARD
[10:02:39] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[10:02:39] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[10:02:39] [ENEMY] [Enemy7] Registered as sound listener
[10:02:39] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 2, behavior: PATROL
[10:02:39] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[10:02:39] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[10:02:39] [ENEMY] [Enemy8] Registered as sound listener
[10:02:39] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 2, behavior: GUARD
[10:02:39] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[10:02:39] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[10:02:39] [ENEMY] [Enemy9] Registered as sound listener
[10:02:39] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 4, behavior: GUARD
[10:02:39] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[10:02:39] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[10:02:39] [ENEMY] [Enemy10] Registered as sound listener
[10:02:39] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 3, behavior: PATROL
[10:02:39] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[10:02:40] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[10:02:40] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[10:02:40] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=45.0°, current=0.0°, player=(450,1249), corner_timer=0.00
[10:02:40] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=236.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[10:02:40] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[10:02:40] [ENEMY] [Grenadier] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[10:02:40] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=225.0°, current=0.0°, player=(450,1249), corner_timer=0.00
[10:02:40] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[10:02:40] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[10:02:40] [INFO] [Player] Detecting weapon pose (frame 3)...
[10:02:40] [INFO] [Player] Detected weapon: ASVK Sniper Rifle (Sniper pose)
[10:02:40] [INFO] [Player] Applied Sniper arm pose: Left=(28, 6), Right=(-3, 6)
[10:02:40] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[10:02:40] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[10:02:40] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[10:02:40] [INFO] [LastChance] Found player: Player
[10:02:40] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[10:02:40] [INFO] [LastChance] Connected to player Damaged signal (C#)
[10:02:40] [INFO] [LastChance] Connected to player Died signal (C#)
[10:02:40] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[10:02:40] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[10:02:41] [INFO] [Player.Homing] Homing activated! Duration: 1s, charges remaining: 5/6
[10:02:41] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[10:02:41] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[10:02:41] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(342,896), corner_timer=0.30
[10:02:41] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(342,896), corner_timer=0.30
[10:02:41] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(342.9777, 896.9641), source=PLAYER (SniperRifle), range=3000, listeners=20
[10:02:41] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[10:02:41] [ENEMY] [Enemy2] Heard gunshot at (342.9777, 896.9641), source_type=0, intensity=0.02, distance=352
[10:02:41] [ENEMY] [Enemy3] Heard gunshot at (342.9777, 896.9641), source_type=0, intensity=0.02, distance=386
[10:02:41] [ENEMY] [Enemy4] Heard gunshot at (342.9777, 896.9641), source_type=0, intensity=0.01, distance=457
[10:02:41] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=0, below_threshold=7
[10:02:41] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=99.3°, current=45.0°, player=(342,896), corner_timer=0.00
[10:02:41] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=157.6°, current=-123.8°, player=(342,896), corner_timer=0.00
[10:02:41] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=-179.6°, current=168.8°, player=(342,896), corner_timer=0.00
[10:02:41] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(342,896), corner_timer=-0.02
[10:02:41] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[10:02:41] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(342,896), corner_timer=-0.02
[10:02:41] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[10:02:41] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(342,896), corner_timer=0.30
[10:02:41] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(342,896), corner_timer=0.30
[10:02:41] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[10:02:42] [ENEMY] [Enemy1] Memory: medium confidence (0.61) - transitioning to PURSUING
[10:02:42] [ENEMY] [Enemy1] State: IDLE -> PURSUING
[10:02:42] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=85.5°, current=-33.8°, player=(342,896), corner_timer=0.00
[10:02:42] [ENEMY] [Enemy1] PURSUING corner check: angle -50.9°
[10:02:42] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(342,896), corner_timer=-0.02
[10:02:42] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[10:02:42] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(342,896), corner_timer=0.30
[10:02:42] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[10:02:42] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[10:02:42] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[10:02:42] [ENEMY] [Enemy1] PURSUING corner check: angle -51.1°
[10:02:42] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(342,896), corner_timer=-0.02
[10:02:42] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[10:02:42] [INFO] [Player.Homing] Homing effect expired, charges remaining: 5/6
[10:02:42] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.6°, player=(342,896), corner_timer=0.30
[10:02:42] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[10:02:42] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:02:42] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[10:02:42] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[10:02:42] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[10:02:42] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[10:02:42] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[10:02:42] [INFO] [LastChance] Resetting all effects (scene change detected)
[10:02:42] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[10:02:42] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[10:02:42] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[10:02:42] [ENEMY] [Enemy1] Death animation component initialized
[10:02:42] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:02:42] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[10:02:42] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[10:02:42] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[10:02:42] [ENEMY] [Enemy2] Death animation component initialized
[10:02:42] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:02:42] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[10:02:42] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[10:02:42] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[10:02:42] [ENEMY] [Enemy3] Death animation component initialized
[10:02:42] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:02:42] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[10:02:42] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[10:02:42] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[10:02:42] [ENEMY] [Enemy4] Death animation component initialized
[10:02:42] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:02:42] [INFO] [BloodyFeet:Grenadier] Footprint scene loaded
[10:02:42] [INFO] [BloodyFeet:Grenadier] Found EnemyModel for facing direction
[10:02:42] [INFO] [BloodyFeet:Grenadier] BloodyFeetComponent ready on Grenadier
[10:02:42] [INFO] [EnemyGrenade] Grenade bag built (normal): [Flashbang, Flashbang, Flashbang, Offensive, Offensive, Offensive, Offensive, Offensive]
[10:02:42] [INFO] [EnemyGrenade] Grenadier initialized: 8 grenades in bag
[10:02:42] [ENEMY] [Grenadier] Death animation component initialized
[10:02:42] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:02:42] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[10:02:42] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[10:02:42] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[10:02:42] [ENEMY] [Enemy6] Death animation component initialized
[10:02:42] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:02:42] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[10:02:42] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[10:02:42] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[10:02:42] [ENEMY] [Enemy7] Death animation component initialized
[10:02:42] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:02:42] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[10:02:42] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[10:02:42] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[10:02:42] [ENEMY] [Enemy8] Death animation component initialized
[10:02:42] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:02:42] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[10:02:42] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[10:02:42] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[10:02:42] [ENEMY] [Enemy9] Death animation component initialized
[10:02:42] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:02:42] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[10:02:42] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[10:02:42] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[10:02:42] [ENEMY] [Enemy10] Death animation component initialized
[10:02:42] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:02:42] [INFO] [BloodyFeet:Player] Footprint scene loaded
[10:02:42] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[10:02:42] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[10:02:42] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[10:02:42] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[10:02:42] [INFO] [Player.Weapon] GameManager weapon selection: sniper (SniperRifle)
[10:02:42] [INFO] [Player.Weapon] Removed default MakarovPM
[10:02:42] [INFO] [Player.Weapon] Equipped SniperRifle (ammo: 5/5)
[10:02:42] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[10:02:42] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[10:02:42] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[10:02:42] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[10:02:42] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[10:02:42] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[10:02:42] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[10:02:42] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[10:02:42] [INFO] [Player.Homing] Homing activation sound loaded
[10:02:42] [INFO] [Player.Homing] Homing bullets equipped, charges: 6/6
[10:02:42] [INFO] [Player] Ready! Ammo: 5/5, Grenades: 1/3, Health: 10/10
[10:02:42] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[10:02:42] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[10:02:42] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[10:02:42] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[10:02:42] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[10:02:42] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[10:02:42] [INFO] [BuildingLevel] Child 'Grenadier': script=true, has_died_signal=true
[10:02:42] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[10:02:42] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[10:02:42] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[10:02:42] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[10:02:42] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[10:02:42] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[10:02:42] [INFO] [BuildingLevel] Setting up weapon: sniper
[10:02:42] [INFO] [BuildingLevel] SniperRifle already equipped by C# Player - skipping GDScript weapon swap
[10:02:42] [INFO] [ScoreManager] Level started with 10 enemies
[10:02:42] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[10:02:42] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[10:02:42] [INFO] [ReplayManager] Replay data cleared
[10:02:42] [INFO] [BuildingLevel] Previous replay data cleared
[10:02:42] [INFO] [ReplayManager] Detected player weapon: Sniper Rifle (ASVK)
[10:02:42] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[10:02:42] [INFO] [ReplayManager] Level: BuildingLevel
[10:02:42] [INFO] [ReplayManager] Player: Player (valid: True)
[10:02:42] [INFO] [ReplayManager] Enemies count: 10
[10:02:42] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/asvk_topdown.png
[10:02:42] [INFO] [ReplayManager]   Enemy 0: Enemy1
[10:02:42] [INFO] [ReplayManager]   Enemy 1: Enemy2
[10:02:42] [INFO] [ReplayManager]   Enemy 2: Enemy3
[10:02:42] [INFO] [ReplayManager]   Enemy 3: Enemy4
[10:02:42] [INFO] [ReplayManager]   Enemy 4: Grenadier
[10:02:42] [INFO] [ReplayManager]   Enemy 5: Enemy6
[10:02:42] [INFO] [ReplayManager]   Enemy 6: Enemy7
[10:02:42] [INFO] [ReplayManager]   Enemy 7: Enemy8
[10:02:42] [INFO] [ReplayManager]   Enemy 8: Enemy9
[10:02:42] [INFO] [ReplayManager]   Enemy 9: Enemy10
[10:02:42] [INFO] [BuildingLevel] Replay recording started successfully
[10:02:42] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[10:02:42] [INFO] [CinemaEffects] Found player node: Player
[10:02:42] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[10:02:42] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[10:02:42] [ENEMY] [Enemy1] Registered as sound listener
[10:02:42] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 4, behavior: GUARD
[10:02:42] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[10:02:42] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[10:02:42] [ENEMY] [Enemy2] Registered as sound listener
[10:02:42] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 3, behavior: GUARD
[10:02:42] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[10:02:42] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[10:02:42] [ENEMY] [Enemy3] Registered as sound listener
[10:02:42] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 2, behavior: GUARD
[10:02:42] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[10:02:42] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[10:02:42] [ENEMY] [Enemy4] Registered as sound listener
[10:02:42] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 2, behavior: GUARD
[10:02:42] [INFO] [BloodyFeet:Grenadier] Blood detector created and attached to Grenadier
[10:02:42] [INFO] [SoundPropagation] Registered listener: Grenadier (total: 15)
[10:02:42] [ENEMY] [Grenadier] Registered as sound listener
[10:02:42] [ENEMY] [Grenadier] Spawned at (1700, 350), hp: 2, behavior: GUARD
[10:02:42] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[10:02:42] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[10:02:42] [ENEMY] [Enemy6] Registered as sound listener
[10:02:42] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 4, behavior: GUARD
[10:02:42] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[10:02:42] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[10:02:42] [ENEMY] [Enemy7] Registered as sound listener
[10:02:42] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 3, behavior: PATROL
[10:02:42] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[10:02:42] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[10:02:42] [ENEMY] [Enemy8] Registered as sound listener
[10:02:42] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 4, behavior: GUARD
[10:02:42] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[10:02:42] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[10:02:42] [ENEMY] [Enemy9] Registered as sound listener
[10:02:42] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 4, behavior: GUARD
[10:02:42] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[10:02:42] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[10:02:42] [ENEMY] [Enemy10] Registered as sound listener
[10:02:42] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 4, behavior: PATROL
[10:02:42] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[10:02:42] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[10:02:42] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[10:02:42] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=45.0°, current=0.0°, player=(450,1249), corner_timer=0.00
[10:02:42] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=236.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[10:02:42] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[10:02:42] [ENEMY] [Grenadier] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[10:02:42] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=337.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[10:02:42] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=78.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[10:02:42] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[10:02:42] [INFO] [Player] Detecting weapon pose (frame 3)...
[10:02:42] [INFO] [Player] Detected weapon: ASVK Sniper Rifle (Sniper pose)
[10:02:42] [INFO] [Player] Applied Sniper arm pose: Left=(28, 6), Right=(-3, 6)
[10:02:42] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[10:02:42] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[10:02:42] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[10:02:42] [INFO] [LastChance] Found player: Player
[10:02:42] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[10:02:42] [INFO] [LastChance] Connected to player Damaged signal (C#)
[10:02:42] [INFO] [LastChance] Connected to player Died signal (C#)
[10:02:42] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[10:02:43] [INFO] [Player.Homing] Homing activated! Duration: 1s, charges remaining: 5/6
[10:02:43] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[10:02:44] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[10:02:44] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[10:02:44] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,888), corner_timer=0.30
[10:02:44] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,888), corner_timer=0.30
[10:02:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 888.9444), source=PLAYER (SniperRifle), range=3000, listeners=20
[10:02:44] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[10:02:44] [ENEMY] [Enemy2] Heard gunshot at (450, 888.9444), source_type=0, intensity=0.02, distance=343
[10:02:44] [ENEMY] [Enemy3] Heard gunshot at (450, 888.9444), source_type=0, intensity=0.03, distance=286
[10:02:44] [ENEMY] [Enemy4] Heard gunshot at (450, 888.9444), source_type=0, intensity=0.02, distance=350
[10:02:44] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=0, below_threshold=7
[10:02:44] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=81.6°, current=45.0°, player=(450,888), corner_timer=0.00
[10:02:44] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=150.9°, current=-123.8°, player=(450,888), corner_timer=0.00
[10:02:44] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=-178.2°, current=-67.5°, player=(450,888), corner_timer=0.00
[10:02:44] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(450,888), corner_timer=-0.02
[10:02:44] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[10:02:44] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(450,888), corner_timer=-0.02
[10:02:44] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[10:02:44] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(450,888), corner_timer=0.30
[10:02:44] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(450,888), corner_timer=0.30
[10:02:44] [INFO] [Player.Homing] Homing effect expired, charges remaining: 5/6
[10:02:44] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[10:02:44] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[10:02:44] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[10:02:44] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[10:02:45] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(450,888), corner_timer=-0.02
[10:02:45] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[10:02:45] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(450,888), corner_timer=0.30
[10:02:45] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[10:02:45] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:02:45] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[10:02:45] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[10:02:45] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[10:02:45] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[10:02:45] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[10:02:45] [INFO] [LastChance] Resetting all effects (scene change detected)
[10:02:45] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[10:02:45] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[10:02:45] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[10:02:45] [ENEMY] [Enemy1] Death animation component initialized
[10:02:45] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:02:45] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[10:02:45] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[10:02:45] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[10:02:45] [ENEMY] [Enemy2] Death animation component initialized
[10:02:45] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:02:45] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[10:02:45] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[10:02:45] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[10:02:45] [ENEMY] [Enemy3] Death animation component initialized
[10:02:45] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:02:45] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[10:02:45] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[10:02:45] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[10:02:45] [ENEMY] [Enemy4] Death animation component initialized
[10:02:45] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:02:45] [INFO] [BloodyFeet:Grenadier] Footprint scene loaded
[10:02:45] [INFO] [BloodyFeet:Grenadier] Found EnemyModel for facing direction
[10:02:45] [INFO] [BloodyFeet:Grenadier] BloodyFeetComponent ready on Grenadier
[10:02:45] [INFO] [EnemyGrenade] Grenade bag built (normal): [Flashbang, Flashbang, Flashbang, Offensive, Offensive, Offensive, Offensive, Offensive]
[10:02:45] [INFO] [EnemyGrenade] Grenadier initialized: 8 grenades in bag
[10:02:45] [ENEMY] [Grenadier] Death animation component initialized
[10:02:45] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:02:45] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[10:02:45] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[10:02:45] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[10:02:45] [ENEMY] [Enemy6] Death animation component initialized
[10:02:45] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:02:45] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[10:02:45] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[10:02:45] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[10:02:45] [ENEMY] [Enemy7] Death animation component initialized
[10:02:45] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:02:45] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[10:02:45] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[10:02:45] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[10:02:45] [ENEMY] [Enemy8] Death animation component initialized
[10:02:45] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:02:45] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[10:02:45] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[10:02:45] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[10:02:45] [ENEMY] [Enemy9] Death animation component initialized
[10:02:45] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:02:45] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[10:02:45] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[10:02:45] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[10:02:45] [ENEMY] [Enemy10] Death animation component initialized
[10:02:45] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:02:45] [INFO] [BloodyFeet:Player] Footprint scene loaded
[10:02:45] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[10:02:45] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[10:02:45] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[10:02:45] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[10:02:45] [INFO] [Player.Weapon] GameManager weapon selection: sniper (SniperRifle)
[10:02:45] [INFO] [Player.Weapon] Removed default MakarovPM
[10:02:45] [INFO] [Player.Weapon] Equipped SniperRifle (ammo: 5/5)
[10:02:45] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[10:02:45] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[10:02:45] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[10:02:45] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[10:02:45] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[10:02:45] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[10:02:45] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[10:02:45] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[10:02:45] [INFO] [Player.Homing] Homing activation sound loaded
[10:02:45] [INFO] [Player.Homing] Homing bullets equipped, charges: 6/6
[10:02:45] [INFO] [Player] Ready! Ammo: 5/5, Grenades: 1/3, Health: 10/10
[10:02:45] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[10:02:45] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[10:02:45] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[10:02:45] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[10:02:45] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[10:02:45] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[10:02:45] [INFO] [BuildingLevel] Child 'Grenadier': script=true, has_died_signal=true
[10:02:45] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[10:02:45] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[10:02:45] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[10:02:45] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[10:02:45] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[10:02:45] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[10:02:45] [INFO] [BuildingLevel] Setting up weapon: sniper
[10:02:45] [INFO] [BuildingLevel] SniperRifle already equipped by C# Player - skipping GDScript weapon swap
[10:02:45] [INFO] [ScoreManager] Level started with 10 enemies
[10:02:45] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[10:02:45] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[10:02:45] [INFO] [ReplayManager] Replay data cleared
[10:02:45] [INFO] [BuildingLevel] Previous replay data cleared
[10:02:45] [INFO] [ReplayManager] Detected player weapon: Sniper Rifle (ASVK)
[10:02:45] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[10:02:45] [INFO] [ReplayManager] Level: BuildingLevel
[10:02:45] [INFO] [ReplayManager] Player: Player (valid: True)
[10:02:45] [INFO] [ReplayManager] Enemies count: 10
[10:02:45] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/asvk_topdown.png
[10:02:45] [INFO] [ReplayManager]   Enemy 0: Enemy1
[10:02:45] [INFO] [ReplayManager]   Enemy 1: Enemy2
[10:02:45] [INFO] [ReplayManager]   Enemy 2: Enemy3
[10:02:45] [INFO] [ReplayManager]   Enemy 3: Enemy4
[10:02:45] [INFO] [ReplayManager]   Enemy 4: Grenadier
[10:02:45] [INFO] [ReplayManager]   Enemy 5: Enemy6
[10:02:45] [INFO] [ReplayManager]   Enemy 6: Enemy7
[10:02:45] [INFO] [ReplayManager]   Enemy 7: Enemy8
[10:02:45] [INFO] [ReplayManager]   Enemy 8: Enemy9
[10:02:45] [INFO] [ReplayManager]   Enemy 9: Enemy10
[10:02:45] [INFO] [BuildingLevel] Replay recording started successfully
[10:02:45] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[10:02:45] [INFO] [CinemaEffects] Found player node: Player
[10:02:45] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[10:02:45] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[10:02:45] [ENEMY] [Enemy1] Registered as sound listener
[10:02:45] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 3, behavior: GUARD
[10:02:45] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[10:02:45] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[10:02:45] [ENEMY] [Enemy2] Registered as sound listener
[10:02:45] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 4, behavior: GUARD
[10:02:45] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[10:02:45] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[10:02:45] [ENEMY] [Enemy3] Registered as sound listener
[10:02:45] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 4, behavior: GUARD
[10:02:45] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[10:02:45] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[10:02:45] [ENEMY] [Enemy4] Registered as sound listener
[10:02:45] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 2, behavior: GUARD
[10:02:45] [INFO] [BloodyFeet:Grenadier] Blood detector created and attached to Grenadier
[10:02:45] [INFO] [SoundPropagation] Registered listener: Grenadier (total: 15)
[10:02:45] [ENEMY] [Grenadier] Registered as sound listener
[10:02:45] [ENEMY] [Grenadier] Spawned at (1700, 350), hp: 2, behavior: GUARD
[10:02:45] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[10:02:45] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[10:02:45] [ENEMY] [Enemy6] Registered as sound listener
[10:02:45] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 4, behavior: GUARD
[10:02:45] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[10:02:45] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[10:02:45] [ENEMY] [Enemy7] Registered as sound listener
[10:02:45] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 4, behavior: PATROL
[10:02:45] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[10:02:45] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[10:02:45] [ENEMY] [Enemy8] Registered as sound listener
[10:02:45] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 4, behavior: GUARD
[10:02:45] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[10:02:45] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[10:02:45] [ENEMY] [Enemy9] Registered as sound listener
[10:02:45] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 3, behavior: GUARD
[10:02:45] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[10:02:45] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[10:02:45] [ENEMY] [Enemy10] Registered as sound listener
[10:02:45] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 4, behavior: PATROL
[10:02:45] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[10:02:45] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[10:02:45] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=33.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[10:02:45] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[10:02:45] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=236.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[10:02:45] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[10:02:45] [ENEMY] [Grenadier] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[10:02:45] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[10:02:45] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=123.7°, current=0.0°, player=(450,1250), corner_timer=0.00
[10:02:45] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=180.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[10:02:45] [INFO] [Player] Detecting weapon pose (frame 3)...
[10:02:45] [INFO] [Player] Detected weapon: ASVK Sniper Rifle (Sniper pose)
[10:02:45] [INFO] [Player] Applied Sniper arm pose: Left=(28, 6), Right=(-3, 6)
[10:02:45] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[10:02:45] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[10:02:45] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[10:02:45] [INFO] [LastChance] Found player: Player
[10:02:45] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[10:02:45] [INFO] [LastChance] Connected to player Damaged signal (C#)
[10:02:45] [INFO] [LastChance] Connected to player Died signal (C#)
[10:02:45] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[10:02:46] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[10:02:46] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[10:02:46] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[10:02:46] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(168,1372), corner_timer=0.30
[10:02:46] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(168,1372), corner_timer=0.30
[10:02:47] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(96,1446), corner_timer=-0.02
[10:02:47] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[10:02:47] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(96,1446), corner_timer=-0.02
[10:02:47] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[10:02:47] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(94,1451), corner_timer=0.30
[10:02:47] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(94,1451), corner_timer=0.30
[10:02:47] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[10:02:47] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(84,1551), corner_timer=-0.02
[10:02:47] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[10:02:47] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(84,1556), corner_timer=0.30
[10:02:47] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(80,1660), corner_timer=-0.02
[10:02:47] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[10:02:47] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.6°, player=(80,1664), corner_timer=0.30
[10:02:48] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(80,1769), corner_timer=-0.02
[10:02:48] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[10:02:48] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.8°, current=6.3°, player=(80,1774), corner_timer=0.30
[10:02:48] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=10
[10:02:48] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.8°, player=(80,1879), corner_timer=-0.02
[10:02:48] [ENEMY] [Enemy10] PATROL corner check: angle 0.9°
[10:02:48] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=0.9°, current=4.6°, player=(80,1884), corner_timer=0.30
[10:02:48] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[10:02:49] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=-130.1°, player=(80,2047), corner_timer=-0.02
[10:02:49] [ENEMY] [Enemy7] PATROL corner check: angle 90.0°
[10:02:49] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=-133.0°, player=(80,2047), corner_timer=0.30
[10:02:49] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[10:02:49] [INFO] [ReplayManager] Recording frame 240 (4,0s): player_valid=True, enemies=10
[10:02:49] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=179.1°, current=172.4°, player=(80,2047), corner_timer=-0.02
[10:02:49] [ENEMY] [Enemy7] PATROL corner check: angle 89.8°
[10:02:49] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.8°, current=175.3°, player=(80,2047), corner_timer=0.30
[10:02:49] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[10:02:49] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=178.4°, current=120.7°, player=(80,2047), corner_timer=-0.02
[10:02:49] [ENEMY] [Enemy7] PATROL corner check: angle 89.7°
[10:02:49] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.7°, current=123.6°, player=(80,2047), corner_timer=0.30
[10:02:49] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[10:02:50] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.9°, current=89.7°, player=(80,2047), corner_timer=-0.02
[10:02:50] [ENEMY] [Enemy7] PATROL corner check: angle 89.6°
[10:02:50] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.6°, current=92.5°, player=(80,2047), corner_timer=0.30
[10:02:50] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[10:02:50] [INFO] [ReplayManager] Recording frame 300 (5,0s): player_valid=True, enemies=10
[10:02:50] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.7°, current=89.6°, player=(80,2047), corner_timer=-0.02
[10:02:50] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[10:02:50] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.4°, player=(80,2047), corner_timer=0.30
[10:02:50] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[10:02:50] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.5°, current=89.5°, player=(80,2047), corner_timer=-0.02
[10:02:50] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[10:02:50] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.4°, player=(80,2047), corner_timer=0.30
[10:02:50] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[10:02:51] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.4°, current=89.5°, player=(80,2047), corner_timer=-0.02
[10:02:51] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[10:02:51] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.3°, player=(80,2047), corner_timer=0.30
[10:02:51] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[10:02:51] [INFO] [ReplayManager] Recording frame 360 (6,0s): player_valid=True, enemies=10
[10:02:51] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.5°, player=(80,2047), corner_timer=-0.02
[10:02:51] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[10:02:51] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(80,2047), corner_timer=0.30
[10:02:51] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[10:02:51] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(80,2047), corner_timer=-0.02
[10:02:51] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[10:02:51] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(80,2047), corner_timer=0.30
[10:02:51] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[10:02:51] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(80,2047), corner_timer=-0.02
[10:02:51] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[10:02:52] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(80,2047), corner_timer=0.30
[10:02:52] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[10:02:52] [INFO] [ReplayManager] Recording frame 420 (7,0s): player_valid=True, enemies=10
[10:02:52] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(80,2047), corner_timer=-0.02
[10:02:52] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[10:02:52] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(80,2047), corner_timer=0.30
[10:02:52] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[10:02:52] [INFO] [Player.Homing] Homing activated! Duration: 1s, charges remaining: 5/6
[10:02:52] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(80,2047), corner_timer=-0.02
[10:02:52] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[10:02:52] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(80,2047), corner_timer=0.30
[10:02:52] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[10:02:52] [ENEMY] [Enemy9] Hit: dmg=50, hp=3/3->-47/3
[10:02:52] [INFO] [ImpactEffects] spawn_blood_effect called at (2100, 1550), dir=(1, 0), lethal=true
[10:02:52] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[10:02:52] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[10:02:52] [INFO] [ImpactEffects] Blood effect spawned at (2100, 1550) (scale=1.5)
[10:02:52] [ENEMY] [Enemy9] Enemy died (ricochet: false, penetration: false)
[10:02:52] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[10:02:52] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[10:02:52] [INFO] [PowerFantasy] Starting power fantasy effect:
[10:02:52] [INFO] [PowerFantasy]   - Time scale: 0.10
[10:02:52] [INFO] [PowerFantasy]   - Duration: 300ms
[10:02:52] [ENEMY] [Enemy9] [AllyDeath] Notified 1 enemies
[10:02:52] [INFO] [SoundPropagation] Unregistered listener: Enemy9 (remaining: 19)
[10:02:52] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[10:02:52] [ENEMY] [Enemy9] Death animation started with hit direction: (1, 0)
[10:02:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(80.06662, 2047.995), source=PLAYER (SniperRifle), range=3000, listeners=19
[10:02:52] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[10:02:52] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=9
[10:02:53] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(80,2047), corner_timer=-0.01
[10:02:53] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[10:02:53] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=91.7°, player=(80,2047), corner_timer=0.30
[10:02:53] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[10:02:53] [INFO] [PowerFantasy] Effect duration expired after 313.00 ms
[10:02:53] [INFO] [PowerFantasy] Ending power fantasy effect
[10:02:53] [INFO] [BloodDecal] Blood puddle created at (2144.447, 1581.781) (added to group)
[10:02:53] [INFO] [BloodDecal] Blood puddle created at (2190.98, 1581.292) (added to group)
[10:02:53] [INFO] [BloodDecal] Blood puddle created at (2151.019, 1589.292) (added to group)
[10:02:53] [INFO] [ReplayManager] Recording frame 480 (8,0s): player_valid=True, enemies=10
[10:02:53] [INFO] [BloodDecal] Blood puddle created at (2190.553, 1566.577) (added to group)
[10:02:53] [INFO] [BloodDecal] Blood puddle created at (2172.178, 1563.304) (added to group)
[10:02:53] [INFO] [BloodDecal] Blood puddle created at (2188.068, 1537.646) (added to group)
[10:02:53] [INFO] [BloodDecal] Blood puddle created at (2205.042, 1628.554) (added to group)
[10:02:53] [INFO] [BloodDecal] Blood puddle created at (2227.873, 1635.958) (added to group)
[10:02:53] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.1°, current=89.4°, player=(80,2047), corner_timer=-0.01
[10:02:53] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[10:02:53] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(80,2047), corner_timer=0.30
[10:02:53] [ENEMY] [Enemy9] Ragdoll activated
[10:02:53] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[10:02:53] [INFO] [BloodDecal] Blood puddle created at (2220.521, 1620.402) (added to group)
[10:02:53] [INFO] [BloodDecal] Blood puddle created at (2206.268, 1626.034) (added to group)
[10:02:53] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[10:02:53] [INFO] [BloodDecal] Blood puddle created at (2233.756, 1656.476) (added to group)
[10:02:53] [INFO] [BloodDecal] Blood puddle created at (2264.454, 1634.552) (added to group)
[10:02:53] [INFO] [BloodDecal] Blood puddle created at (2221.571, 1636.16) (added to group)
[10:02:53] [INFO] [BloodDecal] Blood puddle created at (2294.195, 1604.168) (added to group)
[10:02:53] [INFO] [BloodDecal] Blood puddle created at (2184.851, 1593.482) (added to group)
[10:02:53] [INFO] [BloodDecal] Blood puddle created at (2206.724, 1628.909) (added to group)
[10:02:53] [INFO] [Player.Homing] Homing effect expired, charges remaining: 5/6
[10:02:53] [INFO] [BloodDecal] Blood puddle created at (2202.909, 1606.55) (added to group)
[10:02:53] [INFO] [BloodDecal] Blood puddle created at (2294.843, 1550.232) (added to group)
[10:02:53] [INFO] [BloodDecal] Blood puddle created at (2327.174, 1687.024) (added to group)
[10:02:53] [INFO] [BloodDecal] Blood puddle created at (2290.285, 1581.677) (added to group)
[10:02:53] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[10:02:53] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:02:53] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[10:02:53] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[10:02:53] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[10:02:53] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[10:02:53] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[10:02:53] [INFO] [LastChance] Resetting all effects (scene change detected)
[10:02:53] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[10:02:53] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[10:02:53] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[10:02:53] [ENEMY] [Enemy1] Death animation component initialized
[10:02:53] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:02:53] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[10:02:53] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[10:02:53] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[10:02:53] [ENEMY] [Enemy2] Death animation component initialized
[10:02:53] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:02:53] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[10:02:53] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[10:02:53] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[10:02:53] [ENEMY] [Enemy3] Death animation component initialized
[10:02:53] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:02:53] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[10:02:53] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[10:02:53] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[10:02:53] [ENEMY] [Enemy4] Death animation component initialized
[10:02:53] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:02:53] [INFO] [BloodyFeet:Grenadier] Footprint scene loaded
[10:02:53] [INFO] [BloodyFeet:Grenadier] Found EnemyModel for facing direction
[10:02:53] [INFO] [BloodyFeet:Grenadier] BloodyFeetComponent ready on Grenadier
[10:02:53] [INFO] [EnemyGrenade] Grenade bag built (normal): [Flashbang, Flashbang, Flashbang, Offensive, Offensive, Offensive, Offensive, Offensive]
[10:02:53] [INFO] [EnemyGrenade] Grenadier initialized: 8 grenades in bag
[10:02:53] [ENEMY] [Grenadier] Death animation component initialized
[10:02:53] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:02:53] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[10:02:53] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[10:02:53] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[10:02:53] [ENEMY] [Enemy6] Death animation component initialized
[10:02:53] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:02:53] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[10:02:53] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[10:02:53] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[10:02:53] [ENEMY] [Enemy7] Death animation component initialized
[10:02:53] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:02:53] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[10:02:53] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[10:02:53] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[10:02:53] [ENEMY] [Enemy8] Death animation component initialized
[10:02:53] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:02:53] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[10:02:53] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[10:02:53] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[10:02:53] [ENEMY] [Enemy9] Death animation component initialized
[10:02:53] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:02:53] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[10:02:53] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[10:02:53] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[10:02:53] [ENEMY] [Enemy10] Death animation component initialized
[10:02:53] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:02:53] [INFO] [BloodyFeet:Player] Footprint scene loaded
[10:02:53] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[10:02:53] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[10:02:53] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[10:02:53] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[10:02:53] [INFO] [Player.Weapon] GameManager weapon selection: sniper (SniperRifle)
[10:02:53] [INFO] [Player.Weapon] Removed default MakarovPM
[10:02:53] [INFO] [Player.Weapon] Equipped SniperRifle (ammo: 5/5)
[10:02:53] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[10:02:53] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[10:02:53] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[10:02:53] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[10:02:53] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[10:02:53] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[10:02:53] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[10:02:53] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[10:02:53] [INFO] [Player.Homing] Homing activation sound loaded
[10:02:53] [INFO] [Player.Homing] Homing bullets equipped, charges: 6/6
[10:02:53] [INFO] [Player] Ready! Ammo: 5/5, Grenades: 1/3, Health: 10/10
[10:02:53] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[10:02:53] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[10:02:53] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[10:02:53] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[10:02:53] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[10:02:53] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[10:02:53] [INFO] [BuildingLevel] Child 'Grenadier': script=true, has_died_signal=true
[10:02:53] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[10:02:53] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[10:02:53] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[10:02:53] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[10:02:53] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[10:02:53] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[10:02:53] [INFO] [BuildingLevel] Setting up weapon: sniper
[10:02:53] [INFO] [BuildingLevel] SniperRifle already equipped by C# Player - skipping GDScript weapon swap
[10:02:53] [INFO] [ScoreManager] Level started with 10 enemies
[10:02:53] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[10:02:53] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[10:02:53] [INFO] [ReplayManager] Replay data cleared
[10:02:53] [INFO] [BuildingLevel] Previous replay data cleared
[10:02:53] [INFO] [ReplayManager] Detected player weapon: Sniper Rifle (ASVK)
[10:02:53] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[10:02:53] [INFO] [ReplayManager] Level: BuildingLevel
[10:02:53] [INFO] [ReplayManager] Player: Player (valid: True)
[10:02:53] [INFO] [ReplayManager] Enemies count: 10
[10:02:53] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/asvk_topdown.png
[10:02:53] [INFO] [ReplayManager]   Enemy 0: Enemy1
[10:02:53] [INFO] [ReplayManager]   Enemy 1: Enemy2
[10:02:53] [INFO] [ReplayManager]   Enemy 2: Enemy3
[10:02:53] [INFO] [ReplayManager]   Enemy 3: Enemy4
[10:02:53] [INFO] [ReplayManager]   Enemy 4: Grenadier
[10:02:53] [INFO] [ReplayManager]   Enemy 5: Enemy6
[10:02:53] [INFO] [ReplayManager]   Enemy 6: Enemy7
[10:02:53] [INFO] [ReplayManager]   Enemy 7: Enemy8
[10:02:53] [INFO] [ReplayManager]   Enemy 8: Enemy9
[10:02:53] [INFO] [ReplayManager]   Enemy 9: Enemy10
[10:02:53] [INFO] [BuildingLevel] Replay recording started successfully
[10:02:53] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[10:02:53] [INFO] [CinemaEffects] Found player node: Player
[10:02:53] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[10:02:53] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[10:02:53] [ENEMY] [Enemy1] Registered as sound listener
[10:02:53] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 3, behavior: GUARD
[10:02:53] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[10:02:53] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[10:02:53] [ENEMY] [Enemy2] Registered as sound listener
[10:02:53] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 3, behavior: GUARD
[10:02:53] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[10:02:53] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[10:02:53] [ENEMY] [Enemy3] Registered as sound listener
[10:02:53] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 2, behavior: GUARD
[10:02:53] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[10:02:53] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[10:02:53] [ENEMY] [Enemy4] Registered as sound listener
[10:02:53] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 2, behavior: GUARD
[10:02:53] [INFO] [BloodyFeet:Grenadier] Blood detector created and attached to Grenadier
[10:02:53] [INFO] [SoundPropagation] Registered listener: Grenadier (total: 14)
[10:02:53] [ENEMY] [Grenadier] Registered as sound listener
[10:02:53] [ENEMY] [Grenadier] Spawned at (1700, 350), hp: 2, behavior: GUARD
[10:02:53] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[10:02:53] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[10:02:53] [ENEMY] [Enemy6] Registered as sound listener
[10:02:53] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 4, behavior: GUARD
[10:02:53] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[10:02:53] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[10:02:53] [ENEMY] [Enemy7] Registered as sound listener
[10:02:53] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 3, behavior: PATROL
[10:02:53] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[10:02:53] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[10:02:53] [ENEMY] [Enemy8] Registered as sound listener
[10:02:53] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 2, behavior: GUARD
[10:02:53] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[10:02:53] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[10:02:53] [ENEMY] [Enemy9] Registered as sound listener
[10:02:53] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 2, behavior: GUARD
[10:02:53] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[10:02:53] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[10:02:53] [ENEMY] [Enemy10] Registered as sound listener
[10:02:53] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 4, behavior: PATROL
[10:02:53] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[10:02:53] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[10:02:53] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[10:02:53] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[10:02:53] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[10:02:53] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[10:02:53] [ENEMY] [Grenadier] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[10:02:53] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[10:02:53] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[10:02:53] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[10:02:53] [INFO] [Player] Detecting weapon pose (frame 3)...
[10:02:53] [INFO] [Player] Detected weapon: ASVK Sniper Rifle (Sniper pose)
[10:02:53] [INFO] [Player] Applied Sniper arm pose: Left=(28, 6), Right=(-3, 6)
[10:02:53] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[10:02:53] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[10:02:53] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[10:02:53] [INFO] [LastChance] Found player: Player
[10:02:53] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[10:02:53] [INFO] [LastChance] Connected to player Damaged signal (C#)
[10:02:53] [INFO] [LastChance] Connected to player Died signal (C#)
[10:02:54] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[10:02:54] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[10:02:55] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[10:02:55] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[10:02:55] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,1416), corner_timer=0.30
[10:02:55] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,1416), corner_timer=0.30
[10:02:55] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(450,1520), corner_timer=-0.02
[10:02:55] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[10:02:55] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(450,1520), corner_timer=-0.02
[10:02:55] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[10:02:55] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(450,1525), corner_timer=0.30
[10:02:55] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(450,1525), corner_timer=0.30
[10:02:55] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[10:02:56] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(450,1567), corner_timer=-0.02
[10:02:56] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[10:02:56] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(450,1567), corner_timer=0.30
[10:02:56] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(450,1567), corner_timer=-0.02
[10:02:56] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[10:02:56] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.6°, player=(450,1567), corner_timer=0.30
[10:02:56] [INFO] [Player.Homing] Homing activated! Duration: 1s, charges remaining: 5/6
[10:02:56] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(450,1567), corner_timer=-0.02
[10:02:56] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[10:02:56] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.8°, current=6.3°, player=(450,1567), corner_timer=0.30
[10:02:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450, 1567.056), source=PLAYER (SniperRifle), range=3000, listeners=19
[10:02:56] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[10:02:56] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=10
[10:02:56] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=10
[10:02:57] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.8°, player=(450,1567), corner_timer=-0.02
[10:02:57] [ENEMY] [Enemy10] PATROL corner check: angle 0.9°
[10:02:57] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=0.9°, current=4.6°, player=(450,1567), corner_timer=0.30
[10:02:57] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[10:02:57] [INFO] [Player.Homing] Homing effect expired, charges remaining: 5/6
[10:02:57] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=-130.1°, player=(450,1567), corner_timer=-0.02
[10:02:57] [ENEMY] [Enemy7] PATROL corner check: angle 90.0°
[10:02:57] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=-133.0°, player=(450,1567), corner_timer=0.30
[10:02:57] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[10:02:57] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[10:02:57] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:02:57] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[10:02:57] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[10:02:57] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[10:02:57] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[10:02:57] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[10:02:57] [INFO] [LastChance] Resetting all effects (scene change detected)
[10:02:57] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[10:02:57] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[10:02:57] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[10:02:57] [ENEMY] [Enemy1] Death animation component initialized
[10:02:57] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:02:57] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[10:02:57] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[10:02:57] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[10:02:57] [ENEMY] [Enemy2] Death animation component initialized
[10:02:57] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:02:57] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[10:02:57] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[10:02:57] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[10:02:57] [ENEMY] [Enemy3] Death animation component initialized
[10:02:57] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:02:57] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[10:02:57] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[10:02:57] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[10:02:57] [ENEMY] [Enemy4] Death animation component initialized
[10:02:57] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:02:57] [INFO] [BloodyFeet:Grenadier] Footprint scene loaded
[10:02:57] [INFO] [BloodyFeet:Grenadier] Found EnemyModel for facing direction
[10:02:57] [INFO] [BloodyFeet:Grenadier] BloodyFeetComponent ready on Grenadier
[10:02:57] [INFO] [EnemyGrenade] Grenade bag built (normal): [Flashbang, Flashbang, Flashbang, Offensive, Offensive, Offensive, Offensive, Offensive]
[10:02:57] [INFO] [EnemyGrenade] Grenadier initialized: 8 grenades in bag
[10:02:57] [ENEMY] [Grenadier] Death animation component initialized
[10:02:57] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:02:57] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[10:02:57] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[10:02:57] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[10:02:57] [ENEMY] [Enemy6] Death animation component initialized
[10:02:57] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:02:57] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[10:02:57] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[10:02:57] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[10:02:57] [ENEMY] [Enemy7] Death animation component initialized
[10:02:57] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:02:57] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[10:02:57] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[10:02:57] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[10:02:57] [ENEMY] [Enemy8] Death animation component initialized
[10:02:57] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:02:57] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[10:02:57] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[10:02:57] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[10:02:57] [ENEMY] [Enemy9] Death animation component initialized
[10:02:57] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:02:57] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[10:02:57] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[10:02:57] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[10:02:57] [ENEMY] [Enemy10] Death animation component initialized
[10:02:57] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:02:57] [INFO] [BloodyFeet:Player] Footprint scene loaded
[10:02:57] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[10:02:57] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[10:02:57] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[10:02:57] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[10:02:57] [INFO] [Player.Weapon] GameManager weapon selection: sniper (SniperRifle)
[10:02:57] [INFO] [Player.Weapon] Removed default MakarovPM
[10:02:57] [INFO] [Player.Weapon] Equipped SniperRifle (ammo: 5/5)
[10:02:57] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[10:02:57] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[10:02:57] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[10:02:57] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[10:02:57] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[10:02:57] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[10:02:57] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[10:02:57] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[10:02:57] [INFO] [Player.Homing] Homing activation sound loaded
[10:02:57] [INFO] [Player.Homing] Homing bullets equipped, charges: 6/6
[10:02:57] [INFO] [Player] Ready! Ammo: 5/5, Grenades: 1/3, Health: 10/10
[10:02:57] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[10:02:57] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[10:02:57] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[10:02:57] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[10:02:57] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[10:02:57] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[10:02:57] [INFO] [BuildingLevel] Child 'Grenadier': script=true, has_died_signal=true
[10:02:57] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[10:02:57] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[10:02:57] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[10:02:57] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[10:02:57] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[10:02:57] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[10:02:57] [INFO] [BuildingLevel] Setting up weapon: sniper
[10:02:57] [INFO] [BuildingLevel] SniperRifle already equipped by C# Player - skipping GDScript weapon swap
[10:02:57] [INFO] [ScoreManager] Level started with 10 enemies
[10:02:57] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[10:02:57] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[10:02:57] [INFO] [ReplayManager] Replay data cleared
[10:02:57] [INFO] [BuildingLevel] Previous replay data cleared
[10:02:57] [INFO] [ReplayManager] Detected player weapon: Sniper Rifle (ASVK)
[10:02:57] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[10:02:57] [INFO] [ReplayManager] Level: BuildingLevel
[10:02:57] [INFO] [ReplayManager] Player: Player (valid: True)
[10:02:57] [INFO] [ReplayManager] Enemies count: 10
[10:02:57] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/asvk_topdown.png
[10:02:57] [INFO] [ReplayManager]   Enemy 0: Enemy1
[10:02:57] [INFO] [ReplayManager]   Enemy 1: Enemy2
[10:02:57] [INFO] [ReplayManager]   Enemy 2: Enemy3
[10:02:57] [INFO] [ReplayManager]   Enemy 3: Enemy4
[10:02:57] [INFO] [ReplayManager]   Enemy 4: Grenadier
[10:02:57] [INFO] [ReplayManager]   Enemy 5: Enemy6
[10:02:57] [INFO] [ReplayManager]   Enemy 6: Enemy7
[10:02:57] [INFO] [ReplayManager]   Enemy 7: Enemy8
[10:02:57] [INFO] [ReplayManager]   Enemy 8: Enemy9
[10:02:57] [INFO] [ReplayManager]   Enemy 9: Enemy10
[10:02:57] [INFO] [BuildingLevel] Replay recording started successfully
[10:02:57] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[10:02:57] [INFO] [CinemaEffects] Found player node: Player
[10:02:57] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[10:02:57] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[10:02:57] [ENEMY] [Enemy1] Registered as sound listener
[10:02:57] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 4, behavior: GUARD
[10:02:57] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[10:02:57] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[10:02:57] [ENEMY] [Enemy2] Registered as sound listener
[10:02:57] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 4, behavior: GUARD
[10:02:57] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[10:02:57] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[10:02:57] [ENEMY] [Enemy3] Registered as sound listener
[10:02:57] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 3, behavior: GUARD
[10:02:57] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[10:02:57] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[10:02:57] [ENEMY] [Enemy4] Registered as sound listener
[10:02:57] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 3, behavior: GUARD
[10:02:57] [INFO] [BloodyFeet:Grenadier] Blood detector created and attached to Grenadier
[10:02:57] [INFO] [SoundPropagation] Registered listener: Grenadier (total: 15)
[10:02:57] [ENEMY] [Grenadier] Registered as sound listener
[10:02:57] [ENEMY] [Grenadier] Spawned at (1700, 350), hp: 2, behavior: GUARD
[10:02:57] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[10:02:57] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[10:02:57] [ENEMY] [Enemy6] Registered as sound listener
[10:02:57] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 3, behavior: GUARD
[10:02:57] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[10:02:57] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[10:02:57] [ENEMY] [Enemy7] Registered as sound listener
[10:02:57] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 2, behavior: PATROL
[10:02:57] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[10:02:57] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[10:02:57] [ENEMY] [Enemy8] Registered as sound listener
[10:02:57] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 4, behavior: GUARD
[10:02:57] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[10:02:57] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[10:02:57] [ENEMY] [Enemy9] Registered as sound listener
[10:02:57] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 3, behavior: GUARD
[10:02:57] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[10:02:57] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[10:02:57] [ENEMY] [Enemy10] Registered as sound listener
[10:02:57] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 3, behavior: PATROL
[10:02:57] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[10:02:58] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[10:02:58] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=33.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[10:02:58] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=45.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[10:02:58] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[10:02:58] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[10:02:58] [ENEMY] [Grenadier] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=180.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[10:02:58] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=225.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[10:02:58] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=157.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[10:02:58] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[10:02:58] [INFO] [Player] Detecting weapon pose (frame 3)...
[10:02:58] [INFO] [Player] Detected weapon: ASVK Sniper Rifle (Sniper pose)
[10:02:58] [INFO] [Player] Applied Sniper arm pose: Left=(28, 6), Right=(-3, 6)
[10:02:58] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[10:02:58] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[10:02:58] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[10:02:58] [INFO] [LastChance] Found player: Player
[10:02:58] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[10:02:58] [INFO] [LastChance] Connected to player Damaged signal (C#)
[10:02:58] [INFO] [LastChance] Connected to player Died signal (C#)
[10:02:58] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[10:02:59] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[10:02:59] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[10:02:59] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[10:02:59] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(714,1373), corner_timer=0.30
[10:02:59] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(714,1373), corner_timer=0.30
[10:02:59] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(770,1434), corner_timer=-0.02
[10:02:59] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[10:02:59] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(770,1434), corner_timer=-0.02
[10:02:59] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[10:02:59] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(771,1439), corner_timer=0.30
[10:02:59] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(771,1439), corner_timer=0.30
[10:03:00] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[10:03:00] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(771,1543), corner_timer=-0.02
[10:03:00] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[10:03:00] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(771,1549), corner_timer=0.30
[10:03:00] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(771,1653), corner_timer=-0.02
[10:03:00] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[10:03:00] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.6°, player=(771,1659), corner_timer=0.30
[10:03:00] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(751,1755), corner_timer=-0.02
[10:03:00] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[10:03:00] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.8°, current=6.3°, player=(747,1759), corner_timer=0.30
[10:03:01] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=10
[10:03:01] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.8°, player=(673,1833), corner_timer=-0.02
[10:03:01] [ENEMY] [Enemy10] PATROL corner check: angle 0.9°
[10:03:01] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=0.9°, current=4.6°, player=(669,1836), corner_timer=0.30
[10:03:01] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[10:03:01] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=-130.1°, player=(549,1957), corner_timer=-0.02
[10:03:01] [ENEMY] [Enemy7] PATROL corner check: angle 90.0°
[10:03:01] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=-133.0°, player=(545,1961), corner_timer=0.30
[10:03:01] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[10:03:02] [INFO] [ReplayManager] Recording frame 240 (4,0s): player_valid=True, enemies=10
[10:03:02] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=179.1°, current=172.4°, player=(471,1995), corner_timer=-0.02
[10:03:02] [ENEMY] [Enemy7] PATROL corner check: angle 89.8°
[10:03:02] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.8°, current=175.3°, player=(469,1995), corner_timer=0.30
[10:03:02] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[10:03:02] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=178.4°, current=120.7°, player=(462,1997), corner_timer=-0.02
[10:03:02] [ENEMY] [Enemy7] PATROL corner check: angle 89.7°
[10:03:02] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.7°, current=123.6°, player=(462,1997), corner_timer=0.30
[10:03:02] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[10:03:02] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.9°, current=89.7°, player=(462,1997), corner_timer=-0.02
[10:03:02] [ENEMY] [Enemy7] PATROL corner check: angle 89.6°
[10:03:02] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.6°, current=92.5°, player=(462,1997), corner_timer=0.30
[10:03:02] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[10:03:03] [INFO] [ReplayManager] Recording frame 300 (5,0s): player_valid=True, enemies=10
[10:03:03] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.7°, current=89.6°, player=(462,1997), corner_timer=-0.02
[10:03:03] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[10:03:03] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.4°, player=(462,1997), corner_timer=0.30
[10:03:03] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[10:03:03] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.5°, current=89.5°, player=(462,1997), corner_timer=-0.02
[10:03:03] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[10:03:03] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.4°, player=(462,1997), corner_timer=0.30
[10:03:03] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[10:03:03] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.4°, current=89.5°, player=(462,1997), corner_timer=-0.02
[10:03:03] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[10:03:03] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.3°, player=(462,1997), corner_timer=0.30
[10:03:03] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[10:03:04] [INFO] [ReplayManager] Recording frame 360 (6,0s): player_valid=True, enemies=10
[10:03:04] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.5°, player=(462,1997), corner_timer=-0.02
[10:03:04] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[10:03:04] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(462,1997), corner_timer=0.30
[10:03:04] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[10:03:04] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(462,1997), corner_timer=-0.02
[10:03:04] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[10:03:04] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(462,1997), corner_timer=0.30
[10:03:04] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[10:03:04] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(462,1997), corner_timer=-0.02
[10:03:04] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[10:03:04] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(462,1997), corner_timer=0.30
[10:03:04] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[10:03:05] [INFO] [ReplayManager] Recording frame 420 (7,0s): player_valid=True, enemies=10
[10:03:05] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(462,1997), corner_timer=-0.02
[10:03:05] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[10:03:05] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(462,1997), corner_timer=0.30
[10:03:05] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[10:03:05] [INFO] [Player.Homing] Homing activated! Duration: 1s, charges remaining: 5/6
[10:03:05] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(462,1997), corner_timer=-0.02
[10:03:05] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[10:03:05] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(462,1997), corner_timer=0.30
[10:03:05] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[10:03:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(462.8512, 1997.776), source=PLAYER (SniperRifle), range=3000, listeners=20
[10:03:05] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[10:03:05] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=10
[10:03:05] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(462,1997), corner_timer=-0.02
[10:03:05] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[10:03:05] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(462,1997), corner_timer=0.30
[10:03:05] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[10:03:06] [INFO] [ReplayManager] Recording frame 480 (8,0s): player_valid=True, enemies=10
[10:03:06] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(462,1997), corner_timer=-0.02
[10:03:06] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[10:03:06] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(462,1997), corner_timer=0.30
[10:03:06] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[10:03:06] [INFO] [Player.Homing] Homing effect expired, charges remaining: 5/6
[10:03:06] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(462,1997), corner_timer=-0.02
[10:03:06] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[10:03:06] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(462,1997), corner_timer=0.30
[10:03:06] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[10:03:06] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(462,1997), corner_timer=-0.02
[10:03:06] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[10:03:06] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(462,1997), corner_timer=0.30
[10:03:06] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[10:03:07] [INFO] [ReplayManager] Recording frame 540 (9,0s): player_valid=True, enemies=10
[10:03:07] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(462,1997), corner_timer=-0.02
[10:03:07] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[10:03:07] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(462,1997), corner_timer=0.30
[10:03:07] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[10:03:07] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[10:03:07] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:03:07] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[10:03:07] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[10:03:07] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[10:03:07] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[10:03:07] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[10:03:07] [INFO] [LastChance] Resetting all effects (scene change detected)
[10:03:07] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[10:03:07] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[10:03:07] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[10:03:07] [ENEMY] [Enemy1] Death animation component initialized
[10:03:07] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:03:07] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[10:03:07] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[10:03:07] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[10:03:07] [ENEMY] [Enemy2] Death animation component initialized
[10:03:07] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:03:07] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[10:03:07] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[10:03:07] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[10:03:07] [ENEMY] [Enemy3] Death animation component initialized
[10:03:07] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:03:07] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[10:03:07] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[10:03:07] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[10:03:07] [ENEMY] [Enemy4] Death animation component initialized
[10:03:07] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:03:07] [INFO] [BloodyFeet:Grenadier] Footprint scene loaded
[10:03:07] [INFO] [BloodyFeet:Grenadier] Found EnemyModel for facing direction
[10:03:07] [INFO] [BloodyFeet:Grenadier] BloodyFeetComponent ready on Grenadier
[10:03:07] [INFO] [EnemyGrenade] Grenade bag built (normal): [Flashbang, Flashbang, Flashbang, Offensive, Offensive, Offensive, Offensive, Offensive]
[10:03:07] [INFO] [EnemyGrenade] Grenadier initialized: 8 grenades in bag
[10:03:07] [ENEMY] [Grenadier] Death animation component initialized
[10:03:07] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:03:07] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[10:03:07] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[10:03:07] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[10:03:07] [ENEMY] [Enemy6] Death animation component initialized
[10:03:07] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:03:07] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[10:03:07] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[10:03:07] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[10:03:07] [ENEMY] [Enemy7] Death animation component initialized
[10:03:07] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:03:07] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[10:03:07] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[10:03:07] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[10:03:07] [ENEMY] [Enemy8] Death animation component initialized
[10:03:07] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:03:07] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[10:03:07] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[10:03:07] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[10:03:07] [ENEMY] [Enemy9] Death animation component initialized
[10:03:07] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:03:07] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[10:03:07] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[10:03:07] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[10:03:07] [ENEMY] [Enemy10] Death animation component initialized
[10:03:07] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:03:07] [INFO] [BloodyFeet:Player] Footprint scene loaded
[10:03:07] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[10:03:07] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[10:03:07] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[10:03:07] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[10:03:07] [INFO] [Player.Weapon] GameManager weapon selection: sniper (SniperRifle)
[10:03:07] [INFO] [Player.Weapon] Removed default MakarovPM
[10:03:07] [INFO] [Player.Weapon] Equipped SniperRifle (ammo: 5/5)
[10:03:07] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[10:03:07] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[10:03:07] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[10:03:07] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[10:03:07] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[10:03:07] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[10:03:07] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[10:03:07] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[10:03:07] [INFO] [Player.Homing] Homing activation sound loaded
[10:03:07] [INFO] [Player.Homing] Homing bullets equipped, charges: 6/6
[10:03:07] [INFO] [Player] Ready! Ammo: 5/5, Grenades: 1/3, Health: 10/10
[10:03:07] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[10:03:07] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[10:03:07] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[10:03:07] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[10:03:07] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[10:03:07] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[10:03:07] [INFO] [BuildingLevel] Child 'Grenadier': script=true, has_died_signal=true
[10:03:07] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[10:03:07] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[10:03:07] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[10:03:07] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[10:03:07] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[10:03:07] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[10:03:07] [INFO] [BuildingLevel] Setting up weapon: sniper
[10:03:07] [INFO] [BuildingLevel] SniperRifle already equipped by C# Player - skipping GDScript weapon swap
[10:03:07] [INFO] [ScoreManager] Level started with 10 enemies
[10:03:07] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[10:03:07] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[10:03:07] [INFO] [ReplayManager] Replay data cleared
[10:03:07] [INFO] [BuildingLevel] Previous replay data cleared
[10:03:07] [INFO] [ReplayManager] Detected player weapon: Sniper Rifle (ASVK)
[10:03:07] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[10:03:07] [INFO] [ReplayManager] Level: BuildingLevel
[10:03:07] [INFO] [ReplayManager] Player: Player (valid: True)
[10:03:07] [INFO] [ReplayManager] Enemies count: 10
[10:03:07] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/asvk_topdown.png
[10:03:07] [INFO] [ReplayManager]   Enemy 0: Enemy1
[10:03:07] [INFO] [ReplayManager]   Enemy 1: Enemy2
[10:03:07] [INFO] [ReplayManager]   Enemy 2: Enemy3
[10:03:07] [INFO] [ReplayManager]   Enemy 3: Enemy4
[10:03:07] [INFO] [ReplayManager]   Enemy 4: Grenadier
[10:03:07] [INFO] [ReplayManager]   Enemy 5: Enemy6
[10:03:07] [INFO] [ReplayManager]   Enemy 6: Enemy7
[10:03:07] [INFO] [ReplayManager]   Enemy 7: Enemy8
[10:03:07] [INFO] [ReplayManager]   Enemy 8: Enemy9
[10:03:07] [INFO] [ReplayManager]   Enemy 9: Enemy10
[10:03:07] [INFO] [BuildingLevel] Replay recording started successfully
[10:03:07] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[10:03:07] [INFO] [CinemaEffects] Found player node: Player
[10:03:07] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[10:03:07] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[10:03:07] [ENEMY] [Enemy1] Registered as sound listener
[10:03:07] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 3, behavior: GUARD
[10:03:07] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[10:03:07] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[10:03:07] [ENEMY] [Enemy2] Registered as sound listener
[10:03:07] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 3, behavior: GUARD
[10:03:07] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[10:03:07] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[10:03:07] [ENEMY] [Enemy3] Registered as sound listener
[10:03:07] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 2, behavior: GUARD
[10:03:07] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[10:03:07] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[10:03:07] [ENEMY] [Enemy4] Registered as sound listener
[10:03:07] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 3, behavior: GUARD
[10:03:07] [INFO] [BloodyFeet:Grenadier] Blood detector created and attached to Grenadier
[10:03:07] [INFO] [SoundPropagation] Registered listener: Grenadier (total: 15)
[10:03:07] [ENEMY] [Grenadier] Registered as sound listener
[10:03:07] [ENEMY] [Grenadier] Spawned at (1700, 350), hp: 2, behavior: GUARD
[10:03:07] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[10:03:07] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[10:03:07] [ENEMY] [Enemy6] Registered as sound listener
[10:03:07] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 2, behavior: GUARD
[10:03:07] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[10:03:07] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[10:03:07] [ENEMY] [Enemy7] Registered as sound listener
[10:03:07] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 4, behavior: PATROL
[10:03:07] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[10:03:07] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[10:03:07] [ENEMY] [Enemy8] Registered as sound listener
[10:03:07] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 2, behavior: GUARD
[10:03:07] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[10:03:07] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[10:03:07] [ENEMY] [Enemy9] Registered as sound listener
[10:03:07] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 4, behavior: GUARD
[10:03:07] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[10:03:07] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[10:03:07] [ENEMY] [Enemy10] Registered as sound listener
[10:03:07] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 2, behavior: PATROL
[10:03:07] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[10:03:07] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[10:03:07] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[10:03:07] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[10:03:07] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=236.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[10:03:07] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[10:03:07] [ENEMY] [Grenadier] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[10:03:07] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[10:03:07] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[10:03:07] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[10:03:07] [INFO] [Player] Detecting weapon pose (frame 3)...
[10:03:07] [INFO] [Player] Detected weapon: ASVK Sniper Rifle (Sniper pose)
[10:03:07] [INFO] [Player] Applied Sniper arm pose: Left=(28, 6), Right=(-3, 6)
[10:03:07] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[10:03:07] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[10:03:07] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[10:03:07] [INFO] [LastChance] Found player: Player
[10:03:07] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[10:03:07] [INFO] [LastChance] Connected to player Damaged signal (C#)
[10:03:07] [INFO] [LastChance] Connected to player Died signal (C#)
[10:03:07] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[10:03:08] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[10:03:09] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[10:03:09] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[10:03:09] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[10:03:09] [INFO] [PauseMenu] Armory button pressed
[10:03:09] [INFO] [PauseMenu] Creating new armory menu instance
[10:03:09] [INFO] [PauseMenu] armory_menu_scene resource path: res://scenes/ui/ArmoryMenu.tscn
[10:03:09] [INFO] [PauseMenu] Instance created, class: CanvasLayer, name: ArmoryMenu
[10:03:09] [INFO] [PauseMenu] Script attached: res://scripts/ui/armory_menu.gd
[10:03:09] [INFO] [PauseMenu] back_pressed signal exists on instance
[10:03:09] [INFO] [PauseMenu] back_pressed signal connected
[10:03:09] [INFO] [PauseMenu] Armory menu instance added as child, is_inside_tree: true
[10:03:09] [INFO] [PauseMenu] _populate_weapon_grid method exists
[10:03:10] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=10
[10:03:11] [INFO] [ReplayManager] Recording frame 240 (4,0s): player_valid=True, enemies=10
[10:03:11] [INFO] [GameManager] Weapon selected: m16
[10:03:11] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[10:03:11] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:03:11] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[10:03:11] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[10:03:11] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[10:03:11] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[10:03:11] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[10:03:11] [INFO] [LastChance] Resetting all effects (scene change detected)
[10:03:11] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[10:03:11] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[10:03:11] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[10:03:11] [INFO] [EnemyGrenade] Initialized: 1 grenades
[10:03:11] [ENEMY] [Enemy1] Death animation component initialized
[10:03:11] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:03:11] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[10:03:11] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[10:03:11] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[10:03:11] [ENEMY] [Enemy2] Death animation component initialized
[10:03:11] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:03:11] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[10:03:11] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[10:03:11] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[10:03:11] [ENEMY] [Enemy3] Death animation component initialized
[10:03:11] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:03:11] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[10:03:11] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[10:03:11] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[10:03:11] [ENEMY] [Enemy4] Death animation component initialized
[10:03:11] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:03:11] [INFO] [BloodyFeet:Grenadier] Footprint scene loaded
[10:03:11] [INFO] [BloodyFeet:Grenadier] Found EnemyModel for facing direction
[10:03:11] [INFO] [BloodyFeet:Grenadier] BloodyFeetComponent ready on Grenadier
[10:03:11] [INFO] [EnemyGrenade] Grenade bag built (normal): [Flashbang, Flashbang, Flashbang, Offensive, Offensive, Offensive, Offensive, Offensive]
[10:03:11] [INFO] [EnemyGrenade] Grenadier initialized: 8 grenades in bag
[10:03:11] [ENEMY] [Grenadier] Death animation component initialized
[10:03:11] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:03:11] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[10:03:11] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[10:03:11] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[10:03:11] [ENEMY] [Enemy6] Death animation component initialized
[10:03:11] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:03:11] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[10:03:11] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[10:03:11] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[10:03:11] [ENEMY] [Enemy7] Death animation component initialized
[10:03:11] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:03:11] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[10:03:11] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[10:03:11] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[10:03:11] [ENEMY] [Enemy8] Death animation component initialized
[10:03:11] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:03:11] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[10:03:11] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[10:03:11] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[10:03:11] [ENEMY] [Enemy9] Death animation component initialized
[10:03:11] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:03:11] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[10:03:11] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[10:03:11] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[10:03:11] [INFO] [EnemyGrenade] Initialized: 1 grenades
[10:03:11] [ENEMY] [Enemy10] Death animation component initialized
[10:03:11] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:03:11] [INFO] [BloodyFeet:Player] Footprint scene loaded
[10:03:11] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[10:03:11] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[10:03:11] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[10:03:11] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[10:03:11] [INFO] [Player.Weapon] GameManager weapon selection: m16 (AssaultRifle)
[10:03:11] [INFO] [Player.Weapon] Removed default MakarovPM
[10:03:11] [INFO] [Player.Weapon] Equipped AssaultRifle (ammo: 30/30)
[10:03:11] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[10:03:11] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[10:03:11] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[10:03:11] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[10:03:11] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[10:03:11] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[10:03:11] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[10:03:11] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[10:03:11] [INFO] [Player.Homing] Homing activation sound loaded
[10:03:11] [INFO] [Player.Homing] Homing bullets equipped, charges: 6/6
[10:03:11] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 10/10
[10:03:11] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[10:03:11] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[10:03:11] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[10:03:11] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[10:03:11] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[10:03:11] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[10:03:11] [INFO] [BuildingLevel] Child 'Grenadier': script=true, has_died_signal=true
[10:03:11] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[10:03:11] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[10:03:11] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[10:03:11] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[10:03:11] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[10:03:11] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[10:03:11] [INFO] [BuildingLevel] Setting up weapon: m16
[10:03:11] [INFO] [BuildingLevel] AssaultRifle already equipped by C# Player - skipping GDScript weapon swap
[10:03:11] [INFO] [ScoreManager] Level started with 10 enemies
[10:03:11] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[10:03:11] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[10:03:11] [INFO] [ReplayManager] Replay data cleared
[10:03:11] [INFO] [BuildingLevel] Previous replay data cleared
[10:03:11] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[10:03:11] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[10:03:11] [INFO] [ReplayManager] Level: BuildingLevel
[10:03:11] [INFO] [ReplayManager] Player: Player (valid: True)
[10:03:11] [INFO] [ReplayManager] Enemies count: 10
[10:03:11] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[10:03:11] [INFO] [ReplayManager]   Enemy 0: Enemy1
[10:03:11] [INFO] [ReplayManager]   Enemy 1: Enemy2
[10:03:11] [INFO] [ReplayManager]   Enemy 2: Enemy3
[10:03:11] [INFO] [ReplayManager]   Enemy 3: Enemy4
[10:03:11] [INFO] [ReplayManager]   Enemy 4: Grenadier
[10:03:11] [INFO] [ReplayManager]   Enemy 5: Enemy6
[10:03:11] [INFO] [ReplayManager]   Enemy 6: Enemy7
[10:03:11] [INFO] [ReplayManager]   Enemy 7: Enemy8
[10:03:11] [INFO] [ReplayManager]   Enemy 8: Enemy9
[10:03:11] [INFO] [ReplayManager]   Enemy 9: Enemy10
[10:03:11] [INFO] [BuildingLevel] Replay recording started successfully
[10:03:11] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[10:03:11] [INFO] [CinemaEffects] Found player node: Player
[10:03:11] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[10:03:11] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 21)
[10:03:11] [ENEMY] [Enemy1] Registered as sound listener
[10:03:11] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 4, behavior: GUARD
[10:03:11] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[10:03:11] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 22)
[10:03:11] [ENEMY] [Enemy2] Registered as sound listener
[10:03:11] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 2, behavior: GUARD
[10:03:11] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[10:03:11] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 23)
[10:03:11] [ENEMY] [Enemy3] Registered as sound listener
[10:03:11] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 4, behavior: GUARD
[10:03:11] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[10:03:11] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 24)
[10:03:11] [ENEMY] [Enemy4] Registered as sound listener
[10:03:11] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 4, behavior: GUARD
[10:03:11] [INFO] [BloodyFeet:Grenadier] Blood detector created and attached to Grenadier
[10:03:11] [INFO] [SoundPropagation] Registered listener: Grenadier (total: 25)
[10:03:11] [ENEMY] [Grenadier] Registered as sound listener
[10:03:11] [ENEMY] [Grenadier] Spawned at (1700, 350), hp: 2, behavior: GUARD
[10:03:11] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[10:03:11] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 26)
[10:03:11] [ENEMY] [Enemy6] Registered as sound listener
[10:03:11] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 3, behavior: GUARD
[10:03:11] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[10:03:11] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 27)
[10:03:11] [ENEMY] [Enemy7] Registered as sound listener
[10:03:11] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 3, behavior: PATROL
[10:03:11] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[10:03:11] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 28)
[10:03:11] [ENEMY] [Enemy8] Registered as sound listener
[10:03:11] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 2, behavior: GUARD
[10:03:11] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[10:03:11] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 29)
[10:03:11] [ENEMY] [Enemy9] Registered as sound listener
[10:03:11] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 2, behavior: GUARD
[10:03:11] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[10:03:11] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 30)
[10:03:11] [ENEMY] [Enemy10] Registered as sound listener
[10:03:11] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 2, behavior: PATROL
[10:03:11] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[10:03:12] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[10:03:12] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[10:03:12] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[10:03:12] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=236.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[10:03:12] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[10:03:12] [ENEMY] [Grenadier] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[10:03:12] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[10:03:12] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[10:03:12] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[10:03:12] [INFO] [Player] Detecting weapon pose (frame 3)...
[10:03:12] [INFO] [Player] Detected weapon: Rifle (default pose)
[10:03:12] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[10:03:12] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[10:03:12] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[10:03:12] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[10:03:12] [INFO] [LastChance] Found player: Player
[10:03:12] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[10:03:12] [INFO] [LastChance] Connected to player Damaged signal (C#)
[10:03:12] [INFO] [LastChance] Connected to player Died signal (C#)
[10:03:12] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[10:03:12] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[10:03:13] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[10:03:13] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[10:03:13] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(343,980), corner_timer=0.30
[10:03:13] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(343,980), corner_timer=0.30
[10:03:13] [INFO] [Player.Homing] Homing activated! Duration: 1s, charges remaining: 5/6
[10:03:13] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(343,980), corner_timer=-0.02
[10:03:13] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[10:03:13] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(343,980), corner_timer=-0.02
[10:03:13] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[10:03:13] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(343,980), corner_timer=0.30
[10:03:13] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(343,980), corner_timer=0.30
[10:03:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(343.5611, 980.587), source=PLAYER (AssaultRifle), range=1469, listeners=30
[10:03:13] [INFO] [SoundPropagation] Cleaned up 20 invalid listeners
[10:03:13] [ENEMY] [Enemy2] Heard gunshot at (343.5611, 980.587), source_type=0, intensity=0.01, distance=434
[10:03:13] [ENEMY] [Enemy3] Heard gunshot at (343.5611, 980.587), source_type=0, intensity=0.01, distance=425
[10:03:13] [ENEMY] [Enemy4] Heard gunshot at (343.5611, 980.587), source_type=0, intensity=0.01, distance=463
[10:03:13] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=3
[10:03:13] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=97.5°, current=-157.5°, player=(343,980), corner_timer=0.00
[10:03:13] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=147.1°, current=-123.8°, player=(343,980), corner_timer=0.00
[10:03:13] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=170.0°, current=-101.3°, player=(343,980), corner_timer=0.00
[10:03:13] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[10:03:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(343.5611, 980.587), source=PLAYER (AssaultRifle), range=1469, listeners=10
[10:03:13] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=3
[10:03:14] [ENEMY] [Enemy1] Memory: medium confidence (0.61) - transitioning to PURSUING
[10:03:14] [ENEMY] [Enemy1] State: IDLE -> PURSUING
[10:03:14] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=86.0°, current=-33.8°, player=(343,980), corner_timer=0.00
[10:03:14] [ENEMY] [Enemy1] PURSUING corner check: angle -50.9°
[10:03:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(343.5611, 980.587), source=PLAYER (AssaultRifle), range=1469, listeners=10
[10:03:14] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=3
[10:03:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(343.5611, 980.58704), shooter_id=911506149047, bullet_pos=(915.298, 719.7634)
[10:03:14] [INFO] [Bullet] Using shooter_position, distance=628,4202
[10:03:14] [INFO] [Bullet] Distance to wall: 628,4202 (42,79029% of viewport)
[10:03:14] [INFO] [Bullet] Distance-based penetration chance: 96,74466%
[10:03:14] [INFO] [Bullet] Starting wall penetration at (915.298, 719.7634)
[10:03:14] [INFO] [Bullet] Raycast backward hit penetrating body at distance 20,662645
[10:03:14] [INFO] [Bullet] Body exited signal received for penetrating body
[10:03:14] [INFO] [Bullet] Exiting penetration at (952.1477, 748.3323) after traveling 41,666676 pixels through wall
[10:03:14] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[10:03:14] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(343,980), corner_timer=-0.02
[10:03:14] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[10:03:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(343.5611, 980.587), source=PLAYER (AssaultRifle), range=1469, listeners=10
[10:03:14] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=3
[10:03:14] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(343,980), corner_timer=0.30
[10:03:14] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[10:03:14] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P4:velocity, state=RETREATING, target=147.1°, current=77.8°, player=(343,980), corner_timer=0.00
[10:03:14] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[10:03:14] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[10:03:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(343.5611, 980.58704), shooter_id=911506149047, bullet_pos=(914.93604, 718.9715)
[10:03:14] [INFO] [Bullet] Using shooter_position, distance=628,4202
[10:03:14] [INFO] [Bullet] Distance to wall: 628,4202 (42,79029% of viewport)
[10:03:14] [INFO] [Bullet] Distance-based penetration chance: 96,74466%
[10:03:14] [INFO] [Bullet] Starting wall penetration at (914.93604, 718.9715)
[10:03:14] [INFO] [Bullet] Raycast backward hit penetrating body at distance 20,227743
[10:03:14] [INFO] [Bullet] Body exited signal received for penetrating body
[10:03:14] [INFO] [Bullet] Exiting penetration at (951.8253, 747.48926) after traveling 41,666668 pixels through wall
[10:03:14] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[10:03:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(343.5611, 980.587), source=PLAYER (AssaultRifle), range=1469, listeners=10
[10:03:14] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=3
[10:03:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(343.5611, 980.58704), shooter_id=911506149047, bullet_pos=(914.7885, 718.64954)
[10:03:14] [INFO] [Bullet] Using shooter_position, distance=628,4202
[10:03:14] [INFO] [Bullet] Distance to wall: 628,4202 (42,79029% of viewport)
[10:03:14] [INFO] [Bullet] Distance-based penetration chance: 96,74466%
[10:03:14] [INFO] [Bullet] Starting wall penetration at (914.7885, 718.64954)
[10:03:14] [INFO] [Bullet] Raycast backward hit penetrating body at distance 20,050686
[10:03:14] [INFO] [Bullet] Body exited signal received for penetrating body
[10:03:14] [INFO] [Bullet] Exiting penetration at (951.69385, 747.1465) after traveling 41,66667 pixels through wall
[10:03:14] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[10:03:14] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[10:03:14] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[10:03:14] [ENEMY] [Enemy1] PURSUING corner check: angle -51.1°
[10:03:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(343.5611, 980.587), source=PLAYER (AssaultRifle), range=1469, listeners=10
[10:03:14] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=3
[10:03:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(343.5611, 980.58704), shooter_id=911506149047, bullet_pos=(914.70013, 718.4575)
[10:03:14] [INFO] [Bullet] Using shooter_position, distance=628,42
[10:03:14] [INFO] [Bullet] Distance to wall: 628,42 (42,79027% of viewport)
[10:03:14] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(343,980), corner_timer=-0.02
[10:03:14] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[10:03:14] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.6°, player=(343,980), corner_timer=0.30
[10:03:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(343.5611, 980.58704), shooter_id=911506149047, bullet_pos=(722.1748, 819.65125)
[10:03:14] [INFO] [Bullet] Using shooter_position, distance=411,39844
[10:03:14] [INFO] [Bullet] Distance to wall: 411,39844 (28,012878% of viewport)
[10:03:14] [INFO] [Bullet] Within ricochet range - trying ricochet first
[10:03:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(343.5611, 980.587), source=PLAYER (AssaultRifle), range=1469, listeners=10
[10:03:14] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=3
[10:03:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(343.5611, 980.58704), shooter_id=911506149047, bullet_pos=(914.6358, 718.31726)
[10:03:14] [INFO] [Bullet] Using shooter_position, distance=628,42004
[10:03:14] [INFO] [Bullet] Distance to wall: 628,42004 (42,79028% of viewport)
[10:03:14] [INFO] [Bullet] Distance-based penetration chance: 96,744675%
[10:03:14] [INFO] [Bullet] Starting wall penetration at (914.6358, 718.31726)
[10:03:14] [INFO] [Bullet] Raycast backward hit penetrating body at distance 19,86761
[10:03:14] [INFO] [Bullet] Body exited signal received for penetrating body
[10:03:14] [INFO] [Bullet] Exiting penetration at (951.55774, 746.7927) after traveling 41,66667 pixels through wall
[10:03:14] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[10:03:14] [INFO] [Player.Homing] Homing effect expired, charges remaining: 5/6
[10:03:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(343.5611, 980.58704), shooter_id=911506149047, bullet_pos=(914.60724, 718.2546)
[10:03:14] [INFO] [Bullet] Using shooter_position, distance=628,4202
[10:03:14] [INFO] [Bullet] Distance to wall: 628,4202 (42,79029% of viewport)
[10:03:14] [INFO] [Bullet] Distance-based penetration chance: 96,74466%
[10:03:14] [INFO] [Bullet] Starting wall penetration at (914.60724, 718.2546)
[10:03:14] [INFO] [Bullet] Raycast backward hit penetrating body at distance 19,833323
[10:03:14] [INFO] [Bullet] Body exited signal received for penetrating body
[10:03:14] [INFO] [Bullet] Exiting penetration at (951.5322, 746.726) after traveling 41,666668 pixels through wall
[10:03:14] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[10:03:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(343.5611, 980.58704), shooter_id=911506149047, bullet_pos=(404.08368, 710.96796)
[10:03:14] [INFO] [Bullet] Using shooter_position, distance=276,3285
[10:03:14] [INFO] [Bullet] Distance to wall: 276,3285 (18,815716% of viewport)
[10:03:14] [INFO] [Bullet] Within ricochet range - trying ricochet first
[10:03:14] [ENEMY] [Enemy1] PURSUING corner check: angle 153.7°
[10:03:14] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[10:03:14] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:03:14] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[10:03:14] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[10:03:14] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[10:03:14] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[10:03:14] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[10:03:14] [INFO] [LastChance] Resetting all effects (scene change detected)
[10:03:14] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[10:03:14] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[10:03:14] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[10:03:14] [ENEMY] [Enemy1] Death animation component initialized
[10:03:14] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:03:14] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[10:03:14] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[10:03:14] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[10:03:14] [ENEMY] [Enemy2] Death animation component initialized
[10:03:14] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:03:14] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[10:03:14] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[10:03:14] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[10:03:14] [INFO] [EnemyGrenade] Initialized: 1 grenades
[10:03:14] [ENEMY] [Enemy3] Death animation component initialized
[10:03:14] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:03:14] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[10:03:14] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[10:03:14] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[10:03:14] [ENEMY] [Enemy4] Death animation component initialized
[10:03:14] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:03:14] [INFO] [BloodyFeet:Grenadier] Footprint scene loaded
[10:03:14] [INFO] [BloodyFeet:Grenadier] Found EnemyModel for facing direction
[10:03:14] [INFO] [BloodyFeet:Grenadier] BloodyFeetComponent ready on Grenadier
[10:03:14] [INFO] [EnemyGrenade] Grenade bag built (normal): [Flashbang, Flashbang, Flashbang, Offensive, Offensive, Offensive, Offensive, Offensive]
[10:03:14] [INFO] [EnemyGrenade] Grenadier initialized: 8 grenades in bag
[10:03:14] [ENEMY] [Grenadier] Death animation component initialized
[10:03:14] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:03:14] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[10:03:14] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[10:03:14] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[10:03:14] [ENEMY] [Enemy6] Death animation component initialized
[10:03:14] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:03:14] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[10:03:14] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[10:03:14] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[10:03:14] [ENEMY] [Enemy7] Death animation component initialized
[10:03:14] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:03:14] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[10:03:14] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[10:03:14] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[10:03:14] [ENEMY] [Enemy8] Death animation component initialized
[10:03:14] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:03:14] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[10:03:14] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[10:03:14] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[10:03:14] [ENEMY] [Enemy9] Death animation component initialized
[10:03:14] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:03:14] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[10:03:14] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[10:03:14] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[10:03:14] [ENEMY] [Enemy10] Death animation component initialized
[10:03:14] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:03:14] [INFO] [BloodyFeet:Player] Footprint scene loaded
[10:03:14] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[10:03:14] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[10:03:14] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[10:03:14] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[10:03:14] [INFO] [Player.Weapon] GameManager weapon selection: m16 (AssaultRifle)
[10:03:14] [INFO] [Player.Weapon] Removed default MakarovPM
[10:03:14] [INFO] [Player.Weapon] Equipped AssaultRifle (ammo: 30/30)
[10:03:14] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[10:03:14] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[10:03:14] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[10:03:14] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[10:03:14] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[10:03:14] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[10:03:14] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[10:03:14] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[10:03:14] [INFO] [Player.Homing] Homing activation sound loaded
[10:03:14] [INFO] [Player.Homing] Homing bullets equipped, charges: 6/6
[10:03:14] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 10/10
[10:03:14] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[10:03:14] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[10:03:14] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[10:03:14] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[10:03:14] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[10:03:14] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[10:03:14] [INFO] [BuildingLevel] Child 'Grenadier': script=true, has_died_signal=true
[10:03:14] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[10:03:14] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[10:03:14] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[10:03:14] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[10:03:14] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[10:03:14] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[10:03:14] [INFO] [BuildingLevel] Setting up weapon: m16
[10:03:14] [INFO] [BuildingLevel] AssaultRifle already equipped by C# Player - skipping GDScript weapon swap
[10:03:14] [INFO] [ScoreManager] Level started with 10 enemies
[10:03:14] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[10:03:14] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[10:03:14] [INFO] [ReplayManager] Replay data cleared
[10:03:14] [INFO] [BuildingLevel] Previous replay data cleared
[10:03:14] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[10:03:14] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[10:03:14] [INFO] [ReplayManager] Level: BuildingLevel
[10:03:14] [INFO] [ReplayManager] Player: Player (valid: True)
[10:03:14] [INFO] [ReplayManager] Enemies count: 10
[10:03:14] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[10:03:14] [INFO] [ReplayManager]   Enemy 0: Enemy1
[10:03:14] [INFO] [ReplayManager]   Enemy 1: Enemy2
[10:03:14] [INFO] [ReplayManager]   Enemy 2: Enemy3
[10:03:14] [INFO] [ReplayManager]   Enemy 3: Enemy4
[10:03:14] [INFO] [ReplayManager]   Enemy 4: Grenadier
[10:03:14] [INFO] [ReplayManager]   Enemy 5: Enemy6
[10:03:14] [INFO] [ReplayManager]   Enemy 6: Enemy7
[10:03:14] [INFO] [ReplayManager]   Enemy 7: Enemy8
[10:03:14] [INFO] [ReplayManager]   Enemy 8: Enemy9
[10:03:14] [INFO] [ReplayManager]   Enemy 9: Enemy10
[10:03:14] [INFO] [BuildingLevel] Replay recording started successfully
[10:03:14] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[10:03:14] [INFO] [CinemaEffects] Found player node: Player
[10:03:14] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[10:03:14] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[10:03:14] [ENEMY] [Enemy1] Registered as sound listener
[10:03:14] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 4, behavior: GUARD
[10:03:14] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[10:03:14] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[10:03:14] [ENEMY] [Enemy2] Registered as sound listener
[10:03:14] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 2, behavior: GUARD
[10:03:14] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[10:03:14] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[10:03:14] [ENEMY] [Enemy3] Registered as sound listener
[10:03:14] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 2, behavior: GUARD
[10:03:14] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[10:03:14] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[10:03:14] [ENEMY] [Enemy4] Registered as sound listener
[10:03:14] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 3, behavior: GUARD
[10:03:14] [INFO] [BloodyFeet:Grenadier] Blood detector created and attached to Grenadier
[10:03:14] [INFO] [SoundPropagation] Registered listener: Grenadier (total: 15)
[10:03:14] [ENEMY] [Grenadier] Registered as sound listener
[10:03:14] [ENEMY] [Grenadier] Spawned at (1700, 350), hp: 2, behavior: GUARD
[10:03:14] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[10:03:14] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[10:03:14] [ENEMY] [Enemy6] Registered as sound listener
[10:03:14] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 3, behavior: GUARD
[10:03:14] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[10:03:14] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[10:03:14] [ENEMY] [Enemy7] Registered as sound listener
[10:03:14] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 3, behavior: PATROL
[10:03:14] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[10:03:14] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[10:03:14] [ENEMY] [Enemy8] Registered as sound listener
[10:03:14] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 4, behavior: GUARD
[10:03:14] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[10:03:14] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[10:03:14] [ENEMY] [Enemy9] Registered as sound listener
[10:03:14] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 4, behavior: GUARD
[10:03:14] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[10:03:14] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[10:03:14] [ENEMY] [Enemy10] Registered as sound listener
[10:03:14] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 4, behavior: PATROL
[10:03:14] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[10:03:15] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[10:03:15] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=33.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[10:03:15] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[10:03:15] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[10:03:15] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[10:03:15] [ENEMY] [Grenadier] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[10:03:15] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[10:03:15] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=123.7°, current=0.0°, player=(450,1249), corner_timer=0.00
[10:03:15] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[10:03:15] [INFO] [Player] Detecting weapon pose (frame 3)...
[10:03:15] [INFO] [Player] Detected weapon: Rifle (default pose)
[10:03:15] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[10:03:15] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[10:03:15] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[10:03:15] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[10:03:15] [INFO] [LastChance] Found player: Player
[10:03:15] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[10:03:15] [INFO] [LastChance] Connected to player Damaged signal (C#)
[10:03:15] [INFO] [LastChance] Connected to player Died signal (C#)
[10:03:15] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[10:03:16] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[10:03:16] [INFO] [Player.Homing] Homing activated! Duration: 1s, charges remaining: 5/6
[10:03:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(361.7057, 951.2821), source=PLAYER (AssaultRifle), range=1469, listeners=20
[10:03:16] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[10:03:16] [ENEMY] [Enemy2] Heard gunshot at (361.7057, 951.2821), source_type=0, intensity=0.02, distance=403
[10:03:16] [ENEMY] [Enemy3] Heard gunshot at (361.7057, 951.2821), source_type=0, intensity=0.02, distance=394
[10:03:16] [ENEMY] [Enemy4] Heard gunshot at (361.7057, 951.2821), source_type=0, intensity=0.01, distance=441
[10:03:16] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=4
[10:03:16] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=95.5°, current=-101.3°, player=(361,951), corner_timer=0.00
[10:03:16] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=149.2°, current=-33.8°, player=(361,951), corner_timer=0.00
[10:03:16] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=173.3°, current=-67.5°, player=(361,951), corner_timer=0.00
[10:03:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(361.7057, 951.2821), source=PLAYER (AssaultRifle), range=1469, listeners=10
[10:03:16] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=4
[10:03:16] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[10:03:16] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[10:03:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(361.7057, 951.2821), source=PLAYER (AssaultRifle), range=1469, listeners=10
[10:03:16] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=4
[10:03:16] [ENEMY] [Enemy1] Memory: medium confidence (0.61) - transitioning to PURSUING
[10:03:16] [ENEMY] [Enemy1] State: IDLE -> PURSUING
[10:03:16] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(361,951), corner_timer=0.30
[10:03:16] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(361,951), corner_timer=0.30
[10:03:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(361.70575, 951.2821), shooter_id=973632179725, bullet_pos=(910.01245, 764.66473)
[10:03:16] [INFO] [Bullet] Using shooter_position, distance=579,1945
[10:03:16] [INFO] [Bullet] Distance to wall: 579,1945 (39,43842% of viewport)
[10:03:16] [INFO] [Bullet] Within ricochet range - trying ricochet first
[10:03:16] [INFO] [Bullet] Starting wall penetration at (910.01245, 764.66473)
[10:03:16] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=84.1°, current=33.8°, player=(361,951), corner_timer=0.00
[10:03:16] [INFO] [Bullet] Raycast backward hit penetrating body at distance 10,942519
[10:03:16] [INFO] [Bullet] Body exited signal received for penetrating body
[10:03:16] [INFO] [Bullet] Exiting penetration at (943.8276, 796.768) after traveling 41,666668 pixels through wall
[10:03:16] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[10:03:16] [ENEMY] [Enemy1] PURSUING corner check: angle -50.9°
[10:03:16] [INFO] [EnemyGrenade] Unsafe throw distance (146 < 275 safe distance, blast=225, margin=50) - skipping throw
[10:03:16] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[10:03:16] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P4:velocity, state=RETREATING, target=149.2°, current=149.2°, player=(361,951), corner_timer=0.00
[10:03:16] [INFO] [EnemyGrenade] Unsafe throw distance (143 < 275 safe distance, blast=225, margin=50) - skipping throw
[10:03:16] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[10:03:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(361.7057, 951.2821), source=PLAYER (AssaultRifle), range=1469, listeners=10
[10:03:16] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=4
[10:03:16] [INFO] [EnemyGrenade] Unsafe throw distance (141 < 275 safe distance, blast=225, margin=50) - skipping throw
[10:03:16] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[10:03:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(361.70575, 951.2821), shooter_id=973632179725, bullet_pos=(937.2862, 784.765)
[10:03:16] [INFO] [Bullet] Using shooter_position, distance=599,1834
[10:03:16] [INFO] [Bullet] Distance to wall: 599,1834 (40,799503% of viewport)
[10:03:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(361.7057, 951.2821), source=PLAYER (AssaultRifle), range=1469, listeners=10
[10:03:16] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=4
[10:03:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(361.70575, 951.2821), shooter_id=973632179725, bullet_pos=(928.77313, 717.6323)
[10:03:16] [INFO] [Bullet] Using shooter_position, distance=613,3169
[10:03:16] [INFO] [Bullet] Distance to wall: 613,3169 (41,761875% of viewport)
[10:03:16] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[10:03:16] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[10:03:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(361.70575, 951.2821), shooter_id=973632179725, bullet_pos=(758.30804, 1010.82477)
[10:03:16] [INFO] [Bullet] Using shooter_position, distance=401,047
[10:03:16] [INFO] [Bullet] Distance to wall: 401,047 (27,30803% of viewport)
[10:03:16] [INFO] [Bullet] Within ricochet range - trying ricochet first
[10:03:16] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(361,951), corner_timer=-0.02
[10:03:16] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[10:03:16] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(361,951), corner_timer=-0.02
[10:03:16] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[10:03:16] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(361,951), corner_timer=0.30
[10:03:16] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(361,951), corner_timer=0.30
[10:03:16] [ENEMY] [Enemy4] Hit: dmg=1, hp=3/3->2/3
[10:03:16] [INFO] [ImpactEffects] spawn_blood_effect called at (677.8395, 914.0652), dir=(1, 0), lethal=false
[10:03:16] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[10:03:16] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[10:03:16] [INFO] [ImpactEffects] Blood effect spawned at (677.8395, 914.0652) (scale=1)
[10:03:16] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(361.7057, 951.2821), source=PLAYER (AssaultRifle), range=1469, listeners=10
[10:03:16] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=4
[10:03:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(361.70575, 951.2821), shooter_id=973632179725, bullet_pos=(754.1638, 847.316)
[10:03:16] [INFO] [Bullet] Using shooter_position, distance=405,99542
[10:03:16] [INFO] [Bullet] Distance to wall: 405,99542 (27,644978% of viewport)
[10:03:16] [INFO] [Bullet] Within ricochet range - trying ricochet first
[10:03:16] [ENEMY] [Enemy1] PURSUING corner check: angle -51.1°
[10:03:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(361.70575, 951.2821), shooter_id=973632179725, bullet_pos=(927.88574, 715.49066)
[10:03:17] [INFO] [Bullet] Using shooter_position, distance=613,3167
[10:03:17] [INFO] [Bullet] Distance to wall: 613,3167 (41,761864% of viewport)
[10:03:17] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[10:03:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(361.70575, 951.2821), shooter_id=973632179725, bullet_pos=(754.4056, 821.5521)
[10:03:17] [INFO] [Bullet] Using shooter_position, distance=413,5735
[10:03:17] [INFO] [Bullet] Distance to wall: 413,5735 (28,16098% of viewport)
[10:03:17] [INFO] [Bullet] Within ricochet range - trying ricochet first
[10:03:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(361.70575, 951.2821), shooter_id=973632179725, bullet_pos=(877.86694, 1009.08264)
[10:03:17] [INFO] [Bullet] Using shooter_position, distance=519,3874
[10:03:17] [INFO] [Bullet] Distance to wall: 519,3874 (35,366043% of viewport)
[10:03:17] [INFO] [Bullet] Within ricochet range - trying ricochet first
[10:03:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(361.7057, 951.2821), source=PLAYER (AssaultRifle), range=1469, listeners=10
[10:03:17] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=4
[10:03:17] [ENEMY] [Enemy4] State: PURSUING -> RETREATING
[10:03:17] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[10:03:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(361.70575, 951.2821), shooter_id=973632179725, bullet_pos=(927.85706, 710.01306)
[10:03:17] [INFO] [Bullet] Using shooter_position, distance=615,417
[10:03:17] [INFO] [Bullet] Distance to wall: 615,417 (41,904877% of viewport)
[10:03:17] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[10:03:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(361.70575, 951.2821), shooter_id=973632179725, bullet_pos=(900.98315, 987.4813)
[10:03:17] [INFO] [Bullet] Using shooter_position, distance=540,49097
[10:03:17] [INFO] [Bullet] Distance to wall: 540,49097 (36,803024% of viewport)
[10:03:17] [INFO] [Bullet] Within ricochet range - trying ricochet first
[10:03:17] [INFO] [Bullet] Starting wall penetration at (900.98315, 987.4813)
[10:03:17] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[10:03:17] [INFO] [Bullet] Exiting penetration at (919.36127, 1010.02203) after traveling 24,083334 pixels through wall
[10:03:17] [INFO] [Bullet] Damage multiplier after penetration: 0,225
[10:03:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(361.70575, 951.2821), shooter_id=973632179725, bullet_pos=(912.4987, 728.63544)
[10:03:17] [INFO] [Bullet] Using shooter_position, distance=594,09125
[10:03:17] [INFO] [Bullet] Distance to wall: 594,09125 (40,452766% of viewport)
[10:03:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(361.70575, 951.2821), shooter_id=973632179725, bullet_pos=(755.33374, 864.6259)
[10:03:17] [INFO] [Bullet] Using shooter_position, distance=403,0537
[10:03:17] [INFO] [Bullet] Distance to wall: 403,0537 (27,44467% of viewport)
[10:03:17] [INFO] [Bullet] Within ricochet range - trying ricochet first
[10:03:17] [INFO] [Bullet] Starting wall penetration at (755.33374, 864.6259)
[10:03:17] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[10:03:17] [INFO] [Bullet] Exiting penetration at (730.51025, 886.8724) after traveling 28,333332 pixels through wall
[10:03:17] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[10:03:17] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.1°, player=(361,951), corner_timer=-0.00
[10:03:17] [ENEMY] [Enemy10] PATROL corner check: angle 7.2°
[10:03:17] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.2°, current=16.2°, player=(361,951), corner_timer=0.30
[10:03:17] [INFO] [Player.Homing] Homing effect expired, charges remaining: 5/6
[10:03:17] [INFO] [BloodDecal] Blood puddle created at (740.508, 936.0256) (added to group)
[10:03:17] [INFO] [BloodDecal] Blood puddle created at (766.5692, 906.4616) (added to group)
[10:03:17] [INFO] [BloodDecal] Blood puddle created at (776.6071, 926.1526) (added to group)
[10:03:17] [INFO] [BloodDecal] Blood puddle created at (772.6224, 962.4651) (added to group)
[10:03:17] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[10:03:17] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:03:17] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[10:03:17] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[10:03:17] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[10:03:17] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[10:03:17] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[10:03:17] [INFO] [LastChance] Resetting all effects (scene change detected)
[10:03:17] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[10:03:17] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[10:03:17] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[10:03:17] [ENEMY] [Enemy1] Death animation component initialized
[10:03:17] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:03:17] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[10:03:17] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[10:03:17] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[10:03:17] [ENEMY] [Enemy2] Death animation component initialized
[10:03:17] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:03:17] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[10:03:17] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[10:03:17] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[10:03:17] [ENEMY] [Enemy3] Death animation component initialized
[10:03:17] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:03:17] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[10:03:17] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[10:03:17] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[10:03:17] [ENEMY] [Enemy4] Death animation component initialized
[10:03:17] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:03:17] [INFO] [BloodyFeet:Grenadier] Footprint scene loaded
[10:03:17] [INFO] [BloodyFeet:Grenadier] Found EnemyModel for facing direction
[10:03:17] [INFO] [BloodyFeet:Grenadier] BloodyFeetComponent ready on Grenadier
[10:03:17] [INFO] [EnemyGrenade] Grenade bag built (normal): [Flashbang, Flashbang, Flashbang, Offensive, Offensive, Offensive, Offensive, Offensive]
[10:03:17] [INFO] [EnemyGrenade] Grenadier initialized: 8 grenades in bag
[10:03:17] [ENEMY] [Grenadier] Death animation component initialized
[10:03:17] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:03:17] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[10:03:17] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[10:03:17] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[10:03:17] [ENEMY] [Enemy6] Death animation component initialized
[10:03:17] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:03:17] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[10:03:17] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[10:03:17] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[10:03:17] [ENEMY] [Enemy7] Death animation component initialized
[10:03:17] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:03:17] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[10:03:17] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[10:03:17] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[10:03:17] [ENEMY] [Enemy8] Death animation component initialized
[10:03:17] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:03:17] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[10:03:17] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[10:03:17] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[10:03:17] [ENEMY] [Enemy9] Death animation component initialized
[10:03:17] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:03:17] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[10:03:17] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[10:03:17] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[10:03:17] [ENEMY] [Enemy10] Death animation component initialized
[10:03:17] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:03:17] [INFO] [BloodyFeet:Player] Footprint scene loaded
[10:03:17] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[10:03:17] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[10:03:17] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[10:03:17] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[10:03:17] [INFO] [Player.Weapon] GameManager weapon selection: m16 (AssaultRifle)
[10:03:17] [INFO] [Player.Weapon] Removed default MakarovPM
[10:03:17] [INFO] [Player.Weapon] Equipped AssaultRifle (ammo: 30/30)
[10:03:17] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[10:03:17] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[10:03:17] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[10:03:17] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[10:03:17] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[10:03:17] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[10:03:17] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[10:03:17] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[10:03:17] [INFO] [Player.Homing] Homing activation sound loaded
[10:03:17] [INFO] [Player.Homing] Homing bullets equipped, charges: 6/6
[10:03:17] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 10/10
[10:03:17] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[10:03:17] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[10:03:17] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[10:03:17] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[10:03:17] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[10:03:17] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[10:03:17] [INFO] [BuildingLevel] Child 'Grenadier': script=true, has_died_signal=true
[10:03:17] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[10:03:17] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[10:03:17] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[10:03:17] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[10:03:17] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[10:03:17] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[10:03:17] [INFO] [BuildingLevel] Setting up weapon: m16
[10:03:17] [INFO] [BuildingLevel] AssaultRifle already equipped by C# Player - skipping GDScript weapon swap
[10:03:17] [INFO] [ScoreManager] Level started with 10 enemies
[10:03:17] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[10:03:17] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[10:03:17] [INFO] [ReplayManager] Replay data cleared
[10:03:17] [INFO] [BuildingLevel] Previous replay data cleared
[10:03:17] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[10:03:17] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[10:03:17] [INFO] [ReplayManager] Level: BuildingLevel
[10:03:17] [INFO] [ReplayManager] Player: Player (valid: True)
[10:03:17] [INFO] [ReplayManager] Enemies count: 10
[10:03:17] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[10:03:17] [INFO] [ReplayManager]   Enemy 0: Enemy1
[10:03:17] [INFO] [ReplayManager]   Enemy 1: Enemy2
[10:03:17] [INFO] [ReplayManager]   Enemy 2: Enemy3
[10:03:17] [INFO] [ReplayManager]   Enemy 3: Enemy4
[10:03:17] [INFO] [ReplayManager]   Enemy 4: Grenadier
[10:03:17] [INFO] [ReplayManager]   Enemy 5: Enemy6
[10:03:17] [INFO] [ReplayManager]   Enemy 6: Enemy7
[10:03:17] [INFO] [ReplayManager]   Enemy 7: Enemy8
[10:03:17] [INFO] [ReplayManager]   Enemy 8: Enemy9
[10:03:17] [INFO] [ReplayManager]   Enemy 9: Enemy10
[10:03:17] [INFO] [BuildingLevel] Replay recording started successfully
[10:03:17] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[10:03:17] [INFO] [CinemaEffects] Found player node: Player
[10:03:17] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[10:03:17] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[10:03:17] [ENEMY] [Enemy1] Registered as sound listener
[10:03:17] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 4, behavior: GUARD
[10:03:17] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[10:03:17] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[10:03:17] [ENEMY] [Enemy2] Registered as sound listener
[10:03:17] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 3, behavior: GUARD
[10:03:17] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[10:03:17] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[10:03:17] [ENEMY] [Enemy3] Registered as sound listener
[10:03:17] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 2, behavior: GUARD
[10:03:17] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[10:03:17] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[10:03:17] [ENEMY] [Enemy4] Registered as sound listener
[10:03:17] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 3, behavior: GUARD
[10:03:17] [INFO] [BloodyFeet:Grenadier] Blood detector created and attached to Grenadier
[10:03:17] [INFO] [SoundPropagation] Registered listener: Grenadier (total: 15)
[10:03:17] [ENEMY] [Grenadier] Registered as sound listener
[10:03:17] [ENEMY] [Grenadier] Spawned at (1700, 350), hp: 2, behavior: GUARD
[10:03:17] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[10:03:17] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[10:03:17] [ENEMY] [Enemy6] Registered as sound listener
[10:03:17] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 3, behavior: GUARD
[10:03:17] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[10:03:17] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[10:03:17] [ENEMY] [Enemy7] Registered as sound listener
[10:03:17] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 3, behavior: PATROL
[10:03:17] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[10:03:17] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[10:03:17] [ENEMY] [Enemy8] Registered as sound listener
[10:03:17] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 3, behavior: GUARD
[10:03:17] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[10:03:17] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[10:03:17] [ENEMY] [Enemy9] Registered as sound listener
[10:03:17] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 2, behavior: GUARD
[10:03:17] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[10:03:17] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[10:03:17] [ENEMY] [Enemy10] Registered as sound listener
[10:03:17] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 2, behavior: PATROL
[10:03:17] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[10:03:17] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[10:03:17] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=33.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[10:03:17] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[10:03:17] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=236.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[10:03:17] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[10:03:17] [ENEMY] [Grenadier] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[10:03:17] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[10:03:17] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[10:03:17] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[10:03:17] [INFO] [Player] Detecting weapon pose (frame 3)...
[10:03:17] [INFO] [Player] Detected weapon: Rifle (default pose)
[10:03:17] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[10:03:17] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[10:03:17] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[10:03:17] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[10:03:17] [INFO] [LastChance] Found player: Player
[10:03:17] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[10:03:17] [INFO] [LastChance] Connected to player Damaged signal (C#)
[10:03:17] [INFO] [LastChance] Connected to player Died signal (C#)
[10:03:17] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[10:03:17] [INFO] [BloodDecal] Blood puddle created at (784.3449, 927.1716) (added to group)
[10:03:17] [INFO] [BloodDecal] Blood puddle created at (760.4068, 985.3344) (added to group)
[10:03:17] [INFO] [BloodDecal] Blood puddle created at (844.2882, 970.8759) (added to group)
[10:03:17] [INFO] [BloodDecal] Blood puddle created at (851.4892, 949.3488) (added to group)
[10:03:18] [INFO] [Player.Homing] Homing activated! Duration: 1s, charges remaining: 5/6
[10:03:18] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[10:03:19] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[10:03:19] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[10:03:19] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(258,1046), corner_timer=0.30
[10:03:19] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(258,1046), corner_timer=0.30
[10:03:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(258.8826, 976.7403), source=PLAYER (AssaultRifle), range=1469, listeners=20
[10:03:19] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[10:03:19] [ENEMY] [Enemy2] Heard gunshot at (258.8826, 976.7403), source_type=0, intensity=0.01, distance=449
[10:03:19] [ENEMY] [Enemy3] Heard gunshot at (258.8826, 976.7403), source_type=0, intensity=0.01, distance=496
[10:03:19] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=4, self=0, below_threshold=4
[10:03:19] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=108.3°, current=-157.5°, player=(258,976), corner_timer=0.00
[10:03:19] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=152.8°, current=-123.8°, player=(258,976), corner_timer=0.00
[10:03:19] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(258,971), corner_timer=-0.02
[10:03:19] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[10:03:19] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(258,971), corner_timer=-0.02
[10:03:19] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[10:03:19] [INFO] [Player.Homing] Homing effect expired, charges remaining: 5/6
[10:03:19] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(258,969), corner_timer=0.30
[10:03:19] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(258,969), corner_timer=0.30
[10:03:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(258.8826, 967.407), source=PLAYER (AssaultRifle), range=1469, listeners=10
[10:03:19] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=4, self=0, below_threshold=4
[10:03:19] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[10:03:19] [ENEMY] [Enemy4] Memory: medium confidence (0.61) - transitioning to PURSUING
[10:03:19] [ENEMY] [Enemy4] State: IDLE -> PURSUING
[10:03:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(258.8826, 967.1848), source=PLAYER (AssaultRifle), range=1469, listeners=10
[10:03:19] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=4, self=0, below_threshold=4
[10:03:19] [ENEMY] [Enemy1] Memory: medium confidence (0.61) - transitioning to PURSUING
[10:03:19] [ENEMY] [Enemy1] State: IDLE -> PURSUING
[10:03:19] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=172.9°, current=-101.3°, player=(258,967), corner_timer=0.00
[10:03:19] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=93.8°, current=33.8°, player=(258,967), corner_timer=0.00
[10:03:19] [INFO] [BloodyFeet:Enemy4] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[10:03:19] [ENEMY] [Enemy1] PURSUING corner check: angle -50.9°
[10:03:19] [ENEMY] [Enemy4] PURSUING corner check: angle -100.7°
[10:03:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(258.88257, 976.7403), shooter_id=1054330588995, bullet_pos=(915.13904, 866.8358)
[10:03:19] [INFO] [Bullet] Using shooter_position, distance=665,3958
[10:03:19] [INFO] [Bullet] Distance to wall: 665,3958 (45,308025% of viewport)
[10:03:19] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[10:03:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(258.8826, 967.1848), source=PLAYER (AssaultRifle), range=1469, listeners=10
[10:03:19] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=4, self=0, below_threshold=4
[10:03:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(258.88257, 967.18475), shooter_id=1054330588995, bullet_pos=(491.85632, 714.53845)
[10:03:19] [INFO] [Bullet] Using shooter_position, distance=343,66687
[10:03:19] [INFO] [Bullet] Distance to wall: 343,66687 (23,40091% of viewport)
[10:03:19] [INFO] [Bullet] Within ricochet range - trying ricochet first
[10:03:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(258.88257, 976.7403), shooter_id=1054330588995, bullet_pos=(851.18964, 998.8267)
[10:03:19] [INFO] [Bullet] Using shooter_position, distance=592,7187
[10:03:19] [INFO] [Bullet] Distance to wall: 592,7187 (40,359306% of viewport)
[10:03:19] [INFO] [Bullet] Distance-based penetration chance: 99,58081%
[10:03:19] [INFO] [Bullet] Starting wall penetration at (851.18964, 998.8267)
[10:03:19] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P4:velocity, state=RETREATING, target=153.8°, current=87.4°, player=(258,967), corner_timer=0.00
[10:03:19] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[10:03:19] [INFO] [Bullet] Raycast backward hit penetrating body at distance 12,444447
[10:03:19] [INFO] [Bullet] Body exited signal received for penetrating body
[10:03:19] [INFO] [Bullet] Exiting penetration at (833.5672, 1035.1992) after traveling 35,416668 pixels through wall
[10:03:19] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[10:03:19] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[10:03:19] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(258,967), corner_timer=-0.02
[10:03:19] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[10:03:19] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(258,967), corner_timer=0.30
[10:03:19] [ENEMY] [Enemy3] Hit: dmg=1, hp=2/2->1/2
[10:03:19] [INFO] [ImpactEffects] spawn_blood_effect called at (590.0558, 804.3977), dir=(1, 0), lethal=false
[10:03:19] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[10:03:19] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[10:03:19] [INFO] [ImpactEffects] Blood effect spawned at (590.0558, 804.3977) (scale=1)
[10:03:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(258.8826, 967.1848), source=PLAYER (AssaultRifle), range=1469, listeners=10
[10:03:19] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=3
[10:03:19] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(258.88257, 967.18475), shooter_id=1054330588995, bullet_pos=(500.26337, 699.6489)
[10:03:19] [INFO] [Bullet] Using shooter_position, distance=360,33334
[10:03:19] [INFO] [Bullet] Distance to wall: 360,33334 (24,53576% of viewport)
[10:03:19] [INFO] [Bullet] Within ricochet range - trying ricochet first
[10:03:19] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[10:03:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(258.88257, 967.407), shooter_id=1054330588995, bullet_pos=(990.13275, 211.11505)
[10:03:20] [INFO] [Bullet] Using shooter_position, distance=1052,0001
[10:03:20] [INFO] [Bullet] Distance to wall: 1052,0001 (71,63262% of viewport)
[10:03:20] [ENEMY] [Enemy4] State: PURSUING -> RETREATING
[10:03:20] [ENEMY] [Enemy3] Hit: dmg=1, hp=1/2->0/2
[10:03:20] [INFO] [ImpactEffects] spawn_blood_effect called at (590.0558, 804.3977), dir=(1, 0), lethal=true
[10:03:20] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[10:03:20] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[10:03:20] [INFO] [ImpactEffects] Blood effect spawned at (590.0558, 804.3977) (scale=1.5)
[10:03:20] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[10:03:20] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[10:03:20] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[10:03:20] [INFO] [PowerFantasy] Starting power fantasy effect:
[10:03:20] [INFO] [PowerFantasy]   - Time scale: 0.10
[10:03:20] [INFO] [PowerFantasy]   - Duration: 300ms
[10:03:20] [ENEMY] [Enemy3] [AllyDeath] Notified 3 enemies
[10:03:20] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[10:03:20] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[10:03:20] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[10:03:20] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=-100.7°, current=124.0°, player=(258,967), corner_timer=0.07
[10:03:20] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[10:03:20] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[10:03:20] [ENEMY] [Enemy1] PURSUING corner check: angle -51.9°
[10:03:20] [INFO] [PowerFantasy] Effect duration expired after 333.00 ms
[10:03:20] [INFO] [PowerFantasy] Ending power fantasy effect
[10:03:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(258.88257, 967.18475), shooter_id=1054330588995, bullet_pos=(484.7834, 713.74976)
[10:03:20] [INFO] [Bullet] Using shooter_position, distance=339,50034
[10:03:20] [INFO] [Bullet] Distance to wall: 339,50034 (23,117203% of viewport)
[10:03:20] [INFO] [Bullet] Within ricochet range - trying ricochet first
[10:03:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(258.88257, 967.407), shooter_id=1054330588995, bullet_pos=(824.0725, 54.70158)
[10:03:20] [INFO] [Bullet] Using shooter_position, distance=1073,5319
[10:03:20] [INFO] [Bullet] Distance to wall: 1073,5319 (73,09876% of viewport)
[10:03:20] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[10:03:20] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:03:20] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[10:03:20] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[10:03:20] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[10:03:20] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[10:03:20] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[10:03:20] [INFO] [LastChance] Resetting all effects (scene change detected)
[10:03:20] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[10:03:20] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[10:03:20] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[10:03:20] [ENEMY] [Enemy1] Death animation component initialized
[10:03:20] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:03:20] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[10:03:20] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[10:03:20] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[10:03:20] [ENEMY] [Enemy2] Death animation component initialized
[10:03:20] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:03:20] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[10:03:20] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[10:03:20] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[10:03:20] [ENEMY] [Enemy3] Death animation component initialized
[10:03:20] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:03:20] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[10:03:20] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[10:03:20] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[10:03:20] [ENEMY] [Enemy4] Death animation component initialized
[10:03:20] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:03:20] [INFO] [BloodyFeet:Grenadier] Footprint scene loaded
[10:03:20] [INFO] [BloodyFeet:Grenadier] Found EnemyModel for facing direction
[10:03:20] [INFO] [BloodyFeet:Grenadier] BloodyFeetComponent ready on Grenadier
[10:03:20] [INFO] [EnemyGrenade] Grenade bag built (normal): [Flashbang, Flashbang, Flashbang, Offensive, Offensive, Offensive, Offensive, Offensive]
[10:03:20] [INFO] [EnemyGrenade] Grenadier initialized: 8 grenades in bag
[10:03:20] [ENEMY] [Grenadier] Death animation component initialized
[10:03:20] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:03:20] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[10:03:20] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[10:03:20] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[10:03:20] [ENEMY] [Enemy6] Death animation component initialized
[10:03:20] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:03:20] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[10:03:20] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[10:03:20] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[10:03:20] [ENEMY] [Enemy7] Death animation component initialized
[10:03:20] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:03:20] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[10:03:20] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[10:03:20] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[10:03:20] [ENEMY] [Enemy8] Death animation component initialized
[10:03:20] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:03:20] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[10:03:20] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[10:03:20] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[10:03:20] [ENEMY] [Enemy9] Death animation component initialized
[10:03:20] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:03:20] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[10:03:20] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[10:03:20] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[10:03:20] [ENEMY] [Enemy10] Death animation component initialized
[10:03:20] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:03:20] [INFO] [BloodyFeet:Player] Footprint scene loaded
[10:03:20] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[10:03:20] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[10:03:20] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[10:03:20] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[10:03:20] [INFO] [Player.Weapon] GameManager weapon selection: m16 (AssaultRifle)
[10:03:20] [INFO] [Player.Weapon] Removed default MakarovPM
[10:03:20] [INFO] [Player.Weapon] Equipped AssaultRifle (ammo: 30/30)
[10:03:20] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[10:03:20] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[10:03:20] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[10:03:20] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[10:03:20] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[10:03:20] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[10:03:20] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[10:03:20] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[10:03:20] [INFO] [Player.Homing] Homing activation sound loaded
[10:03:20] [INFO] [Player.Homing] Homing bullets equipped, charges: 6/6
[10:03:20] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 10/10
[10:03:20] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[10:03:20] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[10:03:20] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[10:03:20] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[10:03:20] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[10:03:20] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[10:03:20] [INFO] [BuildingLevel] Child 'Grenadier': script=true, has_died_signal=true
[10:03:20] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[10:03:20] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[10:03:20] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[10:03:20] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[10:03:20] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[10:03:20] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[10:03:20] [INFO] [BuildingLevel] Setting up weapon: m16
[10:03:20] [INFO] [BuildingLevel] AssaultRifle already equipped by C# Player - skipping GDScript weapon swap
[10:03:20] [INFO] [ScoreManager] Level started with 10 enemies
[10:03:20] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[10:03:20] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[10:03:20] [INFO] [ReplayManager] Replay data cleared
[10:03:20] [INFO] [BuildingLevel] Previous replay data cleared
[10:03:20] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[10:03:20] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[10:03:20] [INFO] [ReplayManager] Level: BuildingLevel
[10:03:20] [INFO] [ReplayManager] Player: Player (valid: True)
[10:03:20] [INFO] [ReplayManager] Enemies count: 10
[10:03:20] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[10:03:20] [INFO] [ReplayManager]   Enemy 0: Enemy1
[10:03:20] [INFO] [ReplayManager]   Enemy 1: Enemy2
[10:03:20] [INFO] [ReplayManager]   Enemy 2: Enemy3
[10:03:20] [INFO] [ReplayManager]   Enemy 3: Enemy4
[10:03:20] [INFO] [ReplayManager]   Enemy 4: Grenadier
[10:03:20] [INFO] [ReplayManager]   Enemy 5: Enemy6
[10:03:20] [INFO] [ReplayManager]   Enemy 6: Enemy7
[10:03:20] [INFO] [ReplayManager]   Enemy 7: Enemy8
[10:03:20] [INFO] [ReplayManager]   Enemy 8: Enemy9
[10:03:20] [INFO] [ReplayManager]   Enemy 9: Enemy10
[10:03:20] [INFO] [BuildingLevel] Replay recording started successfully
[10:03:20] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[10:03:20] [INFO] [CinemaEffects] Found player node: Player
[10:03:20] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[10:03:20] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[10:03:20] [ENEMY] [Enemy1] Registered as sound listener
[10:03:20] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 4, behavior: GUARD
[10:03:20] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[10:03:20] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[10:03:20] [ENEMY] [Enemy2] Registered as sound listener
[10:03:20] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 2, behavior: GUARD
[10:03:20] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[10:03:20] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[10:03:20] [ENEMY] [Enemy3] Registered as sound listener
[10:03:20] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 2, behavior: GUARD
[10:03:20] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[10:03:20] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[10:03:20] [ENEMY] [Enemy4] Registered as sound listener
[10:03:20] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 2, behavior: GUARD
[10:03:20] [INFO] [BloodyFeet:Grenadier] Blood detector created and attached to Grenadier
[10:03:20] [INFO] [SoundPropagation] Registered listener: Grenadier (total: 14)
[10:03:20] [ENEMY] [Grenadier] Registered as sound listener
[10:03:20] [ENEMY] [Grenadier] Spawned at (1700, 350), hp: 2, behavior: GUARD
[10:03:20] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[10:03:20] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[10:03:20] [ENEMY] [Enemy6] Registered as sound listener
[10:03:20] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 2, behavior: GUARD
[10:03:20] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[10:03:20] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[10:03:20] [ENEMY] [Enemy7] Registered as sound listener
[10:03:20] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 2, behavior: PATROL
[10:03:20] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[10:03:20] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[10:03:20] [ENEMY] [Enemy8] Registered as sound listener
[10:03:20] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 2, behavior: GUARD
[10:03:20] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[10:03:20] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[10:03:20] [ENEMY] [Enemy9] Registered as sound listener
[10:03:20] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 3, behavior: GUARD
[10:03:20] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[10:03:20] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[10:03:20] [ENEMY] [Enemy10] Registered as sound listener
[10:03:20] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 3, behavior: PATROL
[10:03:20] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[10:03:20] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[10:03:20] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[10:03:20] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[10:03:20] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=281.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[10:03:20] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[10:03:20] [ENEMY] [Grenadier] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=180.0°, current=0.0°, player=(450,1249), corner_timer=0.00
[10:03:20] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[10:03:20] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=157.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[10:03:20] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[10:03:20] [INFO] [Player] Detecting weapon pose (frame 3)...
[10:03:20] [INFO] [Player] Detected weapon: Rifle (default pose)
[10:03:20] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[10:03:20] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[10:03:20] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[10:03:20] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[10:03:20] [INFO] [LastChance] Found player: Player
[10:03:20] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[10:03:20] [INFO] [LastChance] Connected to player Damaged signal (C#)
[10:03:20] [INFO] [LastChance] Connected to player Died signal (C#)
[10:03:20] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[10:03:20] [INFO] [BloodDecal] Blood puddle created at (692.1512, 809.7967) (added to group)
[10:03:20] [INFO] [BloodDecal] Blood puddle created at (678.8961, 856.8454) (added to group)
[10:03:20] [INFO] [BloodDecal] Blood puddle created at (676.8615, 824.4393) (added to group)
[10:03:20] [INFO] [BloodDecal] Blood puddle created at (675.2914, 822.9276) (added to group)
[10:03:20] [INFO] [BloodDecal] Blood puddle created at (638.2087, 820.3225) (added to group)
[10:03:20] [INFO] [BloodDecal] Blood puddle created at (687.8407, 801.7276) (added to group)
[10:03:20] [INFO] [BloodDecal] Blood puddle created at (666.8726, 853.7612) (added to group)
[10:03:20] [INFO] [BloodDecal] Blood puddle created at (681.3965, 801.8277) (added to group)
[10:03:20] [INFO] [BloodDecal] Blood puddle created at (682.6323, 800.0659) (added to group)
[10:03:21] [INFO] [BloodDecal] Blood puddle created at (699.4458, 951.839) (added to group)
[10:03:21] [INFO] [BloodDecal] Blood puddle created at (697.4327, 940.2037) (added to group)
[10:03:21] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[10:03:22] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[10:03:22] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[10:03:22] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(393,857), corner_timer=0.30
[10:03:22] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(393,857), corner_timer=0.30
[10:03:22] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(367,909), corner_timer=-0.02
[10:03:22] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[10:03:22] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(367,909), corner_timer=-0.02
[10:03:22] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[10:03:22] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(367,914), corner_timer=0.30
[10:03:22] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(367,914), corner_timer=0.30
[10:03:22] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[10:03:22] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(417,984), corner_timer=-0.02
[10:03:22] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[10:03:22] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(419,986), corner_timer=0.30
[10:03:23] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(432,997), corner_timer=-0.02
[10:03:23] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[10:03:23] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.6°, player=(432,997), corner_timer=0.30
[10:03:23] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(432,997), corner_timer=-0.02
[10:03:23] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[10:03:23] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.8°, current=6.3°, player=(432,997), corner_timer=0.30
[10:03:23] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=10
[10:03:23] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.8°, player=(432,997), corner_timer=-0.02
[10:03:23] [ENEMY] [Enemy10] PATROL corner check: angle 0.9°
[10:03:23] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=0.9°, current=4.6°, player=(432,997), corner_timer=0.30
[10:03:24] [INFO] [Player.Homing] Homing activated! Duration: 1s, charges remaining: 5/6
[10:03:24] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[10:03:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(432.8357, 997.3561), source=PLAYER (AssaultRifle), range=1469, listeners=19
[10:03:24] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[10:03:24] [ENEMY] [Enemy2] Heard gunshot at (432.8357, 997.3561), source_type=0, intensity=0.01, distance=449
[10:03:24] [ENEMY] [Enemy3] Heard gunshot at (432.8357, 997.3561), source_type=0, intensity=0.02, distance=364
[10:03:24] [ENEMY] [Enemy4] Heard gunshot at (432.8357, 997.3561), source_type=0, intensity=0.02, distance=380
[10:03:24] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=4
[10:03:24] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=85.8°, current=-157.5°, player=(432,997), corner_timer=0.00
[10:03:24] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=137.2°, current=-78.7°, player=(432,997), corner_timer=0.00
[10:03:24] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=165.1°, current=168.8°, player=(432,997), corner_timer=0.00
[10:03:24] [ENEMY] [Enemy1] Memory: medium confidence (0.62) - transitioning to PURSUING
[10:03:24] [ENEMY] [Enemy1] State: IDLE -> PURSUING
[10:03:24] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=78.4°, current=-33.8°, player=(432,997), corner_timer=0.00
[10:03:24] [ENEMY] [Enemy1] PURSUING corner check: angle -50.9°
[10:03:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(432.8357, 997.3561), source=PLAYER (AssaultRifle), range=1469, listeners=10
[10:03:24] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=4
[10:03:24] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=-130.1°, player=(432,997), corner_timer=-0.02
[10:03:24] [ENEMY] [Enemy7] PATROL corner check: angle 90.0°
[10:03:24] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=-133.0°, player=(432,997), corner_timer=0.30
[10:03:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(432.8357, 997.3561), source=PLAYER (AssaultRifle), range=1469, listeners=10
[10:03:24] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=4
[10:03:24] [INFO] [BloodyFeet:Enemy3] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[10:03:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(432.83566, 997.3561), shooter_id=1111205350748, bullet_pos=(917.67206, 621.7351)
[10:03:24] [INFO] [Bullet] Using shooter_position, distance=613,3168
[10:03:24] [INFO] [Bullet] Distance to wall: 613,3168 (41,761868% of viewport)
[10:03:24] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[10:03:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(432.8357, 997.3561), source=PLAYER (AssaultRifle), range=1469, listeners=10
[10:03:24] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=4
[10:03:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(432.83566, 997.3561), shooter_id=1111205350748, bullet_pos=(917.68054, 621.74585)
[10:03:24] [INFO] [Bullet] Using shooter_position, distance=613,3169
[10:03:24] [INFO] [Bullet] Distance to wall: 613,3169 (41,761875% of viewport)
[10:03:24] [ENEMY] [Enemy1] PURSUING corner check: angle -51.1°
[10:03:24] [INFO] [ReplayManager] Recording frame 240 (4,0s): player_valid=True, enemies=10
[10:03:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(432.8357, 997.3561), source=PLAYER (AssaultRifle), range=1469, listeners=10
[10:03:24] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=4
[10:03:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(432.83566, 997.3561), shooter_id=1111205350748, bullet_pos=(917.68445, 621.75116)
[10:03:24] [INFO] [Bullet] Using shooter_position, distance=613,3167
[10:03:24] [INFO] [Bullet] Distance to wall: 613,3167 (41,761864% of viewport)
[10:03:24] [INFO] [Bullet] Distance-based penetration chance: 97,94449%
[10:03:24] [INFO] [Bullet] Starting wall penetration at (917.68445, 621.75116)
[10:03:24] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[10:03:24] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[10:03:24] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[10:03:24] [INFO] [Bullet] Raycast backward hit penetrating body at distance 26,291945
[10:03:24] [INFO] [Bullet] Body exited signal received for penetrating body
[10:03:24] [INFO] [Bullet] Exiting penetration at (959.2873, 642.8055) after traveling 41,66667 pixels through wall
[10:03:24] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[10:03:24] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=179.1°, current=172.4°, player=(432,997), corner_timer=-0.02
[10:03:24] [ENEMY] [Enemy7] PATROL corner check: angle 89.8°
[10:03:24] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.8°, current=175.3°, player=(432,997), corner_timer=0.30
[10:03:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(432.8357, 997.3561), source=PLAYER (AssaultRifle), range=1469, listeners=10
[10:03:24] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=4
[10:03:24] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(432.83566, 997.3561), shooter_id=1111205350748, bullet_pos=(917.68677, 621.7538)
[10:03:24] [INFO] [Bullet] Using shooter_position, distance=613,31696
[10:03:24] [INFO] [Bullet] Distance to wall: 613,31696 (41,761883% of viewport)
[10:03:24] [INFO] [Bullet] Distance-based penetration chance: 97,94447%
[10:03:24] [INFO] [Bullet] Starting wall penetration at (917.68677, 621.7538)
[10:03:24] [INFO] [Bullet] Raycast backward hit penetrating body at distance 26,294569
[10:03:24] [INFO] [Bullet] Body exited signal received for penetrating body
[10:03:24] [INFO] [Bullet] Exiting penetration at (959.28955, 642.8083) after traveling 41,666668 pixels through wall
[10:03:24] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[10:03:24] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[10:03:24] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(432.8357, 997.3561), source=PLAYER (AssaultRifle), range=1469, listeners=10
[10:03:24] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=4
[10:03:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(432.83566, 997.3561), shooter_id=1111205350748, bullet_pos=(917.6881, 621.7556)
[10:03:25] [INFO] [Bullet] Using shooter_position, distance=613,3169
[10:03:25] [INFO] [Bullet] Distance to wall: 613,3169 (41,761875% of viewport)
[10:03:25] [INFO] [Bullet] Distance-based penetration chance: 97,94448%
[10:03:25] [INFO] [Bullet] Starting wall penetration at (917.6881, 621.7556)
[10:03:25] [INFO] [Bullet] Raycast backward hit penetrating body at distance 26,29599
[10:03:25] [INFO] [Bullet] Body exited signal received for penetrating body
[10:03:25] [INFO] [Bullet] Exiting penetration at (959.2908, 642.81024) after traveling 41,66667 pixels through wall
[10:03:25] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[10:03:25] [ENEMY] [Enemy1] PURSUING corner check: angle 153.7°
[10:03:25] [INFO] [Player.Homing] Homing effect expired, charges remaining: 5/6
[10:03:25] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=178.4°, current=120.7°, player=(432,997), corner_timer=-0.02
[10:03:25] [ENEMY] [Enemy7] PATROL corner check: angle 89.7°
[10:03:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(432.8357, 997.3561), source=PLAYER (AssaultRifle), range=1469, listeners=10
[10:03:25] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[10:03:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(432.83566, 997.3561), shooter_id=1111205350748, bullet_pos=(917.68835, 621.7561)
[10:03:25] [INFO] [Bullet] Using shooter_position, distance=613,3168
[10:03:25] [INFO] [Bullet] Distance to wall: 613,3168 (41,761868% of viewport)
[10:03:25] [INFO] [Bullet] Distance-based penetration chance: 97,94449%
[10:03:25] [INFO] [Bullet] Starting wall penetration at (917.68835, 621.7561)
[10:03:25] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.7°, current=123.6°, player=(432,997), corner_timer=0.30
[10:03:25] [INFO] [Bullet] Raycast backward hit penetrating body at distance 26,29621
[10:03:25] [INFO] [Bullet] Body exited signal received for penetrating body
[10:03:25] [INFO] [Bullet] Exiting penetration at (959.29095, 642.8108) after traveling 41,666668 pixels through wall
[10:03:25] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[10:03:25] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[10:03:25] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(432.8357, 997.3561), source=PLAYER (AssaultRifle), range=1469, listeners=10
[10:03:25] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[10:03:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(432.83566, 997.3561), shooter_id=1111205350748, bullet_pos=(917.6888, 621.75665)
[10:03:25] [INFO] [Bullet] Using shooter_position, distance=613,3168
[10:03:25] [INFO] [Bullet] Distance to wall: 613,3168 (41,761868% of viewport)
[10:03:25] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.9°, current=89.7°, player=(432,997), corner_timer=-0.02
[10:03:25] [ENEMY] [Enemy7] PATROL corner check: angle 89.6°
[10:03:25] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.6°, current=92.5°, player=(432,997), corner_timer=0.30
[10:03:25] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(432.83566, 997.3561), shooter_id=1111205350748, bullet_pos=(750.8716, 38.384586)
[10:03:25] [INFO] [Bullet] Using shooter_position, distance=1010,3332
[10:03:25] [INFO] [Bullet] Distance to wall: 1010,3332 (68,79545% of viewport)
[10:03:25] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[10:03:25] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:03:25] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[10:03:25] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[10:03:25] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[10:03:25] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[10:03:25] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[10:03:25] [INFO] [LastChance] Resetting all effects (scene change detected)
[10:03:25] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[10:03:25] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[10:03:25] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[10:03:25] [ENEMY] [Enemy1] Death animation component initialized
[10:03:25] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:03:25] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[10:03:25] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[10:03:25] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[10:03:25] [ENEMY] [Enemy2] Death animation component initialized
[10:03:25] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:03:25] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[10:03:25] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[10:03:25] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[10:03:25] [ENEMY] [Enemy3] Death animation component initialized
[10:03:25] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:03:25] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[10:03:25] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[10:03:25] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[10:03:25] [ENEMY] [Enemy4] Death animation component initialized
[10:03:25] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:03:25] [INFO] [BloodyFeet:Grenadier] Footprint scene loaded
[10:03:25] [INFO] [BloodyFeet:Grenadier] Found EnemyModel for facing direction
[10:03:25] [INFO] [BloodyFeet:Grenadier] BloodyFeetComponent ready on Grenadier
[10:03:25] [INFO] [EnemyGrenade] Grenade bag built (normal): [Flashbang, Flashbang, Flashbang, Offensive, Offensive, Offensive, Offensive, Offensive]
[10:03:25] [INFO] [EnemyGrenade] Grenadier initialized: 8 grenades in bag
[10:03:25] [ENEMY] [Grenadier] Death animation component initialized
[10:03:25] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:03:25] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[10:03:25] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[10:03:25] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[10:03:25] [ENEMY] [Enemy6] Death animation component initialized
[10:03:25] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:03:25] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[10:03:25] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[10:03:25] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[10:03:25] [ENEMY] [Enemy7] Death animation component initialized
[10:03:25] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:03:25] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[10:03:25] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[10:03:25] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[10:03:25] [INFO] [EnemyGrenade] Initialized: 1 grenades
[10:03:25] [ENEMY] [Enemy8] Death animation component initialized
[10:03:25] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:03:25] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[10:03:25] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[10:03:25] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[10:03:25] [ENEMY] [Enemy9] Death animation component initialized
[10:03:25] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:03:25] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[10:03:25] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[10:03:25] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[10:03:25] [ENEMY] [Enemy10] Death animation component initialized
[10:03:25] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:03:25] [INFO] [BloodyFeet:Player] Footprint scene loaded
[10:03:25] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[10:03:25] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[10:03:25] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[10:03:25] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[10:03:25] [INFO] [Player.Weapon] GameManager weapon selection: m16 (AssaultRifle)
[10:03:25] [INFO] [Player.Weapon] Removed default MakarovPM
[10:03:25] [INFO] [Player.Weapon] Equipped AssaultRifle (ammo: 30/30)
[10:03:25] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[10:03:25] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[10:03:25] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[10:03:25] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[10:03:25] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[10:03:25] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[10:03:25] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[10:03:25] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[10:03:25] [INFO] [Player.Homing] Homing activation sound loaded
[10:03:25] [INFO] [Player.Homing] Homing bullets equipped, charges: 6/6
[10:03:25] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 10/10
[10:03:25] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[10:03:25] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[10:03:25] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[10:03:25] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[10:03:25] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[10:03:25] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[10:03:25] [INFO] [BuildingLevel] Child 'Grenadier': script=true, has_died_signal=true
[10:03:25] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[10:03:25] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[10:03:25] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[10:03:25] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[10:03:25] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[10:03:25] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[10:03:25] [INFO] [BuildingLevel] Setting up weapon: m16
[10:03:25] [INFO] [BuildingLevel] AssaultRifle already equipped by C# Player - skipping GDScript weapon swap
[10:03:25] [INFO] [ScoreManager] Level started with 10 enemies
[10:03:25] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[10:03:25] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[10:03:25] [INFO] [ReplayManager] Replay data cleared
[10:03:25] [INFO] [BuildingLevel] Previous replay data cleared
[10:03:25] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[10:03:25] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[10:03:25] [INFO] [ReplayManager] Level: BuildingLevel
[10:03:25] [INFO] [ReplayManager] Player: Player (valid: True)
[10:03:25] [INFO] [ReplayManager] Enemies count: 10
[10:03:25] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[10:03:25] [INFO] [ReplayManager]   Enemy 0: Enemy1
[10:03:25] [INFO] [ReplayManager]   Enemy 1: Enemy2
[10:03:25] [INFO] [ReplayManager]   Enemy 2: Enemy3
[10:03:25] [INFO] [ReplayManager]   Enemy 3: Enemy4
[10:03:25] [INFO] [ReplayManager]   Enemy 4: Grenadier
[10:03:25] [INFO] [ReplayManager]   Enemy 5: Enemy6
[10:03:25] [INFO] [ReplayManager]   Enemy 6: Enemy7
[10:03:25] [INFO] [ReplayManager]   Enemy 7: Enemy8
[10:03:25] [INFO] [ReplayManager]   Enemy 8: Enemy9
[10:03:25] [INFO] [ReplayManager]   Enemy 9: Enemy10
[10:03:25] [INFO] [BuildingLevel] Replay recording started successfully
[10:03:25] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[10:03:25] [INFO] [CinemaEffects] Found player node: Player
[10:03:25] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[10:03:25] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[10:03:25] [ENEMY] [Enemy1] Registered as sound listener
[10:03:25] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 2, behavior: GUARD
[10:03:25] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[10:03:25] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[10:03:25] [ENEMY] [Enemy2] Registered as sound listener
[10:03:25] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 3, behavior: GUARD
[10:03:25] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[10:03:25] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[10:03:25] [ENEMY] [Enemy3] Registered as sound listener
[10:03:25] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 4, behavior: GUARD
[10:03:25] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[10:03:25] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[10:03:25] [ENEMY] [Enemy4] Registered as sound listener
[10:03:25] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 2, behavior: GUARD
[10:03:25] [INFO] [BloodyFeet:Grenadier] Blood detector created and attached to Grenadier
[10:03:25] [INFO] [SoundPropagation] Registered listener: Grenadier (total: 15)
[10:03:25] [ENEMY] [Grenadier] Registered as sound listener
[10:03:25] [ENEMY] [Grenadier] Spawned at (1700, 350), hp: 2, behavior: GUARD
[10:03:25] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[10:03:25] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[10:03:25] [ENEMY] [Enemy6] Registered as sound listener
[10:03:25] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 4, behavior: GUARD
[10:03:25] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[10:03:25] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[10:03:25] [ENEMY] [Enemy7] Registered as sound listener
[10:03:25] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 3, behavior: PATROL
[10:03:25] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[10:03:25] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[10:03:25] [ENEMY] [Enemy8] Registered as sound listener
[10:03:25] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 3, behavior: GUARD
[10:03:25] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[10:03:25] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[10:03:25] [ENEMY] [Enemy9] Registered as sound listener
[10:03:25] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 4, behavior: GUARD
[10:03:25] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[10:03:25] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[10:03:25] [ENEMY] [Enemy10] Registered as sound listener
[10:03:25] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 3, behavior: PATROL
[10:03:25] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[10:03:25] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[10:03:25] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[10:03:25] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[10:03:25] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[10:03:25] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[10:03:25] [ENEMY] [Grenadier] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=180.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[10:03:25] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[10:03:25] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[10:03:25] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[10:03:25] [INFO] [Player] Detecting weapon pose (frame 3)...
[10:03:25] [INFO] [Player] Detected weapon: Rifle (default pose)
[10:03:25] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[10:03:25] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[10:03:25] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[10:03:25] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[10:03:25] [INFO] [LastChance] Found player: Player
[10:03:25] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[10:03:25] [INFO] [LastChance] Connected to player Damaged signal (C#)
[10:03:25] [INFO] [LastChance] Connected to player Died signal (C#)
[10:03:25] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[10:03:26] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[10:03:27] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[10:03:27] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[10:03:27] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(392,982), corner_timer=0.30
[10:03:27] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(392,982), corner_timer=0.30
[10:03:27] [INFO] [Player.Homing] Homing activated! Duration: 1s, charges remaining: 5/6
[10:03:27] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(392,982), corner_timer=-0.02
[10:03:27] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[10:03:27] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(392,982), corner_timer=-0.02
[10:03:27] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[10:03:27] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(392,982), corner_timer=0.30
[10:03:27] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(392,982), corner_timer=0.30
[10:03:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(392.5861, 982.6722), source=PLAYER (AssaultRifle), range=1469, listeners=20
[10:03:27] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[10:03:27] [ENEMY] [Enemy2] Heard gunshot at (392.5861, 982.6722), source_type=0, intensity=0.01, distance=433
[10:03:27] [ENEMY] [Enemy3] Heard gunshot at (392.5861, 982.6722), source_type=0, intensity=0.02, distance=386
[10:03:27] [ENEMY] [Enemy4] Heard gunshot at (392.5861, 982.6722), source_type=0, intensity=0.01, distance=416
[10:03:27] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=4
[10:03:27] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=91.0°, current=168.8°, player=(392,982), corner_timer=0.00
[10:03:27] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=142.9°, current=-168.8°, player=(392,982), corner_timer=0.00
[10:03:27] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=168.5°, current=-101.3°, player=(392,982), corner_timer=0.00
[10:03:27] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[10:03:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(392.5861, 982.6722), source=PLAYER (AssaultRifle), range=1469, listeners=10
[10:03:27] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=4
[10:03:27] [ENEMY] [Enemy1] Memory: medium confidence (0.62) - transitioning to PURSUING
[10:03:27] [ENEMY] [Enemy1] State: IDLE -> PURSUING
[10:03:27] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=81.7°, current=168.8°, player=(392,982), corner_timer=0.00
[10:03:27] [ENEMY] [Enemy1] PURSUING corner check: angle -50.9°
[10:03:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(392.5861, 982.6722), source=PLAYER (AssaultRifle), range=1469, listeners=10
[10:03:27] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=4
[10:03:27] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(392,982), corner_timer=-0.02
[10:03:27] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[10:03:28] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(392,982), corner_timer=0.30
[10:03:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(392.5861, 982.6722), source=PLAYER (AssaultRifle), range=1469, listeners=10
[10:03:28] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=4
[10:03:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(392.5861, 982.6722), source=PLAYER (AssaultRifle), range=1469, listeners=10
[10:03:28] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=4
[10:03:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(392.58612, 982.6722), shooter_id=1244902985567, bullet_pos=(914.4787, 660.5142)
[10:03:28] [INFO] [Bullet] Using shooter_position, distance=613,3169
[10:03:28] [INFO] [Bullet] Distance to wall: 613,3169 (41,761875% of viewport)
[10:03:28] [ENEMY] [Enemy1] PURSUING corner check: angle -51.1°
[10:03:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(392.58612, 982.6722), shooter_id=1244902985567, bullet_pos=(1158.9366, 692.1508)
[10:03:28] [INFO] [Bullet] Using shooter_position, distance=819,5705
[10:03:28] [INFO] [Bullet] Distance to wall: 819,5705 (55,806065% of viewport)
[10:03:28] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[10:03:28] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[10:03:28] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[10:03:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(392.5861, 982.6722), source=PLAYER (AssaultRifle), range=1469, listeners=10
[10:03:28] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=4
[10:03:28] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(392,982), corner_timer=-0.02
[10:03:28] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[10:03:28] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.6°, player=(392,982), corner_timer=0.30
[10:03:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(392.58612, 982.6722), shooter_id=1244902985567, bullet_pos=(931.6206, 622.446)
[10:03:28] [INFO] [Bullet] Using shooter_position, distance=648,3218
[10:03:28] [INFO] [Bullet] Distance to wall: 648,3218 (44,145424% of viewport)
[10:03:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(392.58612, 982.6722), shooter_id=1244902985567, bullet_pos=(1364.16, 544.3332)
[10:03:28] [INFO] [Bullet] Using shooter_position, distance=1065,8785
[10:03:28] [INFO] [Bullet] Distance to wall: 1065,8785 (72,57763% of viewport)
[10:03:28] [ENEMY] [Enemy3] Hit: dmg=1, hp=4/4->3/4
[10:03:28] [INFO] [ImpactEffects] spawn_blood_effect called at (585.1791, 836.9046), dir=(1, 0), lethal=false
[10:03:28] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[10:03:28] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[10:03:28] [INFO] [ImpactEffects] Wall found for blood splatter at (680, 836.9046) (dist=94 px)
[10:03:28] [INFO] [BloodDecal] Blood puddle created at (679, 836.9046) (added to group)
[10:03:28] [INFO] [ImpactEffects] Blood effect spawned at (585.1791, 836.9046) (scale=1)
[10:03:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(392.58612, 982.6722), shooter_id=1244902985567, bullet_pos=(1554.3483, 798.7722)
[10:03:28] [INFO] [Bullet] Using shooter_position, distance=1176,2273
[10:03:28] [INFO] [Bullet] Distance to wall: 1176,2273 (80,091484% of viewport)
[10:03:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(392.5861, 982.6722), source=PLAYER (AssaultRifle), range=1469, listeners=10
[10:03:28] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=4
[10:03:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(392.58612, 982.6722), shooter_id=1244902985567, bullet_pos=(932.07056, 620.23395)
[10:03:28] [INFO] [Bullet] Using shooter_position, distance=649,9269
[10:03:28] [INFO] [Bullet] Distance to wall: 649,9269 (44,25472% of viewport)
[10:03:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(392.5861, 982.6722), source=PLAYER (AssaultRifle), range=1469, listeners=10
[10:03:28] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[10:03:28] [INFO] [Player.Homing] Homing effect expired, charges remaining: 5/6
[10:03:28] [ENEMY] [Enemy3] Hit: dmg=1, hp=3/4->2/4
[10:03:28] [INFO] [ImpactEffects] spawn_blood_effect called at (585.1791, 836.9046), dir=(1, 0), lethal=false
[10:03:28] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[10:03:28] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[10:03:28] [INFO] [ImpactEffects] Wall found for blood splatter at (680, 836.9046) (dist=94 px)
[10:03:28] [INFO] [BloodDecal] Blood puddle created at (679, 836.9046) (added to group)
[10:03:28] [INFO] [ImpactEffects] Blood effect spawned at (585.1791, 836.9046) (scale=1)
[10:03:28] [ENEMY] [Enemy1] PURSUING corner check: angle 153.7°
[10:03:28] [ENEMY] [Enemy3] State: PURSUING -> RETREATING
[10:03:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(392.58612, 982.6722), shooter_id=1244902985567, bullet_pos=(915.8941, 609.53424)
[10:03:28] [INFO] [Bullet] Using shooter_position, distance=642,71545
[10:03:28] [INFO] [Bullet] Distance to wall: 642,71545 (43,76368% of viewport)
[10:03:28] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[10:03:28] [ENEMY] [Enemy4] State: PURSUING -> RETREATING
[10:03:28] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[10:03:28] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[10:03:28] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[10:03:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(392.5861, 982.6722), source=PLAYER (AssaultRifle), range=1469, listeners=10
[10:03:28] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[10:03:28] [INFO] [BloodDecal] Blood puddle created at (642.0477, 853.0068) (added to group)
[10:03:28] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(392,982), corner_timer=-0.01
[10:03:28] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[10:03:28] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.8°, current=5.7°, player=(392,982), corner_timer=0.30
[10:03:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(392.58612, 982.6722), shooter_id=1244902985567, bullet_pos=(926.295, 624.1985)
[10:03:28] [INFO] [Bullet] Using shooter_position, distance=642,9219
[10:03:28] [INFO] [Bullet] Distance to wall: 642,9219 (43,777733% of viewport)
[10:03:28] [INFO] [Bullet] Distance-based penetration chance: 95,59264%
[10:03:28] [INFO] [Bullet] Starting wall penetration at (926.295, 624.1985)
[10:03:28] [INFO] [Bullet] Raycast backward hit penetrating body at distance 27,173166
[10:03:28] [INFO] [Bullet] Body exited signal received for penetrating body
[10:03:28] [INFO] [Bullet] Exiting penetration at (958.9983, 644.14954) after traveling 33,333336 pixels through wall
[10:03:28] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[10:03:28] [INFO] [ReplayManager] Recording frame 180 (2,9s): player_valid=True, enemies=10
[10:03:28] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(392.5861, 982.6722), source=PLAYER (AssaultRifle), range=1469, listeners=10
[10:03:28] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[10:03:28] [INFO] [BloodDecal] Blood puddle created at (670.1413, 916.557) (added to group)
[10:03:28] [INFO] [BloodDecal] Blood puddle created at (624.3474, 863.3383) (added to group)
[10:03:28] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(392.58612, 982.6722), shooter_id=1244902985567, bullet_pos=(926.28894, 624.18915)
[10:03:28] [INFO] [Bullet] Using shooter_position, distance=642,92206
[10:03:28] [INFO] [Bullet] Distance to wall: 642,92206 (43,777744% of viewport)
[10:03:28] [INFO] [Bullet] Distance-based penetration chance: 95,59263%
[10:03:28] [INFO] [Bullet] Starting wall penetration at (926.28894, 624.18915)
[10:03:28] [INFO] [Bullet] Raycast backward hit penetrating body at distance 27,166151
[10:03:28] [INFO] [Bullet] Body exited signal received for penetrating body
[10:03:28] [INFO] [Bullet] Exiting penetration at (958.9926, 644.1397) after traveling 33,333336 pixels through wall
[10:03:28] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[10:03:28] [INFO] [BloodDecal] Blood puddle created at (658.8809, 892.5842) (added to group)
[10:03:28] [INFO] [BloodyFeet:Enemy4] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[10:03:28] [INFO] [BloodDecal] Blood puddle created at (719.2376, 924.3624) (added to group)
[10:03:29] [INFO] [BloodDecal] Blood puddle created at (658.3215, 867.1821) (added to group)
[10:03:29] [INFO] [BloodDecal] Blood puddle created at (648.0571, 897.3391) (added to group)
[10:03:29] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.8°, player=(392,982), corner_timer=-0.01
[10:03:29] [ENEMY] [Enemy10] PATROL corner check: angle 1.0°
[10:03:29] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.0°, current=4.1°, player=(392,982), corner_timer=0.30
[10:03:29] [INFO] [BloodDecal] Blood puddle created at (677.2838, 896.7902) (added to group)
[10:03:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(392.58612, 982.6722), shooter_id=1244902985567, bullet_pos=(813.33264, 54.95819)
[10:03:29] [INFO] [Bullet] Using shooter_position, distance=1018,6662
[10:03:29] [INFO] [Bullet] Distance to wall: 1018,6662 (69,362854% of viewport)
[10:03:29] [INFO] [Bullet] Distance-based penetration chance: 65,74334%
[10:03:29] [INFO] [Bullet] Starting wall penetration at (813.33264, 54.95819)
[10:03:29] [INFO] [Bullet] Raycast backward hit penetrating body at distance 13,124344
[10:03:29] [INFO] [Bullet] Body exited signal received for penetrating body
[10:03:29] [INFO] [Bullet] Exiting penetration at (829.1657, 20.047472) after traveling 33,333336 pixels through wall
[10:03:29] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[10:03:29] [INFO] [BloodDecal] Blood puddle created at (737.0569, 932.7818) (added to group)
[10:03:29] [INFO] [BloodDecal] Blood puddle created at (697.2408, 964.2188) (added to group)
[10:03:29] [INFO] [BloodDecal] Blood puddle created at (667.5336, 900.7585) (added to group)
[10:03:29] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(392.58612, 982.6722), shooter_id=1244902985567, bullet_pos=(813.3308, 54.95687)
[10:03:29] [INFO] [Bullet] Using shooter_position, distance=1018,6667
[10:03:29] [INFO] [Bullet] Distance to wall: 1018,6667 (69,36289% of viewport)
[10:03:29] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[10:03:29] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:03:29] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[10:03:29] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[10:03:29] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[10:03:29] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[10:03:29] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[10:03:29] [INFO] [LastChance] Resetting all effects (scene change detected)
[10:03:29] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[10:03:29] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[10:03:29] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[10:03:29] [ENEMY] [Enemy1] Death animation component initialized
[10:03:29] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:03:29] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[10:03:29] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[10:03:29] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[10:03:29] [ENEMY] [Enemy2] Death animation component initialized
[10:03:29] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:03:29] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[10:03:29] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[10:03:29] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[10:03:29] [ENEMY] [Enemy3] Death animation component initialized
[10:03:29] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:03:29] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[10:03:29] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[10:03:29] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[10:03:29] [ENEMY] [Enemy4] Death animation component initialized
[10:03:29] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:03:29] [INFO] [BloodyFeet:Grenadier] Footprint scene loaded
[10:03:29] [INFO] [BloodyFeet:Grenadier] Found EnemyModel for facing direction
[10:03:29] [INFO] [BloodyFeet:Grenadier] BloodyFeetComponent ready on Grenadier
[10:03:29] [INFO] [EnemyGrenade] Grenade bag built (normal): [Flashbang, Flashbang, Flashbang, Offensive, Offensive, Offensive, Offensive, Offensive]
[10:03:29] [INFO] [EnemyGrenade] Grenadier initialized: 8 grenades in bag
[10:03:29] [ENEMY] [Grenadier] Death animation component initialized
[10:03:29] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:03:29] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[10:03:29] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[10:03:29] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[10:03:29] [ENEMY] [Enemy6] Death animation component initialized
[10:03:29] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:03:29] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[10:03:29] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[10:03:29] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[10:03:29] [ENEMY] [Enemy7] Death animation component initialized
[10:03:29] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:03:29] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[10:03:29] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[10:03:29] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[10:03:29] [ENEMY] [Enemy8] Death animation component initialized
[10:03:29] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:03:29] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[10:03:29] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[10:03:29] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[10:03:29] [ENEMY] [Enemy9] Death animation component initialized
[10:03:29] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:03:29] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[10:03:29] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[10:03:29] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[10:03:29] [ENEMY] [Enemy10] Death animation component initialized
[10:03:29] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:03:29] [INFO] [BloodyFeet:Player] Footprint scene loaded
[10:03:29] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[10:03:29] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[10:03:29] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[10:03:29] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[10:03:29] [INFO] [Player.Weapon] GameManager weapon selection: m16 (AssaultRifle)
[10:03:29] [INFO] [Player.Weapon] Removed default MakarovPM
[10:03:29] [INFO] [Player.Weapon] Equipped AssaultRifle (ammo: 30/30)
[10:03:29] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[10:03:29] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[10:03:29] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[10:03:29] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[10:03:29] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[10:03:29] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[10:03:29] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[10:03:29] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[10:03:29] [INFO] [Player.Homing] Homing activation sound loaded
[10:03:29] [INFO] [Player.Homing] Homing bullets equipped, charges: 6/6
[10:03:29] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 10/10
[10:03:29] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[10:03:29] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[10:03:29] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[10:03:29] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[10:03:29] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[10:03:29] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[10:03:29] [INFO] [BuildingLevel] Child 'Grenadier': script=true, has_died_signal=true
[10:03:29] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[10:03:29] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[10:03:29] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[10:03:29] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[10:03:29] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[10:03:29] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[10:03:29] [INFO] [BuildingLevel] Setting up weapon: m16
[10:03:29] [INFO] [BuildingLevel] AssaultRifle already equipped by C# Player - skipping GDScript weapon swap
[10:03:29] [INFO] [ScoreManager] Level started with 10 enemies
[10:03:29] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[10:03:29] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[10:03:29] [INFO] [ReplayManager] Replay data cleared
[10:03:29] [INFO] [BuildingLevel] Previous replay data cleared
[10:03:29] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[10:03:29] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[10:03:29] [INFO] [ReplayManager] Level: BuildingLevel
[10:03:29] [INFO] [ReplayManager] Player: Player (valid: True)
[10:03:29] [INFO] [ReplayManager] Enemies count: 10
[10:03:29] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[10:03:29] [INFO] [ReplayManager]   Enemy 0: Enemy1
[10:03:29] [INFO] [ReplayManager]   Enemy 1: Enemy2
[10:03:29] [INFO] [ReplayManager]   Enemy 2: Enemy3
[10:03:29] [INFO] [ReplayManager]   Enemy 3: Enemy4
[10:03:29] [INFO] [ReplayManager]   Enemy 4: Grenadier
[10:03:29] [INFO] [ReplayManager]   Enemy 5: Enemy6
[10:03:29] [INFO] [ReplayManager]   Enemy 6: Enemy7
[10:03:29] [INFO] [ReplayManager]   Enemy 7: Enemy8
[10:03:29] [INFO] [ReplayManager]   Enemy 8: Enemy9
[10:03:29] [INFO] [ReplayManager]   Enemy 9: Enemy10
[10:03:29] [INFO] [BuildingLevel] Replay recording started successfully
[10:03:29] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[10:03:29] [INFO] [CinemaEffects] Found player node: Player
[10:03:29] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[10:03:29] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[10:03:29] [ENEMY] [Enemy1] Registered as sound listener
[10:03:29] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 2, behavior: GUARD
[10:03:29] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[10:03:29] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[10:03:29] [ENEMY] [Enemy2] Registered as sound listener
[10:03:29] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 4, behavior: GUARD
[10:03:29] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[10:03:29] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[10:03:29] [ENEMY] [Enemy3] Registered as sound listener
[10:03:29] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 4, behavior: GUARD
[10:03:29] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[10:03:29] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[10:03:29] [ENEMY] [Enemy4] Registered as sound listener
[10:03:29] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 2, behavior: GUARD
[10:03:29] [INFO] [BloodyFeet:Grenadier] Blood detector created and attached to Grenadier
[10:03:29] [INFO] [SoundPropagation] Registered listener: Grenadier (total: 15)
[10:03:29] [ENEMY] [Grenadier] Registered as sound listener
[10:03:29] [ENEMY] [Grenadier] Spawned at (1700, 350), hp: 2, behavior: GUARD
[10:03:29] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[10:03:29] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[10:03:29] [ENEMY] [Enemy6] Registered as sound listener
[10:03:29] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 2, behavior: GUARD
[10:03:29] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[10:03:29] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[10:03:29] [ENEMY] [Enemy7] Registered as sound listener
[10:03:29] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 4, behavior: PATROL
[10:03:29] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[10:03:29] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[10:03:29] [ENEMY] [Enemy8] Registered as sound listener
[10:03:29] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 4, behavior: GUARD
[10:03:29] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[10:03:29] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[10:03:29] [ENEMY] [Enemy9] Registered as sound listener
[10:03:29] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 4, behavior: GUARD
[10:03:29] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[10:03:29] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[10:03:29] [ENEMY] [Enemy10] Registered as sound listener
[10:03:29] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 3, behavior: PATROL
[10:03:29] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[10:03:29] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[10:03:29] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[10:03:29] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[10:03:29] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[10:03:29] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[10:03:29] [ENEMY] [Grenadier] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[10:03:29] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[10:03:29] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=123.7°, current=0.0°, player=(450,1249), corner_timer=0.00
[10:03:29] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[10:03:29] [INFO] [Player] Detecting weapon pose (frame 3)...
[10:03:29] [INFO] [Player] Detected weapon: Rifle (default pose)
[10:03:29] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[10:03:29] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[10:03:29] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[10:03:29] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[10:03:29] [INFO] [LastChance] Found player: Player
[10:03:29] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[10:03:29] [INFO] [LastChance] Connected to player Damaged signal (C#)
[10:03:29] [INFO] [LastChance] Connected to player Died signal (C#)
[10:03:29] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[10:03:29] [INFO] [BloodDecal] Blood puddle created at (706.7249, 976.943) (added to group)
[10:03:29] [INFO] [BloodDecal] Blood puddle created at (813.8087, 993.9169) (added to group)
[10:03:30] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[10:03:30] [INFO] [Player.Homing] Homing activated! Duration: 1s, charges remaining: 5/6
[10:03:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(384.9751, 975.1647), source=PLAYER (AssaultRifle), range=1469, listeners=20
[10:03:31] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[10:03:31] [ENEMY] [Enemy2] Heard gunshot at (384.9751, 975.1647), source_type=0, intensity=0.01, distance=425
[10:03:31] [ENEMY] [Enemy3] Heard gunshot at (384.9751, 975.1647), source_type=0, intensity=0.02, distance=387
[10:03:31] [ENEMY] [Enemy4] Heard gunshot at (384.9751, 975.1647), source_type=0, intensity=0.01, distance=422
[10:03:31] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=4
[10:03:31] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=92.0°, current=-157.5°, player=(384,975), corner_timer=0.00
[10:03:31] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=144.4°, current=11.3°, player=(384,975), corner_timer=0.00
[10:03:31] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=169.7°, current=-67.5°, player=(384,975), corner_timer=0.00
[10:03:31] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[10:03:31] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[10:03:31] [ENEMY] [Enemy1] Memory: medium confidence (0.62) - transitioning to PURSUING
[10:03:31] [ENEMY] [Enemy1] State: IDLE -> PURSUING
[10:03:31] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(384,975), corner_timer=0.30
[10:03:31] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(384,975), corner_timer=0.30
[10:03:31] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=82.3°, current=-33.8°, player=(384,975), corner_timer=0.00
[10:03:31] [ENEMY] [Enemy1] PURSUING corner check: angle -50.9°
[10:03:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(384.9751, 975.1647), source=PLAYER (AssaultRifle), range=1469, listeners=10
[10:03:31] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=4
[10:03:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(384.9751, 975.1647), source=PLAYER (AssaultRifle), range=1469, listeners=10
[10:03:31] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=4
[10:03:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(384.9751, 975.1647), source=PLAYER (AssaultRifle), range=1469, listeners=10
[10:03:31] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=4
[10:03:31] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(384,975), corner_timer=-0.02
[10:03:31] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[10:03:31] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(384,975), corner_timer=-0.02
[10:03:31] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[10:03:31] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(384,975), corner_timer=0.30
[10:03:31] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(384,975), corner_timer=0.30
[10:03:31] [ENEMY] [Enemy1] PURSUING corner check: angle -51.1°
[10:03:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(384.9751, 975.1647), source=PLAYER (AssaultRifle), range=1469, listeners=10
[10:03:31] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=4
[10:03:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(384.97507, 975.1647), shooter_id=1371453526757, bullet_pos=(908.81824, 656.1881)
[10:03:31] [INFO] [Bullet] Using shooter_position, distance=613,31696
[10:03:31] [INFO] [Bullet] Distance to wall: 613,31696 (41,761883% of viewport)
[10:03:31] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[10:03:31] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[10:03:31] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[10:03:31] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[10:03:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(384.9751, 975.1647), source=PLAYER (AssaultRifle), range=1469, listeners=10
[10:03:31] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=4
[10:03:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(384.97507, 975.1647), shooter_id=1371453526757, bullet_pos=(908.187, 655.154)
[10:03:31] [INFO] [Bullet] Using shooter_position, distance=613,31683
[10:03:31] [INFO] [Bullet] Distance to wall: 613,31683 (41,76187% of viewport)
[10:03:31] [INFO] [Bullet] Distance-based penetration chance: 97,94449%
[10:03:31] [INFO] [Bullet] Starting wall penetration at (908.187, 655.154)
[10:03:31] [INFO] [Bullet] Raycast backward hit penetrating body at distance 13,532308
[10:03:31] [INFO] [Bullet] Body exited signal received for penetrating body
[10:03:31] [INFO] [Bullet] Exiting penetration at (947.22235, 680.6554) after traveling 41,66667 pixels through wall
[10:03:31] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[10:03:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(384.97507, 975.1647), shooter_id=1371453526757, bullet_pos=(1518.6058, 780.97833)
[10:03:31] [INFO] [Bullet] Using shooter_position, distance=1150,1422
[10:03:31] [INFO] [Bullet] Distance to wall: 1150,1422 (78,3153% of viewport)
[10:03:31] [ENEMY] [Enemy3] Hit: dmg=1, hp=4/4->3/4
[10:03:31] [INFO] [ImpactEffects] spawn_blood_effect called at (582.8489, 833.7339), dir=(1, 0), lethal=false
[10:03:31] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[10:03:31] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[10:03:31] [INFO] [ImpactEffects] Wall found for blood splatter at (680, 833.7339) (dist=97 px)
[10:03:31] [INFO] [BloodDecal] Blood puddle created at (679, 833.7339) (added to group)
[10:03:31] [INFO] [ImpactEffects] Blood effect spawned at (582.8489, 833.7339) (scale=1)
[10:03:31] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.1°, player=(384,975), corner_timer=-0.01
[10:03:31] [ENEMY] [Enemy10] PATROL corner check: angle 7.1°
[10:03:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(384.9751, 975.1647), source=PLAYER (AssaultRifle), range=1469, listeners=10
[10:03:31] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[10:03:31] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.1°, current=16.2°, player=(384,975), corner_timer=0.30
[10:03:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(384.97507, 975.1647), shooter_id=1371453526757, bullet_pos=(925.6938, 614.5704)
[10:03:31] [INFO] [Bullet] Using shooter_position, distance=649,92694
[10:03:31] [INFO] [Bullet] Distance to wall: 649,92694 (44,254723% of viewport)
[10:03:31] [ENEMY] [Enemy1] PURSUING corner check: angle 153.7°
[10:03:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(384.97507, 975.1647), shooter_id=1371453526757, bullet_pos=(1543.1321, 782.4774)
[10:03:31] [INFO] [Bullet] Using shooter_position, distance=1174,0767
[10:03:31] [INFO] [Bullet] Distance to wall: 1174,0767 (79,94504% of viewport)
[10:03:31] [INFO] [Bullet] Distance-based penetration chance: 53,397453%
[10:03:31] [INFO] [Bullet] Starting wall penetration at (1543.1321, 782.4774)
[10:03:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(384.97507, 975.1647), shooter_id=1371453526757, bullet_pos=(1694.5012, 619.5393)
[10:03:31] [INFO] [Bullet] Using shooter_position, distance=1356,9554
[10:03:31] [INFO] [Bullet] Distance to wall: 1356,9554 (92,3976% of viewport)
[10:03:31] [INFO] [Bullet] Raycast backward hit penetrating body at distance 12,093493
[10:03:31] [INFO] [Bullet] Body exited signal received for penetrating body
[10:03:31] [INFO] [Bullet] Exiting penetration at (1571.6656, 808.07587) after traveling 33,333332 pixels through wall
[10:03:31] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[10:03:31] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(384.9751, 975.1647), source=PLAYER (AssaultRifle), range=1469, listeners=10
[10:03:31] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[10:03:31] [ENEMY] [Enemy3] State: PURSUING -> RETREATING
[10:03:31] [ENEMY] [Enemy4] State: PURSUING -> RETREATING
[10:03:31] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[10:03:31] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[10:03:31] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[10:03:31] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[10:03:31] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(384.97507, 975.1647), shooter_id=1371453526757, bullet_pos=(923.1837, 610.6585)
[10:03:31] [INFO] [Bullet] Using shooter_position, distance=650,0256
[10:03:31] [INFO] [Bullet] Distance to wall: 650,0256 (44,261436% of viewport)
[10:03:31] [INFO] [BloodDecal] Blood puddle created at (631.3101, 861.4005) (added to group)
[10:03:31] [INFO] [Player.Homing] Homing effect expired, charges remaining: 5/6
[10:03:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(384.9751, 975.1647), source=PLAYER (AssaultRifle), range=1469, listeners=10
[10:03:32] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[10:03:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(384.97507, 975.1647), shooter_id=1371453526757, bullet_pos=(919.61914, 618.0874)
[10:03:32] [INFO] [Bullet] Using shooter_position, distance=642,9218
[10:03:32] [INFO] [Bullet] Distance to wall: 642,9218 (43,777733% of viewport)
[10:03:32] [INFO] [BloodDecal] Blood puddle created at (639.271, 846.8134) (added to group)
[10:03:32] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=7.0°, player=(384,975), corner_timer=-0.01
[10:03:32] [ENEMY] [Enemy10] PATROL corner check: angle 3.7°
[10:03:32] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.7°, current=9.2°, player=(384,975), corner_timer=0.30
[10:03:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(384.9751, 975.1647), source=PLAYER (AssaultRifle), range=1469, listeners=10
[10:03:32] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[10:03:32] [INFO] [BloodDecal] Blood puddle created at (674.4716, 874.0153) (added to group)
[10:03:32] [INFO] [BloodDecal] Blood puddle created at (717.9743, 915.7693) (added to group)
[10:03:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(384.97507, 975.1647), shooter_id=1371453526757, bullet_pos=(919.5766, 618.0237)
[10:03:32] [INFO] [Bullet] Using shooter_position, distance=642,9219
[10:03:32] [INFO] [Bullet] Distance to wall: 642,9219 (43,777733% of viewport)
[10:03:32] [INFO] [BloodDecal] Blood puddle created at (726.4302, 936.5925) (added to group)
[10:03:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(384.9751, 975.1647), source=PLAYER (AssaultRifle), range=1469, listeners=10
[10:03:32] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[10:03:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(384.9751, 975.1647), source=PLAYER (AssaultRifle), range=1469, listeners=10
[10:03:32] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[10:03:32] [INFO] [BloodDecal] Blood puddle created at (684.6543, 960.1552) (added to group)
[10:03:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(384.97507, 975.1647), shooter_id=1371453526757, bullet_pos=(808.00995, 48.49146)
[10:03:32] [INFO] [Bullet] Using shooter_position, distance=1018,6666
[10:03:32] [INFO] [Bullet] Distance to wall: 1018,6666 (69,362885% of viewport)
[10:03:32] [INFO] [BloodDecal] Blood puddle created at (700.9229, 934.9894) (added to group)
[10:03:32] [INFO] [ReplayManager] Recording frame 180 (2,8s): player_valid=True, enemies=10
[10:03:32] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.6°, player=(384,975), corner_timer=-0.01
[10:03:32] [ENEMY] [Enemy10] PATROL corner check: angle 1.9°
[10:03:32] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.9°, current=5.9°, player=(384,975), corner_timer=0.30
[10:03:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(384.9751, 975.1647), source=PLAYER (AssaultRifle), range=1469, listeners=10
[10:03:32] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[10:03:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(384.97507, 975.1647), shooter_id=1371453526757, bullet_pos=(807.9937, 48.484474)
[10:03:32] [INFO] [Bullet] Using shooter_position, distance=1018,6662
[10:03:32] [INFO] [Bullet] Distance to wall: 1018,6662 (69,362854% of viewport)
[10:03:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(384.9751, 975.1647), source=PLAYER (AssaultRifle), range=1469, listeners=10
[10:03:32] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[10:03:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(384.97507, 975.1647), shooter_id=1371453526757, bullet_pos=(808.01025, 48.491837)
[10:03:32] [INFO] [Bullet] Using shooter_position, distance=1018,66644
[10:03:32] [INFO] [Bullet] Distance to wall: 1018,66644 (69,36287% of viewport)
[10:03:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(384.9751, 975.1647), source=PLAYER (AssaultRifle), range=1469, listeners=10
[10:03:32] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[10:03:32] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(384.97507, 975.1647), shooter_id=1371453526757, bullet_pos=(808.03796, 48.503723)
[10:03:32] [INFO] [Bullet] Using shooter_position, distance=1018,6671
[10:03:32] [INFO] [Bullet] Distance to wall: 1018,6671 (69,36292% of viewport)
[10:03:32] [INFO] [Bullet] Distance-based penetration chance: 65,74326%
[10:03:32] [INFO] [Bullet] Penetration failed (distance roll)
[10:03:32] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.9°, player=(384,975), corner_timer=-0.01
[10:03:32] [ENEMY] [Enemy10] PATROL corner check: angle 1.0°
[10:03:32] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.0°, current=4.2°, player=(384,975), corner_timer=0.30
[10:03:32] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(384.9751, 975.1647), source=PLAYER (AssaultRifle), range=1469, listeners=10
[10:03:32] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[10:03:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(384.97507, 975.1647), shooter_id=1371453526757, bullet_pos=(808.0569, 48.51262)
[10:03:33] [INFO] [Bullet] Using shooter_position, distance=1018,6669
[10:03:33] [INFO] [Bullet] Distance to wall: 1018,6669 (69,3629% of viewport)
[10:03:33] [INFO] [Bullet] Distance-based penetration chance: 65,74328%
[10:03:33] [INFO] [Bullet] Penetration failed (distance roll)
[10:03:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(384.97507, 975.1647), shooter_id=1371453526757, bullet_pos=(808.06995, 48.518612)
[10:03:33] [INFO] [Bullet] Using shooter_position, distance=1018,6669
[10:03:33] [INFO] [Bullet] Distance to wall: 1018,6669 (69,3629% of viewport)
[10:03:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(384.97507, 975.1647), shooter_id=1371453526757, bullet_pos=(808.0795, 48.52358)
[10:03:33] [INFO] [Bullet] Using shooter_position, distance=1018,6663
[10:03:33] [INFO] [Bullet] Distance to wall: 1018,6663 (69,36287% of viewport)
[10:03:33] [INFO] [Bullet] Distance-based penetration chance: 65,743324%
[10:03:33] [INFO] [Bullet] Starting wall penetration at (808.0795, 48.52358)
[10:03:33] [INFO] [Bullet] Raycast backward hit penetrating body at distance 20,168789
[10:03:33] [INFO] [Bullet] Body exited signal received for penetrating body
[10:03:33] [INFO] [Bullet] Exiting penetration at (824.00134, 13.65324) after traveling 33,333336 pixels through wall
[10:03:33] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[10:03:33] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[10:03:33] [ENEMY] [Enemy2] FLANKING started: target=(197.9608, 904.2728), side=left, pos=(334.3454, 663.933)
[10:03:33] [ENEMY] [Enemy2] State: PURSUING -> FLANKING
[10:03:33] [ENEMY] [Enemy2] FLANKING corner check: angle -40.6°
[10:03:33] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(384.97507, 975.1647), shooter_id=1371453526757, bullet_pos=(808.08673, 48.52694)
[10:03:33] [INFO] [Bullet] Using shooter_position, distance=1018,6663
[10:03:33] [INFO] [Bullet] Distance to wall: 1018,6663 (69,36287% of viewport)
[10:03:33] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[10:03:33] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:03:33] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[10:03:33] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[10:03:33] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[10:03:33] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[10:03:33] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[10:03:33] [INFO] [LastChance] Resetting all effects (scene change detected)
[10:03:33] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[10:03:33] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[10:03:33] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[10:03:33] [ENEMY] [Enemy1] Death animation component initialized
[10:03:33] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:03:33] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[10:03:33] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[10:03:33] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[10:03:33] [ENEMY] [Enemy2] Death animation component initialized
[10:03:33] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:03:33] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[10:03:33] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[10:03:33] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[10:03:33] [ENEMY] [Enemy3] Death animation component initialized
[10:03:33] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:03:33] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[10:03:33] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[10:03:33] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[10:03:33] [ENEMY] [Enemy4] Death animation component initialized
[10:03:33] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:03:33] [INFO] [BloodyFeet:Grenadier] Footprint scene loaded
[10:03:33] [INFO] [BloodyFeet:Grenadier] Found EnemyModel for facing direction
[10:03:33] [INFO] [BloodyFeet:Grenadier] BloodyFeetComponent ready on Grenadier
[10:03:33] [INFO] [EnemyGrenade] Grenade bag built (normal): [Flashbang, Flashbang, Flashbang, Offensive, Offensive, Offensive, Offensive, Offensive]
[10:03:33] [INFO] [EnemyGrenade] Grenadier initialized: 8 grenades in bag
[10:03:33] [ENEMY] [Grenadier] Death animation component initialized
[10:03:33] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:03:33] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[10:03:33] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[10:03:33] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[10:03:33] [ENEMY] [Enemy6] Death animation component initialized
[10:03:33] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:03:33] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[10:03:33] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[10:03:33] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[10:03:33] [ENEMY] [Enemy7] Death animation component initialized
[10:03:33] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:03:33] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[10:03:33] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[10:03:33] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[10:03:33] [ENEMY] [Enemy8] Death animation component initialized
[10:03:33] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:03:33] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[10:03:33] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[10:03:33] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[10:03:33] [ENEMY] [Enemy9] Death animation component initialized
[10:03:33] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:03:33] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[10:03:33] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[10:03:33] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[10:03:33] [ENEMY] [Enemy10] Death animation component initialized
[10:03:33] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:03:33] [INFO] [BloodyFeet:Player] Footprint scene loaded
[10:03:33] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[10:03:33] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[10:03:33] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[10:03:33] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[10:03:33] [INFO] [Player.Weapon] GameManager weapon selection: m16 (AssaultRifle)
[10:03:33] [INFO] [Player.Weapon] Removed default MakarovPM
[10:03:33] [INFO] [Player.Weapon] Equipped AssaultRifle (ammo: 30/30)
[10:03:33] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[10:03:33] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[10:03:33] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[10:03:33] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[10:03:33] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[10:03:33] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[10:03:33] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[10:03:33] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[10:03:33] [INFO] [Player.Homing] Homing activation sound loaded
[10:03:33] [INFO] [Player.Homing] Homing bullets equipped, charges: 6/6
[10:03:33] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 10/10
[10:03:33] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[10:03:33] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[10:03:33] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[10:03:33] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[10:03:33] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[10:03:33] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[10:03:33] [INFO] [BuildingLevel] Child 'Grenadier': script=true, has_died_signal=true
[10:03:33] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[10:03:33] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[10:03:33] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[10:03:33] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[10:03:33] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[10:03:33] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[10:03:33] [INFO] [BuildingLevel] Setting up weapon: m16
[10:03:33] [INFO] [BuildingLevel] AssaultRifle already equipped by C# Player - skipping GDScript weapon swap
[10:03:33] [INFO] [ScoreManager] Level started with 10 enemies
[10:03:33] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[10:03:33] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[10:03:33] [INFO] [ReplayManager] Replay data cleared
[10:03:33] [INFO] [BuildingLevel] Previous replay data cleared
[10:03:33] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[10:03:33] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[10:03:33] [INFO] [ReplayManager] Level: BuildingLevel
[10:03:33] [INFO] [ReplayManager] Player: Player (valid: True)
[10:03:33] [INFO] [ReplayManager] Enemies count: 10
[10:03:33] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[10:03:33] [INFO] [ReplayManager]   Enemy 0: Enemy1
[10:03:33] [INFO] [ReplayManager]   Enemy 1: Enemy2
[10:03:33] [INFO] [ReplayManager]   Enemy 2: Enemy3
[10:03:33] [INFO] [ReplayManager]   Enemy 3: Enemy4
[10:03:33] [INFO] [ReplayManager]   Enemy 4: Grenadier
[10:03:33] [INFO] [ReplayManager]   Enemy 5: Enemy6
[10:03:33] [INFO] [ReplayManager]   Enemy 6: Enemy7
[10:03:33] [INFO] [ReplayManager]   Enemy 7: Enemy8
[10:03:33] [INFO] [ReplayManager]   Enemy 8: Enemy9
[10:03:33] [INFO] [ReplayManager]   Enemy 9: Enemy10
[10:03:33] [INFO] [BuildingLevel] Replay recording started successfully
[10:03:33] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[10:03:33] [INFO] [CinemaEffects] Found player node: Player
[10:03:33] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[10:03:33] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[10:03:33] [ENEMY] [Enemy1] Registered as sound listener
[10:03:33] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 4, behavior: GUARD
[10:03:33] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[10:03:33] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[10:03:33] [ENEMY] [Enemy2] Registered as sound listener
[10:03:33] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 3, behavior: GUARD
[10:03:33] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[10:03:33] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[10:03:33] [ENEMY] [Enemy3] Registered as sound listener
[10:03:33] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 2, behavior: GUARD
[10:03:33] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[10:03:33] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[10:03:33] [ENEMY] [Enemy4] Registered as sound listener
[10:03:33] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 3, behavior: GUARD
[10:03:33] [INFO] [BloodyFeet:Grenadier] Blood detector created and attached to Grenadier
[10:03:33] [INFO] [SoundPropagation] Registered listener: Grenadier (total: 15)
[10:03:33] [ENEMY] [Grenadier] Registered as sound listener
[10:03:33] [ENEMY] [Grenadier] Spawned at (1700, 350), hp: 2, behavior: GUARD
[10:03:33] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[10:03:33] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[10:03:33] [ENEMY] [Enemy6] Registered as sound listener
[10:03:33] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 2, behavior: GUARD
[10:03:33] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[10:03:33] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[10:03:33] [ENEMY] [Enemy7] Registered as sound listener
[10:03:33] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 4, behavior: PATROL
[10:03:33] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[10:03:33] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[10:03:33] [ENEMY] [Enemy8] Registered as sound listener
[10:03:33] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 4, behavior: GUARD
[10:03:33] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[10:03:33] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[10:03:33] [ENEMY] [Enemy9] Registered as sound listener
[10:03:33] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 2, behavior: GUARD
[10:03:33] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[10:03:33] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[10:03:33] [ENEMY] [Enemy10] Registered as sound listener
[10:03:33] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 3, behavior: PATROL
[10:03:33] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[10:03:33] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[10:03:33] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[10:03:33] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[10:03:33] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[10:03:33] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[10:03:33] [ENEMY] [Grenadier] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[10:03:33] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[10:03:33] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=213.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[10:03:33] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[10:03:33] [INFO] [Player] Detecting weapon pose (frame 3)...
[10:03:33] [INFO] [Player] Detected weapon: Rifle (default pose)
[10:03:33] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[10:03:33] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[10:03:33] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[10:03:33] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[10:03:33] [INFO] [LastChance] Found player: Player
[10:03:33] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[10:03:33] [INFO] [LastChance] Connected to player Damaged signal (C#)
[10:03:33] [INFO] [LastChance] Connected to player Died signal (C#)
[10:03:33] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[10:03:34] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[10:03:35] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[10:03:35] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[10:03:35] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(385,943), corner_timer=0.30
[10:03:35] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(385,943), corner_timer=0.30
[10:03:35] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(385,943), corner_timer=-0.02
[10:03:35] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[10:03:35] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(385,943), corner_timer=-0.02
[10:03:35] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[10:03:35] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(385,943), corner_timer=0.30
[10:03:35] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(385,943), corner_timer=0.30
[10:03:35] [INFO] [Player.Homing] Homing activated! Duration: 1s, charges remaining: 5/6
[10:03:35] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[10:03:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(385.5169, 943.1543), source=PLAYER (AssaultRifle), range=1469, listeners=20
[10:03:35] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[10:03:35] [ENEMY] [Enemy2] Heard gunshot at (385.5169, 943.1543), source_type=0, intensity=0.02, distance=393
[10:03:35] [ENEMY] [Enemy3] Heard gunshot at (385.5169, 943.1543), source_type=0, intensity=0.02, distance=369
[10:03:35] [ENEMY] [Enemy4] Heard gunshot at (385.5169, 943.1543), source_type=0, intensity=0.01, distance=417
[10:03:35] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=4
[10:03:35] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=92.1°, current=-101.3°, player=(385,943), corner_timer=0.00
[10:03:35] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=148.4°, current=-168.8°, player=(385,943), corner_timer=0.00
[10:03:35] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=174.1°, current=168.8°, player=(385,943), corner_timer=0.00
[10:03:35] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(385.5169, 943.1543), source=PLAYER (AssaultRifle), range=1469, listeners=10
[10:03:35] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=4
[10:03:35] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(385,943), corner_timer=-0.02
[10:03:35] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[10:03:35] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(385,943), corner_timer=0.30
[10:03:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(385.5169, 943.1543), source=PLAYER (AssaultRifle), range=1469, listeners=10
[10:03:36] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=4
[10:03:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(385.51694, 943.1543), shooter_id=1497030987595, bullet_pos=(936.1545, 763.53094)
[10:03:36] [INFO] [Bullet] Using shooter_position, distance=579,1945
[10:03:36] [INFO] [Bullet] Distance to wall: 579,1945 (39,43842% of viewport)
[10:03:36] [INFO] [Bullet] Within ricochet range - trying ricochet first
[10:03:36] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[10:03:36] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P4:velocity, state=RETREATING, target=148.4°, current=28.4°, player=(385,943), corner_timer=0.00
[10:03:36] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[10:03:36] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[10:03:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(385.5169, 943.1543), source=PLAYER (AssaultRifle), range=1469, listeners=10
[10:03:36] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=4
[10:03:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(385.51694, 943.1543), shooter_id=1497030987595, bullet_pos=(936.0863, 763.32227)
[10:03:36] [INFO] [Bullet] Using shooter_position, distance=579,1944
[10:03:36] [INFO] [Bullet] Distance to wall: 579,1944 (39,43841% of viewport)
[10:03:36] [INFO] [Bullet] Within ricochet range - trying ricochet first
[10:03:36] [INFO] [Bullet] Starting wall penetration at (936.0863, 763.32227)
[10:03:36] [INFO] [Bullet] Raycast backward hit penetrating body at distance 46,775284
[10:03:36] [INFO] [Bullet] Body exited signal received for penetrating body
[10:03:36] [INFO] [Bullet] Exiting penetration at (973.16034, 791.66473) after traveling 41,666668 pixels through wall
[10:03:36] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[10:03:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(385.51694, 943.1543), shooter_id=1497030987595, bullet_pos=(712.0249, 997.15485)
[10:03:36] [INFO] [Bullet] Using shooter_position, distance=330,94336
[10:03:36] [INFO] [Bullet] Distance to wall: 330,94336 (22,534544% of viewport)
[10:03:36] [INFO] [Bullet] Within ricochet range - trying ricochet first
[10:03:36] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(385,943), corner_timer=-0.02
[10:03:36] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[10:03:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(385.5169, 943.1543), source=PLAYER (AssaultRifle), range=1469, listeners=10
[10:03:36] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=4
[10:03:36] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.6°, player=(385,943), corner_timer=0.30
[10:03:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(385.51694, 943.1543), shooter_id=1497030987595, bullet_pos=(927.26746, 704.0867)
[10:03:36] [INFO] [Bullet] Using shooter_position, distance=592,1545
[10:03:36] [INFO] [Bullet] Distance to wall: 592,1545 (40,32089% of viewport)
[10:03:36] [ENEMY] [Enemy1] Memory: medium confidence (0.58) - transitioning to PURSUING
[10:03:36] [ENEMY] [Enemy1] State: IDLE -> PURSUING
[10:03:36] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[10:03:36] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[10:03:36] [ENEMY] [Enemy3] Hit: dmg=1, hp=2/2->1/2
[10:03:36] [INFO] [ImpactEffects] spawn_blood_effect called at (609.1084, 805.8252), dir=(1, 0), lethal=false
[10:03:36] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[10:03:36] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[10:03:36] [INFO] [ImpactEffects] Blood effect spawned at (609.1084, 805.8252) (scale=1)
[10:03:36] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=81.8°, current=168.8°, player=(385,943), corner_timer=0.00
[10:03:36] [ENEMY] [Enemy4] State: PURSUING -> RETREATING
[10:03:36] [ENEMY] [Enemy1] PURSUING corner check: angle -50.9°
[10:03:36] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P4:velocity, state=RETREATING, target=180.0°, current=-102.6°, player=(385,943), corner_timer=0.00
[10:03:36] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[10:03:36] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[10:03:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(385.5169, 943.1543), source=PLAYER (AssaultRifle), range=1469, listeners=10
[10:03:36] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=4
[10:03:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(385.51694, 943.1543), shooter_id=1497030987595, bullet_pos=(934.7783, 707.10254)
[10:03:36] [INFO] [Bullet] Using shooter_position, distance=597,8365
[10:03:36] [INFO] [Bullet] Distance to wall: 597,8365 (40,707787% of viewport)
[10:03:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(385.51694, 943.1543), shooter_id=1497030987595, bullet_pos=(700.1529, 815.3782)
[10:03:36] [INFO] [Bullet] Using shooter_position, distance=339,59167
[10:03:36] [INFO] [Bullet] Distance to wall: 339,59167 (23,123423% of viewport)
[10:03:36] [INFO] [Bullet] Within ricochet range - trying ricochet first
[10:03:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(385.5169, 943.1543), source=PLAYER (AssaultRifle), range=1469, listeners=10
[10:03:36] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=4
[10:03:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(385.51694, 943.1543), shooter_id=1497030987595, bullet_pos=(912.43164, 690.23535)
[10:03:36] [INFO] [Bullet] Using shooter_position, distance=584,4716
[10:03:36] [INFO] [Bullet] Distance to wall: 584,4716 (39,79775% of viewport)
[10:03:36] [INFO] [Bullet] Within ricochet range - trying ricochet first
[10:03:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(385.51694, 943.1543), shooter_id=1497030987595, bullet_pos=(728.48315, 812.51434)
[10:03:36] [INFO] [Bullet] Using shooter_position, distance=367,00494
[10:03:36] [INFO] [Bullet] Distance to wall: 367,00494 (24,990042% of viewport)
[10:03:36] [INFO] [Bullet] Within ricochet range - trying ricochet first
[10:03:36] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(385,943), corner_timer=-0.01
[10:03:36] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[10:03:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(385.5169, 943.1543), source=PLAYER (AssaultRifle), range=1469, listeners=10
[10:03:36] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=4
[10:03:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(385.51694, 943.1543), shooter_id=1497030987595, bullet_pos=(399.19702, 714.9146)
[10:03:36] [INFO] [Bullet] Using shooter_position, distance=228,64929
[10:03:36] [INFO] [Bullet] Distance to wall: 228,64929 (15,569152% of viewport)
[10:03:36] [INFO] [Bullet] Within ricochet range - trying ricochet first
[10:03:36] [INFO] [Bullet] Starting wall penetration at (399.19702, 714.9146)
[10:03:36] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.8°, current=5.7°, player=(385,943), corner_timer=0.30
[10:03:36] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[10:03:36] [INFO] [Bullet] Exiting penetration at (371.35376, 706.51263) after traveling 24,083336 pixels through wall
[10:03:36] [INFO] [Bullet] Damage multiplier after penetration: 0,225
[10:03:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(385.51694, 943.1543), shooter_id=1497030987595, bullet_pos=(913.7562, 730.1813)
[10:03:36] [INFO] [Bullet] Using shooter_position, distance=569,55615
[10:03:36] [INFO] [Bullet] Distance to wall: 569,55615 (38,782127% of viewport)
[10:03:36] [INFO] [Bullet] Within ricochet range - trying ricochet first
[10:03:36] [INFO] [Bullet] Starting wall penetration at (913.7562, 730.1813)
[10:03:36] [INFO] [Bullet] Raycast backward hit penetrating body at distance 10,719842
[10:03:36] [INFO] [Bullet] Body exited signal received for penetrating body
[10:03:36] [INFO] [Bullet] Exiting penetration at (944.51855, 753.0118) after traveling 33,333336 pixels through wall
[10:03:36] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[10:03:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(385.51694, 943.1543), shooter_id=1497030987595, bullet_pos=(684.1177, 814.6251)
[10:03:36] [INFO] [Bullet] Using shooter_position, distance=325,08792
[10:03:36] [INFO] [Bullet] Distance to wall: 325,08792 (22,135834% of viewport)
[10:03:36] [INFO] [Bullet] Within ricochet range - trying ricochet first
[10:03:36] [INFO] [Bullet] Starting wall penetration at (684.1177, 814.6251)
[10:03:36] [INFO] [Player.Homing] Homing effect expired, charges remaining: 5/6
[10:03:36] [INFO] [Bullet] Raycast backward hit penetrating body at distance 28,644173
[10:03:36] [INFO] [Bullet] Body exited signal received for penetrating body
[10:03:36] [INFO] [Bullet] Exiting penetration at (654.8467, 830.5725) after traveling 28,333334 pixels through wall
[10:03:36] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[10:03:36] [INFO] [ReplayManager] Recording frame 180 (2,9s): player_valid=True, enemies=10
[10:03:36] [ENEMY] [Enemy1] PURSUING corner check: angle -51.6°
[10:03:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(385.5169, 943.1543), source=PLAYER (AssaultRifle), range=1469, listeners=10
[10:03:36] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=4
[10:03:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(385.51694, 943.1543), shooter_id=1497030987595, bullet_pos=(401.30084, 713.15814)
[10:03:36] [INFO] [Bullet] Using shooter_position, distance=230,53712
[10:03:36] [INFO] [Bullet] Distance to wall: 230,53712 (15,697697% of viewport)
[10:03:36] [INFO] [Bullet] Within ricochet range - trying ricochet first
[10:03:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(385.51694, 943.1543), shooter_id=1497030987595, bullet_pos=(913.7531, 730.1732)
[10:03:36] [INFO] [Bullet] Using shooter_position, distance=569,55634
[10:03:36] [INFO] [Bullet] Distance to wall: 569,55634 (38,78214% of viewport)
[10:03:36] [INFO] [Bullet] Within ricochet range - trying ricochet first
[10:03:36] [INFO] [Bullet] Starting wall penetration at (913.7531, 730.1732)
[10:03:36] [INFO] [Bullet] Raycast backward hit penetrating body at distance 10,716203
[10:03:36] [INFO] [Bullet] Body exited signal received for penetrating body
[10:03:36] [INFO] [Bullet] Exiting penetration at (944.51575, 753.00323) after traveling 33,333332 pixels through wall
[10:03:36] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[10:03:36] [ENEMY] [Enemy2] State: PURSUING -> RETREATING
[10:03:36] [ENEMY] [Enemy2] State: RETREATING -> IN_COVER
[10:03:36] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(385.5169, 943.1543), source=PLAYER (AssaultRifle), range=1469, listeners=10
[10:03:36] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=4
[10:03:36] [ENEMY] [Enemy2] State: IN_COVER -> SUPPRESSED
[10:03:36] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(385.51694, 943.1543), shooter_id=1497030987595, bullet_pos=(913.7514, 730.1692)
[10:03:36] [INFO] [Bullet] Using shooter_position, distance=569,5563
[10:03:36] [INFO] [Bullet] Distance to wall: 569,5563 (38,782135% of viewport)
[10:03:36] [INFO] [Bullet] Within ricochet range - trying ricochet first
[10:03:36] [INFO] [Bullet] Starting wall penetration at (913.7514, 730.1692)
[10:03:36] [INFO] [Bullet] Raycast backward hit penetrating body at distance 10,714212
[10:03:36] [INFO] [Bullet] Body exited signal received for penetrating body
[10:03:36] [INFO] [Bullet] Exiting penetration at (944.5142, 752.999) after traveling 33,333336 pixels through wall
[10:03:36] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[10:03:37] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.8°, player=(385,943), corner_timer=-0.01
[10:03:37] [ENEMY] [Enemy10] PATROL corner check: angle 1.0°
[10:03:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(385.5169, 943.1543), source=PLAYER (AssaultRifle), range=1469, listeners=10
[10:03:37] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[10:03:37] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.0°, current=4.1°, player=(385,943), corner_timer=0.30
[10:03:37] [INFO] [BloodDecal] Blood puddle created at (706.4312, 932.313) (added to group)
[10:03:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(385.51694, 943.1543), shooter_id=1497030987595, bullet_pos=(50.040596, 840.0439)
[10:03:37] [INFO] [Bullet] Using shooter_position, distance=350,9646
[10:03:37] [INFO] [Bullet] Distance to wall: 350,9646 (23,897825% of viewport)
[10:03:37] [INFO] [Bullet] Within ricochet range - trying ricochet first
[10:03:37] [INFO] [Bullet] Starting wall penetration at (50.040596, 840.0439)
[10:03:37] [INFO] [Bullet] Raycast backward hit penetrating body at distance 6,2892814
[10:03:37] [INFO] [Bullet] Body exited signal received for penetrating body
[10:03:37] [INFO] [Bullet] Exiting penetration at (26.084808, 848.69745) after traveling 20,470835 pixels through wall
[10:03:37] [INFO] [Bullet] Damage multiplier after penetration: 0,1125
[10:03:37] [ENEMY] [Enemy1] PURSUING corner check: angle 153.5°
[10:03:37] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(385.5169, 943.1543), source=PLAYER (AssaultRifle), range=1469, listeners=10
[10:03:37] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[10:03:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(385.51694, 943.1543), shooter_id=1497030987595, bullet_pos=(1018.8966, 61.80313)
[10:03:37] [INFO] [Bullet] Using shooter_position, distance=1085,334
[10:03:37] [INFO] [Bullet] Distance to wall: 1085,334 (73,90239% of viewport)
[10:03:37] [INFO] [Bullet] Distance-based penetration chance: 60,447216%
[10:03:37] [INFO] [Bullet] Starting wall penetration at (1018.8966, 61.80313)
[10:03:37] [INFO] [Bullet] Raycast backward hit penetrating body at distance 1,6324484
[10:03:37] [INFO] [Bullet] Max penetration distance exceeded: 66,66667 >= 48
[10:03:37] [INFO] [Bullet] Body exited signal received for penetrating body
[10:03:37] [INFO] [Bullet] Exiting penetration at (1060.7198, 3.6058273) after traveling 66,66667 pixels through wall
[10:03:37] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[10:03:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(385.51694, 943.1543), shooter_id=1497030987595, bullet_pos=(1018.8948, 61.80253)
[10:03:37] [INFO] [Bullet] Using shooter_position, distance=1085,3333
[10:03:37] [INFO] [Bullet] Distance to wall: 1085,3333 (73,902336% of viewport)
[10:03:37] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[10:03:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(385.51694, 943.1543), shooter_id=1497030987595, bullet_pos=(1120.0911, 204.57602)
[10:03:37] [INFO] [Bullet] Using shooter_position, distance=1041,6799
[10:03:37] [INFO] [Bullet] Distance to wall: 1041,6799 (70,9299% of viewport)
[10:03:37] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(385.51694, 943.1543), shooter_id=1497030987595, bullet_pos=(1018.8966, 61.80313)
[10:03:37] [INFO] [Bullet] Using shooter_position, distance=1085,334
[10:03:37] [INFO] [Bullet] Distance to wall: 1085,334 (73,90239% of viewport)
[10:03:37] [INFO] [Bullet] Distance-based penetration chance: 60,447216%
[10:03:37] [INFO] [Bullet] Starting wall penetration at (1018.8966, 61.80313)
[10:03:37] [INFO] [Bullet] Raycast backward hit penetrating body at distance 1,6324484
[10:03:37] [INFO] [Bullet] Max penetration distance exceeded: 66,66667 >= 48
[10:03:37] [INFO] [Bullet] Body exited signal received for penetrating body
[10:03:37] [INFO] [Bullet] Exiting penetration at (1060.7198, 3.6058273) after traveling 66,66667 pixels through wall
[10:03:37] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[10:03:37] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[10:03:37] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:03:37] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[10:03:37] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[10:03:37] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[10:03:37] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[10:03:37] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[10:03:37] [INFO] [LastChance] Resetting all effects (scene change detected)
[10:03:37] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[10:03:37] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[10:03:37] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[10:03:37] [ENEMY] [Enemy1] Death animation component initialized
[10:03:37] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:03:37] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[10:03:37] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[10:03:37] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[10:03:37] [ENEMY] [Enemy2] Death animation component initialized
[10:03:37] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:03:37] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[10:03:37] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[10:03:37] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[10:03:37] [ENEMY] [Enemy3] Death animation component initialized
[10:03:37] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:03:37] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[10:03:37] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[10:03:37] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[10:03:37] [ENEMY] [Enemy4] Death animation component initialized
[10:03:37] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:03:37] [INFO] [BloodyFeet:Grenadier] Footprint scene loaded
[10:03:37] [INFO] [BloodyFeet:Grenadier] Found EnemyModel for facing direction
[10:03:37] [INFO] [BloodyFeet:Grenadier] BloodyFeetComponent ready on Grenadier
[10:03:37] [INFO] [EnemyGrenade] Grenade bag built (normal): [Flashbang, Flashbang, Flashbang, Offensive, Offensive, Offensive, Offensive, Offensive]
[10:03:37] [INFO] [EnemyGrenade] Grenadier initialized: 8 grenades in bag
[10:03:37] [ENEMY] [Grenadier] Death animation component initialized
[10:03:37] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:03:37] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[10:03:37] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[10:03:37] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[10:03:37] [ENEMY] [Enemy6] Death animation component initialized
[10:03:37] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:03:37] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[10:03:37] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[10:03:37] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[10:03:37] [ENEMY] [Enemy7] Death animation component initialized
[10:03:37] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:03:37] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[10:03:37] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[10:03:37] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[10:03:37] [ENEMY] [Enemy8] Death animation component initialized
[10:03:37] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:03:37] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[10:03:37] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[10:03:37] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[10:03:37] [ENEMY] [Enemy9] Death animation component initialized
[10:03:37] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:03:37] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[10:03:37] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[10:03:37] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[10:03:37] [ENEMY] [Enemy10] Death animation component initialized
[10:03:37] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:03:37] [INFO] [BloodyFeet:Player] Footprint scene loaded
[10:03:37] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[10:03:37] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[10:03:37] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[10:03:37] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[10:03:37] [INFO] [Player.Weapon] GameManager weapon selection: m16 (AssaultRifle)
[10:03:37] [INFO] [Player.Weapon] Removed default MakarovPM
[10:03:37] [INFO] [Player.Weapon] Equipped AssaultRifle (ammo: 30/30)
[10:03:37] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[10:03:37] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[10:03:37] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[10:03:37] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[10:03:37] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[10:03:37] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[10:03:37] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[10:03:37] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[10:03:37] [INFO] [Player.Homing] Homing activation sound loaded
[10:03:37] [INFO] [Player.Homing] Homing bullets equipped, charges: 6/6
[10:03:37] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 10/10
[10:03:37] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[10:03:37] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[10:03:37] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[10:03:37] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[10:03:37] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[10:03:37] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[10:03:37] [INFO] [BuildingLevel] Child 'Grenadier': script=true, has_died_signal=true
[10:03:37] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[10:03:37] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[10:03:37] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[10:03:37] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[10:03:37] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[10:03:37] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[10:03:37] [INFO] [BuildingLevel] Setting up weapon: m16
[10:03:37] [INFO] [BuildingLevel] AssaultRifle already equipped by C# Player - skipping GDScript weapon swap
[10:03:37] [INFO] [ScoreManager] Level started with 10 enemies
[10:03:37] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[10:03:37] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[10:03:37] [INFO] [ReplayManager] Replay data cleared
[10:03:37] [INFO] [BuildingLevel] Previous replay data cleared
[10:03:37] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[10:03:37] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[10:03:37] [INFO] [ReplayManager] Level: BuildingLevel
[10:03:37] [INFO] [ReplayManager] Player: Player (valid: True)
[10:03:37] [INFO] [ReplayManager] Enemies count: 10
[10:03:37] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[10:03:37] [INFO] [ReplayManager]   Enemy 0: Enemy1
[10:03:37] [INFO] [ReplayManager]   Enemy 1: Enemy2
[10:03:37] [INFO] [ReplayManager]   Enemy 2: Enemy3
[10:03:37] [INFO] [ReplayManager]   Enemy 3: Enemy4
[10:03:37] [INFO] [ReplayManager]   Enemy 4: Grenadier
[10:03:37] [INFO] [ReplayManager]   Enemy 5: Enemy6
[10:03:37] [INFO] [ReplayManager]   Enemy 6: Enemy7
[10:03:37] [INFO] [ReplayManager]   Enemy 7: Enemy8
[10:03:37] [INFO] [ReplayManager]   Enemy 8: Enemy9
[10:03:37] [INFO] [ReplayManager]   Enemy 9: Enemy10
[10:03:37] [INFO] [BuildingLevel] Replay recording started successfully
[10:03:37] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[10:03:37] [INFO] [CinemaEffects] Found player node: Player
[10:03:37] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[10:03:37] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[10:03:37] [ENEMY] [Enemy1] Registered as sound listener
[10:03:37] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 4, behavior: GUARD
[10:03:37] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[10:03:37] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[10:03:37] [ENEMY] [Enemy2] Registered as sound listener
[10:03:37] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 2, behavior: GUARD
[10:03:37] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[10:03:37] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[10:03:37] [ENEMY] [Enemy3] Registered as sound listener
[10:03:37] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 2, behavior: GUARD
[10:03:37] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[10:03:37] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[10:03:37] [ENEMY] [Enemy4] Registered as sound listener
[10:03:37] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 4, behavior: GUARD
[10:03:37] [INFO] [BloodyFeet:Grenadier] Blood detector created and attached to Grenadier
[10:03:37] [INFO] [SoundPropagation] Registered listener: Grenadier (total: 15)
[10:03:37] [ENEMY] [Grenadier] Registered as sound listener
[10:03:37] [ENEMY] [Grenadier] Spawned at (1700, 350), hp: 2, behavior: GUARD
[10:03:37] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[10:03:37] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[10:03:37] [ENEMY] [Enemy6] Registered as sound listener
[10:03:37] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 3, behavior: GUARD
[10:03:37] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[10:03:37] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[10:03:37] [ENEMY] [Enemy7] Registered as sound listener
[10:03:37] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 3, behavior: PATROL
[10:03:37] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[10:03:37] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[10:03:37] [ENEMY] [Enemy8] Registered as sound listener
[10:03:37] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 4, behavior: GUARD
[10:03:37] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[10:03:37] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[10:03:37] [ENEMY] [Enemy9] Registered as sound listener
[10:03:37] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 4, behavior: GUARD
[10:03:37] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[10:03:37] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[10:03:37] [ENEMY] [Enemy10] Registered as sound listener
[10:03:37] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 2, behavior: PATROL
[10:03:37] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[10:03:37] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[10:03:37] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=33.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[10:03:37] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=45.0°, current=0.0°, player=(450,1249), corner_timer=0.00
[10:03:37] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=123.7°, current=0.0°, player=(450,1249), corner_timer=0.00
[10:03:37] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[10:03:37] [ENEMY] [Grenadier] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[10:03:37] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[10:03:37] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[10:03:37] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[10:03:37] [INFO] [Player] Detecting weapon pose (frame 3)...
[10:03:37] [INFO] [Player] Detected weapon: Rifle (default pose)
[10:03:37] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[10:03:37] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[10:03:37] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[10:03:37] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[10:03:37] [INFO] [LastChance] Found player: Player
[10:03:37] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[10:03:37] [INFO] [LastChance] Connected to player Damaged signal (C#)
[10:03:37] [INFO] [LastChance] Connected to player Died signal (C#)
[10:03:37] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[10:03:38] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[10:03:38] [INFO] [Player.Homing] Homing activated! Duration: 1s, charges remaining: 5/6
[10:03:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(351.3393, 955.3647), source=PLAYER (AssaultRifle), range=1469, listeners=20
[10:03:39] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[10:03:39] [ENEMY] [Enemy2] Heard gunshot at (351.3393, 955.3647), source_type=0, intensity=0.01, distance=408
[10:03:39] [ENEMY] [Enemy3] Heard gunshot at (351.3393, 955.3647), source_type=0, intensity=0.02, distance=405
[10:03:39] [ENEMY] [Enemy4] Heard gunshot at (351.3393, 955.3647), source_type=0, intensity=0.01, distance=452
[10:03:39] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=3
[10:03:39] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=96.8°, current=45.0°, player=(351,955), corner_timer=0.00
[10:03:39] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=149.5°, current=123.7°, player=(351,955), corner_timer=0.00
[10:03:39] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=173.0°, current=-101.3°, player=(351,955), corner_timer=0.00
[10:03:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(351.3393, 955.3647), source=PLAYER (AssaultRifle), range=1469, listeners=10
[10:03:39] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=3
[10:03:39] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[10:03:39] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[10:03:39] [ENEMY] [Enemy1] Memory: medium confidence (0.61) - transitioning to PURSUING
[10:03:39] [ENEMY] [Enemy1] State: IDLE -> PURSUING
[10:03:39] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(351,955), corner_timer=0.30
[10:03:39] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(351,955), corner_timer=0.30
[10:03:39] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=85.2°, current=33.8°, player=(351,955), corner_timer=0.00
[10:03:39] [ENEMY] [Enemy1] PURSUING corner check: angle -50.9°
[10:03:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(351.3393, 955.3647), source=PLAYER (AssaultRifle), range=1469, listeners=10
[10:03:39] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=3
[10:03:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(351.3393, 955.36475), shooter_id=1625645125584, bullet_pos=(932.5099, 759.41)
[10:03:39] [INFO] [Bullet] Using shooter_position, distance=613,31683
[10:03:39] [INFO] [Bullet] Distance to wall: 613,31683 (41,76187% of viewport)
[10:03:39] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[10:03:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(351.3393, 955.3647), source=PLAYER (AssaultRifle), range=1469, listeners=10
[10:03:39] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=3
[10:03:39] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P4:velocity, state=RETREATING, target=149.5°, current=-141.2°, player=(351,955), corner_timer=0.00
[10:03:39] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[10:03:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(351.3393, 955.36475), shooter_id=1625645125584, bullet_pos=(760.65027, 892.7163)
[10:03:39] [INFO] [Bullet] Using shooter_position, distance=414,07764
[10:03:39] [INFO] [Bullet] Distance to wall: 414,07764 (28,195309% of viewport)
[10:03:39] [INFO] [Bullet] Within ricochet range - trying ricochet first
[10:03:39] [INFO] [Bullet] Starting wall penetration at (760.65027, 892.7163)
[10:03:39] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[10:03:39] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[10:03:39] [INFO] [Bullet] Exiting penetration at (728.71466, 917.4878) after traveling 35,416668 pixels through wall
[10:03:39] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[10:03:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(351.3393, 955.36475), shooter_id=1625645125584, bullet_pos=(929.3473, 750.26917)
[10:03:39] [INFO] [Bullet] Using shooter_position, distance=613,3168
[10:03:39] [INFO] [Bullet] Distance to wall: 613,3168 (41,761868% of viewport)
[10:03:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(351.3393, 955.3647), source=PLAYER (AssaultRifle), range=1469, listeners=10
[10:03:39] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=3
[10:03:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(351.3393, 955.36475), shooter_id=1625645125584, bullet_pos=(760.00726, 886.76154)
[10:03:39] [INFO] [Bullet] Using shooter_position, distance=414,3862
[10:03:39] [INFO] [Bullet] Distance to wall: 414,3862 (28,21632% of viewport)
[10:03:39] [INFO] [Bullet] Within ricochet range - trying ricochet first
[10:03:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(351.3393, 955.36475), shooter_id=1625645125584, bullet_pos=(928.6083, 748.1983)
[10:03:39] [INFO] [Bullet] Using shooter_position, distance=613,3167
[10:03:39] [INFO] [Bullet] Distance to wall: 613,3167 (41,761864% of viewport)
[10:03:39] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[10:03:39] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[10:03:39] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(351,955), corner_timer=-0.02
[10:03:39] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[10:03:39] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(351,955), corner_timer=-0.02
[10:03:39] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[10:03:39] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(351,955), corner_timer=0.30
[10:03:39] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(351,955), corner_timer=0.30
[10:03:39] [ENEMY] [Enemy1] PURSUING corner check: angle -51.1°
[10:03:39] [ENEMY] [Enemy4] State: PURSUING -> RETREATING
[10:03:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(351.3393, 955.36475), shooter_id=1625645125584, bullet_pos=(852.3616, 1011.8379)
[10:03:39] [INFO] [Bullet] Using shooter_position, distance=504,19495
[10:03:39] [INFO] [Bullet] Distance to wall: 504,19495 (34,331562% of viewport)
[10:03:39] [INFO] [Bullet] Within ricochet range - trying ricochet first
[10:03:39] [INFO] [Bullet] Starting wall penetration at (852.3616, 1011.8379)
[10:03:39] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[10:03:39] [INFO] [Bullet] Raycast backward hit penetrating body at distance 20,033268
[10:03:39] [INFO] [Bullet] Body exited signal received for penetrating body
[10:03:39] [INFO] [Bullet] Exiting penetration at (873.0926, 1040.1667) after traveling 30,104166 pixels through wall
[10:03:39] [INFO] [Bullet] Damage multiplier after penetration: 0,225
[10:03:39] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[10:03:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(351.3393, 955.3647), source=PLAYER (AssaultRifle), range=1469, listeners=10
[10:03:39] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=3
[10:03:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(351.3393, 955.36475), shooter_id=1625645125584, bullet_pos=(747.66437, 868.88605)
[10:03:39] [INFO] [Bullet] Using shooter_position, distance=405,65024
[10:03:39] [INFO] [Bullet] Distance to wall: 405,65024 (27,621471% of viewport)
[10:03:39] [INFO] [Bullet] Within ricochet range - trying ricochet first
[10:03:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(351.3393, 955.36475), shooter_id=1625645125584, bullet_pos=(927.81323, 745.99554)
[10:03:39] [INFO] [Bullet] Using shooter_position, distance=613,31696
[10:03:39] [INFO] [Bullet] Distance to wall: 613,31696 (41,761883% of viewport)
[10:03:39] [INFO] [Bullet] Distance-based penetration chance: 97,94447%
[10:03:39] [INFO] [Bullet] Starting wall penetration at (927.81323, 745.99554)
[10:03:39] [INFO] [Bullet] Raycast backward hit penetrating body at distance 35,625122
[10:03:39] [INFO] [Bullet] Body exited signal received for penetrating body
[10:03:39] [INFO] [Bullet] Exiting penetration at (960.9861, 778.762) after traveling 41,666668 pixels through wall
[10:03:39] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[10:03:39] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[10:03:39] [INFO] [Player.Homing] Homing effect expired, charges remaining: 5/6
[10:03:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(351.3393, 955.3647), source=PLAYER (AssaultRifle), range=1469, listeners=10
[10:03:39] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=4, self=0, below_threshold=3
[10:03:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(351.3393, 955.36475), shooter_id=1625645125584, bullet_pos=(874.6352, 1000.82025)
[10:03:39] [INFO] [Bullet] Using shooter_position, distance=525,2664
[10:03:39] [INFO] [Bullet] Distance to wall: 525,2664 (35,766357% of viewport)
[10:03:39] [INFO] [Bullet] Within ricochet range - trying ricochet first
[10:03:39] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(351.3393, 955.36475), shooter_id=1625645125584, bullet_pos=(927.3369, 744.68884)
[10:03:39] [INFO] [Bullet] Using shooter_position, distance=613,3169
[10:03:39] [INFO] [Bullet] Distance to wall: 613,3169 (41,761875% of viewport)
[10:03:39] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(351.3393, 955.3647), source=PLAYER (AssaultRifle), range=1469, listeners=10
[10:03:39] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=4, self=0, below_threshold=2
[10:03:40] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(351,955), corner_timer=-0.02
[10:03:40] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[10:03:40] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(351,955), corner_timer=0.30
[10:03:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(351.3393, 955.36475), shooter_id=1625645125584, bullet_pos=(927.1241, 744.1081)
[10:03:40] [INFO] [Bullet] Using shooter_position, distance=613,3168
[10:03:40] [INFO] [Bullet] Distance to wall: 613,3168 (41,761868% of viewport)
[10:03:40] [INFO] [Bullet] Distance-based penetration chance: 97,94449%
[10:03:40] [INFO] [Bullet] Starting wall penetration at (927.1241, 744.1081)
[10:03:40] [INFO] [Bullet] Raycast backward hit penetrating body at distance 34,68014
[10:03:40] [INFO] [Bullet] Body exited signal received for penetrating body
[10:03:40] [INFO] [Bullet] Exiting penetration at (960.4042, 776.7656) after traveling 41,666668 pixels through wall
[10:03:40] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[10:03:40] [ENEMY] [Enemy1] PURSUING corner check: angle 153.7°
[10:03:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(351.3393, 955.3647), source=PLAYER (AssaultRifle), range=1469, listeners=10
[10:03:40] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=4, self=0, below_threshold=2
[10:03:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(351.3393, 955.36475), shooter_id=1625645125584, bullet_pos=(638.1988, 1013.19434)
[10:03:40] [INFO] [Bullet] Using shooter_position, distance=292,63052
[10:03:40] [INFO] [Bullet] Distance to wall: 292,63052 (19,92575% of viewport)
[10:03:40] [INFO] [Bullet] Within ricochet range - trying ricochet first
[10:03:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(351.3393, 955.3647), source=PLAYER (AssaultRifle), range=1469, listeners=10
[10:03:40] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=4, self=0, below_threshold=2
[10:03:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(351.3393, 955.3647), source=PLAYER (AssaultRifle), range=1469, listeners=10
[10:03:40] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=4, self=0, below_threshold=2
[10:03:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(351.3393, 955.36475), shooter_id=1625645125584, bullet_pos=(1017.64966, 36.11896)
[10:03:40] [INFO] [Bullet] Using shooter_position, distance=1135,3335
[10:03:40] [INFO] [Bullet] Distance to wall: 1135,3335 (77,30695% of viewport)
[10:03:40] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(351,955), corner_timer=-0.02
[10:03:40] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[10:03:40] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.6°, player=(351,955), corner_timer=0.30
[10:03:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(351.3393, 955.3647), source=PLAYER (AssaultRifle), range=1469, listeners=10
[10:03:40] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=4, self=0, below_threshold=2
[10:03:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(351.3393, 955.36475), shooter_id=1625645125584, bullet_pos=(1017.3803, 35.924355)
[10:03:40] [INFO] [Bullet] Using shooter_position, distance=1135,3331
[10:03:40] [INFO] [Bullet] Distance to wall: 1135,3331 (77,30692% of viewport)
[10:03:40] [INFO] [Bullet] Distance-based penetration chance: 56,475266%
[10:03:40] [INFO] [Bullet] Penetration failed (distance roll)
[10:03:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(351.3393, 955.36475), shooter_id=1625645125584, bullet_pos=(915.24835, 659.0168)
[10:03:40] [INFO] [Bullet] Using shooter_position, distance=637,03656
[10:03:40] [INFO] [Bullet] Distance to wall: 637,03656 (43,37699% of viewport)
[10:03:40] [INFO] [Bullet] Distance-based penetration chance: 96,06018%
[10:03:40] [INFO] [Bullet] Starting wall penetration at (915.24835, 659.0168)
[10:03:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(351.3393, 955.3647), source=PLAYER (AssaultRifle), range=1469, listeners=10
[10:03:40] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=4, self=0, below_threshold=2
[10:03:40] [INFO] [Bullet] Raycast backward hit penetrating body at distance 9,728986
[10:03:40] [INFO] [Bullet] Body exited signal received for penetrating body
[10:03:40] [INFO] [Bullet] Exiting penetration at (943.8183, 679.34875) after traveling 30,10417 pixels through wall
[10:03:40] [INFO] [Bullet] Damage multiplier after penetration: 0,225
[10:03:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(351.3393, 955.36475), shooter_id=1625645125584, bullet_pos=(1017.282, 35.85274)
[10:03:40] [INFO] [Bullet] Using shooter_position, distance=1135,3334
[10:03:40] [INFO] [Bullet] Distance to wall: 1135,3334 (77,30694% of viewport)
[10:03:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(351.3393, 955.36475), shooter_id=1625645125584, bullet_pos=(1374.0817, 483.06274)
[10:03:40] [INFO] [Bullet] Using shooter_position, distance=1126,5305
[10:03:40] [INFO] [Bullet] Distance to wall: 1126,5305 (76,707535% of viewport)
[10:03:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(351.3393, 955.3647), source=PLAYER (AssaultRifle), range=1469, listeners=10
[10:03:40] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=4, self=0, below_threshold=2
[10:03:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(351.3393, 955.36475), shooter_id=1625645125584, bullet_pos=(1017.25073, 35.830723)
[10:03:40] [INFO] [Bullet] Using shooter_position, distance=1135,3329
[10:03:40] [INFO] [Bullet] Distance to wall: 1135,3329 (77,30691% of viewport)
[10:03:40] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(351,955), corner_timer=-0.02
[10:03:40] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[10:03:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(351.3393, 955.3647), source=PLAYER (AssaultRifle), range=1469, listeners=10
[10:03:40] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=4, self=0, below_threshold=2
[10:03:40] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.8°, current=6.3°, player=(351,955), corner_timer=0.30
[10:03:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(351.3393, 955.36475), shooter_id=1625645125584, bullet_pos=(1017.272, 35.844997)
[10:03:40] [INFO] [Bullet] Using shooter_position, distance=1135,3339
[10:03:40] [INFO] [Bullet] Distance to wall: 1135,3339 (77,30698% of viewport)
[10:03:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(351.3393, 955.36475), shooter_id=1625645125584, bullet_pos=(1209.4512, 704.50903)
[10:03:40] [INFO] [Bullet] Using shooter_position, distance=894,02716
[10:03:40] [INFO] [Bullet] Distance to wall: 894,02716 (60,875954% of viewport)
[10:03:40] [INFO] [Bullet] Distance-based penetration chance: 75,64472%
[10:03:40] [INFO] [Bullet] Penetration failed (distance roll)
[10:03:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(351.3393, 955.36475), shooter_id=1625645125584, bullet_pos=(1361.1049, 400.0234)
[10:03:40] [INFO] [Bullet] Using shooter_position, distance=1152,4021
[10:03:40] [INFO] [Bullet] Distance to wall: 1152,4021 (78,46918% of viewport)
[10:03:40] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(351.3393, 955.3647), source=PLAYER (AssaultRifle), range=1469, listeners=10
[10:03:40] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=4, self=0, below_threshold=2
[10:03:40] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=10
[10:03:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(351.3393, 955.36475), shooter_id=1625645125584, bullet_pos=(1017.3188, 35.87948)
[10:03:40] [INFO] [Bullet] Using shooter_position, distance=1135,3334
[10:03:40] [INFO] [Bullet] Distance to wall: 1135,3334 (77,30694% of viewport)
[10:03:40] [INFO] [Bullet] Distance-based penetration chance: 56,475246%
[10:03:40] [INFO] [Bullet] Starting wall penetration at (1017.3188, 35.87948)
[10:03:40] [INFO] [Bullet] Raycast backward hit penetrating body at distance 41,8765
[10:03:40] [INFO] [Bullet] Body exited signal received for penetrating body
[10:03:40] [INFO] [Bullet] Exiting penetration at (1044.6932, -1.9149761) after traveling 41,666668 pixels through wall
[10:03:40] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[10:03:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(351.3393, 955.36475), shooter_id=1625645125584, bullet_pos=(1364.0857, 444.81747)
[10:03:40] [INFO] [Bullet] Using shooter_position, distance=1134,1577
[10:03:40] [INFO] [Bullet] Distance to wall: 1134,1577 (77,22689% of viewport)
[10:03:40] [INFO] [Bullet] Distance-based penetration chance: 56,568634%
[10:03:40] [INFO] [Bullet] Penetration failed (distance roll)
[10:03:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(351.3393, 955.36475), shooter_id=1625645125584, bullet_pos=(1017.3551, 35.905552)
[10:03:40] [INFO] [Bullet] Using shooter_position, distance=1135,3335
[10:03:40] [INFO] [Bullet] Distance to wall: 1135,3335 (77,30695% of viewport)
[10:03:40] [INFO] [Bullet] Distance-based penetration chance: 56,475227%
[10:03:40] [INFO] [Bullet] Penetration failed (distance roll)
[10:03:40] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(351.3393, 955.36475), shooter_id=1625645125584, bullet_pos=(1159.007, 705.4664)
[10:03:40] [INFO] [Bullet] Using shooter_position, distance=845,4444
[10:03:40] [INFO] [Bullet] Distance to wall: 845,4444 (57,567863% of viewport)
[10:03:41] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.8°, player=(351,955), corner_timer=-0.02
[10:03:41] [ENEMY] [Enemy10] PATROL corner check: angle 0.9°
[10:03:41] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(351.3393, 955.36475), shooter_id=1625645125584, bullet_pos=(1017.3805, 35.92438)
[10:03:41] [INFO] [Bullet] Using shooter_position, distance=1135,3333
[10:03:41] [INFO] [Bullet] Distance to wall: 1135,3333 (77,30693% of viewport)
[10:03:41] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=0.9°, current=4.6°, player=(351,955), corner_timer=0.30
[10:03:41] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[10:03:41] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:03:41] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[10:03:41] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[10:03:41] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[10:03:41] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[10:03:41] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[10:03:41] [INFO] [LastChance] Resetting all effects (scene change detected)
[10:03:41] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[10:03:41] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[10:03:41] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[10:03:41] [ENEMY] [Enemy1] Death animation component initialized
[10:03:41] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:03:41] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[10:03:41] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[10:03:41] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[10:03:41] [ENEMY] [Enemy2] Death animation component initialized
[10:03:41] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:03:41] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[10:03:41] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[10:03:41] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[10:03:41] [ENEMY] [Enemy3] Death animation component initialized
[10:03:41] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:03:41] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[10:03:41] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[10:03:41] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[10:03:41] [INFO] [EnemyGrenade] Initialized: 1 grenades
[10:03:41] [ENEMY] [Enemy4] Death animation component initialized
[10:03:41] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:03:41] [INFO] [BloodyFeet:Grenadier] Footprint scene loaded
[10:03:41] [INFO] [BloodyFeet:Grenadier] Found EnemyModel for facing direction
[10:03:41] [INFO] [BloodyFeet:Grenadier] BloodyFeetComponent ready on Grenadier
[10:03:41] [INFO] [EnemyGrenade] Grenade bag built (normal): [Flashbang, Flashbang, Flashbang, Offensive, Offensive, Offensive, Offensive, Offensive]
[10:03:41] [INFO] [EnemyGrenade] Grenadier initialized: 8 grenades in bag
[10:03:41] [ENEMY] [Grenadier] Death animation component initialized
[10:03:41] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:03:41] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[10:03:41] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[10:03:41] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[10:03:41] [ENEMY] [Enemy6] Death animation component initialized
[10:03:41] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:03:41] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[10:03:41] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[10:03:41] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[10:03:41] [ENEMY] [Enemy7] Death animation component initialized
[10:03:41] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:03:41] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[10:03:41] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[10:03:41] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[10:03:41] [ENEMY] [Enemy8] Death animation component initialized
[10:03:41] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:03:41] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[10:03:41] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[10:03:41] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[10:03:41] [ENEMY] [Enemy9] Death animation component initialized
[10:03:41] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:03:41] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[10:03:41] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[10:03:41] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[10:03:41] [ENEMY] [Enemy10] Death animation component initialized
[10:03:41] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:03:41] [INFO] [BloodyFeet:Player] Footprint scene loaded
[10:03:41] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[10:03:41] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[10:03:41] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[10:03:41] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[10:03:41] [INFO] [Player.Weapon] GameManager weapon selection: m16 (AssaultRifle)
[10:03:41] [INFO] [Player.Weapon] Removed default MakarovPM
[10:03:41] [INFO] [Player.Weapon] Equipped AssaultRifle (ammo: 30/30)
[10:03:41] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[10:03:41] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[10:03:41] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[10:03:41] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[10:03:41] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[10:03:41] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[10:03:41] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[10:03:41] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[10:03:41] [INFO] [Player.Homing] Homing activation sound loaded
[10:03:41] [INFO] [Player.Homing] Homing bullets equipped, charges: 6/6
[10:03:41] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 10/10
[10:03:41] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[10:03:41] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[10:03:41] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[10:03:41] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[10:03:41] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[10:03:41] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[10:03:41] [INFO] [BuildingLevel] Child 'Grenadier': script=true, has_died_signal=true
[10:03:41] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[10:03:41] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[10:03:41] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[10:03:41] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[10:03:41] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[10:03:41] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[10:03:41] [INFO] [BuildingLevel] Setting up weapon: m16
[10:03:41] [INFO] [BuildingLevel] AssaultRifle already equipped by C# Player - skipping GDScript weapon swap
[10:03:41] [INFO] [ScoreManager] Level started with 10 enemies
[10:03:41] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[10:03:41] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[10:03:41] [INFO] [ReplayManager] Replay data cleared
[10:03:41] [INFO] [BuildingLevel] Previous replay data cleared
[10:03:41] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[10:03:41] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[10:03:41] [INFO] [ReplayManager] Level: BuildingLevel
[10:03:41] [INFO] [ReplayManager] Player: Player (valid: True)
[10:03:41] [INFO] [ReplayManager] Enemies count: 10
[10:03:41] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[10:03:41] [INFO] [ReplayManager]   Enemy 0: Enemy1
[10:03:41] [INFO] [ReplayManager]   Enemy 1: Enemy2
[10:03:41] [INFO] [ReplayManager]   Enemy 2: Enemy3
[10:03:41] [INFO] [ReplayManager]   Enemy 3: Enemy4
[10:03:41] [INFO] [ReplayManager]   Enemy 4: Grenadier
[10:03:41] [INFO] [ReplayManager]   Enemy 5: Enemy6
[10:03:41] [INFO] [ReplayManager]   Enemy 6: Enemy7
[10:03:41] [INFO] [ReplayManager]   Enemy 7: Enemy8
[10:03:41] [INFO] [ReplayManager]   Enemy 8: Enemy9
[10:03:41] [INFO] [ReplayManager]   Enemy 9: Enemy10
[10:03:41] [INFO] [BuildingLevel] Replay recording started successfully
[10:03:41] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[10:03:41] [INFO] [CinemaEffects] Found player node: Player
[10:03:41] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[10:03:41] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[10:03:41] [ENEMY] [Enemy1] Registered as sound listener
[10:03:41] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 2, behavior: GUARD
[10:03:41] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[10:03:41] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[10:03:41] [ENEMY] [Enemy2] Registered as sound listener
[10:03:41] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 4, behavior: GUARD
[10:03:41] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[10:03:41] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[10:03:41] [ENEMY] [Enemy3] Registered as sound listener
[10:03:41] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 4, behavior: GUARD
[10:03:41] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[10:03:41] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[10:03:41] [ENEMY] [Enemy4] Registered as sound listener
[10:03:41] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 3, behavior: GUARD
[10:03:41] [INFO] [BloodyFeet:Grenadier] Blood detector created and attached to Grenadier
[10:03:41] [INFO] [SoundPropagation] Registered listener: Grenadier (total: 15)
[10:03:41] [ENEMY] [Grenadier] Registered as sound listener
[10:03:41] [ENEMY] [Grenadier] Spawned at (1700, 350), hp: 2, behavior: GUARD
[10:03:41] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[10:03:41] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[10:03:41] [ENEMY] [Enemy6] Registered as sound listener
[10:03:41] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 4, behavior: GUARD
[10:03:41] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[10:03:41] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[10:03:41] [ENEMY] [Enemy7] Registered as sound listener
[10:03:41] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 2, behavior: PATROL
[10:03:41] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[10:03:41] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[10:03:41] [ENEMY] [Enemy8] Registered as sound listener
[10:03:41] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 2, behavior: GUARD
[10:03:41] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[10:03:41] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[10:03:41] [ENEMY] [Enemy9] Registered as sound listener
[10:03:41] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 3, behavior: GUARD
[10:03:41] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[10:03:41] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[10:03:41] [ENEMY] [Enemy10] Registered as sound listener
[10:03:41] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 3, behavior: PATROL
[10:03:41] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[10:03:41] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[10:03:41] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[10:03:41] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[10:03:41] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[10:03:41] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[10:03:41] [ENEMY] [Grenadier] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[10:03:41] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[10:03:41] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=78.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[10:03:41] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=337.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[10:03:41] [INFO] [Player] Detecting weapon pose (frame 3)...
[10:03:41] [INFO] [Player] Detected weapon: Rifle (default pose)
[10:03:41] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[10:03:41] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[10:03:41] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[10:03:41] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[10:03:41] [INFO] [LastChance] Found player: Player
[10:03:41] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[10:03:41] [INFO] [LastChance] Connected to player Damaged signal (C#)
[10:03:41] [INFO] [LastChance] Connected to player Died signal (C#)
[10:03:41] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[10:03:42] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[10:03:42] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[10:03:42] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[10:03:42] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(411,952), corner_timer=0.30
[10:03:42] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(411,952), corner_timer=0.30
[10:03:42] [INFO] [Player.Homing] Homing activated! Duration: 1s, charges remaining: 5/6
[10:03:43] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(411,948), corner_timer=-0.02
[10:03:43] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[10:03:43] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(411,948), corner_timer=-0.02
[10:03:43] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[10:03:43] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(411,947), corner_timer=0.30
[10:03:43] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(411,947), corner_timer=0.30
[10:03:43] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[10:03:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(382.2115, 886.2462), source=PLAYER (AssaultRifle), range=1469, listeners=20
[10:03:43] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[10:03:43] [ENEMY] [Enemy2] Heard gunshot at (382.2115, 886.2462), source_type=0, intensity=0.02, distance=337
[10:03:43] [ENEMY] [Enemy3] Heard gunshot at (382.2115, 886.2462), source_type=0, intensity=0.02, distance=346
[10:03:43] [ENEMY] [Enemy4] Heard gunshot at (382.2115, 886.2462), source_type=0, intensity=0.01, distance=418
[10:03:43] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=4
[10:03:43] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=93.0°, current=-101.3°, player=(382,886), corner_timer=0.00
[10:03:43] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=156.8°, current=-168.8°, player=(382,886), corner_timer=0.00
[10:03:43] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=-178.1°, current=-67.5°, player=(382,886), corner_timer=0.00
[10:03:43] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(378,882), corner_timer=-0.02
[10:03:43] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[10:03:43] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(374,879), corner_timer=0.30
[10:03:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(358.4491, 865.0602), source=PLAYER (AssaultRifle), range=1469, listeners=10
[10:03:43] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=4
[10:03:43] [ENEMY] [Enemy3] Hit: dmg=1, hp=4/4->3/4
[10:03:43] [INFO] [ImpactEffects] spawn_blood_effect called at (634.5734, 772.7851), dir=(1, 0), lethal=false
[10:03:43] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[10:03:43] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[10:03:43] [INFO] [ImpactEffects] Blood effect spawned at (634.5734, 772.7851) (scale=1)
[10:03:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(344.8462, 852.9323), source=PLAYER (AssaultRifle), range=1469, listeners=10
[10:03:43] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=4
[10:03:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(382.2115, 886.24615), shooter_id=1763956493341, bullet_pos=(923.308, 812.3426)
[10:03:43] [INFO] [Bullet] Using shooter_position, distance=546,1201
[10:03:43] [INFO] [Bullet] Distance to wall: 546,1201 (37,186325% of viewport)
[10:03:43] [INFO] [Bullet] Within ricochet range - trying ricochet first
[10:03:43] [INFO] [Bullet] Starting wall penetration at (923.308, 812.3426)
[10:03:43] [INFO] [Bullet] Raycast backward hit penetrating body at distance 18,695862
[10:03:43] [INFO] [Bullet] Body exited signal received for penetrating body
[10:03:43] [INFO] [Bullet] Exiting penetration at (947.7052, 841.87775) after traveling 33,333336 pixels through wall
[10:03:43] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[10:03:43] [ENEMY] [Enemy3] State: COMBAT -> RETREATING
[10:03:43] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P4:velocity, state=RETREATING, target=164.9°, current=169.0°, player=(341,850), corner_timer=0.00
[10:03:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(341.1626, 849.6481), source=PLAYER (AssaultRifle), range=1469, listeners=10
[10:03:43] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=4
[10:03:43] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[10:03:43] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(341,849), corner_timer=-0.01
[10:03:43] [ENEMY] [Enemy10] PATROL corner check: angle 3.6°
[10:03:43] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[10:03:43] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.6°, current=9.1°, player=(341,849), corner_timer=0.30
[10:03:43] [INFO] [Player.Homing] Homing effect expired, charges remaining: 5/6
[10:03:43] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(344.8462, 852.9323), shooter_id=1763956493341, bullet_pos=(760.4224, 810.64343)
[10:03:43] [INFO] [Bullet] Using shooter_position, distance=417,72235
[10:03:43] [INFO] [Bullet] Distance to wall: 417,72235 (28,443483% of viewport)
[10:03:43] [INFO] [Bullet] Within ricochet range - trying ricochet first
[10:03:43] [ENEMY] [Enemy1] Memory: medium confidence (0.59) - transitioning to PURSUING
[10:03:43] [ENEMY] [Enemy1] State: IDLE -> PURSUING
[10:03:43] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=85.3°, current=-33.8°, player=(341,849), corner_timer=0.00
[10:03:43] [ENEMY] [Enemy1] PURSUING corner check: angle -50.9°
[10:03:43] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(341.1626, 849.6481), source=PLAYER (AssaultRifle), range=1469, listeners=10
[10:03:43] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[10:03:43] [INFO] [BloodDecal] Blood puddle created at (691.1069, 807.3931) (added to group)
[10:03:44] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[10:03:44] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[10:03:44] [INFO] [BloodDecal] Blood puddle created at (722.0681, 788.829) (added to group)
[10:03:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(341.1626, 849.6481), source=PLAYER (AssaultRifle), range=1469, listeners=10
[10:03:44] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[10:03:44] [INFO] [BloodDecal] Blood puddle created at (703.0101, 788.6552) (added to group)
[10:03:44] [ENEMY] [Enemy4] State: PURSUING -> RETREATING
[10:03:44] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[10:03:44] [INFO] [BloodDecal] Blood puddle created at (752.3442, 787.3564) (added to group)
[10:03:44] [INFO] [BloodDecal] Blood puddle created at (747.6335, 794.6042) (added to group)
[10:03:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(341.1626, 849.6481), shooter_id=1763956493341, bullet_pos=(901.0923, 1020.7693)
[10:03:44] [INFO] [Bullet] Using shooter_position, distance=585,49445
[10:03:44] [INFO] [Bullet] Distance to wall: 585,49445 (39,867393% of viewport)
[10:03:44] [INFO] [Bullet] Within ricochet range - trying ricochet first
[10:03:44] [INFO] [Bullet] Starting wall penetration at (901.0923, 1020.7693)
[10:03:44] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[10:03:44] [INFO] [Bullet] Raycast backward hit penetrating body at distance 34,84422
[10:03:44] [INFO] [Bullet] Body exited signal received for penetrating body
[10:03:44] [INFO] [Bullet] Exiting penetration at (915.5689, 1056.2639) after traveling 33,333336 pixels through wall
[10:03:44] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[10:03:44] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(341,849), corner_timer=-0.01
[10:03:44] [ENEMY] [Enemy10] PATROL corner check: angle 1.9°
[10:03:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(341.1626, 849.6481), source=PLAYER (AssaultRifle), range=1469, listeners=10
[10:03:44] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[10:03:44] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.9°, current=5.8°, player=(341,849), corner_timer=0.30
[10:03:44] [INFO] [BloodDecal] Blood puddle created at (712.2788, 793.9471) (added to group)
[10:03:44] [INFO] [ReplayManager] Recording frame 180 (2,9s): player_valid=True, enemies=10
[10:03:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(344.8462, 852.9323), shooter_id=1763956493341, bullet_pos=(512.67334, 244.1033)
[10:03:44] [INFO] [Bullet] Using shooter_position, distance=631,53674
[10:03:44] [INFO] [Bullet] Distance to wall: 631,53674 (43,0025% of viewport)
[10:03:44] [ENEMY] [Enemy1] PURSUING corner check: angle -51.9°
[10:03:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(341.1626, 849.6481), source=PLAYER (AssaultRifle), range=1469, listeners=10
[10:03:44] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[10:03:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(341.1626, 849.6481), shooter_id=1763956493341, bullet_pos=(1072.7056, 293.9568)
[10:03:44] [INFO] [Bullet] Using shooter_position, distance=918,6664
[10:03:44] [INFO] [Bullet] Distance to wall: 918,6664 (62,553684% of viewport)
[10:03:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(341.1626, 849.6481), shooter_id=1763956493341, bullet_pos=(1020.139, 261.7149)
[10:03:44] [INFO] [Bullet] Using shooter_position, distance=898,1505
[10:03:44] [INFO] [Bullet] Distance to wall: 898,1505 (61,15672% of viewport)
[10:03:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(341.1626, 849.6481), shooter_id=1763956493341, bullet_pos=(1079.6661, 212.47989)
[10:03:44] [INFO] [Bullet] Using shooter_position, distance=975,38245
[10:03:44] [INFO] [Bullet] Distance to wall: 975,38245 (66,41558% of viewport)
[10:03:44] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(341.1626, 849.6481), source=PLAYER (AssaultRifle), range=1469, listeners=10
[10:03:44] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[10:03:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(341.1626, 849.6481), shooter_id=1763956493341, bullet_pos=(1093.6412, 266.48468)
[10:03:44] [INFO] [Bullet] Using shooter_position, distance=951,9998
[10:03:44] [INFO] [Bullet] Distance to wall: 951,9998 (64,82342% of viewport)
[10:03:44] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(341.1626, 849.6481), shooter_id=1763956493341, bullet_pos=(1014.1619, 224.2587)
[10:03:44] [INFO] [Bullet] Using shooter_position, distance=918,7165
[10:03:44] [INFO] [Bullet] Distance to wall: 918,7165 (62,557095% of viewport)
[10:03:44] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.9°, player=(341,849), corner_timer=-0.01
[10:03:44] [ENEMY] [Enemy10] PATROL corner check: angle 1.0°
[10:03:44] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.0°, current=4.1°, player=(341,849), corner_timer=0.30
[10:03:44] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[10:03:44] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:03:44] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[10:03:44] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[10:03:44] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[10:03:44] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[10:03:44] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[10:03:44] [INFO] [LastChance] Resetting all effects (scene change detected)
[10:03:44] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[10:03:44] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[10:03:44] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[10:03:44] [ENEMY] [Enemy1] Death animation component initialized
[10:03:44] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:03:44] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[10:03:44] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[10:03:44] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[10:03:44] [ENEMY] [Enemy2] Death animation component initialized
[10:03:44] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:03:44] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[10:03:44] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[10:03:44] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[10:03:44] [ENEMY] [Enemy3] Death animation component initialized
[10:03:44] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:03:44] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[10:03:44] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[10:03:44] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[10:03:44] [ENEMY] [Enemy4] Death animation component initialized
[10:03:44] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:03:44] [INFO] [BloodyFeet:Grenadier] Footprint scene loaded
[10:03:44] [INFO] [BloodyFeet:Grenadier] Found EnemyModel for facing direction
[10:03:44] [INFO] [BloodyFeet:Grenadier] BloodyFeetComponent ready on Grenadier
[10:03:44] [INFO] [EnemyGrenade] Grenade bag built (normal): [Flashbang, Flashbang, Flashbang, Offensive, Offensive, Offensive, Offensive, Offensive]
[10:03:44] [INFO] [EnemyGrenade] Grenadier initialized: 8 grenades in bag
[10:03:44] [ENEMY] [Grenadier] Death animation component initialized
[10:03:44] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:03:44] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[10:03:44] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[10:03:44] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[10:03:44] [ENEMY] [Enemy6] Death animation component initialized
[10:03:44] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:03:44] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[10:03:44] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[10:03:44] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[10:03:44] [ENEMY] [Enemy7] Death animation component initialized
[10:03:44] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:03:44] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[10:03:44] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[10:03:44] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[10:03:44] [ENEMY] [Enemy8] Death animation component initialized
[10:03:44] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:03:44] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[10:03:44] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[10:03:44] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[10:03:44] [ENEMY] [Enemy9] Death animation component initialized
[10:03:44] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:03:44] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[10:03:44] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[10:03:44] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[10:03:44] [ENEMY] [Enemy10] Death animation component initialized
[10:03:44] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:03:44] [INFO] [BloodyFeet:Player] Footprint scene loaded
[10:03:44] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[10:03:44] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[10:03:44] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[10:03:44] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[10:03:44] [INFO] [Player.Weapon] GameManager weapon selection: m16 (AssaultRifle)
[10:03:44] [INFO] [Player.Weapon] Removed default MakarovPM
[10:03:44] [INFO] [Player.Weapon] Equipped AssaultRifle (ammo: 30/30)
[10:03:44] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[10:03:44] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[10:03:44] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[10:03:44] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[10:03:44] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[10:03:44] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[10:03:44] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[10:03:44] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[10:03:44] [INFO] [Player.Homing] Homing activation sound loaded
[10:03:44] [INFO] [Player.Homing] Homing bullets equipped, charges: 6/6
[10:03:44] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 10/10
[10:03:44] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[10:03:44] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[10:03:44] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[10:03:44] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[10:03:44] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[10:03:44] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[10:03:44] [INFO] [BuildingLevel] Child 'Grenadier': script=true, has_died_signal=true
[10:03:44] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[10:03:44] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[10:03:44] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[10:03:44] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[10:03:44] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[10:03:44] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[10:03:44] [INFO] [BuildingLevel] Setting up weapon: m16
[10:03:44] [INFO] [BuildingLevel] AssaultRifle already equipped by C# Player - skipping GDScript weapon swap
[10:03:44] [INFO] [ScoreManager] Level started with 10 enemies
[10:03:44] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[10:03:44] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[10:03:44] [INFO] [ReplayManager] Replay data cleared
[10:03:44] [INFO] [BuildingLevel] Previous replay data cleared
[10:03:44] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[10:03:44] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[10:03:44] [INFO] [ReplayManager] Level: BuildingLevel
[10:03:44] [INFO] [ReplayManager] Player: Player (valid: True)
[10:03:44] [INFO] [ReplayManager] Enemies count: 10
[10:03:44] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[10:03:44] [INFO] [ReplayManager]   Enemy 0: Enemy1
[10:03:44] [INFO] [ReplayManager]   Enemy 1: Enemy2
[10:03:44] [INFO] [ReplayManager]   Enemy 2: Enemy3
[10:03:44] [INFO] [ReplayManager]   Enemy 3: Enemy4
[10:03:44] [INFO] [ReplayManager]   Enemy 4: Grenadier
[10:03:44] [INFO] [ReplayManager]   Enemy 5: Enemy6
[10:03:44] [INFO] [ReplayManager]   Enemy 6: Enemy7
[10:03:44] [INFO] [ReplayManager]   Enemy 7: Enemy8
[10:03:44] [INFO] [ReplayManager]   Enemy 8: Enemy9
[10:03:44] [INFO] [ReplayManager]   Enemy 9: Enemy10
[10:03:44] [INFO] [BuildingLevel] Replay recording started successfully
[10:03:44] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[10:03:44] [INFO] [CinemaEffects] Found player node: Player
[10:03:44] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[10:03:44] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[10:03:44] [ENEMY] [Enemy1] Registered as sound listener
[10:03:44] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 4, behavior: GUARD
[10:03:44] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[10:03:44] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[10:03:44] [ENEMY] [Enemy2] Registered as sound listener
[10:03:44] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 4, behavior: GUARD
[10:03:44] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[10:03:44] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[10:03:44] [ENEMY] [Enemy3] Registered as sound listener
[10:03:44] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 4, behavior: GUARD
[10:03:44] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[10:03:44] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[10:03:44] [ENEMY] [Enemy4] Registered as sound listener
[10:03:44] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 3, behavior: GUARD
[10:03:44] [INFO] [BloodyFeet:Grenadier] Blood detector created and attached to Grenadier
[10:03:44] [INFO] [SoundPropagation] Registered listener: Grenadier (total: 15)
[10:03:44] [ENEMY] [Grenadier] Registered as sound listener
[10:03:44] [ENEMY] [Grenadier] Spawned at (1700, 350), hp: 2, behavior: GUARD
[10:03:44] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[10:03:44] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[10:03:44] [ENEMY] [Enemy6] Registered as sound listener
[10:03:44] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 4, behavior: GUARD
[10:03:44] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[10:03:44] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[10:03:44] [ENEMY] [Enemy7] Registered as sound listener
[10:03:44] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 3, behavior: PATROL
[10:03:44] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[10:03:44] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[10:03:44] [ENEMY] [Enemy8] Registered as sound listener
[10:03:44] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 4, behavior: GUARD
[10:03:44] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[10:03:44] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[10:03:44] [ENEMY] [Enemy9] Registered as sound listener
[10:03:44] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 4, behavior: GUARD
[10:03:44] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[10:03:44] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[10:03:44] [ENEMY] [Enemy10] Registered as sound listener
[10:03:44] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 4, behavior: PATROL
[10:03:44] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[10:03:44] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[10:03:44] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[10:03:44] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[10:03:44] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=123.7°, current=0.0°, player=(450,1249), corner_timer=0.00
[10:03:44] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[10:03:44] [ENEMY] [Grenadier] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[10:03:44] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[10:03:44] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=78.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[10:03:44] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[10:03:44] [INFO] [Player] Detecting weapon pose (frame 3)...
[10:03:44] [INFO] [Player] Detected weapon: Rifle (default pose)
[10:03:44] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[10:03:44] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[10:03:44] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[10:03:44] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[10:03:44] [INFO] [LastChance] Found player: Player
[10:03:44] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[10:03:44] [INFO] [LastChance] Connected to player Damaged signal (C#)
[10:03:44] [INFO] [LastChance] Connected to player Died signal (C#)
[10:03:44] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[10:03:45] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[10:03:46] [INFO] [Player.Homing] Homing activated! Duration: 1s, charges remaining: 5/6
[10:03:46] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[10:03:46] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[10:03:46] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(428,959), corner_timer=0.30
[10:03:46] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(428,959), corner_timer=0.30
[10:03:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(428.9785, 959.9385), source=PLAYER (AssaultRifle), range=1469, listeners=20
[10:03:46] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[10:03:46] [ENEMY] [Enemy2] Heard gunshot at (428.9785, 959.9385), source_type=0, intensity=0.01, distance=411
[10:03:46] [ENEMY] [Enemy3] Heard gunshot at (428.9785, 959.9385), source_type=0, intensity=0.02, distance=343
[10:03:46] [ENEMY] [Enemy4] Heard gunshot at (428.9785, 959.9385), source_type=0, intensity=0.02, distance=376
[10:03:46] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=4
[10:03:46] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=86.0°, current=168.8°, player=(428,959), corner_timer=0.00
[10:03:46] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=142.2°, current=123.7°, player=(428,959), corner_timer=0.00
[10:03:46] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=170.8°, current=-101.3°, player=(428,959), corner_timer=0.00
[10:03:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(428.9785, 959.9385), source=PLAYER (AssaultRifle), range=1469, listeners=10
[10:03:46] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=4
[10:03:46] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(428,959), corner_timer=-0.02
[10:03:46] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[10:03:46] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(428,959), corner_timer=-0.02
[10:03:46] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[10:03:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(428.9785, 959.9385), source=PLAYER (AssaultRifle), range=1469, listeners=10
[10:03:46] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=4
[10:03:46] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(428,959), corner_timer=0.30
[10:03:46] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(428,959), corner_timer=0.30
[10:03:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(428.9785, 959.9385), source=PLAYER (AssaultRifle), range=1469, listeners=10
[10:03:46] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=4
[10:03:46] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[10:03:46] [ENEMY] [Enemy1] Memory: medium confidence (0.59) - transitioning to PURSUING
[10:03:46] [ENEMY] [Enemy1] State: IDLE -> PURSUING
[10:03:46] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=78.1°, current=-157.5°, player=(428,959), corner_timer=0.00
[10:03:46] [ENEMY] [Enemy1] PURSUING corner check: angle -50.9°
[10:03:46] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(428.9785, 959.9385), source=PLAYER (AssaultRifle), range=1469, listeners=10
[10:03:46] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=4
[10:03:46] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(428.97852, 959.93854), shooter_id=1854368911777, bullet_pos=(909.1891, 636.1113)
[10:03:46] [INFO] [Bullet] Using shooter_position, distance=579,19446
[10:03:46] [INFO] [Bullet] Distance to wall: 579,19446 (39,43842% of viewport)
[10:03:46] [INFO] [Bullet] Within ricochet range - trying ricochet first
[10:03:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(428.97852, 959.93854), shooter_id=1854368911777, bullet_pos=(1179.9286, 693.48846)
[10:03:47] [INFO] [Bullet] Using shooter_position, distance=796,8197
[10:03:47] [INFO] [Bullet] Distance to wall: 796,8197 (54,256924% of viewport)
[10:03:47] [INFO] [Bullet] Distance-based penetration chance: 83,36693%
[10:03:47] [INFO] [Bullet] Starting wall penetration at (1179.9286, 693.48846)
[10:03:47] [ENEMY] [Enemy2] State: COMBAT -> PURSUING
[10:03:47] [ENEMY] [Enemy3] State: COMBAT -> PURSUING
[10:03:47] [ENEMY] [Enemy4] State: COMBAT -> PURSUING
[10:03:47] [INFO] [Bullet] Raycast backward hit penetrating body at distance 8,674419
[10:03:47] [INFO] [Bullet] Body exited signal received for penetrating body
[10:03:47] [INFO] [Bullet] Exiting penetration at (1220.681, 716.22656) after traveling 41,666676 pixels through wall
[10:03:47] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[10:03:47] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(428,959), corner_timer=-0.02
[10:03:47] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[10:03:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(428.9785, 959.9385), source=PLAYER (AssaultRifle), range=1469, listeners=10
[10:03:47] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=4
[10:03:47] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(428,959), corner_timer=0.30
[10:03:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(428.97852, 959.93854), shooter_id=1854368911777, bullet_pos=(1391.4756, 598.0148)
[10:03:47] [INFO] [Bullet] Using shooter_position, distance=1028,2944
[10:03:47] [INFO] [Bullet] Distance to wall: 1028,2944 (70,018456% of viewport)
[10:03:47] [INFO] [Bullet] Distance-based penetration chance: 64,97847%
[10:03:47] [INFO] [Bullet] Penetration failed (distance roll)
[10:03:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(428.97852, 959.93854), shooter_id=1854368911777, bullet_pos=(1391.4756, 598.0148)
[10:03:47] [INFO] [Bullet] Using shooter_position, distance=1028,2944
[10:03:47] [INFO] [Bullet] Distance to wall: 1028,2944 (70,018456% of viewport)
[10:03:47] [INFO] [Bullet] Distance-based penetration chance: 64,97847%
[10:03:47] [INFO] [Bullet] Penetration failed (distance roll)
[10:03:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(428.97852, 959.93854), shooter_id=1854368911777, bullet_pos=(909.0835, 635.9549)
[10:03:47] [INFO] [Bullet] Using shooter_position, distance=579,19446
[10:03:47] [INFO] [Bullet] Distance to wall: 579,19446 (39,43842% of viewport)
[10:03:47] [INFO] [Bullet] Within ricochet range - trying ricochet first
[10:03:47] [INFO] [Bullet] Starting wall penetration at (909.0835, 635.9549)
[10:03:47] [INFO] [Bullet] Raycast backward hit penetrating body at distance 16,183573
[10:03:47] [INFO] [Bullet] Body exited signal received for penetrating body
[10:03:47] [INFO] [Bullet] Exiting penetration at (950.139, 658.05756) after traveling 41,666668 pixels through wall
[10:03:47] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[10:03:47] [ENEMY] [Enemy3] Hit: dmg=1, hp=4/4->3/4
[10:03:47] [INFO] [ImpactEffects] spawn_blood_effect called at (619.8901, 812.055), dir=(1, 0), lethal=false
[10:03:47] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[10:03:47] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[10:03:47] [INFO] [ImpactEffects] Wall found for blood splatter at (680, 812.055) (dist=60 px)
[10:03:47] [INFO] [BloodDecal] Blood puddle created at (679, 812.055) (added to group)
[10:03:47] [INFO] [ImpactEffects] Blood effect spawned at (619.8901, 812.055) (scale=1)
[10:03:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(428.9785, 959.9385), source=PLAYER (AssaultRifle), range=1469, listeners=10
[10:03:47] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=4
[10:03:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(428.97852, 959.93854), shooter_id=1854368911777, bullet_pos=(916.9173, 637.8115)
[10:03:47] [INFO] [Bullet] Using shooter_position, distance=584,67944
[10:03:47] [INFO] [Bullet] Distance to wall: 584,67944 (39,8119% of viewport)
[10:03:47] [INFO] [Bullet] Within ricochet range - trying ricochet first
[10:03:47] [INFO] [Bullet] Starting wall penetration at (916.9173, 637.8115)
[10:03:47] [INFO] [Bullet] Raycast backward hit penetrating body at distance 16,761208
[10:03:47] [INFO] [Bullet] Body exited signal received for penetrating body
[10:03:47] [INFO] [Bullet] Exiting penetration at (950.6451, 655.9771) after traveling 33,333336 pixels through wall
[10:03:47] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[10:03:47] [ENEMY] [Enemy1] PURSUING corner check: angle -51.6°
[10:03:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(428.9785, 959.9385), source=PLAYER (AssaultRifle), range=1469, listeners=10
[10:03:47] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=4
[10:03:47] [INFO] [Player.Homing] Homing effect expired, charges remaining: 5/6
[10:03:47] [ENEMY] [Enemy3] State: PURSUING -> RETREATING
[10:03:47] [ENEMY] [Enemy3] State: RETREATING -> IN_COVER
[10:03:47] [ENEMY] [Enemy3] State: IN_COVER -> SUPPRESSED
[10:03:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(428.97852, 959.93854), shooter_id=1854368911777, bullet_pos=(930.448, 642.47723)
[10:03:47] [INFO] [Bullet] Using shooter_position, distance=593,50934
[10:03:47] [INFO] [Bullet] Distance to wall: 593,50934 (40,413143% of viewport)
[10:03:47] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(428,959), corner_timer=-0.00
[10:03:47] [ENEMY] [Enemy10] PATROL corner check: angle 3.6°
[10:03:47] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.6°, current=9.1°, player=(428,959), corner_timer=0.30
[10:03:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(428.9785, 959.9385), source=PLAYER (AssaultRifle), range=1469, listeners=10
[10:03:47] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=3, self=0, below_threshold=4
[10:03:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(428.97852, 959.93854), shooter_id=1854368911777, bullet_pos=(909.55133, 622.4175)
[10:03:47] [INFO] [Bullet] Using shooter_position, distance=587,2569
[10:03:47] [INFO] [Bullet] Distance to wall: 587,2569 (39,987404% of viewport)
[10:03:47] [INFO] [Bullet] Within ricochet range - trying ricochet first
[10:03:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(428.9785, 959.9385), source=PLAYER (AssaultRifle), range=1469, listeners=10
[10:03:47] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[10:03:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(428.97852, 959.93854), shooter_id=1854368911777, bullet_pos=(909.54297, 622.4056)
[10:03:47] [INFO] [Bullet] Using shooter_position, distance=587,2569
[10:03:47] [INFO] [Bullet] Distance to wall: 587,2569 (39,987404% of viewport)
[10:03:47] [INFO] [Bullet] Within ricochet range - trying ricochet first
[10:03:47] [ENEMY] [Enemy3] Hit: dmg=1, hp=3/4->2/4
[10:03:47] [INFO] [ImpactEffects] spawn_blood_effect called at (619.8901, 812.055), dir=(1, 0), lethal=false
[10:03:47] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[10:03:47] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[10:03:47] [INFO] [ImpactEffects] Wall found for blood splatter at (680, 812.055) (dist=60 px)
[10:03:47] [INFO] [BloodDecal] Blood puddle created at (679, 812.055) (added to group)
[10:03:47] [INFO] [ImpactEffects] Blood effect spawned at (619.8901, 812.055) (scale=1)
[10:03:47] [ENEMY] [Enemy1] PURSUING corner check: angle 153.6°
[10:03:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(428.9785, 959.9385), source=PLAYER (AssaultRifle), range=1469, listeners=10
[10:03:47] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[10:03:47] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.6°, player=(428,959), corner_timer=-0.01
[10:03:47] [ENEMY] [Enemy10] PATROL corner check: angle 1.9°
[10:03:47] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.9°, current=5.8°, player=(428,959), corner_timer=0.30
[10:03:47] [INFO] [ReplayManager] Recording frame 180 (2,9s): player_valid=True, enemies=10
[10:03:47] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(428.9785, 959.9385), source=PLAYER (AssaultRifle), range=1469, listeners=10
[10:03:47] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[10:03:47] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(428.97852, 959.93854), shooter_id=1854368911777, bullet_pos=(751.1451, 64.107796)
[10:03:47] [INFO] [Bullet] Using shooter_position, distance=952,00006
[10:03:47] [INFO] [Bullet] Distance to wall: 952,00006 (64,82344% of viewport)
[10:03:47] [INFO] [Bullet] Distance-based penetration chance: 71,03932%
[10:03:47] [INFO] [Bullet] Starting wall penetration at (751.1451, 64.107796)
[10:03:47] [INFO] [Bullet] Raycast backward hit penetrating body at distance 4,212339
[10:03:47] [INFO] [Bullet] Max penetration distance exceeded: 66,66667 >= 48
[10:03:47] [INFO] [Bullet] Body exited signal received for penetrating body
[10:03:47] [INFO] [Bullet] Exiting penetration at (775.3978, -3.330429) after traveling 66,66667 pixels through wall
[10:03:47] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[10:03:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(428.9785, 959.9385), source=PLAYER (AssaultRifle), range=1469, listeners=10
[10:03:48] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[10:03:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(428.97852, 959.93854), shooter_id=1854368911777, bullet_pos=(751.1431, 64.10728)
[10:03:48] [INFO] [Bullet] Using shooter_position, distance=951,9998
[10:03:48] [INFO] [Bullet] Distance to wall: 951,9998 (64,82342% of viewport)
[10:03:48] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(428.9785, 959.9385), source=PLAYER (AssaultRifle), range=1469, listeners=10
[10:03:48] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[10:03:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(428.97852, 959.93854), shooter_id=1854368911777, bullet_pos=(751.1449, 64.107445)
[10:03:48] [INFO] [Bullet] Using shooter_position, distance=952,0003
[10:03:48] [INFO] [Bullet] Distance to wall: 952,0003 (64,823456% of viewport)
[10:03:48] [INFO] [Bullet] Distance-based penetration chance: 71,03931%
[10:03:48] [INFO] [Bullet] Starting wall penetration at (751.1449, 64.107445)
[10:03:48] [INFO] [Bullet] Raycast backward hit penetrating body at distance 4,2127438
[10:03:48] [INFO] [Bullet] Max penetration distance exceeded: 66,66667 >= 48
[10:03:48] [INFO] [Bullet] Body exited signal received for penetrating body
[10:03:48] [INFO] [Bullet] Exiting penetration at (775.39764, -3.3308067) after traveling 66,66667 pixels through wall
[10:03:48] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[10:03:48] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.9°, player=(428,959), corner_timer=-0.01
[10:03:48] [ENEMY] [Enemy10] PATROL corner check: angle 1.0°
[10:03:48] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.0°, current=4.2°, player=(428,959), corner_timer=0.30
[10:03:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(428.97852, 959.93854), shooter_id=1854368911777, bullet_pos=(751.14856, 64.10913)
[10:03:48] [INFO] [Bullet] Using shooter_position, distance=951,99994
[10:03:48] [INFO] [Bullet] Distance to wall: 951,99994 (64,82343% of viewport)
[10:03:48] [INFO] [Bullet] Distance-based penetration chance: 71,03933%
[10:03:48] [INFO] [Bullet] Starting wall penetration at (751.14856, 64.10913)
[10:03:48] [INFO] [Bullet] Raycast backward hit penetrating body at distance 4,2108917
[10:03:48] [INFO] [Bullet] Max penetration distance exceeded: 66,66667 >= 48
[10:03:48] [INFO] [Bullet] Body exited signal received for penetrating body
[10:03:48] [INFO] [Bullet] Exiting penetration at (775.40155, -3.3290024) after traveling 66,66667 pixels through wall
[10:03:48] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[10:03:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(428.97852, 959.93854), shooter_id=1854368911777, bullet_pos=(751.15356, 64.11082)
[10:03:48] [INFO] [Bullet] Using shooter_position, distance=952
[10:03:48] [INFO] [Bullet] Distance to wall: 952 (64,82343% of viewport)
[10:03:48] [INFO] [Bullet] Distance-based penetration chance: 71,03933%
[10:03:48] [INFO] [Bullet] Penetration failed (distance roll)
[10:03:48] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(428.97852, 959.93854), shooter_id=1854368911777, bullet_pos=(751.1553, 64.111275)
[10:03:48] [INFO] [Bullet] Using shooter_position, distance=952,0002
[10:03:48] [INFO] [Bullet] Distance to wall: 952,0002 (64,82344% of viewport)
[10:03:48] [INFO] [Bullet] Distance-based penetration chance: 71,03932%
[10:03:48] [INFO] [Bullet] Starting wall penetration at (751.1553, 64.111275)
[10:03:48] [INFO] [Bullet] Raycast backward hit penetrating body at distance 4,2085214
[10:03:48] [INFO] [Bullet] Max penetration distance exceeded: 66,666664 >= 48
[10:03:48] [INFO] [Bullet] Body exited signal received for penetrating body
[10:03:48] [INFO] [Bullet] Exiting penetration at (775.40875, -3.3266907) after traveling 66,666664 pixels through wall
[10:03:48] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[10:03:48] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[10:03:48] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[10:03:48] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:03:48] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[10:03:48] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[10:03:48] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[10:03:48] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[10:03:48] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[10:03:48] [INFO] [LastChance] Resetting all effects (scene change detected)
[10:03:48] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[10:03:48] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[10:03:48] [INFO] [FlashbangPlayer] Resetting flashbang player effects (scene change)
[10:03:48] [ENEMY] [Enemy1] Death animation component initialized
[10:03:48] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:03:48] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[10:03:48] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[10:03:48] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[10:03:48] [ENEMY] [Enemy2] Death animation component initialized
[10:03:48] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:03:48] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[10:03:48] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[10:03:48] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[10:03:48] [ENEMY] [Enemy3] Death animation component initialized
[10:03:48] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:03:48] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[10:03:48] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[10:03:48] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[10:03:48] [ENEMY] [Enemy4] Death animation component initialized
[10:03:48] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:03:48] [INFO] [BloodyFeet:Grenadier] Footprint scene loaded
[10:03:48] [INFO] [BloodyFeet:Grenadier] Found EnemyModel for facing direction
[10:03:48] [INFO] [BloodyFeet:Grenadier] BloodyFeetComponent ready on Grenadier
[10:03:48] [INFO] [EnemyGrenade] Grenade bag built (normal): [Flashbang, Flashbang, Flashbang, Offensive, Offensive, Offensive, Offensive, Offensive]
[10:03:48] [INFO] [EnemyGrenade] Grenadier initialized: 8 grenades in bag
[10:03:48] [ENEMY] [Grenadier] Death animation component initialized
[10:03:48] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:03:48] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[10:03:48] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[10:03:48] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[10:03:48] [ENEMY] [Enemy6] Death animation component initialized
[10:03:48] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:03:48] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[10:03:48] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[10:03:48] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[10:03:48] [ENEMY] [Enemy7] Death animation component initialized
[10:03:48] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:03:48] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[10:03:48] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[10:03:48] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[10:03:48] [ENEMY] [Enemy8] Death animation component initialized
[10:03:48] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:03:48] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[10:03:48] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[10:03:48] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[10:03:48] [ENEMY] [Enemy9] Death animation component initialized
[10:03:48] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:03:48] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[10:03:48] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[10:03:48] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[10:03:48] [ENEMY] [Enemy10] Death animation component initialized
[10:03:48] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[10:03:48] [INFO] [BloodyFeet:Player] Footprint scene loaded
[10:03:48] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[10:03:48] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[10:03:48] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[10:03:48] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[10:03:48] [INFO] [Player.Weapon] GameManager weapon selection: m16 (AssaultRifle)
[10:03:48] [INFO] [Player.Weapon] Removed default MakarovPM
[10:03:48] [INFO] [Player.Weapon] Equipped AssaultRifle (ammo: 30/30)
[10:03:48] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[10:03:48] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[10:03:48] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[10:03:48] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[10:03:48] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[10:03:48] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[10:03:48] [INFO] [Player.Flashlight] No flashlight selected in ActiveItemManager
[10:03:48] [INFO] [Player.TeleportBracers] No teleport bracers selected in ActiveItemManager
[10:03:48] [INFO] [Player.Homing] Homing activation sound loaded
[10:03:48] [INFO] [Player.Homing] Homing bullets equipped, charges: 6/6
[10:03:48] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 10/10
[10:03:48] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[10:03:48] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[10:03:48] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[10:03:48] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[10:03:48] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[10:03:48] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[10:03:48] [INFO] [BuildingLevel] Child 'Grenadier': script=true, has_died_signal=true
[10:03:48] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[10:03:48] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[10:03:48] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[10:03:48] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[10:03:48] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[10:03:48] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[10:03:48] [INFO] [BuildingLevel] Setting up weapon: m16
[10:03:48] [INFO] [BuildingLevel] AssaultRifle already equipped by C# Player - skipping GDScript weapon swap
[10:03:48] [INFO] [ScoreManager] Level started with 10 enemies
[10:03:48] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[10:03:48] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[10:03:48] [INFO] [ReplayManager] Replay data cleared
[10:03:48] [INFO] [BuildingLevel] Previous replay data cleared
[10:03:48] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[10:03:48] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[10:03:48] [INFO] [ReplayManager] Level: BuildingLevel
[10:03:48] [INFO] [ReplayManager] Player: Player (valid: True)
[10:03:48] [INFO] [ReplayManager] Enemies count: 10
[10:03:48] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[10:03:48] [INFO] [ReplayManager]   Enemy 0: Enemy1
[10:03:48] [INFO] [ReplayManager]   Enemy 1: Enemy2
[10:03:48] [INFO] [ReplayManager]   Enemy 2: Enemy3
[10:03:48] [INFO] [ReplayManager]   Enemy 3: Enemy4
[10:03:48] [INFO] [ReplayManager]   Enemy 4: Grenadier
[10:03:48] [INFO] [ReplayManager]   Enemy 5: Enemy6
[10:03:48] [INFO] [ReplayManager]   Enemy 6: Enemy7
[10:03:48] [INFO] [ReplayManager]   Enemy 7: Enemy8
[10:03:48] [INFO] [ReplayManager]   Enemy 8: Enemy9
[10:03:48] [INFO] [ReplayManager]   Enemy 9: Enemy10
[10:03:48] [INFO] [BuildingLevel] Replay recording started successfully
[10:03:48] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[10:03:48] [INFO] [CinemaEffects] Found player node: Player
[10:03:48] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[10:03:48] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[10:03:48] [ENEMY] [Enemy1] Registered as sound listener
[10:03:48] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 2, behavior: GUARD
[10:03:48] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[10:03:48] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[10:03:48] [ENEMY] [Enemy2] Registered as sound listener
[10:03:48] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 3, behavior: GUARD
[10:03:48] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[10:03:48] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[10:03:48] [ENEMY] [Enemy3] Registered as sound listener
[10:03:48] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 4, behavior: GUARD
[10:03:48] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[10:03:48] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[10:03:48] [ENEMY] [Enemy4] Registered as sound listener
[10:03:48] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 4, behavior: GUARD
[10:03:48] [INFO] [BloodyFeet:Grenadier] Blood detector created and attached to Grenadier
[10:03:48] [INFO] [SoundPropagation] Registered listener: Grenadier (total: 15)
[10:03:48] [ENEMY] [Grenadier] Registered as sound listener
[10:03:48] [ENEMY] [Grenadier] Spawned at (1700, 350), hp: 2, behavior: GUARD
[10:03:48] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[10:03:48] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[10:03:48] [ENEMY] [Enemy6] Registered as sound listener
[10:03:48] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 3, behavior: GUARD
[10:03:48] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[10:03:48] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[10:03:48] [ENEMY] [Enemy7] Registered as sound listener
[10:03:48] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 3, behavior: PATROL
[10:03:48] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[10:03:48] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[10:03:48] [ENEMY] [Enemy8] Registered as sound listener
[10:03:48] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 4, behavior: GUARD
[10:03:48] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[10:03:48] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[10:03:48] [ENEMY] [Enemy9] Registered as sound listener
[10:03:48] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 4, behavior: GUARD
[10:03:48] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[10:03:48] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[10:03:48] [ENEMY] [Enemy10] Registered as sound listener
[10:03:48] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 3, behavior: PATROL
[10:03:48] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[10:03:48] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[10:03:48] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[10:03:48] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[10:03:48] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[10:03:48] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[10:03:48] [ENEMY] [Grenadier] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[10:03:48] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[10:03:48] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=157.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[10:03:48] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=337.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[10:03:48] [INFO] [Player] Detecting weapon pose (frame 3)...
[10:03:48] [INFO] [Player] Detected weapon: Rifle (default pose)
[10:03:48] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[10:03:48] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[10:03:48] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[10:03:48] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[10:03:48] [INFO] [LastChance] Found player: Player
[10:03:48] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[10:03:48] [INFO] [LastChance] Connected to player Damaged signal (C#)
[10:03:48] [INFO] [LastChance] Connected to player Died signal (C#)
[10:03:48] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[10:03:49] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[10:03:50] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[10:03:50] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[10:03:50] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,1250), corner_timer=0.30
[10:03:50] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,1250), corner_timer=0.30
[10:03:50] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(450,1250), corner_timer=-0.02
[10:03:50] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[10:03:50] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(450,1250), corner_timer=-0.02
[10:03:50] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[10:03:50] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(450,1250), corner_timer=0.30
[10:03:50] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(450,1250), corner_timer=0.30
[10:03:50] [INFO] ------------------------------------------------------------
[10:03:50] [INFO] GAME LOG ENDED: 2026-02-09T10:03:50
[10:03:50] [INFO] ============================================================
