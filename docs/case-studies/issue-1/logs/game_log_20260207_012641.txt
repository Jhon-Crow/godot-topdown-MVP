[01:26:41] [INFO] ============================================================
[01:26:41] [INFO] GAME LOG STARTED
[01:26:41] [INFO] ============================================================
[01:26:41] [INFO] Timestamp: 2026-02-07T01:26:41
[01:26:41] [INFO] Log file: I:/Загрузки/godot exe/повтор/game_log_20260207_012641.txt
[01:26:41] [INFO] Executable: I:/Загрузки/godot exe/повтор/Godot-Top-Down-Template.exe
[01:26:41] [INFO] OS: Windows
[01:26:41] [INFO] Debug build: false
[01:26:41] [INFO] Engine version: 4.3-stable (official)
[01:26:41] [INFO] Project: Godot Top-Down Template
[01:26:41] [INFO] ------------------------------------------------------------
[01:26:41] [INFO] [GameManager] GameManager ready
[01:26:41] [INFO] [ScoreManager] ScoreManager ready
[01:26:41] [INFO] [SoundPropagation] SoundPropagation autoload initialized
[01:26:41] [INFO] [ImpactEffects] Scenes loaded: DustEffect, BloodEffect, SparksEffect, BloodDecal
[01:26:41] [INFO] [ImpactEffects] ImpactEffectsManager ready - FULL VERSION with blood effects enabled
[01:26:41] [INFO] [ImpactEffects] Starting particle shader warmup (Issue #343 fix)...
[01:26:41] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[01:26:41] [INFO] [PenultimateHit] Saturation shader loaded successfully
[01:26:41] [INFO] [PenultimateHit] Starting shader warmup (Issue #343 fix)...
[01:26:41] [INFO] [PenultimateHit] PenultimateHitEffectsManager ready - Configuration:
[01:26:41] [INFO] [PenultimateHit]   Time scale: 0.10 (10x slowdown)
[01:26:41] [INFO] [PenultimateHit]   Saturation boost: 2.0 (3.0x)
[01:26:41] [INFO] [PenultimateHit]   Contrast boost: 1.0 (2.0x)
[01:26:41] [INFO] [PenultimateHit]   Effect duration: 3.0 real seconds
[01:26:41] [INFO] [LastChance] Resetting all effects (scene change detected)
[01:26:41] [INFO] [LastChance] Last chance shader loaded successfully
[01:26:41] [INFO] [LastChance] Starting shader warmup (Issue #343 fix)...
[01:26:41] [INFO] [LastChance] LastChanceEffectsManager ready - Configuration:
[01:26:41] [INFO] [LastChance]   Freeze duration: 6.0 real seconds
[01:26:41] [INFO] [LastChance]   Sepia intensity: 0.70
[01:26:41] [INFO] [LastChance]   Brightness: 0.60
[01:26:41] [INFO] [GrenadeManager] Loaded grenade scene: res://scenes/projectiles/FlashbangGrenade.tscn
[01:26:41] [INFO] [GrenadeManager] Loaded grenade scene: res://scenes/projectiles/FragGrenade.tscn
[01:26:41] [INFO] [GrenadeManager] Loaded grenade scene: res://scenes/projectiles/DefensiveGrenade.tscn
[01:26:41] [INFO] [ExperimentalSettings] ExperimentalSettings initialized - FOV enabled: true, Complex grenade throwing: false
[01:26:41] [INFO] [CinemaEffects] CinemaEffectsManager initializing (v5.3 - overlay approach with simplified death circle)...
[01:26:41] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[01:26:41] [INFO] [CinemaEffects] Created effects layer at layer 99
[01:26:41] [INFO] [CinemaEffects] Cinema shader loaded successfully (v5.0 - no screen_texture)
[01:26:41] [INFO] [CinemaEffects] Starting cinema shader warmup (Issue #343 fix)...
[01:26:41] [INFO] [CinemaEffects] Cinema film effect initialized (v5.3) - Configuration:
[01:26:41] [INFO] [CinemaEffects]   Approach: Overlay-based (no screen_texture)
[01:26:41] [INFO] [CinemaEffects]   Grain intensity: 0.15
[01:26:41] [INFO] [CinemaEffects]   Warm tint: 0.12 intensity
[01:26:41] [INFO] [CinemaEffects]   Sunny effect: 0.08 intensity
[01:26:41] [INFO] [CinemaEffects]   Vignette: 0.25 intensity
[01:26:41] [INFO] [CinemaEffects]   Film defects: 1.5% probability
[01:26:41] [INFO] [CinemaEffects]   White specks: 0.70 intensity, 4.0% probability
[01:26:41] [INFO] [CinemaEffects]   Death effects: cigarette burn + expanding spots + end of reel circle (160px, blinks 2x)
[01:26:41] [INFO] [CinemaEffects] Enabling effect after 1 frame(s)...
[01:26:41] [INFO] [GrenadeTimerHelper] Autoload ready
[01:26:41] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[01:26:41] [INFO] [PowerFantasy] Saturation shader loaded successfully
[01:26:41] [INFO] [PowerFantasy] PowerFantasyEffectsManager ready - Configuration:
[01:26:41] [INFO] [PowerFantasy]   Kill effect duration: 300ms
[01:26:41] [INFO] [PowerFantasy]   Grenade effect duration: 2000ms (2.0s)
[01:26:41] [INFO] [ReplayManager] ReplayManager ready (C# version loaded and _Ready called)
[01:26:41] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:26:41] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[01:26:41] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[01:26:41] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[01:26:41] [ENEMY] [Enemy1] Death animation component initialized
[01:26:41] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:26:41] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[01:26:41] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[01:26:41] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[01:26:41] [ENEMY] [Enemy2] Death animation component initialized
[01:26:41] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:26:41] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[01:26:41] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[01:26:41] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[01:26:41] [ENEMY] [Enemy3] Death animation component initialized
[01:26:41] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:26:41] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[01:26:41] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[01:26:41] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[01:26:41] [INFO] [EnemyGrenade] Initialized: 1 grenades
[01:26:41] [ENEMY] [Enemy4] Death animation component initialized
[01:26:41] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:26:41] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[01:26:41] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[01:26:41] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[01:26:41] [ENEMY] [Enemy5] Death animation component initialized
[01:26:41] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:26:41] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[01:26:41] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[01:26:41] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[01:26:41] [INFO] [EnemyGrenade] Initialized: 1 grenades
[01:26:41] [ENEMY] [Enemy6] Death animation component initialized
[01:26:41] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:26:41] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[01:26:41] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[01:26:41] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[01:26:41] [ENEMY] [Enemy7] Death animation component initialized
[01:26:41] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:26:41] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[01:26:41] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[01:26:41] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[01:26:41] [INFO] [EnemyGrenade] Initialized: 1 grenades
[01:26:41] [ENEMY] [Enemy8] Death animation component initialized
[01:26:41] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:26:41] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[01:26:41] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[01:26:41] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[01:26:41] [ENEMY] [Enemy9] Death animation component initialized
[01:26:41] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:26:41] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[01:26:41] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[01:26:41] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[01:26:41] [INFO] [EnemyGrenade] Initialized: 1 grenades
[01:26:41] [ENEMY] [Enemy10] Death animation component initialized
[01:26:41] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:26:41] [INFO] [BloodyFeet:Player] Footprint scene loaded
[01:26:41] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[01:26:41] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[01:26:41] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[01:26:41] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[01:26:41] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[01:26:41] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[01:26:41] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[01:26:41] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[01:26:41] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[01:26:41] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[01:26:41] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[01:26:41] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[01:26:41] [INFO] [BloodDecal] Blood puddle created at (640, 360) (added to group)
[01:26:41] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[01:26:41] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[01:26:41] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[01:26:41] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[01:26:41] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[01:26:41] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[01:26:41] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[01:26:41] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[01:26:41] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[01:26:41] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[01:26:41] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[01:26:41] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[01:26:41] [INFO] [ScoreManager] Level started with 10 enemies
[01:26:41] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[01:26:41] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[01:26:41] [INFO] [ReplayManager] Replay data cleared
[01:26:41] [INFO] [BuildingLevel] Previous replay data cleared
[01:26:41] [INFO] [ReplayManager] Detected player weapon: Assault Rifle (default)
[01:26:41] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[01:26:41] [INFO] [ReplayManager] Level: BuildingLevel
[01:26:41] [INFO] [ReplayManager] Player: Player (valid: True)
[01:26:41] [INFO] [ReplayManager] Enemies count: 10
[01:26:41] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/m16_rifle_topdown.png
[01:26:41] [INFO] [ReplayManager]   Enemy 0: Enemy1
[01:26:41] [INFO] [ReplayManager]   Enemy 1: Enemy2
[01:26:41] [INFO] [ReplayManager]   Enemy 2: Enemy3
[01:26:41] [INFO] [ReplayManager]   Enemy 3: Enemy4
[01:26:41] [INFO] [ReplayManager]   Enemy 4: Enemy5
[01:26:41] [INFO] [ReplayManager]   Enemy 5: Enemy6
[01:26:41] [INFO] [ReplayManager]   Enemy 6: Enemy7
[01:26:41] [INFO] [ReplayManager]   Enemy 7: Enemy8
[01:26:41] [INFO] [ReplayManager]   Enemy 8: Enemy9
[01:26:41] [INFO] [ReplayManager]   Enemy 9: Enemy10
[01:26:41] [INFO] [BuildingLevel] Replay recording started successfully
[01:26:41] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[01:26:41] [INFO] [CinemaEffects] Found player node: Player
[01:26:41] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[01:26:41] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[01:26:41] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 1)
[01:26:41] [ENEMY] [Enemy1] Registered as sound listener
[01:26:41] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 2, behavior: GUARD
[01:26:41] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[01:26:41] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 2)
[01:26:41] [ENEMY] [Enemy2] Registered as sound listener
[01:26:41] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 4, behavior: GUARD
[01:26:41] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[01:26:41] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 3)
[01:26:41] [ENEMY] [Enemy3] Registered as sound listener
[01:26:41] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 3, behavior: GUARD
[01:26:41] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[01:26:41] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 4)
[01:26:41] [ENEMY] [Enemy4] Registered as sound listener
[01:26:41] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 3, behavior: GUARD
[01:26:41] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[01:26:41] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 5)
[01:26:41] [ENEMY] [Enemy5] Registered as sound listener
[01:26:41] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 2, behavior: GUARD
[01:26:41] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[01:26:41] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 6)
[01:26:41] [ENEMY] [Enemy6] Registered as sound listener
[01:26:41] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 4, behavior: GUARD
[01:26:41] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[01:26:41] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 7)
[01:26:41] [ENEMY] [Enemy7] Registered as sound listener
[01:26:41] [ENEMY] [Enemy7] Spawned at (1606.114, 893.8859), hp: 3, behavior: PATROL
[01:26:41] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[01:26:41] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 8)
[01:26:41] [ENEMY] [Enemy8] Registered as sound listener
[01:26:41] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 3, behavior: GUARD
[01:26:41] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[01:26:41] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 9)
[01:26:41] [ENEMY] [Enemy9] Registered as sound listener
[01:26:41] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 4, behavior: GUARD
[01:26:41] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[01:26:41] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 10)
[01:26:41] [ENEMY] [Enemy10] Registered as sound listener
[01:26:41] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 2, behavior: PATROL
[01:26:41] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[01:26:41] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[01:26:41] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[01:26:41] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=281.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[01:26:41] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[01:26:41] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[01:26:41] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[01:26:41] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=123.7°, current=0.0°, player=(450,1250), corner_timer=0.00
[01:26:41] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=180.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[01:26:41] [INFO] [Player] Detecting weapon pose (frame 3)...
[01:26:41] [INFO] [Player] Detected weapon: Rifle (default pose)
[01:26:41] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[01:26:41] [INFO] [PenultimateHit] Shader warmup complete in 364 ms
[01:26:41] [INFO] [LastChance] Shader warmup complete in 362 ms
[01:26:41] [INFO] [CinemaEffects] Cinema shader warmup complete in 311 ms
[01:26:41] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[01:26:41] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[01:26:41] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[01:26:41] [INFO] [LastChance] Found player: Player
[01:26:41] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[01:26:41] [INFO] [LastChance] Connected to player Damaged signal (C#)
[01:26:41] [INFO] [LastChance] Connected to player Died signal (C#)
[01:26:41] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[01:26:42] [INFO] [ImpactEffects] Particle shader warmup complete: 7 effects warmed up in 670 ms
[01:26:43] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[01:26:43] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[01:26:43] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[01:26:43] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,1250), corner_timer=0.30
[01:26:43] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,1250), corner_timer=0.30
[01:26:43] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(450,1250), corner_timer=-0.02
[01:26:43] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[01:26:43] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(450,1250), corner_timer=-0.02
[01:26:43] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[01:26:43] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(450,1250), corner_timer=0.30
[01:26:43] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(450,1250), corner_timer=0.30
[01:26:44] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[01:26:44] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(450,1250), corner_timer=-0.02
[01:26:44] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[01:26:44] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(450,1250), corner_timer=0.30
[01:26:44] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(450,1250), corner_timer=-0.02
[01:26:44] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[01:26:44] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.6°, player=(450,1250), corner_timer=0.30
[01:26:44] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(450,1250), corner_timer=-0.02
[01:26:44] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[01:26:44] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.8°, current=6.3°, player=(450,1250), corner_timer=0.30
[01:26:45] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=10
[01:26:45] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.8°, player=(450,1250), corner_timer=-0.02
[01:26:45] [ENEMY] [Enemy10] PATROL corner check: angle 0.9°
[01:26:45] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=0.9°, current=4.6°, player=(450,1250), corner_timer=0.30
[01:26:45] [INFO] [Player] Invincibility mode: ON
[01:26:45] [INFO] [GameManager] Invincibility mode toggled: ON
[01:26:45] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[01:26:45] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=-130.1°, player=(450,1250), corner_timer=-0.02
[01:26:45] [ENEMY] [Enemy7] PATROL corner check: angle 90.0°
[01:26:45] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=-133.0°, player=(450,1250), corner_timer=0.30
[01:26:45] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[01:26:46] [INFO] [ReplayManager] Recording frame 240 (4,0s): player_valid=True, enemies=10
[01:26:46] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=179.1°, current=172.4°, player=(450,1250), corner_timer=-0.02
[01:26:46] [ENEMY] [Enemy7] PATROL corner check: angle 89.8°
[01:26:46] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.8°, current=175.3°, player=(450,1250), corner_timer=0.30
[01:26:46] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[01:26:46] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=178.4°, current=120.7°, player=(450,1250), corner_timer=-0.02
[01:26:46] [ENEMY] [Enemy7] PATROL corner check: angle 89.7°
[01:26:46] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.7°, current=123.6°, player=(450,1250), corner_timer=0.30
[01:26:47] [INFO] [ReplayManager] Recording frame 300 (5,0s): player_valid=True, enemies=10
[01:26:47] [INFO] [PauseMenu] Armory button pressed
[01:26:47] [INFO] [PauseMenu] Creating new armory menu instance
[01:26:47] [INFO] [PauseMenu] armory_menu_scene resource path: res://scenes/ui/ArmoryMenu.tscn
[01:26:47] [INFO] [PauseMenu] Instance created, class: CanvasLayer, name: ArmoryMenu
[01:26:47] [INFO] [PauseMenu] Script attached: res://scripts/ui/armory_menu.gd
[01:26:47] [INFO] [PauseMenu] back_pressed signal exists on instance
[01:26:47] [INFO] [PauseMenu] back_pressed signal connected
[01:26:47] [INFO] [PauseMenu] Armory menu instance added as child, is_inside_tree: true
[01:26:47] [INFO] [PauseMenu] _populate_weapon_grid method exists
[01:26:48] [INFO] [ReplayManager] Recording frame 360 (6,0s): player_valid=True, enemies=10
[01:26:49] [INFO] [ReplayManager] Recording frame 420 (7,0s): player_valid=True, enemies=10
[01:26:50] [INFO] [ReplayManager] Recording frame 480 (8,0s): player_valid=True, enemies=10
[01:26:50] [INFO] [GameManager] Weapon selected: shotgun
[01:26:50] [INFO] [GrenadeManager] Grenade type changed from Flashbang to Frag Grenade
[01:26:50] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[01:26:50] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:26:50] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[01:26:50] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[01:26:50] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[01:26:50] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[01:26:50] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[01:26:50] [INFO] [LastChance] Resetting all effects (scene change detected)
[01:26:50] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[01:26:50] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[01:26:50] [INFO] [EnemyGrenade] Initialized: 1 grenades
[01:26:50] [ENEMY] [Enemy1] Death animation component initialized
[01:26:50] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:26:50] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[01:26:50] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[01:26:50] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[01:26:50] [ENEMY] [Enemy2] Death animation component initialized
[01:26:50] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:26:50] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[01:26:50] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[01:26:50] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[01:26:50] [ENEMY] [Enemy3] Death animation component initialized
[01:26:50] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:26:50] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[01:26:50] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[01:26:50] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[01:26:50] [ENEMY] [Enemy4] Death animation component initialized
[01:26:50] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:26:50] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[01:26:50] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[01:26:50] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[01:26:50] [ENEMY] [Enemy5] Death animation component initialized
[01:26:50] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:26:50] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[01:26:50] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[01:26:50] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[01:26:50] [ENEMY] [Enemy6] Death animation component initialized
[01:26:50] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:26:50] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[01:26:50] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[01:26:50] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[01:26:50] [INFO] [EnemyGrenade] Initialized: 1 grenades
[01:26:50] [ENEMY] [Enemy7] Death animation component initialized
[01:26:50] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:26:50] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[01:26:50] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[01:26:50] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[01:26:50] [INFO] [EnemyGrenade] Initialized: 1 grenades
[01:26:50] [ENEMY] [Enemy8] Death animation component initialized
[01:26:50] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:26:50] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[01:26:50] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[01:26:50] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[01:26:50] [ENEMY] [Enemy9] Death animation component initialized
[01:26:50] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:26:50] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[01:26:50] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[01:26:50] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[01:26:50] [ENEMY] [Enemy10] Death animation component initialized
[01:26:50] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:26:50] [INFO] [BloodyFeet:Player] Footprint scene loaded
[01:26:50] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[01:26:50] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[01:26:50] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[01:26:50] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[01:26:50] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[01:26:50] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[01:26:50] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[01:26:50] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[01:26:50] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[01:26:50] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: True
[01:26:50] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[01:26:50] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[01:26:50] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[01:26:50] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[01:26:50] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[01:26:50] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[01:26:50] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[01:26:50] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[01:26:50] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[01:26:50] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[01:26:50] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[01:26:50] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[01:26:50] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[01:26:50] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[01:26:50] [INFO] [ScoreManager] Level started with 10 enemies
[01:26:50] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[01:26:50] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[01:26:50] [INFO] [ReplayManager] Replay data cleared
[01:26:50] [INFO] [BuildingLevel] Previous replay data cleared
[01:26:50] [INFO] [ReplayManager] Detected player weapon: Shotgun
[01:26:50] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[01:26:50] [INFO] [ReplayManager] Level: BuildingLevel
[01:26:50] [INFO] [ReplayManager] Player: Player (valid: True)
[01:26:50] [INFO] [ReplayManager] Enemies count: 10
[01:26:50] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/shotgun_topdown.png
[01:26:50] [INFO] [ReplayManager]   Enemy 0: Enemy1
[01:26:50] [INFO] [ReplayManager]   Enemy 1: Enemy2
[01:26:50] [INFO] [ReplayManager]   Enemy 2: Enemy3
[01:26:50] [INFO] [ReplayManager]   Enemy 3: Enemy4
[01:26:50] [INFO] [ReplayManager]   Enemy 4: Enemy5
[01:26:50] [INFO] [ReplayManager]   Enemy 5: Enemy6
[01:26:50] [INFO] [ReplayManager]   Enemy 6: Enemy7
[01:26:50] [INFO] [ReplayManager]   Enemy 7: Enemy8
[01:26:50] [INFO] [ReplayManager]   Enemy 8: Enemy9
[01:26:50] [INFO] [ReplayManager]   Enemy 9: Enemy10
[01:26:50] [INFO] [BuildingLevel] Replay recording started successfully
[01:26:50] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[01:26:50] [INFO] [CinemaEffects] Found player node: Player
[01:26:50] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[01:26:50] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[01:26:50] [ENEMY] [Enemy1] Registered as sound listener
[01:26:50] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 4, behavior: GUARD
[01:26:50] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[01:26:50] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[01:26:50] [ENEMY] [Enemy2] Registered as sound listener
[01:26:50] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 2, behavior: GUARD
[01:26:50] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[01:26:50] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[01:26:50] [ENEMY] [Enemy3] Registered as sound listener
[01:26:50] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 4, behavior: GUARD
[01:26:50] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[01:26:50] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[01:26:50] [ENEMY] [Enemy4] Registered as sound listener
[01:26:50] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 2, behavior: GUARD
[01:26:50] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[01:26:50] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[01:26:50] [ENEMY] [Enemy5] Registered as sound listener
[01:26:50] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 4, behavior: GUARD
[01:26:50] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[01:26:50] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[01:26:50] [ENEMY] [Enemy6] Registered as sound listener
[01:26:50] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 4, behavior: GUARD
[01:26:50] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[01:26:50] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[01:26:50] [ENEMY] [Enemy7] Registered as sound listener
[01:26:50] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 4, behavior: PATROL
[01:26:50] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[01:26:50] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[01:26:50] [ENEMY] [Enemy8] Registered as sound listener
[01:26:50] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 3, behavior: GUARD
[01:26:50] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[01:26:50] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[01:26:50] [ENEMY] [Enemy9] Registered as sound listener
[01:26:50] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 3, behavior: GUARD
[01:26:50] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[01:26:50] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[01:26:50] [ENEMY] [Enemy10] Registered as sound listener
[01:26:50] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 4, behavior: PATROL
[01:26:50] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[01:26:50] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[01:26:51] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[01:26:51] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[01:26:51] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[01:26:51] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[01:26:51] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[01:26:51] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=225.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[01:26:51] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[01:26:51] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[01:26:51] [INFO] [Player] Detecting weapon pose (frame 3)...
[01:26:51] [INFO] [Player] Detected weapon: Shotgun (Shotgun pose)
[01:26:51] [INFO] [Player] Applied Shotgun arm pose: Left=(21, 6), Right=(-1, 6)
[01:26:51] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[01:26:51] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[01:26:51] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[01:26:51] [INFO] [LastChance] Found player: Player
[01:26:51] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[01:26:51] [INFO] [LastChance] Connected to player Damaged signal (C#)
[01:26:51] [INFO] [LastChance] Connected to player Died signal (C#)
[01:26:51] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[01:26:51] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[01:26:52] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[01:26:52] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[01:26:52] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,819), corner_timer=0.30
[01:26:52] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,819), corner_timer=0.30
[01:26:52] [ENEMY] [Enemy1] Player ammo empty: false -> true
[01:26:52] [ENEMY] [Enemy2] Player ammo empty: false -> true
[01:26:52] [ENEMY] [Enemy3] Player ammo empty: false -> true
[01:26:52] [ENEMY] [Enemy4] Player ammo empty: false -> true
[01:26:52] [ENEMY] [Enemy5] Player ammo empty: false -> true
[01:26:52] [ENEMY] [Enemy6] Player ammo empty: false -> true
[01:26:52] [ENEMY] [Enemy7] Player ammo empty: false -> true
[01:26:52] [ENEMY] [Enemy8] Player ammo empty: false -> true
[01:26:52] [ENEMY] [Enemy9] Player ammo empty: false -> true
[01:26:52] [ENEMY] [Enemy10] Player ammo empty: false -> true
[01:26:52] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(453.0796, 782.4423), source=PLAYER (Player), range=600, listeners=20
[01:26:52] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[01:26:52] [ENEMY] [Enemy1] Heard player EMPTY_CLICK at (453.0796, 782.4423), intensity=0.01, distance=459
[01:26:52] [ENEMY] [Enemy1] Vulnerability sound triggered pursuit - transitioning from IDLE to PURSUING
[01:26:52] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (453.0796, 782.4423), intensity=0.04, distance=238
[01:26:52] [ENEMY] [Enemy2] Vulnerability sound triggered pursuit - transitioning from IDLE to PURSUING
[01:26:52] [ENEMY] [Enemy3] Heard player EMPTY_CLICK at (453.0796, 782.4423), intensity=0.04, distance=249
[01:26:52] [ENEMY] [Enemy3] Vulnerability sound triggered pursuit - transitioning from IDLE to PURSUING
[01:26:52] [ENEMY] [Enemy4] Heard player EMPTY_CLICK at (453.0796, 782.4423), intensity=0.02, distance=366
[01:26:52] [ENEMY] [Enemy4] Vulnerability sound triggered pursuit - transitioning from IDLE to PURSUING
[01:26:52] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=6, self=0, below_threshold=0
[01:26:52] [INFO] [Shotgun.FIX#212] Firing 10 pellets with 15° spread at pos=(453.0796, 782.44226)
[01:26:52] [INFO] [Shotgun.FIX#212] Normal pellet 1/10: extraOffset=-1,4, distance=50,6px, pos=(502.4657, 771.28467)
[01:26:52] [INFO] [Shotgun.FIX#212] Normal pellet 2/10: extraOffset=12,5, distance=64,5px, pos=(515.9711, 768.0055)
[01:26:52] [INFO] [Shotgun.FIX#212] Normal pellet 3/10: extraOffset=4,1, distance=56,1px, pos=(508.04382, 771.166)
[01:26:52] [INFO] [Shotgun.FIX#212] Normal pellet 4/10: extraOffset=4,9, distance=56,9px, pos=(509.46866, 774.5521)
[01:26:52] [INFO] [Shotgun.FIX#212] Normal pellet 5/10: extraOffset=0,2, distance=52,2px, pos=(504.89175, 775.72217)
[01:26:52] [INFO] [Shotgun.FIX#212] Normal pellet 6/10: extraOffset=3,9, distance=55,9px, pos=(508.60825, 776.2469)
[01:26:52] [INFO] [Shotgun.FIX#212] Normal pellet 7/10: extraOffset=-5,0, distance=47,0px, pos=(499.88034, 777.8264)
[01:26:52] [INFO] [Shotgun.FIX#212] Normal pellet 8/10: extraOffset=4,1, distance=56,1px, pos=(509.13953, 779.7732)
[01:26:52] [INFO] [Shotgun.FIX#212] Normal pellet 9/10: extraOffset=-9,0, distance=43,0px, pos=(496.0821, 782.8299)
[01:26:52] [INFO] [Shotgun.FIX#212] Normal pellet 10/10: extraOffset=10,9, distance=62,9px, pos=(515.9489, 782.8309)
[01:26:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(453.0796, 782.4423), source=PLAYER (Shotgun), range=1469, listeners=10
[01:26:52] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[01:26:52] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=70.5°, current=-157.5°, player=(453,782), corner_timer=0.00
[01:26:52] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=459), can_see=false
[01:26:52] [INFO] [EnemyGrenade] Throw path blocked to (453.0796, 782.4423)
[01:26:52] [ENEMY] [Enemy1] Pursuing vulnerability sound at (453.0796, 782.4423), distance=459
[01:26:52] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=77.1°, current=168.8°, player=(453,782), corner_timer=0.00
[01:26:52] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=238), can_see=false
[01:26:52] [ENEMY] [Enemy2] Pursuing vulnerability sound at (453.0796, 782.4423), distance=238
[01:26:52] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=172.5°, current=-33.8°, player=(453,782), corner_timer=0.00
[01:26:52] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=249), can_see=false
[01:26:52] [ENEMY] [Enemy3] Pursuing vulnerability sound at (453.0796, 782.4423), distance=249
[01:26:52] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=-161.3°, current=-67.5°, player=(453,782), corner_timer=0.00
[01:26:52] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=366), can_see=false
[01:26:52] [ENEMY] [Enemy4] Pursuing vulnerability sound at (453.0796, 782.4423), distance=366
[01:26:52] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1320), can_see=false
[01:26:52] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1533), can_see=false
[01:26:52] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1189), can_see=false
[01:26:52] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1593), can_see=false
[01:26:52] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1817), can_see=false
[01:26:52] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1091), can_see=false
[01:26:52] [INFO] [EnemyGrenade] Throw path blocked to (453.0796, 782.4423)
[01:26:52] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=173.6°, current=136.8°, player=(454,777), corner_timer=0.00
[01:26:52] [ENEMY] [Enemy3] Player empty ammo - priority attack triggered
[01:26:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(694.7022, 750.6149), source=ENEMY (Enemy3), range=1469, listeners=10
[01:26:52] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[01:26:52] [INFO] [EnemyGrenade] Throw path blocked to (453.0796, 782.4423)
[01:26:52] [INFO] [LastChance] Threat detected: Bullet
[01:26:52] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[01:26:52] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:26:52] [INFO] [EnemyGrenade] Throw path blocked to (453.0796, 782.4423)
[01:26:52] [ENEMY] [Enemy3] Hit taken, damage: 1, health: 4/4 -> 3/4
[01:26:52] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[01:26:52] [INFO] [ImpactEffects] spawn_blood_effect called at (678.7768, 752.1367), dir=(1, 0), lethal=false
[01:26:52] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:26:52] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[01:26:52] [INFO] [ImpactEffects] Blood effect spawned at (678.7768, 752.1367) (scale=1)
[01:26:52] [ENEMY] [Enemy3] Hit taken, damage: 1, health: 3/4 -> 2/4
[01:26:52] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[01:26:52] [INFO] [ImpactEffects] spawn_blood_effect called at (678.7768, 752.1367), dir=(1, 0), lethal=false
[01:26:52] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:26:52] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[01:26:52] [INFO] [ImpactEffects] Blood effect spawned at (678.7768, 752.1367) (scale=1)
[01:26:52] [ENEMY] [Enemy3] Hit taken, damage: 1, health: 2/4 -> 1/4
[01:26:52] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[01:26:52] [INFO] [ImpactEffects] spawn_blood_effect called at (678.7768, 752.1367), dir=(1, 0), lethal=false
[01:26:52] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:26:52] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[01:26:52] [INFO] [ImpactEffects] Blood effect spawned at (678.7768, 752.1367) (scale=1)
[01:26:52] [ENEMY] [Enemy3] Hit taken, damage: 1, health: 1/4 -> 0/4
[01:26:52] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[01:26:52] [INFO] [ImpactEffects] spawn_blood_effect called at (678.7768, 752.1367), dir=(1, 0), lethal=true
[01:26:52] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:26:52] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[01:26:52] [INFO] [ImpactEffects] Blood effect spawned at (678.7768, 752.1367) (scale=1.5)
[01:26:52] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[01:26:52] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[01:26:52] [ENEMY] [Enemy4] [AllyDeath] Witnessed at (678.7768, 752.1367), entering SEARCHING
[01:26:52] [ENEMY] [Enemy4] SEARCHING started: center=(678.7768, 752.1367), radius=100, waypoints=5
[01:26:52] [ENEMY] [Enemy3] [AllyDeath] Notified 2 enemies
[01:26:52] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[01:26:52] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[01:26:52] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[01:26:52] [INFO] [EnemyGrenade] Throw path blocked to (453.0796, 782.4423)
[01:26:52] [INFO] [EnemyGrenade] Throw path blocked to (453.0796, 782.4423)
[01:26:52] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=57.0°, player=(482,743), corner_timer=-0.01
[01:26:52] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[01:26:52] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=52.4°, player=(482,743), corner_timer=-0.01
[01:26:52] [ENEMY] [Enemy10] PATROL corner check: angle 14.6°
[01:26:52] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=54.7°, player=(485,741), corner_timer=0.30
[01:26:52] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.6°, current=54.2°, player=(485,741), corner_timer=0.30
[01:26:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(628.40247, 765.9428), shooter_id=160339856376, bullet_pos=(40.464054, 832.2604)
[01:26:52] [INFO] [Bullet] Using shooter_position, distance=591,6668
[01:26:52] [INFO] [Bullet] Distance to wall: 591,6668 (40,28768% of viewport)
[01:26:52] [INFO] [Bullet] Distance-based penetration chance: 99,664375%
[01:26:52] [INFO] [Bullet] Starting wall penetration at (40.464054, 832.2604)
[01:26:52] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=SEARCHING, target=-164.0°, current=-164.6°, player=(502,736), corner_timer=0.00
[01:26:52] [ENEMY] [Enemy4] SEARCHING: Player spotted! Transitioning to COMBAT
[01:26:52] [ENEMY] [Enemy4] State: SEARCHING -> COMBAT
[01:26:52] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[01:26:52] [INFO] [Bullet] Raycast backward hit penetrating body at distance 29,81561
[01:26:52] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=NeedsPumpUp, ReloadState=NotReloading
[01:26:52] [INFO] [Shotgun.FIX#445] dragStartPos=(834, 656), aimDir=(0,97, -0,24)
[01:26:52] [INFO] [Bullet] Body exited signal received for penetrating body
[01:26:52] [INFO] [Bullet] Exiting penetration at (2.3722725, 836.557) after traveling 33,333336 pixels through wall
[01:26:52] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[01:26:52] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[01:26:52] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[01:26:52] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(791.8373, 817.3358), source=ENEMY (Enemy4), range=1469, listeners=9
[01:26:52] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[01:26:52] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(724.68695, 806.3163), shooter_id=160692177933, bullet_pos=(724.68695, 806.3163)
[01:26:52] [INFO] [Bullet] Using shooter_position, distance=0
[01:26:52] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[01:26:52] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[01:26:52] [INFO] [Bullet] Starting wall penetration at (724.68695, 806.3163)
[01:26:52] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[01:26:52] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[01:26:52] [INFO] [Bullet] Exiting penetration at (687.82043, 795.8138) after traveling 33,333332 pixels through wall
[01:26:52] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[01:26:52] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:26:52] [INFO] [Shotgun.FIX#445v7] Mid-drag pump UP - shell ejected, continue dragging DOWN to chamber
[01:26:52] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:26:52] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:26:52] [INFO] [BloodDecal] Blood puddle created at (753.0487, 749.5817) (added to group)
[01:26:52] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:26:52] [ENEMY] [Enemy4] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=84.3°, current=-162.2°, player=(524,736), corner_timer=0.00
[01:26:52] [INFO] [BloodDecal] Blood puddle created at (727.8322, 756.5551) (added to group)
[01:26:52] [INFO] [BloodDecal] Blood puddle created at (726.7273, 780.0161) (added to group)
[01:26:52] [INFO] [BloodDecal] Blood puddle created at (747.0212, 761.6075) (added to group)
[01:26:52] [INFO] [BloodDecal] Blood puddle created at (752.5041, 792.8098) (added to group)
[01:26:52] [INFO] [BloodDecal] Blood puddle created at (740.2274, 765.1331) (added to group)
[01:26:52] [INFO] [BloodDecal] Blood puddle created at (748.8942, 780.8112) (added to group)
[01:26:52] [INFO] [BloodDecal] Blood puddle created at (768.0228, 728.9636) (added to group)
[01:26:53] [INFO] [BloodDecal] Blood puddle created at (754.6833, 760.084) (added to group)
[01:26:53] [INFO] [BloodDecal] Blood puddle created at (750.5671, 797.264) (added to group)
[01:26:53] [INFO] [BloodDecal] Blood puddle created at (748.0933, 743.3917) (added to group)
[01:26:53] [INFO] [BloodDecal] Blood puddle created at (793.5291, 803.3275) (added to group)
[01:26:53] [INFO] [BloodDecal] Blood puddle created at (754.0724, 787.6795) (added to group)
[01:26:53] [INFO] [Shotgun.FIX#445v7] Mid-drag pump DOWN - chambered, ready to fire
[01:26:53] [INFO] [BloodDecal] Blood puddle created at (747.1125, 793.6505) (added to group)
[01:26:53] [INFO] [BloodDecal] Blood puddle created at (758.4285, 794.7768) (added to group)
[01:26:53] [INFO] [BloodDecal] Blood puddle created at (759.3288, 805.0543) (added to group)
[01:26:53] [INFO] [BloodDecal] Blood puddle created at (778.7167, 799.9099) (added to group)
[01:26:53] [INFO] [BloodDecal] Blood puddle created at (783.5142, 807.8489) (added to group)
[01:26:53] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=340), can_see=false
[01:26:53] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=114), can_see=false
[01:26:53] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=264), can_see=false
[01:26:53] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[01:26:53] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1220), can_see=false
[01:26:53] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1435), can_see=false
[01:26:53] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1160), can_see=false
[01:26:53] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1527), can_see=false
[01:26:53] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1751), can_see=false
[01:26:53] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1064), can_see=false
[01:26:53] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:26:53] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[01:26:53] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:26:53] [INFO] [BloodDecal] Blood puddle created at (769.4404, 771.0146) (added to group)
[01:26:53] [INFO] [BloodDecal] Blood puddle created at (750.051, 771.6443) (added to group)
[01:26:53] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:26:53] [INFO] [BloodDecal] Blood puddle created at (798.9726, 787.3866) (added to group)
[01:26:53] [INFO] [BloodDecal] Blood puddle created at (765.8098, 757.553) (added to group)
[01:26:53] [INFO] [GrenadeBase] CCD enabled (mode: CAST_RAY) to prevent wall tunneling
[01:26:53] [INFO] [GrenadeBase] Grenade created at (419.3112, 495.1214) (frozen)
[01:26:53] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[01:26:53] [INFO] [GrenadeTimer] Initialized for Frag grenade, effect radius: 225
[01:26:53] [INFO] [GrenadeTimerHelper] Attached GrenadeTimer to FragGrenade (type: Frag)
[01:26:53] [INFO] [EnemyGrenade] Attached C# GrenadeTimer to grenade (type: Frag)
[01:26:53] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[01:26:53] [INFO] [GrenadeTimer] Timer activated! 4 seconds until explosion
[01:26:53] [INFO] [GrenadeBase] LEGACY throw_grenade() called! Direction: (0.229796, 0.973239), Speed: 658.1 (unfrozen)
[01:26:53] [INFO] [GrenadeBase] NOTE: Using DRAG-BASED system. If velocity-based is expected, ensure grenade has throw_grenade_velocity_based() method.
[01:26:53] [INFO] [FragGrenade] Grenade thrown (legacy) - impact detection enabled
[01:26:53] [INFO] [GrenadeTimer] Grenade marked as thrown - impact detection enabled
[01:26:53] [INFO] [EnemyGrenade] Enemy grenade thrown! Target: (453.0796, 782.4423), Distance: 329
[01:26:53] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.4°, player=(561,757), corner_timer=-0.01
[01:26:53] [ENEMY] [Enemy10] PATROL corner check: angle 7.4°
[01:26:53] [INFO] [BloodDecal] Blood puddle created at (816.376, 777.9566) (added to group)
[01:26:53] [INFO] [BloodDecal] Blood puddle created at (763.3564, 788.4576) (added to group)
[01:26:53] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.4°, current=16.5°, player=(563,760), corner_timer=0.30
[01:26:53] [INFO] [BloodDecal] Blood puddle created at (749.7646, 802.704) (added to group)
[01:26:53] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=67.4°, current=71.3°, player=(565,763), corner_timer=0.00
[01:26:53] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[01:26:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(522.3457, 660.0066), source=ENEMY (Enemy2), range=1469, listeners=9
[01:26:53] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=4
[01:26:53] [ENEMY] [Enemy3] Ragdoll activated
[01:26:53] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[01:26:53] [INFO] [BloodDecal] Blood puddle created at (765.1519, 777.0125) (added to group)
[01:26:53] [INFO] [BloodDecal] Blood puddle created at (819.1472, 816.9547) (added to group)
[01:26:53] [INFO] [LastChance] Threat detected: Bullet
[01:26:53] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[01:26:53] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:26:53] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[01:26:53] [INFO] [BloodDecal] Blood puddle created at (773.514, 817.0995) (added to group)
[01:26:53] [INFO] [Player] Hit blocked by invincibility mode (C#)
[01:26:53] [INFO] [Player] Spawning blood effect at (568.57825, 769.2682), dir=(1, 0), lethal=False (C#)
[01:26:53] [INFO] [ImpactEffects] spawn_blood_effect called at (568.5782, 769.2682), dir=(1, 0), lethal=false
[01:26:53] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:26:53] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[01:26:53] [INFO] [ImpactEffects] Blood effect spawned at (568.5782, 769.2682) (scale=1)
[01:26:53] [INFO] [Shotgun.FIX#243] RMB released after 9 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[01:26:53] [INFO] [Shotgun.FIX#445v7] ProcessDragGesture - dragVector=(47,5, 104,2), length=114,5, ActionState=Ready
[01:26:53] [INFO] [Shotgun.FIX#445v7] Screen-based pump gesture: isDragUp=False, isDragDown=True
[01:26:53] [INFO] [BloodDecal] Blood puddle created at (843.0875, 773.2853) (added to group)
[01:26:53] [INFO] [BloodDecal] Blood puddle created at (791.3926, 762.4123) (added to group)
[01:26:53] [INFO] [BloodDecal] Blood puddle created at (849.3241, 793.2061) (added to group)
[01:26:53] [INFO] [BloodDecal] Blood puddle created at (841.6792, 833.7344) (added to group)
[01:26:53] [INFO] [BloodDecal] Blood puddle created at (858.1064, 852.487) (added to group)
[01:26:53] [INFO] [BloodDecal] Blood puddle created at (785.4214, 788.7446) (added to group)
[01:26:53] [INFO] [BloodDecal] Blood puddle created at (789.7921, 764.0722) (added to group)
[01:26:53] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[01:26:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(535.0935, 658.8519), source=ENEMY (Enemy2), range=1469, listeners=9
[01:26:53] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=4
[01:26:53] [INFO] [BloodDecal] Blood puddle created at (776.3849, 786.3651) (added to group)
[01:26:53] [INFO] [LastChance] Threat detected: Bullet
[01:26:53] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[01:26:53] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:26:53] [INFO] [Player] Hit blocked by invincibility mode (C#)
[01:26:53] [INFO] [Player] Spawning blood effect at (575.3433, 803.2679), dir=(1, 0), lethal=False (C#)
[01:26:53] [INFO] [ImpactEffects] spawn_blood_effect called at (575.3433, 803.2679), dir=(1, 0), lethal=false
[01:26:53] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:26:53] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[01:26:53] [INFO] [ImpactEffects] Blood effect spawned at (575.3433, 803.2679) (scale=1)
[01:26:53] [INFO] [BloodDecal] Blood puddle created at (882.3586, 849.4634) (added to group)
[01:26:53] [INFO] [BloodDecal] Blood puddle created at (780.4093, 815.9965) (added to group)
[01:26:53] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[01:26:53] [ENEMY] [Enemy2] Player empty ammo - priority attack triggered
[01:26:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(535.0935, 658.8519), source=ENEMY (Enemy2), range=1469, listeners=9
[01:26:53] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=4
[01:26:53] [INFO] [LastChance] Threat detected: Bullet
[01:26:53] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[01:26:53] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:26:53] [INFO] [BloodDecal] Blood puddle created at (643.3016, 781.4785) (added to group)
[01:26:53] [ENEMY] [Enemy1] Pursuing vulnerability sound at (453.0796, 782.4423), distance=227
[01:26:53] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=7.2°, player=(575,851), corner_timer=-0.01
[01:26:53] [ENEMY] [Enemy10] PATROL corner check: angle 3.8°
[01:26:53] [INFO] [GrenadeBase] Collision detected with Room1_WallBottom (type: StaticBody2D)
[01:26:53] [INFO] [FragGrenade] Impact detected! Body: Room1_WallBottom (type: StaticBody2D), triggering explosion
[01:26:53] [INFO] [FragGrenade] Impact detected - exploding immediately!
[01:26:53] [INFO] [GrenadeBase] EXPLODED at (463.8593, 678.2575)!
[01:26:53] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(463.8593, 678.2575), source=NEUTRAL (FragGrenade), range=2937, listeners=9
[01:26:53] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=0, below_threshold=6
[01:26:53] [ENEMY] [Enemy1] Hit taken, damage: 1, health: 4/4 -> 3/4
[01:26:53] [ENEMY] [Enemy1] ImpactEffectsManager found, calling spawn_blood_effect
[01:26:53] [INFO] [ImpactEffects] spawn_blood_effect called at (450.6588, 559.4524), dir=(-0.110431, -0.993884), lethal=false
[01:26:53] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:26:53] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[01:26:53] [INFO] [ImpactEffects] Blood effect spawned at (450.6588, 559.4524) (scale=1)
[01:26:53] [ENEMY] [Enemy1] Hit taken, damage: 1, health: 3/4 -> 2/4
[01:26:53] [ENEMY] [Enemy1] ImpactEffectsManager found, calling spawn_blood_effect
[01:26:53] [INFO] [ImpactEffects] spawn_blood_effect called at (450.6588, 559.4524), dir=(-0.110431, -0.993884), lethal=false
[01:26:53] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:26:53] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[01:26:53] [INFO] [ImpactEffects] Blood effect spawned at (450.6588, 559.4524) (scale=1)
[01:26:53] [ENEMY] [Enemy1] Hit taken, damage: 1, health: 2/4 -> 1/4
[01:26:53] [ENEMY] [Enemy1] ImpactEffectsManager found, calling spawn_blood_effect
[01:26:53] [INFO] [ImpactEffects] spawn_blood_effect called at (450.6588, 559.4524), dir=(-0.110431, -0.993884), lethal=false
[01:26:53] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:26:53] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[01:26:53] [INFO] [ImpactEffects] Blood effect spawned at (450.6588, 559.4524) (scale=1)
[01:26:53] [ENEMY] [Enemy1] Hit taken, damage: 1, health: 1/4 -> 0/4
[01:26:53] [ENEMY] [Enemy1] ImpactEffectsManager found, calling spawn_blood_effect
[01:26:53] [INFO] [ImpactEffects] spawn_blood_effect called at (450.6588, 559.4524), dir=(-0.110431, -0.993884), lethal=true
[01:26:53] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:26:53] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[01:26:53] [INFO] [ImpactEffects] Blood effect spawned at (450.6588, 559.4524) (scale=1.5)
[01:26:53] [ENEMY] [Enemy1] Enemy died (ricochet: false, penetration: false)
[01:26:53] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[01:26:53] [ENEMY] [Enemy1] [AllyDeath] Notified 2 enemies
[01:26:53] [INFO] [SoundPropagation] Unregistered listener: Enemy1 (remaining: 8)
[01:26:53] [INFO] [DeathAnim] Started - Angle: -96.3 deg, Index: 5
[01:26:53] [ENEMY] [Enemy1] Death animation started with hit direction: (-0.110431, -0.993884)
[01:26:53] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 119.5
[01:26:53] [ENEMY] [Enemy2] Hit taken, damage: 1, health: 2/2 -> 1/2
[01:26:53] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[01:26:53] [INFO] [ImpactEffects] spawn_blood_effect called at (518.7432, 652.0422), dir=(0.902348, -0.431008), lethal=false
[01:26:53] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:26:53] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[01:26:53] [INFO] [ImpactEffects] Blood effect spawned at (518.7432, 652.0422) (scale=1)
[01:26:53] [ENEMY] [Enemy2] Hit taken, damage: 1, health: 1/2 -> 0/2
[01:26:53] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[01:26:53] [INFO] [ImpactEffects] spawn_blood_effect called at (518.7432, 652.0422), dir=(0.902348, -0.431008), lethal=true
[01:26:53] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:26:53] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[01:26:53] [INFO] [ImpactEffects] Blood effect spawned at (518.7432, 652.0422) (scale=1.5)
[01:26:53] [ENEMY] [Enemy2] Enemy died (ricochet: false, penetration: false)
[01:26:53] [INFO] [ScoreManager] Kill registered. Combo: 3 (points: 3000)
[01:26:53] [ENEMY] [Enemy2] [AllyDeath] Notified 1 enemies
[01:26:53] [INFO] [SoundPropagation] Unregistered listener: Enemy2 (remaining: 7)
[01:26:53] [INFO] [DeathAnim] Started - Angle: -25.5 deg, Index: 10
[01:26:53] [ENEMY] [Enemy2] Death animation started with hit direction: (0.902348, -0.431008)
[01:26:53] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 60.8
[01:26:53] [INFO] [GrenadeBase] Scattered 4 casings (lethal zone) + 0 casings (proximity) from explosion
[01:26:53] [INFO] [FragGrenade] Spawned shrapnel #1 at angle -7.2 degrees
[01:26:53] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 105.0 degrees
[01:26:53] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 188.3 degrees
[01:26:53] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 274.2 degrees
[01:26:53] [INFO] [ImpactEffects] Spawning explosion visual effect at (463.8593, 678.2575) (radius=225) - using shadow-based wall occlusion
[01:26:53] [INFO] [GrenadeTimer] Impact detected with Room1_WallBottom - EXPLODING!
[01:26:53] [INFO] [GrenadeTimer] EXPLODED at (463.8593, 678.2575)!
[01:26:53] [INFO] [GrenadeTimer] Applying frag explosion damage (radius: 225, damage: 99)
[01:26:53] [INFO] [GrenadeTimer] Damaged enemy at distance 119,5
[01:26:53] [INFO] [GrenadeTimer] Damaged enemy at distance 60,8
[01:26:53] [INFO] [GrenadeTimer] Spawned 4 shrapnel pieces
[01:26:53] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(463.8593, 678.2575), source=NEUTRAL (FragGrenade), range=2938, listeners=7
[01:26:53] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=6
[01:26:53] [INFO] [GrenadeTimer] Spawned PointLight2D frag explosion flash at (463.8593, 678.2575) (shadow-based wall occlusion)
[01:26:53] [INFO] [GrenadeTimer] Scattered 4 casings
[01:26:53] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=215), can_see=false
[01:26:53] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1233), can_see=false
[01:26:53] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1433), can_see=false
[01:26:53] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1120), can_see=false
[01:26:53] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1451), can_see=false
[01:26:53] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1675), can_see=false
[01:26:53] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.8°, current=9.4°, player=(575,855), corner_timer=0.30
[01:26:53] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=951), can_see=false
[01:26:53] [INFO] [BloodDecal] Blood puddle created at (624.2031, 813.519) (added to group)
[01:26:53] [INFO] [BloodDecal] Blood puddle created at (647.5043, 800.7874) (added to group)
[01:26:53] [INFO] [BloodDecal] Blood puddle created at (660.0313, 806.0419) (added to group)
[01:26:53] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(582.4387, 879.5291), source=PLAYER (Player), range=600, listeners=7
[01:26:53] [ENEMY] [Enemy4] Heard player EMPTY_CLICK at (582.4387, 879.5291), intensity=0.06, distance=211
[01:26:53] [ENEMY] [Enemy4] Vulnerability sound triggered pursuit - transitioning from SUPPRESSED to PURSUING
[01:26:53] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=0, below_threshold=0
[01:26:53] [INFO] [Shotgun.FIX#212] Firing 14 pellets with 15° spread at pos=(582.4387, 879.5291)
[01:26:53] [INFO] [Shotgun.FIX#212] Normal pellet 1/14: extraOffset=9,7, distance=61,7px, pos=(567.7886, 819.62775)
[01:26:53] [INFO] [Shotgun.FIX#212] Normal pellet 2/14: extraOffset=-4,8, distance=47,2px, pos=(572.0654, 833.4346)
[01:26:53] [INFO] [Shotgun.FIX#212] Normal pellet 3/14: extraOffset=-2,5, distance=49,5px, pos=(570.8566, 831.41364)
[01:26:53] [INFO] [Shotgun.FIX#212] Normal pellet 4/14: extraOffset=-14,7, distance=37,3px, pos=(575.1067, 842.9906)
[01:26:53] [INFO] [Shotgun.FIX#212] Normal pellet 5/14: extraOffset=-10,5, distance=41,5px, pos=(575.7358, 838.5386)
[01:26:53] [INFO] [Shotgun.FIX#212] Normal pellet 6/14: extraOffset=1,7, distance=53,7px, pos=(573.59924, 826.51965)
[01:26:53] [INFO] [Shotgun.FIX#212] Normal pellet 7/14: extraOffset=-5,4, distance=46,6px, pos=(576.2476, 833.38477)
[01:26:53] [INFO] [Shotgun.FIX#212] Normal pellet 8/14: extraOffset=-14,0, distance=38,0px, pos=(577.6962, 841.83154)
[01:26:53] [INFO] [Shotgun.FIX#212] Normal pellet 9/14: extraOffset=-9,7, distance=42,3px, pos=(578.2202, 837.4647)
[01:26:53] [INFO] [Shotgun.FIX#212] Normal pellet 10/14: extraOffset=1,2, distance=53,2px, pos=(577.6492, 826.52454)
[01:26:53] [INFO] [Shotgun.FIX#212] Normal pellet 11/14: extraOffset=-0,4, distance=51,6px, pos=(580.0661, 828.02374)
[01:26:53] [INFO] [Shotgun.FIX#212] Normal pellet 12/14: extraOffset=-9,3, distance=42,7px, pos=(580.4217, 836.9091)
[01:26:53] [INFO] [Shotgun.FIX#212] Normal pellet 13/14: extraOffset=-4,9, distance=47,1px, pos=(582.62213, 832.4175)
[01:26:53] [INFO] [Shotgun.FIX#212] Normal pellet 14/14: extraOffset=-12,3, distance=39,7px, pos=(583.06006, 839.8622)
[01:26:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(582.4387, 879.5291), source=PLAYER (Shotgun), range=1469, listeners=7
[01:26:53] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=5
[01:26:53] [ENEMY] [Enemy4] ROT_CHANGE: P4:velocity -> P2:combat_state, state=PURSUING, target=170.0°, current=-176.9°, player=(582,879), corner_timer=0.00
[01:26:53] [ENEMY] [Enemy4] Pursuing vulnerability sound at (582.4387, 879.5291), distance=211
[01:26:53] [INFO] [BloodDecal] Blood puddle created at (626.4949, 811.1798) (added to group)
[01:26:53] [INFO] [BloodDecal] Blood puddle created at (668.1785, 745.8448) (added to group)
[01:26:53] [INFO] [BloodyFeet:Enemy3] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[01:26:53] [INFO] [BloodDecal] Blood puddle created at (629.2464, 834.3642) (added to group)
[01:26:53] [INFO] [BloodDecal] Blood puddle created at (627.7237, 845.0285) (added to group)
[01:26:53] [INFO] [BloodDecal] Blood puddle created at (633.3923, 844.8022) (added to group)
[01:26:53] [INFO] [ReplayManager] Recording frame 180 (2,8s): player_valid=True, enemies=10
[01:26:53] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=167.1°, current=140.5°, player=(617,922), corner_timer=0.00
[01:26:53] [INFO] [BloodDecal] Blood puddle created at (416.7267, 490.1425) (added to group)
[01:26:53] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[01:26:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(784.066, 887.1216), source=ENEMY (Enemy4), range=1469, listeners=7
[01:26:53] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=5
[01:26:53] [INFO] [LastChance] Threat detected: Bullet
[01:26:53] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[01:26:53] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:26:53] [ENEMY] [Enemy4] ROT_CHANGE: P1:visible -> P2:combat_state, state=PURSUING, target=166.6°, current=113.1°, player=(626,931), corner_timer=0.00
[01:26:54] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=166.2°, current=140.0°, player=(630,934), corner_timer=0.00
[01:26:54] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.8°, player=(630,934), corner_timer=-0.01
[01:26:54] [ENEMY] [Enemy10] PATROL corner check: angle 2.0°
[01:26:54] [INFO] [BloodDecal] Blood puddle created at (672.2084, 858.7626) (added to group)
[01:26:54] [INFO] [BloodDecal] Blood puddle created at (658.9726, 858.687) (added to group)
[01:26:54] [INFO] [BloodDecal] Blood puddle created at (461.4408, 531.2855) (added to group)
[01:26:54] [INFO] [BloodDecal] Blood puddle created at (459.3004, 493.24) (added to group)
[01:26:54] [INFO] [BloodDecal] Blood puddle created at (461.22, 502.6) (added to group)
[01:26:54] [INFO] [BloodDecal] Blood puddle created at (422.9945, 519.5388) (added to group)
[01:26:54] [INFO] [BloodDecal] Blood puddle created at (420.4926, 499.2493) (added to group)
[01:26:54] [INFO] [BloodDecal] Blood puddle created at (452.2413, 531.4075) (added to group)
[01:26:54] [INFO] [BloodDecal] Blood puddle created at (475.544, 516.3651) (added to group)
[01:26:54] [INFO] [BloodDecal] Blood puddle created at (437.8721, 493.2536) (added to group)
[01:26:54] [INFO] [Player] Hit blocked by invincibility mode (C#)
[01:26:54] [INFO] [Player] Spawning blood effect at (633.2186, 937.6954), dir=(1, 0), lethal=False (C#)
[01:26:54] [INFO] [ImpactEffects] spawn_blood_effect called at (633.2186, 937.6954), dir=(1, 0), lethal=false
[01:26:54] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:26:54] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[01:26:54] [INFO] [ImpactEffects] Blood effect spawned at (633.2186, 937.6954) (scale=1)
[01:26:54] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=2.0°, current=6.0°, player=(633,937), corner_timer=0.30
[01:26:54] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[01:26:54] [ENEMY] [Enemy4] ROT_CHANGE: P1:visible -> P2:combat_state, state=PURSUING, target=164.9°, current=38.7°, player=(639,943), corner_timer=0.00
[01:26:54] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=NeedsPumpUp, ReloadState=NotReloading
[01:26:54] [INFO] [Shotgun.FIX#445] dragStartPos=(503, 561), aimDir=(-0,34, -0,94)
[01:26:54] [INFO] [BloodDecal] Blood puddle created at (661.684, 833.1245) (added to group)
[01:26:54] [INFO] [BloodDecal] Blood puddle created at (695.6805, 919.3397) (added to group)
[01:26:54] [INFO] [BloodDecal] Blood puddle created at (717.5974, 924.84) (added to group)
[01:26:54] [INFO] [BloodDecal] Blood puddle created at (675.8924, 873.2415) (added to group)
[01:26:54] [INFO] [BloodDecal] Blood puddle created at (415.2141, 519.7106) (added to group)
[01:26:54] [INFO] [BloodDecal] Blood puddle created at (471.7759, 523.1689) (added to group)
[01:26:54] [INFO] [BloodDecal] Blood puddle created at (616.7091, 654.122) (added to group)
[01:26:54] [INFO] [BloodDecal] Blood puddle created at (632.8018, 679.8833) (added to group)
[01:26:54] [INFO] [BloodDecal] Blood puddle created at (578.5582, 620.1412) (added to group)
[01:26:54] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=160.7°, current=-177.9°, player=(651,956), corner_timer=0.00
[01:26:54] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[01:26:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(777.5334, 912.4166), source=ENEMY (Enemy4), range=1469, listeners=7
[01:26:54] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=6
[01:26:54] [INFO] [LastChance] Threat detected: Bullet
[01:26:54] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[01:26:54] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:26:54] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[01:26:54] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1210), can_see=false
[01:26:54] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1392), can_see=false
[01:26:54] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1042), can_see=false
[01:26:54] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1338), can_see=false
[01:26:54] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1561), can_see=false
[01:26:54] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=818), can_see=false
[01:26:54] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:26:54] [INFO] [Shotgun.FIX#445v7] Mouse at top edge (Y=0), need PumpUp - recentering cursor
[01:26:54] [INFO] [Shotgun.FIX#445v7] Cursor recentered to (640, 360)
[01:26:54] [INFO] [BloodDecal] Blood puddle created at (685.5182, 912.9189) (added to group)
[01:26:54] [INFO] [BloodDecal] Blood puddle created at (419.8229, 511.488) (added to group)
[01:26:54] [INFO] [BloodDecal] Blood puddle created at (467.1385, 466.9882) (added to group)
[01:26:54] [INFO] [BloodDecal] Blood puddle created at (436.1055, 513.5624) (added to group)
[01:26:54] [INFO] [BloodDecal] Blood puddle created at (481.1519, 462.6242) (added to group)
[01:26:54] [INFO] [BloodDecal] Blood puddle created at (472.4523, 459.3382) (added to group)
[01:26:54] [INFO] [BloodDecal] Blood puddle created at (456.226, 464.7239) (added to group)
[01:26:54] [INFO] [BloodDecal] Blood puddle created at (481.6051, 500.1168) (added to group)
[01:26:54] [INFO] [BloodDecal] Blood puddle created at (430.6146, 536.6076) (added to group)
[01:26:54] [INFO] [BloodDecal] Blood puddle created at (467.5067, 528.0305) (added to group)
[01:26:54] [INFO] [BloodDecal] Blood puddle created at (578.2153, 684.3679) (added to group)
[01:26:54] [INFO] [BloodDecal] Blood puddle created at (647.8929, 667.4998) (added to group)
[01:26:54] [INFO] [BloodDecal] Blood puddle created at (586.7101, 670.8774) (added to group)
[01:26:54] [INFO] [BloodDecal] Blood puddle created at (639.7426, 649.0934) (added to group)
[01:26:54] [INFO] [BloodDecal] Blood puddle created at (635.4785, 672.6437) (added to group)
[01:26:54] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[01:26:54] [INFO] [Player] Hit blocked by invincibility mode (C#)
[01:26:54] [INFO] [Player] Spawning blood effect at (661.3017, 965.4997), dir=(1, 0), lethal=False (C#)
[01:26:54] [INFO] [ImpactEffects] spawn_blood_effect called at (661.3017, 965.4997), dir=(1, 0), lethal=false
[01:26:54] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:26:54] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[01:26:54] [INFO] [ImpactEffects] Blood effect spawned at (661.3017, 965.4997) (scale=1)
[01:26:54] [ENEMY] [Enemy1] Ragdoll activated
[01:26:54] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[01:26:54] [ENEMY] [Enemy2] Ragdoll activated
[01:26:54] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[01:26:54] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:26:54] [INFO] [BloodDecal] Blood puddle created at (460.1286, 462.2815) (added to group)
[01:26:54] [INFO] [BloodDecal] Blood puddle created at (456.9867, 531.5865) (added to group)
[01:26:54] [INFO] [BloodDecal] Blood puddle created at (417.9754, 491.7219) (added to group)
[01:26:54] [INFO] [BloodDecal] Blood puddle created at (439.6854, 515.1234) (added to group)
[01:26:54] [INFO] [BloodDecal] Blood puddle created at (482.5694, 505.5659) (added to group)
[01:26:54] [INFO] [BloodDecal] Blood puddle created at (451.502, 449.1037) (added to group)
[01:26:54] [INFO] [BloodDecal] Blood puddle created at (431.7372, 498.4818) (added to group)
[01:26:54] [INFO] [BloodDecal] Blood puddle created at (455.7768, 520.4623) (added to group)
[01:26:54] [INFO] [BloodDecal] Blood puddle created at (599.2232, 677.1787) (added to group)
[01:26:54] [INFO] [BloodDecal] Blood puddle created at (614.6846, 643.3046) (added to group)
[01:26:54] [INFO] [BloodDecal] Blood puddle created at (572.7828, 632.5903) (added to group)
[01:26:54] [INFO] [BloodDecal] Blood puddle created at (669.7486, 678.1174) (added to group)
[01:26:54] [INFO] [BloodDecal] Blood puddle created at (648.8464, 671.4425) (added to group)
[01:26:54] [INFO] [BloodDecal] Blood puddle created at (640.7416, 692.6542) (added to group)
[01:26:54] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[01:26:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(779.2138, 910.9481), source=ENEMY (Enemy4), range=1469, listeners=7
[01:26:54] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=6
[01:26:54] [INFO] [LastChance] Threat detected: Bullet
[01:26:54] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[01:26:54] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:26:54] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:26:54] [INFO] [BloodDecal] Blood puddle created at (445.3355, 483.9998) (added to group)
[01:26:54] [INFO] [BloodDecal] Blood puddle created at (436.8352, 488.4682) (added to group)
[01:26:54] [INFO] [BloodDecal] Blood puddle created at (437.1486, 457.1918) (added to group)
[01:26:54] [INFO] [BloodDecal] Blood puddle created at (484.6652, 466.3002) (added to group)
[01:26:54] [INFO] [BloodDecal] Blood puddle created at (469.7331, 515.9508) (added to group)
[01:26:54] [INFO] [BloodDecal] Blood puddle created at (651.7866, 644.2327) (added to group)
[01:26:54] [INFO] [BloodDecal] Blood puddle created at (619.3015, 680.9174) (added to group)
[01:26:54] [INFO] [BloodDecal] Blood puddle created at (620.9971, 702.6208) (added to group)
[01:26:54] [INFO] [Player] Hit blocked by invincibility mode (C#)
[01:26:54] [INFO] [Player] Spawning blood effect at (685.9379, 980.38025), dir=(1, 0), lethal=False (C#)
[01:26:54] [INFO] [ImpactEffects] spawn_blood_effect called at (685.9379, 980.3802), dir=(1, 0), lethal=false
[01:26:54] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:26:54] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[01:26:54] [INFO] [ImpactEffects] Blood effect spawned at (685.9379, 980.3802) (scale=1)
[01:26:54] [ENEMY] [Enemy5] Hit taken, damage: 1, health: 4/4 -> 3/4
[01:26:54] [ENEMY] [Enemy5] ImpactEffectsManager found, calling spawn_blood_effect
[01:26:54] [INFO] [ImpactEffects] spawn_blood_effect called at (1700, 350), dir=(0.984879, -0.173247), lethal=false
[01:26:54] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:26:54] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[01:26:54] [INFO] [ImpactEffects] Blood effect spawned at (1700, 350) (scale=1)
[01:26:54] [INFO] [BloodDecal] Blood puddle created at (385.1192, 482.4647) (added to group)
[01:26:54] [INFO] [BloodDecal] Blood puddle created at (385.2144, 453.6809) (added to group)
[01:26:54] [INFO] [BloodDecal] Blood puddle created at (483.7858, 517.4422) (added to group)
[01:26:54] [INFO] [BloodDecal] Blood puddle created at (460.4693, 474.3966) (added to group)
[01:26:54] [INFO] [BloodDecal] Blood puddle created at (475.1135, 541.0529) (added to group)
[01:26:54] [INFO] [BloodDecal] Blood puddle created at (484.3601, 521.8623) (added to group)
[01:26:54] [INFO] [BloodDecal] Blood puddle created at (637.4039, 665.9286) (added to group)
[01:26:54] [INFO] [BloodDecal] Blood puddle created at (571.581, 651.3746) (added to group)
[01:26:54] [INFO] [BloodDecal] Blood puddle created at (662.6593, 608.7209) (added to group)
[01:26:54] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[01:26:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(792.3918, 892.5579), source=ENEMY (Enemy4), range=1469, listeners=7
[01:26:54] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=6
[01:26:54] [INFO] [Shotgun.FIX#243] RMB released after 4 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[01:26:54] [INFO] [Shotgun.FIX#445v7] ProcessDragGesture - dragVector=(446,2, 387,4), length=590,9, ActionState=NeedsPumpUp
[01:26:54] [INFO] [Shotgun.FIX#445v7] Pump drag not vertical: absY=387,4 <= absX=446,2
[01:26:54] [INFO] [BloodDecal] Blood puddle created at (414.9845, 502.0539) (added to group)
[01:26:54] [INFO] [BloodDecal] Blood puddle created at (490.1909, 505.78) (added to group)
[01:26:54] [INFO] [BloodDecal] Blood puddle created at (474.8287, 520.2786) (added to group)
[01:26:54] [INFO] [BloodDecal] Blood puddle created at (418.9006, 545.2011) (added to group)
[01:26:54] [INFO] [BloodDecal] Blood puddle created at (684.6887, 654.4835) (added to group)
[01:26:54] [INFO] [BloodDecal] Blood puddle created at (618.0324, 664.3969) (added to group)
[01:26:54] [INFO] [BloodDecal] Blood puddle created at (594.6684, 670.6145) (added to group)
[01:26:54] [INFO] [LastChance] Threat detected: Bullet
[01:26:54] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[01:26:54] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:26:54] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=2.0°, player=(714,983), corner_timer=-0.01
[01:26:54] [ENEMY] [Enemy10] PATROL corner check: angle 1.1°
[01:26:54] [INFO] [Player] Hit blocked by invincibility mode (C#)
[01:26:54] [INFO] [Player] Spawning blood effect at (719.13837, 983.9334), dir=(1, 0), lethal=False (C#)
[01:26:54] [INFO] [ImpactEffects] spawn_blood_effect called at (719.1384, 983.9334), dir=(1, 0), lethal=false
[01:26:54] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:26:54] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[01:26:54] [INFO] [ImpactEffects] Blood effect spawned at (719.1384, 983.9334) (scale=1)
[01:26:54] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.1°, current=4.2°, player=(719,983), corner_timer=0.30
[01:26:54] [ENEMY] [Enemy3] Death animation completed
[01:26:54] [INFO] [BloodDecal] Blood puddle created at (488.6808, 505.3125) (added to group)
[01:26:54] [INFO] [BloodDecal] Blood puddle created at (416.8584, 499.7152) (added to group)
[01:26:54] [INFO] [BloodDecal] Blood puddle created at (481.1278, 538.9993) (added to group)
[01:26:54] [INFO] [BloodDecal] Blood puddle created at (445.5401, 436.0872) (added to group)
[01:26:54] [INFO] [BloodDecal] Blood puddle created at (492.5903, 543.9266) (added to group)
[01:26:54] [INFO] [BloodDecal] Blood puddle created at (664.6503, 620.453) (added to group)
[01:26:54] [INFO] [BloodDecal] Blood puddle created at (654.668, 741.3636) (added to group)
[01:26:54] [INFO] [BloodDecal] Blood puddle created at (713.0447, 960.9276) (added to group)
[01:26:54] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[01:26:54] [INFO] [BloodDecal] Blood puddle created at (713.1963, 701.0246) (added to group)
[01:26:54] [INFO] [BloodDecal] Blood puddle created at (649.8826, 681.8221) (added to group)
[01:26:54] [INFO] [BloodDecal] Blood puddle created at (657.6671, 685.9448) (added to group)
[01:26:54] [INFO] [BloodDecal] Blood puddle created at (721.9799, 978.0207) (added to group)
[01:26:54] [INFO] [BloodDecal] Blood puddle created at (737.1957, 982.463) (added to group)
[01:26:54] [INFO] [BloodDecal] Blood puddle created at (725.7925, 962.0732) (added to group)
[01:26:54] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[01:26:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(804.0427, 871.6975), source=ENEMY (Enemy4), range=1469, listeners=7
[01:26:54] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=6
[01:26:54] [INFO] [LastChance] Threat detected: Bullet
[01:26:54] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[01:26:54] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:26:54] [INFO] [BloodDecal] Blood puddle created at (393.6706, 466.2771) (added to group)
[01:26:54] [INFO] [BloodDecal] Blood puddle created at (735.1011, 654.3389) (added to group)
[01:26:54] [INFO] [BloodDecal] Blood puddle created at (601.0295, 695.5287) (added to group)
[01:26:54] [INFO] [BloodDecal] Blood puddle created at (738.0145, 983.323) (added to group)
[01:26:54] [INFO] [Player] Hit blocked by invincibility mode (C#)
[01:26:54] [INFO] [Player] Spawning blood effect at (748.7828, 983.9334), dir=(1, 0), lethal=False (C#)
[01:26:54] [INFO] [ImpactEffects] spawn_blood_effect called at (748.7828, 983.9334), dir=(1, 0), lethal=false
[01:26:54] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:26:54] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[01:26:54] [INFO] [ImpactEffects] Blood effect spawned at (748.7828, 983.9334) (scale=1)
[01:26:54] [INFO] [BloodDecal] Blood puddle created at (707.326, 987.3738) (added to group)
[01:26:54] [INFO] [BloodDecal] Blood puddle created at (731.0135, 961.4515) (added to group)
[01:26:54] [INFO] [BloodDecal] Blood puddle created at (766.9895, 983.7311) (added to group)
[01:26:54] [INFO] [BloodDecal] Blood puddle created at (1795.575, 354.5073) (added to group)
[01:26:54] [INFO] [BloodDecal] Blood puddle created at (1776.019, 321.4483) (added to group)
[01:26:54] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[01:26:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(785.6514, 875.6047), source=ENEMY (Enemy4), range=1469, listeners=7
[01:26:54] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=5
[01:26:54] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1135), can_see=false
[01:26:54] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1306), can_see=false
[01:26:54] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=941), can_see=false
[01:26:54] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1233), can_see=false
[01:26:54] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1457), can_see=false
[01:26:54] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=737), can_see=false
[01:26:54] [INFO] [LastChance] Threat detected: Bullet
[01:26:54] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[01:26:54] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:26:54] [INFO] [Player] Hit blocked by invincibility mode (C#)
[01:26:54] [INFO] [Player] Spawning blood effect at (760.2829, 983.5707), dir=(1, 0), lethal=False (C#)
[01:26:54] [INFO] [ImpactEffects] spawn_blood_effect called at (760.2829, 983.5707), dir=(1, 0), lethal=false
[01:26:54] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:26:54] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[01:26:54] [INFO] [ImpactEffects] Blood effect spawned at (760.2829, 983.5707) (scale=1)
[01:26:54] [INFO] [BloodDecal] Blood puddle created at (739.877, 980.3185) (added to group)
[01:26:54] [INFO] [BloodDecal] Blood puddle created at (798.3256, 971.996) (added to group)
[01:26:54] [INFO] [BloodDecal] Blood puddle created at (732.6425, 987.8715) (added to group)
[01:26:54] [INFO] [BloodDecal] Blood puddle created at (738.9214, 999.4498) (added to group)
[01:26:54] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[01:26:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(799.5006, 862.4711), source=ENEMY (Enemy4), range=1469, listeners=7
[01:26:54] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=5
[01:26:54] [INFO] [BloodDecal] Blood puddle created at (799.9412, 999.7429) (added to group)
[01:26:54] [INFO] [BloodDecal] Blood puddle created at (1753.561, 361.2736) (added to group)
[01:26:54] [INFO] [BloodDecal] Blood puddle created at (1792.69, 396.7927) (added to group)
[01:26:54] [INFO] [BloodDecal] Blood puddle created at (1787.756, 355.5688) (added to group)
[01:26:54] [INFO] [BloodDecal] Blood puddle created at (773.6026, 986.5753) (added to group)
[01:26:54] [INFO] [BloodDecal] Blood puddle created at (804.1365, 993.8766) (added to group)
[01:26:54] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[01:26:54] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:26:54] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[01:26:54] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[01:26:54] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[01:26:54] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[01:26:54] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[01:26:54] [INFO] [LastChance] Resetting all effects (scene change detected)
[01:26:54] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[01:26:54] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[01:26:54] [ENEMY] [Enemy1] Death animation component initialized
[01:26:54] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:26:54] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[01:26:54] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[01:26:54] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[01:26:54] [INFO] [EnemyGrenade] Initialized: 1 grenades
[01:26:54] [ENEMY] [Enemy2] Death animation component initialized
[01:26:54] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:26:54] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[01:26:54] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[01:26:54] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[01:26:54] [ENEMY] [Enemy3] Death animation component initialized
[01:26:54] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:26:54] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[01:26:54] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[01:26:54] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[01:26:54] [INFO] [EnemyGrenade] Initialized: 1 grenades
[01:26:54] [ENEMY] [Enemy4] Death animation component initialized
[01:26:54] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:26:54] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[01:26:54] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[01:26:54] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[01:26:54] [ENEMY] [Enemy5] Death animation component initialized
[01:26:54] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:26:54] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[01:26:54] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[01:26:54] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[01:26:54] [ENEMY] [Enemy6] Death animation component initialized
[01:26:54] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:26:54] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[01:26:54] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[01:26:54] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[01:26:54] [INFO] [EnemyGrenade] Initialized: 1 grenades
[01:26:54] [ENEMY] [Enemy7] Death animation component initialized
[01:26:54] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:26:54] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[01:26:54] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[01:26:54] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[01:26:54] [ENEMY] [Enemy8] Death animation component initialized
[01:26:54] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:26:54] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[01:26:54] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[01:26:54] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[01:26:54] [INFO] [EnemyGrenade] Initialized: 1 grenades
[01:26:54] [ENEMY] [Enemy9] Death animation component initialized
[01:26:54] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:26:54] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[01:26:54] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[01:26:54] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[01:26:54] [ENEMY] [Enemy10] Death animation component initialized
[01:26:54] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:26:54] [INFO] [BloodyFeet:Player] Footprint scene loaded
[01:26:54] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[01:26:54] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[01:26:54] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[01:26:54] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[01:26:54] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[01:26:54] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[01:26:54] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[01:26:54] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[01:26:54] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[01:26:54] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: True
[01:26:54] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 3/4
[01:26:54] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[01:26:54] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[01:26:54] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[01:26:54] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[01:26:54] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[01:26:54] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[01:26:54] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[01:26:54] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[01:26:54] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[01:26:54] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[01:26:54] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[01:26:54] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[01:26:54] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[01:26:54] [INFO] [ScoreManager] Level started with 10 enemies
[01:26:54] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[01:26:54] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[01:26:54] [INFO] [ReplayManager] Replay data cleared
[01:26:54] [INFO] [BuildingLevel] Previous replay data cleared
[01:26:54] [INFO] [ReplayManager] Detected player weapon: Shotgun
[01:26:54] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[01:26:54] [INFO] [ReplayManager] Level: BuildingLevel
[01:26:54] [INFO] [ReplayManager] Player: Player (valid: True)
[01:26:54] [INFO] [ReplayManager] Enemies count: 10
[01:26:54] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/shotgun_topdown.png
[01:26:54] [INFO] [ReplayManager]   Enemy 0: Enemy1
[01:26:54] [INFO] [ReplayManager]   Enemy 1: Enemy2
[01:26:54] [INFO] [ReplayManager]   Enemy 2: Enemy3
[01:26:54] [INFO] [ReplayManager]   Enemy 3: Enemy4
[01:26:54] [INFO] [ReplayManager]   Enemy 4: Enemy5
[01:26:54] [INFO] [ReplayManager]   Enemy 5: Enemy6
[01:26:54] [INFO] [ReplayManager]   Enemy 6: Enemy7
[01:26:54] [INFO] [ReplayManager]   Enemy 7: Enemy8
[01:26:54] [INFO] [ReplayManager]   Enemy 8: Enemy9
[01:26:54] [INFO] [ReplayManager]   Enemy 9: Enemy10
[01:26:54] [INFO] [BuildingLevel] Replay recording started successfully
[01:26:54] [INFO] [BloodDecal] Blood puddle created at (796.504, 955.5234) (added to group)
[01:26:54] [INFO] [BloodDecal] Blood puddle created at (1777.835, 402.5343) (added to group)
[01:26:54] [INFO] [BloodDecal] Blood puddle created at (820.1719, 985.9858) (added to group)
[01:26:54] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[01:26:54] [INFO] [CinemaEffects] Found player node: Player
[01:26:54] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[01:26:54] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 8)
[01:26:54] [ENEMY] [Enemy1] Registered as sound listener
[01:26:54] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 4, behavior: GUARD
[01:26:54] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[01:26:54] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 9)
[01:26:54] [ENEMY] [Enemy2] Registered as sound listener
[01:26:54] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 2, behavior: GUARD
[01:26:54] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[01:26:54] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 10)
[01:26:54] [ENEMY] [Enemy3] Registered as sound listener
[01:26:54] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 4, behavior: GUARD
[01:26:54] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[01:26:54] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 11)
[01:26:54] [ENEMY] [Enemy4] Registered as sound listener
[01:26:54] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 4, behavior: GUARD
[01:26:54] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[01:26:54] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 12)
[01:26:54] [ENEMY] [Enemy5] Registered as sound listener
[01:26:54] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 2, behavior: GUARD
[01:26:54] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[01:26:54] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 13)
[01:26:54] [ENEMY] [Enemy6] Registered as sound listener
[01:26:54] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 2, behavior: GUARD
[01:26:54] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[01:26:54] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 14)
[01:26:54] [ENEMY] [Enemy7] Registered as sound listener
[01:26:54] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 4, behavior: PATROL
[01:26:54] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[01:26:54] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 15)
[01:26:54] [ENEMY] [Enemy8] Registered as sound listener
[01:26:54] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 3, behavior: GUARD
[01:26:54] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[01:26:54] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 16)
[01:26:54] [ENEMY] [Enemy9] Registered as sound listener
[01:26:54] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 2, behavior: GUARD
[01:26:54] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[01:26:54] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 17)
[01:26:54] [ENEMY] [Enemy10] Registered as sound listener
[01:26:54] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 2, behavior: PATROL
[01:26:54] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[01:26:54] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[01:26:54] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=33.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[01:26:54] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[01:26:54] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[01:26:54] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[01:26:54] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[01:26:54] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[01:26:54] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=123.7°, current=0.0°, player=(450,1249), corner_timer=0.00
[01:26:54] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[01:26:54] [INFO] [Player] Detecting weapon pose (frame 3)...
[01:26:54] [INFO] [Player] Detected weapon: Shotgun (Shotgun pose)
[01:26:54] [INFO] [Player] Applied Shotgun arm pose: Left=(21, 6), Right=(-1, 6)
[01:26:54] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[01:26:54] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[01:26:54] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[01:26:54] [INFO] [LastChance] Found player: Player
[01:26:54] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[01:26:54] [INFO] [LastChance] Connected to player Damaged signal (C#)
[01:26:54] [INFO] [LastChance] Connected to player Died signal (C#)
[01:26:54] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[01:26:54] [INFO] [BloodDecal] Blood puddle created at (1787.148, 359.6107) (added to group)
[01:26:54] [INFO] [BloodDecal] Blood puddle created at (821.7152, 966.6992) (added to group)
[01:26:54] [INFO] [BloodDecal] Blood puddle created at (859.3376, 977.6833) (added to group)
[01:26:54] [INFO] [BloodDecal] Blood puddle created at (1809.389, 365.1035) (added to group)
[01:26:54] [INFO] [BloodDecal] Blood puddle created at (865.2502, 999.3039) (added to group)
[01:26:54] [INFO] [BloodDecal] Blood puddle created at (866.0861, 987.8389) (added to group)
[01:26:55] [INFO] [BloodDecal] Blood puddle created at (1850.962, 418.1266) (added to group)
[01:26:55] [INFO] [BloodDecal] Blood puddle created at (859.3278, 979.8799) (added to group)
[01:26:55] [INFO] [BloodDecal] Blood puddle created at (1835.106, 434.4065) (added to group)
[01:26:55] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[01:26:56] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[01:26:56] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[01:26:56] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(445,783), corner_timer=0.30
[01:26:56] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(445,783), corner_timer=0.30
[01:26:56] [ENEMY] [Enemy1] Player ammo empty: false -> true
[01:26:56] [ENEMY] [Enemy2] Player ammo empty: false -> true
[01:26:56] [ENEMY] [Enemy3] Player ammo empty: false -> true
[01:26:56] [ENEMY] [Enemy4] Player ammo empty: false -> true
[01:26:56] [ENEMY] [Enemy5] Player ammo empty: false -> true
[01:26:56] [ENEMY] [Enemy6] Player ammo empty: false -> true
[01:26:56] [ENEMY] [Enemy7] Player ammo empty: false -> true
[01:26:56] [ENEMY] [Enemy8] Player ammo empty: false -> true
[01:26:56] [ENEMY] [Enemy9] Player ammo empty: false -> true
[01:26:56] [ENEMY] [Enemy10] Player ammo empty: false -> true
[01:26:56] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(440.1999, 771.0726), source=PLAYER (Player), range=600, listeners=17
[01:26:56] [INFO] [SoundPropagation] Cleaned up 7 invalid listeners
[01:26:56] [ENEMY] [Enemy1] Heard player EMPTY_CLICK at (440.1999, 771.0726), intensity=0.01, distance=444
[01:26:56] [ENEMY] [Enemy1] Vulnerability sound triggered pursuit - transitioning from IDLE to PURSUING
[01:26:56] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (440.1999, 771.0726), intensity=0.05, distance=225
[01:26:56] [ENEMY] [Enemy2] Vulnerability sound triggered pursuit - transitioning from IDLE to PURSUING
[01:26:56] [ENEMY] [Enemy3] Heard player EMPTY_CLICK at (440.1999, 771.0726), intensity=0.04, distance=261
[01:26:56] [ENEMY] [Enemy3] Vulnerability sound triggered pursuit - transitioning from IDLE to PURSUING
[01:26:56] [ENEMY] [Enemy4] Heard player EMPTY_CLICK at (440.1999, 771.0726), intensity=0.02, distance=382
[01:26:56] [ENEMY] [Enemy4] Vulnerability sound triggered pursuit - transitioning from IDLE to PURSUING
[01:26:56] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=6, self=0, below_threshold=0
[01:26:56] [INFO] [Shotgun.FIX#212] Firing 15 pellets with 15° spread at pos=(440.1999, 771.0726)
[01:26:56] [INFO] [Shotgun.FIX#212] Normal pellet 1/15: extraOffset=12,5, distance=64,5px, pos=(503.65607, 759.361)
[01:26:56] [INFO] [Shotgun.FIX#212] Normal pellet 2/15: extraOffset=-0,5, distance=51,5px, pos=(490.82703, 761.55493)
[01:26:56] [INFO] [Shotgun.FIX#212] Normal pellet 3/15: extraOffset=-2,0, distance=50,0px, pos=(489.51947, 762.5788)
[01:26:56] [INFO] [Shotgun.FIX#212] Normal pellet 4/15: extraOffset=-8,2, distance=43,8px, pos=(483.54456, 764.56195)
[01:26:56] [INFO] [Shotgun.FIX#212] Normal pellet 5/15: extraOffset=3,8, distance=55,8px, pos=(495.50122, 763.9038)
[01:26:56] [INFO] [Shotgun.FIX#212] Normal pellet 6/15: extraOffset=9,7, distance=61,7px, pos=(501.41705, 763.2822)
[01:26:56] [INFO] [Shotgun.FIX#212] Normal pellet 7/15: extraOffset=-4,8, distance=47,2px, pos=(487.177, 766.2663)
[01:26:56] [INFO] [Shotgun.FIX#212] Normal pellet 8/15: extraOffset=-9,4, distance=42,6px, pos=(482.8082, 769.2215)
[01:26:56] [INFO] [Shotgun.FIX#212] Normal pellet 9/15: extraOffset=-1,4, distance=50,6px, pos=(490.76315, 768.9423)
[01:26:56] [INFO] [Shotgun.FIX#212] Normal pellet 10/15: extraOffset=3,7, distance=55,7px, pos=(495.82553, 768.56915)
[01:26:56] [INFO] [Shotgun.FIX#212] Normal pellet 11/15: extraOffset=-5,7, distance=46,3px, pos=(486.51733, 769.34845)
[01:26:56] [INFO] [Shotgun.FIX#212] Normal pellet 12/15: extraOffset=-2,6, distance=49,4px, pos=(489.54773, 772.26605)
[01:26:56] [INFO] [Shotgun.FIX#212] Normal pellet 13/15: extraOffset=-13,1, distance=38,9px, pos=(479.04578, 772.89844)
[01:26:56] [INFO] [Shotgun.FIX#212] Normal pellet 14/15: extraOffset=14,5, distance=66,5px, pos=(506.68982, 772.62476)
[01:26:56] [INFO] [Shotgun.FIX#212] Normal pellet 15/15: extraOffset=11,5, distance=63,5px, pos=(503.52228, 775.15906)
[01:26:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(440.1999, 771.0726), source=PLAYER (Shotgun), range=1469, listeners=10
[01:26:56] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[01:26:56] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=71.6°, current=33.8°, player=(440,771), corner_timer=0.00
[01:26:56] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=444), can_see=false
[01:26:56] [ENEMY] [Enemy1] Pursuing vulnerability sound at (440.1999, 771.0726), distance=444
[01:26:56] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=79.7°, current=168.8°, player=(440,771), corner_timer=0.00
[01:26:56] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=225), can_see=false
[01:26:56] [INFO] [EnemyGrenade] Unsafe throw distance (225 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:26:56] [ENEMY] [Enemy2] Pursuing vulnerability sound at (440.1999, 771.0726), distance=225
[01:26:56] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=175.4°, current=-33.8°, player=(440,771), corner_timer=0.00
[01:26:56] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=261), can_see=false
[01:26:56] [ENEMY] [Enemy3] Pursuing vulnerability sound at (440.1999, 771.0726), distance=261
[01:26:56] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=-160.3°, current=168.8°, player=(440,771), corner_timer=0.00
[01:26:56] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=382), can_see=false
[01:26:56] [INFO] [EnemyGrenade] Throw path blocked to (440.1999, 771.0726)
[01:26:56] [ENEMY] [Enemy4] Pursuing vulnerability sound at (440.1999, 771.0726), distance=382
[01:26:56] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1328), can_see=false
[01:26:56] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1544), can_see=false
[01:26:56] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1188), can_see=false
[01:26:56] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1610), can_see=false
[01:26:56] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1833), can_see=false
[01:26:56] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1099), can_see=false
[01:26:56] [INFO] [EnemyGrenade] Unsafe throw distance (220 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:26:56] [ENEMY] [Enemy3] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=176.2°, current=138.7°, player=(437,767), corner_timer=0.00
[01:26:56] [ENEMY] [Enemy3] Player empty ammo - priority attack triggered
[01:26:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(694.6841, 750.4312), source=ENEMY (Enemy3), range=1469, listeners=10
[01:26:56] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=1, below_threshold=6
[01:26:56] [INFO] [EnemyGrenade] Throw path blocked to (440.1999, 771.0726)
[01:26:56] [INFO] [EnemyGrenade] Unsafe throw distance (216 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:26:56] [INFO] [EnemyGrenade] Throw path blocked to (440.1999, 771.0726)
[01:26:56] [INFO] [LastChance] Threat detected: Bullet
[01:26:56] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[01:26:56] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:26:56] [INFO] [EnemyGrenade] Unsafe throw distance (212 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:26:56] [INFO] [EnemyGrenade] Throw path blocked to (440.1999, 771.0726)
[01:26:56] [ENEMY] [Enemy3] Hit taken, damage: 1, health: 4/4 -> 3/4
[01:26:56] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[01:26:56] [INFO] [ImpactEffects] spawn_blood_effect called at (678.7129, 751.3472), dir=(1, 0), lethal=false
[01:26:56] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:26:56] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[01:26:56] [INFO] [ImpactEffects] Blood effect spawned at (678.7129, 751.3472) (scale=1)
[01:26:56] [ENEMY] [Enemy3] Hit taken, damage: 1, health: 3/4 -> 2/4
[01:26:56] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[01:26:56] [INFO] [ImpactEffects] spawn_blood_effect called at (678.7129, 751.3472), dir=(1, 0), lethal=false
[01:26:56] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:26:56] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[01:26:56] [INFO] [ImpactEffects] Blood effect spawned at (678.7129, 751.3472) (scale=1)
[01:26:56] [ENEMY] [Enemy3] Hit taken, damage: 1, health: 2/4 -> 1/4
[01:26:56] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[01:26:56] [INFO] [ImpactEffects] spawn_blood_effect called at (678.7129, 751.3472), dir=(1, 0), lethal=false
[01:26:56] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:26:56] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[01:26:56] [INFO] [ImpactEffects] Blood effect spawned at (678.7129, 751.3472) (scale=1)
[01:26:56] [ENEMY] [Enemy3] Hit taken, damage: 1, health: 1/4 -> 0/4
[01:26:56] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[01:26:56] [INFO] [ImpactEffects] spawn_blood_effect called at (678.7129, 751.3472), dir=(1, 0), lethal=true
[01:26:56] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:26:56] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[01:26:56] [INFO] [ImpactEffects] Blood effect spawned at (678.7129, 751.3472) (scale=1.5)
[01:26:56] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[01:26:56] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[01:26:56] [ENEMY] [Enemy3] [AllyDeath] Notified 2 enemies
[01:26:56] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[01:26:56] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[01:26:56] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[01:26:56] [INFO] [EnemyGrenade] Unsafe throw distance (208 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:26:56] [INFO] [EnemyGrenade] Throw path blocked to (440.1999, 771.0726)
[01:26:56] [INFO] [EnemyGrenade] Unsafe throw distance (204 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:26:56] [INFO] [EnemyGrenade] Throw path blocked to (440.1999, 771.0726)
[01:26:56] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:26:56] [INFO] [EnemyGrenade] Throw path blocked to (440.1999, 771.0726)
[01:26:56] [INFO] [EnemyGrenade] Unsafe throw distance (197 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:26:56] [INFO] [EnemyGrenade] Throw path blocked to (440.1999, 771.0726)
[01:26:56] [INFO] [EnemyGrenade] Unsafe throw distance (194 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:26:56] [INFO] [EnemyGrenade] Throw path blocked to (440.1999, 771.0726)
[01:26:56] [INFO] [EnemyGrenade] Unsafe throw distance (191 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:26:56] [INFO] [EnemyGrenade] Throw path blocked to (440.1999, 771.0726)
[01:26:56] [INFO] [EnemyGrenade] Unsafe throw distance (188 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:26:56] [INFO] [EnemyGrenade] Throw path blocked to (440.1999, 771.0726)
[01:26:56] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[01:26:56] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=NeedsPumpUp, ReloadState=NotReloading
[01:26:56] [INFO] [Shotgun.FIX#445] dragStartPos=(1231, 673), aimDir=(1,00, -0,09)
[01:26:56] [INFO] [EnemyGrenade] Unsafe throw distance (185 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:26:56] [INFO] [EnemyGrenade] Throw path blocked to (440.1999, 771.0726)
[01:26:56] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:26:56] [INFO] [EnemyGrenade] Unsafe throw distance (182 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:26:56] [INFO] [EnemyGrenade] Throw path blocked to (440.1999, 771.0726)
[01:26:56] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:26:56] [INFO] [EnemyGrenade] Unsafe throw distance (179 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:26:56] [INFO] [EnemyGrenade] Throw path blocked to (440.1999, 771.0726)
[01:26:56] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:26:56] [INFO] [EnemyGrenade] Unsafe throw distance (176 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:26:56] [INFO] [EnemyGrenade] Throw path blocked to (440.1999, 771.0726)
[01:26:56] [INFO] [Shotgun.FIX#445v7] Mid-drag pump UP - shell ejected, continue dragging DOWN to chamber
[01:26:56] [INFO] [EnemyGrenade] Unsafe throw distance (173 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:26:56] [INFO] [EnemyGrenade] Throw path blocked to (440.1999, 771.0726)
[01:26:56] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:26:56] [INFO] [EnemyGrenade] Unsafe throw distance (170 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:26:56] [INFO] [EnemyGrenade] Throw path blocked to (440.1999, 771.0726)
[01:26:56] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:26:56] [INFO] [EnemyGrenade] Unsafe throw distance (167 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:26:56] [INFO] [EnemyGrenade] Throw path blocked to (440.1999, 771.0726)
[01:26:56] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:26:56] [INFO] [EnemyGrenade] Unsafe throw distance (165 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:26:56] [INFO] [EnemyGrenade] Throw path blocked to (440.1999, 771.0726)
[01:26:56] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=57.0°, player=(391,747), corner_timer=-0.01
[01:26:56] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[01:26:56] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=52.4°, player=(391,747), corner_timer=-0.01
[01:26:56] [ENEMY] [Enemy10] PATROL corner check: angle 14.6°
[01:26:56] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(627.7479, 762.68427), shooter_id=270901710936, bullet_pos=(37.376312, 801.8102)
[01:26:56] [INFO] [Bullet] Using shooter_position, distance=591,6667
[01:26:56] [INFO] [Bullet] Distance to wall: 591,6667 (40,287674% of viewport)
[01:26:56] [INFO] [Bullet] Distance-based penetration chance: 99,66438%
[01:26:56] [INFO] [Bullet] Starting wall penetration at (37.376312, 801.8102)
[01:26:56] [INFO] [EnemyGrenade] Unsafe throw distance (162 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:26:56] [INFO] [EnemyGrenade] Throw path blocked to (440.1999, 771.0726)
[01:26:56] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=54.7°, player=(388,748), corner_timer=0.30
[01:26:56] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.6°, current=54.2°, player=(388,748), corner_timer=0.30
[01:26:56] [INFO] [Bullet] Raycast backward hit penetrating body at distance 32,94523
[01:26:56] [INFO] [Bullet] Body exited signal received for penetrating body
[01:26:56] [INFO] [Bullet] Exiting penetration at (-0.87311935, 804.3451) after traveling 33,333336 pixels through wall
[01:26:56] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[01:26:56] [INFO] [EnemyGrenade] Unsafe throw distance (160 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:26:56] [INFO] [EnemyGrenade] Throw path blocked to (440.1999, 771.0726)
[01:26:56] [INFO] [EnemyGrenade] Unsafe throw distance (157 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:26:56] [INFO] [EnemyGrenade] Throw path blocked to (440.1999, 771.0726)
[01:26:56] [INFO] [EnemyGrenade] Unsafe throw distance (155 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:26:56] [INFO] [EnemyGrenade] Throw path blocked to (440.1999, 771.0726)
[01:26:56] [INFO] [BloodDecal] Blood puddle created at (745.8227, 773.3262) (added to group)
[01:26:56] [INFO] [EnemyGrenade] Unsafe throw distance (153 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:26:56] [INFO] [EnemyGrenade] Throw path blocked to (440.1999, 771.0726)
[01:26:56] [INFO] [BloodDecal] Blood puddle created at (766.9539, 751.4891) (added to group)
[01:26:56] [INFO] [ReplayManager] Recording frame 120 (1,9s): player_valid=True, enemies=10
[01:26:56] [INFO] [EnemyGrenade] Unsafe throw distance (151 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:26:56] [INFO] [Shotgun.FIX#445v7] Mid-drag pump DOWN - chambered, ready to fire
[01:26:56] [INFO] [BloodDecal] Blood puddle created at (733.5879, 769.8651) (added to group)
[01:26:56] [INFO] [BloodDecal] Blood puddle created at (768.1091, 785.8476) (added to group)
[01:26:56] [INFO] [EnemyGrenade] Unsafe throw distance (149 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:26:56] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:26:56] [INFO] [BloodyFeet:Enemy4] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[01:26:56] [INFO] [EnemyGrenade] Unsafe throw distance (147 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:26:56] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:26:56] [INFO] [BloodDecal] Blood puddle created at (725.5924, 753.3181) (added to group)
[01:26:56] [INFO] [BloodDecal] Blood puddle created at (742.048, 772.9147) (added to group)
[01:26:56] [INFO] [BloodDecal] Blood puddle created at (751.1868, 770.7349) (added to group)
[01:26:56] [INFO] [BloodDecal] Blood puddle created at (730.9952, 796.0518) (added to group)
[01:26:56] [INFO] [EnemyGrenade] Unsafe throw distance (147 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:26:56] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-174.8°, current=-171.4°, player=(365,762), corner_timer=0.00
[01:26:56] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) - pursuing to attack (dist=423)
[01:26:56] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[01:26:56] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:26:56] [INFO] [BloodDecal] Blood puddle created at (744.283, 795.7261) (added to group)
[01:26:56] [INFO] [EnemyGrenade] Unsafe throw distance (148 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:26:56] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[01:26:56] [INFO] [BloodDecal] Blood puddle created at (753.3663, 781.3646) (added to group)
[01:26:56] [INFO] [BloodDecal] Blood puddle created at (733.7328, 783.4963) (added to group)
[01:26:56] [INFO] [EnemyGrenade] Unsafe throw distance (148 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:26:56] [INFO] [BloodDecal] Blood puddle created at (735.2024, 801.6658) (added to group)
[01:26:56] [INFO] [BloodDecal] Blood puddle created at (767.6892, 764.7557) (added to group)
[01:26:56] [INFO] [EnemyGrenade] Unsafe throw distance (148 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:26:56] [INFO] [BloodDecal] Blood puddle created at (768.3002, 757.749) (added to group)
[01:26:56] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=341), can_see=false
[01:26:56] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=203), can_see=false
[01:26:56] [INFO] [EnemyGrenade] Unsafe throw distance (147 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:26:56] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=446), can_see=true
[01:26:56] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1412), can_see=false
[01:26:56] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1630), can_see=false
[01:26:56] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1349), can_see=false
[01:26:56] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1689), can_see=false
[01:26:56] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1912), can_see=false
[01:26:56] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1169), can_see=false
[01:26:56] [INFO] [EnemyGrenade] Unsafe throw distance (147 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:26:56] [INFO] [BloodDecal] Blood puddle created at (770.9619, 764.8197) (added to group)
[01:26:56] [INFO] [BloodDecal] Blood puddle created at (753.5031, 796.3327) (added to group)
[01:26:56] [INFO] [EnemyGrenade] Unsafe throw distance (147 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:26:56] [INFO] [BloodDecal] Blood puddle created at (770.9612, 799.7859) (added to group)
[01:26:57] [INFO] [EnemyGrenade] Unsafe throw distance (146 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:26:57] [INFO] [BloodDecal] Blood puddle created at (806.5869, 799.2122) (added to group)
[01:26:57] [INFO] [EnemyGrenade] Unsafe throw distance (146 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:26:57] [INFO] [EnemyGrenade] Unsafe throw distance (142 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:26:57] [INFO] [Shotgun.FIX#445v7] TryProcessMidDragGesture - dragVector=(9,6, 105,8), length=106,2, isDragUp=False, isDragDown=True, ActionState=Ready
[01:26:57] [INFO] [BloodDecal] Blood puddle created at (772.3372, 749.8258) (added to group)
[01:26:57] [INFO] [BloodDecal] Blood puddle created at (781.2599, 765.2004) (added to group)
[01:26:57] [INFO] [EnemyGrenade] Unsafe throw distance (139 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:26:57] [INFO] [EnemyGrenade] Unsafe throw distance (135 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:26:57] [INFO] [BloodDecal] Blood puddle created at (831.2823, 798.8928) (added to group)
[01:26:57] [INFO] [BloodDecal] Blood puddle created at (793.0074, 795.2106) (added to group)
[01:26:57] [INFO] [EnemyGrenade] Unsafe throw distance (138 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:26:57] [ENEMY] [Enemy3] Ragdoll activated
[01:26:57] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[01:26:57] [INFO] [BloodDecal] Blood puddle created at (822.767, 850.113) (added to group)
[01:26:57] [INFO] [EnemyGrenade] Unsafe throw distance (138 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:26:57] [INFO] [EnemyGrenade] Unsafe throw distance (133 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:26:57] [INFO] [BloodDecal] Blood puddle created at (769.3846, 809.0668) (added to group)
[01:26:57] [INFO] [EnemyGrenade] Unsafe throw distance (129 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:26:57] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.4°, player=(311,789), corner_timer=-0.01
[01:26:57] [ENEMY] [Enemy10] PATROL corner check: angle 7.4°
[01:26:57] [INFO] [BloodDecal] Blood puddle created at (848.7239, 801.6827) (added to group)
[01:26:57] [INFO] [EnemyGrenade] Unsafe throw distance (125 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:26:57] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.4°, current=16.5°, player=(306,789), corner_timer=0.30
[01:26:57] [INFO] [EnemyGrenade] Unsafe throw distance (129 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:26:57] [INFO] [BloodDecal] Blood puddle created at (831.123, 790.5726) (added to group)
[01:26:57] [INFO] [EnemyGrenade] Unsafe throw distance (127 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:26:57] [INFO] [BloodDecal] Blood puddle created at (789.0337, 792.4528) (added to group)
[01:26:57] [INFO] [BloodDecal] Blood puddle created at (792.1543, 830.4856) (added to group)
[01:26:57] [INFO] [EnemyGrenade] Unsafe throw distance (123 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:26:57] [INFO] [BloodDecal] Blood puddle created at (766.1127, 781.7914) (added to group)
[01:26:57] [INFO] [BloodDecal] Blood puddle created at (863.7201, 808.7271) (added to group)
[01:26:57] [INFO] [BloodDecal] Blood puddle created at (860.5842, 848.6312) (added to group)
[01:26:57] [INFO] [EnemyGrenade] Unsafe throw distance (122 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:26:57] [INFO] [Shotgun.FIX#445v7] TryProcessMidDragGesture - dragVector=(9,6, 114,7), length=115,1, isDragUp=False, isDragDown=True, ActionState=Ready
[01:26:57] [INFO] [BloodDecal] Blood puddle created at (852.0698, 741.3443) (added to group)
[01:26:57] [INFO] [EnemyGrenade] Unsafe throw distance (119 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:26:57] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(280.3423, 789.7278), source=PLAYER (Player), range=600, listeners=9
[01:26:57] [ENEMY] [Enemy1] Heard player EMPTY_CLICK at (280.3423, 789.7278), intensity=0.02, distance=319
[01:26:57] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (280.3423, 789.7278), intensity=0.04, distance=263
[01:26:57] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=6, self=0, below_threshold=1
[01:26:57] [INFO] [Shotgun.FIX#212] Firing 13 pellets with 15° spread at pos=(280.34232, 789.72784)
[01:26:57] [INFO] [Shotgun.FIX#212] Normal pellet 1/13: extraOffset=2,8, distance=54,8px, pos=(333.70663, 777.3179)
[01:26:57] [INFO] [Shotgun.FIX#212] Normal pellet 2/13: extraOffset=1,8, distance=53,8px, pos=(333.04453, 778.7891)
[01:26:57] [INFO] [Shotgun.FIX#212] Normal pellet 3/13: extraOffset=5,0, distance=57,0px, pos=(336.59033, 780.5191)
[01:26:57] [INFO] [Shotgun.FIX#212] Normal pellet 4/13: extraOffset=-8,6, distance=43,4px, pos=(323.35165, 783.7294)
[01:26:57] [INFO] [Shotgun.FIX#212] Normal pellet 5/13: extraOffset=10,4, distance=62,4px, pos=(342.24683, 781.86957)
[01:26:57] [INFO] [Shotgun.FIX#212] Normal pellet 6/13: extraOffset=-2,0, distance=50,0px, pos=(330.01205, 783.87524)
[01:26:57] [INFO] [Shotgun.FIX#212] Normal pellet 7/13: extraOffset=-9,1, distance=42,9px, pos=(323.08066, 785.7057)
[01:26:57] [INFO] [Shotgun.FIX#212] Normal pellet 8/13: extraOffset=0,6, distance=52,6px, pos=(332.7887, 785.7153)
[01:26:57] [INFO] [Shotgun.FIX#212] Normal pellet 9/13: extraOffset=13,9, distance=65,9px, pos=(346.21198, 787.06085)
[01:26:57] [INFO] [Shotgun.FIX#212] Normal pellet 10/13: extraOffset=1,1, distance=53,1px, pos=(333.4449, 788.9379)
[01:26:57] [INFO] [Shotgun.FIX#212] Normal pellet 11/13: extraOffset=-4,0, distance=48,0px, pos=(328.33063, 789.0794)
[01:26:57] [INFO] [Shotgun.FIX#212] Normal pellet 12/13: extraOffset=2,5, distance=54,5px, pos=(334.8008, 791.2833)
[01:26:57] [INFO] [Shotgun.FIX#212] Normal pellet 13/13: extraOffset=-12,5, distance=39,5px, pos=(319.78278, 790.61957)
[01:26:57] [INFO] [Shotgun.FIX#445v7] Reset drag start position after firing (continuous pump mode)
[01:26:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(280.3423, 789.7278), source=PLAYER (Shotgun), range=1469, listeners=9
[01:26:57] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=4, self=0, below_threshold=3
[01:26:57] [INFO] [BloodDecal] Blood puddle created at (865.0795, 789.0963) (added to group)
[01:26:57] [INFO] [EnemyGrenade] Unsafe throw distance (263 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:26:57] [INFO] [EnemyGrenade] Unsafe throw distance (262 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:26:57] [INFO] [BloodDecal] Blood puddle created at (848.1595, 814.6724) (added to group)
[01:26:57] [INFO] [BloodDecal] Blood puddle created at (768.4016, 808.2369) (added to group)
[01:26:57] [INFO] [EnemyGrenade] Unsafe throw distance (260 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:26:57] [INFO] [BloodDecal] Blood puddle created at (802.6796, 838.9987) (added to group)
[01:26:57] [INFO] [BloodDecal] Blood puddle created at (876.771, 862.9105) (added to group)
[01:26:57] [INFO] [EnemyGrenade] Unsafe throw distance (259 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:26:57] [INFO] [BloodDecal] Blood puddle created at (854.994, 764.2426) (added to group)
[01:26:57] [INFO] [EnemyGrenade] Unsafe throw distance (258 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:26:57] [INFO] [BloodDecal] Blood puddle created at (788.0073, 810.4384) (added to group)
[01:26:57] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=163.1°, current=-170.5°, player=(258,789), corner_timer=0.00
[01:26:57] [ENEMY] [Enemy2] Player empty ammo - priority attack triggered
[01:26:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(524.0657, 708.869), source=ENEMY (Enemy2), range=1469, listeners=9
[01:26:57] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=4
[01:26:57] [INFO] [GrenadeBase] CCD enabled (mode: CAST_RAY) to prevent wall tunneling
[01:26:57] [INFO] [GrenadeBase] Grenade created at (831.2317, 718.9072) (frozen)
[01:26:57] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[01:26:57] [INFO] [GrenadeTimer] Initialized for Frag grenade, effect radius: 225
[01:26:57] [INFO] [GrenadeTimerHelper] Attached GrenadeTimer to FragGrenade (type: Frag)
[01:26:57] [INFO] [EnemyGrenade] Attached C# GrenadeTimer to grenade (type: Frag)
[01:26:57] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[01:26:57] [INFO] [GrenadeTimer] Timer activated! 4 seconds until explosion
[01:26:57] [INFO] [GrenadeBase] LEGACY throw_grenade() called! Direction: (-0.998936, 0.046113), Speed: 868.7 (unfrozen)
[01:26:57] [INFO] [GrenadeBase] NOTE: Using DRAG-BASED system. If velocity-based is expected, ensure grenade has throw_grenade_velocity_based() method.
[01:26:57] [INFO] [FragGrenade] Grenade thrown (legacy) - impact detection enabled
[01:26:57] [INFO] [GrenadeTimer] Grenade marked as thrown - impact detection enabled
[01:26:57] [INFO] [EnemyGrenade] Enemy grenade thrown! Target: (440.1999, 771.0726), Distance: 434
[01:26:57] [ENEMY] [Enemy2] Hit taken, damage: 1, health: 2/2 -> 1/2
[01:26:57] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[01:26:57] [INFO] [ImpactEffects] spawn_blood_effect called at (524.0657, 712.787), dir=(1, 0), lethal=false
[01:26:57] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:26:57] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[01:26:57] [INFO] [ImpactEffects] Blood effect spawned at (524.0657, 712.787) (scale=1)
[01:26:57] [ENEMY] [Enemy2] Hit taken, damage: 1, health: 1/2 -> 0/2
[01:26:57] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[01:26:57] [INFO] [ImpactEffects] spawn_blood_effect called at (524.0657, 712.787), dir=(1, 0), lethal=true
[01:26:57] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:26:57] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[01:26:57] [INFO] [ImpactEffects] Blood effect spawned at (524.0657, 712.787) (scale=1.5)
[01:26:57] [ENEMY] [Enemy2] Enemy died (ricochet: false, penetration: false)
[01:26:57] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[01:26:57] [ENEMY] [Enemy2] [AllyDeath] Notified 2 enemies
[01:26:57] [INFO] [SoundPropagation] Unregistered listener: Enemy2 (remaining: 8)
[01:26:57] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[01:26:57] [ENEMY] [Enemy2] Death animation started with hit direction: (1, 0)
[01:26:57] [INFO] [Shotgun.FIX#445v7] Mid-drag pump UP - shell ejected, continue dragging DOWN to chamber
[01:26:57] [INFO] [BloodDecal] Blood puddle created at (861.8218, 833.2332) (added to group)
[01:26:57] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:26:57] [INFO] [LastChance] Threat detected: Bullet
[01:26:57] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[01:26:57] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:26:57] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:26:57] [ENEMY] [Enemy1] Pursuing vulnerability sound at (280.3423, 789.7278), distance=289
[01:26:57] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:26:57] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=324), can_see=false
[01:26:57] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=671), can_see=true
[01:26:57] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1541), can_see=false
[01:26:57] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1760), can_see=false
[01:26:57] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1476), can_see=false
[01:26:57] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1802), can_see=false
[01:26:57] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2025), can_see=false
[01:26:57] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1245), can_see=false
[01:26:57] [ENEMY] [Enemy4] Hit taken, damage: 1, health: 4/4 -> 3/4
[01:26:57] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[01:26:57] [INFO] [ImpactEffects] spawn_blood_effect called at (887.9327, 686.9291), dir=(1, 0), lethal=false
[01:26:57] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:26:57] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[01:26:57] [INFO] [ImpactEffects] Wall found for blood splatter at (912, 686.9291) (dist=24 px)
[01:26:57] [INFO] [BloodDecal] Blood puddle created at (911, 686.9291) (added to group)
[01:26:57] [INFO] [ImpactEffects] Blood effect spawned at (887.9327, 686.9291) (scale=1)
[01:26:57] [INFO] [Shotgun.FIX#445v7] Mid-drag pump DOWN - chambered, ready to fire
[01:26:57] [ENEMY] [Enemy4] Hit taken, damage: 1, health: 3/4 -> 2/4
[01:26:57] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[01:26:57] [INFO] [ImpactEffects] spawn_blood_effect called at (887.9327, 683.9157), dir=(1, 0), lethal=false
[01:26:57] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:26:57] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[01:26:57] [INFO] [ImpactEffects] Wall found for blood splatter at (912, 683.9157) (dist=24 px)
[01:26:57] [INFO] [BloodDecal] Blood puddle created at (911, 683.9157) (added to group)
[01:26:57] [INFO] [ImpactEffects] Blood effect spawned at (887.9327, 683.9157) (scale=1)
[01:26:57] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=7.2°, player=(205,789), corner_timer=-0.01
[01:26:57] [ENEMY] [Enemy10] PATROL corner check: angle 3.8°
[01:26:57] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.8°, current=9.4°, player=(201,789), corner_timer=0.30
[01:26:57] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:26:57] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[01:26:57] [INFO] [GrenadeBase] Collision detected with Enemy3 (type: CharacterBody2D)
[01:26:57] [INFO] [FragGrenade] Impact detected! Body: Enemy3 (type: CharacterBody2D), triggering explosion
[01:26:57] [INFO] [FragGrenade] Impact detected - exploding immediately!
[01:26:57] [INFO] [GrenadeBase] EXPLODED at (683.6142, 718.2009)!
[01:26:57] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(683.6142, 718.2009), source=NEUTRAL (FragGrenade), range=2937, listeners=8
[01:26:57] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=6
[01:26:57] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 159.6
[01:26:57] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 33.5
[01:26:57] [ENEMY] [Enemy4] Hit taken, damage: 1, health: 2/4 -> 1/4
[01:26:57] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[01:26:57] [INFO] [ImpactEffects] spawn_blood_effect called at (887.9327, 674.8756), dir=(0.978249, -0.207435), lethal=false
[01:26:57] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:26:57] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[01:26:57] [INFO] [ImpactEffects] Wall found for blood splatter at (912, 669.7722) (dist=24 px)
[01:26:57] [INFO] [BloodDecal] Blood puddle created at (911, 669.7722) (added to group)
[01:26:57] [INFO] [ImpactEffects] Blood effect spawned at (887.9327, 674.8756) (scale=1)
[01:26:57] [ENEMY] [Enemy4] Hit taken, damage: 1, health: 1/4 -> 0/4
[01:26:57] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[01:26:57] [INFO] [ImpactEffects] spawn_blood_effect called at (887.9327, 674.8756), dir=(0.978249, -0.207435), lethal=true
[01:26:57] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:26:57] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[01:26:57] [INFO] [ImpactEffects] Wall found for blood splatter at (912, 669.7722) (dist=24 px)
[01:26:57] [INFO] [BloodDecal] Blood puddle created at (911, 669.7722) (added to group)
[01:26:57] [INFO] [ImpactEffects] Blood effect spawned at (887.9327, 674.8756) (scale=1.5)
[01:26:57] [ENEMY] [Enemy4] Enemy died (ricochet: false, penetration: false)
[01:26:57] [INFO] [ScoreManager] Kill registered. Combo: 3 (points: 3000)
[01:26:57] [ENEMY] [Enemy4] [AllyDeath] Notified 1 enemies
[01:26:57] [INFO] [SoundPropagation] Unregistered listener: Enemy4 (remaining: 7)
[01:26:57] [INFO] [DeathAnim] Started - Angle: -12.0 deg, Index: 11
[01:26:57] [ENEMY] [Enemy4] Death animation started with hit direction: (0.978249, -0.207435)
[01:26:57] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 208.9
[01:26:57] [INFO] [GrenadeBase] Scattered 2 casings (lethal zone) + 1 casings (proximity) from explosion
[01:26:57] [INFO] [FragGrenade] Spawned shrapnel #1 at angle 13.1 degrees
[01:26:57] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 108.6 degrees
[01:26:57] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 184.5 degrees
[01:26:57] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 256.8 degrees
[01:26:57] [INFO] [ImpactEffects] Spawning explosion visual effect at (683.6142, 718.2009) (radius=225) - using shadow-based wall occlusion
[01:26:57] [INFO] [GrenadeTimer] Impact detected with Enemy3 - EXPLODING!
[01:26:57] [INFO] [GrenadeTimer] EXPLODED at (683.6142, 718.20087)!
[01:26:57] [INFO] [GrenadeTimer] Applying frag explosion damage (radius: 225, damage: 99)
[01:26:57] [INFO] [GrenadeTimer] Damaged enemy at distance 159,6
[01:26:57] [INFO] [GrenadeTimer] Damaged enemy at distance 33,5
[01:26:57] [INFO] [GrenadeTimer] Damaged enemy at distance 208,9
[01:26:57] [INFO] [GrenadeTimer] Spawned 4 shrapnel pieces
[01:26:57] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(683.6142, 718.2009), source=NEUTRAL (FragGrenade), range=2938, listeners=7
[01:26:57] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=6
[01:26:57] [INFO] [GrenadeTimer] Spawned PointLight2D frag explosion flash at (683.6142, 718.20087) (shadow-based wall occlusion)
[01:26:57] [INFO] [GrenadeTimer] Scattered 3 casings
[01:26:57] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:26:57] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:26:57] [INFO] [BloodDecal] Blood puddle created at (600.7121, 727.2228) (added to group)
[01:26:57] [INFO] [BloodDecal] Blood puddle created at (583.1743, 741.6335) (added to group)
[01:26:57] [INFO] [BloodDecal] Blood puddle created at (616.3511, 691.3016) (added to group)
[01:26:57] [INFO] [BloodDecal] Blood puddle created at (576.3582, 751.3127) (added to group)
[01:26:57] [INFO] [BloodDecal] Blood puddle created at (581.8669, 722.1182) (added to group)
[01:26:57] [INFO] [BloodDecal] Blood puddle created at (593.5767, 753.7719) (added to group)
[01:26:57] [INFO] [BloodDecal] Blood puddle created at (594.8425, 729.605) (added to group)
[01:26:57] [INFO] [BloodDecal] Blood puddle created at (586.4836, 712.9561) (added to group)
[01:26:57] [INFO] [ReplayManager] Recording frame 180 (2,7s): player_valid=True, enemies=10
[01:26:57] [INFO] [BloodDecal] Blood puddle created at (586.6874, 722.2614) (added to group)
[01:26:57] [INFO] [BloodDecal] Blood puddle created at (617.6224, 738.5741) (added to group)
[01:26:57] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.8°, player=(101,786), corner_timer=-0.01
[01:26:57] [ENEMY] [Enemy10] PATROL corner check: angle 2.0°
[01:26:57] [INFO] [Shotgun.FIX#445v7] TryProcessMidDragGesture - dragVector=(17,0, 347,8), length=348,2, isDragUp=False, isDragDown=True, ActionState=Ready
[01:26:57] [INFO] [BloodDecal] Blood puddle created at (596.3214, 793.2224) (added to group)
[01:26:57] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=2.0°, current=6.0°, player=(97,785), corner_timer=0.30
[01:26:57] [ENEMY] [Enemy2] Ragdoll activated
[01:26:57] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[01:26:57] [INFO] [BloodDecal] Blood puddle created at (673.7114, 692.45) (added to group)
[01:26:57] [INFO] [BloodDecal] Blood puddle created at (669.4695, 821.0046) (added to group)
[01:26:57] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=451), can_see=false
[01:26:58] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1668), can_see=false
[01:26:58] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1891), can_see=false
[01:26:58] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1610), can_see=false
[01:26:58] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1929), can_see=false
[01:26:58] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2152), can_see=false
[01:26:58] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1349), can_see=false
[01:26:58] [INFO] [BloodDecal] Blood puddle created at (605.877, 745.4048) (added to group)
[01:26:58] [INFO] [BloodDecal] Blood puddle created at (682.5134, 721.0836) (added to group)
[01:26:58] [INFO] [BloodyFeet:Enemy3] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[01:26:58] [INFO] [BloodDecal] Blood puddle created at (669.579, 768.4949) (added to group)
[01:26:58] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(80.06556, 782.2665), source=PLAYER (Player), range=600, listeners=7
[01:26:58] [ENEMY] [Enemy1] Heard player EMPTY_CLICK at (80.06556, 782.2665), intensity=0.01, distance=457
[01:26:58] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=0, below_threshold=0
[01:26:58] [INFO] [Shotgun.FIX#212] Firing 14 pellets with 15° spread at pos=(80.06556, 782.2665)
[01:26:58] [INFO] [Shotgun.FIX#212] Normal pellet 1/14: extraOffset=9,8, distance=61,8px, pos=(140.03137, 767.50415)
[01:26:58] [INFO] [Shotgun.FIX#212] Normal pellet 2/14: extraOffset=-12,9, distance=39,1px, pos=(118.42124, 774.5771)
[01:26:58] [INFO] [Shotgun.FIX#212] Normal pellet 3/14: extraOffset=-0,4, distance=51,6px, pos=(130.68407, 772.34607)
[01:26:58] [INFO] [Shotgun.FIX#212] Normal pellet 4/14: extraOffset=6,7, distance=58,7px, pos=(137.82669, 771.9574)
[01:26:58] [INFO] [Shotgun.FIX#212] Normal pellet 5/14: extraOffset=-3,1, distance=48,9px, pos=(128.36676, 774.80786)
[01:26:58] [INFO] [Shotgun.FIX#212] Normal pellet 6/14: extraOffset=-8,1, distance=43,9px, pos=(123.79288, 777.96826)
[01:26:58] [INFO] [Shotgun.FIX#212] Normal pellet 7/14: extraOffset=-0,0, distance=52,0px, pos=(131.87375, 777.96576)
[01:26:58] [INFO] [Shotgun.FIX#212] Normal pellet 8/14: extraOffset=14,8, distance=66,8px, pos=(146.48483, 775.43665)
[01:26:58] [INFO] [Shotgun.FIX#212] Normal pellet 9/14: extraOffset=2,9, distance=54,9px, pos=(134.84026, 779.3041)
[01:26:58] [INFO] [Shotgun.FIX#212] Normal pellet 10/14: extraOffset=-4,3, distance=47,7px, pos=(127.735565, 779.9366)
[01:26:58] [INFO] [Shotgun.FIX#212] Normal pellet 11/14: extraOffset=1,5, distance=53,5px, pos=(133.53912, 782.11523)
[01:26:58] [INFO] [Shotgun.FIX#212] Normal pellet 12/14: extraOffset=5,7, distance=57,7px, pos=(137.7217, 782.0573)
[01:26:58] [INFO] [Shotgun.FIX#212] Normal pellet 13/14: extraOffset=11,4, distance=63,4px, pos=(143.42798, 781.9343)
[01:26:58] [INFO] [Shotgun.FIX#212] Normal pellet 14/14: extraOffset=3,9, distance=55,9px, pos=(135.9, 785.80457)
[01:26:58] [INFO] [Shotgun.FIX#445v7] Reset drag start position after firing (continuous pump mode)
[01:26:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(80.06556, 782.2665), source=PLAYER (Shotgun), range=1469, listeners=7
[01:26:58] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=1
[01:26:58] [INFO] [BloodDecal] Blood puddle created at (686.6658, 792.223) (added to group)
[01:26:58] [INFO] [BloodDecal] Blood puddle created at (610.7429, 766.9838) (added to group)
[01:26:58] [INFO] [BloodDecal] Blood puddle created at (676.6245, 861.7681) (added to group)
[01:26:58] [INFO] [BloodDecal] Blood puddle created at (654.3514, 784.3068) (added to group)
[01:26:58] [ENEMY] [Enemy4] Ragdoll activated
[01:26:58] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[01:26:58] [INFO] [Shotgun.FIX#445v7] Mid-drag pump UP - shell ejected, continue dragging DOWN to chamber
[01:26:58] [INFO] [BloodDecal] Blood puddle created at (640.3813, 767.52) (added to group)
[01:26:58] [INFO] [BloodDecal] Blood puddle created at (702.5436, 790.5342) (added to group)
[01:26:58] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:26:58] [INFO] [BloodDecal] Blood puddle created at (643.3572, 816.8073) (added to group)
[01:26:58] [INFO] [BloodDecal] Blood puddle created at (656.5643, 842.149) (added to group)
[01:26:58] [ENEMY] [Enemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=170.7°, current=-158.8°, player=(80,780), corner_timer=0.00
[01:26:58] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) - pursuing to attack (dist=450)
[01:26:58] [ENEMY] [Enemy1] State: PURSUING -> COMBAT
[01:26:58] [ENEMY] [Enemy1] State: COMBAT -> RETREATING
[01:26:58] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:26:58] [INFO] [BloodDecal] Blood puddle created at (668.6906, 856.5137) (added to group)
[01:26:58] [ENEMY] [Enemy1] Hit taken, damage: 1, health: 4/4 -> 3/4
[01:26:58] [ENEMY] [Enemy1] ImpactEffectsManager found, calling spawn_blood_effect
[01:26:58] [INFO] [ImpactEffects] spawn_blood_effect called at (524.0657, 715.3375), dir=(1, 0), lethal=false
[01:26:58] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:26:58] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[01:26:58] [INFO] [ImpactEffects] Blood effect spawned at (524.0657, 715.3375) (scale=1)
[01:26:58] [ENEMY] [Enemy1] Hit taken, damage: 1, health: 3/4 -> 2/4
[01:26:58] [ENEMY] [Enemy1] ImpactEffectsManager found, calling spawn_blood_effect
[01:26:58] [INFO] [ImpactEffects] spawn_blood_effect called at (524.0657, 715.3375), dir=(1, 0), lethal=false
[01:26:58] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:26:58] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[01:26:58] [INFO] [ImpactEffects] Blood effect spawned at (524.0657, 715.3375) (scale=1)
[01:26:58] [ENEMY] [Enemy1] Hit taken, damage: 1, health: 2/4 -> 1/4
[01:26:58] [ENEMY] [Enemy1] ImpactEffectsManager found, calling spawn_blood_effect
[01:26:58] [INFO] [ImpactEffects] spawn_blood_effect called at (524.0657, 715.3375), dir=(1, 0), lethal=false
[01:26:58] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:26:58] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[01:26:58] [INFO] [ImpactEffects] Blood effect spawned at (524.0657, 715.3375) (scale=1)
[01:26:58] [ENEMY] [Enemy3] Death animation completed
[01:26:58] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:26:58] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=2.0°, player=(80,776), corner_timer=-0.01
[01:26:58] [ENEMY] [Enemy10] PATROL corner check: angle 1.1°
[01:26:58] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.1°, current=4.2°, player=(80,776), corner_timer=0.30
[01:26:58] [INFO] [Shotgun.FIX#445v7] Mouse at bottom edge (Y=675), need PumpDown - recentering cursor
[01:26:58] [INFO] [Shotgun.FIX#445v7] Cursor recentered to (640, 360)
[01:26:58] [INFO] [Shotgun.FIX#445v7] Mid-drag pump DOWN - chambered, ready to fire
[01:26:58] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=444), can_see=true
[01:26:58] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1675), can_see=false
[01:26:58] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1898), can_see=false
[01:26:58] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1620), can_see=false
[01:26:58] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1941), can_see=false
[01:26:58] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2163), can_see=false
[01:26:58] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1359), can_see=false
[01:26:58] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:26:58] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:26:58] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:26:58] [INFO] [BloodDecal] Blood puddle created at (594.8105, 746.2318) (added to group)
[01:26:58] [INFO] [BloodDecal] Blood puddle created at (590.9139, 753.0456) (added to group)
[01:26:58] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.1°, player=(80,776), corner_timer=-0.01
[01:26:58] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[01:26:58] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:26:58] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=0.6°, current=3.3°, player=(80,776), corner_timer=0.30
[01:26:58] [INFO] [BloodDecal] Blood puddle created at (588.4056, 751.1462) (added to group)
[01:26:58] [INFO] [BloodDecal] Blood puddle created at (634.9908, 695.6677) (added to group)
[01:26:58] [INFO] [BloodDecal] Blood puddle created at (636.1378, 701.248) (added to group)
[01:26:58] [INFO] [BloodDecal] Blood puddle created at (580.5948, 749.1043) (added to group)
[01:26:58] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:26:58] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:26:58] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:26:58] [INFO] [BloodDecal] Blood puddle created at (606.2775, 747.3559) (added to group)
[01:26:58] [INFO] [BloodDecal] Blood puddle created at (643.14, 770.5321) (added to group)
[01:26:58] [INFO] [BloodDecal] Blood puddle created at (653.1833, 784.6282) (added to group)
[01:26:58] [INFO] [BloodDecal] Blood puddle created at (660.4543, 708.1179) (added to group)
[01:26:58] [INFO] [BloodDecal] Blood puddle created at (597.7286, 741.3286) (added to group)
[01:26:58] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:26:58] [INFO] [ReplayManager] Recording frame 240 (3,5s): player_valid=True, enemies=10
[01:26:58] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:26:58] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:26:58] [INFO] [BloodDecal] Blood puddle created at (615.0203, 747.8956) (added to group)
[01:26:58] [INFO] [BloodDecal] Blood puddle created at (654.7294, 775.2523) (added to group)
[01:26:58] [INFO] [BloodDecal] Blood puddle created at (623.0939, 737.3583) (added to group)
[01:26:58] [INFO] [BloodDecal] Blood puddle created at (645.7737, 704.9252) (added to group)
[01:26:58] [INFO] [BloodDecal] Blood puddle created at (598.4957, 754.467) (added to group)
[01:26:58] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:26:58] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:26:58] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:26:58] [INFO] [BloodDecal] Blood puddle created at (650.9713, 834.5906) (added to group)
[01:26:58] [INFO] [BloodDecal] Blood puddle created at (626.1208, 759.9685) (added to group)
[01:26:58] [INFO] [BloodDecal] Blood puddle created at (651.5017, 804.552) (added to group)
[01:26:58] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:26:58] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:26:58] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:26:58] [INFO] [BloodDecal] Blood puddle created at (653.8085, 715.9039) (added to group)
[01:26:58] [INFO] [BloodDecal] Blood puddle created at (610.5897, 797.8459) (added to group)
[01:26:58] [INFO] [BloodDecal] Blood puddle created at (642.7588, 827.8174) (added to group)
[01:26:58] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:26:58] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(80.07462, 776.6174), source=PLAYER (Player), range=600, listeners=7
[01:26:58] [ENEMY] [Enemy1] Heard player EMPTY_CLICK at (80.07462, 776.6174), intensity=0.01, distance=444
[01:26:58] [ENEMY] [Enemy1] Vulnerability sound triggered pursuit - transitioning from RETREATING to PURSUING
[01:26:58] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=0, below_threshold=0
[01:26:58] [INFO] [Shotgun.FIX#212] Firing 11 pellets with 15° spread at pos=(80.074615, 776.6174)
[01:26:59] [INFO] [Shotgun.FIX#212] Normal pellet 1/11: extraOffset=-14,4, distance=37,6px, pos=(116.872925, 768.77734)
[01:26:59] [INFO] [Shotgun.FIX#212] Normal pellet 2/11: extraOffset=9,1, distance=61,1px, pos=(140.18625, 765.761)
[01:26:59] [INFO] [Shotgun.FIX#212] Normal pellet 3/11: extraOffset=7,4, distance=59,4px, pos=(138.38806, 765.2896)
[01:26:59] [INFO] [Shotgun.FIX#212] Normal pellet 4/11: extraOffset=-11,3, distance=40,7px, pos=(120.3158, 770.77856)
[01:26:59] [INFO] [Shotgun.FIX#212] Normal pellet 5/11: extraOffset=-4,5, distance=47,5px, pos=(127.21387, 770.4915)
[01:26:59] [INFO] [Shotgun.FIX#212] Normal pellet 6/11: extraOffset=2,9, distance=54,9px, pos=(134.8578, 772.8625)
[01:26:59] [INFO] [Shotgun.FIX#212] Normal pellet 7/11: extraOffset=12,5, distance=64,5px, pos=(144.36488, 771.29364)
[01:26:59] [INFO] [Shotgun.FIX#212] Normal pellet 8/11: extraOffset=0,9, distance=52,9px, pos=(132.92513, 774.01807)
[01:26:59] [INFO] [Shotgun.FIX#212] Normal pellet 9/11: extraOffset=-9,8, distance=42,2px, pos=(122.24077, 775.93054)
[01:26:59] [INFO] [Shotgun.FIX#212] Normal pellet 10/11: extraOffset=6,0, distance=58,0px, pos=(138.02528, 778.2214)
[01:26:59] [INFO] [Shotgun.FIX#212] Normal pellet 11/11: extraOffset=-13,0, distance=39,0px, pos=(119.05896, 777.77954)
[01:26:59] [INFO] [Shotgun.FIX#445v7] Reset drag start position after firing (continuous pump mode)
[01:26:59] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(80.07462, 776.6174), source=PLAYER (Shotgun), range=1469, listeners=7
[01:26:59] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=1
[01:26:59] [ENEMY] [Enemy1] Pursuing vulnerability sound at (80.07462, 776.6174), distance=444
[01:26:59] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:26:59] [ENEMY] [Enemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=PURSUING, target=179.7°, current=-90.2°, player=(80,776), corner_timer=0.00
[01:26:59] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:26:59] [INFO] [BloodDecal] Blood puddle created at (653.5087, 841.0536) (added to group)
[01:26:59] [INFO] [BloodDecal] Blood puddle created at (673.8801, 777.3435) (added to group)
[01:26:59] [INFO] [BloodDecal] Blood puddle created at (610.58, 753.1711) (added to group)
[01:26:59] [ENEMY] [Enemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=179.9°, current=-139.2°, player=(80,776), corner_timer=0.00
[01:26:59] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=436), can_see=true
[01:26:59] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1675), can_see=false
[01:26:59] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1898), can_see=false
[01:26:59] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1570), can_see=false
[01:26:59] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:26:59] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1941), can_see=false
[01:26:59] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2163), can_see=false
[01:26:59] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1358), can_see=false
[01:26:59] [ENEMY] [Enemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=PURSUING, target=179.9°, current=-118.1°, player=(80,776), corner_timer=0.00
[01:26:59] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=179.9°, current=-129.1°, player=(80,776), corner_timer=-0.01
[01:26:59] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:26:59] [ENEMY] [Enemy7] PATROL corner check: angle 89.9°
[01:26:59] [ENEMY] [Enemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=179.9°, current=-143.6°, player=(80,776), corner_timer=0.00
[01:26:59] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.9°, current=-131.4°, player=(80,776), corner_timer=0.30
[01:26:59] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:26:59] [INFO] [BloodDecal] Blood puddle created at (701.1445, 808.7683) (added to group)
[01:26:59] [ENEMY] [Enemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=PURSUING, target=179.9°, current=-122.7°, player=(80,776), corner_timer=0.00
[01:26:59] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:26:59] [ENEMY] [Enemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=179.9°, current=-148.1°, player=(80,776), corner_timer=0.00
[01:26:59] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:26:59] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:26:59] [INFO] [BloodDecal] Blood puddle created at (644.0708, 865.0256) (added to group)
[01:26:59] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:26:59] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:26:59] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[01:26:59] [ENEMY] [Enemy1] Hit taken, damage: 1, health: 1/4 -> 0/4
[01:26:59] [ENEMY] [Enemy1] ImpactEffectsManager found, calling spawn_blood_effect
[01:26:59] [INFO] [ImpactEffects] spawn_blood_effect called at (483.5525, 779.8831), dir=(1, 0), lethal=true
[01:26:59] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:26:59] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[01:26:59] [INFO] [ImpactEffects] Blood effect spawned at (483.5525, 779.8831) (scale=1.5)
[01:26:59] [ENEMY] [Enemy1] Enemy died (ricochet: false, penetration: false)
[01:26:59] [INFO] [ScoreManager] Kill registered. Combo: 4 (points: 5000)
[01:26:59] [INFO] [SoundPropagation] Unregistered listener: Enemy1 (remaining: 6)
[01:26:59] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[01:26:59] [ENEMY] [Enemy1] Death animation started with hit direction: (1, 0)
[01:26:59] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:26:59] [INFO] [BloodDecal] Blood puddle created at (642.8251, 764.8644) (added to group)
[01:26:59] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:26:59] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:26:59] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:26:59] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:26:59] [ENEMY] [Enemy2] Death animation completed
[01:26:59] [INFO] [Shotgun.FIX#243] RMB released after 18 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[01:26:59] [INFO] [Shotgun.FIX#445v7] ProcessDragGesture - dragVector=(-8,7, -6,0), length=10,6, ActionState=NeedsPumpUp
[01:26:59] [INFO] [Shotgun.FIX#445v7] Drag too short: 10,6 < 30
[01:26:59] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=178.7°, current=175.8°, player=(80,757), corner_timer=-0.01
[01:26:59] [ENEMY] [Enemy7] PATROL corner check: angle 89.7°
[01:26:59] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.7°, current=178.1°, player=(80,754), corner_timer=0.30
[01:26:59] [INFO] [BloodDecal] Blood puddle created at (533.3234, 801.1141) (added to group)
[01:26:59] [ENEMY] [Enemy4] Death animation completed
[01:26:59] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[01:26:59] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1664), can_see=false
[01:26:59] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1890), can_see=false
[01:26:59] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1538), can_see=false
[01:26:59] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1952), can_see=false
[01:26:59] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2175), can_see=false
[01:26:59] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1380), can_see=false
[01:26:59] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[01:26:59] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:26:59] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=NeedsPumpUp, ReloadState=NotReloading
[01:26:59] [INFO] [Shotgun.FIX#445] dragStartPos=(641, 833), aimDir=(0,98, 0,18)
[01:26:59] [INFO] [BloodDecal] Blood puddle created at (601.9958, 780.0962) (added to group)
[01:26:59] [INFO] [BloodDecal] Blood puddle created at (556.3018, 815.9889) (added to group)
[01:26:59] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:26:59] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:26:59] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:26:59] [INFO] [Shotgun.FIX#445v7] Mid-drag pump UP - shell ejected, continue dragging DOWN to chamber
[01:26:59] [INFO] [BloodDecal] Blood puddle created at (564.8363, 776.0497) (added to group)
[01:26:59] [INFO] [BloodDecal] Blood puddle created at (579.7422, 792.8746) (added to group)
[01:26:59] [INFO] [BloodDecal] Blood puddle created at (604.5606, 835.2913) (added to group)
[01:26:59] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:26:59] [INFO] [BloodDecal] Blood puddle created at (601.6283, 784.8459) (added to group)
[01:26:59] [ENEMY] [Enemy1] Ragdoll activated
[01:26:59] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[01:26:59] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:26:59] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:26:59] [INFO] [BloodDecal] Blood puddle created at (644.6259, 854.9076) (added to group)
[01:26:59] [INFO] [ReplayManager] Recording frame 300 (4,3s): player_valid=True, enemies=10
[01:26:59] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.9°, current=125.2°, player=(85,668), corner_timer=-0.01
[01:26:59] [ENEMY] [Enemy7] PATROL corner check: angle 89.6°
[01:26:59] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.6°, current=127.5°, player=(86,664), corner_timer=0.30
[01:26:59] [INFO] [BloodDecal] Blood puddle created at (638.9578, 808.8367) (added to group)
[01:26:59] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:26:59] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:26:59] [INFO] [BloodDecal] Blood puddle created at (655.7867, 858.5162) (added to group)
[01:26:59] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:26:59] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:26:59] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[01:26:59] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:26:59] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:26:59] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:26:59] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:27:00] [INFO] [Shotgun.FIX#445v7] TryProcessMidDragGesture - dragVector=(8,7, -91,2), length=91,6, isDragUp=True, isDragDown=False, ActionState=NeedsPumpDown
[01:27:00] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:27:00] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:27:00] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1610), can_see=false
[01:27:00] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1844), can_see=false
[01:27:00] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1523), can_see=false
[01:27:00] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:27:00] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1969), can_see=false
[01:27:00] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2192), can_see=false
[01:27:00] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1432), can_see=false
[01:27:00] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:27:00] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:27:00] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:27:00] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:27:00] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:27:00] [INFO] [Shotgun.FIX#445v7] Mid-drag pump DOWN - chambered, ready to fire
[01:27:00] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:27:00] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:27:00] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:27:00] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:27:00] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:27:00] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:27:00] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:27:00] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.4°, current=89.6°, player=(150,594), corner_timer=-0.01
[01:27:00] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:27:00] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[01:27:00] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:27:00] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=91.9°, player=(153,592), corner_timer=0.30
[01:27:00] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:27:00] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:27:00] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:27:00] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:27:00] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:27:00] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:27:00] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[01:27:00] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:27:00] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:27:00] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:27:00] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:27:00] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:27:00] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:27:00] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:27:00] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:27:00] [INFO] [Shotgun.FIX#445v7] TryProcessMidDragGesture - dragVector=(-6,7, 154,0), length=154,1, isDragUp=False, isDragDown=True, ActionState=Ready
[01:27:00] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:27:00] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:27:00] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:27:00] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:27:00] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:27:00] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1484), can_see=false
[01:27:00] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1720), can_see=false
[01:27:00] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1411), can_see=false
[01:27:00] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:27:00] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1875), can_see=false
[01:27:00] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2098), can_see=false
[01:27:00] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1372), can_see=false
[01:27:00] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:27:00] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:27:00] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:27:00] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.1°, current=89.4°, player=(251,590), corner_timer=-0.01
[01:27:00] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:27:00] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[01:27:00] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=91.7°, player=(255,591), corner_timer=0.30
[01:27:00] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:27:00] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:27:00] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:27:00] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:27:00] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:27:00] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:27:00] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[01:27:00] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:27:00] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:27:00] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:27:00] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:27:00] [INFO] [Shotgun.FIX#445v7] TryProcessMidDragGesture - dragVector=(25,4, -159,1), length=161,2, isDragUp=True, isDragDown=False, ActionState=Ready
[01:27:00] [INFO] [Shotgun.FIX#243] Bolt opened for loading - ReloadState=Loading, ShellsInTube=4/8
[01:27:00] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:27:00] [INFO] [ReplayManager] Recording frame 360 (5,1s): player_valid=True, enemies=10
[01:27:00] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:27:00] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:27:00] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:27:00] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:27:00] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:27:00] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:27:00] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:27:00] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:27:00] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:27:00] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:27:00] [ENEMY] [Enemy1] Death animation completed
[01:27:00] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:27:00] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:27:01] [INFO] [Shotgun.FIX#243] RMB released after 5 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[01:27:01] [INFO] [Shotgun.FIX#445v7] ProcessDragGesture - dragVector=(44,1, -270,6), length=274,2, ActionState=Ready
[01:27:01] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.9°, current=89.4°, player=(334,645), corner_timer=-0.01
[01:27:01] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[01:27:01] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=91.7°, player=(338,646), corner_timer=0.30
[01:27:01] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1386), can_see=false
[01:27:01] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1616), can_see=false
[01:27:01] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1289), can_see=false
[01:27:01] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1748), can_see=false
[01:27:01] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1972), can_see=false
[01:27:01] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1253), can_see=false
[01:27:01] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[01:27:01] [INFO] [Shotgun.EVENT] MMB event: pressed=True (was False), isDragging=False
[01:27:01] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[01:27:01] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=True, raw=True, event=True, any=True, ActionState=Ready, ReloadState=Loading
[01:27:01] [INFO] [Shotgun.FIX#445] dragStartPos=(704, 454), aimDir=(0,98, 0,18)
[01:27:01] [INFO] [Shotgun.DIAG] Frame 1: poll=True, raw=True, event=True, any=True, wasMMB=True
[01:27:01] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:27:01] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:27:01] [INFO] [Shotgun.DIAG] Frame 2: poll=True, raw=True, event=True, any=True, wasMMB=True
[01:27:01] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:27:01] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:27:01] [INFO] [Shotgun.DIAG] Frame 3: poll=True, raw=True, event=True, any=True, wasMMB=True
[01:27:01] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:27:01] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:27:01] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.8°, current=89.3°, player=(438,649), corner_timer=-0.01
[01:27:01] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[01:27:01] [INFO] [Shotgun.FIX#243] RMB released after 3 frames - wasMMBDuringDrag=True, current: poll=True, raw=True, event=True
[01:27:01] [INFO] [Shotgun.FIX#445v7] ProcessDragGesture - dragVector=(8,7, 158,1), length=158,3, ActionState=Ready
[01:27:01] [INFO] [Shotgun.FIX#477] RMB release in Loading state: wasMMBDuringDrag=True, isMMBHeld=True, shellLoadedMidDrag=False => shouldLoadShell=True
[01:27:01] [INFO] [Shotgun.FIX#477] Loading shell (MMB was held during drag)
[01:27:01] [INFO] [Shotgun.FIX#243] LoadShell called - ReloadState=Loading, ShellsInTube=4/8, Tutorial=False, ReserveAmmo=12
[01:27:01] [INFO] [Shotgun.FIX#243] Shell LOADED - 5/8 shells in tube
[01:27:01] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=91.6°, player=(442,649), corner_timer=0.30
[01:27:01] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[01:27:01] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[01:27:01] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=True, raw=True, event=True, any=True, ActionState=Ready, ReloadState=Loading
[01:27:01] [INFO] [Shotgun.FIX#445] dragStartPos=(732, 517), aimDir=(0,98, 0,18)
[01:27:01] [INFO] [Shotgun.DIAG] Frame 1: poll=True, raw=True, event=True, any=True, wasMMB=True
[01:27:01] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:27:01] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:27:01] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1254), can_see=false
[01:27:01] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1481), can_see=false
[01:27:01] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1156), can_see=false
[01:27:01] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1628), can_see=false
[01:27:01] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1851), can_see=false
[01:27:01] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1168), can_see=false
[01:27:01] [INFO] [Shotgun.DIAG] Frame 2: poll=True, raw=True, event=True, any=True, wasMMB=True
[01:27:01] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:27:01] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:27:01] [INFO] [Shotgun.DIAG] Frame 3: poll=True, raw=True, event=True, any=True, wasMMB=True
[01:27:01] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:27:01] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:27:01] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:27:01] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:27:01] [INFO] [Shotgun.FIX#243] RMB released after 4 frames - wasMMBDuringDrag=True, current: poll=True, raw=True, event=True
[01:27:01] [INFO] [Shotgun.FIX#445v7] ProcessDragGesture - dragVector=(-11,4, 65,1), length=66,1, ActionState=Ready
[01:27:01] [INFO] [Shotgun.FIX#477] RMB release in Loading state: wasMMBDuringDrag=True, isMMBHeld=True, shellLoadedMidDrag=False => shouldLoadShell=True
[01:27:01] [INFO] [Shotgun.FIX#477] Loading shell (MMB was held during drag)
[01:27:01] [INFO] [Shotgun.FIX#243] LoadShell called - ReloadState=Loading, ShellsInTube=5/8, Tutorial=False, ReserveAmmo=11
[01:27:01] [INFO] [Shotgun.FIX#243] Shell LOADED - 6/8 shells in tube
[01:27:01] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[01:27:01] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=True, raw=True, event=True, any=True, ActionState=Ready, ReloadState=Loading
[01:27:01] [INFO] [Shotgun.FIX#445] dragStartPos=(740, 596), aimDir=(0,98, 0,18)
[01:27:01] [INFO] [ReplayManager] Recording frame 420 (5,9s): player_valid=True, enemies=10
[01:27:01] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.7°, current=89.3°, player=(543,649), corner_timer=-0.01
[01:27:01] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[01:27:01] [INFO] [Shotgun.DIAG] Frame 1: poll=True, raw=True, event=True, any=True, wasMMB=True
[01:27:01] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:27:01] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:27:01] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=91.6°, player=(548,649), corner_timer=0.30
[01:27:01] [INFO] [Shotgun.DIAG] Frame 2: poll=True, raw=True, event=True, any=True, wasMMB=True
[01:27:01] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:27:01] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:27:01] [INFO] [Shotgun.DIAG] Frame 3: poll=True, raw=True, event=True, any=True, wasMMB=True
[01:27:01] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:27:01] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:27:01] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[01:27:01] [INFO] [Shotgun.FIX#243] RMB released after 3 frames - wasMMBDuringDrag=True, current: poll=True, raw=True, event=True
[01:27:01] [INFO] [Shotgun.FIX#445v7] ProcessDragGesture - dragVector=(-22,7, 142,1), length=143,9, ActionState=Ready
[01:27:01] [INFO] [Shotgun.FIX#477] RMB release in Loading state: wasMMBDuringDrag=True, isMMBHeld=True, shellLoadedMidDrag=False => shouldLoadShell=True
[01:27:01] [INFO] [Shotgun.FIX#477] Loading shell (MMB was held during drag)
[01:27:01] [INFO] [Shotgun.FIX#243] LoadShell called - ReloadState=Loading, ShellsInTube=6/8, Tutorial=False, ReserveAmmo=10
[01:27:01] [INFO] [Shotgun.FIX#243] Shell LOADED - 7/8 shells in tube
[01:27:02] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[01:27:02] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=True, raw=True, event=True, any=True, ActionState=Ready, ReloadState=Loading
[01:27:02] [INFO] [Shotgun.FIX#445] dragStartPos=(776, 624), aimDir=(0,98, 0,18)
[01:27:02] [INFO] [Shotgun.DIAG] Frame 1: poll=True, raw=True, event=True, any=True, wasMMB=True
[01:27:02] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:27:02] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:27:02] [INFO] [Shotgun.DIAG] Frame 2: poll=True, raw=True, event=True, any=True, wasMMB=True
[01:27:02] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:27:02] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:27:02] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1122), can_see=false
[01:27:02] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1346), can_see=false
[01:27:02] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1023), can_see=false
[01:27:02] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1511), can_see=false
[01:27:02] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1733), can_see=false
[01:27:02] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1095), can_see=false
[01:27:02] [INFO] [Shotgun.DIAG] Frame 3: poll=True, raw=True, event=True, any=True, wasMMB=True
[01:27:02] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:27:02] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:27:02] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:27:02] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:27:02] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:27:02] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:27:02] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:27:02] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:27:02] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:27:02] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:27:02] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:27:02] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:27:02] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.7°, current=89.3°, player=(649,643), corner_timer=-0.01
[01:27:02] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[01:27:02] [INFO] [Shotgun.FIX#243] RMB released after 8 frames - wasMMBDuringDrag=True, current: poll=True, raw=True, event=True
[01:27:02] [INFO] [Shotgun.FIX#445v7] ProcessDragGesture - dragVector=(-8,5, 41,0), length=41,9, ActionState=Ready
[01:27:02] [INFO] [Shotgun.FIX#477] RMB release in Loading state: wasMMBDuringDrag=True, isMMBHeld=True, shellLoadedMidDrag=False => shouldLoadShell=True
[01:27:02] [INFO] [Shotgun.FIX#477] Loading shell (MMB was held during drag)
[01:27:02] [INFO] [Shotgun.FIX#243] LoadShell called - ReloadState=Loading, ShellsInTube=7/8, Tutorial=False, ReserveAmmo=9
[01:27:02] [INFO] [Shotgun.FIX#243] Shell LOADED - 8/8 shells in tube
[01:27:02] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=92.1°, player=(653,640), corner_timer=0.30
[01:27:02] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[01:27:02] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[01:27:02] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=True, raw=True, event=True, any=True, ActionState=Ready, ReloadState=Loading
[01:27:02] [INFO] [Shotgun.FIX#445] dragStartPos=(807, 571), aimDir=(0,98, 0,18)
[01:27:02] [INFO] [Shotgun.DIAG] Frame 1: poll=True, raw=True, event=True, any=True, wasMMB=True
[01:27:02] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:27:02] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:27:02] [INFO] [Shotgun.DIAG] Frame 2: poll=True, raw=True, event=True, any=True, wasMMB=True
[01:27:02] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:27:02] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:27:02] [INFO] [Shotgun.DIAG] Frame 3: poll=True, raw=True, event=True, any=True, wasMMB=True
[01:27:02] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:27:02] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:27:02] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:27:02] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:27:02] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:27:02] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:27:02] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:27:02] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:27:02] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:27:02] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:27:02] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:27:02] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:27:02] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:27:02] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:27:02] [INFO] [Shotgun.FIX#445v7] TryProcessMidDragGesture - dragVector=(-25,8, 162,4), length=164,5, isDragUp=False, isDragDown=True, ActionState=Ready
[01:27:02] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:27:02] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:27:02] [INFO] [Shotgun.FIX#243] RMB released after 10 frames - wasMMBDuringDrag=True, current: poll=True, raw=True, event=True
[01:27:02] [INFO] [Shotgun.FIX#445v7] ProcessDragGesture - dragVector=(-19,7, 108,0), length=109,8, ActionState=Ready
[01:27:02] [INFO] [Shotgun.FIX#477] RMB release in Loading state: wasMMBDuringDrag=True, isMMBHeld=True, shellLoadedMidDrag=False => shouldLoadShell=True
[01:27:02] [INFO] [Shotgun.FIX#477] Loading shell (MMB was held during drag)
[01:27:02] [INFO] [Shotgun.FIX#243] LoadShell called - ReloadState=Loading, ShellsInTube=8/8, Tutorial=False, ReserveAmmo=8
[01:27:02] [INFO] [Shotgun.FIX#243] LoadShell SKIPPED - tube is full
[01:27:02] [INFO] [Shotgun.EVENT] MMB event: pressed=False (was True), isDragging=False
[01:27:02] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.9°, current=89.3°, player=(730,574), corner_timer=-0.02
[01:27:02] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[01:27:02] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=92.1°, player=(735,571), corner_timer=0.30
[01:27:02] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=970), can_see=false
[01:27:02] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1201), can_see=false
[01:27:02] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=919), can_see=false
[01:27:02] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1447), can_see=false
[01:27:02] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1667), can_see=false
[01:27:02] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1113), can_see=false
[01:27:02] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[01:27:02] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[01:27:02] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=Ready, ReloadState=Loading
[01:27:02] [INFO] [Shotgun.FIX#445] dragStartPos=(848, 543), aimDir=(0,98, 0,18)
[01:27:02] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:27:02] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=False
[01:27:02] [INFO] [Shotgun.FIX#243] Reload complete - bolt closed, ready to fire with 8 shells
[01:27:02] [INFO] [Shotgun.FIX#477v3] Mid-drag bolt closed (MMB not held)
[01:27:02] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:27:02] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:27:02] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:27:02] [INFO] [ReplayManager] Recording frame 480 (6,9s): player_valid=True, enemies=10
[01:27:02] [INFO] [Shotgun.FIX#243] RMB released after 6 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[01:27:02] [INFO] [Shotgun.FIX#445v7] ProcessDragGesture - dragVector=(34,1, 287,3), length=289,4, ActionState=Ready
[01:27:02] [INFO] [Shotgun.FIX#445v7] Screen-based pump gesture: isDragUp=False, isDragDown=True
[01:27:02] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.0°, current=89.3°, player=(836,563), corner_timer=-0.02
[01:27:02] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[01:27:02] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.2°, player=(841,563), corner_timer=0.30
[01:27:02] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[01:27:03] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=805), can_see=false
[01:27:03] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1032), can_see=false
[01:27:03] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=764), can_see=false
[01:27:03] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1318), can_see=false
[01:27:03] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1535), can_see=false
[01:27:03] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1065), can_see=false
[01:27:03] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.1°, current=89.4°, player=(944,559), corner_timer=-0.02
[01:27:03] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[01:27:03] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.2°, player=(949,557), corner_timer=0.30
[01:27:03] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[01:27:03] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.1°, current=89.4°, player=(1025,489), corner_timer=-0.02
[01:27:03] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[01:27:03] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.2°, player=(1029,485), corner_timer=0.30
[01:27:03] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[01:27:03] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=657), can_see=false
[01:27:03] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=897), can_see=false
[01:27:03] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=709), can_see=false
[01:27:03] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1301), can_see=false
[01:27:03] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1510), can_see=false
[01:27:03] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1145), can_see=false
[01:27:03] [INFO] [ReplayManager] Recording frame 540 (7,9s): player_valid=True, enemies=10
[01:27:03] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1103,411), corner_timer=-0.02
[01:27:03] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[01:27:03] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1107,407), corner_timer=0.30
[01:27:03] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[01:27:04] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=527), can_see=false
[01:27:04] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=784), can_see=false
[01:27:04] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=709), can_see=false
[01:27:04] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1325), can_see=false
[01:27:04] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1523), can_see=false
[01:27:04] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1260), can_see=false
[01:27:04] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1181,333), corner_timer=-0.02
[01:27:04] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[01:27:04] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1184,329), corner_timer=0.30
[01:27:04] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[01:27:04] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1258,256), corner_timer=-0.02
[01:27:04] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[01:27:04] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1262,252), corner_timer=0.30
[01:27:04] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[01:27:04] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=426), can_see=false
[01:27:04] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=695), can_see=false
[01:27:04] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=749), can_see=false
[01:27:04] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1370), can_see=false
[01:27:04] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1554), can_see=false
[01:27:04] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1387), can_see=false
[01:27:04] [INFO] [ScoreManager] Combo ended at 4. Max combo: 4
[01:27:04] [INFO] [ReplayManager] Recording frame 600 (8,9s): player_valid=True, enemies=10
[01:27:04] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1336,178), corner_timer=-0.02
[01:27:04] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[01:27:04] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1340,174), corner_timer=0.30
[01:27:04] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[01:27:05] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(1384.556, 121.1287), source=PLAYER (Player), range=600, listeners=6
[01:27:05] [ENEMY] [Enemy5] Heard player EMPTY_CLICK at (1384.556, 121.1287), intensity=0.02, distance=390
[01:27:05] [ENEMY] [Enemy5] Vulnerability sound triggered pursuit - transitioning from IDLE to PURSUING
[01:27:05] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=0
[01:27:05] [INFO] [Shotgun.FIX#212] Firing 15 pellets with 15° spread at pos=(1384.5562, 121.12871)
[01:27:05] [INFO] [Shotgun.FIX#212] Normal pellet 1/15: extraOffset=2,4, distance=54,4px, pos=(1433.2358, 145.3002)
[01:27:05] [INFO] [Shotgun.FIX#212] Normal pellet 2/15: extraOffset=4,6, distance=56,6px, pos=(1435.7606, 145.1415)
[01:27:05] [INFO] [Shotgun.FIX#212] Normal pellet 3/15: extraOffset=-12,7, distance=39,3px, pos=(1419.8137, 138.44357)
[01:27:05] [INFO] [Shotgun.FIX#212] Normal pellet 4/15: extraOffset=-3,5, distance=48,5px, pos=(1427.279, 144.05905)
[01:27:05] [INFO] [Shotgun.FIX#212] Normal pellet 5/15: extraOffset=1,6, distance=53,6px, pos=(1430.6139, 148.4512)
[01:27:05] [INFO] [Shotgun.FIX#212] Normal pellet 6/15: extraOffset=-14,6, distance=37,4px, pos=(1416.4583, 140.71524)
[01:27:05] [INFO] [Shotgun.FIX#212] Normal pellet 7/15: extraOffset=13,8, distance=65,8px, pos=(1440.0359, 156.57933)
[01:27:05] [INFO] [Shotgun.FIX#212] Normal pellet 8/15: extraOffset=3,0, distance=55,0px, pos=(1430.5905, 151.21503)
[01:27:05] [INFO] [Shotgun.FIX#212] Normal pellet 9/15: extraOffset=8,2, distance=60,2px, pos=(1434.0663, 155.38245)
[01:27:05] [INFO] [Shotgun.FIX#212] Normal pellet 10/15: extraOffset=-5,0, distance=47,0px, pos=(1423.2432, 147.77171)
[01:27:05] [INFO] [Shotgun.FIX#212] Normal pellet 11/15: extraOffset=2,7, distance=54,7px, pos=(1428.137, 154.24007)
[01:27:05] [INFO] [Shotgun.FIX#212] Normal pellet 12/15: extraOffset=2,7, distance=54,7px, pos=(1428.0447, 154.31679)
[01:27:05] [INFO] [Shotgun.FIX#212] Normal pellet 13/15: extraOffset=-2,4, distance=49,6px, pos=(1423.189, 152.19531)
[01:27:05] [INFO] [Shotgun.FIX#212] Normal pellet 14/15: extraOffset=2,3, distance=54,3px, pos=(1426.5276, 155.65057)
[01:27:05] [INFO] [Shotgun.FIX#212] Normal pellet 15/15: extraOffset=-11,8, distance=40,2px, pos=(1415.1389, 147.2745)
[01:27:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1384.556, 121.1287), source=PLAYER (Shotgun), range=1469, listeners=6
[01:27:05] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=3
[01:27:05] [ENEMY] [Enemy5] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=-144.0°, current=-56.3°, player=(1384,121), corner_timer=0.00
[01:27:05] [ENEMY] [Enemy5] Pursuing vulnerability sound at (1384.556, 121.1287), distance=390
[01:27:05] [ENEMY] [Enemy6] Memory: medium confidence (0.54) - transitioning to PURSUING
[01:27:05] [ENEMY] [Enemy6] State: IDLE -> PURSUING
[01:27:05] [INFO] [EnemyGrenade] Throw path blocked to (1443.375, 322.8469)
[01:27:05] [ENEMY] [Enemy7] Memory: medium confidence (0.54) - transitioning to PURSUING
[01:27:05] [ENEMY] [Enemy7] State: IDLE -> PURSUING
[01:27:05] [ENEMY] [Enemy6] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=-149.0°, current=11.3°, player=(1387,112), corner_timer=0.00
[01:27:05] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=-105.9°, current=89.4°, player=(1387,112), corner_timer=0.07
[01:27:05] [INFO] [EnemyGrenade] Throw path blocked to (1443.374, 322.8465)
[01:27:05] [ENEMY] [Enemy6] PURSUING corner check: angle 150.2°
[01:27:05] [INFO] [EnemyGrenade] Throw path blocked to (1443.375, 322.8489)
[01:27:05] [ENEMY] [Enemy6] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-148.5°, current=-114.3°, player=(1389,104), corner_timer=0.30
[01:27:05] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) - pursuing to attack (dist=654)
[01:27:05] [INFO] [EnemyGrenade] Throw path blocked to (1441.995, 317.7126)
[01:27:05] [INFO] [EnemyGrenade] Throw path blocked to (1442.555, 315.2587)
[01:27:05] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=372), can_see=false
[01:27:05] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=647), can_see=true
[01:27:05] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=820), can_see=false
[01:27:05] [INFO] [EnemyGrenade] Throw path blocked to (1442.052, 310.8852)
[01:27:05] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1446), can_see=false
[01:27:05] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1617), can_see=false
[01:27:05] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1523), can_see=false
[01:27:05] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[01:27:05] [INFO] [EnemyGrenade] Throw path blocked to (1440.342, 305.8893)
[01:27:05] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=NeedsPumpUp, ReloadState=NotReloading
[01:27:05] [INFO] [Shotgun.FIX#445] dragStartPos=(1904, 452), aimDir=(0,82, 0,58)
[01:27:05] [ENEMY] [Enemy5] Hit taken, damage: 1, health: 2/2 -> 1/2
[01:27:05] [ENEMY] [Enemy5] ImpactEffectsManager found, calling spawn_blood_effect
[01:27:05] [INFO] [ImpactEffects] spawn_blood_effect called at (1684.067, 312.3065), dir=(1, 0), lethal=false
[01:27:05] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:27:05] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[01:27:05] [INFO] [ImpactEffects] Blood effect spawned at (1684.067, 312.3065) (scale=1)
[01:27:05] [INFO] [EnemyGrenade] Throw path blocked to (1438.709, 304.7423)
[01:27:05] [INFO] [EnemyGrenade] Throw path blocked to (1436.8, 301.6505)
[01:27:05] [ENEMY] [Enemy7] PURSUING corner check: angle 91.6°
[01:27:05] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:27:05] [INFO] [EnemyGrenade] Throw path blocked to (1435.195, 300.4382)
[01:27:05] [INFO] [EnemyGrenade] Throw path blocked to (1433.707, 297.9099)
[01:27:05] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[01:27:05] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:27:05] [INFO] [EnemyGrenade] Throw path blocked to (1432.441, 296.8764)
[01:27:05] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:27:05] [INFO] [Shotgun.FIX#445v7] Mid-drag pump UP - shell ejected, continue dragging DOWN to chamber
[01:27:05] [ENEMY] [Enemy5] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-144.2°, current=168.9°, player=(1386,80), corner_timer=0.00
[01:27:05] [ENEMY] [Enemy6] Player distracted - priority attack triggered
[01:27:05] [INFO] [EnemyGrenade] Throw path blocked to (1431.175, 295.7808)
[01:27:05] [ENEMY] [Enemy6] Hit taken, damage: 1, health: 2/2 -> 1/2
[01:27:05] [ENEMY] [Enemy6] ImpactEffectsManager found, calling spawn_blood_effect
[01:27:05] [INFO] [ImpactEffects] spawn_blood_effect called at (1922.935, 402.8103), dir=(1, 0), lethal=false
[01:27:05] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:27:05] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[01:27:05] [INFO] [ImpactEffects] Blood effect spawned at (1922.935, 402.8103) (scale=1)
[01:27:05] [ENEMY] [Enemy6] Hit taken, damage: 1, health: 1/2 -> 0/2
[01:27:05] [ENEMY] [Enemy6] ImpactEffectsManager found, calling spawn_blood_effect
[01:27:05] [INFO] [ImpactEffects] spawn_blood_effect called at (1922.935, 402.8103), dir=(1, 0), lethal=true
[01:27:05] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:27:05] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[01:27:05] [INFO] [ImpactEffects] Blood effect spawned at (1922.935, 402.8103) (scale=1.5)
[01:27:05] [ENEMY] [Enemy6] Enemy died (ricochet: false, penetration: false)
[01:27:05] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[01:27:05] [ENEMY] [Enemy6] [AllyDeath] Notified 1 enemies
[01:27:05] [INFO] [SoundPropagation] Unregistered listener: Enemy6 (remaining: 5)
[01:27:05] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[01:27:05] [ENEMY] [Enemy6] Death animation started with hit direction: (1, 0)
[01:27:05] [ENEMY] [Enemy5] Player distracted - priority attack triggered
[01:27:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1684.066, 290.9474), source=ENEMY (Enemy5), range=1469, listeners=5
[01:27:05] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=4
[01:27:05] [INFO] [EnemyGrenade] Throw path blocked to (1429.91, 294.6199)
[01:27:05] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:27:05] [INFO] [EnemyGrenade] Throw path blocked to (1428.646, 293.3898)
[01:27:05] [INFO] [EnemyGrenade] Throw path blocked to (1427.384, 292.0869)
[01:27:05] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:27:05] [INFO] [EnemyGrenade] Throw path blocked to (1426.124, 290.7067)
[01:27:05] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:27:05] [INFO] [EnemyGrenade] Throw path blocked to (1424.867, 289.2449)
[01:27:05] [INFO] [EnemyGrenade] Throw path blocked to (1423.614, 287.6962)
[01:27:05] [INFO] [LastChance] Threat detected: Bullet
[01:27:05] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[01:27:05] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:27:05] [INFO] [EnemyGrenade] Throw path blocked to (1422.365, 286.055)
[01:27:05] [ENEMY] [Enemy5] ROT_CHANGE: P1:visible -> P2:combat_state, state=PURSUING, target=-149.7°, current=-58.5°, player=(1375,86), corner_timer=0.00
[01:27:05] [INFO] [EnemyGrenade] Throw path blocked to (1421.177, 284.7666)
[01:27:05] [INFO] [Shotgun.FIX#445v7] Mid-drag pump DOWN - chambered, ready to fire
[01:27:05] [INFO] [EnemyGrenade] Throw path blocked to (1419.968, 283.1978)
[01:27:05] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:27:05] [INFO] [EnemyGrenade] Throw path blocked to (1418.777, 281.6563)
[01:27:05] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:27:05] [INFO] [Player] Hit blocked by invincibility mode (C#)
[01:27:05] [INFO] [Player] Spawning blood effect at (1368.8584, 91.54687), dir=(1, 0), lethal=False (C#)
[01:27:05] [INFO] [ImpactEffects] spawn_blood_effect called at (1368.858, 91.54687), dir=(1, 0), lethal=false
[01:27:05] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:27:05] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[01:27:05] [INFO] [ImpactEffects] Blood effect spawned at (1368.858, 91.54687) (scale=1)
[01:27:05] [INFO] [EnemyGrenade] Throw path blocked to (1417.586, 279.9662)
[01:27:05] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:27:05] [ENEMY] [Enemy5] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-153.8°, current=-122.6°, player=(1366,93), corner_timer=0.00
[01:27:05] [ENEMY] [Enemy5] Player empty ammo - priority attack triggered
[01:27:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1688.007, 251.9456), source=ENEMY (Enemy5), range=1469, listeners=5
[01:27:05] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=4
[01:27:05] [INFO] [EnemyGrenade] Throw path blocked to (1416.402, 278.1639)
[01:27:05] [ENEMY] [Enemy5] State: PURSUING -> COMBAT
[01:27:05] [INFO] [EnemyGrenade] Throw path blocked to (1415.221, 276.195)
[01:27:05] [INFO] [BloodDecal] Blood puddle created at (1740.734, 309.5736) (added to group)
[01:27:05] [ENEMY] [Enemy5] State: COMBAT -> RETREATING
[01:27:05] [INFO] [EnemyGrenade] Throw path blocked to (1414.519, 272.0262)
[01:27:05] [INFO] [EnemyGrenade] Throw path blocked to (1413.619, 267.8712)
[01:27:05] [INFO] [EnemyGrenade] Throw path blocked to (1412.682, 263.7527)
[01:27:05] [INFO] [EnemyGrenade] Throw path blocked to (1411.707, 259.6936)
[01:27:05] [INFO] [LastChance] Threat detected: Bullet
[01:27:05] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[01:27:05] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:27:05] [INFO] [EnemyGrenade] Throw path blocked to (1410.576, 256.5834)
[01:27:05] [INFO] [Shotgun.FIX#445v7] TryProcessMidDragGesture - dragVector=(-7,6, 102,0), length=102,3, isDragUp=False, isDragDown=True, ActionState=Ready
[01:27:05] [INFO] [BloodDecal] Blood puddle created at (1987.718, 387.1424) (added to group)
[01:27:05] [INFO] [BloodDecal] Blood puddle created at (1986.953, 414.2546) (added to group)
[01:27:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1676.951, 239.7769), source=ENEMY (Enemy5), range=1469, listeners=5
[01:27:05] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=4
[01:27:05] [INFO] [EnemyGrenade] Throw path blocked to (1409.467, 253.4775)
[01:27:05] [INFO] [BloodDecal] Blood puddle created at (1977.528, 401.3748) (added to group)
[01:27:05] [INFO] [BloodDecal] Blood puddle created at (1999.947, 426.4449) (added to group)
[01:27:05] [ENEMY] [Enemy5] Player empty ammo - priority attack triggered
[01:27:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1674.82, 239.8716), source=ENEMY (Enemy5), range=1469, listeners=5
[01:27:05] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=4
[01:27:05] [INFO] [EnemyGrenade] Throw path blocked to (1408.378, 250.3764)
[01:27:05] [INFO] [EnemyGrenade] Throw path blocked to (1408.378, 250.3764)
[01:27:05] [INFO] [BloodDecal] Blood puddle created at (2007.313, 463.6068) (added to group)
[01:27:05] [ENEMY] [Enemy5] Hit taken, damage: 1, health: 1/2 -> 0/2
[01:27:05] [ENEMY] [Enemy5] ImpactEffectsManager found, calling spawn_blood_effect
[01:27:05] [INFO] [ImpactEffects] spawn_blood_effect called at (1670.557, 240.0609), dir=(1, 0), lethal=true
[01:27:05] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:27:05] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[01:27:05] [INFO] [ImpactEffects] Blood effect spawned at (1670.557, 240.0609) (scale=1.5)
[01:27:05] [ENEMY] [Enemy5] Enemy died (ricochet: false, penetration: false)
[01:27:05] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[01:27:05] [INFO] [SoundPropagation] Unregistered listener: Enemy5 (remaining: 4)
[01:27:05] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[01:27:05] [ENEMY] [Enemy5] Death animation started with hit direction: (1, 0)
[01:27:05] [INFO] [EnemyGrenade] Throw path blocked to (1408.378, 250.3764)
[01:27:05] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[01:27:05] [INFO] [BloodDecal] Blood puddle created at (1998.117, 412.5775) (added to group)
[01:27:05] [INFO] [EnemyGrenade] Throw path blocked to (1408.378, 250.3764)
[01:27:05] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1623.9144, 229.08273), shooter_id=271606354050, bullet_pos=(1294.9591, 67.1166)
[01:27:05] [INFO] [Bullet] Using shooter_position, distance=366,6669
[01:27:05] [INFO] [Bullet] Distance to wall: 366,6669 (24,967024% of viewport)
[01:27:05] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:27:05] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=736), can_see=false
[01:27:05] [INFO] [EnemyGrenade] Throw path blocked to (1408.378, 250.3764)
[01:27:05] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1439), can_see=false
[01:27:05] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1616), can_see=false
[01:27:05] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1483), can_see=false
[01:27:05] [INFO] [BloodDecal] Blood puddle created at (2015.967, 453.3324) (added to group)
[01:27:05] [INFO] [BloodDecal] Blood puddle created at (2012.784, 384.9748) (added to group)
[01:27:05] [INFO] [EnemyGrenade] Throw path blocked to (1408.378, 250.3764)
[01:27:05] [INFO] [BloodDecal] Blood puddle created at (1798.18, 386.8592) (added to group)
[01:27:05] [INFO] [BloodDecal] Blood puddle created at (1776.414, 313.3047) (added to group)
[01:27:05] [INFO] [BloodDecal] Blood puddle created at (1992.85, 406.2975) (added to group)
[01:27:05] [INFO] [LastChance] Threat detected: @Area2D@1640
[01:27:05] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[01:27:05] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:27:05] [INFO] [EnemyGrenade] Throw path blocked to (1408.378, 250.3764)
[01:27:05] [INFO] [EnemyGrenade] Throw path blocked to (1408.378, 250.3764)
[01:27:05] [INFO] [BloodDecal] Blood puddle created at (1770.482, 316.2534) (added to group)
[01:27:05] [INFO] [BloodDecal] Blood puddle created at (2007.306, 435.3626) (added to group)
[01:27:05] [INFO] [EnemyGrenade] Throw path blocked to (1408.378, 250.3764)
[01:27:05] [INFO] [EnemyGrenade] Throw path blocked to (1408.378, 250.3764)
[01:27:05] [INFO] [BloodDecal] Blood puddle created at (1838.74, 378.257) (added to group)
[01:27:05] [INFO] [BloodDecal] Blood puddle created at (2037.349, 390.5341) (added to group)
[01:27:05] [INFO] [ReplayManager] Recording frame 660 (9,8s): player_valid=True, enemies=10
[01:27:05] [INFO] [EnemyGrenade] Throw path blocked to (1408.378, 250.3764)
[01:27:05] [INFO] [EnemyGrenade] Throw path blocked to (1408.378, 250.3764)
[01:27:05] [INFO] [BloodDecal] Blood puddle created at (1779.046, 333.9204) (added to group)
[01:27:05] [INFO] [BloodDecal] Blood puddle created at (2049.028, 406.8767) (added to group)
[01:27:05] [INFO] [BloodDecal] Blood puddle created at (2002.808, 430.0888) (added to group)
[01:27:05] [INFO] [BloodDecal] Blood puddle created at (2053.129, 395.1421) (added to group)
[01:27:05] [INFO] [BloodDecal] Blood puddle created at (2007.817, 440.0366) (added to group)
[01:27:05] [INFO] [BloodDecal] Blood puddle created at (1999.353, 401.0715) (added to group)
[01:27:05] [INFO] [BloodDecal] Blood puddle created at (1430.257, 137.7717) (added to group)
[01:27:05] [INFO] [BloodDecal] Blood puddle created at (1427.385, 95.23925) (added to group)
[01:27:05] [INFO] [BloodDecal] Blood puddle created at (1449.258, 128.7688) (added to group)
[01:27:05] [INFO] [EnemyGrenade] Throw path blocked to (1408.378, 250.3764)
[01:27:05] [INFO] [EnemyGrenade] Throw path blocked to (1408.378, 250.3764)
[01:27:05] [INFO] [Shotgun.FIX#445v7] TryProcessMidDragGesture - dragVector=(-18,3, -37,2), length=41,5, isDragUp=True, isDragDown=False, ActionState=Ready
[01:27:05] [INFO] [Shotgun.FIX#243] Bolt opened for loading - ReloadState=Loading, ShellsInTube=7/8
[01:27:05] [INFO] [BloodDecal] Blood puddle created at (1762.903, 380.4099) (added to group)
[01:27:05] [INFO] [BloodDecal] Blood puddle created at (1999.484, 449.937) (added to group)
[01:27:05] [INFO] [EnemyGrenade] Throw path blocked to (1408.378, 250.3764)
[01:27:05] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1608.7664, 223.51508), shooter_id=271606354050, bullet_pos=(1171.6235, 60.16074)
[01:27:05] [INFO] [Bullet] Using shooter_position, distance=466,66742
[01:27:05] [INFO] [Bullet] Distance to wall: 466,66742 (31,776243% of viewport)
[01:27:05] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:27:05] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1623.9144, 229.08273), shooter_id=271606354050, bullet_pos=(1021.0537, 226.0305)
[01:27:05] [INFO] [Bullet] Using shooter_position, distance=602,8684
[01:27:05] [INFO] [Bullet] Distance to wall: 602,8684 (41,05042% of viewport)
[01:27:05] [INFO] [EnemyGrenade] Throw path blocked to (1408.378, 250.3764)
[01:27:05] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:27:05] [INFO] [BloodDecal] Blood puddle created at (1782.759, 331.4417) (added to group)
[01:27:05] [INFO] [BloodDecal] Blood puddle created at (2069.668, 473.6228) (added to group)
[01:27:05] [INFO] [BloodDecal] Blood puddle created at (2057.724, 383.0212) (added to group)
[01:27:05] [INFO] [BloodDecal] Blood puddle created at (1428.451, 111.5346) (added to group)
[01:27:05] [INFO] [EnemyGrenade] Throw path blocked to (1408.378, 250.3764)
[01:27:05] [INFO] [EnemyGrenade] Throw path blocked to (1408.378, 250.3764)
[01:27:05] [ENEMY] [Enemy6] Ragdoll activated
[01:27:05] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[01:27:05] [INFO] [Shotgun.FIX#243] RMB released after 1 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[01:27:05] [INFO] [Shotgun.FIX#445v7] ProcessDragGesture - dragVector=(32,9, -148,3), length=151,9, ActionState=Ready
[01:27:05] [INFO] [BloodDecal] Blood puddle created at (1450.036, 152.1649) (added to group)
[01:27:05] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1623.9144, 229.08273), shooter_id=271606354050, bullet_pos=(1081.6205, 273.98093)
[01:27:05] [INFO] [Bullet] Using shooter_position, distance=544,1494
[01:27:05] [INFO] [Bullet] Distance to wall: 544,1494 (37,052135% of viewport)
[01:27:05] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:27:05] [INFO] [EnemyGrenade] Throw path blocked to (1408.378, 250.3764)
[01:27:06] [INFO] [EnemyGrenade] Throw path blocked to (1408.378, 250.3764)
[01:27:06] [INFO] [BloodDecal] Blood puddle created at (2036.825, 500.1913) (added to group)
[01:27:06] [INFO] [BloodDecal] Blood puddle created at (2047.329, 425.4949) (added to group)
[01:27:06] [INFO] [EnemyGrenade] Throw path blocked to (1408.378, 250.3764)
[01:27:06] [INFO] [EnemyGrenade] Throw path blocked to (1408.378, 250.3764)
[01:27:06] [INFO] [BloodDecal] Blood puddle created at (1438.309, 152.3168) (added to group)
[01:27:06] [INFO] [EnemyGrenade] Throw path blocked to (1408.378, 250.3764)
[01:27:06] [INFO] [EnemyGrenade] Throw path blocked to (1408.378, 250.3764)
[01:27:06] [INFO] [EnemyGrenade] Throw path blocked to (1408.378, 250.3764)
[01:27:06] [INFO] [BloodDecal] Blood puddle created at (2097.584, 424.1218) (added to group)
[01:27:06] [INFO] [BloodDecal] Blood puddle created at (2081.188, 436.1704) (added to group)
[01:27:06] [INFO] [EnemyGrenade] Throw path blocked to (1408.378, 250.3764)
[01:27:06] [INFO] [EnemyGrenade] Throw path blocked to (1408.378, 250.3764)
[01:27:06] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[01:27:06] [INFO] [BloodDecal] Blood puddle created at (1784.425, 376.3896) (added to group)
[01:27:06] [INFO] [BloodDecal] Blood puddle created at (1466.368, 165.0939) (added to group)
[01:27:06] [INFO] [BloodDecal] Blood puddle created at (1771.596, 292.3962) (added to group)
[01:27:06] [INFO] [BloodDecal] Blood puddle created at (1731.833, 267.423) (added to group)
[01:27:06] [INFO] [EnemyGrenade] Throw path blocked to (1408.378, 250.3764)
[01:27:06] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(1260.39, 204.8423), source=PLAYER (Player), range=600, listeners=4
[01:27:06] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=0, below_threshold=0
[01:27:06] [INFO] [BloodDecal] Blood puddle created at (1790.313, 379.2015) (added to group)
[01:27:06] [INFO] [BloodDecal] Blood puddle created at (1725.969, 244.2774) (added to group)
[01:27:06] [INFO] [EnemyGrenade] Throw path blocked to (1408.378, 250.3764)
[01:27:06] [INFO] [BloodDecal] Blood puddle created at (2095.14, 453.1097) (added to group)
[01:27:06] [INFO] [EnemyGrenade] Throw path blocked to (1408.378, 250.3764)
[01:27:06] [INFO] [BloodDecal] Blood puddle created at (2076.125, 459.1453) (added to group)
[01:27:06] [INFO] [EnemyGrenade] Throw path blocked to (1408.378, 250.3764)
[01:27:06] [INFO] [BloodDecal] Blood puddle created at (2069.679, 550.42) (added to group)
[01:27:06] [INFO] [EnemyGrenade] Throw path blocked to (1408.378, 250.3764)
[01:27:06] [INFO] [BloodDecal] Blood puddle created at (2082.956, 571.5936) (added to group)
[01:27:06] [INFO] [BloodDecal] Blood puddle created at (2110.898, 484.7726) (added to group)
[01:27:06] [INFO] [BloodDecal] Blood puddle created at (1513.873, 111.179) (added to group)
[01:27:06] [INFO] [EnemyGrenade] Throw path blocked to (1408.378, 250.3764)
[01:27:06] [INFO] [BloodDecal] Blood puddle created at (2067.167, 578.0971) (added to group)
[01:27:06] [INFO] [BloodDecal] Blood puddle created at (1784.301, 250.8982) (added to group)
[01:27:06] [INFO] [EnemyGrenade] Throw path blocked to (1408.378, 250.3764)
[01:27:06] [INFO] [BloodDecal] Blood puddle created at (2106.578, 472.6245) (added to group)
[01:27:06] [INFO] [BloodDecal] Blood puddle created at (1740.055, 245.6961) (added to group)
[01:27:06] [INFO] [EnemyGrenade] Throw path blocked to (1408.378, 250.3764)
[01:27:06] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=665), can_see=false
[01:27:06] [INFO] [EnemyGrenade] Throw path blocked to (1408.378, 250.3764)
[01:27:06] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1381), can_see=false
[01:27:06] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1568), can_see=false
[01:27:06] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1374), can_see=false
[01:27:06] [INFO] [EnemyGrenade] Throw path blocked to (1408.378, 250.3764)
[01:27:06] [INFO] [BloodDecal] Blood puddle created at (1798.447, 317.1662) (added to group)
[01:27:06] [INFO] [EnemyGrenade] Throw path blocked to (1408.378, 250.3764)
[01:27:06] [ENEMY] [Enemy5] Ragdoll activated
[01:27:06] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[01:27:06] [INFO] [BloodDecal] Blood puddle created at (1557.2, 157.0378) (added to group)
[01:27:06] [INFO] [BloodDecal] Blood puddle created at (1767.689, 256.3054) (added to group)
[01:27:06] [INFO] [EnemyGrenade] Throw path blocked to (1408.378, 250.3764)
[01:27:06] [INFO] [BloodDecal] Blood puddle created at (1815.901, 344.7473) (added to group)
[01:27:06] [INFO] [EnemyGrenade] Throw path blocked to (1408.378, 250.3764)
[01:27:06] [INFO] [EnemyGrenade] Throw path blocked to (1408.378, 250.3764)
[01:27:06] [INFO] [BloodDecal] Blood puddle created at (1815.674, 334.7988) (added to group)
[01:27:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1608.7664, 223.51508), shooter_id=271606354050, bullet_pos=(510.69006, 396.66675)
[01:27:06] [INFO] [Bullet] Using shooter_position, distance=1111,6443
[01:27:06] [INFO] [Bullet] Distance to wall: 1111,6443 (75,69391% of viewport)
[01:27:06] [INFO] [Bullet] Distance-based penetration chance: 58,357113%
[01:27:06] [INFO] [Bullet] Penetration failed (distance roll)
[01:27:06] [INFO] [EnemyGrenade] Throw path blocked to (1408.378, 250.3764)
[01:27:06] [INFO] [EnemyGrenade] Throw path blocked to (1408.378, 250.3764)
[01:27:06] [INFO] [EnemyGrenade] Throw path blocked to (1408.378, 250.3764)
[01:27:06] [INFO] [BloodDecal] Blood puddle created at (1548.098, 205.5803) (added to group)
[01:27:06] [INFO] [EnemyGrenade] Throw path blocked to (1408.378, 250.3764)
[01:27:06] [INFO] [BloodDecal] Blood puddle created at (1793.45, 371.3652) (added to group)
[01:27:06] [INFO] [EnemyGrenade] Throw path blocked to (1408.378, 250.3764)
[01:27:06] [INFO] [EnemyGrenade] Throw path blocked to (1408.378, 250.3764)
[01:27:06] [INFO] [BloodDecal] Blood puddle created at (1799.476, 328.893) (added to group)
[01:27:06] [INFO] [EnemyGrenade] Throw path blocked to (1408.378, 250.3764)
[01:27:06] [INFO] [EnemyGrenade] Throw path blocked to (1408.378, 250.3764)
[01:27:06] [INFO] [BloodDecal] Blood puddle created at (1807.259, 354.5093) (added to group)
[01:27:06] [INFO] [BloodDecal] Blood puddle created at (1865.312, 234.8611) (added to group)
[01:27:06] [INFO] [EnemyGrenade] Throw path blocked to (1408.378, 250.3764)
[01:27:06] [INFO] [EnemyGrenade] Throw path blocked to (1408.378, 250.3764)
[01:27:06] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[01:27:06] [INFO] [EnemyGrenade] Throw path blocked to (1408.378, 250.3764)
[01:27:06] [INFO] [EnemyGrenade] Throw path blocked to (1408.378, 250.3764)
[01:27:06] [INFO] [BloodDecal] Blood puddle created at (1834.022, 265.2084) (added to group)
[01:27:06] [INFO] [EnemyGrenade] Throw path blocked to (1408.378, 250.3764)
[01:27:06] [INFO] [BloodDecal] Blood puddle created at (1830.999, 297.5933) (added to group)
[01:27:06] [INFO] [BloodDecal] Blood puddle created at (1805.75, 317.9442) (added to group)
[01:27:06] [INFO] [EnemyGrenade] Throw path blocked to (1408.378, 250.3764)
[01:27:06] [INFO] [BloodDecal] Blood puddle created at (1883.986, 439.7535) (added to group)
[01:27:06] [INFO] [EnemyGrenade] Throw path blocked to (1408.378, 250.3764)
[01:27:06] [INFO] [BloodDecal] Blood puddle created at (1814.805, 327.014) (added to group)
[01:27:06] [INFO] [BloodDecal] Blood puddle created at (1792.445, 340.2203) (added to group)
[01:27:06] [INFO] [EnemyGrenade] Throw path blocked to (1408.378, 250.3764)
[01:27:06] [INFO] [EnemyGrenade] Throw path blocked to (1408.378, 250.3764)
[01:27:06] [INFO] [EnemyGrenade] Throw path blocked to (1408.378, 250.3764)
[01:27:06] [INFO] [EnemyGrenade] Throw path blocked to (1408.378, 250.3764)
[01:27:06] [INFO] [EnemyGrenade] Throw path blocked to (1408.378, 250.3764)
[01:27:06] [INFO] [EnemyGrenade] Throw path blocked to (1408.378, 250.3764)
[01:27:06] [INFO] [EnemyGrenade] Throw path blocked to (1408.378, 250.3764)
[01:27:06] [INFO] [EnemyGrenade] Throw path blocked to (1408.378, 250.3764)
[01:27:06] [INFO] [EnemyGrenade] Throw path blocked to (1408.378, 250.3764)
[01:27:06] [INFO] [EnemyGrenade] Throw path blocked to (1408.378, 250.3764)
[01:27:06] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=572), can_see=false
[01:27:06] [INFO] [EnemyGrenade] Throw path blocked to (1408.378, 250.3764)
[01:27:06] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1287), can_see=false
[01:27:06] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1474), can_see=false
[01:27:06] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1302), can_see=false
[01:27:06] [INFO] [EnemyGrenade] Throw path blocked to (1408.378, 250.3764)
[01:27:06] [INFO] [EnemyGrenade] Throw path blocked to (1408.378, 250.3764)
[01:27:06] [INFO] [EnemyGrenade] Throw path blocked to (1408.378, 250.3764)
[01:27:06] [INFO] [ReplayManager] Recording frame 720 (10,6s): player_valid=True, enemies=10
[01:27:06] [INFO] [EnemyGrenade] Throw path blocked to (1408.378, 250.3764)
[01:27:06] [INFO] [EnemyGrenade] Throw path blocked to (1408.378, 250.3764)
[01:27:06] [INFO] [EnemyGrenade] Throw path blocked to (1408.378, 250.3764)
[01:27:06] [INFO] [EnemyGrenade] Throw path blocked to (1408.378, 250.3764)
[01:27:06] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[01:27:06] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=Ready, ReloadState=Loading
[01:27:06] [INFO] [Shotgun.FIX#445] dragStartPos=(1936, 0), aimDir=(0,82, 0,58)
[01:27:06] [INFO] [EnemyGrenade] Throw path blocked to (1408.378, 250.3764)
[01:27:06] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[01:27:06] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:27:06] [INFO] [EnemyGrenade] Throw path blocked to (1408.378, 250.3764)
[01:27:06] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:27:06] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=False
[01:27:06] [INFO] [Shotgun.FIX#243] Reload complete - bolt closed, ready to fire with 7 shells
[01:27:06] [INFO] [Shotgun.FIX#477v3] Mid-drag bolt closed (MMB not held)
[01:27:06] [INFO] [EnemyGrenade] Throw path blocked to (1408.378, 250.3764)
[01:27:06] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:27:06] [INFO] [EnemyGrenade] Throw path blocked to (1408.378, 250.3764)
[01:27:06] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:27:06] [INFO] [EnemyGrenade] Throw path blocked to (1408.378, 250.3764)
[01:27:06] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:27:06] [INFO] [EnemyGrenade] Throw path blocked to (1408.378, 250.3764)
[01:27:06] [INFO] [EnemyGrenade] Throw path blocked to (1408.378, 250.3764)
[01:27:07] [INFO] [EnemyGrenade] Throw path blocked to (1408.378, 250.3764)
[01:27:07] [INFO] [EnemyGrenade] Throw path blocked to (1408.378, 250.3764)
[01:27:07] [INFO] [EnemyGrenade] Throw path blocked to (1408.378, 250.3764)
[01:27:07] [INFO] [Shotgun.FIX#243] RMB released after 7 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[01:27:07] [INFO] [Shotgun.FIX#445v7] ProcessDragGesture - dragVector=(-36,6, 254,5), length=257,1, ActionState=Ready
[01:27:07] [INFO] [Shotgun.FIX#445v7] Screen-based pump gesture: isDragUp=False, isDragDown=True
[01:27:07] [INFO] [EnemyGrenade] Throw path blocked to (1408.378, 250.3764)
[01:27:07] [INFO] [EnemyGrenade] Throw path blocked to (1408.378, 250.3764)
[01:27:07] [INFO] [EnemyGrenade] Throw path blocked to (1408.378, 250.3764)
[01:27:07] [INFO] [EnemyGrenade] Throw path blocked to (1408.378, 250.3764)
[01:27:07] [INFO] [EnemyGrenade] Throw path blocked to (1408.378, 250.3764)
[01:27:07] [INFO] [EnemyGrenade] Throw path blocked to (1408.378, 250.3764)
[01:27:07] [INFO] [EnemyGrenade] Throw path blocked to (1408.378, 250.3764)
[01:27:07] [ENEMY] [Enemy6] Death animation completed
[01:27:07] [INFO] [EnemyGrenade] Throw path blocked to (1408.378, 250.3764)
[01:27:07] [INFO] [EnemyGrenade] Throw path blocked to (1408.378, 250.3764)
[01:27:07] [INFO] [EnemyGrenade] Throw path blocked to (1408.378, 250.3764)
[01:27:07] [INFO] [EnemyGrenade] Throw path blocked to (1408.378, 250.3764)
[01:27:07] [INFO] [EnemyGrenade] Throw path blocked to (1408.378, 250.3764)
[01:27:07] [INFO] [EnemyGrenade] Throw path blocked to (1408.378, 250.3764)
[01:27:07] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=605), can_see=false
[01:27:07] [INFO] [EnemyGrenade] Throw path blocked to (1408.378, 250.3764)
[01:27:07] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1318), can_see=false
[01:27:07] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1502), can_see=false
[01:27:07] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1339), can_see=false
[01:27:07] [INFO] [EnemyGrenade] Throw path blocked to (1408.378, 250.3764)
[01:27:07] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[01:27:07] [INFO] [EnemyGrenade] Throw path blocked to (1408.378, 250.3764)
[01:27:07] [INFO] [EnemyGrenade] Throw path blocked to (1408.378, 250.3764)
[01:27:07] [INFO] [EnemyGrenade] Throw path blocked to (1408.378, 250.3764)
[01:27:07] [INFO] [EnemyGrenade] Throw path blocked to (1408.378, 250.3764)
[01:27:07] [INFO] [EnemyGrenade] Throw path blocked to (1408.378, 250.3764)
[01:27:07] [INFO] [EnemyGrenade] Throw path blocked to (1408.378, 250.3764)
[01:27:07] [INFO] [EnemyGrenade] Throw path blocked to (1408.378, 250.3764)
[01:27:07] [INFO] [EnemyGrenade] Throw path blocked to (1408.378, 250.3764)
[01:27:07] [INFO] [EnemyGrenade] Throw path blocked to (1408.378, 250.3764)
[01:27:07] [INFO] [EnemyGrenade] Throw path blocked to (1408.378, 250.3764)
[01:27:07] [INFO] [EnemyGrenade] Throw path blocked to (1408.378, 250.3764)
[01:27:07] [INFO] [EnemyGrenade] Throw path blocked to (1408.378, 250.3764)
[01:27:07] [INFO] [EnemyGrenade] Throw path blocked to (1408.378, 250.3764)
[01:27:07] [INFO] [EnemyGrenade] Throw path blocked to (1408.378, 250.3764)
[01:27:07] [ENEMY] [Enemy7] Warning: No valid flank position (both sides behind walls)
[01:27:07] [ENEMY] [Enemy7] FLANKING started: target=(1178.724, 354.5788), side=right, pos=(1517.135, 840.4374)
[01:27:07] [ENEMY] [Enemy7] State: PURSUING -> FLANKING
[01:27:07] [INFO] [EnemyGrenade] Throw path blocked to (1408.378, 250.3764)
[01:27:07] [INFO] [EnemyGrenade] Throw path blocked to (1408.885, 249.0909)
[01:27:07] [ENEMY] [Enemy7] FLANKING corner check: angle 110.2°
[01:27:07] [ENEMY] [Enemy5] Death animation completed
[01:27:07] [INFO] [EnemyGrenade] Throw path blocked to (1409.947, 251.1324)
[01:27:07] [INFO] [EnemyGrenade] Throw path blocked to (1411.027, 253.1627)
[01:27:07] [INFO] [EnemyGrenade] Throw path blocked to (1412.125, 255.1815)
[01:27:07] [INFO] [EnemyGrenade] Throw path blocked to (1413.242, 257.1882)
[01:27:07] [INFO] [EnemyGrenade] Throw path blocked to (1414.377, 259.1822)
[01:27:07] [INFO] [EnemyGrenade] Throw path blocked to (1415.53, 261.1632)
[01:27:07] [INFO] [EnemyGrenade] Throw path blocked to (1416.7, 263.1306)
[01:27:07] [INFO] [EnemyGrenade] Throw path blocked to (1417.888, 265.0837)
[01:27:07] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[01:27:07] [INFO] [EnemyGrenade] Throw path blocked to (1419.092, 267.0223)
[01:27:07] [INFO] [EnemyGrenade] Throw path blocked to (1420.314, 268.9457)
[01:27:07] [INFO] [EnemyGrenade] Throw path blocked to (1420.834, 267.5955)
[01:27:07] [INFO] [EnemyGrenade] Throw path blocked to (1422.084, 269.5436)
[01:27:07] [INFO] [EnemyGrenade] Throw path blocked to (1423.35, 271.4749)
[01:27:07] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=733), can_see=false
[01:27:07] [INFO] [EnemyGrenade] Throw path blocked to (1423.873, 270.1434)
[01:27:07] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1408), can_see=false
[01:27:07] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1585), can_see=false
[01:27:07] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1461), can_see=false
[01:27:07] [INFO] [EnemyGrenade] Throw path blocked to (1425.169, 272.0984)
[01:27:07] [INFO] [ReplayManager] Recording frame 780 (11,4s): player_valid=True, enemies=10
[01:27:07] [INFO] [EnemyGrenade] Throw path blocked to (1426.48, 274.0349)
[01:27:07] [INFO] [EnemyGrenade] Throw path blocked to (1427.808, 275.952)
[01:27:07] [INFO] [EnemyGrenade] Throw path blocked to (1428.825, 276.2599)
[01:27:07] [INFO] [EnemyGrenade] Throw path blocked to (1430.183, 278.1692)
[01:27:07] [INFO] [EnemyGrenade] Throw path blocked to (1431.217, 278.4719)
[01:27:07] [INFO] [EnemyGrenade] Throw path blocked to (1432.607, 280.3716)
[01:27:07] [INFO] [EnemyGrenade] Throw path blocked to (1433.657, 280.6672)
[01:27:07] [INFO] [EnemyGrenade] Throw path blocked to (1435.077, 282.5557)
[01:27:07] [INFO] [EnemyGrenade] Throw path blocked to (1436.143, 282.8422)
[01:27:07] [INFO] [EnemyGrenade] Throw path blocked to (1437.594, 284.7176)
[01:27:07] [ENEMY] [Enemy7] FLANKING corner check: angle 79.9°
[01:27:07] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[01:27:07] [INFO] [EnemyGrenade] Throw path blocked to (1438.675, 284.9929)
[01:27:08] [INFO] [EnemyGrenade] Throw path blocked to (1440.155, 286.8533)
[01:27:08] [INFO] [EnemyGrenade] Throw path blocked to (1441.251, 287.1154)
[01:27:08] [INFO] [EnemyGrenade] Throw path blocked to (1442.759, 288.9586)
[01:27:08] [INFO] [EnemyGrenade] Throw path blocked to (1444.28, 290.7719)
[01:27:08] [INFO] [EnemyGrenade] Throw path blocked to (1445.392, 290.9866)
[01:27:08] [INFO] [EnemyGrenade] Throw path blocked to (1446.94, 292.7795)
[01:27:08] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[01:27:08] [INFO] [EnemyGrenade] Throw path blocked to (1448.499, 294.5395)
[01:27:08] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[01:27:08] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=Ready, ReloadState=NotReloading
[01:27:08] [INFO] [Shotgun.FIX#445] dragStartPos=(1961, 365), aimDir=(0,93, 0,37)
[01:27:08] [INFO] [EnemyGrenade] Throw path blocked to (1449.623, 294.6997)
[01:27:08] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:27:08] [INFO] [EnemyGrenade] Throw path blocked to (1451.207, 296.4357)
[01:27:08] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:27:08] [INFO] [Shotgun.FIX#243] Bolt opened for loading - ReloadState=Loading, ShellsInTube=7/8
[01:27:08] [INFO] [EnemyGrenade] Throw path blocked to (1452.8, 298.1347)
[01:27:08] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:27:08] [INFO] [EnemyGrenade] Throw path blocked to (1453.931, 298.2324)
[01:27:08] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:27:08] [INFO] [EnemyGrenade] Throw path blocked to (1455.548, 299.9034)
[01:27:08] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:27:08] [INFO] [EnemyGrenade] Throw path blocked to (1457.173, 301.5333)
[01:27:08] [INFO] [EnemyGrenade] Throw path blocked to (1458.803, 303.1202)
[01:27:08] [INFO] [EnemyGrenade] Throw path blocked to (1460.439, 304.6627)
[01:27:08] [INFO] [EnemyGrenade] Throw path blocked to (1462.079, 306.1588)
[01:27:08] [INFO] [EnemyGrenade] Throw path blocked to (1463.188, 306.0424)
[01:27:08] [INFO] [EnemyGrenade] Throw path blocked to (1464.845, 307.5004)
[01:27:08] [INFO] [Shotgun.FIX#243] RMB released after 8 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[01:27:08] [INFO] [Shotgun.FIX#445v7] ProcessDragGesture - dragVector=(46,1, -298,6), length=302,1, ActionState=Ready
[01:27:08] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=736), can_see=false
[01:27:08] [INFO] [EnemyGrenade] Throw path blocked to (1466.504, 308.9056)
[01:27:08] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1357), can_see=false
[01:27:08] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1527), can_see=false
[01:27:08] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1455), can_see=false
[01:27:08] [INFO] [EnemyGrenade] Throw path blocked to (1468.162, 310.2557)
[01:27:08] [INFO] [EnemyGrenade] Throw path blocked to (1469.819, 311.5479)
[01:27:08] [INFO] [EnemyGrenade] Throw path blocked to (1471.888, 313.0883)
[01:27:08] [INFO] [EnemyGrenade] Throw path blocked to (1473.948, 314.528)
[01:27:08] [ENEMY] [Enemy7] FLANKING corner check: angle 87.9°
[01:27:08] [INFO] [EnemyGrenade] Throw path blocked to (1475.994, 315.8599)
[01:27:08] [INFO] [EnemyGrenade] Throw path blocked to (1478.022, 317.0767)
[01:27:08] [INFO] [EnemyGrenade] Throw path blocked to (1480.026, 318.1695)
[01:27:08] [INFO] [EnemyGrenade] Throw path blocked to (1482, 319.1287)
[01:27:08] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[01:27:08] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=Ready, ReloadState=Loading
[01:27:08] [INFO] [Shotgun.FIX#445] dragStartPos=(2057, 0), aimDir=(0,93, 0,37)
[01:27:08] [INFO] [EnemyGrenade] Throw path blocked to (1483.936, 319.9427)
[01:27:08] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[01:27:08] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:27:08] [INFO] [Shotgun.EVENT] MMB event: pressed=True (was False), isDragging=True
[01:27:08] [INFO] [Shotgun.EVENT] MMB pressed during drag - immediately setting _wasMMBDuringDrag=true
[01:27:08] [INFO] [EnemyGrenade] Throw path blocked to (1485.825, 320.5988)
[01:27:08] [INFO] [Shotgun.DIAG] UpdateMiddleMouseState: MMB state changed False -> True
[01:27:08] [INFO] [Shotgun.DIAG] Frame 2: poll=True, raw=True, event=True, any=True, wasMMB=True
[01:27:08] [INFO] [EnemyGrenade] Throw path blocked to (1487.656, 321.0812)
[01:27:08] [INFO] [Shotgun.DIAG] Frame 3: poll=True, raw=True, event=True, any=True, wasMMB=True
[01:27:08] [INFO] [EnemyGrenade] Throw path blocked to (1489.415, 321.3717)
[01:27:08] [INFO] [EnemyGrenade] Throw path blocked to (1491.087, 321.4481)
[01:27:08] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:27:08] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:27:08] [INFO] [EnemyGrenade] Throw path blocked to (1492.65, 321.2829)
[01:27:08] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:27:08] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:27:08] [INFO] [EnemyGrenade] Throw path blocked to (1494.077, 320.8416)
[01:27:08] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:27:08] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:27:08] [INFO] [EnemyGrenade] Throw path blocked to (1495.332, 320.079)
[01:27:08] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:27:08] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:27:08] [INFO] [EnemyGrenade] Throw path blocked to (1496.364, 318.9347)
[01:27:08] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:27:08] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:27:08] [INFO] [EnemyGrenade] Throw path blocked to (1497.097, 317.3229)
[01:27:08] [INFO] [Shotgun.FIX#445v7] TryProcessMidDragGesture - dragVector=(-12,6, 302,6), length=302,8, isDragUp=False, isDragDown=True, ActionState=Ready
[01:27:08] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:27:08] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:27:08] [INFO] [EnemyGrenade] Throw path blocked to (1497.773, 315.6439)
[01:27:08] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:27:08] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:27:08] [INFO] [EnemyGrenade] Throw path blocked to (1497.853, 313.1476)
[01:27:08] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:27:08] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:27:08] [INFO] [EnemyGrenade] Throw path blocked to (1495.157, 308.5463)
[01:27:08] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:27:08] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:27:08] [INFO] [EnemyGrenade] Throw path blocked to (1492.62, 303.9006)
[01:27:08] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:27:08] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:27:08] [INFO] [EnemyGrenade] Throw path blocked to (1490.126, 299.2576)
[01:27:08] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:27:08] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:27:08] [INFO] [EnemyGrenade] Throw path blocked to (1489.446, 296.6224)
[01:27:08] [ENEMY] [Enemy7] FLANKING corner check: angle 159.4°
[01:27:08] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:27:08] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:27:08] [INFO] [EnemyGrenade] Throw path blocked to (1489.011, 294.108)
[01:27:08] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:27:08] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:27:08] [INFO] [EnemyGrenade] Throw path blocked to (1487.975, 290.8345)
[01:27:08] [INFO] [Shotgun.FIX#243] RMB released after 17 frames - wasMMBDuringDrag=True, current: poll=True, raw=True, event=True
[01:27:08] [INFO] [Shotgun.FIX#445v7] ProcessDragGesture - dragVector=(-6,0, 319,3), length=319,3, ActionState=Ready
[01:27:08] [INFO] [Shotgun.FIX#477] RMB release in Loading state: wasMMBDuringDrag=True, isMMBHeld=True, shellLoadedMidDrag=False => shouldLoadShell=True
[01:27:08] [INFO] [Shotgun.FIX#477] Loading shell (MMB was held during drag)
[01:27:08] [INFO] [Shotgun.FIX#243] LoadShell called - ReloadState=Loading, ShellsInTube=7/8, Tutorial=False, ReserveAmmo=8
[01:27:08] [INFO] [Shotgun.FIX#243] Shell LOADED - 8/8 shells in tube
[01:27:08] [INFO] [EnemyGrenade] Throw path blocked to (1486.415, 287.0265)
[01:27:08] [INFO] [EnemyGrenade] Throw path blocked to (1484.629, 283.0511)
[01:27:08] [INFO] [EnemyGrenade] Throw path blocked to (1482.957, 279.1853)
[01:27:08] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[01:27:08] [INFO] [EnemyGrenade] Throw path blocked to (1481.73, 276.3777)
[01:27:08] [INFO] [ReplayManager] Recording frame 840 (12,3s): player_valid=True, enemies=10
[01:27:08] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=563), can_see=false
[01:27:08] [INFO] [EnemyGrenade] Throw path blocked to (1480.034, 272.5416)
[01:27:08] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1205), can_see=false
[01:27:08] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1378), can_see=false
[01:27:08] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1316), can_see=false
[01:27:08] [INFO] [EnemyGrenade] Throw path blocked to (1478.788, 269.7562)
[01:27:08] [INFO] [Shotgun.EVENT] MMB event: pressed=False (was True), isDragging=False
[01:27:08] [INFO] [EnemyGrenade] Throw path blocked to (1477.067, 265.9506)
[01:27:08] [INFO] [EnemyGrenade] Throw path blocked to (1477.582, 264.5901)
[01:27:08] [INFO] [EnemyGrenade] Throw path blocked to (1476.721, 261.5074)
[01:27:08] [INFO] [EnemyGrenade] Throw path blocked to (1475.812, 258.4162)
[01:27:08] [INFO] [EnemyGrenade] Throw path blocked to (1474.861, 255.3239)
[01:27:08] [INFO] [EnemyGrenade] Throw path blocked to (1473.862, 252.2251)
[01:27:08] [INFO] [EnemyGrenade] Throw path blocked to (1472.815, 249.1193)
[01:27:08] [INFO] [EnemyGrenade] Throw path blocked to (1470.636, 245.0157)
[01:27:08] [INFO] [EnemyGrenade] Throw path blocked to (1468.44, 240.9334)
[01:27:09] [INFO] [EnemyGrenade] Throw path blocked to (1466.226, 236.873)
[01:27:09] [INFO] [EnemyGrenade] Throw path blocked to (1463.995, 232.8347)
[01:27:09] [INFO] [EnemyGrenade] Throw path blocked to (1461.746, 228.8192)
[01:27:09] [ENEMY] [Enemy7] FLANKING corner check: angle 175.4°
[01:27:09] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[01:27:09] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=Ready, ReloadState=Loading
[01:27:09] [INFO] [Shotgun.FIX#445] dragStartPos=(2065, 212), aimDir=(0,93, 0,37)
[01:27:09] [INFO] [EnemyGrenade] Throw path blocked to (1459.479, 224.8269)
[01:27:09] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:27:09] [INFO] [EnemyGrenade] Throw path blocked to (1457.194, 220.8585)
[01:27:09] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:27:09] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=False
[01:27:09] [INFO] [Shotgun.FIX#243] Reload complete - bolt closed, ready to fire with 8 shells
[01:27:09] [INFO] [Shotgun.FIX#477v3] Mid-drag bolt closed (MMB not held)
[01:27:09] [INFO] [EnemyGrenade] Throw path blocked to (1454.891, 216.9142)
[01:27:09] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:27:09] [INFO] [EnemyGrenade] Throw path blocked to (1452.569, 212.9949)
[01:27:09] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:27:09] [INFO] [EnemyGrenade] Throw path blocked to (1449.897, 210.3927)
[01:27:09] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[01:27:09] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:27:09] [INFO] [EnemyGrenade] Throw path blocked to (1447.261, 207.7834)
[01:27:09] [INFO] [EnemyGrenade] Throw path blocked to (1444.663, 205.1671)
[01:27:09] [INFO] [EnemyGrenade] Throw path blocked to (1442.103, 202.5436)
[01:27:09] [INFO] [EnemyGrenade] Throw path blocked to (1439.58, 199.9131)
[01:27:09] [INFO] [EnemyGrenade] Throw path blocked to (1437.096, 197.2758)
[01:27:09] [INFO] [Shotgun.FIX#243] RMB released after 7 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[01:27:09] [INFO] [Shotgun.FIX#445v7] ProcessDragGesture - dragVector=(-43,3, 377,9), length=380,4, ActionState=Ready
[01:27:09] [INFO] [Shotgun.FIX#445v7] Screen-based pump gesture: isDragUp=False, isDragDown=True
[01:27:09] [INFO] [EnemyGrenade] Throw path blocked to (1434.651, 194.6314)
[01:27:09] [INFO] [EnemyGrenade] Throw path blocked to (1432.245, 191.9805)
[01:27:09] [INFO] [EnemyGrenade] Throw path blocked to (1429.884, 189.3346)
[01:27:09] [INFO] [EnemyGrenade] Throw path blocked to (1427.586, 186.7259)
[01:27:09] [INFO] [EnemyGrenade] Throw path blocked to (1425.352, 184.1555)
[01:27:09] [INFO] [EnemyGrenade] Throw path blocked to (1423.183, 181.6261)
[01:27:09] [INFO] [EnemyGrenade] Throw path blocked to (1421.081, 179.1405)
[01:27:09] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=305), can_see=false
[01:27:09] [INFO] [EnemyGrenade] Throw path blocked to (1419.046, 176.7012)
[01:27:09] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1048), can_see=false
[01:27:09] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1223), can_see=false
[01:27:09] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1181), can_see=false
[01:27:09] [INFO] [EnemyGrenade] Throw path blocked to (1417.08, 174.3112)
[01:27:09] [INFO] [EnemyGrenade] Throw path blocked to (1415.185, 171.9729)
[01:27:09] [INFO] [EnemyGrenade] Throw path blocked to (1413.36, 169.6892)
[01:27:09] [INFO] [EnemyGrenade] Throw path blocked to (1411.608, 167.4624)
[01:27:09] [INFO] [EnemyGrenade] Throw path blocked to (1409.927, 165.2947)
[01:27:09] [INFO] [EnemyGrenade] Throw path blocked to (1408.319, 163.1879)
[01:27:09] [INFO] [EnemyGrenade] Throw path blocked to (1406.782, 161.1435)
[01:27:09] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[01:27:09] [INFO] [EnemyGrenade] Throw path blocked to (1405.317, 159.1619)
[01:27:09] [INFO] [EnemyGrenade] Throw path blocked to (1403.922, 157.2433)
[01:27:09] [INFO] [EnemyGrenade] Throw path blocked to (1402.595, 155.3865)
[01:27:09] [INFO] [EnemyGrenade] Throw path blocked to (1401.333, 153.5894)
[01:27:09] [INFO] [EnemyGrenade] Throw path blocked to (1400.134, 151.8483)
[01:27:09] [INFO] [EnemyGrenade] Throw path blocked to (1398.994, 150.158)
[01:27:09] [INFO] [BloodyFeet:Player] Blood ran out - no more footprints
[01:27:09] [INFO] [EnemyGrenade] Throw path blocked to (1397.907, 148.5117)
[01:27:09] [INFO] [EnemyGrenade] Throw path blocked to (1396.87, 146.9001)
[01:27:09] [INFO] [EnemyGrenade] Throw path blocked to (1395.876, 145.3119)
[01:27:09] [INFO] [EnemyGrenade] Throw path blocked to (1394.917, 143.7333)
[01:27:09] [INFO] [EnemyGrenade] Throw path blocked to (1393.987, 142.1482)
[01:27:09] [INFO] [EnemyGrenade] Throw path blocked to (1393.077, 140.5371)
[01:27:09] [INFO] [EnemyGrenade] Throw path blocked to (1392.179, 138.8784)
[01:27:09] [INFO] [EnemyGrenade] Throw path blocked to (1391.284, 137.1475)
[01:27:09] [INFO] [EnemyGrenade] Throw path blocked to (1390.382, 135.3171)
[01:27:09] [INFO] [EnemyGrenade] Throw path blocked to (1389.46, 133.3449)
[01:27:09] [INFO] [EnemyGrenade] Throw path blocked to (1388.503, 131.1881)
[01:27:09] [INFO] [EnemyGrenade] Throw path blocked to (1387.501, 128.806)
[01:27:09] [INFO] [EnemyGrenade] Throw path blocked to (1386.444, 126.1627)
[01:27:09] [INFO] [EnemyGrenade] Throw path blocked to (1385.387, 123.394)
[01:27:09] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[01:27:09] [INFO] [EnemyGrenade] Throw path blocked to (1384.556, 121.1287)
[01:27:09] [INFO] [ReplayManager] Recording frame 900 (13,3s): player_valid=True, enemies=10
[01:27:09] [INFO] [EnemyGrenade] Throw path blocked to (1384.698, 121.5147)
[01:27:09] [INFO] [EnemyGrenade] Throw path blocked to (1385.045, 122.422)
[01:27:09] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=112), can_see=false
[01:27:09] [INFO] [EnemyGrenade] Throw path blocked to (1386.134, 125.2111)
[01:27:09] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=908), can_see=false
[01:27:09] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1073), can_see=false
[01:27:09] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1131), can_see=false
[01:27:09] [INFO] [EnemyGrenade] Throw path blocked to (1385.047, 122.4274)
[01:27:09] [INFO] [EnemyGrenade] Throw path blocked to (1385.426, 123.371)
[01:27:09] [INFO] [EnemyGrenade] Throw path blocked to (1386.56, 126.1832)
[01:27:09] [INFO] [EnemyGrenade] Throw path blocked to (1386.997, 127.1328)
[01:27:09] [INFO] [EnemyGrenade] Throw path blocked to (1388.211, 129.9364)
[01:27:09] [INFO] [EnemyGrenade] Throw path blocked to (1388.703, 130.887)
[01:27:09] [INFO] [EnemyGrenade] Throw path blocked to (1389.995, 133.6774)
[01:27:09] [INFO] [EnemyGrenade] Throw path blocked to (1390.542, 134.6237)
[01:27:10] [INFO] [EnemyGrenade] Throw path blocked to (1391.909, 137.3962)
[01:27:10] [INFO] [EnemyGrenade] Throw path blocked to (1392.508, 138.3329)
[01:27:10] [INFO] [EnemyGrenade] Throw path blocked to (1393.949, 141.0827)
[01:27:10] [INFO] [EnemyGrenade] Throw path blocked to (1394.597, 142.0039)
[01:27:10] [INFO] [EnemyGrenade] Throw path blocked to (1396.109, 144.7259)
[01:27:10] [INFO] [EnemyGrenade] Throw path blocked to (1396.803, 145.6257)
[01:27:10] [INFO] [EnemyGrenade] Throw path blocked to (1398.382, 148.3145)
[01:27:10] [INFO] [EnemyGrenade] Throw path blocked to (1399.119, 149.1861)
[01:27:10] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[01:27:10] [INFO] [EnemyGrenade] Throw path blocked to (1400.762, 151.8359)
[01:27:10] [INFO] [EnemyGrenade] Throw path blocked to (1402.422, 154.4255)
[01:27:10] [INFO] [EnemyGrenade] Throw path blocked to (1403.196, 155.1956)
[01:27:10] [INFO] [EnemyGrenade] Throw path blocked to (1404.912, 157.737)
[01:27:10] [INFO] [EnemyGrenade] Throw path blocked to (1406.638, 160.2083)
[01:27:10] [INFO] [EnemyGrenade] Throw path blocked to (1408.371, 162.6057)
[01:27:10] [INFO] [EnemyGrenade] Throw path blocked to (1410.107, 164.925)
[01:27:10] [INFO] [EnemyGrenade] Throw path blocked to (1411.843, 167.1616)
[01:27:10] [INFO] [EnemyGrenade] Throw path blocked to (1413.574, 169.3104)
[01:27:10] [INFO] [EnemyGrenade] Throw path blocked to (1415.296, 171.3658)
[01:27:10] [INFO] [EnemyGrenade] Throw path blocked to (1417.003, 173.3214)
[01:27:10] [INFO] [EnemyGrenade] Throw path blocked to (1418.69, 175.1701)
[01:27:10] [ENEMY] [Enemy7] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=-60.5°, current=-14.8°, player=(1799,584), corner_timer=-0.02
[01:27:10] [ENEMY] [Enemy7] Player distracted - priority attack triggered
[01:27:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1744.401, 681.8693), source=ENEMY (Enemy7), range=1469, listeners=4
[01:27:10] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=3
[01:27:10] [INFO] [LastChance] Threat detected: Bullet
[01:27:10] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[01:27:10] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:27:10] [ENEMY] [Enemy7] State: FLANKING -> COMBAT
[01:27:10] [INFO] [Player] Hit blocked by invincibility mode (C#)
[01:27:10] [INFO] [Player] Spawning blood effect at (1808.6724, 588.8853), dir=(1, 0), lethal=False (C#)
[01:27:10] [INFO] [ImpactEffects] spawn_blood_effect called at (1808.672, 588.8853), dir=(1, 0), lethal=false
[01:27:10] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:27:10] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[01:27:10] [INFO] [ImpactEffects] Blood effect spawned at (1808.672, 588.8853) (scale=1)
[01:27:10] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=866), can_see=false
[01:27:10] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1004), can_see=false
[01:27:10] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1203), can_see=false
[01:27:10] [ENEMY] [Enemy7] Player empty ammo - priority attack triggered
[01:27:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1760.304, 680.1135), source=ENEMY (Enemy7), range=1469, listeners=4
[01:27:10] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=3
[01:27:10] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[01:27:10] [INFO] [LastChance] Threat detected: Bullet
[01:27:10] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[01:27:10] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:27:10] [INFO] [Player] Hit blocked by invincibility mode (C#)
[01:27:10] [INFO] [Player] Spawning blood effect at (1837.5723, 612.0615), dir=(1, 0), lethal=False (C#)
[01:27:10] [INFO] [ImpactEffects] spawn_blood_effect called at (1837.572, 612.0615), dir=(1, 0), lethal=false
[01:27:10] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:27:10] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[01:27:10] [INFO] [ImpactEffects] Blood effect spawned at (1837.572, 612.0615) (scale=1)
[01:27:10] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(1853.128, 627.6179), source=PLAYER (Player), range=600, listeners=4
[01:27:10] [ENEMY] [Enemy7] Heard player EMPTY_CLICK at (1853.128, 627.6179), intensity=0.22, distance=107
[01:27:10] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=0
[01:27:10] [INFO] [Shotgun.FIX#212] Firing 13 pellets with 15° spread at pos=(1853.1284, 627.6179)
[01:27:10] [INFO] [Shotgun.FIX#212] Normal pellet 1/13: extraOffset=8,3, distance=60,3px, pos=(1803.8097, 662.2298)
[01:27:10] [INFO] [Shotgun.FIX#212] Normal pellet 2/13: extraOffset=-5,3, distance=46,7px, pos=(1814.0674, 653.25836)
[01:27:10] [INFO] [Shotgun.FIX#212] Normal pellet 3/13: extraOffset=7,3, distance=59,3px, pos=(1803.704, 660.41345)
[01:27:10] [INFO] [Shotgun.FIX#212] Normal pellet 4/13: extraOffset=-10,2, distance=41,8px, pos=(1817.2683, 649.18225)
[01:27:10] [INFO] [Shotgun.FIX#212] Normal pellet 5/13: extraOffset=-3,1, distance=48,9px, pos=(1811.4213, 653.1287)
[01:27:10] [INFO] [Shotgun.FIX#212] Normal pellet 6/13: extraOffset=12,5, distance=64,5px, pos=(1796.3043, 658.1324)
[01:27:10] [INFO] [Shotgun.FIX#212] Normal pellet 7/13: extraOffset=-1,0, distance=51,0px, pos=(1808.762, 652.7672)
[01:27:10] [INFO] [Shotgun.FIX#212] Normal pellet 8/13: extraOffset=-8,4, distance=43,6px, pos=(1814.0254, 646.8549)
[01:27:10] [INFO] [Shotgun.FIX#212] Normal pellet 9/13: extraOffset=-1,1, distance=50,9px, pos=(1806.7716, 648.5586)
[01:27:10] [INFO] [Shotgun.FIX#212] Normal pellet 10/13: extraOffset=-7,3, distance=44,7px, pos=(1811.956, 644.9541)
[01:27:10] [INFO] [Shotgun.FIX#212] Normal pellet 11/13: extraOffset=13,3, distance=65,3px, pos=(1792.9619, 653.11615)
[01:27:10] [INFO] [Shotgun.FIX#212] Normal pellet 12/13: extraOffset=0,3, distance=52,3px, pos=(1804.7047, 647.2977)
[01:27:10] [INFO] [Shotgun.FIX#212] Normal pellet 13/13: extraOffset=-4,2, distance=47,8px, pos=(1808.6074, 644.97485)
[01:27:10] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1853.128, 627.6179), source=PLAYER (Shotgun), range=1469, listeners=4
[01:27:10] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=3
[01:27:10] [ENEMY] [Enemy7] Hit taken, damage: 1, health: 4/4 -> 3/4
[01:27:10] [ENEMY] [Enemy7] ImpactEffectsManager found, calling spawn_blood_effect
[01:27:10] [INFO] [ImpactEffects] spawn_blood_effect called at (1760.304, 680.1135), dir=(1, 0), lethal=false
[01:27:10] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:27:10] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[01:27:10] [INFO] [ImpactEffects] Blood effect spawned at (1760.304, 680.1135) (scale=1)
[01:27:10] [ENEMY] [Enemy7] Hit taken, damage: 1, health: 3/4 -> 2/4
[01:27:10] [ENEMY] [Enemy7] ImpactEffectsManager found, calling spawn_blood_effect
[01:27:10] [INFO] [ImpactEffects] spawn_blood_effect called at (1760.304, 680.1135), dir=(1, 0), lethal=false
[01:27:10] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:27:10] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[01:27:10] [INFO] [ImpactEffects] Blood effect spawned at (1760.304, 680.1135) (scale=1)
[01:27:10] [ENEMY] [Enemy7] Hit taken, damage: 1, health: 2/4 -> 1/4
[01:27:10] [ENEMY] [Enemy7] ImpactEffectsManager found, calling spawn_blood_effect
[01:27:10] [INFO] [ImpactEffects] spawn_blood_effect called at (1760.304, 680.1135), dir=(1, 0), lethal=false
[01:27:10] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:27:10] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[01:27:10] [INFO] [ImpactEffects] Blood effect spawned at (1760.304, 680.1135) (scale=1)
[01:27:10] [ENEMY] [Enemy7] Hit taken, damage: 1, health: 1/4 -> 0/4
[01:27:10] [ENEMY] [Enemy7] ImpactEffectsManager found, calling spawn_blood_effect
[01:27:10] [INFO] [ImpactEffects] spawn_blood_effect called at (1760.304, 680.1135), dir=(1, 0), lethal=true
[01:27:10] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:27:10] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[01:27:10] [INFO] [ImpactEffects] Blood effect spawned at (1760.304, 680.1135) (scale=1.5)
[01:27:10] [ENEMY] [Enemy7] Enemy died (ricochet: false, penetration: false)
[01:27:10] [INFO] [ScoreManager] Kill registered. Combo: 3 (points: 3000)
[01:27:10] [INFO] [SoundPropagation] Unregistered listener: Enemy7 (remaining: 3)
[01:27:10] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[01:27:10] [ENEMY] [Enemy7] Death animation started with hit direction: (1, 0)
[01:27:10] [INFO] [BloodDecal] Blood puddle created at (1886.123, 583.4515) (added to group)
[01:27:10] [INFO] [BloodDecal] Blood puddle created at (1849.93, 610.9064) (added to group)
[01:27:10] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[01:27:10] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=NeedsPumpUp, ReloadState=NotReloading
[01:27:10] [INFO] [Shotgun.FIX#445] dragStartPos=(1553, 830), aimDir=(-0,91, 0,42)
[01:27:10] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:27:10] [INFO] [ReplayManager] Recording frame 960 (14,2s): player_valid=True, enemies=10
[01:27:10] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[01:27:10] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:27:10] [INFO] [Shotgun.FIX#445v7] Mid-drag pump UP - shell ejected, continue dragging DOWN to chamber
[01:27:10] [INFO] [BloodDecal] Blood puddle created at (1930.387, 571.1201) (added to group)
[01:27:10] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:27:10] [INFO] [BloodDecal] Blood puddle created at (1926.954, 605.1536) (added to group)
[01:27:10] [INFO] [BloodDecal] Blood puddle created at (1904.689, 638.7676) (added to group)
[01:27:10] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:27:10] [INFO] [BloodDecal] Blood puddle created at (1818.336, 683.6844) (added to group)
[01:27:10] [INFO] [BloodDecal] Blood puddle created at (1802.765, 688.7234) (added to group)
[01:27:10] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:27:10] [INFO] [BloodDecal] Blood puddle created at (1957.451, 610.3521) (added to group)
[01:27:10] [INFO] [BloodDecal] Blood puddle created at (1902.58, 664.2003) (added to group)
[01:27:10] [INFO] [BloodDecal] Blood puddle created at (1898.889, 627.6599) (added to group)
[01:27:10] [INFO] [BloodDecal] Blood puddle created at (1841.531, 683.8953) (added to group)
[01:27:10] [INFO] [BloodDecal] Blood puddle created at (1840.364, 673.9115) (added to group)
[01:27:10] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=759), can_see=false
[01:27:10] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=878), can_see=false
[01:27:10] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1184), can_see=false
[01:27:10] [INFO] [BloodDecal] Blood puddle created at (1815.02, 668.8162) (added to group)
[01:27:10] [INFO] [BloodDecal] Blood puddle created at (1921.504, 666.5686) (added to group)
[01:27:10] [INFO] [BloodDecal] Blood puddle created at (1856.066, 712.3041) (added to group)
[01:27:10] [INFO] [BloodDecal] Blood puddle created at (1814.532, 724.5104) (added to group)
[01:27:10] [INFO] [BloodDecal] Blood puddle created at (1933.467, 599.1763) (added to group)
[01:27:10] [INFO] [BloodDecal] Blood puddle created at (1948.872, 694.1259) (added to group)
[01:27:10] [INFO] [BloodDecal] Blood puddle created at (1823.886, 710.1895) (added to group)
[01:27:10] [INFO] [BloodDecal] Blood puddle created at (1863.588, 691.5521) (added to group)
[01:27:10] [INFO] [BloodDecal] Blood puddle created at (1941.422, 671.0116) (added to group)
[01:27:10] [INFO] [BloodDecal] Blood puddle created at (1819.419, 680.0674) (added to group)
[01:27:10] [INFO] [BloodDecal] Blood puddle created at (1836.543, 695.5525) (added to group)
[01:27:10] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[01:27:10] [INFO] [BloodDecal] Blood puddle created at (1894.491, 686.0316) (added to group)
[01:27:10] [INFO] [Shotgun.FIX#445v7] TryProcessMidDragGesture - dragVector=(17,2, -457,0), length=457,3, isDragUp=True, isDragDown=False, ActionState=NeedsPumpDown
[01:27:10] [INFO] [BloodDecal] Blood puddle created at (1911.231, 673.2117) (added to group)
[01:27:11] [INFO] [BloodDecal] Blood puddle created at (1851.575, 681.9635) (added to group)
[01:27:11] [INFO] [BloodDecal] Blood puddle created at (1845.236, 747.9813) (added to group)
[01:27:11] [INFO] [BloodDecal] Blood puddle created at (1845.091, 688.3427) (added to group)
[01:27:11] [INFO] [BloodDecal] Blood puddle created at (1856.73, 743.3003) (added to group)
[01:27:11] [INFO] [BloodDecal] Blood puddle created at (1837.617, 679.3488) (added to group)
[01:27:11] [INFO] [BloodDecal] Blood puddle created at (1908.87, 692.756) (added to group)
[01:27:11] [INFO] [BloodDecal] Blood puddle created at (1930.179, 624.039) (added to group)
[01:27:11] [INFO] [BloodDecal] Blood puddle created at (1826.207, 746.8234) (added to group)
[01:27:11] [INFO] [BloodDecal] Blood puddle created at (1823.735, 703.0424) (added to group)
[01:27:11] [INFO] [BloodDecal] Blood puddle created at (1887.249, 757.0739) (added to group)
[01:27:11] [INFO] [BloodDecal] Blood puddle created at (1978.602, 657.1136) (added to group)
[01:27:11] [INFO] [BloodDecal] Blood puddle created at (2003.893, 637.625) (added to group)
[01:27:11] [INFO] [BloodDecal] Blood puddle created at (1866.874, 673.3026) (added to group)
[01:27:11] [INFO] [BloodDecal] Blood puddle created at (1875.462, 749.6873) (added to group)
[01:27:11] [INFO] [BloodDecal] Blood puddle created at (1844.96, 690.3368) (added to group)
[01:27:11] [INFO] [Shotgun.FIX#445v7] Mid-drag pump DOWN - chambered, ready to fire
[01:27:11] [INFO] [BloodDecal] Blood puddle created at (1849.157, 758.5818) (added to group)
[01:27:11] [INFO] [BloodDecal] Blood puddle created at (1912.328, 698.8293) (added to group)
[01:27:11] [INFO] [BloodDecal] Blood puddle created at (1838.725, 694.6688) (added to group)
[01:27:11] [ENEMY] [Enemy7] Ragdoll activated
[01:27:11] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[01:27:11] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:27:11] [INFO] [BloodDecal] Blood puddle created at (1919.598, 747.3056) (added to group)
[01:27:11] [INFO] [BloodDecal] Blood puddle created at (1909.674, 742.5621) (added to group)
[01:27:11] [INFO] [BloodDecal] Blood puddle created at (1830.945, 765.8777) (added to group)
[01:27:11] [INFO] [BloodDecal] Blood puddle created at (1901.118, 795.2058) (added to group)
[01:27:11] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:27:11] [INFO] [BloodDecal] Blood puddle created at (1904.82, 669.0515) (added to group)
[01:27:11] [INFO] [BloodDecal] Blood puddle created at (1896.015, 796.7349) (added to group)
[01:27:11] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:27:11] [INFO] [BloodDecal] Blood puddle created at (1934.07, 740.9613) (added to group)
[01:27:11] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[01:27:11] [INFO] [Shotgun.FIX#243] RMB released after 4 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[01:27:11] [INFO] [Shotgun.FIX#445v7] ProcessDragGesture - dragVector=(12,7, 90,3), length=91,1, ActionState=Ready
[01:27:11] [INFO] [Shotgun.FIX#445v7] Screen-based pump gesture: isDragUp=False, isDragDown=True
[01:27:11] [INFO] [BloodDecal] Blood puddle created at (2021.77, 783.7323) (added to group)
[01:27:11] [INFO] [BloodDecal] Blood puddle created at (1867.232, 762.9117) (added to group)
[01:27:11] [INFO] [BloodDecal] Blood puddle created at (1896.599, 692.1722) (added to group)
[01:27:11] [INFO] [BloodDecal] Blood puddle created at (1900.945, 807.3485) (added to group)
[01:27:11] [INFO] [BloodDecal] Blood puddle created at (1962.977, 742.4822) (added to group)
[01:27:11] [INFO] [BloodDecal] Blood puddle created at (1889.05, 742.2157) (added to group)
[01:27:11] [INFO] [BloodDecal] Blood puddle created at (1944.106, 815.5103) (added to group)
[01:27:11] [INFO] [BloodDecal] Blood puddle created at (1930.544, 718.0854) (added to group)
[01:27:11] [INFO] [BloodDecal] Blood puddle created at (1892.207, 718.1658) (added to group)
[01:27:11] [INFO] [BloodDecal] Blood puddle created at (1903.261, 796.5717) (added to group)
[01:27:11] [INFO] [BloodDecal] Blood puddle created at (1938.64, 753.3062) (added to group)
[01:27:11] [INFO] [BloodDecal] Blood puddle created at (1871.326, 723.9606) (added to group)
[01:27:11] [INFO] [BloodDecal] Blood puddle created at (1915.719, 699.4717) (added to group)
[01:27:11] [INFO] [BloodDecal] Blood puddle created at (1913.878, 773.8062) (added to group)
[01:27:11] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=655), can_see=false
[01:27:11] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=781), can_see=false
[01:27:11] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1096), can_see=false
[01:27:11] [INFO] [BloodDecal] Blood puddle created at (1955.817, 781.8306) (added to group)
[01:27:11] [INFO] [BloodDecal] Blood puddle created at (1986.81, 863.8516) (added to group)
[01:27:11] [INFO] [BloodDecal] Blood puddle created at (1878.267, 818.6879) (added to group)
[01:27:11] [INFO] [BloodDecal] Blood puddle created at (1951.281, 736.5577) (added to group)
[01:27:11] [INFO] [BloodDecal] Blood puddle created at (1878.313, 786.6161) (added to group)
[01:27:11] [INFO] [BloodDecal] Blood puddle created at (1971.476, 845.869) (added to group)
[01:27:11] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[01:27:11] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[01:27:11] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[01:27:11] [INFO] [Player.Grenade] G pressed - starting grab animation
[01:27:11] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[01:27:11] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1549.4878, 1071.5945)
[01:27:11] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=Ready, ReloadState=NotReloading
[01:27:11] [INFO] [Shotgun.FIX#445] dragStartPos=(1549, 1075), aimDir=(-0,86, 0,51)
[01:27:11] [INFO] [ReplayManager] Recording frame 1020 (15,0s): player_valid=True, enemies=10
[01:27:11] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:27:11] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:27:11] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:27:11] [INFO] [GrenadeBase] CCD enabled (mode: CAST_RAY) to prevent wall tunneling
[01:27:11] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[01:27:11] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[01:27:11] [INFO] [GrenadeTimer] Initialized for Frag grenade, effect radius: 225
[01:27:11] [INFO] [Player.Grenade] Added GrenadeTimer component (type: Frag)
[01:27:11] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[01:27:11] [INFO] [GrenadeTimer] Timer activated! 4 seconds until explosion
[01:27:11] [INFO] [Player.Grenade] Timer started, grenade created at (1864.6617, 916.4719)
[01:27:11] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[01:27:11] [INFO] [Player.Grenade] Step 1 complete! Drag: (298.05078, 62.51306)
[01:27:11] [INFO] [Shotgun.FIX#243] RMB released after 5 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[01:27:11] [INFO] [Shotgun.FIX#445v7] ProcessDragGesture - dragVector=(298,4, 62,7), length=304,9, ActionState=Ready
[01:27:11] [INFO] [Shotgun.FIX#445v7] Pump drag not vertical: absY=62,7 <= absX=298,4
[01:27:11] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=535), can_see=false
[01:27:11] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=676), can_see=false
[01:27:11] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=984), can_see=false
[01:27:11] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[01:27:11] [INFO] [Player.Grenade.Simple] RMB pressed after pin pull - starting trajectory aiming
[01:27:11] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=Ready, ReloadState=NotReloading
[01:27:11] [INFO] [Shotgun.FIX#445] dragStartPos=(2038, 1197), aimDir=(0,55, 0,84)
[01:27:12] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:27:12] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:27:12] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[01:27:12] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:27:12] [INFO] [Shotgun.FIX#445v7] TryProcessMidDragGesture - dragVector=(-21,9, 80,3), length=83,2, isDragUp=False, isDragDown=True, ActionState=Ready
[01:27:12] [INFO] [Shotgun.FIX#445v7] TryProcessMidDragGesture - dragVector=(-28,8, 123,4), length=126,7, isDragUp=False, isDragDown=True, ActionState=Ready
[01:27:12] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P1:visible, state=IDLE, target=-39.4°, current=0.6°, player=(1864,1022), corner_timer=0.07
[01:27:12] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[01:27:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1159.104, 1601.933), source=ENEMY (Enemy10), range=1469, listeners=3
[01:27:12] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=2
[01:27:12] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) - pursuing to attack (dist=910)
[01:27:12] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[01:27:12] [ENEMY] [Enemy7] Death animation completed
[01:27:12] [ENEMY] [Enemy10] ROT_CHANGE: P1:visible -> P2:combat_state, state=PURSUING, target=-37.7°, current=-49.6°, player=(1867,1047), corner_timer=0.02
[01:27:12] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=400), can_see=false
[01:27:12] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=550), can_see=false
[01:27:12] [ENEMY] [Enemy10] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-37.3°, current=-47.3°, player=(1868,1051), corner_timer=0.01
[01:27:12] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=879), can_see=true
[01:27:12] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[01:27:12] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1172.42, 1580.122), source=ENEMY (Enemy10), range=1469, listeners=3
[01:27:12] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=2
[01:27:12] [ENEMY] [Enemy10] PURSUING corner check: angle -146.9°
[01:27:12] [ENEMY] [Enemy10] ROT_CHANGE: P1:visible -> P2:combat_state, state=PURSUING, target=-36.2°, current=-56.6°, player=(1873,1062), corner_timer=0.30
[01:27:12] [INFO] [Shotgun.FIX#445v7] TryProcessMidDragGesture - dragVector=(-27,1, 170,2), length=172,4, isDragUp=False, isDragDown=True, ActionState=Ready
[01:27:12] [ENEMY] [Enemy10] State: PURSUING -> RETREATING
[01:27:12] [ENEMY] [Enemy10] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=-146.9°, current=-42.8°, player=(1888,1082), corner_timer=0.23
[01:27:12] [ENEMY] [Enemy10] State: RETREATING -> IN_COVER
[01:27:12] [ENEMY] [Enemy10] State: IN_COVER -> SUPPRESSED
[01:27:12] [INFO] [Shotgun.FIX#445v7] TryProcessMidDragGesture - dragVector=(-15,2, 208,9), length=209,5, isDragUp=False, isDragDown=True, ActionState=Ready
[01:27:12] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1231.1228, 1545.7047), shooter_id=273367961835, bullet_pos=(1710.5244, 1184.9071)
[01:27:12] [INFO] [Bullet] Using shooter_position, distance=600,0007
[01:27:12] [INFO] [Bullet] Distance to wall: 600,0007 (40,855152% of viewport)
[01:27:12] [INFO] [ReplayManager] Recording frame 1080 (15,8s): player_valid=True, enemies=10
[01:27:12] [INFO] [Shotgun.FIX#445v7] TryProcessMidDragGesture - dragVector=(6,2, 243,9), length=244,0, isDragUp=False, isDragDown=True, ActionState=Ready
[01:27:12] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=304), can_see=false
[01:27:12] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=424), can_see=false
[01:27:12] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=860), can_see=false
[01:27:12] [INFO] [Shotgun.FIX#445v7] TryProcessMidDragGesture - dragVector=(11,7, 276,9), length=277,2, isDragUp=False, isDragDown=True, ActionState=Ready
[01:27:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1231.1228, 1545.7047), shooter_id=273367961835, bullet_pos=(1373.3975, 874.3987)
[01:27:13] [INFO] [Bullet] Using shooter_position, distance=686,2171
[01:27:13] [INFO] [Bullet] Distance to wall: 686,2171 (46,725784% of viewport)
[01:27:13] [INFO] [BloodyFeet:Player] Blood ran out - no more footprints
[01:27:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1231.1228, 1545.7047), shooter_id=273367961835, bullet_pos=(1443.2468, 800.98553)
[01:27:13] [INFO] [Bullet] Using shooter_position, distance=774,3405
[01:27:13] [INFO] [Bullet] Distance to wall: 774,3405 (52,72627% of viewport)
[01:27:13] [INFO] [Bullet] Distance-based penetration chance: 85,15269%
[01:27:13] [INFO] [Bullet] Penetration failed (distance roll)
[01:27:13] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1216.2825, 1565.0377), shooter_id=273367961835, bullet_pos=(2478.1401, 527.9807)
[01:27:13] [INFO] [Bullet] Using shooter_position, distance=1633,3315
[01:27:13] [INFO] [Bullet] Distance to wall: 1633,3315 (111,21656% of viewport)
[01:27:13] [INFO] [Bullet] Distance-based penetration chance: 27,756691%
[01:27:13] [INFO] [Bullet] Penetration failed (distance roll)
[01:27:13] [INFO] [Shotgun.FIX#445v7] TryProcessMidDragGesture - dragVector=(-10,0, 300,7), length=300,9, isDragUp=False, isDragDown=True, ActionState=Ready
[01:27:13] [INFO] [Shotgun.FIX#445v7] TryProcessMidDragGesture - dragVector=(-62,2, 311,2), length=317,4, isDragUp=False, isDragDown=True, ActionState=Ready
[01:27:13] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=336), can_see=false
[01:27:13] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=384), can_see=false
[01:27:13] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=965), can_see=false
[01:27:13] [INFO] [Shotgun.FIX#445v7] TryProcessMidDragGesture - dragVector=(-67,1, 317,3), length=324,3, isDragUp=False, isDragDown=True, ActionState=Ready
[01:27:13] [INFO] [Shotgun.FIX#445v7] TryProcessMidDragGesture - dragVector=(-56,8, 308,0), length=313,2, isDragUp=False, isDragDown=True, ActionState=Ready
[01:27:13] [INFO] [ReplayManager] Recording frame 1140 (16,7s): player_valid=True, enemies=10
[01:27:13] [INFO] [Shotgun.FIX#445v7] TryProcessMidDragGesture - dragVector=(-45,8, 293,4), length=297,0, isDragUp=False, isDragDown=True, ActionState=Ready
[01:27:13] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=466), can_see=false
[01:27:13] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=454), can_see=false
[01:27:13] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1116), can_see=false
[01:27:13] [INFO] [Shotgun.FIX#445v7] TryProcessMidDragGesture - dragVector=(-55,7, 282,6), length=288,0, isDragUp=False, isDragDown=True, ActionState=Ready
[01:27:14] [INFO] [Player.Grenade.Simple] Throwing! Target: (1954.9042, 1475.812), Distance: 493,1, Speed: 525,5, Friction: 280,0
[01:27:14] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 2,2946599
[01:27:14] [INFO] [GrenadeTimer] Grenade marked as thrown - impact detection enabled
[01:27:14] [INFO] [Player.Grenade.Simple] C# set velocity directly: dir=(-0.6622843, 0.7492526), speed=525,5, spawn=(2236.4385, 1157.3079)
[01:27:14] [INFO] [GrenadeBase] Simple mode throw! Dir: (-0.662284, 0.749253), Speed: 525.5 (clamped from 525.5, max: 1186.5)
[01:27:14] [INFO] [FragGrenade] Grenade thrown (simple mode) - impact detection enabled
[01:27:14] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[01:27:14] [INFO] [Player.Grenade.Simple] Grenade thrown!
[01:27:14] [INFO] [Player.Grenade] State reset to IDLE
[01:27:14] [INFO] [Player.Grenade] State reset to IDLE
[01:27:14] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[01:27:14] [INFO] [Shotgun.FIX#243] RMB released after 128 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[01:27:14] [INFO] [Shotgun.FIX#445v7] ProcessDragGesture - dragVector=(-77,8, 278,1), length=288,8, ActionState=Ready
[01:27:14] [INFO] [Shotgun.FIX#445v7] Screen-based pump gesture: isDragUp=False, isDragDown=True
[01:27:14] [INFO] [Player.Grenade] Player rotation restored to 0
[01:27:14] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[01:27:14] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=592), can_see=false
[01:27:14] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=521), can_see=false
[01:27:14] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1272), can_see=false
[01:27:14] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(2428.005, 1144.152), source=PLAYER (Player), range=600, listeners=3
[01:27:14] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=1
[01:27:14] [INFO] [Shotgun.FIX#212] Firing 10 pellets with 15° spread at pos=(2428.0046, 1144.1516)
[01:27:14] [INFO] [Shotgun.FIX#212] Normal pellet 1/10: extraOffset=-11,4, distance=40,6px, pos=(2394.3494, 1166.931)
[01:27:14] [INFO] [Shotgun.FIX#212] Normal pellet 2/10: extraOffset=6,2, distance=58,2px, pos=(2379.0098, 1175.5859)
[01:27:14] [INFO] [Shotgun.FIX#212] Normal pellet 3/10: extraOffset=-3,9, distance=48,1px, pos=(2387.4358, 1169.9498)
[01:27:14] [INFO] [Shotgun.FIX#212] Normal pellet 4/10: extraOffset=-14,0, distance=38,0px, pos=(2395.224, 1163.4697)
[01:27:14] [INFO] [Shotgun.FIX#212] Normal pellet 5/10: extraOffset=-11,7, distance=40,3px, pos=(2392.2896, 1162.8046)
[01:27:14] [INFO] [Shotgun.FIX#212] Normal pellet 6/10: extraOffset=-5,1, distance=46,9px, pos=(2385.8828, 1164.6813)
[01:27:14] [INFO] [Shotgun.FIX#212] Normal pellet 7/10: extraOffset=-9,5, distance=42,5px, pos=(2389.2913, 1161.7202)
[01:27:14] [INFO] [Shotgun.FIX#212] Normal pellet 8/10: extraOffset=-14,3, distance=37,7px, pos=(2393.7686, 1159.9268)
[01:27:14] [INFO] [Shotgun.FIX#212] Normal pellet 9/10: extraOffset=14,6, distance=66,6px, pos=(2366.561, 1169.9532)
[01:27:14] [INFO] [Shotgun.FIX#212] Normal pellet 10/10: extraOffset=-7,0, distance=45,0px, pos=(2385.617, 1159.2936)
[01:27:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2428.005, 1144.152), source=PLAYER (Shotgun), range=1469, listeners=3
[01:27:14] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=3
[01:27:14] [INFO] [ReplayManager] Recording frame 1200 (17,7s): player_valid=True, enemies=10
[01:27:14] [ENEMY] [Enemy8] Hit taken, damage: 1, health: 3/3 -> 2/3
[01:27:14] [ENEMY] [Enemy8] ImpactEffectsManager found, calling spawn_blood_effect
[01:27:14] [INFO] [ImpactEffects] spawn_blood_effect called at (1900, 1450), dir=(1, 0), lethal=false
[01:27:14] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:27:14] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[01:27:14] [INFO] [ImpactEffects] Blood effect spawned at (1900, 1450) (scale=1)
[01:27:14] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[01:27:14] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=NeedsPumpUp, ReloadState=NotReloading
[01:27:14] [INFO] [Shotgun.FIX#445] dragStartPos=(1906, 1484), aimDir=(-0,90, 0,43)
[01:27:15] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:27:15] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:27:15] [INFO] [Shotgun.FIX#445v7] Mid-drag pump UP - shell ejected, continue dragging DOWN to chamber
[01:27:15] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=573), can_see=false
[01:27:15] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=455), can_see=false
[01:27:15] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1277), can_see=false
[01:27:15] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:27:15] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:27:15] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:27:15] [INFO] [Shotgun.FIX#445v7] TryProcessMidDragGesture - dragVector=(59,4, -493,5), length=497,1, isDragUp=True, isDragDown=False, ActionState=NeedsPumpDown
[01:27:15] [INFO] [SoundPropagation] Sound emitted: type=GRENADE_LANDING, pos=(2043.238, 1375.878), source=NEUTRAL (FragGrenade), range=112, listeners=3
[01:27:15] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=3, self=0, below_threshold=0
[01:27:15] [INFO] [GrenadeBase] Grenade landed at (2043.238, 1375.878)
[01:27:15] [INFO] [FragGrenade] Impact detected - exploding immediately!
[01:27:15] [INFO] [GrenadeBase] EXPLODED at (2043.238, 1375.878)!
[01:27:15] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(2043.238, 1375.878), source=NEUTRAL (FragGrenade), range=2937, listeners=3
[01:27:15] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=1
[01:27:15] [ENEMY] [Enemy8] Hit taken, damage: 1, health: 2/3 -> 1/3
[01:27:15] [ENEMY] [Enemy8] ImpactEffectsManager found, calling spawn_blood_effect
[01:27:15] [INFO] [ImpactEffects] spawn_blood_effect called at (1900, 1450), dir=(-0.888133, 0.459586), lethal=false
[01:27:15] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:27:15] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[01:27:15] [INFO] [ImpactEffects] Blood effect spawned at (1900, 1450) (scale=1)
[01:27:15] [ENEMY] [Enemy8] Hit taken, damage: 1, health: 1/3 -> 0/3
[01:27:15] [ENEMY] [Enemy8] ImpactEffectsManager found, calling spawn_blood_effect
[01:27:15] [INFO] [ImpactEffects] spawn_blood_effect called at (1900, 1450), dir=(-0.888133, 0.459586), lethal=true
[01:27:15] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:27:15] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[01:27:15] [INFO] [ImpactEffects] Blood effect spawned at (1900, 1450) (scale=1.5)
[01:27:15] [ENEMY] [Enemy8] Enemy died (ricochet: false, penetration: false)
[01:27:15] [INFO] [ScoreManager] Kill registered. Combo: 4 (points: 5000)
[01:27:15] [ENEMY] [Enemy8] [AllyDeath] Notified 1 enemies
[01:27:15] [INFO] [SoundPropagation] Unregistered listener: Enemy8 (remaining: 2)
[01:27:15] [INFO] [DeathAnim] Started - Angle: 152.6 deg, Index: 22
[01:27:15] [ENEMY] [Enemy8] Death animation started with hit direction: (-0.888133, 0.459586)
[01:27:15] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 161.3
[01:27:15] [ENEMY] [Enemy9] Hit taken, damage: 1, health: 2/2 -> 1/2
[01:27:15] [ENEMY] [Enemy9] ImpactEffectsManager found, calling spawn_blood_effect
[01:27:15] [INFO] [ImpactEffects] spawn_blood_effect called at (2100, 1550), dir=(0.309939, 0.950756), lethal=false
[01:27:15] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:27:15] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[01:27:15] [INFO] [ImpactEffects] Blood effect spawned at (2100, 1550) (scale=1)
[01:27:15] [ENEMY] [Enemy9] Hit taken, damage: 1, health: 1/2 -> 0/2
[01:27:15] [ENEMY] [Enemy9] ImpactEffectsManager found, calling spawn_blood_effect
[01:27:15] [INFO] [ImpactEffects] spawn_blood_effect called at (2100, 1550), dir=(0.309939, 0.950756), lethal=true
[01:27:15] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:27:15] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[01:27:15] [INFO] [ImpactEffects] Blood effect spawned at (2100, 1550) (scale=1.5)
[01:27:15] [ENEMY] [Enemy9] Enemy died (ricochet: false, penetration: false)
[01:27:15] [INFO] [ScoreManager] Kill registered. Combo: 5 (points: 7500)
[01:27:15] [INFO] [SoundPropagation] Unregistered listener: Enemy9 (remaining: 1)
[01:27:15] [INFO] [DeathAnim] Started - Angle: 71.9 deg, Index: 16
[01:27:15] [ENEMY] [Enemy9] Death animation started with hit direction: (0.309939, 0.950756)
[01:27:15] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 183.1
[01:27:15] [INFO] [FragGrenade] Spawned shrapnel #1 at angle -16.7 degrees
[01:27:15] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 77.1 degrees
[01:27:15] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 183.4 degrees
[01:27:15] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 287.8 degrees
[01:27:15] [INFO] [ImpactEffects] Spawning explosion visual effect at (2043.238, 1375.878) (radius=225) - using shadow-based wall occlusion
[01:27:15] [INFO] [GrenadeTimer] Frag grenade landed - EXPLODING!
[01:27:15] [INFO] [GrenadeTimer] EXPLODED at (2043.2377, 1375.8783)!
[01:27:15] [INFO] [GrenadeTimer] Applying frag explosion damage (radius: 225, damage: 99)
[01:27:15] [INFO] [GrenadeTimer] Damaged enemy at distance 161,3
[01:27:15] [INFO] [GrenadeTimer] Damaged enemy at distance 183,1
[01:27:15] [INFO] [GrenadeTimer] Spawned 4 shrapnel pieces
[01:27:15] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(2043.238, 1375.878), source=NEUTRAL (FragGrenade), range=2938, listeners=1
[01:27:15] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=1
[01:27:15] [INFO] [GrenadeTimer] Spawned PointLight2D frag explosion flash at (2043.2377, 1375.8783) (shadow-based wall occlusion)
[01:27:15] [ENEMY] [Enemy10] State: SUPPRESSED -> IN_COVER
[01:27:15] [ENEMY] [Enemy10] State: IN_COVER -> PURSUING
[01:27:15] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=-11.6°, current=-146.9°, player=(2392,1301), corner_timer=0.23
[01:27:15] [INFO] [BloodDecal] Blood puddle created at (1961.687, 1453.103) (added to group)
[01:27:15] [INFO] [Shotgun.FIX#243] RMB released after 17 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[01:27:15] [INFO] [Shotgun.FIX#445v7] ProcessDragGesture - dragVector=(70,8, -121,6), length=140,7, ActionState=NeedsPumpDown
[01:27:15] [INFO] [Shotgun.FIX#445v7] Screen-based pump gesture: isDragUp=True, isDragDown=False
[01:27:15] [INFO] [BloodDecal] Blood puddle created at (1850.855, 1477.554) (added to group)
[01:27:15] [INFO] [BloodDecal] Blood puddle created at (2107.093, 1642.571) (added to group)
[01:27:15] [INFO] [BloodDecal] Blood puddle created at (2115.841, 1628.266) (added to group)
[01:27:15] [INFO] [BloodDecal] Blood puddle created at (1849.983, 1481.603) (added to group)
[01:27:15] [INFO] [BloodDecal] Blood puddle created at (1818.061, 1474.421) (added to group)
[01:27:15] [INFO] [BloodDecal] Blood puddle created at (2117.571, 1626.589) (added to group)
[01:27:15] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1213), can_see=false
[01:27:15] [INFO] [BloodDecal] Blood puddle created at (2114.893, 1621.268) (added to group)
[01:27:15] [INFO] [BloodDecal] Blood puddle created at (1834.641, 1535.703) (added to group)
[01:27:15] [INFO] [BloodDecal] Blood puddle created at (2120.216, 1656.331) (added to group)
[01:27:15] [INFO] [BloodDecal] Blood puddle created at (1834.02, 1510.249) (added to group)
[01:27:15] [INFO] [BloodDecal] Blood puddle created at (1827.1, 1510.393) (added to group)
[01:27:15] [INFO] [BloodDecal] Blood puddle created at (1806.258, 1509.948) (added to group)
[01:27:15] [INFO] [BloodDecal] Blood puddle created at (1836.895, 1489.206) (added to group)
[01:27:15] [INFO] [BloodDecal] Blood puddle created at (1800.058, 1536.268) (added to group)
[01:27:15] [INFO] [BloodDecal] Blood puddle created at (2153.744, 1637.73) (added to group)
[01:27:15] [INFO] [BloodDecal] Blood puddle created at (2101.403, 1643.86) (added to group)
[01:27:15] [INFO] [BloodDecal] Blood puddle created at (1826.442, 1582.502) (added to group)
[01:27:15] [INFO] [BloodDecal] Blood puddle created at (1824.962, 1510.247) (added to group)
[01:27:15] [INFO] [BloodDecal] Blood puddle created at (2090.906, 1672.106) (added to group)
[01:27:15] [INFO] [BloodDecal] Blood puddle created at (2130.357, 1673.565) (added to group)
[01:27:15] [INFO] [BloodDecal] Blood puddle created at (1761.439, 1494.449) (added to group)
[01:27:15] [INFO] [BloodDecal] Blood puddle created at (1777.393, 1503.09) (added to group)
[01:27:15] [INFO] [BloodDecal] Blood puddle created at (2091.612, 1677.889) (added to group)
[01:27:15] [INFO] [BloodDecal] Blood puddle created at (2125.632, 1708.449) (added to group)
[01:27:15] [INFO] [BloodDecal] Blood puddle created at (1832.611, 1534.523) (added to group)
[01:27:15] [INFO] [BloodDecal] Blood puddle created at (1829.412, 1522.971) (added to group)
[01:27:15] [INFO] [BloodDecal] Blood puddle created at (1820.15, 1577.431) (added to group)
[01:27:15] [INFO] [BloodDecal] Blood puddle created at (2089.646, 1689.995) (added to group)
[01:27:15] [ENEMY] [Enemy8] Ragdoll activated
[01:27:15] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[01:27:15] [ENEMY] [Enemy9] Ragdoll activated
[01:27:15] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[01:27:15] [INFO] [BloodDecal] Blood puddle created at (2138.628, 1739.687) (added to group)
[01:27:15] [INFO] [BloodDecal] Blood puddle created at (1801.989, 1564.863) (added to group)
[01:27:15] [INFO] [BloodDecal] Blood puddle created at (1855.133, 1560.419) (added to group)
[01:27:15] [INFO] [BloodDecal] Blood puddle created at (2190.823, 1702.207) (added to group)
[01:27:15] [INFO] [ReplayManager] Recording frame 1260 (18,5s): player_valid=True, enemies=10
[01:27:15] [INFO] [BloodDecal] Blood puddle created at (1766.535, 1543.059) (added to group)
[01:27:15] [INFO] [BloodDecal] Blood puddle created at (2170.427, 1705.023) (added to group)
[01:27:15] [INFO] [BloodDecal] Blood puddle created at (2148.843, 1730.984) (added to group)
[01:27:15] [INFO] [BloodDecal] Blood puddle created at (2145.667, 1680.637) (added to group)
[01:27:15] [INFO] [BloodDecal] Blood puddle created at (2137.335, 1717.94) (added to group)
[01:27:15] [INFO] [BloodDecal] Blood puddle created at (2127.892, 1713.021) (added to group)
[01:27:15] [INFO] [BloodDecal] Blood puddle created at (1788.056, 1566.374) (added to group)
[01:27:15] [INFO] [BloodDecal] Blood puddle created at (2099.043, 1733.833) (added to group)
[01:27:15] [INFO] [BloodDecal] Blood puddle created at (1749.956, 1585.897) (added to group)
[01:27:15] [INFO] [BloodDecal] Blood puddle created at (2153.923, 1735.515) (added to group)
[01:27:15] [INFO] [BloodDecal] Blood puddle created at (2116.128, 1732.938) (added to group)
[01:27:15] [INFO] [BloodDecal] Blood puddle created at (2120.078, 1808.094) (added to group)
[01:27:15] [INFO] [BloodDecal] Blood puddle created at (1785.768, 1549.93) (added to group)
[01:27:15] [INFO] [BloodDecal] Blood puddle created at (1777.538, 1655.465) (added to group)
[01:27:15] [INFO] [BloodDecal] Blood puddle created at (1787.867, 1622.185) (added to group)
[01:27:15] [INFO] [BloodDecal] Blood puddle created at (2165.973, 1732.46) (added to group)
[01:27:16] [INFO] [Player] Hit blocked by invincibility mode (C#)
[01:27:16] [INFO] [Player] Spawning blood effect at (2391.1558, 1471.5515), dir=(0.15152502, 0.9884534), lethal=False (C#)
[01:27:16] [INFO] [ImpactEffects] spawn_blood_effect called at (2391.156, 1471.552), dir=(0.151525, 0.988453), lethal=false
[01:27:16] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:27:16] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[01:27:16] [INFO] [ImpactEffects] Blood effect spawned at (2391.156, 1471.552) (scale=1)
[01:27:16] [INFO] [BloodDecal] Blood puddle created at (1701.283, 1570.485) (added to group)
[01:27:16] [INFO] [BloodDecal] Blood puddle created at (2116.634, 1762.534) (added to group)
[01:27:16] [INFO] [BloodDecal] Blood puddle created at (1783.515, 1565.384) (added to group)
[01:27:16] [INFO] [BloodDecal] Blood puddle created at (1770.629, 1728.396) (added to group)
[01:27:16] [INFO] [BloodDecal] Blood puddle created at (2145.951, 1773.442) (added to group)
[01:27:16] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1199), can_see=false
[01:27:16] [INFO] [BloodDecal] Blood puddle created at (1753.289, 1697.119) (added to group)
[01:27:16] [INFO] [BloodDecal] Blood puddle created at (2170.375, 1771.758) (added to group)
[01:27:16] [INFO] [BloodDecal] Blood puddle created at (2170.653, 1843.835) (added to group)
[01:27:16] [INFO] [BloodDecal] Blood puddle created at (2209.13, 1831.15) (added to group)
[01:27:16] [INFO] [BloodDecal] Blood puddle created at (2185.149, 1750.854) (added to group)
[01:27:16] [INFO] [BloodDecal] Blood puddle created at (1782.101, 1597.296) (added to group)
[01:27:16] [INFO] [BloodDecal] Blood puddle created at (1746.383, 1569.355) (added to group)
[01:27:16] [INFO] [BloodDecal] Blood puddle created at (2413.719, 1574.674) (added to group)
[01:27:16] [INFO] [BloodDecal] Blood puddle created at (2412.788, 1571.952) (added to group)
[01:27:16] [INFO] [BloodDecal] Blood puddle created at (2420.236, 1556.843) (added to group)
[01:27:16] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[01:27:16] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=NeedsPumpDown, ReloadState=NotReloading
[01:27:16] [INFO] [Shotgun.FIX#445] dragStartPos=(1882, 1476), aimDir=(-0,98, -0,21)
[01:27:16] [INFO] [BloodDecal] Blood puddle created at (2403.041, 1630.459) (added to group)
[01:27:16] [INFO] [BloodDecal] Blood puddle created at (2382.747, 1615.307) (added to group)
[01:27:16] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:27:16] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:27:16] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:27:16] [INFO] [BloodDecal] Blood puddle created at (2409.786, 1638.979) (added to group)
[01:27:16] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1128), can_see=false
[01:27:16] [INFO] [Shotgun.FIX#445v7] TryProcessMidDragGesture - dragVector=(30,2, -278,0), length=279,6, isDragUp=True, isDragDown=False, ActionState=NeedsPumpDown
[01:27:16] [INFO] [Shotgun.FIX#243] RMB released after 10 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[01:27:16] [INFO] [Shotgun.FIX#445v7] ProcessDragGesture - dragVector=(28,9, -274,7), length=276,2, ActionState=NeedsPumpDown
[01:27:16] [INFO] [Shotgun.FIX#445v7] Screen-based pump gesture: isDragUp=True, isDragDown=False
[01:27:16] [INFO] [BloodDecal] Blood puddle created at (2432.278, 1652.778) (added to group)
[01:27:16] [INFO] [ReplayManager] Recording frame 1320 (19,3s): player_valid=True, enemies=10
[01:27:16] [INFO] [BloodDecal] Blood puddle created at (2330.12, 1776.971) (added to group)
[01:27:16] [ENEMY] [Enemy8] Death animation completed
[01:27:16] [INFO] [BloodDecal] Blood puddle created at (2457.581, 1734.766) (added to group)
[01:27:16] [ENEMY] [Enemy9] Death animation completed
[01:27:17] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1009), can_see=false
[01:27:17] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[01:27:17] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[01:27:17] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=NeedsPumpDown, ReloadState=NotReloading
[01:27:17] [INFO] [Shotgun.FIX#445] dragStartPos=(1808, 1259), aimDir=(-0,71, -0,71)
[01:27:17] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:27:17] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:27:17] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:27:17] [INFO] [Shotgun.FIX#445v7] Mid-drag pump DOWN - chambered, ready to fire
[01:27:17] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:27:17] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:27:17] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:27:17] [INFO] [Shotgun.FIX#445v7] TryProcessMidDragGesture - dragVector=(-57,6, 134,5), length=146,3, isDragUp=False, isDragDown=True, ActionState=Ready
[01:27:17] [INFO] [Shotgun.FIX#243] Bolt opened for loading - ReloadState=Loading, ShellsInTube=6/8
[01:27:17] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:27:17] [ENEMY] [Enemy10] PURSUING corner check: angle 62.4°
[01:27:17] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:27:17] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:27:17] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=803), can_see=false
[01:27:17] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=False
[01:27:17] [INFO] [Shotgun.FIX#243] Reload complete - bolt closed, ready to fire with 6 shells
[01:27:17] [INFO] [Shotgun.FIX#477v3] Mid-drag bolt closed (MMB not held)
[01:27:17] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:27:17] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:27:17] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:27:17] [INFO] [ReplayManager] Recording frame 1380 (20,1s): player_valid=True, enemies=10
[01:27:17] [INFO] [Shotgun.FIX#243] RMB released after 8 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[01:27:17] [INFO] [Shotgun.FIX#445v7] ProcessDragGesture - dragVector=(-130,8, 421,2), length=441,1, ActionState=Ready
[01:27:17] [INFO] [Shotgun.FIX#445v7] Screen-based pump gesture: isDragUp=False, isDragDown=True
[01:27:17] [ENEMY] [Enemy10] PURSUING corner check: angle 62.4°
[01:27:18] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=575), can_see=false
[01:27:18] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=462), can_see=false
[01:27:18] [INFO] [ReplayManager] Recording frame 1440 (21,1s): player_valid=True, enemies=10
[01:27:19] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=465), can_see=false
[01:27:19] [ENEMY] [Enemy10] FLANKING started: target=(1336.699, 1795.464), side=left, pos=(1407.936, 1445.324)
[01:27:19] [ENEMY] [Enemy10] State: PURSUING -> FLANKING
[01:27:19] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=385), can_see=false
[01:27:19] [ENEMY] [Enemy10] FLANKING corner check: angle -157.7°
[01:27:19] [INFO] [ReplayManager] Recording frame 1500 (22,1s): player_valid=True, enemies=10
[01:27:19] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(1436.781, 1848.006), source=PLAYER (Player), range=600, listeners=1
[01:27:19] [ENEMY] [Enemy10] Heard player EMPTY_CLICK at (1436.781, 1848.006), intensity=0.02, distance=323
[01:27:19] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=0
[01:27:19] [INFO] [Shotgun.FIX#212] Firing 16 pellets with 15° spread at pos=(1436.7814, 1848.0057)
[01:27:19] [INFO] [Shotgun.FIX#212] Normal pellet 1/16: extraOffset=8,9, distance=60,9px, pos=(1430.476, 1787.4294)
[01:27:19] [INFO] [Shotgun.FIX#212] Normal pellet 2/16: extraOffset=-5,3, distance=46,7px, pos=(1433.1521, 1801.4565)
[01:27:19] [INFO] [Shotgun.FIX#212] Normal pellet 3/16: extraOffset=-0,4, distance=51,6px, pos=(1433.3265, 1796.5336)
[01:27:19] [INFO] [Shotgun.FIX#212] Normal pellet 4/16: extraOffset=-5,1, distance=46,9px, pos=(1435.6345, 1801.158)
[01:27:19] [INFO] [Shotgun.FIX#212] Normal pellet 5/16: extraOffset=5,9, distance=57,9px, pos=(1434.4797, 1790.1285)
[01:27:19] [INFO] [Shotgun.FIX#212] Normal pellet 6/16: extraOffset=10,4, distance=62,4px, pos=(1435.4974, 1785.6053)
[01:27:19] [INFO] [Shotgun.FIX#212] Normal pellet 7/16: extraOffset=-0,1, distance=51,9px, pos=(1436.9186, 1796.1307)
[01:27:19] [INFO] [Shotgun.FIX#212] Normal pellet 8/16: extraOffset=-7,5, distance=44,5px, pos=(1437.6077, 1803.4883)
[01:27:19] [INFO] [Shotgun.FIX#212] Normal pellet 9/16: extraOffset=-2,2, distance=49,8px, pos=(1439.7427, 1798.3425)
[01:27:19] [INFO] [Shotgun.FIX#212] Normal pellet 10/16: extraOffset=13,7, distance=65,7px, pos=(1440.3513, 1782.432)
[01:27:19] [INFO] [Shotgun.FIX#212] Normal pellet 11/16: extraOffset=-8,1, distance=43,9px, pos=(1439.7623, 1804.1942)
[01:27:19] [INFO] [Shotgun.FIX#212] Normal pellet 12/16: extraOffset=1,6, distance=53,6px, pos=(1442.7158, 1794.6866)
[01:27:19] [INFO] [Shotgun.FIX#212] Normal pellet 13/16: extraOffset=-14,2, distance=37,8px, pos=(1440.0627, 1810.314)
[01:27:19] [INFO] [Shotgun.FIX#212] Normal pellet 14/16: extraOffset=-3,2, distance=48,8px, pos=(1441.8124, 1799.4863)
[01:27:19] [INFO] [Shotgun.FIX#212] Normal pellet 15/16: extraOffset=0,5, distance=52,5px, pos=(1445.6914, 1796.286)
[01:27:19] [INFO] [Shotgun.FIX#212] Normal pellet 16/16: extraOffset=-2,6, distance=49,4px, pos=(1445.663, 1799.3845)
[01:27:19] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1436.781, 1848.006), source=PLAYER (Shotgun), range=1469, listeners=1
[01:27:19] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=0
[01:27:19] [INFO] [BloodyFeet:Player] Blood ran out - no more footprints
[01:27:20] [ENEMY] [Enemy10] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=85.7°, current=134.5°, player=(1366,1849), corner_timer=-0.02
[01:27:20] [ENEMY] [Enemy10] Player empty ammo - priority attack triggered
[01:27:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1346.512, 1590.444), source=ENEMY (Enemy10), range=1469, listeners=1
[01:27:20] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=0
[01:27:20] [ENEMY] [Enemy10] State: FLANKING -> COMBAT
[01:27:20] [INFO] [LastChance] Threat detected: Bullet
[01:27:20] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[01:27:20] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:27:20] [ENEMY] [Enemy10] State: COMBAT -> RETREATING
[01:27:20] [ENEMY] [Enemy10] Player empty ammo - priority attack triggered
[01:27:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1332.671, 1616.883), source=ENEMY (Enemy10), range=1469, listeners=1
[01:27:20] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=0
[01:27:20] [INFO] [LastChance] Threat detected: @Area2D@2095
[01:27:20] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[01:27:20] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:27:20] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[01:27:20] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=NeedsPumpUp, ReloadState=NotReloading
[01:27:20] [INFO] [Shotgun.FIX#445] dragStartPos=(1320, 1496), aimDir=(0,03, -1,00)
[01:27:20] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:27:20] [INFO] [Shotgun.FIX#445v7] Mouse at top edge (Y=0), need PumpUp - recentering cursor
[01:27:20] [INFO] [Shotgun.FIX#445v7] Cursor recentered to (640, 360)
[01:27:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1343.81, 1658.4387), shooter_id=273367961835, bullet_pos=(1375.0991, 2073.9294)
[01:27:20] [INFO] [Bullet] Using shooter_position, distance=416,66718
[01:27:20] [INFO] [Bullet] Distance to wall: 416,66718 (28,371635% of viewport)
[01:27:20] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:27:20] [INFO] [Bullet] Starting wall penetration at (1375.0991, 2073.9294)
[01:27:20] [INFO] [Bullet] Raycast backward hit penetrating body at distance 24,533625
[01:27:20] [INFO] [Bullet] Body exited signal received for penetrating body
[01:27:20] [INFO] [Bullet] Exiting penetration at (1378.6035, 2120.4644) after traveling 41,66667 pixels through wall
[01:27:20] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[01:27:20] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:27:20] [INFO] [Shotgun.FIX#445v7] Mid-drag pump UP - shell ejected, continue dragging DOWN to chamber
[01:27:20] [ENEMY] [Enemy10] Player empty ammo - priority attack triggered
[01:27:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1310.322, 1629.688), source=ENEMY (Enemy10), range=1469, listeners=1
[01:27:20] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=0
[01:27:20] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:27:20] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:27:20] [INFO] [LastChance] Threat detected: Bullet
[01:27:20] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[01:27:20] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:27:20] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:27:20] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[01:27:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1292.37, 1631.807), source=ENEMY (Enemy10), range=1469, listeners=1
[01:27:20] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=0
[01:27:20] [INFO] [Shotgun.FIX#445v7] Mid-drag pump DOWN - chambered, ready to fire
[01:27:20] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:27:20] [INFO] [LastChance] Threat detected: @Area2D@2126
[01:27:20] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[01:27:20] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:27:20] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:27:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1311.5837, 1697.725), shooter_id=273367961835, bullet_pos=(1275.5145, 2070.9866)
[01:27:20] [INFO] [Bullet] Using shooter_position, distance=375,00027
[01:27:20] [INFO] [Bullet] Distance to wall: 375,00027 (25,53446% of viewport)
[01:27:20] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:27:20] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:27:20] [INFO] [LastChance] Threat detected: Bullet
[01:27:20] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[01:27:20] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:27:20] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[01:27:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1285.305, 1606.647), source=ENEMY (Enemy10), range=1469, listeners=1
[01:27:20] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=0
[01:27:20] [INFO] [LastChance] Threat detected: @Area2D@2136
[01:27:20] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[01:27:20] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:27:20] [INFO] [Shotgun.FIX#243] RMB released after 8 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[01:27:20] [INFO] [Shotgun.FIX#445v7] ProcessDragGesture - dragVector=(4,1, 247,4), length=247,4, ActionState=Ready
[01:27:20] [INFO] [Shotgun.FIX#445v7] Screen-based pump gesture: isDragUp=False, isDragDown=True
[01:27:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1287.296, 1699.6666), shooter_id=273367961835, bullet_pos=(1216.655, 2067.9536)
[01:27:20] [INFO] [Bullet] Using shooter_position, distance=375,0006
[01:27:20] [INFO] [Bullet] Distance to wall: 375,0006 (25,534481% of viewport)
[01:27:20] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:27:20] [INFO] [Bullet] Starting wall penetration at (1216.655, 2067.9536)
[01:27:20] [ENEMY] [Enemy10] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=-107.0°, current=108.8°, player=(1195,1849), corner_timer=-0.02
[01:27:20] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=268), can_see=false
[01:27:20] [INFO] [Bullet] Raycast backward hit penetrating body at distance 18,108868
[01:27:20] [INFO] [Bullet] Body exited signal received for penetrating body
[01:27:20] [INFO] [Bullet] Exiting penetration at (1207.8641, 2113.7847) after traveling 41,66667 pixels through wall
[01:27:20] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[01:27:20] [ENEMY] [Enemy10] State: RETREATING -> IN_COVER
[01:27:20] [ENEMY] [Enemy10] State: IN_COVER -> SUPPRESSED
[01:27:20] [INFO] [ScoreManager] Combo ended at 5. Max combo: 5
[01:27:20] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1273.2764, 1673.6239), shooter_id=273367961835, bullet_pos=(1153.1018, 2072.584)
[01:27:20] [INFO] [Bullet] Using shooter_position, distance=416,6666
[01:27:20] [INFO] [Bullet] Distance to wall: 416,6666 (28,371597% of viewport)
[01:27:20] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:27:20] [INFO] [Bullet] Starting wall penetration at (1153.1018, 2072.584)
[01:27:20] [INFO] [Bullet] Raycast backward hit penetrating body at distance 22,211447
[01:27:20] [INFO] [Bullet] Body exited signal received for penetrating body
[01:27:20] [INFO] [Bullet] Exiting penetration at (1139.6422, 2117.2676) after traveling 41,66667 pixels through wall
[01:27:20] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[01:27:20] [INFO] [ReplayManager] Recording frame 1560 (23,1s): player_valid=True, enemies=10
[01:27:21] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=370), can_see=false
[01:27:21] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=355), can_see=false
[01:27:21] [ENEMY] [Enemy10] State: SUPPRESSED -> SEEKING_COVER
[01:27:21] [INFO] [ReplayManager] Recording frame 1620 (24,1s): player_valid=True, enemies=10
[01:27:21] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(960.6379, 1624.021), source=PLAYER (Player), range=600, listeners=1
[01:27:21] [ENEMY] [Enemy10] Heard player EMPTY_CLICK at (960.6379, 1624.021), intensity=0.02, distance=371
[01:27:21] [ENEMY] [Enemy10] Vulnerability sound triggered pursuit - transitioning from SEEKING_COVER to PURSUING
[01:27:21] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=0
[01:27:21] [INFO] [Shotgun.FIX#212] Firing 11 pellets with 15° spread at pos=(960.63794, 1624.0208)
[01:27:21] [INFO] [Shotgun.FIX#212] Normal pellet 1/11: extraOffset=-2,6, distance=49,4px, pos=(1009.02075, 1614.0814)
[01:27:21] [INFO] [Shotgun.FIX#212] Normal pellet 2/11: extraOffset=8,4, distance=60,4px, pos=(1020.01306, 1613.1128)
[01:27:21] [INFO] [Shotgun.FIX#212] Normal pellet 3/11: extraOffset=-13,0, distance=39,0px, pos=(999.0912, 1617.2878)
[01:27:21] [INFO] [Shotgun.FIX#212] Normal pellet 4/11: extraOffset=-8,5, distance=43,5px, pos=(1003.7108, 1618.2847)
[01:27:21] [INFO] [Shotgun.FIX#212] Normal pellet 5/11: extraOffset=7,2, distance=59,2px, pos=(1019.2197, 1615.7817)
[01:27:21] [INFO] [Shotgun.FIX#212] Normal pellet 6/11: extraOffset=0,6, distance=52,6px, pos=(1012.88574, 1617.9934)
[01:27:21] [INFO] [Shotgun.FIX#212] Normal pellet 7/11: extraOffset=-5,9, distance=46,1px, pos=(1006.62695, 1621.4806)
[01:27:22] [INFO] [Shotgun.FIX#212] Normal pellet 8/11: extraOffset=-11,6, distance=40,4px, pos=(1001.001, 1622.4144)
[01:27:22] [INFO] [Shotgun.FIX#212] Normal pellet 9/11: extraOffset=14,1, distance=66,1px, pos=(1026.6715, 1622.2914)
[01:27:22] [INFO] [Shotgun.FIX#212] Normal pellet 10/11: extraOffset=5,4, distance=57,4px, pos=(1018.06573, 1625.5662)
[01:27:22] [INFO] [Shotgun.FIX#212] Normal pellet 11/11: extraOffset=11,6, distance=63,6px, pos=(1024.2418, 1625.9694)
[01:27:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(960.6379, 1624.021), source=PLAYER (Shotgun), range=1469, listeners=1
[01:27:22] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=0
[01:27:22] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P2:combat_state, state=PURSUING, target=176.4°, current=11.1°, player=(960,1624), corner_timer=-0.02
[01:27:22] [ENEMY] [Enemy10] Pursuing vulnerability sound at (960.6379, 1624.021), distance=371
[01:27:22] [ENEMY] [Enemy10] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=177.2°, current=-177.5°, player=(960,1618), corner_timer=-0.02
[01:27:22] [ENEMY] [Enemy10] Player empty ammo - priority attack triggered
[01:27:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1325.5, 1600.548), source=ENEMY (Enemy10), range=1469, listeners=1
[01:27:22] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=0
[01:27:22] [ENEMY] [Enemy10] Hit taken, damage: 1, health: 2/2 -> 1/2
[01:27:22] [ENEMY] [Enemy10] ImpactEffectsManager found, calling spawn_blood_effect
[01:27:22] [INFO] [ImpactEffects] spawn_blood_effect called at (1298.834, 1600.615), dir=(1, 0), lethal=false
[01:27:22] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:27:22] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[01:27:22] [INFO] [ImpactEffects] Blood effect spawned at (1298.834, 1600.615) (scale=1)
[01:27:22] [ENEMY] [Enemy10] Hit taken, damage: 1, health: 1/2 -> 0/2
[01:27:22] [ENEMY] [Enemy10] ImpactEffectsManager found, calling spawn_blood_effect
[01:27:22] [INFO] [ImpactEffects] spawn_blood_effect called at (1293.503, 1600.464), dir=(1, 0), lethal=true
[01:27:22] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:27:22] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[01:27:22] [INFO] [ImpactEffects] Blood effect spawned at (1293.503, 1600.464) (scale=1.5)
[01:27:22] [ENEMY] [Enemy10] Enemy died (ricochet: false, penetration: false)
[01:27:22] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[01:27:22] [INFO] [SoundPropagation] Unregistered listener: Enemy10 (remaining: 0)
[01:27:22] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[01:27:22] [ENEMY] [Enemy10] Death animation started with hit direction: (1, 0)
[01:27:22] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[01:27:22] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=NeedsPumpUp, ReloadState=NotReloading
[01:27:22] [INFO] [Shotgun.FIX#445] dragStartPos=(1417, 1656), aimDir=(0,97, 0,23)
[01:27:22] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:27:22] [INFO] [Shotgun.FIX#445v7] Mid-drag pump UP - shell ejected, continue dragging DOWN to chamber
[01:27:22] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:27:22] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:27:22] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:27:22] [INFO] [BloodDecal] Blood puddle created at (1376.566, 1618.859) (added to group)
[01:27:22] [INFO] [BloodDecal] Blood puddle created at (1333.86, 1597.374) (added to group)
[01:27:22] [INFO] [BloodDecal] Blood puddle created at (1351.095, 1596.518) (added to group)
[01:27:22] [INFO] [BloodDecal] Blood puddle created at (1347.99, 1608.538) (added to group)
[01:27:22] [INFO] [Shotgun.FIX#445v7] TryProcessMidDragGesture - dragVector=(54,2, -238,3), length=244,4, isDragUp=True, isDragDown=False, ActionState=NeedsPumpDown
[01:27:22] [INFO] [BloodDecal] Blood puddle created at (1343.69, 1599.807) (added to group)
[01:27:22] [INFO] [BloodDecal] Blood puddle created at (1373.985, 1644.693) (added to group)
[01:27:22] [INFO] [BloodDecal] Blood puddle created at (1380.457, 1653.091) (added to group)
[01:27:22] [INFO] [Shotgun.FIX#445v7] Mid-drag pump DOWN - chambered, ready to fire
[01:27:22] [INFO] [BloodDecal] Blood puddle created at (1360.511, 1625.595) (added to group)
[01:27:22] [INFO] [BloodDecal] Blood puddle created at (1395.95, 1643.773) (added to group)
[01:27:22] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:27:22] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:27:22] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:27:22] [INFO] [BloodDecal] Blood puddle created at (1387.247, 1605.874) (added to group)
[01:27:22] [INFO] [BloodDecal] Blood puddle created at (1379.659, 1627.847) (added to group)
[01:27:22] [INFO] [BloodDecal] Blood puddle created at (1432.326, 1687.454) (added to group)
[01:27:22] [INFO] [BloodDecal] Blood puddle created at (1410.615, 1598.535) (added to group)
[01:27:22] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1258.3658, 1611.6647), shooter_id=273367961835, bullet_pos=(51.495728, 1671.1111)
[01:27:22] [INFO] [Bullet] Using shooter_position, distance=1208,3333
[01:27:22] [INFO] [Bullet] Distance to wall: 1208,3333 (82,27764% of viewport)
[01:27:22] [INFO] [Bullet] Distance-based penetration chance: 50,676094%
[01:27:22] [INFO] [Bullet] Penetration failed (distance roll)
[01:27:22] [INFO] [BloodDecal] Blood puddle created at (1377.589, 1623.859) (added to group)
[01:27:22] [INFO] [BloodDecal] Blood puddle created at (1373.869, 1622.621) (added to group)
[01:27:22] [INFO] [BloodDecal] Blood puddle created at (1388.031, 1610.103) (added to group)
[01:27:22] [INFO] [BloodDecal] Blood puddle created at (1427.587, 1650.227) (added to group)
[01:27:22] [INFO] [BloodDecal] Blood puddle created at (1415.635, 1670.58) (added to group)
[01:27:22] [INFO] [BloodDecal] Blood puddle created at (1441.721, 1671.041) (added to group)
[01:27:22] [INFO] [Shotgun.FIX#243] RMB released after 9 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[01:27:22] [INFO] [Shotgun.FIX#445v7] ProcessDragGesture - dragVector=(-1,0, 50,7), length=50,7, ActionState=Ready
[01:27:22] [INFO] [Shotgun.FIX#445v7] Screen-based pump gesture: isDragUp=False, isDragDown=True
[01:27:22] [INFO] [BloodDecal] Blood puddle created at (1409.927, 1705.387) (added to group)
[01:27:22] [INFO] [BloodDecal] Blood puddle created at (1395.092, 1687.179) (added to group)
[01:27:22] [ENEMY] [Enemy10] Ragdoll activated
[01:27:22] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[01:27:22] [INFO] [BloodDecal] Blood puddle created at (1411.112, 1671.078) (added to group)
[01:27:22] [INFO] [BloodDecal] Blood puddle created at (1412.028, 1672.256) (added to group)
[01:27:22] [INFO] [ReplayManager] Recording frame 1680 (24,9s): player_valid=True, enemies=10
[01:27:22] [INFO] [BloodDecal] Blood puddle created at (1447.14, 1621.161) (added to group)
[01:27:22] [INFO] [BloodDecal] Blood puddle created at (1418.85, 1727.175) (added to group)
[01:27:22] [INFO] [BloodDecal] Blood puddle created at (1452.708, 1776.28) (added to group)
[01:27:22] [INFO] [BloodDecal] Blood puddle created at (1452.649, 1752.276) (added to group)
[01:27:22] [INFO] [BloodDecal] Blood puddle created at (1482.668, 1621.272) (added to group)
[01:27:22] [INFO] [BloodDecal] Blood puddle created at (1425.491, 1714.57) (added to group)
[01:27:23] [INFO] [ReplayManager] Recording frame 1740 (25,7s): player_valid=True, enemies=10
[01:27:23] [ENEMY] [Enemy10] Death animation completed
[01:27:24] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[01:27:24] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=Ready, ReloadState=NotReloading
[01:27:24] [INFO] [Shotgun.FIX#445] dragStartPos=(507, 1103), aimDir=(-0,76, -0,65)
[01:27:24] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:27:24] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:27:24] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:27:24] [INFO] [Shotgun.FIX#243] Bolt opened for loading - ReloadState=Loading, ShellsInTube=4/8
[01:27:24] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:27:24] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:27:24] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:27:24] [INFO] [Shotgun.FIX#243] RMB released after 4 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[01:27:24] [INFO] [Shotgun.FIX#445v7] ProcessDragGesture - dragVector=(-7,5, -119,9), length=120,1, ActionState=Ready
[01:27:24] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[01:27:24] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=Ready, ReloadState=Loading
[01:27:24] [INFO] [Shotgun.FIX#445] dragStartPos=(420, 913), aimDir=(-0,76, -0,65)
[01:27:24] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:27:24] [INFO] [Shotgun.EVENT] MMB event: pressed=True (was False), isDragging=True
[01:27:24] [INFO] [Shotgun.EVENT] MMB pressed during drag - immediately setting _wasMMBDuringDrag=true
[01:27:24] [INFO] [Shotgun.DIAG] UpdateMiddleMouseState: MMB state changed False -> True
[01:27:24] [INFO] [Shotgun.DIAG] Frame 2: poll=True, raw=True, event=True, any=True, wasMMB=True
[01:27:24] [INFO] [Shotgun.DIAG] Frame 3: poll=True, raw=True, event=True, any=True, wasMMB=True
[01:27:24] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:27:24] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:27:24] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:27:24] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:27:24] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:27:24] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:27:24] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:27:24] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:27:24] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:27:24] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:27:24] [INFO] [Shotgun.FIX#445v7] TryProcessMidDragGesture - dragVector=(-63,5, 223,2), length=232,1, isDragUp=False, isDragDown=True, ActionState=Ready
[01:27:24] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:27:24] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:27:24] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:27:24] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:27:24] [INFO] [Shotgun.FIX#243] RMB released after 11 frames - wasMMBDuringDrag=True, current: poll=True, raw=True, event=True
[01:27:24] [INFO] [Shotgun.FIX#445v7] ProcessDragGesture - dragVector=(-51,8, 173,7), length=181,3, ActionState=Ready
[01:27:24] [INFO] [Shotgun.FIX#477] RMB release in Loading state: wasMMBDuringDrag=True, isMMBHeld=True, shellLoadedMidDrag=False => shouldLoadShell=True
[01:27:24] [INFO] [Shotgun.FIX#477] Loading shell (MMB was held during drag)
[01:27:24] [INFO] [Shotgun.FIX#243] LoadShell called - ReloadState=Loading, ShellsInTube=4/8, Tutorial=False, ReserveAmmo=7
[01:27:24] [INFO] [Shotgun.FIX#243] Shell LOADED - 5/8 shells in tube
[01:27:24] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[01:27:24] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=True, raw=True, event=True, any=True, ActionState=Ready, ReloadState=Loading
[01:27:24] [INFO] [Shotgun.FIX#445] dragStartPos=(389, 954), aimDir=(-0,76, -0,65)
[01:27:24] [INFO] [Shotgun.DIAG] Frame 1: poll=True, raw=True, event=True, any=True, wasMMB=True
[01:27:24] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:27:24] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:27:24] [INFO] [Shotgun.DIAG] Frame 2: poll=True, raw=True, event=True, any=True, wasMMB=True
[01:27:24] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:27:24] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:27:24] [INFO] [Shotgun.DIAG] Frame 3: poll=True, raw=True, event=True, any=True, wasMMB=True
[01:27:24] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:27:24] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:27:24] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:27:24] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:27:24] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:27:24] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:27:24] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:27:24] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:27:24] [INFO] [ReplayManager] Recording frame 1800 (26,5s): player_valid=True, enemies=10
[01:27:24] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:27:24] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:27:24] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:27:24] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:27:24] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:27:24] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:27:24] [INFO] [Shotgun.FIX#243] RMB released after 9 frames - wasMMBDuringDrag=True, current: poll=True, raw=True, event=True
[01:27:24] [INFO] [Shotgun.FIX#445v7] ProcessDragGesture - dragVector=(-57,7, 114,1), length=127,8, ActionState=Ready
[01:27:24] [INFO] [Shotgun.FIX#477] RMB release in Loading state: wasMMBDuringDrag=True, isMMBHeld=True, shellLoadedMidDrag=False => shouldLoadShell=True
[01:27:24] [INFO] [Shotgun.FIX#477] Loading shell (MMB was held during drag)
[01:27:24] [INFO] [Shotgun.FIX#243] LoadShell called - ReloadState=Loading, ShellsInTube=5/8, Tutorial=False, ReserveAmmo=6
[01:27:24] [INFO] [Shotgun.FIX#243] Shell LOADED - 6/8 shells in tube
[01:27:24] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[01:27:24] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=True, raw=True, event=True, any=True, ActionState=Ready, ReloadState=Loading
[01:27:24] [INFO] [Shotgun.FIX#445] dragStartPos=(320, 1084), aimDir=(-0,76, -0,65)
[01:27:24] [INFO] [Shotgun.DIAG] Frame 1: poll=True, raw=True, event=True, any=True, wasMMB=True
[01:27:24] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:27:24] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:27:24] [INFO] [Shotgun.DIAG] Frame 2: poll=True, raw=True, event=True, any=True, wasMMB=True
[01:27:24] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:27:24] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:27:24] [INFO] [Shotgun.DIAG] Frame 3: poll=True, raw=True, event=True, any=True, wasMMB=True
[01:27:24] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:27:24] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:27:24] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:27:24] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:27:25] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:27:25] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:27:25] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:27:25] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:27:25] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:27:25] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:27:25] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:27:25] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:27:25] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:27:25] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:27:25] [INFO] [Shotgun.FIX#445v7] TryProcessMidDragGesture - dragVector=(-70,8, 108,8), length=129,8, isDragUp=False, isDragDown=True, ActionState=Ready
[01:27:25] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:27:25] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:27:25] [INFO] [Shotgun.FIX#243] RMB released after 10 frames - wasMMBDuringDrag=True, current: poll=True, raw=True, event=True
[01:27:25] [INFO] [Shotgun.FIX#445v7] ProcessDragGesture - dragVector=(-58,2, 22,6), length=62,5, ActionState=Ready
[01:27:25] [INFO] [Shotgun.FIX#477v2] Reload drag not vertical: absY=22,6 <= absX=58,2
[01:27:25] [INFO] [Shotgun.FIX#477v2] Non-vertical drag in Loading state WITH MMB - staying in Loading state
[01:27:25] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[01:27:25] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=True, raw=True, event=True, any=True, ActionState=Ready, ReloadState=Loading
[01:27:25] [INFO] [Shotgun.FIX#445] dragStartPos=(256, 1100), aimDir=(-0,76, -0,65)
[01:27:25] [INFO] [Shotgun.DIAG] Frame 1: poll=True, raw=True, event=True, any=True, wasMMB=True
[01:27:25] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:27:25] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:27:25] [INFO] [Shotgun.DIAG] Frame 2: poll=True, raw=True, event=True, any=True, wasMMB=True
[01:27:25] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:27:25] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:27:25] [INFO] [Shotgun.DIAG] Frame 3: poll=True, raw=True, event=True, any=True, wasMMB=True
[01:27:25] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:27:25] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:27:25] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:27:25] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:27:25] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:27:25] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:27:25] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:27:25] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:27:25] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:27:25] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:27:25] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:27:25] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:27:25] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:27:25] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:27:25] [INFO] [Shotgun.FIX#445v7] TryProcessMidDragGesture - dragVector=(-64,2, 164,3), length=176,4, isDragUp=False, isDragDown=True, ActionState=Ready
[01:27:25] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:27:25] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:27:25] [INFO] [Shotgun.EVENT] MMB event: pressed=False (was True), isDragging=True
[01:27:25] [INFO] [Shotgun.DIAG] UpdateMiddleMouseState: MMB state changed True -> False
[01:27:25] [INFO] [Shotgun.DIAG] Frame 11: poll=False, raw=False, event=False, any=False, wasMMB=True
[01:27:25] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:27:25] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:27:25] [INFO] [Shotgun.FIX#243] RMB released after 11 frames - wasMMBDuringDrag=True, current: poll=False, raw=False, event=False
[01:27:25] [INFO] [Shotgun.FIX#445v7] ProcessDragGesture - dragVector=(-28,2, 40,1), length=49,0, ActionState=Ready
[01:27:25] [INFO] [Shotgun.FIX#477] RMB release in Loading state: wasMMBDuringDrag=True, isMMBHeld=False, shellLoadedMidDrag=False => shouldLoadShell=True
[01:27:25] [INFO] [Shotgun.FIX#477] Loading shell (MMB was held during drag)
[01:27:25] [INFO] [Shotgun.FIX#243] LoadShell called - ReloadState=Loading, ShellsInTube=6/8, Tutorial=False, ReserveAmmo=5
[01:27:25] [INFO] [Shotgun.FIX#243] Shell LOADED - 7/8 shells in tube
[01:27:25] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[01:27:25] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=Ready, ReloadState=Loading
[01:27:25] [INFO] [Shotgun.FIX#445] dragStartPos=(247, 1029), aimDir=(-0,76, -0,65)
[01:27:25] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:27:25] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:27:25] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=False
[01:27:25] [INFO] [Shotgun.FIX#243] Reload complete - bolt closed, ready to fire with 7 shells
[01:27:25] [INFO] [Shotgun.FIX#477v3] Mid-drag bolt closed (MMB not held)
[01:27:25] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:27:25] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:27:25] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:27:25] [INFO] [Shotgun.FIX#243] RMB released after 6 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[01:27:25] [INFO] [Shotgun.FIX#445v7] ProcessDragGesture - dragVector=(-67,5, 487,6), length=492,2, ActionState=Ready
[01:27:25] [INFO] [Shotgun.FIX#445v7] Screen-based pump gesture: isDragUp=False, isDragDown=True
[01:27:25] [INFO] [ReplayManager] Recording frame 1860 (27,5s): player_valid=True, enemies=10
[01:27:25] [INFO] [BuildingLevel] Player controls disabled (level completed)
[01:27:25] [INFO] [ReplayManager] === REPLAY RECORDING STOPPED ===
[01:27:25] [INFO] [ReplayManager] Total frames recorded: 1866
[01:27:25] [INFO] [ReplayManager] Total duration: 27,57s
[01:27:25] [INFO] [ReplayManager] has_replay() will return: True
[01:27:25] [INFO] [BuildingLevel] Replay recording stopped
[01:27:25] [INFO] [BuildingLevel] Replay status: has_replay=true, duration=27.57s
[01:27:25] [INFO] [ScoreManager] Combo ended at 1. Max combo: 5
[01:27:25] [INFO] [ScoreManager] Level completed! Final score: 39151, Rank: A
[01:27:33] [INFO] [BuildingLevel] Watch Replay button created (replay data available)
[01:27:34] [INFO] [BuildingLevel] Watch Replay triggered
[01:27:34] [INFO] [ReplayManager] Added weapon sprite to ghost player: res://assets/sprites/weapons/shotgun_topdown.png
[01:27:34] [INFO] [ReplayManager] Ghost player Camera2D activated for replay
[01:27:34] [INFO] [ReplayManager] Hidden CanvasLayer (score screen) for replay visibility
[01:27:34] [INFO] [ReplayManager] Started replay playback. Frames: 1866, Duration: 27,57s
[01:27:39] [INFO] [ReplayManager] Playback speed set to 1,00x
[01:27:40] [INFO] [ReplayManager] Playback speed set to 0,50x
[01:27:45] [INFO] [ReplayManager] Stopped replay playback
[01:27:45] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[01:27:45] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:27:45] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[01:27:45] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[01:27:45] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[01:27:45] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[01:27:45] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[01:27:45] [INFO] [LastChance] Resetting all effects (scene change detected)
[01:27:45] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[01:27:45] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[01:27:45] [ENEMY] [Enemy1] Death animation component initialized
[01:27:45] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:27:45] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[01:27:45] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[01:27:45] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[01:27:45] [INFO] [EnemyGrenade] Initialized: 1 grenades
[01:27:45] [ENEMY] [Enemy2] Death animation component initialized
[01:27:45] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:27:45] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[01:27:45] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[01:27:45] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[01:27:45] [INFO] [EnemyGrenade] Initialized: 1 grenades
[01:27:45] [ENEMY] [Enemy3] Death animation component initialized
[01:27:45] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:27:45] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[01:27:45] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[01:27:45] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[01:27:45] [INFO] [EnemyGrenade] Initialized: 1 grenades
[01:27:45] [ENEMY] [Enemy4] Death animation component initialized
[01:27:45] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:27:45] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[01:27:45] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[01:27:45] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[01:27:45] [ENEMY] [Enemy5] Death animation component initialized
[01:27:45] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:27:45] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[01:27:45] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[01:27:45] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[01:27:45] [ENEMY] [Enemy6] Death animation component initialized
[01:27:45] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:27:45] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[01:27:45] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[01:27:45] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[01:27:45] [ENEMY] [Enemy7] Death animation component initialized
[01:27:45] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:27:45] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[01:27:45] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[01:27:45] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[01:27:45] [ENEMY] [Enemy8] Death animation component initialized
[01:27:45] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:27:45] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[01:27:45] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[01:27:45] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[01:27:45] [ENEMY] [Enemy9] Death animation component initialized
[01:27:45] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:27:45] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[01:27:45] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[01:27:45] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[01:27:45] [ENEMY] [Enemy10] Death animation component initialized
[01:27:45] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:27:45] [INFO] [BloodyFeet:Player] Footprint scene loaded
[01:27:45] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[01:27:45] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[01:27:45] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[01:27:45] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[01:27:45] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[01:27:45] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[01:27:45] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[01:27:45] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[01:27:45] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[01:27:45] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: True
[01:27:45] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[01:27:45] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[01:27:45] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[01:27:45] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[01:27:45] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[01:27:45] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[01:27:45] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[01:27:45] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[01:27:45] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[01:27:45] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[01:27:45] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[01:27:45] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[01:27:45] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[01:27:45] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[01:27:45] [INFO] [ScoreManager] Level started with 10 enemies
[01:27:45] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[01:27:45] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[01:27:45] [INFO] [ReplayManager] Replay data cleared
[01:27:45] [INFO] [BuildingLevel] Previous replay data cleared
[01:27:45] [INFO] [ReplayManager] Detected player weapon: Shotgun
[01:27:45] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[01:27:45] [INFO] [ReplayManager] Level: BuildingLevel
[01:27:45] [INFO] [ReplayManager] Player: Player (valid: True)
[01:27:45] [INFO] [ReplayManager] Enemies count: 10
[01:27:45] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/shotgun_topdown.png
[01:27:45] [INFO] [ReplayManager]   Enemy 0: Enemy1
[01:27:45] [INFO] [ReplayManager]   Enemy 1: Enemy2
[01:27:45] [INFO] [ReplayManager]   Enemy 2: Enemy3
[01:27:45] [INFO] [ReplayManager]   Enemy 3: Enemy4
[01:27:45] [INFO] [ReplayManager]   Enemy 4: Enemy5
[01:27:45] [INFO] [ReplayManager]   Enemy 5: Enemy6
[01:27:45] [INFO] [ReplayManager]   Enemy 6: Enemy7
[01:27:45] [INFO] [ReplayManager]   Enemy 7: Enemy8
[01:27:45] [INFO] [ReplayManager]   Enemy 8: Enemy9
[01:27:45] [INFO] [ReplayManager]   Enemy 9: Enemy10
[01:27:45] [INFO] [BuildingLevel] Replay recording started successfully
[01:27:45] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[01:27:45] [INFO] [CinemaEffects] Found player node: Player
[01:27:45] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[01:27:45] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 1)
[01:27:45] [ENEMY] [Enemy1] Registered as sound listener
[01:27:45] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 3, behavior: GUARD
[01:27:45] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[01:27:45] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 2)
[01:27:45] [ENEMY] [Enemy2] Registered as sound listener
[01:27:45] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 2, behavior: GUARD
[01:27:45] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[01:27:45] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 3)
[01:27:45] [ENEMY] [Enemy3] Registered as sound listener
[01:27:45] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 3, behavior: GUARD
[01:27:45] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[01:27:45] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 4)
[01:27:45] [ENEMY] [Enemy4] Registered as sound listener
[01:27:45] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 3, behavior: GUARD
[01:27:45] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[01:27:45] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 5)
[01:27:45] [ENEMY] [Enemy5] Registered as sound listener
[01:27:45] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 2, behavior: GUARD
[01:27:45] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[01:27:45] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 6)
[01:27:45] [ENEMY] [Enemy6] Registered as sound listener
[01:27:45] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 4, behavior: GUARD
[01:27:45] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[01:27:45] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 7)
[01:27:45] [ENEMY] [Enemy7] Registered as sound listener
[01:27:45] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 4, behavior: PATROL
[01:27:45] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[01:27:45] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 8)
[01:27:45] [ENEMY] [Enemy8] Registered as sound listener
[01:27:45] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 4, behavior: GUARD
[01:27:45] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[01:27:45] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 9)
[01:27:45] [ENEMY] [Enemy9] Registered as sound listener
[01:27:45] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 4, behavior: GUARD
[01:27:45] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[01:27:45] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 10)
[01:27:45] [ENEMY] [Enemy10] Registered as sound listener
[01:27:45] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 4, behavior: PATROL
[01:27:45] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[01:27:45] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[01:27:45] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[01:27:45] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=45.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[01:27:45] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[01:27:45] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[01:27:45] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[01:27:45] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[01:27:45] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=213.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[01:27:45] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=180.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[01:27:45] [INFO] [Player] Detecting weapon pose (frame 3)...
[01:27:45] [INFO] [Player] Detected weapon: Shotgun (Shotgun pose)
[01:27:45] [INFO] [Player] Applied Shotgun arm pose: Left=(21, 6), Right=(-1, 6)
[01:27:45] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[01:27:45] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[01:27:45] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[01:27:45] [INFO] [LastChance] Found player: Player
[01:27:45] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[01:27:45] [INFO] [LastChance] Connected to player Damaged signal (C#)
[01:27:45] [INFO] [LastChance] Connected to player Died signal (C#)
[01:27:45] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[01:27:46] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[01:27:47] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[01:27:47] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:27:47] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[01:27:47] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[01:27:47] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[01:27:47] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[01:27:47] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[01:27:47] [INFO] [LastChance] Resetting all effects (scene change detected)
[01:27:47] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[01:27:47] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[01:27:47] [INFO] [EnemyGrenade] Initialized: 1 grenades
[01:27:47] [ENEMY] [Enemy1] Death animation component initialized
[01:27:47] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:27:47] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[01:27:47] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[01:27:47] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[01:27:47] [ENEMY] [Enemy2] Death animation component initialized
[01:27:47] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:27:47] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[01:27:47] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[01:27:47] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[01:27:47] [ENEMY] [Enemy3] Death animation component initialized
[01:27:47] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:27:47] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[01:27:47] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[01:27:47] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[01:27:47] [ENEMY] [Enemy4] Death animation component initialized
[01:27:47] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:27:47] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[01:27:47] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[01:27:47] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[01:27:47] [ENEMY] [Enemy5] Death animation component initialized
[01:27:47] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:27:47] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[01:27:47] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[01:27:47] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[01:27:47] [INFO] [EnemyGrenade] Initialized: 1 grenades
[01:27:47] [ENEMY] [Enemy6] Death animation component initialized
[01:27:47] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:27:47] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[01:27:47] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[01:27:47] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[01:27:47] [ENEMY] [Enemy7] Death animation component initialized
[01:27:47] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:27:47] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[01:27:47] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[01:27:47] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[01:27:47] [ENEMY] [Enemy8] Death animation component initialized
[01:27:47] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:27:47] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[01:27:47] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[01:27:47] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[01:27:47] [INFO] [EnemyGrenade] Initialized: 1 grenades
[01:27:47] [ENEMY] [Enemy9] Death animation component initialized
[01:27:47] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:27:47] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[01:27:47] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[01:27:47] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[01:27:47] [ENEMY] [Enemy10] Death animation component initialized
[01:27:47] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:27:47] [INFO] [BloodyFeet:Player] Footprint scene loaded
[01:27:47] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[01:27:47] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[01:27:47] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[01:27:47] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[01:27:47] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[01:27:47] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[01:27:47] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[01:27:47] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[01:27:47] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[01:27:47] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: True
[01:27:47] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[01:27:47] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[01:27:47] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[01:27:47] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[01:27:47] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[01:27:47] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[01:27:47] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[01:27:47] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[01:27:47] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[01:27:47] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[01:27:47] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[01:27:47] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[01:27:47] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[01:27:47] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[01:27:47] [INFO] [ScoreManager] Level started with 10 enemies
[01:27:47] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[01:27:47] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[01:27:47] [INFO] [ReplayManager] Replay data cleared
[01:27:47] [INFO] [BuildingLevel] Previous replay data cleared
[01:27:47] [INFO] [ReplayManager] Detected player weapon: Shotgun
[01:27:47] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[01:27:47] [INFO] [ReplayManager] Level: BuildingLevel
[01:27:47] [INFO] [ReplayManager] Player: Player (valid: True)
[01:27:47] [INFO] [ReplayManager] Enemies count: 10
[01:27:47] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/shotgun_topdown.png
[01:27:47] [INFO] [ReplayManager]   Enemy 0: Enemy1
[01:27:47] [INFO] [ReplayManager]   Enemy 1: Enemy2
[01:27:47] [INFO] [ReplayManager]   Enemy 2: Enemy3
[01:27:47] [INFO] [ReplayManager]   Enemy 3: Enemy4
[01:27:47] [INFO] [ReplayManager]   Enemy 4: Enemy5
[01:27:47] [INFO] [ReplayManager]   Enemy 5: Enemy6
[01:27:47] [INFO] [ReplayManager]   Enemy 6: Enemy7
[01:27:47] [INFO] [ReplayManager]   Enemy 7: Enemy8
[01:27:47] [INFO] [ReplayManager]   Enemy 8: Enemy9
[01:27:47] [INFO] [ReplayManager]   Enemy 9: Enemy10
[01:27:47] [INFO] [BuildingLevel] Replay recording started successfully
[01:27:47] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[01:27:47] [INFO] [CinemaEffects] Found player node: Player
[01:27:47] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[01:27:47] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[01:27:47] [ENEMY] [Enemy1] Registered as sound listener
[01:27:47] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 3, behavior: GUARD
[01:27:47] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[01:27:47] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[01:27:47] [ENEMY] [Enemy2] Registered as sound listener
[01:27:47] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 4, behavior: GUARD
[01:27:47] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[01:27:47] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[01:27:47] [ENEMY] [Enemy3] Registered as sound listener
[01:27:47] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 2, behavior: GUARD
[01:27:47] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[01:27:47] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[01:27:47] [ENEMY] [Enemy4] Registered as sound listener
[01:27:47] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 4, behavior: GUARD
[01:27:47] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[01:27:47] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[01:27:47] [ENEMY] [Enemy5] Registered as sound listener
[01:27:47] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 2, behavior: GUARD
[01:27:47] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[01:27:47] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[01:27:47] [ENEMY] [Enemy6] Registered as sound listener
[01:27:47] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 2, behavior: GUARD
[01:27:47] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[01:27:47] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[01:27:47] [ENEMY] [Enemy7] Registered as sound listener
[01:27:47] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 2, behavior: PATROL
[01:27:47] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[01:27:47] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[01:27:47] [ENEMY] [Enemy8] Registered as sound listener
[01:27:47] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 4, behavior: GUARD
[01:27:47] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[01:27:47] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[01:27:47] [ENEMY] [Enemy9] Registered as sound listener
[01:27:47] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 3, behavior: GUARD
[01:27:47] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[01:27:47] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[01:27:47] [ENEMY] [Enemy10] Registered as sound listener
[01:27:47] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 3, behavior: PATROL
[01:27:47] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[01:27:47] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[01:27:47] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=33.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[01:27:47] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[01:27:47] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=236.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[01:27:47] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[01:27:47] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[01:27:47] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=225.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[01:27:47] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[01:27:47] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[01:27:47] [INFO] [Player] Detecting weapon pose (frame 3)...
[01:27:47] [INFO] [Player] Detected weapon: Shotgun (Shotgun pose)
[01:27:47] [INFO] [Player] Applied Shotgun arm pose: Left=(21, 6), Right=(-1, 6)
[01:27:47] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[01:27:47] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[01:27:47] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[01:27:47] [INFO] [LastChance] Found player: Player
[01:27:47] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[01:27:47] [INFO] [LastChance] Connected to player Damaged signal (C#)
[01:27:47] [INFO] [LastChance] Connected to player Died signal (C#)
[01:27:47] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[01:27:48] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[01:27:48] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[01:27:48] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[01:27:48] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,891), corner_timer=0.30
[01:27:48] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,891), corner_timer=0.30
[01:27:49] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(450,786), corner_timer=-0.02
[01:27:49] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[01:27:49] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(450,786), corner_timer=-0.02
[01:27:49] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[01:27:49] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(450,781), corner_timer=0.30
[01:27:49] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(450,781), corner_timer=0.30
[01:27:49] [ENEMY] [Enemy1] Player ammo empty: false -> true
[01:27:49] [ENEMY] [Enemy2] Player ammo empty: false -> true
[01:27:49] [ENEMY] [Enemy3] Player ammo empty: false -> true
[01:27:49] [ENEMY] [Enemy4] Player ammo empty: false -> true
[01:27:49] [ENEMY] [Enemy5] Player ammo empty: false -> true
[01:27:49] [ENEMY] [Enemy6] Player ammo empty: false -> true
[01:27:49] [ENEMY] [Enemy7] Player ammo empty: false -> true
[01:27:49] [ENEMY] [Enemy8] Player ammo empty: false -> true
[01:27:49] [ENEMY] [Enemy9] Player ammo empty: false -> true
[01:27:49] [ENEMY] [Enemy10] Player ammo empty: false -> true
[01:27:49] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(450.9239, 765.0493), source=PLAYER (Player), range=600, listeners=20
[01:27:49] [INFO] [SoundPropagation] Cleaned up 10 invalid listeners
[01:27:49] [ENEMY] [Enemy1] Heard player EMPTY_CLICK at (450.9239, 765.0493), intensity=0.01, distance=442
[01:27:49] [ENEMY] [Enemy1] Vulnerability sound triggered pursuit - transitioning from IDLE to PURSUING
[01:27:49] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (450.9239, 765.0493), intensity=0.05, distance=221
[01:27:49] [ENEMY] [Enemy2] Vulnerability sound triggered pursuit - transitioning from IDLE to PURSUING
[01:27:49] [ENEMY] [Enemy3] Heard player EMPTY_CLICK at (450.9239, 765.0493), intensity=0.04, distance=250
[01:27:49] [ENEMY] [Enemy3] Vulnerability sound triggered pursuit - transitioning from IDLE to PURSUING
[01:27:49] [ENEMY] [Enemy4] Heard player EMPTY_CLICK at (450.9239, 765.0493), intensity=0.02, distance=374
[01:27:49] [ENEMY] [Enemy4] Vulnerability sound triggered pursuit - transitioning from IDLE to PURSUING
[01:27:49] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=6, self=0, below_threshold=0
[01:27:49] [INFO] [Shotgun.FIX#212] Firing 14 pellets with 15° spread at pos=(450.92386, 765.0493)
[01:27:49] [INFO] [Shotgun.FIX#212] Normal pellet 1/14: extraOffset=13,3, distance=65,3px, pos=(515.00604, 752.67395)
[01:27:49] [INFO] [Shotgun.FIX#212] Normal pellet 2/14: extraOffset=-8,2, distance=43,8px, pos=(494.07788, 757.55994)
[01:27:49] [INFO] [Shotgun.FIX#212] Normal pellet 3/14: extraOffset=-12,5, distance=39,5px, pos=(490.02936, 759.4795)
[01:27:49] [INFO] [Shotgun.FIX#212] Normal pellet 4/14: extraOffset=-8,3, distance=43,7px, pos=(494.2752, 759.4386)
[01:27:49] [INFO] [Shotgun.FIX#212] Normal pellet 5/14: extraOffset=-0,7, distance=51,3px, pos=(502.14468, 761.46906)
[01:27:49] [INFO] [Shotgun.FIX#212] Normal pellet 6/14: extraOffset=0,4, distance=52,4px, pos=(503.22415, 762.08105)
[01:27:49] [INFO] [Shotgun.FIX#212] Normal pellet 7/14: extraOffset=11,0, distance=63,0px, pos=(513.7478, 761.0583)
[01:27:49] [INFO] [Shotgun.FIX#212] Normal pellet 8/14: extraOffset=-4,5, distance=47,5px, pos=(498.31467, 762.51935)
[01:27:49] [INFO] [Shotgun.FIX#212] Normal pellet 9/14: extraOffset=3,6, distance=55,6px, pos=(506.5352, 763.89136)
[01:27:49] [INFO] [Shotgun.FIX#212] Normal pellet 10/14: extraOffset=-2,9, distance=49,1px, pos=(499.98105, 765.0519)
[01:27:49] [INFO] [Shotgun.FIX#212] Normal pellet 11/14: extraOffset=15,0, distance=67,0px, pos=(517.9001, 766.3285)
[01:27:49] [INFO] [Shotgun.FIX#212] Normal pellet 12/14: extraOffset=-4,0, distance=48,0px, pos=(498.8176, 767.5736)
[01:27:49] [INFO] [Shotgun.FIX#212] Normal pellet 13/14: extraOffset=5,4, distance=57,4px, pos=(508.12946, 770.29553)
[01:27:49] [INFO] [Shotgun.FIX#212] Normal pellet 14/14: extraOffset=13,1, distance=65,1px, pos=(515.774, 770.656)
[01:27:49] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(450.9239, 765.0493), source=PLAYER (Shotgun), range=1469, listeners=10
[01:27:49] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[01:27:49] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=70.0°, current=33.8°, player=(450,765), corner_timer=0.00
[01:27:49] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=442), can_see=false
[01:27:49] [INFO] [EnemyGrenade] Throw path blocked to (450.9239, 765.0493)
[01:27:49] [ENEMY] [Enemy1] Pursuing vulnerability sound at (450.9239, 765.0493), distance=442
[01:27:49] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=76.7°, current=-101.3°, player=(450,765), corner_timer=0.00
[01:27:49] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=221), can_see=false
[01:27:49] [ENEMY] [Enemy2] Pursuing vulnerability sound at (450.9239, 765.0493), distance=221
[01:27:49] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=176.5°, current=-123.8°, player=(450,765), corner_timer=0.00
[01:27:49] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=250), can_see=false
[01:27:49] [ENEMY] [Enemy3] Pursuing vulnerability sound at (450.9239, 765.0493), distance=250
[01:27:49] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=-158.9°, current=168.8°, player=(450,765), corner_timer=0.00
[01:27:49] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=374), can_see=false
[01:27:49] [ENEMY] [Enemy4] Pursuing vulnerability sound at (450.9239, 765.0493), distance=374
[01:27:49] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1316), can_see=false
[01:27:49] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1532), can_see=false
[01:27:49] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1251), can_see=false
[01:27:49] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1603), can_see=false
[01:27:49] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1826), can_see=false
[01:27:49] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1111), can_see=false
[01:27:49] [INFO] [EnemyGrenade] Throw path blocked to (450.9239, 765.0493)
[01:27:49] [INFO] [EnemyGrenade] Throw path blocked to (450.9239, 765.0493)
[01:27:49] [INFO] [EnemyGrenade] Throw path blocked to (450.9239, 765.0493)
[01:27:49] [ENEMY] [Enemy3] Hit taken, damage: 1, health: 2/2 -> 1/2
[01:27:49] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[01:27:49] [INFO] [ImpactEffects] spawn_blood_effect called at (678.7056, 751.2866), dir=(1, 0), lethal=false
[01:27:49] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:27:49] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[01:27:49] [INFO] [ImpactEffects] Blood effect spawned at (678.7056, 751.2866) (scale=1)
[01:27:49] [ENEMY] [Enemy3] Hit taken, damage: 1, health: 1/2 -> 0/2
[01:27:49] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[01:27:49] [INFO] [ImpactEffects] spawn_blood_effect called at (678.7056, 751.2866), dir=(1, 0), lethal=true
[01:27:49] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:27:49] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[01:27:49] [INFO] [ImpactEffects] Blood effect spawned at (678.7056, 751.2866) (scale=1.5)
[01:27:49] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[01:27:49] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[01:27:49] [ENEMY] [Enemy3] [AllyDeath] Notified 2 enemies
[01:27:49] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[01:27:49] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[01:27:49] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[01:27:49] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[01:27:49] [INFO] [EnemyGrenade] Throw path blocked to (450.9239, 765.0493)
[01:27:49] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.1°, player=(491,728), corner_timer=-0.01
[01:27:49] [ENEMY] [Enemy10] PATROL corner check: angle 7.1°
[01:27:49] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.1°, current=16.2°, player=(495,728), corner_timer=0.30
[01:27:49] [ENEMY] [Enemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=69.0°, current=69.5°, player=(503,728), corner_timer=0.00
[01:27:49] [ENEMY] [Enemy1] Player distracted - priority attack triggered
[01:27:49] [INFO] [BloodDecal] Blood puddle created at (750.4915, 775.4075) (added to group)
[01:27:49] [INFO] [BloodDecal] Blood puddle created at (734.6064, 777.8345) (added to group)
[01:27:49] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[01:27:49] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:27:49] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[01:27:49] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[01:27:49] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[01:27:49] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[01:27:49] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[01:27:49] [INFO] [LastChance] Resetting all effects (scene change detected)
[01:27:49] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[01:27:49] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[01:27:49] [INFO] [EnemyGrenade] Initialized: 1 grenades
[01:27:49] [ENEMY] [Enemy1] Death animation component initialized
[01:27:49] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:27:49] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[01:27:49] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[01:27:49] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[01:27:49] [ENEMY] [Enemy2] Death animation component initialized
[01:27:49] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:27:49] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[01:27:49] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[01:27:49] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[01:27:49] [ENEMY] [Enemy3] Death animation component initialized
[01:27:49] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:27:49] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[01:27:49] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[01:27:49] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[01:27:49] [ENEMY] [Enemy4] Death animation component initialized
[01:27:49] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:27:49] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[01:27:49] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[01:27:49] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[01:27:49] [ENEMY] [Enemy5] Death animation component initialized
[01:27:49] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:27:49] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[01:27:49] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[01:27:49] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[01:27:49] [ENEMY] [Enemy6] Death animation component initialized
[01:27:49] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:27:49] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[01:27:49] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[01:27:49] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[01:27:49] [INFO] [EnemyGrenade] Initialized: 1 grenades
[01:27:49] [ENEMY] [Enemy7] Death animation component initialized
[01:27:49] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:27:49] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[01:27:49] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[01:27:49] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[01:27:49] [INFO] [EnemyGrenade] Initialized: 1 grenades
[01:27:49] [ENEMY] [Enemy8] Death animation component initialized
[01:27:49] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:27:49] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[01:27:49] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[01:27:49] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[01:27:49] [ENEMY] [Enemy9] Death animation component initialized
[01:27:49] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:27:49] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[01:27:49] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[01:27:49] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[01:27:49] [ENEMY] [Enemy10] Death animation component initialized
[01:27:49] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:27:49] [INFO] [BloodyFeet:Player] Footprint scene loaded
[01:27:49] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[01:27:49] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[01:27:49] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[01:27:49] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[01:27:49] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[01:27:49] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[01:27:49] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[01:27:49] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[01:27:49] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[01:27:49] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: True
[01:27:49] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[01:27:49] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[01:27:49] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[01:27:49] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[01:27:49] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[01:27:49] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[01:27:49] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[01:27:49] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[01:27:49] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[01:27:49] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[01:27:49] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[01:27:49] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[01:27:49] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[01:27:49] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[01:27:49] [INFO] [ScoreManager] Level started with 10 enemies
[01:27:49] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[01:27:49] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[01:27:49] [INFO] [ReplayManager] Replay data cleared
[01:27:49] [INFO] [BuildingLevel] Previous replay data cleared
[01:27:49] [INFO] [ReplayManager] Detected player weapon: Shotgun
[01:27:49] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[01:27:49] [INFO] [ReplayManager] Level: BuildingLevel
[01:27:49] [INFO] [ReplayManager] Player: Player (valid: True)
[01:27:49] [INFO] [ReplayManager] Enemies count: 10
[01:27:49] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/shotgun_topdown.png
[01:27:49] [INFO] [ReplayManager]   Enemy 0: Enemy1
[01:27:49] [INFO] [ReplayManager]   Enemy 1: Enemy2
[01:27:49] [INFO] [ReplayManager]   Enemy 2: Enemy3
[01:27:49] [INFO] [ReplayManager]   Enemy 3: Enemy4
[01:27:49] [INFO] [ReplayManager]   Enemy 4: Enemy5
[01:27:49] [INFO] [ReplayManager]   Enemy 5: Enemy6
[01:27:49] [INFO] [ReplayManager]   Enemy 6: Enemy7
[01:27:49] [INFO] [ReplayManager]   Enemy 7: Enemy8
[01:27:49] [INFO] [ReplayManager]   Enemy 8: Enemy9
[01:27:49] [INFO] [ReplayManager]   Enemy 9: Enemy10
[01:27:49] [INFO] [BuildingLevel] Replay recording started successfully
[01:27:49] [INFO] [BloodDecal] Blood puddle created at (743.3447, 763.693) (added to group)
[01:27:49] [INFO] [BloodDecal] Blood puddle created at (762.3058, 805.9574) (added to group)
[01:27:49] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[01:27:49] [INFO] [CinemaEffects] Found player node: Player
[01:27:49] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[01:27:49] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 10)
[01:27:49] [ENEMY] [Enemy1] Registered as sound listener
[01:27:49] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 3, behavior: GUARD
[01:27:49] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[01:27:49] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 11)
[01:27:49] [ENEMY] [Enemy2] Registered as sound listener
[01:27:49] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 4, behavior: GUARD
[01:27:49] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[01:27:49] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 12)
[01:27:49] [ENEMY] [Enemy3] Registered as sound listener
[01:27:49] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 2, behavior: GUARD
[01:27:49] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[01:27:49] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 13)
[01:27:49] [ENEMY] [Enemy4] Registered as sound listener
[01:27:49] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 2, behavior: GUARD
[01:27:49] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[01:27:49] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 14)
[01:27:49] [ENEMY] [Enemy5] Registered as sound listener
[01:27:49] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 2, behavior: GUARD
[01:27:49] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[01:27:49] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 15)
[01:27:49] [ENEMY] [Enemy6] Registered as sound listener
[01:27:49] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 2, behavior: GUARD
[01:27:49] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[01:27:49] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 16)
[01:27:49] [ENEMY] [Enemy7] Registered as sound listener
[01:27:49] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 4, behavior: PATROL
[01:27:49] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[01:27:49] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 17)
[01:27:49] [ENEMY] [Enemy8] Registered as sound listener
[01:27:49] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 3, behavior: GUARD
[01:27:49] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[01:27:49] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 18)
[01:27:49] [ENEMY] [Enemy9] Registered as sound listener
[01:27:49] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 4, behavior: GUARD
[01:27:49] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[01:27:49] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 19)
[01:27:49] [ENEMY] [Enemy10] Registered as sound listener
[01:27:49] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 2, behavior: PATROL
[01:27:49] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[01:27:49] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[01:27:49] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[01:27:49] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[01:27:49] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=123.7°, current=0.0°, player=(450,1250), corner_timer=0.00
[01:27:49] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[01:27:49] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[01:27:49] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[01:27:49] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=213.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[01:27:49] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[01:27:49] [INFO] [Player] Detecting weapon pose (frame 3)...
[01:27:49] [INFO] [Player] Detected weapon: Shotgun (Shotgun pose)
[01:27:49] [INFO] [Player] Applied Shotgun arm pose: Left=(21, 6), Right=(-1, 6)
[01:27:49] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[01:27:49] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[01:27:49] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[01:27:49] [INFO] [LastChance] Found player: Player
[01:27:49] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[01:27:49] [INFO] [LastChance] Connected to player Damaged signal (C#)
[01:27:49] [INFO] [LastChance] Connected to player Died signal (C#)
[01:27:49] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[01:27:49] [INFO] [BloodDecal] Blood puddle created at (791.0499, 771.1342) (added to group)
[01:27:49] [INFO] [BloodDecal] Blood puddle created at (749.2778, 764.4618) (added to group)
[01:27:49] [INFO] [BloodDecal] Blood puddle created at (746.0529, 790.4779) (added to group)
[01:27:49] [INFO] [BloodDecal] Blood puddle created at (747.0154, 798.5366) (added to group)
[01:27:49] [INFO] [BloodDecal] Blood puddle created at (747.4536, 761.3088) (added to group)
[01:27:49] [INFO] [BloodDecal] Blood puddle created at (776.4524, 741.5245) (added to group)
[01:27:49] [INFO] [BloodDecal] Blood puddle created at (811.3958, 750.6301) (added to group)
[01:27:49] [INFO] [BloodDecal] Blood puddle created at (754.7908, 803.6701) (added to group)
[01:27:49] [INFO] [BloodDecal] Blood puddle created at (746.0374, 798.9303) (added to group)
[01:27:49] [INFO] [BloodDecal] Blood puddle created at (802.884, 747.0757) (added to group)
[01:27:49] [INFO] [BloodDecal] Blood puddle created at (818.0883, 812.2778) (added to group)
[01:27:49] [INFO] [BloodDecal] Blood puddle created at (816.5419, 744.8353) (added to group)
[01:27:49] [INFO] [BloodDecal] Blood puddle created at (807.4808, 836.0337) (added to group)
[01:27:49] [INFO] [BloodDecal] Blood puddle created at (847.5271, 809.6396) (added to group)
[01:27:49] [INFO] [BloodDecal] Blood puddle created at (828.8918, 769.619) (added to group)
[01:27:49] [INFO] [BloodDecal] Blood puddle created at (840.613, 826.5027) (added to group)
[01:27:49] [INFO] [BloodDecal] Blood puddle created at (783.8657, 787.1221) (added to group)
[01:27:49] [INFO] [BloodDecal] Blood puddle created at (836.0637, 765.1998) (added to group)
[01:27:49] [INFO] [BloodDecal] Blood puddle created at (859.7593, 832.6152) (added to group)
[01:27:50] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[01:27:51] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[01:27:51] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[01:27:51] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,1250), corner_timer=0.30
[01:27:51] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,1250), corner_timer=0.30
[01:27:51] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(450,1250), corner_timer=-0.02
[01:27:51] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[01:27:51] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(450,1250), corner_timer=-0.02
[01:27:51] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[01:27:51] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(450,1250), corner_timer=0.30
[01:27:51] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(450,1250), corner_timer=0.30
[01:27:51] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[01:27:51] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(450,1250), corner_timer=-0.02
[01:27:51] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[01:27:51] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(450,1250), corner_timer=0.30
[01:27:52] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(450,1250), corner_timer=-0.02
[01:27:52] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[01:27:52] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.6°, player=(450,1250), corner_timer=0.30
[01:27:52] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(450,1250), corner_timer=-0.02
[01:27:52] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[01:27:52] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.8°, current=6.3°, player=(450,1250), corner_timer=0.30
[01:27:52] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=10
[01:27:52] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.8°, player=(450,1250), corner_timer=-0.02
[01:27:52] [ENEMY] [Enemy10] PATROL corner check: angle 0.9°
[01:27:52] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=0.9°, current=4.6°, player=(450,1250), corner_timer=0.30
[01:27:53] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[01:27:53] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=-130.1°, player=(450,1155), corner_timer=-0.02
[01:27:53] [ENEMY] [Enemy7] PATROL corner check: angle 90.0°
[01:27:53] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=-133.0°, player=(450,1149), corner_timer=0.30
[01:27:53] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[01:27:53] [INFO] [ReplayManager] Recording frame 240 (4,0s): player_valid=True, enemies=10
[01:27:53] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=179.1°, current=172.4°, player=(450,1045), corner_timer=-0.02
[01:27:53] [ENEMY] [Enemy7] PATROL corner check: angle 89.8°
[01:27:53] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.8°, current=175.3°, player=(450,1039), corner_timer=0.30
[01:27:53] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[01:27:54] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=178.4°, current=120.7°, player=(450,935), corner_timer=-0.02
[01:27:54] [ENEMY] [Enemy7] PATROL corner check: angle 89.7°
[01:27:54] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.7°, current=123.6°, player=(450,929), corner_timer=0.30
[01:27:54] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[01:27:54] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.9°, current=89.7°, player=(450,825), corner_timer=-0.02
[01:27:54] [ENEMY] [Enemy7] PATROL corner check: angle 89.6°
[01:27:54] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=164.4°, current=123.7°, player=(450,819), corner_timer=0.00
[01:27:54] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[01:27:54] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.6°, current=92.5°, player=(450,819), corner_timer=0.30
[01:27:54] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=166.8°, current=-64.9°, player=(450,808), corner_timer=0.00
[01:27:54] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[01:27:54] [ENEMY] [Enemy1] Player ammo empty: false -> true
[01:27:54] [ENEMY] [Enemy2] Player ammo empty: false -> true
[01:27:54] [ENEMY] [Enemy3] Player ammo empty: false -> true
[01:27:54] [ENEMY] [Enemy4] Player ammo empty: false -> true
[01:27:54] [ENEMY] [Enemy5] Player ammo empty: false -> true
[01:27:54] [ENEMY] [Enemy6] Player ammo empty: false -> true
[01:27:54] [ENEMY] [Enemy7] Player ammo empty: false -> true
[01:27:54] [ENEMY] [Enemy8] Player ammo empty: false -> true
[01:27:54] [ENEMY] [Enemy9] Player ammo empty: false -> true
[01:27:54] [ENEMY] [Enemy10] Player ammo empty: false -> true
[01:27:54] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(451.6188, 765.7684), source=PLAYER (Player), range=600, listeners=19
[01:27:54] [INFO] [SoundPropagation] Cleaned up 9 invalid listeners
[01:27:54] [ENEMY] [Enemy1] Heard player EMPTY_CLICK at (451.6188, 765.7684), intensity=0.01, distance=443
[01:27:54] [ENEMY] [Enemy1] Vulnerability sound triggered pursuit - transitioning from IDLE to PURSUING
[01:27:54] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (451.6188, 765.7684), intensity=0.05, distance=222
[01:27:54] [ENEMY] [Enemy2] Vulnerability sound triggered pursuit - transitioning from IDLE to PURSUING
[01:27:54] [ENEMY] [Enemy3] Heard player EMPTY_CLICK at (451.6188, 765.7684), intensity=0.05, distance=233
[01:27:54] [ENEMY] [Enemy4] Heard player EMPTY_CLICK at (451.6188, 765.7684), intensity=0.02, distance=373
[01:27:54] [ENEMY] [Enemy4] Vulnerability sound triggered pursuit - transitioning from IDLE to PURSUING
[01:27:54] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=6, self=0, below_threshold=0
[01:27:54] [INFO] [Shotgun.FIX#212] Firing 11 pellets with 15° spread at pos=(451.6188, 765.7684)
[01:27:54] [INFO] [Shotgun.FIX#212] Normal pellet 1/11: extraOffset=-6,9, distance=45,1px, pos=(496.28976, 759.2394)
[01:27:54] [INFO] [Shotgun.FIX#212] Normal pellet 2/11: extraOffset=-13,1, distance=38,9px, pos=(490.25897, 761.2611)
[01:27:54] [INFO] [Shotgun.FIX#212] Normal pellet 3/11: extraOffset=-1,8, distance=50,2px, pos=(501.6775, 762.05725)
[01:27:54] [INFO] [Shotgun.FIX#212] Normal pellet 4/11: extraOffset=-8,9, distance=43,1px, pos=(494.6808, 763.4266)
[01:27:54] [INFO] [Shotgun.FIX#212] Normal pellet 5/11: extraOffset=-8,9, distance=43,1px, pos=(494.6479, 763.0044)
[01:27:54] [INFO] [Shotgun.FIX#212] Normal pellet 6/11: extraOffset=-2,6, distance=49,4px, pos=(501.05145, 764.9446)
[01:27:54] [INFO] [Shotgun.FIX#212] Normal pellet 7/11: extraOffset=-10,8, distance=41,2px, pos=(492.81757, 765.4287)
[01:27:54] [INFO] [Shotgun.FIX#212] Normal pellet 8/11: extraOffset=-10,8, distance=41,2px, pos=(492.81683, 765.9843)
[01:27:54] [INFO] [Shotgun.FIX#212] Normal pellet 9/11: extraOffset=2,7, distance=54,7px, pos=(506.2335, 768.32336)
[01:27:54] [INFO] [Shotgun.FIX#212] Normal pellet 10/11: extraOffset=12,1, distance=64,1px, pos=(515.5356, 770.68726)
[01:27:54] [INFO] [Shotgun.FIX#212] Normal pellet 11/11: extraOffset=8,8, distance=60,8px, pos=(512.1682, 771.2066)
[01:27:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(451.6188, 765.7684), source=PLAYER (Shotgun), range=1469, listeners=10
[01:27:54] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[01:27:54] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=70.0°, current=-33.8°, player=(451,765), corner_timer=0.00
[01:27:54] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=443), can_see=false
[01:27:54] [INFO] [EnemyGrenade] Throw path blocked to (451.6188, 765.7684)
[01:27:54] [ENEMY] [Enemy1] Pursuing vulnerability sound at (451.6188, 765.7684), distance=443
[01:27:54] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=76.5°, current=-101.3°, player=(451,765), corner_timer=0.00
[01:27:54] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=222), can_see=false
[01:27:54] [ENEMY] [Enemy2] Pursuing vulnerability sound at (451.6188, 765.7684), distance=222
[01:27:54] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=233), can_see=false
[01:27:54] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=-158.9°, current=-101.3°, player=(451,765), corner_timer=0.00
[01:27:54] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=373), can_see=false
[01:27:54] [ENEMY] [Enemy4] Pursuing vulnerability sound at (451.6188, 765.7684), distance=373
[01:27:54] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1316), can_see=false
[01:27:54] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1531), can_see=false
[01:27:54] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1167), can_see=false
[01:27:54] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1602), can_see=false
[01:27:54] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1825), can_see=false
[01:27:54] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1095), can_see=false
[01:27:54] [INFO] [EnemyGrenade] Throw path blocked to (451.6188, 765.7684)
[01:27:54] [INFO] [EnemyGrenade] Throw path blocked to (451.6188, 765.7684)
[01:27:54] [INFO] [EnemyGrenade] Throw path blocked to (451.6188, 765.7684)
[01:27:54] [ENEMY] [Enemy3] Hit taken, damage: 1, health: 2/2 -> 1/2
[01:27:54] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[01:27:54] [INFO] [ImpactEffects] spawn_blood_effect called at (684.4485, 753.7583), dir=(1, 0), lethal=false
[01:27:54] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:27:54] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[01:27:54] [INFO] [ImpactEffects] Blood effect spawned at (684.4485, 753.7583) (scale=1)
[01:27:54] [ENEMY] [Enemy3] Hit taken, damage: 1, health: 1/2 -> 0/2
[01:27:54] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[01:27:54] [INFO] [ImpactEffects] spawn_blood_effect called at (684.4485, 753.7583), dir=(1, 0), lethal=true
[01:27:54] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:27:54] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[01:27:54] [INFO] [ImpactEffects] Blood effect spawned at (684.4485, 753.7583) (scale=1.5)
[01:27:54] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[01:27:54] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[01:27:54] [ENEMY] [Enemy4] [AllyDeath] Witnessed at (684.4485, 753.7583), entering SEARCHING
[01:27:54] [ENEMY] [Enemy4] SEARCHING started: center=(684.4485, 753.7583), radius=100, waypoints=5
[01:27:54] [ENEMY] [Enemy3] [AllyDeath] Notified 2 enemies
[01:27:54] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[01:27:54] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[01:27:54] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[01:27:54] [INFO] [EnemyGrenade] Throw path blocked to (451.6188, 765.7684)
[01:27:54] [INFO] [ReplayManager] Recording frame 300 (5,0s): player_valid=True, enemies=10
[01:27:54] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.6°, current=89.6°, player=(466,734), corner_timer=-0.00
[01:27:54] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[01:27:54] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[01:27:54] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=NeedsPumpUp, ReloadState=NotReloading
[01:27:54] [INFO] [Shotgun.FIX#445] dragStartPos=(714, 725), aimDir=(1,00, -0,03)
[01:27:54] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=91.9°, player=(468,732), corner_timer=0.30
[01:27:54] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:27:54] [INFO] [BloodyFeet:Enemy4] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[01:27:54] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:27:54] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:27:54] [INFO] [Shotgun.FIX#445v7] Mid-drag pump UP - shell ejected, continue dragging DOWN to chamber
[01:27:54] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:27:54] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:27:54] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:27:54] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=SEARCHING, target=-163.8°, current=-164.0°, player=(492,732), corner_timer=0.00
[01:27:54] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[01:27:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(792.3355, 819.3278), source=ENEMY (Enemy4), range=1469, listeners=9
[01:27:54] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[01:27:54] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[01:27:54] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(725.2377, 807.99286), shooter_id=818442930355, bullet_pos=(725.2377, 807.99286)
[01:27:54] [INFO] [Bullet] Using shooter_position, distance=0
[01:27:54] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[01:27:54] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[01:27:54] [INFO] [Bullet] Starting wall penetration at (725.2377, 807.99286)
[01:27:54] [ENEMY] [Enemy4] SEARCHING: Player spotted! Transitioning to COMBAT
[01:27:54] [ENEMY] [Enemy4] State: SEARCHING -> COMBAT
[01:27:54] [INFO] [Bullet] Raycast backward hit penetrating body at distance 45,540283
[01:27:54] [INFO] [Bullet] Body exited signal received for penetrating body
[01:27:54] [INFO] [Bullet] Exiting penetration at (688.4209, 797.3172) after traveling 33,333332 pixels through wall
[01:27:54] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[01:27:54] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[01:27:54] [INFO] [BloodDecal] Blood puddle created at (740.8358, 775.053) (added to group)
[01:27:54] [INFO] [BloodDecal] Blood puddle created at (763.6971, 730.4206) (added to group)
[01:27:54] [INFO] [Shotgun.FIX#445v7] Mid-drag pump DOWN - chambered, ready to fire
[01:27:54] [INFO] [BloodDecal] Blood puddle created at (732.327, 768.6215) (added to group)
[01:27:54] [INFO] [BloodDecal] Blood puddle created at (734.6067, 766.7555) (added to group)
[01:27:54] [ENEMY] [Enemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=69.9°, current=70.3°, player=(510,744), corner_timer=0.00
[01:27:54] [ENEMY] [Enemy1] Player distracted - priority attack triggered
[01:27:54] [ENEMY] [Enemy4] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=84.2°, current=-164.5°, player=(510,744), corner_timer=0.00
[01:27:54] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:27:54] [INFO] [BloodDecal] Blood puddle created at (768.8341, 805.6345) (added to group)
[01:27:54] [INFO] [BloodDecal] Blood puddle created at (729.075, 774.4907) (added to group)
[01:27:54] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:27:54] [INFO] [BloodDecal] Blood puddle created at (730.756, 792.917) (added to group)
[01:27:54] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:27:54] [INFO] [BloodDecal] Blood puddle created at (783.2416, 782.1912) (added to group)
[01:27:54] [INFO] [BloodDecal] Blood puddle created at (776.7224, 818.0748) (added to group)
[01:27:55] [INFO] [BloodDecal] Blood puddle created at (784.8724, 756.5891) (added to group)
[01:27:55] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[01:27:55] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=126), can_see=false
[01:27:55] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=275), can_see=false
[01:27:55] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[01:27:55] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1244), can_see=false
[01:27:55] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1458), can_see=false
[01:27:55] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1094), can_see=false
[01:27:55] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1536), can_see=false
[01:27:55] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1760), can_see=false
[01:27:55] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1051), can_see=false
[01:27:55] [INFO] [BloodDecal] Blood puddle created at (799.3062, 812.9857) (added to group)
[01:27:55] [INFO] [BloodDecal] Blood puddle created at (810.3058, 825.2852) (added to group)
[01:27:55] [ENEMY] [Enemy1] Player distracted - priority attack triggered
[01:27:55] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.5°, player=(529,769), corner_timer=-0.01
[01:27:55] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[01:27:55] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=91.8°, player=(531,772), corner_timer=0.30
[01:27:55] [INFO] [Shotgun.FIX#445v7] TryProcessMidDragGesture - dragVector=(6,3, 123,6), length=123,8, isDragUp=False, isDragDown=True, ActionState=Ready
[01:27:55] [INFO] [GrenadeBase] CCD enabled (mode: CAST_RAY) to prevent wall tunneling
[01:27:55] [INFO] [GrenadeBase] Grenade created at (411.0214, 491.7987) (frozen)
[01:27:55] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[01:27:55] [INFO] [GrenadeTimer] Initialized for Frag grenade, effect radius: 225
[01:27:55] [INFO] [GrenadeTimerHelper] Attached GrenadeTimer to FragGrenade (type: Frag)
[01:27:55] [INFO] [EnemyGrenade] Attached C# GrenadeTimer to grenade (type: Frag)
[01:27:55] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[01:27:55] [INFO] [GrenadeTimer] Timer activated! 4 seconds until explosion
[01:27:55] [INFO] [GrenadeBase] LEGACY throw_grenade() called! Direction: (0.035811, 0.999358), Speed: 633.5 (unfrozen)
[01:27:55] [INFO] [GrenadeBase] NOTE: Using DRAG-BASED system. If velocity-based is expected, ensure grenade has throw_grenade_velocity_based() method.
[01:27:55] [INFO] [FragGrenade] Grenade thrown (legacy) - impact detection enabled
[01:27:55] [INFO] [GrenadeTimer] Grenade marked as thrown - impact detection enabled
[01:27:55] [INFO] [EnemyGrenade] Enemy grenade thrown! Target: (451.6188, 765.7684), Distance: 317
[01:27:55] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=82.7°, current=81.9°, player=(533,780), corner_timer=0.00
[01:27:55] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[01:27:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(517.2648, 651.8989), source=ENEMY (Enemy2), range=1469, listeners=9
[01:27:55] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=4
[01:27:55] [INFO] [BloodDecal] Blood puddle created at (797.4913, 791.3607) (added to group)
[01:27:55] [INFO] [BloodDecal] Blood puddle created at (808.8987, 733.6974) (added to group)
[01:27:55] [INFO] [LastChance] Threat detected: Bullet
[01:27:55] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[01:27:55] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:27:55] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[01:27:55] [INFO] [Player] Hit blocked by invincibility mode (C#)
[01:27:55] [INFO] [Player] Spawning blood effect at (537.4389, 790.83246), dir=(1, 0), lethal=False (C#)
[01:27:55] [INFO] [ImpactEffects] spawn_blood_effect called at (537.4389, 790.8325), dir=(1, 0), lethal=false
[01:27:55] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:27:55] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[01:27:55] [INFO] [ImpactEffects] Blood effect spawned at (537.4389, 790.8325) (scale=1)
[01:27:55] [ENEMY] [Enemy3] Ragdoll activated
[01:27:55] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[01:27:55] [INFO] [Shotgun.FIX#243] RMB released after 14 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[01:27:55] [INFO] [Shotgun.FIX#445v7] ProcessDragGesture - dragVector=(7,0, 131,3), length=131,5, ActionState=Ready
[01:27:55] [INFO] [Shotgun.FIX#445v7] Screen-based pump gesture: isDragUp=False, isDragDown=True
[01:27:55] [ENEMY] [Enemy1] Player distracted - priority attack triggered
[01:27:55] [INFO] [BloodDecal] Blood puddle created at (823.1423, 761.3845) (added to group)
[01:27:55] [INFO] [BloodDecal] Blood puddle created at (802.9736, 755.2753) (added to group)
[01:27:55] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[01:27:55] [INFO] [BloodDecal] Blood puddle created at (819.8063, 776.9789) (added to group)
[01:27:55] [INFO] [BloodDecal] Blood puddle created at (796.8836, 792.1032) (added to group)
[01:27:55] [ENEMY] [Enemy2] Player distracted - priority attack triggered
[01:27:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(515.5258, 664.5802), source=ENEMY (Enemy2), range=1469, listeners=9
[01:27:55] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=4
[01:27:55] [INFO] [LastChance] Threat detected: Bullet
[01:27:55] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[01:27:55] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:27:55] [INFO] [BloodDecal] Blood puddle created at (880.0377, 830.5152) (added to group)
[01:27:55] [INFO] [Player] Hit blocked by invincibility mode (C#)
[01:27:55] [INFO] [Player] Spawning blood effect at (540.44495, 828.8602), dir=(1, 0), lethal=False (C#)
[01:27:55] [INFO] [ImpactEffects] spawn_blood_effect called at (540.4449, 828.8602), dir=(1, 0), lethal=false
[01:27:55] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:27:55] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[01:27:55] [INFO] [ImpactEffects] Blood effect spawned at (540.4449, 828.8602) (scale=1)
[01:27:55] [ENEMY] [Enemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=PURSUING, target=71.4°, current=71.2°, player=(540,833), corner_timer=0.00
[01:27:55] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=344), can_see=false
[01:27:55] [ENEMY] [Enemy2] State: COMBAT -> RETREATING
[01:27:55] [INFO] [BloodDecal] Blood puddle created at (841.2594, 808.3275) (added to group)
[01:27:55] [ENEMY] [Enemy2] Player empty ammo - priority attack triggered
[01:27:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(515.5258, 664.5802), source=ENEMY (Enemy2), range=1469, listeners=9
[01:27:55] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=4
[01:27:55] [INFO] [BloodDecal] Blood puddle created at (791.0651, 830.6695) (added to group)
[01:27:55] [INFO] [LastChance] Threat detected: Bullet
[01:27:55] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[01:27:55] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:27:55] [INFO] [BloodDecal] Blood puddle created at (910.7918, 840.3359) (added to group)
[01:27:55] [INFO] [Player] Hit blocked by invincibility mode (C#)
[01:27:55] [INFO] [Player] Spawning blood effect at (551.0881, 864.0517), dir=(1, 0), lethal=False (C#)
[01:27:55] [INFO] [ImpactEffects] spawn_blood_effect called at (551.0881, 864.0517), dir=(1, 0), lethal=false
[01:27:55] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:27:55] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[01:27:55] [INFO] [ImpactEffects] Blood effect spawned at (551.0881, 864.0517) (scale=1)
[01:27:55] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.0°, current=89.4°, player=(551,864), corner_timer=-0.01
[01:27:55] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[01:27:55] [INFO] [BloodDecal] Blood puddle created at (902.9146, 814.6565) (added to group)
[01:27:55] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=91.7°, player=(553,867), corner_timer=0.30
[01:27:55] [ENEMY] [Enemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=71.2°, current=71.4°, player=(558,874), corner_timer=0.00
[01:27:55] [ENEMY] [Enemy1] Player empty ammo - priority attack triggered
[01:27:55] [ENEMY] [Enemy2] Player empty ammo - priority attack triggered
[01:27:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(494.6765, 663.0336), source=ENEMY (Enemy2), range=1469, listeners=9
[01:27:55] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=1, below_threshold=3
[01:27:55] [ENEMY] [Enemy1] Pursuing vulnerability sound at (560.9428, 877.5698), distance=341
[01:27:55] [INFO] [GrenadeBase] Collision detected with Room1_WallBottom (type: StaticBody2D)
[01:27:55] [INFO] [FragGrenade] Impact detected! Body: Room1_WallBottom (type: StaticBody2D), triggering explosion
[01:27:55] [INFO] [FragGrenade] Impact detected - exploding immediately!
[01:27:55] [INFO] [GrenadeBase] EXPLODED at (417.887, 678.2267)!
[01:27:55] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(417.887, 678.2267), source=NEUTRAL (FragGrenade), range=2937, listeners=9
[01:27:55] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=0, below_threshold=6
[01:27:55] [ENEMY] [Enemy1] Hit taken, damage: 1, health: 3/3 -> 2/3
[01:27:55] [ENEMY] [Enemy1] ImpactEffectsManager found, calling spawn_blood_effect
[01:27:55] [INFO] [ImpactEffects] spawn_blood_effect called at (451.0464, 559.3059), dir=(0.26859, -0.963255), lethal=false
[01:27:55] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:27:55] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[01:27:55] [INFO] [ImpactEffects] Blood effect spawned at (451.0464, 559.3059) (scale=1)
[01:27:55] [ENEMY] [Enemy1] Hit taken, damage: 1, health: 2/3 -> 1/3
[01:27:55] [ENEMY] [Enemy1] ImpactEffectsManager found, calling spawn_blood_effect
[01:27:55] [INFO] [ImpactEffects] spawn_blood_effect called at (451.0464, 559.3059), dir=(0.26859, -0.963255), lethal=false
[01:27:55] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:27:55] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[01:27:55] [INFO] [ImpactEffects] Blood effect spawned at (451.0464, 559.3059) (scale=1)
[01:27:55] [ENEMY] [Enemy1] Hit taken, damage: 1, health: 1/3 -> 0/3
[01:27:55] [ENEMY] [Enemy1] ImpactEffectsManager found, calling spawn_blood_effect
[01:27:55] [INFO] [ImpactEffects] spawn_blood_effect called at (451.0464, 559.3059), dir=(0.26859, -0.963255), lethal=true
[01:27:55] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:27:55] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[01:27:55] [INFO] [ImpactEffects] Blood effect spawned at (451.0464, 559.3059) (scale=1.5)
[01:27:55] [ENEMY] [Enemy1] Enemy died (ricochet: false, penetration: false)
[01:27:55] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[01:27:55] [ENEMY] [Enemy1] [AllyDeath] Notified 2 enemies
[01:27:55] [INFO] [SoundPropagation] Unregistered listener: Enemy1 (remaining: 8)
[01:27:55] [INFO] [DeathAnim] Started - Angle: -74.4 deg, Index: 7
[01:27:55] [ENEMY] [Enemy1] Death animation started with hit direction: (0.26859, -0.963255)
[01:27:55] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 123.5
[01:27:55] [ENEMY] [Enemy2] Hit taken, damage: 1, health: 4/4 -> 3/4
[01:27:55] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[01:27:55] [INFO] [ImpactEffects] spawn_blood_effect called at (489.0308, 661.4686), dir=(0.973361, -0.229279), lethal=false
[01:27:55] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:27:55] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[01:27:55] [INFO] [ImpactEffects] Blood effect spawned at (489.0308, 661.4686) (scale=1)
[01:27:55] [ENEMY] [Enemy2] Hit taken, damage: 1, health: 3/4 -> 2/4
[01:27:55] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[01:27:55] [INFO] [ImpactEffects] spawn_blood_effect called at (489.0308, 661.4686), dir=(0.973361, -0.229279), lethal=false
[01:27:55] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:27:55] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[01:27:55] [INFO] [ImpactEffects] Blood effect spawned at (489.0308, 661.4686) (scale=1)
[01:27:55] [ENEMY] [Enemy2] Hit taken, damage: 1, health: 2/4 -> 1/4
[01:27:55] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[01:27:55] [INFO] [ImpactEffects] spawn_blood_effect called at (489.0308, 661.4686), dir=(0.973361, -0.229279), lethal=false
[01:27:55] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:27:55] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[01:27:55] [INFO] [ImpactEffects] Blood effect spawned at (489.0308, 661.4686) (scale=1)
[01:27:55] [ENEMY] [Enemy2] Hit taken, damage: 1, health: 1/4 -> 0/4
[01:27:55] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[01:27:55] [INFO] [ImpactEffects] spawn_blood_effect called at (489.0308, 661.4686), dir=(0.973361, -0.229279), lethal=true
[01:27:55] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:27:55] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[01:27:55] [INFO] [ImpactEffects] Blood effect spawned at (489.0308, 661.4686) (scale=1.5)
[01:27:55] [ENEMY] [Enemy2] Enemy died (ricochet: false, penetration: false)
[01:27:55] [INFO] [ScoreManager] Kill registered. Combo: 3 (points: 3000)
[01:27:55] [ENEMY] [Enemy2] [AllyDeath] Notified 1 enemies
[01:27:55] [INFO] [SoundPropagation] Unregistered listener: Enemy2 (remaining: 7)
[01:27:55] [INFO] [DeathAnim] Started - Angle: -13.3 deg, Index: 11
[01:27:55] [ENEMY] [Enemy2] Death animation started with hit direction: (0.973361, -0.229279)
[01:27:55] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 73.1
[01:27:55] [INFO] [GrenadeBase] Scattered 4 casings (lethal zone) + 0 casings (proximity) from explosion
[01:27:55] [INFO] [FragGrenade] Spawned shrapnel #1 at angle -19.5 degrees
[01:27:55] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 75.7 degrees
[01:27:55] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 172.7 degrees
[01:27:55] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 256.6 degrees
[01:27:55] [INFO] [ImpactEffects] Spawning explosion visual effect at (417.887, 678.2267) (radius=225) - using shadow-based wall occlusion
[01:27:55] [INFO] [GrenadeTimer] Impact detected with Room1_WallBottom - EXPLODING!
[01:27:55] [INFO] [GrenadeTimer] EXPLODED at (417.88702, 678.22675)!
[01:27:55] [INFO] [GrenadeTimer] Applying frag explosion damage (radius: 225, damage: 99)
[01:27:55] [INFO] [GrenadeTimer] Damaged enemy at distance 123,5
[01:27:55] [INFO] [GrenadeTimer] Damaged enemy at distance 73,1
[01:27:55] [INFO] [GrenadeTimer] Spawned 4 shrapnel pieces
[01:27:55] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(417.887, 678.2267), source=NEUTRAL (FragGrenade), range=2938, listeners=7
[01:27:55] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=6
[01:27:55] [INFO] [GrenadeTimer] Spawned PointLight2D frag explosion flash at (417.88702, 678.22675) (shadow-based wall occlusion)
[01:27:55] [INFO] [GrenadeTimer] Scattered 4 casings
[01:27:55] [INFO] [LastChance] Threat detected: Bullet
[01:27:55] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[01:27:55] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:27:55] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=230), can_see=false
[01:27:55] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1254), can_see=false
[01:27:55] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1451), can_see=false
[01:27:55] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1048), can_see=false
[01:27:55] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1452), can_see=false
[01:27:55] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1676), can_see=false
[01:27:55] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=935), can_see=false
[01:27:55] [INFO] [ReplayManager] Recording frame 360 (5,8s): player_valid=True, enemies=10
[01:27:55] [INFO] [BloodDecal] Blood puddle created at (584.8345, 840.2147) (added to group)
[01:27:55] [INFO] [BloodDecal] Blood puddle created at (628.2338, 846.7134) (added to group)
[01:27:55] [INFO] [BloodDecal] Blood puddle created at (594.66, 805.7171) (added to group)
[01:27:55] [INFO] [BloodDecal] Blood puddle created at (583.5489, 824.2432) (added to group)
[01:27:55] [INFO] [BloodDecal] Blood puddle created at (577.3049, 854.1719) (added to group)
[01:27:55] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[01:27:55] [INFO] [BloodDecal] Blood puddle created at (602.7715, 794.6495) (added to group)
[01:27:55] [INFO] [BloodDecal] Blood puddle created at (638.7354, 840.5784) (added to group)
[01:27:55] [INFO] [BloodDecal] Blood puddle created at (627.004, 817.9717) (added to group)
[01:27:55] [INFO] [BloodDecal] Blood puddle created at (596.2313, 852.8646) (added to group)
[01:27:55] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(589.6058, 903.6644), source=PLAYER (Player), range=600, listeners=7
[01:27:55] [ENEMY] [Enemy4] Heard player EMPTY_CLICK at (589.6058, 903.6644), intensity=0.06, distance=211
[01:27:55] [ENEMY] [Enemy4] Vulnerability sound triggered pursuit - transitioning from SUPPRESSED to PURSUING
[01:27:55] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=6, self=0, below_threshold=0
[01:27:55] [INFO] [Shotgun.FIX#212] Firing 16 pellets with 15° spread at pos=(589.6058, 903.66437)
[01:27:55] [INFO] [Shotgun.FIX#212] Normal pellet 1/16: extraOffset=-12,9, distance=39,1px, pos=(561.7016, 876.34595)
[01:27:55] [INFO] [Shotgun.FIX#212] Normal pellet 2/16: extraOffset=-4,0, distance=48,0px, pos=(555.6665, 869.72546)
[01:27:55] [INFO] [Shotgun.FIX#212] Normal pellet 3/16: extraOffset=-5,0, distance=47,0px, pos=(557.42065, 869.4383)
[01:27:55] [INFO] [Shotgun.FIX#212] Normal pellet 4/16: extraOffset=3,8, distance=55,8px, pos=(552.814, 861.68756)
[01:27:55] [INFO] [Shotgun.FIX#212] Normal pellet 5/16: extraOffset=12,0, distance=64,0px, pos=(546.9238, 856.01154)
[01:27:55] [INFO] [Shotgun.FIX#212] Normal pellet 6/16: extraOffset=13,9, distance=65,9px, pos=(547.655, 852.8034)
[01:27:55] [INFO] [Shotgun.FIX#212] Normal pellet 7/16: extraOffset=0,3, distance=52,3px, pos=(555.8336, 863.7691)
[01:27:55] [INFO] [Shotgun.FIX#212] Normal pellet 8/16: extraOffset=4,7, distance=56,7px, pos=(554.17163, 859.4258)
[01:27:55] [INFO] [Shotgun.FIX#212] Normal pellet 9/16: extraOffset=9,6, distance=61,6px, pos=(552.4513, 854.58417)
[01:27:55] [INFO] [Shotgun.FIX#212] Normal pellet 10/16: extraOffset=-2,1, distance=49,9px, pos=(560.40375, 863.20026)
[01:27:55] [INFO] [Shotgun.FIX#212] Normal pellet 11/16: extraOffset=-3,7, distance=48,3px, pos=(561.9169, 864.12756)
[01:27:55] [INFO] [Shotgun.FIX#212] Normal pellet 12/16: extraOffset=8,0, distance=60,0px, pos=(556.2653, 853.7287)
[01:27:55] [INFO] [Shotgun.FIX#212] Normal pellet 13/16: extraOffset=12,4, distance=64,4px, pos=(554.2349, 849.81006)
[01:27:55] [INFO] [Shotgun.FIX#212] Normal pellet 14/16: extraOffset=-9,6, distance=42,4px, pos=(567.5534, 867.4438)
[01:27:55] [INFO] [Shotgun.FIX#212] Normal pellet 15/16: extraOffset=-11,9, distance=40,1px, pos=(568.0199, 869.82416)
[01:27:55] [INFO] [Shotgun.FIX#212] Normal pellet 16/16: extraOffset=-7,5, distance=44,5px, pos=(567.5555, 865.04395)
[01:27:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(589.6058, 903.6644), source=PLAYER (Shotgun), range=1469, listeners=7
[01:27:55] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=5
[01:27:55] [ENEMY] [Enemy4] ROT_CHANGE: P4:velocity -> P2:combat_state, state=PURSUING, target=162.4°, current=-179.7°, player=(589,903), corner_timer=0.00
[01:27:55] [ENEMY] [Enemy4] Pursuing vulnerability sound at (589.6058, 903.6644), distance=211
[01:27:55] [INFO] [BloodDecal] Blood puddle created at (663.4958, 884.2374) (added to group)
[01:27:55] [INFO] [BloodDecal] Blood puddle created at (616.3482, 806.6893) (added to group)
[01:27:55] [INFO] [BloodDecal] Blood puddle created at (627.1353, 818.3394) (added to group)
[01:27:55] [INFO] [BloodDecal] Blood puddle created at (605.6792, 907.4102) (added to group)
[01:27:55] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[01:27:55] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.8°, current=89.3°, player=(632,916), corner_timer=-0.01
[01:27:55] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[01:27:55] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=91.6°, player=(637,916), corner_timer=0.30
[01:27:55] [INFO] [BloodDecal] Blood puddle created at (700.5123, 904.831) (added to group)
[01:27:55] [INFO] [BloodDecal] Blood puddle created at (623.9034, 885.3567) (added to group)
[01:27:55] [INFO] [BloodDecal] Blood puddle created at (451.0645, 491.0662) (added to group)
[01:27:55] [INFO] [BloodDecal] Blood puddle created at (442.2959, 522.9701) (added to group)
[01:27:55] [INFO] [BloodDecal] Blood puddle created at (458.9248, 524.0914) (added to group)
[01:27:55] [INFO] [BloodDecal] Blood puddle created at (443.5533, 505.2806) (added to group)
[01:27:55] [INFO] [BloodDecal] Blood puddle created at (458.5357, 521.6629) (added to group)
[01:27:55] [INFO] [BloodDecal] Blood puddle created at (548.6055, 680.2141) (added to group)
[01:27:55] [INFO] [BloodDecal] Blood puddle created at (541.2767, 664.7183) (added to group)
[01:27:55] [INFO] [BloodDecal] Blood puddle created at (530.1074, 679.6226) (added to group)
[01:27:55] [INFO] [BloodDecal] Blood puddle created at (553.036, 671.9891) (added to group)
[01:27:55] [INFO] [BloodDecal] Blood puddle created at (550.6584, 638.6826) (added to group)
[01:27:55] [INFO] [BloodDecal] Blood puddle created at (547.293, 630.2005) (added to group)
[01:27:55] [INFO] [BloodDecal] Blood puddle created at (568.5958, 686.7596) (added to group)
[01:27:55] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=166.9°, current=144.6°, player=(646,916), corner_timer=0.00
[01:27:55] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[01:27:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(784.066, 887.2717), source=ENEMY (Enemy4), range=1469, listeners=7
[01:27:55] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=5
[01:27:55] [INFO] [BloodDecal] Blood puddle created at (628.1352, 931.4787) (added to group)
[01:27:55] [INFO] [BloodDecal] Blood puddle created at (646.9332, 881.7646) (added to group)
[01:27:55] [INFO] [BloodDecal] Blood puddle created at (465.4892, 520.8806) (added to group)
[01:27:55] [INFO] [BloodDecal] Blood puddle created at (453.4616, 523.1497) (added to group)
[01:27:55] [INFO] [BloodDecal] Blood puddle created at (575.7117, 618.7098) (added to group)
[01:27:55] [INFO] [BloodDecal] Blood puddle created at (558.8083, 680.1583) (added to group)
[01:27:55] [INFO] [BloodDecal] Blood puddle created at (557.6367, 650.2095) (added to group)
[01:27:55] [INFO] [BloodDecal] Blood puddle created at (543.7002, 663.392) (added to group)
[01:27:55] [INFO] [BloodDecal] Blood puddle created at (552.7349, 682.1285) (added to group)
[01:27:55] [INFO] [BloodDecal] Blood puddle created at (546.4988, 645.8826) (added to group)
[01:27:56] [INFO] [LastChance] Threat detected: Bullet
[01:27:56] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[01:27:56] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:27:56] [ENEMY] [Enemy4] ROT_CHANGE: P1:visible -> P2:combat_state, state=PURSUING, target=170.0°, current=114.3°, player=(659,916), corner_timer=0.00
[01:27:56] [INFO] [Player] Hit blocked by invincibility mode (C#)
[01:27:56] [INFO] [Player] Spawning blood effect at (663.6102, 916.20795), dir=(1, 0), lethal=False (C#)
[01:27:56] [INFO] [ImpactEffects] spawn_blood_effect called at (663.6102, 916.2079), dir=(1, 0), lethal=false
[01:27:56] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:27:56] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[01:27:56] [INFO] [ImpactEffects] Blood effect spawned at (663.6102, 916.2079) (scale=1)
[01:27:56] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=170.9°, current=141.1°, player=(663,916), corner_timer=0.00
[01:27:56] [INFO] [BloodDecal] Blood puddle created at (675.1143, 906.126) (added to group)
[01:27:56] [INFO] [BloodDecal] Blood puddle created at (626.1663, 897.0149) (added to group)
[01:27:56] [INFO] [BloodDecal] Blood puddle created at (440.9876, 488.5766) (added to group)
[01:27:56] [INFO] [BloodDecal] Blood puddle created at (479.4634, 528.3508) (added to group)
[01:27:56] [INFO] [BloodDecal] Blood puddle created at (454.1489, 531.6411) (added to group)
[01:27:56] [INFO] [BloodDecal] Blood puddle created at (452.2356, 479.9024) (added to group)
[01:27:56] [INFO] [BloodDecal] Blood puddle created at (426.7542, 471.1249) (added to group)
[01:27:56] [INFO] [BloodDecal] Blood puddle created at (432.9279, 484.5092) (added to group)
[01:27:56] [INFO] [BloodDecal] Blood puddle created at (493.1562, 475.4386) (added to group)
[01:27:56] [INFO] [BloodDecal] Blood puddle created at (598.5066, 694.2215) (added to group)
[01:27:56] [INFO] [BloodDecal] Blood puddle created at (593.7383, 614.444) (added to group)
[01:27:56] [INFO] [BloodDecal] Blood puddle created at (588.5275, 696.0009) (added to group)
[01:27:56] [INFO] [BloodDecal] Blood puddle created at (593.5341, 628.6007) (added to group)
[01:27:56] [INFO] [BloodDecal] Blood puddle created at (616.8287, 680.3847) (added to group)
[01:27:56] [INFO] [BloodDecal] Blood puddle created at (575.0121, 624.3018) (added to group)
[01:27:56] [ENEMY] [Enemy4] ROT_CHANGE: P1:visible -> P2:combat_state, state=PURSUING, target=174.1°, current=40.4°, player=(676,916), corner_timer=0.00
[01:27:56] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[01:27:56] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=101), can_see=false
[01:27:56] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1163), can_see=false
[01:27:56] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1349), can_see=false
[01:27:56] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=927), can_see=false
[01:27:56] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1328), can_see=false
[01:27:56] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1551), can_see=false
[01:27:56] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=834), can_see=false
[01:27:56] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=177.2°, current=-141.3°, player=(688,916), corner_timer=0.00
[01:27:56] [ENEMY] [Enemy4] Player distracted - priority attack triggered
[01:27:56] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(781.7294, 911.6589), source=ENEMY (Enemy4), range=1469, listeners=7
[01:27:56] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=6
[01:27:56] [INFO] [BloodDecal] Blood puddle created at (667.1933, 875.7451) (added to group)
[01:27:56] [INFO] [BloodDecal] Blood puddle created at (648.634, 879.9653) (added to group)
[01:27:56] [INFO] [BloodDecal] Blood puddle created at (641.4307, 893.1614) (added to group)
[01:27:56] [INFO] [BloodDecal] Blood puddle created at (646.3412, 938.6728) (added to group)
[01:27:56] [INFO] [BloodDecal] Blood puddle created at (475.4287, 536.9901) (added to group)
[01:27:56] [INFO] [BloodDecal] Blood puddle created at (488.3569, 477.6793) (added to group)
[01:27:56] [INFO] [BloodDecal] Blood puddle created at (486.0062, 500.0057) (added to group)
[01:27:56] [INFO] [BloodDecal] Blood puddle created at (489.823, 530.4886) (added to group)
[01:27:56] [INFO] [BloodDecal] Blood puddle created at (587.1325, 640.6528) (added to group)
[01:27:56] [INFO] [BloodDecal] Blood puddle created at (566.8047, 709.8606) (added to group)
[01:27:56] [INFO] [BloodDecal] Blood puddle created at (620.4742, 705.1176) (added to group)
[01:27:56] [INFO] [BloodDecal] Blood puddle created at (565.932, 711.1447) (added to group)
[01:27:56] [INFO] [BloodDecal] Blood puddle created at (571.4709, 632.5875) (added to group)
[01:27:56] [INFO] [BloodDecal] Blood puddle created at (579.4258, 639.0547) (added to group)
[01:27:56] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[01:27:56] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:27:56] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[01:27:56] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[01:27:56] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[01:27:56] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[01:27:56] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[01:27:56] [INFO] [LastChance] Resetting all effects (scene change detected)
[01:27:56] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[01:27:56] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[01:27:56] [INFO] [EnemyGrenade] Initialized: 1 grenades
[01:27:56] [ENEMY] [Enemy1] Death animation component initialized
[01:27:56] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:27:56] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[01:27:56] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[01:27:56] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[01:27:56] [INFO] [EnemyGrenade] Initialized: 1 grenades
[01:27:56] [ENEMY] [Enemy2] Death animation component initialized
[01:27:56] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:27:56] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[01:27:56] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[01:27:56] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[01:27:56] [ENEMY] [Enemy3] Death animation component initialized
[01:27:56] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:27:56] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[01:27:56] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[01:27:56] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[01:27:56] [INFO] [EnemyGrenade] Initialized: 1 grenades
[01:27:56] [ENEMY] [Enemy4] Death animation component initialized
[01:27:56] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:27:56] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[01:27:56] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[01:27:56] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[01:27:56] [ENEMY] [Enemy5] Death animation component initialized
[01:27:56] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:27:56] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[01:27:56] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[01:27:56] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[01:27:56] [ENEMY] [Enemy6] Death animation component initialized
[01:27:56] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:27:56] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[01:27:56] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[01:27:56] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[01:27:56] [ENEMY] [Enemy7] Death animation component initialized
[01:27:56] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:27:56] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[01:27:56] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[01:27:56] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[01:27:56] [INFO] [EnemyGrenade] Initialized: 1 grenades
[01:27:56] [ENEMY] [Enemy8] Death animation component initialized
[01:27:56] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:27:56] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[01:27:56] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[01:27:56] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[01:27:56] [ENEMY] [Enemy9] Death animation component initialized
[01:27:56] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:27:56] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[01:27:56] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[01:27:56] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[01:27:56] [ENEMY] [Enemy10] Death animation component initialized
[01:27:56] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:27:56] [INFO] [BloodyFeet:Player] Footprint scene loaded
[01:27:56] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[01:27:56] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[01:27:56] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[01:27:56] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[01:27:56] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[01:27:56] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[01:27:56] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[01:27:56] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[01:27:56] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[01:27:56] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: True
[01:27:56] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[01:27:56] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[01:27:56] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[01:27:56] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[01:27:56] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[01:27:56] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[01:27:56] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[01:27:56] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[01:27:56] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[01:27:56] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[01:27:56] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[01:27:56] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[01:27:56] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[01:27:56] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[01:27:56] [INFO] [ScoreManager] Level started with 10 enemies
[01:27:56] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[01:27:56] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[01:27:56] [INFO] [ReplayManager] Replay data cleared
[01:27:56] [INFO] [BuildingLevel] Previous replay data cleared
[01:27:56] [INFO] [ReplayManager] Detected player weapon: Shotgun
[01:27:56] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[01:27:56] [INFO] [ReplayManager] Level: BuildingLevel
[01:27:56] [INFO] [ReplayManager] Player: Player (valid: True)
[01:27:56] [INFO] [ReplayManager] Enemies count: 10
[01:27:56] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/shotgun_topdown.png
[01:27:56] [INFO] [ReplayManager]   Enemy 0: Enemy1
[01:27:56] [INFO] [ReplayManager]   Enemy 1: Enemy2
[01:27:56] [INFO] [ReplayManager]   Enemy 2: Enemy3
[01:27:56] [INFO] [ReplayManager]   Enemy 3: Enemy4
[01:27:56] [INFO] [ReplayManager]   Enemy 4: Enemy5
[01:27:56] [INFO] [ReplayManager]   Enemy 5: Enemy6
[01:27:56] [INFO] [ReplayManager]   Enemy 6: Enemy7
[01:27:56] [INFO] [ReplayManager]   Enemy 7: Enemy8
[01:27:56] [INFO] [ReplayManager]   Enemy 8: Enemy9
[01:27:56] [INFO] [ReplayManager]   Enemy 9: Enemy10
[01:27:56] [INFO] [BuildingLevel] Replay recording started successfully
[01:27:56] [INFO] [BloodDecal] Blood puddle created at (674.5743, 888.2286) (added to group)
[01:27:56] [INFO] [BloodDecal] Blood puddle created at (648.4578, 914.2689) (added to group)
[01:27:56] [INFO] [BloodDecal] Blood puddle created at (643.7847, 890.646) (added to group)
[01:27:56] [INFO] [BloodDecal] Blood puddle created at (477.3865, 496.1038) (added to group)
[01:27:56] [INFO] [BloodDecal] Blood puddle created at (424.7724, 456.4712) (added to group)
[01:27:56] [INFO] [BloodDecal] Blood puddle created at (426.6881, 465.2489) (added to group)
[01:27:56] [INFO] [BloodDecal] Blood puddle created at (598.9063, 700.5571) (added to group)
[01:27:56] [INFO] [BloodDecal] Blood puddle created at (609.0922, 725.8006) (added to group)
[01:27:56] [INFO] [BloodDecal] Blood puddle created at (619.5751, 700.9725) (added to group)
[01:27:56] [INFO] [BloodDecal] Blood puddle created at (562.2921, 648.9957) (added to group)
[01:27:56] [INFO] [BloodDecal] Blood puddle created at (644.3077, 679.0994) (added to group)
[01:27:56] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[01:27:56] [INFO] [CinemaEffects] Found player node: Player
[01:27:56] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[01:27:56] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 8)
[01:27:56] [ENEMY] [Enemy1] Registered as sound listener
[01:27:56] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 4, behavior: GUARD
[01:27:56] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[01:27:56] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 9)
[01:27:56] [ENEMY] [Enemy2] Registered as sound listener
[01:27:56] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 3, behavior: GUARD
[01:27:56] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[01:27:56] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 10)
[01:27:56] [ENEMY] [Enemy3] Registered as sound listener
[01:27:56] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 2, behavior: GUARD
[01:27:56] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[01:27:56] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 11)
[01:27:56] [ENEMY] [Enemy4] Registered as sound listener
[01:27:56] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 4, behavior: GUARD
[01:27:56] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[01:27:56] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 12)
[01:27:56] [ENEMY] [Enemy5] Registered as sound listener
[01:27:56] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 2, behavior: GUARD
[01:27:56] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[01:27:56] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 13)
[01:27:56] [ENEMY] [Enemy6] Registered as sound listener
[01:27:56] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 3, behavior: GUARD
[01:27:56] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[01:27:56] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 14)
[01:27:56] [ENEMY] [Enemy7] Registered as sound listener
[01:27:56] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 2, behavior: PATROL
[01:27:56] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[01:27:56] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 15)
[01:27:56] [ENEMY] [Enemy8] Registered as sound listener
[01:27:56] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 2, behavior: GUARD
[01:27:56] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[01:27:56] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 16)
[01:27:56] [ENEMY] [Enemy9] Registered as sound listener
[01:27:56] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 3, behavior: GUARD
[01:27:56] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[01:27:56] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 17)
[01:27:56] [ENEMY] [Enemy10] Registered as sound listener
[01:27:56] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 4, behavior: PATROL
[01:27:56] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[01:27:56] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[01:27:56] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[01:27:56] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[01:27:56] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=236.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[01:27:56] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[01:27:56] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[01:27:56] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[01:27:56] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=123.7°, current=0.0°, player=(450,1249), corner_timer=0.00
[01:27:56] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[01:27:56] [INFO] [Player] Detecting weapon pose (frame 3)...
[01:27:56] [INFO] [Player] Detected weapon: Shotgun (Shotgun pose)
[01:27:56] [INFO] [Player] Applied Shotgun arm pose: Left=(21, 6), Right=(-1, 6)
[01:27:56] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[01:27:56] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[01:27:56] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[01:27:56] [INFO] [LastChance] Found player: Player
[01:27:56] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[01:27:56] [INFO] [LastChance] Connected to player Damaged signal (C#)
[01:27:56] [INFO] [LastChance] Connected to player Died signal (C#)
[01:27:56] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[01:27:56] [INFO] [BloodDecal] Blood puddle created at (452.646, 460.7393) (added to group)
[01:27:56] [INFO] [BloodDecal] Blood puddle created at (433.6469, 512.6325) (added to group)
[01:27:56] [INFO] [BloodDecal] Blood puddle created at (485.9651, 543.0159) (added to group)
[01:27:56] [INFO] [BloodDecal] Blood puddle created at (426.2266, 469.4133) (added to group)
[01:27:56] [INFO] [BloodDecal] Blood puddle created at (430.4717, 471.8453) (added to group)
[01:27:56] [INFO] [BloodDecal] Blood puddle created at (465.0453, 506.0249) (added to group)
[01:27:56] [INFO] [BloodDecal] Blood puddle created at (659.6454, 763.0056) (added to group)
[01:27:56] [INFO] [BloodDecal] Blood puddle created at (571.1409, 662.1866) (added to group)
[01:27:56] [INFO] [BloodDecal] Blood puddle created at (744.0616, 897.421) (added to group)
[01:27:56] [INFO] [BloodDecal] Blood puddle created at (739.709, 967.082) (added to group)
[01:27:56] [INFO] [BloodDecal] Blood puddle created at (434.1433, 520.4788) (added to group)
[01:27:56] [INFO] [BloodDecal] Blood puddle created at (677.0105, 691.8083) (added to group)
[01:27:56] [INFO] [BloodDecal] Blood puddle created at (591.6594, 666.6901) (added to group)
[01:27:56] [INFO] [BloodDecal] Blood puddle created at (599.55, 696.0498) (added to group)
[01:27:56] [INFO] [BloodDecal] Blood puddle created at (676.4504, 704.9272) (added to group)
[01:27:56] [INFO] [BloodDecal] Blood puddle created at (635.6724, 708.4932) (added to group)
[01:27:56] [INFO] [BloodDecal] Blood puddle created at (612.7552, 678.204) (added to group)
[01:27:56] [INFO] [BloodDecal] Blood puddle created at (582.9721, 677.5682) (added to group)
[01:27:56] [INFO] [BloodDecal] Blood puddle created at (642.6534, 675.0635) (added to group)
[01:27:56] [INFO] [BloodDecal] Blood puddle created at (761.7401, 933.2253) (added to group)
[01:27:56] [INFO] [BloodDecal] Blood puddle created at (725.9332, 960.2899) (added to group)
[01:27:56] [INFO] [BloodDecal] Blood puddle created at (637.8213, 693.379) (added to group)
[01:27:56] [INFO] [BloodDecal] Blood puddle created at (434.2353, 512.7527) (added to group)
[01:27:56] [INFO] [BloodDecal] Blood puddle created at (692.538, 746.9152) (added to group)
[01:27:56] [INFO] [BloodDecal] Blood puddle created at (613.7487, 701.6309) (added to group)
[01:27:56] [INFO] [BloodDecal] Blood puddle created at (486.4851, 549.4943) (added to group)
[01:27:56] [INFO] [BloodDecal] Blood puddle created at (666.8306, 741.227) (added to group)
[01:27:56] [INFO] [BloodDecal] Blood puddle created at (598.7969, 772.1488) (added to group)
[01:27:56] [INFO] [BloodDecal] Blood puddle created at (680.1129, 659.0406) (added to group)
[01:27:56] [INFO] [BloodyFeet:Enemy3] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[01:27:56] [INFO] [BloodDecal] Blood puddle created at (617.8382, 692.1664) (added to group)
[01:27:56] [INFO] [BloodDecal] Blood puddle created at (624.6316, 656.4474) (added to group)
[01:27:56] [INFO] [BloodDecal] Blood puddle created at (653.6124, 767.7992) (added to group)
[01:27:56] [INFO] [BloodDecal] Blood puddle created at (765.4315, 983.4097) (added to group)
[01:27:56] [INFO] [BloodDecal] Blood puddle created at (646.907, 642.5241) (added to group)
[01:27:56] [INFO] [BloodDecal] Blood puddle created at (802.9366, 933.5418) (added to group)
[01:27:56] [INFO] [BloodDecal] Blood puddle created at (781.2203, 914.2883) (added to group)
[01:27:56] [INFO] [BloodyFeet:Enemy4] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[01:27:56] [INFO] [BloodDecal] Blood puddle created at (770.0977, 994.6627) (added to group)
[01:27:57] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[01:27:57] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[01:27:57] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[01:27:57] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,782), corner_timer=0.30
[01:27:57] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,782), corner_timer=0.30
[01:27:57] [ENEMY] [Enemy1] Player ammo empty: false -> true
[01:27:57] [ENEMY] [Enemy2] Player ammo empty: false -> true
[01:27:57] [ENEMY] [Enemy3] Player ammo empty: false -> true
[01:27:57] [ENEMY] [Enemy4] Player ammo empty: false -> true
[01:27:57] [ENEMY] [Enemy5] Player ammo empty: false -> true
[01:27:57] [ENEMY] [Enemy6] Player ammo empty: false -> true
[01:27:57] [ENEMY] [Enemy7] Player ammo empty: false -> true
[01:27:57] [ENEMY] [Enemy8] Player ammo empty: false -> true
[01:27:57] [ENEMY] [Enemy9] Player ammo empty: false -> true
[01:27:57] [ENEMY] [Enemy10] Player ammo empty: false -> true
[01:27:57] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(449.733, 770.4217), source=PLAYER (Player), range=600, listeners=17
[01:27:57] [INFO] [SoundPropagation] Cleaned up 7 invalid listeners
[01:27:57] [ENEMY] [Enemy1] Heard player EMPTY_CLICK at (449.733, 770.4217), intensity=0.01, distance=446
[01:27:57] [ENEMY] [Enemy1] Vulnerability sound triggered pursuit - transitioning from IDLE to PURSUING
[01:27:57] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (449.733, 770.4217), intensity=0.05, distance=226
[01:27:57] [ENEMY] [Enemy2] Vulnerability sound triggered pursuit - transitioning from IDLE to PURSUING
[01:27:57] [ENEMY] [Enemy3] Heard player EMPTY_CLICK at (449.733, 770.4217), intensity=0.04, distance=251
[01:27:57] [ENEMY] [Enemy3] Vulnerability sound triggered pursuit - transitioning from IDLE to PURSUING
[01:27:57] [ENEMY] [Enemy4] Heard player EMPTY_CLICK at (449.733, 770.4217), intensity=0.02, distance=373
[01:27:57] [ENEMY] [Enemy4] Vulnerability sound triggered pursuit - transitioning from IDLE to PURSUING
[01:27:57] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=6, self=0, below_threshold=0
[01:27:57] [INFO] [Shotgun.FIX#212] Firing 14 pellets with 15° spread at pos=(449.733, 770.4217)
[01:27:57] [INFO] [Shotgun.FIX#212] Normal pellet 1/14: extraOffset=9,5, distance=61,5px, pos=(510.52783, 761.32886)
[01:27:57] [INFO] [Shotgun.FIX#212] Normal pellet 2/14: extraOffset=-11,1, distance=40,9px, pos=(490.14664, 763.8751)
[01:27:57] [INFO] [Shotgun.FIX#212] Normal pellet 3/14: extraOffset=12,4, distance=64,4px, pos=(513.5644, 762.09753)
[01:27:57] [INFO] [Shotgun.FIX#212] Normal pellet 4/14: extraOffset=4,5, distance=56,5px, pos=(505.8097, 763.32416)
[01:27:57] [INFO] [Shotgun.FIX#212] Normal pellet 5/14: extraOffset=-0,5, distance=51,5px, pos=(500.9937, 765.5584)
[01:27:57] [INFO] [Shotgun.FIX#212] Normal pellet 6/14: extraOffset=14,9, distance=66,9px, pos=(516.49786, 765.48145)
[01:27:57] [INFO] [Shotgun.FIX#212] Normal pellet 7/14: extraOffset=-1,2, distance=50,8px, pos=(500.44525, 768.0676)
[01:27:57] [INFO] [Shotgun.FIX#212] Normal pellet 8/14: extraOffset=-5,3, distance=46,7px, pos=(496.37485, 767.9979)
[01:27:57] [INFO] [Shotgun.FIX#212] Normal pellet 9/14: extraOffset=6,3, distance=58,3px, pos=(508.05923, 768.8481)
[01:27:57] [INFO] [Shotgun.FIX#212] Normal pellet 10/14: extraOffset=8,6, distance=60,6px, pos=(510.35547, 770.56744)
[01:27:57] [INFO] [Shotgun.FIX#212] Normal pellet 11/14: extraOffset=-7,4, distance=44,6px, pos=(494.33072, 771.20447)
[01:27:57] [INFO] [Shotgun.FIX#212] Normal pellet 12/14: extraOffset=10,6, distance=62,6px, pos=(512.20074, 774.1916)
[01:27:57] [INFO] [Shotgun.FIX#212] Normal pellet 13/14: extraOffset=1,1, distance=53,1px, pos=(502.72968, 772.8739)
[01:27:57] [INFO] [Shotgun.FIX#212] Normal pellet 14/14: extraOffset=1,6, distance=53,6px, pos=(503.14066, 774.4379)
[01:27:57] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(449.733, 770.4217), source=PLAYER (Shotgun), range=1469, listeners=10
[01:27:57] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[01:27:57] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=70.4°, current=168.8°, player=(449,770), corner_timer=0.00
[01:27:57] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=446), can_see=false
[01:27:57] [INFO] [EnemyGrenade] Throw path blocked to (449.733, 770.4217)
[01:27:57] [ENEMY] [Enemy1] Pursuing vulnerability sound at (449.733, 770.4217), distance=446
[01:27:57] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=77.3°, current=-157.5°, player=(449,770), corner_timer=0.00
[01:27:57] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=226), can_see=false
[01:27:57] [INFO] [EnemyGrenade] Unsafe throw distance (226 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:27:57] [ENEMY] [Enemy2] Pursuing vulnerability sound at (449.733, 770.4217), distance=226
[01:27:57] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=175.3°, current=-123.8°, player=(449,770), corner_timer=0.00
[01:27:57] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=251), can_see=false
[01:27:57] [ENEMY] [Enemy3] Pursuing vulnerability sound at (449.733, 770.4217), distance=251
[01:27:57] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=-159.7°, current=-101.3°, player=(449,770), corner_timer=0.00
[01:27:57] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=373), can_see=false
[01:27:57] [INFO] [EnemyGrenade] Throw path blocked to (449.733, 770.4217)
[01:27:57] [ENEMY] [Enemy4] Pursuing vulnerability sound at (449.733, 770.4217), distance=373
[01:27:57] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1319), can_see=false
[01:27:57] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1534), can_see=false
[01:27:57] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1178), can_see=false
[01:27:57] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1602), can_see=false
[01:27:57] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1825), can_see=false
[01:27:57] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1093), can_see=false
[01:27:57] [INFO] [EnemyGrenade] Throw path blocked to (449.733, 770.4217)
[01:27:57] [INFO] [EnemyGrenade] Unsafe throw distance (222 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:27:57] [INFO] [EnemyGrenade] Throw path blocked to (449.733, 770.4217)
[01:27:57] [INFO] [EnemyGrenade] Throw path blocked to (449.733, 770.4217)
[01:27:57] [INFO] [EnemyGrenade] Unsafe throw distance (217 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:27:57] [INFO] [EnemyGrenade] Throw path blocked to (449.733, 770.4217)
[01:27:57] [INFO] [EnemyGrenade] Throw path blocked to (449.733, 770.4217)
[01:27:57] [INFO] [EnemyGrenade] Unsafe throw distance (213 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:27:57] [INFO] [EnemyGrenade] Throw path blocked to (449.733, 770.4217)
[01:27:57] [ENEMY] [Enemy3] Hit taken, damage: 1, health: 2/2 -> 1/2
[01:27:57] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[01:27:57] [INFO] [ImpactEffects] spawn_blood_effect called at (678.7373, 751.7351), dir=(1, 0), lethal=false
[01:27:57] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:27:57] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[01:27:57] [INFO] [ImpactEffects] Blood effect spawned at (678.7373, 751.7351) (scale=1)
[01:27:57] [ENEMY] [Enemy3] Hit taken, damage: 1, health: 1/2 -> 0/2
[01:27:57] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[01:27:57] [INFO] [ImpactEffects] spawn_blood_effect called at (678.7373, 751.7351), dir=(1, 0), lethal=true
[01:27:57] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:27:57] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[01:27:57] [INFO] [ImpactEffects] Blood effect spawned at (678.7373, 751.7351) (scale=1.5)
[01:27:57] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[01:27:57] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[01:27:57] [ENEMY] [Enemy4] [AllyDeath] Witnessed at (678.7373, 751.7351), entering SEARCHING
[01:27:57] [ENEMY] [Enemy4] SEARCHING started: center=(678.7373, 751.7351), radius=100, waypoints=5
[01:27:57] [ENEMY] [Enemy3] [AllyDeath] Notified 2 enemies
[01:27:57] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[01:27:57] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[01:27:57] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[01:27:57] [INFO] [EnemyGrenade] Throw path blocked to (449.733, 770.4217)
[01:27:57] [INFO] [EnemyGrenade] Unsafe throw distance (208 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:27:57] [INFO] [EnemyGrenade] Throw path blocked to (449.733, 770.4217)
[01:27:57] [INFO] [EnemyGrenade] Throw path blocked to (449.733, 770.4217)
[01:27:57] [INFO] [EnemyGrenade] Unsafe throw distance (204 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:27:57] [INFO] [EnemyGrenade] Throw path blocked to (449.733, 770.4217)
[01:27:57] [INFO] [EnemyGrenade] Unsafe throw distance (201 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:27:57] [INFO] [EnemyGrenade] Throw path blocked to (449.733, 770.4217)
[01:27:57] [INFO] [EnemyGrenade] Unsafe throw distance (197 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:27:57] [INFO] [EnemyGrenade] Throw path blocked to (449.733, 770.4217)
[01:27:57] [INFO] [EnemyGrenade] Unsafe throw distance (194 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:27:57] [INFO] [EnemyGrenade] Throw path blocked to (449.733, 770.4217)
[01:27:57] [INFO] [EnemyGrenade] Unsafe throw distance (191 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:27:57] [INFO] [EnemyGrenade] Throw path blocked to (449.733, 770.4217)
[01:27:57] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[01:27:57] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=NeedsPumpUp, ReloadState=NotReloading
[01:27:57] [INFO] [Shotgun.FIX#445] dragStartPos=(899, 710), aimDir=(1,00, -0,07)
[01:27:57] [INFO] [EnemyGrenade] Unsafe throw distance (188 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:27:57] [INFO] [EnemyGrenade] Throw path blocked to (449.733, 770.4217)
[01:27:57] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:27:57] [INFO] [EnemyGrenade] Unsafe throw distance (184 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:27:58] [INFO] [EnemyGrenade] Throw path blocked to (449.733, 770.4217)
[01:27:58] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:27:58] [INFO] [Shotgun.FIX#445v7] Mid-drag pump UP - shell ejected, continue dragging DOWN to chamber
[01:27:58] [INFO] [EnemyGrenade] Unsafe throw distance (181 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:27:58] [INFO] [EnemyGrenade] Throw path blocked to (449.733, 770.4217)
[01:27:58] [INFO] [EnemyGrenade] Unsafe throw distance (178 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:27:58] [INFO] [EnemyGrenade] Throw path blocked to (449.733, 770.4217)
[01:27:58] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:27:58] [INFO] [EnemyGrenade] Unsafe throw distance (175 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:27:58] [INFO] [EnemyGrenade] Throw path blocked to (449.733, 770.4217)
[01:27:58] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:27:58] [INFO] [EnemyGrenade] Unsafe throw distance (172 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:27:58] [INFO] [EnemyGrenade] Throw path blocked to (449.733, 770.4217)
[01:27:58] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:27:58] [INFO] [EnemyGrenade] Unsafe throw distance (169 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:27:58] [INFO] [EnemyGrenade] Throw path blocked to (449.733, 770.4217)
[01:27:58] [INFO] [EnemyGrenade] Unsafe throw distance (166 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:27:58] [INFO] [EnemyGrenade] Throw path blocked to (449.733, 770.4217)
[01:27:58] [INFO] [EnemyGrenade] Unsafe throw distance (163 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:27:58] [INFO] [EnemyGrenade] Throw path blocked to (449.733, 770.4217)
[01:27:58] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=57.0°, player=(415,736), corner_timer=-0.01
[01:27:58] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[01:27:58] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=52.4°, player=(415,736), corner_timer=-0.01
[01:27:58] [ENEMY] [Enemy10] PATROL corner check: angle 14.6°
[01:27:58] [INFO] [EnemyGrenade] Unsafe throw distance (161 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:27:58] [INFO] [EnemyGrenade] Throw path blocked to (449.733, 770.4217)
[01:27:58] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=54.7°, player=(412,736), corner_timer=0.30
[01:27:58] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.6°, current=54.2°, player=(412,736), corner_timer=0.30
[01:27:58] [INFO] [EnemyGrenade] Unsafe throw distance (158 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:27:58] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=SEARCHING, target=-168.4°, current=-168.6°, player=(409,737), corner_timer=0.00
[01:27:58] [ENEMY] [Enemy4] Player empty ammo - priority attack triggered
[01:27:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(791.3391, 815.3438), source=ENEMY (Enemy4), range=1469, listeners=9
[01:27:58] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=1, below_threshold=6
[01:27:58] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(723.5482, 809.4278), shooter_id=960764053039, bullet_pos=(723.5482, 809.4278)
[01:27:58] [INFO] [Bullet] Using shooter_position, distance=0
[01:27:58] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[01:27:58] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[01:27:58] [INFO] [Bullet] Starting wall penetration at (723.5482, 809.4278)
[01:27:58] [INFO] [EnemyGrenade] Unsafe throw distance (155 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:27:58] [ENEMY] [Enemy4] SEARCHING: Player spotted! Transitioning to COMBAT
[01:27:58] [ENEMY] [Enemy4] State: SEARCHING -> COMBAT
[01:27:58] [INFO] [Bullet] Raycast backward hit penetrating body at distance 41,186295
[01:27:58] [INFO] [Bullet] Body exited signal received for penetrating body
[01:27:58] [INFO] [Bullet] Exiting penetration at (685.9937, 801.73987) after traveling 33,333336 pixels through wall
[01:27:58] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[01:27:58] [INFO] [EnemyGrenade] Unsafe throw distance (153 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:27:58] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[01:27:58] [INFO] [BloodDecal] Blood puddle created at (749.6544, 735.9309) (added to group)
[01:27:58] [INFO] [BloodDecal] Blood puddle created at (726.501, 742.2906) (added to group)
[01:27:58] [INFO] [BloodDecal] Blood puddle created at (754.3569, 750.8129) (added to group)
[01:27:58] [INFO] [EnemyGrenade] Unsafe throw distance (150 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:27:58] [INFO] [ReplayManager] Recording frame 120 (1,9s): player_valid=True, enemies=10
[01:27:58] [INFO] [EnemyGrenade] Unsafe throw distance (148 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:27:58] [INFO] [EnemyGrenade] Unsafe throw distance (146 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:27:58] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) - pursuing to attack (dist=402)
[01:27:58] [INFO] [EnemyGrenade] Unsafe throw distance (144 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:27:58] [ENEMY] [Enemy4] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=83.7°, current=-169.4°, player=(392,742), corner_timer=0.00
[01:27:58] [INFO] [EnemyGrenade] Throw path blocked to (449.733, 770.4217)
[01:27:58] [INFO] [BloodDecal] Blood puddle created at (772.4108, 758.002) (added to group)
[01:27:58] [INFO] [BloodDecal] Blood puddle created at (748.5336, 738.6411) (added to group)
[01:27:58] [INFO] [EnemyGrenade] Unsafe throw distance (144 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:27:58] [INFO] [EnemyGrenade] Throw path blocked to (449.733, 770.4217)
[01:27:58] [INFO] [EnemyGrenade] Unsafe throw distance (144 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:27:58] [INFO] [EnemyGrenade] Throw path blocked to (449.733, 770.4217)
[01:27:58] [INFO] [BloodDecal] Blood puddle created at (750.0701, 797.9242) (added to group)
[01:27:58] [INFO] [EnemyGrenade] Unsafe throw distance (144 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:27:58] [INFO] [EnemyGrenade] Throw path blocked to (449.733, 770.4217)
[01:27:58] [INFO] [BloodDecal] Blood puddle created at (758.8079, 778.8863) (added to group)
[01:27:58] [INFO] [EnemyGrenade] Unsafe throw distance (143 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:27:58] [INFO] [EnemyGrenade] Throw path blocked to (449.733, 770.4217)
[01:27:58] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=311), can_see=false
[01:27:58] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=168), can_see=false
[01:27:58] [INFO] [EnemyGrenade] Unsafe throw distance (143 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:27:58] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=425), can_see=false
[01:27:58] [INFO] [EnemyGrenade] Throw path blocked to (449.733, 770.4217)
[01:27:58] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1383), can_see=false
[01:27:58] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1603), can_see=false
[01:27:58] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1329), can_see=false
[01:27:58] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1679), can_see=false
[01:27:58] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1903), can_see=false
[01:27:58] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1172), can_see=false
[01:27:58] [INFO] [EnemyGrenade] Unsafe throw distance (143 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:27:58] [INFO] [EnemyGrenade] Throw path blocked to (449.733, 770.4217)
[01:27:58] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[01:27:58] [INFO] [BloodDecal] Blood puddle created at (754.35, 801.4744) (added to group)
[01:27:58] [INFO] [BloodyFeet:Enemy1] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[01:27:58] [INFO] [EnemyGrenade] Unsafe throw distance (142 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:27:58] [INFO] [EnemyGrenade] Throw path blocked to (449.733, 770.4217)
[01:27:58] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[01:27:58] [INFO] [BloodDecal] Blood puddle created at (761.2752, 782.0025) (added to group)
[01:27:58] [INFO] [BloodDecal] Blood puddle created at (818.7121, 778.6387) (added to group)
[01:27:58] [INFO] [EnemyGrenade] Unsafe throw distance (141 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:27:58] [INFO] [EnemyGrenade] Throw path blocked to (449.733, 770.4217)
[01:27:58] [INFO] [EnemyGrenade] Unsafe throw distance (140 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:27:58] [INFO] [EnemyGrenade] Throw path blocked to (449.733, 770.4217)
[01:27:58] [INFO] [BloodDecal] Blood puddle created at (746.2023, 799.1323) (added to group)
[01:27:58] [INFO] [BloodDecal] Blood puddle created at (813.7957, 814.7863) (added to group)
[01:27:58] [INFO] [GrenadeBase] CCD enabled (mode: CAST_RAY) to prevent wall tunneling
[01:27:58] [INFO] [GrenadeBase] Grenade created at (418.755, 495.2486) (frozen)
[01:27:58] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[01:27:58] [INFO] [GrenadeTimer] Initialized for Frag grenade, effect radius: 225
[01:27:58] [INFO] [GrenadeTimerHelper] Attached GrenadeTimer to FragGrenade (type: Frag)
[01:27:58] [INFO] [EnemyGrenade] Attached C# GrenadeTimer to grenade (type: Frag)
[01:27:58] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[01:27:58] [INFO] [GrenadeTimer] Timer activated! 4 seconds until explosion
[01:27:58] [INFO] [GrenadeBase] LEGACY throw_grenade() called! Direction: (0.21589, 0.976418), Speed: 633.4 (unfrozen)
[01:27:58] [INFO] [GrenadeBase] NOTE: Using DRAG-BASED system. If velocity-based is expected, ensure grenade has throw_grenade_velocity_based() method.
[01:27:58] [INFO] [FragGrenade] Grenade thrown (legacy) - impact detection enabled
[01:27:58] [INFO] [GrenadeTimer] Grenade marked as thrown - impact detection enabled
[01:27:58] [INFO] [EnemyGrenade] Enemy grenade thrown! Target: (449.733, 770.4217), Distance: 317
[01:27:58] [INFO] [EnemyGrenade] Unsafe throw distance (136 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:27:58] [INFO] [EnemyGrenade] Throw path blocked to (449.733, 770.4217)
[01:27:58] [INFO] [BloodDecal] Blood puddle created at (750.5551, 807.5359) (added to group)
[01:27:58] [INFO] [EnemyGrenade] Unsafe throw distance (133 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:27:58] [INFO] [EnemyGrenade] Throw path blocked to (449.733, 770.4217)
[01:27:58] [INFO] [BloodDecal] Blood puddle created at (786.5348, 823.0535) (added to group)
[01:27:58] [INFO] [EnemyGrenade] Unsafe throw distance (130 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:27:58] [INFO] [EnemyGrenade] Throw path blocked to (449.733, 770.4217)
[01:27:58] [INFO] [EnemyGrenade] Unsafe throw distance (132 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:27:58] [INFO] [EnemyGrenade] Throw path blocked to (449.733, 770.4217)
[01:27:58] [ENEMY] [Enemy3] Ragdoll activated
[01:27:58] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[01:27:58] [INFO] [BloodDecal] Blood puddle created at (774.3685, 776.5738) (added to group)
[01:27:58] [INFO] [BloodDecal] Blood puddle created at (799.5629, 795.3751) (added to group)
[01:27:58] [INFO] [EnemyGrenade] Unsafe throw distance (131 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:27:58] [INFO] [EnemyGrenade] Throw path blocked to (449.733, 770.4217)
[01:27:58] [INFO] [BloodDecal] Blood puddle created at (834.5368, 758.0116) (added to group)
[01:27:58] [INFO] [EnemyGrenade] Unsafe throw distance (127 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:27:58] [INFO] [EnemyGrenade] Throw path blocked to (449.733, 770.4217)
[01:27:58] [INFO] [BloodDecal] Blood puddle created at (810.8961, 753.2174) (added to group)
[01:27:58] [INFO] [EnemyGrenade] Unsafe throw distance (123 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:27:58] [INFO] [EnemyGrenade] Throw path blocked to (449.733, 770.4217)
[01:27:58] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.4°, player=(327,747), corner_timer=-0.01
[01:27:58] [ENEMY] [Enemy10] PATROL corner check: angle 7.4°
[01:27:58] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(323.095, 747.2335), source=PLAYER (Player), range=600, listeners=9
[01:27:58] [ENEMY] [Enemy1] Heard player EMPTY_CLICK at (323.095, 747.2335), intensity=0.03, distance=281
[01:27:58] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (323.095, 747.2335), intensity=0.06, distance=210
[01:27:58] [ENEMY] [Enemy4] Heard player EMPTY_CLICK at (323.095, 747.2335), intensity=0.01, distance=477
[01:27:58] [ENEMY] [Enemy4] Vulnerability sound triggered pursuit - transitioning from SUPPRESSED to PURSUING
[01:27:58] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=6, self=0, below_threshold=0
[01:27:58] [INFO] [BloodDecal] Blood puddle created at (816.3726, 802.6643) (added to group)
[01:27:58] [INFO] [EnemyGrenade] Unsafe throw distance (210 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:27:58] [ENEMY] [Enemy4] ROT_CHANGE: P4:velocity -> P2:combat_state, state=PURSUING, target=-168.9°, current=173.1°, player=(323,747), corner_timer=0.00
[01:27:58] [INFO] [EnemyGrenade] Throw path blocked to (323.095, 747.2335)
[01:27:58] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.4°, current=16.5°, player=(323,747), corner_timer=0.30
[01:27:58] [INFO] [BloodDecal] Blood puddle created at (768.58, 788.8573) (added to group)
[01:27:58] [INFO] [EnemyGrenade] Unsafe throw distance (214 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:27:58] [INFO] [EnemyGrenade] Throw path blocked to (323.095, 747.2335)
[01:27:58] [INFO] [EnemyGrenade] Unsafe throw distance (214 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:27:58] [INFO] [EnemyGrenade] Throw path blocked to (323.095, 747.2335)
[01:27:58] [INFO] [EnemyGrenade] Unsafe throw distance (211 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:27:58] [INFO] [EnemyGrenade] Throw path blocked to (323.095, 747.2335)
[01:27:58] [INFO] [BloodDecal] Blood puddle created at (852.6924, 798.2412) (added to group)
[01:27:58] [INFO] [EnemyGrenade] Unsafe throw distance (211 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:27:58] [INFO] [EnemyGrenade] Throw path blocked to (323.095, 747.2335)
[01:27:58] [INFO] [EnemyGrenade] Unsafe throw distance (210 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:27:58] [INFO] [EnemyGrenade] Throw path blocked to (323.095, 747.2335)
[01:27:58] [INFO] [BloodDecal] Blood puddle created at (811.8695, 808.1495) (added to group)
[01:27:58] [INFO] [EnemyGrenade] Unsafe throw distance (209 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:27:58] [INFO] [EnemyGrenade] Throw path blocked to (323.095, 747.2335)
[01:27:58] [INFO] [BloodDecal] Blood puddle created at (884.3501, 841.7767) (added to group)
[01:27:58] [INFO] [EnemyGrenade] Unsafe throw distance (208 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:27:58] [INFO] [EnemyGrenade] Throw path blocked to (323.095, 747.2335)
[01:27:58] [INFO] [EnemyGrenade] Unsafe throw distance (207 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:27:58] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-172.4°, current=-164.9°, player=(287,747), corner_timer=0.00
[01:27:58] [INFO] [EnemyGrenade] Unsafe throw distance (206 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:27:58] [INFO] [EnemyGrenade] Unsafe throw distance (205 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:27:58] [ENEMY] [Enemy4] ROT_CHANGE: P1:visible -> P2:combat_state, state=PURSUING, target=-173.3°, current=-83.9°, player=(279,747), corner_timer=0.00
[01:27:58] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=171.1°, current=-160.2°, player=(274,747), corner_timer=0.00
[01:27:58] [ENEMY] [Enemy2] Player empty ammo - priority attack triggered
[01:27:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(524.0657, 708.869), source=ENEMY (Enemy2), range=1469, listeners=9
[01:27:58] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=4
[01:27:58] [INFO] [BloodDecal] Blood puddle created at (851.0654, 808.5135) (added to group)
[01:27:58] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[01:27:58] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-174.3°, current=-125.7°, player=(270,748), corner_timer=0.00
[01:27:58] [ENEMY] [Enemy4] ROT_CHANGE: P1:visible -> P2:combat_state, state=PURSUING, target=-174.9°, current=-114.0°, player=(266,749), corner_timer=0.00
[01:27:58] [INFO] [LastChance] Threat detected: Bullet
[01:27:58] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[01:27:58] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:27:58] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-175.5°, current=-139.5°, player=(262,750), corner_timer=0.00
[01:27:58] [INFO] [Player] Hit blocked by invincibility mode (C#)
[01:27:58] [INFO] [Player] Spawning blood effect at (247.07895, 754.92017), dir=(1, 0), lethal=False (C#)
[01:27:58] [INFO] [ImpactEffects] spawn_blood_effect called at (247.0789, 754.9202), dir=(1, 0), lethal=false
[01:27:58] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:27:58] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[01:27:58] [INFO] [ImpactEffects] Blood effect spawned at (247.0789, 754.9202) (scale=1)
[01:27:58] [ENEMY] [Enemy1] Pursuing vulnerability sound at (323.095, 747.2335), distance=229
[01:27:58] [ENEMY] [Enemy4] Pursuing vulnerability sound at (247.0789, 754.9202), distance=529
[01:27:58] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=286), can_see=false
[01:27:58] [ENEMY] [Enemy2] Player empty ammo - priority attack triggered
[01:27:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(522.759, 719.8408), source=ENEMY (Enemy2), range=1469, listeners=9
[01:27:58] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=4
[01:27:58] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=529), can_see=true
[01:27:58] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1512), can_see=false
[01:27:58] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1734), can_see=false
[01:27:58] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1460), can_see=false
[01:27:58] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1797), can_see=false
[01:27:58] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2020), can_see=false
[01:27:58] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1252), can_see=false
[01:27:58] [INFO] [GrenadeBase] Collision detected with Room1_WallBottom (type: StaticBody2D)
[01:27:58] [INFO] [FragGrenade] Impact detected! Body: Room1_WallBottom (type: StaticBody2D), triggering explosion
[01:27:58] [INFO] [FragGrenade] Impact detected - exploding immediately!
[01:27:58] [INFO] [GrenadeBase] EXPLODED at (460.5352, 677.9866)!
[01:27:58] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(460.5352, 677.9866), source=NEUTRAL (FragGrenade), range=2937, listeners=9
[01:27:58] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=0, below_threshold=6
[01:27:58] [ENEMY] [Enemy1] Hit taken, damage: 1, health: 4/4 -> 3/4
[01:27:58] [ENEMY] [Enemy1] ImpactEffectsManager found, calling spawn_blood_effect
[01:27:58] [INFO] [ImpactEffects] spawn_blood_effect called at (452.2181, 563.424), dir=(-0.072409, -0.997375), lethal=false
[01:27:58] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:27:58] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[01:27:58] [INFO] [ImpactEffects] Blood effect spawned at (452.2181, 563.424) (scale=1)
[01:27:58] [ENEMY] [Enemy1] Hit taken, damage: 1, health: 3/4 -> 2/4
[01:27:58] [ENEMY] [Enemy1] ImpactEffectsManager found, calling spawn_blood_effect
[01:27:58] [INFO] [ImpactEffects] spawn_blood_effect called at (452.2181, 563.424), dir=(-0.072409, -0.997375), lethal=false
[01:27:58] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:27:58] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[01:27:58] [INFO] [ImpactEffects] Blood effect spawned at (452.2181, 563.424) (scale=1)
[01:27:58] [ENEMY] [Enemy1] Hit taken, damage: 1, health: 2/4 -> 1/4
[01:27:58] [ENEMY] [Enemy1] ImpactEffectsManager found, calling spawn_blood_effect
[01:27:58] [INFO] [ImpactEffects] spawn_blood_effect called at (452.2181, 563.424), dir=(-0.072409, -0.997375), lethal=false
[01:27:58] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:27:58] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[01:27:58] [INFO] [ImpactEffects] Blood effect spawned at (452.2181, 563.424) (scale=1)
[01:27:58] [ENEMY] [Enemy1] Hit taken, damage: 1, health: 1/4 -> 0/4
[01:27:58] [ENEMY] [Enemy1] ImpactEffectsManager found, calling spawn_blood_effect
[01:27:58] [INFO] [ImpactEffects] spawn_blood_effect called at (452.2181, 563.424), dir=(-0.072409, -0.997375), lethal=true
[01:27:58] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:27:58] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[01:27:58] [INFO] [ImpactEffects] Blood effect spawned at (452.2181, 563.424) (scale=1.5)
[01:27:58] [ENEMY] [Enemy1] Enemy died (ricochet: false, penetration: false)
[01:27:58] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[01:27:58] [ENEMY] [Enemy1] [AllyDeath] Notified 2 enemies
[01:27:58] [INFO] [SoundPropagation] Unregistered listener: Enemy1 (remaining: 8)
[01:27:58] [INFO] [DeathAnim] Started - Angle: -94.2 deg, Index: 5
[01:27:58] [ENEMY] [Enemy1] Death animation started with hit direction: (-0.072409, -0.997375)
[01:27:58] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 114.9
[01:27:58] [INFO] [FragGrenade] Spawned shrapnel #1 at angle 10.5 degrees
[01:27:58] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 105.0 degrees
[01:27:58] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 177.5 degrees
[01:27:58] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 288.2 degrees
[01:27:58] [INFO] [ImpactEffects] Spawning explosion visual effect at (460.5352, 677.9866) (radius=225) - using shadow-based wall occlusion
[01:27:58] [INFO] [GrenadeTimer] Impact detected with Room1_WallBottom - EXPLODING!
[01:27:58] [INFO] [GrenadeTimer] EXPLODED at (460.53525, 677.9866)!
[01:27:58] [INFO] [GrenadeTimer] Applying frag explosion damage (radius: 225, damage: 99)
[01:27:58] [INFO] [GrenadeTimer] Damaged enemy at distance 114,9
[01:27:58] [INFO] [GrenadeTimer] Spawned 4 shrapnel pieces
[01:27:58] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(460.5352, 677.9866), source=NEUTRAL (FragGrenade), range=2938, listeners=8
[01:27:58] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=6
[01:27:58] [INFO] [GrenadeTimer] Spawned PointLight2D frag explosion flash at (460.53525, 677.9866) (shadow-based wall occlusion)
[01:27:58] [INFO] [LastChance] Threat detected: Bullet
[01:27:58] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[01:27:58] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:27:58] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[01:27:58] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=7.2°, player=(227,757), corner_timer=-0.01
[01:27:58] [ENEMY] [Enemy10] PATROL corner check: angle 3.8°
[01:27:58] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[01:27:58] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.8°, current=9.4°, player=(223,758), corner_timer=0.30
[01:27:58] [INFO] [Shotgun.FIX#243] RMB released after 45 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[01:27:58] [INFO] [Shotgun.FIX#445v7] ProcessDragGesture - dragVector=(160,6, 63,6), length=172,8, ActionState=NeedsPumpDown
[01:27:58] [INFO] [Shotgun.FIX#445v7] Pump drag not vertical: absY=63,6 <= absX=160,6
[01:27:59] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[01:27:59] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:27:59] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[01:27:59] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[01:27:59] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[01:27:59] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[01:27:59] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[01:27:59] [INFO] [LastChance] Resetting all effects (scene change detected)
[01:27:59] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[01:27:59] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[01:27:59] [INFO] [EnemyGrenade] Initialized: 1 grenades
[01:27:59] [ENEMY] [Enemy1] Death animation component initialized
[01:27:59] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:27:59] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[01:27:59] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[01:27:59] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[01:27:59] [ENEMY] [Enemy2] Death animation component initialized
[01:27:59] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:27:59] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[01:27:59] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[01:27:59] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[01:27:59] [INFO] [EnemyGrenade] Initialized: 1 grenades
[01:27:59] [ENEMY] [Enemy3] Death animation component initialized
[01:27:59] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:27:59] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[01:27:59] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[01:27:59] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[01:27:59] [ENEMY] [Enemy4] Death animation component initialized
[01:27:59] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:27:59] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[01:27:59] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[01:27:59] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[01:27:59] [ENEMY] [Enemy5] Death animation component initialized
[01:27:59] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:27:59] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[01:27:59] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[01:27:59] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[01:27:59] [ENEMY] [Enemy6] Death animation component initialized
[01:27:59] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:27:59] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[01:27:59] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[01:27:59] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[01:27:59] [INFO] [EnemyGrenade] Initialized: 1 grenades
[01:27:59] [ENEMY] [Enemy7] Death animation component initialized
[01:27:59] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:27:59] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[01:27:59] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[01:27:59] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[01:27:59] [ENEMY] [Enemy8] Death animation component initialized
[01:27:59] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:27:59] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[01:27:59] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[01:27:59] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[01:27:59] [INFO] [EnemyGrenade] Initialized: 1 grenades
[01:27:59] [ENEMY] [Enemy9] Death animation component initialized
[01:27:59] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:27:59] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[01:27:59] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[01:27:59] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[01:27:59] [ENEMY] [Enemy10] Death animation component initialized
[01:27:59] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:27:59] [INFO] [BloodyFeet:Player] Footprint scene loaded
[01:27:59] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[01:27:59] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[01:27:59] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[01:27:59] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[01:27:59] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[01:27:59] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[01:27:59] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[01:27:59] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[01:27:59] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[01:27:59] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: True
[01:27:59] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[01:27:59] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[01:27:59] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[01:27:59] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[01:27:59] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[01:27:59] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[01:27:59] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[01:27:59] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[01:27:59] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[01:27:59] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[01:27:59] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[01:27:59] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[01:27:59] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[01:27:59] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[01:27:59] [INFO] [ScoreManager] Level started with 10 enemies
[01:27:59] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[01:27:59] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[01:27:59] [INFO] [ReplayManager] Replay data cleared
[01:27:59] [INFO] [BuildingLevel] Previous replay data cleared
[01:27:59] [INFO] [ReplayManager] Detected player weapon: Shotgun
[01:27:59] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[01:27:59] [INFO] [ReplayManager] Level: BuildingLevel
[01:27:59] [INFO] [ReplayManager] Player: Player (valid: True)
[01:27:59] [INFO] [ReplayManager] Enemies count: 10
[01:27:59] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/shotgun_topdown.png
[01:27:59] [INFO] [ReplayManager]   Enemy 0: Enemy1
[01:27:59] [INFO] [ReplayManager]   Enemy 1: Enemy2
[01:27:59] [INFO] [ReplayManager]   Enemy 2: Enemy3
[01:27:59] [INFO] [ReplayManager]   Enemy 3: Enemy4
[01:27:59] [INFO] [ReplayManager]   Enemy 4: Enemy5
[01:27:59] [INFO] [ReplayManager]   Enemy 5: Enemy6
[01:27:59] [INFO] [ReplayManager]   Enemy 6: Enemy7
[01:27:59] [INFO] [ReplayManager]   Enemy 7: Enemy8
[01:27:59] [INFO] [ReplayManager]   Enemy 8: Enemy9
[01:27:59] [INFO] [ReplayManager]   Enemy 9: Enemy10
[01:27:59] [INFO] [BuildingLevel] Replay recording started successfully
[01:27:59] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[01:27:59] [INFO] [CinemaEffects] Found player node: Player
[01:27:59] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[01:27:59] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 9)
[01:27:59] [ENEMY] [Enemy1] Registered as sound listener
[01:27:59] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 2, behavior: GUARD
[01:27:59] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[01:27:59] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 10)
[01:27:59] [ENEMY] [Enemy2] Registered as sound listener
[01:27:59] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 3, behavior: GUARD
[01:27:59] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[01:27:59] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 11)
[01:27:59] [ENEMY] [Enemy3] Registered as sound listener
[01:27:59] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 4, behavior: GUARD
[01:27:59] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[01:27:59] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 12)
[01:27:59] [ENEMY] [Enemy4] Registered as sound listener
[01:27:59] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 4, behavior: GUARD
[01:27:59] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[01:27:59] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 13)
[01:27:59] [ENEMY] [Enemy5] Registered as sound listener
[01:27:59] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 3, behavior: GUARD
[01:27:59] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[01:27:59] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 14)
[01:27:59] [ENEMY] [Enemy6] Registered as sound listener
[01:27:59] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 4, behavior: GUARD
[01:27:59] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[01:27:59] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 15)
[01:27:59] [ENEMY] [Enemy7] Registered as sound listener
[01:27:59] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 2, behavior: PATROL
[01:27:59] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[01:27:59] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 16)
[01:27:59] [ENEMY] [Enemy8] Registered as sound listener
[01:27:59] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 2, behavior: GUARD
[01:27:59] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[01:27:59] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 17)
[01:27:59] [ENEMY] [Enemy9] Registered as sound listener
[01:27:59] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 2, behavior: GUARD
[01:27:59] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[01:27:59] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 18)
[01:27:59] [ENEMY] [Enemy10] Registered as sound listener
[01:27:59] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 2, behavior: PATROL
[01:27:59] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[01:27:59] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[01:27:59] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[01:27:59] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[01:27:59] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=236.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[01:27:59] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[01:27:59] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[01:27:59] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[01:27:59] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=213.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[01:27:59] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[01:27:59] [INFO] [Player] Detecting weapon pose (frame 3)...
[01:27:59] [INFO] [Player] Detected weapon: Shotgun (Shotgun pose)
[01:27:59] [INFO] [Player] Applied Shotgun arm pose: Left=(21, 6), Right=(-1, 6)
[01:27:59] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[01:27:59] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[01:27:59] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[01:27:59] [INFO] [LastChance] Found player: Player
[01:27:59] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[01:27:59] [INFO] [LastChance] Connected to player Damaged signal (C#)
[01:27:59] [INFO] [LastChance] Connected to player Died signal (C#)
[01:27:59] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[01:27:59] [INFO] [BloodDecal] Blood puddle created at (317.3004, 763.8071) (added to group)
[01:27:59] [INFO] [BloodDecal] Blood puddle created at (456.9954, 531.3947) (added to group)
[01:27:59] [INFO] [BloodDecal] Blood puddle created at (484.3622, 501.397) (added to group)
[01:27:59] [INFO] [BloodDecal] Blood puddle created at (300.6641, 777.2562) (added to group)
[01:27:59] [INFO] [BloodDecal] Blood puddle created at (431.2446, 509.9276) (added to group)
[01:27:59] [INFO] [BloodDecal] Blood puddle created at (471.2706, 525.3596) (added to group)
[01:27:59] [INFO] [BloodDecal] Blood puddle created at (464.8703, 514.4347) (added to group)
[01:27:59] [INFO] [BloodDecal] Blood puddle created at (444.6588, 499.861) (added to group)
[01:27:59] [INFO] [BloodDecal] Blood puddle created at (479.2573, 500.6035) (added to group)
[01:27:59] [INFO] [BloodDecal] Blood puddle created at (464.1928, 498.3546) (added to group)
[01:27:59] [INFO] [BloodDecal] Blood puddle created at (447.0733, 503.3758) (added to group)
[01:27:59] [INFO] [BloodDecal] Blood puddle created at (444.3198, 488.2713) (added to group)
[01:27:59] [INFO] [BloodDecal] Blood puddle created at (432.4796, 534.474) (added to group)
[01:27:59] [INFO] [BloodDecal] Blood puddle created at (409.0525, 497.9771) (added to group)
[01:27:59] [INFO] [BloodDecal] Blood puddle created at (430.0359, 479.7093) (added to group)
[01:27:59] [INFO] [BloodDecal] Blood puddle created at (385.3644, 771.2573) (added to group)
[01:27:59] [INFO] [BloodDecal] Blood puddle created at (463.0972, 535.4592) (added to group)
[01:27:59] [INFO] [BloodDecal] Blood puddle created at (331.0469, 815.4012) (added to group)
[01:27:59] [INFO] [BloodDecal] Blood puddle created at (447.6839, 483.279) (added to group)
[01:27:59] [INFO] [BloodDecal] Blood puddle created at (412.1898, 498.1848) (added to group)
[01:27:59] [INFO] [BloodDecal] Blood puddle created at (383.78, 820.2363) (added to group)
[01:27:59] [INFO] [BloodDecal] Blood puddle created at (401.2911, 483.8942) (added to group)
[01:27:59] [INFO] [BloodDecal] Blood puddle created at (415.693, 499.0409) (added to group)
[01:27:59] [INFO] [BloodDecal] Blood puddle created at (453.0198, 475.0157) (added to group)
[01:27:59] [INFO] [BloodDecal] Blood puddle created at (412.8951, 499.3329) (added to group)
[01:27:59] [INFO] [BloodDecal] Blood puddle created at (350.8664, 793.544) (added to group)
[01:27:59] [INFO] [BloodDecal] Blood puddle created at (468.7761, 510.3) (added to group)
[01:27:59] [INFO] [BloodDecal] Blood puddle created at (488.6979, 517.6235) (added to group)
[01:27:59] [INFO] [BloodDecal] Blood puddle created at (411.011, 471.5461) (added to group)
[01:27:59] [INFO] [BloodDecal] Blood puddle created at (458.4109, 536.9075) (added to group)
[01:27:59] [INFO] [BloodDecal] Blood puddle created at (407.7502, 472.6198) (added to group)
[01:27:59] [INFO] [BloodDecal] Blood puddle created at (474.0026, 494.9316) (added to group)
[01:27:59] [INFO] [BloodDecal] Blood puddle created at (456.4306, 522.8531) (added to group)
[01:27:59] [INFO] [BloodDecal] Blood puddle created at (407.7131, 538.8668) (added to group)
[01:27:59] [INFO] [BloodyFeet:Enemy2] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[01:27:59] [INFO] [BloodDecal] Blood puddle created at (418.5648, 554.6553) (added to group)
[01:27:59] [INFO] [BloodDecal] Blood puddle created at (355.7899, 809.5662) (added to group)
[01:27:59] [INFO] [BloodDecal] Blood puddle created at (469.6518, 542.4688) (added to group)
[01:27:59] [INFO] [BloodDecal] Blood puddle created at (446.8046, 458.0198) (added to group)
[01:27:59] [INFO] [BloodDecal] Blood puddle created at (414.6823, 452.8579) (added to group)
[01:27:59] [INFO] [BloodDecal] Blood puddle created at (496.2677, 488.3938) (added to group)
[01:27:59] [INFO] [BloodDecal] Blood puddle created at (499.3042, 506.2926) (added to group)
[01:27:59] [INFO] [BloodDecal] Blood puddle created at (424.5194, 505.9425) (added to group)
[01:27:59] [INFO] [BloodDecal] Blood puddle created at (458.5502, 504.892) (added to group)
[01:27:59] [INFO] [BloodDecal] Blood puddle created at (440.8529, 493.3492) (added to group)
[01:27:59] [INFO] [BloodDecal] Blood puddle created at (375.1325, 462.5045) (added to group)
[01:27:59] [INFO] [BloodDecal] Blood puddle created at (402.081, 512.8134) (added to group)
[01:27:59] [INFO] [BloodDecal] Blood puddle created at (439.2834, 495.0098) (added to group)
[01:27:59] [INFO] [BloodDecal] Blood puddle created at (359.8873, 882.8853) (added to group)
[01:27:59] [INFO] [BloodDecal] Blood puddle created at (381.0617, 857.307) (added to group)
[01:27:59] [INFO] [BloodDecal] Blood puddle created at (389.4203, 835.3989) (added to group)
[01:27:59] [INFO] [BloodDecal] Blood puddle created at (486.3372, 484.9526) (added to group)
[01:27:59] [INFO] [BloodDecal] Blood puddle created at (467.4462, 543.446) (added to group)
[01:27:59] [INFO] [BloodDecal] Blood puddle created at (368.304, 505.4589) (added to group)
[01:27:59] [INFO] [BloodDecal] Blood puddle created at (354.5031, 465.6352) (added to group)
[01:27:59] [INFO] [BloodDecal] Blood puddle created at (489.0749, 510.3927) (added to group)
[01:27:59] [INFO] [BloodDecal] Blood puddle created at (496.4878, 494.4597) (added to group)
[01:28:00] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[01:28:00] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[01:28:00] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[01:28:00] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(449,781), corner_timer=0.30
[01:28:00] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(449,781), corner_timer=0.30
[01:28:00] [ENEMY] [Enemy1] Player ammo empty: false -> true
[01:28:00] [ENEMY] [Enemy2] Player ammo empty: false -> true
[01:28:00] [ENEMY] [Enemy3] Player ammo empty: false -> true
[01:28:00] [ENEMY] [Enemy4] Player ammo empty: false -> true
[01:28:00] [ENEMY] [Enemy5] Player ammo empty: false -> true
[01:28:00] [ENEMY] [Enemy6] Player ammo empty: false -> true
[01:28:00] [ENEMY] [Enemy7] Player ammo empty: false -> true
[01:28:00] [ENEMY] [Enemy8] Player ammo empty: false -> true
[01:28:00] [ENEMY] [Enemy9] Player ammo empty: false -> true
[01:28:00] [ENEMY] [Enemy10] Player ammo empty: false -> true
[01:28:00] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(447.0062, 771.5632), source=PLAYER (Player), range=600, listeners=18
[01:28:00] [INFO] [SoundPropagation] Cleaned up 8 invalid listeners
[01:28:00] [ENEMY] [Enemy1] Heard player EMPTY_CLICK at (447.0062, 771.5632), intensity=0.01, distance=446
[01:28:00] [ENEMY] [Enemy1] Vulnerability sound triggered pursuit - transitioning from IDLE to PURSUING
[01:28:00] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (447.0062, 771.5632), intensity=0.05, distance=226
[01:28:00] [ENEMY] [Enemy2] Vulnerability sound triggered pursuit - transitioning from IDLE to PURSUING
[01:28:00] [ENEMY] [Enemy3] Heard player EMPTY_CLICK at (447.0062, 771.5632), intensity=0.04, distance=254
[01:28:00] [ENEMY] [Enemy3] Vulnerability sound triggered pursuit - transitioning from IDLE to PURSUING
[01:28:00] [ENEMY] [Enemy4] Heard player EMPTY_CLICK at (447.0062, 771.5632), intensity=0.02, distance=376
[01:28:00] [ENEMY] [Enemy4] Vulnerability sound triggered pursuit - transitioning from IDLE to PURSUING
[01:28:00] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=6, self=0, below_threshold=0
[01:28:00] [INFO] [Shotgun.FIX#212] Firing 12 pellets with 15° spread at pos=(447.00616, 771.5632)
[01:28:00] [INFO] [Shotgun.FIX#212] Normal pellet 1/12: extraOffset=-3,8, distance=48,2px, pos=(494.17047, 761.4804)
[01:28:00] [INFO] [Shotgun.FIX#212] Normal pellet 2/12: extraOffset=-14,7, distance=37,3px, pos=(483.87012, 765.7523)
[01:28:00] [INFO] [Shotgun.FIX#212] Normal pellet 3/12: extraOffset=13,8, distance=65,8px, pos=(512.2604, 762.867)
[01:28:00] [INFO] [Shotgun.FIX#212] Normal pellet 4/12: extraOffset=-1,0, distance=51,0px, pos=(497.72806, 765.8485)
[01:28:00] [INFO] [Shotgun.FIX#212] Normal pellet 5/12: extraOffset=-3,6, distance=48,4px, pos=(495.2179, 767.74084)
[01:28:00] [INFO] [Shotgun.FIX#212] Normal pellet 6/12: extraOffset=8,9, distance=60,9px, pos=(507.6808, 766.4191)
[01:28:00] [INFO] [Shotgun.FIX#212] Normal pellet 7/12: extraOffset=-5,8, distance=46,2px, pos=(493.18314, 769.0406)
[01:28:00] [INFO] [Shotgun.FIX#212] Normal pellet 8/12: extraOffset=4,7, distance=56,7px, pos=(503.62418, 769.6498)
[01:28:00] [INFO] [Shotgun.FIX#212] Normal pellet 9/12: extraOffset=9,4, distance=61,4px, pos=(508.40186, 772.4368)
[01:28:00] [INFO] [Shotgun.FIX#212] Normal pellet 10/12: extraOffset=9,1, distance=61,1px, pos=(508.07745, 772.3489)
[01:28:00] [INFO] [Shotgun.FIX#212] Normal pellet 11/12: extraOffset=-11,4, distance=40,6px, pos=(487.5172, 774.57404)
[01:28:00] [INFO] [Shotgun.FIX#212] Normal pellet 12/12: extraOffset=-8,2, distance=43,8px, pos=(490.6878, 775.2929)
[01:28:00] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(447.0062, 771.5632), source=PLAYER (Shotgun), range=1469, listeners=10
[01:28:00] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[01:28:00] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=70.8°, current=-33.8°, player=(447,771), corner_timer=0.00
[01:28:00] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=446), can_see=false
[01:28:00] [INFO] [EnemyGrenade] Throw path blocked to (447.0062, 771.5632)
[01:28:00] [ENEMY] [Enemy1] Pursuing vulnerability sound at (447.0062, 771.5632), distance=446
[01:28:00] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=78.0°, current=168.8°, player=(447,771), corner_timer=0.00
[01:28:00] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=226), can_see=false
[01:28:00] [ENEMY] [Enemy2] Pursuing vulnerability sound at (447.0062, 771.5632), distance=226
[01:28:00] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=175.1°, current=-123.8°, player=(447,771), corner_timer=0.00
[01:28:00] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=254), can_see=false
[01:28:00] [INFO] [EnemyGrenade] Unsafe throw distance (254 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:28:00] [ENEMY] [Enemy3] Pursuing vulnerability sound at (447.0062, 771.5632), distance=254
[01:28:00] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=-160.0°, current=168.8°, player=(447,771), corner_timer=0.00
[01:28:00] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=376), can_see=false
[01:28:00] [ENEMY] [Enemy4] Pursuing vulnerability sound at (447.0062, 771.5632), distance=376
[01:28:00] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1322), can_see=false
[01:28:00] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1537), can_see=false
[01:28:00] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1177), can_see=false
[01:28:00] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1604), can_see=false
[01:28:00] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1827), can_see=false
[01:28:00] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1091), can_see=false
[01:28:00] [INFO] [EnemyGrenade] Throw path blocked to (447.0062, 771.5632)
[01:28:00] [INFO] [EnemyGrenade] Unsafe throw distance (249 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:28:00] [INFO] [EnemyGrenade] Throw path blocked to (447.0062, 771.5632)
[01:28:00] [INFO] [EnemyGrenade] Unsafe throw distance (243 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:28:00] [INFO] [EnemyGrenade] Throw path blocked to (447.0062, 771.5632)
[01:28:00] [INFO] [EnemyGrenade] Unsafe throw distance (238 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:28:00] [ENEMY] [Enemy3] Hit taken, damage: 1, health: 4/4 -> 3/4
[01:28:00] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[01:28:00] [INFO] [ImpactEffects] spawn_blood_effect called at (678.7437, 751.8118), dir=(1, 0), lethal=false
[01:28:00] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:28:00] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[01:28:00] [INFO] [ImpactEffects] Blood effect spawned at (678.7437, 751.8118) (scale=1)
[01:28:00] [ENEMY] [Enemy3] Hit taken, damage: 1, health: 3/4 -> 2/4
[01:28:00] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[01:28:00] [INFO] [ImpactEffects] spawn_blood_effect called at (678.7437, 751.8118), dir=(1, 0), lethal=false
[01:28:00] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:28:00] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[01:28:00] [INFO] [ImpactEffects] Blood effect spawned at (678.7437, 751.8118) (scale=1)
[01:28:00] [ENEMY] [Enemy3] Hit taken, damage: 1, health: 2/4 -> 1/4
[01:28:00] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[01:28:00] [INFO] [ImpactEffects] spawn_blood_effect called at (678.7437, 751.8118), dir=(1, 0), lethal=false
[01:28:00] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:28:00] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[01:28:00] [INFO] [ImpactEffects] Blood effect spawned at (678.7437, 751.8118) (scale=1)
[01:28:00] [ENEMY] [Enemy3] Hit taken, damage: 1, health: 1/4 -> 0/4
[01:28:00] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[01:28:00] [INFO] [ImpactEffects] spawn_blood_effect called at (678.7437, 751.8118), dir=(1, 0), lethal=true
[01:28:00] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:28:00] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[01:28:00] [INFO] [ImpactEffects] Blood effect spawned at (678.7437, 751.8118) (scale=1.5)
[01:28:00] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[01:28:00] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[01:28:00] [ENEMY] [Enemy3] [AllyDeath] Notified 2 enemies
[01:28:00] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[01:28:00] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[01:28:00] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[01:28:00] [INFO] [EnemyGrenade] Throw path blocked to (447.0062, 771.5632)
[01:28:00] [INFO] [EnemyGrenade] Throw path blocked to (447.0062, 771.5632)
[01:28:00] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[01:28:00] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=NeedsPumpUp, ReloadState=NotReloading
[01:28:00] [INFO] [Shotgun.FIX#445] dragStartPos=(902, 727), aimDir=(1,00, -0,02)
[01:28:00] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:28:00] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:28:00] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:28:00] [INFO] [Shotgun.FIX#445v7] Mid-drag pump UP - shell ejected, continue dragging DOWN to chamber
[01:28:00] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:28:00] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:28:00] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:28:00] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=56.4°, player=(407,732), corner_timer=-0.00
[01:28:00] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[01:28:00] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=53.0°, player=(407,732), corner_timer=-0.00
[01:28:00] [ENEMY] [Enemy10] PATROL corner check: angle 14.7°
[01:28:00] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=54.2°, player=(405,732), corner_timer=0.30
[01:28:00] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.7°, current=54.9°, player=(405,732), corner_timer=0.30
[01:28:01] [INFO] [BloodDecal] Blood puddle created at (718.3096, 785.8064) (added to group)
[01:28:01] [INFO] [BloodDecal] Blood puddle created at (761.8759, 806.5704) (added to group)
[01:28:01] [INFO] [BloodDecal] Blood puddle created at (758.6205, 787.4763) (added to group)
[01:28:01] [INFO] [BloodDecal] Blood puddle created at (740.2813, 756.3653) (added to group)
[01:28:01] [INFO] [BloodDecal] Blood puddle created at (750.1353, 756.3625) (added to group)
[01:28:01] [INFO] [ReplayManager] Recording frame 120 (1,9s): player_valid=True, enemies=10
[01:28:01] [INFO] [Shotgun.FIX#445v7] TryProcessMidDragGesture - dragVector=(97,3, -155,9), length=183,8, isDragUp=True, isDragDown=False, ActionState=NeedsPumpDown
[01:28:01] [INFO] [BloodDecal] Blood puddle created at (774.4903, 799.8858) (added to group)
[01:28:01] [INFO] [BloodDecal] Blood puddle created at (725.1047, 749.6793) (added to group)
[01:28:01] [INFO] [BloodDecal] Blood puddle created at (764.6501, 733.3336) (added to group)
[01:28:01] [INFO] [BloodyFeet:Enemy4] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[01:28:01] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-171.2°, current=-171.4°, player=(386,739), corner_timer=0.00
[01:28:01] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) - pursuing to attack (dist=405)
[01:28:01] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[01:28:01] [INFO] [BloodDecal] Blood puddle created at (777.9821, 782.5256) (added to group)
[01:28:01] [INFO] [BloodDecal] Blood puddle created at (773.0222, 811.7623) (added to group)
[01:28:01] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[01:28:01] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[01:28:01] [INFO] [BloodDecal] Blood puddle created at (728.488, 801.5693) (added to group)
[01:28:01] [INFO] [BloodDecal] Blood puddle created at (784.8236, 812.7993) (added to group)
[01:28:01] [INFO] [BloodDecal] Blood puddle created at (750.0891, 779.6868) (added to group)
[01:28:01] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=312), can_see=false
[01:28:01] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=169), can_see=false
[01:28:01] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=426), can_see=true
[01:28:01] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1383), can_see=false
[01:28:01] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1603), can_see=false
[01:28:01] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1332), can_see=false
[01:28:01] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1679), can_see=false
[01:28:01] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1903), can_see=false
[01:28:01] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1172), can_see=false
[01:28:01] [INFO] [BloodDecal] Blood puddle created at (781.4644, 796.5891) (added to group)
[01:28:01] [INFO] [BloodyFeet:Enemy1] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[01:28:01] [INFO] [BloodDecal] Blood puddle created at (759.5193, 769.3604) (added to group)
[01:28:01] [INFO] [BloodDecal] Blood puddle created at (804.6235, 826.0039) (added to group)
[01:28:01] [INFO] [BloodDecal] Blood puddle created at (753.5188, 753.3226) (added to group)
[01:28:01] [INFO] [BloodDecal] Blood puddle created at (769.137, 814.2885) (added to group)
[01:28:01] [INFO] [GrenadeBase] CCD enabled (mode: CAST_RAY) to prevent wall tunneling
[01:28:01] [INFO] [GrenadeBase] Grenade created at (411.5524, 492.1082) (frozen)
[01:28:01] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[01:28:01] [INFO] [GrenadeTimer] Initialized for Frag grenade, effect radius: 225
[01:28:01] [INFO] [GrenadeTimerHelper] Attached GrenadeTimer to FragGrenade (type: Frag)
[01:28:01] [INFO] [EnemyGrenade] Attached C# GrenadeTimer to grenade (type: Frag)
[01:28:01] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[01:28:01] [INFO] [GrenadeTimer] Timer activated! 4 seconds until explosion
[01:28:01] [INFO] [GrenadeBase] LEGACY throw_grenade() called! Direction: (0.074805, 0.997198), Speed: 643.3 (unfrozen)
[01:28:01] [INFO] [GrenadeBase] NOTE: Using DRAG-BASED system. If velocity-based is expected, ensure grenade has throw_grenade_velocity_based() method.
[01:28:01] [INFO] [FragGrenade] Grenade thrown (legacy) - impact detection enabled
[01:28:01] [INFO] [GrenadeTimer] Grenade marked as thrown - impact detection enabled
[01:28:01] [INFO] [EnemyGrenade] Enemy grenade thrown! Target: (447.0062, 771.5632), Distance: 322
[01:28:01] [INFO] [BloodDecal] Blood puddle created at (767.4218, 783.405) (added to group)
[01:28:01] [INFO] [BloodDecal] Blood puddle created at (802.5057, 822.0239) (added to group)
[01:28:01] [INFO] [BloodDecal] Blood puddle created at (828.1565, 764.9326) (added to group)
[01:28:01] [INFO] [BloodDecal] Blood puddle created at (829.8605, 767.2377) (added to group)
[01:28:01] [INFO] [BloodDecal] Blood puddle created at (780.2999, 769.282) (added to group)
[01:28:01] [ENEMY] [Enemy3] Ragdoll activated
[01:28:01] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[01:28:01] [INFO] [BloodDecal] Blood puddle created at (831.3206, 780.5222) (added to group)
[01:28:01] [INFO] [BloodDecal] Blood puddle created at (793.6057, 795.9155) (added to group)
[01:28:01] [INFO] [BloodDecal] Blood puddle created at (786.6115, 803.2535) (added to group)
[01:28:01] [INFO] [BloodDecal] Blood puddle created at (835.1708, 801.738) (added to group)
[01:28:01] [INFO] [BloodDecal] Blood puddle created at (786.1921, 827.1279) (added to group)
[01:28:01] [INFO] [BloodDecal] Blood puddle created at (811.0953, 781.945) (added to group)
[01:28:01] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.5°, player=(327,755), corner_timer=-0.01
[01:28:01] [ENEMY] [Enemy10] PATROL corner check: angle 7.4°
[01:28:01] [INFO] [BloodDecal] Blood puddle created at (804.9418, 831.8864) (added to group)
[01:28:01] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.4°, current=16.6°, player=(323,755), corner_timer=0.30
[01:28:01] [INFO] [BloodDecal] Blood puddle created at (809.9997, 804.9013) (added to group)
[01:28:01] [INFO] [BloodDecal] Blood puddle created at (854.2925, 830.7089) (added to group)
[01:28:01] [INFO] [BloodDecal] Blood puddle created at (833.6638, 860.4541) (added to group)
[01:28:01] [INFO] [BloodDecal] Blood puddle created at (803.7946, 806.0065) (added to group)
[01:28:01] [INFO] [BloodDecal] Blood puddle created at (868.4494, 769.7313) (added to group)
[01:28:01] [INFO] [BloodDecal] Blood puddle created at (817.3631, 837.2009) (added to group)
[01:28:01] [INFO] [BloodDecal] Blood puddle created at (864.3528, 843.1055) (added to group)
[01:28:01] [INFO] [BloodDecal] Blood puddle created at (898.5099, 883.3033) (added to group)
[01:28:01] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(283.8218, 755.5655), source=PLAYER (Player), range=600, listeners=9
[01:28:01] [ENEMY] [Enemy1] Heard player EMPTY_CLICK at (283.8218, 755.5655), intensity=0.03, distance=278
[01:28:01] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (283.8218, 755.5655), intensity=0.04, distance=246
[01:28:01] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=6, self=0, below_threshold=1
[01:28:01] [INFO] [BloodDecal] Blood puddle created at (782.1727, 803.3281) (added to group)
[01:28:01] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=169.2°, current=-168.1°, player=(279,755), corner_timer=0.00
[01:28:01] [ENEMY] [Enemy2] Player empty ammo - priority attack triggered
[01:28:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(524.0657, 708.869), source=ENEMY (Enemy2), range=1469, listeners=9
[01:28:01] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=4
[01:28:01] [INFO] [BloodDecal] Blood puddle created at (861.1235, 876.6816) (added to group)
[01:28:01] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[01:28:01] [INFO] [BloodDecal] Blood puddle created at (904.9865, 898.2876) (added to group)
[01:28:01] [INFO] [LastChance] Threat detected: Bullet
[01:28:01] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[01:28:01] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:28:01] [INFO] [Player] Hit blocked by invincibility mode (C#)
[01:28:01] [INFO] [Player] Spawning blood effect at (248.62183, 755.5655), dir=(1, 0), lethal=False (C#)
[01:28:01] [INFO] [ImpactEffects] spawn_blood_effect called at (248.6218, 755.5655), dir=(1, 0), lethal=false
[01:28:01] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:28:01] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[01:28:01] [INFO] [ImpactEffects] Blood effect spawned at (248.6218, 755.5655) (scale=1)
[01:28:01] [ENEMY] [Enemy1] GRENADE DANGER: Entering EVADING_GRENADE state from PURSUING
[01:28:01] [ENEMY] [Enemy1] EVADING_GRENADE started: escaping to (474.1196, 366.5785)
[01:28:01] [ENEMY] [Enemy2] GRENADE DANGER: Entering EVADING_GRENADE state from COMBAT
[01:28:01] [ENEMY] [Enemy2] EVADING_GRENADE started: escaping to (777.441, 736.0289)
[01:28:01] [INFO] [GrenadeBase] Collision detected with Room1_WallBottom (type: StaticBody2D)
[01:28:01] [INFO] [FragGrenade] Impact detected! Body: Room1_WallBottom (type: StaticBody2D), triggering explosion
[01:28:01] [INFO] [FragGrenade] Impact detected - exploding immediately!
[01:28:01] [INFO] [GrenadeBase] EXPLODED at (425.7473, 679.489)!
[01:28:01] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(425.7473, 679.489), source=NEUTRAL (FragGrenade), range=2937, listeners=9
[01:28:01] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=0, below_threshold=6
[01:28:01] [ENEMY] [Enemy1] Hit taken, damage: 1, health: 2/2 -> 1/2
[01:28:01] [ENEMY] [Enemy1] ImpactEffectsManager found, calling spawn_blood_effect
[01:28:01] [INFO] [ImpactEffects] spawn_blood_effect called at (450.6589, 559.4524), dir=(0.203204, -0.979137), lethal=false
[01:28:01] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:28:01] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[01:28:01] [INFO] [ImpactEffects] Blood effect spawned at (450.6589, 559.4524) (scale=1)
[01:28:01] [ENEMY] [Enemy1] Hit taken, damage: 1, health: 1/2 -> 0/2
[01:28:01] [ENEMY] [Enemy1] ImpactEffectsManager found, calling spawn_blood_effect
[01:28:01] [INFO] [ImpactEffects] spawn_blood_effect called at (450.6589, 559.4524), dir=(0.203204, -0.979137), lethal=true
[01:28:01] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:28:01] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[01:28:01] [INFO] [ImpactEffects] Blood effect spawned at (450.6589, 559.4524) (scale=1.5)
[01:28:01] [ENEMY] [Enemy1] Enemy died (ricochet: false, penetration: false)
[01:28:01] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[01:28:01] [ENEMY] [Enemy1] [AllyDeath] Notified 2 enemies
[01:28:01] [INFO] [SoundPropagation] Unregistered listener: Enemy1 (remaining: 8)
[01:28:01] [INFO] [DeathAnim] Started - Angle: -78.3 deg, Index: 6
[01:28:01] [ENEMY] [Enemy1] Death animation started with hit direction: (0.203204, -0.979137)
[01:28:01] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 122.6
[01:28:01] [INFO] [FragGrenade] Spawned shrapnel #1 at angle 2.5 degrees
[01:28:01] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 82.1 degrees
[01:28:01] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 186.8 degrees
[01:28:01] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 269.5 degrees
[01:28:01] [INFO] [ImpactEffects] Spawning explosion visual effect at (425.7473, 679.489) (radius=225) - using shadow-based wall occlusion
[01:28:01] [INFO] [GrenadeTimer] Impact detected with Room1_WallBottom - EXPLODING!
[01:28:01] [INFO] [GrenadeTimer] EXPLODED at (425.74725, 679.489)!
[01:28:01] [INFO] [GrenadeTimer] Applying frag explosion damage (radius: 225, damage: 99)
[01:28:01] [INFO] [GrenadeTimer] Damaged enemy at distance 122,6
[01:28:01] [INFO] [GrenadeTimer] Spawned 4 shrapnel pieces
[01:28:01] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(425.7473, 679.489), source=NEUTRAL (FragGrenade), range=2938, listeners=8
[01:28:01] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=6
[01:28:01] [INFO] [GrenadeTimer] Spawned PointLight2D frag explosion flash at (425.74725, 679.489) (shadow-based wall occlusion)
[01:28:01] [ENEMY] [Enemy2] Player empty ammo - priority attack triggered
[01:28:01] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(522.6339, 720.1882), source=ENEMY (Enemy2), range=1469, listeners=8
[01:28:01] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=1, below_threshold=4
[01:28:01] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=646), can_see=true
[01:28:01] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1511), can_see=false
[01:28:01] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1733), can_see=false
[01:28:01] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1461), can_see=false
[01:28:01] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1796), can_see=false
[01:28:01] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2019), can_see=false
[01:28:01] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1252), can_see=false
[01:28:01] [ENEMY] [Enemy2] EVADING_GRENADE: Escaped to safe distance
[01:28:01] [ENEMY] [Enemy2] State: EVADING_GRENADE -> COMBAT
[01:28:01] [INFO] [LastChance] Threat detected: Bullet
[01:28:01] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[01:28:01] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:28:01] [INFO] [Shotgun.FIX#243] RMB released after 47 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[01:28:01] [INFO] [Shotgun.FIX#445v7] ProcessDragGesture - dragVector=(115,5, 71,9), length=136,0, ActionState=NeedsPumpDown
[01:28:01] [INFO] [Shotgun.FIX#445v7] Pump drag not vertical: absY=71,9 <= absX=115,5
[01:28:01] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[01:28:01] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:28:01] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[01:28:01] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[01:28:01] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[01:28:01] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[01:28:01] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[01:28:01] [INFO] [LastChance] Resetting all effects (scene change detected)
[01:28:01] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[01:28:01] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[01:28:01] [ENEMY] [Enemy1] Death animation component initialized
[01:28:01] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:28:01] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[01:28:01] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[01:28:01] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[01:28:01] [ENEMY] [Enemy2] Death animation component initialized
[01:28:01] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:28:01] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[01:28:01] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[01:28:01] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[01:28:01] [INFO] [EnemyGrenade] Initialized: 1 grenades
[01:28:01] [ENEMY] [Enemy3] Death animation component initialized
[01:28:01] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:28:01] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[01:28:01] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[01:28:01] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[01:28:01] [ENEMY] [Enemy4] Death animation component initialized
[01:28:01] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:28:01] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[01:28:01] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[01:28:01] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[01:28:01] [ENEMY] [Enemy5] Death animation component initialized
[01:28:01] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:28:01] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[01:28:01] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[01:28:01] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[01:28:01] [INFO] [EnemyGrenade] Initialized: 1 grenades
[01:28:01] [ENEMY] [Enemy6] Death animation component initialized
[01:28:01] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:28:01] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[01:28:01] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[01:28:01] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[01:28:01] [ENEMY] [Enemy7] Death animation component initialized
[01:28:01] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:28:01] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[01:28:01] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[01:28:01] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[01:28:01] [INFO] [EnemyGrenade] Initialized: 1 grenades
[01:28:01] [ENEMY] [Enemy8] Death animation component initialized
[01:28:01] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:28:01] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[01:28:01] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[01:28:01] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[01:28:01] [ENEMY] [Enemy9] Death animation component initialized
[01:28:01] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:28:01] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[01:28:01] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[01:28:01] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[01:28:01] [ENEMY] [Enemy10] Death animation component initialized
[01:28:01] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:28:01] [INFO] [BloodyFeet:Player] Footprint scene loaded
[01:28:01] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[01:28:01] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[01:28:01] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[01:28:01] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[01:28:01] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[01:28:01] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[01:28:01] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[01:28:01] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[01:28:01] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[01:28:01] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: True
[01:28:01] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 2/4
[01:28:01] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[01:28:01] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[01:28:01] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[01:28:01] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[01:28:01] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[01:28:01] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[01:28:01] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[01:28:01] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[01:28:01] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[01:28:01] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[01:28:01] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[01:28:01] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[01:28:01] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[01:28:01] [INFO] [ScoreManager] Level started with 10 enemies
[01:28:01] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[01:28:01] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[01:28:01] [INFO] [ReplayManager] Replay data cleared
[01:28:01] [INFO] [BuildingLevel] Previous replay data cleared
[01:28:01] [INFO] [ReplayManager] Detected player weapon: Shotgun
[01:28:01] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[01:28:01] [INFO] [ReplayManager] Level: BuildingLevel
[01:28:01] [INFO] [ReplayManager] Player: Player (valid: True)
[01:28:01] [INFO] [ReplayManager] Enemies count: 10
[01:28:01] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/shotgun_topdown.png
[01:28:01] [INFO] [ReplayManager]   Enemy 0: Enemy1
[01:28:01] [INFO] [ReplayManager]   Enemy 1: Enemy2
[01:28:01] [INFO] [ReplayManager]   Enemy 2: Enemy3
[01:28:01] [INFO] [ReplayManager]   Enemy 3: Enemy4
[01:28:01] [INFO] [ReplayManager]   Enemy 4: Enemy5
[01:28:01] [INFO] [ReplayManager]   Enemy 5: Enemy6
[01:28:01] [INFO] [ReplayManager]   Enemy 6: Enemy7
[01:28:01] [INFO] [ReplayManager]   Enemy 7: Enemy8
[01:28:01] [INFO] [ReplayManager]   Enemy 8: Enemy9
[01:28:01] [INFO] [ReplayManager]   Enemy 9: Enemy10
[01:28:01] [INFO] [BuildingLevel] Replay recording started successfully
[01:28:01] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[01:28:01] [INFO] [CinemaEffects] Found player node: Player
[01:28:01] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[01:28:01] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 9)
[01:28:01] [ENEMY] [Enemy1] Registered as sound listener
[01:28:01] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 2, behavior: GUARD
[01:28:01] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[01:28:01] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 10)
[01:28:01] [ENEMY] [Enemy2] Registered as sound listener
[01:28:01] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 4, behavior: GUARD
[01:28:01] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[01:28:01] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 11)
[01:28:01] [ENEMY] [Enemy3] Registered as sound listener
[01:28:01] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 4, behavior: GUARD
[01:28:01] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[01:28:01] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 12)
[01:28:01] [ENEMY] [Enemy4] Registered as sound listener
[01:28:01] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 2, behavior: GUARD
[01:28:01] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[01:28:01] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 13)
[01:28:01] [ENEMY] [Enemy5] Registered as sound listener
[01:28:01] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 3, behavior: GUARD
[01:28:01] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[01:28:01] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 14)
[01:28:01] [ENEMY] [Enemy6] Registered as sound listener
[01:28:01] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 3, behavior: GUARD
[01:28:01] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[01:28:01] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 15)
[01:28:01] [ENEMY] [Enemy7] Registered as sound listener
[01:28:01] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 4, behavior: PATROL
[01:28:01] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[01:28:01] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 16)
[01:28:01] [ENEMY] [Enemy8] Registered as sound listener
[01:28:01] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 2, behavior: GUARD
[01:28:01] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[01:28:01] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 17)
[01:28:01] [ENEMY] [Enemy9] Registered as sound listener
[01:28:01] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 2, behavior: GUARD
[01:28:01] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[01:28:01] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 18)
[01:28:01] [ENEMY] [Enemy10] Registered as sound listener
[01:28:01] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 2, behavior: PATROL
[01:28:01] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[01:28:01] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[01:28:01] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=33.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[01:28:01] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[01:28:01] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=123.7°, current=0.0°, player=(450,1249), corner_timer=0.00
[01:28:01] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[01:28:01] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[01:28:01] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(450,1249), corner_timer=0.00
[01:28:01] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1249), corner_timer=0.00
[01:28:01] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=337.5°, current=0.0°, player=(450,1249), corner_timer=0.00
[01:28:01] [INFO] [Player] Detecting weapon pose (frame 3)...
[01:28:01] [INFO] [Player] Detected weapon: Shotgun (Shotgun pose)
[01:28:01] [INFO] [Player] Applied Shotgun arm pose: Left=(21, 6), Right=(-1, 6)
[01:28:01] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[01:28:01] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[01:28:01] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[01:28:01] [INFO] [LastChance] Found player: Player
[01:28:01] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[01:28:01] [INFO] [LastChance] Connected to player Damaged signal (C#)
[01:28:01] [INFO] [LastChance] Connected to player Died signal (C#)
[01:28:01] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[01:28:01] [INFO] [BloodDecal] Blood puddle created at (472.5677, 539.0677) (added to group)
[01:28:01] [INFO] [BloodDecal] Blood puddle created at (447.6335, 532.6827) (added to group)
[01:28:01] [INFO] [BloodDecal] Blood puddle created at (453.7117, 526.4869) (added to group)
[01:28:01] [INFO] [BloodDecal] Blood puddle created at (476.7592, 513.4016) (added to group)
[01:28:01] [INFO] [BloodDecal] Blood puddle created at (450.491, 505.3461) (added to group)
[01:28:01] [INFO] [BloodDecal] Blood puddle created at (489.0142, 472.1673) (added to group)
[01:28:02] [INFO] [BloodDecal] Blood puddle created at (458.5255, 465.0233) (added to group)
[01:28:02] [INFO] [BloodDecal] Blood puddle created at (481.4137, 540.5781) (added to group)
[01:28:02] [INFO] [BloodDecal] Blood puddle created at (426.0918, 475.1789) (added to group)
[01:28:02] [INFO] [BloodDecal] Blood puddle created at (451.2852, 454.9571) (added to group)
[01:28:02] [INFO] [BloodDecal] Blood puddle created at (418.7912, 469.0013) (added to group)
[01:28:02] [INFO] [BloodDecal] Blood puddle created at (327.095, 770.0029) (added to group)
[01:28:02] [INFO] [BloodDecal] Blood puddle created at (447.3531, 470.8716) (added to group)
[01:28:02] [INFO] [BloodDecal] Blood puddle created at (320.9509, 793.2932) (added to group)
[01:28:02] [INFO] [BloodDecal] Blood puddle created at (391.2473, 789.4565) (added to group)
[01:28:02] [INFO] [BloodDecal] Blood puddle created at (424.0279, 502.7512) (added to group)
[01:28:02] [INFO] [BloodDecal] Blood puddle created at (352.957, 796.1768) (added to group)
[01:28:02] [INFO] [BloodDecal] Blood puddle created at (494.9365, 509.5012) (added to group)
[01:28:02] [INFO] [BloodDecal] Blood puddle created at (394.8209, 771.9914) (added to group)
[01:28:02] [INFO] [BloodDecal] Blood puddle created at (498.9287, 552.7775) (added to group)
[01:28:02] [INFO] [BloodDecal] Blood puddle created at (413.0989, 769.6737) (added to group)
[01:28:02] [INFO] [BloodDecal] Blood puddle created at (388.541, 860.6584) (added to group)
[01:28:02] [INFO] [BloodDecal] Blood puddle created at (471.1289, 480.7854) (added to group)
[01:28:02] [INFO] [BloodDecal] Blood puddle created at (470.4293, 509.3314) (added to group)
[01:28:02] [INFO] [BloodDecal] Blood puddle created at (442.7751, 525.5217) (added to group)
[01:28:02] [INFO] [BloodDecal] Blood puddle created at (432.1569, 923.1036) (added to group)
[01:28:02] [INFO] [BloodDecal] Blood puddle created at (438.1845, 535.4538) (added to group)
[01:28:02] [INFO] [BloodDecal] Blood puddle created at (439.5745, 454.9815) (added to group)
[01:28:02] [INFO] [BloodDecal] Blood puddle created at (457.1254, 765.8523) (added to group)
[01:28:02] [INFO] [BloodDecal] Blood puddle created at (369.8859, 862.2725) (added to group)
[01:28:02] [INFO] [BloodDecal] Blood puddle created at (494.7628, 459.1687) (added to group)
[01:28:02] [INFO] [BloodDecal] Blood puddle created at (436.046, 467.2625) (added to group)
[01:28:02] [INFO] [BloodDecal] Blood puddle created at (483.4952, 519.7612) (added to group)
[01:28:02] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[01:28:02] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[01:28:03] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=164.4°, current=123.7°, player=(448,820), corner_timer=0.00
[01:28:03] [ENEMY] [Enemy3] State: IDLE -> COMBAT
[01:28:03] [ENEMY] [Enemy3] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=166.8°, current=-65.0°, player=(448,809), corner_timer=0.00
[01:28:03] [ENEMY] [Enemy4] Memory: high confidence (0.89) - transitioning to PURSUING
[01:28:03] [ENEMY] [Enemy4] State: IDLE -> PURSUING
[01:28:03] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[01:28:03] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[01:28:03] [ENEMY] [Enemy1] Player ammo empty: false -> true
[01:28:03] [ENEMY] [Enemy2] Player ammo empty: false -> true
[01:28:03] [ENEMY] [Enemy3] Player ammo empty: false -> true
[01:28:03] [ENEMY] [Enemy4] Player ammo empty: false -> true
[01:28:03] [ENEMY] [Enemy5] Player ammo empty: false -> true
[01:28:03] [ENEMY] [Enemy6] Player ammo empty: false -> true
[01:28:03] [ENEMY] [Enemy7] Player ammo empty: false -> true
[01:28:03] [ENEMY] [Enemy8] Player ammo empty: false -> true
[01:28:03] [ENEMY] [Enemy9] Player ammo empty: false -> true
[01:28:03] [ENEMY] [Enemy10] Player ammo empty: false -> true
[01:28:03] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(443.109, 785.5195), source=PLAYER (Player), range=600, listeners=18
[01:28:03] [INFO] [SoundPropagation] Cleaned up 8 invalid listeners
[01:28:03] [ENEMY] [Enemy1] Heard player EMPTY_CLICK at (443.109, 785.5195), intensity=0.01, distance=458
[01:28:03] [ENEMY] [Enemy1] Vulnerability sound triggered pursuit - transitioning from IDLE to PURSUING
[01:28:03] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (443.109, 785.5195), intensity=0.04, distance=239
[01:28:03] [ENEMY] [Enemy2] Vulnerability sound triggered pursuit - transitioning from IDLE to PURSUING
[01:28:03] [ENEMY] [Enemy3] Heard player EMPTY_CLICK at (443.109, 785.5195), intensity=0.04, distance=243
[01:28:03] [ENEMY] [Enemy4] Heard player EMPTY_CLICK at (443.109, 785.5195), intensity=0.02, distance=375
[01:28:03] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=6, self=0, below_threshold=0
[01:28:03] [INFO] [Shotgun.FIX#212] Firing 16 pellets with 15° spread at pos=(443.10904, 785.5195)
[01:28:03] [INFO] [Shotgun.FIX#212] Normal pellet 1/16: extraOffset=-3,8, distance=48,2px, pos=(490.8139, 778.88824)
[01:28:03] [INFO] [Shotgun.FIX#212] Normal pellet 2/16: extraOffset=5,4, distance=57,4px, pos=(499.77066, 776.4386)
[01:28:03] [INFO] [Shotgun.FIX#212] Normal pellet 3/16: extraOffset=4,8, distance=56,8px, pos=(499.60892, 779.4993)
[01:28:03] [INFO] [Shotgun.FIX#212] Normal pellet 4/16: extraOffset=7,9, distance=59,9px, pos=(502.5588, 778.13495)
[01:28:03] [INFO] [Shotgun.FIX#212] Normal pellet 5/16: extraOffset=-4,5, distance=47,5px, pos=(490.37262, 781.114)
[01:28:03] [INFO] [Shotgun.FIX#212] Normal pellet 6/16: extraOffset=-11,9, distance=40,1px, pos=(483.0948, 783.1798)
[01:28:03] [INFO] [Shotgun.FIX#212] Normal pellet 7/16: extraOffset=12,5, distance=64,5px, pos=(507.49918, 781.39087)
[01:28:03] [INFO] [Shotgun.FIX#212] Normal pellet 8/16: extraOffset=7,6, distance=59,6px, pos=(502.67184, 784.03357)
[01:28:03] [INFO] [Shotgun.FIX#212] Normal pellet 9/16: extraOffset=-10,5, distance=41,5px, pos=(484.6094, 784.7779)
[01:28:03] [INFO] [Shotgun.FIX#212] Normal pellet 10/16: extraOffset=13,0, distance=65,0px, pos=(508.1098, 785.44366)
[01:28:03] [INFO] [Shotgun.FIX#212] Normal pellet 11/16: extraOffset=-3,0, distance=49,0px, pos=(492.14413, 785.8026)
[01:28:03] [INFO] [Shotgun.FIX#212] Normal pellet 12/16: extraOffset=-13,4, distance=38,6px, pos=(481.66037, 786.23285)
[01:28:03] [INFO] [Shotgun.FIX#212] Normal pellet 13/16: extraOffset=10,0, distance=62,0px, pos=(504.98938, 789.96826)
[01:28:03] [INFO] [Shotgun.FIX#212] Normal pellet 14/16: extraOffset=-12,9, distance=39,1px, pos=(482.1425, 787.2105)
[01:28:03] [INFO] [Shotgun.FIX#212] Normal pellet 15/16: extraOffset=-1,8, distance=50,2px, pos=(493.02136, 790.4777)
[01:28:03] [INFO] [Shotgun.FIX#212] Normal pellet 16/16: extraOffset=10,8, distance=62,8px, pos=(505.46033, 792.679)
[01:28:03] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(443.109, 785.5195), source=PLAYER (Shotgun), range=1469, listeners=10
[01:28:03] [INFO] [SoundPropagation] Sound result: notified=4, out_of_range=3, self=0, below_threshold=3
[01:28:03] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=71.8°, current=33.8°, player=(443,785), corner_timer=0.00
[01:28:03] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=458), can_see=false
[01:28:03] [ENEMY] [Enemy1] Pursuing vulnerability sound at (443.109, 785.5195), distance=458
[01:28:03] [ENEMY] [Enemy2] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=79.6°, current=-67.5°, player=(443,785), corner_timer=0.00
[01:28:03] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=239), can_see=false
[01:28:03] [ENEMY] [Enemy2] Pursuing vulnerability sound at (443.109, 785.5195), distance=239
[01:28:03] [ENEMY] [Enemy3] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=243), can_see=false
[01:28:03] [INFO] [EnemyGrenade] Unsafe throw distance (243 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:28:03] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=-162.2°, current=168.8°, player=(443,785), corner_timer=0.00
[01:28:03] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=375), can_see=false
[01:28:03] [ENEMY] [Enemy4] Pursuing vulnerability sound at (443.109, 785.5195), distance=375
[01:28:03] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1330), can_see=false
[01:28:03] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1544), can_see=false
[01:28:03] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(443,785), corner_timer=0.30
[01:28:03] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1173), can_see=false
[01:28:03] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1601), can_see=false
[01:28:03] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1825), can_see=false
[01:28:03] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(443,785), corner_timer=0.30
[01:28:03] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1078), can_see=false
[01:28:03] [INFO] [EnemyGrenade] Unsafe throw distance (243 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:28:03] [INFO] [EnemyGrenade] Unsafe throw distance (243 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:28:03] [INFO] [EnemyGrenade] Unsafe throw distance (243 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:28:03] [ENEMY] [Enemy3] Hit taken, damage: 1, health: 4/4 -> 3/4
[01:28:03] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[01:28:03] [INFO] [ImpactEffects] spawn_blood_effect called at (684.452, 753.7729), dir=(1, 0), lethal=false
[01:28:03] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:28:03] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[01:28:03] [INFO] [ImpactEffects] Blood effect spawned at (684.452, 753.7729) (scale=1)
[01:28:03] [ENEMY] [Enemy3] Hit taken, damage: 1, health: 3/4 -> 2/4
[01:28:03] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[01:28:03] [INFO] [ImpactEffects] spawn_blood_effect called at (684.452, 753.7729), dir=(1, 0), lethal=false
[01:28:03] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:28:03] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[01:28:03] [INFO] [ImpactEffects] Blood effect spawned at (684.452, 753.7729) (scale=1)
[01:28:03] [ENEMY] [Enemy3] Hit taken, damage: 1, health: 2/4 -> 1/4
[01:28:03] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[01:28:03] [INFO] [ImpactEffects] spawn_blood_effect called at (684.452, 753.7729), dir=(1, 0), lethal=false
[01:28:03] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:28:03] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[01:28:03] [INFO] [ImpactEffects] Blood effect spawned at (684.452, 753.7729) (scale=1)
[01:28:03] [ENEMY] [Enemy3] Hit taken, damage: 1, health: 1/4 -> 0/4
[01:28:03] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[01:28:03] [INFO] [ImpactEffects] spawn_blood_effect called at (684.452, 753.7729), dir=(1, 0), lethal=true
[01:28:03] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:28:03] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[01:28:03] [INFO] [ImpactEffects] Blood effect spawned at (684.452, 753.7729) (scale=1.5)
[01:28:03] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[01:28:03] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[01:28:03] [ENEMY] [Enemy3] [AllyDeath] Notified 2 enemies
[01:28:03] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 9)
[01:28:03] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[01:28:03] [ENEMY] [Enemy3] Death animation started with hit direction: (1, 0)
[01:28:03] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[01:28:03] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=NeedsPumpUp, ReloadState=NotReloading
[01:28:03] [INFO] [Shotgun.FIX#445] dragStartPos=(988, 724), aimDir=(1,00, -0,06)
[01:28:03] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:28:03] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:28:03] [INFO] [Shotgun.FIX#445v7] Mid-drag pump UP - shell ejected, continue dragging DOWN to chamber
[01:28:03] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:28:03] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:28:03] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:28:03] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=57.6°, player=(385,753), corner_timer=-0.01
[01:28:03] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[01:28:03] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=52.0°, player=(385,753), corner_timer=-0.01
[01:28:03] [ENEMY] [Enemy10] PATROL corner check: angle 14.9°
[01:28:03] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.3°, player=(381,753), corner_timer=0.30
[01:28:03] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.9°, current=53.9°, player=(381,753), corner_timer=0.30
[01:28:03] [INFO] [BloodDecal] Blood puddle created at (754.5687, 792.2624) (added to group)
[01:28:03] [INFO] [BloodDecal] Blood puddle created at (730.8743, 780.4094) (added to group)
[01:28:03] [INFO] [BloodDecal] Blood puddle created at (726.0497, 760.9514) (added to group)
[01:28:03] [INFO] [BloodDecal] Blood puddle created at (764.1577, 784.6584) (added to group)
[01:28:03] [INFO] [BloodyFeet:Enemy4] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[01:28:03] [INFO] [BloodDecal] Blood puddle created at (769.5439, 737.1385) (added to group)
[01:28:03] [INFO] [BloodDecal] Blood puddle created at (731.1678, 777.4404) (added to group)
[01:28:03] [INFO] [ReplayManager] Recording frame 120 (1,9s): player_valid=True, enemies=10
[01:28:03] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-173.6°, current=-171.4°, player=(363,753), corner_timer=0.00
[01:28:03] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) - pursuing to attack (dist=426)
[01:28:03] [ENEMY] [Enemy4] State: PURSUING -> COMBAT
[01:28:03] [INFO] [BloodDecal] Blood puddle created at (758.0864, 749.8534) (added to group)
[01:28:03] [INFO] [BloodDecal] Blood puddle created at (741.3796, 746.4788) (added to group)
[01:28:03] [INFO] [BloodDecal] Blood puddle created at (765.73, 804.1188) (added to group)
[01:28:03] [ENEMY] [Enemy4] State: COMBAT -> RETREATING
[01:28:03] [INFO] [Shotgun.FIX#445v7] TryProcessMidDragGesture - dragVector=(77,5, 176,0), length=192,3, isDragUp=False, isDragDown=True, ActionState=NeedsPumpDown
[01:28:03] [INFO] [Shotgun.FIX#445v7] Mid-drag pump DOWN - chambered, ready to fire
[01:28:03] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:28:03] [INFO] [BloodDecal] Blood puddle created at (795.9565, 808.0554) (added to group)
[01:28:03] [INFO] [BloodDecal] Blood puddle created at (741.915, 764.4684) (added to group)
[01:28:03] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:28:03] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=323), can_see=false
[01:28:03] [ENEMY] [Enemy2] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=196), can_see=false
[01:28:03] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=454), can_see=true
[01:28:03] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1413), can_see=false
[01:28:03] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1632), can_see=false
[01:28:03] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1358), can_see=false
[01:28:03] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1702), can_see=false
[01:28:03] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1926), can_see=false
[01:28:03] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1189), can_see=false
[01:28:03] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:28:03] [INFO] [BloodDecal] Blood puddle created at (767.0057, 742.1494) (added to group)
[01:28:03] [INFO] [BloodDecal] Blood puddle created at (750.0322, 787.7017) (added to group)
[01:28:03] [INFO] [BloodDecal] Blood puddle created at (814.5639, 776.4966) (added to group)
[01:28:03] [INFO] [BloodDecal] Blood puddle created at (798.4016, 789.8731) (added to group)
[01:28:03] [INFO] [BloodDecal] Blood puddle created at (818.4816, 769.4067) (added to group)
[01:28:03] [INFO] [BloodyFeet:Enemy1] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[01:28:03] [INFO] [BloodDecal] Blood puddle created at (819.9125, 841.7734) (added to group)
[01:28:03] [INFO] [BloodDecal] Blood puddle created at (749.8717, 788.9826) (added to group)
[01:28:03] [INFO] [BloodDecal] Blood puddle created at (758.6868, 766.0074) (added to group)
[01:28:03] [INFO] [Shotgun.FIX#445v7] TryProcessMidDragGesture - dragVector=(5,8, 62,7), length=62,9, isDragUp=False, isDragDown=True, ActionState=Ready
[01:28:03] [ENEMY] [Enemy3] Ragdoll activated
[01:28:03] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[01:28:03] [INFO] [BloodDecal] Blood puddle created at (795.6791, 782.5472) (added to group)
[01:28:03] [INFO] [BloodDecal] Blood puddle created at (781.472, 794.2542) (added to group)
[01:28:04] [INFO] [BloodDecal] Blood puddle created at (761.702, 777.5223) (added to group)
[01:28:04] [INFO] [BloodDecal] Blood puddle created at (784.9578, 778.5804) (added to group)
[01:28:04] [INFO] [BloodDecal] Blood puddle created at (823.3063, 758.8488) (added to group)
[01:28:04] [INFO] [BloodDecal] Blood puddle created at (836.6615, 763.7675) (added to group)
[01:28:04] [INFO] [BloodDecal] Blood puddle created at (857.7056, 875.5809) (added to group)
[01:28:04] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.7°, player=(286,769), corner_timer=-0.01
[01:28:04] [ENEMY] [Enemy10] PATROL corner check: angle 7.5°
[01:28:04] [INFO] [BloodDecal] Blood puddle created at (793.8972, 819.7036) (added to group)
[01:28:04] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.5°, current=16.7°, player=(282,769), corner_timer=0.30
[01:28:04] [INFO] [Shotgun.FIX#445v7] TryProcessMidDragGesture - dragVector=(5,8, 65,6), length=65,9, isDragUp=False, isDragDown=True, ActionState=Ready
[01:28:04] [INFO] [BloodDecal] Blood puddle created at (865.4321, 774.9445) (added to group)
[01:28:04] [INFO] [BloodDecal] Blood puddle created at (793.386, 777.5446) (added to group)
[01:28:04] [INFO] [BloodDecal] Blood puddle created at (879.9574, 826.5179) (added to group)
[01:28:04] [INFO] [BloodDecal] Blood puddle created at (784.2822, 807.9113) (added to group)
[01:28:04] [INFO] [BloodDecal] Blood puddle created at (868.9744, 783.2791) (added to group)
[01:28:04] [INFO] [BloodDecal] Blood puddle created at (856.8705, 768.6998) (added to group)
[01:28:04] [INFO] [BloodDecal] Blood puddle created at (902.1659, 877.4488) (added to group)
[01:28:04] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(255.8091, 769.5923), source=PLAYER (Player), range=600, listeners=9
[01:28:04] [ENEMY] [Enemy1] Heard player EMPTY_CLICK at (255.8091, 769.5923), intensity=0.03, distance=305
[01:28:04] [ENEMY] [Enemy2] Heard player EMPTY_CLICK at (255.8091, 769.5923), intensity=0.03, distance=276
[01:28:04] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=7, self=0, below_threshold=0
[01:28:04] [INFO] [Shotgun.FIX#212] Firing 12 pellets with 15° spread at pos=(255.80908, 769.5923)
[01:28:04] [INFO] [Shotgun.FIX#212] Normal pellet 1/12: extraOffset=-13,8, distance=38,2px, pos=(293.47632, 763.0311)
[01:28:04] [INFO] [Shotgun.FIX#212] Normal pellet 2/12: extraOffset=-9,7, distance=42,3px, pos=(297.65485, 763.54755)
[01:28:04] [INFO] [Shotgun.FIX#212] Normal pellet 3/12: extraOffset=-11,6, distance=40,4px, pos=(295.95947, 764.8072)
[01:28:04] [INFO] [Shotgun.FIX#212] Normal pellet 4/12: extraOffset=8,1, distance=60,1px, pos=(315.60583, 763.1945)
[01:28:04] [INFO] [Shotgun.FIX#212] Normal pellet 5/12: extraOffset=-5,0, distance=47,0px, pos=(302.7324, 766.3294)
[01:28:04] [INFO] [Shotgun.FIX#212] Normal pellet 6/12: extraOffset=8,8, distance=60,8px, pos=(316.4576, 764.9186)
[01:28:04] [INFO] [Shotgun.FIX#212] Normal pellet 7/12: extraOffset=-11,5, distance=40,5px, pos=(296.2619, 767.7468)
[01:28:04] [INFO] [Shotgun.FIX#212] Normal pellet 8/12: extraOffset=-14,1, distance=37,9px, pos=(293.65088, 768.20984)
[01:28:04] [INFO] [Shotgun.FIX#212] Normal pellet 9/12: extraOffset=-9,2, distance=42,8px, pos=(298.59045, 769.22296)
[01:28:04] [INFO] [Shotgun.FIX#212] Normal pellet 10/12: extraOffset=-11,4, distance=40,6px, pos=(296.39352, 771.6044)
[01:28:04] [INFO] [Shotgun.FIX#212] Normal pellet 11/12: extraOffset=-9,4, distance=42,6px, pos=(298.39322, 771.93146)
[01:28:04] [INFO] [Shotgun.FIX#212] Normal pellet 12/12: extraOffset=-3,5, distance=48,5px, pos=(304.22998, 772.4588)
[01:28:04] [INFO] [Shotgun.FIX#445v7] Reset drag start position after firing (continuous pump mode)
[01:28:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(255.8091, 769.5923), source=PLAYER (Shotgun), range=1469, listeners=9
[01:28:04] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=4, self=0, below_threshold=3
[01:28:04] [ENEMY] [Enemy2] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=167.4°, current=158.7°, player=(251,769), corner_timer=0.00
[01:28:04] [ENEMY] [Enemy2] Player empty ammo - priority attack triggered
[01:28:04] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(524.0657, 708.869), source=ENEMY (Enemy2), range=1469, listeners=9
[01:28:04] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=1, below_threshold=4
[01:28:04] [INFO] [BloodDecal] Blood puddle created at (804.4812, 833.3671) (added to group)
[01:28:04] [ENEMY] [Enemy2] State: PURSUING -> COMBAT
[01:28:04] [INFO] [BloodDecal] Blood puddle created at (887.5815, 885.0339) (added to group)
[01:28:04] [INFO] [LastChance] Threat detected: Bullet
[01:28:04] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[01:28:04] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:28:04] [ENEMY] [Enemy2] Hit taken, damage: 1, health: 4/4 -> 3/4
[01:28:04] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[01:28:04] [INFO] [ImpactEffects] spawn_blood_effect called at (523.0588, 718.929), dir=(1, 0), lethal=false
[01:28:04] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:28:04] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[01:28:04] [INFO] [ImpactEffects] Blood effect spawned at (523.0588, 718.929) (scale=1)
[01:28:04] [ENEMY] [Enemy2] Hit taken, damage: 1, health: 3/4 -> 2/4
[01:28:04] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[01:28:04] [INFO] [ImpactEffects] spawn_blood_effect called at (522.8415, 719.6124), dir=(1, 0), lethal=false
[01:28:04] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:28:04] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[01:28:04] [INFO] [ImpactEffects] Blood effect spawned at (522.8415, 719.6124) (scale=1)
[01:28:04] [ENEMY] [Enemy2] Hit taken, damage: 1, health: 2/4 -> 1/4
[01:28:04] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[01:28:04] [INFO] [ImpactEffects] spawn_blood_effect called at (522.8415, 719.6124), dir=(1, 0), lethal=false
[01:28:04] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:28:04] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[01:28:04] [INFO] [ImpactEffects] Blood effect spawned at (522.8415, 719.6124) (scale=1)
[01:28:04] [ENEMY] [Enemy2] Hit taken, damage: 1, health: 1/4 -> 0/4
[01:28:04] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[01:28:04] [INFO] [ImpactEffects] spawn_blood_effect called at (522.8415, 719.6124), dir=(1, 0), lethal=true
[01:28:04] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:28:04] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[01:28:04] [INFO] [ImpactEffects] Blood effect spawned at (522.8415, 719.6124) (scale=1.5)
[01:28:04] [ENEMY] [Enemy2] Enemy died (ricochet: false, penetration: false)
[01:28:04] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[01:28:04] [ENEMY] [Enemy2] [AllyDeath] Notified 2 enemies
[01:28:04] [INFO] [SoundPropagation] Unregistered listener: Enemy2 (remaining: 8)
[01:28:04] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[01:28:04] [ENEMY] [Enemy2] Death animation started with hit direction: (1, 0)
[01:28:04] [ENEMY] [Enemy1] Pursuing vulnerability sound at (255.8091, 769.5923), distance=288
[01:28:04] [INFO] [Shotgun.FIX#445v7] Mid-drag pump UP - shell ejected, continue dragging DOWN to chamber
[01:28:04] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=315), can_see=false
[01:28:04] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=676), can_see=true
[01:28:04] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1542), can_see=false
[01:28:04] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1763), can_see=false
[01:28:04] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1486), can_see=false
[01:28:04] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1816), can_see=false
[01:28:04] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2039), can_see=false
[01:28:04] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1264), can_see=false
[01:28:04] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:28:04] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:28:04] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:28:04] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=7.4°, player=(181,769), corner_timer=-0.01
[01:28:04] [ENEMY] [Enemy10] PATROL corner check: angle 3.9°
[01:28:04] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.9°, current=9.6°, player=(176,769), corner_timer=0.30
[01:28:04] [INFO] [Shotgun.FIX#445v7] Mid-drag pump DOWN - chambered, ready to fire
[01:28:04] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:28:04] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:28:04] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:28:04] [INFO] [BloodDecal] Blood puddle created at (593.0413, 706.4173) (added to group)
[01:28:04] [INFO] [BloodDecal] Blood puddle created at (561.8643, 743.9802) (added to group)
[01:28:04] [ENEMY] [Enemy4] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=-90.0°, current=170.3°, player=(132,769), corner_timer=0.00
[01:28:04] [INFO] [BloodDecal] Blood puddle created at (614.6969, 769.5728) (added to group)
[01:28:04] [INFO] [BloodDecal] Blood puddle created at (617.685, 744.6202) (added to group)
[01:28:04] [INFO] [BloodDecal] Blood puddle created at (581.4966, 728.1339) (added to group)
[01:28:04] [ENEMY] [Enemy4] State: RETREATING -> IN_COVER
[01:28:04] [INFO] [BloodDecal] Blood puddle created at (592.7019, 775.1998) (added to group)
[01:28:04] [INFO] [BloodDecal] Blood puddle created at (619.817, 708.376) (added to group)
[01:28:04] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[01:28:04] [INFO] [BloodDecal] Blood puddle created at (638.1207, 780.172) (added to group)
[01:28:04] [INFO] [BloodDecal] Blood puddle created at (639.4293, 783.692) (added to group)
[01:28:04] [INFO] [BloodDecal] Blood puddle created at (606.5591, 792.337) (added to group)
[01:28:04] [INFO] [ReplayManager] Recording frame 180 (2,7s): player_valid=True, enemies=10
[01:28:04] [INFO] [BloodDecal] Blood puddle created at (617.1124, 769.8218) (added to group)
[01:28:04] [INFO] [BloodDecal] Blood puddle created at (620.7512, 706.9212) (added to group)
[01:28:04] [INFO] [BloodDecal] Blood puddle created at (642.5376, 715.1688) (added to group)
[01:28:04] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=456), can_see=false
[01:28:04] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=808), can_see=false
[01:28:04] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1673), can_see=false
[01:28:04] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1897), can_see=false
[01:28:04] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1621), can_see=false
[01:28:04] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1943), can_see=false
[01:28:04] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2166), can_see=false
[01:28:04] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1365), can_see=false
[01:28:04] [INFO] [Shotgun.FIX#445v7] TryProcessMidDragGesture - dragVector=(16,7, 88,5), length=90,1, isDragUp=False, isDragDown=True, ActionState=Ready
[01:28:04] [INFO] [BloodDecal] Blood puddle created at (619.9424, 812.6122) (added to group)
[01:28:04] [INFO] [BloodDecal] Blood puddle created at (601.9757, 760.496) (added to group)
[01:28:04] [INFO] [BloodDecal] Blood puddle created at (621.9821, 725.2001) (added to group)
[01:28:04] [INFO] [BloodDecal] Blood puddle created at (639.0356, 727.7514) (added to group)
[01:28:04] [INFO] [BloodDecal] Blood puddle created at (676.5704, 771.9311) (added to group)
[01:28:04] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.8°, player=(80,769), corner_timer=-0.01
[01:28:04] [ENEMY] [Enemy10] PATROL corner check: angle 2.0°
[01:28:04] [INFO] [BloodyFeet:Enemy3] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[01:28:04] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=2.0°, current=6.0°, player=(80,769), corner_timer=0.30
[01:28:04] [INFO] [BloodDecal] Blood puddle created at (630.3133, 775.3801) (added to group)
[01:28:04] [INFO] [BloodDecal] Blood puddle created at (670.2582, 794.0438) (added to group)
[01:28:04] [ENEMY] [Enemy2] Ragdoll activated
[01:28:04] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[01:28:04] [INFO] [BloodDecal] Blood puddle created at (606.9753, 802.6363) (added to group)
[01:28:04] [INFO] [BloodDecal] Blood puddle created at (672.6392, 801.6035) (added to group)
[01:28:04] [INFO] [BloodDecal] Blood puddle created at (590.572, 738.1974) (added to group)
[01:28:04] [INFO] [BloodDecal] Blood puddle created at (695.947, 784.8364) (added to group)
[01:28:04] [INFO] [BloodDecal] Blood puddle created at (666.7821, 845.6608) (added to group)
[01:28:04] [INFO] [BloodDecal] Blood puddle created at (702.5413, 776.699) (added to group)
[01:28:04] [INFO] [BloodDecal] Blood puddle created at (657.5579, 807.4892) (added to group)
[01:28:04] [INFO] [BloodDecal] Blood puddle created at (665.5349, 820.3332) (added to group)
[01:28:05] [INFO] [BloodDecal] Blood puddle created at (683.7726, 727.9946) (added to group)
[01:28:05] [INFO] [BloodDecal] Blood puddle created at (668.6532, 753.5189) (added to group)
[01:28:05] [INFO] [BloodDecal] Blood puddle created at (633.3865, 800.1721) (added to group)
[01:28:05] [INFO] [BloodDecal] Blood puddle created at (660.3961, 839.5369) (added to group)
[01:28:05] [INFO] [BloodDecal] Blood puddle created at (693.1606, 794.0562) (added to group)
[01:28:05] [INFO] [BloodDecal] Blood puddle created at (698.8217, 751.9962) (added to group)
[01:28:05] [INFO] [BloodDecal] Blood puddle created at (657.8229, 781.5262) (added to group)
[01:28:05] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(80.00037, 769.5923), source=PLAYER (Player), range=600, listeners=8
[01:28:05] [ENEMY] [Enemy1] Heard player EMPTY_CLICK at (80.00037, 769.5923), intensity=0.01, distance=449
[01:28:05] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=7, self=0, below_threshold=0
[01:28:05] [INFO] [Shotgun.FIX#212] Firing 14 pellets with 15° spread at pos=(80.00037, 769.5923)
[01:28:05] [INFO] [Shotgun.FIX#212] Normal pellet 1/14: extraOffset=-8,0, distance=44,0px, pos=(123.02217, 760.44916)
[01:28:05] [INFO] [Shotgun.FIX#212] Normal pellet 2/14: extraOffset=12,0, distance=64,0px, pos=(142.95462, 758.2834)
[01:28:05] [INFO] [Shotgun.FIX#212] Normal pellet 3/14: extraOffset=-11,8, distance=40,2px, pos=(119.7838, 763.5973)
[01:28:05] [INFO] [Shotgun.FIX#212] Normal pellet 4/14: extraOffset=12,2, distance=64,2px, pos=(143.8581, 762.5394)
[01:28:05] [INFO] [Shotgun.FIX#212] Normal pellet 5/14: extraOffset=-14,8, distance=37,2px, pos=(116.97686, 766.0038)
[01:28:05] [INFO] [Shotgun.FIX#212] Normal pellet 6/14: extraOffset=6,0, distance=58,0px, pos=(137.89258, 765.54553)
[01:28:05] [INFO] [Shotgun.FIX#212] Normal pellet 7/14: extraOffset=-9,1, distance=42,9px, pos=(122.867935, 767.5898)
[01:28:05] [INFO] [Shotgun.FIX#212] Normal pellet 8/14: extraOffset=6,3, distance=58,3px, pos=(138.18785, 766.32697)
[01:28:05] [INFO] [Shotgun.FIX#212] Normal pellet 9/14: extraOffset=5,8, distance=57,8px, pos=(137.77068, 768.3368)
[01:28:05] [INFO] [Shotgun.FIX#212] Normal pellet 10/14: extraOffset=10,8, distance=62,8px, pos=(142.7869, 769.36456)
[01:28:05] [INFO] [Shotgun.FIX#212] Normal pellet 11/14: extraOffset=1,3, distance=53,3px, pos=(133.28986, 771.7621)
[01:28:05] [INFO] [Shotgun.FIX#212] Normal pellet 12/14: extraOffset=12,3, distance=64,3px, pos=(144.18594, 773.3356)
[01:28:05] [INFO] [Shotgun.FIX#212] Normal pellet 13/14: extraOffset=8,9, distance=60,9px, pos=(140.83496, 773.008)
[01:28:05] [INFO] [Shotgun.FIX#212] Normal pellet 14/14: extraOffset=-7,5, distance=44,5px, pos=(124.36058, 773.2723)
[01:28:05] [INFO] [Shotgun.FIX#445v7] Reset drag start position after firing (continuous pump mode)
[01:28:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(80.00037, 769.5923), source=PLAYER (Shotgun), range=1469, listeners=8
[01:28:05] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=2
[01:28:05] [INFO] [BloodDecal] Blood puddle created at (733.3497, 768.1603) (added to group)
[01:28:05] [INFO] [BloodDecal] Blood puddle created at (672.5281, 823.3776) (added to group)
[01:28:05] [INFO] [BloodDecal] Blood puddle created at (677.9205, 812.6559) (added to group)
[01:28:05] [INFO] [BloodDecal] Blood puddle created at (618.9559, 834.4847) (added to group)
[01:28:05] [INFO] [BloodDecal] Blood puddle created at (696.2831, 784.5688) (added to group)
[01:28:05] [INFO] [BloodDecal] Blood puddle created at (633.2346, 857.8588) (added to group)
[01:28:05] [INFO] [BloodDecal] Blood puddle created at (674.8987, 790.8482) (added to group)
[01:28:05] [INFO] [BloodDecal] Blood puddle created at (693.6694, 775.5098) (added to group)
[01:28:05] [INFO] [BloodDecal] Blood puddle created at (657.1371, 764.4313) (added to group)
[01:28:05] [ENEMY] [Enemy1] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=172.9°, current=-160.4°, player=(80,769), corner_timer=0.00
[01:28:05] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) - pursuing to attack (dist=447)
[01:28:05] [ENEMY] [Enemy1] State: PURSUING -> COMBAT
[01:28:05] [INFO] [BloodDecal] Blood puddle created at (644.1732, 812.644) (added to group)
[01:28:05] [INFO] [BloodDecal] Blood puddle created at (650.9146, 853.5767) (added to group)
[01:28:05] [ENEMY] [Enemy1] FLANKING started: target=(199.2532, 930.15), side=right, pos=(524.0657, 718.1902)
[01:28:05] [ENEMY] [Enemy1] State: COMBAT -> FLANKING
[01:28:05] [ENEMY] [Enemy1] FLANKING started: target=(197.8497, 931.1829), side=right, pos=(524.0657, 722.1075)
[01:28:05] [INFO] [BloodDecal] Blood puddle created at (697.4718, 795.8662) (added to group)
[01:28:05] [ENEMY] [Enemy1] FLANKING started: target=(196.4346, 932.2056), side=right, pos=(524.0657, 726.0248)
[01:28:05] [ENEMY] [Enemy1] FLANKING started: target=(195.0081, 933.2175), side=right, pos=(524.0657, 729.9421)
[01:28:05] [ENEMY] [Enemy3] Death animation completed
[01:28:05] [INFO] [Shotgun.FIX#445v7] Mid-drag pump UP - shell ejected, continue dragging DOWN to chamber
[01:28:05] [INFO] [BloodDecal] Blood puddle created at (731.7552, 727.3245) (added to group)
[01:28:05] [ENEMY] [Enemy1] State: FLANKING -> PURSUING
[01:28:05] [ENEMY] [Enemy1] PURSUING corner check: angle -77.1°
[01:28:05] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:28:05] [ENEMY] [Enemy1] Hit taken, damage: 1, health: 2/2 -> 1/2
[01:28:05] [ENEMY] [Enemy1] ImpactEffectsManager found, calling spawn_blood_effect
[01:28:05] [INFO] [ImpactEffects] spawn_blood_effect called at (519.9064, 736.8258), dir=(1, 0), lethal=false
[01:28:05] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:28:05] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[01:28:05] [INFO] [ImpactEffects] Blood effect spawned at (519.9064, 736.8258) (scale=1)
[01:28:05] [ENEMY] [Enemy1] Hit taken, damage: 1, health: 1/2 -> 0/2
[01:28:05] [ENEMY] [Enemy1] ImpactEffectsManager found, calling spawn_blood_effect
[01:28:05] [INFO] [ImpactEffects] spawn_blood_effect called at (519.9064, 736.8258), dir=(1, 0), lethal=true
[01:28:05] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:28:05] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[01:28:05] [INFO] [ImpactEffects] Blood effect spawned at (519.9064, 736.8258) (scale=1.5)
[01:28:05] [ENEMY] [Enemy1] Enemy died (ricochet: false, penetration: false)
[01:28:05] [INFO] [ScoreManager] Kill registered. Combo: 3 (points: 3000)
[01:28:05] [ENEMY] [Enemy1] [AllyDeath] Notified 1 enemies
[01:28:05] [INFO] [SoundPropagation] Unregistered listener: Enemy1 (remaining: 7)
[01:28:05] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[01:28:05] [ENEMY] [Enemy1] Death animation started with hit direction: (1, 0)
[01:28:05] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=2.0°, player=(80,769), corner_timer=-0.01
[01:28:05] [ENEMY] [Enemy10] PATROL corner check: angle 1.1°
[01:28:05] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:28:05] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.1°, current=4.3°, player=(80,769), corner_timer=0.30
[01:28:05] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:28:05] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=808), can_see=false
[01:28:05] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1673), can_see=false
[01:28:05] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1897), can_see=false
[01:28:05] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1621), can_see=false
[01:28:05] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1943), can_see=false
[01:28:05] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2166), can_see=false
[01:28:05] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1363), can_see=false
[01:28:05] [INFO] [Shotgun.FIX#445v7] Mid-drag pump DOWN - chambered, ready to fire
[01:28:05] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:28:05] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:28:05] [INFO] [BloodDecal] Blood puddle created at (568.7913, 733.118) (added to group)
[01:28:05] [INFO] [BloodDecal] Blood puddle created at (588.7234, 769.7014) (added to group)
[01:28:05] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:28:05] [INFO] [BloodDecal] Blood puddle created at (601.3988, 737.0839) (added to group)
[01:28:05] [INFO] [BloodDecal] Blood puddle created at (594.9051, 763.1002) (added to group)
[01:28:05] [INFO] [BloodDecal] Blood puddle created at (576.9355, 731.3417) (added to group)
[01:28:05] [INFO] [BloodDecal] Blood puddle created at (576.3385, 762.7135) (added to group)
[01:28:05] [INFO] [BloodDecal] Blood puddle created at (610.8839, 732.4971) (added to group)
[01:28:05] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.1°, player=(80,769), corner_timer=-0.01
[01:28:05] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[01:28:05] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=0.6°, current=3.3°, player=(80,769), corner_timer=0.30
[01:28:05] [INFO] [BloodDecal] Blood puddle created at (596.5771, 782.7101) (added to group)
[01:28:05] [INFO] [BloodDecal] Blood puddle created at (601.3272, 769.947) (added to group)
[01:28:05] [INFO] [ReplayManager] Recording frame 240 (3,5s): player_valid=True, enemies=10
[01:28:05] [INFO] [BloodDecal] Blood puddle created at (611.7208, 811.6498) (added to group)
[01:28:05] [INFO] [BloodDecal] Blood puddle created at (621.1203, 739.2089) (added to group)
[01:28:05] [INFO] [BloodDecal] Blood puddle created at (653.1012, 807.1021) (added to group)
[01:28:05] [INFO] [BloodDecal] Blood puddle created at (603.7338, 788.0487) (added to group)
[01:28:05] [INFO] [BloodDecal] Blood puddle created at (639.9081, 803.4927) (added to group)
[01:28:05] [INFO] [BloodDecal] Blood puddle created at (674.3553, 793.1105) (added to group)
[01:28:05] [INFO] [BloodDecal] Blood puddle created at (594.6918, 817.6434) (added to group)
[01:28:05] [INFO] [BloodDecal] Blood puddle created at (598.457, 748.3882) (added to group)
[01:28:05] [ENEMY] [Enemy1] Ragdoll activated
[01:28:05] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[01:28:05] [INFO] [BloodDecal] Blood puddle created at (597.6042, 786.6373) (added to group)
[01:28:05] [INFO] [BloodDecal] Blood puddle created at (599.7061, 763.6915) (added to group)
[01:28:05] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=808), can_see=false
[01:28:05] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1673), can_see=false
[01:28:05] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1897), can_see=false
[01:28:05] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1583), can_see=false
[01:28:05] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1943), can_see=false
[01:28:05] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2166), can_see=false
[01:28:05] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1363), can_see=false
[01:28:06] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=179.9°, current=-129.0°, player=(80,769), corner_timer=-0.01
[01:28:06] [ENEMY] [Enemy7] PATROL corner check: angle 89.9°
[01:28:06] [INFO] [BloodDecal] Blood puddle created at (680.0657, 765.2014) (added to group)
[01:28:06] [INFO] [BloodDecal] Blood puddle created at (632.9727, 791.3309) (added to group)
[01:28:06] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.9°, current=-131.3°, player=(80,769), corner_timer=0.30
[01:28:06] [INFO] [BloodDecal] Blood puddle created at (717.386, 772.1338) (added to group)
[01:28:06] [INFO] [BloodDecal] Blood puddle created at (678.0903, 799.0337) (added to group)
[01:28:06] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[01:28:06] [INFO] [Shotgun.FIX#243] RMB released after 17 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[01:28:06] [INFO] [Shotgun.FIX#445v7] ProcessDragGesture - dragVector=(11,4, 12,8), length=17,1, ActionState=Ready
[01:28:06] [INFO] [Shotgun.FIX#445v7] Drag too short: 17,1 < 30
[01:28:06] [INFO] [BloodDecal] Blood puddle created at (676.2997, 912.5796) (added to group)
[01:28:06] [INFO] [BloodDecal] Blood puddle created at (640.1643, 818.1093) (added to group)
[01:28:06] [INFO] [BloodDecal] Blood puddle created at (679.1937, 837.7689) (added to group)
[01:28:06] [ENEMY] [Enemy2] Death animation completed
[01:28:06] [INFO] [BloodDecal] Blood puddle created at (644.2846, 876.5878) (added to group)
[01:28:06] [ENEMY] [Enemy4] State: SUPPRESSED -> SEEKING_COVER
[01:28:06] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=178.8°, current=175.8°, player=(84,781), corner_timer=-0.01
[01:28:06] [ENEMY] [Enemy7] PATROL corner check: angle 89.8°
[01:28:06] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.8°, current=178.1°, player=(86,783), corner_timer=0.30
[01:28:06] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=805), can_see=false
[01:28:06] [ENEMY] [Enemy4] State: SEEKING_COVER -> IN_COVER
[01:28:06] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1670), can_see=false
[01:28:06] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1892), can_see=false
[01:28:06] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1528), can_see=false
[01:28:06] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1930), can_see=false
[01:28:06] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2153), can_see=false
[01:28:06] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1347), can_see=false
[01:28:06] [ENEMY] [Enemy4] State: IN_COVER -> SUPPRESSED
[01:28:06] [ENEMY] [Enemy4] State: SUPPRESSED -> SEEKING_COVER
[01:28:06] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[01:28:06] [ENEMY] [Enemy4] ROT_CHANGE: P4:velocity -> P1:visible, state=SEEKING_COVER, target=166.0°, current=148.3°, player=(106,805), corner_timer=0.00
[01:28:06] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) - pursuing to attack (dist=794)
[01:28:06] [ENEMY] [Enemy4] State: SEEKING_COVER -> RETREATING
[01:28:06] [INFO] [ReplayManager] Recording frame 300 (4,3s): player_valid=True, enemies=10
[01:28:06] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.9°, current=125.2°, player=(150,848), corner_timer=-0.01
[01:28:06] [ENEMY] [Enemy7] PATROL corner check: angle 89.6°
[01:28:06] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.6°, current=127.5°, player=(153,852), corner_timer=0.30
[01:28:06] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(156.2682, 855.1816), source=PLAYER (Player), range=600, listeners=7
[01:28:06] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=7, self=0, below_threshold=0
[01:28:06] [INFO] [Shotgun.FIX#212] Firing 11 pellets with 15° spread at pos=(156.26816, 855.1816)
[01:28:06] [INFO] [Shotgun.FIX#212] Normal pellet 1/11: extraOffset=-12,6, distance=39,4px, pos=(189.63539, 834.2676)
[01:28:06] [INFO] [Shotgun.FIX#212] Normal pellet 2/11: extraOffset=1,0, distance=53,0px, pos=(201.86359, 828.24023)
[01:28:06] [INFO] [Shotgun.FIX#212] Normal pellet 3/11: extraOffset=-11,1, distance=40,9px, pos=(192.8877, 836.87823)
[01:28:06] [INFO] [Shotgun.FIX#212] Normal pellet 4/11: extraOffset=-1,5, distance=50,5px, pos=(201.87714, 833.4371)
[01:28:06] [INFO] [Shotgun.FIX#212] Normal pellet 5/11: extraOffset=-10,6, distance=41,4px, pos=(194.35294, 838.868)
[01:28:06] [INFO] [Shotgun.FIX#212] Normal pellet 6/11: extraOffset=2,2, distance=54,2px, pos=(205.86476, 833.2306)
[01:28:06] [INFO] [Shotgun.FIX#212] Normal pellet 7/11: extraOffset=0,2, distance=52,2px, pos=(205.08578, 836.77325)
[01:28:06] [INFO] [Shotgun.FIX#212] Normal pellet 8/11: extraOffset=0,4, distance=52,4px, pos=(205.5401, 837.36237)
[01:28:06] [INFO] [Shotgun.FIX#212] Normal pellet 9/11: extraOffset=-8,6, distance=43,4px, pos=(197.45374, 841.49945)
[01:28:06] [INFO] [Shotgun.FIX#212] Normal pellet 10/11: extraOffset=-13,2, distance=38,8px, pos=(193.16971, 843.2266)
[01:28:06] [INFO] [Shotgun.FIX#212] Normal pellet 11/11: extraOffset=-2,1, distance=49,9px, pos=(204.45302, 842.1732)
[01:28:06] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(156.2682, 855.1816), source=PLAYER (Shotgun), range=1469, listeners=7
[01:28:06] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=4, self=0, below_threshold=3
[01:28:06] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[01:28:06] [INFO] [BloodyFeet:Player] Blood ran out - no more footprints
[01:28:06] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=747), can_see=true
[01:28:06] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1611), can_see=false
[01:28:06] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1823), can_see=false
[01:28:06] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1434), can_see=false
[01:28:06] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1815), can_see=false
[01:28:06] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2036), can_see=false
[01:28:06] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1220), can_see=false
[01:28:07] [ENEMY] [Enemy1] Death animation completed
[01:28:07] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[01:28:07] [ENEMY] [Enemy4] Hit taken, damage: 1, health: 2/2 -> 1/2
[01:28:07] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[01:28:07] [INFO] [ImpactEffects] spawn_blood_effect called at (876.9907, 612.7529), dir=(1, 0), lethal=false
[01:28:07] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:28:07] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[01:28:07] [INFO] [ImpactEffects] Wall found for blood splatter at (912, 612.7529) (dist=35 px)
[01:28:07] [INFO] [BloodDecal] Blood puddle created at (911, 612.7529) (added to group)
[01:28:07] [INFO] [ImpactEffects] Blood effect spawned at (876.9907, 612.7529) (scale=1)
[01:28:07] [ENEMY] [Enemy4] Hit taken, damage: 1, health: 1/2 -> 0/2
[01:28:07] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[01:28:07] [INFO] [ImpactEffects] spawn_blood_effect called at (876.9907, 612.7529), dir=(1, 0), lethal=true
[01:28:07] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:28:07] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[01:28:07] [INFO] [ImpactEffects] Wall found for blood splatter at (912, 612.7529) (dist=35 px)
[01:28:07] [INFO] [BloodDecal] Blood puddle created at (911, 612.7529) (added to group)
[01:28:07] [INFO] [ImpactEffects] Blood effect spawned at (876.9907, 612.7529) (scale=1.5)
[01:28:07] [ENEMY] [Enemy4] Enemy died (ricochet: false, penetration: false)
[01:28:07] [INFO] [ScoreManager] Kill registered. Combo: 4 (points: 5000)
[01:28:07] [INFO] [SoundPropagation] Unregistered listener: Enemy4 (remaining: 6)
[01:28:07] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[01:28:07] [ENEMY] [Enemy4] Death animation started with hit direction: (1, 0)
[01:28:07] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=NeedsPumpUp, ReloadState=NotReloading
[01:28:07] [INFO] [Shotgun.FIX#445] dragStartPos=(813, 627), aimDir=(0,89, -0,45)
[01:28:07] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.4°, current=89.6°, player=(224,923), corner_timer=-0.01
[01:28:07] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[01:28:07] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=91.9°, player=(226,927), corner_timer=0.30
[01:28:07] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:28:07] [INFO] [Shotgun.FIX#445v7] Mouse at top edge (Y=0), need PumpUp - recentering cursor
[01:28:07] [INFO] [Shotgun.FIX#445v7] Cursor recentered to (640, 360)
[01:28:07] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:28:07] [INFO] [Shotgun.FIX#445v7] Mid-drag pump UP - shell ejected, continue dragging DOWN to chamber
[01:28:07] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:28:07] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[01:28:07] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:28:07] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:28:07] [INFO] [Shotgun.FIX#445v7] Mid-drag pump DOWN - chambered, ready to fire
[01:28:07] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:28:07] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:28:07] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1577), can_see=false
[01:28:07] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1776), can_see=false
[01:28:07] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1359), can_see=false
[01:28:07] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1710), can_see=false
[01:28:07] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1931), can_see=false
[01:28:07] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1097), can_see=false
[01:28:07] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:28:07] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.1°, current=89.5°, player=(279,1006), corner_timer=-0.01
[01:28:07] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[01:28:07] [INFO] [Shotgun.FIX#243] RMB released after 6 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[01:28:07] [INFO] [Shotgun.FIX#445v7] ProcessDragGesture - dragVector=(-39,1, 315,4), length=317,8, ActionState=Ready
[01:28:07] [INFO] [Shotgun.FIX#445v7] Screen-based pump gesture: isDragUp=False, isDragDown=True
[01:28:07] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=91.7°, player=(282,1009), corner_timer=0.30
[01:28:07] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[01:28:07] [ENEMY] [Enemy4] Ragdoll activated
[01:28:07] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[01:28:07] [INFO] [ReplayManager] Recording frame 360 (5,1s): player_valid=True, enemies=10
[01:28:07] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1501), can_see=false
[01:28:07] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1690), can_see=false
[01:28:07] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1254), can_see=false
[01:28:07] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1590), can_see=false
[01:28:07] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1809), can_see=false
[01:28:07] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=975), can_see=false
[01:28:07] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.9°, current=89.4°, player=(368,1035), corner_timer=-0.01
[01:28:07] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[01:28:08] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=91.7°, player=(371,1034), corner_timer=0.30
[01:28:08] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[01:28:08] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.8°, current=89.3°, player=(417,974), corner_timer=-0.01
[01:28:08] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[01:28:08] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=91.6°, player=(420,970), corner_timer=0.30
[01:28:08] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1402), can_see=false
[01:28:08] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1596), can_see=false
[01:28:08] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1177), can_see=false
[01:28:08] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1545), can_see=false
[01:28:08] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1767), can_see=false
[01:28:08] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=970), can_see=false
[01:28:08] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[01:28:08] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[01:28:08] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=Ready, ReloadState=NotReloading
[01:28:08] [INFO] [Shotgun.FIX#445] dragStartPos=(642, 1061), aimDir=(0,79, 0,62)
[01:28:08] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:28:08] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:28:08] [INFO] [Shotgun.FIX#243] Bolt opened for loading - ReloadState=Loading, ShellsInTube=4/8
[01:28:08] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:28:08] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:28:08] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:28:08] [INFO] [ReplayManager] Recording frame 420 (5,9s): player_valid=True, enemies=10
[01:28:08] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.7°, current=89.3°, player=(464,887), corner_timer=-0.01
[01:28:08] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[01:28:08] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=91.6°, player=(465,884), corner_timer=0.30
[01:28:08] [INFO] [Shotgun.FIX#243] RMB released after 8 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[01:28:08] [INFO] [Shotgun.FIX#445v7] ProcessDragGesture - dragVector=(40,8, -329,9), length=332,4, ActionState=Ready
[01:28:08] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[01:28:09] [INFO] [Shotgun.EVENT] MMB event: pressed=True (was False), isDragging=False
[01:28:09] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1313), can_see=false
[01:28:09] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1518), can_see=false
[01:28:09] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1129), can_see=false
[01:28:09] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1540), can_see=false
[01:28:09] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1763), can_see=false
[01:28:09] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1014), can_see=false
[01:28:09] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[01:28:09] [ENEMY] [Enemy4] Death animation completed
[01:28:09] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=True, raw=True, event=True, any=True, ActionState=Ready, ReloadState=Loading
[01:28:09] [INFO] [Shotgun.FIX#445] dragStartPos=(681, 619), aimDir=(0,79, 0,62)
[01:28:09] [INFO] [Shotgun.DIAG] Frame 1: poll=True, raw=True, event=True, any=True, wasMMB=True
[01:28:09] [INFO] [Shotgun.DIAG] Frame 2: poll=True, raw=True, event=True, any=True, wasMMB=True
[01:28:09] [INFO] [Shotgun.DIAG] Frame 3: poll=True, raw=True, event=True, any=True, wasMMB=True
[01:28:09] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:28:09] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:28:09] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:28:09] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:28:09] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:28:09] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:28:09] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:28:09] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:28:09] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:28:09] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:28:09] [INFO] [Shotgun.FIX#445v7] TryProcessMidDragGesture - dragVector=(0,0, 137,9), length=137,9, isDragUp=False, isDragDown=True, ActionState=Ready
[01:28:09] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:28:09] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:28:09] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.6°, current=89.3°, player=(483,810), corner_timer=-0.01
[01:28:09] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[01:28:09] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:28:09] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:28:09] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=91.6°, player=(483,807), corner_timer=0.30
[01:28:09] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:28:09] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:28:09] [INFO] [Shotgun.FIX#243] RMB released after 12 frames - wasMMBDuringDrag=True, current: poll=True, raw=True, event=True
[01:28:09] [INFO] [Shotgun.FIX#445v7] ProcessDragGesture - dragVector=(37,4, 74,2), length=83,1, ActionState=Ready
[01:28:09] [INFO] [Shotgun.FIX#477] RMB release in Loading state: wasMMBDuringDrag=True, isMMBHeld=True, shellLoadedMidDrag=False => shouldLoadShell=True
[01:28:09] [INFO] [Shotgun.FIX#477] Loading shell (MMB was held during drag)
[01:28:09] [INFO] [Shotgun.FIX#243] LoadShell called - ReloadState=Loading, ShellsInTube=4/8, Tutorial=False, ReserveAmmo=12
[01:28:09] [INFO] [Shotgun.FIX#243] Shell LOADED - 5/8 shells in tube
[01:28:09] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[01:28:09] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[01:28:09] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=True, raw=True, event=True, any=True, ActionState=Ready, ReloadState=Loading
[01:28:09] [INFO] [Shotgun.FIX#445] dragStartPos=(766, 583), aimDir=(0,79, 0,62)
[01:28:09] [INFO] [Shotgun.DIAG] Frame 1: poll=True, raw=True, event=True, any=True, wasMMB=True
[01:28:09] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:28:09] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:28:09] [INFO] [Shotgun.DIAG] Frame 2: poll=True, raw=True, event=True, any=True, wasMMB=True
[01:28:09] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:28:09] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:28:09] [INFO] [Shotgun.DIAG] Frame 3: poll=True, raw=True, event=True, any=True, wasMMB=True
[01:28:09] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:28:09] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:28:09] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:28:09] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:28:09] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:28:09] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:28:09] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:28:09] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:28:09] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:28:09] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:28:09] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:28:09] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:28:09] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:28:09] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:28:09] [INFO] [Shotgun.FIX#243] RMB released after 9 frames - wasMMBDuringDrag=True, current: poll=True, raw=True, event=True
[01:28:09] [INFO] [Shotgun.FIX#445v7] ProcessDragGesture - dragVector=(-26,1, 96,8), length=100,2, ActionState=Ready
[01:28:09] [INFO] [Shotgun.FIX#477] RMB release in Loading state: wasMMBDuringDrag=True, isMMBHeld=True, shellLoadedMidDrag=False => shouldLoadShell=True
[01:28:09] [INFO] [Shotgun.FIX#477] Loading shell (MMB was held during drag)
[01:28:09] [INFO] [Shotgun.FIX#243] LoadShell called - ReloadState=Loading, ShellsInTube=5/8, Tutorial=False, ReserveAmmo=11
[01:28:09] [INFO] [Shotgun.FIX#243] Shell LOADED - 6/8 shells in tube
[01:28:09] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1253), can_see=false
[01:28:09] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1468), can_see=false
[01:28:09] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1109), can_see=false
[01:28:09] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1555), can_see=false
[01:28:09] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1778), can_see=false
[01:28:09] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1071), can_see=false
[01:28:09] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[01:28:09] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=True, raw=True, event=True, any=True, ActionState=Ready, ReloadState=Loading
[01:28:09] [INFO] [Shotgun.FIX#445] dragStartPos=(772, 556), aimDir=(0,79, 0,62)
[01:28:09] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.6°, current=89.3°, player=(525,736), corner_timer=-0.01
[01:28:09] [ENEMY] [Enemy7] PATROL corner check: angle 89.2°
[01:28:09] [INFO] [Shotgun.DIAG] Frame 1: poll=True, raw=True, event=True, any=True, wasMMB=True
[01:28:09] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.2°, current=91.5°, player=(528,733), corner_timer=0.30
[01:28:09] [INFO] [Shotgun.DIAG] Frame 2: poll=True, raw=True, event=True, any=True, wasMMB=True
[01:28:09] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:28:09] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:28:09] [INFO] [Shotgun.DIAG] Frame 3: poll=True, raw=True, event=True, any=True, wasMMB=True
[01:28:09] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:28:09] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:28:09] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:28:09] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:28:09] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:28:09] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:28:09] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:28:09] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:28:09] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[01:28:09] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:28:09] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:28:09] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:28:09] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:28:09] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:28:09] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:28:09] [INFO] [Shotgun.FIX#445v7] TryProcessMidDragGesture - dragVector=(-2,7, 117,0), length=117,1, isDragUp=False, isDragDown=True, ActionState=Ready
[01:28:09] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:28:09] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:28:09] [INFO] [Shotgun.FIX#243] RMB released after 10 frames - wasMMBDuringDrag=True, current: poll=True, raw=True, event=True
[01:28:09] [INFO] [Shotgun.FIX#445v7] ProcessDragGesture - dragVector=(26,7, 60,5), length=66,1, ActionState=Ready
[01:28:09] [INFO] [Shotgun.FIX#477] RMB release in Loading state: wasMMBDuringDrag=True, isMMBHeld=True, shellLoadedMidDrag=False => shouldLoadShell=True
[01:28:09] [INFO] [Shotgun.FIX#477] Loading shell (MMB was held during drag)
[01:28:09] [INFO] [Shotgun.FIX#243] LoadShell called - ReloadState=Loading, ShellsInTube=6/8, Tutorial=False, ReserveAmmo=10
[01:28:09] [INFO] [Shotgun.FIX#243] Shell LOADED - 7/8 shells in tube
[01:28:09] [INFO] [ReplayManager] Recording frame 480 (6,7s): player_valid=True, enemies=10
[01:28:09] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[01:28:09] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[01:28:09] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=True, raw=True, event=True, any=True, ActionState=Ready, ReloadState=Loading
[01:28:09] [INFO] [Shotgun.FIX#445] dragStartPos=(844, 631), aimDir=(0,79, 0,62)
[01:28:09] [INFO] [Shotgun.DIAG] Frame 1: poll=True, raw=True, event=True, any=True, wasMMB=True
[01:28:09] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:28:09] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:28:09] [INFO] [Shotgun.DIAG] Frame 2: poll=True, raw=True, event=True, any=True, wasMMB=True
[01:28:09] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:28:09] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:28:09] [INFO] [Shotgun.DIAG] Frame 3: poll=True, raw=True, event=True, any=True, wasMMB=True
[01:28:09] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:28:09] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:28:09] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:28:09] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:28:09] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:28:09] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:28:09] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:28:09] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:28:09] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:28:09] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:28:09] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.6°, current=89.2°, player=(599,661), corner_timer=-0.01
[01:28:09] [ENEMY] [Enemy7] PATROL corner check: angle 89.2°
[01:28:09] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:28:09] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:28:10] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.2°, current=91.5°, player=(602,658), corner_timer=0.30
[01:28:10] [INFO] [Shotgun.FIX#243] RMB released after 8 frames - wasMMBDuringDrag=True, current: poll=True, raw=True, event=True
[01:28:10] [INFO] [Shotgun.FIX#445v7] ProcessDragGesture - dragVector=(29,4, 8,0), length=30,5, ActionState=Ready
[01:28:10] [INFO] [Shotgun.FIX#477v2] Reload drag not vertical: absY=8,0 <= absX=29,4
[01:28:10] [INFO] [Shotgun.FIX#477v2] Non-vertical drag in Loading state WITH MMB - staying in Loading state
[01:28:10] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1132), can_see=false
[01:28:10] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1356), can_see=false
[01:28:10] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1032), can_see=false
[01:28:10] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1518), can_see=false
[01:28:10] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1740), can_see=false
[01:28:10] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1098), can_see=false
[01:28:10] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[01:28:10] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[01:28:10] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=True, raw=True, event=True, any=True, ActionState=Ready, ReloadState=Loading
[01:28:10] [INFO] [Shotgun.FIX#445] dragStartPos=(893, 635), aimDir=(0,79, 0,62)
[01:28:10] [INFO] [Shotgun.DIAG] Frame 1: poll=True, raw=True, event=True, any=True, wasMMB=True
[01:28:10] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:28:10] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:28:10] [INFO] [Shotgun.DIAG] Frame 2: poll=True, raw=True, event=True, any=True, wasMMB=True
[01:28:10] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:28:10] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:28:10] [INFO] [Shotgun.DIAG] Frame 3: poll=True, raw=True, event=True, any=True, wasMMB=True
[01:28:10] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:28:10] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:28:10] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:28:10] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:28:10] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:28:10] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:28:10] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:28:10] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:28:10] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:28:10] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:28:10] [INFO] [Shotgun.FIX#243] RMB released after 8 frames - wasMMBDuringDrag=True, current: poll=True, raw=True, event=True
[01:28:10] [INFO] [Shotgun.FIX#445v7] ProcessDragGesture - dragVector=(14,0, -35,3), length=38,0, ActionState=Ready
[01:28:10] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.7°, current=89.2°, player=(673,587), corner_timer=-0.00
[01:28:10] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[01:28:10] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=92.1°, player=(677,583), corner_timer=0.30
[01:28:10] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[01:28:10] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=True, raw=True, event=True, any=True, ActionState=Ready, ReloadState=Loading
[01:28:10] [INFO] [Shotgun.FIX#445] dragStartPos=(924, 560), aimDir=(0,79, 0,62)
[01:28:10] [INFO] [Shotgun.DIAG] Frame 1: poll=True, raw=True, event=True, any=True, wasMMB=True
[01:28:10] [INFO] [Shotgun.DIAG] Frame 2: poll=True, raw=True, event=True, any=True, wasMMB=True
[01:28:10] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:28:10] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:28:10] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[01:28:10] [INFO] [Shotgun.DIAG] Frame 3: poll=True, raw=True, event=True, any=True, wasMMB=True
[01:28:10] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:28:10] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:28:10] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:28:10] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:28:10] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:28:10] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:28:10] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:28:10] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:28:10] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:28:10] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:28:10] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:28:10] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:28:10] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:28:10] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:28:10] [INFO] [Shotgun.FIX#445v7] TryProcessMidDragGesture - dragVector=(12,5, 76,5), length=77,5, isDragUp=False, isDragDown=True, ActionState=Ready
[01:28:10] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:28:10] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:28:10] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=994), can_see=false
[01:28:10] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1229), can_see=false
[01:28:10] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=958), can_see=false
[01:28:10] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1489), can_see=false
[01:28:10] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1709), can_see=false
[01:28:10] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1150), can_see=false
[01:28:10] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:28:10] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:28:10] [INFO] [Shotgun.FIX#243] RMB released after 13 frames - wasMMBDuringDrag=True, current: poll=True, raw=True, event=True
[01:28:10] [INFO] [Shotgun.FIX#445v7] ProcessDragGesture - dragVector=(33,5, -58,6), length=67,5, ActionState=Ready
[01:28:10] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.9°, current=89.3°, player=(751,509), corner_timer=-0.02
[01:28:10] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[01:28:10] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=92.1°, player=(755,505), corner_timer=0.30
[01:28:10] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[01:28:10] [INFO] [ReplayManager] Recording frame 540 (7,7s): player_valid=True, enemies=10
[01:28:10] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[01:28:10] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=True, raw=True, event=True, any=True, ActionState=Ready, ReloadState=Loading
[01:28:10] [INFO] [Shotgun.FIX#445] dragStartPos=(1009, 408), aimDir=(0,79, 0,62)
[01:28:10] [INFO] [Shotgun.DIAG] Frame 1: poll=True, raw=True, event=True, any=True, wasMMB=True
[01:28:10] [INFO] [Shotgun.DIAG] Frame 2: poll=True, raw=True, event=True, any=True, wasMMB=True
[01:28:10] [INFO] [Shotgun.DIAG] Frame 3: poll=True, raw=True, event=True, any=True, wasMMB=True
[01:28:10] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:28:10] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:28:10] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:28:10] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:28:10] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:28:10] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:28:10] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:28:10] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:28:10] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:28:10] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:28:10] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:28:10] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:28:10] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:28:10] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:28:11] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.0°, current=89.3°, player=(829,432), corner_timer=-0.02
[01:28:11] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[01:28:11] [INFO] [Shotgun.FIX#445v7] TryProcessMidDragGesture - dragVector=(11,4, 271,8), length=272,0, isDragUp=False, isDragDown=True, ActionState=Ready
[01:28:11] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:28:11] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:28:11] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.2°, player=(833,429), corner_timer=0.30
[01:28:11] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:28:11] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:28:11] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[01:28:11] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[01:28:11] [INFO] [Shotgun.FIX#243] RMB released after 12 frames - wasMMBDuringDrag=True, current: poll=True, raw=True, event=True
[01:28:11] [INFO] [Shotgun.FIX#445v7] ProcessDragGesture - dragVector=(21,3, 259,5), length=260,4, ActionState=Ready
[01:28:11] [INFO] [Shotgun.FIX#477] RMB release in Loading state: wasMMBDuringDrag=True, isMMBHeld=True, shellLoadedMidDrag=False => shouldLoadShell=True
[01:28:11] [INFO] [Shotgun.FIX#477] Loading shell (MMB was held during drag)
[01:28:11] [INFO] [Shotgun.FIX#243] LoadShell called - ReloadState=Loading, ShellsInTube=7/8, Tutorial=False, ReserveAmmo=9
[01:28:11] [INFO] [Shotgun.FIX#243] Shell LOADED - 8/8 shells in tube
[01:28:11] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=856), can_see=false
[01:28:11] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1104), can_see=false
[01:28:11] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=902), can_see=false
[01:28:11] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1472), can_see=false
[01:28:11] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1687), can_see=false
[01:28:11] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1221), can_see=false
[01:28:11] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[01:28:11] [INFO] [BloodyFeet:Player] Blood ran out - no more footprints
[01:28:11] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.1°, current=89.4°, player=(931,413), corner_timer=-0.02
[01:28:11] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[01:28:11] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.2°, player=(936,413), corner_timer=0.30
[01:28:11] [INFO] [Shotgun.EVENT] MMB event: pressed=False (was True), isDragging=False
[01:28:11] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[01:28:11] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[01:28:11] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=Ready, ReloadState=Loading
[01:28:11] [INFO] [Shotgun.FIX#445] dragStartPos=(1233, 309), aimDir=(0,79, 0,62)
[01:28:11] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:28:11] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=False
[01:28:11] [INFO] [Shotgun.FIX#243] Reload complete - bolt closed, ready to fire with 8 shells
[01:28:11] [INFO] [Shotgun.FIX#477v3] Mid-drag bolt closed (MMB not held)
[01:28:11] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:28:11] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:28:11] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=689), can_see=false
[01:28:11] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=937), can_see=false
[01:28:11] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=770), can_see=false
[01:28:11] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1364), can_see=false
[01:28:11] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1572), can_see=false
[01:28:11] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1197), can_see=false
[01:28:11] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:28:11] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.1°, current=89.4°, player=(1041,413), corner_timer=-0.02
[01:28:11] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[01:28:11] [INFO] [Shotgun.FIX#243] RMB released after 7 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[01:28:11] [INFO] [Shotgun.FIX#445v7] ProcessDragGesture - dragVector=(26,5, 350,0), length=351,0, ActionState=Ready
[01:28:11] [INFO] [Shotgun.FIX#445v7] Screen-based pump gesture: isDragUp=False, isDragDown=True
[01:28:11] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.2°, player=(1046,413), corner_timer=0.30
[01:28:11] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[01:28:11] [INFO] [ReplayManager] Recording frame 600 (8,7s): player_valid=True, enemies=10
[01:28:12] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1151,412), corner_timer=-0.02
[01:28:12] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[01:28:12] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1156,412), corner_timer=0.30
[01:28:12] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[01:28:12] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=522), can_see=false
[01:28:12] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=771), can_see=false
[01:28:12] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=655), can_see=false
[01:28:12] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1269), can_see=false
[01:28:12] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1469), can_see=false
[01:28:12] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1197), can_see=false
[01:28:12] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1236,354), corner_timer=-0.02
[01:28:12] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[01:28:12] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1240,350), corner_timer=0.30
[01:28:12] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[01:28:12] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=437), can_see=false
[01:28:12] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=703), can_see=false
[01:28:12] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=712), can_see=false
[01:28:12] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1334), can_see=false
[01:28:12] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1522), can_see=false
[01:28:12] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1332), can_see=false
[01:28:12] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1274,260), corner_timer=-0.02
[01:28:12] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[01:28:12] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1277,255), corner_timer=0.30
[01:28:12] [INFO] [ScoreManager] Combo ended at 4. Max combo: 4
[01:28:12] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[01:28:12] [INFO] [ReplayManager] Recording frame 660 (9,7s): player_valid=True, enemies=10
[01:28:13] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1348,180), corner_timer=-0.02
[01:28:13] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[01:28:13] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(1352,176), corner_timer=0.30
[01:28:13] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[01:28:13] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=378), can_see=false
[01:28:13] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=645), can_see=false
[01:28:13] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=785), can_see=false
[01:28:13] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1401), can_see=false
[01:28:13] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1575), can_see=false
[01:28:13] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1469), can_see=false
[01:28:13] [ENEMY] [Enemy6] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=-150.0°, current=163.4°, player=(1399,131), corner_timer=0.00
[01:28:13] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) - pursuing to attack (dist=636)
[01:28:13] [ENEMY] [Enemy6] State: IDLE -> PURSUING
[01:28:13] [ENEMY] [Enemy6] PURSUING corner check: angle 150.2°
[01:28:13] [ENEMY] [Enemy6] ROT_CHANGE: P1:visible -> P2:combat_state, state=PURSUING, target=-149.4°, current=49.3°, player=(1408,126), corner_timer=0.30
[01:28:13] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(1427.76, 120.3072), source=PLAYER (Player), range=600, listeners=6
[01:28:13] [ENEMY] [Enemy5] Heard player EMPTY_CLICK at (1427.76, 120.3072), intensity=0.02, distance=356
[01:28:13] [ENEMY] [Enemy5] Vulnerability sound triggered pursuit - transitioning from IDLE to PURSUING
[01:28:13] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=0, below_threshold=1
[01:28:13] [INFO] [Shotgun.FIX#212] Firing 12 pellets with 15° spread at pos=(1427.7599, 120.307205)
[01:28:13] [INFO] [Shotgun.FIX#212] Normal pellet 1/12: extraOffset=13,9, distance=65,9px, pos=(1488.362, 146.21187)
[01:28:13] [INFO] [Shotgun.FIX#212] Normal pellet 2/12: extraOffset=-0,5, distance=51,5px, pos=(1474.4033, 142.23209)
[01:28:13] [INFO] [Shotgun.FIX#212] Normal pellet 3/12: extraOffset=3,2, distance=55,2px, pos=(1476.7712, 145.70302)
[01:28:13] [INFO] [Shotgun.FIX#212] Normal pellet 4/12: extraOffset=4,8, distance=56,8px, pos=(1477.7903, 147.26733)
[01:28:13] [INFO] [Shotgun.FIX#212] Normal pellet 5/12: extraOffset=-6,2, distance=45,8px, pos=(1467.9138, 142.4238)
[01:28:13] [INFO] [Shotgun.FIX#212] Normal pellet 6/12: extraOffset=5,1, distance=57,1px, pos=(1477.4578, 148.4087)
[01:28:13] [INFO] [Shotgun.FIX#212] Normal pellet 7/12: extraOffset=-2,0, distance=50,0px, pos=(1470.4075, 146.38959)
[01:28:13] [INFO] [Shotgun.FIX#212] Normal pellet 8/12: extraOffset=3,2, distance=55,2px, pos=(1473.6698, 150.90973)
[01:28:13] [INFO] [Shotgun.FIX#212] Normal pellet 9/12: extraOffset=9,1, distance=61,1px, pos=(1478.7473, 154.0387)
[01:28:13] [INFO] [Shotgun.FIX#212] Normal pellet 10/12: extraOffset=7,3, distance=59,3px, pos=(1475.4136, 155.52586)
[01:28:13] [INFO] [Shotgun.FIX#212] Normal pellet 11/12: extraOffset=-0,6, distance=51,4px, pos=(1469.0627, 150.85603)
[01:28:13] [INFO] [Shotgun.FIX#212] Normal pellet 12/12: extraOffset=-0,5, distance=51,5px, pos=(1468.3192, 151.97815)
[01:28:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1427.76, 120.3072), source=PLAYER (Shotgun), range=1469, listeners=6
[01:28:13] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=2, self=0, below_threshold=3
[01:28:13] [ENEMY] [Enemy5] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=-139.8°, current=135.6°, player=(1427,120), corner_timer=0.00
[01:28:13] [ENEMY] [Enemy5] Pursuing vulnerability sound at (1427.76, 120.3072), distance=356
[01:28:13] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.2°, current=89.4°, player=(1432,119), corner_timer=-0.02
[01:28:13] [ENEMY] [Enemy7] Memory: medium confidence (0.54) - transitioning to PURSUING
[01:28:13] [ENEMY] [Enemy7] State: IDLE -> PURSUING
[01:28:13] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P2:combat_state, state=PURSUING, target=-102.5°, current=92.3°, player=(1437,118), corner_timer=-0.02
[01:28:13] [ENEMY] [Enemy7] PURSUING corner check: angle -11.5°
[01:28:13] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[01:28:13] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[01:28:13] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=NeedsPumpUp, ReloadState=NotReloading
[01:28:13] [INFO] [Shotgun.FIX#445] dragStartPos=(1857, 356), aimDir=(0,85, 0,53)
[01:28:13] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:28:13] [ENEMY] [Enemy6] Hit taken, damage: 1, health: 3/3 -> 2/3
[01:28:13] [ENEMY] [Enemy6] ImpactEffectsManager found, calling spawn_blood_effect
[01:28:13] [INFO] [ImpactEffects] spawn_blood_effect called at (1904.892, 371.3505), dir=(1, 0), lethal=false
[01:28:13] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:28:13] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[01:28:13] [INFO] [ImpactEffects] Blood effect spawned at (1904.892, 371.3505) (scale=1)
[01:28:13] [ENEMY] [Enemy6] Hit taken, damage: 1, health: 2/3 -> 1/3
[01:28:13] [ENEMY] [Enemy6] ImpactEffectsManager found, calling spawn_blood_effect
[01:28:13] [INFO] [ImpactEffects] spawn_blood_effect called at (1904.892, 371.3505), dir=(1, 0), lethal=false
[01:28:13] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:28:13] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[01:28:13] [INFO] [ImpactEffects] Blood effect spawned at (1904.892, 371.3505) (scale=1)
[01:28:13] [ENEMY] [Enemy6] Hit taken, damage: 1, health: 1/3 -> 0/3
[01:28:13] [ENEMY] [Enemy6] ImpactEffectsManager found, calling spawn_blood_effect
[01:28:13] [INFO] [ImpactEffects] spawn_blood_effect called at (1904.892, 371.3505), dir=(1, 0), lethal=true
[01:28:13] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:28:13] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[01:28:13] [INFO] [ImpactEffects] Blood effect spawned at (1904.892, 371.3505) (scale=1.5)
[01:28:13] [ENEMY] [Enemy6] Enemy died (ricochet: false, penetration: false)
[01:28:13] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[01:28:13] [ENEMY] [Enemy6] [AllyDeath] Notified 1 enemies
[01:28:13] [INFO] [SoundPropagation] Unregistered listener: Enemy6 (remaining: 5)
[01:28:13] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[01:28:13] [ENEMY] [Enemy6] Death animation started with hit direction: (1, 0)
[01:28:13] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:28:13] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:28:13] [INFO] [Shotgun.FIX#445v7] Mid-drag pump UP - shell ejected, continue dragging DOWN to chamber
[01:28:13] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:28:13] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:28:13] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:28:13] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=265), can_see=false
[01:28:13] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=760), can_see=false
[01:28:13] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1403), can_see=false
[01:28:13] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1567), can_see=false
[01:28:13] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1520), can_see=false
[01:28:13] [INFO] [Shotgun.FIX#445v7] Mid-drag pump DOWN - chambered, ready to fire
[01:28:13] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:28:13] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:28:13] [ENEMY] [Enemy7] PURSUING corner check: angle -1.5°
[01:28:13] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:28:13] [INFO] [ReplayManager] Recording frame 720 (10,6s): player_valid=True, enemies=10
[01:28:13] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[01:28:13] [ENEMY] [Enemy5] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-149.1°, current=-101.4°, player=(1463,126), corner_timer=0.00
[01:28:13] [ENEMY] [Enemy5] Player empty ammo - priority attack triggered
[01:28:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1667.926, 248.5329), source=ENEMY (Enemy5), range=1469, listeners=5
[01:28:13] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=4
[01:28:13] [ENEMY] [Enemy5] State: PURSUING -> COMBAT
[01:28:13] [INFO] [BloodDecal] Blood puddle created at (1989.662, 370.5103) (added to group)
[01:28:13] [INFO] [LastChance] Threat detected: Bullet
[01:28:13] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[01:28:13] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:28:13] [ENEMY] [Enemy5] State: COMBAT -> RETREATING
[01:28:13] [INFO] [BloodDecal] Blood puddle created at (1947.391, 374.5686) (added to group)
[01:28:13] [INFO] [Shotgun.FIX#243] RMB released after 9 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[01:28:13] [INFO] [Shotgun.FIX#445v7] ProcessDragGesture - dragVector=(13,9, 194,2), length=194,7, ActionState=Ready
[01:28:13] [INFO] [Shotgun.FIX#445v7] Screen-based pump gesture: isDragUp=False, isDragDown=True
[01:28:13] [INFO] [BloodDecal] Blood puddle created at (1952.317, 385.9017) (added to group)
[01:28:13] [INFO] [BloodDecal] Blood puddle created at (1947.151, 376.6596) (added to group)
[01:28:13] [INFO] [BloodDecal] Blood puddle created at (1952.288, 405.4185) (added to group)
[01:28:13] [INFO] [Player] Hit blocked by invincibility mode (C#)
[01:28:13] [INFO] [Player] Spawning blood effect at (1450.7683, 140.55159), dir=(1, 0), lethal=False (C#)
[01:28:13] [INFO] [ImpactEffects] spawn_blood_effect called at (1450.768, 140.5516), dir=(1, 0), lethal=false
[01:28:13] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:28:13] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[01:28:13] [INFO] [ImpactEffects] Blood effect spawned at (1450.768, 140.5516) (scale=1)
[01:28:13] [INFO] [BloodDecal] Blood puddle created at (2007.522, 374.7885) (added to group)
[01:28:13] [INFO] [BloodDecal] Blood puddle created at (2010.853, 419.491) (added to group)
[01:28:13] [INFO] [BloodDecal] Blood puddle created at (1996.136, 428.1949) (added to group)
[01:28:13] [INFO] [BloodDecal] Blood puddle created at (1988.714, 373.785) (added to group)
[01:28:13] [ENEMY] [Enemy5] Player empty ammo - priority attack triggered
[01:28:13] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1633.796, 248.0399), source=ENEMY (Enemy5), range=1469, listeners=5
[01:28:13] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=4
[01:28:13] [INFO] [BloodDecal] Blood puddle created at (1996.374, 392.64) (added to group)
[01:28:13] [INFO] [BloodDecal] Blood puddle created at (1984.611, 419.4197) (added to group)
[01:28:13] [INFO] [BloodDecal] Blood puddle created at (1989.034, 396.5151) (added to group)
[01:28:13] [INFO] [LastChance] Threat detected: Bullet
[01:28:13] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[01:28:13] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:28:13] [INFO] [BloodDecal] Blood puddle created at (2018.885, 410.2065) (added to group)
[01:28:13] [INFO] [BloodDecal] Blood puddle created at (2007.851, 379.843) (added to group)
[01:28:14] [INFO] [BloodDecal] Blood puddle created at (2034.233, 373.0606) (added to group)
[01:28:14] [INFO] [BloodDecal] Blood puddle created at (1991.408, 410.4685) (added to group)
[01:28:14] [INFO] [BloodDecal] Blood puddle created at (1973.073, 412.8605) (added to group)
[01:28:14] [INFO] [BloodDecal] Blood puddle created at (1974.948, 418.5472) (added to group)
[01:28:14] [INFO] [BloodDecal] Blood puddle created at (2018.528, 418.8759) (added to group)
[01:28:14] [INFO] [BloodDecal] Blood puddle created at (2019.105, 428.828) (added to group)
[01:28:14] [INFO] [BloodDecal] Blood puddle created at (2007.625, 411.1717) (added to group)
[01:28:14] [ENEMY] [Enemy5] Player empty ammo - priority attack triggered
[01:28:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1599.666, 247.547), source=ENEMY (Enemy5), range=1469, listeners=5
[01:28:14] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=4
[01:28:14] [INFO] [BloodDecal] Blood puddle created at (1990.445, 397.9665) (added to group)
[01:28:14] [INFO] [LastChance] Threat detected: Bullet
[01:28:14] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[01:28:14] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:28:14] [ENEMY] [Enemy6] Ragdoll activated
[01:28:14] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[01:28:14] [INFO] [BloodDecal] Blood puddle created at (2013.301, 426.2712) (added to group)
[01:28:14] [INFO] [BloodDecal] Blood puddle created at (2027.27, 456.7544) (added to group)
[01:28:14] [INFO] [BloodDecal] Blood puddle created at (2070.593, 435.674) (added to group)
[01:28:14] [INFO] [BloodDecal] Blood puddle created at (2044.709, 443.5134) (added to group)
[01:28:14] [INFO] [BloodDecal] Blood puddle created at (2068.208, 469.6765) (added to group)
[01:28:14] [INFO] [Player] Hit blocked by invincibility mode (C#)
[01:28:14] [INFO] [Player] Spawning blood effect at (1415.4646, 191.28592), dir=(1, 0), lethal=False (C#)
[01:28:14] [INFO] [ImpactEffects] spawn_blood_effect called at (1415.465, 191.2859), dir=(1, 0), lethal=false
[01:28:14] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:28:14] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[01:28:14] [INFO] [ImpactEffects] Blood effect spawned at (1415.465, 191.2859) (scale=1)
[01:28:14] [INFO] [BloodDecal] Blood puddle created at (2048.132, 434.166) (added to group)
[01:28:14] [INFO] [BloodDecal] Blood puddle created at (1979.096, 466.6003) (added to group)
[01:28:14] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=654), can_see=false
[01:28:14] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1345), can_see=false
[01:28:14] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1518), can_see=false
[01:28:14] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1430), can_see=false
[01:28:14] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[01:28:14] [ENEMY] [Enemy5] Player distracted - priority attack triggered
[01:28:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1565.536, 247.0541), source=ENEMY (Enemy5), range=1469, listeners=5
[01:28:14] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=4
[01:28:14] [INFO] [BloodDecal] Blood puddle created at (2060.441, 374.9197) (added to group)
[01:28:14] [INFO] [BloodDecal] Blood puddle created at (2070.655, 513.775) (added to group)
[01:28:14] [INFO] [LastChance] Threat detected: Bullet
[01:28:14] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[01:28:14] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:28:14] [INFO] [BloodDecal] Blood puddle created at (1987.152, 412.6839) (added to group)
[01:28:14] [INFO] [BloodDecal] Blood puddle created at (2099.978, 423.2522) (added to group)
[01:28:14] [INFO] [BloodDecal] Blood puddle created at (2032.812, 439.6845) (added to group)
[01:28:14] [INFO] [BloodDecal] Blood puddle created at (2023.539, 477.8401) (added to group)
[01:28:14] [INFO] [BloodDecal] Blood puddle created at (1516.33, 150.6924) (added to group)
[01:28:14] [INFO] [Player] Hit blocked by invincibility mode (C#)
[01:28:14] [INFO] [Player] Spawning blood effect at (1413.0089, 220.59584), dir=(1, 0), lethal=False (C#)
[01:28:14] [INFO] [ImpactEffects] spawn_blood_effect called at (1413.009, 220.5958), dir=(1, 0), lethal=false
[01:28:14] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:28:14] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[01:28:14] [INFO] [ImpactEffects] Blood effect spawned at (1413.009, 220.5958) (scale=1)
[01:28:14] [INFO] [BloodDecal] Blood puddle created at (2048.423, 400.0786) (added to group)
[01:28:14] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(1414.941, 232.7047), source=PLAYER (Player), range=600, listeners=5
[01:28:14] [ENEMY] [Enemy5] Heard player EMPTY_CLICK at (1414.941, 232.7047), intensity=0.09, distance=164
[01:28:14] [ENEMY] [Enemy5] Vulnerability sound triggered pursuit - transitioning from RETREATING to PURSUING
[01:28:14] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=4, self=0, below_threshold=0
[01:28:14] [INFO] [Shotgun.FIX#212] Firing 16 pellets with 15° spread at pos=(1414.9414, 232.70467)
[01:28:14] [INFO] [Shotgun.FIX#212] Normal pellet 1/16: extraOffset=5,8, distance=57,8px, pos=(1466.1847, 205.87444)
[01:28:14] [INFO] [Shotgun.FIX#212] Normal pellet 2/16: extraOffset=-4,8, distance=47,2px, pos=(1457.4255, 212.13815)
[01:28:14] [INFO] [Shotgun.FIX#212] Normal pellet 3/16: extraOffset=-11,1, distance=40,9px, pos=(1451.8241, 215.02292)
[01:28:14] [INFO] [Shotgun.FIX#212] Normal pellet 4/16: extraOffset=-11,7, distance=40,3px, pos=(1452.1963, 217.24362)
[01:28:14] [INFO] [Shotgun.FIX#212] Normal pellet 5/16: extraOffset=14,4, distance=66,4px, pos=(1475.6338, 205.79413)
[01:28:14] [INFO] [Shotgun.FIX#212] Normal pellet 6/16: extraOffset=-6,8, distance=45,2px, pos=(1456.718, 215.35307)
[01:28:14] [INFO] [Shotgun.FIX#212] Normal pellet 7/16: extraOffset=-0,6, distance=51,4px, pos=(1463.3673, 215.37723)
[01:28:14] [INFO] [Shotgun.FIX#212] Normal pellet 8/16: extraOffset=-4,8, distance=47,2px, pos=(1459.5792, 217.3433)
[01:28:14] [INFO] [Shotgun.FIX#212] Normal pellet 9/16: extraOffset=3,8, distance=55,8px, pos=(1467.3647, 213.70116)
[01:28:14] [INFO] [Shotgun.FIX#212] Normal pellet 10/16: extraOffset=-1,8, distance=50,2px, pos=(1462.6864, 217.05399)
[01:28:14] [INFO] [Shotgun.FIX#212] Normal pellet 11/16: extraOffset=-10,2, distance=41,8px, pos=(1454.9033, 220.42245)
[01:28:14] [INFO] [Shotgun.FIX#212] Normal pellet 12/16: extraOffset=-9,9, distance=42,1px, pos=(1455.8186, 222.44489)
[01:28:14] [INFO] [Shotgun.FIX#212] Normal pellet 13/16: extraOffset=-3,7, distance=48,3px, pos=(1461.5045, 219.95827)
[01:28:14] [INFO] [Shotgun.FIX#212] Normal pellet 14/16: extraOffset=7,0, distance=59,0px, pos=(1472.0535, 217.72707)
[01:28:14] [INFO] [Shotgun.FIX#212] Normal pellet 15/16: extraOffset=12,5, distance=64,5px, pos=(1477.8241, 218.24474)
[01:28:14] [INFO] [Shotgun.FIX#212] Normal pellet 16/16: extraOffset=-5,4, distance=46,6px, pos=(1460.4945, 222.89815)
[01:28:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1414.941, 232.7047), source=PLAYER (Shotgun), range=1469, listeners=5
[01:28:14] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=3
[01:28:14] [ENEMY] [Enemy5] Player empty ammo - priority attack triggered
[01:28:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1574.727, 244.4643), source=ENEMY (Enemy5), range=1469, listeners=5
[01:28:14] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=4
[01:28:14] [INFO] [BloodDecal] Blood puddle created at (2031.949, 469.8486) (added to group)
[01:28:14] [INFO] [LastChance] Threat detected: Bullet
[01:28:14] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[01:28:14] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:28:14] [ENEMY] [Enemy5] Pursuing vulnerability sound at (1417.229, 240.4028), distance=154
[01:28:14] [INFO] [BloodDecal] Blood puddle created at (2101.757, 499.9096) (added to group)
[01:28:14] [INFO] [BloodDecal] Blood puddle created at (2134.153, 464.1653) (added to group)
[01:28:14] [INFO] [BloodDecal] Blood puddle created at (2026.978, 498.6428) (added to group)
[01:28:14] [INFO] [Player] Hit blocked by invincibility mode (C#)
[01:28:14] [INFO] [Player] Spawning blood effect at (1422.1573, 251.38817), dir=(1, 0), lethal=False (C#)
[01:28:14] [INFO] [ImpactEffects] spawn_blood_effect called at (1422.157, 251.3882), dir=(1, 0), lethal=false
[01:28:14] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:28:14] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[01:28:14] [INFO] [ImpactEffects] Blood effect spawned at (1422.157, 251.3882) (scale=1)
[01:28:14] [INFO] [BloodDecal] Blood puddle created at (1592.349, 154.5109) (added to group)
[01:28:14] [INFO] [BloodDecal] Blood puddle created at (1487.667, 210.3091) (added to group)
[01:28:14] [ENEMY] [Enemy5] Player empty ammo - priority attack triggered
[01:28:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1543.166, 251.9335), source=ENEMY (Enemy5), range=1469, listeners=5
[01:28:14] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=4
[01:28:14] [INFO] [LastChance] Threat detected: Bullet
[01:28:14] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[01:28:14] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:28:14] [INFO] [Player] Hit blocked by invincibility mode (C#)
[01:28:14] [INFO] [Player] Spawning blood effect at (1437.4083, 271.3368), dir=(1, 0), lethal=False (C#)
[01:28:14] [INFO] [ImpactEffects] spawn_blood_effect called at (1437.408, 271.3368), dir=(1, 0), lethal=false
[01:28:14] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:28:14] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[01:28:14] [INFO] [ImpactEffects] Blood effect spawned at (1437.408, 271.3368) (scale=1)
[01:28:14] [INFO] [BloodDecal] Blood puddle created at (1508.718, 194.7723) (added to group)
[01:28:14] [ENEMY] [Enemy5] ROT_CHANGE: P1:visible -> P2:combat_state, state=PURSUING, target=157.1°, current=-66.3°, player=(1449,283), corner_timer=0.00
[01:28:14] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=81), can_see=false
[01:28:14] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[01:28:14] [ENEMY] [Enemy5] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=149.1°, current=133.9°, player=(1456,290), corner_timer=0.00
[01:28:14] [ENEMY] [Enemy5] Player empty ammo - priority attack triggered
[01:28:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1517.519, 253.2575), source=ENEMY (Enemy5), range=1469, listeners=5
[01:28:14] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=4
[01:28:14] [INFO] [BloodDecal] Blood puddle created at (1536.572, 249.5628) (added to group)
[01:28:14] [INFO] [BloodDecal] Blood puddle created at (1566.48, 212.8188) (added to group)
[01:28:14] [INFO] [BloodDecal] Blood puddle created at (1460.621, 254.6702) (added to group)
[01:28:14] [INFO] [Player] Hit blocked by invincibility mode (C#)
[01:28:14] [INFO] [Player] Spawning blood effect at (1459.1876, 293.11566), dir=(1, 0), lethal=False (C#)
[01:28:14] [INFO] [ImpactEffects] spawn_blood_effect called at (1459.188, 293.1157), dir=(1, 0), lethal=false
[01:28:14] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:28:14] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[01:28:14] [INFO] [ImpactEffects] Wall found for blood splatter at (1540, 293.1157) (dist=80 px)
[01:28:14] [INFO] [BloodDecal] Blood puddle created at (1539, 293.1157) (added to group)
[01:28:14] [INFO] [ImpactEffects] Blood effect spawned at (1459.188, 293.1157) (scale=1)
[01:28:14] [INFO] [BloodDecal] Blood puddle created at (1497.743, 205.5747) (added to group)
[01:28:14] [INFO] [BloodDecal] Blood puddle created at (1589.681, 186.2037) (added to group)
[01:28:14] [INFO] [BloodDecal] Blood puddle created at (1561.109, 242.0122) (added to group)
[01:28:14] [INFO] [BloodDecal] Blood puddle created at (1605.257, 181.4266) (added to group)
[01:28:14] [INFO] [BloodDecal] Blood puddle created at (1498.944, 270.1026) (added to group)
[01:28:14] [ENEMY] [Enemy5] State: PURSUING -> COMBAT
[01:28:14] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=538), can_see=false
[01:28:14] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1222), can_see=false
[01:28:14] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1394), can_see=false
[01:28:14] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1334), can_see=false
[01:28:14] [INFO] [BloodyFeet:Enemy5] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[01:28:14] [ENEMY] [Enemy5] State: COMBAT -> RETREATING
[01:28:14] [INFO] [BloodDecal] Blood puddle created at (1638.284, 146.7666) (added to group)
[01:28:14] [INFO] [BloodDecal] Blood puddle created at (1521.65, 263.6156) (added to group)
[01:28:14] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[01:28:14] [ENEMY] [Enemy5] Player distracted - priority attack triggered
[01:28:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1496.335, 276.2433), source=ENEMY (Enemy5), range=1469, listeners=5
[01:28:14] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=4
[01:28:14] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=NeedsPumpUp, ReloadState=NotReloading
[01:28:14] [INFO] [Shotgun.FIX#445] dragStartPos=(1787, 43), aimDir=(0,74, -0,67)
[01:28:14] [INFO] [ReplayManager] Recording frame 780 (11,4s): player_valid=True, enemies=10
[01:28:14] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:28:14] [INFO] [Shotgun.FIX#445v7] Mouse at top edge (Y=0), need PumpUp - recentering cursor
[01:28:14] [INFO] [Shotgun.FIX#445v7] Cursor recentered to (640, 360)
[01:28:14] [INFO] [BloodDecal] Blood puddle created at (1633.252, 259.0741) (added to group)
[01:28:14] [INFO] [BloodDecal] Blood puddle created at (1571.102, 238.6726) (added to group)
[01:28:14] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:28:14] [INFO] [Shotgun.FIX#445v7] Mid-drag pump UP - shell ejected, continue dragging DOWN to chamber
[01:28:14] [INFO] [BloodDecal] Blood puddle created at (1507.122, 321.0045) (added to group)
[01:28:14] [INFO] [BloodDecal] Blood puddle created at (1518.271, 318.6086) (added to group)
[01:28:14] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[01:28:14] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:28:14] [ENEMY] [Enemy5] Player empty ammo - priority attack triggered
[01:28:14] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1502.474, 299.3346), source=ENEMY (Enemy5), range=1469, listeners=5
[01:28:14] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=4
[01:28:14] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:28:14] [INFO] [BloodDecal] Blood puddle created at (1489.648, 256.5398) (added to group)
[01:28:14] [INFO] [BloodDecal] Blood puddle created at (1534.241, 258.4207) (added to group)
[01:28:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1478.6257, 341.94705), shooter_id=1143350496216, bullet_pos=(1380.1716, 589.77325)
[01:28:14] [INFO] [Bullet] Using shooter_position, distance=266,66653
[01:28:14] [INFO] [Bullet] Distance to wall: 266,66653 (18,157816% of viewport)
[01:28:14] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:28:14] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1478.6257, 341.94705), shooter_id=1143350496216, bullet_pos=(1396.4059, 618.88617)
[01:28:14] [INFO] [Bullet] Using shooter_position, distance=288,88644
[01:28:14] [INFO] [Bullet] Distance to wall: 288,88644 (19,67081% of viewport)
[01:28:14] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:28:14] [INFO] [Bullet] Starting wall penetration at (1396.4059, 618.88617)
[01:28:14] [INFO] [Bullet] Raycast backward hit penetrating body at distance 27,478159
[01:28:14] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:28:14] [INFO] [Shotgun.FIX#445v7] Mid-drag pump DOWN - chambered, ready to fire
[01:28:14] [INFO] [BloodDecal] Blood puddle created at (1602.587, 187.4673) (added to group)
[01:28:14] [INFO] [BloodDecal] Blood puddle created at (1488.655, 244.7156) (added to group)
[01:28:14] [INFO] [BloodDecal] Blood puddle created at (1509.577, 298.562) (added to group)
[01:28:14] [INFO] [BloodDecal] Blood puddle created at (1527.077, 320.2489) (added to group)
[01:28:14] [INFO] [Bullet] Body exited signal received for penetrating body
[01:28:14] [INFO] [Bullet] Exiting penetration at (1412.6401, 647.9991) after traveling 28,333336 pixels through wall
[01:28:14] [INFO] [Bullet] Damage multiplier after penetration: 0,45
[01:28:14] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:28:14] [INFO] [BloodDecal] Blood puddle created at (1609.221, 260.5266) (added to group)
[01:28:14] [INFO] [BloodDecal] Blood puddle created at (1540.375, 337.7979) (added to group)
[01:28:14] [INFO] [BloodDecal] Blood puddle created at (1536.588, 269.1247) (added to group)
[01:28:15] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[01:28:15] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:28:15] [INFO] [BloodDecal] Blood puddle created at (1537.156, 278.6174) (added to group)
[01:28:15] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1501.0037, 367.36725), shooter_id=1143350496216, bullet_pos=(1522.736, 599.6864)
[01:28:15] [INFO] [Bullet] Using shooter_position, distance=233,3334
[01:28:15] [INFO] [Bullet] Distance to wall: 233,3334 (15,888101% of viewport)
[01:28:15] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:28:15] [INFO] [Bullet] Starting wall penetration at (1522.736, 599.6864)
[01:28:15] [ENEMY] [Enemy5] Player distracted - priority attack triggered
[01:28:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1486.507, 307.7704), source=ENEMY (Enemy5), range=1469, listeners=5
[01:28:15] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=4
[01:28:15] [INFO] [Bullet] Raycast backward hit penetrating body at distance 13,91363
[01:28:15] [INFO] [Bullet] Body exited signal received for penetrating body
[01:28:15] [INFO] [Bullet] Exiting penetration at (1526.3063, 637.85315) after traveling 33,333336 pixels through wall
[01:28:15] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[01:28:15] [INFO] [Player] Hit blocked by invincibility mode (C#)
[01:28:15] [INFO] [Player] Spawning blood effect at (1534.1858, 366.9977), dir=(1, 0), lethal=False (C#)
[01:28:15] [INFO] [ImpactEffects] spawn_blood_effect called at (1534.186, 366.9977), dir=(1, 0), lethal=false
[01:28:15] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:28:15] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[01:28:15] [INFO] [ImpactEffects] Blood effect spawned at (1534.186, 366.9977) (scale=1)
[01:28:15] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:28:15] [INFO] [BloodDecal] Blood puddle created at (1571.553, 227.4324) (added to group)
[01:28:15] [INFO] [BloodDecal] Blood puddle created at (1580.095, 249.538) (added to group)
[01:28:15] [INFO] [BloodDecal] Blood puddle created at (1537.921, 333.4635) (added to group)
[01:28:15] [INFO] [Shotgun.FIX#243] RMB released after 3 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[01:28:15] [INFO] [Shotgun.FIX#445v7] ProcessDragGesture - dragVector=(-25,9, 215,5), length=217,1, ActionState=Ready
[01:28:15] [INFO] [Shotgun.FIX#445v7] Screen-based pump gesture: isDragUp=False, isDragDown=True
[01:28:15] [INFO] [BloodDecal] Blood puddle created at (1611.461, 260.4117) (added to group)
[01:28:15] [INFO] [BloodDecal] Blood puddle created at (1565.805, 255.172) (added to group)
[01:28:15] [INFO] [BloodDecal] Blood puddle created at (1591.177, 366.7996) (added to group)
[01:28:15] [INFO] [BloodDecal] Blood puddle created at (1526.34, 317.0286) (added to group)
[01:28:15] [INFO] [BloodDecal] Blood puddle created at (1534.759, 349.3806) (added to group)
[01:28:15] [ENEMY] [Enemy5] Player distracted - priority attack triggered
[01:28:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1462.695, 309.7317), source=ENEMY (Enemy5), range=1469, listeners=5
[01:28:15] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=4
[01:28:15] [INFO] [LastChance] Threat detected: Bullet
[01:28:15] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[01:28:15] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:28:15] [INFO] [BloodDecal] Blood puddle created at (1557.326, 358.3983) (added to group)
[01:28:15] [INFO] [BloodDecal] Blood puddle created at (1518.702, 311.5049) (added to group)
[01:28:15] [INFO] [Player] Hit blocked by invincibility mode (C#)
[01:28:15] [INFO] [Player] Spawning blood effect at (1565.2991, 398.11038), dir=(1, 0), lethal=False (C#)
[01:28:15] [INFO] [ImpactEffects] spawn_blood_effect called at (1565.299, 398.1104), dir=(1, 0), lethal=false
[01:28:15] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:28:15] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[01:28:15] [INFO] [ImpactEffects] Blood effect spawned at (1565.299, 398.1104) (scale=1)
[01:28:15] [INFO] [BloodDecal] Blood puddle created at (1543.039, 387.3853) (added to group)
[01:28:15] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=443), can_see=false
[01:28:15] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1100), can_see=false
[01:28:15] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1266), can_see=false
[01:28:15] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1269), can_see=false
[01:28:15] [INFO] [BloodDecal] Blood puddle created at (1581.607, 377.5377) (added to group)
[01:28:15] [INFO] [BloodDecal] Blood puddle created at (1539.509, 375.5674) (added to group)
[01:28:15] [INFO] [BloodDecal] Blood puddle created at (1578.55, 421.5385) (added to group)
[01:28:15] [ENEMY] [Enemy5] Player distracted - priority attack triggered
[01:28:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1439.118, 309.4836), source=ENEMY (Enemy5), range=1469, listeners=5
[01:28:15] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=4
[01:28:15] [INFO] [LastChance] Threat detected: Bullet
[01:28:15] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[01:28:15] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:28:15] [INFO] [BloodDecal] Blood puddle created at (1551.799, 417.7204) (added to group)
[01:28:15] [INFO] [Player] Hit blocked by invincibility mode (C#)
[01:28:15] [INFO] [Player] Spawning blood effect at (1596.4939, 429.02597), dir=(1, 0), lethal=False (C#)
[01:28:15] [INFO] [ImpactEffects] spawn_blood_effect called at (1596.494, 429.026), dir=(1, 0), lethal=false
[01:28:15] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:28:15] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[01:28:15] [INFO] [ImpactEffects] Blood effect spawned at (1596.494, 429.026) (scale=1)
[01:28:15] [ENEMY] [Enemy6] Death animation completed
[01:28:15] [INFO] [BloodDecal] Blood puddle created at (1671.687, 439.1151) (added to group)
[01:28:15] [INFO] [BloodDecal] Blood puddle created at (1584.568, 383.0934) (added to group)
[01:28:15] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[01:28:15] [INFO] [BloodDecal] Blood puddle created at (1617.929, 344.7888) (added to group)
[01:28:15] [ENEMY] [Enemy5] Player distracted - priority attack triggered
[01:28:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1430.769, 295.8751), source=ENEMY (Enemy5), range=1469, listeners=5
[01:28:15] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=4
[01:28:15] [INFO] [LastChance] Threat detected: Bullet
[01:28:15] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[01:28:15] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:28:15] [INFO] [BloodDecal] Blood puddle created at (1631.318, 380.5811) (added to group)
[01:28:15] [INFO] [BloodDecal] Blood puddle created at (1592.509, 412.1819) (added to group)
[01:28:15] [INFO] [BloodDecal] Blood puddle created at (1646.62, 422.8384) (added to group)
[01:28:15] [INFO] [BloodDecal] Blood puddle created at (1607.793, 436.9446) (added to group)
[01:28:15] [INFO] [BloodDecal] Blood puddle created at (1623.311, 475.7248) (added to group)
[01:28:15] [INFO] [BloodDecal] Blood puddle created at (1626.243, 394.9124) (added to group)
[01:28:15] [INFO] [BloodDecal] Blood puddle created at (1623.059, 423.0284) (added to group)
[01:28:15] [ENEMY] [Enemy5] Player distracted - priority attack triggered
[01:28:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1437.537, 272.9603), source=ENEMY (Enemy5), range=1469, listeners=5
[01:28:15] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=4
[01:28:15] [INFO] [BloodDecal] Blood puddle created at (1623.013, 368.0839) (added to group)
[01:28:15] [INFO] [LastChance] Threat detected: Bullet
[01:28:15] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[01:28:15] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:28:15] [INFO] [BloodDecal] Blood puddle created at (1617.569, 427.3114) (added to group)
[01:28:15] [INFO] [BloodDecal] Blood puddle created at (1621.669, 404.8882) (added to group)
[01:28:15] [INFO] [BloodDecal] Blood puddle created at (1656.832, 405.229) (added to group)
[01:28:15] [INFO] [BloodDecal] Blood puddle created at (1698.762, 376.2469) (added to group)
[01:28:15] [INFO] [BloodDecal] Blood puddle created at (1640.79, 439.1924) (added to group)
[01:28:15] [ENEMY] [Enemy5] Player distracted - priority attack triggered
[01:28:15] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1444.306, 250.0455), source=ENEMY (Enemy5), range=1469, listeners=5
[01:28:15] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=4
[01:28:15] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=426), can_see=false
[01:28:15] [ENEMY] [Enemy7] FLANKING started: target=(1486.437, 473.3303), side=right, pos=(1518.099, 841.2938)
[01:28:15] [ENEMY] [Enemy7] State: PURSUING -> FLANKING
[01:28:15] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1024), can_see=false
[01:28:15] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1177), can_see=false
[01:28:15] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1267), can_see=false
[01:28:15] [INFO] [BloodDecal] Blood puddle created at (1709.611, 405.8482) (added to group)
[01:28:15] [INFO] [BloodDecal] Blood puddle created at (1649.33, 462.416) (added to group)
[01:28:15] [INFO] [BloodDecal] Blood puddle created at (1676.231, 446.818) (added to group)
[01:28:15] [INFO] [BloodDecal] Blood puddle created at (1689.792, 494.5045) (added to group)
[01:28:15] [INFO] [LastChance] Threat detected: @Area2D@5138
[01:28:15] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[01:28:15] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:28:15] [ENEMY] [Enemy5] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=-73.5°, current=41.0°, player=(1693,449), corner_timer=0.00
[01:28:15] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=325), can_see=false
[01:28:15] [INFO] [ReplayManager] Recording frame 840 (12,2s): player_valid=True, enemies=10
[01:28:15] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[01:28:15] [INFO] [BloodDecal] Blood puddle created at (1668.783, 441.8967) (added to group)
[01:28:15] [INFO] [BloodDecal] Blood puddle created at (1655.332, 445.426) (added to group)
[01:28:15] [ENEMY] [Enemy5] State: RETREATING -> IN_COVER
[01:28:15] [ENEMY] [Enemy5] State: IN_COVER -> SUPPRESSED
[01:28:15] [INFO] [BloodDecal] Blood puddle created at (1652.172, 479.8864) (added to group)
[01:28:15] [INFO] [BloodDecal] Blood puddle created at (1741.387, 495.3345) (added to group)
[01:28:15] [INFO] [BloodDecal] Blood puddle created at (1691.976, 425.8593) (added to group)
[01:28:15] [INFO] [BloodDecal] Blood puddle created at (1744.524, 379.0089) (added to group)
[01:28:15] [INFO] [BloodDecal] Blood puddle created at (1665.926, 475.6163) (added to group)
[01:28:15] [INFO] [BloodDecal] Blood puddle created at (1694.264, 492.5732) (added to group)
[01:28:15] [INFO] [BloodDecal] Blood puddle created at (1700.074, 489.8998) (added to group)
[01:28:16] [ENEMY] [Enemy7] FLANKING corner check: angle 81.7°
[01:28:16] [INFO] [BloodDecal] Blood puddle created at (1756.277, 488.4682) (added to group)
[01:28:16] [INFO] [BloodDecal] Blood puddle created at (1793.818, 520.9108) (added to group)
[01:28:16] [INFO] [BloodDecal] Blood puddle created at (1726.416, 557.38) (added to group)
[01:28:16] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[01:28:16] [INFO] [BloodDecal] Blood puddle created at (1745.909, 599.8004) (added to group)
[01:28:16] [INFO] [BloodDecal] Blood puddle created at (1712.949, 475.3797) (added to group)
[01:28:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1483.192, 323.4204), shooter_id=1143350496216, bullet_pos=(2460.1343, 1181.0841)
[01:28:16] [INFO] [Bullet] Using shooter_position, distance=1300,0012
[01:28:16] [INFO] [Bullet] Distance to wall: 1300,0012 (88,51948% of viewport)
[01:28:16] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=431), can_see=false
[01:28:16] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1007), can_see=false
[01:28:16] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1145), can_see=false
[01:28:16] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1312), can_see=false
[01:28:16] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=403), can_see=false
[01:28:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1490.0366, 300.43686), shooter_id=1143350496216, bullet_pos=(2468.267, 1156.6278)
[01:28:16] [INFO] [Bullet] Using shooter_position, distance=1299,9991
[01:28:16] [INFO] [Bullet] Distance to wall: 1299,9991 (88,51933% of viewport)
[01:28:16] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1483.192, 323.4204), shooter_id=1143350496216, bullet_pos=(2274.0867, 1362.7047)
[01:28:16] [INFO] [Bullet] Using shooter_position, distance=1305,9962
[01:28:16] [INFO] [Bullet] Distance to wall: 1305,9962 (88,92769% of viewport)
[01:28:16] [INFO] [Bullet] Distance-based penetration chance: 42,917706%
[01:28:16] [INFO] [Bullet] Penetration failed (distance roll)
[01:28:16] [ENEMY] [Enemy7] FLANKING corner check: angle 95.0°
[01:28:16] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[01:28:16] [ENEMY] [Enemy9] Hit taken, damage: 1, health: 2/2 -> 1/2
[01:28:16] [ENEMY] [Enemy9] ImpactEffectsManager found, calling spawn_blood_effect
[01:28:16] [INFO] [ImpactEffects] spawn_blood_effect called at (2100, 1550), dir=(1, 0), lethal=false
[01:28:16] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:28:16] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[01:28:16] [INFO] [ImpactEffects] Blood effect spawned at (2100, 1550) (scale=1)
[01:28:16] [ENEMY] [Enemy5] State: SUPPRESSED -> SEEKING_COVER
[01:28:16] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=407), can_see=false
[01:28:16] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1022), can_see=false
[01:28:16] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1174), can_see=false
[01:28:16] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1270), can_see=false
[01:28:16] [INFO] [ReplayManager] Recording frame 900 (13,1s): player_valid=True, enemies=10
[01:28:16] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=325), can_see=false
[01:28:16] [ENEMY] [Enemy7] FLANKING corner check: angle 48.6°
[01:28:16] [INFO] [BloodDecal] Blood puddle created at (2178.883, 1592.43) (added to group)
[01:28:16] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[01:28:16] [INFO] [BloodDecal] Blood puddle created at (2190.288, 1562.004) (added to group)
[01:28:16] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(1626.695, 477.0395), source=PLAYER (Player), range=600, listeners=5
[01:28:16] [ENEMY] [Enemy5] Heard player EMPTY_CLICK at (1626.695, 477.0395), intensity=0.02, distance=369
[01:28:16] [ENEMY] [Enemy5] Vulnerability sound triggered pursuit - transitioning from SEEKING_COVER to PURSUING
[01:28:16] [ENEMY] [Enemy7] Heard player EMPTY_CLICK at (1626.695, 477.0395), intensity=0.02, distance=355
[01:28:16] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=3, self=0, below_threshold=0
[01:28:16] [INFO] [Shotgun.FIX#212] Firing 11 pellets with 15° spread at pos=(1626.6947, 477.0395)
[01:28:16] [INFO] [Shotgun.FIX#212] Normal pellet 1/11: extraOffset=8,7, distance=60,7px, pos=(1584.0396, 433.90387)
[01:28:16] [INFO] [Shotgun.FIX#212] Normal pellet 2/11: extraOffset=-3,5, distance=48,5px, pos=(1593.7562, 441.3738)
[01:28:16] [INFO] [Shotgun.FIX#212] Normal pellet 3/11: extraOffset=-5,5, distance=46,5px, pos=(1595.2944, 442.71844)
[01:28:17] [INFO] [Shotgun.FIX#212] Normal pellet 4/11: extraOffset=-5,9, distance=46,1px, pos=(1597.7332, 441.1987)
[01:28:17] [INFO] [Shotgun.FIX#212] Normal pellet 5/11: extraOffset=-4,9, distance=47,1px, pos=(1598.198, 439.54263)
[01:28:17] [INFO] [Shotgun.FIX#212] Normal pellet 6/11: extraOffset=15,0, distance=67,0px, pos=(1586.2847, 423.63092)
[01:28:17] [INFO] [Shotgun.FIX#212] Normal pellet 7/11: extraOffset=1,0, distance=53,0px, pos=(1596.3293, 433.54846)
[01:28:17] [INFO] [Shotgun.FIX#212] Normal pellet 8/11: extraOffset=-14,6, distance=37,4px, pos=(1605.2352, 446.3651)
[01:28:17] [INFO] [Shotgun.FIX#212] Normal pellet 9/11: extraOffset=-5,9, distance=46,1px, pos=(1601.3918, 438.48456)
[01:28:17] [INFO] [Shotgun.FIX#212] Normal pellet 10/11: extraOffset=-12,6, distance=39,4px, pos=(1607.4507, 442.62015)
[01:28:17] [INFO] [Shotgun.FIX#212] Normal pellet 11/11: extraOffset=8,2, distance=60,2px, pos=(1596.3156, 425.03662)
[01:28:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1626.695, 477.0395), source=PLAYER (Shotgun), range=1469, listeners=5
[01:28:17] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=3
[01:28:17] [ENEMY] [Enemy5] ROT_CHANGE: P4:velocity -> P2:combat_state, state=PURSUING, target=60.6°, current=-95.2°, player=(1626,477), corner_timer=0.00
[01:28:17] [ENEMY] [Enemy5] Pursuing vulnerability sound at (1626.695, 477.0395), distance=369
[01:28:17] [INFO] [BloodDecal] Blood puddle created at (2188.731, 1563.9) (added to group)
[01:28:17] [ENEMY] [Enemy5] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=61.3°, current=72.8°, player=(1622,480), corner_timer=0.00
[01:28:17] [ENEMY] [Enemy5] Player empty ammo - priority attack triggered
[01:28:17] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1447.524, 160.2236), source=ENEMY (Enemy5), range=1469, listeners=5
[01:28:17] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=1, below_threshold=2
[01:28:17] [INFO] [BloodDecal] Blood puddle created at (2157.559, 1620.11) (added to group)
[01:28:17] [INFO] [BloodDecal] Blood puddle created at (2238.933, 1589.23) (added to group)
[01:28:17] [INFO] [BloodDecal] Blood puddle created at (2209.386, 1626.182) (added to group)
[01:28:17] [INFO] [BloodDecal] Blood puddle created at (2180.881, 1581.491) (added to group)
[01:28:17] [INFO] [LastChance] Threat detected: Bullet
[01:28:17] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[01:28:17] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:28:17] [ENEMY] [Enemy5] Hit taken, damage: 1, health: 3/3 -> 2/3
[01:28:17] [ENEMY] [Enemy5] ImpactEffectsManager found, calling spawn_blood_effect
[01:28:17] [INFO] [ImpactEffects] spawn_blood_effect called at (1458.487, 190.2871), dir=(1, 0), lethal=false
[01:28:17] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:28:17] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[01:28:17] [INFO] [ImpactEffects] Blood effect spawned at (1458.487, 190.2871) (scale=1)
[01:28:17] [ENEMY] [Enemy5] Hit taken, damage: 1, health: 2/3 -> 1/3
[01:28:17] [ENEMY] [Enemy5] ImpactEffectsManager found, calling spawn_blood_effect
[01:28:17] [INFO] [ImpactEffects] spawn_blood_effect called at (1458.487, 190.2871), dir=(1, 0), lethal=false
[01:28:17] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:28:17] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[01:28:17] [INFO] [ImpactEffects] Blood effect spawned at (1458.487, 190.2871) (scale=1)
[01:28:17] [ENEMY] [Enemy5] Hit taken, damage: 1, health: 1/3 -> 0/3
[01:28:17] [ENEMY] [Enemy5] ImpactEffectsManager found, calling spawn_blood_effect
[01:28:17] [INFO] [ImpactEffects] spawn_blood_effect called at (1458.487, 190.2871), dir=(1, 0), lethal=true
[01:28:17] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:28:17] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[01:28:17] [INFO] [ImpactEffects] Blood effect spawned at (1458.487, 190.2871) (scale=1.5)
[01:28:17] [ENEMY] [Enemy5] Enemy died (ricochet: false, penetration: false)
[01:28:17] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[01:28:17] [INFO] [SoundPropagation] Unregistered listener: Enemy5 (remaining: 4)
[01:28:17] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[01:28:17] [ENEMY] [Enemy5] Death animation started with hit direction: (1, 0)
[01:28:17] [ENEMY] [Enemy7] FLANKING corner check: angle 102.4°
[01:28:17] [INFO] [BloodDecal] Blood puddle created at (2242.738, 1583.261) (added to group)
[01:28:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1473.1, 223.2828), shooter_id=1143350496216, bullet_pos=(1676.927, 596.2163)
[01:28:17] [INFO] [Bullet] Using shooter_position, distance=424,99982
[01:28:17] [INFO] [Bullet] Distance to wall: 424,99982 (28,93902% of viewport)
[01:28:17] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:28:17] [INFO] [BloodDecal] Blood puddle created at (2231.862, 1583.926) (added to group)
[01:28:17] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[01:28:17] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=299), can_see=false
[01:28:17] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=982), can_see=false
[01:28:17] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1155), can_see=false
[01:28:17] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1150), can_see=false
[01:28:17] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[01:28:17] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=NeedsPumpUp, ReloadState=NotReloading
[01:28:17] [INFO] [Shotgun.FIX#445] dragStartPos=(1462, 323), aimDir=(-0,44, -0,90)
[01:28:17] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:28:17] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:28:17] [INFO] [Shotgun.FIX#445v7] Mid-drag pump UP - shell ejected, continue dragging DOWN to chamber
[01:28:17] [INFO] [BloodDecal] Blood puddle created at (2209.956, 1676.521) (added to group)
[01:28:17] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:28:17] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:28:17] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:28:17] [INFO] [BloodDecal] Blood puddle created at (1524.797, 186.814) (added to group)
[01:28:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1473.1, 223.2828), shooter_id=1143350496216, bullet_pos=(1836.2571, 290.21158)
[01:28:17] [INFO] [Bullet] Using shooter_position, distance=369,27298
[01:28:17] [INFO] [Bullet] Distance to wall: 369,27298 (25,144476% of viewport)
[01:28:17] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:28:17] [INFO] [BloodDecal] Blood puddle created at (1500.98, 226.8835) (added to group)
[01:28:17] [INFO] [BloodDecal] Blood puddle created at (1507.605, 226.1171) (added to group)
[01:28:17] [INFO] [BloodDecal] Blood puddle created at (1534.183, 205.9996) (added to group)
[01:28:17] [INFO] [BloodDecal] Blood puddle created at (1521.828, 193.5881) (added to group)
[01:28:17] [INFO] [BloodDecal] Blood puddle created at (1500.607, 215.0545) (added to group)
[01:28:17] [INFO] [BloodDecal] Blood puddle created at (1518.341, 224.9284) (added to group)
[01:28:17] [INFO] [BloodDecal] Blood puddle created at (1505.626, 191.9968) (added to group)
[01:28:17] [INFO] [Shotgun.FIX#445v7] Mid-drag pump DOWN - chambered, ready to fire
[01:28:17] [INFO] [BloodDecal] Blood puddle created at (1503.281, 211.6413) (added to group)
[01:28:17] [INFO] [BloodDecal] Blood puddle created at (1547.306, 174.0812) (added to group)
[01:28:17] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:28:17] [INFO] [BloodDecal] Blood puddle created at (1550.998, 236.9785) (added to group)
[01:28:17] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:28:17] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:28:17] [INFO] [BloodDecal] Blood puddle created at (1565.513, 222.7969) (added to group)
[01:28:17] [INFO] [BloodDecal] Blood puddle created at (1527.105, 249.1576) (added to group)
[01:28:17] [INFO] [BloodDecal] Blood puddle created at (1589.523, 240.6298) (added to group)
[01:28:17] [INFO] [BloodDecal] Blood puddle created at (1553.477, 199.548) (added to group)
[01:28:17] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1473.1, 223.2828), shooter_id=1143350496216, bullet_pos=(1688.2365, 64.50177)
[01:28:17] [INFO] [Bullet] Using shooter_position, distance=267,3857
[01:28:17] [INFO] [Bullet] Distance to wall: 267,3857 (18,206785% of viewport)
[01:28:17] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:28:17] [INFO] [Bullet] Starting wall penetration at (1688.2365, 64.50177)
[01:28:17] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[01:28:17] [INFO] [Bullet] Exiting penetration at (1672.2874, 40.1817) after traveling 24,083334 pixels through wall
[01:28:17] [INFO] [Bullet] Damage multiplier after penetration: 0,225
[01:28:17] [INFO] [BloodDecal] Blood puddle created at (1535.482, 246.1254) (added to group)
[01:28:17] [INFO] [BloodDecal] Blood puddle created at (1582.972, 172.3607) (added to group)
[01:28:17] [INFO] [BloodDecal] Blood puddle created at (1558.113, 264.4269) (added to group)
[01:28:17] [INFO] [Shotgun.FIX#445v7] TryProcessMidDragGesture - dragVector=(31,2, 385,4), length=386,6, isDragUp=False, isDragDown=True, ActionState=Ready
[01:28:17] [INFO] [BloodDecal] Blood puddle created at (1531.803, 244.8163) (added to group)
[01:28:17] [INFO] [Shotgun.FIX#243] RMB released after 10 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[01:28:17] [INFO] [Shotgun.FIX#445v7] ProcessDragGesture - dragVector=(42,6, 391,0), length=393,3, ActionState=Ready
[01:28:17] [INFO] [Shotgun.FIX#445v7] Screen-based pump gesture: isDragUp=False, isDragDown=True
[01:28:17] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[01:28:17] [ENEMY] [Enemy5] Ragdoll activated
[01:28:17] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[01:28:17] [INFO] [BloodDecal] Blood puddle created at (1602.336, 270.1624) (added to group)
[01:28:17] [INFO] [BloodDecal] Blood puddle created at (1617.985, 221.3182) (added to group)
[01:28:17] [INFO] [ReplayManager] Recording frame 960 (13,9s): player_valid=True, enemies=10
[01:28:17] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=214), can_see=false
[01:28:17] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=961), can_see=false
[01:28:17] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1134), can_see=false
[01:28:17] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1132), can_see=false
[01:28:17] [INFO] [BloodDecal] Blood puddle created at (1613.584, 210.4282) (added to group)
[01:28:17] [INFO] [BloodDecal] Blood puddle created at (1633.186, 220.7474) (added to group)
[01:28:17] [INFO] [BloodDecal] Blood puddle created at (1621.376, 233.4377) (added to group)
[01:28:17] [INFO] [BloodDecal] Blood puddle created at (1662.722, 195.731) (added to group)
[01:28:17] [INFO] [BloodDecal] Blood puddle created at (1607.613, 237.4714) (added to group)
[01:28:18] [ENEMY] [Enemy7] FLANKING corner check: angle -138.8°
[01:28:18] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[01:28:18] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=181), can_see=false
[01:28:18] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=924), can_see=false
[01:28:18] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1078), can_see=false
[01:28:18] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1187), can_see=false
[01:28:18] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[01:28:18] [ENEMY] [Enemy7] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=-62.9°, current=-13.9°, player=(1813,547), corner_timer=-0.01
[01:28:18] [ENEMY] [Enemy7] Player empty ammo - priority attack triggered
[01:28:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1745.258, 681.597), source=ENEMY (Enemy7), range=1469, listeners=4
[01:28:18] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=3
[01:28:18] [INFO] [LastChance] Threat detected: Bullet
[01:28:18] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[01:28:18] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:28:18] [ENEMY] [Enemy7] State: FLANKING -> COMBAT
[01:28:18] [INFO] [ReplayManager] Recording frame 1020 (14,7s): player_valid=True, enemies=10
[01:28:18] [INFO] [Player] Hit blocked by invincibility mode (C#)
[01:28:18] [INFO] [Player] Spawning blood effect at (1831.4135, 547.4544), dir=(1, 0), lethal=False (C#)
[01:28:18] [INFO] [ImpactEffects] spawn_blood_effect called at (1831.413, 547.4544), dir=(1, 0), lethal=false
[01:28:18] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:28:18] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[01:28:18] [INFO] [ImpactEffects] Blood effect spawned at (1831.413, 547.4544) (scale=1)
[01:28:18] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=905), can_see=false
[01:28:18] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1036), can_see=false
[01:28:18] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1255), can_see=false
[01:28:18] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(1849.014, 547.4544), source=PLAYER (Player), range=600, listeners=4
[01:28:18] [ENEMY] [Enemy7] Heard player EMPTY_CLICK at (1849.014, 547.4544), intensity=0.10, distance=161
[01:28:18] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=3, self=0, below_threshold=0
[01:28:18] [INFO] [Shotgun.FIX#212] Firing 14 pellets with 15° spread at pos=(1849.0135, 547.4544)
[01:28:18] [INFO] [Shotgun.FIX#212] Normal pellet 1/14: extraOffset=-1,2, distance=50,8px, pos=(1828.1699, 593.77637)
[01:28:18] [INFO] [Shotgun.FIX#212] Normal pellet 2/14: extraOffset=-3,8, distance=48,2px, pos=(1826.4542, 590.00964)
[01:28:18] [INFO] [Shotgun.FIX#212] Normal pellet 3/14: extraOffset=2,3, distance=54,3px, pos=(1823.8203, 595.5794)
[01:28:18] [INFO] [Shotgun.FIX#212] Normal pellet 4/14: extraOffset=-2,5, distance=49,5px, pos=(1824.0187, 590.2183)
[01:28:18] [INFO] [Shotgun.FIX#212] Normal pellet 5/14: extraOffset=9,7, distance=61,7px, pos=(1817.2181, 600.31116)
[01:28:18] [INFO] [Shotgun.FIX#212] Normal pellet 6/14: extraOffset=-7,5, distance=44,5px, pos=(1825.9103, 585.45996)
[01:28:18] [INFO] [Shotgun.FIX#212] Normal pellet 7/14: extraOffset=2,3, distance=54,3px, pos=(1820.7098, 593.7984)
[01:28:18] [INFO] [Shotgun.FIX#212] Normal pellet 8/14: extraOffset=13,8, distance=65,8px, pos=(1811.5424, 601.5638)
[01:28:18] [INFO] [Shotgun.FIX#212] Normal pellet 9/14: extraOffset=-9,4, distance=42,6px, pos=(1824.0498, 581.9611)
[01:28:18] [INFO] [Shotgun.FIX#212] Normal pellet 10/14: extraOffset=-5,9, distance=46,1px, pos=(1822.6685, 585.253)
[01:28:18] [INFO] [Shotgun.FIX#212] Normal pellet 11/14: extraOffset=-10,9, distance=41,1px, pos=(1823.4725, 579.6304)
[01:28:18] [INFO] [Shotgun.FIX#212] Normal pellet 12/14: extraOffset=9,4, distance=61,4px, pos=(1811.8308, 596.2848)
[01:28:18] [INFO] [Shotgun.FIX#212] Normal pellet 13/14: extraOffset=-2,1, distance=49,9px, pos=(1817.2577, 585.9391)
[01:28:18] [INFO] [Shotgun.FIX#212] Normal pellet 14/14: extraOffset=2,4, distance=54,4px, pos=(1814.1699, 589.27545)
[01:28:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1849.014, 547.4544), source=PLAYER (Shotgun), range=1469, listeners=4
[01:28:18] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=3
[01:28:18] [ENEMY] [Enemy5] Death animation completed
[01:28:18] [ENEMY] [Enemy7] Player empty ammo - priority attack triggered
[01:28:18] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1757.967, 680.0723), source=ENEMY (Enemy7), range=1469, listeners=4
[01:28:18] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=3
[01:28:18] [INFO] [LastChance] Threat detected: Bullet
[01:28:18] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[01:28:18] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:28:18] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[01:28:18] [ENEMY] [Enemy7] Hit taken, damage: 1, health: 4/4 -> 3/4
[01:28:18] [ENEMY] [Enemy7] ImpactEffectsManager found, calling spawn_blood_effect
[01:28:18] [INFO] [ImpactEffects] spawn_blood_effect called at (1757.967, 680.0723), dir=(1, 0), lethal=false
[01:28:18] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:28:18] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[01:28:18] [INFO] [ImpactEffects] Blood effect spawned at (1757.967, 680.0723) (scale=1)
[01:28:18] [ENEMY] [Enemy7] Hit taken, damage: 1, health: 3/4 -> 2/4
[01:28:18] [ENEMY] [Enemy7] ImpactEffectsManager found, calling spawn_blood_effect
[01:28:18] [INFO] [ImpactEffects] spawn_blood_effect called at (1757.967, 680.0723), dir=(1, 0), lethal=false
[01:28:18] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:28:18] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[01:28:18] [INFO] [ImpactEffects] Blood effect spawned at (1757.967, 680.0723) (scale=1)
[01:28:18] [ENEMY] [Enemy7] Hit taken, damage: 1, health: 2/4 -> 1/4
[01:28:18] [ENEMY] [Enemy7] ImpactEffectsManager found, calling spawn_blood_effect
[01:28:18] [INFO] [ImpactEffects] spawn_blood_effect called at (1757.967, 680.0723), dir=(1, 0), lethal=false
[01:28:18] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:28:18] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[01:28:18] [INFO] [ImpactEffects] Blood effect spawned at (1757.967, 680.0723) (scale=1)
[01:28:18] [ENEMY] [Enemy7] Hit taken, damage: 1, health: 1/4 -> 0/4
[01:28:18] [ENEMY] [Enemy7] ImpactEffectsManager found, calling spawn_blood_effect
[01:28:18] [INFO] [ImpactEffects] spawn_blood_effect called at (1757.967, 680.0723), dir=(1, 0), lethal=true
[01:28:18] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:28:18] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[01:28:18] [INFO] [ImpactEffects] Blood effect spawned at (1757.967, 680.0723) (scale=1.5)
[01:28:18] [ENEMY] [Enemy7] Enemy died (ricochet: false, penetration: false)
[01:28:18] [INFO] [ScoreManager] Kill registered. Combo: 3 (points: 3000)
[01:28:18] [INFO] [SoundPropagation] Unregistered listener: Enemy7 (remaining: 3)
[01:28:18] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[01:28:18] [ENEMY] [Enemy7] Death animation started with hit direction: (1, 0)
[01:28:18] [INFO] [Player] Hit blocked by invincibility mode (C#)
[01:28:18] [INFO] [Player] Spawning blood effect at (1866.3687, 548.04565), dir=(1, 0), lethal=False (C#)
[01:28:18] [INFO] [ImpactEffects] spawn_blood_effect called at (1866.369, 548.0457), dir=(1, 0), lethal=false
[01:28:18] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:28:18] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[01:28:18] [INFO] [ImpactEffects] Blood effect spawned at (1866.369, 548.0457) (scale=1)
[01:28:19] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[01:28:19] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=NeedsPumpUp, ReloadState=NotReloading
[01:28:19] [INFO] [Shotgun.FIX#445] dragStartPos=(1644, 695), aimDir=(-0,89, 0,45)
[01:28:19] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:28:19] [INFO] [Shotgun.FIX#445v7] Mid-drag pump UP - shell ejected, continue dragging DOWN to chamber
[01:28:19] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:28:19] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:28:19] [INFO] [BloodDecal] Blood puddle created at (1878.779, 582.2071) (added to group)
[01:28:19] [INFO] [BloodDecal] Blood puddle created at (1920.85, 597.8395) (added to group)
[01:28:19] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:28:19] [INFO] [BloodDecal] Blood puddle created at (1906.288, 562.8936) (added to group)
[01:28:19] [INFO] [BloodDecal] Blood puddle created at (1835.816, 709.2344) (added to group)
[01:28:19] [INFO] [BloodDecal] Blood puddle created at (1829.467, 678.839) (added to group)
[01:28:19] [INFO] [BloodDecal] Blood puddle created at (1893.494, 582.3226) (added to group)
[01:28:19] [INFO] [BloodDecal] Blood puddle created at (1822.288, 708.4005) (added to group)
[01:28:19] [INFO] [BloodDecal] Blood puddle created at (1821.396, 692.2007) (added to group)
[01:28:19] [INFO] [BloodDecal] Blood puddle created at (1843.956, 680.5507) (added to group)
[01:28:19] [INFO] [BloodDecal] Blood puddle created at (1906.64, 561.5995) (added to group)
[01:28:19] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[01:28:19] [INFO] [BloodDecal] Blood puddle created at (1808.005, 685.8039) (added to group)
[01:28:19] [INFO] [Shotgun.FIX#445v7] Mid-drag pump DOWN - chambered, ready to fire
[01:28:19] [INFO] [BloodDecal] Blood puddle created at (1841.125, 729.4583) (added to group)
[01:28:19] [INFO] [BloodDecal] Blood puddle created at (1841.347, 714.2557) (added to group)
[01:28:19] [INFO] [BloodDecal] Blood puddle created at (1833.434, 740.1226) (added to group)
[01:28:19] [INFO] [BloodDecal] Blood puddle created at (1841.631, 708.0405) (added to group)
[01:28:19] [INFO] [BloodDecal] Blood puddle created at (1844.172, 694.7477) (added to group)
[01:28:19] [INFO] [BloodDecal] Blood puddle created at (1920.855, 547.2197) (added to group)
[01:28:19] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=844), can_see=false
[01:28:19] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=958), can_see=false
[01:28:19] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1261), can_see=false
[01:28:19] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:28:19] [INFO] [BloodDecal] Blood puddle created at (1936.859, 579.394) (added to group)
[01:28:19] [INFO] [BloodDecal] Blood puddle created at (1835.142, 722.2901) (added to group)
[01:28:19] [INFO] [BloodDecal] Blood puddle created at (1821.424, 722.5555) (added to group)
[01:28:19] [INFO] [BloodDecal] Blood puddle created at (1938.583, 580.6163) (added to group)
[01:28:19] [INFO] [BloodDecal] Blood puddle created at (1938.97, 601.3923) (added to group)
[01:28:19] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:28:19] [INFO] [BloodDecal] Blood puddle created at (1878.635, 671.1259) (added to group)
[01:28:19] [INFO] [BloodDecal] Blood puddle created at (1849.598, 720.8734) (added to group)
[01:28:19] [INFO] [BloodDecal] Blood puddle created at (1843.599, 740.1805) (added to group)
[01:28:19] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:28:19] [INFO] [BloodDecal] Blood puddle created at (1918.692, 612.7527) (added to group)
[01:28:19] [INFO] [BloodDecal] Blood puddle created at (1986.44, 611.4076) (added to group)
[01:28:19] [INFO] [BloodDecal] Blood puddle created at (1856.229, 669.1131) (added to group)
[01:28:19] [INFO] [BloodDecal] Blood puddle created at (1867.837, 685.6464) (added to group)
[01:28:19] [INFO] [BloodDecal] Blood puddle created at (1888.074, 752.9356) (added to group)
[01:28:19] [INFO] [BloodDecal] Blood puddle created at (1881.566, 775.8107) (added to group)
[01:28:19] [INFO] [BloodDecal] Blood puddle created at (1841.534, 750.9809) (added to group)
[01:28:19] [INFO] [BloodDecal] Blood puddle created at (1897.772, 704.1241) (added to group)
[01:28:19] [INFO] [BloodDecal] Blood puddle created at (1850.52, 689.6734) (added to group)
[01:28:19] [INFO] [Shotgun.FIX#243] RMB released after 5 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[01:28:19] [INFO] [Shotgun.FIX#445v7] ProcessDragGesture - dragVector=(19,9, 225,5), length=226,4, ActionState=Ready
[01:28:19] [INFO] [Shotgun.FIX#445v7] Screen-based pump gesture: isDragUp=False, isDragDown=True
[01:28:19] [INFO] [BloodDecal] Blood puddle created at (1867.369, 734.4069) (added to group)
[01:28:19] [INFO] [BloodDecal] Blood puddle created at (1864.164, 715.1066) (added to group)
[01:28:19] [INFO] [BloodDecal] Blood puddle created at (2017.087, 561.4988) (added to group)
[01:28:19] [ENEMY] [Enemy7] Ragdoll activated
[01:28:19] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[01:28:19] [INFO] [BloodDecal] Blood puddle created at (1870.57, 766.0212) (added to group)
[01:28:19] [INFO] [BloodDecal] Blood puddle created at (1902.142, 728.2139) (added to group)
[01:28:19] [INFO] [BloodDecal] Blood puddle created at (1858.792, 699.3826) (added to group)
[01:28:19] [INFO] [BloodDecal] Blood puddle created at (1920.248, 590.7107) (added to group)
[01:28:19] [INFO] [BloodDecal] Blood puddle created at (1851.237, 777.2802) (added to group)
[01:28:19] [INFO] [BloodDecal] Blood puddle created at (1875.488, 748.3141) (added to group)
[01:28:19] [INFO] [BloodDecal] Blood puddle created at (1957.946, 607.295) (added to group)
[01:28:19] [INFO] [BloodDecal] Blood puddle created at (1861.643, 733.0271) (added to group)
[01:28:19] [INFO] [BloodDecal] Blood puddle created at (1917.182, 715.4885) (added to group)
[01:28:19] [INFO] [BloodDecal] Blood puddle created at (1938.684, 718.5494) (added to group)
[01:28:19] [INFO] [BloodDecal] Blood puddle created at (1838.922, 750.0866) (added to group)
[01:28:19] [INFO] [BloodDecal] Blood puddle created at (1936.662, 731.9904) (added to group)
[01:28:19] [INFO] [BloodDecal] Blood puddle created at (1923.385, 794.3568) (added to group)
[01:28:19] [INFO] [BloodDecal] Blood puddle created at (1861.516, 796.4995) (added to group)
[01:28:19] [INFO] [BloodDecal] Blood puddle created at (1882.635, 777.8174) (added to group)
[01:28:19] [INFO] [BloodDecal] Blood puddle created at (1998.175, 612.0177) (added to group)
[01:28:19] [INFO] [BloodDecal] Blood puddle created at (1840.697, 718.131) (added to group)
[01:28:19] [INFO] [BloodDecal] Blood puddle created at (1901.025, 791.7234) (added to group)
[01:28:19] [INFO] [BloodDecal] Blood puddle created at (2046.955, 683.4912) (added to group)
[01:28:19] [INFO] [BloodDecal] Blood puddle created at (1932.884, 739.1563) (added to group)
[01:28:19] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[01:28:19] [INFO] [BloodDecal] Blood puddle created at (1900.873, 784.1157) (added to group)
[01:28:19] [INFO] [BloodDecal] Blood puddle created at (1973.06, 678.356) (added to group)
[01:28:19] [INFO] [BloodDecal] Blood puddle created at (1884.62, 803.6371) (added to group)
[01:28:19] [INFO] [BloodDecal] Blood puddle created at (2013.104, 561.4713) (added to group)
[01:28:19] [INFO] [BloodDecal] Blood puddle created at (2007.573, 653.2693) (added to group)
[01:28:19] [INFO] [BloodDecal] Blood puddle created at (1981.595, 735.1979) (added to group)
[01:28:19] [INFO] [BloodDecal] Blood puddle created at (1866.42, 781.9887) (added to group)
[01:28:19] [INFO] [BloodDecal] Blood puddle created at (1898.418, 758.2097) (added to group)
[01:28:19] [INFO] [BloodDecal] Blood puddle created at (1915.613, 851.7626) (added to group)
[01:28:19] [INFO] [BloodDecal] Blood puddle created at (1878.119, 832.7883) (added to group)
[01:28:19] [INFO] [ReplayManager] Recording frame 1080 (15,5s): player_valid=True, enemies=10
[01:28:19] [INFO] [BloodDecal] Blood puddle created at (2092.439, 730.0089) (added to group)
[01:28:19] [INFO] [BloodDecal] Blood puddle created at (1893.186, 752.254) (added to group)
[01:28:19] [INFO] [BloodDecal] Blood puddle created at (1939.732, 872.3823) (added to group)
[01:28:19] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=743), can_see=false
[01:28:19] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=872), can_see=false
[01:28:19] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1148), can_see=false
[01:28:19] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[01:28:19] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[01:28:19] [INFO] [Player.Grenade] G pressed - starting grab animation
[01:28:20] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[01:28:20] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[01:28:20] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (1701.4475, 984.2346)
[01:28:20] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=Ready, ReloadState=NotReloading
[01:28:20] [INFO] [Shotgun.FIX#445] dragStartPos=(1701, 988), aimDir=(-0,64, 0,77)
[01:28:20] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:28:20] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:28:20] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:28:20] [INFO] [GrenadeBase] CCD enabled (mode: CAST_RAY) to prevent wall tunneling
[01:28:20] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[01:28:20] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[01:28:20] [INFO] [GrenadeTimer] Initialized for Frag grenade, effect radius: 225
[01:28:20] [INFO] [Player.Grenade] Added GrenadeTimer component (type: Frag)
[01:28:20] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[01:28:20] [INFO] [GrenadeTimer] Timer activated! 4 seconds until explosion
[01:28:20] [INFO] [Player.Grenade] Timer started, grenade created at (1875.2659, 798.2165)
[01:28:20] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[01:28:20] [INFO] [Player.Grenade] Step 1 complete! Drag: (268.6599, -37.230103)
[01:28:20] [INFO] [Shotgun.FIX#243] RMB released after 3 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[01:28:20] [INFO] [Shotgun.FIX#445v7] ProcessDragGesture - dragVector=(291,5, -40,5), length=294,3, ActionState=Ready
[01:28:20] [INFO] [Shotgun.FIX#445v7] Pump drag not vertical: absY=40,5 <= absX=291,5
[01:28:20] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[01:28:20] [INFO] [Player.Grenade.Simple] RMB pressed after pin pull - starting trajectory aiming
[01:28:20] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=Ready, ReloadState=NotReloading
[01:28:20] [INFO] [Shotgun.FIX#445] dragStartPos=(1995, 960), aimDir=(0,63, 0,78)
[01:28:20] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:28:20] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:28:20] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:28:20] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=608), can_see=false
[01:28:20] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=743), can_see=false
[01:28:20] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1044), can_see=false
[01:28:20] [INFO] [Shotgun.FIX#445v7] TryProcessMidDragGesture - dragVector=(-2,3, 55,7), length=55,7, isDragUp=False, isDragDown=True, ActionState=Ready
[01:28:20] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[01:28:20] [INFO] [Shotgun.FIX#445v7] TryProcessMidDragGesture - dragVector=(-4,1, 219,7), length=219,8, isDragUp=False, isDragDown=True, ActionState=Ready
[01:28:20] [INFO] [Shotgun.FIX#445v7] TryProcessMidDragGesture - dragVector=(-26,8, 280,7), length=282,0, isDragUp=False, isDragDown=True, ActionState=Ready
[01:28:20] [ENEMY] [Enemy7] Death animation completed
[01:28:20] [INFO] [ReplayManager] Recording frame 1140 (16,3s): player_valid=True, enemies=10
[01:28:20] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[01:28:20] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=486), can_see=false
[01:28:20] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=616), can_see=false
[01:28:20] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=987), can_see=false
[01:28:20] [INFO] [Shotgun.FIX#445v7] TryProcessMidDragGesture - dragVector=(-22,3, 318,9), length=319,7, isDragUp=False, isDragDown=True, ActionState=Ready
[01:28:20] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P1:visible, state=IDLE, target=-39.3°, current=0.6°, player=(1923,976), corner_timer=0.25
[01:28:20] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[01:28:20] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1159.121, 1601.933), source=ENEMY (Enemy10), range=1469, listeners=3
[01:28:20] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=2
[01:28:20] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) - pursuing to attack (dist=989)
[01:28:20] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[01:28:21] [INFO] [Shotgun.FIX#445v7] TryProcessMidDragGesture - dragVector=(-43,7, 347,6), length=350,4, isDragUp=False, isDragDown=True, ActionState=Ready
[01:28:21] [ENEMY] [Enemy10] Player distracted - priority attack triggered
[01:28:21] [ENEMY] [Enemy10] ROT_CHANGE: P1:visible -> P2:combat_state, state=PURSUING, target=-36.0°, current=-56.5°, player=(1954,1007), corner_timer=0.15
[01:28:21] [ENEMY] [Enemy10] State: PURSUING -> RETREATING
[01:28:21] [ENEMY] [Enemy10] ROT_CHANGE: P2:combat_state -> P3:corner, state=RETREATING, target=0.6°, current=-42.7°, player=(1973,1025), corner_timer=0.09
[01:28:21] [ENEMY] [Enemy10] State: RETREATING -> IN_COVER
[01:28:21] [ENEMY] [Enemy10] State: IN_COVER -> SUPPRESSED
[01:28:21] [INFO] [Shotgun.FIX#445v7] TryProcessMidDragGesture - dragVector=(-74,6, 376,5), length=383,8, isDragUp=False, isDragDown=True, ActionState=Ready
[01:28:21] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=405), can_see=false
[01:28:21] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=498), can_see=false
[01:28:21] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=949), can_see=false
[01:28:21] [INFO] [Shotgun.FIX#445v7] TryProcessMidDragGesture - dragVector=(-58,5, 408,5), length=412,7, isDragUp=False, isDragDown=True, ActionState=Ready
[01:28:21] [INFO] [Shotgun.FIX#445v7] TryProcessMidDragGesture - dragVector=(-65,9, 440,1), length=445,0, isDragUp=False, isDragDown=True, ActionState=Ready
[01:28:21] [INFO] [Shotgun.FIX#445v7] TryProcessMidDragGesture - dragVector=(-79,2, 480,8), length=487,3, isDragUp=False, isDragDown=True, ActionState=Ready
[01:28:21] [INFO] [ReplayManager] Recording frame 1200 (17,1s): player_valid=True, enemies=10
[01:28:21] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1216.3751, 1565.1556), shooter_id=1145112104967, bullet_pos=(2480.3662, 530.6991)
[01:28:21] [INFO] [Bullet] Using shooter_position, distance=1633,3322
[01:28:21] [INFO] [Bullet] Distance to wall: 1633,3322 (111,21659% of viewport)
[01:28:21] [INFO] [BloodyFeet:Player] Blood ran out - no more footprints
[01:28:21] [INFO] [Shotgun.FIX#445v7] TryProcessMidDragGesture - dragVector=(-69,5, 504,7), length=509,4, isDragUp=False, isDragDown=True, ActionState=Ready
[01:28:21] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=386), can_see=false
[01:28:21] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=421), can_see=false
[01:28:21] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1013), can_see=false
[01:28:22] [ENEMY] [Enemy8] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=-51.5°, current=-56.3°, player=(2154,1129), corner_timer=0.00
[01:28:22] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) - pursuing to attack (dist=409)
[01:28:22] [ENEMY] [Enemy8] State: IDLE -> PURSUING
[01:28:22] [ENEMY] [Enemy8] PURSUING corner check: angle -154.1°
[01:28:22] [ENEMY] [Enemy8] ROT_CHANGE: P1:visible -> P2:combat_state, state=PURSUING, target=-50.1°, current=-115.0°, player=(2165,1129), corner_timer=0.30
[01:28:22] [INFO] [Shotgun.FIX#445v7] TryProcessMidDragGesture - dragVector=(-28,7, 519,2), length=520,0, isDragUp=False, isDragDown=True, ActionState=Ready
[01:28:22] [ENEMY] [Enemy8] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-43.8°, current=-92.1°, player=(2209,1129), corner_timer=0.17
[01:28:22] [ENEMY] [Enemy8] Player empty ammo - priority attack triggered
[01:28:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1923.298, 1402.025), source=ENEMY (Enemy8), range=1469, listeners=3
[01:28:22] [ENEMY] [Enemy9] Heard gunshot at (1923.298, 1402.025), source_type=1, intensity=0.05, distance=230
[01:28:22] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=1
[01:28:22] [ENEMY] [Enemy9] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=COMBAT, target=-74.6°, current=11.3°, player=(2215,1129), corner_timer=0.00
[01:28:22] [ENEMY] [Enemy9] ROT_CHANGE: P2:combat_state -> P1:visible, state=COMBAT, target=-73.9°, current=-66.3°, player=(2220,1129), corner_timer=0.00
[01:28:22] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) - pursuing to attack (dist=432)
[01:28:22] [ENEMY] [Enemy9] State: COMBAT -> PURSUING
[01:28:22] [INFO] [Shotgun.FIX#445v7] TryProcessMidDragGesture - dragVector=(-20,8, 521,9), length=522,3, isDragUp=False, isDragDown=True, ActionState=Ready
[01:28:22] [INFO] [Player.Grenade.Simple] Throwing! Target: (1960.5283, 1474.7417), Distance: 439,5, Speed: 496,1, Friction: 280,0
[01:28:22] [INFO] [Player.Grenade] Player rotated for throw: 0 -> 2,2374785
[01:28:22] [INFO] [GrenadeTimer] Grenade marked as thrown - impact detection enabled
[01:28:22] [INFO] [Player.Grenade.Simple] C# set velocity directly: dir=(-0.618382, 0.78587765), speed=496,1, spawn=(2194.8464, 1176.9558)
[01:28:22] [INFO] [GrenadeBase] Simple mode throw! Dir: (-0.618382, 0.785878), Speed: 496.1 (clamped from 496.1, max: 1186.5)
[01:28:22] [INFO] [FragGrenade] Grenade thrown (simple mode) - impact detection enabled
[01:28:22] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[01:28:22] [INFO] [Player.Grenade.Simple] Grenade thrown!
[01:28:22] [INFO] [Player.Grenade] State reset to IDLE
[01:28:22] [INFO] [Player.Grenade] State reset to IDLE
[01:28:22] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[01:28:22] [INFO] [Shotgun.FIX#243] RMB released after 120 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[01:28:22] [INFO] [Shotgun.FIX#445v7] ProcessDragGesture - dragVector=(-29,5, 515,6), length=516,4, ActionState=Ready
[01:28:22] [INFO] [Shotgun.FIX#445v7] Screen-based pump gesture: isDragUp=False, isDragDown=True
[01:28:22] [INFO] [LastChance] Threat detected: Bullet
[01:28:22] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[01:28:22] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:28:22] [ENEMY] [Enemy8] Player empty ammo - priority attack triggered
[01:28:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1939.607, 1368.443), source=ENEMY (Enemy8), range=1469, listeners=3
[01:28:22] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=1
[01:28:22] [INFO] [Player.Grenade] Player rotation restored to 0
[01:28:22] [ENEMY] [Enemy8] State: PURSUING -> COMBAT
[01:28:22] [INFO] [LastChance] Threat detected: @Area2D@5388
[01:28:22] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[01:28:22] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:28:22] [INFO] [EnemyGrenade] Unsafe throw distance (193 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:28:22] [ENEMY] [Enemy8] State: COMBAT -> RETREATING
[01:28:22] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=450), can_see=true
[01:28:22] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1167), can_see=false
[01:28:22] [ENEMY] [Enemy8] Player empty ammo - priority attack triggered
[01:28:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1966.231, 1343.727), source=ENEMY (Enemy8), range=1469, listeners=3
[01:28:22] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=1
[01:28:22] [INFO] [EnemyGrenade] Unsafe throw distance (191 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:28:22] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1978.0734, 1361.6481), shooter_id=1144407460978, bullet_pos=(2465.8196, 907.17316)
[01:28:22] [INFO] [Bullet] Using shooter_position, distance=666,6662
[01:28:22] [INFO] [Bullet] Distance to wall: 666,6662 (45,394527% of viewport)
[01:28:22] [ENEMY] [Enemy9] State: PURSUING -> COMBAT
[01:28:22] [ENEMY] [Enemy9] State: COMBAT -> PURSUING
[01:28:22] [INFO] [LastChance] Threat detected: @Area2D@5391
[01:28:22] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[01:28:22] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:28:22] [ENEMY] [Enemy8] GRENADE DANGER: Entering EVADING_GRENADE state from RETREATING
[01:28:22] [ENEMY] [Enemy8] EVADING_GRENADE started: escaping to (1945.375, 1107.165)
[01:28:22] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[01:28:22] [ENEMY] [Enemy8] Player distracted - priority attack triggered
[01:28:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1962.632, 1319.841), source=ENEMY (Enemy8), range=1469, listeners=3
[01:28:22] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=1
[01:28:22] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1998.1658, 1333.7799), shooter_id=1144407460978, bullet_pos=(2462.7803, 981.0591)
[01:28:22] [INFO] [Bullet] Using shooter_position, distance=583,33405
[01:28:22] [INFO] [Bullet] Distance to wall: 583,33405 (39,720287% of viewport)
[01:28:22] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:28:22] [INFO] [Bullet] Starting wall penetration at (2462.7803, 981.0591)
[01:28:22] [INFO] [Bullet] Raycast backward hit penetrating body at distance 4,9586663
[01:28:22] [INFO] [EnemyGrenade] Unsafe throw distance (193 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:28:22] [INFO] [Bullet] Max penetration distance exceeded: 83,333336 >= 48
[01:28:22] [INFO] [Bullet] Body exited signal received for penetrating body
[01:28:22] [INFO] [Bullet] Exiting penetration at (2533.1362, 927.647) after traveling 83,333336 pixels through wall
[01:28:22] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[01:28:22] [INFO] [EnemyGrenade] Unsafe throw distance (188 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:28:22] [INFO] [EnemyGrenade] Unsafe throw distance (184 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:28:22] [INFO] [EnemyGrenade] Unsafe throw distance (180 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:28:22] [INFO] [LastChance] Threat detected: @Area2D@5395
[01:28:22] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[01:28:22] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:28:22] [INFO] [EnemyGrenade] Unsafe throw distance (176 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:28:22] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2027.347, 1313.8047), shooter_id=1144407460978, bullet_pos=(2483.3276, 1021.4268)
[01:28:22] [INFO] [Bullet] Using shooter_position, distance=541,667
[01:28:22] [INFO] [Bullet] Distance to wall: 541,667 (36,883102% of viewport)
[01:28:22] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:28:22] [ENEMY] [Enemy8] Player empty ammo - priority attack triggered
[01:28:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2018.678, 1288.015), source=ENEMY (Enemy8), range=1469, listeners=3
[01:28:22] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=1
[01:28:22] [INFO] [EnemyGrenade] Unsafe throw distance (171 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:28:22] [INFO] [EnemyGrenade] Unsafe throw distance (167 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:28:22] [INFO] [EnemyGrenade] Unsafe throw distance (163 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:28:22] [INFO] [EnemyGrenade] Unsafe throw distance (159 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:28:22] [INFO] [LastChance] Threat detected: @Area2D@5400
[01:28:22] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[01:28:22] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:28:22] [INFO] [ReplayManager] Recording frame 1260 (18,1s): player_valid=True, enemies=10
[01:28:22] [INFO] [EnemyGrenade] Unsafe throw distance (155 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:28:22] [ENEMY] [Enemy9] Player distracted - priority attack triggered
[01:28:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2101.413, 1544.857), source=ENEMY (Enemy9), range=1469, listeners=3
[01:28:22] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=1
[01:28:22] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2027.4022, 1298.9739), shooter_id=1144407460978, bullet_pos=(2482.6023, 1092.1086)
[01:28:22] [INFO] [Bullet] Using shooter_position, distance=500,00034
[01:28:22] [INFO] [Bullet] Distance to wall: 500,00034 (34,045944% of viewport)
[01:28:22] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:28:22] [INFO] [EnemyGrenade] Unsafe throw distance (152 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:28:22] [ENEMY] [Enemy8] Player empty ammo - priority attack triggered
[01:28:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2080.844, 1257.313), source=ENEMY (Enemy8), range=1469, listeners=3
[01:28:22] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=1
[01:28:22] [INFO] [EnemyGrenade] Unsafe throw distance (147 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:28:22] [INFO] [EnemyGrenade] Unsafe throw distance (144 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:28:22] [ENEMY] [Enemy9] State: PURSUING -> COMBAT
[01:28:22] [INFO] [EnemyGrenade] Unsafe throw distance (140 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:28:22] [ENEMY] [Enemy9] State: COMBAT -> PURSUING
[01:28:22] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2085.5063, 1275.1854), shooter_id=1144407460978, bullet_pos=(2482.999, 1150.2428)
[01:28:22] [INFO] [Bullet] Using shooter_position, distance=416,66663
[01:28:22] [INFO] [Bullet] Distance to wall: 416,66663 (28,371597% of viewport)
[01:28:22] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:28:22] [INFO] [LastChance] Threat detected: @Area2D@5402
[01:28:22] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[01:28:22] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:28:22] [INFO] [LastChance] Threat detected: @Area2D@5406
[01:28:22] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[01:28:22] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:28:22] [INFO] [EnemyGrenade] Unsafe throw distance (137 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:28:22] [INFO] [EnemyGrenade] Unsafe throw distance (133 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:28:22] [ENEMY] [Enemy9] Player distracted - priority attack triggered
[01:28:22] [ENEMY] [Enemy8] Player empty ammo - priority attack triggered
[01:28:22] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2123.917, 1214.725), source=ENEMY (Enemy8), range=1469, listeners=3
[01:28:22] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=1
[01:28:22] [ENEMY] [Enemy9] ROT_CHANGE: P1:visible -> P2:combat_state, state=PURSUING, target=-45.9°, current=-46.6°, player=(2394,1242), corner_timer=0.00
[01:28:22] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2148.8433, 1254.7257), shooter_id=1144407460978, bullet_pos=(2478.2866, 1203.9552)
[01:28:22] [INFO] [Bullet] Using shooter_position, distance=333,33252
[01:28:22] [INFO] [Bullet] Distance to wall: 333,33252 (22,697226% of viewport)
[01:28:22] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:28:23] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=417), can_see=false
[01:28:23] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1240), can_see=false
[01:28:23] [INFO] [LastChance] Threat detected: Bullet
[01:28:23] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[01:28:23] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:28:23] [ENEMY] [Enemy8] EVADING_GRENADE: Escaped to safe distance
[01:28:23] [ENEMY] [Enemy8] State: EVADING_GRENADE -> RETREATING
[01:28:23] [ENEMY] [Enemy9] State: PURSUING -> RETREATING
[01:28:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2149.0574, 1496.2711), shooter_id=1144759783272, bullet_pos=(2481.4778, 1068.6025)
[01:28:23] [INFO] [Bullet] Using shooter_position, distance=541,66754
[01:28:23] [INFO] [Bullet] Distance to wall: 541,66754 (36,88314% of viewport)
[01:28:23] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:28:23] [INFO] [EnemyGrenade] Unsafe throw distance (143 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:28:23] [ENEMY] [Enemy9] State: RETREATING -> IN_COVER
[01:28:23] [INFO] [EnemyGrenade] Unsafe throw distance (142 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:28:23] [ENEMY] [Enemy9] State: IN_COVER -> SUPPRESSED
[01:28:23] [ENEMY] [Enemy8] Player empty ammo - priority attack triggered
[01:28:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2133.48, 1188.806), source=ENEMY (Enemy8), range=1469, listeners=3
[01:28:23] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=1
[01:28:23] [INFO] [EnemyGrenade] Unsafe throw distance (140 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:28:23] [INFO] [EnemyGrenade] Unsafe throw distance (139 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:28:23] [INFO] [LastChance] Threat detected: Bullet
[01:28:23] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[01:28:23] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:28:23] [INFO] [EnemyGrenade] Unsafe throw distance (138 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:28:23] [INFO] [EnemyGrenade] Unsafe throw distance (138 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:28:23] [INFO] [EnemyGrenade] Unsafe throw distance (137 < 275 safe distance, blast=225, margin=50) - skipping throw
[01:28:23] [ENEMY] [Enemy8] Player empty ammo - priority attack triggered
[01:28:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2140.245, 1198.806), source=ENEMY (Enemy8), range=1469, listeners=3
[01:28:23] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=1, below_threshold=1
[01:28:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2195.106, 1217.6654), shooter_id=1144407460978, bullet_pos=(2471.6829, 1310.2676)
[01:28:23] [INFO] [Bullet] Using shooter_position, distance=291,6675
[01:28:23] [INFO] [Bullet] Distance to wall: 291,6675 (19,860178% of viewport)
[01:28:23] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:28:23] [INFO] [Bullet] Starting wall penetration at (2471.6829, 1310.2676)
[01:28:23] [INFO] [Bullet] Raycast backward hit penetrating body at distance 21,022757
[01:28:23] [INFO] [Bullet] Body exited signal received for penetrating body
[01:28:23] [INFO] [Bullet] Exiting penetration at (2515.935, 1325.0839) after traveling 41,666668 pixels through wall
[01:28:23] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[01:28:23] [INFO] [GrenadeTimer] Frag grenade landed - EXPLODING!
[01:28:23] [INFO] [GrenadeTimer] EXPLODED at (2034.4575, 1380.7885)!
[01:28:23] [INFO] [GrenadeTimer] Applying frag explosion damage (radius: 225, damage: 99)
[01:28:23] [ENEMY] [Enemy8] Hit taken, damage: 1, health: 2/2 -> 1/2
[01:28:23] [ENEMY] [Enemy8] ImpactEffectsManager found, calling spawn_blood_effect
[01:28:23] [INFO] [ImpactEffects] spawn_blood_effect called at (2129.754, 1194.886), dir=(0.456173, -0.889891), lethal=false
[01:28:23] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:28:23] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[01:28:23] [INFO] [ImpactEffects] Blood effect spawned at (2129.754, 1194.886) (scale=1)
[01:28:23] [ENEMY] [Enemy8] Hit taken, damage: 1, health: 1/2 -> 0/2
[01:28:23] [ENEMY] [Enemy8] ImpactEffectsManager found, calling spawn_blood_effect
[01:28:23] [INFO] [ImpactEffects] spawn_blood_effect called at (2129.754, 1194.886), dir=(0.456173, -0.889891), lethal=true
[01:28:23] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:28:23] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[01:28:23] [INFO] [ImpactEffects] Blood effect spawned at (2129.754, 1194.886) (scale=1.5)
[01:28:23] [ENEMY] [Enemy8] Enemy died (ricochet: false, penetration: false)
[01:28:23] [INFO] [ScoreManager] Kill registered. Combo: 4 (points: 5000)
[01:28:23] [ENEMY] [Enemy8] [AllyDeath] Notified 1 enemies
[01:28:23] [INFO] [SoundPropagation] Unregistered listener: Enemy8 (remaining: 2)
[01:28:23] [INFO] [DeathAnim] Started - Angle: -62.9 deg, Index: 7
[01:28:23] [ENEMY] [Enemy8] Death animation started with hit direction: (0.456173, -0.889891)
[01:28:23] [INFO] [GrenadeTimer] Damaged enemy at distance 208,9
[01:28:23] [ENEMY] [Enemy9] Hit taken, damage: 1, health: 1/2 -> 0/2
[01:28:23] [ENEMY] [Enemy9] ImpactEffectsManager found, calling spawn_blood_effect
[01:28:23] [INFO] [ImpactEffects] spawn_blood_effect called at (2101.413, 1544.857), dir=(0.377842, 0.92587), lethal=true
[01:28:23] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:28:23] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[01:28:23] [INFO] [ImpactEffects] Blood effect spawned at (2101.413, 1544.857) (scale=1.5)
[01:28:23] [ENEMY] [Enemy9] Enemy died (ricochet: false, penetration: false)
[01:28:23] [INFO] [ScoreManager] Kill registered. Combo: 5 (points: 7500)
[01:28:23] [INFO] [SoundPropagation] Unregistered listener: Enemy9 (remaining: 1)
[01:28:23] [INFO] [DeathAnim] Started - Angle: 67.8 deg, Index: 16
[01:28:23] [ENEMY] [Enemy9] Death animation started with hit direction: (0.377842, 0.92587)
[01:28:23] [INFO] [GrenadeTimer] Damaged enemy at distance 177,2
[01:28:23] [INFO] [GrenadeTimer] Spawned 4 shrapnel pieces
[01:28:23] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(2034.458, 1380.788), source=NEUTRAL (FragGrenade), range=2938, listeners=1
[01:28:23] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=1
[01:28:23] [INFO] [GrenadeTimer] Spawned PointLight2D frag explosion flash at (2034.4575, 1380.7885) (shadow-based wall occlusion)
[01:28:23] [INFO] [GrenadeTimer] Scattered 10 casings
[01:28:23] [INFO] [LastChance] Threat detected: @Area2D@5416
[01:28:23] [INFO] [LastChance] Player health is 0.0 - effect requires exactly 1 HP or less but alive
[01:28:23] [INFO] [LastChance] Cannot trigger effect - conditions not met
[01:28:23] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(2198.601, 1233.8097), shooter_id=1144407460978, bullet_pos=(2464.2712, 1354.1803)
[01:28:23] [INFO] [Bullet] Using shooter_position, distance=291,66714
[01:28:23] [INFO] [Bullet] Distance to wall: 291,66714 (19,860153% of viewport)
[01:28:23] [INFO] [Bullet] Within ricochet range - trying ricochet first
[01:28:23] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(2400.375, 1393.667), source=PLAYER (Player), range=600, listeners=1
[01:28:23] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=0, below_threshold=0
[01:28:23] [INFO] [Shotgun.FIX#212] Firing 13 pellets with 15° spread at pos=(2400.3748, 1393.667)
[01:28:23] [INFO] [Shotgun.FIX#212] Normal pellet 1/13: extraOffset=2,1, distance=54,1px, pos=(2357.3188, 1360.9485)
[01:28:23] [INFO] [Shotgun.FIX#212] Normal pellet 2/13: extraOffset=-9,2, distance=42,8px, pos=(2366.9243, 1366.9329)
[01:28:23] [INFO] [Shotgun.FIX#212] Normal pellet 3/13: extraOffset=9,1, distance=61,1px, pos=(2353.611, 1354.3138)
[01:28:23] [INFO] [Shotgun.FIX#212] Normal pellet 4/13: extraOffset=14,6, distance=66,6px, pos=(2350.1646, 1349.8525)
[01:28:23] [INFO] [Shotgun.FIX#212] Normal pellet 5/13: extraOffset=-8,5, distance=43,5px, pos=(2367.5408, 1365.1903)
[01:28:23] [INFO] [Shotgun.FIX#212] Normal pellet 6/13: extraOffset=8,4, distance=60,4px, pos=(2356.607, 1352.0602)
[01:28:23] [INFO] [Shotgun.FIX#212] Normal pellet 7/13: extraOffset=0,8, distance=52,8px, pos=(2361.9272, 1357.5032)
[01:28:23] [INFO] [Shotgun.FIX#212] Normal pellet 8/13: extraOffset=-12,7, distance=39,3px, pos=(2373.4795, 1364.9618)
[01:28:23] [INFO] [Shotgun.FIX#212] Normal pellet 9/13: extraOffset=9,3, distance=61,3px, pos=(2358.752, 1348.677)
[01:28:23] [INFO] [Shotgun.FIX#212] Normal pellet 10/13: extraOffset=14,0, distance=66,0px, pos=(2356.429, 1344.3827)
[01:28:23] [INFO] [Shotgun.FIX#212] Normal pellet 11/13: extraOffset=6,9, distance=58,9px, pos=(2361.664, 1349.3295)
[01:28:23] [INFO] [Shotgun.FIX#212] Normal pellet 12/13: extraOffset=-10,1, distance=41,9px, pos=(2374.6257, 1360.575)
[01:28:23] [INFO] [Shotgun.FIX#212] Normal pellet 13/13: extraOffset=7,0, distance=59,0px, pos=(2362.9502, 1348.0846)
[01:28:23] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2400.375, 1393.667), source=PLAYER (Shotgun), range=1469, listeners=1
[01:28:23] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=0, below_threshold=1
[01:28:23] [INFO] [BloodDecal] Blood puddle created at (2169.605, 1139.448) (added to group)
[01:28:23] [INFO] [BloodDecal] Blood puddle created at (2182.607, 1163.88) (added to group)
[01:28:23] [INFO] [BloodDecal] Blood puddle created at (2168.484, 1143.238) (added to group)
[01:28:23] [INFO] [BloodDecal] Blood puddle created at (2149.918, 1164.864) (added to group)
[01:28:23] [INFO] [BloodDecal] Blood puddle created at (2192.115, 1151.569) (added to group)
[01:28:23] [INFO] [BloodDecal] Blood puddle created at (2104.681, 1633.612) (added to group)
[01:28:23] [INFO] [BloodDecal] Blood puddle created at (2126.547, 1597.787) (added to group)
[01:28:23] [INFO] [BloodDecal] Blood puddle created at (2145.325, 1646.291) (added to group)
[01:28:23] [INFO] [BloodDecal] Blood puddle created at (2111.588, 1618.036) (added to group)
[01:28:23] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1214), can_see=false
[01:28:23] [INFO] [BloodDecal] Blood puddle created at (2148.305, 1146.205) (added to group)
[01:28:23] [INFO] [BloodDecal] Blood puddle created at (2195.872, 1147.572) (added to group)
[01:28:23] [INFO] [BloodDecal] Blood puddle created at (2142.334, 1149.409) (added to group)
[01:28:23] [INFO] [BloodDecal] Blood puddle created at (2101.525, 1641.204) (added to group)
[01:28:23] [INFO] [BloodDecal] Blood puddle created at (2128.93, 1622.345) (added to group)
[01:28:23] [INFO] [BloodDecal] Blood puddle created at (2095.343, 1641.92) (added to group)
[01:28:23] [INFO] [BloodDecal] Blood puddle created at (2157.53, 1130.435) (added to group)
[01:28:23] [INFO] [BloodDecal] Blood puddle created at (2133.853, 1629.312) (added to group)
[01:28:23] [INFO] [BloodDecal] Blood puddle created at (2170.538, 1646.171) (added to group)
[01:28:23] [INFO] [BloodDecal] Blood puddle created at (2181.293, 1677.935) (added to group)
[01:28:23] [INFO] [BloodDecal] Blood puddle created at (2144.845, 1152.553) (added to group)
[01:28:23] [INFO] [BloodDecal] Blood puddle created at (2150.475, 1654.917) (added to group)
[01:28:23] [INFO] [BloodDecal] Blood puddle created at (2212.521, 1118.558) (added to group)
[01:28:23] [INFO] [BloodDecal] Blood puddle created at (2208.723, 1133.84) (added to group)
[01:28:23] [INFO] [BloodDecal] Blood puddle created at (2146.279, 1671.479) (added to group)
[01:28:23] [ENEMY] [Enemy8] Ragdoll activated
[01:28:23] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[01:28:23] [ENEMY] [Enemy9] Ragdoll activated
[01:28:23] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[01:28:23] [INFO] [BloodDecal] Blood puddle created at (2221.888, 1132.217) (added to group)
[01:28:23] [INFO] [BloodDecal] Blood puddle created at (2144.028, 1120.569) (added to group)
[01:28:23] [INFO] [BloodDecal] Blood puddle created at (2197.189, 1119.518) (added to group)
[01:28:23] [INFO] [BloodDecal] Blood puddle created at (2166.934, 1140.558) (added to group)
[01:28:23] [ENEMY] [Enemy10] State: SUPPRESSED -> IN_COVER
[01:28:23] [INFO] [BloodDecal] Blood puddle created at (2159.087, 1172.857) (added to group)
[01:28:23] [INFO] [BloodDecal] Blood puddle created at (2191.121, 1144.935) (added to group)
[01:28:23] [ENEMY] [Enemy10] State: IN_COVER -> PURSUING
[01:28:23] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=-2.1°, current=0.6°, player=(2400,1503), corner_timer=0.09
[01:28:23] [INFO] [BloodDecal] Blood puddle created at (2173.848, 1163.662) (added to group)
[01:28:23] [INFO] [BloodDecal] Blood puddle created at (2139.418, 1081.942) (added to group)
[01:28:23] [INFO] [BloodDecal] Blood puddle created at (2155.576, 1173.552) (added to group)
[01:28:23] [INFO] [BloodDecal] Blood puddle created at (2088.809, 1748.46) (added to group)
[01:28:23] [INFO] [ReplayManager] Recording frame 1320 (19,1s): player_valid=True, enemies=10
[01:28:23] [INFO] [BloodDecal] Blood puddle created at (2165.618, 1150.587) (added to group)
[01:28:23] [INFO] [BloodDecal] Blood puddle created at (2219.969, 1181.106) (added to group)
[01:28:23] [INFO] [BloodDecal] Blood puddle created at (2189.515, 1194.032) (added to group)
[01:28:23] [INFO] [BloodDecal] Blood puddle created at (2127.975, 1701.888) (added to group)
[01:28:23] [INFO] [BloodDecal] Blood puddle created at (2218.083, 1142.622) (added to group)
[01:28:23] [INFO] [BloodDecal] Blood puddle created at (2147.559, 1135.891) (added to group)
[01:28:23] [INFO] [BloodDecal] Blood puddle created at (2151.305, 1111.029) (added to group)
[01:28:23] [INFO] [BloodDecal] Blood puddle created at (2083.149, 1837.847) (added to group)
[01:28:23] [INFO] [BloodDecal] Blood puddle created at (2206.931, 1816.348) (added to group)
[01:28:23] [INFO] [BloodDecal] Blood puddle created at (2136.421, 1800.069) (added to group)
[01:28:23] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[01:28:23] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=NeedsPumpUp, ReloadState=NotReloading
[01:28:23] [INFO] [Shotgun.FIX#445] dragStartPos=(2244, 1163), aimDir=(-0,36, -0,93)
[01:28:23] [INFO] [BloodDecal] Blood puddle created at (2268.769, 1117.113) (added to group)
[01:28:23] [INFO] [BloodDecal] Blood puddle created at (2141.111, 1082.443) (added to group)
[01:28:23] [INFO] [BloodDecal] Blood puddle created at (2181.624, 1774.286) (added to group)
[01:28:23] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:28:23] [INFO] [Shotgun.FIX#445v7] Mouse at top edge (Y=0), need PumpUp - recentering cursor
[01:28:23] [INFO] [Shotgun.FIX#445v7] Cursor recentered to (640, 360)
[01:28:23] [INFO] [BloodDecal] Blood puddle created at (2134.969, 1146.192) (added to group)
[01:28:23] [INFO] [BloodDecal] Blood puddle created at (2156.508, 1799.247) (added to group)
[01:28:23] [INFO] [BloodDecal] Blood puddle created at (2113.366, 1764.937) (added to group)
[01:28:23] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:28:23] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:28:23] [INFO] [Shotgun.FIX#445v7] Mid-drag pump UP - shell ejected, continue dragging DOWN to chamber
[01:28:23] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:28:23] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:28:24] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1194), can_see=false
[01:28:24] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:28:24] [INFO] [Shotgun.FIX#445v7] Mid-drag pump DOWN - chambered, ready to fire
[01:28:24] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:28:24] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:28:24] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:28:24] [INFO] [Shotgun.FIX#445v7] TryProcessMidDragGesture - dragVector=(-117,7, 379,7), length=397,5, isDragUp=False, isDragDown=True, ActionState=Ready
[01:28:24] [INFO] [Shotgun.FIX#243] RMB released after 12 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[01:28:24] [INFO] [Shotgun.FIX#445v7] ProcessDragGesture - dragVector=(-126,6, 392,5), length=412,4, ActionState=Ready
[01:28:24] [INFO] [Shotgun.FIX#445v7] Screen-based pump gesture: isDragUp=False, isDragDown=True
[01:28:24] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1068), can_see=false
[01:28:24] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[01:28:24] [ENEMY] [Enemy8] Death animation completed
[01:28:24] [ENEMY] [Enemy9] Death animation completed
[01:28:24] [INFO] [ReplayManager] Recording frame 1380 (20,1s): player_valid=True, enemies=10
[01:28:25] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=899), can_see=false
[01:28:25] [ENEMY] [Enemy10] PURSUING corner check: angle -117.5°
[01:28:25] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=657), can_see=false
[01:28:25] [ENEMY] [Enemy10] PURSUING corner check: angle 62.5°
[01:28:25] [INFO] [ReplayManager] Recording frame 1440 (21,1s): player_valid=True, enemies=10
[01:28:26] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=490), can_see=false
[01:28:26] [INFO] [BloodyFeet:Player] Blood ran out - no more footprints
[01:28:26] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=505), can_see=false
[01:28:26] [INFO] [ReplayManager] Recording frame 1500 (22,1s): player_valid=True, enemies=10
[01:28:27] [ENEMY] [Enemy10] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=76.1°, current=75.4°, player=(1521,1896), corner_timer=0.02
[01:28:27] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) - pursuing to attack (dist=465)
[01:28:27] [ENEMY] [Enemy10] State: PURSUING -> COMBAT
[01:28:27] [ENEMY] [Enemy10] State: COMBAT -> PURSUING
[01:28:27] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=459), can_see=true
[01:28:27] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(1449.611, 1896.988), source=PLAYER (Player), range=600, listeners=1
[01:28:27] [ENEMY] [Enemy10] Heard player EMPTY_CLICK at (1449.611, 1896.988), intensity=0.01, distance=453
[01:28:27] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=0
[01:28:27] [INFO] [Shotgun.FIX#212] Firing 15 pellets with 15° spread at pos=(1449.6115, 1896.9878)
[01:28:27] [INFO] [Shotgun.FIX#212] Normal pellet 1/15: extraOffset=-10,6, distance=41,4px, pos=(1439.6731, 1856.8259)
[01:28:27] [INFO] [Shotgun.FIX#212] Normal pellet 2/15: extraOffset=3,9, distance=55,9px, pos=(1439.2211, 1842.0706)
[01:28:27] [INFO] [Shotgun.FIX#212] Normal pellet 3/15: extraOffset=-1,4, distance=50,6px, pos=(1440.8036, 1847.1779)
[01:28:27] [INFO] [Shotgun.FIX#212] Normal pellet 4/15: extraOffset=-13,9, distance=38,1px, pos=(1442.9188, 1859.4612)
[01:28:27] [INFO] [Shotgun.FIX#212] Normal pellet 5/15: extraOffset=7,2, distance=59,2px, pos=(1440.938, 1838.4132)
[01:28:27] [INFO] [Shotgun.FIX#212] Normal pellet 6/15: extraOffset=-2,7, distance=49,3px, pos=(1444.5411, 1847.9884)
[01:28:27] [INFO] [Shotgun.FIX#212] Normal pellet 7/15: extraOffset=-8,2, distance=43,8px, pos=(1444.5255, 1853.5214)
[01:28:27] [INFO] [Shotgun.FIX#212] Normal pellet 8/15: extraOffset=9,5, distance=61,5px, pos=(1442.8575, 1835.8243)
[01:28:27] [INFO] [Shotgun.FIX#212] Normal pellet 9/15: extraOffset=-8,2, distance=43,8px, pos=(1446.0859, 1853.3789)
[01:28:27] [INFO] [Shotgun.FIX#212] Normal pellet 10/15: extraOffset=-13,0, distance=39,0px, pos=(1446.7578, 1858.125)
[01:28:27] [INFO] [Shotgun.FIX#212] Normal pellet 11/15: extraOffset=2,1, distance=54,1px, pos=(1447.2662, 1842.9531)
[01:28:27] [INFO] [Shotgun.FIX#212] Normal pellet 12/15: extraOffset=-2,2, distance=49,8px, pos=(1447.9983, 1847.1969)
[01:28:27] [INFO] [Shotgun.FIX#212] Normal pellet 13/15: extraOffset=-0,2, distance=51,8px, pos=(1448.8708, 1845.2297)
[01:28:27] [INFO] [Shotgun.FIX#212] Normal pellet 14/15: extraOffset=2,4, distance=54,4px, pos=(1450.5956, 1842.6355)
[01:28:27] [INFO] [Shotgun.FIX#212] Normal pellet 15/15: extraOffset=-11,5, distance=40,5px, pos=(1451.4838, 1856.5387)
[01:28:27] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1449.611, 1896.988), source=PLAYER (Shotgun), range=1469, listeners=1
[01:28:27] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=0
[01:28:27] [ENEMY] [Enemy10] Pursuing vulnerability sound at (1449.611, 1896.988), distance=453
[01:28:27] [ENEMY] [Enemy10] ROT_CHANGE: P1:visible -> P2:combat_state, state=PURSUING, target=85.6°, current=-166.2°, player=(1444,1896), corner_timer=0.02
[01:28:27] [ENEMY] [Enemy10] Hit taken, damage: 1, health: 2/2 -> 1/2
[01:28:27] [ENEMY] [Enemy10] ImpactEffectsManager found, calling spawn_blood_effect
[01:28:27] [INFO] [ImpactEffects] spawn_blood_effect called at (1414.917, 1487.214), dir=(1, 0), lethal=false
[01:28:27] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:28:27] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[01:28:27] [INFO] [ImpactEffects] Wall found for blood splatter at (1488, 1487.214) (dist=73 px)
[01:28:27] [INFO] [BloodDecal] Blood puddle created at (1487, 1487.214) (added to group)
[01:28:27] [INFO] [ImpactEffects] Blood effect spawned at (1414.917, 1487.214) (scale=1)
[01:28:27] [ENEMY] [Enemy10] Hit taken, damage: 1, health: 1/2 -> 0/2
[01:28:27] [ENEMY] [Enemy10] ImpactEffectsManager found, calling spawn_blood_effect
[01:28:27] [INFO] [ImpactEffects] spawn_blood_effect called at (1415.367, 1492.528), dir=(1, 0), lethal=true
[01:28:27] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[01:28:27] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[01:28:27] [INFO] [ImpactEffects] Wall found for blood splatter at (1488, 1492.528) (dist=72 px)
[01:28:27] [INFO] [BloodDecal] Blood puddle created at (1487, 1492.528) (added to group)
[01:28:27] [INFO] [ImpactEffects] Blood effect spawned at (1415.367, 1492.528) (scale=1.5)
[01:28:27] [ENEMY] [Enemy10] Enemy died (ricochet: false, penetration: false)
[01:28:27] [INFO] [ScoreManager] Kill registered. Combo: 6 (points: 10500)
[01:28:27] [INFO] [SoundPropagation] Unregistered listener: Enemy10 (remaining: 0)
[01:28:27] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[01:28:27] [ENEMY] [Enemy10] Death animation started with hit direction: (1, 0)
[01:28:27] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[01:28:27] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=NeedsPumpUp, ReloadState=NotReloading
[01:28:27] [INFO] [Shotgun.FIX#445] dragStartPos=(1378, 1678), aimDir=(0,25, -0,97)
[01:28:27] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:28:27] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:28:27] [INFO] [Shotgun.FIX#445v7] Mid-drag pump UP - shell ejected, continue dragging DOWN to chamber
[01:28:27] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:28:27] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:28:27] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:28:27] [INFO] [BloodDecal] Blood puddle created at (1479.569, 1497.074) (added to group)
[01:28:27] [INFO] [ReplayManager] Recording frame 1560 (23,0s): player_valid=True, enemies=10
[01:28:27] [INFO] [BloodDecal] Blood puddle created at (1481.814, 1545.137) (added to group)
[01:28:27] [INFO] [BloodDecal] Blood puddle created at (1472.384, 1536.739) (added to group)
[01:28:27] [INFO] [Shotgun.FIX#445v7] TryProcessMidDragGesture - dragVector=(-8,2, -36,0), length=36,9, isDragUp=True, isDragDown=False, ActionState=NeedsPumpDown
[01:28:27] [INFO] [Shotgun.FIX#445v7] Mid-drag pump DOWN - chambered, ready to fire
[01:28:27] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:28:27] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:28:27] [INFO] [BloodDecal] Blood puddle created at (1480.639, 1520.539) (added to group)
[01:28:27] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[01:28:27] [ENEMY] [Enemy10] Ragdoll activated
[01:28:27] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[01:28:28] [INFO] [Shotgun.FIX#445v7] TryProcessMidDragGesture - dragVector=(-79,3, 269,9), length=281,3, isDragUp=False, isDragDown=True, ActionState=Ready
[01:28:28] [INFO] [Shotgun.FIX#243] RMB released after 11 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[01:28:28] [INFO] [Shotgun.FIX#445v7] ProcessDragGesture - dragVector=(-88,1, 270,6), length=284,5, ActionState=Ready
[01:28:28] [INFO] [Shotgun.FIX#445v7] Screen-based pump gesture: isDragUp=False, isDragDown=True
[01:28:28] [INFO] [ReplayManager] Recording frame 1620 (23,8s): player_valid=True, enemies=10
[01:28:29] [ENEMY] [Enemy10] Death animation completed
[01:28:29] [INFO] [ReplayManager] Recording frame 1680 (24,6s): player_valid=True, enemies=10
[01:28:30] [INFO] [ReplayManager] Recording frame 1740 (25,5s): player_valid=True, enemies=10
[01:28:31] [INFO] [ReplayManager] Recording frame 1800 (26,5s): player_valid=True, enemies=10
[01:28:32] [INFO] [ReplayManager] Recording frame 1860 (27,5s): player_valid=True, enemies=10
[01:28:32] [INFO] [BuildingLevel] Player controls disabled (level completed)
[01:28:32] [INFO] [ReplayManager] === REPLAY RECORDING STOPPED ===
[01:28:32] [INFO] [ReplayManager] Total frames recorded: 1863
[01:28:32] [INFO] [ReplayManager] Total duration: 27,54s
[01:28:32] [INFO] [ReplayManager] has_replay() will return: True
[01:28:32] [INFO] [BuildingLevel] Replay recording stopped
[01:28:32] [INFO] [BuildingLevel] Replay status: has_replay=true, duration=27.54s
[01:28:32] [INFO] [ScoreManager] Combo ended at 6. Max combo: 6
[01:28:32] [INFO] [ScoreManager] Level completed! Final score: 48308, Rank: A+
[01:28:40] [INFO] [BuildingLevel] Watch Replay button created (replay data available)
[01:28:41] [INFO] [BuildingLevel] Watch Replay triggered
[01:28:41] [INFO] [ReplayManager] Added weapon sprite to ghost player: res://assets/sprites/weapons/shotgun_topdown.png
[01:28:41] [INFO] [ReplayManager] Ghost player Camera2D activated for replay
[01:28:41] [INFO] [ReplayManager] Hidden CanvasLayer (score screen) for replay visibility
[01:28:41] [INFO] [ReplayManager] Started replay playback. Frames: 1863, Duration: 27,54s
[01:28:43] [INFO] [ReplayManager] Playback speed set to 0,50x
[01:29:40] [INFO] [ReplayManager] Playback speed set to 1,00x
[01:29:40] [INFO] [ReplayManager] Playback speed set to 4,00x
[01:29:41] [INFO] [ReplayManager] Playback speed set to 1,00x
[01:29:44] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[01:29:44] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:29:44] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[01:29:44] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[01:29:44] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[01:29:44] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[01:29:44] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[01:29:44] [INFO] [LastChance] Resetting all effects (scene change detected)
[01:29:44] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[01:29:44] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[01:29:44] [INFO] [EnemyGrenade] Initialized: 1 grenades
[01:29:44] [ENEMY] [Enemy1] Death animation component initialized
[01:29:44] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:29:44] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[01:29:44] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[01:29:44] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[01:29:44] [ENEMY] [Enemy2] Death animation component initialized
[01:29:44] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:29:44] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[01:29:44] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[01:29:44] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[01:29:44] [ENEMY] [Enemy3] Death animation component initialized
[01:29:44] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:29:44] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[01:29:44] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[01:29:44] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[01:29:44] [ENEMY] [Enemy4] Death animation component initialized
[01:29:44] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:29:44] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[01:29:44] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[01:29:44] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[01:29:44] [ENEMY] [Enemy5] Death animation component initialized
[01:29:44] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:29:44] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[01:29:44] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[01:29:44] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[01:29:44] [ENEMY] [Enemy6] Death animation component initialized
[01:29:44] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:29:44] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[01:29:44] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[01:29:44] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[01:29:44] [ENEMY] [Enemy7] Death animation component initialized
[01:29:44] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:29:44] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[01:29:44] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[01:29:44] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[01:29:44] [INFO] [EnemyGrenade] Initialized: 1 grenades
[01:29:44] [ENEMY] [Enemy8] Death animation component initialized
[01:29:44] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:29:44] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[01:29:44] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[01:29:44] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[01:29:44] [INFO] [EnemyGrenade] Initialized: 1 grenades
[01:29:44] [ENEMY] [Enemy9] Death animation component initialized
[01:29:44] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:29:44] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[01:29:44] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[01:29:44] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[01:29:44] [INFO] [EnemyGrenade] Initialized: 1 grenades
[01:29:44] [ENEMY] [Enemy10] Death animation component initialized
[01:29:44] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[01:29:44] [INFO] [BloodyFeet:Player] Footprint scene loaded
[01:29:44] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[01:29:44] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[01:29:44] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Frag Grenade
[01:29:44] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[01:29:44] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[01:29:44] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[01:29:44] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[01:29:44] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[01:29:44] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[01:29:44] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: True
[01:29:44] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 4/4
[01:29:44] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[01:29:44] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[01:29:44] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[01:29:44] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[01:29:44] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[01:29:44] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[01:29:44] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[01:29:44] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[01:29:44] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[01:29:44] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[01:29:44] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[01:29:44] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[01:29:44] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[01:29:44] [INFO] [ScoreManager] Level started with 10 enemies
[01:29:44] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[01:29:44] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[01:29:44] [INFO] [ReplayManager] Replay data cleared
[01:29:44] [INFO] [BuildingLevel] Previous replay data cleared
[01:29:44] [INFO] [ReplayManager] Detected player weapon: Shotgun
[01:29:44] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[01:29:44] [INFO] [ReplayManager] Level: BuildingLevel
[01:29:44] [INFO] [ReplayManager] Player: Player (valid: True)
[01:29:44] [INFO] [ReplayManager] Enemies count: 10
[01:29:44] [INFO] [ReplayManager] Detected weapon texture: res://assets/sprites/weapons/shotgun_topdown.png
[01:29:44] [INFO] [ReplayManager]   Enemy 0: Enemy1
[01:29:44] [INFO] [ReplayManager]   Enemy 1: Enemy2
[01:29:44] [INFO] [ReplayManager]   Enemy 2: Enemy3
[01:29:44] [INFO] [ReplayManager]   Enemy 3: Enemy4
[01:29:44] [INFO] [ReplayManager]   Enemy 4: Enemy5
[01:29:44] [INFO] [ReplayManager]   Enemy 5: Enemy6
[01:29:44] [INFO] [ReplayManager]   Enemy 6: Enemy7
[01:29:44] [INFO] [ReplayManager]   Enemy 7: Enemy8
[01:29:44] [INFO] [ReplayManager]   Enemy 8: Enemy9
[01:29:44] [INFO] [ReplayManager]   Enemy 9: Enemy10
[01:29:44] [INFO] [BuildingLevel] Replay recording started successfully
[01:29:44] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[01:29:44] [INFO] [CinemaEffects] Found player node: Player
[01:29:44] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[01:29:44] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 1)
[01:29:44] [ENEMY] [Enemy1] Registered as sound listener
[01:29:44] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 3, behavior: GUARD
[01:29:44] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[01:29:44] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 2)
[01:29:44] [ENEMY] [Enemy2] Registered as sound listener
[01:29:44] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 4, behavior: GUARD
[01:29:44] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[01:29:44] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 3)
[01:29:44] [ENEMY] [Enemy3] Registered as sound listener
[01:29:44] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 3, behavior: GUARD
[01:29:44] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[01:29:44] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 4)
[01:29:44] [ENEMY] [Enemy4] Registered as sound listener
[01:29:44] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 3, behavior: GUARD
[01:29:44] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[01:29:44] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 5)
[01:29:44] [ENEMY] [Enemy5] Registered as sound listener
[01:29:44] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 2, behavior: GUARD
[01:29:44] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[01:29:44] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 6)
[01:29:44] [ENEMY] [Enemy6] Registered as sound listener
[01:29:44] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 3, behavior: GUARD
[01:29:44] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[01:29:44] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 7)
[01:29:44] [ENEMY] [Enemy7] Registered as sound listener
[01:29:44] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 2, behavior: PATROL
[01:29:44] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[01:29:44] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 8)
[01:29:44] [ENEMY] [Enemy8] Registered as sound listener
[01:29:44] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 2, behavior: GUARD
[01:29:44] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[01:29:44] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 9)
[01:29:44] [ENEMY] [Enemy9] Registered as sound listener
[01:29:44] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 4, behavior: GUARD
[01:29:44] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[01:29:44] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 10)
[01:29:44] [ENEMY] [Enemy10] Registered as sound listener
[01:29:44] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 3, behavior: PATROL
[01:29:44] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[01:29:44] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[01:29:44] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[01:29:44] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[01:29:44] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[01:29:44] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[01:29:44] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[01:29:44] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=225.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[01:29:44] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[01:29:44] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=180.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[01:29:44] [INFO] [Player] Detecting weapon pose (frame 3)...
[01:29:44] [INFO] [Player] Detected weapon: Shotgun (Shotgun pose)
[01:29:44] [INFO] [Player] Applied Shotgun arm pose: Left=(21, 6), Right=(-1, 6)
[01:29:44] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[01:29:44] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[01:29:44] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[01:29:44] [INFO] [LastChance] Found player: Player
[01:29:44] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[01:29:44] [INFO] [LastChance] Connected to player Damaged signal (C#)
[01:29:44] [INFO] [LastChance] Connected to player Died signal (C#)
[01:29:44] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[01:29:45] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[01:29:45] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[01:29:45] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[01:29:45] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,1250), corner_timer=0.30
[01:29:45] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,1250), corner_timer=0.30
[01:29:46] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(450,1250), corner_timer=-0.02
[01:29:46] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[01:29:46] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(450,1250), corner_timer=-0.02
[01:29:46] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[01:29:46] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(450,1250), corner_timer=0.30
[01:29:46] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(450,1250), corner_timer=0.30
[01:29:46] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[01:29:46] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(450,1250), corner_timer=-0.02
[01:29:46] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[01:29:46] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(450,1250), corner_timer=0.30
[01:29:46] [INFO] ------------------------------------------------------------
[01:29:46] [INFO] GAME LOG ENDED: 2026-02-07T01:29:46
[01:29:46] [INFO] ============================================================
