[00:27:34] [INFO] ============================================================
[00:27:34] [INFO] GAME LOG STARTED
[00:27:34] [INFO] ============================================================
[00:27:34] [INFO] Timestamp: 2026-02-07T00:27:34
[00:27:34] [INFO] Log file: I:/Загрузки/godot exe/повтор/game_log_20260207_002734.txt
[00:27:34] [INFO] Executable: I:/Загрузки/godot exe/повтор/Godot-Top-Down-Template.exe
[00:27:34] [INFO] OS: Windows
[00:27:34] [INFO] Debug build: false
[00:27:34] [INFO] Engine version: 4.3-stable (official)
[00:27:34] [INFO] Project: Godot Top-Down Template
[00:27:34] [INFO] ------------------------------------------------------------
[00:27:34] [INFO] [GameManager] GameManager ready
[00:27:34] [INFO] [ScoreManager] ScoreManager ready
[00:27:34] [INFO] [SoundPropagation] SoundPropagation autoload initialized
[00:27:34] [INFO] [ImpactEffects] Scenes loaded: DustEffect, BloodEffect, SparksEffect, BloodDecal
[00:27:34] [INFO] [ImpactEffects] ImpactEffectsManager ready - FULL VERSION with blood effects enabled
[00:27:34] [INFO] [ImpactEffects] Starting particle shader warmup (Issue #343 fix)...
[00:27:34] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:27:34] [INFO] [PenultimateHit] Saturation shader loaded successfully
[00:27:34] [INFO] [PenultimateHit] Starting shader warmup (Issue #343 fix)...
[00:27:34] [INFO] [PenultimateHit] PenultimateHitEffectsManager ready - Configuration:
[00:27:34] [INFO] [PenultimateHit]   Time scale: 0.10 (10x slowdown)
[00:27:34] [INFO] [PenultimateHit]   Saturation boost: 2.0 (3.0x)
[00:27:34] [INFO] [PenultimateHit]   Contrast boost: 1.0 (2.0x)
[00:27:34] [INFO] [PenultimateHit]   Effect duration: 3.0 real seconds
[00:27:34] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:27:34] [INFO] [LastChance] Last chance shader loaded successfully
[00:27:34] [INFO] [LastChance] Starting shader warmup (Issue #343 fix)...
[00:27:34] [INFO] [LastChance] LastChanceEffectsManager ready - Configuration:
[00:27:34] [INFO] [LastChance]   Freeze duration: 6.0 real seconds
[00:27:34] [INFO] [LastChance]   Sepia intensity: 0.70
[00:27:34] [INFO] [LastChance]   Brightness: 0.60
[00:27:34] [INFO] [GrenadeManager] Loaded grenade scene: res://scenes/projectiles/FlashbangGrenade.tscn
[00:27:34] [INFO] [GrenadeManager] Loaded grenade scene: res://scenes/projectiles/FragGrenade.tscn
[00:27:34] [INFO] [GrenadeManager] Loaded grenade scene: res://scenes/projectiles/DefensiveGrenade.tscn
[00:27:34] [INFO] [ExperimentalSettings] ExperimentalSettings initialized - FOV enabled: true, Complex grenade throwing: false
[00:27:34] [INFO] [CinemaEffects] CinemaEffectsManager initializing (v5.3 - overlay approach with simplified death circle)...
[00:27:34] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[00:27:34] [INFO] [CinemaEffects] Created effects layer at layer 99
[00:27:34] [INFO] [CinemaEffects] Cinema shader loaded successfully (v5.0 - no screen_texture)
[00:27:34] [INFO] [CinemaEffects] Starting cinema shader warmup (Issue #343 fix)...
[00:27:34] [INFO] [CinemaEffects] Cinema film effect initialized (v5.3) - Configuration:
[00:27:34] [INFO] [CinemaEffects]   Approach: Overlay-based (no screen_texture)
[00:27:34] [INFO] [CinemaEffects]   Grain intensity: 0.15
[00:27:34] [INFO] [CinemaEffects]   Warm tint: 0.12 intensity
[00:27:34] [INFO] [CinemaEffects]   Sunny effect: 0.08 intensity
[00:27:34] [INFO] [CinemaEffects]   Vignette: 0.25 intensity
[00:27:34] [INFO] [CinemaEffects]   Film defects: 1.5% probability
[00:27:34] [INFO] [CinemaEffects]   White specks: 0.70 intensity, 4.0% probability
[00:27:34] [INFO] [CinemaEffects]   Death effects: cigarette burn + expanding spots + end of reel circle (160px, blinks 2x)
[00:27:34] [INFO] [CinemaEffects] Enabling effect after 1 frame(s)...
[00:27:34] [INFO] [GrenadeTimerHelper] Autoload ready
[00:27:34] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[00:27:34] [INFO] [PowerFantasy] Saturation shader loaded successfully
[00:27:34] [INFO] [PowerFantasy] PowerFantasyEffectsManager ready - Configuration:
[00:27:34] [INFO] [PowerFantasy]   Kill effect duration: 300ms
[00:27:34] [INFO] [PowerFantasy]   Grenade effect duration: 2000ms (2.0s)
[00:27:34] [INFO] [ReplayManager] ReplayManager ready (C# version loaded and _Ready called)
[00:27:34] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:27:34] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[00:27:34] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[00:27:34] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[00:27:34] [ENEMY] [Enemy1] Death animation component initialized
[00:27:34] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:27:34] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[00:27:34] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[00:27:34] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[00:27:34] [ENEMY] [Enemy2] Death animation component initialized
[00:27:34] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:27:34] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[00:27:34] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[00:27:34] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[00:27:34] [ENEMY] [Enemy3] Death animation component initialized
[00:27:34] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:27:34] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[00:27:34] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[00:27:34] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[00:27:34] [INFO] [EnemyGrenade] Initialized: 1 grenades
[00:27:34] [ENEMY] [Enemy4] Death animation component initialized
[00:27:34] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:27:34] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[00:27:34] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[00:27:34] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[00:27:34] [ENEMY] [Enemy5] Death animation component initialized
[00:27:34] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:27:34] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[00:27:34] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[00:27:34] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[00:27:34] [INFO] [EnemyGrenade] Initialized: 1 grenades
[00:27:34] [ENEMY] [Enemy6] Death animation component initialized
[00:27:34] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:27:34] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[00:27:34] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[00:27:34] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[00:27:34] [ENEMY] [Enemy7] Death animation component initialized
[00:27:34] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:27:34] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[00:27:34] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[00:27:34] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[00:27:34] [ENEMY] [Enemy8] Death animation component initialized
[00:27:34] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:27:34] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[00:27:34] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[00:27:34] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[00:27:34] [ENEMY] [Enemy9] Death animation component initialized
[00:27:34] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:27:34] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[00:27:34] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[00:27:34] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[00:27:34] [INFO] [EnemyGrenade] Initialized: 1 grenades
[00:27:34] [ENEMY] [Enemy10] Death animation component initialized
[00:27:34] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:27:34] [INFO] [BloodyFeet:Player] Footprint scene loaded
[00:27:34] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[00:27:34] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[00:27:34] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[00:27:34] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:27:34] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:27:34] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:27:34] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:27:34] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:27:34] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[00:27:34] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[00:27:34] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 10/10
[00:27:34] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:27:34] [INFO] [BloodDecal] Blood puddle created at (640, 360) (added to group)
[00:27:34] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[00:27:34] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[00:27:34] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[00:27:34] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[00:27:34] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[00:27:34] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[00:27:34] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[00:27:34] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[00:27:34] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[00:27:34] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[00:27:34] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[00:27:34] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[00:27:34] [INFO] [ScoreManager] Level started with 10 enemies
[00:27:34] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[00:27:34] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[00:27:34] [INFO] [ReplayManager] Replay data cleared
[00:27:34] [INFO] [BuildingLevel] Previous replay data cleared
[00:27:34] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[00:27:34] [INFO] [ReplayManager] Level: BuildingLevel
[00:27:34] [INFO] [ReplayManager] Player: Player (valid: True)
[00:27:34] [INFO] [ReplayManager] Enemies count: 10
[00:27:34] [INFO] [ReplayManager]   Enemy 0: Enemy1
[00:27:34] [INFO] [ReplayManager]   Enemy 1: Enemy2
[00:27:34] [INFO] [ReplayManager]   Enemy 2: Enemy3
[00:27:34] [INFO] [ReplayManager]   Enemy 3: Enemy4
[00:27:34] [INFO] [ReplayManager]   Enemy 4: Enemy5
[00:27:34] [INFO] [ReplayManager]   Enemy 5: Enemy6
[00:27:34] [INFO] [ReplayManager]   Enemy 6: Enemy7
[00:27:34] [INFO] [ReplayManager]   Enemy 7: Enemy8
[00:27:34] [INFO] [ReplayManager]   Enemy 8: Enemy9
[00:27:34] [INFO] [ReplayManager]   Enemy 9: Enemy10
[00:27:34] [INFO] [BuildingLevel] Replay recording started successfully
[00:27:34] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[00:27:34] [INFO] [CinemaEffects] Found player node: Player
[00:27:34] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[00:27:34] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[00:27:34] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 1)
[00:27:34] [ENEMY] [Enemy1] Registered as sound listener
[00:27:34] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 2, behavior: GUARD
[00:27:34] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[00:27:34] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 2)
[00:27:34] [ENEMY] [Enemy2] Registered as sound listener
[00:27:34] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 3, behavior: GUARD
[00:27:34] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[00:27:34] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 3)
[00:27:34] [ENEMY] [Enemy3] Registered as sound listener
[00:27:34] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 2, behavior: GUARD
[00:27:34] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[00:27:34] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 4)
[00:27:34] [ENEMY] [Enemy4] Registered as sound listener
[00:27:34] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 2, behavior: GUARD
[00:27:34] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[00:27:34] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 5)
[00:27:34] [ENEMY] [Enemy5] Registered as sound listener
[00:27:34] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 4, behavior: GUARD
[00:27:34] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[00:27:34] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 6)
[00:27:34] [ENEMY] [Enemy6] Registered as sound listener
[00:27:34] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 4, behavior: GUARD
[00:27:34] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[00:27:34] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 7)
[00:27:34] [ENEMY] [Enemy7] Registered as sound listener
[00:27:34] [ENEMY] [Enemy7] Spawned at (1606.114, 893.8859), hp: 2, behavior: PATROL
[00:27:34] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[00:27:34] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 8)
[00:27:34] [ENEMY] [Enemy8] Registered as sound listener
[00:27:34] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 3, behavior: GUARD
[00:27:34] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[00:27:34] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 9)
[00:27:34] [ENEMY] [Enemy9] Registered as sound listener
[00:27:34] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 4, behavior: GUARD
[00:27:34] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[00:27:34] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 10)
[00:27:34] [ENEMY] [Enemy10] Registered as sound listener
[00:27:34] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 4, behavior: PATROL
[00:27:34] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[00:27:34] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[00:27:34] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[00:27:34] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=123.7°, current=0.0°, player=(450,1250), corner_timer=0.00
[00:27:34] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[00:27:34] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[00:27:34] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[00:27:34] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[00:27:34] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=180.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[00:27:34] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:27:34] [INFO] [Player] Detected weapon: Rifle (default pose)
[00:27:34] [INFO] [Player] Applied Rifle arm pose: Left=(24, 6), Right=(-2, 6)
[00:27:34] [INFO] [PenultimateHit] Shader warmup complete in 281 ms
[00:27:34] [INFO] [LastChance] Shader warmup complete in 280 ms
[00:27:34] [INFO] [CinemaEffects] Cinema shader warmup complete in 228 ms
[00:27:34] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:27:34] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:27:34] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:27:34] [INFO] [LastChance] Found player: Player
[00:27:34] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:27:34] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:27:34] [INFO] [LastChance] Connected to player Died signal (C#)
[00:27:34] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[00:27:34] [INFO] [ImpactEffects] Particle shader warmup complete: 7 effects warmed up in 572 ms
[00:27:35] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[00:27:36] [INFO] [PauseMenu] Armory button pressed
[00:27:36] [INFO] [PauseMenu] Creating new armory menu instance
[00:27:36] [INFO] [PauseMenu] armory_menu_scene resource path: res://scenes/ui/ArmoryMenu.tscn
[00:27:36] [INFO] [PauseMenu] Instance created, class: CanvasLayer, name: ArmoryMenu
[00:27:36] [INFO] [PauseMenu] Script attached: res://scripts/ui/armory_menu.gd
[00:27:36] [INFO] [PauseMenu] back_pressed signal exists on instance
[00:27:36] [INFO] [PauseMenu] back_pressed signal connected
[00:27:36] [INFO] [PauseMenu] Armory menu instance added as child, is_inside_tree: true
[00:27:36] [INFO] [PauseMenu] _populate_weapon_grid method exists
[00:27:36] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[00:27:37] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=10
[00:27:38] [INFO] [ReplayManager] Recording frame 240 (4,0s): player_valid=True, enemies=10
[00:27:39] [INFO] [GameManager] Weapon selected: shotgun
[00:27:39] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[00:27:39] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:27:39] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[00:27:39] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[00:27:39] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[00:27:39] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[00:27:39] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:27:39] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:27:39] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[00:27:39] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[00:27:39] [ENEMY] [Enemy1] Death animation component initialized
[00:27:39] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:27:39] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[00:27:39] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[00:27:39] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[00:27:39] [ENEMY] [Enemy2] Death animation component initialized
[00:27:39] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:27:39] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[00:27:39] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[00:27:39] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[00:27:39] [ENEMY] [Enemy3] Death animation component initialized
[00:27:39] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:27:39] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[00:27:39] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[00:27:39] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[00:27:39] [ENEMY] [Enemy4] Death animation component initialized
[00:27:39] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:27:39] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[00:27:39] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[00:27:39] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[00:27:39] [ENEMY] [Enemy5] Death animation component initialized
[00:27:39] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:27:39] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[00:27:39] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[00:27:39] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[00:27:39] [ENEMY] [Enemy6] Death animation component initialized
[00:27:39] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:27:39] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[00:27:39] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[00:27:39] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[00:27:39] [ENEMY] [Enemy7] Death animation component initialized
[00:27:39] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:27:39] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[00:27:39] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[00:27:39] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[00:27:39] [ENEMY] [Enemy8] Death animation component initialized
[00:27:39] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:27:39] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[00:27:39] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[00:27:39] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[00:27:39] [ENEMY] [Enemy9] Death animation component initialized
[00:27:39] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:27:39] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[00:27:39] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[00:27:39] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[00:27:39] [ENEMY] [Enemy10] Death animation component initialized
[00:27:39] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:27:39] [INFO] [BloodyFeet:Player] Footprint scene loaded
[00:27:39] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[00:27:39] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[00:27:39] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: Flashbang
[00:27:39] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:27:39] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:27:39] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:27:39] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:27:39] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:27:39] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[00:27:39] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[00:27:39] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 10/10
[00:27:39] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:27:39] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[00:27:39] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[00:27:39] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[00:27:39] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[00:27:39] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[00:27:39] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[00:27:39] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[00:27:39] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[00:27:39] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[00:27:39] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[00:27:39] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[00:27:39] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[00:27:39] [INFO] [ScoreManager] Level started with 10 enemies
[00:27:39] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[00:27:39] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[00:27:39] [INFO] [ReplayManager] Replay data cleared
[00:27:39] [INFO] [BuildingLevel] Previous replay data cleared
[00:27:39] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[00:27:39] [INFO] [ReplayManager] Level: BuildingLevel
[00:27:39] [INFO] [ReplayManager] Player: Player (valid: True)
[00:27:39] [INFO] [ReplayManager] Enemies count: 10
[00:27:39] [INFO] [ReplayManager]   Enemy 0: Enemy1
[00:27:39] [INFO] [ReplayManager]   Enemy 1: Enemy2
[00:27:39] [INFO] [ReplayManager]   Enemy 2: Enemy3
[00:27:39] [INFO] [ReplayManager]   Enemy 3: Enemy4
[00:27:39] [INFO] [ReplayManager]   Enemy 4: Enemy5
[00:27:39] [INFO] [ReplayManager]   Enemy 5: Enemy6
[00:27:39] [INFO] [ReplayManager]   Enemy 6: Enemy7
[00:27:39] [INFO] [ReplayManager]   Enemy 7: Enemy8
[00:27:39] [INFO] [ReplayManager]   Enemy 8: Enemy9
[00:27:39] [INFO] [ReplayManager]   Enemy 9: Enemy10
[00:27:39] [INFO] [BuildingLevel] Replay recording started successfully
[00:27:39] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[00:27:39] [INFO] [CinemaEffects] Found player node: Player
[00:27:39] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[00:27:39] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 11)
[00:27:39] [ENEMY] [Enemy1] Registered as sound listener
[00:27:39] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 3, behavior: GUARD
[00:27:39] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[00:27:39] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 12)
[00:27:39] [ENEMY] [Enemy2] Registered as sound listener
[00:27:39] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 4, behavior: GUARD
[00:27:39] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[00:27:39] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 13)
[00:27:39] [ENEMY] [Enemy3] Registered as sound listener
[00:27:39] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 4, behavior: GUARD
[00:27:39] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[00:27:39] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 14)
[00:27:39] [ENEMY] [Enemy4] Registered as sound listener
[00:27:39] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 4, behavior: GUARD
[00:27:39] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[00:27:39] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 15)
[00:27:39] [ENEMY] [Enemy5] Registered as sound listener
[00:27:39] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 3, behavior: GUARD
[00:27:39] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[00:27:39] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 16)
[00:27:39] [ENEMY] [Enemy6] Registered as sound listener
[00:27:39] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 4, behavior: GUARD
[00:27:39] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[00:27:39] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 17)
[00:27:39] [ENEMY] [Enemy7] Registered as sound listener
[00:27:39] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 4, behavior: PATROL
[00:27:39] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[00:27:39] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 18)
[00:27:39] [ENEMY] [Enemy8] Registered as sound listener
[00:27:39] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 2, behavior: GUARD
[00:27:39] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[00:27:39] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 19)
[00:27:39] [ENEMY] [Enemy9] Registered as sound listener
[00:27:39] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 4, behavior: GUARD
[00:27:39] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[00:27:39] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 20)
[00:27:39] [ENEMY] [Enemy10] Registered as sound listener
[00:27:39] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 4, behavior: PATROL
[00:27:39] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[00:27:39] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[00:27:39] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[00:27:39] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[00:27:39] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=326.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[00:27:39] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[00:27:39] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=180.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[00:27:39] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[00:27:39] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=78.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[00:27:39] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=146.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[00:27:39] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:27:39] [INFO] [Player] Detected weapon: Shotgun (Shotgun pose)
[00:27:39] [INFO] [Player] Applied Shotgun arm pose: Left=(21, 6), Right=(-1, 6)
[00:27:39] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:27:39] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:27:39] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:27:39] [INFO] [LastChance] Found player: Player
[00:27:39] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:27:39] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:27:39] [INFO] [LastChance] Connected to player Died signal (C#)
[00:27:39] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[00:27:40] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[00:27:41] [INFO] [PauseMenu] Armory button pressed
[00:27:41] [INFO] [PauseMenu] Creating new armory menu instance
[00:27:41] [INFO] [PauseMenu] armory_menu_scene resource path: res://scenes/ui/ArmoryMenu.tscn
[00:27:41] [INFO] [PauseMenu] Instance created, class: CanvasLayer, name: ArmoryMenu
[00:27:41] [INFO] [PauseMenu] Script attached: res://scripts/ui/armory_menu.gd
[00:27:41] [INFO] [PauseMenu] back_pressed signal exists on instance
[00:27:41] [INFO] [PauseMenu] back_pressed signal connected
[00:27:41] [INFO] [PauseMenu] Armory menu instance added as child, is_inside_tree: true
[00:27:41] [INFO] [PauseMenu] _populate_weapon_grid method exists
[00:27:41] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[00:27:42] [INFO] [GrenadeManager] Grenade type changed from Flashbang to F-1 Grenade
[00:27:42] [INFO] [GrenadeManager] Restarting level due to grenade type change
[00:27:42] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[00:27:42] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:27:42] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[00:27:42] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[00:27:42] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[00:27:42] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[00:27:42] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:27:42] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:27:42] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[00:27:42] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[00:27:42] [ENEMY] [Enemy1] Death animation component initialized
[00:27:42] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:27:42] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[00:27:42] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[00:27:42] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[00:27:42] [ENEMY] [Enemy2] Death animation component initialized
[00:27:42] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:27:42] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[00:27:42] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[00:27:42] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[00:27:42] [INFO] [EnemyGrenade] Initialized: 1 grenades
[00:27:42] [ENEMY] [Enemy3] Death animation component initialized
[00:27:42] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:27:42] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[00:27:42] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[00:27:42] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[00:27:42] [INFO] [EnemyGrenade] Initialized: 1 grenades
[00:27:42] [ENEMY] [Enemy4] Death animation component initialized
[00:27:42] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:27:42] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[00:27:42] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[00:27:42] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[00:27:42] [ENEMY] [Enemy5] Death animation component initialized
[00:27:42] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:27:42] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[00:27:42] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[00:27:42] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[00:27:42] [ENEMY] [Enemy6] Death animation component initialized
[00:27:42] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:27:42] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[00:27:42] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[00:27:42] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[00:27:42] [ENEMY] [Enemy7] Death animation component initialized
[00:27:42] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:27:42] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[00:27:42] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[00:27:42] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[00:27:42] [INFO] [EnemyGrenade] Initialized: 1 grenades
[00:27:42] [ENEMY] [Enemy8] Death animation component initialized
[00:27:42] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:27:42] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[00:27:42] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[00:27:42] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[00:27:42] [ENEMY] [Enemy9] Death animation component initialized
[00:27:42] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:27:42] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[00:27:42] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[00:27:42] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[00:27:42] [ENEMY] [Enemy10] Death animation component initialized
[00:27:42] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:27:42] [INFO] [BloodyFeet:Player] Footprint scene loaded
[00:27:42] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[00:27:42] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[00:27:42] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: F-1 Grenade
[00:27:42] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:27:42] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:27:42] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:27:42] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:27:42] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:27:42] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[00:27:42] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: False
[00:27:42] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 10/10
[00:27:42] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:27:42] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[00:27:42] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[00:27:42] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[00:27:42] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[00:27:42] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[00:27:42] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[00:27:42] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[00:27:42] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[00:27:42] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[00:27:42] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[00:27:42] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[00:27:42] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[00:27:42] [INFO] [ScoreManager] Level started with 10 enemies
[00:27:42] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[00:27:42] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[00:27:42] [INFO] [ReplayManager] Replay data cleared
[00:27:42] [INFO] [BuildingLevel] Previous replay data cleared
[00:27:42] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[00:27:42] [INFO] [ReplayManager] Level: BuildingLevel
[00:27:42] [INFO] [ReplayManager] Player: Player (valid: True)
[00:27:42] [INFO] [ReplayManager] Enemies count: 10
[00:27:42] [INFO] [ReplayManager]   Enemy 0: Enemy1
[00:27:42] [INFO] [ReplayManager]   Enemy 1: Enemy2
[00:27:42] [INFO] [ReplayManager]   Enemy 2: Enemy3
[00:27:42] [INFO] [ReplayManager]   Enemy 3: Enemy4
[00:27:42] [INFO] [ReplayManager]   Enemy 4: Enemy5
[00:27:42] [INFO] [ReplayManager]   Enemy 5: Enemy6
[00:27:42] [INFO] [ReplayManager]   Enemy 6: Enemy7
[00:27:42] [INFO] [ReplayManager]   Enemy 7: Enemy8
[00:27:42] [INFO] [ReplayManager]   Enemy 8: Enemy9
[00:27:42] [INFO] [ReplayManager]   Enemy 9: Enemy10
[00:27:42] [INFO] [BuildingLevel] Replay recording started successfully
[00:27:42] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[00:27:42] [INFO] [CinemaEffects] Found player node: Player
[00:27:42] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[00:27:42] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 21)
[00:27:42] [ENEMY] [Enemy1] Registered as sound listener
[00:27:42] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 3, behavior: GUARD
[00:27:42] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[00:27:42] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 22)
[00:27:42] [ENEMY] [Enemy2] Registered as sound listener
[00:27:42] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 4, behavior: GUARD
[00:27:42] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[00:27:42] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 23)
[00:27:42] [ENEMY] [Enemy3] Registered as sound listener
[00:27:42] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 4, behavior: GUARD
[00:27:42] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[00:27:42] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 24)
[00:27:42] [ENEMY] [Enemy4] Registered as sound listener
[00:27:42] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 2, behavior: GUARD
[00:27:42] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[00:27:42] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 25)
[00:27:42] [ENEMY] [Enemy5] Registered as sound listener
[00:27:42] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 3, behavior: GUARD
[00:27:42] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[00:27:42] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 26)
[00:27:42] [ENEMY] [Enemy6] Registered as sound listener
[00:27:42] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 2, behavior: GUARD
[00:27:42] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[00:27:42] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 27)
[00:27:42] [ENEMY] [Enemy7] Registered as sound listener
[00:27:42] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 2, behavior: PATROL
[00:27:42] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[00:27:42] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 28)
[00:27:42] [ENEMY] [Enemy8] Registered as sound listener
[00:27:42] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 3, behavior: GUARD
[00:27:42] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[00:27:42] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 29)
[00:27:42] [ENEMY] [Enemy9] Registered as sound listener
[00:27:42] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 2, behavior: GUARD
[00:27:42] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[00:27:42] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 30)
[00:27:42] [ENEMY] [Enemy10] Registered as sound listener
[00:27:42] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 2, behavior: PATROL
[00:27:42] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[00:27:42] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[00:27:42] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=33.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[00:27:42] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[00:27:42] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=236.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[00:27:42] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=292.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[00:27:42] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=56.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[00:27:42] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[00:27:42] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=123.7°, current=0.0°, player=(450,1250), corner_timer=0.00
[00:27:42] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=11.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[00:27:42] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:27:42] [INFO] [Player] Detected weapon: Shotgun (Shotgun pose)
[00:27:42] [INFO] [Player] Applied Shotgun arm pose: Left=(21, 6), Right=(-1, 6)
[00:27:42] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:27:42] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:27:42] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:27:42] [INFO] [LastChance] Found player: Player
[00:27:42] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:27:42] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:27:42] [INFO] [LastChance] Connected to player Died signal (C#)
[00:27:42] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[00:27:43] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[00:27:43] [INFO] [Player] Invincibility mode: ON
[00:27:43] [INFO] [GameManager] Invincibility mode toggled: ON
[00:27:43] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[00:27:43] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[00:27:43] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,1250), corner_timer=0.30
[00:27:43] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,1250), corner_timer=0.30
[00:27:43] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(450,1250), corner_timer=-0.02
[00:27:43] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[00:27:43] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(450,1250), corner_timer=-0.02
[00:27:43] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[00:27:43] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(450,1250), corner_timer=0.30
[00:27:43] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(450,1250), corner_timer=0.30
[00:27:44] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[00:27:44] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(450,1228), corner_timer=-0.02
[00:27:44] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[00:27:44] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(450,1224), corner_timer=0.30
[00:27:44] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[00:27:44] [INFO] [Player.Grenade.Anim] Phase changed to: GrabGrenade (duration: 0,20s)
[00:27:44] [INFO] [Player.Grenade] G pressed - starting grab animation
[00:27:44] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[00:27:44] [INFO] [Player.Grenade] Step 1 started: G held, RMB pressed at (557.16003, 1227.8871)
[00:27:44] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=Ready, ReloadState=NotReloading
[00:27:44] [INFO] [Shotgun.FIX#445] dragStartPos=(557, 1224), aimDir=(0,86, 0,51)
[00:27:44] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[00:27:44] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[00:27:44] [INFO] [GrenadeBase] CCD enabled (mode: CAST_RAY) to prevent wall tunneling
[00:27:44] [INFO] [GrenadeBase] Grenade created at (0, 0) (frozen)
[00:27:44] [INFO] [DefensiveGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:27:44] [INFO] [GrenadeTimer] Initialized for Flashbang grenade, effect radius: 700
[00:27:44] [INFO] [Player.Grenade] Added GrenadeTimer component (type: Flashbang)
[00:27:44] [INFO] [GrenadeBase] Timer activated! 4.0 seconds until explosion
[00:27:44] [INFO] [GrenadeTimer] Timer activated! 4 seconds until explosion
[00:27:44] [INFO] [Player.Grenade] Timer started, grenade created at (450, 1144.1666)
[00:27:44] [INFO] [Player.Grenade.Anim] Phase changed to: PullPin (duration: 0,15s)
[00:27:44] [INFO] [Player.Grenade] Step 1 complete! Drag: (212.44275, -7.140625)
[00:27:44] [INFO] [Shotgun.FIX#243] RMB released after 2 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[00:27:44] [INFO] [Shotgun.FIX#445v7] ProcessDragGesture - dragVector=(346,1, -2,8), length=346,1, ActionState=Ready
[00:27:44] [INFO] [Shotgun.FIX#445v7] Pump drag not vertical: absY=2,8 <= absX=346,1
[00:27:44] [INFO] [Player.Grenade.Anim] Phase changed to: HandsApproach (duration: 0,20s)
[00:27:44] [INFO] [Player.Grenade.Simple] RMB pressed after pin pull - starting trajectory aiming
[00:27:44] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=Ready, ReloadState=NotReloading
[00:27:44] [INFO] [Shotgun.FIX#445] dragStartPos=(899, 1207), aimDir=(0,98, 0,17)
[00:27:44] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[00:27:44] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(450,1122), corner_timer=-0.02
[00:27:44] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[00:27:44] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[00:27:44] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.6°, player=(450,1116), corner_timer=0.30
[00:27:44] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[00:27:44] [INFO] [Shotgun.FIX#445v7] TryProcessMidDragGesture - dragVector=(-19,4, -51,5), length=55,0, isDragUp=True, isDragDown=False, ActionState=Ready
[00:27:44] [INFO] [Shotgun.FIX#445v7] TryProcessMidDragGesture - dragVector=(-19,4, -109,5), length=111,2, isDragUp=True, isDragDown=False, ActionState=Ready
[00:27:44] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(450,1012), corner_timer=-0.02
[00:27:44] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[00:27:44] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.8°, current=6.3°, player=(450,1006), corner_timer=0.30
[00:27:45] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=10
[00:27:45] [INFO] [Shotgun.FIX#445v7] TryProcessMidDragGesture - dragVector=(-19,4, -162,7), length=163,9, isDragUp=True, isDragDown=False, ActionState=Ready
[00:27:45] [INFO] [Shotgun.FIX#445v7] TryProcessMidDragGesture - dragVector=(-19,4, -206,9), length=207,8, isDragUp=True, isDragDown=False, ActionState=Ready
[00:27:45] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.8°, player=(411,933), corner_timer=-0.02
[00:27:45] [ENEMY] [Enemy10] PATROL corner check: angle 0.9°
[00:27:45] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=0.9°, current=4.6°, player=(406,931), corner_timer=0.30
[00:27:45] [INFO] [Shotgun.FIX#445v7] TryProcessMidDragGesture - dragVector=(-52,8, -289,8), length=294,6, isDragUp=True, isDragDown=False, ActionState=Ready
[00:27:45] [INFO] [Shotgun.FIX#445v7] TryProcessMidDragGesture - dragVector=(-97,5, -331,1), length=345,2, isDragUp=True, isDragDown=False, ActionState=Ready
[00:27:45] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[00:27:45] [INFO] [Shotgun.FIX#445v7] TryProcessMidDragGesture - dragVector=(-132,3, -433,3), length=453,1, isDragUp=True, isDragDown=False, ActionState=Ready
[00:27:45] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=-130.1°, player=(319,928), corner_timer=-0.02
[00:27:45] [ENEMY] [Enemy7] PATROL corner check: angle 90.0°
[00:27:45] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=-133.0°, player=(319,928), corner_timer=0.30
[00:27:45] [INFO] [Shotgun.FIX#445v7] TryProcessMidDragGesture - dragVector=(-193,7, -527,5), length=561,9, isDragUp=True, isDragDown=False, ActionState=Ready
[00:27:45] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[00:27:46] [INFO] [ReplayManager] Recording frame 240 (4,0s): player_valid=True, enemies=10
[00:27:46] [INFO] [Shotgun.FIX#445v7] TryProcessMidDragGesture - dragVector=(-216,5, -535,0), length=577,1, isDragUp=True, isDragDown=False, ActionState=Ready
[00:27:46] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=179.1°, current=172.4°, player=(319,928), corner_timer=-0.02
[00:27:46] [ENEMY] [Enemy7] PATROL corner check: angle 89.8°
[00:27:46] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.8°, current=175.3°, player=(319,928), corner_timer=0.30
[00:27:46] [INFO] [Shotgun.FIX#445v7] TryProcessMidDragGesture - dragVector=(-253,9, -548,7), length=604,6, isDragUp=True, isDragDown=False, ActionState=Ready
[00:27:46] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[00:27:46] [INFO] [Shotgun.FIX#445v7] TryProcessMidDragGesture - dragVector=(-253,9, -548,8), length=604,7, isDragUp=True, isDragDown=False, ActionState=Ready
[00:27:46] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=178.4°, current=120.7°, player=(319,928), corner_timer=-0.02
[00:27:46] [ENEMY] [Enemy7] PATROL corner check: angle 89.7°
[00:27:46] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.7°, current=123.6°, player=(319,928), corner_timer=0.30
[00:27:46] [INFO] [Shotgun.FIX#445v7] TryProcessMidDragGesture - dragVector=(-258,5, -552,2), length=609,8, isDragUp=True, isDragDown=False, ActionState=Ready
[00:27:46] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[00:27:46] [INFO] [Shotgun.FIX#445v7] TryProcessMidDragGesture - dragVector=(-261,2, -553,6), length=612,1, isDragUp=True, isDragDown=False, ActionState=Ready
[00:27:46] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.9°, current=89.7°, player=(319,928), corner_timer=-0.02
[00:27:46] [ENEMY] [Enemy7] PATROL corner check: angle 89.6°
[00:27:46] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.6°, current=92.5°, player=(319,928), corner_timer=0.30
[00:27:46] [INFO] [Shotgun.FIX#445v7] TryProcessMidDragGesture - dragVector=(-261,2, -553,6), length=612,1, isDragUp=True, isDragDown=False, ActionState=Ready
[00:27:46] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[00:27:47] [INFO] [ReplayManager] Recording frame 300 (5,0s): player_valid=True, enemies=10
[00:27:47] [INFO] [Shotgun.FIX#445v7] TryProcessMidDragGesture - dragVector=(-261,2, -553,6), length=612,1, isDragUp=True, isDragDown=False, ActionState=Ready
[00:27:47] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.7°, current=89.6°, player=(319,928), corner_timer=-0.02
[00:27:47] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[00:27:47] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.4°, player=(319,928), corner_timer=0.30
[00:27:47] [INFO] [Shotgun.FIX#445v7] TryProcessMidDragGesture - dragVector=(-261,9, -553,6), length=612,4, isDragUp=True, isDragDown=False, ActionState=Ready
[00:27:47] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[00:27:47] [INFO] [Shotgun.FIX#445v7] TryProcessMidDragGesture - dragVector=(-261,9, -553,6), length=612,4, isDragUp=True, isDragDown=False, ActionState=Ready
[00:27:47] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.5°, current=89.5°, player=(319,928), corner_timer=-0.02
[00:27:47] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[00:27:47] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.4°, player=(319,928), corner_timer=0.30
[00:27:47] [INFO] [Shotgun.FIX#445v7] TryProcessMidDragGesture - dragVector=(-261,9, -553,6), length=612,4, isDragUp=True, isDragDown=False, ActionState=Ready
[00:27:47] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[00:27:47] [INFO] [Player.Grenade.Simple] Throwing! Target: (636.65936, 653.7569), Distance: 416,9, Speed: 500,1, Friction: 300,0
[00:27:47] [INFO] [Player.Grenade] Player rotated for throw: 0 -> -0,71363145
[00:27:47] [INFO] [GrenadeTimer] Grenade marked as thrown - impact detection enabled
[00:27:47] [INFO] [Player.Grenade.Simple] C# set velocity directly: dir=(0.75598985, -0.65458345), speed=500,1, spawn=(364.98462, 888.9899)
[00:27:47] [INFO] [GrenadeBase] Simple mode throw! Dir: (0.75599, -0.654583), Speed: 500.1 (clamped from 500.1, max: 1000.0)
[00:27:47] [INFO] [Player.Grenade.Anim] Phase changed to: Throw (duration: 0,20s)
[00:27:47] [INFO] [Player.Grenade.Simple] Grenade thrown!
[00:27:47] [INFO] [Player.Grenade] State reset to IDLE
[00:27:47] [INFO] [Player.Grenade] State reset to IDLE
[00:27:47] [INFO] [Player.Grenade.Anim] Phase changed to: ReturnIdle (duration: 0,30s)
[00:27:47] [INFO] [Shotgun.FIX#243] RMB released after 181 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[00:27:47] [INFO] [Shotgun.FIX#445v7] ProcessDragGesture - dragVector=(-261,9, -553,6), length=612,4, ActionState=Ready
[00:27:47] [INFO] [Shotgun.FIX#445v7] Screen-based pump gesture: isDragUp=True, isDragDown=False
[00:27:47] [INFO] [Player.Grenade] Player rotation restored to 0
[00:27:47] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.4°, current=89.5°, player=(319,943), corner_timer=-0.02
[00:27:47] [ENEMY] [Enemy7] PATROL corner check: angle 89.5°
[00:27:47] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.5°, current=92.3°, player=(319,946), corner_timer=0.30
[00:27:47] [INFO] [Player.Grenade.Anim] Animation complete, returning to normal
[00:27:47] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[00:27:48] [INFO] [ReplayManager] Recording frame 360 (6,0s): player_valid=True, enemies=10
[00:27:48] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.5°, player=(321,1044), corner_timer=-0.02
[00:27:48] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[00:27:48] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(322,1049), corner_timer=0.30
[00:27:48] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[00:27:48] [ENEMY] [Enemy1] GRENADE DANGER: Entering EVADING_GRENADE state from IDLE
[00:27:48] [ENEMY] [Enemy1] EVADING_GRENADE started: escaping to (75.33795, 51.10248)
[00:27:48] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P4:velocity, state=EVADING_GRENADE, target=-153.4°, current=8.2°, player=(355,1096), corner_timer=0.00
[00:27:48] [ENEMY] [Enemy3] GRENADE DANGER: Entering EVADING_GRENADE state from IDLE
[00:27:48] [ENEMY] [Enemy3] EVADING_GRENADE started: escaping to (1366.024, 904.6746)
[00:27:48] [ENEMY] [Enemy3] ROT_CHANGE: P5:idle_scan -> P4:velocity, state=EVADING_GRENADE, target=-42.8°, current=-130.9°, player=(378,1119), corner_timer=0.00
[00:27:48] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(386,1127), corner_timer=-0.02
[00:27:48] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[00:27:48] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(390,1131), corner_timer=0.30
[00:27:48] [INFO] [GrenadeTimer] Flashbang grenade landed at (551.73425, 727.29016)
[00:27:48] [INFO] [SoundPropagation] Sound emitted: type=GRENADE_LANDING, pos=(551.7343, 727.2902), source=NEUTRAL (DefensiveGrenade), range=112, listeners=30
[00:27:48] [INFO] [SoundPropagation] Cleaned up 20 invalid listeners
[00:27:48] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=10, self=0, below_threshold=0
[00:27:48] [INFO] [GrenadeTimer] Emitted grenade landing sound at (551.73425, 727.29016)
[00:27:48] [INFO] [SoundPropagation] Sound emitted: type=GRENADE_LANDING, pos=(552.345, 726.7614), source=NEUTRAL (DefensiveGrenade), range=112, listeners=10
[00:27:48] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=10, self=0, below_threshold=0
[00:27:48] [INFO] [GrenadeBase] Grenade landed at (552.345, 726.7614)
[00:27:48] [INFO] [GrenadeBase] EXPLODED at (552.8307, 726.3408)!
[00:27:48] [INFO] [PowerFantasy] Grenade exploded - triggering last chance time-freeze effect for 2000ms
[00:27:48] [INFO] [LastChance] Grenade explosion triggering last chance effect for 2.00 seconds
[00:27:48] [INFO] [LastChance] Starting last chance effect:
[00:27:48] [INFO] [LastChance]   - Time will be frozen (except player)
[00:27:48] [INFO] [LastChance]   - Duration: 2.00 real seconds
[00:27:48] [INFO] [LastChance]   - Trigger: grenade explosion
[00:27:48] [INFO] [LastChance]   - Sepia intensity: 0.70
[00:27:48] [INFO] [LastChance]   - Brightness: 0.60
[00:27:48] [INFO] [LastChance] Set player Player and all 26 children to PROCESS_MODE_ALWAYS
[00:27:48] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[00:27:48] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[00:27:48] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[00:27:48] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[00:27:48] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[00:27:48] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[00:27:48] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[00:27:48] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[00:27:48] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[00:27:48] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[00:27:48] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[00:27:48] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[00:27:48] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[00:27:48] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[00:27:48] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[00:27:48] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[00:27:48] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[00:27:48] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[00:27:48] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[00:27:48] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[00:27:48] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[00:27:48] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[00:27:48] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[00:27:48] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[00:27:48] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[00:27:48] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[00:27:48] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[00:27:48] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[00:27:48] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[00:27:48] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[00:27:48] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[00:27:48] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[00:27:48] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[00:27:48] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[00:27:48] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[00:27:48] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[00:27:48] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[00:27:48] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[00:27:48] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[00:27:48] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[00:27:48] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[00:27:48] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[00:27:48] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[00:27:48] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[00:27:48] [INFO] [LastChance] Skipping player node: Player
[00:27:48] [INFO] [LastChance] Froze existing grenade: DefensiveGrenade
[00:27:48] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[00:27:48] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[00:27:48] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[00:27:48] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(552.8307, 726.3408), source=NEUTRAL (DefensiveGrenade), range=2937, listeners=10
[00:27:48] [INFO] [SoundPropagation] Sound result: notified=3, out_of_range=0, self=0, below_threshold=7
[00:27:48] [ENEMY] [Enemy2] Hit taken, damage: 1, health: 4/4 -> 3/4
[00:27:48] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[00:27:48] [INFO] [ImpactEffects] spawn_blood_effect called at (400, 550), dir=(-0.654936, -0.755685), lethal=false
[00:27:48] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[00:27:48] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[00:27:48] [INFO] [ImpactEffects] Blood effect spawned at (400, 550) (scale=1)
[00:27:48] [ENEMY] [Enemy2] Hit taken, damage: 1, health: 3/4 -> 2/4
[00:27:48] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[00:27:48] [INFO] [ImpactEffects] spawn_blood_effect called at (400, 550), dir=(-0.654936, -0.755685), lethal=false
[00:27:48] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[00:27:48] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[00:27:48] [INFO] [ImpactEffects] Blood effect spawned at (400, 550) (scale=1)
[00:27:48] [ENEMY] [Enemy2] Hit taken, damage: 1, health: 2/4 -> 1/4
[00:27:48] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[00:27:48] [INFO] [ImpactEffects] spawn_blood_effect called at (400, 550), dir=(-0.654936, -0.755685), lethal=false
[00:27:48] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[00:27:48] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[00:27:48] [INFO] [ImpactEffects] Blood effect spawned at (400, 550) (scale=1)
[00:27:48] [ENEMY] [Enemy2] Hit taken, damage: 1, health: 1/4 -> 0/4
[00:27:48] [ENEMY] [Enemy2] ImpactEffectsManager found, calling spawn_blood_effect
[00:27:48] [INFO] [ImpactEffects] spawn_blood_effect called at (400, 550), dir=(-0.654936, -0.755685), lethal=true
[00:27:48] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[00:27:48] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[00:27:48] [INFO] [ImpactEffects] Blood effect spawned at (400, 550) (scale=1.5)
[00:27:48] [ENEMY] [Enemy2] Enemy died (ricochet: false, penetration: false)
[00:27:48] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[00:27:48] [INFO] [PowerFantasy] Enemy killed - skipping 300ms effect (LastChance time-freeze already active)
[00:27:48] [ENEMY] [Enemy3] [AllyDeath] Witnessed at (400, 550), entering SEARCHING
[00:27:48] [ENEMY] [Enemy3] SEARCHING started: center=(400, 550), radius=100, waypoints=5
[00:27:48] [ENEMY] [Enemy2] [AllyDeath] Notified 2 enemies
[00:27:48] [INFO] [SoundPropagation] Unregistered listener: Enemy2 (remaining: 9)
[00:27:48] [INFO] [DeathAnim] Started - Angle: -130.9 deg, Index: 3
[00:27:48] [ENEMY] [Enemy2] Death animation started with hit direction: (-0.654936, -0.755685)
[00:27:48] [INFO] [DefensiveGrenade] Applied 99 HE damage to enemy at distance 233.4
[00:27:48] [ENEMY] [Enemy3] Hit taken, damage: 1, health: 4/4 -> 3/4
[00:27:48] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[00:27:48] [INFO] [ImpactEffects] spawn_blood_effect called at (762.627, 692.0371), dir=(0.986895, -0.161367), lethal=false
[00:27:48] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[00:27:48] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[00:27:48] [INFO] [ImpactEffects] Blood effect spawned at (762.627, 692.0371) (scale=1)
[00:27:48] [ENEMY] [Enemy3] Hit taken, damage: 1, health: 3/4 -> 2/4
[00:27:48] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[00:27:48] [INFO] [ImpactEffects] spawn_blood_effect called at (762.627, 692.0371), dir=(0.986895, -0.161367), lethal=false
[00:27:48] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[00:27:48] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[00:27:48] [INFO] [ImpactEffects] Blood effect spawned at (762.627, 692.0371) (scale=1)
[00:27:48] [ENEMY] [Enemy3] Hit taken, damage: 1, health: 2/4 -> 1/4
[00:27:48] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[00:27:48] [INFO] [ImpactEffects] spawn_blood_effect called at (762.627, 692.0371), dir=(0.986895, -0.161367), lethal=false
[00:27:48] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[00:27:48] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[00:27:48] [INFO] [ImpactEffects] Blood effect spawned at (762.627, 692.0371) (scale=1)
[00:27:48] [ENEMY] [Enemy3] Hit taken, damage: 1, health: 1/4 -> 0/4
[00:27:48] [ENEMY] [Enemy3] ImpactEffectsManager found, calling spawn_blood_effect
[00:27:48] [INFO] [ImpactEffects] spawn_blood_effect called at (762.627, 692.0371), dir=(0.986895, -0.161367), lethal=true
[00:27:48] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[00:27:48] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[00:27:48] [INFO] [ImpactEffects] Blood effect spawned at (762.627, 692.0371) (scale=1.5)
[00:27:48] [ENEMY] [Enemy3] Enemy died (ricochet: false, penetration: false)
[00:27:48] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[00:27:48] [INFO] [PowerFantasy] Enemy killed - skipping 300ms effect (LastChance time-freeze already active)
[00:27:48] [ENEMY] [Enemy4] [AllyDeath] Witnessed at (762.627, 692.0371), entering SEARCHING
[00:27:48] [ENEMY] [Enemy4] SEARCHING started: center=(762.627, 692.0371), radius=100, waypoints=5
[00:27:48] [ENEMY] [Enemy3] [AllyDeath] Notified 1 enemies
[00:27:48] [INFO] [SoundPropagation] Unregistered listener: Enemy3 (remaining: 8)
[00:27:48] [INFO] [DeathAnim] Started - Angle: -9.3 deg, Index: 11
[00:27:48] [ENEMY] [Enemy3] Death animation started with hit direction: (0.986895, -0.161367)
[00:27:48] [INFO] [DefensiveGrenade] Applied 99 HE damage to enemy at distance 212.6
[00:27:48] [INFO] [LastChance] Freezing newly created shrapnel: Shrapnel
[00:27:48] [INFO] [LastChance] Registered frozen shrapnel: Shrapnel
[00:27:48] [INFO] [DefensiveGrenade] Spawned shrapnel #1 at angle -1.6 degrees
[00:27:48] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@885
[00:27:48] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@885
[00:27:48] [INFO] [DefensiveGrenade] Spawned shrapnel #2 at angle 13.3 degrees
[00:27:48] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@886
[00:27:48] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@886
[00:27:48] [INFO] [DefensiveGrenade] Spawned shrapnel #3 at angle 21.5 degrees
[00:27:48] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@887
[00:27:48] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@887
[00:27:48] [INFO] [DefensiveGrenade] Spawned shrapnel #4 at angle 36.9 degrees
[00:27:48] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@888
[00:27:48] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@888
[00:27:48] [INFO] [DefensiveGrenade] Spawned shrapnel #5 at angle 45.9 degrees
[00:27:48] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@889
[00:27:48] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@889
[00:27:48] [INFO] [DefensiveGrenade] Spawned shrapnel #6 at angle 35.5 degrees
[00:27:48] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@890
[00:27:48] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@890
[00:27:48] [INFO] [DefensiveGrenade] Spawned shrapnel #7 at angle 49.0 degrees
[00:27:48] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@891
[00:27:48] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@891
[00:27:48] [INFO] [DefensiveGrenade] Spawned shrapnel #8 at angle 74.6 degrees
[00:27:48] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@892
[00:27:48] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@892
[00:27:48] [INFO] [DefensiveGrenade] Spawned shrapnel #9 at angle 70.4 degrees
[00:27:48] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@893
[00:27:48] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@893
[00:27:48] [INFO] [DefensiveGrenade] Spawned shrapnel #10 at angle 93.2 degrees
[00:27:48] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@894
[00:27:48] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@894
[00:27:48] [INFO] [DefensiveGrenade] Spawned shrapnel #11 at angle 83.4 degrees
[00:27:48] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@895
[00:27:48] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@895
[00:27:48] [INFO] [DefensiveGrenade] Spawned shrapnel #12 at angle 92.2 degrees
[00:27:48] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@896
[00:27:48] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@896
[00:27:48] [INFO] [DefensiveGrenade] Spawned shrapnel #13 at angle 112.6 degrees
[00:27:48] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@897
[00:27:48] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@897
[00:27:48] [INFO] [DefensiveGrenade] Spawned shrapnel #14 at angle 111.5 degrees
[00:27:48] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@898
[00:27:48] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@898
[00:27:48] [INFO] [DefensiveGrenade] Spawned shrapnel #15 at angle 123.6 degrees
[00:27:48] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@899
[00:27:48] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@899
[00:27:48] [INFO] [DefensiveGrenade] Spawned shrapnel #16 at angle 139.4 degrees
[00:27:48] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@900
[00:27:48] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@900
[00:27:48] [INFO] [DefensiveGrenade] Spawned shrapnel #17 at angle 142.1 degrees
[00:27:48] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@901
[00:27:48] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@901
[00:27:48] [INFO] [DefensiveGrenade] Spawned shrapnel #18 at angle 160.5 degrees
[00:27:48] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@902
[00:27:48] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@902
[00:27:48] [INFO] [DefensiveGrenade] Spawned shrapnel #19 at angle 172.0 degrees
[00:27:48] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@903
[00:27:48] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@903
[00:27:48] [INFO] [DefensiveGrenade] Spawned shrapnel #20 at angle 175.1 degrees
[00:27:48] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@904
[00:27:48] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@904
[00:27:48] [INFO] [DefensiveGrenade] Spawned shrapnel #21 at angle 168.6 degrees
[00:27:48] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@905
[00:27:48] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@905
[00:27:48] [INFO] [DefensiveGrenade] Spawned shrapnel #22 at angle 194.2 degrees
[00:27:48] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@906
[00:27:48] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@906
[00:27:48] [INFO] [DefensiveGrenade] Spawned shrapnel #23 at angle 208.8 degrees
[00:27:48] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@907
[00:27:48] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@907
[00:27:48] [INFO] [DefensiveGrenade] Spawned shrapnel #24 at angle 206.6 degrees
[00:27:48] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@908
[00:27:48] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@908
[00:27:48] [INFO] [DefensiveGrenade] Spawned shrapnel #25 at angle 228.2 degrees
[00:27:48] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@909
[00:27:48] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@909
[00:27:48] [INFO] [DefensiveGrenade] Spawned shrapnel #26 at angle 234.5 degrees
[00:27:48] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@910
[00:27:48] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@910
[00:27:48] [INFO] [DefensiveGrenade] Spawned shrapnel #27 at angle 230.8 degrees
[00:27:48] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@911
[00:27:48] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@911
[00:27:48] [INFO] [DefensiveGrenade] Spawned shrapnel #28 at angle 246.5 degrees
[00:27:48] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@912
[00:27:48] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@912
[00:27:48] [INFO] [DefensiveGrenade] Spawned shrapnel #29 at angle 258.0 degrees
[00:27:48] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@913
[00:27:48] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@913
[00:27:48] [INFO] [DefensiveGrenade] Spawned shrapnel #30 at angle 264.0 degrees
[00:27:48] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@914
[00:27:48] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@914
[00:27:48] [INFO] [DefensiveGrenade] Spawned shrapnel #31 at angle 283.4 degrees
[00:27:48] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@915
[00:27:48] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@915
[00:27:48] [INFO] [DefensiveGrenade] Spawned shrapnel #32 at angle 280.8 degrees
[00:27:48] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@916
[00:27:48] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@916
[00:27:48] [INFO] [DefensiveGrenade] Spawned shrapnel #33 at angle 295.8 degrees
[00:27:48] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@917
[00:27:48] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@917
[00:27:48] [INFO] [DefensiveGrenade] Spawned shrapnel #34 at angle 295.8 degrees
[00:27:48] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@918
[00:27:48] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@918
[00:27:48] [INFO] [DefensiveGrenade] Spawned shrapnel #35 at angle 298.7 degrees
[00:27:48] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@919
[00:27:48] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@919
[00:27:48] [INFO] [DefensiveGrenade] Spawned shrapnel #36 at angle 313.1 degrees
[00:27:48] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@920
[00:27:48] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@920
[00:27:48] [INFO] [DefensiveGrenade] Spawned shrapnel #37 at angle 334.7 degrees
[00:27:48] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@921
[00:27:48] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@921
[00:27:48] [INFO] [DefensiveGrenade] Spawned shrapnel #38 at angle 339.0 degrees
[00:27:48] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@922
[00:27:48] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@922
[00:27:48] [INFO] [DefensiveGrenade] Spawned shrapnel #39 at angle 339.2 degrees
[00:27:48] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@923
[00:27:48] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@923
[00:27:48] [INFO] [DefensiveGrenade] Spawned shrapnel #40 at angle 358.1 degrees
[00:27:48] [INFO] [ImpactEffects] Spawning explosion visual effect at (552.8307, 726.3408) (radius=700) - using shadow-based wall occlusion
[00:27:48] [INFO] [LastChance] Freezing newly created explosion effect: @PointLight2D@924
[00:27:48] [INFO] [LastChance] Registered frozen explosion effect: @PointLight2D@924
[00:27:48] [INFO] [BloodDecal] Blood puddle created at (359.6872, 495.2559) (added to group)
[00:27:48] [INFO] [BloodDecal] Blood puddle created at (805.9666, 711.0709) (added to group)
[00:27:48] [INFO] [BloodDecal] Blood puddle created at (832.0922, 691.9515) (added to group)
[00:27:48] [INFO] [BloodDecal] Blood puddle created at (840.7413, 670.6924) (added to group)
[00:27:48] [INFO] [BloodDecal] Blood puddle created at (845.8516, 703.2079) (added to group)
[00:27:48] [INFO] [BloodDecal] Blood puddle created at (822.0848, 679.5653) (added to group)
[00:27:48] [INFO] [BloodDecal] Blood puddle created at (360.0186, 535.9241) (added to group)
[00:27:48] [INFO] [BloodDecal] Blood puddle created at (342.6136, 532.5041) (added to group)
[00:27:48] [INFO] [BloodDecal] Blood puddle created at (839.4633, 726.0203) (added to group)
[00:27:48] [INFO] [BloodDecal] Blood puddle created at (798.2394, 683.288) (added to group)
[00:27:48] [INFO] [BloodDecal] Blood puddle created at (813.3325, 708.6586) (added to group)
[00:27:48] [INFO] [BloodDecal] Blood puddle created at (332.4343, 536.3398) (added to group)
[00:27:48] [INFO] [BloodDecal] Blood puddle created at (819.3963, 683.9355) (added to group)
[00:27:48] [INFO] [BloodDecal] Blood puddle created at (325.1932, 509.5853) (added to group)
[00:27:48] [INFO] [BloodDecal] Blood puddle created at (354.4027, 531.6634) (added to group)
[00:27:48] [INFO] [BloodDecal] Blood puddle created at (348.3395, 516.0126) (added to group)
[00:27:48] [INFO] [BloodDecal] Blood puddle created at (371.3666, 504.3874) (added to group)
[00:27:48] [INFO] [BloodDecal] Blood puddle created at (812.0839, 712.0499) (added to group)
[00:27:48] [INFO] [BloodDecal] Blood puddle created at (363.2473, 538.0662) (added to group)
[00:27:48] [INFO] [BloodDecal] Blood puddle created at (321.2074, 529.3687) (added to group)
[00:27:48] [INFO] [BloodDecal] Blood puddle created at (363.2525, 532.1325) (added to group)
[00:27:48] [INFO] [BloodDecal] Blood puddle created at (868.1859, 693.4992) (added to group)
[00:27:48] [INFO] [BloodDecal] Blood puddle created at (884.8419, 746.854) (added to group)
[00:27:48] [INFO] [BloodDecal] Blood puddle created at (864.9634, 739.6989) (added to group)
[00:27:48] [INFO] [BloodDecal] Blood puddle created at (863.7386, 689.0988) (added to group)
[00:27:48] [INFO] [BloodDecal] Blood puddle created at (363.1717, 508.3668) (added to group)
[00:27:48] [INFO] [BloodDecal] Blood puddle created at (821.8657, 705.7518) (added to group)
[00:27:48] [INFO] [BloodDecal] Blood puddle created at (897.9897, 713.0579) (added to group)
[00:27:48] [INFO] [BloodDecal] Blood puddle created at (830.2916, 734.0762) (added to group)
[00:27:48] [INFO] [BloodDecal] Blood puddle created at (848.2051, 680.7444) (added to group)
[00:27:48] [INFO] [BloodDecal] Blood puddle created at (889.9563, 724.8398) (added to group)
[00:27:48] [INFO] [BloodDecal] Blood puddle created at (876.9489, 647.23) (added to group)
[00:27:48] [INFO] [BloodDecal] Blood puddle created at (329.3013, 543.9838) (added to group)
[00:27:48] [INFO] [BloodDecal] Blood puddle created at (328.5605, 518.0222) (added to group)
[00:27:48] [INFO] [BloodDecal] Blood puddle created at (368.7117, 486.3266) (added to group)
[00:27:48] [INFO] [BloodDecal] Blood puddle created at (357.535, 512.2294) (added to group)
[00:27:48] [INFO] [BloodDecal] Blood puddle created at (295.1714, 521.3531) (added to group)
[00:27:48] [INFO] [BloodDecal] Blood puddle created at (346.0303, 549.8253) (added to group)
[00:27:48] [INFO] [BloodDecal] Blood puddle created at (885.092, 774.6403) (added to group)
[00:27:48] [INFO] [BloodDecal] Blood puddle created at (885.864, 655.6559) (added to group)
[00:27:48] [INFO] [BloodDecal] Blood puddle created at (866.1335, 668.7549) (added to group)
[00:27:48] [INFO] [BloodDecal] Blood puddle created at (332.4326, 505.1038) (added to group)
[00:27:48] [INFO] [BloodDecal] Blood puddle created at (312.7048, 485.2791) (added to group)
[00:27:48] [INFO] [BloodDecal] Blood puddle created at (882.9698, 774.2387) (added to group)
[00:27:48] [INFO] [BloodDecal] Blood puddle created at (861.4679, 703.824) (added to group)
[00:27:49] [INFO] [BloodDecal] Blood puddle created at (327.0873, 557.5692) (added to group)
[00:27:49] [INFO] [BloodDecal] Blood puddle created at (847.5438, 731.9077) (added to group)
[00:27:49] [INFO] [BloodDecal] Blood puddle created at (864.4375, 781.6982) (added to group)
[00:27:49] [INFO] [BloodDecal] Blood puddle created at (885.3037, 769.9492) (added to group)
[00:27:49] [INFO] [BloodDecal] Blood puddle created at (343.3308, 538.6154) (added to group)
[00:27:49] [INFO] [BloodDecal] Blood puddle created at (891.7441, 705.285) (added to group)
[00:27:49] [INFO] [BloodDecal] Blood puddle created at (886.7791, 789.9909) (added to group)
[00:27:49] [INFO] [BloodDecal] Blood puddle created at (857.0526, 781.0104) (added to group)
[00:27:49] [INFO] [BloodDecal] Blood puddle created at (320.9175, 570.6392) (added to group)
[00:27:49] [INFO] [BloodDecal] Blood puddle created at (854.0111, 692.2219) (added to group)
[00:27:49] [INFO] [ReplayManager] Recording frame 420 (7,0s): player_valid=True, enemies=10
[00:27:49] [INFO] [BloodDecal] Blood puddle created at (328.6331, 555.8349) (added to group)
[00:27:49] [INFO] [BloodDecal] Blood puddle created at (262.8482, 486.9083) (added to group)
[00:27:49] [INFO] [BloodDecal] Blood puddle created at (337.0238, 551.5734) (added to group)
[00:27:49] [INFO] [BloodDecal] Blood puddle created at (281.597, 500.6653) (added to group)
[00:27:49] [INFO] [BloodDecal] Blood puddle created at (339.9537, 525.4892) (added to group)
[00:27:49] [INFO] [BloodDecal] Blood puddle created at (252.5984, 501.1295) (added to group)
[00:27:49] [INFO] [BloodDecal] Blood puddle created at (248.6135, 512.0357) (added to group)
[00:27:49] [INFO] [BloodDecal] Blood puddle created at (350.8372, 517.584) (added to group)
[00:27:49] [INFO] [BloodDecal] Blood puddle created at (893.0092, 739.1733) (added to group)
[00:27:49] [INFO] [BloodDecal] Blood puddle created at (362.4219, 493.4466) (added to group)
[00:27:49] [INFO] [BloodDecal] Blood puddle created at (869.9492, 753.7271) (added to group)
[00:27:49] [INFO] [BloodDecal] Blood puddle created at (274.4816, 535.1573) (added to group)
[00:27:49] [INFO] [BloodDecal] Blood puddle created at (337.2248, 536.2385) (added to group)
[00:27:49] [INFO] [BloodDecal] Blood puddle created at (352.6394, 553.3846) (added to group)
[00:27:49] [INFO] [BloodDecal] Blood puddle created at (243.5202, 507.9407) (added to group)
[00:27:49] [INFO] [BloodDecal] Blood puddle created at (333.2038, 546.2159) (added to group)
[00:27:49] [INFO] [BloodDecal] Blood puddle created at (270.8088, 575.2253) (added to group)
[00:27:49] [INFO] [BloodDecal] Blood puddle created at (271.8101, 568.1199) (added to group)
[00:27:49] [INFO] [BloodDecal] Blood puddle created at (256.9788, 484.5919) (added to group)
[00:27:49] [INFO] [BloodDecal] Blood puddle created at (859.4656, 799.224) (added to group)
[00:27:49] [INFO] [BloodDecal] Blood puddle created at (290.0172, 492.9165) (added to group)
[00:27:49] [INFO] [BloodDecal] Blood puddle created at (867.5496, 796.3583) (added to group)
[00:27:49] [INFO] [BloodDecal] Blood puddle created at (908.4725, 716.3765) (added to group)
[00:27:49] [INFO] [BloodDecal] Blood puddle created at (312.3022, 596.4401) (added to group)
[00:27:49] [INFO] [BloodDecal] Blood puddle created at (266.1752, 530.3707) (added to group)
[00:27:49] [INFO] [BloodDecal] Blood puddle created at (304.1493, 515.4542) (added to group)
[00:27:49] [INFO] [BloodDecal] Blood puddle created at (268.7662, 474.1467) (added to group)
[00:27:49] [INFO] [BloodDecal] Blood puddle created at (193.6645, 567.7318) (added to group)
[00:27:49] [INFO] [BloodDecal] Blood puddle created at (865.9956, 826.7642) (added to group)
[00:27:49] [INFO] [BloodDecal] Blood puddle created at (342.0193, 471.3377) (added to group)
[00:27:49] [INFO] [BloodDecal] Blood puddle created at (342.6106, 521.0672) (added to group)
[00:27:49] [INFO] [BloodDecal] Blood puddle created at (879.8167, 744.1615) (added to group)
[00:27:49] [INFO] [BloodDecal] Blood puddle created at (879.5007, 775.2574) (added to group)
[00:27:49] [INFO] [BloodDecal] Blood puddle created at (284.7768, 501.7193) (added to group)
[00:27:49] [INFO] [BloodDecal] Blood puddle created at (853.944, 746.3322) (added to group)
[00:27:50] [INFO] [ReplayManager] Recording frame 480 (8,0s): player_valid=True, enemies=10
[00:27:50] [INFO] [LastChance] Effect duration expired after 2.00 real seconds
[00:27:50] [INFO] [LastChance] Ending last chance effect
[00:27:50] [ENEMY] [Enemy1] Memory reset: confusion=2.0s, had_target=false
[00:27:50] [ENEMY] [Enemy4] Memory reset: confusion=2.0s, had_target=true
[00:27:50] [ENEMY] [Enemy4] Search mode: SEARCHING -> SEARCHING at (565.248, 724.3104)
[00:27:50] [ENEMY] [Enemy4] SEARCHING started: center=(565.248, 724.3104), radius=100, waypoints=5
[00:27:50] [ENEMY] [Enemy5] Memory reset: confusion=2.0s, had_target=false
[00:27:50] [ENEMY] [Enemy6] Memory reset: confusion=2.0s, had_target=false
[00:27:50] [ENEMY] [Enemy7] Memory reset: confusion=2.0s, had_target=false
[00:27:50] [ENEMY] [Enemy8] Memory reset: confusion=2.0s, had_target=false
[00:27:50] [ENEMY] [Enemy9] Memory reset: confusion=2.0s, had_target=false
[00:27:50] [ENEMY] [Enemy10] Memory reset: confusion=2.0s, had_target=false
[00:27:50] [INFO] [LastChance] Reset memory for 8 enemies (player teleport effect)
[00:27:50] [INFO] [LastChance] All process modes restored
[00:27:50] [INFO] [LastChance] Unfroze shrapnel: Shrapnel
[00:27:50] [INFO] [LastChance] Unfroze shrapnel: @Area2D@885
[00:27:50] [INFO] [LastChance] Unfroze shrapnel: @Area2D@886
[00:27:50] [INFO] [LastChance] Unfroze shrapnel: @Area2D@887
[00:27:50] [INFO] [LastChance] Unfroze shrapnel: @Area2D@888
[00:27:50] [INFO] [LastChance] Unfroze shrapnel: @Area2D@889
[00:27:50] [INFO] [LastChance] Unfroze shrapnel: @Area2D@890
[00:27:50] [INFO] [LastChance] Unfroze shrapnel: @Area2D@891
[00:27:50] [INFO] [LastChance] Unfroze shrapnel: @Area2D@892
[00:27:50] [INFO] [LastChance] Unfroze shrapnel: @Area2D@893
[00:27:50] [INFO] [LastChance] Unfroze shrapnel: @Area2D@894
[00:27:50] [INFO] [LastChance] Unfroze shrapnel: @Area2D@895
[00:27:50] [INFO] [LastChance] Unfroze shrapnel: @Area2D@896
[00:27:50] [INFO] [LastChance] Unfroze shrapnel: @Area2D@897
[00:27:50] [INFO] [LastChance] Unfroze shrapnel: @Area2D@898
[00:27:50] [INFO] [LastChance] Unfroze shrapnel: @Area2D@899
[00:27:50] [INFO] [LastChance] Unfroze shrapnel: @Area2D@900
[00:27:50] [INFO] [LastChance] Unfroze shrapnel: @Area2D@901
[00:27:50] [INFO] [LastChance] Unfroze shrapnel: @Area2D@902
[00:27:50] [INFO] [LastChance] Unfroze shrapnel: @Area2D@903
[00:27:50] [INFO] [LastChance] Unfroze shrapnel: @Area2D@904
[00:27:50] [INFO] [LastChance] Unfroze shrapnel: @Area2D@905
[00:27:50] [INFO] [LastChance] Unfroze shrapnel: @Area2D@906
[00:27:50] [INFO] [LastChance] Unfroze shrapnel: @Area2D@907
[00:27:50] [INFO] [LastChance] Unfroze shrapnel: @Area2D@908
[00:27:50] [INFO] [LastChance] Unfroze shrapnel: @Area2D@909
[00:27:50] [INFO] [LastChance] Unfroze shrapnel: @Area2D@910
[00:27:50] [INFO] [LastChance] Unfroze shrapnel: @Area2D@911
[00:27:50] [INFO] [LastChance] Unfroze shrapnel: @Area2D@912
[00:27:50] [INFO] [LastChance] Unfroze shrapnel: @Area2D@913
[00:27:50] [INFO] [LastChance] Unfroze shrapnel: @Area2D@914
[00:27:50] [INFO] [LastChance] Unfroze shrapnel: @Area2D@915
[00:27:50] [INFO] [LastChance] Unfroze shrapnel: @Area2D@916
[00:27:50] [INFO] [LastChance] Unfroze shrapnel: @Area2D@917
[00:27:50] [INFO] [LastChance] Unfroze shrapnel: @Area2D@918
[00:27:50] [INFO] [LastChance] Unfroze shrapnel: @Area2D@919
[00:27:50] [INFO] [LastChance] Unfroze shrapnel: @Area2D@920
[00:27:50] [INFO] [LastChance] Unfroze shrapnel: @Area2D@921
[00:27:50] [INFO] [LastChance] Unfroze shrapnel: @Area2D@922
[00:27:50] [INFO] [LastChance] Unfroze shrapnel: @Area2D@923
[00:27:50] [INFO] [LastChance] Unfroze explosion effect: @PointLight2D@924
[00:27:50] [INFO] [LastChance] Starting visual effects fade-out over 400ms
[00:27:50] [ENEMY] [Enemy1] EVADING_GRENADE: Escaped to safe distance
[00:27:50] [ENEMY] [Enemy1] State: EVADING_GRENADE -> IDLE
[00:27:50] [ENEMY] [Enemy4] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=SEARCHING, target=73.0°, current=-67.5°, player=(956,1411), corner_timer=0.00
[00:27:50] [ENEMY] [Enemy4] SEARCHING corner check: angle 172.0°
[00:27:50] [ENEMY] [Enemy1] ROT_CHANGE: P4:velocity -> P5:idle_scan, state=IDLE, target=101.3°, current=-117.1°, player=(963,1419), corner_timer=0.00
[00:27:50] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[00:27:50] [ENEMY] [Enemy5] Hit taken, damage: 1, health: 3/3 -> 2/3
[00:27:50] [ENEMY] [Enemy5] ImpactEffectsManager found, calling spawn_blood_effect
[00:27:50] [INFO] [ImpactEffects] spawn_blood_effect called at (1700, 350), dir=(0.926114, 0.377243), lethal=false
[00:27:50] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[00:27:50] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[00:27:50] [INFO] [ImpactEffects] Blood effect spawned at (1700, 350) (scale=1)
[00:27:50] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.3°, current=89.4°, player=(982,1476), corner_timer=-0.02
[00:27:50] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[00:27:50] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.3°, player=(983,1480), corner_timer=0.30
[00:27:50] [ENEMY] [Enemy1] Player ammo empty: false -> true
[00:27:50] [ENEMY] [Enemy4] Player ammo empty: false -> true
[00:27:50] [ENEMY] [Enemy5] Player ammo empty: false -> true
[00:27:50] [ENEMY] [Enemy6] Player ammo empty: false -> true
[00:27:50] [ENEMY] [Enemy7] Player ammo empty: false -> true
[00:27:50] [ENEMY] [Enemy8] Player ammo empty: false -> true
[00:27:50] [ENEMY] [Enemy9] Player ammo empty: false -> true
[00:27:50] [ENEMY] [Enemy10] Player ammo empty: false -> true
[00:27:50] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(985.6641, 1489.898), source=PLAYER (Player), range=600, listeners=8
[00:27:50] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=7, self=0, below_threshold=0
[00:27:50] [INFO] [Shotgun.FIX#212] Firing 13 pellets with 15° spread at pos=(985.66406, 1489.8977)
[00:27:50] [INFO] [Shotgun.FIX#212] Normal pellet 1/13: extraOffset=13,9, distance=65,9px, pos=(1044.7117, 1519.1545)
[00:27:50] [INFO] [Shotgun.FIX#212] Normal pellet 2/13: extraOffset=1,2, distance=53,2px, pos=(1031.8188, 1516.4238)
[00:27:50] [INFO] [Shotgun.FIX#212] Normal pellet 3/13: extraOffset=-1,5, distance=50,5px, pos=(1029.1892, 1515.449)
[00:27:50] [INFO] [Shotgun.FIX#212] Normal pellet 4/13: extraOffset=-13,9, distance=38,1px, pos=(1018.6015, 1509.0856)
[00:27:50] [INFO] [Shotgun.FIX#212] Normal pellet 5/13: extraOffset=2,6, distance=54,6px, pos=(1031.3877, 1519.68)
[00:27:50] [INFO] [Shotgun.FIX#212] Normal pellet 6/13: extraOffset=12,0, distance=64,0px, pos=(1039.2257, 1524.9066)
[00:27:50] [INFO] [Shotgun.FIX#212] Normal pellet 7/13: extraOffset=-2,8, distance=49,2px, pos=(1026.0056, 1518.0339)
[00:27:50] [INFO] [Shotgun.FIX#212] Normal pellet 8/13: extraOffset=-4,8, distance=47,2px, pos=(1023.34015, 1518.2996)
[00:27:50] [INFO] [Shotgun.FIX#212] Normal pellet 9/13: extraOffset=2,0, distance=54,0px, pos=(1029.0687, 1521.9817)
[00:27:50] [INFO] [Shotgun.FIX#212] Normal pellet 10/13: extraOffset=-13,9, distance=38,1px, pos=(1015.3593, 1513.7249)
[00:27:50] [INFO] [Shotgun.FIX#212] Normal pellet 11/13: extraOffset=-3,8, distance=48,2px, pos=(1021.73773, 1521.7985)
[00:27:50] [INFO] [Shotgun.FIX#212] Normal pellet 12/13: extraOffset=-10,4, distance=41,6px, pos=(1016.6661, 1517.5698)
[00:27:50] [INFO] [Shotgun.FIX#212] Normal pellet 13/13: extraOffset=-7,4, distance=44,6px, pos=(1017.7236, 1520.9551)
[00:27:50] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(985.6641, 1489.898), source=PLAYER (Shotgun), range=1469, listeners=8
[00:27:50] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=7
[00:27:50] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1468), can_see=false
[00:27:50] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=720), can_see=false
[00:27:50] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1345), can_see=false
[00:27:50] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1418), can_see=false
[00:27:50] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=861), can_see=false
[00:27:50] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=915), can_see=false
[00:27:50] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1116), can_see=false
[00:27:50] [ENEMY] [Enemy10] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=206), can_see=false
[00:27:50] [ENEMY] [Enemy4] SEARCHING corner check: angle 172.0°
[00:27:50] [INFO] [LastChance] Visual effects fade-out complete
[00:27:50] [INFO] [LastChance] Restored original colors to 5 player sprites
[00:27:50] [INFO] [LastChance] Called player RefreshHealthVisual (C#)
[00:27:50] [ENEMY] [Enemy10] Hit taken, damage: 1, health: 2/2 -> 1/2
[00:27:50] [ENEMY] [Enemy10] ImpactEffectsManager found, calling spawn_blood_effect
[00:27:50] [INFO] [ImpactEffects] spawn_blood_effect called at (1159.099, 1601.934), dir=(1, 0), lethal=false
[00:27:50] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[00:27:50] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[00:27:50] [INFO] [ImpactEffects] Blood effect spawned at (1159.099, 1601.934) (scale=1)
[00:27:50] [ENEMY] [Enemy10] Hit taken, damage: 1, health: 1/2 -> 0/2
[00:27:50] [ENEMY] [Enemy10] ImpactEffectsManager found, calling spawn_blood_effect
[00:27:50] [INFO] [ImpactEffects] spawn_blood_effect called at (1159.099, 1601.934), dir=(1, 0), lethal=true
[00:27:50] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[00:27:50] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[00:27:50] [INFO] [ImpactEffects] Blood effect spawned at (1159.099, 1601.934) (scale=1.5)
[00:27:50] [ENEMY] [Enemy10] Enemy died (ricochet: false, penetration: false)
[00:27:50] [INFO] [ScoreManager] Kill registered. Combo: 3 (points: 3000)
[00:27:50] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[00:27:50] [INFO] [PowerFantasy] Starting power fantasy effect:
[00:27:50] [INFO] [PowerFantasy]   - Time scale: 0.10
[00:27:50] [INFO] [PowerFantasy]   - Duration: 300ms
[00:27:50] [INFO] [SoundPropagation] Unregistered listener: Enemy10 (remaining: 7)
[00:27:50] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[00:27:50] [ENEMY] [Enemy10] Death animation started with hit direction: (1, 0)
[00:27:51] [INFO] [ReplayManager] Recording frame 540 (8,9s): player_valid=True, enemies=10
[00:27:51] [INFO] [PowerFantasy] Effect duration expired after 319.00 ms
[00:27:51] [INFO] [PowerFantasy] Ending power fantasy effect
[00:27:51] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[00:27:51] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=NeedsPumpUp, ReloadState=NotReloading
[00:27:51] [INFO] [Shotgun.FIX#445] dragStartPos=(1328, 1447), aimDir=(0,99, -0,17)
[00:27:51] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[00:27:51] [INFO] [Shotgun.FIX#445v7] Mid-drag pump UP - shell ejected, continue dragging DOWN to chamber
[00:27:51] [INFO] [BloodDecal] Blood puddle created at (1735.568, 383.6749) (added to group)
[00:27:51] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1495), can_see=false
[00:27:51] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=785), can_see=false
[00:27:51] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1342), can_see=false
[00:27:51] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1409), can_see=false
[00:27:51] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=850), can_see=false
[00:27:51] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=887), can_see=false
[00:27:51] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1087), can_see=false
[00:27:51] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[00:27:51] [INFO] [BloodDecal] Blood puddle created at (1736.382, 391.8073) (added to group)
[00:27:51] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.4°, current=89.4°, player=(1017,1503), corner_timer=-0.00
[00:27:51] [ENEMY] [Enemy7] PATROL corner check: angle 89.2°
[00:27:51] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.2°, current=92.3°, player=(1021,1502), corner_timer=0.30
[00:27:51] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[00:27:51] [INFO] [BloodDecal] Blood puddle created at (1744.474, 401.981) (added to group)
[00:27:51] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[00:27:51] [INFO] [BloodDecal] Blood puddle created at (1812.429, 432.1977) (added to group)
[00:27:51] [INFO] [BloodDecal] Blood puddle created at (1802.034, 436.9599) (added to group)
[00:27:51] [INFO] [Shotgun.FIX#445v7] Mid-drag pump DOWN - chambered, ready to fire
[00:27:51] [INFO] [BloodDecal] Blood puddle created at (1790.359, 434.801) (added to group)
[00:27:51] [INFO] [BloodDecal] Blood puddle created at (1208.394, 1625.728) (added to group)
[00:27:51] [INFO] [BloodDecal] Blood puddle created at (1202.269, 1622.905) (added to group)
[00:27:51] [ENEMY] [Enemy4] SEARCHING corner check: angle 106.2°
[00:27:51] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[00:27:51] [INFO] [BloodDecal] Blood puddle created at (1815.564, 447.8547) (added to group)
[00:27:51] [INFO] [BloodDecal] Blood puddle created at (1236.316, 1622.624) (added to group)
[00:27:51] [INFO] [BloodDecal] Blood puddle created at (1254.479, 1614.072) (added to group)
[00:27:51] [INFO] [BloodDecal] Blood puddle created at (1216.926, 1620.248) (added to group)
[00:27:51] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[00:27:51] [INFO] [BloodDecal] Blood puddle created at (1235.426, 1595.22) (added to group)
[00:27:51] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[00:27:51] [INFO] [BloodDecal] Blood puddle created at (1282.599, 1619.331) (added to group)
[00:27:51] [INFO] [BloodDecal] Blood puddle created at (1238.758, 1617.912) (added to group)
[00:27:51] [INFO] [BloodDecal] Blood puddle created at (1799.167, 527.7944) (added to group)
[00:27:51] [ENEMY] [Enemy10] Ragdoll activated
[00:27:51] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[00:27:51] [INFO] [BloodDecal] Blood puddle created at (1771.294, 513.9333) (added to group)
[00:27:51] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.7°, current=89.2°, player=(1094,1443), corner_timer=-0.02
[00:27:51] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[00:27:51] [INFO] [BloodDecal] Blood puddle created at (1850.02, 471.6067) (added to group)
[00:27:51] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=92.0°, player=(1098,1439), corner_timer=0.30
[00:27:51] [INFO] [Shotgun.FIX#243] RMB released after 7 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[00:27:51] [INFO] [Shotgun.FIX#445v7] ProcessDragGesture - dragVector=(24,6, 250,1), length=251,3, ActionState=Ready
[00:27:51] [INFO] [Shotgun.FIX#445v7] Screen-based pump gesture: isDragUp=False, isDragDown=True
[00:27:51] [INFO] [BloodDecal] Blood puddle created at (1288.989, 1612.709) (added to group)
[00:27:51] [ENEMY] [Enemy4] SEARCHING corner check: angle 106.2°
[00:27:51] [INFO] [BloodDecal] Blood puddle created at (1334.59, 1638.114) (added to group)
[00:27:51] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1499), can_see=false
[00:27:51] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=885), can_see=false
[00:27:51] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1206), can_see=false
[00:27:51] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1263), can_see=false
[00:27:51] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=702), can_see=false
[00:27:51] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=764), can_see=false
[00:27:51] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=972), can_see=false
[00:27:51] [INFO] [BloodDecal] Blood puddle created at (1375.833, 1618.987) (added to group)
[00:27:51] [INFO] [BloodDecal] Blood puddle created at (1383.594, 1621.039) (added to group)
[00:27:52] [INFO] [ReplayManager] Recording frame 600 (9,7s): player_valid=True, enemies=10
[00:27:52] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=176.9°, current=89.3°, player=(1191,1416), corner_timer=-0.02
[00:27:52] [ENEMY] [Enemy7] PATROL corner check: angle 89.3°
[00:27:52] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.3°, current=92.1°, player=(1197,1416), corner_timer=0.30
[00:27:52] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.0°, current=89.3°, player=(1301,1416), corner_timer=-0.02
[00:27:52] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[00:27:52] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1613), can_see=false
[00:27:52] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1057), can_see=false
[00:27:52] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1136), can_see=false
[00:27:52] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1160), can_see=false
[00:27:52] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.2°, player=(1307,1416), corner_timer=0.30
[00:27:52] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=600), can_see=false
[00:27:52] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=594), can_see=false
[00:27:52] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=804), can_see=false
[00:27:52] [ENEMY] [Enemy10] Death animation completed
[00:27:52] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.1°, current=89.4°, player=(1400,1416), corner_timer=-0.02
[00:27:52] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[00:27:52] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.2°, player=(1404,1416), corner_timer=0.30
[00:27:52] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1706), can_see=false
[00:27:52] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1168), can_see=false
[00:27:52] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1080), can_see=false
[00:27:52] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1074), can_see=false
[00:27:52] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=528), can_see=false
[00:27:52] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=452), can_see=false
[00:27:52] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=667), can_see=false
[00:27:53] [ENEMY] [Enemy6] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=117.2°, current=101.3°, player=(1473,1378), corner_timer=0.00
[00:27:53] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) - pursuing to attack (dist=1044)
[00:27:53] [ENEMY] [Enemy6] State: IDLE -> RETREATING
[00:27:53] [INFO] [ReplayManager] Recording frame 660 (10,7s): player_valid=True, enemies=10
[00:27:53] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=177.1°, current=89.4°, player=(1481,1370), corner_timer=-0.02
[00:27:53] [ENEMY] [Enemy7] PATROL corner check: angle 89.4°
[00:27:53] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.4°, current=92.2°, player=(1485,1366), corner_timer=0.30
[00:27:53] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P1:visible, state=IDLE, target=104.4°, current=89.4°, player=(1493,1359), corner_timer=0.27
[00:27:53] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) - pursuing to attack (dist=475)
[00:27:53] [ENEMY] [Enemy7] State: IDLE -> RETREATING
[00:27:53] [ENEMY] [Enemy7] Player empty ammo - priority attack triggered
[00:27:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1611.553, 899.2764), source=ENEMY (Enemy7), range=1469, listeners=7
[00:27:53] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=5
[00:27:53] [ENEMY] [Enemy5] Memory: high confidence (0.90) - transitioning to PURSUING
[00:27:53] [ENEMY] [Enemy5] State: IDLE -> PURSUING
[00:27:53] [ENEMY] [Enemy5] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=98.1°, current=56.2°, player=(1566,1285), corner_timer=0.00
[00:27:53] [ENEMY] [Enemy5] State: PURSUING -> RETREATING
[00:27:53] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1725), can_see=false
[00:27:53] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1175), can_see=false
[00:27:53] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=940), can_see=false
[00:27:53] [ENEMY] [Enemy5] State: RETREATING -> IN_COVER
[00:27:53] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=914), can_see=true
[00:27:53] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=370), can_see=false
[00:27:53] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=593), can_see=false
[00:27:53] [ENEMY] [Enemy5] State: IN_COVER -> SUPPRESSED
[00:27:53] [INFO] [LastChance] Threat detected: Bullet
[00:27:53] [INFO] [LastChance] Not in hard mode - effect disabled
[00:27:53] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:27:53] [ENEMY] [Enemy7] Player empty ammo - priority attack triggered
[00:27:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1606.413, 879.6835), source=ENEMY (Enemy7), range=1469, listeners=7
[00:27:53] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=5
[00:27:53] [INFO] [Player] Hit blocked by invincibility mode (C#)
[00:27:53] [INFO] [Player] Spawning blood effect at (1590.2396, 1261.9193), dir=(1, 0), lethal=False (C#)
[00:27:53] [INFO] [ImpactEffects] spawn_blood_effect called at (1590.24, 1261.919), dir=(1, 0), lethal=false
[00:27:53] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[00:27:53] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[00:27:53] [INFO] [ImpactEffects] Blood effect spawned at (1590.24, 1261.919) (scale=1)
[00:27:53] [INFO] [LastChance] Threat detected: @Area2D@1309
[00:27:53] [INFO] [LastChance] Not in hard mode - effect disabled
[00:27:53] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:27:53] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[00:27:53] [ENEMY] [Enemy5] State: SUPPRESSED -> IN_COVER
[00:27:53] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[00:27:53] [ENEMY] [Enemy5] State: IN_COVER -> PURSUING
[00:27:53] [ENEMY] [Enemy7] Player empty ammo - priority attack triggered
[00:27:53] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1589.686, 859.6046), source=ENEMY (Enemy7), range=1469, listeners=7
[00:27:53] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=5
[00:27:53] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1585.3462, 927.5146), shooter_id=144116287903, bullet_pos=(1585.3462, 927.5146)
[00:27:53] [INFO] [Bullet] Using shooter_position, distance=0
[00:27:53] [INFO] [Bullet] Distance to wall: 0 (0% of viewport)
[00:27:53] [INFO] [Bullet] Point-blank shot - 100% penetration, ignoring ricochet
[00:27:53] [INFO] [Bullet] Starting wall penetration at (1585.3462, 927.5146)
[00:27:53] [INFO] [Player] Hit blocked by invincibility mode (C#)
[00:27:53] [INFO] [Player] Spawning blood effect at (1610.9961, 1232.0172), dir=(1, 0), lethal=False (C#)
[00:27:53] [INFO] [ImpactEffects] spawn_blood_effect called at (1610.996, 1232.017), dir=(1, 0), lethal=false
[00:27:53] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[00:27:53] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[00:27:53] [INFO] [ImpactEffects] Blood effect spawned at (1610.996, 1232.017) (scale=1)
[00:27:53] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[00:27:53] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[00:27:53] [INFO] [Bullet] Exiting penetration at (1587.7278, 974.1204) after traveling 41,66667 pixels through wall
[00:27:53] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[00:27:53] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[00:27:53] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[00:27:53] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[00:27:53] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[00:27:53] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[00:27:53] [ENEMY] [Enemy7] ROT_CHANGE: P1:visible -> P3:corner, state=RETREATING, target=89.4°, current=84.1°, player=(1618,1210), corner_timer=0.27
[00:27:53] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=373), can_see=false
[00:27:53] [INFO] [EnemyGrenade] Unsafe throw distance (200 < 275 safe distance, blast=225, margin=50) - skipping throw
[00:27:53] [INFO] [BloodDecal] Blood puddle created at (1631.832, 1294.687) (added to group)
[00:27:53] [INFO] [BloodDecal] Blood puddle created at (1671.789, 1311.079) (added to group)
[00:27:53] [INFO] [BloodDecal] Blood puddle created at (1659.801, 1265.945) (added to group)
[00:27:53] [ENEMY] [Enemy7] State: RETREATING -> IN_COVER
[00:27:53] [ENEMY] [Enemy7] State: IN_COVER -> SUPPRESSED
[00:27:53] [INFO] [BloodDecal] Blood puddle created at (1687.146, 1216.434) (added to group)
[00:27:53] [INFO] [BloodDecal] Blood puddle created at (1683.731, 1217.711) (added to group)
[00:27:53] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1699), can_see=false
[00:27:53] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1130), can_see=false
[00:27:53] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=831), can_see=false
[00:27:53] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=802), can_see=true
[00:27:53] [ENEMY] [Enemy8] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=397), can_see=false
[00:27:53] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=615), can_see=false
[00:27:53] [INFO] [BloodDecal] Blood puddle created at (1723.255, 1304.784) (added to group)
[00:27:53] [INFO] [BloodDecal] Blood puddle created at (1686.645, 1259.744) (added to group)
[00:27:54] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(1602.595, 1173.179), source=PLAYER (Player), range=600, listeners=7
[00:27:54] [ENEMY] [Enemy7] Heard player EMPTY_CLICK at (1602.595, 1173.179), intensity=0.02, distance=351
[00:27:54] [ENEMY] [Enemy7] Vulnerability sound triggered pursuit - transitioning from SUPPRESSED to PURSUING
[00:27:54] [ENEMY] [Enemy8] Heard player EMPTY_CLICK at (1602.595, 1173.179), intensity=0.02, distance=406
[00:27:54] [ENEMY] [Enemy8] Vulnerability sound triggered pursuit - transitioning from IDLE to PURSUING
[00:27:54] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=5, self=0, below_threshold=0
[00:27:54] [INFO] [Shotgun.FIX#212] Firing 12 pellets with 15° spread at pos=(1602.5952, 1173.1788)
[00:27:54] [INFO] [Shotgun.FIX#212] Normal pellet 1/12: extraOffset=10,7, distance=62,7px, pos=(1658.4125, 1201.757)
[00:27:54] [INFO] [Shotgun.FIX#212] Normal pellet 2/12: extraOffset=2,9, distance=54,9px, pos=(1650.011, 1200.9071)
[00:27:54] [INFO] [Shotgun.FIX#212] Normal pellet 3/12: extraOffset=-11,4, distance=40,6px, pos=(1637.4329, 1194.0444)
[00:27:54] [INFO] [Shotgun.FIX#212] Normal pellet 4/12: extraOffset=-14,8, distance=37,2px, pos=(1634.4943, 1192.2404)
[00:27:54] [INFO] [Shotgun.FIX#212] Normal pellet 5/12: extraOffset=-12,3, distance=39,7px, pos=(1636.1333, 1194.332)
[00:27:54] [INFO] [Shotgun.FIX#212] Normal pellet 6/12: extraOffset=14,0, distance=66,0px, pos=(1656.7052, 1211.022)
[00:27:54] [INFO] [Shotgun.FIX#212] Normal pellet 7/12: extraOffset=1,2, distance=53,2px, pos=(1645.3118, 1204.9313)
[00:27:54] [INFO] [Shotgun.FIX#212] Normal pellet 8/12: extraOffset=-1,8, distance=50,2px, pos=(1642.5332, 1203.537)
[00:27:54] [INFO] [Shotgun.FIX#212] Normal pellet 9/12: extraOffset=-3,1, distance=48,9px, pos=(1639.9233, 1204.8042)
[00:27:54] [INFO] [Shotgun.FIX#212] Normal pellet 10/12: extraOffset=0,3, distance=52,3px, pos=(1642.0265, 1207.4742)
[00:27:54] [INFO] [Shotgun.FIX#212] Normal pellet 11/12: extraOffset=-3,0, distance=49,0px, pos=(1639.8802, 1204.9692)
[00:27:54] [INFO] [Shotgun.FIX#212] Normal pellet 12/12: extraOffset=3,7, distance=55,7px, pos=(1644.0583, 1210.3527)
[00:27:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1602.595, 1173.179), source=PLAYER (Shotgun), range=1469, listeners=7
[00:27:54] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=4
[00:27:54] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P2:combat_state, state=PURSUING, target=82.8°, current=89.4°, player=(1602,1173), corner_timer=0.27
[00:27:54] [ENEMY] [Enemy7] Pursuing vulnerability sound at (1602.595, 1173.179), distance=351
[00:27:54] [ENEMY] [Enemy8] ROT_CHANGE: P5:idle_scan -> P2:combat_state, state=PURSUING, target=-137.1°, current=123.7°, player=(1602,1173), corner_timer=0.00
[00:27:54] [INFO] [BloodDecal] Blood puddle created at (1744.169, 1301.858) (added to group)
[00:27:54] [INFO] [BloodDecal] Blood puddle created at (1673.968, 1267.808) (added to group)
[00:27:54] [ENEMY] [Enemy8] Pursuing vulnerability sound at (1602.595, 1173.179), distance=406
[00:27:54] [INFO] [ReplayManager] Recording frame 720 (11,7s): player_valid=True, enemies=10
[00:27:54] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) - pursuing to attack (dist=804)
[00:27:54] [INFO] [BloodDecal] Blood puddle created at (1707.26, 1261.285) (added to group)
[00:27:54] [INFO] [BloodDecal] Blood puddle created at (1744.687, 1289.677) (added to group)
[00:27:54] [ENEMY] [Enemy6] ROT_CHANGE: P1:visible -> P4:velocity, state=RETREATING, target=-90.0°, current=141.0°, player=(1571,1170), corner_timer=0.00
[00:27:54] [ENEMY] [Enemy8] Hit taken, damage: 1, health: 3/3 -> 2/3
[00:27:54] [ENEMY] [Enemy8] ImpactEffectsManager found, calling spawn_blood_effect
[00:27:54] [INFO] [ImpactEffects] spawn_blood_effect called at (1873.451, 1423.753), dir=(1, 0), lethal=false
[00:27:54] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[00:27:54] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[00:27:54] [INFO] [ImpactEffects] Blood effect spawned at (1873.451, 1423.753) (scale=1)
[00:27:54] [ENEMY] [Enemy8] Hit taken, damage: 1, health: 2/3 -> 1/3
[00:27:54] [ENEMY] [Enemy8] ImpactEffectsManager found, calling spawn_blood_effect
[00:27:54] [INFO] [ImpactEffects] spawn_blood_effect called at (1873.451, 1423.753), dir=(1, 0), lethal=false
[00:27:54] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[00:27:54] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[00:27:54] [INFO] [ImpactEffects] Blood effect spawned at (1873.451, 1423.753) (scale=1)
[00:27:54] [ENEMY] [Enemy8] Hit taken, damage: 1, health: 1/3 -> 0/3
[00:27:54] [ENEMY] [Enemy8] ImpactEffectsManager found, calling spawn_blood_effect
[00:27:54] [INFO] [ImpactEffects] spawn_blood_effect called at (1873.451, 1423.753), dir=(1, 0), lethal=true
[00:27:54] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[00:27:54] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[00:27:54] [INFO] [ImpactEffects] Blood effect spawned at (1873.451, 1423.753) (scale=1.5)
[00:27:54] [ENEMY] [Enemy8] Enemy died (ricochet: false, penetration: false)
[00:27:54] [INFO] [ScoreManager] Kill registered. Combo: 4 (points: 5000)
[00:27:54] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[00:27:54] [INFO] [PowerFantasy] Starting power fantasy effect:
[00:27:54] [INFO] [PowerFantasy]   - Time scale: 0.10
[00:27:54] [INFO] [PowerFantasy]   - Duration: 300ms
[00:27:54] [ENEMY] [Enemy8] [AllyDeath] Notified 1 enemies
[00:27:54] [INFO] [SoundPropagation] Unregistered listener: Enemy8 (remaining: 6)
[00:27:54] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[00:27:54] [ENEMY] [Enemy8] Death animation started with hit direction: (1, 0)
[00:27:54] [ENEMY] [Enemy6] State: RETREATING -> IN_COVER
[00:27:54] [ENEMY] [Enemy6] State: IN_COVER -> SUPPRESSED
[00:27:54] [INFO] [BloodDecal] Blood puddle created at (1724.814, 1288.118) (added to group)
[00:27:54] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=308), can_see=false
[00:27:54] [ENEMY] [Enemy4] SEARCHING corner check: angle 17.4°
[00:27:54] [INFO] [BloodDecal] Blood puddle created at (1794.155, 1316.145) (added to group)
[00:27:54] [INFO] [PowerFantasy] Effect duration expired after 313.00 ms
[00:27:54] [INFO] [PowerFantasy] Ending power fantasy effect
[00:27:54] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1650), can_see=false
[00:27:54] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1064), can_see=false
[00:27:54] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=837), can_see=false
[00:27:54] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=835), can_see=false
[00:27:54] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=663), can_see=false
[00:27:54] [INFO] [BloodDecal] Blood puddle created at (1763.812, 1286.335) (added to group)
[00:27:54] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[00:27:54] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=NeedsPumpUp, ReloadState=NotReloading
[00:27:54] [INFO] [Shotgun.FIX#445] dragStartPos=(2035, 1287), aimDir=(0,98, 0,22)
[00:27:54] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[00:27:54] [INFO] [Shotgun.FIX#445v7] Mid-drag pump UP - shell ejected, continue dragging DOWN to chamber
[00:27:54] [ENEMY] [Enemy6] State: SUPPRESSED -> IN_COVER
[00:27:54] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[00:27:54] [ENEMY] [Enemy6] State: IN_COVER -> PURSUING
[00:27:54] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[00:27:54] [ENEMY] [Enemy6] ROT_CHANGE: P4:velocity -> P2:combat_state, state=PURSUING, target=120.5°, current=170.9°, player=(1516,1175), corner_timer=0.00
[00:27:54] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[00:27:54] [INFO] [BloodDecal] Blood puddle created at (1788.099, 1264.504) (added to group)
[00:27:54] [INFO] [BloodDecal] Blood puddle created at (1948.134, 1407.831) (added to group)
[00:27:54] [INFO] [GrenadeBase] CCD enabled (mode: CAST_RAY) to prevent wall tunneling
[00:27:54] [INFO] [GrenadeBase] Grenade created at (1840.524, 1401.041) (frozen)
[00:27:54] [INFO] [FragGrenade] Shrapnel scene loaded from: res://scenes/projectiles/Shrapnel.tscn
[00:27:54] [INFO] [GrenadeTimer] Initialized for Frag grenade, effect radius: 225
[00:27:54] [INFO] [GrenadeTimerHelper] Attached GrenadeTimer to FragGrenade (type: Frag)
[00:27:54] [INFO] [EnemyGrenade] Attached C# GrenadeTimer to grenade (type: Frag)
[00:27:54] [INFO] [FragGrenade] Pin pulled - waiting for impact (no timer, impact-triggered only)
[00:27:54] [INFO] [GrenadeTimer] Timer activated! 4 seconds until explosion
[00:27:54] [INFO] [GrenadeBase] LEGACY throw_grenade() called! Direction: (-0.823171, -0.567794), Speed: 738.0 (unfrozen)
[00:27:54] [INFO] [GrenadeBase] NOTE: Using DRAG-BASED system. If velocity-based is expected, ensure grenade has throw_grenade_velocity_based() method.
[00:27:54] [INFO] [FragGrenade] Grenade thrown (legacy) - impact detection enabled
[00:27:54] [INFO] [GrenadeTimer] Grenade marked as thrown - impact detection enabled
[00:27:54] [INFO] [EnemyGrenade] Enemy grenade thrown! Target: (1602.595, 1173.179), Distance: 369
[00:27:54] [INFO] [BloodDecal] Blood puddle created at (1929.465, 1437.218) (added to group)
[00:27:54] [INFO] [Shotgun.FIX#445v7] TryProcessMidDragGesture - dragVector=(-34,3, 146,1), length=150,1, isDragUp=False, isDragDown=True, ActionState=NeedsPumpDown
[00:27:54] [INFO] [Shotgun.FIX#445v7] Mid-drag pump DOWN - chambered, ready to fire
[00:27:54] [INFO] [BloodDecal] Blood puddle created at (1933.07, 1459.161) (added to group)
[00:27:54] [INFO] [BloodDecal] Blood puddle created at (1936.347, 1476.531) (added to group)
[00:27:54] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=285), can_see=false
[00:27:54] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[00:27:54] [INFO] [BloodDecal] Blood puddle created at (1931.712, 1476.812) (added to group)
[00:27:54] [INFO] [BloodDecal] Blood puddle created at (1947.892, 1420.043) (added to group)
[00:27:54] [INFO] [BloodDecal] Blood puddle created at (1942.574, 1452.063) (added to group)
[00:27:54] [INFO] [BloodDecal] Blood puddle created at (1956.812, 1413.034) (added to group)
[00:27:54] [INFO] [BloodDecal] Blood puddle created at (1929.671, 1443.207) (added to group)
[00:27:54] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[00:27:54] [INFO] [BloodDecal] Blood puddle created at (2006.76, 1420.422) (added to group)
[00:27:54] [INFO] [BloodDecal] Blood puddle created at (1945.961, 1467.748) (added to group)
[00:27:54] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[00:27:54] [INFO] [BloodDecal] Blood puddle created at (1966.415, 1434.633) (added to group)
[00:27:54] [INFO] [BloodDecal] Blood puddle created at (1945.964, 1475.548) (added to group)
[00:27:54] [ENEMY] [Enemy7] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=131.9°, current=130.3°, player=(1423,1175), corner_timer=0.27
[00:27:54] [ENEMY] [Enemy7] Player empty ammo - priority attack triggered
[00:27:54] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1614.066, 962.106), source=ENEMY (Enemy7), range=1469, listeners=6
[00:27:54] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=1, self=1, below_threshold=4
[00:27:54] [ENEMY] [Enemy8] Ragdoll activated
[00:27:54] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[00:27:54] [INFO] [BloodDecal] Blood puddle created at (1985.664, 1436.949) (added to group)
[00:27:54] [INFO] [BloodDecal] Blood puddle created at (2005.111, 1414.169) (added to group)
[00:27:54] [INFO] [BloodDecal] Blood puddle created at (1951.678, 1460.586) (added to group)
[00:27:54] [ENEMY] [Enemy7] State: PURSUING -> COMBAT
[00:27:54] [ENEMY] [Enemy7] State: COMBAT -> RETREATING
[00:27:54] [INFO] [Shotgun.FIX#243] RMB released after 4 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[00:27:54] [INFO] [Shotgun.FIX#445v7] ProcessDragGesture - dragVector=(-32,5, 68,4), length=75,8, ActionState=Ready
[00:27:54] [INFO] [Shotgun.FIX#445v7] Screen-based pump gesture: isDragUp=False, isDragDown=True
[00:27:54] [INFO] [BloodDecal] Blood puddle created at (1959.795, 1484.209) (added to group)
[00:27:54] [INFO] [BloodDecal] Blood puddle created at (1951.857, 1512.65) (added to group)
[00:27:54] [INFO] [LastChance] Threat detected: Bullet
[00:27:54] [INFO] [LastChance] Not in hard mode - effect disabled
[00:27:54] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:27:54] [INFO] [BloodDecal] Blood puddle created at (2051.178, 1456.333) (added to group)
[00:27:55] [INFO] [GrenadeBase] Collision detected with Room5_WallLeft (type: StaticBody2D)
[00:27:55] [INFO] [FragGrenade] Impact detected! Body: Room5_WallLeft (type: StaticBody2D), triggering explosion
[00:27:55] [INFO] [FragGrenade] Impact detected - exploding immediately!
[00:27:55] [INFO] [GrenadeBase] EXPLODED at (1709.044, 1306.735)!
[00:27:55] [INFO] [PowerFantasy] Grenade exploded - triggering last chance time-freeze effect for 2000ms
[00:27:55] [INFO] [LastChance] Grenade explosion triggering last chance effect for 2.00 seconds
[00:27:55] [INFO] [LastChance] Starting last chance effect:
[00:27:55] [INFO] [LastChance]   - Time will be frozen (except player)
[00:27:55] [INFO] [LastChance]   - Duration: 2.00 real seconds
[00:27:55] [INFO] [LastChance]   - Trigger: grenade explosion
[00:27:55] [INFO] [LastChance]   - Sepia intensity: 0.70
[00:27:55] [INFO] [LastChance]   - Brightness: 0.60
[00:27:55] [INFO] [LastChance] Set player Player and all 26 children to PROCESS_MODE_ALWAYS
[00:27:55] [INFO] [LastChance] Set StaticBody2D 'WallTop' to PROCESS_MODE_ALWAYS for collision
[00:27:55] [INFO] [LastChance] Set StaticBody2D 'WallBottom' to PROCESS_MODE_ALWAYS for collision
[00:27:55] [INFO] [LastChance] Set StaticBody2D 'WallLeft' to PROCESS_MODE_ALWAYS for collision
[00:27:55] [INFO] [LastChance] Set StaticBody2D 'WallRight' to PROCESS_MODE_ALWAYS for collision
[00:27:55] [INFO] [LastChance] Set StaticBody2D 'Room1_WallBottom' to PROCESS_MODE_ALWAYS for collision
[00:27:55] [INFO] [LastChance] Set StaticBody2D 'Room1_WallRight' to PROCESS_MODE_ALWAYS for collision
[00:27:55] [INFO] [LastChance] Set StaticBody2D 'Room2_WallLeft' to PROCESS_MODE_ALWAYS for collision
[00:27:55] [INFO] [LastChance] Set StaticBody2D 'Room2_WallBottom' to PROCESS_MODE_ALWAYS for collision
[00:27:55] [INFO] [LastChance] Set StaticBody2D 'Room2_WallRight' to PROCESS_MODE_ALWAYS for collision
[00:27:55] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallTop' to PROCESS_MODE_ALWAYS for collision
[00:27:55] [INFO] [LastChance] Set StaticBody2D 'Corridor_WallBottom' to PROCESS_MODE_ALWAYS for collision
[00:27:55] [INFO] [LastChance] Set StaticBody2D 'Room3_WallLeft' to PROCESS_MODE_ALWAYS for collision
[00:27:55] [INFO] [LastChance] Set StaticBody2D 'Room3_WallBottom' to PROCESS_MODE_ALWAYS for collision
[00:27:55] [INFO] [LastChance] Set StaticBody2D 'Room4_WallLeft' to PROCESS_MODE_ALWAYS for collision
[00:27:55] [INFO] [LastChance] Set StaticBody2D 'Room4_WallTop' to PROCESS_MODE_ALWAYS for collision
[00:27:55] [INFO] [LastChance] Set StaticBody2D 'Room5_WallTop' to PROCESS_MODE_ALWAYS for collision
[00:27:55] [INFO] [LastChance] Set StaticBody2D 'Room5_WallLeft' to PROCESS_MODE_ALWAYS for collision
[00:27:55] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Left' to PROCESS_MODE_ALWAYS for collision
[00:27:55] [INFO] [LastChance] Set StaticBody2D 'LobbyDivider_Right' to PROCESS_MODE_ALWAYS for collision
[00:27:55] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallTop' to PROCESS_MODE_ALWAYS for collision
[00:27:55] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_WallRight' to PROCESS_MODE_ALWAYS for collision
[00:27:55] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallLeft' to PROCESS_MODE_ALWAYS for collision
[00:27:55] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallRight' to PROCESS_MODE_ALWAYS for collision
[00:27:55] [INFO] [LastChance] Set StaticBody2D 'MainHall_WallTop' to PROCESS_MODE_ALWAYS for collision
[00:27:55] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBL' to PROCESS_MODE_ALWAYS for collision
[00:27:55] [INFO] [LastChance] Set StaticBody2D 'Room2_CornerBR' to PROCESS_MODE_ALWAYS for collision
[00:27:55] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerTR' to PROCESS_MODE_ALWAYS for collision
[00:27:55] [INFO] [LastChance] Set StaticBody2D 'Corridor_CornerBR' to PROCESS_MODE_ALWAYS for collision
[00:27:55] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTL' to PROCESS_MODE_ALWAYS for collision
[00:27:55] [INFO] [LastChance] Set StaticBody2D 'MainHall_CornerTR' to PROCESS_MODE_ALWAYS for collision
[00:27:55] [INFO] [LastChance] Set StaticBody2D 'StorageRoom_CornerTR' to PROCESS_MODE_ALWAYS for collision
[00:27:55] [INFO] [LastChance] Set StaticBody2D 'Desk1' to PROCESS_MODE_ALWAYS for collision
[00:27:55] [INFO] [LastChance] Set StaticBody2D 'Desk2' to PROCESS_MODE_ALWAYS for collision
[00:27:55] [INFO] [LastChance] Set StaticBody2D 'Table1' to PROCESS_MODE_ALWAYS for collision
[00:27:55] [INFO] [LastChance] Set StaticBody2D 'Cabinet1' to PROCESS_MODE_ALWAYS for collision
[00:27:55] [INFO] [LastChance] Set StaticBody2D 'Cabinet2' to PROCESS_MODE_ALWAYS for collision
[00:27:55] [INFO] [LastChance] Set StaticBody2D 'Desk3' to PROCESS_MODE_ALWAYS for collision
[00:27:55] [INFO] [LastChance] Set StaticBody2D 'Desk4' to PROCESS_MODE_ALWAYS for collision
[00:27:55] [INFO] [LastChance] Set StaticBody2D 'Table2' to PROCESS_MODE_ALWAYS for collision
[00:27:55] [INFO] [LastChance] Set StaticBody2D 'Table3' to PROCESS_MODE_ALWAYS for collision
[00:27:55] [INFO] [LastChance] Set StaticBody2D 'Cabinet3' to PROCESS_MODE_ALWAYS for collision
[00:27:55] [INFO] [LastChance] Set StaticBody2D 'StorageCrate1' to PROCESS_MODE_ALWAYS for collision
[00:27:55] [INFO] [LastChance] Set StaticBody2D 'StorageCrate2' to PROCESS_MODE_ALWAYS for collision
[00:27:55] [INFO] [LastChance] Set StaticBody2D 'HallTable' to PROCESS_MODE_ALWAYS for collision
[00:27:55] [INFO] [LastChance] Skipping player node: Player
[00:27:55] [INFO] [LastChance] Froze existing bullet casing: Casing
[00:27:55] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1308
[00:27:55] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1311
[00:27:55] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1313
[00:27:55] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1348
[00:27:55] [INFO] [LastChance] Froze existing grenade: FragGrenade
[00:27:55] [INFO] [LastChance] Froze existing bullet casing: @RigidBody2D@1367
[00:27:55] [INFO] [LastChance] Froze all nodes except player and autoloads (including GameManager for quick restart)
[00:27:55] [INFO] [LastChance] Applied visual effects: sepia=0.70, brightness=0.60, ripple=0.0080
[00:27:55] [INFO] [LastChance] Applied 4.0x saturation to 6 player sprites
[00:27:55] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1709.044, 1306.735), source=NEUTRAL (FragGrenade), range=2937, listeners=6
[00:27:55] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=4
[00:27:55] [INFO] [FragGrenade] Applied 99 HE damage to enemy at distance 201.8
[00:27:55] [INFO] [LastChance] Freezing newly created shrapnel: Shrapnel
[00:27:55] [INFO] [LastChance] Registered frozen shrapnel: Shrapnel
[00:27:55] [INFO] [FragGrenade] Spawned shrapnel #1 at angle 7.6 degrees
[00:27:55] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@1385
[00:27:55] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@1385
[00:27:55] [INFO] [FragGrenade] Spawned shrapnel #2 at angle 95.1 degrees
[00:27:55] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@1386
[00:27:55] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@1386
[00:27:55] [INFO] [FragGrenade] Spawned shrapnel #3 at angle 182.1 degrees
[00:27:55] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@1387
[00:27:55] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@1387
[00:27:55] [INFO] [FragGrenade] Spawned shrapnel #4 at angle 261.8 degrees
[00:27:55] [INFO] [ImpactEffects] Spawning explosion visual effect at (1709.044, 1306.735) (radius=225) - using shadow-based wall occlusion
[00:27:55] [INFO] [LastChance] Freezing newly created explosion effect: @PointLight2D@1388
[00:27:55] [INFO] [LastChance] Registered frozen explosion effect: @PointLight2D@1388
[00:27:55] [INFO] [GrenadeTimer] Impact detected with Room5_WallLeft - EXPLODING!
[00:27:55] [INFO] [GrenadeTimer] EXPLODED at (1709.0443, 1306.7351)!
[00:27:55] [INFO] [GrenadeTimer] Applying frag explosion damage (radius: 225, damage: 99)
[00:27:55] [INFO] [GrenadeTimer] Damaged enemy at distance 201,8
[00:27:55] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@1389
[00:27:55] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@1389
[00:27:55] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@1390
[00:27:55] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@1390
[00:27:55] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@1391
[00:27:55] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@1391
[00:27:55] [INFO] [LastChance] Freezing newly created shrapnel: @Area2D@1392
[00:27:55] [INFO] [LastChance] Registered frozen shrapnel: @Area2D@1392
[00:27:55] [INFO] [GrenadeTimer] Spawned 4 shrapnel pieces
[00:27:55] [INFO] [SoundPropagation] Sound emitted: type=EXPLOSION, pos=(1709.044, 1306.735), source=NEUTRAL (FragGrenade), range=2938, listeners=6
[00:27:55] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=0, self=0, below_threshold=4
[00:27:55] [INFO] [LastChance] Freezing newly created explosion visual effect (Node2D): ExplosionFlash
[00:27:55] [INFO] [LastChance] Registered frozen explosion visual: ExplosionFlash
[00:27:55] [INFO] [LastChance] Freezing newly created explosion effect: PointLight2D
[00:27:55] [INFO] [LastChance] Registered frozen explosion effect: PointLight2D
[00:27:55] [INFO] [GrenadeTimer] Spawned PointLight2D frag explosion flash at (1709.0443, 1306.7351) (shadow-based wall occlusion)
[00:27:55] [INFO] [BloodDecal] Blood puddle created at (2005.421, 1430.659) (added to group)
[00:27:55] [INFO] [ReplayManager] Recording frame 780 (12,4s): player_valid=True, enemies=10
[00:27:55] [INFO] [BloodDecal] Blood puddle created at (2067.308, 1447.779) (added to group)
[00:27:55] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(1208.77, 1189.17), source=PLAYER (Player), range=600, listeners=6
[00:27:55] [ENEMY] [Enemy7] Heard player EMPTY_CLICK at (1208.77, 1189.17), intensity=0.01, distance=466
[00:27:55] [ENEMY] [Enemy7] Vulnerability sound triggered pursuit - transitioning from RETREATING to PURSUING
[00:27:55] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=5, self=0, below_threshold=0
[00:27:55] [INFO] [Shotgun.FIX#212] Firing 12 pellets with 15° spread at pos=(1208.7699, 1189.17)
[00:27:55] [INFO] [Shotgun.FIX#212] Normal pellet 1/12: extraOffset=-12,6, distance=39,4px, pos=(1241.4194, 1167.1614)
[00:27:55] [INFO] [LastChance] Freezing newly fired player bullet: ShotgunPellet
[00:27:55] [INFO] [LastChance] Registered frozen player bullet: ShotgunPellet
[00:27:55] [INFO] [Shotgun.FIX#212] Normal pellet 2/12: extraOffset=-13,4, distance=38,6px, pos=(1240.8622, 1167.727)
[00:27:55] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@1395
[00:27:55] [INFO] [LastChance] Registered frozen player bullet: @Area2D@1395
[00:27:55] [INFO] [Shotgun.FIX#212] Normal pellet 3/12: extraOffset=11,9, distance=63,9px, pos=(1262.8333, 1155.1316)
[00:27:55] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@1396
[00:27:55] [INFO] [LastChance] Registered frozen player bullet: @Area2D@1396
[00:27:55] [INFO] [Shotgun.FIX#212] Normal pellet 4/12: extraOffset=-13,7, distance=38,3px, pos=(1241.792, 1169.8577)
[00:27:55] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@1397
[00:27:55] [INFO] [LastChance] Registered frozen player bullet: @Area2D@1397
[00:27:55] [INFO] [Shotgun.FIX#212] Normal pellet 5/12: extraOffset=0,1, distance=52,1px, pos=(1253.6421, 1162.6569)
[00:27:55] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@1398
[00:27:55] [INFO] [LastChance] Registered frozen player bullet: @Area2D@1398
[00:27:55] [INFO] [Shotgun.FIX#212] Normal pellet 6/12: extraOffset=-10,9, distance=41,1px, pos=(1244.7103, 1169.2611)
[00:27:55] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@1399
[00:27:55] [INFO] [LastChance] Registered frozen player bullet: @Area2D@1399
[00:27:55] [INFO] [Shotgun.FIX#212] Normal pellet 7/12: extraOffset=-11,2, distance=40,8px, pos=(1245.5089, 1171.4797)
[00:27:55] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@1400
[00:27:55] [INFO] [LastChance] Registered frozen player bullet: @Area2D@1400
[00:27:55] [INFO] [Shotgun.FIX#212] Normal pellet 8/12: extraOffset=-1,9, distance=50,1px, pos=(1254.5736, 1168.8147)
[00:27:55] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@1401
[00:27:55] [INFO] [LastChance] Registered frozen player bullet: @Area2D@1401
[00:27:55] [INFO] [Shotgun.FIX#212] Normal pellet 9/12: extraOffset=10,9, distance=62,9px, pos=(1266.7323, 1164.7141)
[00:27:55] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@1402
[00:27:55] [INFO] [LastChance] Registered frozen player bullet: @Area2D@1402
[00:27:55] [INFO] [Shotgun.FIX#212] Normal pellet 10/12: extraOffset=14,3, distance=66,3px, pos=(1270.5465, 1164.976)
[00:27:55] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@1403
[00:27:55] [INFO] [LastChance] Registered frozen player bullet: @Area2D@1403
[00:27:55] [INFO] [Shotgun.FIX#212] Normal pellet 11/12: extraOffset=-11,7, distance=40,3px, pos=(1246.0729, 1174.0183)
[00:27:55] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@1404
[00:27:55] [INFO] [LastChance] Registered frozen player bullet: @Area2D@1404
[00:27:55] [INFO] [Shotgun.FIX#212] Normal pellet 12/12: extraOffset=13,0, distance=65,0px, pos=(1269.9669, 1167.2571)
[00:27:55] [INFO] [LastChance] Freezing newly fired player bullet: @Area2D@1405
[00:27:55] [INFO] [LastChance] Registered frozen player bullet: @Area2D@1405
[00:27:55] [INFO] [LastChance] Freezing newly created explosion effect: PointLight2D
[00:27:55] [INFO] [LastChance] Registered frozen explosion effect: PointLight2D
[00:27:55] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1208.77, 1189.17), source=PLAYER (Shotgun), range=1469, listeners=6
[00:27:55] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=5
[00:27:55] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[00:27:55] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=NeedsPumpUp, ReloadState=NotReloading
[00:27:55] [INFO] [Shotgun.FIX#445] dragStartPos=(1674, 965), aimDir=(0,85, -0,53)
[00:27:55] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[00:27:55] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[00:27:55] [INFO] [Shotgun.FIX#445v7] Mouse at top edge (Y=18), need PumpUp - recentering cursor
[00:27:55] [INFO] [Shotgun.FIX#445v7] Cursor recentered to (640, 360)
[00:27:55] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[00:27:55] [INFO] [LastChance] Freezing newly created bullet casing: @RigidBody2D@1406
[00:27:55] [INFO] [LastChance] Registered frozen bullet casing: @RigidBody2D@1406
[00:27:55] [INFO] [Shotgun.FIX#445v7] Mid-drag pump UP - shell ejected, continue dragging DOWN to chamber
[00:27:55] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[00:27:55] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[00:27:55] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[00:27:56] [INFO] [ReplayManager] Recording frame 840 (13,4s): player_valid=True, enemies=10
[00:27:56] [INFO] [Shotgun.FIX#445v7] Mid-drag pump DOWN - chambered, ready to fire
[00:27:56] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[00:27:56] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[00:27:56] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[00:27:56] [INFO] [Shotgun.FIX#445v7] TryProcessMidDragGesture - dragVector=(75,2, 295,2), length=304,7, isDragUp=False, isDragDown=True, ActionState=Ready
[00:27:56] [INFO] [Shotgun.FIX#243] RMB released after 11 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[00:27:56] [INFO] [Shotgun.FIX#445v7] ProcessDragGesture - dragVector=(85,4, 305,2), length=316,9, ActionState=Ready
[00:27:56] [INFO] [Shotgun.FIX#445v7] Screen-based pump gesture: isDragUp=False, isDragDown=True
[00:27:57] [INFO] [LastChance] Effect duration expired after 2.01 real seconds
[00:27:57] [INFO] [LastChance] Ending last chance effect
[00:27:57] [ENEMY] [Enemy1] Memory reset: confusion=2.0s, had_target=false
[00:27:57] [ENEMY] [Enemy4] Memory reset: confusion=2.0s, had_target=false
[00:27:57] [ENEMY] [Enemy5] Memory reset: confusion=2.0s, had_target=true
[00:27:57] [ENEMY] [Enemy5] Search mode: PURSUING -> SEARCHING at (1581.401, 1170.137)
[00:27:57] [ENEMY] [Enemy5] SEARCHING started: center=(1581.401, 1170.137), radius=100, waypoints=5
[00:27:57] [ENEMY] [Enemy6] Memory reset: confusion=2.0s, had_target=true
[00:27:57] [ENEMY] [Enemy6] Search mode: PURSUING -> SEARCHING at (1581.401, 1170.137)
[00:27:57] [ENEMY] [Enemy6] SEARCHING started: center=(1581.401, 1170.137), radius=100, waypoints=5
[00:27:57] [ENEMY] [Enemy7] Memory reset: confusion=2.0s, had_target=true
[00:27:57] [ENEMY] [Enemy7] Search mode: PURSUING -> SEARCHING at (1395.53, 1175.312)
[00:27:57] [ENEMY] [Enemy7] SEARCHING started: center=(1395.53, 1175.312), radius=100, waypoints=5
[00:27:57] [ENEMY] [Enemy9] Memory reset: confusion=2.0s, had_target=false
[00:27:57] [INFO] [LastChance] Reset memory for 6 enemies (player teleport effect)
[00:27:57] [INFO] [LastChance] All process modes restored
[00:27:57] [INFO] [LastChance] Unfroze player bullet: ShotgunPellet
[00:27:57] [INFO] [LastChance] Unfroze player bullet: @Area2D@1395
[00:27:57] [INFO] [LastChance] Unfroze player bullet: @Area2D@1396
[00:27:57] [INFO] [LastChance] Unfroze player bullet: @Area2D@1397
[00:27:57] [INFO] [LastChance] Unfroze player bullet: @Area2D@1398
[00:27:57] [INFO] [LastChance] Unfroze player bullet: @Area2D@1399
[00:27:57] [INFO] [LastChance] Unfroze player bullet: @Area2D@1400
[00:27:57] [INFO] [LastChance] Unfroze player bullet: @Area2D@1401
[00:27:57] [INFO] [LastChance] Unfroze player bullet: @Area2D@1402
[00:27:57] [INFO] [LastChance] Unfroze player bullet: @Area2D@1403
[00:27:57] [INFO] [LastChance] Unfroze player bullet: @Area2D@1404
[00:27:57] [INFO] [LastChance] Unfroze player bullet: @Area2D@1405
[00:27:57] [INFO] [LastChance] Unfroze bullet casing: Casing
[00:27:57] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@1308
[00:27:57] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@1311
[00:27:57] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@1313
[00:27:57] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@1348
[00:27:57] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@1367
[00:27:57] [INFO] [LastChance] Unfroze bullet casing: @RigidBody2D@1406
[00:27:57] [INFO] [LastChance] Unfroze shrapnel: Shrapnel
[00:27:57] [INFO] [LastChance] Unfroze shrapnel: @Area2D@1385
[00:27:57] [INFO] [LastChance] Unfroze shrapnel: @Area2D@1386
[00:27:57] [INFO] [LastChance] Unfroze shrapnel: @Area2D@1387
[00:27:57] [INFO] [LastChance] Unfroze shrapnel: @Area2D@1389
[00:27:57] [INFO] [LastChance] Unfroze shrapnel: @Area2D@1390
[00:27:57] [INFO] [LastChance] Unfroze shrapnel: @Area2D@1391
[00:27:57] [INFO] [LastChance] Unfroze shrapnel: @Area2D@1392
[00:27:57] [INFO] [LastChance] Unfroze explosion effect: @PointLight2D@1388
[00:27:57] [INFO] [LastChance] Unfroze explosion effect: PointLight2D
[00:27:57] [INFO] [LastChance] Unfroze explosion visual: ExplosionFlash
[00:27:57] [INFO] [LastChance] Starting visual effects fade-out over 400ms
[00:27:57] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1700), can_see=false
[00:27:57] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1087), can_see=false
[00:27:57] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=949), can_see=false
[00:27:57] [ENEMY] [Enemy5] SEARCHING corner check: angle -23.9°
[00:27:57] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=941), can_see=false
[00:27:57] [ENEMY] [Enemy6] SEARCHING corner check: angle 21.3°
[00:27:57] [ENEMY] [Enemy7] ROT_CHANGE: P1:visible -> P2:combat_state, state=SEARCHING, target=103.7°, current=136.8°, player=(1537,1284), corner_timer=0.27
[00:27:57] [ENEMY] [Enemy7] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=331), can_see=false
[00:27:57] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=622), can_see=false
[00:27:57] [INFO] [ReplayManager] Recording frame 900 (14,4s): player_valid=True, enemies=10
[00:27:57] [INFO] [BloodyFeet:Enemy5] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[00:27:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1574.7642, 1017.6572), shooter_id=144116287903, bullet_pos=(1241.102, 1390.041)
[00:27:57] [INFO] [Bullet] Using shooter_position, distance=500,0001
[00:27:57] [INFO] [Bullet] Distance to wall: 500,0001 (34,045925% of viewport)
[00:27:57] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:27:57] [ENEMY] [Enemy7] Hit taken, damage: 1, health: 2/2 -> 1/2
[00:27:57] [ENEMY] [Enemy7] ImpactEffectsManager found, calling spawn_blood_effect
[00:27:57] [INFO] [ImpactEffects] spawn_blood_effect called at (1614.223, 1009.018), dir=(1, 0), lethal=false
[00:27:57] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[00:27:57] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[00:27:57] [INFO] [ImpactEffects] Blood effect spawned at (1614.223, 1009.018) (scale=1)
[00:27:57] [ENEMY] [Enemy7] Hit taken, damage: 1, health: 1/2 -> 0/2
[00:27:57] [ENEMY] [Enemy7] ImpactEffectsManager found, calling spawn_blood_effect
[00:27:57] [INFO] [ImpactEffects] spawn_blood_effect called at (1614.223, 1009.018), dir=(1, 0), lethal=true
[00:27:57] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[00:27:57] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[00:27:57] [INFO] [ImpactEffects] Blood effect spawned at (1614.223, 1009.018) (scale=1.5)
[00:27:57] [ENEMY] [Enemy7] Enemy died (ricochet: false, penetration: false)
[00:27:57] [INFO] [ScoreManager] Kill registered. Combo: 5 (points: 7500)
[00:27:57] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[00:27:57] [INFO] [PowerFantasy] Starting power fantasy effect:
[00:27:57] [INFO] [PowerFantasy]   - Time scale: 0.10
[00:27:57] [INFO] [PowerFantasy]   - Duration: 300ms
[00:27:57] [INFO] [SoundPropagation] Unregistered listener: Enemy7 (remaining: 5)
[00:27:57] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[00:27:57] [ENEMY] [Enemy7] Death animation started with hit direction: (1, 0)
[00:27:57] [INFO] [LastChance] Visual effects fade-out complete
[00:27:57] [INFO] [LastChance] Restored original colors to 5 player sprites
[00:27:57] [INFO] [LastChance] Called player RefreshHealthVisual (C#)
[00:27:57] [INFO] [PowerFantasy] Effect duration expired after 301.00 ms
[00:27:57] [INFO] [PowerFantasy] Ending power fantasy effect
[00:27:57] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[00:27:57] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1766), can_see=false
[00:27:57] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1147), can_see=false
[00:27:57] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=872), can_see=false
[00:27:57] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=832), can_see=false
[00:27:57] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=549), can_see=false
[00:27:57] [ENEMY] [Enemy5] SEARCHING corner check: angle -23.9°
[00:27:57] [ENEMY] [Enemy6] SEARCHING corner check: angle 21.3°
[00:27:57] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(1574.7642, 1017.6572), shooter_id=144116287903, bullet_pos=(779.8891, 1006.26624)
[00:27:57] [INFO] [Bullet] Using shooter_position, distance=794,95667
[00:27:57] [INFO] [Bullet] Distance to wall: 794,95667 (54,130066% of viewport)
[00:27:57] [INFO] [BloodDecal] Blood puddle created at (1695.505, 994.7055) (added to group)
[00:27:57] [INFO] [BloodDecal] Blood puddle created at (1674.782, 1060.823) (added to group)
[00:27:57] [INFO] [BloodDecal] Blood puddle created at (1714.997, 998.147) (added to group)
[00:27:57] [INFO] [BloodDecal] Blood puddle created at (1679.272, 1041.124) (added to group)
[00:27:57] [INFO] [BloodDecal] Blood puddle created at (1715.785, 1051.136) (added to group)
[00:27:57] [INFO] [BloodDecal] Blood puddle created at (1695.84, 1069.216) (added to group)
[00:27:57] [INFO] [BloodDecal] Blood puddle created at (1733.435, 1075.761) (added to group)
[00:27:57] [INFO] [BloodDecal] Blood puddle created at (1752.342, 1089.066) (added to group)
[00:27:57] [INFO] [BloodDecal] Blood puddle created at (1692.908, 1021.937) (added to group)
[00:27:57] [INFO] [BloodDecal] Blood puddle created at (1695.357, 1038.352) (added to group)
[00:27:57] [INFO] [BloodDecal] Blood puddle created at (1677.066, 1072.817) (added to group)
[00:27:57] [INFO] [BloodDecal] Blood puddle created at (1678.684, 1083.097) (added to group)
[00:27:57] [INFO] [BloodDecal] Blood puddle created at (1705.166, 1094.469) (added to group)
[00:27:57] [INFO] [BloodDecal] Blood puddle created at (1751.452, 1074.455) (added to group)
[00:27:57] [INFO] [BloodDecal] Blood puddle created at (1728.723, 1023.767) (added to group)
[00:27:57] [ENEMY] [Enemy7] Ragdoll activated
[00:27:57] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[00:27:57] [INFO] [BloodDecal] Blood puddle created at (1689.734, 1061.154) (added to group)
[00:27:57] [ENEMY] [Enemy5] SEARCHING corner check: angle -23.9°
[00:27:57] [ENEMY] [Enemy6] SEARCHING corner check: angle 21.3°
[00:27:57] [INFO] [BloodDecal] Blood puddle created at (1736.014, 1049.815) (added to group)
[00:27:57] [INFO] [BloodDecal] Blood puddle created at (1701.015, 1073.098) (added to group)
[00:27:58] [INFO] [BloodDecal] Blood puddle created at (1756.839, 1084.256) (added to group)
[00:27:58] [INFO] [BloodDecal] Blood puddle created at (1765.09, 1056.776) (added to group)
[00:27:58] [INFO] [BloodDecal] Blood puddle created at (1700.025, 1046.95) (added to group)
[00:27:58] [INFO] [BloodDecal] Blood puddle created at (1775.147, 1024.204) (added to group)
[00:27:58] [INFO] [BloodDecal] Blood puddle created at (1741.186, 1118.269) (added to group)
[00:27:58] [INFO] [ReplayManager] Recording frame 960 (15,2s): player_valid=True, enemies=10
[00:27:58] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1907), can_see=false
[00:27:58] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1256), can_see=false
[00:27:58] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=719), can_see=false
[00:27:58] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=631), can_see=false
[00:27:58] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=409), can_see=false
[00:27:58] [INFO] [BloodDecal] Blood puddle created at (1725.97, 1093.068) (added to group)
[00:27:58] [INFO] [BloodDecal] Blood puddle created at (1775.327, 1155.469) (added to group)
[00:27:58] [INFO] [BloodDecal] Blood puddle created at (1703.214, 1139.038) (added to group)
[00:27:58] [INFO] [BloodDecal] Blood puddle created at (1712.34, 1154.295) (added to group)
[00:27:58] [INFO] [BloodDecal] Blood puddle created at (1733.834, 1091.668) (added to group)
[00:27:58] [INFO] [BloodDecal] Blood puddle created at (1732.156, 1133.996) (added to group)
[00:27:58] [INFO] [BloodDecal] Blood puddle created at (1754.291, 1140.538) (added to group)
[00:27:58] [ENEMY] [Enemy5] SEARCHING corner check: angle 0.0°
[00:27:58] [ENEMY] [Enemy6] SEARCHING corner check: angle 21.3°
[00:27:58] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2053), can_see=false
[00:27:58] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1383), can_see=false
[00:27:58] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=583), can_see=false
[00:27:58] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=502), can_see=false
[00:27:58] [ENEMY] [Enemy9] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=300), can_see=false
[00:27:58] [ENEMY] [Enemy5] SEARCHING corner check: angle 0.0°
[00:27:58] [ENEMY] [Enemy6] SEARCHING corner check: angle 32.1°
[00:27:58] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(1993.078, 1284.074), source=PLAYER (Player), range=600, listeners=5
[00:27:58] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=2, self=0, below_threshold=1
[00:27:58] [INFO] [Shotgun.FIX#212] Firing 16 pellets with 15° spread at pos=(1993.0775, 1284.0742)
[00:27:58] [INFO] [Shotgun.FIX#212] Normal pellet 1/16: extraOffset=5,8, distance=57,8px, pos=(2022.7924, 1333.6959)
[00:27:58] [INFO] [Shotgun.FIX#212] Normal pellet 2/16: extraOffset=13,4, distance=65,4px, pos=(2025.8541, 1340.6584)
[00:27:58] [INFO] [Shotgun.FIX#212] Normal pellet 3/16: extraOffset=9,6, distance=61,6px, pos=(2024.4426, 1337.0791)
[00:27:58] [INFO] [Shotgun.FIX#212] Normal pellet 4/16: extraOffset=-1,1, distance=50,9px, pos=(2017.2026, 1328.9271)
[00:27:58] [INFO] [Shotgun.FIX#212] Normal pellet 5/16: extraOffset=11,5, distance=63,5px, pos=(2023.1328, 1340.0242)
[00:27:58] [INFO] [Shotgun.FIX#212] Normal pellet 6/16: extraOffset=-8,6, distance=43,4px, pos=(2013.1982, 1322.5107)
[00:27:58] [INFO] [Shotgun.FIX#212] Normal pellet 7/16: extraOffset=7,8, distance=59,8px, pos=(2020.4169, 1337.2864)
[00:27:58] [INFO] [Shotgun.FIX#212] Normal pellet 8/16: extraOffset=2,5, distance=54,5px, pos=(2015.0278, 1333.9982)
[00:27:58] [INFO] [Shotgun.FIX#212] Normal pellet 9/16: extraOffset=-10,7, distance=41,3px, pos=(2008.9971, 1322.1953)
[00:27:58] [INFO] [Shotgun.FIX#212] Normal pellet 10/16: extraOffset=11,1, distance=63,1px, pos=(2017.401, 1342.3077)
[00:27:58] [INFO] [Shotgun.FIX#212] Normal pellet 11/16: extraOffset=5,1, distance=57,1px, pos=(2014.5038, 1336.9691)
[00:27:58] [INFO] [Shotgun.FIX#212] Normal pellet 12/16: extraOffset=-12,7, distance=39,3px, pos=(2007.7382, 1320.5214)
[00:27:58] [INFO] [Shotgun.FIX#212] Normal pellet 13/16: extraOffset=8,9, distance=60,9px, pos=(2014.3534, 1341.1279)
[00:27:58] [INFO] [Shotgun.FIX#212] Normal pellet 14/16: extraOffset=-14,7, distance=37,3px, pos=(2006.1233, 1319.0208)
[00:27:58] [INFO] [Shotgun.FIX#212] Normal pellet 15/16: extraOffset=-3,7, distance=48,3px, pos=(2007.4127, 1330.1749)
[00:27:58] [INFO] [Shotgun.FIX#212] Normal pellet 16/16: extraOffset=9,1, distance=61,1px, pos=(2009.8099, 1342.8114)
[00:27:58] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1993.078, 1284.074), source=PLAYER (Shotgun), range=1469, listeners=5
[00:27:58] [INFO] [SoundPropagation] Sound result: notified=2, out_of_range=1, self=0, below_threshold=2
[00:27:58] [ENEMY] [Enemy9] Hit taken, damage: 1, health: 2/2 -> 1/2
[00:27:58] [ENEMY] [Enemy9] ImpactEffectsManager found, calling spawn_blood_effect
[00:27:58] [INFO] [ImpactEffects] spawn_blood_effect called at (2100, 1550), dir=(1, 0), lethal=false
[00:27:58] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[00:27:58] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[00:27:58] [INFO] [ImpactEffects] Blood effect spawned at (2100, 1550) (scale=1)
[00:27:58] [ENEMY] [Enemy9] Hit taken, damage: 1, health: 1/2 -> 0/2
[00:27:58] [ENEMY] [Enemy9] ImpactEffectsManager found, calling spawn_blood_effect
[00:27:58] [INFO] [ImpactEffects] spawn_blood_effect called at (2100, 1550), dir=(1, 0), lethal=true
[00:27:58] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[00:27:58] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[00:27:58] [INFO] [ImpactEffects] Blood effect spawned at (2100, 1550) (scale=1.5)
[00:27:58] [ENEMY] [Enemy9] Enemy died (ricochet: false, penetration: false)
[00:27:58] [INFO] [ScoreManager] Kill registered. Combo: 6 (points: 10500)
[00:27:58] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[00:27:58] [INFO] [PowerFantasy] Starting power fantasy effect:
[00:27:58] [INFO] [PowerFantasy]   - Time scale: 0.10
[00:27:58] [INFO] [PowerFantasy]   - Duration: 300ms
[00:27:58] [INFO] [SoundPropagation] Unregistered listener: Enemy9 (remaining: 4)
[00:27:58] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[00:27:58] [ENEMY] [Enemy9] Death animation started with hit direction: (1, 0)
[00:27:58] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[00:27:58] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=NeedsPumpUp, ReloadState=NotReloading
[00:27:58] [INFO] [Shotgun.FIX#445] dragStartPos=(2175, 1621), aimDir=(0,38, 0,92)
[00:27:58] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[00:27:58] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[00:27:58] [INFO] [Shotgun.FIX#445v7] Mid-drag pump UP - shell ejected, continue dragging DOWN to chamber
[00:27:58] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[00:27:59] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[00:27:59] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[00:27:59] [INFO] [ReplayManager] Recording frame 1020 (15,9s): player_valid=True, enemies=10
[00:27:59] [ENEMY] [Enemy7] Death animation completed
[00:27:59] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2124), can_see=false
[00:27:59] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1455), can_see=false
[00:27:59] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=542), can_see=false
[00:27:59] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=494), can_see=false
[00:27:59] [INFO] [PowerFantasy] Effect duration expired after 301.00 ms
[00:27:59] [INFO] [PowerFantasy] Ending power fantasy effect
[00:27:59] [INFO] [Shotgun.FIX#445v7] TryProcessMidDragGesture - dragVector=(3,6, -451,0), length=451,1, isDragUp=True, isDragDown=False, ActionState=NeedsPumpDown
[00:27:59] [ENEMY] [Enemy5] SEARCHING corner check: angle 32.0°
[00:27:59] [ENEMY] [Enemy6] SEARCHING corner check: angle 32.2°
[00:27:59] [INFO] [Shotgun.FIX#445v7] Mouse at bottom edge (Y=686), need PumpDown - recentering cursor
[00:27:59] [INFO] [Shotgun.FIX#445v7] Cursor recentered to (640, 360)
[00:27:59] [INFO] [BloodDecal] Blood puddle created at (2146.86, 1574.583) (added to group)
[00:27:59] [INFO] [Shotgun.FIX#445v7] TryProcessMidDragGesture - dragVector=(4,2, 104,7), length=104,8, isDragUp=False, isDragDown=True, ActionState=NeedsPumpDown
[00:27:59] [INFO] [Shotgun.FIX#445v7] Mid-drag pump DOWN - chambered, ready to fire
[00:27:59] [INFO] [BloodDecal] Blood puddle created at (2167.822, 1539.893) (added to group)
[00:27:59] [INFO] [BloodDecal] Blood puddle created at (2167.775, 1542.384) (added to group)
[00:27:59] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[00:27:59] [INFO] [BloodDecal] Blood puddle created at (2195.743, 1580.09) (added to group)
[00:27:59] [INFO] [BloodDecal] Blood puddle created at (2193.652, 1609.909) (added to group)
[00:27:59] [INFO] [BloodDecal] Blood puddle created at (2160.784, 1548.005) (added to group)
[00:27:59] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[00:27:59] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[00:27:59] [INFO] [BloodDecal] Blood puddle created at (2175.528, 1605.472) (added to group)
[00:27:59] [INFO] [Shotgun.FIX#243] RMB released after 3 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[00:27:59] [INFO] [Shotgun.FIX#445v7] ProcessDragGesture - dragVector=(27,4, 64,8), length=70,4, ActionState=Ready
[00:27:59] [INFO] [Shotgun.FIX#445v7] Screen-based pump gesture: isDragUp=False, isDragDown=True
[00:27:59] [ENEMY] [Enemy4] SEARCHING corner check: angle 124.6°
[00:27:59] [INFO] [BloodDecal] Blood puddle created at (2166.068, 1613.585) (added to group)
[00:27:59] [INFO] [BloodDecal] Blood puddle created at (2214.387, 1575.542) (added to group)
[00:27:59] [INFO] [BloodDecal] Blood puddle created at (2231.158, 1564.08) (added to group)
[00:27:59] [INFO] [BloodyFeet:Enemy6] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[00:27:59] [INFO] [BloodyFeet:Enemy5] Blood ran out - no more footprints
[00:27:59] [INFO] [BloodDecal] Blood puddle created at (2202.909, 1583.926) (added to group)
[00:27:59] [INFO] [BloodDecal] Blood puddle created at (2253.041, 1613.418) (added to group)
[00:27:59] [ENEMY] [Enemy9] Ragdoll activated
[00:27:59] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[00:27:59] [INFO] [BloodDecal] Blood puddle created at (2197.709, 1578.854) (added to group)
[00:27:59] [INFO] [BloodDecal] Blood puddle created at (2187.795, 1583.799) (added to group)
[00:27:59] [INFO] [BloodDecal] Blood puddle created at (2260.283, 1624.447) (added to group)
[00:27:59] [ENEMY] [Enemy5] ROT_CHANGE: P2:combat_state -> P1:visible, state=SEARCHING, target=32.7°, current=34.3°, player=(2160,1197), corner_timer=-0.02
[00:27:59] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) - pursuing to attack (dist=506)
[00:27:59] [ENEMY] [Enemy5] State: SEARCHING -> PURSUING
[00:27:59] [ENEMY] [Enemy6] ROT_CHANGE: P2:combat_state -> P1:visible, state=SEARCHING, target=23.5°, current=24.7°, player=(2160,1197), corner_timer=-0.02
[00:27:59] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) - pursuing to attack (dist=511)
[00:27:59] [ENEMY] [Enemy6] State: SEARCHING -> PURSUING
[00:27:59] [INFO] [BloodDecal] Blood puddle created at (2192.979, 1596.334) (added to group)
[00:27:59] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2195), can_see=false
[00:27:59] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1636), can_see=false
[00:27:59] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=508), can_see=true
[00:27:59] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=515), can_see=true
[00:27:59] [INFO] [BloodyFeet:Player] Blood ran out - no more footprints
[00:27:59] [INFO] [BloodDecal] Blood puddle created at (2209.334, 1602.045) (added to group)
[00:27:59] [INFO] [BloodDecal] Blood puddle created at (2262.093, 1628.85) (added to group)
[00:27:59] [INFO] [BloodDecal] Blood puddle created at (2191.732, 1660.368) (added to group)
[00:27:59] [INFO] [BloodDecal] Blood puddle created at (2217.755, 1575.136) (added to group)
[00:27:59] [INFO] [BloodDecal] Blood puddle created at (2245.491, 1691.609) (added to group)
[00:27:59] [INFO] [BloodDecal] Blood puddle created at (2258.38, 1595.118) (added to group)
[00:27:59] [INFO] [BloodDecal] Blood puddle created at (2272.774, 1706.814) (added to group)
[00:27:59] [INFO] [BloodDecal] Blood puddle created at (2218.042, 1631.072) (added to group)
[00:27:59] [INFO] [BloodDecal] Blood puddle created at (2208.367, 1682.274) (added to group)
[00:27:59] [INFO] [BloodDecal] Blood puddle created at (2225.354, 1597.101) (added to group)
[00:27:59] [INFO] [BloodDecal] Blood puddle created at (2246.542, 1657.66) (added to group)
[00:27:59] [INFO] [BloodDecal] Blood puddle created at (2344.462, 1643.935) (added to group)
[00:27:59] [INFO] [BloodDecal] Blood puddle created at (2298.835, 1647.916) (added to group)
[00:27:59] [INFO] [BloodDecal] Blood puddle created at (2326.754, 1718.63) (added to group)
[00:27:59] [ENEMY] [Enemy4] SEARCHING corner check: angle 91.2°
[00:27:59] [ENEMY] [Enemy5] State: PURSUING -> COMBAT
[00:27:59] [ENEMY] [Enemy6] State: PURSUING -> COMBAT
[00:27:59] [ENEMY] [Enemy5] State: COMBAT -> PURSUING
[00:27:59] [ENEMY] [Enemy6] State: COMBAT -> PURSUING
[00:28:00] [INFO] [ReplayManager] Recording frame 1080 (16,9s): player_valid=True, enemies=10
[00:28:00] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2238), can_see=false
[00:28:00] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1811), can_see=false
[00:28:00] [ENEMY] [Enemy5] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=551), can_see=true
[00:28:00] [ENEMY] [Enemy6] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=580), can_see=true
[00:28:00] [ENEMY] [Enemy5] State: PURSUING -> COMBAT
[00:28:00] [ENEMY] [Enemy6] State: PURSUING -> COMBAT
[00:28:00] [ENEMY] [Enemy5] State: COMBAT -> PURSUING
[00:28:00] [ENEMY] [Enemy6] State: COMBAT -> PURSUING
[00:28:00] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(2233.088, 1011.022), source=PLAYER (Player), range=600, listeners=4
[00:28:00] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=2
[00:28:00] [INFO] [Shotgun.FIX#212] Firing 11 pellets with 15° spread at pos=(2233.088, 1011.0218)
[00:28:00] [INFO] [Shotgun.FIX#212] Normal pellet 1/11: extraOffset=7,2, distance=59,2px, pos=(2174.0703, 1015.8039)
[00:28:00] [INFO] [Shotgun.FIX#212] Normal pellet 2/11: extraOffset=5,2, distance=57,2px, pos=(2175.9995, 1014.5999)
[00:28:00] [INFO] [Shotgun.FIX#212] Normal pellet 3/11: extraOffset=-7,6, distance=44,4px, pos=(2188.6877, 1011.14764)
[00:28:00] [INFO] [Shotgun.FIX#212] Normal pellet 4/11: extraOffset=0,5, distance=52,5px, pos=(2180.56, 1011.28046)
[00:28:00] [INFO] [Shotgun.FIX#212] Normal pellet 5/11: extraOffset=6,3, distance=58,3px, pos=(2174.8867, 1007.85114)
[00:28:00] [INFO] [Shotgun.FIX#212] Normal pellet 6/11: extraOffset=14,8, distance=66,8px, pos=(2166.5237, 1005.82336)
[00:28:00] [INFO] [Shotgun.FIX#212] Normal pellet 7/11: extraOffset=6,5, distance=58,5px, pos=(2174.8684, 1005.574)
[00:28:00] [INFO] [Shotgun.FIX#212] Normal pellet 8/11: extraOffset=8,4, distance=60,4px, pos=(2172.9512, 1005.6135)
[00:28:00] [INFO] [Shotgun.FIX#212] Normal pellet 9/11: extraOffset=6,1, distance=58,1px, pos=(2175.3823, 1004.04785)
[00:28:00] [INFO] [Shotgun.FIX#212] Normal pellet 10/11: extraOffset=-11,8, distance=40,2px, pos=(2193.4622, 1004.3646)
[00:28:00] [INFO] [Shotgun.FIX#212] Normal pellet 11/11: extraOffset=-0,8, distance=51,2px, pos=(2182.9185, 1000.802)
[00:28:00] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(2233.088, 1011.022), source=PLAYER (Shotgun), range=1469, listeners=4
[00:28:00] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=2, self=0, below_threshold=2
[00:28:00] [ENEMY] [Enemy5] State: PURSUING -> COMBAT
[00:28:00] [ENEMY] [Enemy6] State: PURSUING -> COMBAT
[00:28:00] [ENEMY] [Enemy5] State: COMBAT -> PURSUING
[00:28:00] [ENEMY] [Enemy6] State: COMBAT -> PURSUING
[00:28:00] [ENEMY] [Enemy9] Death animation completed
[00:28:00] [ENEMY] [Enemy5] Hit taken, damage: 1, health: 2/3 -> 1/3
[00:28:00] [ENEMY] [Enemy5] ImpactEffectsManager found, calling spawn_blood_effect
[00:28:00] [INFO] [ImpactEffects] spawn_blood_effect called at (1734.746, 924.6632), dir=(1, 0), lethal=false
[00:28:00] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[00:28:00] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[00:28:00] [INFO] [ImpactEffects] Blood effect spawned at (1734.746, 924.6632) (scale=1)
[00:28:00] [ENEMY] [Enemy5] Hit taken, damage: 1, health: 1/3 -> 0/3
[00:28:00] [ENEMY] [Enemy5] ImpactEffectsManager found, calling spawn_blood_effect
[00:28:00] [INFO] [ImpactEffects] spawn_blood_effect called at (1734.746, 924.6632), dir=(1, 0), lethal=true
[00:28:00] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[00:28:00] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[00:28:00] [INFO] [ImpactEffects] Blood effect spawned at (1734.746, 924.6632) (scale=1.5)
[00:28:00] [ENEMY] [Enemy5] Enemy died (ricochet: false, penetration: false)
[00:28:00] [INFO] [ScoreManager] Kill registered. Combo: 7 (points: 14000)
[00:28:00] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[00:28:00] [INFO] [PowerFantasy] Starting power fantasy effect:
[00:28:00] [INFO] [PowerFantasy]   - Time scale: 0.10
[00:28:00] [INFO] [PowerFantasy]   - Duration: 300ms
[00:28:00] [ENEMY] [Enemy5] [AllyDeath] Notified 1 enemies
[00:28:00] [INFO] [SoundPropagation] Unregistered listener: Enemy5 (remaining: 3)
[00:28:00] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[00:28:00] [ENEMY] [Enemy5] Death animation started with hit direction: (1, 0)
[00:28:00] [ENEMY] [Enemy6] Hit taken, damage: 1, health: 2/2 -> 1/2
[00:28:00] [ENEMY] [Enemy6] ImpactEffectsManager found, calling spawn_blood_effect
[00:28:00] [INFO] [ImpactEffects] spawn_blood_effect called at (1692.286, 993.884), dir=(1, 0), lethal=false
[00:28:00] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[00:28:00] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[00:28:00] [INFO] [ImpactEffects] Blood effect spawned at (1692.286, 993.884) (scale=1)
[00:28:00] [ENEMY] [Enemy6] Hit taken, damage: 1, health: 1/2 -> 0/2
[00:28:00] [ENEMY] [Enemy6] ImpactEffectsManager found, calling spawn_blood_effect
[00:28:00] [INFO] [ImpactEffects] spawn_blood_effect called at (1692.286, 993.884), dir=(1, 0), lethal=true
[00:28:00] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[00:28:00] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[00:28:00] [INFO] [ImpactEffects] Blood effect spawned at (1692.286, 993.884) (scale=1.5)
[00:28:00] [ENEMY] [Enemy6] Enemy died (ricochet: false, penetration: false)
[00:28:00] [INFO] [ScoreManager] Kill registered. Combo: 8 (points: 18000)
[00:28:00] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[00:28:00] [INFO] [PowerFantasy] Effect timer reset to 300ms
[00:28:00] [INFO] [SoundPropagation] Unregistered listener: Enemy6 (remaining: 2)
[00:28:00] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[00:28:00] [ENEMY] [Enemy6] Death animation started with hit direction: (1, 0)
[00:28:00] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2144), can_see=false
[00:28:00] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1733), can_see=false
[00:28:00] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[00:28:00] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=NeedsPumpUp, ReloadState=NotReloading
[00:28:00] [INFO] [Shotgun.FIX#445] dragStartPos=(1592, 887), aimDir=(-0,99, -0,16)
[00:28:00] [INFO] [PowerFantasy] Effect duration expired after 311.00 ms
[00:28:00] [INFO] [PowerFantasy] Ending power fantasy effect
[00:28:00] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[00:28:00] [INFO] [Shotgun.FIX#445v7] Mid-drag pump UP - shell ejected, continue dragging DOWN to chamber
[00:28:00] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[00:28:00] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[00:28:00] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[00:28:01] [INFO] [ReplayManager] Recording frame 1140 (17,6s): player_valid=True, enemies=10
[00:28:01] [INFO] [BloodDecal] Blood puddle created at (1812.697, 899.3964) (added to group)
[00:28:01] [INFO] [BloodDecal] Blood puddle created at (1738.729, 1010.856) (added to group)
[00:28:01] [INFO] [BloodDecal] Blood puddle created at (1810.551, 944.447) (added to group)
[00:28:01] [INFO] [BloodDecal] Blood puddle created at (1759.589, 1006.335) (added to group)
[00:28:01] [INFO] [BloodDecal] Blood puddle created at (1767.667, 1013.572) (added to group)
[00:28:01] [INFO] [BloodDecal] Blood puddle created at (1751.955, 1008.557) (added to group)
[00:28:01] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=2100), can_see=false
[00:28:01] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1710), can_see=false
[00:28:01] [INFO] [Shotgun.FIX#445v7] Mid-drag pump DOWN - chambered, ready to fire
[00:28:01] [INFO] [BloodDecal] Blood puddle created at (1814.847, 945.5627) (added to group)
[00:28:01] [INFO] [BloodDecal] Blood puddle created at (1804.114, 966.3084) (added to group)
[00:28:01] [INFO] [BloodDecal] Blood puddle created at (1788.053, 973.5096) (added to group)
[00:28:01] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[00:28:01] [INFO] [BloodDecal] Blood puddle created at (1846.316, 935.4008) (added to group)
[00:28:01] [INFO] [BloodDecal] Blood puddle created at (1751.629, 1036.72) (added to group)
[00:28:01] [INFO] [BloodDecal] Blood puddle created at (1812.46, 1001.019) (added to group)
[00:28:01] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[00:28:01] [INFO] [BloodDecal] Blood puddle created at (1829.71, 964.5455) (added to group)
[00:28:01] [INFO] [BloodDecal] Blood puddle created at (1821, 979.1469) (added to group)
[00:28:01] [INFO] [BloodDecal] Blood puddle created at (1866.652, 993.4211) (added to group)
[00:28:01] [INFO] [BloodDecal] Blood puddle created at (1820.913, 1010.611) (added to group)
[00:28:01] [INFO] [BloodDecal] Blood puddle created at (1780.984, 1072.43) (added to group)
[00:28:01] [INFO] [BloodDecal] Blood puddle created at (1765.298, 1010.534) (added to group)
[00:28:01] [INFO] [Shotgun.FIX#243] RMB released after 2 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[00:28:01] [INFO] [Shotgun.FIX#445v7] ProcessDragGesture - dragVector=(-13,8, 89,0), length=90,1, ActionState=Ready
[00:28:01] [INFO] [Shotgun.FIX#445v7] Screen-based pump gesture: isDragUp=False, isDragDown=True
[00:28:01] [INFO] [BloodDecal] Blood puddle created at (1806.036, 969.499) (added to group)
[00:28:01] [INFO] [BloodDecal] Blood puddle created at (1772.196, 1019.662) (added to group)
[00:28:01] [INFO] [BloodDecal] Blood puddle created at (1808.418, 1091.943) (added to group)
[00:28:01] [ENEMY] [Enemy4] SEARCHING: Expand outer ring r=175 wps=4
[00:28:01] [INFO] [BloodDecal] Blood puddle created at (1891.569, 1012.952) (added to group)
[00:28:01] [INFO] [BloodDecal] Blood puddle created at (1769.315, 1000.688) (added to group)
[00:28:01] [INFO] [BloodDecal] Blood puddle created at (1775.404, 1034.816) (added to group)
[00:28:01] [INFO] [BloodDecal] Blood puddle created at (1810.438, 1044.898) (added to group)
[00:28:01] [ENEMY] [Enemy5] Ragdoll activated
[00:28:01] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[00:28:01] [ENEMY] [Enemy6] Ragdoll activated
[00:28:01] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[00:28:01] [INFO] [BloodDecal] Blood puddle created at (1886.852, 947.1793) (added to group)
[00:28:01] [INFO] [BloodDecal] Blood puddle created at (1830.909, 986.0102) (added to group)
[00:28:01] [INFO] [BloodDecal] Blood puddle created at (1885.482, 955.5706) (added to group)
[00:28:01] [INFO] [BloodDecal] Blood puddle created at (1836.349, 940.8142) (added to group)
[00:28:01] [INFO] [BloodDecal] Blood puddle created at (1806.161, 1011.326) (added to group)
[00:28:01] [INFO] [BloodDecal] Blood puddle created at (1795.361, 1058.693) (added to group)
[00:28:01] [INFO] [BloodDecal] Blood puddle created at (1782.749, 1072.601) (added to group)
[00:28:01] [INFO] [BloodDecal] Blood puddle created at (1861.272, 1044.961) (added to group)
[00:28:01] [INFO] [BloodDecal] Blood puddle created at (1781.131, 1028.929) (added to group)
[00:28:01] [ENEMY] [Enemy4] SEARCHING corner check: angle -174.2°
[00:28:01] [INFO] [BloodDecal] Blood puddle created at (1865.61, 1045.815) (added to group)
[00:28:01] [INFO] [BloodDecal] Blood puddle created at (1851.314, 954.2996) (added to group)
[00:28:01] [INFO] [BloodDecal] Blood puddle created at (1895.149, 1075.853) (added to group)
[00:28:01] [INFO] [BloodDecal] Blood puddle created at (1890.403, 1060.978) (added to group)
[00:28:01] [INFO] [BloodDecal] Blood puddle created at (1803.844, 1048.707) (added to group)
[00:28:01] [INFO] [BloodDecal] Blood puddle created at (1860.919, 1073.778) (added to group)
[00:28:01] [INFO] [BloodDecal] Blood puddle created at (1790.151, 1090.229) (added to group)
[00:28:01] [INFO] [BloodDecal] Blood puddle created at (1901.565, 1027.384) (added to group)
[00:28:01] [INFO] [BloodDecal] Blood puddle created at (1924.939, 1010.145) (added to group)
[00:28:01] [INFO] [BloodDecal] Blood puddle created at (1902.512, 942.9655) (added to group)
[00:28:01] [INFO] [BloodDecal] Blood puddle created at (1947.285, 1007.076) (added to group)
[00:28:01] [INFO] [BloodDecal] Blood puddle created at (1832.07, 1046.928) (added to group)
[00:28:01] [INFO] [BloodDecal] Blood puddle created at (1851.764, 1032.358) (added to group)
[00:28:01] [INFO] [BloodDecal] Blood puddle created at (1848.692, 1057.991) (added to group)
[00:28:01] [INFO] [BloodDecal] Blood puddle created at (1869.61, 1149.577) (added to group)
[00:28:01] [INFO] [BloodDecal] Blood puddle created at (1821.406, 1025.422) (added to group)
[00:28:01] [INFO] [BloodDecal] Blood puddle created at (1950.798, 997.2714) (added to group)
[00:28:01] [INFO] [BloodDecal] Blood puddle created at (1840.875, 1024.203) (added to group)
[00:28:01] [INFO] [BloodDecal] Blood puddle created at (1920.682, 938.7617) (added to group)
[00:28:01] [INFO] [BloodDecal] Blood puddle created at (1861.655, 1022.195) (added to group)
[00:28:01] [INFO] [BloodDecal] Blood puddle created at (1949.304, 928.197) (added to group)
[00:28:01] [INFO] [BloodDecal] Blood puddle created at (1906.801, 1032.721) (added to group)
[00:28:01] [INFO] [BloodDecal] Blood puddle created at (1873.411, 1022.851) (added to group)
[00:28:01] [INFO] [BloodDecal] Blood puddle created at (1856.672, 1022.576) (added to group)
[00:28:01] [INFO] [BloodDecal] Blood puddle created at (1936.467, 1147.525) (added to group)
[00:28:01] [INFO] [BloodDecal] Blood puddle created at (1840.16, 1127.145) (added to group)
[00:28:01] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1949), can_see=false
[00:28:01] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1580), can_see=false
[00:28:01] [ENEMY] [Enemy4] SEARCHING corner check: angle -174.2°
[00:28:02] [INFO] [ReplayManager] Recording frame 1200 (18,6s): player_valid=True, enemies=10
[00:28:02] [ENEMY] [Enemy4] SEARCHING corner check: angle -179.8°
[00:28:02] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1802), can_see=false
[00:28:02] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1407), can_see=false
[00:28:02] [ENEMY] [Enemy6] Death animation completed
[00:28:02] [ENEMY] [Enemy5] Death animation completed
[00:28:02] [ENEMY] [Enemy4] SEARCHING corner check: angle 179.0°
[00:28:02] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1659), can_see=false
[00:28:02] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1334), can_see=false
[00:28:02] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[00:28:03] [INFO] [ReplayManager] Recording frame 1260 (19,6s): player_valid=True, enemies=10
[00:28:03] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1522), can_see=false
[00:28:03] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1214), can_see=false
[00:28:03] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1393), can_see=false
[00:28:03] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1100), can_see=false
[00:28:03] [ENEMY] [Enemy4] SEARCHING corner check: angle 180.0°
[00:28:04] [INFO] [ReplayManager] Recording frame 1320 (20,6s): player_valid=True, enemies=10
[00:28:04] [ENEMY] [Enemy4] SEARCHING corner check: angle 179.9°
[00:28:04] [INFO] [BloodyFeet:Player] Blood ran out - no more footprints
[00:28:04] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1270), can_see=false
[00:28:04] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1034), can_see=false
[00:28:04] [ENEMY] [Enemy4] SEARCHING corner check: angle -90.2°
[00:28:04] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=SEARCHING, target=-26.9°, current=-36.2°, player=(1403,193), corner_timer=0.22
[00:28:04] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) - pursuing to attack (dist=935)
[00:28:04] [ENEMY] [Enemy4] FLANKING started: target=(1236.186, 84.39675), side=right, pos=(569.5878, 616.8187)
[00:28:04] [ENEMY] [Enemy4] State: SEARCHING -> FLANKING
[00:28:04] [ENEMY] [Enemy4] FLANKING started: target=(1235.025, 81.26999), side=right, pos=(572.0517, 616.0996)
[00:28:04] [ENEMY] [Enemy4] FLANKING started: target=(1233.515, 78.17542), side=right, pos=(574.5156, 615.3806)
[00:28:04] [ENEMY] [Enemy4] Warning: No valid flank position (both sides behind walls)
[00:28:04] [ENEMY] [Enemy4] FLANKING started: target=(1392.75, 381.7875), side=left, pos=(576.9794, 614.6615)
[00:28:04] [ENEMY] [Enemy4] Warning: No valid flank position (both sides behind walls)
[00:28:04] [ENEMY] [Enemy4] FLANKING started: target=(1229.447, 72.08745), side=right, pos=(579.4433, 613.9424)
[00:28:04] [ENEMY] [Enemy4] Warning: No valid flank position (both sides behind walls)
[00:28:04] [ENEMY] [Enemy4] FLANKING started: target=(1391.158, 374.0814), side=left, pos=(581.9072, 613.2234)
[00:28:04] [ENEMY] [Enemy4] Warning: No valid flank position (both sides behind walls)
[00:28:04] [ENEMY] [Enemy4] FLANKING started: target=(1389.922, 370.2217), side=left, pos=(584.371, 612.5043)
[00:28:04] [ENEMY] [Enemy4] Warning: No valid flank position (both sides behind walls)
[00:28:04] [ENEMY] [Enemy4] FLANKING started: target=(1220.725, 63.22787), side=right, pos=(586.8349, 611.7853)
[00:28:04] [ENEMY] [Enemy4] Warning: No valid flank position (both sides behind walls)
[00:28:04] [ENEMY] [Enemy4] FLANKING started: target=(1386.646, 362.7545), side=left, pos=(589.2988, 611.0662)
[00:28:04] [ENEMY] [Enemy4] FLANKING started: target=(1213.673, 58.15729), side=right, pos=(591.7626, 610.3472)
[00:28:04] [ENEMY] [Enemy4] FLANKING started: target=(1209.877, 56.00266), side=right, pos=(594.2265, 609.6281)
[00:28:04] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1206), can_see=false
[00:28:04] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=906), can_see=true
[00:28:04] [ENEMY] [Enemy4] FLANKING started: target=(1205.9, 54.10238), side=right, pos=(596.6904, 608.9091)
[00:28:04] [ENEMY] [Enemy4] FLANKING started: target=(1201.742, 52.45693), side=right, pos=(599.1542, 608.19)
[00:28:04] [ENEMY] [Enemy4] FLANKING started: target=(1197.401, 51.06674), side=right, pos=(601.6181, 607.4709)
[00:28:04] [ENEMY] [Enemy4] FLANKING started: target=(1192.877, 49.93223), side=right, pos=(604.082, 606.7519)
[00:28:04] [ENEMY] [Enemy4] FLANKING started: target=(1188.17, 49.05385), side=right, pos=(606.5458, 606.0328)
[00:28:04] [ENEMY] [Enemy4] FLANKING started: target=(1183.279, 48.43204), side=right, pos=(609.0097, 605.3138)
[00:28:04] [ENEMY] [Enemy4] ROT_CHANGE: P1:visible -> P2:combat_state, state=FLANKING, target=-31.9°, current=-31.6°, player=(1354,142), corner_timer=0.22
[00:28:05] [INFO] [ReplayManager] Recording frame 1380 (21,6s): player_valid=True, enemies=10
[00:28:05] [ENEMY] [Enemy4] FLANKING corner check: angle -141.4°
[00:28:05] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=1049), can_see=false
[00:28:05] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=637), can_see=false
[00:28:05] [ENEMY] [Enemy4] FLANKING corner check: angle -144.4°
[00:28:05] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=FLANKING, target=-40.0°, current=-40.8°, player=(1083,120), corner_timer=0.03
[00:28:05] [ENEMY] [Enemy4] Player vulnerable (ammo_empty) - pursuing to attack (dist=410)
[00:28:05] [ENEMY] [Enemy4] State: FLANKING -> PURSUING
[00:28:05] [ENEMY] [Enemy4] ROT_CHANGE: P1:visible -> P2:combat_state, state=PURSUING, target=-41.2°, current=14.0°, player=(1073,118), corner_timer=0.02
[00:28:05] [ENEMY] [Enemy4] PURSUING corner check: angle -101.8°
[00:28:05] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=893), can_see=false
[00:28:05] [ENEMY] [Enemy4] ROT_CHANGE: P2:combat_state -> P1:visible, state=PURSUING, target=-44.4°, current=5.4°, player=(1058,114), corner_timer=0.30
[00:28:05] [ENEMY] [Enemy4] Player empty ammo - priority attack triggered
[00:28:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(792.7031, 375.0627), source=ENEMY (Enemy4), range=1469, listeners=2
[00:28:05] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=1
[00:28:05] [INFO] [ScoreManager] Combo ended at 8. Max combo: 8
[00:28:05] [INFO] [LastChance] Threat detected: Bullet
[00:28:05] [INFO] [LastChance] Not in hard mode - effect disabled
[00:28:05] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:28:05] [ENEMY] [Enemy4] Player empty ammo - priority attack triggered
[00:28:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(829.2498, 367.4396), source=ENEMY (Enemy4), range=1469, listeners=2
[00:28:05] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=1
[00:28:05] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(1015.475, 112.8236), source=PLAYER (Player), range=600, listeners=2
[00:28:05] [ENEMY] [Enemy4] Heard player EMPTY_CLICK at (1015.475, 112.8236), intensity=0.03, distance=312
[00:28:05] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=1, self=0, below_threshold=0
[00:28:05] [INFO] [Shotgun.FIX#212] Firing 12 pellets with 15° spread at pos=(1015.47546, 112.82358)
[00:28:05] [INFO] [Shotgun.FIX#212] Normal pellet 1/12: extraOffset=0,5, distance=52,5px, pos=(985.77936, 156.16998)
[00:28:05] [INFO] [Shotgun.FIX#212] Normal pellet 2/12: extraOffset=-11,6, distance=40,4px, pos=(991.65094, 145.42673)
[00:28:05] [INFO] [Shotgun.FIX#212] Normal pellet 3/12: extraOffset=-12,1, distance=39,9px, pos=(990.01154, 143.58768)
[00:28:05] [INFO] [Shotgun.FIX#212] Normal pellet 4/12: extraOffset=14,8, distance=66,8px, pos=(973.18677, 164.50919)
[00:28:05] [INFO] [Shotgun.FIX#212] Normal pellet 5/12: extraOffset=-0,3, distance=51,7px, pos=(982.1334, 152.32246)
[00:28:05] [INFO] [Shotgun.FIX#212] Normal pellet 6/12: extraOffset=3,9, distance=55,9px, pos=(977.6807, 154.0158)
[00:28:05] [INFO] [Shotgun.FIX#212] Normal pellet 7/12: extraOffset=6,6, distance=58,6px, pos=(974.72906, 154.99844)
[00:28:05] [INFO] [Shotgun.FIX#212] Normal pellet 8/12: extraOffset=6,2, distance=58,2px, pos=(973.6278, 153.20578)
[00:28:05] [INFO] [Shotgun.FIX#212] Normal pellet 9/12: extraOffset=8,9, distance=60,9px, pos=(970.7245, 154.19028)
[00:28:05] [INFO] [Shotgun.FIX#212] Normal pellet 10/12: extraOffset=-8,9, distance=43,1px, pos=(983.5441, 141.7788)
[00:28:05] [INFO] [Shotgun.FIX#212] Normal pellet 11/12: extraOffset=-3,7, distance=48,3px, pos=(979.2265, 144.74008)
[00:28:05] [INFO] [Shotgun.FIX#212] Normal pellet 12/12: extraOffset=-12,0, distance=40,0px, pos=(984.425, 138.09889)
[00:28:05] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(1015.475, 112.8236), source=PLAYER (Shotgun), range=1469, listeners=2
[00:28:05] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=1
[00:28:05] [ENEMY] [Enemy4] Pursuing vulnerability sound at (1015.475, 112.8236), distance=312
[00:28:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(846.467, 333.34882), shooter_id=143059323215, bullet_pos=(1144.221, 41.880615)
[00:28:06] [INFO] [Bullet] Using shooter_position, distance=416,6667
[00:28:06] [INFO] [Bullet] Distance to wall: 416,6667 (28,371603% of viewport)
[00:28:06] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:28:06] [INFO] [LastChance] Threat detected: @Area2D@1713
[00:28:06] [INFO] [LastChance] Not in hard mode - effect disabled
[00:28:06] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:28:06] [ENEMY] [Enemy4] Hit taken, damage: 1, health: 2/2 -> 1/2
[00:28:06] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[00:28:06] [INFO] [ImpactEffects] spawn_blood_effect called at (848.5875, 343.7271), dir=(1, 0), lethal=false
[00:28:06] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[00:28:06] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[00:28:06] [INFO] [ImpactEffects] Blood effect spawned at (848.5875, 343.7271) (scale=1)
[00:28:06] [ENEMY] [Enemy4] Hit taken, damage: 1, health: 1/2 -> 0/2
[00:28:06] [ENEMY] [Enemy4] ImpactEffectsManager found, calling spawn_blood_effect
[00:28:06] [INFO] [ImpactEffects] spawn_blood_effect called at (848.5875, 343.7271), dir=(1, 0), lethal=true
[00:28:06] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[00:28:06] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[00:28:06] [INFO] [ImpactEffects] Blood effect spawned at (848.5875, 343.7271) (scale=1.5)
[00:28:06] [ENEMY] [Enemy4] Enemy died (ricochet: false, penetration: false)
[00:28:06] [INFO] [ScoreManager] Kill registered. Combo: 1 (points: 500)
[00:28:06] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[00:28:06] [INFO] [PowerFantasy] Starting power fantasy effect:
[00:28:06] [INFO] [PowerFantasy]   - Time scale: 0.10
[00:28:06] [INFO] [PowerFantasy]   - Duration: 300ms
[00:28:06] [INFO] [SoundPropagation] Unregistered listener: Enemy4 (remaining: 1)
[00:28:06] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[00:28:06] [ENEMY] [Enemy4] Death animation started with hit direction: (1, 0)
[00:28:06] [INFO] [ReplayManager] Recording frame 1440 (22,6s): player_valid=True, enemies=10
[00:28:06] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[00:28:06] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=NeedsPumpUp, ReloadState=NotReloading
[00:28:06] [INFO] [Shotgun.FIX#445] dragStartPos=(534, 631), aimDir=(-0,65, 0,76)
[00:28:06] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[00:28:06] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[00:28:06] [INFO] [Shotgun.FIX#445v7] Mid-drag pump UP - shell ejected, continue dragging DOWN to chamber
[00:28:06] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[00:28:06] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[00:28:06] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[00:28:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(876.1443, 318.1293), shooter_id=143059323215, bullet_pos=(1066.6289, 65.16057)
[00:28:06] [INFO] [Bullet] Using shooter_position, distance=316,66635
[00:28:06] [INFO] [Bullet] Distance to wall: 316,66635 (21,562395% of viewport)
[00:28:06] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:28:06] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=809), can_see=false
[00:28:06] [INFO] [PowerFantasy] Effect duration expired after 316.00 ms
[00:28:06] [INFO] [PowerFantasy] Ending power fantasy effect
[00:28:06] [INFO] [Shotgun.FIX#445v7] TryProcessMidDragGesture - dragVector=(-32,1, -389,7), length=391,0, isDragUp=True, isDragDown=False, ActionState=NeedsPumpDown
[00:28:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(846.467, 333.34882), shooter_id=143059323215, bullet_pos=(1362.76, 275.91855)
[00:28:06] [INFO] [Bullet] Using shooter_position, distance=519,47736
[00:28:06] [INFO] [Bullet] Distance to wall: 519,47736 (35,37217% of viewport)
[00:28:06] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:28:06] [INFO] [Shotgun.FIX#445v7] Mouse at bottom edge (Y=674), need PumpDown - recentering cursor
[00:28:06] [INFO] [Shotgun.FIX#445v7] Cursor recentered to (640, 360)
[00:28:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(876.1443, 318.1293), shooter_id=143059323215, bullet_pos=(1374.3947, 380.4864)
[00:28:06] [INFO] [Bullet] Using shooter_position, distance=502,13727
[00:28:06] [INFO] [Bullet] Distance to wall: 502,13727 (34,191452% of viewport)
[00:28:06] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:28:06] [INFO] [Shotgun.FIX#445v7] Mid-drag pump DOWN - chambered, ready to fire
[00:28:06] [INFO] [BloodDecal] Blood puddle created at (921.3027, 376.3305) (added to group)
[00:28:06] [INFO] [BloodDecal] Blood puddle created at (918.421, 373.6396) (added to group)
[00:28:06] [INFO] [BloodDecal] Blood puddle created at (905.1194, 338.6367) (added to group)
[00:28:06] [INFO] [BloodDecal] Blood puddle created at (896.8783, 339.7321) (added to group)
[00:28:06] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[00:28:06] [INFO] [BloodDecal] Blood puddle created at (897.7629, 378.6524) (added to group)
[00:28:06] [INFO] [BloodDecal] Blood puddle created at (920.248, 336.2093) (added to group)
[00:28:06] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[00:28:06] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[00:28:06] [INFO] [BloodDecal] Blood puddle created at (928.4738, 374.8527) (added to group)
[00:28:06] [INFO] [BloodDecal] Blood puddle created at (904.145, 391.3051) (added to group)
[00:28:06] [INFO] [BloodDecal] Blood puddle created at (913.949, 351.24) (added to group)
[00:28:06] [INFO] [BloodDecal] Blood puddle created at (952.1554, 403.6042) (added to group)
[00:28:06] [INFO] [BloodDecal] Blood puddle created at (969.9483, 365.3517) (added to group)
[00:28:06] [INFO] [Shotgun.FIX#243] RMB released after 7 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[00:28:06] [INFO] [Shotgun.FIX#445v7] ProcessDragGesture - dragVector=(34,5, 117,6), length=122,6, ActionState=Ready
[00:28:06] [INFO] [Shotgun.FIX#445v7] Screen-based pump gesture: isDragUp=False, isDragDown=True
[00:28:06] [INFO] [BloodDecal] Blood puddle created at (930.9008, 369.3237) (added to group)
[00:28:06] [INFO] [BloodDecal] Blood puddle created at (957.5125, 348.5848) (added to group)
[00:28:06] [INFO] [BloodDecal] Blood puddle created at (978.8942, 374.2749) (added to group)
[00:28:06] [INFO] [BloodDecal] Blood puddle created at (912.1073, 401.0324) (added to group)
[00:28:06] [INFO] [BloodDecal] Blood puddle created at (948.8681, 418.1782) (added to group)
[00:28:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(846.467, 333.34882), shooter_id=143059323215, bullet_pos=(936.027, 664.2541)
[00:28:06] [INFO] [Bullet] Using shooter_position, distance=342,81085
[00:28:06] [INFO] [Bullet] Distance to wall: 342,81085 (23,34262% of viewport)
[00:28:06] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:28:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(846.467, 333.34882), shooter_id=143059323215, bullet_pos=(976.2266, 703.495)
[00:28:06] [INFO] [Bullet] Using shooter_position, distance=392,23175
[00:28:06] [INFO] [Bullet] Distance to wall: 392,23175 (26,707783% of viewport)
[00:28:06] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:28:06] [ENEMY] [Enemy4] Ragdoll activated
[00:28:06] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[00:28:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(876.1443, 318.1293), shooter_id=143059323215, bullet_pos=(994.8014, 685.04016)
[00:28:06] [INFO] [Bullet] Using shooter_position, distance=385,6204
[00:28:06] [INFO] [Bullet] Distance to wall: 385,6204 (26,2576% of viewport)
[00:28:06] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:28:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(846.467, 333.34882), shooter_id=143059323215, bullet_pos=(924.293, 750.80316)
[00:28:06] [INFO] [Bullet] Using shooter_position, distance=424,64694
[00:28:06] [INFO] [Bullet] Distance to wall: 424,64694 (28,914991% of viewport)
[00:28:06] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:28:06] [INFO] [BloodDecal] Blood puddle created at (952.5886, 395.9541) (added to group)
[00:28:06] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=652), can_see=false
[00:28:06] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(876.1443, 318.1293), shooter_id=143059323215, bullet_pos=(926.45544, 640.1577)
[00:28:06] [INFO] [Bullet] Using shooter_position, distance=325,9348
[00:28:06] [INFO] [Bullet] Distance to wall: 325,9348 (22,193502% of viewport)
[00:28:06] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:28:06] [INFO] [Bullet] Starting wall penetration at (926.45544, 640.1577)
[00:28:06] [INFO] [Bullet] Raycast backward hit penetrating body at distance 13,294774
[00:28:06] [INFO] [BloodDecal] Blood puddle created at (1016.68, 353.0695) (added to group)
[00:28:06] [INFO] [Bullet] Body exited signal received for penetrating body
[00:28:06] [INFO] [Bullet] Exiting penetration at (900.8872, 623.3672) after traveling 25,588541 pixels through wall
[00:28:06] [INFO] [Bullet] Damage multiplier after penetration: 0,1125
[00:28:06] [INFO] [BloodDecal] Blood puddle created at (971.2149, 446.8133) (added to group)
[00:28:06] [INFO] [BloodDecal] Blood puddle created at (992.8135, 438.0379) (added to group)
[00:28:06] [INFO] [BloodDecal] Blood puddle created at (1047.549, 388.869) (added to group)
[00:28:06] [INFO] [BloodDecal] Blood puddle created at (966.5753, 386.9825) (added to group)
[00:28:06] [INFO] [BloodDecal] Blood puddle created at (1045.904, 509.0995) (added to group)
[00:28:06] [INFO] [BloodDecal] Blood puddle created at (1035.595, 482.2896) (added to group)
[00:28:06] [INFO] [BloodDecal] Blood puddle created at (1034.975, 432.1508) (added to group)
[00:28:06] [INFO] [BloodDecal] Blood puddle created at (981.8217, 493.6964) (added to group)
[00:28:06] [INFO] [BloodDecal] Blood puddle created at (956.9595, 468.9407) (added to group)
[00:28:06] [INFO] [BloodDecal] Blood puddle created at (1034.167, 502.4763) (added to group)
[00:28:07] [INFO] [BloodDecal] Blood puddle created at (963.526, 472.1066) (added to group)
[00:28:07] [INFO] [BloodDecal] Blood puddle created at (964.9677, 426.4448) (added to group)
[00:28:07] [INFO] [ReplayManager] Recording frame 1500 (23,3s): player_valid=True, enemies=10
[00:28:07] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(846.467, 333.34882), shooter_id=143059323215, bullet_pos=(1173.2733, 1005.62616)
[00:28:07] [INFO] [Bullet] Using shooter_position, distance=747,50195
[00:28:07] [INFO] [Bullet] Distance to wall: 747,50195 (50,898785% of viewport)
[00:28:07] [INFO] [Bullet] Distance-based penetration chance: 87,28476%
[00:28:07] [INFO] [Bullet] Starting wall penetration at (1173.2733, 1005.62616)
[00:28:07] [INFO] [Bullet] No longer inside obstacle - raycasts found no collision with penetrating body
[00:28:07] [INFO] [Bullet] Exiting penetration at (1189.6879, 1022.42596) after traveling 18,487722 pixels through wall
[00:28:07] [INFO] [Bullet] Damage multiplier after penetration: 0,028125
[00:28:07] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=false (dist=488), can_see=false
[00:28:07] [ENEMY] [Enemy4] Death animation completed
[00:28:07] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=330), can_see=false
[00:28:08] [INFO] [ReplayManager] Recording frame 1560 (24,3s): player_valid=True, enemies=10
[00:28:08] [ENEMY] [Enemy1] Player vulnerable (ammo_empty) but cannot attack: close=true (dist=195), can_see=false
[00:28:08] [ENEMY] [Enemy1] ROT_CHANGE: P5:idle_scan -> P1:visible, state=IDLE, target=-52.2°, current=-101.3°, player=(295,112), corner_timer=0.00
[00:28:08] [ENEMY] [Enemy1] Player empty ammo - priority attack triggered
[00:28:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(178.0679, 264.2817), source=ENEMY (Enemy1), range=1469, listeners=1
[00:28:08] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=0
[00:28:08] [INFO] [LastChance] Threat detected: Bullet
[00:28:08] [INFO] [LastChance] Not in hard mode - effect disabled
[00:28:08] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:28:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(225.65855, 215.64294), shooter_id=142002358015, bullet_pos=(353.3305, 51.01411)
[00:28:08] [INFO] [Bullet] Using shooter_position, distance=208,33334
[00:28:08] [INFO] [Bullet] Distance to wall: 208,33334 (14,1858015% of viewport)
[00:28:08] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:28:08] [INFO] [Bullet] Starting wall penetration at (353.3305, 51.01411)
[00:28:08] [INFO] [Bullet] Raycast backward hit penetrating body at distance 22,604849
[00:28:08] [INFO] [Bullet] Body exited signal received for penetrating body
[00:28:08] [INFO] [Bullet] Exiting penetration at (381.92902, 14.137249) after traveling 41,666668 pixels through wall
[00:28:08] [INFO] [Bullet] Damage multiplier after penetration: 0,9
[00:28:08] [ENEMY] [Enemy1] Player empty ammo - priority attack triggered
[00:28:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(178.0679, 264.2817), source=ENEMY (Enemy1), range=1469, listeners=1
[00:28:08] [INFO] [SoundPropagation] Sound result: notified=0, out_of_range=0, self=1, below_threshold=0
[00:28:08] [INFO] [LastChance] Threat detected: @Area2D@1796
[00:28:08] [INFO] [LastChance] Not in hard mode - effect disabled
[00:28:08] [INFO] [LastChance] Cannot trigger effect - conditions not met
[00:28:08] [INFO] [SoundPropagation] Sound emitted: type=EMPTY_CLICK, pos=(235.0257, 112.8236), source=PLAYER (Player), range=600, listeners=1
[00:28:08] [ENEMY] [Enemy1] Heard player EMPTY_CLICK at (235.0257, 112.8236), intensity=0.10, distance=162
[00:28:08] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=0
[00:28:08] [INFO] [Shotgun.FIX#212] Firing 16 pellets with 15° spread at pos=(235.0257, 112.82358)
[00:28:08] [INFO] [Shotgun.FIX#212] Normal pellet 1/16: extraOffset=7,5, distance=59,5px, pos=(235.34502, 172.36584)
[00:28:08] [INFO] [Shotgun.FIX#212] Normal pellet 2/16: extraOffset=5,4, distance=57,4px, pos=(235.37369, 170.19153)
[00:28:08] [INFO] [Shotgun.FIX#212] Normal pellet 3/16: extraOffset=13,1, distance=65,1px, pos=(233.5579, 177.9525)
[00:28:08] [INFO] [Shotgun.FIX#212] Normal pellet 4/16: extraOffset=1,4, distance=53,4px, pos=(233.24039, 166.18613)
[00:28:08] [INFO] [Shotgun.FIX#212] Normal pellet 5/16: extraOffset=3,4, distance=55,4px, pos=(233.45334, 168.16534)
[00:28:08] [INFO] [Shotgun.FIX#212] Normal pellet 6/16: extraOffset=12,0, distance=64,0px, pos=(231.02313, 176.74313)
[00:28:08] [INFO] [Shotgun.FIX#212] Normal pellet 7/16: extraOffset=11,9, distance=63,9px, pos=(228.3074, 176.33203)
[00:28:08] [INFO] [Shotgun.FIX#212] Normal pellet 8/16: extraOffset=12,9, distance=64,9px, pos=(228.07443, 177.33493)
[00:28:08] [INFO] [Shotgun.FIX#212] Normal pellet 9/16: extraOffset=-12,2, distance=39,8px, pos=(229.8686, 152.33362)
[00:28:08] [INFO] [Shotgun.FIX#212] Normal pellet 10/16: extraOffset=0,9, distance=52,9px, pos=(227.0475, 165.12766)
[00:28:08] [INFO] [Shotgun.FIX#212] Normal pellet 11/16: extraOffset=-9,7, distance=42,3px, pos=(229.04568, 154.73517)
[00:28:08] [INFO] [Shotgun.FIX#212] Normal pellet 12/16: extraOffset=-9,0, distance=43,0px, pos=(228.46275, 155.35474)
[00:28:08] [INFO] [Shotgun.FIX#212] Normal pellet 13/16: extraOffset=5,1, distance=57,1px, pos=(223.8866, 168.85052)
[00:28:08] [INFO] [Shotgun.FIX#212] Normal pellet 14/16: extraOffset=11,0, distance=63,0px, pos=(220.96867, 174.18756)
[00:28:08] [INFO] [Shotgun.FIX#212] Normal pellet 15/16: extraOffset=-0,3, distance=51,7px, pos=(223.31125, 163.20879)
[00:28:08] [INFO] [Shotgun.FIX#212] Normal pellet 16/16: extraOffset=-4,5, distance=47,5px, pos=(224.38696, 159.13792)
[00:28:08] [INFO] [SoundPropagation] Sound emitted: type=GUNSHOT, pos=(235.0257, 112.8236), source=PLAYER (Shotgun), range=1469, listeners=1
[00:28:08] [INFO] [SoundPropagation] Sound result: notified=1, out_of_range=0, self=0, below_threshold=0
[00:28:08] [INFO] [Bullet] _get_distance_to_shooter: shooter_position=(216.23404, 207.94391), shooter_id=142002358015, bullet_pos=(293.27945, 60.154236)
[00:28:08] [INFO] [Bullet] Using shooter_position, distance=166,66667
[00:28:08] [INFO] [Bullet] Distance to wall: 166,66667 (11,34864% of viewport)
[00:28:08] [INFO] [Bullet] Within ricochet range - trying ricochet first
[00:28:08] [ENEMY] [Enemy1] Hit taken, damage: 1, health: 3/3 -> 2/3
[00:28:08] [ENEMY] [Enemy1] ImpactEffectsManager found, calling spawn_blood_effect
[00:28:08] [INFO] [ImpactEffects] spawn_blood_effect called at (178.0679, 264.2817), dir=(1, 0), lethal=false
[00:28:08] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[00:28:08] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[00:28:08] [INFO] [ImpactEffects] Wall found for blood splatter at (220, 264.2817) (dist=41 px)
[00:28:08] [INFO] [BloodDecal] Blood puddle created at (219, 264.2817) (added to group)
[00:28:08] [INFO] [ImpactEffects] Blood effect spawned at (178.0679, 264.2817) (scale=1)
[00:28:08] [ENEMY] [Enemy1] ROT_CHANGE: P1:visible -> P2:combat_state, state=COMBAT, target=-73.1°, current=180.0°, player=(224,112), corner_timer=0.00
[00:28:08] [ENEMY] [Enemy1] Hit taken, damage: 1, health: 2/3 -> 1/3
[00:28:08] [ENEMY] [Enemy1] ImpactEffectsManager found, calling spawn_blood_effect
[00:28:08] [INFO] [ImpactEffects] spawn_blood_effect called at (178.0679, 264.2817), dir=(1, 0), lethal=false
[00:28:08] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[00:28:08] [INFO] [ImpactEffects] Blood decals scheduled: 10 to spawn at particle landing times
[00:28:08] [INFO] [ImpactEffects] Wall found for blood splatter at (220, 264.2817) (dist=41 px)
[00:28:08] [INFO] [BloodDecal] Blood puddle created at (219, 264.2817) (added to group)
[00:28:08] [INFO] [ImpactEffects] Blood effect spawned at (178.0679, 264.2817) (scale=1)
[00:28:08] [ENEMY] [Enemy1] Hit taken, damage: 1, health: 1/3 -> 0/3
[00:28:08] [ENEMY] [Enemy1] ImpactEffectsManager found, calling spawn_blood_effect
[00:28:08] [INFO] [ImpactEffects] spawn_blood_effect called at (178.0679, 264.2817), dir=(1, 0), lethal=true
[00:28:08] [INFO] [ImpactEffects] Blood particle effect instantiated successfully
[00:28:08] [INFO] [ImpactEffects] Blood decals scheduled: 20 to spawn at particle landing times
[00:28:08] [INFO] [ImpactEffects] Wall found for blood splatter at (220, 264.2817) (dist=41 px)
[00:28:08] [INFO] [BloodDecal] Blood puddle created at (219, 264.2817) (added to group)
[00:28:08] [INFO] [ImpactEffects] Blood effect spawned at (178.0679, 264.2817) (scale=1.5)
[00:28:08] [ENEMY] [Enemy1] Enemy died (ricochet: false, penetration: false)
[00:28:08] [INFO] [ScoreManager] Kill registered. Combo: 2 (points: 1500)
[00:28:08] [INFO] [PowerFantasy] Enemy killed - triggering 300ms last chance effect
[00:28:08] [INFO] [PowerFantasy] Starting power fantasy effect:
[00:28:08] [INFO] [PowerFantasy]   - Time scale: 0.10
[00:28:08] [INFO] [PowerFantasy]   - Duration: 300ms
[00:28:08] [INFO] [SoundPropagation] Unregistered listener: Enemy1 (remaining: 0)
[00:28:08] [INFO] [DeathAnim] Started - Angle: 0.0 deg, Index: 12
[00:28:08] [ENEMY] [Enemy1] Death animation started with hit direction: (1, 0)
[00:28:08] [INFO] [PowerFantasy] Effect duration expired after 314.00 ms
[00:28:08] [INFO] [PowerFantasy] Ending power fantasy effect
[00:28:09] [INFO] [ReplayManager] Recording frame 1620 (25,0s): player_valid=True, enemies=10
[00:28:09] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[00:28:09] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=NeedsPumpUp, ReloadState=NotReloading
[00:28:09] [INFO] [Shotgun.FIX#445] dragStartPos=(213, 347), aimDir=(0,21, 0,98)
[00:28:09] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[00:28:09] [INFO] [Shotgun.FIX#445v7] Mid-drag pump UP - shell ejected, continue dragging DOWN to chamber
[00:28:09] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[00:28:09] [INFO] [BloodDecal] Blood puddle created at (220.8201, 284.7588) (added to group)
[00:28:09] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[00:28:09] [INFO] [BloodDecal] Blood puddle created at (223.2059, 294.4858) (added to group)
[00:28:09] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[00:28:09] [INFO] [BloodDecal] Blood puddle created at (235.2052, 297.4667) (added to group)
[00:28:09] [INFO] [BloodDecal] Blood puddle created at (269.5264, 307.0268) (added to group)
[00:28:09] [INFO] [BloodDecal] Blood puddle created at (265.7986, 327.4614) (added to group)
[00:28:09] [INFO] [BloodDecal] Blood puddle created at (262.6453, 340.7361) (added to group)
[00:28:09] [INFO] [BloodDecal] Blood puddle created at (243.4451, 287.675) (added to group)
[00:28:09] [ENEMY] [Enemy1] Ragdoll activated
[00:28:09] [INFO] [DeathAnim] Ragdoll activated at 60% fall progress
[00:28:09] [INFO] [Shotgun.FIX#445v7] Mid-drag pump DOWN - chambered, ready to fire
[00:28:09] [INFO] [BloodDecal] Blood puddle created at (254.7199, 287.9839) (added to group)
[00:28:09] [INFO] [BloodDecal] Blood puddle created at (253.9067, 289.804) (added to group)
[00:28:09] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[00:28:09] [INFO] [BloodDecal] Blood puddle created at (266.8066, 354.9213) (added to group)
[00:28:09] [INFO] [BloodDecal] Blood puddle created at (287.2318, 381.2986) (added to group)
[00:28:09] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[00:28:09] [INFO] [BloodDecal] Blood puddle created at (328.5538, 329.1565) (added to group)
[00:28:09] [INFO] [BloodDecal] Blood puddle created at (293.7662, 394.112) (added to group)
[00:28:09] [INFO] [BloodDecal] Blood puddle created at (317.1744, 400.9774) (added to group)
[00:28:09] [INFO] [BloodDecal] Blood puddle created at (342.0465, 357.974) (added to group)
[00:28:09] [INFO] [BloodDecal] Blood puddle created at (327.3411, 361.5627) (added to group)
[00:28:09] [INFO] [BloodDecal] Blood puddle created at (343.0116, 302.6148) (added to group)
[00:28:09] [INFO] [BloodDecal] Blood puddle created at (307.3323, 380.2022) (added to group)
[00:28:09] [INFO] [BloodDecal] Blood puddle created at (271.2863, 383.3122) (added to group)
[00:28:09] [INFO] [BloodDecal] Blood puddle created at (354.4857, 357.6617) (added to group)
[00:28:09] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[00:28:09] [INFO] [BloodDecal] Blood puddle created at (360.5309, 423.9217) (added to group)
[00:28:09] [INFO] [BloodDecal] Blood puddle created at (278.9704, 331.7789) (added to group)
[00:28:09] [INFO] [BloodDecal] Blood puddle created at (334.466, 422.1107) (added to group)
[00:28:09] [INFO] [BloodDecal] Blood puddle created at (354.3611, 393.4476) (added to group)
[00:28:09] [INFO] [BloodDecal] Blood puddle created at (327.1313, 353.2924) (added to group)
[00:28:09] [INFO] [BloodDecal] Blood puddle created at (270.0656, 316.8161) (added to group)
[00:28:09] [INFO] [BloodDecal] Blood puddle created at (319.2138, 373.9393) (added to group)
[00:28:09] [INFO] [BloodDecal] Blood puddle created at (364.6857, 339.3388) (added to group)
[00:28:09] [INFO] [Shotgun.FIX#243] RMB released after 4 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[00:28:09] [INFO] [Shotgun.FIX#445v7] ProcessDragGesture - dragVector=(42,8, 161,0), length=166,5, ActionState=Ready
[00:28:09] [INFO] [Shotgun.FIX#445v7] Screen-based pump gesture: isDragUp=False, isDragDown=True
[00:28:09] [INFO] [BloodDecal] Blood puddle created at (294.8318, 334.3405) (added to group)
[00:28:09] [INFO] [BloodDecal] Blood puddle created at (292.5229, 382.6854) (added to group)
[00:28:09] [INFO] [BloodDecal] Blood puddle created at (289.0543, 309.1432) (added to group)
[00:28:09] [INFO] [BloodDecal] Blood puddle created at (346.3538, 318.1071) (added to group)
[00:28:09] [INFO] [BloodDecal] Blood puddle created at (412.5281, 385.6912) (added to group)
[00:28:10] [INFO] [ReplayManager] Recording frame 1680 (26,0s): player_valid=True, enemies=10
[00:28:10] [ENEMY] [Enemy1] Death animation completed
[00:28:10] [INFO] [BloodyFeet:Player] Stepped in blood! 12 footprints to spawn, color: (1, 1, 1, 1)
[00:28:11] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[00:28:11] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=Ready, ReloadState=NotReloading
[00:28:11] [INFO] [Shotgun.FIX#445] dragStartPos=(533, 557), aimDir=(0,91, -0,41)
[00:28:11] [INFO] [ReplayManager] Recording frame 1740 (27,0s): player_valid=True, enemies=10
[00:28:11] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[00:28:11] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[00:28:11] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[00:28:11] [INFO] [Shotgun.FIX#243] Bolt opened for loading - ReloadState=Loading, ShellsInTube=1/8
[00:28:11] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[00:28:11] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[00:28:11] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[00:28:11] [INFO] [Shotgun.FIX#243] RMB released after 5 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[00:28:11] [INFO] [Shotgun.FIX#445v7] ProcessDragGesture - dragVector=(62,8, -229,0), length=237,5, ActionState=Ready
[00:28:11] [INFO] [Shotgun.EVENT] MMB event: pressed=True (was False), isDragging=False
[00:28:11] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[00:28:11] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=True, raw=True, event=True, any=True, ActionState=Ready, ReloadState=Loading
[00:28:11] [INFO] [Shotgun.FIX#445] dragStartPos=(597, 282), aimDir=(0,91, -0,41)
[00:28:11] [INFO] [Shotgun.DIAG] Frame 1: poll=True, raw=True, event=True, any=True, wasMMB=True
[00:28:11] [INFO] [Shotgun.DIAG] Frame 2: poll=True, raw=True, event=True, any=True, wasMMB=True
[00:28:11] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[00:28:11] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[00:28:11] [INFO] [Shotgun.DIAG] Frame 3: poll=True, raw=True, event=True, any=True, wasMMB=True
[00:28:11] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[00:28:11] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[00:28:11] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[00:28:11] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[00:28:11] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[00:28:11] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[00:28:11] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[00:28:11] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[00:28:11] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[00:28:11] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[00:28:11] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[00:28:11] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[00:28:11] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[00:28:11] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[00:28:11] [INFO] [Shotgun.FIX#445v7] TryProcessMidDragGesture - dragVector=(-48,1, 357,0), length=360,2, isDragUp=False, isDragDown=True, ActionState=Ready
[00:28:11] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[00:28:11] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[00:28:11] [INFO] [Shotgun.FIX#243] RMB released after 10 frames - wasMMBDuringDrag=True, current: poll=True, raw=True, event=True
[00:28:11] [INFO] [Shotgun.FIX#445v7] ProcessDragGesture - dragVector=(-46,8, 340,3), length=343,5, ActionState=Ready
[00:28:11] [INFO] [Shotgun.FIX#477] RMB release in Loading state: wasMMBDuringDrag=True, isMMBHeld=True, shellLoadedMidDrag=False => shouldLoadShell=True
[00:28:11] [INFO] [Shotgun.FIX#477] Loading shell (MMB was held during drag)
[00:28:11] [INFO] [Shotgun.FIX#243] LoadShell called - ReloadState=Loading, ShellsInTube=1/8, Tutorial=False, ReserveAmmo=36
[00:28:11] [INFO] [Shotgun.FIX#243] Shell LOADED - 2/8 shells in tube
[00:28:11] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[00:28:11] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=True, raw=True, event=True, any=True, ActionState=Ready, ReloadState=Loading
[00:28:11] [INFO] [Shotgun.FIX#445] dragStartPos=(585, 508), aimDir=(0,91, -0,41)
[00:28:11] [INFO] [Shotgun.DIAG] Frame 1: poll=True, raw=True, event=True, any=True, wasMMB=True
[00:28:11] [INFO] [Shotgun.DIAG] Frame 2: poll=True, raw=True, event=True, any=True, wasMMB=True
[00:28:11] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[00:28:11] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[00:28:11] [INFO] [BloodyFeet:Player] Blood ran out - no more footprints
[00:28:11] [INFO] [Shotgun.DIAG] Frame 3: poll=True, raw=True, event=True, any=True, wasMMB=True
[00:28:11] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[00:28:11] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[00:28:11] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[00:28:11] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[00:28:11] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[00:28:11] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[00:28:11] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[00:28:11] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[00:28:11] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[00:28:11] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[00:28:11] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[00:28:11] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[00:28:11] [INFO] [Shotgun.FIX#243] RMB released after 8 frames - wasMMBDuringDrag=True, current: poll=True, raw=True, event=True
[00:28:11] [INFO] [Shotgun.FIX#445v7] ProcessDragGesture - dragVector=(-35,4, 120,8), length=125,9, ActionState=Ready
[00:28:11] [INFO] [Shotgun.FIX#477] RMB release in Loading state: wasMMBDuringDrag=True, isMMBHeld=True, shellLoadedMidDrag=False => shouldLoadShell=True
[00:28:11] [INFO] [Shotgun.FIX#477] Loading shell (MMB was held during drag)
[00:28:11] [INFO] [Shotgun.FIX#243] LoadShell called - ReloadState=Loading, ShellsInTube=2/8, Tutorial=False, ReserveAmmo=35
[00:28:11] [INFO] [Shotgun.FIX#243] Shell LOADED - 3/8 shells in tube
[00:28:12] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[00:28:12] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=True, raw=True, event=True, any=True, ActionState=Ready, ReloadState=Loading
[00:28:12] [INFO] [Shotgun.FIX#445] dragStartPos=(556, 559), aimDir=(0,91, -0,41)
[00:28:12] [INFO] [Shotgun.DIAG] Frame 1: poll=True, raw=True, event=True, any=True, wasMMB=True
[00:28:12] [INFO] [Shotgun.DIAG] Frame 2: poll=True, raw=True, event=True, any=True, wasMMB=True
[00:28:12] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[00:28:12] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[00:28:12] [INFO] [ReplayManager] Recording frame 1800 (28,0s): player_valid=True, enemies=10
[00:28:12] [INFO] [Shotgun.DIAG] Frame 3: poll=True, raw=True, event=True, any=True, wasMMB=True
[00:28:12] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[00:28:12] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[00:28:12] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[00:28:12] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[00:28:12] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[00:28:12] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[00:28:12] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[00:28:12] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[00:28:12] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[00:28:12] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[00:28:12] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[00:28:12] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[00:28:12] [INFO] [Shotgun.FIX#243] RMB released after 8 frames - wasMMBDuringDrag=True, current: poll=True, raw=True, event=True
[00:28:12] [INFO] [Shotgun.FIX#445v7] ProcessDragGesture - dragVector=(-82,2, 218,7), length=233,6, ActionState=Ready
[00:28:12] [INFO] [Shotgun.FIX#477] RMB release in Loading state: wasMMBDuringDrag=True, isMMBHeld=True, shellLoadedMidDrag=False => shouldLoadShell=True
[00:28:12] [INFO] [Shotgun.FIX#477] Loading shell (MMB was held during drag)
[00:28:12] [INFO] [Shotgun.FIX#243] LoadShell called - ReloadState=Loading, ShellsInTube=3/8, Tutorial=False, ReserveAmmo=34
[00:28:12] [INFO] [Shotgun.FIX#243] Shell LOADED - 4/8 shells in tube
[00:28:12] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[00:28:12] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=True, raw=True, event=True, any=True, ActionState=Ready, ReloadState=Loading
[00:28:12] [INFO] [Shotgun.FIX#445] dragStartPos=(441, 821), aimDir=(0,91, -0,41)
[00:28:12] [INFO] [Shotgun.DIAG] Frame 1: poll=True, raw=True, event=True, any=True, wasMMB=True
[00:28:12] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[00:28:12] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[00:28:12] [INFO] [Shotgun.DIAG] Frame 2: poll=True, raw=True, event=True, any=True, wasMMB=True
[00:28:12] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[00:28:12] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[00:28:12] [INFO] [Shotgun.DIAG] Frame 3: poll=True, raw=True, event=True, any=True, wasMMB=True
[00:28:12] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[00:28:12] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[00:28:12] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[00:28:12] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[00:28:12] [INFO] [Shotgun.FIX#243] RMB released after 4 frames - wasMMBDuringDrag=True, current: poll=True, raw=True, event=True
[00:28:12] [INFO] [Shotgun.FIX#445v7] ProcessDragGesture - dragVector=(-32,7, 104,0), length=109,0, ActionState=Ready
[00:28:12] [INFO] [Shotgun.FIX#477] RMB release in Loading state: wasMMBDuringDrag=True, isMMBHeld=True, shellLoadedMidDrag=False => shouldLoadShell=True
[00:28:12] [INFO] [Shotgun.FIX#477] Loading shell (MMB was held during drag)
[00:28:12] [INFO] [Shotgun.FIX#243] LoadShell called - ReloadState=Loading, ShellsInTube=4/8, Tutorial=False, ReserveAmmo=33
[00:28:12] [INFO] [Shotgun.FIX#243] Shell LOADED - 5/8 shells in tube
[00:28:12] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[00:28:12] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=True, raw=True, event=True, any=True, ActionState=Ready, ReloadState=Loading
[00:28:12] [INFO] [Shotgun.FIX#445] dragStartPos=(442, 761), aimDir=(0,91, -0,41)
[00:28:12] [INFO] [Shotgun.DIAG] Frame 1: poll=True, raw=True, event=True, any=True, wasMMB=True
[00:28:12] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[00:28:12] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[00:28:12] [INFO] [Shotgun.DIAG] Frame 2: poll=True, raw=True, event=True, any=True, wasMMB=True
[00:28:12] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[00:28:12] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[00:28:12] [INFO] [Shotgun.DIAG] Frame 3: poll=True, raw=True, event=True, any=True, wasMMB=True
[00:28:12] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[00:28:12] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[00:28:12] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[00:28:12] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[00:28:12] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[00:28:12] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[00:28:12] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[00:28:12] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[00:28:12] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[00:28:12] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[00:28:12] [INFO] [Shotgun.FIX#243] RMB released after 7 frames - wasMMBDuringDrag=True, current: poll=True, raw=True, event=True
[00:28:12] [INFO] [Shotgun.FIX#445v7] ProcessDragGesture - dragVector=(-90,9, 274,8), length=289,4, ActionState=Ready
[00:28:12] [INFO] [Shotgun.FIX#477] RMB release in Loading state: wasMMBDuringDrag=True, isMMBHeld=True, shellLoadedMidDrag=False => shouldLoadShell=True
[00:28:12] [INFO] [Shotgun.FIX#477] Loading shell (MMB was held during drag)
[00:28:12] [INFO] [Shotgun.FIX#243] LoadShell called - ReloadState=Loading, ShellsInTube=5/8, Tutorial=False, ReserveAmmo=32
[00:28:12] [INFO] [Shotgun.FIX#243] Shell LOADED - 6/8 shells in tube
[00:28:12] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[00:28:12] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=True, raw=True, event=True, any=True, ActionState=Ready, ReloadState=Loading
[00:28:12] [INFO] [Shotgun.FIX#445] dragStartPos=(406, 765), aimDir=(0,91, -0,41)
[00:28:12] [INFO] [Shotgun.DIAG] Frame 1: poll=True, raw=True, event=True, any=True, wasMMB=True
[00:28:12] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[00:28:12] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[00:28:12] [INFO] [Shotgun.DIAG] Frame 2: poll=True, raw=True, event=True, any=True, wasMMB=True
[00:28:12] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[00:28:12] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[00:28:12] [INFO] [Shotgun.DIAG] Frame 3: poll=True, raw=True, event=True, any=True, wasMMB=True
[00:28:12] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[00:28:12] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[00:28:12] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[00:28:12] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[00:28:12] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[00:28:12] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[00:28:12] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[00:28:12] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[00:28:12] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[00:28:12] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[00:28:12] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[00:28:12] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[00:28:12] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[00:28:12] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[00:28:12] [INFO] [Shotgun.FIX#243] RMB released after 9 frames - wasMMBDuringDrag=True, current: poll=True, raw=True, event=True
[00:28:12] [INFO] [Shotgun.FIX#445v7] ProcessDragGesture - dragVector=(-74,8, 181,1), length=196,0, ActionState=Ready
[00:28:12] [INFO] [Shotgun.FIX#477] RMB release in Loading state: wasMMBDuringDrag=True, isMMBHeld=True, shellLoadedMidDrag=False => shouldLoadShell=True
[00:28:12] [INFO] [Shotgun.FIX#477] Loading shell (MMB was held during drag)
[00:28:12] [INFO] [Shotgun.FIX#243] LoadShell called - ReloadState=Loading, ShellsInTube=6/8, Tutorial=False, ReserveAmmo=31
[00:28:12] [INFO] [Shotgun.FIX#243] Shell LOADED - 7/8 shells in tube
[00:28:13] [INFO] [ReplayManager] Recording frame 1860 (29,0s): player_valid=True, enemies=10
[00:28:13] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[00:28:13] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=True, raw=True, event=True, any=True, ActionState=Ready, ReloadState=Loading
[00:28:13] [INFO] [Shotgun.FIX#445] dragStartPos=(303, 1014), aimDir=(0,91, -0,41)
[00:28:13] [INFO] [Shotgun.DIAG] Frame 1: poll=True, raw=True, event=True, any=True, wasMMB=True
[00:28:13] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[00:28:13] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[00:28:13] [INFO] [Shotgun.DIAG] Frame 2: poll=True, raw=True, event=True, any=True, wasMMB=True
[00:28:13] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[00:28:13] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[00:28:13] [INFO] [Shotgun.DIAG] Frame 3: poll=True, raw=True, event=True, any=True, wasMMB=True
[00:28:13] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[00:28:13] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[00:28:13] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[00:28:13] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[00:28:13] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[00:28:13] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[00:28:13] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=True
[00:28:13] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN with MMB - waiting for RMB release to load shell
[00:28:13] [INFO] [Shotgun.FIX#243] RMB released after 6 frames - wasMMBDuringDrag=True, current: poll=True, raw=True, event=True
[00:28:13] [INFO] [Shotgun.FIX#445v7] ProcessDragGesture - dragVector=(-62,1, 152,1), length=164,3, ActionState=Ready
[00:28:13] [INFO] [Shotgun.FIX#477] RMB release in Loading state: wasMMBDuringDrag=True, isMMBHeld=True, shellLoadedMidDrag=False => shouldLoadShell=True
[00:28:13] [INFO] [Shotgun.FIX#477] Loading shell (MMB was held during drag)
[00:28:13] [INFO] [Shotgun.FIX#243] LoadShell called - ReloadState=Loading, ShellsInTube=7/8, Tutorial=False, ReserveAmmo=30
[00:28:13] [INFO] [Shotgun.FIX#243] Shell LOADED - 8/8 shells in tube
[00:28:13] [INFO] [Shotgun.EVENT] MMB event: pressed=False (was True), isDragging=False
[00:28:13] [INFO] [Player.Grenade] Mode check: complex=False, settings_node=True
[00:28:13] [INFO] [Shotgun.FIX#243] RMB drag started - MMB: poll=False, raw=False, event=False, any=False, ActionState=Ready, ReloadState=Loading
[00:28:13] [INFO] [Shotgun.FIX#445] dragStartPos=(290, 922), aimDir=(0,91, -0,41)
[00:28:13] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[00:28:13] [INFO] [Shotgun.FIX#477v3] Mid-drag DOWN in Loading state: shouldLoad=False
[00:28:13] [INFO] [Shotgun.FIX#243] Reload complete - bolt closed, ready to fire with 8 shells
[00:28:13] [INFO] [Shotgun.FIX#477v3] Mid-drag bolt closed (MMB not held)
[00:28:13] [INFO] [Shotgun.DIAG] Frame 1: poll=False, raw=False, event=False, any=False, wasMMB=False
[00:28:13] [INFO] [Shotgun.DIAG] Frame 2: poll=False, raw=False, event=False, any=False, wasMMB=False
[00:28:13] [INFO] [Shotgun.DIAG] Frame 3: poll=False, raw=False, event=False, any=False, wasMMB=False
[00:28:13] [INFO] [Shotgun.FIX#243] RMB released after 5 frames - wasMMBDuringDrag=False, current: poll=False, raw=False, event=False
[00:28:13] [INFO] [Shotgun.FIX#445v7] ProcessDragGesture - dragVector=(-43,4, 357,4), length=360,0, ActionState=Ready
[00:28:13] [INFO] [Shotgun.FIX#445v7] Screen-based pump gesture: isDragUp=False, isDragDown=True
[00:28:13] [INFO] [BuildingLevel] Player controls disabled (level completed)
[00:28:13] [INFO] [ReplayManager] === REPLAY RECORDING STOPPED ===
[00:28:13] [INFO] [ReplayManager] Total frames recorded: 1905
[00:28:13] [INFO] [ReplayManager] Total duration: 29,75s
[00:28:13] [INFO] [ReplayManager] has_replay() will return: True
[00:28:13] [INFO] [BuildingLevel] Replay recording stopped
[00:28:13] [INFO] [BuildingLevel] Replay status: has_replay=true, duration=29.75s
[00:28:13] [INFO] [ScoreManager] Combo ended at 2. Max combo: 8
[00:28:13] [INFO] [ScoreManager] Level completed! Final score: 74393, Rank: S
[00:28:21] [INFO] [BuildingLevel] Watch Replay button created (replay data available)
[00:28:23] [INFO] [BuildingLevel] Watch Replay triggered
[00:28:23] [INFO] [ReplayManager] Ghost player Camera2D activated for replay
[00:28:23] [INFO] [ReplayManager] Hidden CanvasLayer (score screen) for replay visibility
[00:28:23] [INFO] [ReplayManager] Started replay playback. Frames: 1905, Duration: 29,75s
[00:29:04] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[00:29:04] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:29:04] [INFO] [BloodyFeet:Enemy1] Footprint scene loaded
[00:29:04] [INFO] [BloodyFeet:Enemy1] Found EnemyModel for facing direction
[00:29:04] [INFO] [BloodyFeet:Enemy1] BloodyFeetComponent ready on Enemy1
[00:29:04] [INFO] [ImpactEffects] Scene changed - clearing all stale effect references
[00:29:04] [INFO] [PenultimateHit] Resetting all effects (scene change detected)
[00:29:04] [INFO] [LastChance] Resetting all effects (scene change detected)
[00:29:04] [INFO] [CinemaEffects] Scene changed to: BuildingLevel
[00:29:04] [INFO] [PowerFantasy] Resetting all effects (scene change detected)
[00:29:04] [ENEMY] [Enemy1] Death animation component initialized
[00:29:04] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:29:04] [INFO] [BloodyFeet:Enemy2] Footprint scene loaded
[00:29:04] [INFO] [BloodyFeet:Enemy2] Found EnemyModel for facing direction
[00:29:04] [INFO] [BloodyFeet:Enemy2] BloodyFeetComponent ready on Enemy2
[00:29:04] [ENEMY] [Enemy2] Death animation component initialized
[00:29:04] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:29:04] [INFO] [BloodyFeet:Enemy3] Footprint scene loaded
[00:29:04] [INFO] [BloodyFeet:Enemy3] Found EnemyModel for facing direction
[00:29:04] [INFO] [BloodyFeet:Enemy3] BloodyFeetComponent ready on Enemy3
[00:29:04] [ENEMY] [Enemy3] Death animation component initialized
[00:29:04] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:29:04] [INFO] [BloodyFeet:Enemy4] Footprint scene loaded
[00:29:04] [INFO] [BloodyFeet:Enemy4] Found EnemyModel for facing direction
[00:29:04] [INFO] [BloodyFeet:Enemy4] BloodyFeetComponent ready on Enemy4
[00:29:04] [ENEMY] [Enemy4] Death animation component initialized
[00:29:04] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:29:04] [INFO] [BloodyFeet:Enemy5] Footprint scene loaded
[00:29:04] [INFO] [BloodyFeet:Enemy5] Found EnemyModel for facing direction
[00:29:04] [INFO] [BloodyFeet:Enemy5] BloodyFeetComponent ready on Enemy5
[00:29:04] [ENEMY] [Enemy5] Death animation component initialized
[00:29:04] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:29:04] [INFO] [BloodyFeet:Enemy6] Footprint scene loaded
[00:29:04] [INFO] [BloodyFeet:Enemy6] Found EnemyModel for facing direction
[00:29:04] [INFO] [BloodyFeet:Enemy6] BloodyFeetComponent ready on Enemy6
[00:29:04] [ENEMY] [Enemy6] Death animation component initialized
[00:29:04] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:29:04] [INFO] [BloodyFeet:Enemy7] Footprint scene loaded
[00:29:04] [INFO] [BloodyFeet:Enemy7] Found EnemyModel for facing direction
[00:29:04] [INFO] [BloodyFeet:Enemy7] BloodyFeetComponent ready on Enemy7
[00:29:04] [ENEMY] [Enemy7] Death animation component initialized
[00:29:04] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:29:04] [INFO] [BloodyFeet:Enemy8] Footprint scene loaded
[00:29:04] [INFO] [BloodyFeet:Enemy8] Found EnemyModel for facing direction
[00:29:04] [INFO] [BloodyFeet:Enemy8] BloodyFeetComponent ready on Enemy8
[00:29:04] [ENEMY] [Enemy8] Death animation component initialized
[00:29:04] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:29:04] [INFO] [BloodyFeet:Enemy9] Footprint scene loaded
[00:29:04] [INFO] [BloodyFeet:Enemy9] Found EnemyModel for facing direction
[00:29:04] [INFO] [BloodyFeet:Enemy9] BloodyFeetComponent ready on Enemy9
[00:29:04] [ENEMY] [Enemy9] Death animation component initialized
[00:29:04] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:29:04] [INFO] [BloodyFeet:Enemy10] Footprint scene loaded
[00:29:04] [INFO] [BloodyFeet:Enemy10] Found EnemyModel for facing direction
[00:29:04] [INFO] [BloodyFeet:Enemy10] BloodyFeetComponent ready on Enemy10
[00:29:04] [INFO] [EnemyGrenade] Initialized: 1 grenades
[00:29:04] [ENEMY] [Enemy10] Death animation component initialized
[00:29:04] [INFO] [BloodyFeet:?] BloodyFeetComponent initializing...
[00:29:04] [INFO] [BloodyFeet:Player] Footprint scene loaded
[00:29:04] [INFO] [BloodyFeet:Player] Found PlayerModel for facing direction
[00:29:04] [INFO] [BloodyFeet:Player] BloodyFeetComponent ready on Player
[00:29:04] [INFO] [Player.Grenade] Grenade scene loaded from GrenadeManager: F-1 Grenade
[00:29:04] [INFO] [Player.Grenade] Normal level - starting with 1 grenade
[00:29:04] [INFO] [Player.Init] Body sprite found at position: (-4, 0)
[00:29:04] [INFO] [Player.Init] Head sprite found at position: (-6, -2)
[00:29:04] [INFO] [Player.Init] Left arm sprite found at position: (24, 6)
[00:29:04] [INFO] [Player.Init] Right arm sprite found at position: (-2, 6)
[00:29:04] [INFO] [Player.Debug] Connected to GameManager, debug mode: False
[00:29:04] [INFO] [Player.Debug] Connected to GameManager, invincibility mode: True
[00:29:04] [INFO] [Player] Ready! Ammo: 30/30, Grenades: 1/3, Health: 10/10
[00:29:04] [INFO] [Player.Grenade] Throwing system: VELOCITY-BASED (v2.0 - mouse velocity at release)
[00:29:04] [INFO] [BuildingLevel] Found Environment/Enemies node with 10 children
[00:29:04] [INFO] [BuildingLevel] Child 'Enemy1': script=true, has_died_signal=true
[00:29:04] [INFO] [BuildingLevel] Child 'Enemy2': script=true, has_died_signal=true
[00:29:04] [INFO] [BuildingLevel] Child 'Enemy3': script=true, has_died_signal=true
[00:29:04] [INFO] [BuildingLevel] Child 'Enemy4': script=true, has_died_signal=true
[00:29:04] [INFO] [BuildingLevel] Child 'Enemy5': script=true, has_died_signal=true
[00:29:04] [INFO] [BuildingLevel] Child 'Enemy6': script=true, has_died_signal=true
[00:29:04] [INFO] [BuildingLevel] Child 'Enemy7': script=true, has_died_signal=true
[00:29:04] [INFO] [BuildingLevel] Child 'Enemy8': script=true, has_died_signal=true
[00:29:04] [INFO] [BuildingLevel] Child 'Enemy9': script=true, has_died_signal=true
[00:29:04] [INFO] [BuildingLevel] Child 'Enemy10': script=true, has_died_signal=true
[00:29:04] [INFO] [BuildingLevel] Enemy tracking complete: 10 enemies registered
[00:29:04] [INFO] [ScoreManager] Level started with 10 enemies
[00:29:04] [INFO] [BuildingLevel] ReplayManager found as C# autoload - verified OK
[00:29:04] [INFO] [BuildingLevel] Starting replay recording - Player: Player, Enemies count: 10
[00:29:04] [INFO] [ReplayManager] Replay data cleared
[00:29:04] [INFO] [BuildingLevel] Previous replay data cleared
[00:29:04] [INFO] [ReplayManager] === REPLAY RECORDING STARTED ===
[00:29:04] [INFO] [ReplayManager] Level: BuildingLevel
[00:29:04] [INFO] [ReplayManager] Player: Player (valid: True)
[00:29:04] [INFO] [ReplayManager] Enemies count: 10
[00:29:04] [INFO] [ReplayManager]   Enemy 0: Enemy1
[00:29:04] [INFO] [ReplayManager]   Enemy 1: Enemy2
[00:29:04] [INFO] [ReplayManager]   Enemy 2: Enemy3
[00:29:04] [INFO] [ReplayManager]   Enemy 3: Enemy4
[00:29:04] [INFO] [ReplayManager]   Enemy 4: Enemy5
[00:29:04] [INFO] [ReplayManager]   Enemy 5: Enemy6
[00:29:04] [INFO] [ReplayManager]   Enemy 6: Enemy7
[00:29:04] [INFO] [ReplayManager]   Enemy 7: Enemy8
[00:29:04] [INFO] [ReplayManager]   Enemy 8: Enemy9
[00:29:04] [INFO] [ReplayManager]   Enemy 9: Enemy10
[00:29:04] [INFO] [BuildingLevel] Replay recording started successfully
[00:29:04] [INFO] [BloodyFeet:Enemy1] Blood detector created and attached to Enemy1
[00:29:04] [INFO] [CinemaEffects] Found player node: Player
[00:29:04] [INFO] [CinemaEffects] Connected to player 'Died' signal (C# naming)
[00:29:04] [INFO] [SoundPropagation] Registered listener: Enemy1 (total: 1)
[00:29:04] [ENEMY] [Enemy1] Registered as sound listener
[00:29:04] [ENEMY] [Enemy1] Spawned at (300, 350), hp: 3, behavior: GUARD
[00:29:04] [INFO] [BloodyFeet:Enemy2] Blood detector created and attached to Enemy2
[00:29:04] [INFO] [SoundPropagation] Registered listener: Enemy2 (total: 2)
[00:29:04] [ENEMY] [Enemy2] Registered as sound listener
[00:29:04] [ENEMY] [Enemy2] Spawned at (400, 550), hp: 3, behavior: GUARD
[00:29:04] [INFO] [BloodyFeet:Enemy3] Blood detector created and attached to Enemy3
[00:29:04] [INFO] [SoundPropagation] Registered listener: Enemy3 (total: 3)
[00:29:04] [ENEMY] [Enemy3] Registered as sound listener
[00:29:04] [ENEMY] [Enemy3] Spawned at (700, 750), hp: 2, behavior: GUARD
[00:29:04] [INFO] [BloodyFeet:Enemy4] Blood detector created and attached to Enemy4
[00:29:04] [INFO] [SoundPropagation] Registered listener: Enemy4 (total: 4)
[00:29:04] [ENEMY] [Enemy4] Registered as sound listener
[00:29:04] [ENEMY] [Enemy4] Spawned at (800, 900), hp: 3, behavior: GUARD
[00:29:04] [INFO] [BloodyFeet:Enemy5] Blood detector created and attached to Enemy5
[00:29:04] [INFO] [SoundPropagation] Registered listener: Enemy5 (total: 5)
[00:29:04] [ENEMY] [Enemy5] Registered as sound listener
[00:29:04] [ENEMY] [Enemy5] Spawned at (1700, 350), hp: 4, behavior: GUARD
[00:29:04] [INFO] [BloodyFeet:Enemy6] Blood detector created and attached to Enemy6
[00:29:04] [INFO] [SoundPropagation] Registered listener: Enemy6 (total: 6)
[00:29:04] [ENEMY] [Enemy6] Registered as sound listener
[00:29:04] [ENEMY] [Enemy6] Spawned at (1950, 450), hp: 4, behavior: GUARD
[00:29:04] [INFO] [BloodyFeet:Enemy7] Blood detector created and attached to Enemy7
[00:29:04] [INFO] [SoundPropagation] Registered listener: Enemy7 (total: 7)
[00:29:04] [ENEMY] [Enemy7] Registered as sound listener
[00:29:04] [ENEMY] [Enemy7] Spawned at (1600, 900), hp: 2, behavior: PATROL
[00:29:04] [INFO] [BloodyFeet:Enemy8] Blood detector created and attached to Enemy8
[00:29:04] [INFO] [SoundPropagation] Registered listener: Enemy8 (total: 8)
[00:29:04] [ENEMY] [Enemy8] Registered as sound listener
[00:29:04] [ENEMY] [Enemy8] Spawned at (1900, 1450), hp: 4, behavior: GUARD
[00:29:04] [INFO] [BloodyFeet:Enemy9] Blood detector created and attached to Enemy9
[00:29:04] [INFO] [SoundPropagation] Registered listener: Enemy9 (total: 9)
[00:29:04] [ENEMY] [Enemy9] Registered as sound listener
[00:29:04] [ENEMY] [Enemy9] Spawned at (2100, 1550), hp: 2, behavior: GUARD
[00:29:04] [INFO] [BloodyFeet:Enemy10] Blood detector created and attached to Enemy10
[00:29:04] [INFO] [SoundPropagation] Registered listener: Enemy10 (total: 10)
[00:29:04] [ENEMY] [Enemy10] Registered as sound listener
[00:29:04] [ENEMY] [Enemy10] Spawned at (1200, 1550), hp: 4, behavior: PATROL
[00:29:04] [INFO] [BloodyFeet:Player] Blood detector created and attached to Player
[00:29:04] [INFO] [ReplayManager] Recording frame 0 (0,0s): player_valid=True, enemies=10
[00:29:04] [ENEMY] [Enemy1] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[00:29:04] [ENEMY] [Enemy2] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=202.5°, current=0.0°, player=(450,1250), corner_timer=0.00
[00:29:04] [ENEMY] [Enemy3] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=191.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[00:29:04] [ENEMY] [Enemy4] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=168.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[00:29:04] [ENEMY] [Enemy5] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=180.0°, current=0.0°, player=(450,1250), corner_timer=0.00
[00:29:04] [ENEMY] [Enemy6] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=101.3°, current=0.0°, player=(450,1250), corner_timer=0.00
[00:29:04] [ENEMY] [Enemy8] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=303.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[00:29:04] [ENEMY] [Enemy9] ROT_CHANGE: none -> P5:idle_scan, state=IDLE, target=258.8°, current=0.0°, player=(450,1250), corner_timer=0.00
[00:29:04] [INFO] [Player] Detecting weapon pose (frame 3)...
[00:29:04] [INFO] [Player] Detected weapon: Shotgun (Shotgun pose)
[00:29:04] [INFO] [Player] Applied Shotgun arm pose: Left=(21, 6), Right=(-1, 6)
[00:29:04] [INFO] [PenultimateHit] Found player: Player (class: CharacterBody2D)
[00:29:04] [INFO] [PenultimateHit] Connected to player Damaged signal (C#)
[00:29:04] [INFO] [PenultimateHit] Connected to player Died signal (C#)
[00:29:04] [INFO] [LastChance] Found player: Player
[00:29:04] [INFO] [LastChance] Connected to ThreatSphere threat_detected signal
[00:29:04] [INFO] [LastChance] Connected to player Damaged signal (C#)
[00:29:04] [INFO] [LastChance] Connected to player Died signal (C#)
[00:29:04] [INFO] [CinemaEffects] Cinema effect now enabled (after 1 frames delay)
[00:29:05] [INFO] [ReplayManager] Recording frame 60 (1,0s): player_valid=True, enemies=10
[00:29:05] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[00:29:05] [ENEMY] [Enemy10] PATROL corner check: angle -0.0°
[00:29:05] [ENEMY] [Enemy7] ROT_CHANGE: none -> P3:corner, state=IDLE, target=94.3°, current=4.3°, player=(450,1250), corner_timer=0.30
[00:29:05] [ENEMY] [Enemy10] ROT_CHANGE: none -> P3:corner, state=IDLE, target=-0.0°, current=90.0°, player=(450,1250), corner_timer=0.30
[00:29:05] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=4.3°, current=58.7°, player=(450,1250), corner_timer=-0.02
[00:29:05] [ENEMY] [Enemy7] PATROL corner check: angle 94.3°
[00:29:05] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=50.4°, player=(450,1250), corner_timer=-0.02
[00:29:05] [ENEMY] [Enemy10] PATROL corner check: angle 14.3°
[00:29:05] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=94.3°, current=55.9°, player=(450,1250), corner_timer=0.30
[00:29:05] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=14.3°, current=52.7°, player=(450,1250), corner_timer=0.30
[00:29:06] [INFO] [ReplayManager] Recording frame 120 (2,0s): player_valid=True, enemies=10
[00:29:06] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=14.0°, player=(450,1250), corner_timer=-0.02
[00:29:06] [ENEMY] [Enemy10] PATROL corner check: angle 7.0°
[00:29:06] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=7.0°, current=16.7°, player=(450,1250), corner_timer=0.30
[00:29:06] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=6.9°, player=(450,1250), corner_timer=-0.02
[00:29:06] [ENEMY] [Enemy10] PATROL corner check: angle 3.5°
[00:29:06] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=3.5°, current=9.6°, player=(450,1250), corner_timer=0.30
[00:29:06] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=3.5°, player=(450,1250), corner_timer=-0.02
[00:29:06] [ENEMY] [Enemy10] PATROL corner check: angle 1.8°
[00:29:06] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=1.8°, current=6.3°, player=(450,1250), corner_timer=0.30
[00:29:07] [INFO] [ReplayManager] Recording frame 180 (3,0s): player_valid=True, enemies=10
[00:29:07] [ENEMY] [Enemy10] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=1.8°, player=(450,1250), corner_timer=-0.02
[00:29:07] [ENEMY] [Enemy10] PATROL corner check: angle 0.9°
[00:29:07] [ENEMY] [Enemy10] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=0.9°, current=4.6°, player=(450,1250), corner_timer=0.30
[00:29:07] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[00:29:07] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=180.0°, current=-130.1°, player=(450,1250), corner_timer=-0.02
[00:29:07] [ENEMY] [Enemy7] PATROL corner check: angle 90.0°
[00:29:07] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=90.0°, current=-133.0°, player=(450,1250), corner_timer=0.30
[00:29:07] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[00:29:08] [INFO] [ReplayManager] Recording frame 240 (4,0s): player_valid=True, enemies=10
[00:29:08] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=179.1°, current=172.4°, player=(450,1250), corner_timer=-0.02
[00:29:08] [ENEMY] [Enemy7] PATROL corner check: angle 89.8°
[00:29:08] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.8°, current=175.3°, player=(450,1250), corner_timer=0.30
[00:29:08] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[00:29:08] [ENEMY] [Enemy7] ROT_CHANGE: P3:corner -> P4:velocity, state=IDLE, target=178.4°, current=120.7°, player=(450,1250), corner_timer=-0.02
[00:29:08] [ENEMY] [Enemy7] PATROL corner check: angle 89.7°
[00:29:08] [ENEMY] [Enemy7] ROT_CHANGE: P4:velocity -> P3:corner, state=IDLE, target=89.7°, current=123.6°, player=(450,1250), corner_timer=0.30
[00:29:08] [ENEMY] [Enemy10] PATROL corner check: angle 0.6°
[00:29:08] [INFO] ------------------------------------------------------------
[00:29:08] [INFO] GAME LOG ENDED: 2026-02-07T00:29:08
[00:29:08] [INFO] ============================================================
